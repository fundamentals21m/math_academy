function SC(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function EC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var F8={exports:{}},Om={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AC=Symbol.for("react.transitional.element"),xC=Symbol.for("react.fragment");function H8(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:AC,type:t,key:r,ref:e!==void 0?e:null,props:n}}Om.Fragment=xC;Om.jsx=H8;Om.jsxs=H8;F8.exports=Om;var O=F8.exports,$8={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev=Symbol.for("react.transitional.element"),RC=Symbol.for("react.portal"),CC=Symbol.for("react.fragment"),kC=Symbol.for("react.strict_mode"),IC=Symbol.for("react.profiler"),NC=Symbol.for("react.consumer"),MC=Symbol.for("react.context"),DC=Symbol.for("react.forward_ref"),OC=Symbol.for("react.suspense"),PC=Symbol.for("react.memo"),q8=Symbol.for("react.lazy"),zC=Symbol.for("react.activity"),Q5=Symbol.iterator;function LC(t){return t===null||typeof t!="object"?null:(t=Q5&&t[Q5]||t["@@iterator"],typeof t=="function"?t:null)}var G8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K8=Object.assign,Y8={};function ec(t,e,n){this.props=t,this.context=e,this.refs=Y8,this.updater=n||G8}ec.prototype.isReactComponent={};ec.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ec.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function X8(){}X8.prototype=ec.prototype;function tv(t,e,n){this.props=t,this.context=e,this.refs=Y8,this.updater=n||G8}var nv=tv.prototype=new X8;nv.constructor=tv;K8(nv,ec.prototype);nv.isPureReactComponent=!0;var W5=Array.isArray;function Bg(){}var _t={H:null,A:null,T:null,S:null},Z8=Object.prototype.hasOwnProperty;function rv(t,e,n){var r=n.ref;return{$$typeof:ev,type:t,key:e,ref:r!==void 0?r:null,props:n}}function VC(t,e){return rv(t.type,e,t.props)}function iv(t){return typeof t=="object"&&t!==null&&t.$$typeof===ev}function UC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var J5=/\/+/g;function Yp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UC(""+t.key):e.toString(36)}function BC(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Bg,Bg):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Bl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ev:case RC:a=!0;break;case q8:return a=t._init,Bl(a(t._payload),e,n,r,i)}}if(a)return i=i(t),a=r===""?"."+Yp(t,0):r,W5(i)?(n="",a!=null&&(n=a.replace(J5,"$&/")+"/"),Bl(i,e,n,"",function(c){return c})):i!=null&&(iv(i)&&(i=VC(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(J5,"$&/")+"/")+a)),e.push(i)),1;a=0;var o=r===""?".":r+":";if(W5(t))for(var u=0;u<t.length;u++)r=t[u],s=o+Yp(r,u),a+=Bl(r,e,n,s,i);else if(u=LC(t),typeof u=="function")for(t=u.call(t),u=0;!(r=t.next()).done;)r=r.value,s=o+Yp(r,u++),a+=Bl(r,e,n,s,i);else if(s==="object"){if(typeof t.then=="function")return Bl(BC(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function of(t,e,n){if(t==null)return t;var r=[],i=0;return Bl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function jC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var e6=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},FC={map:of,forEach:function(t,e,n){of(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return of(t,function(){e++}),e},toArray:function(t){return of(t,function(e){return e})||[]},only:function(t){if(!iv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Activity=zC;Oe.Children=FC;Oe.Component=ec;Oe.Fragment=CC;Oe.Profiler=IC;Oe.PureComponent=tv;Oe.StrictMode=kC;Oe.Suspense=OC;Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t;Oe.__COMPILER_RUNTIME={__proto__:null,c:function(t){return _t.H.useMemoCache(t)}};Oe.cache=function(t){return function(){return t.apply(null,arguments)}};Oe.cacheSignal=function(){return null};Oe.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=K8({},t.props),i=t.key;if(e!=null)for(s in e.key!==void 0&&(i=""+e.key),e)!Z8.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(r[s]=e[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return rv(t.type,i,r)};Oe.createContext=function(t){return t={$$typeof:MC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:NC,_context:t},t};Oe.createElement=function(t,e,n){var r,i={},s=null;if(e!=null)for(r in e.key!==void 0&&(s=""+e.key),e)Z8.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),u=0;u<a;u++)o[u]=arguments[u+2];i.children=o}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return rv(t,s,i)};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:DC,render:t}};Oe.isValidElement=iv;Oe.lazy=function(t){return{$$typeof:q8,_payload:{_status:-1,_result:t},_init:jC}};Oe.memo=function(t,e){return{$$typeof:PC,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=_t.T,n={};_t.T=n;try{var r=t(),i=_t.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(Bg,e6)}catch(s){e6(s)}finally{e!==null&&n.types!==null&&(e.types=n.types),_t.T=e}};Oe.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()};Oe.use=function(t){return _t.H.use(t)};Oe.useActionState=function(t,e,n){return _t.H.useActionState(t,e,n)};Oe.useCallback=function(t,e){return _t.H.useCallback(t,e)};Oe.useContext=function(t){return _t.H.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t,e){return _t.H.useDeferredValue(t,e)};Oe.useEffect=function(t,e){return _t.H.useEffect(t,e)};Oe.useEffectEvent=function(t){return _t.H.useEffectEvent(t)};Oe.useId=function(){return _t.H.useId()};Oe.useImperativeHandle=function(t,e,n){return _t.H.useImperativeHandle(t,e,n)};Oe.useInsertionEffect=function(t,e){return _t.H.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return _t.H.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return _t.H.useMemo(t,e)};Oe.useOptimistic=function(t,e){return _t.H.useOptimistic(t,e)};Oe.useReducer=function(t,e,n){return _t.H.useReducer(t,e,n)};Oe.useRef=function(t){return _t.H.useRef(t)};Oe.useState=function(t){return _t.H.useState(t)};Oe.useSyncExternalStore=function(t,e,n){return _t.H.useSyncExternalStore(t,e,n)};Oe.useTransition=function(){return _t.H.useTransition()};Oe.version="19.2.3";$8.exports=Oe;var q=$8.exports;const HC=EC(q),$C=SC({__proto__:null,default:HC},[q]);var Q8={exports:{}},Pm={},W8={exports:{}},J8={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(te,re){var se=te.length;te.push(re);e:for(;0<se;){var xe=se-1>>>1,Re=te[xe];if(0<i(Re,re))te[xe]=re,te[se]=Re,se=xe;else break e}}function n(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var re=te[0],se=te.pop();if(se!==re){te[0]=se;e:for(var xe=0,Re=te.length,je=Re>>>1;xe<je;){var Ne=2*(xe+1)-1,he=te[Ne],dn=Ne+1,Ce=te[dn];if(0>i(he,se))dn<Re&&0>i(Ce,he)?(te[xe]=Ce,te[dn]=se,xe=dn):(te[xe]=he,te[Ne]=se,xe=Ne);else if(dn<Re&&0>i(Ce,se))te[xe]=Ce,te[dn]=se,xe=dn;else break e}}return re}function i(te,re){var se=te.sortIndex-re.sortIndex;return se!==0?se:te.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var u=[],c=[],d=1,p=null,g=3,v=!1,x=!1,N=!1,P=!1,C=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function V(te){for(var re=n(c);re!==null;){if(re.callback===null)r(c);else if(re.startTime<=te)r(c),re.sortIndex=re.expirationTime,e(u,re);else break;re=n(c)}}function j(te){if(N=!1,V(te),!x)if(n(u)!==null)x=!0,G||(G=!0,D());else{var re=n(c);re!==null&&Ie(j,re.startTime-te)}}var G=!1,S=-1,b=5,_=-1;function A(){return P?!0:!(t.unstable_now()-_<b)}function R(){if(P=!1,G){var te=t.unstable_now();_=te;var re=!0;try{e:{x=!1,N&&(N=!1,I(S),S=-1),v=!0;var se=g;try{t:{for(V(te),p=n(u);p!==null&&!(p.expirationTime>te&&A());){var xe=p.callback;if(typeof xe=="function"){p.callback=null,g=p.priorityLevel;var Re=xe(p.expirationTime<=te);if(te=t.unstable_now(),typeof Re=="function"){p.callback=Re,V(te),re=!0;break t}p===n(u)&&r(u),V(te)}else r(u);p=n(u)}if(p!==null)re=!0;else{var je=n(c);je!==null&&Ie(j,je.startTime-te),re=!1}}break e}finally{p=null,g=se,v=!1}re=void 0}}finally{re?D():G=!1}}}var D;if(typeof M=="function")D=function(){M(R)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ue=w.port2;w.port1.onmessage=R,D=function(){ue.postMessage(null)}}else D=function(){C(R,0)};function Ie(te,re){S=C(function(){te(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(te){switch(g){case 1:case 2:case 3:var re=3;break;default:re=g}var se=g;g=re;try{return te()}finally{g=se}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(te,re){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var se=g;g=te;try{return re()}finally{g=se}},t.unstable_scheduleCallback=function(te,re,se){var xe=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?xe+se:xe):se=xe,te){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=se+Re,te={id:d++,callback:re,priorityLevel:te,startTime:se,expirationTime:Re,sortIndex:-1},se>xe?(te.sortIndex=se,e(c,te),n(u)===null&&te===n(c)&&(N?(I(S),S=-1):N=!0,Ie(j,se-xe))):(te.sortIndex=Re,e(u,te),x||v||(x=!0,G||(G=!0,D()))),te},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(te){var re=g;return function(){var se=g;g=re;try{return te.apply(this,arguments)}finally{g=se}}}})(J8);W8.exports=J8;var qC=W8.exports,e_={exports:{}},dr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GC=q;function t_(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function xa(){}var or={d:{f:xa,r:function(){throw Error(t_(522))},D:xa,C:xa,L:xa,m:xa,X:xa,S:xa,M:xa},p:0,findDOMNode:null},KC=Symbol.for("react.portal");function YC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:KC,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var E0=GC.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function zm(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}dr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=or;dr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(t_(299));return YC(t,e,null,n)};dr.flushSync=function(t){var e=E0.T,n=or.p;try{if(E0.T=null,or.p=2,t)return t()}finally{E0.T=e,or.p=n,or.d.f()}};dr.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,or.d.C(t,e))};dr.prefetchDNS=function(t){typeof t=="string"&&or.d.D(t)};dr.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=zm(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?or.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):n==="script"&&or.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};dr.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=zm(e.as,e.crossOrigin);or.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&or.d.M(t)};dr.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=zm(n,e.crossOrigin);or.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};dr.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=zm(e.as,e.crossOrigin);or.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else or.d.m(t)};dr.requestFormReset=function(t){or.d.r(t)};dr.unstable_batchedUpdates=function(t,e){return t(e)};dr.useFormState=function(t,e,n){return E0.H.useFormState(t,e,n)};dr.useFormStatus=function(){return E0.H.useHostTransitionStatus()};dr.version="19.2.3";function n_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n_)}catch(t){console.error(t)}}n_(),e_.exports=dr;var XC=e_.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hn=qC,r_=q,ZC=XC;function Y(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function s_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function a_(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function t6(t){if(Nh(t)!==t)throw Error(Y(188))}function QC(t){var e=t.alternate;if(!e){if(e=Nh(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return t6(i),t;if(s===r)return t6(i),e;s=s.sibling}throw Error(Y(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function o_(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=o_(t),e!==null)return e;t=t.sibling}return null}var Tt=Object.assign,WC=Symbol.for("react.element"),lf=Symbol.for("react.transitional.element"),f0=Symbol.for("react.portal"),Gl=Symbol.for("react.fragment"),l_=Symbol.for("react.strict_mode"),jg=Symbol.for("react.profiler"),u_=Symbol.for("react.consumer"),Fs=Symbol.for("react.context"),sv=Symbol.for("react.forward_ref"),Fg=Symbol.for("react.suspense"),Hg=Symbol.for("react.suspense_list"),av=Symbol.for("react.memo"),Ma=Symbol.for("react.lazy"),$g=Symbol.for("react.activity"),JC=Symbol.for("react.memo_cache_sentinel"),n6=Symbol.iterator;function Zc(t){return t===null||typeof t!="object"?null:(t=n6&&t[n6]||t["@@iterator"],typeof t=="function"?t:null)}var ek=Symbol.for("react.client.reference");function qg(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ek?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Gl:return"Fragment";case jg:return"Profiler";case l_:return"StrictMode";case Fg:return"Suspense";case Hg:return"SuspenseList";case $g:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case f0:return"Portal";case Fs:return t.displayName||"Context";case u_:return(t._context.displayName||"Context")+".Consumer";case sv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case av:return e=t.displayName||null,e!==null?e:qg(t.type)||"Memo";case Ma:e=t._payload,t=t._init;try{return qg(t(e))}catch{}}return null}var d0=Array.isArray,Ee=r_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=ZC.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,il={pending:!1,data:null,method:null,action:null},Gg=[],Kl=-1;function ps(t){return{current:t}}function Tn(t){0>Kl||(t.current=Gg[Kl],Gg[Kl]=null,Kl--)}function gt(t,e){Kl++,Gg[Kl]=t.current,t.current=e}var ss=ps(null),Z0=ps(null),Za=ps(null),Ed=ps(null);function Ad(t,e){switch(gt(Za,e),gt(Z0,t),gt(ss,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?l3(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=l3(e),t=kw(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Tn(ss),gt(ss,t)}function Iu(){Tn(ss),Tn(Z0),Tn(Za)}function Kg(t){t.memoizedState!==null&&gt(Ed,t);var e=ss.current,n=kw(e,t.type);e!==n&&(gt(Z0,t),gt(ss,n))}function xd(t){Z0.current===t&&(Tn(ss),Tn(Z0)),Ed.current===t&&(Tn(Ed),oh._currentValue=il)}var Xp,r6;function Yo(t){if(Xp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xp=e&&e[1]||"",r6=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xp+t+r6}var Zp=!1;function Qp(t,e){if(!t||Zp)return"";Zp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var p=function(){throw Error()};if(Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(v){var g=v}Reflect.construct(t,[],p)}else{try{p.call()}catch(v){g=v}t.call(p.prototype)}}else{try{throw Error()}catch(v){g=v}(p=t())&&typeof p.catch=="function"&&p.catch(function(){})}}catch(v){if(v&&g&&typeof v.stack=="string")return[v.stack,g.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var u=a.split(`
`),c=o.split(`
`);for(i=r=0;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===u.length||i===c.length)for(r=u.length-1,i=c.length-1;1<=r&&0<=i&&u[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(u[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||u[r]!==c[i]){var d=`
`+u[r].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=r&&0<=i);break}}}finally{Zp=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Yo(n):""}function tk(t,e){switch(t.tag){case 26:case 27:case 5:return Yo(t.type);case 16:return Yo("Lazy");case 13:return t.child!==e&&e!==null?Yo("Suspense Fallback"):Yo("Suspense");case 19:return Yo("SuspenseList");case 0:case 15:return Qp(t.type,!1);case 11:return Qp(t.type.render,!1);case 1:return Qp(t.type,!0);case 31:return Yo("Activity");default:return""}}function i6(t){try{var e="",n=null;do e+=tk(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Yg=Object.prototype.hasOwnProperty,ov=hn.unstable_scheduleCallback,Wp=hn.unstable_cancelCallback,nk=hn.unstable_shouldYield,rk=hn.unstable_requestPaint,Hr=hn.unstable_now,ik=hn.unstable_getCurrentPriorityLevel,c_=hn.unstable_ImmediatePriority,h_=hn.unstable_UserBlockingPriority,Rd=hn.unstable_NormalPriority,sk=hn.unstable_LowPriority,f_=hn.unstable_IdlePriority,ak=hn.log,ok=hn.unstable_setDisableYieldValue,Mh=null,$r=null;function Ha(t){if(typeof ak=="function"&&ok(t),$r&&typeof $r.setStrictMode=="function")try{$r.setStrictMode(Mh,t)}catch{}}var qr=Math.clz32?Math.clz32:ck,lk=Math.log,uk=Math.LN2;function ck(t){return t>>>=0,t===0?32:31-(lk(t)/uk|0)|0}var uf=256,cf=262144,hf=4194304;function Xo(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Lm(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,s=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~s,r!==0?i=Xo(r):(a&=o,a!==0?i=Xo(a):n||(n=o&~t,n!==0&&(i=Xo(n))))):(o=r&~s,o!==0?i=Xo(o):a!==0?i=Xo(a):n||(n=r&~t,n!==0&&(i=Xo(n)))),i===0?0:e!==0&&e!==i&&!(e&s)&&(s=i&-i,n=e&-e,s>=n||s===32&&(n&4194048)!==0)?e:i}function Dh(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function hk(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function d_(){var t=hf;return hf<<=1,!(hf&62914560)&&(hf=4194304),t}function Jp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Oh(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function fk(t,e,n,r,i,s){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,u=t.expirationTimes,c=t.hiddenUpdates;for(n=a&~n;0<n;){var d=31-qr(n),p=1<<d;o[d]=0,u[d]=-1;var g=c[d];if(g!==null)for(c[d]=null,d=0;d<g.length;d++){var v=g[d];v!==null&&(v.lane&=-536870913)}n&=~p}r!==0&&m_(t,r,0),s!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=s&~(a&~e))}function m_(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-qr(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function p_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function g_(t,e){var n=e&-e;return n=n&42?1:lv(n),n&(t.suspendedLanes|e)?0:n}function lv(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function uv(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function y_(){var t=it.p;return t!==0?t:(t=window.event,t===void 0?32:Bw(t.type))}function s6(t,e){var n=it.p;try{return it.p=t,e()}finally{it.p=n}}var Ao=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Ao,Nr="__reactProps$"+Ao,tc="__reactContainer$"+Ao,Xg="__reactEvents$"+Ao,dk="__reactListeners$"+Ao,mk="__reactHandles$"+Ao,a6="__reactResources$"+Ao,Ph="__reactMarker$"+Ao;function cv(t){delete t[Nn],delete t[Nr],delete t[Xg],delete t[dk],delete t[mk]}function Yl(t){var e=t[Nn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[tc]||n[Nn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=d3(t);t!==null;){if(n=t[Nn])return n;t=d3(t)}return e}t=n,n=t.parentNode}return null}function nc(t){if(t=t[Nn]||t[tc]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function m0(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(Y(33))}function fu(t){var e=t[a6];return e||(e=t[a6]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function _n(t){t[Ph]=!0}var v_=new Set,b_={};function xl(t,e){Nu(t,e),Nu(t+"Capture",e)}function Nu(t,e){for(b_[t]=e,t=0;t<e.length;t++)v_.add(e[t])}var pk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),o6={},l6={};function gk(t){return Yg.call(l6,t)?!0:Yg.call(o6,t)?!1:pk.test(t)?l6[t]=!0:(o6[t]=!0,!1)}function Xf(t,e,n){if(gk(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function ff(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Ds(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function si(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function __(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yk(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zg(t){if(!t._valueTracker){var e=__(t)?"checked":"value";t._valueTracker=yk(t,e,""+t[e])}}function T_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=__(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Cd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vk=/[\n"\\]/g;function li(t){return t.replace(vk,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Qg(t,e,n,r,i,s,a,o){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+si(e)):t.value!==""+si(e)&&(t.value=""+si(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?Wg(t,a,si(e)):n!=null?Wg(t,a,si(n)):r!=null&&t.removeAttribute("value"),i==null&&s!=null&&(t.defaultChecked=!!s),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+si(o):t.removeAttribute("name")}function w_(t,e,n,r,i,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.type=s),e!=null||n!=null){if(!(s!=="submit"&&s!=="reset"||e!=null)){Zg(t);return}n=n!=null?""+si(n):"",e=e!=null?""+si(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),Zg(t)}function Wg(t,e,n){e==="number"&&Cd(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function du(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+si(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function S_(t,e,n){if(e!=null&&(e=""+si(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+si(n):""}function E_(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(Y(92));if(d0(r)){if(1<r.length)throw Error(Y(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=si(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),Zg(t)}function Mu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function u6(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||bk.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function A_(t,e,n){if(e!=null&&typeof e!="object")throw Error(Y(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&u6(t,i,r)}else for(var s in e)e.hasOwnProperty(s)&&u6(t,s,e[s])}function hv(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _k=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tk=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zf(t){return Tk.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Hs(){}var Jg=null;function fv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xl=null,mu=null;function c6(t){var e=nc(t);if(e&&(t=e.stateNode)){var n=t[Nr]||null;e:switch(t=e.stateNode,e.type){case"input":if(Qg(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+li(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[Nr]||null;if(!i)throw Error(Y(90));Qg(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&T_(r)}break e;case"textarea":S_(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&du(t,!!n.multiple,e,!1)}}}var e1=!1;function x_(t,e,n){if(e1)return t(e,n);e1=!0;try{var r=t(e);return r}finally{if(e1=!1,(Xl!==null||mu!==null)&&(Xm(),Xl&&(e=Xl,t=mu,mu=Xl=null,c6(e),t)))for(e=0;e<t.length;e++)c6(t[e])}}function Q0(t,e){var n=t.stateNode;if(n===null)return null;var r=n[Nr]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),e4=!1;if(na)try{var Qc={};Object.defineProperty(Qc,"passive",{get:function(){e4=!0}}),window.addEventListener("test",Qc,Qc),window.removeEventListener("test",Qc,Qc)}catch{e4=!1}var $a=null,dv=null,Qf=null;function R_(){if(Qf)return Qf;var t,e=dv,n=e.length,r,i="value"in $a?$a.value:$a.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Qf=i.slice(t,1<r?1-r:void 0)}function Wf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function df(){return!0}function h6(){return!1}function Mr(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?df:h6,this.isPropagationStopped=h6,this}return Tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=df)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=df)},persist:function(){},isPersistent:df}),e}var Rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vm=Mr(Rl),zh=Tt({},Rl,{view:0,detail:0}),wk=Mr(zh),t1,n1,Wc,Um=Tt({},zh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wc&&(Wc&&t.type==="mousemove"?(t1=t.screenX-Wc.screenX,n1=t.screenY-Wc.screenY):n1=t1=0,Wc=t),t1)},movementY:function(t){return"movementY"in t?t.movementY:n1}}),f6=Mr(Um),Sk=Tt({},Um,{dataTransfer:0}),Ek=Mr(Sk),Ak=Tt({},zh,{relatedTarget:0}),r1=Mr(Ak),xk=Tt({},Rl,{animationName:0,elapsedTime:0,pseudoElement:0}),Rk=Mr(xk),Ck=Tt({},Rl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),kk=Mr(Ck),Ik=Tt({},Rl,{data:0}),d6=Mr(Ik),Nk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ok(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dk[t])?!!e[t]:!1}function mv(){return Ok}var Pk=Tt({},zh,{key:function(t){if(t.key){var e=Nk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Mk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mv,charCode:function(t){return t.type==="keypress"?Wf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zk=Mr(Pk),Lk=Tt({},Um,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),m6=Mr(Lk),Vk=Tt({},zh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mv}),Uk=Mr(Vk),Bk=Tt({},Rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),jk=Mr(Bk),Fk=Tt({},Um,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hk=Mr(Fk),$k=Tt({},Rl,{newState:0,oldState:0}),qk=Mr($k),Gk=[9,13,27,32],pv=na&&"CompositionEvent"in window,A0=null;na&&"documentMode"in document&&(A0=document.documentMode);var Kk=na&&"TextEvent"in window&&!A0,C_=na&&(!pv||A0&&8<A0&&11>=A0),p6=" ",g6=!1;function k_(t,e){switch(t){case"keyup":return Gk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zl=!1;function Yk(t,e){switch(t){case"compositionend":return I_(e);case"keypress":return e.which!==32?null:(g6=!0,p6);case"textInput":return t=e.data,t===p6&&g6?null:t;default:return null}}function Xk(t,e){if(Zl)return t==="compositionend"||!pv&&k_(t,e)?(t=R_(),Qf=dv=$a=null,Zl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return C_&&e.locale!=="ko"?null:e.data;default:return null}}var Zk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y6(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Zk[t.type]:e==="textarea"}function N_(t,e,n,r){Xl?mu?mu.push(r):mu=[r]:Xl=r,e=Gd(e,"onChange"),0<e.length&&(n=new Vm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var x0=null,W0=null;function Qk(t){xw(t,0)}function Bm(t){var e=m0(t);if(T_(e))return t}function v6(t,e){if(t==="change")return e}var M_=!1;if(na){var i1;if(na){var s1="oninput"in document;if(!s1){var b6=document.createElement("div");b6.setAttribute("oninput","return;"),s1=typeof b6.oninput=="function"}i1=s1}else i1=!1;M_=i1&&(!document.documentMode||9<document.documentMode)}function _6(){x0&&(x0.detachEvent("onpropertychange",D_),W0=x0=null)}function D_(t){if(t.propertyName==="value"&&Bm(W0)){var e=[];N_(e,W0,t,fv(t)),x_(Qk,e)}}function Wk(t,e,n){t==="focusin"?(_6(),x0=e,W0=n,x0.attachEvent("onpropertychange",D_)):t==="focusout"&&_6()}function Jk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bm(W0)}function eI(t,e){if(t==="click")return Bm(e)}function tI(t,e){if(t==="input"||t==="change")return Bm(e)}function nI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kr=typeof Object.is=="function"?Object.is:nI;function J0(t,e){if(Kr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yg.call(e,i)||!Kr(t[i],e[i]))return!1}return!0}function T6(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function w6(t,e){var n=T6(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=T6(n)}}function O_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?O_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function P_(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Cd(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cd(t.document)}return e}function gv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var rI=na&&"documentMode"in document&&11>=document.documentMode,Ql=null,t4=null,R0=null,n4=!1;function S6(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;n4||Ql==null||Ql!==Cd(r)||(r=Ql,"selectionStart"in r&&gv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),R0&&J0(R0,r)||(R0=r,r=Gd(t4,"onSelect"),0<r.length&&(e=new Vm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ql)))}function Ho(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Wl={animationend:Ho("Animation","AnimationEnd"),animationiteration:Ho("Animation","AnimationIteration"),animationstart:Ho("Animation","AnimationStart"),transitionrun:Ho("Transition","TransitionRun"),transitionstart:Ho("Transition","TransitionStart"),transitioncancel:Ho("Transition","TransitionCancel"),transitionend:Ho("Transition","TransitionEnd")},a1={},z_={};na&&(z_=document.createElement("div").style,"AnimationEvent"in window||(delete Wl.animationend.animation,delete Wl.animationiteration.animation,delete Wl.animationstart.animation),"TransitionEvent"in window||delete Wl.transitionend.transition);function Cl(t){if(a1[t])return a1[t];if(!Wl[t])return t;var e=Wl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in z_)return a1[t]=e[n];return t}var L_=Cl("animationend"),V_=Cl("animationiteration"),U_=Cl("animationstart"),iI=Cl("transitionrun"),sI=Cl("transitionstart"),aI=Cl("transitioncancel"),B_=Cl("transitionend"),j_=new Map,r4="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");r4.push("scrollEnd");function Gi(t,e){j_.set(t,e),xl(e,[t])}var kd=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ii=[],Jl=0,yv=0;function jm(){for(var t=Jl,e=yv=Jl=0;e<t;){var n=ii[e];ii[e++]=null;var r=ii[e];ii[e++]=null;var i=ii[e];ii[e++]=null;var s=ii[e];if(ii[e++]=null,r!==null&&i!==null){var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}s!==0&&F_(n,i,s)}}function Fm(t,e,n,r){ii[Jl++]=t,ii[Jl++]=e,ii[Jl++]=n,ii[Jl++]=r,yv|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function vv(t,e,n,r){return Fm(t,e,n,r),Id(t)}function kl(t,e){return Fm(t,null,null,e),Id(t)}function F_(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,s=t.return;s!==null;)s.childLanes|=n,r=s.alternate,r!==null&&(r.childLanes|=n),s.tag===22&&(t=s.stateNode,t===null||t._visibility&1||(i=!0)),t=s,s=s.return;return t.tag===3?(s=t.stateNode,i&&e!==null&&(i=31-qr(n),t=s.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),s):null}function Id(t){if(50<z0)throw z0=0,E4=null,Error(Y(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var eu={};function oI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(t,e,n,r){return new oI(t,e,n,r)}function bv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Zs(t,e){var n=t.alternate;return n===null?(n=jr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function H_(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Jf(t,e,n,r,i,s){var a=0;if(r=t,typeof t=="function")bv(t)&&(a=1);else if(typeof t=="string")a=fN(t,n,ss.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case $g:return t=jr(31,n,e,i),t.elementType=$g,t.lanes=s,t;case Gl:return sl(n.children,i,s,e);case l_:a=8,i|=24;break;case jg:return t=jr(12,n,e,i|2),t.elementType=jg,t.lanes=s,t;case Fg:return t=jr(13,n,e,i),t.elementType=Fg,t.lanes=s,t;case Hg:return t=jr(19,n,e,i),t.elementType=Hg,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Fs:a=10;break e;case u_:a=9;break e;case sv:a=11;break e;case av:a=14;break e;case Ma:a=16,r=null;break e}a=29,n=Error(Y(130,t===null?"null":typeof t,"")),r=null}return e=jr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function sl(t,e,n,r){return t=jr(7,t,r,e),t.lanes=n,t}function o1(t,e,n){return t=jr(6,t,null,e),t.lanes=n,t}function $_(t){var e=jr(18,null,null,0);return e.stateNode=t,e}function l1(t,e,n){return e=jr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var E6=new WeakMap;function ui(t,e){if(typeof t=="object"&&t!==null){var n=E6.get(t);return n!==void 0?n:(e={value:t,source:e,stack:i6(e)},E6.set(t,e),e)}return{value:t,source:e,stack:i6(e)}}var tu=[],nu=0,Nd=null,eh=0,ai=[],oi=0,uo=null,ts=1,ns="";function Bs(t,e){tu[nu++]=eh,tu[nu++]=Nd,Nd=t,eh=e}function q_(t,e,n){ai[oi++]=ts,ai[oi++]=ns,ai[oi++]=uo,uo=t;var r=ts;t=ns;var i=32-qr(r)-1;r&=~(1<<i),n+=1;var s=32-qr(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ts=1<<32-qr(e)+i|n<<i|r,ns=s+t}else ts=1<<s|n<<i|r,ns=t}function _v(t){t.return!==null&&(Bs(t,1),q_(t,1,0))}function Tv(t){for(;t===Nd;)Nd=tu[--nu],tu[nu]=null,eh=tu[--nu],tu[nu]=null;for(;t===uo;)uo=ai[--oi],ai[oi]=null,ns=ai[--oi],ai[oi]=null,ts=ai[--oi],ai[oi]=null}function G_(t,e){ai[oi++]=ts,ai[oi++]=ns,ai[oi++]=uo,ts=e.id,ns=e.overflow,uo=t}var Mn=null,bt=null,Ke=!1,Qa=null,ci=!1,i4=Error(Y(519));function co(t){var e=Error(Y(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw th(ui(e,t)),i4}function A6(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[Nn]=t,e[Nr]=r,n){case"dialog":He("cancel",e),He("close",e);break;case"iframe":case"object":case"embed":He("load",e);break;case"video":case"audio":for(n=0;n<sh.length;n++)He(sh[n],e);break;case"source":He("error",e);break;case"img":case"image":case"link":He("error",e),He("load",e);break;case"details":He("toggle",e);break;case"input":He("invalid",e),w_(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":He("invalid",e);break;case"textarea":He("invalid",e),E_(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||Cw(e.textContent,n)?(r.popover!=null&&(He("beforetoggle",e),He("toggle",e)),r.onScroll!=null&&He("scroll",e),r.onScrollEnd!=null&&He("scrollend",e),r.onClick!=null&&(e.onclick=Hs),e=!0):e=!1,e||co(t,!0)}function x6(t){for(Mn=t.return;Mn;)switch(Mn.tag){case 5:case 31:case 13:ci=!1;return;case 27:case 3:ci=!0;return;default:Mn=Mn.return}}function Ll(t){if(t!==Mn)return!1;if(!Ke)return x6(t),Ke=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||k4(t.type,t.memoizedProps)),n=!n),n&&bt&&co(t),x6(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));bt=f3(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));bt=f3(t)}else e===27?(e=bt,xo(t.type)?(t=D4,D4=null,bt=t):bt=e):bt=Mn?pi(t.stateNode.nextSibling):null;return!0}function ml(){bt=Mn=null,Ke=!1}function u1(){var t=Qa;return t!==null&&(Er===null?Er=t:Er.push.apply(Er,t),Qa=null),t}function th(t){Qa===null?Qa=[t]:Qa.push(t)}var s4=ps(null),Il=null,$s=null;function Oa(t,e,n){gt(s4,e._currentValue),e._currentValue=n}function Qs(t){t._currentValue=s4.current,Tn(s4)}function a4(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function o4(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){var a=i.child;s=s.firstContext;e:for(;s!==null;){var o=s;s=i;for(var u=0;u<e.length;u++)if(o.context===e[u]){s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),a4(s.return,n,t),r||(a=null);break e}s=o.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(Y(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),a4(a,n,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function rc(t,e,n,r){t=null;for(var i=e,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(Y(387));if(a=a.memoizedProps,a!==null){var o=i.type;Kr(i.pendingProps.value,a.value)||(t!==null?t.push(o):t=[o])}}else if(i===Ed.current){if(a=i.alternate,a===null)throw Error(Y(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(oh):t=[oh])}i=i.return}t!==null&&o4(e,t,n,r),e.flags|=262144}function Md(t){for(t=t.firstContext;t!==null;){if(!Kr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function pl(t){Il=t,$s=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Dn(t){return K_(Il,t)}function mf(t,e){return Il===null&&pl(t),K_(t,e)}function K_(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},$s===null){if(t===null)throw Error(Y(308));$s=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else $s=$s.next=e;return n}var lI=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},uI=hn.unstable_scheduleCallback,cI=hn.unstable_NormalPriority,tn={$$typeof:Fs,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wv(){return{controller:new lI,data:new Map,refCount:0}}function Lh(t){t.refCount--,t.refCount===0&&uI(cI,function(){t.controller.abort()})}var C0=null,l4=0,Du=0,pu=null;function hI(t,e){if(C0===null){var n=C0=[];l4=0,Du=Kv(),pu={status:"pending",value:void 0,then:function(r){n.push(r)}}}return l4++,e.then(R6,R6),e}function R6(){if(--l4===0&&C0!==null){pu!==null&&(pu.status="fulfilled");var t=C0;C0=null,Du=0,pu=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function fI(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var C6=Ee.S;Ee.S=function(t,e){ow=Hr(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&hI(t,e),C6!==null&&C6(t,e)};var al=ps(null);function Sv(){var t=al.current;return t!==null?t:ft.pooledCache}function ed(t,e){e===null?gt(al,al.current):gt(al,e.pool)}function Y_(){var t=Sv();return t===null?null:{parent:tn._currentValue,pool:t}}var ic=Error(Y(460)),Ev=Error(Y(474)),Hm=Error(Y(542)),Dd={then:function(){}};function k6(t){return t=t.status,t==="fulfilled"||t==="rejected"}function X_(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Hs,Hs),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,N6(t),t;default:if(typeof e.status=="string")e.then(Hs,Hs);else{if(t=ft,t!==null&&100<t.shellSuspendCounter)throw Error(Y(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,N6(t),t}throw ol=e,ic}}function Zo(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ol=n,ic):n}}var ol=null;function I6(){if(ol===null)throw Error(Y(459));var t=ol;return ol=null,t}function N6(t){if(t===ic||t===Hm)throw Error(Y(483))}var gu=null,nh=0;function pf(t){var e=nh;return nh+=1,gu===null&&(gu=[]),X_(gu,t,e)}function Jc(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function gf(t,e){throw e.$$typeof===WC?Error(Y(525)):(t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Z_(t){function e(C,I){if(t){var M=C.deletions;M===null?(C.deletions=[I],C.flags|=16):M.push(I)}}function n(C,I){if(!t)return null;for(;I!==null;)e(C,I),I=I.sibling;return null}function r(C){for(var I=new Map;C!==null;)C.key!==null?I.set(C.key,C):I.set(C.index,C),C=C.sibling;return I}function i(C,I){return C=Zs(C,I),C.index=0,C.sibling=null,C}function s(C,I,M){return C.index=M,t?(M=C.alternate,M!==null?(M=M.index,M<I?(C.flags|=67108866,I):M):(C.flags|=67108866,I)):(C.flags|=1048576,I)}function a(C){return t&&C.alternate===null&&(C.flags|=67108866),C}function o(C,I,M,V){return I===null||I.tag!==6?(I=o1(M,C.mode,V),I.return=C,I):(I=i(I,M),I.return=C,I)}function u(C,I,M,V){var j=M.type;return j===Gl?d(C,I,M.props.children,V,M.key):I!==null&&(I.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ma&&Zo(j)===I.type)?(I=i(I,M.props),Jc(I,M),I.return=C,I):(I=Jf(M.type,M.key,M.props,null,C.mode,V),Jc(I,M),I.return=C,I)}function c(C,I,M,V){return I===null||I.tag!==4||I.stateNode.containerInfo!==M.containerInfo||I.stateNode.implementation!==M.implementation?(I=l1(M,C.mode,V),I.return=C,I):(I=i(I,M.children||[]),I.return=C,I)}function d(C,I,M,V,j){return I===null||I.tag!==7?(I=sl(M,C.mode,V,j),I.return=C,I):(I=i(I,M),I.return=C,I)}function p(C,I,M){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=o1(""+I,C.mode,M),I.return=C,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case lf:return M=Jf(I.type,I.key,I.props,null,C.mode,M),Jc(M,I),M.return=C,M;case f0:return I=l1(I,C.mode,M),I.return=C,I;case Ma:return I=Zo(I),p(C,I,M)}if(d0(I)||Zc(I))return I=sl(I,C.mode,M,null),I.return=C,I;if(typeof I.then=="function")return p(C,pf(I),M);if(I.$$typeof===Fs)return p(C,mf(C,I),M);gf(C,I)}return null}function g(C,I,M,V){var j=I!==null?I.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return j!==null?null:o(C,I,""+M,V);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case lf:return M.key===j?u(C,I,M,V):null;case f0:return M.key===j?c(C,I,M,V):null;case Ma:return M=Zo(M),g(C,I,M,V)}if(d0(M)||Zc(M))return j!==null?null:d(C,I,M,V,null);if(typeof M.then=="function")return g(C,I,pf(M),V);if(M.$$typeof===Fs)return g(C,I,mf(C,M),V);gf(C,M)}return null}function v(C,I,M,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return C=C.get(M)||null,o(I,C,""+V,j);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case lf:return C=C.get(V.key===null?M:V.key)||null,u(I,C,V,j);case f0:return C=C.get(V.key===null?M:V.key)||null,c(I,C,V,j);case Ma:return V=Zo(V),v(C,I,M,V,j)}if(d0(V)||Zc(V))return C=C.get(M)||null,d(I,C,V,j,null);if(typeof V.then=="function")return v(C,I,M,pf(V),j);if(V.$$typeof===Fs)return v(C,I,M,mf(I,V),j);gf(I,V)}return null}function x(C,I,M,V){for(var j=null,G=null,S=I,b=I=0,_=null;S!==null&&b<M.length;b++){S.index>b?(_=S,S=null):_=S.sibling;var A=g(C,S,M[b],V);if(A===null){S===null&&(S=_);break}t&&S&&A.alternate===null&&e(C,S),I=s(A,I,b),G===null?j=A:G.sibling=A,G=A,S=_}if(b===M.length)return n(C,S),Ke&&Bs(C,b),j;if(S===null){for(;b<M.length;b++)S=p(C,M[b],V),S!==null&&(I=s(S,I,b),G===null?j=S:G.sibling=S,G=S);return Ke&&Bs(C,b),j}for(S=r(S);b<M.length;b++)_=v(S,C,b,M[b],V),_!==null&&(t&&_.alternate!==null&&S.delete(_.key===null?b:_.key),I=s(_,I,b),G===null?j=_:G.sibling=_,G=_);return t&&S.forEach(function(R){return e(C,R)}),Ke&&Bs(C,b),j}function N(C,I,M,V){if(M==null)throw Error(Y(151));for(var j=null,G=null,S=I,b=I=0,_=null,A=M.next();S!==null&&!A.done;b++,A=M.next()){S.index>b?(_=S,S=null):_=S.sibling;var R=g(C,S,A.value,V);if(R===null){S===null&&(S=_);break}t&&S&&R.alternate===null&&e(C,S),I=s(R,I,b),G===null?j=R:G.sibling=R,G=R,S=_}if(A.done)return n(C,S),Ke&&Bs(C,b),j;if(S===null){for(;!A.done;b++,A=M.next())A=p(C,A.value,V),A!==null&&(I=s(A,I,b),G===null?j=A:G.sibling=A,G=A);return Ke&&Bs(C,b),j}for(S=r(S);!A.done;b++,A=M.next())A=v(S,C,b,A.value,V),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?b:A.key),I=s(A,I,b),G===null?j=A:G.sibling=A,G=A);return t&&S.forEach(function(D){return e(C,D)}),Ke&&Bs(C,b),j}function P(C,I,M,V){if(typeof M=="object"&&M!==null&&M.type===Gl&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case lf:e:{for(var j=M.key;I!==null;){if(I.key===j){if(j=M.type,j===Gl){if(I.tag===7){n(C,I.sibling),V=i(I,M.props.children),V.return=C,C=V;break e}}else if(I.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ma&&Zo(j)===I.type){n(C,I.sibling),V=i(I,M.props),Jc(V,M),V.return=C,C=V;break e}n(C,I);break}else e(C,I);I=I.sibling}M.type===Gl?(V=sl(M.props.children,C.mode,V,M.key),V.return=C,C=V):(V=Jf(M.type,M.key,M.props,null,C.mode,V),Jc(V,M),V.return=C,C=V)}return a(C);case f0:e:{for(j=M.key;I!==null;){if(I.key===j)if(I.tag===4&&I.stateNode.containerInfo===M.containerInfo&&I.stateNode.implementation===M.implementation){n(C,I.sibling),V=i(I,M.children||[]),V.return=C,C=V;break e}else{n(C,I);break}else e(C,I);I=I.sibling}V=l1(M,C.mode,V),V.return=C,C=V}return a(C);case Ma:return M=Zo(M),P(C,I,M,V)}if(d0(M))return x(C,I,M,V);if(Zc(M)){if(j=Zc(M),typeof j!="function")throw Error(Y(150));return M=j.call(M),N(C,I,M,V)}if(typeof M.then=="function")return P(C,I,pf(M),V);if(M.$$typeof===Fs)return P(C,I,mf(C,M),V);gf(C,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,I!==null&&I.tag===6?(n(C,I.sibling),V=i(I,M),V.return=C,C=V):(n(C,I),V=o1(M,C.mode,V),V.return=C,C=V),a(C)):n(C,I)}return function(C,I,M,V){try{nh=0;var j=P(C,I,M,V);return gu=null,j}catch(S){if(S===ic||S===Hm)throw S;var G=jr(29,S,null,C.mode);return G.lanes=V,G.return=C,G}finally{}}}var gl=Z_(!0),Q_=Z_(!1),Da=!1;function Av(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function u4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ja(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,nt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Id(t),F_(t,null,n),e}return Fm(t,r,e,n),Id(t)}function k0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,p_(t,n)}}function c1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var c4=!1;function I0(){if(c4){var t=pu;if(t!==null)throw t}}function N0(t,e,n,r){c4=!1;var i=t.updateQueue;Da=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;a=0,d=c=u=null,o=s;do{var g=o.lane&-536870913,v=g!==o.lane;if(v?(qe&g)===g:(r&g)===g){g!==0&&g===Du&&(c4=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var x=t,N=o;g=e;var P=n;switch(N.tag){case 1:if(x=N.payload,typeof x=="function"){p=x.call(P,p,g);break e}p=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=N.payload,g=typeof x=="function"?x.call(P,p,g):x,g==null)break e;p=Tt({},p,g);break e;case 2:Da=!0}}g=o.callback,g!==null&&(t.flags|=64,v&&(t.flags|=8192),v=i.callbacks,v===null?i.callbacks=[g]:v.push(g))}else v={lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=v,u=p):d=d.next=v,a|=g;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;v=o,o=v.next,v.next=null,i.lastBaseUpdate=v,i.shared.pending=null}}while(!0);d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,s===null&&(i.shared.lanes=0),fo|=a,t.lanes=a,t.memoizedState=p}}function W_(t,e){if(typeof t!="function")throw Error(Y(191,t));t.call(e)}function J_(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)W_(n[t],e)}var Ou=ps(null),Od=ps(0);function M6(t,e){t=aa,gt(Od,t),gt(Ou,e),aa=t|e.baseLanes}function h4(){gt(Od,aa),gt(Ou,Ou.current)}function xv(){aa=Od.current,Tn(Ou),Tn(Od)}var Yr=ps(null),mi=null;function Pa(t){var e=t.alternate;gt(Ht,Ht.current&1),gt(Yr,t),mi===null&&(e===null||Ou.current!==null||e.memoizedState!==null)&&(mi=t)}function f4(t){gt(Ht,Ht.current),gt(Yr,t),mi===null&&(mi=t)}function eT(t){t.tag===22?(gt(Ht,Ht.current),gt(Yr,t),mi===null&&(mi=t)):za()}function za(){gt(Ht,Ht.current),gt(Yr,Yr.current)}function Br(t){Tn(Yr),mi===t&&(mi=null),Tn(Ht)}var Ht=ps(0);function Pd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||N4(n)||M4(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ra=0,ze=null,ht=null,Jt=null,zd=!1,yu=!1,yl=!1,Ld=0,rh=0,vu=null,dI=0;function Ot(){throw Error(Y(321))}function Rv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Kr(t[n],e[n]))return!1;return!0}function Cv(t,e,n,r,i,s){return ra=s,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ee.H=t===null||t.memoizedState===null?NT:Uv,yl=!1,s=n(r,i),yl=!1,yu&&(s=nT(e,n,r,i)),tT(t),s}function tT(t){Ee.H=ih;var e=ht!==null&&ht.next!==null;if(ra=0,Jt=ht=ze=null,zd=!1,rh=0,vu=null,e)throw Error(Y(300));t===null||nn||(t=t.dependencies,t!==null&&Md(t)&&(nn=!0))}function nT(t,e,n,r){ze=t;var i=0;do{if(yu&&(vu=null),rh=0,yu=!1,25<=i)throw Error(Y(301));if(i+=1,Jt=ht=null,t.updateQueue!=null){var s=t.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Ee.H=MT,s=e(n,r)}while(yu);return s}function mI(){var t=Ee.H,e=t.useState()[0];return e=typeof e.then=="function"?Vh(e):e,t=t.useState()[0],(ht!==null?ht.memoizedState:null)!==t&&(ze.flags|=1024),e}function kv(){var t=Ld!==0;return Ld=0,t}function Iv(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Nv(t){if(zd){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}zd=!1}ra=0,Jt=ht=ze=null,yu=!1,rh=Ld=0,vu=null}function nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?ze.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function qt(){if(ht===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var e=Jt===null?ze.memoizedState:Jt.next;if(e!==null)Jt=e,ht=t;else{if(t===null)throw ze.alternate===null?Error(Y(467)):Error(Y(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Jt===null?ze.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function $m(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vh(t){var e=rh;return rh+=1,vu===null&&(vu=[]),t=X_(vu,t,e),e=ze,(Jt===null?e.memoizedState:Jt.next)===null&&(e=e.alternate,Ee.H=e===null||e.memoizedState===null?NT:Uv),t}function qm(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Vh(t);if(t.$$typeof===Fs)return Dn(t)}throw Error(Y(438,String(t)))}function Mv(t){var e=null,n=ze.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=ze.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=$m(),ze.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=JC;return e.index++,n}function ia(t,e){return typeof e=="function"?e(t):e}function td(t){var e=qt();return Dv(e,ht,t)}function Dv(t,e,n){var r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=n;var i=t.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}e.baseQueue=i=s,r.pending=null}if(s=t.baseState,i===null)t.memoizedState=s;else{e=i.next;var o=a=null,u=null,c=e,d=!1;do{var p=c.lane&-536870913;if(p!==c.lane?(qe&p)===p:(ra&p)===p){var g=c.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===Du&&(d=!0);else if((ra&g)===g){c=c.next,g===Du&&(d=!0);continue}else p={lane:0,revertLane:c.revertLane,gesture:null,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=p,a=s):u=u.next=p,ze.lanes|=g,fo|=g;p=c.action,yl&&n(s,p),s=c.hasEagerState?c.eagerState:n(s,p)}else g={lane:p,revertLane:c.revertLane,gesture:c.gesture,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(o=u=g,a=s):u=u.next=g,ze.lanes|=p,fo|=p;c=c.next}while(c!==null&&c!==e);if(u===null?a=s:u.next=o,!Kr(s,t.memoizedState)&&(nn=!0,d&&(n=pu,n!==null)))throw n;t.memoizedState=s,t.baseState=a,t.baseQueue=u,r.lastRenderedState=s}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function h1(t){var e=qt(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Kr(s,e.memoizedState)||(nn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function rT(t,e,n){var r=ze,i=qt(),s=Ke;if(s){if(n===void 0)throw Error(Y(407));n=n()}else n=e();var a=!Kr((ht||i).memoizedState,n);if(a&&(i.memoizedState=n,nn=!0),i=i.queue,Ov(aT.bind(null,r,i,t),[t]),i.getSnapshot!==e||a||Jt!==null&&Jt.memoizedState.tag&1){if(r.flags|=2048,Pu(9,{destroy:void 0},sT.bind(null,r,i,n,e),null),ft===null)throw Error(Y(349));s||ra&127||iT(r,e,n)}return n}function iT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e=$m(),ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function sT(t,e,n,r){e.value=n,e.getSnapshot=r,oT(e)&&lT(t)}function aT(t,e,n){return n(function(){oT(e)&&lT(t)})}function oT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Kr(t,n)}catch{return!0}}function lT(t){var e=kl(t,2);e!==null&&kr(e,t,2)}function d4(t){var e=nr();if(typeof t=="function"){var n=t;if(t=n(),yl){Ha(!0);try{n()}finally{Ha(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:t},e}function uT(t,e,n,r){return t.baseState=n,Dv(t,ht,typeof r=="function"?r:ia)}function pI(t,e,n,r,i){if(Km(t))throw Error(Y(485));if(t=e.action,t!==null){var s={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Ee.T!==null?n(!0):s.isTransition=!1,r(s),n=e.pending,n===null?(s.next=e.pending=s,cT(e,s)):(s.next=n.next,e.pending=n.next=s)}}function cT(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var s=Ee.T,a={};Ee.T=a;try{var o=n(i,r),u=Ee.S;u!==null&&u(a,o),D6(t,e,o)}catch(c){m4(t,e,c)}finally{s!==null&&a.types!==null&&(s.types=a.types),Ee.T=s}}else try{s=n(i,r),D6(t,e,s)}catch(c){m4(t,e,c)}}function D6(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){O6(t,e,r)},function(r){return m4(t,e,r)}):O6(t,e,n)}function O6(t,e,n){e.status="fulfilled",e.value=n,hT(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,cT(t,n)))}function m4(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,hT(e),e=e.next;while(e!==r)}t.action=null}function hT(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function fT(t,e){return e}function P6(t,e){if(Ke){var n=ft.formState;if(n!==null){e:{var r=ze;if(Ke){if(bt){t:{for(var i=bt,s=ci;i.nodeType!==8;){if(!s){i=null;break t}if(i=pi(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){bt=pi(i.nextSibling),r=i.data==="F!";break e}}co(r)}r=!1}r&&(e=n[0])}}return n=nr(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fT,lastRenderedState:e},n.queue=r,n=CT.bind(null,ze,r),r.dispatch=n,r=d4(!1),s=Vv.bind(null,ze,!1,r.queue),r=nr(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=pI.bind(null,ze,i,s,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function z6(t){var e=qt();return dT(e,ht,t)}function dT(t,e,n){if(e=Dv(t,e,fT)[0],t=td(ia)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Vh(e)}catch(a){throw a===ic?Hm:a}else r=e;e=qt();var i=e.queue,s=i.dispatch;return n!==e.memoizedState&&(ze.flags|=2048,Pu(9,{destroy:void 0},gI.bind(null,i,n),null)),[r,s,t]}function gI(t,e){t.action=e}function L6(t){var e=qt(),n=ht;if(n!==null)return dT(e,n,t);qt(),e=e.memoizedState,n=qt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Pu(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=ze.updateQueue,e===null&&(e=$m(),ze.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function mT(){return qt().memoizedState}function nd(t,e,n,r){var i=nr();ze.flags|=t,i.memoizedState=Pu(1|e,{destroy:void 0},n,r===void 0?null:r)}function Gm(t,e,n,r){var i=qt();r=r===void 0?null:r;var s=i.memoizedState.inst;ht!==null&&r!==null&&Rv(r,ht.memoizedState.deps)?i.memoizedState=Pu(e,s,n,r):(ze.flags|=t,i.memoizedState=Pu(1|e,s,n,r))}function V6(t,e){nd(8390656,8,t,e)}function Ov(t,e){Gm(2048,8,t,e)}function yI(t){ze.flags|=4;var e=ze.updateQueue;if(e===null)e=$m(),ze.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function pT(t){var e=qt().memoizedState;return yI({ref:e,nextImpl:t}),function(){if(nt&2)throw Error(Y(440));return e.impl.apply(void 0,arguments)}}function gT(t,e){return Gm(4,2,t,e)}function yT(t,e){return Gm(4,4,t,e)}function vT(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bT(t,e,n){n=n!=null?n.concat([t]):null,Gm(4,4,vT.bind(null,e,t),n)}function Pv(){}function _T(t,e){var n=qt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&Rv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function TT(t,e){var n=qt();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&Rv(e,r[1]))return r[0];if(r=t(),yl){Ha(!0);try{t()}finally{Ha(!1)}}return n.memoizedState=[r,e],r}function zv(t,e,n){return n===void 0||ra&1073741824&&!(qe&261930)?t.memoizedState=e:(t.memoizedState=n,t=uw(),ze.lanes|=t,fo|=t,n)}function wT(t,e,n,r){return Kr(n,e)?n:Ou.current!==null?(t=zv(t,n,r),Kr(t,e)||(nn=!0),t):!(ra&42)||ra&1073741824&&!(qe&261930)?(nn=!0,t.memoizedState=n):(t=uw(),ze.lanes|=t,fo|=t,e)}function ST(t,e,n,r,i){var s=it.p;it.p=s!==0&&8>s?s:8;var a=Ee.T,o={};Ee.T=o,Vv(t,!1,e,n);try{var u=i(),c=Ee.S;if(c!==null&&c(o,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=fI(u,r);M0(t,e,d,Gr(t))}else M0(t,e,r,Gr(t))}catch(p){M0(t,e,{then:function(){},status:"rejected",reason:p},Gr())}finally{it.p=s,a!==null&&o.types!==null&&(a.types=o.types),Ee.T=a}}function vI(){}function p4(t,e,n,r){if(t.tag!==5)throw Error(Y(476));var i=ET(t).queue;ST(t,i,e,il,n===null?vI:function(){return AT(t),n(r)})}function ET(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:il,baseState:il,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:il},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function AT(t){var e=ET(t);e.next===null&&(e=t.alternate.memoizedState),M0(t,e.next.queue,{},Gr())}function Lv(){return Dn(oh)}function xT(){return qt().memoizedState}function RT(){return qt().memoizedState}function bI(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Gr();t=Wa(n);var r=Ja(e,t,n);r!==null&&(kr(r,e,n),k0(r,e,n)),e={cache:wv()},t.payload=e;return}e=e.return}}function _I(t,e,n){var r=Gr();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Km(t)?kT(e,n):(n=vv(t,e,n,r),n!==null&&(kr(n,t,r),IT(n,e,r)))}function CT(t,e,n){var r=Gr();M0(t,e,n,r)}function M0(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Km(t))kT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Kr(o,a))return Fm(t,e,i,0),ft===null&&jm(),!1}catch{}finally{}if(n=vv(t,e,i,r),n!==null)return kr(n,t,r),IT(n,e,r),!0}return!1}function Vv(t,e,n,r){if(r={lane:2,revertLane:Kv(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Km(t)){if(e)throw Error(Y(479))}else e=vv(t,n,r,2),e!==null&&kr(e,t,2)}function Km(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function kT(t,e){yu=zd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function IT(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,p_(t,n)}}var ih={readContext:Dn,use:qm,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};ih.useEffectEvent=Ot;var NT={readContext:Dn,use:qm,useCallback:function(t,e){return nr().memoizedState=[t,e===void 0?null:e],t},useContext:Dn,useEffect:V6,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,nd(4194308,4,vT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return nd(4194308,4,t,e)},useInsertionEffect:function(t,e){nd(4,2,t,e)},useMemo:function(t,e){var n=nr();e=e===void 0?null:e;var r=t();if(yl){Ha(!0);try{t()}finally{Ha(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=nr();if(n!==void 0){var i=n(e);if(yl){Ha(!0);try{n(e)}finally{Ha(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=_I.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=nr();return t={current:t},e.memoizedState=t},useState:function(t){t=d4(t);var e=t.queue,n=CT.bind(null,ze,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Pv,useDeferredValue:function(t,e){var n=nr();return zv(n,t,e)},useTransition:function(){var t=d4(!1);return t=ST.bind(null,ze,t.queue,!0,!1),nr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=ze,i=nr();if(Ke){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),ft===null)throw Error(Y(349));qe&127||iT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,V6(aT.bind(null,r,s,t),[t]),r.flags|=2048,Pu(9,{destroy:void 0},sT.bind(null,r,s,n,e),null),n},useId:function(){var t=nr(),e=ft.identifierPrefix;if(Ke){var n=ns,r=ts;n=(r&~(1<<32-qr(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Ld++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=dI++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Lv,useFormState:P6,useActionState:P6,useOptimistic:function(t){var e=nr();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Vv.bind(null,ze,!0,n),n.dispatch=e,[t,e]},useMemoCache:Mv,useCacheRefresh:function(){return nr().memoizedState=bI.bind(null,ze)},useEffectEvent:function(t){var e=nr(),n={impl:t};return e.memoizedState=n,function(){if(nt&2)throw Error(Y(440));return n.impl.apply(void 0,arguments)}}},Uv={readContext:Dn,use:qm,useCallback:_T,useContext:Dn,useEffect:Ov,useImperativeHandle:bT,useInsertionEffect:gT,useLayoutEffect:yT,useMemo:TT,useReducer:td,useRef:mT,useState:function(){return td(ia)},useDebugValue:Pv,useDeferredValue:function(t,e){var n=qt();return wT(n,ht.memoizedState,t,e)},useTransition:function(){var t=td(ia)[0],e=qt().memoizedState;return[typeof t=="boolean"?t:Vh(t),e]},useSyncExternalStore:rT,useId:xT,useHostTransitionStatus:Lv,useFormState:z6,useActionState:z6,useOptimistic:function(t,e){var n=qt();return uT(n,ht,t,e)},useMemoCache:Mv,useCacheRefresh:RT};Uv.useEffectEvent=pT;var MT={readContext:Dn,use:qm,useCallback:_T,useContext:Dn,useEffect:Ov,useImperativeHandle:bT,useInsertionEffect:gT,useLayoutEffect:yT,useMemo:TT,useReducer:h1,useRef:mT,useState:function(){return h1(ia)},useDebugValue:Pv,useDeferredValue:function(t,e){var n=qt();return ht===null?zv(n,t,e):wT(n,ht.memoizedState,t,e)},useTransition:function(){var t=h1(ia)[0],e=qt().memoizedState;return[typeof t=="boolean"?t:Vh(t),e]},useSyncExternalStore:rT,useId:xT,useHostTransitionStatus:Lv,useFormState:L6,useActionState:L6,useOptimistic:function(t,e){var n=qt();return ht!==null?uT(n,ht,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Mv,useCacheRefresh:RT};MT.useEffectEvent=pT;function f1(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var g4={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gr(),i=Wa(r);i.payload=e,n!=null&&(i.callback=n),e=Ja(t,i,r),e!==null&&(kr(e,t,r),k0(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gr(),i=Wa(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ja(t,i,r),e!==null&&(kr(e,t,r),k0(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gr(),r=Wa(n);r.tag=2,e!=null&&(r.callback=e),e=Ja(t,r,n),e!==null&&(kr(e,t,n),k0(e,t,n))}};function U6(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!J0(n,r)||!J0(i,s):!0}function B6(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&g4.enqueueReplaceState(e,e.state,null)}function vl(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Tt({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function DT(t){kd(t)}function OT(t){console.error(t)}function PT(t){kd(t)}function Vd(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function j6(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function y4(t,e,n){return n=Wa(n),n.tag=3,n.payload={element:null},n.callback=function(){Vd(t,e)},n}function zT(t){return t=Wa(t),t.tag=3,t}function LT(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var s=r.value;t.payload=function(){return i(s)},t.callback=function(){j6(e,n,r)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){j6(e,n,r),typeof i!="function"&&(eo===null?eo=new Set([this]):eo.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function TI(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&rc(e,n,i,!0),n=Yr.current,n!==null){switch(n.tag){case 31:case 13:return mi===null?Hd():n.alternate===null&&zt===0&&(zt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Dd?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),S1(t,r,i)),!1;case 22:return n.flags|=65536,r===Dd?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),S1(t,r,i)),!1}throw Error(Y(435,n.tag))}return S1(t,r,i),Hd(),!1}if(Ke)return e=Yr.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==i4&&(t=Error(Y(422),{cause:r}),th(ui(t,n)))):(r!==i4&&(e=Error(Y(423),{cause:r}),th(ui(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=ui(r,n),i=y4(t.stateNode,r,i),c1(t,i),zt!==4&&(zt=2)),!1;var s=Error(Y(520),{cause:r});if(s=ui(s,n),P0===null?P0=[s]:P0.push(s),zt!==4&&(zt=2),e===null)return!0;r=ui(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=y4(n.stateNode,r,t),c1(n,t),!1;case 1:if(e=n.type,s=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(eo===null||!eo.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,i=zT(i),LT(i,t,n,r),c1(n,i),!1}n=n.return}while(n!==null);return!1}var Bv=Error(Y(461)),nn=!1;function Cn(t,e,n,r){e.child=t===null?Q_(e,null,n,r):gl(e,t.child,n,r)}function F6(t,e,n,r,i){n=n.render;var s=e.ref;if("ref"in r){var a={};for(var o in r)o!=="ref"&&(a[o]=r[o])}else a=r;return pl(e),r=Cv(t,e,n,a,s,i),o=kv(),t!==null&&!nn?(Iv(t,e,i),sa(t,e,i)):(Ke&&o&&_v(e),e.flags|=1,Cn(t,e,r,i),e.child)}function H6(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!bv(s)&&s.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=s,VT(t,e,s,r,i)):(t=Jf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!jv(t,i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:J0,n(a,r)&&t.ref===e.ref)return sa(t,e,i)}return e.flags|=1,t=Zs(s,r),t.ref=e.ref,t.return=e,e.child=t}function VT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(J0(s,r)&&t.ref===e.ref)if(nn=!1,e.pendingProps=r=s,jv(t,i))t.flags&131072&&(nn=!0);else return e.lanes=t.lanes,sa(t,e,i)}return v4(t,e,n,r,i)}function UT(t,e,n,r){var i=r.children,s=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(s=s!==null?s.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~s}else r=0,e.child=null;return $6(t,e,s,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&ed(e,s!==null?s.cachePool:null),s!==null?M6(e,s):h4(),eT(e);else return r=e.lanes=536870912,$6(t,e,s!==null?s.baseLanes|n:n,n,r)}else s!==null?(ed(e,s.cachePool),M6(e,s),za(),e.memoizedState=null):(t!==null&&ed(e,null),h4(),za());return Cn(t,e,i,n),e.child}function p0(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function $6(t,e,n,r,i){var s=Sv();return s=s===null?null:{parent:tn._currentValue,pool:s},e.memoizedState={baseLanes:n,cachePool:s},t!==null&&ed(e,null),h4(),eT(e),t!==null&&rc(t,e,r,!0),e.childLanes=i,null}function rd(t,e){return e=Ud({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function q6(t,e,n){return gl(e,t.child,null,n),t=rd(e,e.pendingProps),t.flags|=2,Br(e),e.memoizedState=null,t}function wI(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Ke){if(r.mode==="hidden")return t=rd(e,r),e.lanes=536870912,p0(null,t);if(f4(e),(t=bt)?(t=Nw(t,ci),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:uo!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},n=$_(t),n.return=e,e.child=n,Mn=e,bt=null)):t=null,t===null)throw co(e);return e.lanes=536870912,null}return rd(e,r)}var s=t.memoizedState;if(s!==null){var a=s.dehydrated;if(f4(e),i)if(e.flags&256)e.flags&=-257,e=q6(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(Y(558));else if(nn||rc(t,e,n,!1),i=(n&t.childLanes)!==0,nn||i){if(r=ft,r!==null&&(a=g_(r,n),a!==0&&a!==s.retryLane))throw s.retryLane=a,kl(t,a),kr(r,t,a),Bv;Hd(),e=q6(t,e,n)}else t=s.treeContext,bt=pi(a.nextSibling),Mn=e,Ke=!0,Qa=null,ci=!1,t!==null&&G_(e,t),e=rd(e,r),e.flags|=4096;return e}return t=Zs(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function id(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(Y(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function v4(t,e,n,r,i){return pl(e),n=Cv(t,e,n,r,void 0,i),r=kv(),t!==null&&!nn?(Iv(t,e,i),sa(t,e,i)):(Ke&&r&&_v(e),e.flags|=1,Cn(t,e,n,i),e.child)}function G6(t,e,n,r,i,s){return pl(e),e.updateQueue=null,n=nT(e,r,n,i),tT(t),r=kv(),t!==null&&!nn?(Iv(t,e,s),sa(t,e,s)):(Ke&&r&&_v(e),e.flags|=1,Cn(t,e,n,s),e.child)}function K6(t,e,n,r,i){if(pl(e),e.stateNode===null){var s=eu,a=n.contextType;typeof a=="object"&&a!==null&&(s=Dn(a)),s=new n(r,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=g4,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=r,s.state=e.memoizedState,s.refs={},Av(e),a=n.contextType,s.context=typeof a=="object"&&a!==null?Dn(a):eu,s.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(f1(e,n,a,r),s.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&g4.enqueueReplaceState(s,s.state,null),N0(e,r,s,i),I0(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){s=e.stateNode;var o=e.memoizedProps,u=vl(n,o);s.props=u;var c=s.context,d=n.contextType;a=eu,typeof d=="object"&&d!==null&&(a=Dn(d));var p=n.getDerivedStateFromProps;d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||c!==a)&&B6(e,s,r,a),Da=!1;var g=e.memoizedState;s.state=g,N0(e,r,s,i),I0(),c=e.memoizedState,o||g!==c||Da?(typeof p=="function"&&(f1(e,n,p,r),c=e.memoizedState),(u=Da||U6(e,n,u,r,g,c,a))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),s.props=r,s.state=c,s.context=a,r=u):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,u4(t,e),a=e.memoizedProps,d=vl(n,a),s.props=d,p=e.pendingProps,g=s.context,c=n.contextType,u=eu,typeof c=="object"&&c!==null&&(u=Dn(c)),o=n.getDerivedStateFromProps,(c=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==p||g!==u)&&B6(e,s,r,u),Da=!1,g=e.memoizedState,s.state=g,N0(e,r,s,i),I0();var v=e.memoizedState;a!==p||g!==v||Da||t!==null&&t.dependencies!==null&&Md(t.dependencies)?(typeof o=="function"&&(f1(e,n,o,r),v=e.memoizedState),(d=Da||U6(e,n,d,r,g,v,u)||t!==null&&t.dependencies!==null&&Md(t.dependencies))?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),s.props=r,s.state=v,s.context=u,r=d):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return s=r,id(t,e),r=(e.flags&128)!==0,s||r?(s=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,t!==null&&r?(e.child=gl(e,t.child,null,i),e.child=gl(e,null,n,i)):Cn(t,e,n,i),e.memoizedState=s.state,t=e.child):t=sa(t,e,i),t}function Y6(t,e,n,r){return ml(),e.flags|=256,Cn(t,e,n,r),e.child}var d1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function m1(t){return{baseLanes:t,cachePool:Y_()}}function p1(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Fr),t}function BT(t,e,n){var r=e.pendingProps,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(Ht.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ke){if(i?Pa(e):za(),(t=bt)?(t=Nw(t,ci),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:uo!==null?{id:ts,overflow:ns}:null,retryLane:536870912,hydrationErrors:null},n=$_(t),n.return=e,e.child=n,Mn=e,bt=null)):t=null,t===null)throw co(e);return M4(t)?e.lanes=32:e.lanes=536870912,null}var o=r.children;return r=r.fallback,i?(za(),i=e.mode,o=Ud({mode:"hidden",children:o},i),r=sl(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r=e.child,r.memoizedState=m1(n),r.childLanes=p1(t,a,n),e.memoizedState=d1,p0(null,r)):(Pa(e),b4(e,o))}var u=t.memoizedState;if(u!==null&&(o=u.dehydrated,o!==null)){if(s)e.flags&256?(Pa(e),e.flags&=-257,e=g1(t,e,n)):e.memoizedState!==null?(za(),e.child=t.child,e.flags|=128,e=null):(za(),o=r.fallback,i=e.mode,r=Ud({mode:"visible",children:r.children},i),o=sl(o,i,n,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,gl(e,t.child,null,n),r=e.child,r.memoizedState=m1(n),r.childLanes=p1(t,a,n),e.memoizedState=d1,e=p0(null,r));else if(Pa(e),M4(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var c=a.dgst;a=c,r=Error(Y(419)),r.stack="",r.digest=a,th({value:r,source:null,stack:null}),e=g1(t,e,n)}else if(nn||rc(t,e,n,!1),a=(n&t.childLanes)!==0,nn||a){if(a=ft,a!==null&&(r=g_(a,n),r!==0&&r!==u.retryLane))throw u.retryLane=r,kl(t,r),kr(a,t,r),Bv;N4(o)||Hd(),e=g1(t,e,n)}else N4(o)?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,bt=pi(o.nextSibling),Mn=e,Ke=!0,Qa=null,ci=!1,t!==null&&G_(e,t),e=b4(e,r.children),e.flags|=4096);return e}return i?(za(),o=r.fallback,i=e.mode,u=t.child,c=u.sibling,r=Zs(u,{mode:"hidden",children:r.children}),r.subtreeFlags=u.subtreeFlags&65011712,c!==null?o=Zs(c,o):(o=sl(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,p0(null,r),r=e.child,o=t.child.memoizedState,o===null?o=m1(n):(i=o.cachePool,i!==null?(u=tn._currentValue,i=i.parent!==u?{parent:u,pool:u}:i):i=Y_(),o={baseLanes:o.baseLanes|n,cachePool:i}),r.memoizedState=o,r.childLanes=p1(t,a,n),e.memoizedState=d1,p0(t.child,r)):(Pa(e),n=t.child,t=n.sibling,n=Zs(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function b4(t,e){return e=Ud({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Ud(t,e){return t=jr(22,t,null,e),t.lanes=0,t}function g1(t,e,n){return gl(e,t.child,null,n),t=b4(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function X6(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),a4(t.return,e,n)}function y1(t,e,n,r,i,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.treeForkCount=s)}function jT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;r=r.children;var a=Ht.current,o=(a&2)!==0;if(o?(a=a&1|2,e.flags|=128):a&=1,gt(Ht,a),Cn(t,e,r,n),r=Ke?eh:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&X6(t,n,e);else if(t.tag===19)X6(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Pd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),y1(e,!1,i,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Pd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}y1(e,!0,n,null,s,r);break;case"together":y1(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function sa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),fo|=e.lanes,!(n&e.childLanes))if(t!==null){if(rc(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=Zs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jv(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Md(t)))}function SI(t,e,n){switch(e.tag){case 3:Ad(e,e.stateNode.containerInfo),Oa(e,tn,t.memoizedState.cache),ml();break;case 27:case 5:Kg(e);break;case 4:Ad(e,e.stateNode.containerInfo);break;case 10:Oa(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,f4(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Pa(e),e.flags|=128,null):n&e.child.childLanes?BT(t,e,n):(Pa(e),t=sa(t,e,n),t!==null?t.sibling:null);Pa(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(rc(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return jT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gt(Ht,Ht.current),r)break;return null;case 22:return e.lanes=0,UT(t,e,n,e.pendingProps);case 24:Oa(e,tn,t.memoizedState.cache)}return sa(t,e,n)}function FT(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)nn=!0;else{if(!jv(t,n)&&!(e.flags&128))return nn=!1,SI(t,e,n);nn=!!(t.flags&131072)}else nn=!1,Ke&&e.flags&1048576&&q_(e,eh,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=Zo(e.elementType),e.type=t,typeof t=="function")bv(t)?(r=vl(t,r),e.tag=1,e=K6(null,e,t,r,n)):(e.tag=0,e=v4(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===sv){e.tag=11,e=F6(null,e,t,r,n);break e}else if(i===av){e.tag=14,e=H6(null,e,t,r,n);break e}}throw e=qg(t)||t,Error(Y(306,e,""))}}return e;case 0:return v4(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=vl(r,e.pendingProps),K6(t,e,r,i,n);case 3:e:{if(Ad(e,e.stateNode.containerInfo),t===null)throw Error(Y(387));r=e.pendingProps;var s=e.memoizedState;i=s.element,u4(t,e),N0(e,r,null,n);var a=e.memoizedState;if(r=a.cache,Oa(e,tn,r),r!==s.cache&&o4(e,[tn],n,!0),I0(),r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=Y6(t,e,r,n);break e}else if(r!==i){i=ui(Error(Y(424)),e),th(i),e=Y6(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(bt=pi(t.firstChild),Mn=e,Ke=!0,Qa=null,ci=!0,n=Q_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ml(),r===i){e=sa(t,e,n);break e}Cn(t,e,r,n)}e=e.child}return e;case 26:return id(t,e),t===null?(n=p3(e.type,null,e.pendingProps,null))?e.memoizedState=n:Ke||(n=e.type,t=e.pendingProps,r=Kd(Za.current).createElement(n),r[Nn]=e,r[Nr]=t,On(r,n,t),_n(r),e.stateNode=r):e.memoizedState=p3(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Kg(e),t===null&&Ke&&(r=e.stateNode=Mw(e.type,e.pendingProps,Za.current),Mn=e,ci=!0,i=bt,xo(e.type)?(D4=i,bt=pi(r.firstChild)):bt=i),Cn(t,e,e.pendingProps.children,n),id(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ke&&((i=r=bt)&&(r=JI(r,e.type,e.pendingProps,ci),r!==null?(e.stateNode=r,Mn=e,bt=pi(r.firstChild),ci=!1,i=!0):i=!1),i||co(e)),Kg(e),i=e.type,s=e.pendingProps,a=t!==null?t.memoizedProps:null,r=s.children,k4(i,s)?r=null:a!==null&&k4(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=Cv(t,e,mI,null,null,n),oh._currentValue=i),id(t,e),Cn(t,e,r,n),e.child;case 6:return t===null&&Ke&&((t=n=bt)&&(n=eN(n,e.pendingProps,ci),n!==null?(e.stateNode=n,Mn=e,bt=null,t=!0):t=!1),t||co(e)),null;case 13:return BT(t,e,n);case 4:return Ad(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=gl(e,null,r,n):Cn(t,e,r,n),e.child;case 11:return F6(t,e,e.type,e.pendingProps,n);case 7:return Cn(t,e,e.pendingProps,n),e.child;case 8:return Cn(t,e,e.pendingProps.children,n),e.child;case 12:return Cn(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Oa(e,e.type,r.value),Cn(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,pl(e),i=Dn(i),r=r(i),e.flags|=1,Cn(t,e,r,n),e.child;case 14:return H6(t,e,e.type,e.pendingProps,n);case 15:return VT(t,e,e.type,e.pendingProps,n);case 19:return jT(t,e,n);case 31:return wI(t,e,n);case 22:return UT(t,e,n,e.pendingProps);case 24:return pl(e),r=Dn(tn),t===null?(i=Sv(),i===null&&(i=ft,s=wv(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=n),i=s),e.memoizedState={parent:r,cache:i},Av(e),Oa(e,tn,i)):(t.lanes&n&&(u4(t,e),N0(e,null,null,n),I0()),i=t.memoizedState,s=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Oa(e,tn,r)):(r=s.cache,Oa(e,tn,r),r!==i.cache&&o4(e,[tn],n,!0))),Cn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(Y(156,e.tag))}function Os(t){t.flags|=4}function v1(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(fw())t.flags|=8192;else throw ol=Dd,Ev}else t.flags&=-16777217}function Z6(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Pw(e))if(fw())t.flags|=8192;else throw ol=Dd,Ev}function yf(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?d_():536870912,t.lanes|=e,zu|=e)}function e0(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function EI(t,e,n){var r=e.pendingProps;switch(Tv(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(e),null;case 1:return vt(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Qs(tn),Iu(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ll(e)?Os(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,u1())),vt(e),null;case 26:var i=e.type,s=e.memoizedState;return t===null?(Os(e),s!==null?(vt(e),Z6(e,s)):(vt(e),v1(e,i,null,r,n))):s?s!==t.memoizedState?(Os(e),vt(e),Z6(e,s)):(vt(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Os(e),vt(e),v1(e,i,t,r,n)),null;case 27:if(xd(e),n=Za.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Os(e);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return vt(e),null}t=ss.current,Ll(e)?A6(e):(t=Mw(i,r,n),e.stateNode=t,Os(e))}return vt(e),null;case 5:if(xd(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Os(e);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return vt(e),null}if(s=ss.current,Ll(e))A6(e);else{var a=Kd(Za.current);switch(s){case 1:s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=a.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof r.is=="string"?a.createElement("select",{is:r.is}):a.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s=typeof r.is=="string"?a.createElement(i,{is:r.is}):a.createElement(i)}}s[Nn]=e,s[Nr]=r;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)s.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=s;e:switch(On(s,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Os(e)}}return vt(e),v1(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Os(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(t=Za.current,Ll(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Mn,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[Nn]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||Cw(t.nodeValue,n)),t||co(e,!0)}else t=Kd(t).createTextNode(r),t[Nn]=e,e.stateNode=t}return vt(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=Ll(e),n!==null){if(t===null){if(!r)throw Error(Y(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(557));t[Nn]=e}else ml(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vt(e),t=!1}else n=u1(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Br(e),e):(Br(e),null);if(e.flags&128)throw Error(Y(558))}return vt(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Ll(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(Y(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Y(317));i[Nn]=e}else ml(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vt(e),i=!1}else i=u1(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Br(e),e):(Br(e),null)}return Br(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),yf(e,e.updateQueue),vt(e),null);case 4:return Iu(),t===null&&Yv(e.stateNode.containerInfo),vt(e),null;case 10:return Qs(e.type),vt(e),null;case 19:if(Tn(Ht),r=e.memoizedState,r===null)return vt(e),null;if(i=(e.flags&128)!==0,s=r.rendering,s===null)if(i)e0(r,!1);else{if(zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Pd(t),s!==null){for(e.flags|=128,e0(r,!1),t=s.updateQueue,e.updateQueue=t,yf(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)H_(n,t),n=n.sibling;return gt(Ht,Ht.current&1|2),Ke&&Bs(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&Hr()>jd&&(e.flags|=128,i=!0,e0(r,!1),e.lanes=4194304)}else{if(!i)if(t=Pd(s),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,yf(e,t),e0(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!Ke)return vt(e),null}else 2*Hr()-r.renderingStartTime>jd&&n!==536870912&&(e.flags|=128,i=!0,e0(r,!1),e.lanes=4194304);r.isBackwards?(s.sibling=e.child,e.child=s):(t=r.last,t!==null?t.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Hr(),t.sibling=null,n=Ht.current,gt(Ht,i?n&1|2:n&1),Ke&&Bs(e,r.treeForkCount),t):(vt(e),null);case 22:case 23:return Br(e),xv(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(vt(e),e.subtreeFlags&6&&(e.flags|=8192)):vt(e),n=e.updateQueue,n!==null&&yf(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Tn(al),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Qs(tn),vt(e),null;case 25:return null;case 30:return null}throw Error(Y(156,e.tag))}function AI(t,e){switch(Tv(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qs(tn),Iu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return xd(e),null;case 31:if(e.memoizedState!==null){if(Br(e),e.alternate===null)throw Error(Y(340));ml()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Br(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));ml()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Tn(Ht),null;case 4:return Iu(),null;case 10:return Qs(e.type),null;case 22:case 23:return Br(e),xv(),t!==null&&Tn(al),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Qs(tn),null;case 25:return null;default:return null}}function HT(t,e){switch(Tv(e),e.tag){case 3:Qs(tn),Iu();break;case 26:case 27:case 5:xd(e);break;case 4:Iu();break;case 31:e.memoizedState!==null&&Br(e);break;case 13:Br(e);break;case 19:Tn(Ht);break;case 10:Qs(e.type);break;case 22:case 23:Br(e),xv(),t!==null&&Tn(al);break;case 24:Qs(tn)}}function Uh(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){ot(e,e.return,o)}}function ho(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var s=i.next;r=s;do{if((r.tag&t)===t){var a=r.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,i=e;var u=n,c=o;try{c()}catch(d){ot(i,u,d)}}}r=r.next}while(r!==s)}}catch(d){ot(e,e.return,d)}}function $T(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{J_(e,n)}catch(r){ot(t,t.return,r)}}}function qT(t,e,n){n.props=vl(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){ot(t,e,r)}}function D0(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){ot(t,e,i)}}function rs(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){ot(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){ot(t,e,i)}else n.current=null}function GT(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){ot(t,t.return,i)}}function b1(t,e,n){try{var r=t.stateNode;KI(r,t.type,n,e),r[Nr]=e}catch(i){ot(t,t.return,i)}}function KT(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&xo(t.type)||t.tag===4}function _1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&xo(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _4(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Hs));else if(r!==4&&(r===27&&xo(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(_4(t,e,n),t=t.sibling;t!==null;)_4(t,e,n),t=t.sibling}function Bd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&xo(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Bd(t,e,n),t=t.sibling;t!==null;)Bd(t,e,n),t=t.sibling}function YT(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);On(e,r,n),e[Nn]=t,e[Nr]=n}catch(s){ot(t,t.return,s)}}var js=!1,en=!1,T1=!1,Q6=typeof WeakSet=="function"?WeakSet:Set,bn=null;function xI(t,e){if(t=t.containerInfo,R4=Qd,t=P_(t),gv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,u=-1,c=0,d=0,p=t,g=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(o=a+i),p!==s||r!==0&&p.nodeType!==3||(u=a+r),p.nodeType===3&&(a+=p.nodeValue.length),(v=p.firstChild)!==null;)g=p,p=v;for(;;){if(p===t)break t;if(g===n&&++c===i&&(o=a),g===s&&++d===r&&(u=a),(v=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=v}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(C4={focusedElem:t,selectionRange:n},Qd=!1,bn=e;bn!==null;)if(e=bn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,bn=t;else for(;bn!==null;){switch(e=bn,s=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&s!==null){t=void 0,n=e,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var x=vl(n.type,i);t=r.getSnapshotBeforeUpdate(x,s),r.__reactInternalSnapshotBeforeUpdate=t}catch(N){ot(n,n.return,N)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)I4(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":I4(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(Y(163))}if(t=e.sibling,t!==null){t.return=e.return,bn=t;break}bn=e.return}}function XT(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:zs(t,n),r&4&&Uh(5,n);break;case 1:if(zs(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){ot(n,n.return,a)}else{var i=vl(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){ot(n,n.return,a)}}r&64&&$T(n),r&512&&D0(n,n.return);break;case 3:if(zs(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{J_(t,e)}catch(a){ot(n,n.return,a)}}break;case 27:e===null&&r&4&&YT(n);case 26:case 5:zs(t,n),e===null&&r&4&&GT(n),r&512&&D0(n,n.return);break;case 12:zs(t,n);break;case 31:zs(t,n),r&4&&WT(t,n);break;case 13:zs(t,n),r&4&&JT(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=PI.bind(null,n),tN(t,n))));break;case 22:if(r=n.memoizedState!==null||js,!r){e=e!==null&&e.memoizedState!==null||en,i=js;var s=en;js=r,(en=e)&&!s?Us(t,n,(n.subtreeFlags&8772)!==0):zs(t,n),js=i,en=s}break;case 30:break;default:zs(t,n)}}function ZT(t){var e=t.alternate;e!==null&&(t.alternate=null,ZT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&cv(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var wt=null,wr=!1;function Ps(t,e,n){for(n=n.child;n!==null;)QT(t,e,n),n=n.sibling}function QT(t,e,n){if($r&&typeof $r.onCommitFiberUnmount=="function")try{$r.onCommitFiberUnmount(Mh,n)}catch{}switch(n.tag){case 26:en||rs(n,e),Ps(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:en||rs(n,e);var r=wt,i=wr;xo(n.type)&&(wt=n.stateNode,wr=!1),Ps(t,e,n),L0(n.stateNode),wt=r,wr=i;break;case 5:en||rs(n,e);case 6:if(r=wt,i=wr,wt=null,Ps(t,e,n),wt=r,wr=i,wt!==null)if(wr)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(n.stateNode)}catch(s){ot(n,e,s)}else try{wt.removeChild(n.stateNode)}catch(s){ot(n,e,s)}break;case 18:wt!==null&&(wr?(t=wt,c3(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Bu(t)):c3(wt,n.stateNode));break;case 4:r=wt,i=wr,wt=n.stateNode.containerInfo,wr=!0,Ps(t,e,n),wt=r,wr=i;break;case 0:case 11:case 14:case 15:ho(2,n,e),en||ho(4,n,e),Ps(t,e,n);break;case 1:en||(rs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&qT(n,e,r)),Ps(t,e,n);break;case 21:Ps(t,e,n);break;case 22:en=(r=en)||n.memoizedState!==null,Ps(t,e,n),en=r;break;default:Ps(t,e,n)}}function WT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Bu(t)}catch(n){ot(e,e.return,n)}}}function JT(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Bu(t)}catch(n){ot(e,e.return,n)}}function RI(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Q6),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Q6),e;default:throw Error(Y(435,t.tag))}}function vf(t,e){var n=RI(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=zI.bind(null,t,r);r.then(i,i)}})}function _r(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(xo(o.type)){wt=o.stateNode,wr=!1;break e}break;case 5:wt=o.stateNode,wr=!1;break e;case 3:case 4:wt=o.stateNode.containerInfo,wr=!0;break e}o=o.return}if(wt===null)throw Error(Y(160));QT(s,a,i),wt=null,wr=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)ew(e,t),e=e.sibling}var ji=null;function ew(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_r(e,t),Tr(t),r&4&&(ho(3,t,t.return),Uh(3,t),ho(5,t,t.return));break;case 1:_r(e,t),Tr(t),r&512&&(en||n===null||rs(n,n.return)),r&64&&js&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=ji;if(_r(e,t),Tr(t),r&512&&(en||n===null||rs(n,n.return)),r&4){var s=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":s=i.getElementsByTagName("title")[0],(!s||s[Ph]||s[Nn]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),On(s,r,n),s[Nn]=t,_n(s),r=s;break e;case"link":var a=y3("link","href",i).get(r+(n.href||""));if(a){for(var o=0;o<a.length;o++)if(s=a[o],s.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&s.getAttribute("rel")===(n.rel==null?null:n.rel)&&s.getAttribute("title")===(n.title==null?null:n.title)&&s.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(o,1);break t}}s=i.createElement(r),On(s,r,n),i.head.appendChild(s);break;case"meta":if(a=y3("meta","content",i).get(r+(n.content||""))){for(o=0;o<a.length;o++)if(s=a[o],s.getAttribute("content")===(n.content==null?null:""+n.content)&&s.getAttribute("name")===(n.name==null?null:n.name)&&s.getAttribute("property")===(n.property==null?null:n.property)&&s.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&s.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(o,1);break t}}s=i.createElement(r),On(s,r,n),i.head.appendChild(s);break;default:throw Error(Y(468,r))}s[Nn]=t,_n(s),r=s}t.stateNode=r}else v3(i,t.type,t.stateNode);else t.stateNode=g3(i,r,t.memoizedProps);else s!==r?(s===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):s.count--,r===null?v3(i,t.type,t.stateNode):g3(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&b1(t,t.memoizedProps,n.memoizedProps)}break;case 27:_r(e,t),Tr(t),r&512&&(en||n===null||rs(n,n.return)),n!==null&&r&4&&b1(t,t.memoizedProps,n.memoizedProps);break;case 5:if(_r(e,t),Tr(t),r&512&&(en||n===null||rs(n,n.return)),t.flags&32){i=t.stateNode;try{Mu(i,"")}catch(x){ot(t,t.return,x)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,b1(t,i,n!==null?n.memoizedProps:i)),r&1024&&(T1=!0);break;case 6:if(_r(e,t),Tr(t),r&4){if(t.stateNode===null)throw Error(Y(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(x){ot(t,t.return,x)}}break;case 3:if(od=null,i=ji,ji=Yd(e.containerInfo),_r(e,t),ji=i,Tr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bu(e.containerInfo)}catch(x){ot(t,t.return,x)}T1&&(T1=!1,tw(t));break;case 4:r=ji,ji=Yd(t.stateNode.containerInfo),_r(e,t),Tr(t),ji=r;break;case 12:_r(e,t),Tr(t);break;case 31:_r(e,t),Tr(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,vf(t,r)));break;case 13:_r(e,t),Tr(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ym=Hr()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,vf(t,r)));break;case 22:i=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=js,d=en;if(js=c||i,en=d||u,_r(e,t),en=d,js=c,Tr(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||u||js||en||Qo(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(s=u.stateNode,i)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=u.stateNode;var p=u.memoizedProps.style,g=p!=null&&p.hasOwnProperty("display")?p.display:null;o.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(x){ot(u,u.return,x)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(x){ot(u,u.return,x)}}}else if(e.tag===18){if(n===null){u=e;try{var v=u.stateNode;i?h3(v,!0):h3(u.stateNode,!1)}catch(x){ot(u,u.return,x)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,vf(t,n))));break;case 19:_r(e,t),Tr(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,vf(t,r)));break;case 30:break;case 21:break;default:_r(e,t),Tr(t)}}function Tr(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(KT(r)){n=r;break}r=r.return}if(n==null)throw Error(Y(160));switch(n.tag){case 27:var i=n.stateNode,s=_1(t);Bd(t,s,i);break;case 5:var a=n.stateNode;n.flags&32&&(Mu(a,""),n.flags&=-33);var o=_1(t);Bd(t,o,a);break;case 3:case 4:var u=n.stateNode.containerInfo,c=_1(t);_4(t,c,u);break;default:throw Error(Y(161))}}catch(d){ot(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tw(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;tw(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function zs(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)XT(t,e.alternate,e),e=e.sibling}function Qo(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:ho(4,e,e.return),Qo(e);break;case 1:rs(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&qT(e,e.return,n),Qo(e);break;case 27:L0(e.stateNode);case 26:case 5:rs(e,e.return),Qo(e);break;case 22:e.memoizedState===null&&Qo(e);break;case 30:Qo(e);break;default:Qo(e)}t=t.sibling}}function Us(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:Us(i,s,n),Uh(4,s);break;case 1:if(Us(i,s,n),r=s,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){ot(r,r.return,c)}if(r=s,i=r.updateQueue,i!==null){var o=r.stateNode;try{var u=i.shared.hiddenCallbacks;if(u!==null)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)W_(u[i],o)}catch(c){ot(r,r.return,c)}}n&&a&64&&$T(s),D0(s,s.return);break;case 27:YT(s);case 26:case 5:Us(i,s,n),n&&r===null&&a&4&&GT(s),D0(s,s.return);break;case 12:Us(i,s,n);break;case 31:Us(i,s,n),n&&a&4&&WT(i,s);break;case 13:Us(i,s,n),n&&a&4&&JT(i,s);break;case 22:s.memoizedState===null&&Us(i,s,n),D0(s,s.return);break;case 30:break;default:Us(i,s,n)}e=e.sibling}}function Fv(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Lh(n))}function Hv(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Lh(t))}function Li(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nw(t,e,n,r),e=e.sibling}function nw(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Li(t,e,n,r),i&2048&&Uh(9,e);break;case 1:Li(t,e,n,r);break;case 3:Li(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Lh(t)));break;case 12:if(i&2048){Li(t,e,n,r),t=e.stateNode;try{var s=e.memoizedProps,a=s.id,o=s.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){ot(e,e.return,u)}}else Li(t,e,n,r);break;case 31:Li(t,e,n,r);break;case 13:Li(t,e,n,r);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?Li(t,e,n,r):O0(t,e):s._visibility&2?Li(t,e,n,r):(s._visibility|=2,jl(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&Fv(a,e);break;case 24:Li(t,e,n,r),i&2048&&Hv(e.alternate,e);break;default:Li(t,e,n,r)}}function jl(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var s=t,a=e,o=n,u=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:jl(s,a,o,u,i),Uh(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?jl(s,a,o,u,i):O0(s,a):(d._visibility|=2,jl(s,a,o,u,i)),i&&c&2048&&Fv(a.alternate,a);break;case 24:jl(s,a,o,u,i),i&&c&2048&&Hv(a.alternate,a);break;default:jl(s,a,o,u,i)}e=e.sibling}}function O0(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:O0(n,r),i&2048&&Fv(r.alternate,r);break;case 24:O0(n,r),i&2048&&Hv(r.alternate,r);break;default:O0(n,r)}e=e.sibling}}var g0=8192;function Vl(t,e,n){if(t.subtreeFlags&g0)for(t=t.child;t!==null;)rw(t,e,n),t=t.sibling}function rw(t,e,n){switch(t.tag){case 26:Vl(t,e,n),t.flags&g0&&t.memoizedState!==null&&dN(n,ji,t.memoizedState,t.memoizedProps);break;case 5:Vl(t,e,n);break;case 3:case 4:var r=ji;ji=Yd(t.stateNode.containerInfo),Vl(t,e,n),ji=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=g0,g0=16777216,Vl(t,e,n),g0=r):Vl(t,e,n));break;default:Vl(t,e,n)}}function iw(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function t0(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];bn=r,aw(r,t)}iw(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sw(t),t=t.sibling}function sw(t){switch(t.tag){case 0:case 11:case 15:t0(t),t.flags&2048&&ho(9,t,t.return);break;case 3:t0(t);break;case 12:t0(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,sd(t)):t0(t);break;default:t0(t)}}function sd(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];bn=r,aw(r,t)}iw(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:ho(8,e,e.return),sd(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,sd(e));break;default:sd(e)}t=t.sibling}}function aw(t,e){for(;bn!==null;){var n=bn;switch(n.tag){case 0:case 11:case 15:ho(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Lh(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,bn=r;else e:for(n=t;bn!==null;){r=bn;var i=r.sibling,s=r.return;if(ZT(r),r===n){bn=null;break e}if(i!==null){i.return=s,bn=i;break e}bn=s}}}var CI={getCacheForType:function(t){var e=Dn(tn),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Dn(tn).controller.signal}},kI=typeof WeakMap=="function"?WeakMap:Map,nt=0,ft=null,$e=null,qe=0,at=0,Ur=null,qa=!1,sc=!1,$v=!1,aa=0,zt=0,fo=0,ll=0,qv=0,Fr=0,zu=0,P0=null,Er=null,T4=!1,Ym=0,ow=0,jd=1/0,Fd=null,eo=null,ln=0,to=null,Lu=null,Ws=0,w4=0,S4=null,lw=null,z0=0,E4=null;function Gr(){return nt&2&&qe!==0?qe&-qe:Ee.T!==null?Kv():y_()}function uw(){if(Fr===0)if(!(qe&536870912)||Ke){var t=cf;cf<<=1,!(cf&3932160)&&(cf=262144),Fr=t}else Fr=536870912;return t=Yr.current,t!==null&&(t.flags|=32),Fr}function kr(t,e,n){(t===ft&&(at===2||at===9)||t.cancelPendingCommit!==null)&&(Vu(t,0),Ga(t,qe,Fr,!1)),Oh(t,n),(!(nt&2)||t!==ft)&&(t===ft&&(!(nt&2)&&(ll|=n),zt===4&&Ga(t,qe,Fr,!1)),gs(t))}function cw(t,e,n){if(nt&6)throw Error(Y(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Dh(t,e),i=r?MI(t,e):w1(t,e,!0),s=r;do{if(i===0){sc&&!r&&Ga(t,e,0,!1);break}else{if(n=t.current.alternate,s&&!II(n)){i=w1(t,e,!1),s=!1;continue}if(i===2){if(s=e,t.errorRecoveryDisabledLanes&s)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=t;i=P0;var u=o.current.memoizedState.isDehydrated;if(u&&(Vu(o,a).flags|=256),a=w1(o,a,!1),a!==2){if($v&&!u){o.errorRecoveryDisabledLanes|=s,ll|=s,i=4;break e}s=Er,Er=i,s!==null&&(Er===null?Er=s:Er.push.apply(Er,s))}i=a}if(s=!1,i!==2)continue}}if(i===1){Vu(t,0),Ga(t,e,0,!0);break}e:{switch(r=t,s=i,s){case 0:case 1:throw Error(Y(345));case 4:if((e&4194048)!==e)break;case 6:Ga(r,e,Fr,!qa);break e;case 2:Er=null;break;case 3:case 5:break;default:throw Error(Y(329))}if((e&62914560)===e&&(i=Ym+300-Hr(),10<i)){if(Ga(r,e,Fr,!qa),Lm(r,0,!0)!==0)break e;Ws=e,r.timeoutHandle=Iw(W6.bind(null,r,n,Er,Fd,T4,e,Fr,ll,zu,qa,s,"Throttled",-0,0),i);break e}W6(r,n,Er,Fd,T4,e,Fr,ll,zu,qa,s,null,-0,0)}}break}while(!0);gs(t)}function W6(t,e,n,r,i,s,a,o,u,c,d,p,g,v){if(t.timeoutHandle=-1,p=e.subtreeFlags,p&8192||(p&16785408)===16785408){p={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hs},rw(e,s,p);var x=(s&62914560)===s?Ym-Hr():(s&4194048)===s?ow-Hr():0;if(x=mN(p,x),x!==null){Ws=s,t.cancelPendingCommit=x(e3.bind(null,t,e,s,n,r,i,a,o,u,d,p,null,g,v)),Ga(t,s,a,!c);return}}e3(t,e,s,n,r,i,a,o,u)}function II(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Kr(s(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ga(t,e,n,r){e&=~qv,e&=~ll,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var s=31-qr(i),a=1<<s;r[s]=-1,i&=~a}n!==0&&m_(t,n,e)}function Xm(){return nt&6?!0:(Bh(0),!1)}function Gv(){if($e!==null){if(at===0)var t=$e.return;else t=$e,$s=Il=null,Nv(t),gu=null,nh=0,t=$e;for(;t!==null;)HT(t.alternate,t),t=t.return;$e=null}}function Vu(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,ZI(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Ws=0,Gv(),ft=t,$e=n=Zs(t.current,null),qe=e,at=0,Ur=null,qa=!1,sc=Dh(t,e),$v=!1,zu=Fr=qv=ll=fo=zt=0,Er=P0=null,T4=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-qr(r),s=1<<i;e|=t[i],r&=~s}return aa=e,jm(),n}function hw(t,e){ze=null,Ee.H=ih,e===ic||e===Hm?(e=I6(),at=3):e===Ev?(e=I6(),at=4):at=e===Bv?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Ur=e,$e===null&&(zt=1,Vd(t,ui(e,t.current)))}function fw(){var t=Yr.current;return t===null?!0:(qe&4194048)===qe?mi===null:(qe&62914560)===qe||qe&536870912?t===mi:!1}function dw(){var t=Ee.H;return Ee.H=ih,t===null?ih:t}function mw(){var t=Ee.A;return Ee.A=CI,t}function Hd(){zt=4,qa||(qe&4194048)!==qe&&Yr.current!==null||(sc=!0),!(fo&134217727)&&!(ll&134217727)||ft===null||Ga(ft,qe,Fr,!1)}function w1(t,e,n){var r=nt;nt|=2;var i=dw(),s=mw();(ft!==t||qe!==e)&&(Fd=null,Vu(t,e)),e=!1;var a=zt;e:do try{if(at!==0&&$e!==null){var o=$e,u=Ur;switch(at){case 8:Gv(),a=6;break e;case 3:case 2:case 9:case 6:Yr.current===null&&(e=!0);var c=at;if(at=0,Ur=null,ru(t,o,u,c),n&&sc){a=0;break e}break;default:c=at,at=0,Ur=null,ru(t,o,u,c)}}NI(),a=zt;break}catch(d){hw(t,d)}while(!0);return e&&t.shellSuspendCounter++,$s=Il=null,nt=r,Ee.H=i,Ee.A=s,$e===null&&(ft=null,qe=0,jm()),a}function NI(){for(;$e!==null;)pw($e)}function MI(t,e){var n=nt;nt|=2;var r=dw(),i=mw();ft!==t||qe!==e?(Fd=null,jd=Hr()+500,Vu(t,e)):sc=Dh(t,e);e:do try{if(at!==0&&$e!==null){e=$e;var s=Ur;t:switch(at){case 1:at=0,Ur=null,ru(t,e,s,1);break;case 2:case 9:if(k6(s)){at=0,Ur=null,J6(e);break}e=function(){at!==2&&at!==9||ft!==t||(at=7),gs(t)},s.then(e,e);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:k6(s)?(at=0,Ur=null,J6(e)):(at=0,Ur=null,ru(t,e,s,7));break;case 5:var a=null;switch($e.tag){case 26:a=$e.memoizedState;case 5:case 27:var o=$e;if(a?Pw(a):o.stateNode.complete){at=0,Ur=null;var u=o.sibling;if(u!==null)$e=u;else{var c=o.return;c!==null?($e=c,Zm(c)):$e=null}break t}}at=0,Ur=null,ru(t,e,s,5);break;case 6:at=0,Ur=null,ru(t,e,s,6);break;case 8:Gv(),zt=6;break e;default:throw Error(Y(462))}}DI();break}catch(d){hw(t,d)}while(!0);return $s=Il=null,Ee.H=r,Ee.A=i,nt=n,$e!==null?0:(ft=null,qe=0,jm(),zt)}function DI(){for(;$e!==null&&!nk();)pw($e)}function pw(t){var e=FT(t.alternate,t,aa);t.memoizedProps=t.pendingProps,e===null?Zm(t):$e=e}function J6(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=G6(n,e,e.pendingProps,e.type,void 0,qe);break;case 11:e=G6(n,e,e.pendingProps,e.type.render,e.ref,qe);break;case 5:Nv(e);default:HT(n,e),e=$e=H_(e,aa),e=FT(n,e,aa)}t.memoizedProps=t.pendingProps,e===null?Zm(t):$e=e}function ru(t,e,n,r){$s=Il=null,Nv(e),gu=null,nh=0;var i=e.return;try{if(TI(t,i,e,n,qe)){zt=1,Vd(t,ui(n,t.current)),$e=null;return}}catch(s){if(i!==null)throw $e=i,s;zt=1,Vd(t,ui(n,t.current)),$e=null;return}e.flags&32768?(Ke||r===1?t=!0:sc||qe&536870912?t=!1:(qa=t=!0,(r===2||r===9||r===3||r===6)&&(r=Yr.current,r!==null&&r.tag===13&&(r.flags|=16384))),gw(e,t)):Zm(e)}function Zm(t){var e=t;do{if(e.flags&32768){gw(e,qa);return}t=e.return;var n=EI(e.alternate,e,aa);if(n!==null){$e=n;return}if(e=e.sibling,e!==null){$e=e;return}$e=e=t}while(e!==null);zt===0&&(zt=5)}function gw(t,e){do{var n=AI(t.alternate,t);if(n!==null){n.flags&=32767,$e=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){$e=t;return}$e=t=n}while(t!==null);zt=6,$e=null}function e3(t,e,n,r,i,s,a,o,u){t.cancelPendingCommit=null;do Qm();while(ln!==0);if(nt&6)throw Error(Y(327));if(e!==null){if(e===t.current)throw Error(Y(177));if(s=e.lanes|e.childLanes,s|=yv,fk(t,n,s,a,o,u),t===ft&&($e=ft=null,qe=0),Lu=e,to=t,Ws=n,w4=s,S4=i,lw=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,LI(Rd,function(){return Tw(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=Ee.T,Ee.T=null,i=it.p,it.p=2,a=nt,nt|=4;try{xI(t,e,n)}finally{nt=a,it.p=i,Ee.T=r}}ln=1,yw(),vw(),bw()}}function yw(){if(ln===1){ln=0;var t=to,e=Lu,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Ee.T,Ee.T=null;var r=it.p;it.p=2;var i=nt;nt|=4;try{ew(e,t);var s=C4,a=P_(t.containerInfo),o=s.focusedElem,u=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&O_(o.ownerDocument.documentElement,o)){if(u!==null&&gv(o)){var c=u.start,d=u.end;if(d===void 0&&(d=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(d,o.value.length);else{var p=o.ownerDocument||document,g=p&&p.defaultView||window;if(g.getSelection){var v=g.getSelection(),x=o.textContent.length,N=Math.min(u.start,x),P=u.end===void 0?N:Math.min(u.end,x);!v.extend&&N>P&&(a=P,P=N,N=a);var C=w6(o,N),I=w6(o,P);if(C&&I&&(v.rangeCount!==1||v.anchorNode!==C.node||v.anchorOffset!==C.offset||v.focusNode!==I.node||v.focusOffset!==I.offset)){var M=p.createRange();M.setStart(C.node,C.offset),v.removeAllRanges(),N>P?(v.addRange(M),v.extend(I.node,I.offset)):(M.setEnd(I.node,I.offset),v.addRange(M))}}}}for(p=[],v=o;v=v.parentNode;)v.nodeType===1&&p.push({element:v,left:v.scrollLeft,top:v.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<p.length;o++){var V=p[o];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}Qd=!!R4,C4=R4=null}finally{nt=i,it.p=r,Ee.T=n}}t.current=e,ln=2}}function vw(){if(ln===2){ln=0;var t=to,e=Lu,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Ee.T,Ee.T=null;var r=it.p;it.p=2;var i=nt;nt|=4;try{XT(t,e.alternate,e)}finally{nt=i,it.p=r,Ee.T=n}}ln=3}}function bw(){if(ln===4||ln===3){ln=0,rk();var t=to,e=Lu,n=Ws,r=lw;e.subtreeFlags&10256||e.flags&10256?ln=5:(ln=0,Lu=to=null,_w(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(eo=null),uv(n),e=e.stateNode,$r&&typeof $r.onCommitFiberRoot=="function")try{$r.onCommitFiberRoot(Mh,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=Ee.T,i=it.p,it.p=2,Ee.T=null;try{for(var s=t.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{Ee.T=e,it.p=i}}Ws&3&&Qm(),gs(t),i=t.pendingLanes,n&261930&&i&42?t===E4?z0++:(z0=0,E4=t):z0=0,Bh(0)}}function _w(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Lh(e)))}function Qm(){return yw(),vw(),bw(),Tw()}function Tw(){if(ln!==5)return!1;var t=to,e=w4;w4=0;var n=uv(Ws),r=Ee.T,i=it.p;try{it.p=32>n?32:n,Ee.T=null,n=S4,S4=null;var s=to,a=Ws;if(ln=0,Lu=to=null,Ws=0,nt&6)throw Error(Y(331));var o=nt;if(nt|=4,sw(s.current),nw(s,s.current,a,n),nt=o,Bh(0,!1),$r&&typeof $r.onPostCommitFiberRoot=="function")try{$r.onPostCommitFiberRoot(Mh,s)}catch{}return!0}finally{it.p=i,Ee.T=r,_w(t,e)}}function t3(t,e,n){e=ui(n,e),e=y4(t.stateNode,e,2),t=Ja(t,e,2),t!==null&&(Oh(t,2),gs(t))}function ot(t,e,n){if(t.tag===3)t3(t,t,n);else for(;e!==null;){if(e.tag===3){t3(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(eo===null||!eo.has(r))){t=ui(n,t),n=zT(2),r=Ja(e,n,2),r!==null&&(LT(n,r,e,t),Oh(r,2),gs(r));break}}e=e.return}}function S1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||($v=!0,i.add(n),t=OI.bind(null,t,e,n),e.then(t,t))}function OI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ft===t&&(qe&n)===n&&(zt===4||zt===3&&(qe&62914560)===qe&&300>Hr()-Ym?!(nt&2)&&Vu(t,0):qv|=n,zu===qe&&(zu=0)),gs(t)}function ww(t,e){e===0&&(e=d_()),t=kl(t,e),t!==null&&(Oh(t,e),gs(t))}function PI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ww(t,n)}function zI(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(Y(314))}r!==null&&r.delete(e),ww(t,n)}function LI(t,e){return ov(t,e)}var $d=null,Fl=null,A4=!1,qd=!1,E1=!1,Ka=0;function gs(t){t!==Fl&&t.next===null&&(Fl===null?$d=Fl=t:Fl=Fl.next=t),qd=!0,A4||(A4=!0,UI())}function Bh(t,e){if(!E1&&qd){E1=!0;do for(var n=!1,r=$d;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-qr(42|t)+1)-1,s&=i&~(a&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(n=!0,n3(r,s))}else s=qe,s=Lm(r,r===ft?s:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(s&3)||Dh(r,s)||(n=!0,n3(r,s));r=r.next}while(n);E1=!1}}function VI(){Sw()}function Sw(){qd=A4=!1;var t=0;Ka!==0&&XI()&&(t=Ka);for(var e=Hr(),n=null,r=$d;r!==null;){var i=r.next,s=Ew(r,e);s===0?(r.next=null,n===null?$d=i:n.next=i,i===null&&(Fl=n)):(n=r,(t!==0||s&3)&&(qd=!0)),r=i}ln!==0&&ln!==5||Bh(t),Ka!==0&&(Ka=0)}function Ew(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes&-62914561;0<s;){var a=31-qr(s),o=1<<a,u=i[a];u===-1?(!(o&n)||o&r)&&(i[a]=hk(o,e)):u<=e&&(t.expiredLanes|=o),s&=~o}if(e=ft,n=qe,n=Lm(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(at===2||at===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Wp(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Dh(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Wp(r),uv(n)){case 2:case 8:n=h_;break;case 32:n=Rd;break;case 268435456:n=f_;break;default:n=Rd}return r=Aw.bind(null,t),n=ov(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Wp(r),t.callbackPriority=2,t.callbackNode=null,2}function Aw(t,e){if(ln!==0&&ln!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Qm()&&t.callbackNode!==n)return null;var r=qe;return r=Lm(t,t===ft?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(cw(t,r,e),Ew(t,Hr()),t.callbackNode!=null&&t.callbackNode===n?Aw.bind(null,t):null)}function n3(t,e){if(Qm())return null;cw(t,e,!0)}function UI(){QI(function(){nt&6?ov(c_,VI):Sw()})}function Kv(){if(Ka===0){var t=Du;t===0&&(t=uf,uf<<=1,!(uf&261888)&&(uf=256)),Ka=t}return Ka}function r3(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Zf(""+t)}function i3(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function BI(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var s=r3((i[Nr]||null).action),a=r.submitter;a&&(e=(e=a[Nr]||null)?r3(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var o=new Vm("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Ka!==0){var u=a?i3(i,a):new FormData(i);p4(n,{pending:!0,data:u,method:i.method,action:s},null,u)}}else typeof s=="function"&&(o.preventDefault(),u=a?i3(i,a):new FormData(i),p4(n,{pending:!0,data:u,method:i.method,action:s},s,u))},currentTarget:i}]})}}for(var A1=0;A1<r4.length;A1++){var x1=r4[A1],jI=x1.toLowerCase(),FI=x1[0].toUpperCase()+x1.slice(1);Gi(jI,"on"+FI)}Gi(L_,"onAnimationEnd");Gi(V_,"onAnimationIteration");Gi(U_,"onAnimationStart");Gi("dblclick","onDoubleClick");Gi("focusin","onFocus");Gi("focusout","onBlur");Gi(iI,"onTransitionRun");Gi(sI,"onTransitionStart");Gi(aI,"onTransitionCancel");Gi(B_,"onTransitionEnd");Nu("onMouseEnter",["mouseout","mouseover"]);Nu("onMouseLeave",["mouseout","mouseover"]);Nu("onPointerEnter",["pointerout","pointerover"]);Nu("onPointerLeave",["pointerout","pointerover"]);xl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));xl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));xl("onBeforeInput",["compositionend","keypress","textInput","paste"]);xl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));xl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));xl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(sh));function xw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(d){kd(d)}i.currentTarget=null,s=u}else for(a=0;a<r.length;a++){if(o=r[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(d){kd(d)}i.currentTarget=null,s=u}}}}function He(t,e){var n=e[Xg];n===void 0&&(n=e[Xg]=new Set);var r=t+"__bubble";n.has(r)||(Rw(e,t,2,!1),n.add(r))}function R1(t,e,n){var r=0;e&&(r|=4),Rw(n,t,r,e)}var bf="_reactListening"+Math.random().toString(36).slice(2);function Yv(t){if(!t[bf]){t[bf]=!0,v_.forEach(function(n){n!=="selectionchange"&&(HI.has(n)||R1(n,!1,t),R1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bf]||(e[bf]=!0,R1("selectionchange",!1,e))}}function Rw(t,e,n,r){switch(Bw(e)){case 2:var i=yN;break;case 8:i=vN;break;default:i=Wv}n=i.bind(null,e,n,t),i=void 0,!e4||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function C1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;o!==null;){if(a=Yl(o),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){r=s=a;continue e}o=o.parentNode}}r=r.return}x_(function(){var c=s,d=fv(n),p=[];e:{var g=j_.get(t);if(g!==void 0){var v=Vm,x=t;switch(t){case"keypress":if(Wf(n)===0)break e;case"keydown":case"keyup":v=zk;break;case"focusin":x="focus",v=r1;break;case"focusout":x="blur",v=r1;break;case"beforeblur":case"afterblur":v=r1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=f6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Ek;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Uk;break;case L_:case V_:case U_:v=Rk;break;case B_:v=jk;break;case"scroll":case"scrollend":v=wk;break;case"wheel":v=Hk;break;case"copy":case"cut":case"paste":v=kk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=m6;break;case"toggle":case"beforetoggle":v=qk}var N=(e&4)!==0,P=!N&&(t==="scroll"||t==="scrollend"),C=N?g!==null?g+"Capture":null:g;N=[];for(var I=c,M;I!==null;){var V=I;if(M=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||M===null||C===null||(V=Q0(I,C),V!=null&&N.push(ah(I,V,M))),P)break;I=I.return}0<N.length&&(g=new v(g,x,null,n,d),p.push({event:g,listeners:N}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==Jg&&(x=n.relatedTarget||n.fromElement)&&(Yl(x)||x[tc]))break e;if((v||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=c,x=x?Yl(x):null,x!==null&&(P=Nh(x),N=x.tag,x!==P||N!==5&&N!==27&&N!==6)&&(x=null)):(v=null,x=c),v!==x)){if(N=f6,V="onMouseLeave",C="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(N=m6,V="onPointerLeave",C="onPointerEnter",I="pointer"),P=v==null?g:m0(v),M=x==null?g:m0(x),g=new N(V,I+"leave",v,n,d),g.target=P,g.relatedTarget=M,V=null,Yl(d)===c&&(N=new N(C,I+"enter",x,n,d),N.target=M,N.relatedTarget=P,V=N),P=V,v&&x)t:{for(N=$I,C=v,I=x,M=0,V=C;V;V=N(V))M++;V=0;for(var j=I;j;j=N(j))V++;for(;0<M-V;)C=N(C),M--;for(;0<V-M;)I=N(I),V--;for(;M--;){if(C===I||I!==null&&C===I.alternate){N=C;break t}C=N(C),I=N(I)}N=null}else N=null;v!==null&&s3(p,g,v,N,!1),x!==null&&P!==null&&s3(p,P,x,N,!0)}}e:{if(g=c?m0(c):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var G=v6;else if(y6(g))if(M_)G=tI;else{G=Jk;var S=Wk}else v=g.nodeName,!v||v.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?c&&hv(c.elementType)&&(G=v6):G=eI;if(G&&(G=G(t,c))){N_(p,G,n,d);break e}S&&S(t,g,c),t==="focusout"&&c&&g.type==="number"&&c.memoizedProps.value!=null&&Wg(g,"number",g.value)}switch(S=c?m0(c):window,t){case"focusin":(y6(S)||S.contentEditable==="true")&&(Ql=S,t4=c,R0=null);break;case"focusout":R0=t4=Ql=null;break;case"mousedown":n4=!0;break;case"contextmenu":case"mouseup":case"dragend":n4=!1,S6(p,n,d);break;case"selectionchange":if(rI)break;case"keydown":case"keyup":S6(p,n,d)}var b;if(pv)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Zl?k_(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(C_&&n.locale!=="ko"&&(Zl||_!=="onCompositionStart"?_==="onCompositionEnd"&&Zl&&(b=R_()):($a=d,dv="value"in $a?$a.value:$a.textContent,Zl=!0)),S=Gd(c,_),0<S.length&&(_=new d6(_,t,null,n,d),p.push({event:_,listeners:S}),b?_.data=b:(b=I_(n),b!==null&&(_.data=b)))),(b=Kk?Yk(t,n):Xk(t,n))&&(_=Gd(c,"onBeforeInput"),0<_.length&&(S=new d6("onBeforeInput","beforeinput",null,n,d),p.push({event:S,listeners:_}),S.data=b)),BI(p,t,c,n,d)}xw(p,e)})}function ah(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Q0(t,n),i!=null&&r.unshift(ah(t,i,s)),i=Q0(t,e),i!=null&&r.push(ah(t,i,s))),t.tag===3)return r;t=t.return}return[]}function $I(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function s3(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,u=o.alternate,c=o.stateNode;if(o=o.tag,u!==null&&u===r)break;o!==5&&o!==26&&o!==27||c===null||(u=c,i?(c=Q0(n,s),c!=null&&a.unshift(ah(n,c,u))):i||(c=Q0(n,s),c!=null&&a.push(ah(n,c,u)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var qI=/\r\n?/g,GI=/\u0000|\uFFFD/g;function a3(t){return(typeof t=="string"?t:""+t).replace(qI,`
`).replace(GI,"")}function Cw(t,e){return e=a3(e),a3(t)===e}function ct(t,e,n,r,i,s){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Mu(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Mu(t,""+r);break;case"className":ff(t,"class",r);break;case"tabIndex":ff(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ff(t,n,r);break;case"style":A_(t,r,s);break;case"data":if(e!=="object"){ff(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Zf(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(n==="formAction"?(e!=="input"&&ct(t,e,"name",i.name,i,null),ct(t,e,"formEncType",i.formEncType,i,null),ct(t,e,"formMethod",i.formMethod,i,null),ct(t,e,"formTarget",i.formTarget,i,null)):(ct(t,e,"encType",i.encType,i,null),ct(t,e,"method",i.method,i,null),ct(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=Zf(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Hs);break;case"onScroll":r!=null&&He("scroll",t);break;case"onScrollEnd":r!=null&&He("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Y(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Y(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=Zf(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":He("beforetoggle",t),He("toggle",t),Xf(t,"popover",r);break;case"xlinkActuate":Ds(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Ds(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Ds(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Ds(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Ds(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Ds(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Ds(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Ds(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Ds(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Xf(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=_k.get(n)||n,Xf(t,n,r))}}function x4(t,e,n,r,i,s){switch(n){case"style":A_(t,r,s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(Y(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(Y(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Mu(t,r):(typeof r=="number"||typeof r=="bigint")&&Mu(t,""+r);break;case"onScroll":r!=null&&He("scroll",t);break;case"onScrollEnd":r!=null&&He("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Hs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!b_.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),s=t[Nr]||null,s=s!=null?s[n]:null,typeof s=="function"&&t.removeEventListener(e,s,i),typeof r=="function")){typeof s!="function"&&s!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Xf(t,n,r)}}}function On(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",t),He("load",t);var r=!1,i=!1,s;for(s in n)if(n.hasOwnProperty(s)){var a=n[s];if(a!=null)switch(s){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,e));default:ct(t,e,s,a,n,null)}}i&&ct(t,e,"srcSet",n.srcSet,n,null),r&&ct(t,e,"src",n.src,n,null);return;case"input":He("invalid",t);var o=s=a=i=null,u=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case"name":i=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":s=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(Y(137,e));break;default:ct(t,e,r,d,n,null)}}w_(t,s,o,u,c,a,i,!1);return;case"select":He("invalid",t),r=a=s=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":a=o;break;case"multiple":r=o;default:ct(t,e,i,o,n,null)}e=s,n=a,t.multiple=!!r,e!=null?du(t,!!r,e,!1):n!=null&&du(t,!!r,n,!0);return;case"textarea":He("invalid",t),s=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":i=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(Y(91));break;default:ct(t,e,a,o,n,null)}E_(t,r,i,s);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:ct(t,e,u,r,n,null)}return;case"dialog":He("beforetoggle",t),He("toggle",t),He("cancel",t),He("close",t);break;case"iframe":case"object":He("load",t);break;case"video":case"audio":for(r=0;r<sh.length;r++)He(sh[r],t);break;case"image":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"embed":case"source":case"link":He("error",t),He("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(Y(137,e));default:ct(t,e,c,r,n,null)}return;default:if(hv(e)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&x4(t,e,d,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&ct(t,e,o,r,n,null))}function KI(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,o=null,u=null,c=null,d=null;for(v in n){var p=n[v];if(n.hasOwnProperty(v)&&p!=null)switch(v){case"checked":break;case"value":break;case"defaultValue":u=p;default:r.hasOwnProperty(v)||ct(t,e,v,null,r,p)}}for(var g in r){var v=r[g];if(p=n[g],r.hasOwnProperty(g)&&(v!=null||p!=null))switch(g){case"type":s=v;break;case"name":i=v;break;case"checked":c=v;break;case"defaultChecked":d=v;break;case"value":a=v;break;case"defaultValue":o=v;break;case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(Y(137,e));break;default:v!==p&&ct(t,e,g,v,r,p)}}Qg(t,a,o,u,c,d,s,i);return;case"select":v=a=o=g=null;for(s in n)if(u=n[s],n.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":v=u;default:r.hasOwnProperty(s)||ct(t,e,s,null,r,u)}for(i in r)if(s=r[i],u=n[i],r.hasOwnProperty(i)&&(s!=null||u!=null))switch(i){case"value":g=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==u&&ct(t,e,i,s,r,u)}e=o,n=a,r=v,g!=null?du(t,!!n,g,!1):!!r!=!!n&&(e!=null?du(t,!!n,e,!0):du(t,!!n,n?[]:"",!1));return;case"textarea":v=g=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:ct(t,e,o,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":g=i;break;case"defaultValue":v=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(Y(91));break;default:i!==s&&ct(t,e,a,i,r,s)}S_(t,g,v);return;case"option":for(var x in n)if(g=n[x],n.hasOwnProperty(x)&&g!=null&&!r.hasOwnProperty(x))switch(x){case"selected":t.selected=!1;break;default:ct(t,e,x,null,r,g)}for(u in r)if(g=r[u],v=n[u],r.hasOwnProperty(u)&&g!==v&&(g!=null||v!=null))switch(u){case"selected":t.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:ct(t,e,u,g,r,v)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var N in n)g=n[N],n.hasOwnProperty(N)&&g!=null&&!r.hasOwnProperty(N)&&ct(t,e,N,null,r,g);for(c in r)if(g=r[c],v=n[c],r.hasOwnProperty(c)&&g!==v&&(g!=null||v!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(Y(137,e));break;default:ct(t,e,c,g,r,v)}return;default:if(hv(e)){for(var P in n)g=n[P],n.hasOwnProperty(P)&&g!==void 0&&!r.hasOwnProperty(P)&&x4(t,e,P,void 0,r,g);for(d in r)g=r[d],v=n[d],!r.hasOwnProperty(d)||g===v||g===void 0&&v===void 0||x4(t,e,d,g,r,v);return}}for(var C in n)g=n[C],n.hasOwnProperty(C)&&g!=null&&!r.hasOwnProperty(C)&&ct(t,e,C,null,r,g);for(p in r)g=r[p],v=n[p],!r.hasOwnProperty(p)||g===v||g==null&&v==null||ct(t,e,p,g,r,v)}function o3(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YI(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],s=i.transferSize,a=i.initiatorType,o=i.duration;if(s&&o&&o3(a)){for(a=0,o=i.responseEnd,r+=1;r<n.length;r++){var u=n[r],c=u.startTime;if(c>o)break;var d=u.transferSize,p=u.initiatorType;d&&o3(p)&&(u=u.responseEnd,a+=d*(u<o?1:(o-c)/(u-c)))}if(--r,e+=8*(s+a)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var R4=null,C4=null;function Kd(t){return t.nodeType===9?t:t.ownerDocument}function l3(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kw(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function k4(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var k1=null;function XI(){var t=window.event;return t&&t.type==="popstate"?t===k1?!1:(k1=t,!0):(k1=null,!1)}var Iw=typeof setTimeout=="function"?setTimeout:void 0,ZI=typeof clearTimeout=="function"?clearTimeout:void 0,u3=typeof Promise=="function"?Promise:void 0,QI=typeof queueMicrotask=="function"?queueMicrotask:typeof u3<"u"?function(t){return u3.resolve(null).then(t).catch(WI)}:Iw;function WI(t){setTimeout(function(){throw t})}function xo(t){return t==="head"}function c3(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),Bu(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")L0(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,L0(n);for(var s=n.firstChild;s;){var a=s.nextSibling,o=s.nodeName;s[Ph]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=a}}else n==="body"&&L0(t.ownerDocument.body);n=i}while(n);Bu(e)}function h3(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function I4(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":I4(n),cv(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function JI(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Ph])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(s=t.getAttribute("rel"),s==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(s!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(s=t.getAttribute("src"),(s!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===s)return t}else return t;if(t=pi(t.nextSibling),t===null)break}return null}function eN(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=pi(t.nextSibling),t===null))return null;return t}function Nw(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=pi(t.nextSibling),t===null))return null;return t}function N4(t){return t.data==="$?"||t.data==="$~"}function M4(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function tN(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function pi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var D4=null;function f3(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return pi(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function d3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Mw(t,e,n){switch(e=Kd(n),t){case"html":if(t=e.documentElement,!t)throw Error(Y(452));return t;case"head":if(t=e.head,!t)throw Error(Y(453));return t;case"body":if(t=e.body,!t)throw Error(Y(454));return t;default:throw Error(Y(451))}}function L0(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);cv(t)}var yi=new Map,m3=new Set;function Yd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var pa=it.d;it.d={f:nN,r:rN,D:iN,C:sN,L:aN,m:oN,X:uN,S:lN,M:cN};function nN(){var t=pa.f(),e=Xm();return t||e}function rN(t){var e=nc(t);e!==null&&e.tag===5&&e.type==="form"?AT(e):pa.r(t)}var ac=typeof document>"u"?null:document;function Dw(t,e,n){var r=ac;if(r&&typeof e=="string"&&e){var i=li(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),m3.has(i)||(m3.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),On(e,"link",t),_n(e),r.head.appendChild(e)))}}function iN(t){pa.D(t),Dw("dns-prefetch",t,null)}function sN(t,e){pa.C(t,e),Dw("preconnect",t,e)}function aN(t,e,n){pa.L(t,e,n);var r=ac;if(r&&t&&e){var i='link[rel="preload"][as="'+li(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+li(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+li(n.imageSizes)+'"]')):i+='[href="'+li(t)+'"]';var s=i;switch(e){case"style":s=Uu(t);break;case"script":s=oc(t)}yi.has(s)||(t=Tt({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),yi.set(s,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(jh(s))||e==="script"&&r.querySelector(Fh(s))||(e=r.createElement("link"),On(e,"link",t),_n(e),r.head.appendChild(e)))}}function oN(t,e){pa.m(t,e);var n=ac;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+li(r)+'"][href="'+li(t)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=oc(t)}if(!yi.has(s)&&(t=Tt({rel:"modulepreload",href:t},e),yi.set(s,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Fh(s)))return}r=n.createElement("link"),On(r,"link",t),_n(r),n.head.appendChild(r)}}}function lN(t,e,n){pa.S(t,e,n);var r=ac;if(r&&t){var i=fu(r).hoistableStyles,s=Uu(t);e=e||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(jh(s)))o.loading=5;else{t=Tt({rel:"stylesheet",href:t,"data-precedence":e},n),(n=yi.get(s))&&Xv(t,n);var u=a=r.createElement("link");_n(u),On(u,"link",t),u._p=new Promise(function(c,d){u.onload=c,u.onerror=d}),u.addEventListener("load",function(){o.loading|=1}),u.addEventListener("error",function(){o.loading|=2}),o.loading|=4,ad(a,e,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}}function uN(t,e){pa.X(t,e);var n=ac;if(n&&t){var r=fu(n).hoistableScripts,i=oc(t),s=r.get(i);s||(s=n.querySelector(Fh(i)),s||(t=Tt({src:t,async:!0},e),(e=yi.get(i))&&Zv(t,e),s=n.createElement("script"),_n(s),On(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function cN(t,e){pa.M(t,e);var n=ac;if(n&&t){var r=fu(n).hoistableScripts,i=oc(t),s=r.get(i);s||(s=n.querySelector(Fh(i)),s||(t=Tt({src:t,async:!0,type:"module"},e),(e=yi.get(i))&&Zv(t,e),s=n.createElement("script"),_n(s),On(s,"link",t),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}function p3(t,e,n,r){var i=(i=Za.current)?Yd(i):null;if(!i)throw Error(Y(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Uu(n.href),n=fu(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Uu(n.href);var s=fu(i).hoistableStyles,a=s.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(t,a),(s=i.querySelector(jh(t)))&&!s._p&&(a.instance=s,a.state.loading=5),yi.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},yi.set(t,n),s||hN(i,t,n,a.state))),e&&r===null)throw Error(Y(528,""));return a}if(e&&r!==null)throw Error(Y(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=oc(n),n=fu(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(Y(444,t))}}function Uu(t){return'href="'+li(t)+'"'}function jh(t){return'link[rel="stylesheet"]['+t+"]"}function Ow(t){return Tt({},t,{"data-precedence":t.precedence,precedence:null})}function hN(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),On(e,"link",n),_n(e),t.head.appendChild(e))}function oc(t){return'[src="'+li(t)+'"]'}function Fh(t){return"script[async]"+t}function g3(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+li(n.href)+'"]');if(r)return e.instance=r,_n(r),r;var i=Tt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),_n(r),On(r,"style",i),ad(r,n.precedence,t),e.instance=r;case"stylesheet":i=Uu(n.href);var s=t.querySelector(jh(i));if(s)return e.state.loading|=4,e.instance=s,_n(s),s;r=Ow(n),(i=yi.get(i))&&Xv(r,i),s=(t.ownerDocument||t).createElement("link"),_n(s);var a=s;return a._p=new Promise(function(o,u){a.onload=o,a.onerror=u}),On(s,"link",r),e.state.loading|=4,ad(s,n.precedence,t),e.instance=s;case"script":return s=oc(n.src),(i=t.querySelector(Fh(s)))?(e.instance=i,_n(i),i):(r=n,(i=yi.get(s))&&(r=Tt({},n),Zv(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),_n(i),On(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(Y(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,ad(r,n.precedence,t));return e.instance}function ad(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===e)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(t,s.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Xv(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Zv(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var od=null;function y3(t,e,n){if(od===null){var r=new Map,i=od=new Map;i.set(n,r)}else i=od,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var s=n[i];if(!(s[Ph]||s[Nn]||t==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=t+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function v3(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function fN(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Pw(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function dN(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Uu(r.href),s=e.querySelector(jh(i));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Xd.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=s,_n(s);return}s=e.ownerDocument||e,r=Ow(r),(i=yi.get(i))&&Xv(r,i),s=s.createElement("link"),_n(s);var a=s;a._p=new Promise(function(o,u){a.onload=o,a.onerror=u}),On(s,"link",r),n.instance=s}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Xd.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var I1=0;function mN(t,e){return t.stylesheets&&t.count===0&&ld(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&ld(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4+e);0<t.imgBytes&&I1===0&&(I1=62500*YI());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ld(t,t.stylesheets),t.unsuspend)){var s=t.unsuspend;t.unsuspend=null,s()}},(t.imgBytes>I1?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Xd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ld(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Zd=null;function ld(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Zd=new Map,e.forEach(pN,t),Zd=null,Xd.call(t))}function pN(t,e){if(!(e.state.loading&4)){var n=Zd.get(t);if(n)var r=n.get(null);else{n=new Map,Zd.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}i=e.instance,a=i.getAttribute("data-precedence"),s=n.get(a)||r,s===r&&n.set(null,i),n.set(a,i),this.count++,r=Xd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var oh={$$typeof:Fs,Provider:null,Consumer:null,_currentValue:il,_currentValue2:il,_threadCount:0};function gN(t,e,n,r,i,s,a,o,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jp(0),this.hiddenUpdates=Jp(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function zw(t,e,n,r,i,s,a,o,u,c,d,p){return t=new gN(t,e,n,a,u,c,d,p,o),e=1,s===!0&&(e|=24),s=jr(3,null,null,e),t.current=s,s.stateNode=t,e=wv(),e.refCount++,t.pooledCache=e,e.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:e},Av(s),t}function Lw(t){return t?(t=eu,t):eu}function Vw(t,e,n,r,i,s){i=Lw(i),r.context===null?r.context=i:r.pendingContext=i,r=Wa(e),r.payload={element:n},s=s===void 0?null:s,s!==null&&(r.callback=s),n=Ja(t,r,e),n!==null&&(kr(n,t,e),k0(n,t,e))}function b3(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Qv(t,e){b3(t,e),(t=t.alternate)&&b3(t,e)}function Uw(t){if(t.tag===13||t.tag===31){var e=kl(t,67108864);e!==null&&kr(e,t,67108864),Qv(t,67108864)}}function _3(t){if(t.tag===13||t.tag===31){var e=Gr();e=lv(e);var n=kl(t,e);n!==null&&kr(n,t,e),Qv(t,e)}}var Qd=!0;function yN(t,e,n,r){var i=Ee.T;Ee.T=null;var s=it.p;try{it.p=2,Wv(t,e,n,r)}finally{it.p=s,Ee.T=i}}function vN(t,e,n,r){var i=Ee.T;Ee.T=null;var s=it.p;try{it.p=8,Wv(t,e,n,r)}finally{it.p=s,Ee.T=i}}function Wv(t,e,n,r){if(Qd){var i=O4(r);if(i===null)C1(t,e,r,Wd,n),T3(t,r);else if(_N(i,t,e,n,r))r.stopPropagation();else if(T3(t,r),e&4&&-1<bN.indexOf(t)){for(;i!==null;){var s=nc(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=Xo(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var u=1<<31-qr(a);o.entanglements[1]|=u,a&=~u}gs(s),!(nt&6)&&(jd=Hr()+500,Bh(0))}}break;case 31:case 13:o=kl(s,2),o!==null&&kr(o,s,2),Xm(),Qv(s,2)}if(s=O4(r),s===null&&C1(t,e,r,Wd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else C1(t,e,r,null,n)}}function O4(t){return t=fv(t),Jv(t)}var Wd=null;function Jv(t){if(Wd=null,t=Yl(t),t!==null){var e=Nh(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=s_(e),t!==null)return t;t=null}else if(n===31){if(t=a_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Wd=t,null}function Bw(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ik()){case c_:return 2;case h_:return 8;case Rd:case sk:return 32;case f_:return 268435456;default:return 32}default:return 32}}var P4=!1,no=null,ro=null,io=null,lh=new Map,uh=new Map,La=[],bN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T3(t,e){switch(t){case"focusin":case"focusout":no=null;break;case"dragenter":case"dragleave":ro=null;break;case"mouseover":case"mouseout":io=null;break;case"pointerover":case"pointerout":lh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":uh.delete(e.pointerId)}}function n0(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=nc(e),e!==null&&Uw(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _N(t,e,n,r,i){switch(e){case"focusin":return no=n0(no,t,e,n,r,i),!0;case"dragenter":return ro=n0(ro,t,e,n,r,i),!0;case"mouseover":return io=n0(io,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return lh.set(s,n0(lh.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,uh.set(s,n0(uh.get(s)||null,t,e,n,r,i)),!0}return!1}function jw(t){var e=Yl(t.target);if(e!==null){var n=Nh(e);if(n!==null){if(e=n.tag,e===13){if(e=s_(n),e!==null){t.blockedOn=e,s6(t.priority,function(){_3(n)});return}}else if(e===31){if(e=a_(n),e!==null){t.blockedOn=e,s6(t.priority,function(){_3(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ud(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=O4(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Jg=r,n.target.dispatchEvent(r),Jg=null}else return e=nc(n),e!==null&&Uw(e),t.blockedOn=n,!1;e.shift()}return!0}function w3(t,e,n){ud(t)&&n.delete(e)}function TN(){P4=!1,no!==null&&ud(no)&&(no=null),ro!==null&&ud(ro)&&(ro=null),io!==null&&ud(io)&&(io=null),lh.forEach(w3),uh.forEach(w3)}function _f(t,e){t.blockedOn===e&&(t.blockedOn=null,P4||(P4=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,TN)))}var Tf=null;function S3(t){Tf!==t&&(Tf=t,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,function(){Tf===t&&(Tf=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(Jv(r||n)===null)continue;break}var s=nc(n);s!==null&&(t.splice(e,3),e-=3,p4(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Bu(t){function e(u){return _f(u,t)}no!==null&&_f(no,t),ro!==null&&_f(ro,t),io!==null&&_f(io,t),lh.forEach(e),uh.forEach(e);for(var n=0;n<La.length;n++){var r=La[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<La.length&&(n=La[0],n.blockedOn===null);)jw(n),n.blockedOn===null&&La.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[Nr]||null;if(typeof s=="function")a||S3(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[Nr]||null)o=a.formAction;else if(Jv(i)!==null)continue}else o=a.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),S3(n)}}}function Fw(){function t(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(a){return i=a})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function e2(t){this._internalRoot=t}Wm.prototype.render=e2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));var n=e.current,r=Gr();Vw(n,r,t,e,null,null)};Wm.prototype.unmount=e2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vw(t.current,2,null,t,null,null),Xm(),e[tc]=null}};function Wm(t){this._internalRoot=t}Wm.prototype.unstable_scheduleHydration=function(t){if(t){var e=y_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<La.length&&e!==0&&e<La[n].priority;n++);La.splice(n,0,t),n===0&&jw(t)}};var E3=r_.version;if(E3!=="19.2.3")throw Error(Y(527,E3,"19.2.3"));it.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=QC(e),t=t!==null?o_(t):null,t=t===null?null:t.stateNode,t};var wN={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Ee,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wf.isDisabled&&wf.supportsFiber)try{Mh=wf.inject(wN),$r=wf}catch{}}Pm.createRoot=function(t,e){if(!i_(t))throw Error(Y(299));var n=!1,r="",i=DT,s=OT,a=PT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=zw(t,1,!1,null,null,n,r,null,i,s,a,Fw),t[tc]=e.current,Yv(t),new e2(e)};Pm.hydrateRoot=function(t,e,n){if(!i_(t))throw Error(Y(299));var r=!1,i="",s=DT,a=OT,o=PT,u=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(s=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),e=zw(t,1,!0,e,n??null,r,i,u,s,a,o,Fw),e.context=Lw(null),n=e.current,r=Gr(),r=lv(r),i=Wa(r),i.callback=null,Ja(n,i,r),n=r,e.current.lanes=n,Oh(e,n),gs(e),t[tc]=e.current,Yv(t),new Wm(e)};Pm.version="19.2.3";function Hw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hw)}catch(t){console.error(t)}}Hw(),Q8.exports=Pm;var SN=Q8.exports;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jd(){return Jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jd.apply(this,arguments)}var el;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(el||(el={}));const A3="popstate";function EN(t){t===void 0&&(t={});function e(i,s){let{pathname:a="/",search:o="",hash:u=""}=t2(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),z4("",{pathname:a,search:o,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let a=i.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let u=i.location.href,c=u.indexOf("#");o=c===-1?u:u.slice(0,c)}return o+"#"+(typeof s=="string"?s:qw(s))}function r(i,s){AN(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return RN(e,n,r,t)}function $w(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function AN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xN(){return Math.random().toString(36).substr(2,8)}function x3(t,e){return{usr:t.state,key:t.key,idx:e}}function z4(t,e,n,r){return n===void 0&&(n=null),Jd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?t2(e):e,{state:n,key:e&&e.key||r||xN()})}function qw(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function t2(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function RN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=el.Pop,u=null,c=d();c==null&&(c=0,a.replaceState(Jd({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function p(){o=el.Pop;let P=d(),C=P==null?null:P-c;c=P,u&&u({action:o,location:N.location,delta:C})}function g(P,C){o=el.Push;let I=z4(N.location,P,C);n&&n(I,P),c=d()+1;let M=x3(I,c),V=N.createHref(I);try{a.pushState(M,"",V)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(V)}s&&u&&u({action:o,location:N.location,delta:1})}function v(P,C){o=el.Replace;let I=z4(N.location,P,C);n&&n(I,P),c=d();let M=x3(I,c),V=N.createHref(I);a.replaceState(M,"",V),s&&u&&u({action:o,location:N.location,delta:0})}function x(P){let C=i.location.origin!=="null"?i.location.origin:i.location.href,I=typeof P=="string"?P:qw(P);return I=I.replace(/ $/,"%20"),$w(C,"No window.location.(origin|href) available to create URL for href: "+I),new URL(I,C)}let N={get action(){return o},get location(){return t(i,a)},listen(P){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(A3,p),u=P,()=>{i.removeEventListener(A3,p),u=null}},createHref(P){return e(i,P)},createURL:x,encodeLocation(P){let C=x(P);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:g,replace:v,go(P){return a.go(P)}};return N}var R3;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(R3||(R3={}));function CN(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const Gw=["post","put","patch","delete"];new Set(Gw);const kN=["get",...Gw];new Set(kN);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L4(){return L4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L4.apply(this,arguments)}const IN=q.createContext(null),Kw=q.createContext(null);function NN(){return q.useContext(Kw)!=null}function MN(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function DN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=el.Pop,navigator:s,static:a=!1,future:o}=t;NN()&&$w(!1);let u=e.replace(/^\/*/,"/"),c=q.useMemo(()=>({basename:u,navigator:s,static:a,future:L4({v7_relativeSplatPath:!1},o)}),[u,o,s,a]);typeof r=="string"&&(r=t2(r));let{pathname:d="/",search:p="",hash:g="",state:v=null,key:x="default"}=r,N=q.useMemo(()=>{let P=CN(d,u);return P==null?null:{location:{pathname:P,search:p,hash:g,state:v,key:x},navigationType:i}},[u,d,p,g,v,x,i]);return N==null?null:q.createElement(IN.Provider,{value:c},q.createElement(Kw.Provider,{children:n,value:N}))}new Promise(()=>{});/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const ON="6";try{window.__reactRouterVersion=ON}catch{}const PN="startTransition",C3=$C[PN];function zN(t){let{basename:e,children:n,future:r,window:i}=t,s=q.useRef();s.current==null&&(s.current=EN({window:i,v5Compat:!0}));let a=s.current,[o,u]=q.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},d=q.useCallback(p=>{c&&C3?C3(()=>u(p)):u(p)},[u,c]);return q.useLayoutEffect(()=>a.listen(d),[a,d]),q.useEffect(()=>MN(r),[r]),q.createElement(DN,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}var k3;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(k3||(k3={}));var I3;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(I3||(I3={}));const LN="mod-race";var N3={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},VN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Xw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,p=(s&3)<<4|o>>4;let g=(o&15)<<2|c>>6,v=c&63;u||(v=64,a||(g=64)),r.push(n[d],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Yw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||p==null)throw new UN;const g=s<<2|o>>4;if(r.push(g),c!==64){const v=o<<4&240|c>>2;if(r.push(v),p!==64){const x=c<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};let UN=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};const BN=function(t){const e=Yw(t);return Xw.encodeByteArray(e,!0)},em=function(t){return BN(t).replace(/\./g,"")},Zw=function(t){try{return Xw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=()=>jN().__FIREBASE_DEFAULTS__,HN=()=>{if(typeof process>"u"||typeof N3>"u")return;const t=N3.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$N=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Zw(t[1]);return e&&JSON.parse(e)},n2=()=>{try{return FN()||HN()||$N()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Qw=t=>{var e,n;return(n=(e=n2())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Ww=t=>{const e=Qw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Jw=()=>{var t;return(t=n2())===null||t===void 0?void 0:t.config},eS=t=>{var e;return(e=n2())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[em(JSON.stringify(n)),em(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cr())}function YN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QN(){const t=cr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WN(){try{return typeof indexedDB=="object"}catch{return!1}}function JN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="FirebaseError";let Ro=class tS extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=eM,Object.setPrototypeOf(this,tS.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hh.prototype.create)}},Hh=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?tM(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Ro(i,o,r)}};function tM(t,e){return t.replace(nM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const nM=/\{\$([^}]+)}/g;function rM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function tm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(M3(s)&&M3(a)){if(!tm(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function M3(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function iM(t,e){const n=new sM(t,e);return n.subscribe.bind(n)}class sM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");aM(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=N1),i.error===void 0&&(i.error=N1),i.complete===void 0&&(i.complete=N1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function N1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t){return t&&t._delegate?t._delegate:t}let mo=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new qN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uM(e))try{this.getOrInitializeService({instanceIdentifier:Wo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Wo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wo){return this.instances.has(e)}getOptions(e=Wo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wo){return this.component?this.component.multipleInstances?e:Wo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lM(t){return t===Wo?void 0:t}function uM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new oM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var st;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(st||(st={}));const hM={debug:st.DEBUG,verbose:st.VERBOSE,info:st.INFO,warn:st.WARN,error:st.ERROR,silent:st.SILENT},fM=st.INFO,dM={[st.DEBUG]:"log",[st.VERBOSE]:"log",[st.INFO]:"info",[st.WARN]:"warn",[st.ERROR]:"error"},mM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=dM[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let r2=class{constructor(e){this.name=e,this._logLevel=fM,this._logHandler=mM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in st))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,st.DEBUG,...e),this._logHandler(this,st.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,st.VERBOSE,...e),this._logHandler(this,st.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,st.INFO,...e),this._logHandler(this,st.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,st.WARN,...e),this._logHandler(this,st.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,st.ERROR,...e),this._logHandler(this,st.ERROR,...e)}};const pM=(t,e)=>e.some(n=>t instanceof n);let D3,O3;function gM(){return D3||(D3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yM(){return O3||(O3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nS=new WeakMap,V4=new WeakMap,rS=new WeakMap,M1=new WeakMap,i2=new WeakMap;function vM(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(so(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&nS.set(n,t)}).catch(()=>{}),i2.set(e,t),e}function bM(t){if(V4.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});V4.set(t,e)}let U4={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return V4.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return so(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _M(t){U4=t(U4)}function TM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(D1(this),e,...n);return rS.set(r,e.sort?e.sort():[e]),so(r)}:yM().includes(t)?function(...e){return t.apply(D1(this),e),so(nS.get(this))}:function(...e){return so(t.apply(D1(this),e))}}function wM(t){return typeof t=="function"?TM(t):(t instanceof IDBTransaction&&bM(t),pM(t,gM())?new Proxy(t,U4):t)}function so(t){if(t instanceof IDBRequest)return vM(t);if(M1.has(t))return M1.get(t);const e=wM(t);return e!==t&&(M1.set(t,e),i2.set(e,t)),e}const D1=t=>i2.get(t);function SM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=so(a);return r&&a.addEventListener("upgradeneeded",u=>{r(so(a.result),u.oldVersion,u.newVersion,so(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const EM=["get","getKey","getAll","getAllKeys","count"],AM=["put","add","delete","clear"],O1=new Map;function P3(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(O1.get(e))return O1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=AM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EM.includes(n)))return;const s=async function(a,...o){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&u.done]))[0]};return O1.set(e,s),s}_M(t=>({...t,get:(e,n,r)=>P3(e,n)||t.get(e,n,r),has:(e,n)=>!!P3(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xM=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function RM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const B4="@firebase/app",z3="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new r2("@firebase/app"),CM="@firebase/app-compat",kM="@firebase/analytics-compat",IM="@firebase/analytics",NM="@firebase/app-check-compat",MM="@firebase/app-check",DM="@firebase/auth",OM="@firebase/auth-compat",PM="@firebase/database",zM="@firebase/data-connect",LM="@firebase/database-compat",VM="@firebase/functions",UM="@firebase/functions-compat",BM="@firebase/installations",jM="@firebase/installations-compat",FM="@firebase/messaging",HM="@firebase/messaging-compat",$M="@firebase/performance",qM="@firebase/performance-compat",GM="@firebase/remote-config",KM="@firebase/remote-config-compat",YM="@firebase/storage",XM="@firebase/storage-compat",ZM="@firebase/firestore",QM="@firebase/vertexai-preview",WM="@firebase/firestore-compat",JM="firebase",eD="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4="[DEFAULT]",tD={[B4]:"fire-core",[CM]:"fire-core-compat",[IM]:"fire-analytics",[kM]:"fire-analytics-compat",[MM]:"fire-app-check",[NM]:"fire-app-check-compat",[DM]:"fire-auth",[OM]:"fire-auth-compat",[PM]:"fire-rtdb",[zM]:"fire-data-connect",[LM]:"fire-rtdb-compat",[VM]:"fire-fn",[UM]:"fire-fn-compat",[BM]:"fire-iid",[jM]:"fire-iid-compat",[FM]:"fire-fcm",[HM]:"fire-fcm-compat",[$M]:"fire-perf",[qM]:"fire-perf-compat",[GM]:"fire-rc",[KM]:"fire-rc-compat",[YM]:"fire-gcs",[XM]:"fire-gcs-compat",[ZM]:"fire-fst",[WM]:"fire-fst-compat",[QM]:"fire-vertex","fire-js":"fire-js",[JM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,nD=new Map,F4=new Map;function L3(t,e){try{t.container.addComponent(e)}catch(n){oa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bl(t){const e=t.name;if(F4.has(e))return oa.debug(`There were multiple attempts to register component ${e}.`),!1;F4.set(e,t);for(const n of ch.values())L3(n,t);for(const n of nD.values())L3(n,t);return!0}function Jm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ao=new Hh("app","Firebase",rD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ao.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=eD;function iS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:j4,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ao.create("bad-app-name",{appName:String(i)});if(n||(n=Jw()),!n)throw ao.create("no-options");const s=ch.get(i);if(s){if(tm(n,s.options)&&tm(r,s.config))return s;throw ao.create("duplicate-app",{appName:i})}const a=new cM(i);for(const u of F4.values())a.addComponent(u);const o=new iD(n,r,a);return ch.set(i,o),o}function s2(t=j4){const e=ch.get(t);if(!e&&t===j4&&Jw())return iS();if(!e)throw ao.create("no-app",{appName:t});return e}function sD(){return Array.from(ch.values())}function as(t,e,n){var r;let i=(r=tD[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),oa.warn(o.join(" "));return}bl(new mo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="firebase-heartbeat-database",oD=1,hh="firebase-heartbeat-store";let P1=null;function sS(){return P1||(P1=SM(aD,oD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ao.create("idb-open",{originalErrorMessage:t.message})})),P1}async function lD(t){try{const n=(await sS()).transaction(hh),r=await n.objectStore(hh).get(aS(t));return await n.done,r}catch(e){if(e instanceof Ro)oa.warn(e.message);else{const n=ao.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});oa.warn(n.message)}}}async function V3(t,e){try{const r=(await sS()).transaction(hh,"readwrite");await r.objectStore(hh).put(e,aS(t)),await r.done}catch(n){if(n instanceof Ro)oa.warn(n.message);else{const r=ao.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});oa.warn(r.message)}}}function aS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=1024,cD=30*24*60*60*1e3;let hD=class{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=U3();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=cD}),this._storage.overwrite(this._heartbeatsCache))}catch(r){oa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=U3(),{heartbeatsToSend:r,unsentEntries:i}=fD(this._heartbeatsCache.heartbeats),s=em(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return oa.warn(n),""}}};function U3(){return new Date().toISOString().substring(0,10)}function fD(t,e=uD){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),B3(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),B3(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}let dD=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WN()?JN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return V3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return V3(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function B3(t){return em(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mD(t){bl(new mo("platform-logger",e=>new xM(e),"PRIVATE")),bl(new mo("heartbeat",e=>new hD(e),"PRIVATE")),as(B4,z3,t),as(B4,z3,"esm2017"),as("fire-js","")}mD("");var pD="firebase",gD="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(pD,gD,"app");function a2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function oS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yD=oS,lS=new Hh("auth","Firebase",oS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=new r2("@firebase/auth");function vD(t,...e){nm.logLevel<=st.WARN&&nm.warn(`Auth (${lc}): ${t}`,...e)}function cd(t,...e){nm.logLevel<=st.ERROR&&nm.error(`Auth (${lc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t,...e){throw o2(t,...e)}function os(t,...e){return o2(t,...e)}function uS(t,e,n){const r=Object.assign(Object.assign({},yD()),{[e]:n});return new Hh("auth","Firebase",r).create(e,{appName:t.name})}function oo(t){return uS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function o2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lS.create(t,...e)}function Ae(t,e,...n){if(!t)throw o2(e,...n)}function Gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cd(e),new Error(e)}function ua(t,e){t||Gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bD(){return j3()==="http:"||j3()==="https:"}function j3(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bD()||XN()||"connection"in navigator)?navigator.onLine:!0}function TD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ua(n>e,"Short delay should be less than long delay!"),this.isMobile=KN()||ZN()}get(){return _D()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t,e){ua(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new qh(3e4,6e4);function ep(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function uc(t,e,n,r,i={}){return hS(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=$h(Object.assign({key:t.config.apiKey},a)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},s);return YN()||(c.referrerPolicy="no-referrer"),cS.fetch()(dS(t,t.config.apiHost,n,o),c)})}async function hS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},wD),e);try{const i=new ED(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Sf(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[u,c]=o.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sf(t,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw Sf(t,"email-already-in-use",a);if(u==="USER_DISABLED")throw Sf(t,"user-disabled",a);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw uS(t,d,c);la(t,d)}}catch(i){if(i instanceof Ro)throw i;la(t,"network-request-failed",{message:String(i)})}}async function fS(t,e,n,r,i={}){const s=await uc(t,e,n,r,i);return"mfaPendingCredential"in s&&la(t,"multi-factor-auth-required",{_serverResponse:s}),s}function dS(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?l2(t.config,i):`${t.config.apiScheme}://${i}`}class ED{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(os(this.auth,"network-request-failed")),SD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=os(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(t,e){return uc(t,"POST","/v1/accounts:delete",e)}async function mS(t,e){return uc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xD(t,e=!1){const n=Ki(t),r=await n.getIdToken(e),i=u2(r);Ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:V0(z1(i.auth_time)),issuedAtTime:V0(z1(i.iat)),expirationTime:V0(z1(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function z1(t){return Number(t)*1e3}function u2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return cd("JWT malformed, contained fewer than 3 sections"),null;try{const i=Zw(n);return i?JSON.parse(i):(cd("Failed to decode base64 JWT payload"),null)}catch(i){return cd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function F3(t){const e=u2(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ro&&RD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function RD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=V0(this.lastLoginAt),this.creationTime=V0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rm(t){var e;const n=t.auth,r=await t.getIdToken(),i=await fh(t,mS(n,{idToken:r}));Ae(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?pS(s.providerUserInfo):[],o=ID(t.providerData,a),u=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=u?c:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new $4(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,p)}async function kD(t){const e=Ki(t);await rm(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ID(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pS(t){return t.map(e=>{var{providerId:n}=e,r=a2(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND(t,e){const n=await hS(t,{},async()=>{const r=$h({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=dS(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",cS.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function MD(t,e){return uc(t,"POST","/v2/accounts:revokeToken",ep(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F3(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=F3(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await ND(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new bu;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(Ae(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ae(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bu,this.toJSON())}_performRefresh(){return Gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ra(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ks{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=a2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new $4(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await fh(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xD(this,e)}reload(){return kD(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ks(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await rm(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qs(this.auth.app))return Promise.reject(oo(this.auth));const e=await this.getIdToken();return await fh(this,AD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,u,c,d;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,x=(a=n.photoURL)!==null&&a!==void 0?a:void 0,N=(o=n.tenantId)!==null&&o!==void 0?o:void 0,P=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,C=(c=n.createdAt)!==null&&c!==void 0?c:void 0,I=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:M,emailVerified:V,isAnonymous:j,providerData:G,stsTokenManager:S}=n;Ae(M&&S,e,"internal-error");const b=bu.fromJSON(this.name,S);Ae(typeof M=="string",e,"internal-error"),Ra(p,e.name),Ra(g,e.name),Ae(typeof V=="boolean",e,"internal-error"),Ae(typeof j=="boolean",e,"internal-error"),Ra(v,e.name),Ra(x,e.name),Ra(N,e.name),Ra(P,e.name),Ra(C,e.name),Ra(I,e.name);const _=new Ks({uid:M,auth:e,email:g,emailVerified:V,displayName:p,isAnonymous:j,photoURL:x,phoneNumber:v,tenantId:N,stsTokenManager:b,createdAt:C,lastLoginAt:I});return G&&Array.isArray(G)&&(_.providerData=G.map(A=>Object.assign({},A))),P&&(_._redirectEventId=P),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new bu;i.updateFromServerResponse(n);const s=new Ks({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await rm(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ae(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?pS(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new bu;o.updateFromIdToken(r);const u=new Ks({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new $4(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H3=new Map;function Ys(t){ua(t instanceof Function,"Expected a class definition");let e=H3.get(t);return e?(ua(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,H3.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gS.type="NONE";const $3=gS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(t,e,n){return`firebase:${t}:${e}:${n}`}class _u{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=hd(this.userKey,i.apiKey,s),this.fullPersistenceKey=hd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ks._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new _u(Ys($3),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ys($3);const a=hd(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const d=await c._get(a);if(d){const p=Ks._fromJSON(e,d);c!==s&&(o=p),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new _u(s,e,r):(s=u[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new _u(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_S(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wS(e))return"Blackberry";if(SS(e))return"Webos";if(vS(e))return"Safari";if((e.includes("chrome/")||bS(e))&&!e.includes("edge/"))return"Chrome";if(TS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yS(t=cr()){return/firefox\//i.test(t)}function vS(t=cr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bS(t=cr()){return/crios\//i.test(t)}function _S(t=cr()){return/iemobile/i.test(t)}function TS(t=cr()){return/android/i.test(t)}function wS(t=cr()){return/blackberry/i.test(t)}function SS(t=cr()){return/webos/i.test(t)}function c2(t=cr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DD(t=cr()){var e;return c2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OD(){return QN()&&document.documentMode===10}function ES(t=cr()){return c2(t)||TS(t)||SS(t)||wS(t)||/windows phone/i.test(t)||_S(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(t,e=[]){let n;switch(t){case"Browser":n=q3(cr());break;case"Worker":n=`${q3(cr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const u=e(s);a(u)}catch(u){o(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zD(t,e={}){return uc(t,"GET","/v2/passwordPolicy",ep(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=6;class VD{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:LD,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,o;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNumericCharacter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(o=u.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new G3(this),this.idTokenSubscription=new G3(this),this.beforeStateQueue=new PD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ys(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await _u.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await mS(this,{idToken:e}),r=await Ks._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qs(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!a||a===o)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rm(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qs(this.app))return Promise.reject(oo(this));const n=e?Ki(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qs(this.app)?Promise.reject(oo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qs(this.app)?Promise.reject(oo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zD(this),n=new VD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Hh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await MD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ys(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await _u.create(this,[Ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{a=!0,u()}}else{const u=e.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function tp(t){return Ki(t)}class G3{constructor(e){this.auth=e,this.observer=null,this.addObserver=iM(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BD(t){h2=t}function jD(t){return h2.loadJS(t)}function FD(){return h2.gapiScript}function HD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t,e){const n=Jm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(tm(s,e??{}))return i;la(i,"already-initialized")}return n.initialize({options:e})}function qD(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ys);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function GD(t,e,n){const r=tp(t);Ae(r._canInitEmulator,r,"emulator-config-failed"),Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=xS(e),{host:a,port:o}=KD(e),u=o===null?"":`:${o}`;r.config.emulator={url:`${s}//${a}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),YD()}function xS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function KD(t){const e=xS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:K3(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:K3(a)}}}function K3(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function YD(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gs("not implemented")}_getIdTokenResponse(e){return Gs("not implemented")}_linkToIdToken(e,n){return Gs("not implemented")}_getReauthenticationResolver(e){return Gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(t,e){return fS(t,"POST","/v1/accounts:signInWithIdp",ep(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="http://localhost";class _l extends RS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _l(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):la("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=a2(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new _l(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Tu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Tu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tu(e,n)}buildRequest(){const e={requestUri:XD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$h(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends CS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends Gh{constructor(){super("facebook.com")}static credential(e){return _l._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Va.credential(e.oauthAccessToken)}catch{return null}}}Va.FACEBOOK_SIGN_IN_METHOD="facebook.com";Va.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua extends Gh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _l._fromParams({providerId:Ua.PROVIDER_ID,signInMethod:Ua.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ua.credentialFromTaggedObject(e)}static credentialFromError(e){return Ua.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ua.credential(n,r)}catch{return null}}}Ua.GOOGLE_SIGN_IN_METHOD="google.com";Ua.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends Gh{constructor(){super("github.com")}static credential(e){return _l._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ba.credential(e.oauthAccessToken)}catch{return null}}}Ba.GITHUB_SIGN_IN_METHOD="github.com";Ba.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja extends Gh{constructor(){super("twitter.com")}static credential(e,n){return _l._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ja.credential(n,r)}catch{return null}}}ja.TWITTER_SIGN_IN_METHOD="twitter.com";ja.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ks._fromIdTokenResponse(e,r,i),a=Y3(r);return new Tl({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Y3(r);return new Tl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Y3(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im extends Ro{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,im.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new im(e,n,r,i)}}function kS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?im._fromErrorAndOperation(t,s,e,r):s})}async function ZD(t,e,n=!1){const r=await fh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Tl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(t,e,n=!1){const{auth:r}=t;if(qs(r.app))return Promise.reject(oo(r));const i="reauthenticate";try{const s=await fh(t,kS(r,i,e,t),n);Ae(s.idToken,r,"internal-error");const a=u2(s.idToken);Ae(a,r,"internal-error");const{sub:o}=a;return Ae(t.uid===o,r,"user-mismatch"),Tl._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&la(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WD(t,e,n=!1){if(qs(t.app))return Promise.reject(oo(t));const r="signIn",i=await kS(t,r,e),s=await Tl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(t,e){return fS(t,"POST","/v1/accounts:signInWithCustomToken",ep(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(t,e){if(qs(t.app))return Promise.reject(oo(t));const n=tp(t),r=await JD(n,{token:e,returnSecureToken:!0}),i=await Tl._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function tO(t,e,n,r){return Ki(t).onIdTokenChanged(e,n,r)}function nO(t,e,n){return Ki(t).beforeAuthStateChanged(e,n)}function rO(t,e,n,r){return Ki(t).onAuthStateChanged(e,n,r)}function iO(t){return Ki(t).signOut()}const sm="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sm,"1"),this.storage.removeItem(sm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=1e3,aO=10;class NS extends IS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ES(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,u)=>{this.notifyListeners(a,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);OD()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,aO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}NS.type="LOCAL";const oO=NS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS extends IS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MS.type="SESSION";const DS=MS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new np(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),u=await lO(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}np.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,u)=>{const c=f2("",20);i.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(g.data.response);break;default:clearTimeout(d),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(){return window}function cO(t){ls().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(){return typeof ls().WorkerGlobalScope<"u"&&typeof ls().importScripts=="function"}async function hO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dO(){return OS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="firebaseLocalStorageDb",mO=1,am="firebaseLocalStorage",zS="fbase_key";class Kh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rp(t,e){return t.transaction([am],e?"readwrite":"readonly").objectStore(am)}function pO(){const t=indexedDB.deleteDatabase(PS);return new Kh(t).toPromise()}function q4(){const t=indexedDB.open(PS,mO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(am,{keyPath:zS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(am)?e(r):(r.close(),await pO(),e(await q4()))})})}async function X3(t,e,n){const r=rp(t,!0).put({[zS]:e,value:n});return new Kh(r).toPromise()}async function gO(t,e){const n=rp(t,!1).get(e),r=await new Kh(n).toPromise();return r===void 0?null:r.value}function Z3(t,e){const n=rp(t,!0).delete(e);return new Kh(n).toPromise()}const yO=800,vO=3;class LS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await q4(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=np._getInstance(dO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await hO(),!this.activeServiceWorker)return;this.sender=new uO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await q4();return await X3(e,sm,"1"),await Z3(e,sm),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>X3(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>gO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Z3(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=rp(i,!1).getAll();return new Kh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LS.type="LOCAL";const bO=LS;new qh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t,e){return e?Ys(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2 extends RS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TO(t){return WD(t.auth,new d2(t),t.bypassAuthState)}function wO(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),QD(n,new d2(t),t.bypassAuthState)}async function SO(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),ZD(n,new d2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TO;case"linkViaPopup":case"linkViaRedirect":return SO;case"reauthViaPopup":case"reauthViaRedirect":return wO;default:la(this.auth,"internal-error")}}resolve(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ua(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=new qh(2e3,1e4);class iu extends VS{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,iu.currentPopupAction&&iu.currentPopupAction.cancel(),iu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){ua(this.filter.length===1,"Popup operations only handle one event");const e=f2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(os(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,iu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(os(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,EO.get())};e()}}iu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="pendingRedirect",fd=new Map;class xO extends VS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fd.get(this.auth._key());if(!e){try{const r=await RO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fd.set(this.auth._key(),e)}return this.bypassAuthState||fd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RO(t,e){const n=IO(e),r=kO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function CO(t,e){fd.set(t._key(),e)}function kO(t){return Ys(t._redirectPersistence)}function IO(t){return hd(AO,t.config.apiKey,t.name)}async function NO(t,e,n=!1){if(qs(t.app))return Promise.reject(oo(t));const r=tp(t),i=_O(r,e),a=await new xO(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=10*60*1e3;class DO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!US(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(os(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Q3(e))}saveEventToCache(e){this.cachedEventUids.add(Q3(e)),this.lastProcessedEventTime=Date.now()}}function Q3(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function US({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function OO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return US(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(t,e={}){return uc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LO=/^https?/;async function VO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await PO(t);for(const n of e)try{if(UO(n))return}catch{}la(t,"unauthorized-domain")}function UO(t){const e=H4(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!LO.test(n))return!1;if(zO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new qh(3e4,6e4);function W3(){const t=ls().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function jO(t){return new Promise((e,n)=>{var r,i,s;function a(){W3(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W3(),n(os(t,"network-request-failed"))},timeout:BO.get()})}if(!((i=(r=ls().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ls().gapi)===null||s===void 0)&&s.load)a();else{const o=HD("iframefcb");return ls()[o]=()=>{gapi.load?a():n(os(t,"network-request-failed"))},jD(`${FD()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw dd=null,e})}let dd=null;function FO(t){return dd=dd||jO(t),dd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=new qh(5e3,15e3),$O="__/auth/iframe",qO="emulator/auth/iframe",GO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YO(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?l2(e,qO):`https://${t.config.authDomain}/${$O}`,r={apiKey:e.apiKey,appName:t.name,v:lc},i=KO.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${$h(r).slice(1)}`}async function XO(t){const e=await FO(t),n=ls().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:YO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GO,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=os(t,"network-request-failed"),o=ls().setTimeout(()=>{s(a)},HO.get());function u(){ls().clearTimeout(o),i(r)}r.ping(u).then(u,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QO=500,WO=600,JO="_blank",eP="http://localhost";class J3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tP(t,e,n,r=QO,i=WO){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const u=Object.assign(Object.assign({},ZO),{width:r.toString(),height:i.toString(),top:s,left:a}),c=cr().toLowerCase();n&&(o=bS(c)?JO:n),yS(c)&&(e=e||eP,u.scrollbars="yes");const d=Object.entries(u).reduce((g,[v,x])=>`${g}${v}=${x},`,"");if(DD(c)&&o!=="_self")return nP(e||"",o),new J3(null);const p=window.open(e||"",o,d);Ae(p,t,"popup-blocked");try{p.focus()}catch{}return new J3(p)}function nP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP="__/auth/handler",iP="emulator/auth/handler",sP=encodeURIComponent("fac");async function e7(t,e,n,r,i,s){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:lc,eventId:i};if(e instanceof CS){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",rM(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,p]of Object.entries({}))a[d]=p}if(e instanceof Gh){const d=e.getScopes().filter(p=>p!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const u=await t._getAppCheckToken(),c=u?`#${sP}=${encodeURIComponent(u)}`:"";return`${aP(t)}?${$h(o).slice(1)}${c}`}function aP({config:t}){return t.emulator?l2(t,iP):`https://${t.authDomain}/${rP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="webStorageSupport";class oP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DS,this._completeRedirectFn=NO,this._overrideRedirectResult=CO}async _openPopup(e,n,r,i){var s;ua((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await e7(e,n,r,H4(),i);return tP(e,a,f2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await e7(e,n,r,H4(),i);return cO(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ua(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await XO(e),r=new DO(e);return n.register("authEvent",i=>(Ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(L1,{type:L1},i=>{var s;const a=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[L1];a!==void 0&&n(!!a),la(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ES()||vS()||c2()}}const lP=oP;var t7="@firebase/auth",n7="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hP(t){bl(new mo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Ae(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AS(t)},c=new UD(r,i,s,u);return qD(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),bl(new mo("auth-internal",e=>{const n=tp(e.getProvider("auth").getImmediate());return(r=>new uP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(t7,n7,cP(t)),as(t7,n7,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=5*60,dP=eS("authIdTokenMaxAge")||fP;let r7=null;const mP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dP)return;const i=n==null?void 0:n.token;r7!==i&&(r7=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function pP(t=s2()){const e=Jm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=$D(t,{popupRedirectResolver:lP,persistence:[bO,oO,DS]}),r=eS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=mP(s.toString());nO(n,a,()=>a(n.currentUser)),tO(n,o=>a(o))}}const i=Qw("auth");return i&&GD(n,`http://${i}`),n}function gP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}BD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=os("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",gP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hP("Browser");var i7=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var BS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,b){function _(){}_.prototype=b.prototype,S.D=b.prototype,S.prototype=new _,S.prototype.constructor=S,S.C=function(A,R,D){for(var w=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)w[ue-2]=arguments[ue];return b.prototype[R].apply(A,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,b,_){_||(_=0);var A=Array(16);if(typeof b=="string")for(var R=0;16>R;++R)A[R]=b.charCodeAt(_++)|b.charCodeAt(_++)<<8|b.charCodeAt(_++)<<16|b.charCodeAt(_++)<<24;else for(R=0;16>R;++R)A[R]=b[_++]|b[_++]<<8|b[_++]<<16|b[_++]<<24;b=S.g[0],_=S.g[1],R=S.g[2];var D=S.g[3],w=b+(D^_&(R^D))+A[0]+3614090360&4294967295;b=_+(w<<7&4294967295|w>>>25),w=D+(R^b&(_^R))+A[1]+3905402710&4294967295,D=b+(w<<12&4294967295|w>>>20),w=R+(_^D&(b^_))+A[2]+606105819&4294967295,R=D+(w<<17&4294967295|w>>>15),w=_+(b^R&(D^b))+A[3]+3250441966&4294967295,_=R+(w<<22&4294967295|w>>>10),w=b+(D^_&(R^D))+A[4]+4118548399&4294967295,b=_+(w<<7&4294967295|w>>>25),w=D+(R^b&(_^R))+A[5]+1200080426&4294967295,D=b+(w<<12&4294967295|w>>>20),w=R+(_^D&(b^_))+A[6]+2821735955&4294967295,R=D+(w<<17&4294967295|w>>>15),w=_+(b^R&(D^b))+A[7]+4249261313&4294967295,_=R+(w<<22&4294967295|w>>>10),w=b+(D^_&(R^D))+A[8]+1770035416&4294967295,b=_+(w<<7&4294967295|w>>>25),w=D+(R^b&(_^R))+A[9]+2336552879&4294967295,D=b+(w<<12&4294967295|w>>>20),w=R+(_^D&(b^_))+A[10]+4294925233&4294967295,R=D+(w<<17&4294967295|w>>>15),w=_+(b^R&(D^b))+A[11]+2304563134&4294967295,_=R+(w<<22&4294967295|w>>>10),w=b+(D^_&(R^D))+A[12]+1804603682&4294967295,b=_+(w<<7&4294967295|w>>>25),w=D+(R^b&(_^R))+A[13]+4254626195&4294967295,D=b+(w<<12&4294967295|w>>>20),w=R+(_^D&(b^_))+A[14]+2792965006&4294967295,R=D+(w<<17&4294967295|w>>>15),w=_+(b^R&(D^b))+A[15]+1236535329&4294967295,_=R+(w<<22&4294967295|w>>>10),w=b+(R^D&(_^R))+A[1]+4129170786&4294967295,b=_+(w<<5&4294967295|w>>>27),w=D+(_^R&(b^_))+A[6]+3225465664&4294967295,D=b+(w<<9&4294967295|w>>>23),w=R+(b^_&(D^b))+A[11]+643717713&4294967295,R=D+(w<<14&4294967295|w>>>18),w=_+(D^b&(R^D))+A[0]+3921069994&4294967295,_=R+(w<<20&4294967295|w>>>12),w=b+(R^D&(_^R))+A[5]+3593408605&4294967295,b=_+(w<<5&4294967295|w>>>27),w=D+(_^R&(b^_))+A[10]+38016083&4294967295,D=b+(w<<9&4294967295|w>>>23),w=R+(b^_&(D^b))+A[15]+3634488961&4294967295,R=D+(w<<14&4294967295|w>>>18),w=_+(D^b&(R^D))+A[4]+3889429448&4294967295,_=R+(w<<20&4294967295|w>>>12),w=b+(R^D&(_^R))+A[9]+568446438&4294967295,b=_+(w<<5&4294967295|w>>>27),w=D+(_^R&(b^_))+A[14]+3275163606&4294967295,D=b+(w<<9&4294967295|w>>>23),w=R+(b^_&(D^b))+A[3]+4107603335&4294967295,R=D+(w<<14&4294967295|w>>>18),w=_+(D^b&(R^D))+A[8]+1163531501&4294967295,_=R+(w<<20&4294967295|w>>>12),w=b+(R^D&(_^R))+A[13]+2850285829&4294967295,b=_+(w<<5&4294967295|w>>>27),w=D+(_^R&(b^_))+A[2]+4243563512&4294967295,D=b+(w<<9&4294967295|w>>>23),w=R+(b^_&(D^b))+A[7]+1735328473&4294967295,R=D+(w<<14&4294967295|w>>>18),w=_+(D^b&(R^D))+A[12]+2368359562&4294967295,_=R+(w<<20&4294967295|w>>>12),w=b+(_^R^D)+A[5]+4294588738&4294967295,b=_+(w<<4&4294967295|w>>>28),w=D+(b^_^R)+A[8]+2272392833&4294967295,D=b+(w<<11&4294967295|w>>>21),w=R+(D^b^_)+A[11]+1839030562&4294967295,R=D+(w<<16&4294967295|w>>>16),w=_+(R^D^b)+A[14]+4259657740&4294967295,_=R+(w<<23&4294967295|w>>>9),w=b+(_^R^D)+A[1]+2763975236&4294967295,b=_+(w<<4&4294967295|w>>>28),w=D+(b^_^R)+A[4]+1272893353&4294967295,D=b+(w<<11&4294967295|w>>>21),w=R+(D^b^_)+A[7]+4139469664&4294967295,R=D+(w<<16&4294967295|w>>>16),w=_+(R^D^b)+A[10]+3200236656&4294967295,_=R+(w<<23&4294967295|w>>>9),w=b+(_^R^D)+A[13]+681279174&4294967295,b=_+(w<<4&4294967295|w>>>28),w=D+(b^_^R)+A[0]+3936430074&4294967295,D=b+(w<<11&4294967295|w>>>21),w=R+(D^b^_)+A[3]+3572445317&4294967295,R=D+(w<<16&4294967295|w>>>16),w=_+(R^D^b)+A[6]+76029189&4294967295,_=R+(w<<23&4294967295|w>>>9),w=b+(_^R^D)+A[9]+3654602809&4294967295,b=_+(w<<4&4294967295|w>>>28),w=D+(b^_^R)+A[12]+3873151461&4294967295,D=b+(w<<11&4294967295|w>>>21),w=R+(D^b^_)+A[15]+530742520&4294967295,R=D+(w<<16&4294967295|w>>>16),w=_+(R^D^b)+A[2]+3299628645&4294967295,_=R+(w<<23&4294967295|w>>>9),w=b+(R^(_|~D))+A[0]+4096336452&4294967295,b=_+(w<<6&4294967295|w>>>26),w=D+(_^(b|~R))+A[7]+1126891415&4294967295,D=b+(w<<10&4294967295|w>>>22),w=R+(b^(D|~_))+A[14]+2878612391&4294967295,R=D+(w<<15&4294967295|w>>>17),w=_+(D^(R|~b))+A[5]+4237533241&4294967295,_=R+(w<<21&4294967295|w>>>11),w=b+(R^(_|~D))+A[12]+1700485571&4294967295,b=_+(w<<6&4294967295|w>>>26),w=D+(_^(b|~R))+A[3]+2399980690&4294967295,D=b+(w<<10&4294967295|w>>>22),w=R+(b^(D|~_))+A[10]+4293915773&4294967295,R=D+(w<<15&4294967295|w>>>17),w=_+(D^(R|~b))+A[1]+2240044497&4294967295,_=R+(w<<21&4294967295|w>>>11),w=b+(R^(_|~D))+A[8]+1873313359&4294967295,b=_+(w<<6&4294967295|w>>>26),w=D+(_^(b|~R))+A[15]+4264355552&4294967295,D=b+(w<<10&4294967295|w>>>22),w=R+(b^(D|~_))+A[6]+2734768916&4294967295,R=D+(w<<15&4294967295|w>>>17),w=_+(D^(R|~b))+A[13]+1309151649&4294967295,_=R+(w<<21&4294967295|w>>>11),w=b+(R^(_|~D))+A[4]+4149444226&4294967295,b=_+(w<<6&4294967295|w>>>26),w=D+(_^(b|~R))+A[11]+3174756917&4294967295,D=b+(w<<10&4294967295|w>>>22),w=R+(b^(D|~_))+A[2]+718787259&4294967295,R=D+(w<<15&4294967295|w>>>17),w=_+(D^(R|~b))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+b&4294967295,S.g[1]=S.g[1]+(R+(w<<21&4294967295|w>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,b){b===void 0&&(b=S.length);for(var _=b-this.blockSize,A=this.B,R=this.h,D=0;D<b;){if(R==0)for(;D<=_;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<b;)if(A[R++]=S.charCodeAt(D++),R==this.blockSize){i(this,A),R=0;break}}else for(;D<b;)if(A[R++]=S[D++],R==this.blockSize){i(this,A),R=0;break}}this.h=R,this.o+=b},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var b=1;b<S.length-8;++b)S[b]=0;var _=8*this.o;for(b=S.length-8;b<S.length;++b)S[b]=_&255,_/=256;for(this.u(S),S=Array(16),b=_=0;4>b;++b)for(var A=0;32>A;A+=8)S[_++]=this.g[b]>>>A&255;return S};function s(S,b){var _=o;return Object.prototype.hasOwnProperty.call(_,S)?_[S]:_[S]=b(S)}function a(S,b){this.h=b;for(var _=[],A=!0,R=S.length-1;0<=R;R--){var D=S[R]|0;A&&D==b||(_[R]=D,A=!1)}this.g=_}var o={};function u(S){return-128<=S&&128>S?s(S,function(b){return new a([b|0],0>b?-1:0)}):new a([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return P(c(-S));for(var b=[],_=1,A=0;S>=_;A++)b[A]=S/_|0,_*=4294967296;return new a(b,0)}function d(S,b){if(S.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S.charAt(0)=="-")return P(d(S.substring(1),b));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=c(Math.pow(b,8)),A=p,R=0;R<S.length;R+=8){var D=Math.min(8,S.length-R),w=parseInt(S.substring(R,R+D),b);8>D?(D=c(Math.pow(b,D)),A=A.j(D).add(c(w))):(A=A.j(_),A=A.add(c(w)))}return A}var p=u(0),g=u(1),v=u(16777216);t=a.prototype,t.m=function(){if(N(this))return-P(this).m();for(var S=0,b=1,_=0;_<this.g.length;_++){var A=this.i(_);S+=(0<=A?A:4294967296+A)*b,b*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x(this))return"0";if(N(this))return"-"+P(this).toString(S);for(var b=c(Math.pow(S,6)),_=this,A="";;){var R=V(_,b).g;_=C(_,R.j(b));var D=((0<_.g.length?_.g[0]:_.h)>>>0).toString(S);if(_=R,x(_))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function x(S){if(S.h!=0)return!1;for(var b=0;b<S.g.length;b++)if(S.g[b]!=0)return!1;return!0}function N(S){return S.h==-1}t.l=function(S){return S=C(this,S),N(S)?-1:x(S)?0:1};function P(S){for(var b=S.g.length,_=[],A=0;A<b;A++)_[A]=~S.g[A];return new a(_,~S.h).add(g)}t.abs=function(){return N(this)?P(this):this},t.add=function(S){for(var b=Math.max(this.g.length,S.g.length),_=[],A=0,R=0;R<=b;R++){var D=A+(this.i(R)&65535)+(S.i(R)&65535),w=(D>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);A=w>>>16,D&=65535,w&=65535,_[R]=w<<16|D}return new a(_,_[_.length-1]&-2147483648?-1:0)};function C(S,b){return S.add(P(b))}t.j=function(S){if(x(this)||x(S))return p;if(N(this))return N(S)?P(this).j(P(S)):P(P(this).j(S));if(N(S))return P(this.j(P(S)));if(0>this.l(v)&&0>S.l(v))return c(this.m()*S.m());for(var b=this.g.length+S.g.length,_=[],A=0;A<2*b;A++)_[A]=0;for(A=0;A<this.g.length;A++)for(var R=0;R<S.g.length;R++){var D=this.i(A)>>>16,w=this.i(A)&65535,ue=S.i(R)>>>16,Ie=S.i(R)&65535;_[2*A+2*R]+=w*Ie,I(_,2*A+2*R),_[2*A+2*R+1]+=D*Ie,I(_,2*A+2*R+1),_[2*A+2*R+1]+=w*ue,I(_,2*A+2*R+1),_[2*A+2*R+2]+=D*ue,I(_,2*A+2*R+2)}for(A=0;A<b;A++)_[A]=_[2*A+1]<<16|_[2*A];for(A=b;A<2*b;A++)_[A]=0;return new a(_,0)};function I(S,b){for(;(S[b]&65535)!=S[b];)S[b+1]+=S[b]>>>16,S[b]&=65535,b++}function M(S,b){this.g=S,this.h=b}function V(S,b){if(x(b))throw Error("division by zero");if(x(S))return new M(p,p);if(N(S))return b=V(P(S),b),new M(P(b.g),P(b.h));if(N(b))return b=V(S,P(b)),new M(P(b.g),b.h);if(30<S.g.length){if(N(S)||N(b))throw Error("slowDivide_ only works with positive integers.");for(var _=g,A=b;0>=A.l(S);)_=j(_),A=j(A);var R=G(_,1),D=G(A,1);for(A=G(A,2),_=G(_,2);!x(A);){var w=D.add(A);0>=w.l(S)&&(R=R.add(_),D=w),A=G(A,1),_=G(_,1)}return b=C(S,R.j(b)),new M(R,b)}for(R=p;0<=S.l(b);){for(_=Math.max(1,Math.floor(S.m()/b.m())),A=Math.ceil(Math.log(_)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=c(_),w=D.j(b);N(w)||0<w.l(S);)_-=A,D=c(_),w=D.j(b);x(D)&&(D=g),R=R.add(D),S=C(S,w)}return new M(R,S)}t.A=function(S){return V(this,S).h},t.and=function(S){for(var b=Math.max(this.g.length,S.g.length),_=[],A=0;A<b;A++)_[A]=this.i(A)&S.i(A);return new a(_,this.h&S.h)},t.or=function(S){for(var b=Math.max(this.g.length,S.g.length),_=[],A=0;A<b;A++)_[A]=this.i(A)|S.i(A);return new a(_,this.h|S.h)},t.xor=function(S){for(var b=Math.max(this.g.length,S.g.length),_=[],A=0;A<b;A++)_[A]=this.i(A)^S.i(A);return new a(_,this.h^S.h)};function j(S){for(var b=S.g.length+1,_=[],A=0;A<b;A++)_[A]=S.i(A)<<1|S.i(A-1)>>>31;return new a(_,S.h)}function G(S,b){var _=b>>5;b%=32;for(var A=S.g.length-_,R=[],D=0;D<A;D++)R[D]=0<b?S.i(D+_)>>>b|S.i(D+_+1)<<32-b:S.i(D+_);return new a(R,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=d,BS=a}).apply(typeof i7<"u"?i7:typeof self<"u"?self:typeof window<"u"?window:{});var Ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,l,f){return h==Array.prototype||h==Object.prototype||(h[l]=f.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ef=="object"&&Ef];for(var l=0;l<h.length;++l){var f=h[l];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(h,l){if(l)e:{var f=r;h=h.split(".");for(var m=0;m<h.length-1;m++){var E=h[m];if(!(E in f))break e;f=f[E]}h=h[h.length-1],m=f[h],l=l(m),l!=m&&l!=null&&e(f,h,{configurable:!0,writable:!0,value:l})}}function s(h,l){h instanceof String&&(h+="");var f=0,m=!1,E={next:function(){if(!m&&f<h.length){var L=f++;return{value:l(L,h[L]),done:!1}}return m=!0,{done:!0,value:void 0}}};return E[Symbol.iterator]=function(){return E},E}i("Array.prototype.values",function(h){return h||function(){return s(this,function(l,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function u(h){var l=typeof h;return l=l!="object"?l:h?Array.isArray(h)?"array":l:"null",l=="array"||l=="object"&&typeof h.length=="number"}function c(h){var l=typeof h;return l=="object"&&h!=null||l=="function"}function d(h,l,f){return h.call.apply(h.bind,arguments)}function p(h,l,f){if(!h)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var E=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(E,m),h.apply(l,E)}}return function(){return h.apply(l,arguments)}}function g(h,l,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,g.apply(null,arguments)}function v(h,l){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),h.apply(this,m)}}function x(h,l){function f(){}f.prototype=l.prototype,h.aa=l.prototype,h.prototype=new f,h.prototype.constructor=h,h.Qb=function(m,E,L){for(var F=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)F[Z-2]=arguments[Z];return l.prototype[E].apply(m,F)}}function N(h){const l=h.length;if(0<l){const f=Array(l);for(let m=0;m<l;m++)f[m]=h[m];return f}return[]}function P(h,l){for(let f=1;f<arguments.length;f++){const m=arguments[f];if(u(m)){const E=h.length||0,L=m.length||0;h.length=E+L;for(let F=0;F<L;F++)h[E+F]=m[F]}else h.push(m)}}class C{constructor(l,f){this.i=l,this.j=f,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}function I(h){return/^[\s\xa0]*$/.test(h)}function M(){var h=o.navigator;return h&&(h=h.userAgent)?h:""}function V(h){return V[" "](h),h}V[" "]=function(){};var j=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function G(h,l,f){for(const m in h)l.call(f,h[m],m,h)}function S(h,l){for(const f in h)l.call(void 0,h[f],f,h)}function b(h){const l={};for(const f in h)l[f]=h[f];return l}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(h,l){let f,m;for(let E=1;E<arguments.length;E++){m=arguments[E];for(f in m)h[f]=m[f];for(let L=0;L<_.length;L++)f=_[L],Object.prototype.hasOwnProperty.call(m,f)&&(h[f]=m[f])}}function R(h){var l=1;h=h.split(":");const f=[];for(;0<l&&h.length;)f.push(h.shift()),l--;return h.length&&f.push(h.join(":")),f}function D(h){o.setTimeout(()=>{throw h},0)}function w(){var h=xe;let l=null;return h.g&&(l=h.g,h.g=h.g.next,h.g||(h.h=null),l.next=null),l}class ue{constructor(){this.h=this.g=null}add(l,f){const m=Ie.get();m.set(l,f),this.h?this.h.next=m:this.g=m,this.h=m}}var Ie=new C(()=>new te,h=>h.reset());class te{constructor(){this.next=this.g=this.h=null}set(l,f){this.h=l,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let re,se=!1,xe=new ue,Re=()=>{const h=o.Promise.resolve(void 0);re=()=>{h.then(je)}};var je=()=>{for(var h;h=w();){try{h.h.call(h.g)}catch(f){D(f)}var l=Ie;l.j(h),100>l.h&&(l.h++,h.next=l.g,l.g=h)}se=!1};function Ne(){this.s=this.s,this.C=this.C}Ne.prototype.s=!1,Ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(h,l){this.type=h,this.g=this.target=l,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var dn=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var h=!1,l=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const f=()=>{};o.addEventListener("test",f,l),o.removeEventListener("test",f,l)}catch{}return h}();function Ce(h,l){if(he.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var f=this.type=h.type,m=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=l,l=h.relatedTarget){if(j){e:{try{V(l.nodeName);var E=!0;break e}catch{}E=!1}E||(l=null)}}else f=="mouseover"?l=h.fromElement:f=="mouseout"&&(l=h.toElement);this.relatedTarget=l,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Qr[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Ce.aa.h.call(this)}}x(Ce,he);var Qr={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Xt="closure_listenable_"+(1e6*Math.random()|0),wn=0;function wi(h,l,f,m,E){this.listener=h,this.proxy=null,this.src=l,this.type=f,this.capture=!!m,this.ha=E,this.key=++wn,this.da=this.fa=!1}function mn(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function pr(h){this.src=h,this.g={},this.h=0}pr.prototype.add=function(h,l,f,m,E){var L=h.toString();h=this.g[L],h||(h=this.g[L]=[],this.h++);var F=Vn(h,l,m,E);return-1<F?(l=h[F],f||(l.fa=!1)):(l=new wi(l,this.src,L,!!m,E),l.fa=f,h.push(l)),l};function Wr(h,l){var f=l.type;if(f in h.g){var m=h.g[f],E=Array.prototype.indexOf.call(m,l,void 0),L;(L=0<=E)&&Array.prototype.splice.call(m,E,1),L&&(mn(l),h.g[f].length==0&&(delete h.g[f],h.h--))}}function Vn(h,l,f,m){for(var E=0;E<h.length;++E){var L=h[E];if(!L.da&&L.listener==l&&L.capture==!!f&&L.ha==m)return E}return-1}var Un="closure_lm_"+(1e6*Math.random()|0),pn={};function Jr(h,l,f,m,E){if(Array.isArray(l)){for(var L=0;L<l.length;L++)Jr(h,l[L],f,m,E);return null}return f=Ai(f),h&&h[Xt]?h.K(l,f,c(m)?!!m.capture:!1,E):Si(h,l,f,!1,m,E)}function Si(h,l,f,m,E,L){if(!l)throw Error("Invalid event type");var F=c(E)?!!E.capture:!!E,Z=_s(h);if(Z||(h[Un]=Z=new pr(h)),f=Z.add(l,f,m,F,L),f.proxy)return f;if(m=Xn(),f.proxy=m,m.src=h,m.listener=f,h.addEventListener)dn||(E=F),E===void 0&&(E=!1),h.addEventListener(l.toString(),m,E);else if(h.attachEvent)h.attachEvent(ya(l.toString()),m);else if(h.addListener&&h.removeListener)h.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Xn(){function h(f){return l.call(h.src,h.listener,f)}const l=Pl;return h}function Zn(h,l,f,m,E){if(Array.isArray(l))for(var L=0;L<l.length;L++)Zn(h,l[L],f,m,E);else m=c(m)?!!m.capture:!!m,f=Ai(f),h&&h[Xt]?(h=h.i,l=String(l).toString(),l in h.g&&(L=h.g[l],f=Vn(L,f,m,E),-1<f&&(mn(L[f]),Array.prototype.splice.call(L,f,1),L.length==0&&(delete h.g[l],h.h--)))):h&&(h=_s(h))&&(l=h.g[l.toString()],h=-1,l&&(h=Vn(l,f,m,E)),(f=-1<h?l[h]:null)&&ei(f))}function ei(h){if(typeof h!="number"&&h&&!h.da){var l=h.src;if(l&&l[Xt])Wr(l.i,h);else{var f=h.type,m=h.proxy;l.removeEventListener?l.removeEventListener(f,m,h.capture):l.detachEvent?l.detachEvent(ya(f),m):l.addListener&&l.removeListener&&l.removeListener(m),(f=_s(l))?(Wr(f,h),f.h==0&&(f.src=null,l[Un]=null)):mn(h)}}}function ya(h){return h in pn?pn[h]:pn[h]="on"+h}function Pl(h,l){if(h.da)h=!0;else{l=new Ce(l,this);var f=h.listener,m=h.ha||h.src;h.fa&&ei(h),h=f.call(m,l)}return h}function _s(h){return h=h[Un],h instanceof pr?h:null}var Ei="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ai(h){return typeof h=="function"?h:(h[Ei]||(h[Ei]=function(l){return h.handleEvent(l)}),h[Ei])}function Ue(){Ne.call(this),this.i=new pr(this),this.M=this,this.F=null}x(Ue,Ne),Ue.prototype[Xt]=!0,Ue.prototype.removeEventListener=function(h,l,f,m){Zn(this,h,l,f,m)};function Pe(h,l){var f,m=h.F;if(m)for(f=[];m;m=m.F)f.push(m);if(h=h.M,m=l.type||l,typeof l=="string")l=new he(l,h);else if(l instanceof he)l.target=l.target||h;else{var E=l;l=new he(m,h),A(l,E)}if(E=!0,f)for(var L=f.length-1;0<=L;L--){var F=l.g=f[L];E=Or(F,m,!0,l)&&E}if(F=l.g=h,E=Or(F,m,!0,l)&&E,E=Or(F,m,!1,l)&&E,f)for(L=0;L<f.length;L++)F=l.g=f[L],E=Or(F,m,!1,l)&&E}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var h=this.i,l;for(l in h.g){for(var f=h.g[l],m=0;m<f.length;m++)mn(f[m]);delete h.g[l],h.h--}}this.F=null},Ue.prototype.K=function(h,l,f,m){return this.i.add(String(h),l,!1,f,m)},Ue.prototype.L=function(h,l,f,m){return this.i.add(String(h),l,!0,f,m)};function Or(h,l,f,m){if(l=h.i.g[String(l)],!l)return!0;l=l.concat();for(var E=!0,L=0;L<l.length;++L){var F=l[L];if(F&&!F.da&&F.capture==f){var Z=F.listener,ke=F.ha||F.src;F.fa&&Wr(h.i,F),E=Z.call(ke,m)!==!1&&E}}return E&&!m.defaultPrevented}function va(h,l,f){if(typeof h=="function")f&&(h=g(h,f));else if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(l)?-1:o.setTimeout(h,l||0)}function ba(h){h.g=va(()=>{h.g=null,h.i&&(h.i=!1,ba(h))},h.l);const l=h.h;h.h=null,h.m.apply(null,l)}class No extends Ne{constructor(l,f){super(),this.m=l,this.l=f,this.h=null,this.i=!1,this.g=null}j(l){this.h=arguments,this.g?this.i=!0:ba(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gr(h){Ne.call(this),this.h=h,this.g={}}x(gr,Ne);var Yi=[];function Xi(h){G(h.g,function(l,f){this.g.hasOwnProperty(f)&&ei(l)},h),h.g={}}gr.prototype.N=function(){gr.aa.N.call(this),Xi(this)},gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=o.JSON.stringify,Zi=o.JSON.parse,Mo=class{stringify(h){return o.JSON.stringify(h,void 0)}parse(h){return o.JSON.parse(h,void 0)}};function xi(){}xi.prototype.h=null;function Do(h){return h.h||(h.h=h.i())}function Ts(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ws(){he.call(this,"d")}x(ws,he);function Pr(){he.call(this,"c")}x(Pr,he);var jn={},Oo=null;function lt(){return Oo=Oo||new Ue}jn.La="serverreachability";function ti(h){he.call(this,jn.La,h)}x(ti,he);function zr(h){const l=lt();Pe(l,new ti(l))}jn.STAT_EVENT="statevent";function _a(h,l){he.call(this,jn.STAT_EVENT,h),this.stat=l}x(_a,he);function Ge(h){const l=lt();Pe(l,new _a(l,h))}jn.Ma="timingevent";function Ta(h,l){he.call(this,jn.Ma,h),this.size=l}x(Ta,he);function yr(h,l){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){h()},l)}function Lr(){this.g=!0}Lr.prototype.xa=function(){this.g=!1};function vr(h,l,f,m,E,L){h.info(function(){if(h.g)if(L)for(var F="",Z=L.split("&"),ke=0;ke<Z.length;ke++){var ye=Z[ke].split("=");if(1<ye.length){var _e=ye[0];ye=ye[1];var Qe=_e.split("_");F=2<=Qe.length&&Qe[1]=="type"?F+(_e+"="+ye+"&"):F+(_e+"=redacted&")}}else F=null;else F=L;return"XMLHTTP REQ ("+m+") [attempt "+E+"]: "+l+`
`+f+`
`+F})}function Ri(h,l,f,m,E,L,F){h.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+E+"]: "+l+`
`+f+`
`+L+" "+F})}function Fn(h,l,f,m){h.info(function(){return"XMLHTTP TEXT ("+l+"): "+Po(h,f)+(m?" "+m:"")})}function zl(h,l){h.info(function(){return"TIMEOUT: "+l})}Lr.prototype.info=function(){};function Po(h,l){if(!h.g)return l;if(!l)return null;try{var f=JSON.parse(l);if(f){for(h=0;h<f.length;h++)if(Array.isArray(f[h])){var m=f[h];if(!(2>m.length)){var E=m[1];if(Array.isArray(E)&&!(1>E.length)){var L=E[0];if(L!="noop"&&L!="stop"&&L!="close")for(var F=1;F<E.length;F++)E[F]=""}}}}return Sn(f)}catch{return l}}var Ci={NO_ERROR:0,TIMEOUT:8},br={},Qi;function ni(){}x(ni,xi),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},Qi=new ni;function Zt(h,l,f,m){this.j=h,this.i=l,this.l=f,this.R=m||1,this.U=new gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wa}function wa(){this.i=null,this.g="",this.h=!1}var zo={},ce={};function H(h,l,f){h.L=1,h.v=As(sn(l)),h.m=f,h.P=!0,J(h,null)}function J(h,l){h.F=Date.now(),mt(h),h.A=sn(h.v);var f=h.A,m=h.R;Array.isArray(m)||(m=[String(m)]),kc(f.i,"t",m),h.C=0,f=h.j.J,h.h=new wa,h.g=Kc(h.j,f?l:null,!h.m),0<h.O&&(h.M=new No(g(h.Y,h,h.g),h.O)),l=h.U,f=h.g,m=h.ca;var E="readystatechange";Array.isArray(E)||(E&&(Yi[0]=E.toString()),E=Yi);for(var L=0;L<E.length;L++){var F=Jr(f,E[L],m||l.handleEvent,!1,l.h||l);if(!F)break;l.g[F.key]=F}l=h.H?b(h.H):{},h.m?(h.u||(h.u="POST"),l["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,l)):(h.u="GET",h.g.ea(h.A,h.u,null,l)),zr(),vr(h.i,h.u,h.A,h.l,h.R,h.m)}Zt.prototype.ca=function(h){h=h.target;const l=this.M;l&&an(h)==3?l.j():this.Y(h)},Zt.prototype.Y=function(h){try{if(h==this.g)e:{const Qe=an(this.g);var l=this.g.Ba();const xt=this.g.Z();if(!(3>Qe)&&(Qe!=3||this.g&&(this.h.h||this.g.oa()||zc(this.g)))){this.J||Qe!=4||l==7||(l==8||0>=xt?zr(3):zr(2)),Nt(this);var f=this.g.Z();this.X=f;t:if(le(this)){var m=zc(this.g);h="";var E=m.length,L=an(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mt(this),Bt(this);var F="";break t}this.h.i=new o.TextDecoder}for(l=0;l<E;l++)this.h.h=!0,h+=this.h.i.decode(m[l],{stream:!(L&&l==E-1)});m.length=0,this.h.g+=h,this.C=0,F=this.h.g}else F=this.g.oa();if(this.o=f==200,Ri(this.i,this.u,this.A,this.l,this.R,Qe,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Z,ke=this.g;if((Z=ke.g?ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(Z)){var ye=Z;break t}}ye=null}if(f=ye)Fn(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ki(this,f);else{this.o=!1,this.s=3,Ge(12),Mt(this),Bt(this);break e}}if(this.P){f=!0;let gn;for(;!this.J&&this.C<F.length;)if(gn=ut(this,F),gn==ce){Qe==4&&(this.s=4,Ge(14),f=!1),Fn(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==zo){this.s=4,Ge(15),Fn(this.i,this.l,F,"[Invalid Chunk]"),f=!1;break}else Fn(this.i,this.l,gn,null),ki(this,gn);if(le(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Qe!=4||F.length!=0||this.h.h||(this.s=1,Ge(16),f=!1),this.o=this.o&&f,!f)Fn(this.i,this.l,F,"[Invalid Chunked Response]"),Mt(this),Bt(this);else if(0<F.length&&!this.W){this.W=!0;var _e=this.j;_e.g==this&&_e.ba&&!_e.M&&(_e.j.info("Great, no buffering proxy detected. Bytes received: "+F.length),Fo(_e),_e.M=!0,Ge(11))}}else Fn(this.i,this.l,F,null),ki(this,F);Qe==4&&Mt(this),this.o&&!this.J&&(Qe==4?Hc(this.j,this):(this.o=!1,mt(this)))}else qp(this.g),f==400&&0<F.indexOf("Unknown SID")?(this.s=3,Ge(12)):(this.s=0,Ge(13)),Mt(this),Bt(this)}}}catch{}finally{}};function le(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ut(h,l){var f=h.C,m=l.indexOf(`
`,f);return m==-1?ce:(f=Number(l.substring(f,m)),isNaN(f)?zo:(m+=1,m+f>l.length?ce:(l=l.slice(m,m+f),h.C=m+f,l)))}Zt.prototype.cancel=function(){this.J=!0,Mt(this)};function mt(h){h.S=Date.now()+h.I,pt(h,h.I)}function pt(h,l){if(h.B!=null)throw Error("WatchDog timer not null");h.B=yr(g(h.ba,h),l)}function Nt(h){h.B&&(o.clearTimeout(h.B),h.B=null)}Zt.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(zl(this.i,this.A),this.L!=2&&(zr(),Ge(17)),Mt(this),this.s=2,Bt(this)):pt(this,this.S-h)};function Bt(h){h.j.G==0||h.J||Hc(h.j,h)}function Mt(h){Nt(h);var l=h.M;l&&typeof l.ma=="function"&&l.ma(),h.M=null,Xi(h.U),h.g&&(l=h.g,h.g=null,l.abort(),l.ma())}function ki(h,l){try{var f=h.j;if(f.G!=0&&(f.g==h||Lo(f.h,h))){if(!h.K&&Lo(f.h,h)&&f.G==3){try{var m=f.Da.g.parse(l)}catch{m=null}if(Array.isArray(m)&&m.length==3){var E=m;if(E[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<h.F)Ns(f),ks(f);else break e;jo(f),Ge(18)}}else f.za=E[1],0<f.za-f.T&&37500>E[2]&&f.F&&f.v==0&&!f.C&&(f.C=yr(g(f.Za,f),6e3));if(1>=_c(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Wn(f,11)}else if((h.K||f.g==h)&&Ns(f),!I(l))for(E=f.Da.g.parse(l),l=0;l<E.length;l++){let ye=E[l];if(f.T=ye[0],ye=ye[1],f.G==2)if(ye[0]=="c"){f.K=ye[1],f.ia=ye[2];const _e=ye[3];_e!=null&&(f.la=_e,f.j.info("VER="+f.la));const Qe=ye[4];Qe!=null&&(f.Aa=Qe,f.j.info("SVER="+f.Aa));const xt=ye[5];xt!=null&&typeof xt=="number"&&0<xt&&(m=1.5*xt,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;const gn=h.g;if(gn){const $n=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($n){var L=m.h;L.g||$n.indexOf("spdy")==-1&&$n.indexOf("quic")==-1&&$n.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Vo(L,L.h),L.h=null))}if(m.D){const Aa=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(m.ya=Aa,ge(m.I,m.D,Aa))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-h.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var F=h;if(m.qa=Gc(m,m.J?m.ia:null,m.W),F.K){Tc(m.h,F);var Z=F,ke=m.L;ke&&(Z.I=ke),Z.B&&(Nt(Z),mt(Z)),m.g=F}else jc(m);0<f.i.length&&Is(f)}else ye[0]!="stop"&&ye[0]!="close"||Wn(f,7);else f.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Wn(f,7):Bo(f):ye[0]!="noop"&&f.l&&f.l.ta(ye),f.v=0)}}zr(4)}catch{}}var jt=class{constructor(h,l){this.g=h,this.map=l}};function Sa(h){this.l=h||10,o.PerformanceNavigationTiming?(h=o.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ea(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function _c(h){return h.h?1:h.g?h.g.size:0}function Lo(h,l){return h.h?h.h==l:h.g?h.g.has(l):!1}function Vo(h,l){h.g?h.g.add(l):h.h=l}function Tc(h,l){h.h&&h.h==l?h.h=null:h.g&&h.g.has(l)&&h.g.delete(l)}Sa.prototype.cancel=function(){if(this.i=wc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function wc(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let l=h.i;for(const f of h.g.values())l=l.concat(f.D);return l}return N(h.i)}function Ip(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(u(h)){for(var l=[],f=h.length,m=0;m<f;m++)l.push(h[m]);return l}l=[],f=0;for(m in h)l[f++]=h[m];return l}function Np(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(u(h)||typeof h=="string"){var l=[];h=h.length;for(var f=0;f<h;f++)l.push(f);return l}l=[],f=0;for(const m in h)l[f++]=m;return l}}}function Sc(h,l){if(h.forEach&&typeof h.forEach=="function")h.forEach(l,void 0);else if(u(h)||typeof h=="string")Array.prototype.forEach.call(h,l,void 0);else for(var f=Np(h),m=Ip(h),E=m.length,L=0;L<E;L++)l.call(void 0,m[L],f&&f[L],h)}var Ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mp(h,l){if(h){h=h.split("&");for(var f=0;f<h.length;f++){var m=h[f].indexOf("="),E=null;if(0<=m){var L=h[f].substring(0,m);E=h[f].substring(m+1)}else L=h[f];l(L,E?decodeURIComponent(E.replace(/\+/g," ")):"")}}}function Qn(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Qn){this.h=h.h,Ss(this,h.j),this.o=h.o,this.g=h.g,Es(this,h.s),this.l=h.l;var l=h.i,f=new Mi;f.i=l.i,l.g&&(f.g=new Map(l.g),f.h=l.h),Ac(this,f),this.m=h.m}else h&&(l=String(h).match(Ec))?(this.h=!1,Ss(this,l[1]||"",!0),this.o=Ii(l[2]||""),this.g=Ii(l[3]||"",!0),Es(this,l[4]),this.l=Ii(l[5]||"",!0),Ac(this,l[6]||"",!0),this.m=Ii(l[7]||"")):(this.h=!1,this.i=new Mi(null,this.h))}Qn.prototype.toString=function(){var h=[],l=this.j;l&&h.push(Ni(l,xc,!0),":");var f=this.g;return(f||l=="file")&&(h.push("//"),(l=this.o)&&h.push(Ni(l,xc,!0),"@"),h.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&h.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&h.push("/"),h.push(Ni(f,f.charAt(0)=="/"?Pp:Op,!0))),(f=this.i.toString())&&h.push("?",f),(f=this.m)&&h.push("#",Ni(f,Lp)),h.join("")};function sn(h){return new Qn(h)}function Ss(h,l,f){h.j=f?Ii(l,!0):l,h.j&&(h.j=h.j.replace(/:$/,""))}function Es(h,l){if(l){if(l=Number(l),isNaN(l)||0>l)throw Error("Bad port number "+l);h.s=l}else h.s=null}function Ac(h,l,f){l instanceof Mi?(h.i=l,Vp(h.i,h.h)):(f||(l=Ni(l,zp)),h.i=new Mi(l,h.h))}function ge(h,l,f){h.i.set(l,f)}function As(h){return ge(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ii(h,l){return h?l?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ni(h,l,f){return typeof h=="string"?(h=encodeURI(h).replace(l,Dp),f&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Dp(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var xc=/[#\/\?@]/g,Op=/[#\?:]/g,Pp=/[#\?]/g,zp=/[#\?@]/g,Lp=/#/g;function Mi(h,l){this.h=this.g=null,this.i=h||null,this.j=!!l}function En(h){h.g||(h.g=new Map,h.h=0,h.i&&Mp(h.i,function(l,f){h.add(decodeURIComponent(l.replace(/\+/g," ")),f)}))}t=Mi.prototype,t.add=function(h,l){En(this),this.i=null,h=Vr(this,h);var f=this.g.get(h);return f||this.g.set(h,f=[]),f.push(l),this.h+=1,this};function Rc(h,l){En(h),l=Vr(h,l),h.g.has(l)&&(h.i=null,h.h-=h.g.get(l).length,h.g.delete(l))}function Cc(h,l){return En(h),l=Vr(h,l),h.g.has(l)}t.forEach=function(h,l){En(this),this.g.forEach(function(f,m){f.forEach(function(E){h.call(l,E,m,this)},this)},this)},t.na=function(){En(this);const h=Array.from(this.g.values()),l=Array.from(this.g.keys()),f=[];for(let m=0;m<l.length;m++){const E=h[m];for(let L=0;L<E.length;L++)f.push(l[m])}return f},t.V=function(h){En(this);let l=[];if(typeof h=="string")Cc(this,h)&&(l=l.concat(this.g.get(Vr(this,h))));else{h=Array.from(this.g.values());for(let f=0;f<h.length;f++)l=l.concat(h[f])}return l},t.set=function(h,l){return En(this),this.i=null,h=Vr(this,h),Cc(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[l]),this.h+=1,this},t.get=function(h,l){return h?(h=this.V(h),0<h.length?String(h[0]):l):l};function kc(h,l,f){Rc(h,l),0<f.length&&(h.i=null,h.g.set(Vr(h,l),N(f)),h.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],l=Array.from(this.g.keys());for(var f=0;f<l.length;f++){var m=l[f];const L=encodeURIComponent(String(m)),F=this.V(m);for(m=0;m<F.length;m++){var E=L;F[m]!==""&&(E+="="+encodeURIComponent(String(F[m]))),h.push(E)}}return this.i=h.join("&")};function Vr(h,l){return l=String(l),h.j&&(l=l.toLowerCase()),l}function Vp(h,l){l&&!h.j&&(En(h),h.i=null,h.g.forEach(function(f,m){var E=m.toLowerCase();m!=E&&(Rc(this,m),kc(this,E,f))},h)),h.j=l}function Up(h,l){const f=new Lr;if(o.Image){const m=new Image;m.onload=v(An,f,"TestLoadImage: loaded",!0,l,m),m.onerror=v(An,f,"TestLoadImage: error",!1,l,m),m.onabort=v(An,f,"TestLoadImage: abort",!1,l,m),m.ontimeout=v(An,f,"TestLoadImage: timeout",!1,l,m),o.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=h}else l(!1)}function Bp(h,l){const f=new Lr,m=new AbortController,E=setTimeout(()=>{m.abort(),An(f,"TestPingServer: timeout",!1,l)},1e4);fetch(h,{signal:m.signal}).then(L=>{clearTimeout(E),L.ok?An(f,"TestPingServer: ok",!0,l):An(f,"TestPingServer: server error",!1,l)}).catch(()=>{clearTimeout(E),An(f,"TestPingServer: error",!1,l)})}function An(h,l,f,m,E){try{E&&(E.onload=null,E.onerror=null,E.onabort=null,E.ontimeout=null),m(f)}catch{}}function jp(){this.g=new Mo}function Fp(h,l,f){const m=f||"";try{Sc(h,function(E,L){let F=E;c(E)&&(F=Sn(E)),l.push(m+L+"="+encodeURIComponent(F))})}catch(E){throw l.push(m+"type="+encodeURIComponent("_badmap")),E}}function xs(h){this.l=h.Ub||null,this.j=h.eb||!1}x(xs,xi),xs.prototype.g=function(){return new Rs(this.l,this.j)},xs.prototype.i=function(h){return function(){return h}}({});function Rs(h,l){Ue.call(this),this.D=h,this.o=l,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Rs,Ue),t=Rs.prototype,t.open=function(h,l){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=l,this.readyState=1,Oi(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const l={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(l.body=h),(this.D||o).fetch(new Request(this.A,l)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Di(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Oi(this)),this.g&&(this.readyState=3,Oi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ic(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ic(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var l=h.value?h.value:new Uint8Array(0);(l=this.v.decode(l,{stream:!h.done}))&&(this.response=this.responseText+=l)}h.done?Di(this):Oi(this),this.readyState==3&&Ic(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Di(this))},t.Qa=function(h){this.g&&(this.response=h,Di(this))},t.ga=function(){this.g&&Di(this)};function Di(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Oi(h)}t.setRequestHeader=function(h,l){this.u.append(h,l)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],l=this.h.entries();for(var f=l.next();!f.done;)f=f.value,h.push(f[0]+": "+f[1]),f=l.next();return h.join(`\r
`)};function Oi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Nc(h){let l="";return G(h,function(f,m){l+=m,l+=":",l+=f,l+=`\r
`}),l}function Uo(h,l,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=Nc(f),typeof h=="string"?f!=null&&encodeURIComponent(String(f)):ge(h,l,f))}function Me(h){Ue.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Me,Ue);var Hp=/^https?$/i,$p=["POST","PUT"];t=Me.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,l,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);l=l?l.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qi.g(),this.v=this.o?Do(this.o):Do(Qi),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(l,String(h),!0),this.B=!1}catch(L){Mc(this,L);return}if(h=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var E in m)f.set(E,m[E]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(const L of m.keys())f.set(L,m.get(L));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(L=>L.toLowerCase()=="content-type"),E=o.FormData&&h instanceof o.FormData,!(0<=Array.prototype.indexOf.call($p,l,void 0))||m||E||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,F]of f)this.g.setRequestHeader(L,F);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pc(this),this.u=!0,this.g.send(h),this.u=!1}catch(L){Mc(this,L)}};function Mc(h,l){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=l,h.m=5,Dc(h),Cs(h)}function Dc(h){h.A||(h.A=!0,Pe(h,"complete"),Pe(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Pe(this,"complete"),Pe(this,"abort"),Cs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cs(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Oc(this):this.bb())},t.bb=function(){Oc(this)};function Oc(h){if(h.h&&typeof a<"u"&&(!h.v[1]||an(h)!=4||h.Z()!=2)){if(h.u&&an(h)==4)va(h.Ea,0,h);else if(Pe(h,"readystatechange"),an(h)==4){h.h=!1;try{const F=h.Z();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var l=!0;break e;default:l=!1}var f;if(!(f=l)){var m;if(m=F===0){var E=String(h.D).match(Ec)[1]||null;!E&&o.self&&o.self.location&&(E=o.self.location.protocol.slice(0,-1)),m=!Hp.test(E?E.toLowerCase():"")}f=m}if(f)Pe(h,"complete"),Pe(h,"success");else{h.m=6;try{var L=2<an(h)?h.g.statusText:""}catch{L=""}h.l=L+" ["+h.Z()+"]",Dc(h)}}finally{Cs(h)}}}}function Cs(h,l){if(h.g){Pc(h);const f=h.g,m=h.v[0]?()=>{}:null;h.g=null,h.v=null,l||Pe(h,"ready");try{f.onreadystatechange=m}catch{}}}function Pc(h){h.I&&(o.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function an(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<an(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var l=this.g.responseText;return h&&l.indexOf(h)==0&&(l=l.substring(h.length)),Zi(l)}};function zc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function qp(h){const l={};h=(h.g&&2<=an(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<h.length;m++){if(I(h[m]))continue;var f=R(h[m]);const E=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const L=l[E]||[];l[E]=L,L.push(f)}S(l,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(h,l,f){return f&&f.internalChannelParams&&f.internalChannelParams[h]||l}function Lc(h){this.Aa=0,this.i=[],this.j=new Lr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pi("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pi("baseRetryDelayMs",5e3,h),this.cb=Pi("retryDelaySeedMs",1e4,h),this.Wa=Pi("forwardChannelMaxRetries",2,h),this.wa=Pi("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Sa(h&&h.concurrentRequestLimit),this.Da=new jp,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Lc.prototype,t.la=8,t.G=1,t.connect=function(h,l,f,m){Ge(0),this.W=h,this.H=l||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=Gc(this,null,this.W),Is(this)};function Bo(h){if(Vc(h),h.G==3){var l=h.U++,f=sn(h.I);if(ge(f,"SID",h.K),ge(f,"RID",l),ge(f,"TYPE","terminate"),zi(h,f),l=new Zt(h,h.j,l),l.L=2,l.v=As(sn(f)),f=!1,o.navigator&&o.navigator.sendBeacon)try{f=o.navigator.sendBeacon(l.v.toString(),"")}catch{}!f&&o.Image&&(new Image().src=l.v,f=!0),f||(l.g=Kc(l.j,null),l.g.ea(l.v)),l.F=Date.now(),mt(l)}qc(h)}function ks(h){h.g&&(Fo(h),h.g.cancel(),h.g=null)}function Vc(h){ks(h),h.u&&(o.clearTimeout(h.u),h.u=null),Ns(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&o.clearTimeout(h.s),h.s=null)}function Is(h){if(!Ea(h.h)&&!h.s){h.s=!0;var l=h.Ga;re||Re(),se||(re(),se=!0),xe.add(l,h),h.B=0}}function Gp(h,l){return _c(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=l.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=yr(g(h.Ga,h,l),$c(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const E=new Zt(this,this.j,h);let L=this.o;if(this.S&&(L?(L=b(L),A(L,this.S)):L=this.S),this.m!==null||this.O||(E.H=L,L=null),this.P)e:{for(var l=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(l+=m,4096<l){l=f;break e}if(l===4096||f===this.i.length-1){l=f+1;break e}}l=1e3}else l=1e3;l=Bc(this,E,l),f=sn(this.I),ge(f,"RID",h),ge(f,"CVER",22),this.D&&ge(f,"X-HTTP-Session-Id",this.D),zi(this,f),L&&(this.O?l="headers="+encodeURIComponent(String(Nc(L)))+"&"+l:this.m&&Uo(f,this.m,L)),Vo(this.h,E),this.Ua&&ge(f,"TYPE","init"),this.P?(ge(f,"$req",l),ge(f,"SID","null"),E.T=!0,H(E,f,null)):H(E,f,l),this.G=2}}else this.G==3&&(h?Uc(this,h):this.i.length==0||Ea(this.h)||Uc(this))};function Uc(h,l){var f;l?f=l.l:f=h.U++;const m=sn(h.I);ge(m,"SID",h.K),ge(m,"RID",f),ge(m,"AID",h.T),zi(h,m),h.m&&h.o&&Uo(m,h.m,h.o),f=new Zt(h,h.j,f,h.B+1),h.m===null&&(f.H=h.o),l&&(h.i=l.D.concat(h.i)),l=Bc(h,f,1e3),f.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Vo(h.h,f),H(f,m,l)}function zi(h,l){h.H&&G(h.H,function(f,m){ge(l,m,f)}),h.l&&Sc({},function(f,m){ge(l,m,f)})}function Bc(h,l,f){f=Math.min(h.i.length,f);var m=h.l?g(h.l.Na,h.l,h):null;e:{var E=h.i;let L=-1;for(;;){const F=["count="+f];L==-1?0<f?(L=E[0].g,F.push("ofs="+L)):L=0:F.push("ofs="+L);let Z=!0;for(let ke=0;ke<f;ke++){let ye=E[ke].g;const _e=E[ke].map;if(ye-=L,0>ye)L=Math.max(0,E[ke].g-100),Z=!1;else try{Fp(_e,F,"req"+ye+"_")}catch{m&&m(_e)}}if(Z){m=F.join("&");break e}}}return h=h.i.splice(0,f),l.D=h,m}function jc(h){if(!h.g&&!h.u){h.Y=1;var l=h.Fa;re||Re(),se||(re(),se=!0),xe.add(l,h),h.v=0}}function jo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=yr(g(h.Fa,h),$c(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Fc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=yr(g(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ge(10),ks(this),Fc(this))};function Fo(h){h.A!=null&&(o.clearTimeout(h.A),h.A=null)}function Fc(h){h.g=new Zt(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var l=sn(h.qa);ge(l,"RID","rpc"),ge(l,"SID",h.K),ge(l,"AID",h.T),ge(l,"CI",h.F?"0":"1"),!h.F&&h.ja&&ge(l,"TO",h.ja),ge(l,"TYPE","xmlhttp"),zi(h,l),h.m&&h.o&&Uo(l,h.m,h.o),h.L&&(h.g.I=h.L);var f=h.g;h=h.ia,f.L=1,f.v=As(sn(l)),f.m=null,f.P=!0,J(f,h)}t.Za=function(){this.C!=null&&(this.C=null,ks(this),jo(this),Ge(19))};function Ns(h){h.C!=null&&(o.clearTimeout(h.C),h.C=null)}function Hc(h,l){var f=null;if(h.g==l){Ns(h),Fo(h),h.g=null;var m=2}else if(Lo(h.h,l))f=l.D,Tc(h.h,l),m=1;else return;if(h.G!=0){if(l.o)if(m==1){f=l.m?l.m.length:0,l=Date.now()-l.F;var E=h.B;m=lt(),Pe(m,new Ta(m,f)),Is(h)}else jc(h);else if(E=l.s,E==3||E==0&&0<l.X||!(m==1&&Gp(h,l)||m==2&&jo(h)))switch(f&&0<f.length&&(l=h.h,l.i=l.i.concat(f)),E){case 1:Wn(h,5);break;case 4:Wn(h,10);break;case 3:Wn(h,6);break;default:Wn(h,2)}}}function $c(h,l){let f=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(f*=2),f*l}function Wn(h,l){if(h.j.info("Error code "+l),l==2){var f=g(h.fb,h),m=h.Xa;const E=!m;m=new Qn(m||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ss(m,"https"),As(m),E?Up(m.toString(),f):Bp(m.toString(),f)}else Ge(2);h.G=0,h.l&&h.l.sa(l),qc(h),Vc(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Ge(2)):(this.j.info("Failed to ping google.com"),Ge(1))};function qc(h){if(h.G=0,h.ka=[],h.l){const l=wc(h.h);(l.length!=0||h.i.length!=0)&&(P(h.ka,l),P(h.ka,h.i),h.h.i.length=0,N(h.i),h.i.length=0),h.l.ra()}}function Gc(h,l,f){var m=f instanceof Qn?sn(f):new Qn(f);if(m.g!="")l&&(m.g=l+"."+m.g),Es(m,m.s);else{var E=o.location;m=E.protocol,l=l?l+"."+E.hostname:E.hostname,E=+E.port;var L=new Qn(null);m&&Ss(L,m),l&&(L.g=l),E&&Es(L,E),f&&(L.l=f),m=L}return f=h.D,l=h.ya,f&&l&&ge(m,f,l),ge(m,"VER",h.la),zi(h,m),m}function Kc(h,l,f){if(l&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return l=h.Ca&&!h.pa?new Me(new xs({eb:f})):new Me(h.pa),l.Ha(h.J),l}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yc(){}t=Yc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function xn(h,l){Ue.call(this),this.g=new Lc(l),this.l=h,this.h=l&&l.messageUrlParams||null,h=l&&l.messageHeaders||null,l&&l.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=l&&l.initMessageHeaders||null,l&&l.messageContentType&&(h?h["X-WebChannel-Content-Type"]=l.messageContentType:h={"X-WebChannel-Content-Type":l.messageContentType}),l&&l.va&&(h?h["X-WebChannel-Client-Profile"]=l.va:h={"X-WebChannel-Client-Profile":l.va}),this.g.S=h,(h=l&&l.Sb)&&!I(h)&&(this.g.m=h),this.v=l&&l.supportsCrossDomainXhr||!1,this.u=l&&l.sendRawJson||!1,(l=l&&l.httpSessionIdParam)&&!I(l)&&(this.g.D=l,h=this.h,h!==null&&l in h&&(h=this.h,l in h&&delete h[l])),this.j=new Ms(this)}x(xn,Ue),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){Bo(this.g)},xn.prototype.o=function(h){var l=this.g;if(typeof h=="string"){var f={};f.__data__=h,h=f}else this.u&&(f={},f.__data__=Sn(h),h=f);l.i.push(new jt(l.Ya++,h)),l.G==3&&Is(l)},xn.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,xn.aa.N.call(this)};function Hn(h){ws.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var l=h.__sm__;if(l){e:{for(const f in l){h=f;break e}h=void 0}(this.i=h)&&(h=this.i,l=l!==null&&h in l?l[h]:void 0),this.data=l}else this.data=h}x(Hn,ws);function Xc(){Pr.call(this),this.status=1}x(Xc,Pr);function Ms(h){this.g=h}x(Ms,Yc),Ms.prototype.ua=function(){Pe(this.g,"a")},Ms.prototype.ta=function(h){Pe(this.g,new Hn(h))},Ms.prototype.sa=function(h){Pe(this.g,new Xc)},Ms.prototype.ra=function(){Pe(this.g,"b")},xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,Ci.NO_ERROR=0,Ci.TIMEOUT=8,Ci.HTTP_ERROR=6,br.COMPLETE="complete",Ts.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha}).apply(typeof Ef<"u"?Ef:typeof self<"u"?self:typeof window<"u"?window:{});const s7="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ir=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ir.UNAUTHENTICATED=new ir(null),ir.GOOGLE_CREDENTIALS=new ir("google-credentials-uid"),ir.FIRST_PARTY=new ir("first-party-uid"),ir.MOCK_USER=new ir("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new r2("@firebase/firestore");function $i(t,...e){if(ju.logLevel<=st.DEBUG){const n=e.map(m2);ju.debug(`Firestore (${Yh}): ${t}`,...n)}}function jS(t,...e){if(ju.logLevel<=st.ERROR){const n=e.map(m2);ju.error(`Firestore (${Yh}): ${t}`,...n)}}function yP(t,...e){if(ju.logLevel<=st.WARN){const n=e.map(m2);ju.warn(`Firestore (${Yh}): ${t}`,...n)}}function m2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(t="Unexpected state"){const e=`FIRESTORE (${Yh}) INTERNAL ASSERTION FAILED: `+t;throw jS(e),new Error(e)}function U0(t,e){t||p2()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};let Rr=class extends Ro{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B0=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FS=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},vP=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ir.UNAUTHENTICATED))}shutdown(){}};class bP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}let _P=class{constructor(e){this.t=e,this.currentUser=ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){U0(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new B0;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new B0,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},o=u=>{$i("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):($i("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new B0)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?($i("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U0(typeof r.accessToken=="string"),new FS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return U0(e===null||typeof e=="string"),new ir(e)}},TP=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ir.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},wP=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new TP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ir.FIRST_PARTY))}shutdown(){}invalidateToken(){}},SP=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},EP=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){U0(this.o===void 0);const r=s=>{s.error!=null&&$i("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,$i("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{$i("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):$i("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(U0(typeof n.token=="string"),this.R=n.token,new SP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function AP(t){return t.name==="IndexedDbTransactionError"}let xP=class G4{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new G4("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof G4&&e.projectId===this.projectId&&e.database===this.database}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var a7,Ye;(Ye=a7||(a7={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new BS([4294967295,4294967295],0);function V1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RP=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&$i("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CP=class HS{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new B0,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new HS(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rr(xr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};var o7,l7;(l7=o7||(o7={})).ea="default",l7.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u7=new Map;function IP(t,e,n,r){if(e===!0&&r===!0)throw new Rr(xr.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NP(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":p2()}function MP(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Rr(xr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=NP(t);throw new Rr(xr.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c7=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Rr(xr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Rr(xr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kP((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Rr(xr.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Rr(xr.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Rr(xr.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},$S=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c7({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rr(xr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Rr(xr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c7(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new vP;switch(r.type){case"firstParty":return new wP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Rr(xr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=u7.get(n);r&&($i("ComponentProvider","Removing Datastore"),u7.delete(n),r.terminate())}(this),Promise.resolve()}};function DP(t,e,n,r={}){var i;const s=(t=MP(t,$S))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&yP("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let o,u;if(typeof r.mockUserToken=="string")o=r.mockUserToken,u=ir.MOCK_USER;else{o=GN(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Rr(xr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ir(c)}t._authCredentials=new bP(new FS(o,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h7=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new RP(this,"async_queue_retry"),this.Vu=()=>{const r=V1();r&&$i("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=V1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=V1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new B0;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!AP(e))throw e;$i("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(r);throw jS("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=CP.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&p2()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}},OP=class extends $S{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new h7,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new h7(e),this._firestoreClient=void 0,await e}}};function PP(t,e){const n=typeof t=="object"?t:s2(),r=typeof t=="string"?t:"(default)",i=Jm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Ww("firestore");s&&DP(i,...s)}return i}(function(e,n=!0){(function(i){Yh=i})(lc),bl(new mo("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new OP(new _P(r.getProvider("auth-internal")),new EP(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Rr(xr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xP(c.options.projectId,d)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),as(s7,"4.7.3",e),as(s7,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="type.googleapis.com/google.protobuf.Int64Value",LP="type.googleapis.com/google.protobuf.UInt64Value";function qS(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function K4(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>K4(e));if(typeof t=="function"||typeof t=="object")return qS(t,e=>K4(e));throw new Error("Data cannot be encoded in JSON: "+t)}function om(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case zP:case LP:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>om(e)):typeof t=="function"||typeof t=="object"?qS(t,e=>om(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f7={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let wu=class extends Ro{constructor(e,n,r){super(`${g2}/${e}`,n||""),this.details=r}};function VP(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function UP(t,e){let n=VP(t),r=n,i;try{const s=e&&e.error;if(s){const a=s.status;if(typeof a=="string"){if(!f7[a])return new wu("internal","internal");n=f7[a],r=a}const o=s.message;typeof o=="string"&&(r=o),i=s.details,i!==void 0&&(i=om(i))}}catch{}return n==="ok"?null:new wu(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BP=class{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="us-central1";function jP(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new wu("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}let FP=class{constructor(e,n,r,i,s=Y4,a){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new BP(n,r,i),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(s);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=Y4}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}};function HP(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}function $P(t,e,n){return r=>GP(t,e,r,{})}async function qP(t,e,n,r){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function GP(t,e,n,r){const i=t._url(e);return KP(t,i,n,r)}async function KP(t,e,n,r){n=K4(n);const i={data:n},s={},a=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);a.authToken&&(s.Authorization="Bearer "+a.authToken),a.messagingToken&&(s["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=a.appCheckToken);const o=r.timeout||7e4,u=jP(o),c=await Promise.race([qP(e,i,s,t.fetchImpl),u.promise,t.cancelAllRequests]);if(u.cancel(),!c)throw new wu("cancelled","Firebase Functions instance was deleted.");const d=UP(c.status,c.json);if(d)throw d;if(!c.json)throw new wu("internal","Response is not valid JSON object.");let p=c.json.data;if(typeof p>"u"&&(p=c.json.result),typeof p>"u")throw new wu("internal","Response is missing data field.");return{data:om(p)}}const d7="@firebase/functions",m7="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP="auth-internal",XP="app-check-internal",ZP="messaging-internal";function QP(t,e){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),a=r.getProvider(YP),o=r.getProvider(ZP),u=r.getProvider(XP);return new FP(s,a,o,u,i,t)};bl(new mo(g2,n,"PUBLIC").setMultipleInstances(!0)),as(d7,m7,e),as(d7,m7,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(t=s2(),e=Y4){const r=Jm(Ki(t),g2).getImmediate({identifier:e}),i=Ww("functions");return i&&GS(r,...i),r}function GS(t,e,n){HP(Ki(t),e,n)}function dh(t,e,n){return $P(Ki(t),e)}QP(fetch.bind(self));const X4={apiKey:"AIzaSyAW6S712bLLkP-iCmB4URv44sst9wLBXQQ",authDomain:"magic-internet-math-96630.firebaseapp.com",projectId:"magic-internet-math-96630",storageBucket:"magic-internet-math-96630.firebasestorage.app",messagingSenderId:"863101072402",appId:"1:863101072402:web:072f6cb1724919360f94cb"},JP=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1");let Af=null,U1=null,B1=null,xf=null;function y2(){if(!Af){const t=sD();t.length>0?Af=t[0]:Af=iS(X4)}return Af}function j1(){return U1||(U1=pP(y2())),U1}function ez(){return B1||(B1=PP(y2())),B1}function Fi(){if(!xf&&(xf=WP(y2()),JP&&typeof window<"u"&&new URLSearchParams(window.location.search).get("emulator")==="true"))try{GS(xf,"localhost",5001)}catch{}return xf}function sr(){return!!X4.apiKey&&X4.apiKey.length>10}const tz=22242,nz=5e3,rz=2e3,KS=3e4,YS=30*1e3,XS=2e3,iz=["wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net"];class sz{constructor(e="",n=!0){this.prefix=e?`[${e}]`:"",this.enabled=n}log(e,n,r){if(!this.enabled)return;const i=this.prefix?`${this.prefix} ${n}`:n;if(e==="debug"||e==="info")return;const s=console[e]||console.log;r!==void 0?s(i,r):s(i)}debug(e,n){this.log("debug",e,n)}info(e,n){this.log("info",e,n)}warn(e,n){this.log("warn",e,n)}error(e,n){this.log("error",e,n)}setEnabled(e){this.enabled=e}}const F1={};function _i(t){const e=t||"__default__";return F1[e]||(F1[e]=new sz(t)),F1[e]}const Rf=_i("NostrUtils"),Z4="qpzry9x8gf2tvdw0s3jn54khce6mua7l",az=[996825010,642813549,513874426,1027748829,705979059];function ZS(t){let e=1;for(const n of t){const r=e>>25;e=(e&33554431)<<5^n;for(let i=0;i<5;i++)r>>i&1&&(e^=az[i])}return e}function QS(t){const e=[];for(const n of t)e.push(n.charCodeAt(0)>>5);e.push(0);for(const n of t)e.push(n.charCodeAt(0)&31);return e}function oz(t,e){return ZS([...QS(t),...e])===1}function lz(t,e){const n=[...QS(t),...e,0,0,0,0,0,0],r=ZS(n)^1,i=[];for(let s=0;s<6;s++)i.push(r>>5*(5-s)&31);return i}function WS(t,e,n,r){let i=0,s=0;const a=[],o=(1<<n)-1;for(const u of t){if(u<0||u>>e)return null;for(i=i<<e|u,s+=e;s>=n;)s-=n,a.push(i>>s&o)}if(r)s>0&&a.push(i<<n-s&o);else if(s>=e||i<<n-s&o)return null;return a}function uz(t,e){const n=WS(e,8,5,!0);if(!n)throw new Error("Failed to convert data to 5-bit groups");const r=lz(t,n);let i=t+"1";for(const s of n)i+=Z4[s];for(const s of r)i+=Z4[s];return i}function cz(t){const e=t.toLowerCase(),n=t.toUpperCase();if(t!==e&&t!==n)return null;const r=e,i=r.lastIndexOf("1");if(i<1||i+7>r.length||r.length>90)return null;const s=r.slice(0,i),a=r.slice(i+1),o=[];for(const d of a){const p=Z4.indexOf(d);if(p===-1)return null;o.push(p)}if(!oz(s,o))return null;const u=o.slice(0,-6),c=WS(new Uint8Array(u),5,8,!1);return c?{hrp:s,data:new Uint8Array(c)}:null}function hz(t){if(t.length%2!==0)throw new Error("Hex string must have even length");const e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)e[n/2]=parseInt(t.slice(n,n+2),16);return e}function fz(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}function dz(t){if(t.length!==64)throw new Error("Pubkey must be 32 bytes (64 hex characters)");const e=hz(t);return uz("npub",e)}function mz(t){const e=cz(t);if(!e||e.hrp!=="npub")throw new Error("Invalid npub");return fz(e.data)}function lm(){return typeof window<"u"&&window.nostr!==void 0}function pz(t=3e3){return new Promise(e=>{if(lm()){e(!0);return}const n=Date.now(),r=setInterval(()=>{lm()?(clearInterval(r),e(!0)):Date.now()-n>t&&(clearInterval(r),e(!1))},100)})}function gz(t,e){return new Promise(n=>{let r=!1,i=null,s=null;const a=()=>{r||(r=!0,s&&(clearTimeout(s),s=null),i&&i.readyState!==WebSocket.CLOSED&&i.close())};s=setTimeout(()=>{Rf.debug(`WebSocket timeout for relay: ${t}`),a(),n(null)},nz);try{i=new WebSocket(t)}catch(u){Rf.debug(`Failed to create WebSocket for relay ${t}:`,u),a(),n(null);return}const o=Math.random().toString(36).substring(2,15);i.onopen=()=>{if(r||!i)return;const u=JSON.stringify(["REQ",o,{kinds:[0],authors:[e],limit:1}]);i.send(u)},i.onmessage=u=>{if(!r)try{const c=JSON.parse(u.data);if(c[0]==="EVENT"&&c[1]===o){const d=JSON.parse(c[2].content);a(),n({name:d.name||d.display_name,display_name:d.display_name,nip05:d.nip05,picture:d.picture,about:d.about})}else c[0]==="EOSE"&&(a(),n(null))}catch(c){Rf.debug(`Failed to parse WebSocket message from ${t}:`,c)}},i.onerror=u=>{Rf.debug(`WebSocket error for relay ${t}:`,u),a(),n(null)},i.onclose=()=>{r||(a(),n(null))}})}const yz=["ba","aa","crypto","linalg","advlinalg","template","islr","ra","calc1","calc_lib_art","calc_easy","wm","four_pillars","mom","euclid","thales","gauss","human_action","atlas_shrugged","mod-race"];function vz(t){return yz.includes(t)}function X(t,e,n){function r(o,u){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:u,constr:a,traits:new Set},enumerable:!1}),o._zod.traits.has(t))return;o._zod.traits.add(t),e(o,u);const c=a.prototype,d=Object.keys(c);for(let p=0;p<d.length;p++){const g=d[p];g in o||(o[g]=c[g].bind(o))}}const i=(n==null?void 0:n.Parent)??Object;class s extends i{}Object.defineProperty(s,"name",{value:t});function a(o){var u;const c=n!=null&&n.Parent?new s:this;r(c,o),(u=c._zod).deferred??(u.deferred=[]);for(const d of c._zod.deferred)d();return c}return Object.defineProperty(a,"init",{value:r}),Object.defineProperty(a,Symbol.hasInstance,{value:o=>{var u,c;return n!=null&&n.Parent&&o instanceof n.Parent?!0:(c=(u=o==null?void 0:o._zod)==null?void 0:u.traits)==null?void 0:c.has(t)}}),Object.defineProperty(a,"name",{value:t}),a}class Su extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class JS extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const eE={};function po(t){return eE}function tE(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function Q4(t,e){return typeof e=="bigint"?e.toString():e}function v2(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function b2(t){return t==null}function _2(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function bz(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const u=r.match(/\d?e-(\d?)/);u!=null&&u[1]&&(i=Number.parseInt(u[1]))}const s=n>i?n:i,a=Number.parseInt(t.toFixed(s).replace(".","")),o=Number.parseInt(e.toFixed(s).replace(".",""));return a%o/10**s}const p7=Symbol("evaluating");function yt(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==p7)return r===void 0&&(r=p7,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function Nl(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Ml(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function g7(t){return JSON.stringify(t)}function _z(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const nE="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function um(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const Tz=v2(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Fu(t){if(um(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(um(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function rE(t){return Fu(t)?{...t}:Array.isArray(t)?[...t]:t}const wz=new Set(["string","number","symbol"]);function ip(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Co(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(r._zod.parent=t),r}function me(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function Sz(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const Ez={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function Az(t,e){const n=t._zod.def,r=Ml(t._zod.def,{get shape(){const i={};for(const s in e){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&(i[s]=n.shape[s])}return Nl(this,"shape",i),i},checks:[]});return Co(t,r)}function xz(t,e){const n=t._zod.def,r=Ml(t._zod.def,{get shape(){const i={...t._zod.def.shape};for(const s in e){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&delete i[s]}return Nl(this,"shape",i),i},checks:[]});return Co(t,r)}function Rz(t,e){if(!Fu(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=Ml(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e};return Nl(this,"shape",s),s},checks:[]});return Co(t,i)}function Cz(t,e){if(!Fu(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return Nl(this,"shape",r),r},checks:t._zod.def.checks};return Co(t,n)}function kz(t,e){const n=Ml(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return Nl(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return Co(t,n)}function Iz(t,e,n){const r=Ml(e._zod.def,{get shape(){const i=e._zod.def.shape,s={...i};if(n)for(const a in n){if(!(a in i))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(s[a]=t?new t({type:"optional",innerType:i[a]}):i[a])}else for(const a in i)s[a]=t?new t({type:"optional",innerType:i[a]}):i[a];return Nl(this,"shape",s),s},checks:[]});return Co(e,r)}function Nz(t,e,n){const r=Ml(e._zod.def,{get shape(){const i=e._zod.def.shape,s={...i};if(n)for(const a in n){if(!(a in s))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(s[a]=new t({type:"nonoptional",innerType:i[a]}))}else for(const a in i)s[a]=new t({type:"nonoptional",innerType:i[a]});return Nl(this,"shape",s),s},checks:[]});return Co(e,r)}function su(t,e=0){var n;if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(((n=t.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function au(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function Cf(t){return typeof t=="string"?t:t==null?void 0:t.message}function go(t,e,n){var i,s,a,o,u,c;const r={...t,path:t.path??[]};if(!t.message){const d=Cf((a=(s=(i=t.inst)==null?void 0:i._zod.def)==null?void 0:s.error)==null?void 0:a.call(s,t))??Cf((o=e==null?void 0:e.error)==null?void 0:o.call(e,t))??Cf((u=n.customError)==null?void 0:u.call(n,t))??Cf((c=n.localeError)==null?void 0:c.call(n,t))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}function T2(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function mh(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const iE=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Q4,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},sE=X("$ZodError",iE),aE=X("$ZodError",iE,{Parent:Error});function Mz(t,e=n=>n.message){const n={},r=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}function Dz(t,e=n=>n.message){const n={_errors:[]},r=i=>{for(const s of i.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(a=>r({issues:a}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)n._errors.push(e(s));else{let a=n,o=0;for(;o<s.path.length;){const u=s.path[o];o===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(e(s))):a[u]=a[u]||{_errors:[]},a=a[u],o++}}};return r(t),n}const w2=t=>(e,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},a=e._zod.run({value:n,issues:[]},s);if(a instanceof Promise)throw new Su;if(a.issues.length){const o=new((i==null?void 0:i.Err)??t)(a.issues.map(u=>go(u,s,po())));throw nE(o,i==null?void 0:i.callee),o}return a.value},S2=t=>async(e,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},s);if(a instanceof Promise&&(a=await a),a.issues.length){const o=new((i==null?void 0:i.Err)??t)(a.issues.map(u=>go(u,s,po())));throw nE(o,i==null?void 0:i.callee),o}return a.value},sp=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},s=e._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new Su;return s.issues.length?{success:!1,error:new(t??sE)(s.issues.map(a=>go(a,i,po())))}:{success:!0,data:s.value}},Oz=sp(aE),ap=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=e._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new t(s.issues.map(a=>go(a,i,po())))}:{success:!0,data:s.value}},Pz=ap(aE),zz=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return w2(t)(e,n,i)},Lz=t=>(e,n,r)=>w2(t)(e,n,r),Vz=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return S2(t)(e,n,i)},Uz=t=>async(e,n,r)=>S2(t)(e,n,r),Bz=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return sp(t)(e,n,i)},jz=t=>(e,n,r)=>sp(t)(e,n,r),Fz=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ap(t)(e,n,i)},Hz=t=>async(e,n,r)=>ap(t)(e,n,r),$z=/^[cC][^\s-]{8,}$/,qz=/^[0-9a-z]+$/,Gz=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Kz=/^[0-9a-vA-V]{20}$/,Yz=/^[A-Za-z0-9]{27}$/,Xz=/^[a-zA-Z0-9_-]{21}$/,Zz=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Qz=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,y7=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Wz=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Jz="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function eL(){return new RegExp(Jz,"u")}const tL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,nL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,rL=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,iL=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,sL=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,oE=/^[A-Za-z0-9_-]*$/,aL=/^\+(?:[0-9]){6,14}[0-9]$/,lE="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",oL=new RegExp(`^${lE}$`);function uE(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function lL(t){return new RegExp(`^${uE(t)}$`)}function uL(t){const e=uE({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${lE}T(?:${r})$`)}const cL=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},hL=/^-?\d+$/,fL=/^-?\d+(?:\.\d+)?/,dL=/^(?:true|false)$/i,mL=/^[^A-Z]*$/,pL=/^[^a-z]*$/,Dr=X("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),cE={number:"number",bigint:"bigint",object:"date"},hE=X("$ZodCheckLessThan",(t,e)=>{Dr.init(t,e);const n=cE[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<s&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),fE=X("$ZodCheckGreaterThan",(t,e)=>{Dr.init(t,e);const n=cE[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,s=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>s&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),gL=X("$ZodCheckMultipleOf",(t,e)=>{Dr.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):bz(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),yL=X("$ZodCheckNumberFormat",(t,e)=>{var a;Dr.init(t,e),e.format=e.format||"float64";const n=(a=e.format)==null?void 0:a.includes("int"),r=n?"int":"number",[i,s]=Ez[e.format];t._zod.onattach.push(o=>{const u=o._zod.bag;u.format=e.format,u.minimum=i,u.maximum=s,n&&(u.pattern=hL)}),t._zod.check=o=>{const u=o.value;if(n){if(!Number.isInteger(u)){o.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:u,inst:t});return}if(!Number.isSafeInteger(u)){u>0?o.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):o.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort});return}}u<i&&o.issues.push({origin:"number",input:u,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),u>s&&o.issues.push({origin:"number",input:u,code:"too_big",maximum:s,inst:t})}}),vL=X("$ZodCheckMaxLength",(t,e)=>{var n;Dr.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!b2(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const i=r.value;if(i.length<=e.maximum)return;const a=T2(i);r.issues.push({origin:a,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),bL=X("$ZodCheckMinLength",(t,e)=>{var n;Dr.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!b2(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const i=r.value;if(i.length>=e.minimum)return;const a=T2(i);r.issues.push({origin:a,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),_L=X("$ZodCheckLengthEquals",(t,e)=>{var n;Dr.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!b2(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=r=>{const i=r.value,s=i.length;if(s===e.length)return;const a=T2(i),o=s>e.length;r.issues.push({origin:a,...o?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),op=X("$ZodCheckStringFormat",(t,e)=>{var n,r;Dr.init(t,e),t._zod.onattach.push(i=>{const s=i._zod.bag;s.format=e.format,e.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),TL=X("$ZodCheckRegex",(t,e)=>{op.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),wL=X("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=mL),op.init(t,e)}),SL=X("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=pL),op.init(t,e)}),EL=X("$ZodCheckIncludes",(t,e)=>{Dr.init(t,e);const n=ip(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),AL=X("$ZodCheckStartsWith",(t,e)=>{Dr.init(t,e);const n=new RegExp(`^${ip(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),xL=X("$ZodCheckEndsWith",(t,e)=>{Dr.init(t,e);const n=new RegExp(`.*${ip(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),RL=X("$ZodCheckOverwrite",(t,e)=>{Dr.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class CL{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(a=>a),i=Math.min(...r.map(a=>a.length-a.trimStart().length)),s=r.map(a=>a.slice(i)).map(a=>" ".repeat(this.indent*2)+a);for(const a of s)this.content.push(a)}compile(){const e=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new e(...n,i.join(`
`))}}const kL={major:4,minor:2,patch:1},Ut=X("$ZodType",(t,e)=>{var i;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=kL;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const s of r)for(const a of s._zod.onattach)a(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),(i=t._zod.deferred)==null||i.push(()=>{t._zod.run=t._zod.parse});else{const s=(o,u,c)=>{let d=su(o),p;for(const g of u){if(g._zod.def.when){if(!g._zod.def.when(o))continue}else if(d)continue;const v=o.issues.length,x=g._zod.check(o);if(x instanceof Promise&&(c==null?void 0:c.async)===!1)throw new Su;if(p||x instanceof Promise)p=(p??Promise.resolve()).then(async()=>{await x,o.issues.length!==v&&(d||(d=su(o,v)))});else{if(o.issues.length===v)continue;d||(d=su(o,v))}}return p?p.then(()=>o):o},a=(o,u,c)=>{if(su(o))return o.aborted=!0,o;const d=s(u,r,c);if(d instanceof Promise){if(c.async===!1)throw new Su;return d.then(p=>t._zod.parse(p,c))}return t._zod.parse(d,c)};t._zod.run=(o,u)=>{if(u.skipChecks)return t._zod.parse(o,u);if(u.direction==="backward"){const d=t._zod.parse({value:o.value,issues:[]},{...u,skipChecks:!0});return d instanceof Promise?d.then(p=>a(p,o,u)):a(d,o,u)}const c=t._zod.parse(o,u);if(c instanceof Promise){if(u.async===!1)throw new Su;return c.then(d=>s(d,r,u))}return s(c,r,u)}}t["~standard"]={validate:s=>{var a;try{const o=Oz(t,s);return o.success?{value:o.data}:{issues:(a=o.error)==null?void 0:a.issues}}catch{return Pz(t,s).then(u=>{var c;return u.success?{value:u.data}:{issues:(c=u.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),E2=X("$ZodString",(t,e)=>{var n;Ut.init(t,e),t._zod.pattern=[...((n=t==null?void 0:t._zod.bag)==null?void 0:n.patterns)??[]].pop()??cL(t._zod.bag),t._zod.parse=(r,i)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),Et=X("$ZodStringFormat",(t,e)=>{op.init(t,e),E2.init(t,e)}),IL=X("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=Qz),Et.init(t,e)}),NL=X("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=y7(r))}else e.pattern??(e.pattern=y7());Et.init(t,e)}),ML=X("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=Wz),Et.init(t,e)}),DL=X("$ZodURL",(t,e)=>{Et.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),OL=X("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=eL()),Et.init(t,e)}),PL=X("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=Xz),Et.init(t,e)}),zL=X("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=$z),Et.init(t,e)}),LL=X("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=qz),Et.init(t,e)}),VL=X("$ZodULID",(t,e)=>{e.pattern??(e.pattern=Gz),Et.init(t,e)}),UL=X("$ZodXID",(t,e)=>{e.pattern??(e.pattern=Kz),Et.init(t,e)}),BL=X("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=Yz),Et.init(t,e)}),jL=X("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=uL(e)),Et.init(t,e)}),FL=X("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=oL),Et.init(t,e)}),HL=X("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=lL(e)),Et.init(t,e)}),$L=X("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=Zz),Et.init(t,e)}),qL=X("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=tL),Et.init(t,e),t._zod.bag.format="ipv4"}),GL=X("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=nL),Et.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),KL=X("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=rL),Et.init(t,e)}),YL=X("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=iL),Et.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,s]=r;if(!s)throw new Error;const a=Number(s);if(`${a}`!==s)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function dE(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const XL=X("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=sL),Et.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{dE(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function ZL(t){if(!oE.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return dE(n)}const QL=X("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=oE),Et.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{ZL(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),WL=X("$ZodE164",(t,e)=>{e.pattern??(e.pattern=aL),Et.init(t,e)});function JL(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const eV=X("$ZodJWT",(t,e)=>{Et.init(t,e),t._zod.check=n=>{JL(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),mE=X("$ZodNumber",(t,e)=>{Ut.init(t,e),t._zod.pattern=t._zod.bag.pattern??fL,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const s=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...s?{received:s}:{}}),n}}),tV=X("$ZodNumberFormat",(t,e)=>{yL.init(t,e),mE.init(t,e)}),nV=X("$ZodBoolean",(t,e)=>{Ut.init(t,e),t._zod.pattern=dL,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),n}}),rV=X("$ZodUnknown",(t,e)=>{Ut.init(t,e),t._zod.parse=n=>n}),iV=X("$ZodNever",(t,e)=>{Ut.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function v7(t,e,n){t.issues.length&&e.issues.push(...au(n,t.issues)),e.value[n]=t.value}const sV=X("$ZodArray",(t,e)=>{Ut.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const s=[];for(let a=0;a<i.length;a++){const o=i[a],u=e.element._zod.run({value:o,issues:[]},r);u instanceof Promise?s.push(u.then(c=>v7(c,n,a))):v7(u,n,a)}return s.length?Promise.all(s).then(()=>n):n}});function cm(t,e,n,r){t.issues.length&&e.issues.push(...au(n,t.issues)),t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function pE(t){var r,i,s,a;const e=Object.keys(t.shape);for(const o of e)if(!((a=(s=(i=(r=t.shape)==null?void 0:r[o])==null?void 0:i._zod)==null?void 0:s.traits)!=null&&a.has("$ZodType")))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const n=Sz(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function gE(t,e,n,r,i,s){const a=[],o=i.keySet,u=i.catchall._zod,c=u.def.type;for(const d in e){if(o.has(d))continue;if(c==="never"){a.push(d);continue}const p=u.run({value:e[d],issues:[]},r);p instanceof Promise?t.push(p.then(g=>cm(g,n,d,e))):cm(p,n,d,e)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:e,inst:s}),t.length?Promise.all(t).then(()=>n):n}const aV=X("$ZodObject",(t,e)=>{Ut.init(t,e);const n=Object.getOwnPropertyDescriptor(e,"shape");if(!(n!=null&&n.get)){const o=e.shape;Object.defineProperty(e,"shape",{get:()=>{const u={...o};return Object.defineProperty(e,"shape",{value:u}),u}})}const r=v2(()=>pE(e));yt(t._zod,"propValues",()=>{const o=e.shape,u={};for(const c in o){const d=o[c]._zod;if(d.values){u[c]??(u[c]=new Set);for(const p of d.values)u[c].add(p)}}return u});const i=um,s=e.catchall;let a;t._zod.parse=(o,u)=>{a??(a=r.value);const c=o.value;if(!i(c))return o.issues.push({expected:"object",code:"invalid_type",input:c,inst:t}),o;o.value={};const d=[],p=a.shape;for(const g of a.keys){const x=p[g]._zod.run({value:c[g],issues:[]},u);x instanceof Promise?d.push(x.then(N=>cm(N,o,g,c))):cm(x,o,g,c)}return s?gE(d,c,o,u,r.value,t):d.length?Promise.all(d).then(()=>o):o}}),oV=X("$ZodObjectJIT",(t,e)=>{aV.init(t,e);const n=t._zod.parse,r=v2(()=>pE(e)),i=g=>{const v=new CL(["shape","payload","ctx"]),x=r.value,N=M=>{const V=g7(M);return`shape[${V}]._zod.run({ value: input[${V}], issues: [] }, ctx)`};v.write("const input = payload.value;");const P=Object.create(null);let C=0;for(const M of x.keys)P[M]=`key_${C++}`;v.write("const newResult = {};");for(const M of x.keys){const V=P[M],j=g7(M);v.write(`const ${V} = ${N(M)};`),v.write(`
        if (${V}.issues.length) {
          payload.issues = payload.issues.concat(${V}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${j}, ...iss.path] : [${j}]
          })));
        }
        
        
        if (${V}.value === undefined) {
          if (${j} in input) {
            newResult[${j}] = undefined;
          }
        } else {
          newResult[${j}] = ${V}.value;
        }
        
      `)}v.write("payload.value = newResult;"),v.write("return payload;");const I=v.compile();return(M,V)=>I(g,M,V)};let s;const a=um,o=!eE.jitless,c=o&&Tz.value,d=e.catchall;let p;t._zod.parse=(g,v)=>{p??(p=r.value);const x=g.value;return a(x)?o&&c&&(v==null?void 0:v.async)===!1&&v.jitless!==!0?(s||(s=i(e.shape)),g=s(g,v),d?gE([],x,g,v,p,t):g):n(g,v):(g.issues.push({expected:"object",code:"invalid_type",input:x,inst:t}),g)}});function b7(t,e,n,r){for(const s of t)if(s.issues.length===0)return e.value=s.value,e;const i=t.filter(s=>!su(s));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(s=>s.issues.map(a=>go(a,r,po())))}),e)}const lV=X("$ZodUnion",(t,e)=>{Ut.init(t,e),yt(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),yt(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),yt(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),yt(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>_2(s.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(i,s)=>{if(n)return r(i,s);let a=!1;const o=[];for(const u of e.options){const c=u._zod.run({value:i.value,issues:[]},s);if(c instanceof Promise)o.push(c),a=!0;else{if(c.issues.length===0)return c;o.push(c)}}return a?Promise.all(o).then(u=>b7(u,i,t,s)):b7(o,i,t,s)}}),uV=X("$ZodIntersection",(t,e)=>{Ut.init(t,e),t._zod.parse=(n,r)=>{const i=n.value,s=e.left._zod.run({value:i,issues:[]},r),a=e.right._zod.run({value:i,issues:[]},r);return s instanceof Promise||a instanceof Promise?Promise.all([s,a]).then(([u,c])=>_7(n,u,c)):_7(n,s,a)}});function W4(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Fu(t)&&Fu(e)){const n=Object.keys(e),r=Object.keys(t).filter(s=>n.indexOf(s)!==-1),i={...t,...e};for(const s of r){const a=W4(t[s],e[s]);if(!a.valid)return{valid:!1,mergeErrorPath:[s,...a.mergeErrorPath]};i[s]=a.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r],a=W4(i,s);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function _7(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),su(t))return t;const r=W4(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const cV=X("$ZodRecord",(t,e)=>{Ut.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Fu(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:t}),n;const s=[],a=e.keyType._zod.values;if(a){n.value={};const o=new Set;for(const c of a)if(typeof c=="string"||typeof c=="number"||typeof c=="symbol"){o.add(typeof c=="number"?c.toString():c);const d=e.valueType._zod.run({value:i[c],issues:[]},r);d instanceof Promise?s.push(d.then(p=>{p.issues.length&&n.issues.push(...au(c,p.issues)),n.value[c]=p.value})):(d.issues.length&&n.issues.push(...au(c,d.issues)),n.value[c]=d.value)}let u;for(const c in i)o.has(c)||(u=u??[],u.push(c));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:t,keys:u})}else{n.value={};for(const o of Reflect.ownKeys(i)){if(o==="__proto__")continue;const u=e.keyType._zod.run({value:o,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(u.issues.length){e.mode==="loose"?n.value[o]=i[o]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(d=>go(d,r,po())),input:o,path:[o],inst:t});continue}const c=e.valueType._zod.run({value:i[o],issues:[]},r);c instanceof Promise?s.push(c.then(d=>{d.issues.length&&n.issues.push(...au(o,d.issues)),n.value[u.value]=d.value})):(c.issues.length&&n.issues.push(...au(o,c.issues)),n.value[u.value]=c.value)}}return s.length?Promise.all(s).then(()=>n):n}}),hV=X("$ZodEnum",(t,e)=>{Ut.init(t,e);const n=tE(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(i=>wz.has(typeof i)).map(i=>typeof i=="string"?ip(i):i.toString()).join("|")})$`),t._zod.parse=(i,s)=>{const a=i.value;return r.has(a)||i.issues.push({code:"invalid_value",values:n,input:a,inst:t}),i}}),fV=X("$ZodTransform",(t,e)=>{Ut.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new JS(t.constructor.name);const i=e.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(a=>(n.value=a,n));if(i instanceof Promise)throw new Su;return n.value=i,n}});function T7(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const dV=X("$ZodOptional",(t,e)=>{Ut.init(t,e),t._zod.optin="optional",t._zod.optout="optional",yt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),yt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${_2(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>T7(s,n.value)):T7(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),mV=X("$ZodNullable",(t,e)=>{Ut.init(t,e),yt(t._zod,"optin",()=>e.innerType._zod.optin),yt(t._zod,"optout",()=>e.innerType._zod.optout),yt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${_2(n.source)}|null)$`):void 0}),yt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),pV=X("$ZodDefault",(t,e)=>{Ut.init(t,e),t._zod.optin="optional",yt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>w7(s,e)):w7(i,e)}});function w7(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const gV=X("$ZodPrefault",(t,e)=>{Ut.init(t,e),t._zod.optin="optional",yt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),yV=X("$ZodNonOptional",(t,e)=>{Ut.init(t,e),yt(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>S7(s,t)):S7(i,t)}});function S7(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const vV=X("$ZodCatch",(t,e)=>{Ut.init(t,e),yt(t._zod,"optin",()=>e.innerType._zod.optin),yt(t._zod,"optout",()=>e.innerType._zod.optout),yt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>(n.value=s.value,s.issues.length&&(n.value=e.catchValue({...n,error:{issues:s.issues.map(a=>go(a,r,po()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(s=>go(s,r,po()))},input:n.value}),n.issues=[]),n)}}),bV=X("$ZodPipe",(t,e)=>{Ut.init(t,e),yt(t._zod,"values",()=>e.in._zod.values),yt(t._zod,"optin",()=>e.in._zod.optin),yt(t._zod,"optout",()=>e.out._zod.optout),yt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=e.out._zod.run(n,r);return s instanceof Promise?s.then(a=>kf(a,e.in,r)):kf(s,e.in,r)}const i=e.in._zod.run(n,r);return i instanceof Promise?i.then(s=>kf(s,e.out,r)):kf(i,e.out,r)}});function kf(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const _V=X("$ZodReadonly",(t,e)=>{Ut.init(t,e),yt(t._zod,"propValues",()=>e.innerType._zod.propValues),yt(t._zod,"values",()=>e.innerType._zod.values),yt(t._zod,"optin",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),yt(t._zod,"optout",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(E7):E7(i)}});function E7(t){return t.value=Object.freeze(t.value),t}const TV=X("$ZodCustom",(t,e)=>{Dr.init(t,e),Ut.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,i=e.fn(r);if(i instanceof Promise)return i.then(s=>A7(s,n,r,t));A7(i,n,r,t)}});function A7(t,e,n,r){if(!t){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),e.issues.push(mh(i))}}var x7;class wV{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function SV(){return new wV}(x7=globalThis).__zod_globalRegistry??(x7.__zod_globalRegistry=SV());const y0=globalThis.__zod_globalRegistry;function EV(t,e){return new t({type:"string",...me(e)})}function AV(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...me(e)})}function R7(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...me(e)})}function xV(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...me(e)})}function RV(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...me(e)})}function CV(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...me(e)})}function kV(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...me(e)})}function IV(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...me(e)})}function NV(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...me(e)})}function MV(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...me(e)})}function DV(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...me(e)})}function OV(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...me(e)})}function PV(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...me(e)})}function zV(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...me(e)})}function LV(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...me(e)})}function VV(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...me(e)})}function UV(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...me(e)})}function BV(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...me(e)})}function jV(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...me(e)})}function FV(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...me(e)})}function HV(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...me(e)})}function $V(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...me(e)})}function qV(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...me(e)})}function GV(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...me(e)})}function KV(t,e){return new t({type:"string",format:"date",check:"string_format",...me(e)})}function YV(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...me(e)})}function XV(t,e){return new t({type:"string",format:"duration",check:"string_format",...me(e)})}function ZV(t,e){return new t({type:"number",checks:[],...me(e)})}function QV(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...me(e)})}function WV(t,e){return new t({type:"boolean",...me(e)})}function JV(t){return new t({type:"unknown"})}function eU(t,e){return new t({type:"never",...me(e)})}function C7(t,e){return new hE({check:"less_than",...me(e),value:t,inclusive:!1})}function H1(t,e){return new hE({check:"less_than",...me(e),value:t,inclusive:!0})}function k7(t,e){return new fE({check:"greater_than",...me(e),value:t,inclusive:!1})}function $1(t,e){return new fE({check:"greater_than",...me(e),value:t,inclusive:!0})}function I7(t,e){return new gL({check:"multiple_of",...me(e),value:t})}function yE(t,e){return new vL({check:"max_length",...me(e),maximum:t})}function hm(t,e){return new bL({check:"min_length",...me(e),minimum:t})}function vE(t,e){return new _L({check:"length_equals",...me(e),length:t})}function tU(t,e){return new TL({check:"string_format",format:"regex",...me(e),pattern:t})}function nU(t){return new wL({check:"string_format",format:"lowercase",...me(t)})}function rU(t){return new SL({check:"string_format",format:"uppercase",...me(t)})}function iU(t,e){return new EL({check:"string_format",format:"includes",...me(e),includes:t})}function sU(t,e){return new AL({check:"string_format",format:"starts_with",...me(e),prefix:t})}function aU(t,e){return new xL({check:"string_format",format:"ends_with",...me(e),suffix:t})}function cc(t){return new RL({check:"overwrite",tx:t})}function oU(t){return cc(e=>e.normalize(t))}function lU(){return cc(t=>t.trim())}function uU(){return cc(t=>t.toLowerCase())}function cU(){return cc(t=>t.toUpperCase())}function hU(){return cc(t=>_z(t))}function fU(t,e,n){return new t({type:"array",element:e,...me(n)})}function dU(t,e,n){return new t({type:"custom",check:"custom",fn:e,...me(n)})}function mU(t){const e=pU(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(mh(r,n.value,e._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(mh(i))}},t(n.value,n)));return e}function pU(t,e){const n=new Dr({check:"custom",...me(e)});return n._zod.check=t,n}function bE(t){let e=(t==null?void 0:t.target)??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:(t==null?void 0:t.metadata)??y0,target:e,unrepresentable:(t==null?void 0:t.unrepresentable)??"throw",override:(t==null?void 0:t.override)??(()=>{}),io:(t==null?void 0:t.io)??"output",counter:0,seen:new Map,cycles:(t==null?void 0:t.cycles)??"ref",reused:(t==null?void 0:t.reused)??"inline",external:(t==null?void 0:t.external)??void 0}}function fn(t,e,n={path:[],schemaPath:[]}){var d,p;var r;const i=t._zod.def,s=e.seen.get(t);if(s)return s.count++,n.schemaPath.includes(t)&&(s.cycle=n.path),s.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,a);const o=(p=(d=t._zod).toJSONSchema)==null?void 0:p.call(d);if(o)a.schema=o;else{const g={...n,schemaPath:[...n.schemaPath,t],path:n.path},v=t._zod.parent;if(v)a.ref=v,fn(v,e,g),e.seen.get(v).isParent=!0;else if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,a.schema,g);else{const x=a.schema,N=e.processors[i.type];if(!N)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);N(t,e,x,g)}}const u=e.metadataRegistry.get(t);return u&&Object.assign(a.schema,u),e.io==="input"&&tr(t)&&(delete a.schema.examples,delete a.schema.default),e.io==="input"&&a.schema._prefault&&((r=a.schema).default??(r.default=a.schema._prefault)),delete a.schema._prefault,e.seen.get(t).schema}function _E(t,e){var s,a,o;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=u=>{var v;const c=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const x=(v=t.external.registry.get(u[0]))==null?void 0:v.id,N=t.external.uri??(C=>C);if(x)return{ref:N(x)};const P=u[1].defId??u[1].schema.id??`schema${t.counter++}`;return u[1].defId=P,{defId:P,ref:`${N("__shared")}#/${c}/${P}`}}if(u[1]===n)return{ref:"#"};const p=`#/${c}/`,g=u[1].schema.id??`__schema${t.counter++}`;return{defId:g,ref:p+g}},i=u=>{if(u[1].schema.$ref)return;const c=u[1],{ref:d,defId:p}=r(u);c.def={...c.schema},p&&(c.defId=p);const g=c.schema;for(const v in g)delete g[v];g.$ref=d};if(t.cycles==="throw")for(const u of t.seen.entries()){const c=u[1];if(c.cycle)throw new Error(`Cycle detected: #/${(s=c.cycle)==null?void 0:s.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const u of t.seen.entries()){const c=u[1];if(e===u[0]){i(u);continue}if(t.external){const p=(a=t.external.registry.get(u[0]))==null?void 0:a.id;if(e!==u[0]&&p){i(u);continue}}if((o=t.metadataRegistry.get(u[0]))==null?void 0:o.id){i(u);continue}if(c.cycle){i(u);continue}if(c.count>1&&t.reused==="ref"){i(u);continue}}}function TE(t,e){var a,o,u;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=c=>{const d=t.seen.get(c),p=d.def??d.schema,g={...p};if(d.ref===null)return;const v=d.ref;if(d.ref=null,v){r(v);const x=t.seen.get(v).schema;x.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(p.allOf=p.allOf??[],p.allOf.push(x)):(Object.assign(p,x),Object.assign(p,g))}d.isParent||t.override({zodSchema:c,jsonSchema:p,path:d.path??[]})};for(const c of[...t.seen.entries()].reverse())r(c[0]);const i={};if(t.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":t.target,(a=t.external)!=null&&a.uri){const c=(o=t.external.registry.get(e))==null?void 0:o.id;if(!c)throw new Error("Schema is missing an `id` property");i.$id=t.external.uri(c)}Object.assign(i,n.def??n.schema);const s=((u=t.external)==null?void 0:u.defs)??{};for(const c of t.seen.entries()){const d=c[1];d.def&&d.defId&&(s[d.defId]=d.def)}t.external||Object.keys(s).length>0&&(t.target==="draft-2020-12"?i.$defs=s:i.definitions=s);try{const c=JSON.parse(JSON.stringify(i));return Object.defineProperty(c,"~standard",{value:{...e["~standard"],jsonSchema:{input:fm(e,"input"),output:fm(e,"output")}},enumerable:!1,writable:!1}),c}catch{throw new Error("Error converting schema to JSON.")}}function tr(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return tr(r.element,n);if(r.type==="set")return tr(r.valueType,n);if(r.type==="lazy")return tr(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return tr(r.innerType,n);if(r.type==="intersection")return tr(r.left,n)||tr(r.right,n);if(r.type==="record"||r.type==="map")return tr(r.keyType,n)||tr(r.valueType,n);if(r.type==="pipe")return tr(r.in,n)||tr(r.out,n);if(r.type==="object"){for(const i in r.shape)if(tr(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(tr(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(tr(i,n))return!0;return!!(r.rest&&tr(r.rest,n))}return!1}const gU=(t,e={})=>n=>{const r=bE({...n,processors:e});return fn(t,r),_E(r,t),TE(r,t)},fm=(t,e)=>n=>{const{libraryOptions:r,target:i}=n??{},s=bE({...r??{},target:i,io:e,processors:{}});return fn(t,s),_E(s,t),TE(s,t)},yU={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},vU=(t,e,n,r)=>{const i=n;i.type="string";const{minimum:s,maximum:a,format:o,patterns:u,contentEncoding:c}=t._zod.bag;if(typeof s=="number"&&(i.minLength=s),typeof a=="number"&&(i.maxLength=a),o&&(i.format=yU[o]??o,i.format===""&&delete i.format),c&&(i.contentEncoding=c),u&&u.size>0){const d=[...u];d.length===1?i.pattern=d[0].source:d.length>1&&(i.allOf=[...d.map(p=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:p.source}))])}},bU=(t,e,n,r)=>{const i=n,{minimum:s,maximum:a,format:o,multipleOf:u,exclusiveMaximum:c,exclusiveMinimum:d}=t._zod.bag;typeof o=="string"&&o.includes("int")?i.type="integer":i.type="number",typeof d=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.minimum=d,i.exclusiveMinimum=!0):i.exclusiveMinimum=d),typeof s=="number"&&(i.minimum=s,typeof d=="number"&&e.target!=="draft-04"&&(d>=s?delete i.minimum:delete i.exclusiveMinimum)),typeof c=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.maximum=c,i.exclusiveMaximum=!0):i.exclusiveMaximum=c),typeof a=="number"&&(i.maximum=a,typeof c=="number"&&e.target!=="draft-04"&&(c<=a?delete i.maximum:delete i.exclusiveMaximum)),typeof u=="number"&&(i.multipleOf=u)},_U=(t,e,n,r)=>{n.type="boolean"},TU=(t,e,n,r)=>{n.not={}},wU=(t,e,n,r)=>{},SU=(t,e,n,r)=>{const i=t._zod.def,s=tE(i.entries);s.every(a=>typeof a=="number")&&(n.type="number"),s.every(a=>typeof a=="string")&&(n.type="string"),n.enum=s},EU=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},AU=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},xU=(t,e,n,r)=>{const i=n,s=t._zod.def,{minimum:a,maximum:o}=t._zod.bag;typeof a=="number"&&(i.minItems=a),typeof o=="number"&&(i.maxItems=o),i.type="array",i.items=fn(s.element,e,{...r,path:[...r.path,"items"]})},RU=(t,e,n,r)=>{var c;const i=n,s=t._zod.def;i.type="object",i.properties={};const a=s.shape;for(const d in a)i.properties[d]=fn(a[d],e,{...r,path:[...r.path,"properties",d]});const o=new Set(Object.keys(a)),u=new Set([...o].filter(d=>{const p=s.shape[d]._zod;return e.io==="input"?p.optin===void 0:p.optout===void 0}));u.size>0&&(i.required=Array.from(u)),((c=s.catchall)==null?void 0:c._zod.def.type)==="never"?i.additionalProperties=!1:s.catchall?s.catchall&&(i.additionalProperties=fn(s.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(i.additionalProperties=!1)},CU=(t,e,n,r)=>{const i=t._zod.def,s=i.inclusive===!1,a=i.options.map((o,u)=>fn(o,e,{...r,path:[...r.path,s?"oneOf":"anyOf",u]}));s?n.oneOf=a:n.anyOf=a},kU=(t,e,n,r)=>{const i=t._zod.def,s=fn(i.left,e,{...r,path:[...r.path,"allOf",0]}),a=fn(i.right,e,{...r,path:[...r.path,"allOf",1]}),o=c=>"allOf"in c&&Object.keys(c).length===1,u=[...o(s)?s.allOf:[s],...o(a)?a.allOf:[a]];n.allOf=u},IU=(t,e,n,r)=>{const i=n,s=t._zod.def;i.type="object",(e.target==="draft-07"||e.target==="draft-2020-12")&&(i.propertyNames=fn(s.keyType,e,{...r,path:[...r.path,"propertyNames"]})),i.additionalProperties=fn(s.valueType,e,{...r,path:[...r.path,"additionalProperties"]})},NU=(t,e,n,r)=>{const i=t._zod.def,s=fn(i.innerType,e,r),a=e.seen.get(t);e.target==="openapi-3.0"?(a.ref=i.innerType,n.nullable=!0):n.anyOf=[s,{type:"null"}]},MU=(t,e,n,r)=>{const i=t._zod.def;fn(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType},DU=(t,e,n,r)=>{const i=t._zod.def;fn(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},OU=(t,e,n,r)=>{const i=t._zod.def;fn(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},PU=(t,e,n,r)=>{const i=t._zod.def;fn(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType;let a;try{a=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=a},zU=(t,e,n,r)=>{const i=t._zod.def,s=e.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;fn(s,e,r);const a=e.seen.get(t);a.ref=s},LU=(t,e,n,r)=>{const i=t._zod.def;fn(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType,n.readOnly=!0},VU=(t,e,n,r)=>{const i=t._zod.def;fn(i.innerType,e,r);const s=e.seen.get(t);s.ref=i.innerType},UU=X("ZodISODateTime",(t,e)=>{jL.init(t,e),It.init(t,e)});function BU(t){return GV(UU,t)}const jU=X("ZodISODate",(t,e)=>{FL.init(t,e),It.init(t,e)});function FU(t){return KV(jU,t)}const HU=X("ZodISOTime",(t,e)=>{HL.init(t,e),It.init(t,e)});function $U(t){return YV(HU,t)}const qU=X("ZodISODuration",(t,e)=>{$L.init(t,e),It.init(t,e)});function GU(t){return XV(qU,t)}const KU=(t,e)=>{sE.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>Dz(t,n)},flatten:{value:n=>Mz(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Q4,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Q4,2)}},isEmpty:{get(){return t.issues.length===0}}})},Ti=X("ZodError",KU,{Parent:Error}),YU=w2(Ti),XU=S2(Ti),ZU=sp(Ti),QU=ap(Ti),WU=zz(Ti),JU=Lz(Ti),eB=Vz(Ti),tB=Uz(Ti),nB=Bz(Ti),rB=jz(Ti),iB=Fz(Ti),sB=Hz(Ti),Yt=X("ZodType",(t,e)=>(Ut.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:fm(t,"input"),output:fm(t,"output")}}),t.toJSONSchema=gU(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(Ml(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),t.clone=(n,r)=>Co(t,n,r),t.brand=()=>t,t.register=(n,r)=>(n.add(t,r),t),t.parse=(n,r)=>YU(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>ZU(t,n,r),t.parseAsync=async(n,r)=>XU(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>QU(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>WU(t,n,r),t.decode=(n,r)=>JU(t,n,r),t.encodeAsync=async(n,r)=>eB(t,n,r),t.decodeAsync=async(n,r)=>tB(t,n,r),t.safeEncode=(n,r)=>nB(t,n,r),t.safeDecode=(n,r)=>rB(t,n,r),t.safeEncodeAsync=async(n,r)=>iB(t,n,r),t.safeDecodeAsync=async(n,r)=>sB(t,n,r),t.refine=(n,r)=>t.check(ZB(n,r)),t.superRefine=n=>t.check(QB(n)),t.overwrite=n=>t.check(cc(n)),t.optional=()=>D7(t),t.nullable=()=>O7(t),t.nullish=()=>D7(O7(t)),t.nonoptional=n=>HB(t,n),t.array=()=>Hu(t),t.or=n=>EE([t,n]),t.and=n=>OB(t,n),t.transform=n=>P7(t,LB(n)),t.default=n=>BB(t,n),t.prefault=n=>FB(t,n),t.catch=n=>qB(t,n),t.pipe=n=>P7(t,n),t.readonly=()=>YB(t),t.describe=n=>{const r=t.clone();return y0.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){var n;return(n=y0.get(t))==null?void 0:n.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return y0.get(t);const r=t.clone();return y0.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),wE=X("_ZodString",(t,e)=>{E2.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,i,s)=>vU(t,r,i);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(tU(...r)),t.includes=(...r)=>t.check(iU(...r)),t.startsWith=(...r)=>t.check(sU(...r)),t.endsWith=(...r)=>t.check(aU(...r)),t.min=(...r)=>t.check(hm(...r)),t.max=(...r)=>t.check(yE(...r)),t.length=(...r)=>t.check(vE(...r)),t.nonempty=(...r)=>t.check(hm(1,...r)),t.lowercase=r=>t.check(nU(r)),t.uppercase=r=>t.check(rU(r)),t.trim=()=>t.check(lU()),t.normalize=(...r)=>t.check(oU(...r)),t.toLowerCase=()=>t.check(uU()),t.toUpperCase=()=>t.check(cU()),t.slugify=()=>t.check(hU())}),aB=X("ZodString",(t,e)=>{E2.init(t,e),wE.init(t,e),t.email=n=>t.check(AV(oB,n)),t.url=n=>t.check(IV(lB,n)),t.jwt=n=>t.check(qV(SB,n)),t.emoji=n=>t.check(NV(uB,n)),t.guid=n=>t.check(R7(N7,n)),t.uuid=n=>t.check(xV(If,n)),t.uuidv4=n=>t.check(RV(If,n)),t.uuidv6=n=>t.check(CV(If,n)),t.uuidv7=n=>t.check(kV(If,n)),t.nanoid=n=>t.check(MV(cB,n)),t.guid=n=>t.check(R7(N7,n)),t.cuid=n=>t.check(DV(hB,n)),t.cuid2=n=>t.check(OV(fB,n)),t.ulid=n=>t.check(PV(dB,n)),t.base64=n=>t.check(FV(_B,n)),t.base64url=n=>t.check(HV(TB,n)),t.xid=n=>t.check(zV(mB,n)),t.ksuid=n=>t.check(LV(pB,n)),t.ipv4=n=>t.check(VV(gB,n)),t.ipv6=n=>t.check(UV(yB,n)),t.cidrv4=n=>t.check(BV(vB,n)),t.cidrv6=n=>t.check(jV(bB,n)),t.e164=n=>t.check($V(wB,n)),t.datetime=n=>t.check(BU(n)),t.date=n=>t.check(FU(n)),t.time=n=>t.check($U(n)),t.duration=n=>t.check(GU(n))});function un(t){return EV(aB,t)}const It=X("ZodStringFormat",(t,e)=>{Et.init(t,e),wE.init(t,e)}),oB=X("ZodEmail",(t,e)=>{ML.init(t,e),It.init(t,e)}),N7=X("ZodGUID",(t,e)=>{IL.init(t,e),It.init(t,e)}),If=X("ZodUUID",(t,e)=>{NL.init(t,e),It.init(t,e)}),lB=X("ZodURL",(t,e)=>{DL.init(t,e),It.init(t,e)}),uB=X("ZodEmoji",(t,e)=>{OL.init(t,e),It.init(t,e)}),cB=X("ZodNanoID",(t,e)=>{PL.init(t,e),It.init(t,e)}),hB=X("ZodCUID",(t,e)=>{zL.init(t,e),It.init(t,e)}),fB=X("ZodCUID2",(t,e)=>{LL.init(t,e),It.init(t,e)}),dB=X("ZodULID",(t,e)=>{VL.init(t,e),It.init(t,e)}),mB=X("ZodXID",(t,e)=>{UL.init(t,e),It.init(t,e)}),pB=X("ZodKSUID",(t,e)=>{BL.init(t,e),It.init(t,e)}),gB=X("ZodIPv4",(t,e)=>{qL.init(t,e),It.init(t,e)}),yB=X("ZodIPv6",(t,e)=>{GL.init(t,e),It.init(t,e)}),vB=X("ZodCIDRv4",(t,e)=>{KL.init(t,e),It.init(t,e)}),bB=X("ZodCIDRv6",(t,e)=>{YL.init(t,e),It.init(t,e)}),_B=X("ZodBase64",(t,e)=>{XL.init(t,e),It.init(t,e)}),TB=X("ZodBase64URL",(t,e)=>{QL.init(t,e),It.init(t,e)}),wB=X("ZodE164",(t,e)=>{WL.init(t,e),It.init(t,e)}),SB=X("ZodJWT",(t,e)=>{eV.init(t,e),It.init(t,e)}),SE=X("ZodNumber",(t,e)=>{mE.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,i,s)=>bU(t,r,i),t.gt=(r,i)=>t.check(k7(r,i)),t.gte=(r,i)=>t.check($1(r,i)),t.min=(r,i)=>t.check($1(r,i)),t.lt=(r,i)=>t.check(C7(r,i)),t.lte=(r,i)=>t.check(H1(r,i)),t.max=(r,i)=>t.check(H1(r,i)),t.int=r=>t.check(M7(r)),t.safe=r=>t.check(M7(r)),t.positive=r=>t.check(k7(0,r)),t.nonnegative=r=>t.check($1(0,r)),t.negative=r=>t.check(C7(0,r)),t.nonpositive=r=>t.check(H1(0,r)),t.multipleOf=(r,i)=>t.check(I7(r,i)),t.step=(r,i)=>t.check(I7(r,i)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function In(t){return ZV(SE,t)}const EB=X("ZodNumberFormat",(t,e)=>{tV.init(t,e),SE.init(t,e)});function M7(t){return QV(EB,t)}const AB=X("ZodBoolean",(t,e)=>{nV.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>_U(t,n,r)});function xB(t){return WV(AB,t)}const RB=X("ZodUnknown",(t,e)=>{rV.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>wU()});function J4(){return JV(RB)}const CB=X("ZodNever",(t,e)=>{iV.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>TU(t,n,r)});function kB(t){return eU(CB,t)}const IB=X("ZodArray",(t,e)=>{sV.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>xU(t,n,r,i),t.element=e.element,t.min=(n,r)=>t.check(hm(n,r)),t.nonempty=n=>t.check(hm(1,n)),t.max=(n,r)=>t.check(yE(n,r)),t.length=(n,r)=>t.check(vE(n,r)),t.unwrap=()=>t.element});function Hu(t,e){return fU(IB,t,e)}const NB=X("ZodObject",(t,e)=>{oV.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>RU(t,n,r,i),yt(t,"shape",()=>e.shape),t.keyof=()=>ty(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:J4()}),t.loose=()=>t.clone({...t._zod.def,catchall:J4()}),t.strict=()=>t.clone({...t._zod.def,catchall:kB()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>Rz(t,n),t.safeExtend=n=>Cz(t,n),t.merge=n=>kz(t,n),t.pick=n=>Az(t,n),t.omit=n=>xz(t,n),t.partial=(...n)=>Iz(xE,t,n[0]),t.required=(...n)=>Nz(RE,t,n[0])});function qi(t,e){const n={type:"object",shape:t??{},...me(e)};return new NB(n)}const MB=X("ZodUnion",(t,e)=>{lV.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>CU(t,n,r,i),t.options=e.options});function EE(t,e){return new MB({type:"union",options:t,...me(e)})}const DB=X("ZodIntersection",(t,e)=>{uV.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>kU(t,n,r,i)});function OB(t,e){return new DB({type:"intersection",left:t,right:e})}const PB=X("ZodRecord",(t,e)=>{cV.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>IU(t,n,r,i),t.keyType=e.keyType,t.valueType=e.valueType});function AE(t,e,n){return new PB({type:"record",keyType:t,valueType:e,...me(n)})}const ey=X("ZodEnum",(t,e)=>{hV.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(r,i,s)=>SU(t,r,i),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,i)=>{const s={};for(const a of r)if(n.has(a))s[a]=e.entries[a];else throw new Error(`Key ${a} not found in enum`);return new ey({...e,checks:[],...me(i),entries:s})},t.exclude=(r,i)=>{const s={...e.entries};for(const a of r)if(n.has(a))delete s[a];else throw new Error(`Key ${a} not found in enum`);return new ey({...e,checks:[],...me(i),entries:s})}});function ty(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new ey({type:"enum",entries:n,...me(e)})}const zB=X("ZodTransform",(t,e)=>{fV.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>AU(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new JS(t.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(mh(s,n.value,e));else{const a=s;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=t),n.issues.push(mh(a))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(s=>(n.value=s,n)):(n.value=i,n)}});function LB(t){return new zB({type:"transform",transform:t})}const xE=X("ZodOptional",(t,e)=>{dV.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>VU(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function D7(t){return new xE({type:"optional",innerType:t})}const VB=X("ZodNullable",(t,e)=>{mV.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>NU(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function O7(t){return new VB({type:"nullable",innerType:t})}const UB=X("ZodDefault",(t,e)=>{pV.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>DU(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function BB(t,e){return new UB({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():rE(e)}})}const jB=X("ZodPrefault",(t,e)=>{gV.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>OU(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function FB(t,e){return new jB({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():rE(e)}})}const RE=X("ZodNonOptional",(t,e)=>{yV.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>MU(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function HB(t,e){return new RE({type:"nonoptional",innerType:t,...me(e)})}const $B=X("ZodCatch",(t,e)=>{vV.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>PU(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function qB(t,e){return new $B({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const GB=X("ZodPipe",(t,e)=>{bV.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>zU(t,n,r,i),t.in=e.in,t.out=e.out});function P7(t,e){return new GB({type:"pipe",in:t,out:e})}const KB=X("ZodReadonly",(t,e)=>{_V.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>LU(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function YB(t){return new KB({type:"readonly",innerType:t})}const XB=X("ZodCustom",(t,e)=>{TV.init(t,e),Yt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>EU(t,n)});function ZB(t,e={}){return dU(XB,t,e)}function QB(t){return mU(t)}_i("Validation");const z7=un().min(1).max(100);un().regex(/^[a-fA-F0-9]{64}$/);const A2=un().regex(/^npub1[1-9ac-hjk-np-z46-9]+$/),CE=un().min(1).max(50).regex(/^[a-zA-Z0-9\s\-\'\.]+$/);un().regex(/^[a-zA-Z0-9\.\-_]+(@[a-zA-Z0-9\.\-_]+\.[a-zA-Z]{2,})?$/);qi({challenge:un().min(10).max(200),expiresAt:In().int().positive()});qi({kind:In().int(),created_at:In().int().nonnegative(),tags:Hu(Hu(un())),content:un()});const WB=qi({npub:A2,displayName:CE.nullable()}),kE=qi({visitedAt:un().nullable().optional(),completedAt:un().nullable().optional(),quizAttempts:Hu(qi({xpEarned:In().int().min(0).optional(),score:In().min(0).max(100).optional(),timestamp:un().optional(),difficulty:ty(["easy","medium","hard"]).optional(),correctAnswers:In().int().min(0).optional(),totalQuestions:In().int().min(1).optional()})).optional(),visualizationsInteracted:Hu(un().max(100)).optional(),masteryLevel:EE([In().int().min(0).max(3),ty(["none","learning","familiar","mastered"])]).nullable().optional(),sectionId:un().optional(),timeSpentSeconds:In().int().min(0).optional()});qi({user:qi({totalXP:In().int().min(0),level:In().int().min(1).max(10),sectionsCompleted:Hu(z7)}),sections:AE(z7,kE),dailyGoals:qi({lastResetDate:un().nullable(),currentStreak:In().int().min(0),xpEarned:In().int().min(0),xpGoal:In().int().min(0)}),lastUpdated:In().int().nonnegative()});qi({success:xB(),totalXP:In().int().min(0)});qi({npub:A2,displayName:CE.nullable(),xp:In().int().min(0),lastSync:un()});qi({timestamp:un(),action:un(),targetNpub:A2.nullable(),performedBy:un(),details:AE(un(),J4()).nullable()});function JB(t){const e=kE.safeParse(t);return e.success?{valid:!0,data:e.data}:{valid:!1,error:"Invalid section data format"}}function ej(t){const e=WB.safeParse(t);return e.success?{valid:!0,data:e.data}:{valid:!1,error:"Invalid auth state format"}}const Yn={SECTION_VISIT:10,SECTION_COMPLETE:25,QUIZ_EASY:15,QUIZ_MEDIUM:25,QUIZ_HARD:40,QUIZ_PERFECT_BONUS:.5,VISUALIZATION_USE:5,PART_COMPLETE_BONUS:50,STREAK_DAILY_BONUS:5,STREAK_BONUS_CAP:50},rr={GAME_PARTICIPATION:10,TIER_MULTIPLIER:{1:.5,2:.6,3:.8,4:1,5:1.2,6:1.5,7:1.8,8:2.2,9:2.7,10:3.5},POINTS_PER_XP_UNIT:500,PERFECT_GAME_BONUS:25,SPEED_DEMON_BONUS:15,STREAK_MASTER_BONUS:20,FIRST_PLACE_BONUS:30,SECOND_PLACE_BONUS:15,THIRD_PLACE_BONUS:5},$u=[{tier:1,name:"Beginner",unlockLevel:1,modulusRange:[2,5],dividendRange:[10,25],basePoints:50},{tier:2,name:"Novice",unlockLevel:2,modulusRange:[2,7],dividendRange:[15,50],basePoints:75},{tier:3,name:"Intermediate",unlockLevel:3,modulusRange:[3,10],dividendRange:[20,100],basePoints:100},{tier:4,name:"Advanced",unlockLevel:5,modulusRange:[5,13],dividendRange:[50,200],basePoints:150},{tier:5,name:"Expert",unlockLevel:7,modulusRange:[7,17],dividendRange:[100,500],basePoints:200},{tier:6,name:"Master",unlockLevel:9,modulusRange:[11,23],dividendRange:[200,999],basePoints:300},{tier:7,name:"Grandmaster",unlockLevel:12,modulusRange:[13,31],dividendRange:[500,2e3],basePoints:400},{tier:8,name:"Legend",unlockLevel:15,modulusRange:[17,47],dividendRange:[1e3,5e3],basePoints:500},{tier:9,name:"Mythic",unlockLevel:18,modulusRange:[23,67],dividendRange:[2e3,9999],basePoints:650},{tier:10,name:"Transcendent",unlockLevel:21,modulusRange:[31,97],dividendRange:[5e3,99999],basePoints:800}],dm=[0,100,250,500,850,1300,1900,2650,3550,4600,5850,7300,9e3,10950,13150,15650,18450,21550,25e3,28800,33e3,37600,42600,48e3,54e3],IE=50,mm=_i("SyncManager"),tj="magic-internet-math-progress";function L7(){try{const t=localStorage.getItem(tj);if(!t)return null;const e=JSON.parse(t);if(!(e!=null&&e.user)||!(e!=null&&e.sections))return null;const n=e.user.totalXP||0,r={ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0,"mod-race":0,man_econ_state:0};for(const[i,s]of Object.entries(e.sections)){const[a]=i.split(":");if(!vz(a))continue;const o=a,u=JB(s);if(!u.valid||!u.data){mm.warn(`Invalid section data for ${i}, skipping`);continue}const c=u.data;if(c.quizAttempts)for(const d of c.quizAttempts)d.xpEarned&&(r[o]+=d.xpEarned);c.visitedAt&&(r[o]+=Yn.SECTION_VISIT),c.completedAt&&(r[o]+=Yn.SECTION_COMPLETE),c.visualizationsInteracted&&(r[o]+=c.visualizationsInteracted.length*Yn.VISUALIZATION_USE)}return{scores:[{courseId:"ba",xp:r.ba},{courseId:"crypto",xp:r.crypto},{courseId:"aa",xp:r.aa},{courseId:"linalg",xp:r.linalg},{courseId:"advlinalg",xp:r.advlinalg},{courseId:"islr",xp:r.islr},{courseId:"ra",xp:r.ra},{courseId:"calc1",xp:r.calc1},{courseId:"calc_lib_art",xp:r.calc_lib_art},{courseId:"calc_easy",xp:r.calc_easy},{courseId:"wm",xp:r.wm},{courseId:"four_pillars",xp:r.four_pillars},{courseId:"mom",xp:r.mom},{courseId:"euclid",xp:r.euclid},{courseId:"thales",xp:r.thales},{courseId:"gauss",xp:r.gauss},{courseId:"human_action",xp:r.human_action},{courseId:"atlas_shrugged",xp:r.atlas_shrugged}],totalXP:n}}catch(t){return mm.error("Error extracting scores from storage:",t),null}}class nj{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.isAuthenticated=!1,this.displayName=null,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.syncNow()}}setAuthenticated(e){this.isAuthenticated=e,e&&this.syncNow()}setDisplayName(e){this.displayName=e}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.syncNow()},YS),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(){this.isAuthenticated&&(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow()},XS))}async syncNow(){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!sr())return{success:!1,error:"Firebase not configured"};const e=Date.now();if(e-this.lastSyncTime<KS)return{success:!1,error:"Rate limited"};try{const n=L7();if(!n)return{success:!1,error:"No scores to sync"};const r=Fi(),i=dh(r,"syncScores"),s={scores:n.scores,totalXP:n.totalXP};this.displayName!==void 0&&(s.displayName=this.displayName);const a=await i(s);return this.lastSyncTime=e,{success:a.data.success,totalXP:a.data.totalXP}}catch(n){return mm.error("Sync failed:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async syncWithRetry(e=3){for(let n=0;n<e;n++){const r=await this.syncNow();if(r.success||r.error==="Not authenticated"||r.error==="No scores to sync"||r.error==="Firebase not configured")return r;if(n<e-1){const i=1e3*Math.pow(2,n);mm.debug(`Sync retry ${n+1}/${e} in ${i}ms`),await new Promise(s=>setTimeout(s,i)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}getLocalScores(){const e=L7();return e?e.scores.reduce((n,r)=>(n[r.courseId]=r.xp,n),{ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0}):null}}let q1=null;function r0(){return q1||(q1=new nj),q1}const yn=_i("NostrAuth"),NE=q.createContext(null),i0="magic-internet-math-nostr-auth";function rj({children:t}){const[e,n]=q.useState(!1),[r,i]=q.useState(null),[s,a]=q.useState(null),[o,u]=q.useState(null),[c,d]=q.useState(!1),[p,g]=q.useState(null),[v,x]=q.useState(!1),[N,P]=q.useState(!1),[C,I]=q.useState(null);q.useEffect(()=>{(async()=>{const A=await pz(rz);x(A),P(!0)})()},[]);const M=q.useCallback(async _=>{for(const A of iz)try{const R=await gz(A,_);if(R){R.nip05&&u(R.nip05);const D=R.display_name||R.name;if(D){a(D);const w=r0();w.setDisplayName(D),w.requestSync()}return}}catch(R){yn.warn(`Failed to fetch profile from ${A}:`,R)}},[]);q.useEffect(()=>{if(!sr())return;const _=j1(),A=rO(_,async R=>{if(I(R),R){i(R.uid);try{const w=await R.getIdTokenResult(!0);yn.debug("Token claims:",w.claims),d(w.claims.isAdmin===!0)}catch(w){yn.error("Error getting token:",w),d(!1)}try{const w=localStorage.getItem(i0);if(w){const ue=JSON.parse(w),Ie=ej(ue);if(!Ie.valid||!Ie.data){yn.warn("Invalid auth state in localStorage:",Ie.error),localStorage.removeItem(i0);return}Ie.data.npub===R.uid&&a(Ie.data.displayName)}}catch(w){yn.debug("Storage read error:",w)}const D=r0();D.setAuthenticated(!0),D.startPeriodicSync();try{const w=mz(R.uid);M(w)}catch(w){yn.debug("Npub conversion error:",w)}}else{i(null),u(null),d(!1),a(null);const D=r0();D.setAuthenticated(!1),D.stopPeriodicSync()}});return()=>A()},[M]);const V=q.useCallback(async()=>{if(yn.debug("connect() called"),yn.debug("isFirebaseConfigured:",sr()),yn.debug("hasNostrExtension:",lm()),!sr()){yn.info("Firebase not configured, cannot connect");return}if(!lm()){g("No Nostr extension found. Please install nos2x, Alby, or another NIP-07 extension."),yn.warn("No extension found, returning");return}n(!0),g(null),yn.info("Starting Nostr connection...");try{const _=window.nostr,A=Fi(),R=await _.getPublicKey(),D=dz(R),ue=await dh(A,"createChallenge")({pubkeyHex:R}),{challenge:Ie}=ue.data,te={kind:tz,created_at:Math.floor(Date.now()/1e3),tags:[["challenge",Ie]],content:Ie},re=await _.signEvent(te),xe=await dh(A,"verifyNostrAndCreateToken")({signedEvent:re,challenge:Ie}),Re=j1();await eO(Re,xe.data.token);try{const Ne={npub:D,displayName:null};localStorage.setItem(i0,JSON.stringify(Ne))}catch(Ne){yn.warn("Failed to store auth state:",Ne)}r0().syncNow().catch(Ne=>{yn.warn("Initial sync failed:",Ne)})}catch(_){yn.error("Nostr connect error:",_),g(_ instanceof Error?_.message:"Failed to connect. Please try again.")}finally{n(!1)}},[v]),j=q.useCallback(async()=>{try{if(sr()){const _=j1();await iO(_)}try{localStorage.removeItem(i0)}catch(_){yn.warn("Failed to clear auth state from storage:",_)}i(null),a(null),d(!1)}catch(_){yn.error("Disconnect error:",_),g(_ instanceof Error?_.message:"Failed to disconnect")}},[]),G=q.useCallback(_=>{if(a(_),r)try{localStorage.setItem(i0,JSON.stringify({npub:r,displayName:_}))}catch(R){yn.warn("Failed to update display name in storage:",R)}const A=r0();A.setDisplayName(_),A.requestSync()},[r]),S=q.useCallback(()=>{g(null)},[]),b=q.useMemo(()=>({isAuthenticated:!!C&&!!r,isConnecting:e,npub:r,displayName:s,nip05:o,isAdmin:c,error:p,hasExtension:v,extensionChecked:N,connect:V,disconnect:j,setDisplayName:G,clearError:S}),[C,r,e,s,o,c,p,v,N,V,j,G,S]);return O.jsx(NE.Provider,{value:b,children:t})}const ij={isAuthenticated:!1,isConnecting:!1,npub:null,displayName:null,nip05:null,isAdmin:!1,error:null,hasExtension:!1,extensionChecked:!0,connect:async()=>{},disconnect:async()=>{},setDisplayName:()=>{},clearError:()=>{}};function ME(){const t=q.useContext(NE);return t||ij}_i("ErrorContext");q.createContext(null);_i("ErrorBoundary");_i("AdminPanel");_i("Leaderboard");class x2{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new x2(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class R2{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new R2(n,x2.range(this,e))}}class de{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,s,a=n&&n.loc;if(a&&a.start<=a.end){var o=a.lexer.input;i=a.start,s=a.end,i===o.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var u=o.slice(i,s).replace(/[^]/g,"$&"),c;i>15?c=""+o.slice(i-15,i):c=o.slice(0,i);var d;s+15<o.length?d=o.slice(s,s+15)+"":d=o.slice(s),r+=c+u+d}var p=new Error(r);return p.name="ParseError",p.__proto__=de.prototype,p.position=i,i!=null&&s!=null&&(p.length=s-i),p.rawMessage=e,p}}de.prototype.__proto__=Error.prototype;var sj=function(e,n){return e===void 0?n:e},aj=/([A-Z])/g,oj=function(e){return e.replace(aj,"-$1").toLowerCase()},lj={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},uj=/[&><"']/g;function cj(t){return String(t).replace(uj,e=>lj[e])}var DE=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},hj=function(e){var n=DE(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},fj=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},dj=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},rt={deflt:sj,escape:cj,hyphenate:oj,getBaseElem:DE,isCharacterBox:hj,protocolFromUrl:dj};class Ca{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return Ji[mj[this.id]]}sub(){return Ji[pj[this.id]]}fracNum(){return Ji[gj[this.id]]}fracDen(){return Ji[yj[this.id]]}cramp(){return Ji[vj[this.id]]}text(){return Ji[bj[this.id]]}isTight(){return this.size>=2}}var C2=0,pm=1,Eu=2,Js=3,ph=4,fi=5,qu=6,lr=7,Ji=[new Ca(C2,0,!1),new Ca(pm,0,!0),new Ca(Eu,1,!1),new Ca(Js,1,!0),new Ca(ph,2,!1),new Ca(fi,2,!0),new Ca(qu,3,!1),new Ca(lr,3,!0)],mj=[ph,fi,ph,fi,qu,lr,qu,lr],pj=[fi,fi,fi,fi,lr,lr,lr,lr],gj=[Eu,Js,ph,fi,qu,lr,qu,lr],yj=[Js,Js,fi,fi,lr,lr,lr,lr],vj=[pm,pm,Js,Js,fi,fi,lr,lr],bj=[C2,pm,Eu,Js,Eu,Js,Eu,Js],ve={DISPLAY:Ji[C2],TEXT:Ji[Eu],SCRIPT:Ji[ph],SCRIPTSCRIPT:Ji[qu]},ny=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function _j(t){for(var e=0;e<ny.length;e++)for(var n=ny[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var md=[];ny.forEach(t=>t.blocks.forEach(e=>md.push(...e)));function Tj(t){for(var e=0;e<md.length;e+=2)if(t>=md[e]&&t<=md[e+1])return!0;return!1}var Ul=80,wj=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},Sj=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},Ej=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},Aj=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},xj=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},Rj=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},Cj=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},kj=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=wj(n,Ul);break;case"sqrtSize1":i=Sj(n,Ul);break;case"sqrtSize2":i=Ej(n,Ul);break;case"sqrtSize3":i=Aj(n,Ul);break;case"sqrtSize4":i=xj(n,Ul);break;case"sqrtTall":i=Cj(n,Ul,r)}return i},Ij=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},V7={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Nj=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Xh{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var Xs={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},U7={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function k2(t,e,n){if(!Xs[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=Xs[e][r];if(!i&&t[0]in U7&&(r=U7[t[0]].charCodeAt(0),i=Xs[e][r]),!i&&n==="text"&&Tj(r)&&(i=Xs[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var ry={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Mj={ex:!0,em:!0,mu:!0},Dj=function(e){return typeof e!="string"&&(e=e.unit),e in ry||e in Mj||e==="ex"},Ct=function(e,n){var r;if(e.unit in ry)r=ry[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new de("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},ne=function(e){return+e.toFixed(4)+"em"},yo=function(e){return e.filter(n=>n).join(" ")},OE=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},PE=function(e){var n=document.createElement(e);n.className=yo(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},Oj=/[\s"'>/=\x00-\x1f]/,zE=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+rt.escape(yo(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=rt.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+rt.escape(r)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(Oj.test(s))throw new de("Invalid attribute name '"+s+"'");n+=" "+s+'="'+rt.escape(this.attributes[s])+'"'}n+=">";for(var a=0;a<this.children.length;a++)n+=this.children[a].toMarkup();return n+="</"+e+">",n};class lp{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,OE.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return PE.call(this,"span")}toMarkup(){return zE.call(this,"span")}}class LE{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,OE.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return PE.call(this,"a")}toMarkup(){return zE.call(this,"a")}}class Pj{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+rt.escape(this.src)+'"'+(' alt="'+rt.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=rt.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+rt.escape(n)+'"'),e+="'/>",e}}var zj={:"",:"",:"",:""};class fs{constructor(e,n,r,i,s,a,o,u){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=s||0,this.width=a||0,this.classes=o||[],this.style=u||{},this.maxFontSize=0;var c=_j(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[]/.test(this.text)&&(this.text=zj[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=ne(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=yo(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=rt.escape(yo(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=rt.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+rt.escape(r)+'"');var s=rt.escape(this.text);return e?(n+=">",n+=s,n+="</span>",n):s}}class vo{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+rt.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class wl{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",V7[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+rt.escape(this.alternate)+'"/>':'<path d="'+rt.escape(V7[this.pathName])+'"/>'}}class B7{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+rt.escape(this.attributes[n])+'"');return e+="/>",e}}function j7(t){if(t instanceof fs)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function Lj(t){if(t instanceof lp)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var Vj={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Gt={math:{},text:{}};function y(t,e,n,r,i,s){Gt[t][i]={font:e,group:n,replace:r},s&&r&&(Gt[t][r]=Gt[t][i])}var T="math",Q="text",k="main",U="ams",At="accent-token",oe="bin",mr="close",hc="inner",pe="mathord",rn="op-token",Xr="open",up="punct",B="rel",ga="spacing",$="textord";y(T,k,B,"","\\equiv",!0);y(T,k,B,"","\\prec",!0);y(T,k,B,"","\\succ",!0);y(T,k,B,"","\\sim",!0);y(T,k,B,"","\\perp");y(T,k,B,"","\\preceq",!0);y(T,k,B,"","\\succeq",!0);y(T,k,B,"","\\simeq",!0);y(T,k,B,"","\\mid",!0);y(T,k,B,"","\\ll",!0);y(T,k,B,"","\\gg",!0);y(T,k,B,"","\\asymp",!0);y(T,k,B,"","\\parallel");y(T,k,B,"","\\bowtie",!0);y(T,k,B,"","\\smile",!0);y(T,k,B,"","\\sqsubseteq",!0);y(T,k,B,"","\\sqsupseteq",!0);y(T,k,B,"","\\doteq",!0);y(T,k,B,"","\\frown",!0);y(T,k,B,"","\\ni",!0);y(T,k,B,"","\\propto",!0);y(T,k,B,"","\\vdash",!0);y(T,k,B,"","\\dashv",!0);y(T,k,B,"","\\owns");y(T,k,up,".","\\ldotp");y(T,k,up,"","\\cdotp");y(T,k,$,"#","\\#");y(Q,k,$,"#","\\#");y(T,k,$,"&","\\&");y(Q,k,$,"&","\\&");y(T,k,$,"","\\aleph",!0);y(T,k,$,"","\\forall",!0);y(T,k,$,"","\\hbar",!0);y(T,k,$,"","\\exists",!0);y(T,k,$,"","\\nabla",!0);y(T,k,$,"","\\flat",!0);y(T,k,$,"","\\ell",!0);y(T,k,$,"","\\natural",!0);y(T,k,$,"","\\clubsuit",!0);y(T,k,$,"","\\wp",!0);y(T,k,$,"","\\sharp",!0);y(T,k,$,"","\\diamondsuit",!0);y(T,k,$,"","\\Re",!0);y(T,k,$,"","\\heartsuit",!0);y(T,k,$,"","\\Im",!0);y(T,k,$,"","\\spadesuit",!0);y(T,k,$,"","\\S",!0);y(Q,k,$,"","\\S");y(T,k,$,"","\\P",!0);y(Q,k,$,"","\\P");y(T,k,$,"","\\dag");y(Q,k,$,"","\\dag");y(Q,k,$,"","\\textdagger");y(T,k,$,"","\\ddag");y(Q,k,$,"","\\ddag");y(Q,k,$,"","\\textdaggerdbl");y(T,k,mr,"","\\rmoustache",!0);y(T,k,Xr,"","\\lmoustache",!0);y(T,k,mr,"","\\rgroup",!0);y(T,k,Xr,"","\\lgroup",!0);y(T,k,oe,"","\\mp",!0);y(T,k,oe,"","\\ominus",!0);y(T,k,oe,"","\\uplus",!0);y(T,k,oe,"","\\sqcap",!0);y(T,k,oe,"","\\ast");y(T,k,oe,"","\\sqcup",!0);y(T,k,oe,"","\\bigcirc",!0);y(T,k,oe,"","\\bullet",!0);y(T,k,oe,"","\\ddagger");y(T,k,oe,"","\\wr",!0);y(T,k,oe,"","\\amalg");y(T,k,oe,"&","\\And");y(T,k,B,"","\\longleftarrow",!0);y(T,k,B,"","\\Leftarrow",!0);y(T,k,B,"","\\Longleftarrow",!0);y(T,k,B,"","\\longrightarrow",!0);y(T,k,B,"","\\Rightarrow",!0);y(T,k,B,"","\\Longrightarrow",!0);y(T,k,B,"","\\leftrightarrow",!0);y(T,k,B,"","\\longleftrightarrow",!0);y(T,k,B,"","\\Leftrightarrow",!0);y(T,k,B,"","\\Longleftrightarrow",!0);y(T,k,B,"","\\mapsto",!0);y(T,k,B,"","\\longmapsto",!0);y(T,k,B,"","\\nearrow",!0);y(T,k,B,"","\\hookleftarrow",!0);y(T,k,B,"","\\hookrightarrow",!0);y(T,k,B,"","\\searrow",!0);y(T,k,B,"","\\leftharpoonup",!0);y(T,k,B,"","\\rightharpoonup",!0);y(T,k,B,"","\\swarrow",!0);y(T,k,B,"","\\leftharpoondown",!0);y(T,k,B,"","\\rightharpoondown",!0);y(T,k,B,"","\\nwarrow",!0);y(T,k,B,"","\\rightleftharpoons",!0);y(T,U,B,"","\\nless",!0);y(T,U,B,"","\\@nleqslant");y(T,U,B,"","\\@nleqq");y(T,U,B,"","\\lneq",!0);y(T,U,B,"","\\lneqq",!0);y(T,U,B,"","\\@lvertneqq");y(T,U,B,"","\\lnsim",!0);y(T,U,B,"","\\lnapprox",!0);y(T,U,B,"","\\nprec",!0);y(T,U,B,"","\\npreceq",!0);y(T,U,B,"","\\precnsim",!0);y(T,U,B,"","\\precnapprox",!0);y(T,U,B,"","\\nsim",!0);y(T,U,B,"","\\@nshortmid");y(T,U,B,"","\\nmid",!0);y(T,U,B,"","\\nvdash",!0);y(T,U,B,"","\\nvDash",!0);y(T,U,B,"","\\ntriangleleft");y(T,U,B,"","\\ntrianglelefteq",!0);y(T,U,B,"","\\subsetneq",!0);y(T,U,B,"","\\@varsubsetneq");y(T,U,B,"","\\subsetneqq",!0);y(T,U,B,"","\\@varsubsetneqq");y(T,U,B,"","\\ngtr",!0);y(T,U,B,"","\\@ngeqslant");y(T,U,B,"","\\@ngeqq");y(T,U,B,"","\\gneq",!0);y(T,U,B,"","\\gneqq",!0);y(T,U,B,"","\\@gvertneqq");y(T,U,B,"","\\gnsim",!0);y(T,U,B,"","\\gnapprox",!0);y(T,U,B,"","\\nsucc",!0);y(T,U,B,"","\\nsucceq",!0);y(T,U,B,"","\\succnsim",!0);y(T,U,B,"","\\succnapprox",!0);y(T,U,B,"","\\ncong",!0);y(T,U,B,"","\\@nshortparallel");y(T,U,B,"","\\nparallel",!0);y(T,U,B,"","\\nVDash",!0);y(T,U,B,"","\\ntriangleright");y(T,U,B,"","\\ntrianglerighteq",!0);y(T,U,B,"","\\@nsupseteqq");y(T,U,B,"","\\supsetneq",!0);y(T,U,B,"","\\@varsupsetneq");y(T,U,B,"","\\supsetneqq",!0);y(T,U,B,"","\\@varsupsetneqq");y(T,U,B,"","\\nVdash",!0);y(T,U,B,"","\\precneqq",!0);y(T,U,B,"","\\succneqq",!0);y(T,U,B,"","\\@nsubseteqq");y(T,U,oe,"","\\unlhd");y(T,U,oe,"","\\unrhd");y(T,U,B,"","\\nleftarrow",!0);y(T,U,B,"","\\nrightarrow",!0);y(T,U,B,"","\\nLeftarrow",!0);y(T,U,B,"","\\nRightarrow",!0);y(T,U,B,"","\\nleftrightarrow",!0);y(T,U,B,"","\\nLeftrightarrow",!0);y(T,U,B,"","\\vartriangle");y(T,U,$,"","\\hslash");y(T,U,$,"","\\triangledown");y(T,U,$,"","\\lozenge");y(T,U,$,"","\\circledS");y(T,U,$,"","\\circledR");y(Q,U,$,"","\\circledR");y(T,U,$,"","\\measuredangle",!0);y(T,U,$,"","\\nexists");y(T,U,$,"","\\mho");y(T,U,$,"","\\Finv",!0);y(T,U,$,"","\\Game",!0);y(T,U,$,"","\\backprime");y(T,U,$,"","\\blacktriangle");y(T,U,$,"","\\blacktriangledown");y(T,U,$,"","\\blacksquare");y(T,U,$,"","\\blacklozenge");y(T,U,$,"","\\bigstar");y(T,U,$,"","\\sphericalangle",!0);y(T,U,$,"","\\complement",!0);y(T,U,$,"","\\eth",!0);y(Q,k,$,"","");y(T,U,$,"","\\diagup");y(T,U,$,"","\\diagdown");y(T,U,$,"","\\square");y(T,U,$,"","\\Box");y(T,U,$,"","\\Diamond");y(T,U,$,"","\\yen",!0);y(Q,U,$,"","\\yen",!0);y(T,U,$,"","\\checkmark",!0);y(Q,U,$,"","\\checkmark");y(T,U,$,"","\\beth",!0);y(T,U,$,"","\\daleth",!0);y(T,U,$,"","\\gimel",!0);y(T,U,$,"","\\digamma",!0);y(T,U,$,"","\\varkappa");y(T,U,Xr,"","\\@ulcorner",!0);y(T,U,mr,"","\\@urcorner",!0);y(T,U,Xr,"","\\@llcorner",!0);y(T,U,mr,"","\\@lrcorner",!0);y(T,U,B,"","\\leqq",!0);y(T,U,B,"","\\leqslant",!0);y(T,U,B,"","\\eqslantless",!0);y(T,U,B,"","\\lesssim",!0);y(T,U,B,"","\\lessapprox",!0);y(T,U,B,"","\\approxeq",!0);y(T,U,oe,"","\\lessdot");y(T,U,B,"","\\lll",!0);y(T,U,B,"","\\lessgtr",!0);y(T,U,B,"","\\lesseqgtr",!0);y(T,U,B,"","\\lesseqqgtr",!0);y(T,U,B,"","\\doteqdot");y(T,U,B,"","\\risingdotseq",!0);y(T,U,B,"","\\fallingdotseq",!0);y(T,U,B,"","\\backsim",!0);y(T,U,B,"","\\backsimeq",!0);y(T,U,B,"","\\subseteqq",!0);y(T,U,B,"","\\Subset",!0);y(T,U,B,"","\\sqsubset",!0);y(T,U,B,"","\\preccurlyeq",!0);y(T,U,B,"","\\curlyeqprec",!0);y(T,U,B,"","\\precsim",!0);y(T,U,B,"","\\precapprox",!0);y(T,U,B,"","\\vartriangleleft");y(T,U,B,"","\\trianglelefteq");y(T,U,B,"","\\vDash",!0);y(T,U,B,"","\\Vvdash",!0);y(T,U,B,"","\\smallsmile");y(T,U,B,"","\\smallfrown");y(T,U,B,"","\\bumpeq",!0);y(T,U,B,"","\\Bumpeq",!0);y(T,U,B,"","\\geqq",!0);y(T,U,B,"","\\geqslant",!0);y(T,U,B,"","\\eqslantgtr",!0);y(T,U,B,"","\\gtrsim",!0);y(T,U,B,"","\\gtrapprox",!0);y(T,U,oe,"","\\gtrdot");y(T,U,B,"","\\ggg",!0);y(T,U,B,"","\\gtrless",!0);y(T,U,B,"","\\gtreqless",!0);y(T,U,B,"","\\gtreqqless",!0);y(T,U,B,"","\\eqcirc",!0);y(T,U,B,"","\\circeq",!0);y(T,U,B,"","\\triangleq",!0);y(T,U,B,"","\\thicksim");y(T,U,B,"","\\thickapprox");y(T,U,B,"","\\supseteqq",!0);y(T,U,B,"","\\Supset",!0);y(T,U,B,"","\\sqsupset",!0);y(T,U,B,"","\\succcurlyeq",!0);y(T,U,B,"","\\curlyeqsucc",!0);y(T,U,B,"","\\succsim",!0);y(T,U,B,"","\\succapprox",!0);y(T,U,B,"","\\vartriangleright");y(T,U,B,"","\\trianglerighteq");y(T,U,B,"","\\Vdash",!0);y(T,U,B,"","\\shortmid");y(T,U,B,"","\\shortparallel");y(T,U,B,"","\\between",!0);y(T,U,B,"","\\pitchfork",!0);y(T,U,B,"","\\varpropto");y(T,U,B,"","\\blacktriangleleft");y(T,U,B,"","\\therefore",!0);y(T,U,B,"","\\backepsilon");y(T,U,B,"","\\blacktriangleright");y(T,U,B,"","\\because",!0);y(T,U,B,"","\\llless");y(T,U,B,"","\\gggtr");y(T,U,oe,"","\\lhd");y(T,U,oe,"","\\rhd");y(T,U,B,"","\\eqsim",!0);y(T,k,B,"","\\Join");y(T,U,B,"","\\Doteq",!0);y(T,U,oe,"","\\dotplus",!0);y(T,U,oe,"","\\smallsetminus");y(T,U,oe,"","\\Cap",!0);y(T,U,oe,"","\\Cup",!0);y(T,U,oe,"","\\doublebarwedge",!0);y(T,U,oe,"","\\boxminus",!0);y(T,U,oe,"","\\boxplus",!0);y(T,U,oe,"","\\divideontimes",!0);y(T,U,oe,"","\\ltimes",!0);y(T,U,oe,"","\\rtimes",!0);y(T,U,oe,"","\\leftthreetimes",!0);y(T,U,oe,"","\\rightthreetimes",!0);y(T,U,oe,"","\\curlywedge",!0);y(T,U,oe,"","\\curlyvee",!0);y(T,U,oe,"","\\circleddash",!0);y(T,U,oe,"","\\circledast",!0);y(T,U,oe,"","\\centerdot");y(T,U,oe,"","\\intercal",!0);y(T,U,oe,"","\\doublecap");y(T,U,oe,"","\\doublecup");y(T,U,oe,"","\\boxtimes",!0);y(T,U,B,"","\\dashrightarrow",!0);y(T,U,B,"","\\dashleftarrow",!0);y(T,U,B,"","\\leftleftarrows",!0);y(T,U,B,"","\\leftrightarrows",!0);y(T,U,B,"","\\Lleftarrow",!0);y(T,U,B,"","\\twoheadleftarrow",!0);y(T,U,B,"","\\leftarrowtail",!0);y(T,U,B,"","\\looparrowleft",!0);y(T,U,B,"","\\leftrightharpoons",!0);y(T,U,B,"","\\curvearrowleft",!0);y(T,U,B,"","\\circlearrowleft",!0);y(T,U,B,"","\\Lsh",!0);y(T,U,B,"","\\upuparrows",!0);y(T,U,B,"","\\upharpoonleft",!0);y(T,U,B,"","\\downharpoonleft",!0);y(T,k,B,"","\\origof",!0);y(T,k,B,"","\\imageof",!0);y(T,U,B,"","\\multimap",!0);y(T,U,B,"","\\leftrightsquigarrow",!0);y(T,U,B,"","\\rightrightarrows",!0);y(T,U,B,"","\\rightleftarrows",!0);y(T,U,B,"","\\twoheadrightarrow",!0);y(T,U,B,"","\\rightarrowtail",!0);y(T,U,B,"","\\looparrowright",!0);y(T,U,B,"","\\curvearrowright",!0);y(T,U,B,"","\\circlearrowright",!0);y(T,U,B,"","\\Rsh",!0);y(T,U,B,"","\\downdownarrows",!0);y(T,U,B,"","\\upharpoonright",!0);y(T,U,B,"","\\downharpoonright",!0);y(T,U,B,"","\\rightsquigarrow",!0);y(T,U,B,"","\\leadsto");y(T,U,B,"","\\Rrightarrow",!0);y(T,U,B,"","\\restriction");y(T,k,$,"","`");y(T,k,$,"$","\\$");y(Q,k,$,"$","\\$");y(Q,k,$,"$","\\textdollar");y(T,k,$,"%","\\%");y(Q,k,$,"%","\\%");y(T,k,$,"_","\\_");y(Q,k,$,"_","\\_");y(Q,k,$,"_","\\textunderscore");y(T,k,$,"","\\angle",!0);y(T,k,$,"","\\infty",!0);y(T,k,$,"","\\prime");y(T,k,$,"","\\triangle");y(T,k,$,"","\\Gamma",!0);y(T,k,$,"","\\Delta",!0);y(T,k,$,"","\\Theta",!0);y(T,k,$,"","\\Lambda",!0);y(T,k,$,"","\\Xi",!0);y(T,k,$,"","\\Pi",!0);y(T,k,$,"","\\Sigma",!0);y(T,k,$,"","\\Upsilon",!0);y(T,k,$,"","\\Phi",!0);y(T,k,$,"","\\Psi",!0);y(T,k,$,"","\\Omega",!0);y(T,k,$,"A","");y(T,k,$,"B","");y(T,k,$,"E","");y(T,k,$,"Z","");y(T,k,$,"H","");y(T,k,$,"I","");y(T,k,$,"K","");y(T,k,$,"M","");y(T,k,$,"N","");y(T,k,$,"O","");y(T,k,$,"P","");y(T,k,$,"T","");y(T,k,$,"X","");y(T,k,$,"","\\neg",!0);y(T,k,$,"","\\lnot");y(T,k,$,"","\\top");y(T,k,$,"","\\bot");y(T,k,$,"","\\emptyset");y(T,U,$,"","\\varnothing");y(T,k,pe,"","\\alpha",!0);y(T,k,pe,"","\\beta",!0);y(T,k,pe,"","\\gamma",!0);y(T,k,pe,"","\\delta",!0);y(T,k,pe,"","\\epsilon",!0);y(T,k,pe,"","\\zeta",!0);y(T,k,pe,"","\\eta",!0);y(T,k,pe,"","\\theta",!0);y(T,k,pe,"","\\iota",!0);y(T,k,pe,"","\\kappa",!0);y(T,k,pe,"","\\lambda",!0);y(T,k,pe,"","\\mu",!0);y(T,k,pe,"","\\nu",!0);y(T,k,pe,"","\\xi",!0);y(T,k,pe,"","\\omicron",!0);y(T,k,pe,"","\\pi",!0);y(T,k,pe,"","\\rho",!0);y(T,k,pe,"","\\sigma",!0);y(T,k,pe,"","\\tau",!0);y(T,k,pe,"","\\upsilon",!0);y(T,k,pe,"","\\phi",!0);y(T,k,pe,"","\\chi",!0);y(T,k,pe,"","\\psi",!0);y(T,k,pe,"","\\omega",!0);y(T,k,pe,"","\\varepsilon",!0);y(T,k,pe,"","\\vartheta",!0);y(T,k,pe,"","\\varpi",!0);y(T,k,pe,"","\\varrho",!0);y(T,k,pe,"","\\varsigma",!0);y(T,k,pe,"","\\varphi",!0);y(T,k,oe,"","*",!0);y(T,k,oe,"+","+");y(T,k,oe,"","-",!0);y(T,k,oe,"","\\cdot",!0);y(T,k,oe,"","\\circ",!0);y(T,k,oe,"","\\div",!0);y(T,k,oe,"","\\pm",!0);y(T,k,oe,"","\\times",!0);y(T,k,oe,"","\\cap",!0);y(T,k,oe,"","\\cup",!0);y(T,k,oe,"","\\setminus",!0);y(T,k,oe,"","\\land");y(T,k,oe,"","\\lor");y(T,k,oe,"","\\wedge",!0);y(T,k,oe,"","\\vee",!0);y(T,k,$,"","\\surd");y(T,k,Xr,"","\\langle",!0);y(T,k,Xr,"","\\lvert");y(T,k,Xr,"","\\lVert");y(T,k,mr,"?","?");y(T,k,mr,"!","!");y(T,k,mr,"","\\rangle",!0);y(T,k,mr,"","\\rvert");y(T,k,mr,"","\\rVert");y(T,k,B,"=","=");y(T,k,B,":",":");y(T,k,B,"","\\approx",!0);y(T,k,B,"","\\cong",!0);y(T,k,B,"","\\ge");y(T,k,B,"","\\geq",!0);y(T,k,B,"","\\gets");y(T,k,B,">","\\gt",!0);y(T,k,B,"","\\in",!0);y(T,k,B,"","\\@not");y(T,k,B,"","\\subset",!0);y(T,k,B,"","\\supset",!0);y(T,k,B,"","\\subseteq",!0);y(T,k,B,"","\\supseteq",!0);y(T,U,B,"","\\nsubseteq",!0);y(T,U,B,"","\\nsupseteq",!0);y(T,k,B,"","\\models");y(T,k,B,"","\\leftarrow",!0);y(T,k,B,"","\\le");y(T,k,B,"","\\leq",!0);y(T,k,B,"<","\\lt",!0);y(T,k,B,"","\\rightarrow",!0);y(T,k,B,"","\\to");y(T,U,B,"","\\ngeq",!0);y(T,U,B,"","\\nleq",!0);y(T,k,ga,"","\\ ");y(T,k,ga,"","\\space");y(T,k,ga,"","\\nobreakspace");y(Q,k,ga,"","\\ ");y(Q,k,ga,""," ");y(Q,k,ga,"","\\space");y(Q,k,ga,"","\\nobreakspace");y(T,k,ga,null,"\\nobreak");y(T,k,ga,null,"\\allowbreak");y(T,k,up,",",",");y(T,k,up,";",";");y(T,U,oe,"","\\barwedge",!0);y(T,U,oe,"","\\veebar",!0);y(T,k,oe,"","\\odot",!0);y(T,k,oe,"","\\oplus",!0);y(T,k,oe,"","\\otimes",!0);y(T,k,$,"","\\partial",!0);y(T,k,oe,"","\\oslash",!0);y(T,U,oe,"","\\circledcirc",!0);y(T,U,oe,"","\\boxdot",!0);y(T,k,oe,"","\\bigtriangleup");y(T,k,oe,"","\\bigtriangledown");y(T,k,oe,"","\\dagger");y(T,k,oe,"","\\diamond");y(T,k,oe,"","\\star");y(T,k,oe,"","\\triangleleft");y(T,k,oe,"","\\triangleright");y(T,k,Xr,"{","\\{");y(Q,k,$,"{","\\{");y(Q,k,$,"{","\\textbraceleft");y(T,k,mr,"}","\\}");y(Q,k,$,"}","\\}");y(Q,k,$,"}","\\textbraceright");y(T,k,Xr,"{","\\lbrace");y(T,k,mr,"}","\\rbrace");y(T,k,Xr,"[","\\lbrack",!0);y(Q,k,$,"[","\\lbrack",!0);y(T,k,mr,"]","\\rbrack",!0);y(Q,k,$,"]","\\rbrack",!0);y(T,k,Xr,"(","\\lparen",!0);y(T,k,mr,")","\\rparen",!0);y(Q,k,$,"<","\\textless",!0);y(Q,k,$,">","\\textgreater",!0);y(T,k,Xr,"","\\lfloor",!0);y(T,k,mr,"","\\rfloor",!0);y(T,k,Xr,"","\\lceil",!0);y(T,k,mr,"","\\rceil",!0);y(T,k,$,"\\","\\backslash");y(T,k,$,"","|");y(T,k,$,"","\\vert");y(Q,k,$,"|","\\textbar",!0);y(T,k,$,"","\\|");y(T,k,$,"","\\Vert");y(Q,k,$,"","\\textbardbl");y(Q,k,$,"~","\\textasciitilde");y(Q,k,$,"\\","\\textbackslash");y(Q,k,$,"^","\\textasciicircum");y(T,k,B,"","\\uparrow",!0);y(T,k,B,"","\\Uparrow",!0);y(T,k,B,"","\\downarrow",!0);y(T,k,B,"","\\Downarrow",!0);y(T,k,B,"","\\updownarrow",!0);y(T,k,B,"","\\Updownarrow",!0);y(T,k,rn,"","\\coprod");y(T,k,rn,"","\\bigvee");y(T,k,rn,"","\\bigwedge");y(T,k,rn,"","\\biguplus");y(T,k,rn,"","\\bigcap");y(T,k,rn,"","\\bigcup");y(T,k,rn,"","\\int");y(T,k,rn,"","\\intop");y(T,k,rn,"","\\iint");y(T,k,rn,"","\\iiint");y(T,k,rn,"","\\prod");y(T,k,rn,"","\\sum");y(T,k,rn,"","\\bigotimes");y(T,k,rn,"","\\bigoplus");y(T,k,rn,"","\\bigodot");y(T,k,rn,"","\\oint");y(T,k,rn,"","\\oiint");y(T,k,rn,"","\\oiiint");y(T,k,rn,"","\\bigsqcup");y(T,k,rn,"","\\smallint");y(Q,k,hc,"","\\textellipsis");y(T,k,hc,"","\\mathellipsis");y(Q,k,hc,"","\\ldots",!0);y(T,k,hc,"","\\ldots",!0);y(T,k,hc,"","\\@cdots",!0);y(T,k,hc,"","\\ddots",!0);y(T,k,$,"","\\varvdots");y(Q,k,$,"","\\varvdots");y(T,k,At,"","\\acute");y(T,k,At,"","\\grave");y(T,k,At,"","\\ddot");y(T,k,At,"~","\\tilde");y(T,k,At,"","\\bar");y(T,k,At,"","\\breve");y(T,k,At,"","\\check");y(T,k,At,"^","\\hat");y(T,k,At,"","\\vec");y(T,k,At,"","\\dot");y(T,k,At,"","\\mathring");y(T,k,pe,"","\\@imath");y(T,k,pe,"","\\@jmath");y(T,k,$,"","");y(T,k,$,"","");y(Q,k,$,"","\\i",!0);y(Q,k,$,"","\\j",!0);y(Q,k,$,"","\\ss",!0);y(Q,k,$,"","\\ae",!0);y(Q,k,$,"","\\oe",!0);y(Q,k,$,"","\\o",!0);y(Q,k,$,"","\\AE",!0);y(Q,k,$,"","\\OE",!0);y(Q,k,$,"","\\O",!0);y(Q,k,At,"","\\'");y(Q,k,At,"","\\`");y(Q,k,At,"","\\^");y(Q,k,At,"","\\~");y(Q,k,At,"","\\=");y(Q,k,At,"","\\u");y(Q,k,At,"","\\.");y(Q,k,At,"","\\c");y(Q,k,At,"","\\r");y(Q,k,At,"","\\v");y(Q,k,At,"",'\\"');y(Q,k,At,"","\\H");y(Q,k,At,"","\\textcircled");var VE={"--":!0,"---":!0,"``":!0,"''":!0};y(Q,k,$,"","--",!0);y(Q,k,$,"","\\textendash");y(Q,k,$,"","---",!0);y(Q,k,$,"","\\textemdash");y(Q,k,$,"","`",!0);y(Q,k,$,"","\\textquoteleft");y(Q,k,$,"","'",!0);y(Q,k,$,"","\\textquoteright");y(Q,k,$,"","``",!0);y(Q,k,$,"","\\textquotedblleft");y(Q,k,$,"","''",!0);y(Q,k,$,"","\\textquotedblright");y(T,k,$,"","\\degree",!0);y(Q,k,$,"","\\degree");y(Q,k,$,"","\\textdegree",!0);y(T,k,$,"","\\pounds");y(T,k,$,"","\\mathsterling",!0);y(Q,k,$,"","\\pounds");y(Q,k,$,"","\\textsterling",!0);y(T,U,$,"","\\maltese");y(Q,U,$,"","\\maltese");var F7='0123456789/@."';for(var G1=0;G1<F7.length;G1++){var H7=F7.charAt(G1);y(T,k,$,H7,H7)}var $7='0123456789!@*()-=+";:?/.,';for(var K1=0;K1<$7.length;K1++){var q7=$7.charAt(K1);y(Q,k,$,q7,q7)}var gm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Y1=0;Y1<gm.length;Y1++){var Nf=gm.charAt(Y1);y(T,k,pe,Nf,Nf),y(Q,k,$,Nf,Nf)}y(T,U,$,"C","");y(Q,U,$,"C","");y(T,U,$,"H","");y(Q,U,$,"H","");y(T,U,$,"N","");y(Q,U,$,"N","");y(T,U,$,"P","");y(Q,U,$,"P","");y(T,U,$,"Q","");y(Q,U,$,"Q","");y(T,U,$,"R","");y(Q,U,$,"R","");y(T,U,$,"Z","");y(Q,U,$,"Z","");y(T,k,pe,"h","");y(Q,k,pe,"h","");var we="";for(var Jn=0;Jn<gm.length;Jn++){var Dt=gm.charAt(Jn);we=String.fromCharCode(55349,56320+Jn),y(T,k,pe,Dt,we),y(Q,k,$,Dt,we),we=String.fromCharCode(55349,56372+Jn),y(T,k,pe,Dt,we),y(Q,k,$,Dt,we),we=String.fromCharCode(55349,56424+Jn),y(T,k,pe,Dt,we),y(Q,k,$,Dt,we),we=String.fromCharCode(55349,56580+Jn),y(T,k,pe,Dt,we),y(Q,k,$,Dt,we),we=String.fromCharCode(55349,56684+Jn),y(T,k,pe,Dt,we),y(Q,k,$,Dt,we),we=String.fromCharCode(55349,56736+Jn),y(T,k,pe,Dt,we),y(Q,k,$,Dt,we),we=String.fromCharCode(55349,56788+Jn),y(T,k,pe,Dt,we),y(Q,k,$,Dt,we),we=String.fromCharCode(55349,56840+Jn),y(T,k,pe,Dt,we),y(Q,k,$,Dt,we),we=String.fromCharCode(55349,56944+Jn),y(T,k,pe,Dt,we),y(Q,k,$,Dt,we),Jn<26&&(we=String.fromCharCode(55349,56632+Jn),y(T,k,pe,Dt,we),y(Q,k,$,Dt,we),we=String.fromCharCode(55349,56476+Jn),y(T,k,pe,Dt,we),y(Q,k,$,Dt,we))}we="";y(T,k,pe,"k",we);y(Q,k,$,"k",we);for(var $o=0;$o<10;$o++){var ka=$o.toString();we=String.fromCharCode(55349,57294+$o),y(T,k,pe,ka,we),y(Q,k,$,ka,we),we=String.fromCharCode(55349,57314+$o),y(T,k,pe,ka,we),y(Q,k,$,ka,we),we=String.fromCharCode(55349,57324+$o),y(T,k,pe,ka,we),y(Q,k,$,ka,we),we=String.fromCharCode(55349,57334+$o),y(T,k,pe,ka,we),y(Q,k,$,ka,we)}var G7="";for(var X1=0;X1<G7.length;X1++){var Mf=G7.charAt(X1);y(T,k,pe,Mf,Mf),y(Q,k,$,Mf,Mf)}var Df=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],K7=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Uj=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),s=(r-55296)*1024+(i-56320)+65536,a=n==="math"?0:1;if(119808<=s&&s<120484){var o=Math.floor((s-119808)/26);return[Df[o][2],Df[o][a]]}else if(120782<=s&&s<=120831){var u=Math.floor((s-120782)/10);return[K7[u][2],K7[u][a]]}else{if(s===120485||s===120486)return[Df[0][2],Df[0][a]];if(120486<s&&s<120782)return["",""];throw new de("Unsupported character: "+e)}},cp=function(e,n,r){return Gt[r][e]&&Gt[r][e].replace&&(e=Gt[r][e].replace),{value:e,metrics:k2(e,n,r)}},Hi=function(e,n,r,i,s){var a=cp(e,n,r),o=a.metrics;e=a.value;var u;if(o){var c=o.italic;(r==="text"||i&&i.font==="mathit")&&(c=0),u=new fs(e,o.height,o.depth,c,o.skew,o.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),u=new fs(e,0,0,0,0,0,s);if(i){u.maxFontSize=i.sizeMultiplier,i.style.isTight()&&u.classes.push("mtight");var d=i.getColor();d&&(u.style.color=d)}return u},Bj=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&cp(e,"Main-Bold",n).metrics?Hi(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||Gt[n][e].font==="main"?Hi(e,"Main-Regular",n,r,i):Hi(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},jj=function(e,n,r,i,s){return s!=="textord"&&cp(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Fj=function(e,n,r){var i=e.mode,s=e.text,a=["mord"],o=i==="math"||i==="text"&&n.font,u=o?n.font:n.fontFamily,c="",d="";if(s.charCodeAt(0)===55349&&([c,d]=Uj(s,i)),c.length>0)return Hi(s,c,i,n,a.concat(d));if(u){var p,g;if(u==="boldsymbol"){var v=jj(s,i,n,a,r);p=v.fontName,g=[v.fontClass]}else o?(p=jE[u].fontName,g=[u]):(p=Of(u,n.fontWeight,n.fontShape),g=[u,n.fontWeight,n.fontShape]);if(cp(s,p,i).metrics)return Hi(s,p,i,n,a.concat(g));if(VE.hasOwnProperty(s)&&p.slice(0,10)==="Typewriter"){for(var x=[],N=0;N<s.length;N++)x.push(Hi(s[N],p,i,n,a.concat(g)));return BE(x)}}if(r==="mathord")return Hi(s,"Math-Italic",i,n,a.concat(["mathnormal"]));if(r==="textord"){var P=Gt[i][s]&&Gt[i][s].font;if(P==="ams"){var C=Of("amsrm",n.fontWeight,n.fontShape);return Hi(s,C,i,n,a.concat("amsrm",n.fontWeight,n.fontShape))}else if(P==="main"||!P){var I=Of("textrm",n.fontWeight,n.fontShape);return Hi(s,I,i,n,a.concat(n.fontWeight,n.fontShape))}else{var M=Of(P,n.fontWeight,n.fontShape);return Hi(s,M,i,n,a.concat(M,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},Hj=(t,e)=>{if(yo(t.classes)!==yo(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},$j=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof fs&&r instanceof fs&&Hj(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},I2=function(e){for(var n=0,r=0,i=0,s=0;s<e.children.length;s++){var a=e.children[s];a.height>n&&(n=a.height),a.depth>r&&(r=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},Sr=function(e,n,r,i){var s=new lp(e,n,r,i);return I2(s),s},UE=(t,e,n,r)=>new lp(t,e,n,r),qj=function(e,n,r){var i=Sr([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=ne(i.height),i.maxFontSize=1,i},Gj=function(e,n,r,i){var s=new LE(e,n,r,i);return I2(s),s},BE=function(e){var n=new Xh(e);return I2(n),n},Kj=function(e,n){return e instanceof Xh?Sr([],[e],n):e},Yj=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,s=i,a=1;a<n.length;a++){var o=-n[a].shift-s-n[a].elem.depth,u=o-(n[a-1].elem.height+n[a-1].elem.depth);s=s+o,r.push({type:"kern",size:u}),r.push(n[a])}return{children:r,depth:i}}var c;if(e.positionType==="top"){for(var d=e.positionData,p=0;p<e.children.length;p++){var g=e.children[p];d-=g.type==="kern"?g.size:g.elem.height+g.elem.depth}c=d}else if(e.positionType==="bottom")c=-e.positionData;else{var v=e.children[0];if(v.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")c=-v.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")c=-v.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:c}},Xj=function(e,n){for(var{children:r,depth:i}=Yj(e),s=0,a=0;a<r.length;a++){var o=r[a];if(o.type==="elem"){var u=o.elem;s=Math.max(s,u.maxFontSize,u.height)}}s+=2;var c=Sr(["pstrut"],[]);c.style.height=ne(s);for(var d=[],p=i,g=i,v=i,x=0;x<r.length;x++){var N=r[x];if(N.type==="kern")v+=N.size;else{var P=N.elem,C=N.wrapperClasses||[],I=N.wrapperStyle||{},M=Sr(C,[c,P],void 0,I);M.style.top=ne(-s-v-P.depth),N.marginLeft&&(M.style.marginLeft=N.marginLeft),N.marginRight&&(M.style.marginRight=N.marginRight),d.push(M),v+=P.height+P.depth}p=Math.min(p,v),g=Math.max(g,v)}var V=Sr(["vlist"],d);V.style.height=ne(g);var j;if(p<0){var G=Sr([],[]),S=Sr(["vlist"],[G]);S.style.height=ne(-p);var b=Sr(["vlist-s"],[new fs("")]);j=[Sr(["vlist-r"],[V,b]),Sr(["vlist-r"],[S])]}else j=[Sr(["vlist-r"],[V])];var _=Sr(["vlist-t"],j);return j.length===2&&_.classes.push("vlist-t2"),_.height=g,_.depth=-p,_},Zj=(t,e)=>{var n=Sr(["mspace"],[],e),r=Ct(t,e);return n.style.marginRight=ne(r),n},Of=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",i+"-"+s},jE={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},FE={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Qj=function(e,n){var[r,i,s]=FE[e],a=new wl(r),o=new vo([a],{width:ne(i),height:ne(s),style:"width:"+ne(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),u=UE(["overlay"],[o],n);return u.height=s,u.style.height=ne(s),u.style.width=ne(i),u},K={fontMap:jE,makeSymbol:Hi,mathsym:Bj,makeSpan:Sr,makeSvgSpan:UE,makeLineSpan:qj,makeAnchor:Gj,makeFragment:BE,wrapFragment:Kj,makeVList:Xj,makeOrd:Fj,makeGlue:Zj,staticSvg:Qj,svgData:FE,tryCombineChars:$j},Rt={number:3,unit:"mu"},qo={number:4,unit:"mu"},Ls={number:5,unit:"mu"},Wj={mord:{mop:Rt,mbin:qo,mrel:Ls,minner:Rt},mop:{mord:Rt,mop:Rt,mrel:Ls,minner:Rt},mbin:{mord:qo,mop:qo,mopen:qo,minner:qo},mrel:{mord:Ls,mop:Ls,mopen:Ls,minner:Ls},mopen:{},mclose:{mop:Rt,mbin:qo,mrel:Ls,minner:Rt},mpunct:{mord:Rt,mop:Rt,mrel:Ls,mopen:Rt,mclose:Rt,mpunct:Rt,minner:Rt},minner:{mord:Rt,mop:Rt,mbin:qo,mrel:Ls,mopen:Rt,mpunct:Rt,minner:Rt}},Jj={mord:{mop:Rt},mop:{mord:Rt,mop:Rt},mbin:{},mrel:{},mopen:{},mclose:{mop:Rt},mpunct:{},minner:{mop:Rt}},HE={},ym={},vm={};function ae(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,o={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},u=0;u<n.length;++u)HE[n[u]]=o;e&&(s&&(ym[e]=s),a&&(vm[e]=a))}function Dl(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;ae({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var bm=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},$t=function(e){return e.type==="ordgroup"?e.body:[e]},Gu=K.makeSpan,eF=["leftmost","mbin","mopen","mrel","mop","mpunct"],tF=["rightmost","mrel","mclose","mpunct"],nF={display:ve.DISPLAY,text:ve.TEXT,script:ve.SCRIPT,scriptscript:ve.SCRIPTSCRIPT},rF={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},zn=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var s=[],a=0;a<e.length;a++){var o=et(e[a],n);if(o instanceof Xh){var u=o.children;s.push(...u)}else s.push(o)}if(K.tryCombineChars(s),!r)return s;var c=n;if(e.length===1){var d=e[0];d.type==="sizing"?c=n.havingSize(d.size):d.type==="styling"&&(c=n.havingStyle(nF[d.style]))}var p=Gu([i[0]||"leftmost"],[],n),g=Gu([i[1]||"rightmost"],[],n),v=r==="root";return Y7(s,(x,N)=>{var P=N.classes[0],C=x.classes[0];P==="mbin"&&tF.includes(C)?N.classes[0]="mord":C==="mbin"&&eF.includes(P)&&(x.classes[0]="mord")},{node:p},g,v),Y7(s,(x,N)=>{var P=iy(N),C=iy(x),I=P&&C?x.hasClass("mtight")?Jj[P][C]:Wj[P][C]:null;if(I)return K.makeGlue(I,c)},{node:p},g,v),s},Y7=function t(e,n,r,i,s){i&&e.push(i);for(var a=0;a<e.length;a++){var o=e[a],u=$E(o);if(u){t(u.children,n,r,null,s);continue}var c=!o.hasClass("mspace");if(c){var d=n(o,r.node);d&&(r.insertAfter?r.insertAfter(d):(e.unshift(d),a++))}c?r.node=o:s&&o.hasClass("newline")&&(r.node=Gu(["leftmost"])),r.insertAfter=(p=>g=>{e.splice(p+1,0,g),a++})(a)}i&&e.pop()},$E=function(e){return e instanceof Xh||e instanceof LE||e instanceof lp&&e.hasClass("enclosing")?e:null},iF=function t(e,n){var r=$E(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},iy=function(e,n){return e?(n&&(e=iF(e,n)),rF[e.classes[0]]||null):null},gh=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return Gu(n.concat(r))},et=function(e,n,r){if(!e)return Gu();if(ym[e.type]){var i=ym[e.type](e,n);if(r&&n.size!==r.size){i=Gu(n.sizingClasses(r),[i],n);var s=n.sizeMultiplier/r.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new de("Got group of unknown type: '"+e.type+"'")};function qE(t){return new Xh(t)}class hi{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=yo(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof is&&this.children[r+1]instanceof is){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof is;)i+=this.children[++r].toText();e.appendChild(new is(i).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=rt.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+rt.escape(yo(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class is{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return rt.escape(this.toText())}toText(){return this.text}}class sF{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",ne(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ne(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ee={MathNode:hi,TextNode:is,SpaceNode:sF,newDocumentFragment:qE},vi=function(e,n,r){return Gt[n][e]&&Gt[n][e].replace&&e.charCodeAt(0)!==55349&&!(VE.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=Gt[n][e].replace),new ee.TextNode(e)},N2=function(e){return e.length===1?e[0]:new ee.MathNode("mrow",e)},M2=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(["\\imath","\\jmath"].includes(s))return null;Gt[i][s]&&Gt[i][s].replace&&(s=Gt[i][s].replace);var a=K.fontMap[r].fontName;return k2(s,a,i)?K.fontMap[r].variant:null};function Z1(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof is&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof is&&n.text===","}else return!1}var Zr=function(e,n,r){if(e.length===1){var i=dt(e[0],n);return r&&i instanceof hi&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],a,o=0;o<e.length;o++){var u=dt(e[o],n);if(u instanceof hi&&a instanceof hi){if(u.type==="mtext"&&a.type==="mtext"&&u.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...u.children);continue}else if(u.type==="mn"&&a.type==="mn"){a.children.push(...u.children);continue}else if(Z1(u)&&a.type==="mn"){a.children.push(...u.children);continue}else if(u.type==="mn"&&Z1(a))u.children=[...a.children,...u.children],s.pop();else if((u.type==="msup"||u.type==="msub")&&u.children.length>=1&&(a.type==="mn"||Z1(a))){var c=u.children[0];c instanceof hi&&c.type==="mn"&&(c.children=[...a.children,...c.children],s.pop())}else if(a.type==="mi"&&a.children.length===1){var d=a.children[0];if(d instanceof is&&d.text===""&&(u.type==="mo"||u.type==="mi"||u.type==="mn")){var p=u.children[0];p instanceof is&&p.text.length>0&&(p.text=p.text.slice(0,1)+""+p.text.slice(1),s.pop())}}}s.push(u),a=u}return s},bo=function(e,n,r){return N2(Zr(e,n,r))},dt=function(e,n){if(!e)return new ee.MathNode("mrow");if(vm[e.type]){var r=vm[e.type](e,n);return r}else throw new de("Got group of unknown type: '"+e.type+"'")},aF={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},oF=function(e){var n=new ee.MathNode("mo",[new ee.TextNode(aF[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},lF={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},uF=function(e){return e.type==="ordgroup"?e.body.length:1},cF=function(e,n){function r(){var o=4e5,u=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(u)){var c=e,d=uF(c.base),p,g,v;if(d>5)u==="widehat"||u==="widecheck"?(p=420,o=2364,v=.42,g=u+"4"):(p=312,o=2340,v=.34,g="tilde4");else{var x=[1,1,2,2,3,3][d];u==="widehat"||u==="widecheck"?(o=[0,1062,2364,2364,2364][x],p=[0,239,300,360,420][x],v=[0,.24,.3,.3,.36,.42][x],g=u+x):(o=[0,600,1033,2339,2340][x],p=[0,260,286,306,312][x],v=[0,.26,.286,.3,.306,.34][x],g="tilde"+x)}var N=new wl(g),P=new vo([N],{width:"100%",height:ne(v),viewBox:"0 0 "+o+" "+p,preserveAspectRatio:"none"});return{span:K.makeSvgSpan([],[P],n),minWidth:0,height:v}}else{var C=[],I=lF[u],[M,V,j]=I,G=j/1e3,S=M.length,b,_;if(S===1){var A=I[3];b=["hide-tail"],_=[A]}else if(S===2)b=["halfarrow-left","halfarrow-right"],_=["xMinYMin","xMaxYMin"];else if(S===3)b=["brace-left","brace-center","brace-right"],_=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+S+" children.");for(var R=0;R<S;R++){var D=new wl(M[R]),w=new vo([D],{width:"400em",height:ne(G),viewBox:"0 0 "+o+" "+j,preserveAspectRatio:_[R]+" slice"}),ue=K.makeSvgSpan([b[R]],[w],n);if(S===1)return{span:ue,minWidth:V,height:G};ue.style.height=ne(G),C.push(ue)}return{span:K.makeSpan(["stretchy"],C,n),minWidth:V,height:G}}}var{span:i,minWidth:s,height:a}=r();return i.height=a,i.style.height=ne(a),s>0&&(i.style.minWidth=ne(s)),i},hF=function(e,n,r,i,s){var a,o=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(a=K.makeSpan(["stretchy",n],[],s),n==="fbox"){var u=s.color&&s.getColor();u&&(a.style.borderColor=u)}}else{var c=[];/^[bx]cancel$/.test(n)&&c.push(new B7({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&c.push(new B7({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var d=new vo(c,{width:"100%",height:ne(o)});a=K.makeSvgSpan([],[d],s)}return a.height=o,a.style.height=ne(o),a},ca={encloseSpan:hF,mathMLnode:oF,svgSpan:cF};function Ve(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function D2(t){var e=hp(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function hp(t){return t&&(t.type==="atom"||Vj.hasOwnProperty(t.type))?t:null}var O2=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=Ve(t.base,"accent"),n=r.base,t.base=n,i=Lj(et(t,e)),t.base=r):(r=Ve(t,"accent"),n=r.base);var s=et(n,e.havingCrampedStyle()),a=r.isShifty&&rt.isCharacterBox(n),o=0;if(a){var u=rt.getBaseElem(n),c=et(u,e.havingCrampedStyle());o=j7(c).skew}var d=r.label==="\\c",p=d?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),g;if(r.isStretchy)g=ca.svgSpan(r,e),g=K.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:g,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+ne(2*o)+")",marginLeft:ne(2*o)}:void 0}]},e);else{var v,x;r.label==="\\vec"?(v=K.staticSvg("vec",e),x=K.svgData.vec[1]):(v=K.makeOrd({mode:r.mode,text:r.label},e,"textord"),v=j7(v),v.italic=0,x=v.width,d&&(p+=v.depth)),g=K.makeSpan(["accent-body"],[v]);var N=r.label==="\\textcircled";N&&(g.classes.push("accent-full"),p=s.height);var P=o;N||(P-=x/2),g.style.left=ne(P),r.label==="\\textcircled"&&(g.style.top=".2em"),g=K.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-p},{type:"elem",elem:g}]},e)}var C=K.makeSpan(["mord","accent"],[g],e);return i?(i.children[0]=C,i.height=Math.max(C.height,i.height),i.classes[0]="mord",i):C},GE=(t,e)=>{var n=t.isStretchy?ca.mathMLnode(t.label):new ee.MathNode("mo",[vi(t.label,t.mode)]),r=new ee.MathNode("mover",[dt(t.base,e),n]);return r.setAttribute("accent","true"),r},fF=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));ae({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=bm(e[0]),r=!fF.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:O2,mathmlBuilder:GE});ae({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:O2,mathmlBuilder:GE});ae({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=et(t.base,e),r=ca.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,s=K.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return K.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var n=ca.mathMLnode(t.label),r=new ee.MathNode("munder",[dt(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var Pf=t=>{var e=new ee.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};ae({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=K.wrapFragment(et(t.body,r,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var a;t.below&&(r=e.havingStyle(n.sub()),a=K.wrapFragment(et(t.below,r,e),e),a.classes.push(s+"-arrow-pad"));var o=ca.svgSpan(t,e),u=-e.fontMetrics().axisHeight+.5*o.height,c=-e.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(c-=i.depth);var d;if(a){var p=-e.fontMetrics().axisHeight+a.height+.5*o.height+.111;d=K.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:o,shift:u},{type:"elem",elem:a,shift:p}]},e)}else d=K.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:o,shift:u}]},e);return d.children[0].children[0].children[1].classes.push("svg-align"),K.makeSpan(["mrel","x-arrow"],[d],e)},mathmlBuilder(t,e){var n=ca.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=Pf(dt(t.body,e));if(t.below){var s=Pf(dt(t.below,e));r=new ee.MathNode("munderover",[n,s,i])}else r=new ee.MathNode("mover",[n,i])}else if(t.below){var a=Pf(dt(t.below,e));r=new ee.MathNode("munder",[n,a])}else r=Pf(),r=new ee.MathNode("mover",[n,r]);return r}});var dF=K.makeSpan;function KE(t,e){var n=zn(t.body,e,!0);return dF([t.mclass],n,e)}function YE(t,e){var n,r=Zr(t.body,e);return t.mclass==="minner"?n=new ee.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new ee.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new ee.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}ae({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:$t(i),isCharacterBox:rt.isCharacterBox(i)}},htmlBuilder:KE,mathmlBuilder:YE});var fp=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};ae({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:fp(e[0]),body:$t(e[1]),isCharacterBox:rt.isCharacterBox(e[1])}}});ae({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],s=e[0],a;r!=="\\stackrel"?a=fp(i):a="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:$t(i)},u={type:"supsub",mode:s.mode,base:o,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:a,body:[u],isCharacterBox:rt.isCharacterBox(u)}},htmlBuilder:KE,mathmlBuilder:YE});ae({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:fp(e[0]),body:$t(e[0])}},htmlBuilder(t,e){var n=zn(t.body,e,!0),r=K.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=Zr(t.body,e),r=new ee.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var mF={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},X7=()=>({type:"styling",body:[],mode:"math",style:"display"}),Z7=t=>t.type==="textord"&&t.text==="@",pF=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function gF(t,e,n){var r=mF[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},a=n.callFunction("\\Big",[s],[]),o=n.callFunction("\\\\cdright",[e[1]],[]),u={type:"ordgroup",mode:"math",body:[i,a,o]};return n.callFunction("\\\\cdparent",[u],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var c={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[c],[])}default:return{type:"textord",text:" ",mode:"math"}}}function yF(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new de("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],s=0;s<e.length;s++){for(var a=e[s],o=X7(),u=0;u<a.length;u++)if(!Z7(a[u]))o.body.push(a[u]);else{r.push(o),u+=1;var c=D2(a[u]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(c)>-1))if("<>AV".indexOf(c)>-1)for(var p=0;p<2;p++){for(var g=!0,v=u+1;v<a.length;v++){if(pF(a[v],c)){g=!1,u=v;break}if(Z7(a[v]))throw new de("Missing a "+c+" character to complete a CD arrow.",a[v]);d[p].body.push(a[v])}if(g)throw new de("Missing a "+c+" character to complete a CD arrow.",a[u])}else throw new de('Expected one of "<>AV=|." after @',a[u]);var x=gF(c,d,t),N={type:"styling",body:[x],mode:"math",style:"display"};r.push(N),o=X7()}s%2===0?r.push(o):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var P=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:P,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}ae({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=K.wrapFragment(et(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=ne(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new ee.MathNode("mrow",[dt(t.label,e)]);return n=new ee.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new ee.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});ae({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=K.wrapFragment(et(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new ee.MathNode("mrow",[dt(t.fragment,e)])}});ae({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=Ve(e[0],"ordgroup"),i=r.body,s="",a=0;a<i.length;a++){var o=Ve(i[a],"textord");s+=o.text}var u=parseInt(s),c;if(isNaN(u))throw new de("\\@char has non-numeric argument "+s);if(u<0||u>=1114111)throw new de("\\@char with invalid code point "+s);return u<=65535?c=String.fromCharCode(u):(u-=65536,c=String.fromCharCode((u>>10)+55296,(u&1023)+56320)),{type:"textord",mode:n.mode,text:c}}});var XE=(t,e)=>{var n=zn(t.body,e.withColor(t.color),!1);return K.makeFragment(n)},ZE=(t,e)=>{var n=Zr(t.body,e.withColor(t.color)),r=new ee.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};ae({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=Ve(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:$t(i)}},htmlBuilder:XE,mathmlBuilder:ZE});ae({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=Ve(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:s}},htmlBuilder:XE,mathmlBuilder:ZE});ae({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&Ve(i,"size").value}},htmlBuilder(t,e){var n=K.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=ne(Ct(t.size,e)))),n},mathmlBuilder(t,e){var n=new ee.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",ne(Ct(t.size,e)))),n}});var sy={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},QE=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new de("Expected a control sequence",t);return e},vF=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},WE=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};ae({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(sy[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=sy[r.text]),Ve(e.parseFunction(),"internal");throw new de("Invalid token after macro prefix",r)}});ae({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new de("Expected a control sequence",r);for(var s=0,a,o=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){a=e.gullet.future(),o[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new de('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new de('Argument number "'+r.text+'" out of order');s++,o.push([])}else{if(r.text==="EOF")throw new de("Expected a macro definition");o[s].push(r.text)}var{tokens:u}=e.gullet.consumeArg();return a&&u.unshift(a),(n==="\\edef"||n==="\\xdef")&&(u=e.gullet.expandTokens(u),u.reverse()),e.gullet.macros.set(i,{tokens:u,numArgs:s,delimiters:o},n===sy[n]),{type:"internal",mode:e.mode}}});ae({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=QE(e.gullet.popToken());e.gullet.consumeSpaces();var i=vF(e);return WE(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});ae({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=QE(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return WE(e,r,s,n==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var v0=function(e,n,r){var i=Gt.math[e]&&Gt.math[e].replace,s=k2(i||e,n,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return s},P2=function(e,n,r,i){var s=r.havingBaseStyle(n),a=K.makeSpan(i.concat(s.sizingClasses(r)),[e],r),o=s.sizeMultiplier/r.sizeMultiplier;return a.height*=o,a.depth*=o,a.maxFontSize=s.sizeMultiplier,a},JE=function(e,n,r){var i=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=ne(s),e.height-=s,e.depth+=s},bF=function(e,n,r,i,s,a){var o=K.makeSymbol(e,"Main-Regular",s,i),u=P2(o,n,i,a);return r&&JE(u,i,n),u},_F=function(e,n,r,i){return K.makeSymbol(e,"Size"+n+"-Regular",r,i)},eA=function(e,n,r,i,s,a){var o=_F(e,n,s,i),u=P2(K.makeSpan(["delimsizing","size"+n],[o],i),ve.TEXT,i,a);return r&&JE(u,i,ve.TEXT),u},Q1=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=K.makeSpan(["delimsizinginner",i],[K.makeSpan([],[K.makeSymbol(e,n,r)])]);return{type:"elem",elem:s}},W1=function(e,n,r){var i=Xs["Size4-Regular"][e.charCodeAt(0)]?Xs["Size4-Regular"][e.charCodeAt(0)][4]:Xs["Size1-Regular"][e.charCodeAt(0)][4],s=new wl("inner",Ij(e,Math.round(1e3*n))),a=new vo([s],{width:ne(i),height:ne(n),style:"width:"+ne(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),o=K.makeSvgSpan([],[a],r);return o.height=n,o.style.height=ne(n),o.style.width=ne(i),{type:"elem",elem:o}},ay=.008,zf={type:"kern",size:-1*ay},TF=["|","\\lvert","\\rvert","\\vert"],wF=["\\|","\\lVert","\\rVert","\\Vert"],tA=function(e,n,r,i,s,a){var o,u,c,d,p="",g=0;o=c=d=e,u=null;var v="Size1-Regular";e==="\\uparrow"?c=d="":e==="\\Uparrow"?c=d="":e==="\\downarrow"?o=c="":e==="\\Downarrow"?o=c="":e==="\\updownarrow"?(o="\\uparrow",c="",d="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",c="",d="\\Downarrow"):TF.includes(e)?(c="",p="vert",g=333):wF.includes(e)?(c="",p="doublevert",g=556):e==="["||e==="\\lbrack"?(o="",c="",d="",v="Size4-Regular",p="lbrack",g=667):e==="]"||e==="\\rbrack"?(o="",c="",d="",v="Size4-Regular",p="rbrack",g=667):e==="\\lfloor"||e===""?(c=o="",d="",v="Size4-Regular",p="lfloor",g=667):e==="\\lceil"||e===""?(o="",c=d="",v="Size4-Regular",p="lceil",g=667):e==="\\rfloor"||e===""?(c=o="",d="",v="Size4-Regular",p="rfloor",g=667):e==="\\rceil"||e===""?(o="",c=d="",v="Size4-Regular",p="rceil",g=667):e==="("||e==="\\lparen"?(o="",c="",d="",v="Size4-Regular",p="lparen",g=875):e===")"||e==="\\rparen"?(o="",c="",d="",v="Size4-Regular",p="rparen",g=875):e==="\\{"||e==="\\lbrace"?(o="",u="",d="",c="",v="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="",u="",d="",c="",v="Size4-Regular"):e==="\\lgroup"||e===""?(o="",d="",c="",v="Size4-Regular"):e==="\\rgroup"||e===""?(o="",d="",c="",v="Size4-Regular"):e==="\\lmoustache"||e===""?(o="",d="",c="",v="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(o="",d="",c="",v="Size4-Regular");var x=v0(o,v,s),N=x.height+x.depth,P=v0(c,v,s),C=P.height+P.depth,I=v0(d,v,s),M=I.height+I.depth,V=0,j=1;if(u!==null){var G=v0(u,v,s);V=G.height+G.depth,j=2}var S=N+M+V,b=Math.max(0,Math.ceil((n-S)/(j*C))),_=S+b*j*C,A=i.fontMetrics().axisHeight;r&&(A*=i.sizeMultiplier);var R=_/2-A,D=[];if(p.length>0){var w=_-N-M,ue=Math.round(_*1e3),Ie=Nj(p,Math.round(w*1e3)),te=new wl(p,Ie),re=(g/1e3).toFixed(3)+"em",se=(ue/1e3).toFixed(3)+"em",xe=new vo([te],{width:re,height:se,viewBox:"0 0 "+g+" "+ue}),Re=K.makeSvgSpan([],[xe],i);Re.height=ue/1e3,Re.style.width=re,Re.style.height=se,D.push({type:"elem",elem:Re})}else{if(D.push(Q1(d,v,s)),D.push(zf),u===null){var je=_-N-M+2*ay;D.push(W1(c,je,i))}else{var Ne=(_-N-M-V)/2+2*ay;D.push(W1(c,Ne,i)),D.push(zf),D.push(Q1(u,v,s)),D.push(zf),D.push(W1(c,Ne,i))}D.push(zf),D.push(Q1(o,v,s))}var he=i.havingBaseStyle(ve.TEXT),dn=K.makeVList({positionType:"bottom",positionData:R,children:D},he);return P2(K.makeSpan(["delimsizing","mult"],[dn],he),ve.TEXT,i,a)},J1=80,eg=.08,tg=function(e,n,r,i,s){var a=kj(e,i,r),o=new wl(e,a),u=new vo([o],{width:"400em",height:ne(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return K.makeSvgSpan(["hide-tail"],[u],s)},SF=function(e,n){var r=n.havingBaseSizing(),i=sA("\\surd",e*r.sizeMultiplier,iA,r),s=r.sizeMultiplier,a=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),o,u=0,c=0,d=0,p;return i.type==="small"?(d=1e3+1e3*a+J1,e<1?s=1:e<1.4&&(s=.7),u=(1+a+eg)/s,c=(1+a)/s,o=tg("sqrtMain",u,d,a,n),o.style.minWidth="0.853em",p=.833/s):i.type==="large"?(d=(1e3+J1)*j0[i.size],c=(j0[i.size]+a)/s,u=(j0[i.size]+a+eg)/s,o=tg("sqrtSize"+i.size,u,d,a,n),o.style.minWidth="1.02em",p=1/s):(u=e+a+eg,c=e+a,d=Math.floor(1e3*e+a)+J1,o=tg("sqrtTall",u,d,a,n),o.style.minWidth="0.742em",p=1.056),o.height=c,o.style.height=ne(u),{span:o,advanceWidth:p,ruleWidth:(n.fontMetrics().sqrtRuleThickness+a)*s}},nA=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],EF=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],rA=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],j0=[0,1.2,1.8,2.4,3],AF=function(e,n,r,i,s){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),nA.includes(e)||rA.includes(e))return eA(e,n,!1,r,i,s);if(EF.includes(e))return tA(e,j0[n],!1,r,i,s);throw new de("Illegal delimiter: '"+e+"'")},xF=[{type:"small",style:ve.SCRIPTSCRIPT},{type:"small",style:ve.SCRIPT},{type:"small",style:ve.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],RF=[{type:"small",style:ve.SCRIPTSCRIPT},{type:"small",style:ve.SCRIPT},{type:"small",style:ve.TEXT},{type:"stack"}],iA=[{type:"small",style:ve.SCRIPTSCRIPT},{type:"small",style:ve.SCRIPT},{type:"small",style:ve.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],CF=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},sA=function(e,n,r,i){for(var s=Math.min(2,3-i.style.size),a=s;a<r.length&&r[a].type!=="stack";a++){var o=v0(e,CF(r[a]),"math"),u=o.height+o.depth;if(r[a].type==="small"){var c=i.havingBaseStyle(r[a].style);u*=c.sizeMultiplier}if(u>n)return r[a]}return r[r.length-1]},aA=function(e,n,r,i,s,a){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var o;rA.includes(e)?o=xF:nA.includes(e)?o=iA:o=RF;var u=sA(e,n,o,i);return u.type==="small"?bF(e,u.style,r,i,s,a):u.type==="large"?eA(e,u.size,r,i,s,a):tA(e,n,r,i,s,a)},kF=function(e,n,r,i,s,a){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,u=901,c=5/i.fontMetrics().ptPerEm,d=Math.max(n-o,r+o),p=Math.max(d/500*u,2*d-c);return aA(e,p,!0,i,s,a)},ea={sqrtImage:SF,sizedDelim:AF,sizeToMaxHeight:j0,customSizedDelim:aA,leftRightDelim:kF},Q7={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},IF=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function dp(t,e){var n=hp(t);if(n&&IF.includes(n.text))return n;throw n?new de("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new de("Invalid delimiter type '"+t.type+"'",t)}ae({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=dp(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:Q7[t.funcName].size,mclass:Q7[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?K.makeSpan([t.mclass]):ea.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(vi(t.delim,t.mode));var n=new ee.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=ne(ea.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function W7(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ae({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new de("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:dp(e[0],t).text,color:n}}});ae({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=dp(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=Ve(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{W7(t);for(var n=zn(t.body,e,!0,["mopen","mclose"]),r=0,i=0,s=!1,a=0;a<n.length;a++)n[a].isMiddle?s=!0:(r=Math.max(n[a].height,r),i=Math.max(n[a].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var o;if(t.left==="."?o=gh(e,["mopen"]):o=ea.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(o),s)for(var u=1;u<n.length;u++){var c=n[u],d=c.isMiddle;d&&(n[u]=ea.leftRightDelim(d.delim,r,i,d.options,t.mode,[]))}var p;if(t.right===".")p=gh(e,["mclose"]);else{var g=t.rightColor?e.withColor(t.rightColor):e;p=ea.leftRightDelim(t.right,r,i,g,t.mode,["mclose"])}return n.push(p),K.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{W7(t);var n=Zr(t.body,e);if(t.left!=="."){var r=new ee.MathNode("mo",[vi(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new ee.MathNode("mo",[vi(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return N2(n)}});ae({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=dp(e[0],t);if(!t.parser.leftrightDepth)throw new de("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=gh(e,[]);else{n=ea.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?vi("|","text"):vi(t.delim,t.mode),r=new ee.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var z2=(t,e)=>{var n=K.wrapFragment(et(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,s,a=0,o=rt.isCharacterBox(t.body);if(r==="sout")s=K.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,a=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var u=Ct({number:.6,unit:"pt"},e),c=Ct({number:.35,unit:"ex"},e),d=e.havingBaseSizing();i=i/d.sizeMultiplier;var p=n.height+n.depth+u+c;n.style.paddingLeft=ne(p/2+u);var g=Math.floor(1e3*p*i),v=Rj(g),x=new vo([new wl("phase",v)],{width:"400em",height:ne(g/1e3),viewBox:"0 0 400000 "+g,preserveAspectRatio:"xMinYMin slice"});s=K.makeSvgSpan(["hide-tail"],[x],e),s.style.height=ne(p),a=n.depth+u+c}else{/cancel/.test(r)?o||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var N=0,P=0,C=0;/box/.test(r)?(C=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),N=e.fontMetrics().fboxsep+(r==="colorbox"?0:C),P=N):r==="angl"?(C=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),N=4*C,P=Math.max(0,.25-n.depth)):(N=o?.2:0,P=N),s=ca.encloseSpan(n,r,N,P,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=ne(C)):r==="angl"&&C!==.049&&(s.style.borderTopWidth=ne(C),s.style.borderRightWidth=ne(C)),a=n.depth+P,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var I;if(t.backgroundColor)I=K.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:a},{type:"elem",elem:n,shift:0}]},e);else{var M=/cancel|phase/.test(r)?["svg-align"]:[];I=K.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:a,wrapperClasses:M}]},e)}return/cancel/.test(r)&&(I.height=n.height,I.depth=n.depth),/cancel/.test(r)&&!o?K.makeSpan(["mord","cancel-lap"],[I],e):K.makeSpan(["mord"],[I],e)},L2=(t,e)=>{var n=0,r=new ee.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[dt(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};ae({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=Ve(e[0],"color-token").color,a=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:a}},htmlBuilder:z2,mathmlBuilder:L2});ae({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=Ve(e[0],"color-token").color,a=Ve(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,borderColor:s,body:o}},htmlBuilder:z2,mathmlBuilder:L2});ae({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});ae({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:z2,mathmlBuilder:L2});ae({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var oA={};function ys(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:a}=t,o={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},u=0;u<n.length;++u)oA[n[u]]=o;s&&(ym[e]=s),a&&(vm[e]=a)}var NF={};function z(t,e){NF[t]=e}function J7(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var mp=t=>{var e=t.parser.settings;if(!e.displayMode)throw new de("{"+t.envName+"} can be used only in display mode.")};function V2(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function ko(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:a,colSeparationType:o,autoTag:u,singleRow:c,emptySingleRow:d,maxNumCols:p,leqno:g}=e;if(t.gullet.beginGroup(),c||t.gullet.macros.set("\\cr","\\\\\\relax"),!a){var v=t.gullet.expandMacroAsText("\\arraystretch");if(v==null)a=1;else if(a=parseFloat(v),!a||a<0)throw new de("Invalid \\arraystretch: "+v)}t.gullet.beginGroup();var x=[],N=[x],P=[],C=[],I=u!=null?[]:void 0;function M(){u&&t.gullet.macros.set("\\@eqnsw","1",!0)}function V(){I&&(t.gullet.macros.get("\\df@tag")?(I.push(t.subparse([new R2("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):I.push(!!u&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(M(),C.push(J7(t));;){var j=t.parseExpression(!1,c?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),j={type:"ordgroup",mode:t.mode,body:j},n&&(j={type:"styling",mode:t.mode,style:n,body:[j]}),x.push(j);var G=t.fetch().text;if(G==="&"){if(p&&x.length===p){if(c||o)throw new de("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(G==="\\end"){V(),x.length===1&&j.type==="styling"&&j.body[0].body.length===0&&(N.length>1||!d)&&N.pop(),C.length<N.length+1&&C.push([]);break}else if(G==="\\\\"){t.consume();var S=void 0;t.gullet.future().text!==" "&&(S=t.parseSizeGroup(!0)),P.push(S?S.value:null),V(),C.push(J7(t)),x=[],N.push(x),M()}else throw new de("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:a,body:N,cols:s,rowGaps:P,hskipBeforeAndAfter:r,hLinesBeforeRow:C,colSeparationType:o,tags:I,leqno:g}}function U2(t){return t.slice(0,1)==="d"?"display":"text"}var vs=function(e,n){var r,i,s=e.body.length,a=e.hLinesBeforeRow,o=0,u=new Array(s),c=[],d=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),p=1/n.fontMetrics().ptPerEm,g=5*p;if(e.colSeparationType&&e.colSeparationType==="small"){var v=n.havingStyle(ve.SCRIPT).sizeMultiplier;g=.2778*(v/n.sizeMultiplier)}var x=e.colSeparationType==="CD"?Ct({number:3,unit:"ex"},n):12*p,N=3*p,P=e.arraystretch*x,C=.7*P,I=.3*P,M=0;function V(Xn){for(var Zn=0;Zn<Xn.length;++Zn)Zn>0&&(M+=.25),c.push({pos:M,isDashed:Xn[Zn]})}for(V(a[0]),r=0;r<e.body.length;++r){var j=e.body[r],G=C,S=I;o<j.length&&(o=j.length);var b=new Array(j.length);for(i=0;i<j.length;++i){var _=et(j[i],n);S<_.depth&&(S=_.depth),G<_.height&&(G=_.height),b[i]=_}var A=e.rowGaps[r],R=0;A&&(R=Ct(A,n),R>0&&(R+=I,S<R&&(S=R),R=0)),e.addJot&&(S+=N),b.height=G,b.depth=S,M+=G,b.pos=M,M+=S+R,u[r]=b,V(a[r+1])}var D=M/2+n.fontMetrics().axisHeight,w=e.cols||[],ue=[],Ie,te,re=[];if(e.tags&&e.tags.some(Xn=>Xn))for(r=0;r<s;++r){var se=u[r],xe=se.pos-D,Re=e.tags[r],je=void 0;Re===!0?je=K.makeSpan(["eqn-num"],[],n):Re===!1?je=K.makeSpan([],[],n):je=K.makeSpan([],zn(Re,n,!0),n),je.depth=se.depth,je.height=se.height,re.push({type:"elem",elem:je,shift:xe})}for(i=0,te=0;i<o||te<w.length;++i,++te){for(var Ne=w[te]||{},he=!0;Ne.type==="separator";){if(he||(Ie=K.makeSpan(["arraycolsep"],[]),Ie.style.width=ne(n.fontMetrics().doubleRuleSep),ue.push(Ie)),Ne.separator==="|"||Ne.separator===":"){var dn=Ne.separator==="|"?"solid":"dashed",Ce=K.makeSpan(["vertical-separator"],[],n);Ce.style.height=ne(M),Ce.style.borderRightWidth=ne(d),Ce.style.borderRightStyle=dn,Ce.style.margin="0 "+ne(-d/2);var Qr=M-D;Qr&&(Ce.style.verticalAlign=ne(-Qr)),ue.push(Ce)}else throw new de("Invalid separator type: "+Ne.separator);te++,Ne=w[te]||{},he=!1}if(!(i>=o)){var Xt=void 0;(i>0||e.hskipBeforeAndAfter)&&(Xt=rt.deflt(Ne.pregap,g),Xt!==0&&(Ie=K.makeSpan(["arraycolsep"],[]),Ie.style.width=ne(Xt),ue.push(Ie)));var wn=[];for(r=0;r<s;++r){var wi=u[r],mn=wi[i];if(mn){var pr=wi.pos-D;mn.depth=wi.depth,mn.height=wi.height,wn.push({type:"elem",elem:mn,shift:pr})}}wn=K.makeVList({positionType:"individualShift",children:wn},n),wn=K.makeSpan(["col-align-"+(Ne.align||"c")],[wn]),ue.push(wn),(i<o-1||e.hskipBeforeAndAfter)&&(Xt=rt.deflt(Ne.postgap,g),Xt!==0&&(Ie=K.makeSpan(["arraycolsep"],[]),Ie.style.width=ne(Xt),ue.push(Ie)))}}if(u=K.makeSpan(["mtable"],ue),c.length>0){for(var Wr=K.makeLineSpan("hline",n,d),Vn=K.makeLineSpan("hdashline",n,d),Un=[{type:"elem",elem:u,shift:0}];c.length>0;){var pn=c.pop(),Jr=pn.pos-D;pn.isDashed?Un.push({type:"elem",elem:Vn,shift:Jr}):Un.push({type:"elem",elem:Wr,shift:Jr})}u=K.makeVList({positionType:"individualShift",children:Un},n)}if(re.length===0)return K.makeSpan(["mord"],[u],n);var Si=K.makeVList({positionType:"individualShift",children:re},n);return Si=K.makeSpan(["tag"],[Si],n),K.makeFragment([u,Si])},MF={c:"center ",l:"left ",r:"right "},bs=function(e,n){for(var r=[],i=new ee.MathNode("mtd",[],["mtr-glue"]),s=new ee.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<e.body.length;a++){for(var o=e.body[a],u=[],c=0;c<o.length;c++)u.push(new ee.MathNode("mtd",[dt(o[c],n)]));e.tags&&e.tags[a]&&(u.unshift(i),u.push(i),e.leqno?u.unshift(s):u.push(s)),r.push(new ee.MathNode("mtr",u))}var d=new ee.MathNode("mtable",r),p=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);d.setAttribute("rowspacing",ne(p));var g="",v="";if(e.cols&&e.cols.length>0){var x=e.cols,N="",P=!1,C=0,I=x.length;x[0].type==="separator"&&(g+="top ",C=1),x[x.length-1].type==="separator"&&(g+="bottom ",I-=1);for(var M=C;M<I;M++)x[M].type==="align"?(v+=MF[x[M].align],P&&(N+="none "),P=!0):x[M].type==="separator"&&P&&(N+=x[M].separator==="|"?"solid ":"dashed ",P=!1);d.setAttribute("columnalign",v.trim()),/[sd]/.test(N)&&d.setAttribute("columnlines",N.trim())}if(e.colSeparationType==="align"){for(var V=e.cols||[],j="",G=1;G<V.length;G++)j+=G%2?"0em ":"1em ";d.setAttribute("columnspacing",j.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?d.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?d.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?d.setAttribute("columnspacing","0.5em"):d.setAttribute("columnspacing","1em");var S="",b=e.hLinesBeforeRow;g+=b[0].length>0?"left ":"",g+=b[b.length-1].length>0?"right ":"";for(var _=1;_<b.length-1;_++)S+=b[_].length===0?"none ":b[_][0]?"dashed ":"solid ";return/[sd]/.test(S)&&d.setAttribute("rowlines",S.trim()),g!==""&&(d=new ee.MathNode("menclose",[d]),d.setAttribute("notation",g.trim())),e.arraystretch&&e.arraystretch<1&&(d=new ee.MathNode("mstyle",[d]),d.setAttribute("scriptlevel","1")),d},lA=function(e,n){e.envName.indexOf("ed")===-1&&mp(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",a=ko(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:V2(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),o,u=0,c={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var d="",p=0;p<n[0].body.length;p++){var g=Ve(n[0].body[p],"textord");d+=g.text}o=Number(d),u=o*2}var v=!u;a.body.forEach(function(C){for(var I=1;I<C.length;I+=2){var M=Ve(C[I],"styling"),V=Ve(M.body[0],"ordgroup");V.body.unshift(c)}if(v)u<C.length&&(u=C.length);else{var j=C.length/2;if(o<j)throw new de("Too many math in a row: "+("expected "+o+", but got "+j),C[0])}});for(var x=0;x<u;++x){var N="r",P=0;x%2===1?N="l":x>0&&v&&(P=1),r[x]={type:"align",align:N,pregap:P,postgap:0}}return a.colSeparationType=v?"align":"alignat",a};ys({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=hp(e[0]),r=n?[e[0]]:Ve(e[0],"ordgroup").body,i=r.map(function(a){var o=D2(a),u=o.text;if("lcr".indexOf(u)!==-1)return{type:"align",align:u};if(u==="|")return{type:"separator",separator:"|"};if(u===":")return{type:"separator",separator:":"};throw new de("Unknown column alignment: "+u,a)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return ko(t.parser,s,U2(t.envName))},htmlBuilder:vs,mathmlBuilder:bs});ys({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new de("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var s=ko(t.parser,r,U2(t.envName)),a=Math.max(0,...s.body.map(o=>o.length));return s.cols=new Array(a).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:vs,mathmlBuilder:bs});ys({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=ko(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:vs,mathmlBuilder:bs});ys({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=hp(e[0]),r=n?[e[0]]:Ve(e[0],"ordgroup").body,i=r.map(function(a){var o=D2(a),u=o.text;if("lc".indexOf(u)!==-1)return{type:"align",align:u};throw new de("Unknown column alignment: "+u,a)});if(i.length>1)throw new de("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=ko(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new de("{subarray} can contain only one column");return s},htmlBuilder:vs,mathmlBuilder:bs});ys({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=ko(t.parser,e,U2(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:vs,mathmlBuilder:bs});ys({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:lA,htmlBuilder:vs,mathmlBuilder:bs});ys({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&mp(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:V2(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return ko(t.parser,e,"display")},htmlBuilder:vs,mathmlBuilder:bs});ys({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:lA,htmlBuilder:vs,mathmlBuilder:bs});ys({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){mp(t);var e={autoTag:V2(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return ko(t.parser,e,"display")},htmlBuilder:vs,mathmlBuilder:bs});ys({type:"array",names:["CD"],props:{numArgs:0},handler(t){return mp(t),yF(t.parser)},htmlBuilder:vs,mathmlBuilder:bs});z("\\nonumber","\\gdef\\@eqnsw{0}");z("\\notag","\\nonumber");ae({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new de(t.funcName+" valid only within array environment")}});var eb=oA;ae({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new de("Invalid environment name",i);for(var s="",a=0;a<i.body.length;++a)s+=Ve(i.body[a],"textord").text;if(r==="\\begin"){if(!eb.hasOwnProperty(s))throw new de("No such environment: "+s,i);var o=eb[s],{args:u,optArgs:c}=n.parseArguments("\\begin{"+s+"}",o),d={mode:n.mode,envName:s,parser:n},p=o.handler(d,u,c);n.expect("\\end",!1);var g=n.nextToken,v=Ve(n.parseFunction(),"environment");if(v.name!==s)throw new de("Mismatch: \\begin{"+s+"} matched by \\end{"+v.name+"}",g);return p}return{type:"environment",mode:n.mode,name:s,nameGroup:i}}});var uA=(t,e)=>{var n=t.font,r=e.withFont(n);return et(t.body,r)},cA=(t,e)=>{var n=t.font,r=e.withFont(n);return dt(t.body,r)},tb={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ae({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=bm(e[0]),s=r;return s in tb&&(s=tb[s]),{type:"font",mode:n.mode,font:s.slice(1),body:i}},htmlBuilder:uA,mathmlBuilder:cA});ae({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=rt.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:fp(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});ae({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:s}=n,a=n.parseExpression(!0,i),o="math"+r.slice(1);return{type:"font",mode:s,font:o,body:{type:"ordgroup",mode:n.mode,body:a}}},htmlBuilder:uA,mathmlBuilder:cA});var hA=(t,e)=>{var n=e;return t==="display"?n=n.id>=ve.SCRIPT.id?n.text():ve.DISPLAY:t==="text"&&n.size===ve.DISPLAY.size?n=ve.TEXT:t==="script"?n=ve.SCRIPT:t==="scriptscript"&&(n=ve.SCRIPTSCRIPT),n},B2=(t,e)=>{var n=hA(t.size,e.style),r=n.fracNum(),i=n.fracDen(),s;s=e.havingStyle(r);var a=et(t.numer,s,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,u=3.5/e.fontMetrics().ptPerEm;a.height=a.height<o?o:a.height,a.depth=a.depth<u?u:a.depth}s=e.havingStyle(i);var c=et(t.denom,s,e),d,p,g;t.hasBarLine?(t.barSize?(p=Ct(t.barSize,e),d=K.makeLineSpan("frac-line",e,p)):d=K.makeLineSpan("frac-line",e),p=d.height,g=d.height):(d=null,p=0,g=e.fontMetrics().defaultRuleThickness);var v,x,N;n.size===ve.DISPLAY.size||t.size==="display"?(v=e.fontMetrics().num1,p>0?x=3*g:x=7*g,N=e.fontMetrics().denom1):(p>0?(v=e.fontMetrics().num2,x=g):(v=e.fontMetrics().num3,x=3*g),N=e.fontMetrics().denom2);var P;if(d){var I=e.fontMetrics().axisHeight;v-a.depth-(I+.5*p)<x&&(v+=x-(v-a.depth-(I+.5*p))),I-.5*p-(c.height-N)<x&&(N+=x-(I-.5*p-(c.height-N)));var M=-(I-.5*p);P=K.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:N},{type:"elem",elem:d,shift:M},{type:"elem",elem:a,shift:-v}]},e)}else{var C=v-a.depth-(c.height-N);C<x&&(v+=.5*(x-C),N+=.5*(x-C)),P=K.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:N},{type:"elem",elem:a,shift:-v}]},e)}s=e.havingStyle(n),P.height*=s.sizeMultiplier/e.sizeMultiplier,P.depth*=s.sizeMultiplier/e.sizeMultiplier;var V;n.size===ve.DISPLAY.size?V=e.fontMetrics().delim1:n.size===ve.SCRIPTSCRIPT.size?V=e.havingStyle(ve.SCRIPT).fontMetrics().delim2:V=e.fontMetrics().delim2;var j,G;return t.leftDelim==null?j=gh(e,["mopen"]):j=ea.customSizedDelim(t.leftDelim,V,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?G=K.makeSpan([]):t.rightDelim==null?G=gh(e,["mclose"]):G=ea.customSizedDelim(t.rightDelim,V,!0,e.havingStyle(n),t.mode,["mclose"]),K.makeSpan(["mord"].concat(s.sizingClasses(e)),[j,K.makeSpan(["mfrac"],[P]),G],e)},j2=(t,e)=>{var n=new ee.MathNode("mfrac",[dt(t.numer,e),dt(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=Ct(t.barSize,e);n.setAttribute("linethickness",ne(r))}var i=hA(t.size,e.style);if(i.size!==e.style.size){n=new ee.MathNode("mstyle",[n]);var s=i.size===ve.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var a=[];if(t.leftDelim!=null){var o=new ee.MathNode("mo",[new ee.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),a.push(o)}if(a.push(n),t.rightDelim!=null){var u=new ee.MathNode("mo",[new ee.TextNode(t.rightDelim.replace("\\",""))]);u.setAttribute("fence","true"),a.push(u)}return N2(a)}return n};ae({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1],a,o=null,u=null,c="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,o="(",u=")";break;case"\\\\bracefrac":a=!1,o="\\{",u="\\}";break;case"\\\\brackfrac":a=!1,o="[",u="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:s,hasBarLine:a,leftDelim:o,rightDelim:u,size:c,barSize:null}},htmlBuilder:B2,mathmlBuilder:j2});ae({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});ae({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var nb=["display","text","script","scriptscript"],rb=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};ae({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],s=bm(e[0]),a=s.type==="atom"&&s.family==="open"?rb(s.text):null,o=bm(e[1]),u=o.type==="atom"&&o.family==="close"?rb(o.text):null,c=Ve(e[2],"size"),d,p=null;c.isBlank?d=!0:(p=c.value,d=p.number>0);var g="auto",v=e[3];if(v.type==="ordgroup"){if(v.body.length>0){var x=Ve(v.body[0],"textord");g=nb[Number(x.text)]}}else v=Ve(v,"textord"),g=nb[Number(v.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:d,barSize:p,leftDelim:a,rightDelim:u,size:g}},htmlBuilder:B2,mathmlBuilder:j2});ae({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Ve(e[0],"size").value,token:i}}});ae({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=fj(Ve(e[1],"infix").size),a=e[2],o=s.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:a,continued:!1,hasBarLine:o,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:B2,mathmlBuilder:j2});var fA=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?et(t.sup,e.havingStyle(n.sup()),e):et(t.sub,e.havingStyle(n.sub()),e),i=Ve(t.base,"horizBrace")):i=Ve(t,"horizBrace");var s=et(i.base,e.havingBaseStyle(ve.DISPLAY)),a=ca.svgSpan(i,e),o;if(i.isOver?(o=K.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=K.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),r){var u=K.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e);i.isOver?o=K.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:u},{type:"kern",size:.2},{type:"elem",elem:r}]},e):o=K.makeVList({positionType:"bottom",positionData:u.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:u}]},e)}return K.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e)},DF=(t,e)=>{var n=ca.mathMLnode(t.label);return new ee.MathNode(t.isOver?"mover":"munder",[dt(t.base,e),n])};ae({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:fA,mathmlBuilder:DF});ae({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=Ve(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:$t(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=zn(t.body,e,!1);return K.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=bo(t.body,e);return n instanceof hi||(n=new hi("mrow",[n])),n.setAttribute("href",t.href),n}});ae({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=Ve(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var a=r[s];a==="~"&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var o={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:$t(o)}}});ae({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:$t(e[0])}},htmlBuilder(t,e){var n=zn(t.body,e,!1);return K.makeFragment(n)},mathmlBuilder(t,e){return new ee.MathNode("mrow",Zr(t.body,e))}});ae({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,s=Ve(e[0],"raw").string,a=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,u={};switch(r){case"\\htmlClass":u.class=s,o={command:"\\htmlClass",class:s};break;case"\\htmlId":u.id=s,o={command:"\\htmlId",id:s};break;case"\\htmlStyle":u.style=s,o={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var c=s.split(","),d=0;d<c.length;d++){var p=c[d],g=p.indexOf("=");if(g<0)throw new de("\\htmlData key/value '"+p+"' missing equals sign");var v=p.slice(0,g),x=p.slice(g+1);u["data-"+v.trim()]=x}o={command:"\\htmlData",attributes:u};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(o)?{type:"html",mode:n.mode,attributes:u,body:$t(a)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=zn(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=K.makeSpan(r,n,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&i.setAttribute(s,t.attributes[s]);return i},mathmlBuilder:(t,e)=>bo(t.body,e)});ae({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:$t(e[0]),mathml:$t(e[1])}},htmlBuilder:(t,e)=>{var n=zn(t.html,e,!1);return K.makeFragment(n)},mathmlBuilder:(t,e)=>bo(t.mathml,e)});var ng=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new de("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!Dj(r))throw new de("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};ae({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},o="";if(n[0])for(var u=Ve(n[0],"raw").string,c=u.split(","),d=0;d<c.length;d++){var p=c[d].split("=");if(p.length===2){var g=p[1].trim();switch(p[0].trim()){case"alt":o=g;break;case"width":i=ng(g);break;case"height":s=ng(g);break;case"totalheight":a=ng(g);break;default:throw new de("Invalid key: '"+p[0]+"' in \\includegraphics.")}}}var v=Ve(e[0],"url").url;return o===""&&(o=v,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:v})?{type:"includegraphics",mode:r.mode,alt:o,width:i,height:s,totalheight:a,src:v}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=Ct(t.height,e),r=0;t.totalheight.number>0&&(r=Ct(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=Ct(t.width,e));var s={height:ne(n+r)};i>0&&(s.width=ne(i)),r>0&&(s.verticalAlign=ne(-r));var a=new Pj(t.src,t.alt,s);return a.height=n,a.depth=r,a},mathmlBuilder:(t,e)=>{var n=new ee.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=Ct(t.height,e),i=0;if(t.totalheight.number>0&&(i=Ct(t.totalheight,e)-r,n.setAttribute("valign",ne(-i))),n.setAttribute("height",ne(r+i)),t.width.number>0){var s=Ct(t.width,e);n.setAttribute("width",ne(s))}return n.setAttribute("src",t.src),n}});ae({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=Ve(e[0],"size");if(n.settings.strict){var s=r[1]==="m",a=i.value.unit==="mu";s?(a||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):a&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return K.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=Ct(t.dimension,e);return new ee.SpaceNode(n)}});ae({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=K.makeSpan([],[et(t.body,e)]),n=K.makeSpan(["inner"],[n],e)):n=K.makeSpan(["inner"],[et(t.body,e)]);var r=K.makeSpan(["fix"],[]),i=K.makeSpan([t.alignment],[n,r],e),s=K.makeSpan(["strut"]);return s.style.height=ne(i.height+i.depth),i.depth&&(s.style.verticalAlign=ne(-i.depth)),i.children.unshift(s),i=K.makeSpan(["thinbox"],[i],e),K.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new ee.MathNode("mpadded",[dt(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});ae({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",a=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:a}}});ae({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new de("Mismatched "+t.funcName)}});var ib=(t,e)=>{switch(e.style.size){case ve.DISPLAY.size:return t.display;case ve.TEXT.size:return t.text;case ve.SCRIPT.size:return t.script;case ve.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};ae({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:$t(e[0]),text:$t(e[1]),script:$t(e[2]),scriptscript:$t(e[3])}},htmlBuilder:(t,e)=>{var n=ib(t,e),r=zn(n,e,!1);return K.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=ib(t,e);return bo(n,e)}});var dA=(t,e,n,r,i,s,a)=>{t=K.makeSpan([],[t]);var o=n&&rt.isCharacterBox(n),u,c;if(e){var d=et(e,r.havingStyle(i.sup()),r);c={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-d.depth)}}if(n){var p=et(n,r.havingStyle(i.sub()),r);u={elem:p,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-p.height)}}var g;if(c&&u){var v=r.fontMetrics().bigOpSpacing5+u.elem.height+u.elem.depth+u.kern+t.depth+a;g=K.makeVList({positionType:"bottom",positionData:v,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:ne(-s)},{type:"kern",size:u.kern},{type:"elem",elem:t},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:ne(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(u){var x=t.height-a;g=K.makeVList({positionType:"top",positionData:x,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:u.elem,marginLeft:ne(-s)},{type:"kern",size:u.kern},{type:"elem",elem:t}]},r)}else if(c){var N=t.depth+a;g=K.makeVList({positionType:"bottom",positionData:N,children:[{type:"elem",elem:t},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:ne(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var P=[g];if(u&&s!==0&&!o){var C=K.makeSpan(["mspace"],[],r);C.style.marginRight=ne(s),P.unshift(C)}return K.makeSpan(["mop","op-limits"],P,r)},mA=["\\smallint"],fc=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Ve(t.base,"op"),i=!0):s=Ve(t,"op");var a=e.style,o=!1;a.size===ve.DISPLAY.size&&s.symbol&&!mA.includes(s.name)&&(o=!0);var u;if(s.symbol){var c=o?"Size2-Regular":"Size1-Regular",d="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(d=s.name.slice(1),s.name=d==="oiint"?"\\iint":"\\iiint"),u=K.makeSymbol(s.name,c,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),d.length>0){var p=u.italic,g=K.staticSvg(d+"Size"+(o?"2":"1"),e);u=K.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:0},{type:"elem",elem:g,shift:o?.08:0}]},e),s.name="\\"+d,u.classes.unshift("mop"),u.italic=p}}else if(s.body){var v=zn(s.body,e,!0);v.length===1&&v[0]instanceof fs?(u=v[0],u.classes[0]="mop"):u=K.makeSpan(["mop"],v,e)}else{for(var x=[],N=1;N<s.name.length;N++)x.push(K.mathsym(s.name[N],s.mode,e));u=K.makeSpan(["mop"],x,e)}var P=0,C=0;return(u instanceof fs||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(P=(u.height-u.depth)/2-e.fontMetrics().axisHeight,C=u.italic),i?dA(u,n,r,e,a,C,P):(P&&(u.style.position="relative",u.style.top=ne(P)),u)},Zh=(t,e)=>{var n;if(t.symbol)n=new hi("mo",[vi(t.name,t.mode)]),mA.includes(t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new hi("mo",Zr(t.body,e));else{n=new hi("mi",[new is(t.name.slice(1))]);var r=new hi("mo",[vi("","text")]);t.parentIsSupSub?n=new hi("mrow",[n,r]):n=qE([n,r])}return n},OF={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};ae({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=OF[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:fc,mathmlBuilder:Zh});ae({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:$t(r)}},htmlBuilder:fc,mathmlBuilder:Zh});var PF={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};ae({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:fc,mathmlBuilder:Zh});ae({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:fc,mathmlBuilder:Zh});ae({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=PF[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:fc,mathmlBuilder:Zh});var pA=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Ve(t.base,"operatorname"),i=!0):s=Ve(t,"operatorname");var a;if(s.body.length>0){for(var o=s.body.map(p=>{var g=p.text;return typeof g=="string"?{type:"textord",mode:p.mode,text:g}:p}),u=zn(o,e.withFont("mathrm"),!0),c=0;c<u.length;c++){var d=u[c];d instanceof fs&&(d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=K.makeSpan(["mop"],u,e)}else a=K.makeSpan(["mop"],[],e);return i?dA(a,n,r,e,e.style,0,0):a},zF=(t,e)=>{for(var n=Zr(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var s=n[i];if(!(s instanceof ee.SpaceNode))if(s instanceof ee.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=s.children[0];s.children.length===1&&a instanceof ee.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var o=n.map(d=>d.toText()).join("");n=[new ee.TextNode(o)]}var u=new ee.MathNode("mi",n);u.setAttribute("mathvariant","normal");var c=new ee.MathNode("mo",[vi("","text")]);return t.parentIsSupSub?new ee.MathNode("mrow",[u,c]):ee.newDocumentFragment([u,c])};ae({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:$t(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:pA,mathmlBuilder:zF});z("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Dl({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?K.makeFragment(zn(t.body,e,!1)):K.makeSpan(["mord"],zn(t.body,e,!0),e)},mathmlBuilder(t,e){return bo(t.body,e,!0)}});ae({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=et(t.body,e.havingCrampedStyle()),r=K.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=K.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return K.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var n=new ee.MathNode("mo",[new ee.TextNode("")]);n.setAttribute("stretchy","true");var r=new ee.MathNode("mover",[dt(t.body,e),n]);return r.setAttribute("accent","true"),r}});ae({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:$t(r)}},htmlBuilder:(t,e)=>{var n=zn(t.body,e.withPhantom(),!1);return K.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Zr(t.body,e);return new ee.MathNode("mphantom",n)}});ae({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=K.makeSpan([],[et(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=K.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),K.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Zr($t(t.body),e),r=new ee.MathNode("mphantom",n),i=new ee.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});ae({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=K.makeSpan(["inner"],[et(t.body,e.withPhantom())]),r=K.makeSpan(["fix"],[]);return K.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=Zr($t(t.body),e),r=new ee.MathNode("mphantom",n),i=new ee.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});ae({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=Ve(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=et(t.body,e),r=Ct(t.dy,e);return K.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new ee.MathNode("mpadded",[dt(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});ae({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});ae({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],s=Ve(e[0],"size"),a=Ve(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&Ve(i,"size").value,width:s.value,height:a.value}},htmlBuilder(t,e){var n=K.makeSpan(["mord","rule"],[],e),r=Ct(t.width,e),i=Ct(t.height,e),s=t.shift?Ct(t.shift,e):0;return n.style.borderRightWidth=ne(r),n.style.borderTopWidth=ne(i),n.style.bottom=ne(s),n.width=r,n.height=i+s,n.depth=-s,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=Ct(t.width,e),r=Ct(t.height,e),i=t.shift?Ct(t.shift,e):0,s=e.color&&e.getColor()||"black",a=new ee.MathNode("mspace");a.setAttribute("mathbackground",s),a.setAttribute("width",ne(n)),a.setAttribute("height",ne(r));var o=new ee.MathNode("mpadded",[a]);return i>=0?o.setAttribute("height",ne(i)):(o.setAttribute("height",ne(i)),o.setAttribute("depth",ne(-i))),o.setAttribute("voffset",ne(i)),o}});function gA(t,e,n){for(var r=zn(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var a=r[s].classes.indexOf("sizing");a<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(n)):r[s].classes[a+1]==="reset-size"+e.size&&(r[s].classes[a+1]="reset-size"+n.size),r[s].height*=i,r[s].depth*=i}return K.makeFragment(r)}var sb=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],LF=(t,e)=>{var n=e.havingSize(t.size);return gA(t.body,n,e)};ae({type:"sizing",names:sb,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:sb.indexOf(r)+1,body:s}},htmlBuilder:LF,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=Zr(t.body,n),i=new ee.MathNode("mstyle",r);return i.setAttribute("mathsize",ne(n.sizeMultiplier)),i}});ae({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,s=!1,a=n[0]&&Ve(n[0],"ordgroup");if(a)for(var o="",u=0;u<a.body.length;++u){var c=a.body[u];if(o=c.text,o==="t")i=!0;else if(o==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var d=e[0];return{type:"smash",mode:r.mode,body:d,smashHeight:i,smashDepth:s}},htmlBuilder:(t,e)=>{var n=K.makeSpan([],[et(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var s=K.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return K.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var n=new ee.MathNode("mpadded",[dt(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});ae({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(t,e){var n=et(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=K.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,s=i;e.style.id<ve.TEXT.id&&(s=e.fontMetrics().xHeight);var a=i+s/4,o=n.height+n.depth+a+i,{span:u,ruleWidth:c,advanceWidth:d}=ea.sqrtImage(o,e),p=u.height-c;p>n.height+n.depth+a&&(a=(a+p-n.height-n.depth)/2);var g=u.height-n.height-a-c;n.style.paddingLeft=ne(d);var v=K.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+g)},{type:"elem",elem:u},{type:"kern",size:c}]},e);if(t.index){var x=e.havingStyle(ve.SCRIPTSCRIPT),N=et(t.index,x,e),P=.6*(v.height-v.depth),C=K.makeVList({positionType:"shift",positionData:-P,children:[{type:"elem",elem:N}]},e),I=K.makeSpan(["root"],[C]);return K.makeSpan(["mord","sqrt"],[I,v],e)}else return K.makeSpan(["mord","sqrt"],[v],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new ee.MathNode("mroot",[dt(n,e),dt(r,e)]):new ee.MathNode("msqrt",[dt(n,e)])}});var ab={display:ve.DISPLAY,text:ve.TEXT,script:ve.SCRIPT,scriptscript:ve.SCRIPTSCRIPT};ae({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!0,n),a=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:a,body:s}},htmlBuilder(t,e){var n=ab[t.style],r=e.havingStyle(n).withFont("");return gA(t.body,r,e)},mathmlBuilder(t,e){var n=ab[t.style],r=e.havingStyle(n),i=Zr(t.body,r),s=new ee.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=a[t.style];return s.setAttribute("scriptlevel",o[0]),s.setAttribute("displaystyle",o[1]),s}});var VF=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===ve.DISPLAY.size||r.alwaysHandleSupSub);return i?fc:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===ve.DISPLAY.size||r.limits);return s?pA:null}else{if(r.type==="accent")return rt.isCharacterBox(r.base)?O2:null;if(r.type==="horizBrace"){var a=!e.sub;return a===r.isOver?fA:null}else return null}else return null};Dl({type:"supsub",htmlBuilder(t,e){var n=VF(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:s}=t,a=et(r,e),o,u,c=e.fontMetrics(),d=0,p=0,g=r&&rt.isCharacterBox(r);if(i){var v=e.havingStyle(e.style.sup());o=et(i,v,e),g||(d=a.height-v.fontMetrics().supDrop*v.sizeMultiplier/e.sizeMultiplier)}if(s){var x=e.havingStyle(e.style.sub());u=et(s,x,e),g||(p=a.depth+x.fontMetrics().subDrop*x.sizeMultiplier/e.sizeMultiplier)}var N;e.style===ve.DISPLAY?N=c.sup1:e.style.cramped?N=c.sup3:N=c.sup2;var P=e.sizeMultiplier,C=ne(.5/c.ptPerEm/P),I=null;if(u){var M=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(a instanceof fs||M)&&(I=ne(-a.italic))}var V;if(o&&u){d=Math.max(d,N,o.depth+.25*c.xHeight),p=Math.max(p,c.sub2);var j=c.defaultRuleThickness,G=4*j;if(d-o.depth-(u.height-p)<G){p=G-(d-o.depth)+u.height;var S=.8*c.xHeight-(d-o.depth);S>0&&(d+=S,p-=S)}var b=[{type:"elem",elem:u,shift:p,marginRight:C,marginLeft:I},{type:"elem",elem:o,shift:-d,marginRight:C}];V=K.makeVList({positionType:"individualShift",children:b},e)}else if(u){p=Math.max(p,c.sub1,u.height-.8*c.xHeight);var _=[{type:"elem",elem:u,marginLeft:I,marginRight:C}];V=K.makeVList({positionType:"shift",positionData:p,children:_},e)}else if(o)d=Math.max(d,N,o.depth+.25*c.xHeight),V=K.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:o,marginRight:C}]},e);else throw new Error("supsub must have either sup or sub.");var A=iy(a,"right")||"mord";return K.makeSpan([A],[a,K.makeSpan(["msupsub"],[V])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[dt(t.base,e)];t.sub&&s.push(dt(t.sub,e)),t.sup&&s.push(dt(t.sup,e));var a;if(n)a=r?"mover":"munder";else if(t.sub)if(t.sup){var c=t.base;c&&c.type==="op"&&c.limits&&e.style===ve.DISPLAY||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(e.style===ve.DISPLAY||c.limits)?a="munderover":a="msubsup"}else{var u=t.base;u&&u.type==="op"&&u.limits&&(e.style===ve.DISPLAY||u.alwaysHandleSupSub)||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(u.limits||e.style===ve.DISPLAY)?a="munder":a="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===ve.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===ve.DISPLAY)?a="mover":a="msup"}return new ee.MathNode(a,s)}});Dl({type:"atom",htmlBuilder(t,e){return K.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new ee.MathNode("mo",[vi(t.text,t.mode)]);if(t.family==="bin"){var r=M2(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var yA={mi:"italic",mn:"normal",mtext:"normal"};Dl({type:"mathord",htmlBuilder(t,e){return K.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new ee.MathNode("mi",[vi(t.text,t.mode,e)]),r=M2(t,e)||"italic";return r!==yA[n.type]&&n.setAttribute("mathvariant",r),n}});Dl({type:"textord",htmlBuilder(t,e){return K.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=vi(t.text,t.mode,e),r=M2(t,e)||"normal",i;return t.mode==="text"?i=new ee.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new ee.MathNode("mn",[n]):t.text==="\\prime"?i=new ee.MathNode("mo",[n]):i=new ee.MathNode("mi",[n]),r!==yA[i.type]&&i.setAttribute("mathvariant",r),i}});var rg={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},ig={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Dl({type:"spacing",htmlBuilder(t,e){if(ig.hasOwnProperty(t.text)){var n=ig[t.text].className||"";if(t.mode==="text"){var r=K.makeOrd(t,e,"textord");return r.classes.push(n),r}else return K.makeSpan(["mspace",n],[K.mathsym(t.text,t.mode,e)],e)}else{if(rg.hasOwnProperty(t.text))return K.makeSpan(["mspace",rg[t.text]],[],e);throw new de('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(ig.hasOwnProperty(t.text))n=new ee.MathNode("mtext",[new ee.TextNode("")]);else{if(rg.hasOwnProperty(t.text))return new ee.MathNode("mspace");throw new de('Unknown type of space "'+t.text+'"')}return n}});var ob=()=>{var t=new ee.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Dl({type:"tag",mathmlBuilder(t,e){var n=new ee.MathNode("mtable",[new ee.MathNode("mtr",[ob(),new ee.MathNode("mtd",[bo(t.body,e)]),ob(),new ee.MathNode("mtd",[bo(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var lb={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},ub={"\\textbf":"textbf","\\textmd":"textmd"},UF={"\\textit":"textit","\\textup":"textup"},cb=(t,e)=>{var n=t.font;if(n){if(lb[n])return e.withTextFontFamily(lb[n]);if(ub[n])return e.withTextFontWeight(ub[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(UF[n])};ae({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:$t(i),font:r}},htmlBuilder(t,e){var n=cb(t,e),r=zn(t.body,n,!0);return K.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=cb(t,e);return bo(t.body,n)}});ae({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=et(t.body,e),r=K.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=K.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return K.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var n=new ee.MathNode("mo",[new ee.TextNode("")]);n.setAttribute("stretchy","true");var r=new ee.MathNode("munder",[dt(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});ae({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=et(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return K.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new ee.MathNode("mpadded",[dt(t.body,e)],["vcenter"])}});ae({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new de("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=hb(t),r=[],i=e.havingStyle(e.style.text()),s=0;s<n.length;s++){var a=n[s];a==="~"&&(a="\\textasciitilde"),r.push(K.makeSymbol(a,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return K.makeSpan(["mord","text"].concat(i.sizingClasses(e)),K.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new ee.TextNode(hb(t)),r=new ee.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var hb=t=>t.body.replace(/ /g,t.star?"":""),BF=HE;z("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});z("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});z("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});z("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});z("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});z("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");z("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var fb={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};z("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new de("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=fb[e.text],r==null||r>=n)throw new de("Invalid base-"+n+" digit "+e.text);for(var i;(i=fb[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var F2=(t,e,n,r)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new de("\\newcommand's first argument must be a macro name");var s=i[0].text,a=t.isDefined(s);if(a&&!e)throw new de("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!a&&!n)throw new de("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var o=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var u="",c=t.expandNextToken();c.text!=="]"&&c.text!=="EOF";)u+=c.text,c=t.expandNextToken();if(!u.match(/^\s*[0-9]+\s*$/))throw new de("Invalid number of arguments: "+u);o=parseInt(u),i=t.consumeArg().tokens}return a&&r||t.macros.set(s,{tokens:i,numArgs:o}),""};z("\\newcommand",t=>F2(t,!1,!0,!1));z("\\renewcommand",t=>F2(t,!0,!1,!1));z("\\providecommand",t=>F2(t,!0,!0,!0));z("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});z("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});z("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),BF[n],Gt.math[n],Gt.text[n]),""});z("\\bgroup","{");z("\\egroup","}");z("~","\\nobreakspace");z("\\lq","`");z("\\rq","'");z("\\aa","\\r a");z("\\AA","\\r A");z("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");z("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");z("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");z("","\\mathscr{B}");z("","\\mathscr{E}");z("","\\mathscr{F}");z("","\\mathscr{H}");z("","\\mathscr{I}");z("","\\mathscr{L}");z("","\\mathscr{M}");z("","\\mathscr{R}");z("","\\mathfrak{C}");z("","\\mathfrak{H}");z("","\\mathfrak{Z}");z("\\Bbbk","\\Bbb{k}");z("","\\cdotp");z("\\llap","\\mathllap{\\textrm{#1}}");z("\\rlap","\\mathrlap{\\textrm{#1}}");z("\\clap","\\mathclap{\\textrm{#1}}");z("\\mathstrut","\\vphantom{(}");z("\\underbar","\\underline{\\text{#1}}");z("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');z("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");z("\\ne","\\neq");z("","\\neq");z("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");z("","\\notin");z("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");z("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");z("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");z("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");z("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");z("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");z("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");z("","\\perp");z("","\\mathclose{!\\mkern-0.8mu!}");z("","\\notni");z("","\\ulcorner");z("","\\urcorner");z("","\\llcorner");z("","\\lrcorner");z("","\\copyright");z("","\\textregistered");z("","\\textregistered");z("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');z("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');z("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');z("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');z("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");z("","\\vdots");z("\\varGamma","\\mathit{\\Gamma}");z("\\varDelta","\\mathit{\\Delta}");z("\\varTheta","\\mathit{\\Theta}");z("\\varLambda","\\mathit{\\Lambda}");z("\\varXi","\\mathit{\\Xi}");z("\\varPi","\\mathit{\\Pi}");z("\\varSigma","\\mathit{\\Sigma}");z("\\varUpsilon","\\mathit{\\Upsilon}");z("\\varPhi","\\mathit{\\Phi}");z("\\varPsi","\\mathit{\\Psi}");z("\\varOmega","\\mathit{\\Omega}");z("\\substack","\\begin{subarray}{c}#1\\end{subarray}");z("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");z("\\boxed","\\fbox{$\\displaystyle{#1}$}");z("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");z("\\implies","\\DOTSB\\;\\Longrightarrow\\;");z("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");z("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");z("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var db={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};z("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in db?e=db[n]:(n.slice(0,4)==="\\not"||n in Gt.math&&["bin","rel"].includes(Gt.math[n].group))&&(e="\\dotsb"),e});var H2={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};z("\\dotso",function(t){var e=t.future().text;return e in H2?"\\ldots\\,":"\\ldots"});z("\\dotsc",function(t){var e=t.future().text;return e in H2&&e!==","?"\\ldots\\,":"\\ldots"});z("\\cdots",function(t){var e=t.future().text;return e in H2?"\\@cdots\\,":"\\@cdots"});z("\\dotsb","\\cdots");z("\\dotsm","\\cdots");z("\\dotsi","\\!\\cdots");z("\\dotsx","\\ldots\\,");z("\\DOTSI","\\relax");z("\\DOTSB","\\relax");z("\\DOTSX","\\relax");z("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");z("\\,","\\tmspace+{3mu}{.1667em}");z("\\thinspace","\\,");z("\\>","\\mskip{4mu}");z("\\:","\\tmspace+{4mu}{.2222em}");z("\\medspace","\\:");z("\\;","\\tmspace+{5mu}{.2777em}");z("\\thickspace","\\;");z("\\!","\\tmspace-{3mu}{.1667em}");z("\\negthinspace","\\!");z("\\negmedspace","\\tmspace-{4mu}{.2222em}");z("\\negthickspace","\\tmspace-{5mu}{.277em}");z("\\enspace","\\kern.5em ");z("\\enskip","\\hskip.5em\\relax");z("\\quad","\\hskip1em\\relax");z("\\qquad","\\hskip2em\\relax");z("\\tag","\\@ifstar\\tag@literal\\tag@paren");z("\\tag@paren","\\tag@literal{({#1})}");z("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new de("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});z("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");z("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");z("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");z("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");z("\\newline","\\\\\\relax");z("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var vA=ne(Xs["Main-Regular"][84][1]-.7*Xs["Main-Regular"][65][1]);z("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+vA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");z("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+vA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");z("\\hspace","\\@ifstar\\@hspacer\\@hspace");z("\\@hspace","\\hskip #1\\relax");z("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");z("\\ordinarycolon",":");z("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");z("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');z("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');z("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');z("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');z("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');z("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');z("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');z("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');z("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');z("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');z("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');z("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');z("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');z("","\\dblcolon");z("","\\eqcolon");z("","\\coloneqq");z("","\\eqqcolon");z("","\\Coloneqq");z("\\ratio","\\vcentcolon");z("\\coloncolon","\\dblcolon");z("\\colonequals","\\coloneqq");z("\\coloncolonequals","\\Coloneqq");z("\\equalscolon","\\eqqcolon");z("\\equalscoloncolon","\\Eqqcolon");z("\\colonminus","\\coloneq");z("\\coloncolonminus","\\Coloneq");z("\\minuscolon","\\eqcolon");z("\\minuscoloncolon","\\Eqcolon");z("\\coloncolonapprox","\\Colonapprox");z("\\coloncolonsim","\\Colonsim");z("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");z("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");z("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");z("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");z("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");z("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");z("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");z("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");z("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");z("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");z("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");z("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");z("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");z("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");z("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");z("\\ngeqq","\\html@mathml{\\@ngeqq}{}");z("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");z("\\nleqq","\\html@mathml{\\@nleqq}{}");z("\\nleqslant","\\html@mathml{\\@nleqslant}{}");z("\\nshortmid","\\html@mathml{\\@nshortmid}{}");z("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");z("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");z("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");z("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");z("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");z("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");z("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");z("\\imath","\\html@mathml{\\@imath}{}");z("\\jmath","\\html@mathml{\\@jmath}{}");z("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");z("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");z("","\\llbracket");z("","\\rrbracket");z("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");z("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");z("","\\lBrace");z("","\\rBrace");z("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");z("","\\minuso");z("\\darr","\\downarrow");z("\\dArr","\\Downarrow");z("\\Darr","\\Downarrow");z("\\lang","\\langle");z("\\rang","\\rangle");z("\\uarr","\\uparrow");z("\\uArr","\\Uparrow");z("\\Uarr","\\Uparrow");z("\\N","\\mathbb{N}");z("\\R","\\mathbb{R}");z("\\Z","\\mathbb{Z}");z("\\alef","\\aleph");z("\\alefsym","\\aleph");z("\\Alpha","\\mathrm{A}");z("\\Beta","\\mathrm{B}");z("\\bull","\\bullet");z("\\Chi","\\mathrm{X}");z("\\clubs","\\clubsuit");z("\\cnums","\\mathbb{C}");z("\\Complex","\\mathbb{C}");z("\\Dagger","\\ddagger");z("\\diamonds","\\diamondsuit");z("\\empty","\\emptyset");z("\\Epsilon","\\mathrm{E}");z("\\Eta","\\mathrm{H}");z("\\exist","\\exists");z("\\harr","\\leftrightarrow");z("\\hArr","\\Leftrightarrow");z("\\Harr","\\Leftrightarrow");z("\\hearts","\\heartsuit");z("\\image","\\Im");z("\\infin","\\infty");z("\\Iota","\\mathrm{I}");z("\\isin","\\in");z("\\Kappa","\\mathrm{K}");z("\\larr","\\leftarrow");z("\\lArr","\\Leftarrow");z("\\Larr","\\Leftarrow");z("\\lrarr","\\leftrightarrow");z("\\lrArr","\\Leftrightarrow");z("\\Lrarr","\\Leftrightarrow");z("\\Mu","\\mathrm{M}");z("\\natnums","\\mathbb{N}");z("\\Nu","\\mathrm{N}");z("\\Omicron","\\mathrm{O}");z("\\plusmn","\\pm");z("\\rarr","\\rightarrow");z("\\rArr","\\Rightarrow");z("\\Rarr","\\Rightarrow");z("\\real","\\Re");z("\\reals","\\mathbb{R}");z("\\Reals","\\mathbb{R}");z("\\Rho","\\mathrm{P}");z("\\sdot","\\cdot");z("\\sect","\\S");z("\\spades","\\spadesuit");z("\\sub","\\subset");z("\\sube","\\subseteq");z("\\supe","\\supseteq");z("\\Tau","\\mathrm{T}");z("\\thetasym","\\vartheta");z("\\weierp","\\wp");z("\\Zeta","\\mathrm{Z}");z("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");z("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");z("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");z("\\bra","\\mathinner{\\langle{#1}|}");z("\\ket","\\mathinner{|{#1}\\rangle}");z("\\braket","\\mathinner{\\langle{#1}\\rangle}");z("\\Bra","\\left\\langle#1\\right|");z("\\Ket","\\left|#1\\right\\rangle");var bA=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,a=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var u=p=>g=>{t&&(g.macros.set("|",a),i.length&&g.macros.set("\\|",o));var v=p;if(!p&&i.length){var x=g.future();x.text==="|"&&(g.popToken(),v=!0)}return{tokens:v?i:r,numArgs:0}};e.macros.set("|",u(!1)),i.length&&e.macros.set("\\|",u(!0));var c=e.consumeArg().tokens,d=e.expandTokens([...s,...c,...n]);return e.macros.endGroup(),{tokens:d.reverse(),numArgs:0}};z("\\bra@ket",bA(!1));z("\\bra@set",bA(!0));z("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");z("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");z("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");z("\\angln","{\\angl n}");z("\\blue","\\textcolor{##6495ed}{#1}");z("\\orange","\\textcolor{##ffa500}{#1}");z("\\pink","\\textcolor{##ff00af}{#1}");z("\\red","\\textcolor{##df0030}{#1}");z("\\green","\\textcolor{##28ae7b}{#1}");z("\\gray","\\textcolor{gray}{#1}");z("\\purple","\\textcolor{##9d38bd}{#1}");z("\\blueA","\\textcolor{##ccfaff}{#1}");z("\\blueB","\\textcolor{##80f6ff}{#1}");z("\\blueC","\\textcolor{##63d9ea}{#1}");z("\\blueD","\\textcolor{##11accd}{#1}");z("\\blueE","\\textcolor{##0c7f99}{#1}");z("\\tealA","\\textcolor{##94fff5}{#1}");z("\\tealB","\\textcolor{##26edd5}{#1}");z("\\tealC","\\textcolor{##01d1c1}{#1}");z("\\tealD","\\textcolor{##01a995}{#1}");z("\\tealE","\\textcolor{##208170}{#1}");z("\\greenA","\\textcolor{##b6ffb0}{#1}");z("\\greenB","\\textcolor{##8af281}{#1}");z("\\greenC","\\textcolor{##74cf70}{#1}");z("\\greenD","\\textcolor{##1fab54}{#1}");z("\\greenE","\\textcolor{##0d923f}{#1}");z("\\goldA","\\textcolor{##ffd0a9}{#1}");z("\\goldB","\\textcolor{##ffbb71}{#1}");z("\\goldC","\\textcolor{##ff9c39}{#1}");z("\\goldD","\\textcolor{##e07d10}{#1}");z("\\goldE","\\textcolor{##a75a05}{#1}");z("\\redA","\\textcolor{##fca9a9}{#1}");z("\\redB","\\textcolor{##ff8482}{#1}");z("\\redC","\\textcolor{##f9685d}{#1}");z("\\redD","\\textcolor{##e84d39}{#1}");z("\\redE","\\textcolor{##bc2612}{#1}");z("\\maroonA","\\textcolor{##ffbde0}{#1}");z("\\maroonB","\\textcolor{##ff92c6}{#1}");z("\\maroonC","\\textcolor{##ed5fa6}{#1}");z("\\maroonD","\\textcolor{##ca337c}{#1}");z("\\maroonE","\\textcolor{##9e034e}{#1}");z("\\purpleA","\\textcolor{##ddd7ff}{#1}");z("\\purpleB","\\textcolor{##c6b9fc}{#1}");z("\\purpleC","\\textcolor{##aa87ff}{#1}");z("\\purpleD","\\textcolor{##7854ab}{#1}");z("\\purpleE","\\textcolor{##543b78}{#1}");z("\\mintA","\\textcolor{##f5f9e8}{#1}");z("\\mintB","\\textcolor{##edf2df}{#1}");z("\\mintC","\\textcolor{##e0e5cc}{#1}");z("\\grayA","\\textcolor{##f6f7f7}{#1}");z("\\grayB","\\textcolor{##f0f1f2}{#1}");z("\\grayC","\\textcolor{##e3e5e6}{#1}");z("\\grayD","\\textcolor{##d6d8da}{#1}");z("\\grayE","\\textcolor{##babec2}{#1}");z("\\grayF","\\textcolor{##888d93}{#1}");z("\\grayG","\\textcolor{##626569}{#1}");z("\\grayH","\\textcolor{##3b3e40}{#1}");z("\\grayI","\\textcolor{##21242c}{#1}");z("\\kaBlue","\\textcolor{##314453}{#1}");z("\\kaGreen","\\textcolor{##71B307}{#1}");typeof document<"u"&&document.compatMode!=="CSS1Compat"&&typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype.");/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:_A,setPrototypeOf:mb,isFrozen:jF,getPrototypeOf:FF,getOwnPropertyDescriptor:HF}=Object;let{freeze:hr,seal:bi,create:oy}=Object,{apply:ly,construct:uy}=typeof Reflect<"u"&&Reflect;hr||(hr=function(e){return e});bi||(bi=function(e){return e});ly||(ly=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return e.apply(n,i)});uy||(uy=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new e(...r)});const Lf=fr(Array.prototype.forEach),$F=fr(Array.prototype.lastIndexOf),pb=fr(Array.prototype.pop),s0=fr(Array.prototype.push),qF=fr(Array.prototype.splice),pd=fr(String.prototype.toLowerCase),sg=fr(String.prototype.toString),ag=fr(String.prototype.match),a0=fr(String.prototype.replace),GF=fr(String.prototype.indexOf),KF=fr(String.prototype.trim),Ui=fr(Object.prototype.hasOwnProperty),er=fr(RegExp.prototype.test),o0=YF(TypeError);function fr(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return ly(t,e,r)}}function YF(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return uy(t,n)}}function Fe(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pd;mb&&mb(t,null);let r=e.length;for(;r--;){let i=e[r];if(typeof i=="string"){const s=n(i);s!==i&&(jF(e)||(e[r]=s),i=s)}t[i]=!0}return t}function XF(t){for(let e=0;e<t.length;e++)Ui(t,e)||(t[e]=null);return t}function Wi(t){const e=oy(null);for(const[n,r]of _A(t))Ui(t,n)&&(Array.isArray(r)?e[n]=XF(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Wi(r):e[n]=r);return e}function l0(t,e){for(;t!==null;){const r=HF(t,e);if(r){if(r.get)return fr(r.get);if(typeof r.value=="function")return fr(r.value)}t=FF(t)}function n(){return null}return n}const gb=hr(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),og=hr(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),lg=hr(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ZF=hr(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ug=hr(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),QF=hr(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),yb=hr(["#text"]),vb=hr(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),cg=hr(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),bb=hr(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Vf=hr(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),WF=bi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),JF=bi(/<%[\w\W]*|[\w\W]*%>/gm),eH=bi(/\$\{[\w\W]*/gm),tH=bi(/^data-[\-\w.\u00B7-\uFFFF]+$/),nH=bi(/^aria-[\-\w]+$/),TA=bi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),rH=bi(/^(?:\w+script|data):/i),iH=bi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),wA=bi(/^html$/i),sH=bi(/^[a-z][.\w]*(-[.\w]+)+$/i);var _b=Object.freeze({__proto__:null,ARIA_ATTR:nH,ATTR_WHITESPACE:iH,CUSTOM_ELEMENT:sH,DATA_ATTR:tH,DOCTYPE_NAME:wA,ERB_EXPR:JF,IS_ALLOWED_URI:TA,IS_SCRIPT_OR_DATA:rH,MUSTACHE_EXPR:WF,TMPLIT_EXPR:eH});const u0={element:1,text:3,progressingInstruction:7,comment:8,document:9},aH=function(){return typeof window>"u"?null:window},oH=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const s="dompurify"+(r?"#"+r:"");try{return e.createPolicy(s,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Tb=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function SA(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:aH();const e=ce=>SA(ce);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==u0.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,i=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:o,Element:u,NodeFilter:c,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:p,DOMParser:g,trustedTypes:v}=t,x=u.prototype,N=l0(x,"cloneNode"),P=l0(x,"remove"),C=l0(x,"nextSibling"),I=l0(x,"childNodes"),M=l0(x,"parentNode");if(typeof a=="function"){const ce=n.createElement("template");ce.content&&ce.content.ownerDocument&&(n=ce.content.ownerDocument)}let V,j="";const{implementation:G,createNodeIterator:S,createDocumentFragment:b,getElementsByTagName:_}=n,{importNode:A}=r;let R=Tb();e.isSupported=typeof _A=="function"&&typeof M=="function"&&G&&G.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:D,ERB_EXPR:w,TMPLIT_EXPR:ue,DATA_ATTR:Ie,ARIA_ATTR:te,IS_SCRIPT_OR_DATA:re,ATTR_WHITESPACE:se,CUSTOM_ELEMENT:xe}=_b;let{IS_ALLOWED_URI:Re}=_b,je=null;const Ne=Fe({},[...gb,...og,...lg,...ug,...yb]);let he=null;const dn=Fe({},[...vb,...cg,...bb,...Vf]);let Ce=Object.seal(oy(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Qr=null,Xt=null;const wn=Object.seal(oy(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let wi=!0,mn=!0,pr=!1,Wr=!0,Vn=!1,Un=!0,pn=!1,Jr=!1,Si=!1,Xn=!1,Zn=!1,ei=!1,ya=!0,Pl=!1;const _s="user-content-";let Ei=!0,Ai=!1,Ue={},Pe=null;const Or=Fe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let va=null;const ba=Fe({},["audio","video","img","source","image","track"]);let No=null;const gr=Fe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Yi="http://www.w3.org/1998/Math/MathML",Xi="http://www.w3.org/2000/svg",Sn="http://www.w3.org/1999/xhtml";let Zi=Sn,Mo=!1,xi=null;const Do=Fe({},[Yi,Xi,Sn],sg);let Ts=Fe({},["mi","mo","mn","ms","mtext"]),Bn=Fe({},["annotation-xml"]);const ws=Fe({},["title","style","font","a","script"]);let Pr=null;const jn=["application/xhtml+xml","text/html"],Oo="text/html";let lt=null,ti=null;const zr=n.createElement("form"),_a=function(H){return H instanceof RegExp||H instanceof Function},Ge=function(){let H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ti&&ti===H)){if((!H||typeof H!="object")&&(H={}),H=Wi(H),Pr=jn.indexOf(H.PARSER_MEDIA_TYPE)===-1?Oo:H.PARSER_MEDIA_TYPE,lt=Pr==="application/xhtml+xml"?sg:pd,je=Ui(H,"ALLOWED_TAGS")?Fe({},H.ALLOWED_TAGS,lt):Ne,he=Ui(H,"ALLOWED_ATTR")?Fe({},H.ALLOWED_ATTR,lt):dn,xi=Ui(H,"ALLOWED_NAMESPACES")?Fe({},H.ALLOWED_NAMESPACES,sg):Do,No=Ui(H,"ADD_URI_SAFE_ATTR")?Fe(Wi(gr),H.ADD_URI_SAFE_ATTR,lt):gr,va=Ui(H,"ADD_DATA_URI_TAGS")?Fe(Wi(ba),H.ADD_DATA_URI_TAGS,lt):ba,Pe=Ui(H,"FORBID_CONTENTS")?Fe({},H.FORBID_CONTENTS,lt):Or,Qr=Ui(H,"FORBID_TAGS")?Fe({},H.FORBID_TAGS,lt):Wi({}),Xt=Ui(H,"FORBID_ATTR")?Fe({},H.FORBID_ATTR,lt):Wi({}),Ue=Ui(H,"USE_PROFILES")?H.USE_PROFILES:!1,wi=H.ALLOW_ARIA_ATTR!==!1,mn=H.ALLOW_DATA_ATTR!==!1,pr=H.ALLOW_UNKNOWN_PROTOCOLS||!1,Wr=H.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Vn=H.SAFE_FOR_TEMPLATES||!1,Un=H.SAFE_FOR_XML!==!1,pn=H.WHOLE_DOCUMENT||!1,Xn=H.RETURN_DOM||!1,Zn=H.RETURN_DOM_FRAGMENT||!1,ei=H.RETURN_TRUSTED_TYPE||!1,Si=H.FORCE_BODY||!1,ya=H.SANITIZE_DOM!==!1,Pl=H.SANITIZE_NAMED_PROPS||!1,Ei=H.KEEP_CONTENT!==!1,Ai=H.IN_PLACE||!1,Re=H.ALLOWED_URI_REGEXP||TA,Zi=H.NAMESPACE||Sn,Ts=H.MATHML_TEXT_INTEGRATION_POINTS||Ts,Bn=H.HTML_INTEGRATION_POINTS||Bn,Ce=H.CUSTOM_ELEMENT_HANDLING||{},H.CUSTOM_ELEMENT_HANDLING&&_a(H.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ce.tagNameCheck=H.CUSTOM_ELEMENT_HANDLING.tagNameCheck),H.CUSTOM_ELEMENT_HANDLING&&_a(H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ce.attributeNameCheck=H.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),H.CUSTOM_ELEMENT_HANDLING&&typeof H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ce.allowCustomizedBuiltInElements=H.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Vn&&(mn=!1),Zn&&(Xn=!0),Ue&&(je=Fe({},yb),he=[],Ue.html===!0&&(Fe(je,gb),Fe(he,vb)),Ue.svg===!0&&(Fe(je,og),Fe(he,cg),Fe(he,Vf)),Ue.svgFilters===!0&&(Fe(je,lg),Fe(he,cg),Fe(he,Vf)),Ue.mathMl===!0&&(Fe(je,ug),Fe(he,bb),Fe(he,Vf))),H.ADD_TAGS&&(typeof H.ADD_TAGS=="function"?wn.tagCheck=H.ADD_TAGS:(je===Ne&&(je=Wi(je)),Fe(je,H.ADD_TAGS,lt))),H.ADD_ATTR&&(typeof H.ADD_ATTR=="function"?wn.attributeCheck=H.ADD_ATTR:(he===dn&&(he=Wi(he)),Fe(he,H.ADD_ATTR,lt))),H.ADD_URI_SAFE_ATTR&&Fe(No,H.ADD_URI_SAFE_ATTR,lt),H.FORBID_CONTENTS&&(Pe===Or&&(Pe=Wi(Pe)),Fe(Pe,H.FORBID_CONTENTS,lt)),H.ADD_FORBID_CONTENTS&&(Pe===Or&&(Pe=Wi(Pe)),Fe(Pe,H.ADD_FORBID_CONTENTS,lt)),Ei&&(je["#text"]=!0),pn&&Fe(je,["html","head","body"]),je.table&&(Fe(je,["tbody"]),delete Qr.tbody),H.TRUSTED_TYPES_POLICY){if(typeof H.TRUSTED_TYPES_POLICY.createHTML!="function")throw o0('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof H.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw o0('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');V=H.TRUSTED_TYPES_POLICY,j=V.createHTML("")}else V===void 0&&(V=oH(v,i)),V!==null&&typeof j=="string"&&(j=V.createHTML(""));hr&&hr(H),ti=H}},Ta=Fe({},[...og,...lg,...ZF]),yr=Fe({},[...ug,...QF]),Lr=function(H){let J=M(H);(!J||!J.tagName)&&(J={namespaceURI:Zi,tagName:"template"});const le=pd(H.tagName),ut=pd(J.tagName);return xi[H.namespaceURI]?H.namespaceURI===Xi?J.namespaceURI===Sn?le==="svg":J.namespaceURI===Yi?le==="svg"&&(ut==="annotation-xml"||Ts[ut]):!!Ta[le]:H.namespaceURI===Yi?J.namespaceURI===Sn?le==="math":J.namespaceURI===Xi?le==="math"&&Bn[ut]:!!yr[le]:H.namespaceURI===Sn?J.namespaceURI===Xi&&!Bn[ut]||J.namespaceURI===Yi&&!Ts[ut]?!1:!yr[le]&&(ws[le]||!Ta[le]):!!(Pr==="application/xhtml+xml"&&xi[H.namespaceURI]):!1},vr=function(H){s0(e.removed,{element:H});try{M(H).removeChild(H)}catch{P(H)}},Ri=function(H,J){try{s0(e.removed,{attribute:J.getAttributeNode(H),from:J})}catch{s0(e.removed,{attribute:null,from:J})}if(J.removeAttribute(H),H==="is")if(Xn||Zn)try{vr(J)}catch{}else try{J.setAttribute(H,"")}catch{}},Fn=function(H){let J=null,le=null;if(Si)H="<remove></remove>"+H;else{const pt=ag(H,/^[\r\n\t ]+/);le=pt&&pt[0]}Pr==="application/xhtml+xml"&&Zi===Sn&&(H='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+H+"</body></html>");const ut=V?V.createHTML(H):H;if(Zi===Sn)try{J=new g().parseFromString(ut,Pr)}catch{}if(!J||!J.documentElement){J=G.createDocument(Zi,"template",null);try{J.documentElement.innerHTML=Mo?j:ut}catch{}}const mt=J.body||J.documentElement;return H&&le&&mt.insertBefore(n.createTextNode(le),mt.childNodes[0]||null),Zi===Sn?_.call(J,pn?"html":"body")[0]:pn?J.documentElement:mt},zl=function(H){return S.call(H.ownerDocument||H,H,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Po=function(H){return H instanceof p&&(typeof H.nodeName!="string"||typeof H.textContent!="string"||typeof H.removeChild!="function"||!(H.attributes instanceof d)||typeof H.removeAttribute!="function"||typeof H.setAttribute!="function"||typeof H.namespaceURI!="string"||typeof H.insertBefore!="function"||typeof H.hasChildNodes!="function")},Ci=function(H){return typeof o=="function"&&H instanceof o};function br(ce,H,J){Lf(ce,le=>{le.call(e,H,J,ti)})}const Qi=function(H){let J=null;if(br(R.beforeSanitizeElements,H,null),Po(H))return vr(H),!0;const le=lt(H.nodeName);if(br(R.uponSanitizeElement,H,{tagName:le,allowedTags:je}),Un&&H.hasChildNodes()&&!Ci(H.firstElementChild)&&er(/<[/\w!]/g,H.innerHTML)&&er(/<[/\w!]/g,H.textContent)||H.nodeType===u0.progressingInstruction||Un&&H.nodeType===u0.comment&&er(/<[/\w]/g,H.data))return vr(H),!0;if(!(wn.tagCheck instanceof Function&&wn.tagCheck(le))&&(!je[le]||Qr[le])){if(!Qr[le]&&Zt(le)&&(Ce.tagNameCheck instanceof RegExp&&er(Ce.tagNameCheck,le)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(le)))return!1;if(Ei&&!Pe[le]){const ut=M(H)||H.parentNode,mt=I(H)||H.childNodes;if(mt&&ut){const pt=mt.length;for(let Nt=pt-1;Nt>=0;--Nt){const Bt=N(mt[Nt],!0);Bt.__removalCount=(H.__removalCount||0)+1,ut.insertBefore(Bt,C(H))}}}return vr(H),!0}return H instanceof u&&!Lr(H)||(le==="noscript"||le==="noembed"||le==="noframes")&&er(/<\/no(script|embed|frames)/i,H.innerHTML)?(vr(H),!0):(Vn&&H.nodeType===u0.text&&(J=H.textContent,Lf([D,w,ue],ut=>{J=a0(J,ut," ")}),H.textContent!==J&&(s0(e.removed,{element:H.cloneNode()}),H.textContent=J)),br(R.afterSanitizeElements,H,null),!1)},ni=function(H,J,le){if(ya&&(J==="id"||J==="name")&&(le in n||le in zr))return!1;if(!(mn&&!Xt[J]&&er(Ie,J))){if(!(wi&&er(te,J))){if(!(wn.attributeCheck instanceof Function&&wn.attributeCheck(J,H))){if(!he[J]||Xt[J]){if(!(Zt(H)&&(Ce.tagNameCheck instanceof RegExp&&er(Ce.tagNameCheck,H)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(H))&&(Ce.attributeNameCheck instanceof RegExp&&er(Ce.attributeNameCheck,J)||Ce.attributeNameCheck instanceof Function&&Ce.attributeNameCheck(J,H))||J==="is"&&Ce.allowCustomizedBuiltInElements&&(Ce.tagNameCheck instanceof RegExp&&er(Ce.tagNameCheck,le)||Ce.tagNameCheck instanceof Function&&Ce.tagNameCheck(le))))return!1}else if(!No[J]){if(!er(Re,a0(le,se,""))){if(!((J==="src"||J==="xlink:href"||J==="href")&&H!=="script"&&GF(le,"data:")===0&&va[H])){if(!(pr&&!er(re,a0(le,se,"")))){if(le)return!1}}}}}}}return!0},Zt=function(H){return H!=="annotation-xml"&&ag(H,xe)},wa=function(H){br(R.beforeSanitizeAttributes,H,null);const{attributes:J}=H;if(!J||Po(H))return;const le={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:he,forceKeepAttr:void 0};let ut=J.length;for(;ut--;){const mt=J[ut],{name:pt,namespaceURI:Nt,value:Bt}=mt,Mt=lt(pt),ki=Bt;let jt=pt==="value"?ki:KF(ki);if(le.attrName=Mt,le.attrValue=jt,le.keepAttr=!0,le.forceKeepAttr=void 0,br(R.uponSanitizeAttribute,H,le),jt=le.attrValue,Pl&&(Mt==="id"||Mt==="name")&&(Ri(pt,H),jt=_s+jt),Un&&er(/((--!?|])>)|<\/(style|title|textarea)/i,jt)){Ri(pt,H);continue}if(Mt==="attributename"&&ag(jt,"href")){Ri(pt,H);continue}if(le.forceKeepAttr)continue;if(!le.keepAttr){Ri(pt,H);continue}if(!Wr&&er(/\/>/i,jt)){Ri(pt,H);continue}Vn&&Lf([D,w,ue],Ea=>{jt=a0(jt,Ea," ")});const Sa=lt(H.nodeName);if(!ni(Sa,Mt,jt)){Ri(pt,H);continue}if(V&&typeof v=="object"&&typeof v.getAttributeType=="function"&&!Nt)switch(v.getAttributeType(Sa,Mt)){case"TrustedHTML":{jt=V.createHTML(jt);break}case"TrustedScriptURL":{jt=V.createScriptURL(jt);break}}if(jt!==ki)try{Nt?H.setAttributeNS(Nt,pt,jt):H.setAttribute(pt,jt),Po(H)?vr(H):pb(e.removed)}catch{Ri(pt,H)}}br(R.afterSanitizeAttributes,H,null)},zo=function ce(H){let J=null;const le=zl(H);for(br(R.beforeSanitizeShadowDOM,H,null);J=le.nextNode();)br(R.uponSanitizeShadowNode,J,null),Qi(J),wa(J),J.content instanceof s&&ce(J.content);br(R.afterSanitizeShadowDOM,H,null)};return e.sanitize=function(ce){let H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=null,le=null,ut=null,mt=null;if(Mo=!ce,Mo&&(ce="<!-->"),typeof ce!="string"&&!Ci(ce))if(typeof ce.toString=="function"){if(ce=ce.toString(),typeof ce!="string")throw o0("dirty is not a string, aborting")}else throw o0("toString is not a function");if(!e.isSupported)return ce;if(Jr||Ge(H),e.removed=[],typeof ce=="string"&&(Ai=!1),Ai){if(ce.nodeName){const Bt=lt(ce.nodeName);if(!je[Bt]||Qr[Bt])throw o0("root node is forbidden and cannot be sanitized in-place")}}else if(ce instanceof o)J=Fn("<!---->"),le=J.ownerDocument.importNode(ce,!0),le.nodeType===u0.element&&le.nodeName==="BODY"||le.nodeName==="HTML"?J=le:J.appendChild(le);else{if(!Xn&&!Vn&&!pn&&ce.indexOf("<")===-1)return V&&ei?V.createHTML(ce):ce;if(J=Fn(ce),!J)return Xn?null:ei?j:""}J&&Si&&vr(J.firstChild);const pt=zl(Ai?ce:J);for(;ut=pt.nextNode();)Qi(ut),wa(ut),ut.content instanceof s&&zo(ut.content);if(Ai)return ce;if(Xn){if(Zn)for(mt=b.call(J.ownerDocument);J.firstChild;)mt.appendChild(J.firstChild);else mt=J;return(he.shadowroot||he.shadowrootmode)&&(mt=A.call(r,mt,!0)),mt}let Nt=pn?J.outerHTML:J.innerHTML;return pn&&je["!doctype"]&&J.ownerDocument&&J.ownerDocument.doctype&&J.ownerDocument.doctype.name&&er(wA,J.ownerDocument.doctype.name)&&(Nt="<!DOCTYPE "+J.ownerDocument.doctype.name+`>
`+Nt),Vn&&Lf([D,w,ue],Bt=>{Nt=a0(Nt,Bt," ")}),V&&ei?V.createHTML(Nt):Nt},e.setConfig=function(){let ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ge(ce),Jr=!0},e.clearConfig=function(){ti=null,Jr=!1},e.isValidAttribute=function(ce,H,J){ti||Ge({});const le=lt(ce),ut=lt(H);return ni(le,ut,J)},e.addHook=function(ce,H){typeof H=="function"&&s0(R[ce],H)},e.removeHook=function(ce,H){if(H!==void 0){const J=$F(R[ce],H);return J===-1?void 0:qF(R[ce],J,1)[0]}return pb(R[ce])},e.removeHooks=function(ce){R[ce]=[]},e.removeAllHooks=function(){R=Tb()},e}SA();const Fa=_i("Storage"),cy="magic-internet-math-progress",hg=2;function EA(){try{const t="__storage_test__";return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}function lH(t){if(t===null||typeof t!="object")return!1;const e=t;if(typeof e.version!="number"||typeof e.user!="object"||e.user===null||typeof e.sections!="object"||e.sections===null||typeof e.streak!="object"||e.streak===null)return!1;const n=e.user;if(typeof n.totalXP!="number"||typeof n.level!="number"||!Array.isArray(n.sectionsCompleted)||!Array.isArray(n.chaptersCompleted))return!1;const r=e.streak;return!(typeof r.currentStreak!="number"||typeof r.longestStreak!="number")}function _m(){if(!EA())return Fa.warn("localStorage is not available"),null;try{const t=localStorage.getItem(cy);if(!t)return null;const e=JSON.parse(t);return lH(e)?(e.version!==hg&&(Fa.info(`Migrating state from v${e.version} to v${hg}`),e.version=hg),e):(Fa.warn("Invalid gamification state structure in localStorage"),null)}catch(t){Fa.error("Failed to load gamification state:",t);try{localStorage.removeItem(cy),Fa.info("Cleared corrupted gamification state from localStorage")}catch{}return null}}function $2(t){if(!EA()){Fa.warn("localStorage is not available, state not saved");return}try{localStorage.setItem(cy,JSON.stringify(t))}catch(e){Fa.error("Failed to save gamification state:",e)}}function uH(){const t=_m();t&&(t.migratedToServer=!0,$2(t),Fa.info("Marked progress as migrated to server"))}function cH(){const t=_m();if(!t)return!1;const e=t.user.totalXP>0||Object.keys(t.sections).length>0,n=!t.migratedToServer;return e&&n}function AA(){const t=new Date().toISOString(),e=t.split("T")[0];return{version:2,user:{totalXP:0,level:1,sectionsCompleted:[],partsCompleted:[],quizzesTaken:0,perfectQuizzes:0,visualizationsUsed:0,totalTimeSpentMinutes:0,joinedAt:t},sections:{},achievements:hH(),streak:{currentStreak:0,longestStreak:0,lastActivityDate:null,freezesRemaining:2,freezeUsedToday:!1},dailyGoals:{date:e,xpEarned:0,xpGoal:IE,completed:!1},lastUpdated:t}}function hH(){return[{id:"first-section",unlockedAt:null,progress:0,target:1},{id:"ten-sections",unlockedAt:null,progress:0,target:10},{id:"half-course",unlockedAt:null,progress:0,target:50},{id:"course-complete",unlockedAt:null,progress:0,target:100},{id:"first-mastery",unlockedAt:null,progress:0,target:1},{id:"quiz-master",unlockedAt:null,progress:0,target:10},{id:"perfectionist",unlockedAt:null,progress:0,target:5},{id:"week-streak",unlockedAt:null,progress:0,target:7},{id:"month-streak",unlockedAt:null,progress:0,target:30},{id:"level-5",unlockedAt:null,progress:0,target:5},{id:"level-10",unlockedAt:null,progress:0,target:10},{id:"first-visualization",unlockedAt:null,progress:0,target:1},{id:"explorer",unlockedAt:null,progress:0,target:10},{id:"racing-rookie",unlockedAt:null,progress:0,target:1},{id:"speed-demon",unlockedAt:null,progress:0,target:50},{id:"streak-legend",unlockedAt:null,progress:0,target:20},{id:"tier-climber",unlockedAt:null,progress:0,target:6},{id:"modular-master",unlockedAt:null,progress:0,target:1e4},{id:"multiplayer-champion",unlockedAt:null,progress:0,target:5}]}const fH=50;function wb(t){return Math.round(t/fH*100)}const dH=[{id:"first-section",title:"First Steps",description:"Complete your first section",category:"progress",xpReward:25,check:t=>t.user.sectionsCompleted.length,target:1},{id:"ten-sections",title:"Getting Started",description:"Complete 10 sections",category:"progress",xpReward:50,check:t=>t.user.sectionsCompleted.length,target:10},{id:"half-course",title:"Halfway There",description:"Complete 50% of the course",category:"progress",xpReward:100,check:t=>wb(t.user.sectionsCompleted.length),target:50},{id:"course-complete",title:"Course Complete",description:"Complete 100% of the course",category:"progress",xpReward:200,check:t=>wb(t.user.sectionsCompleted.length),target:100},{id:"first-mastery",title:"Master of One",description:"Master your first section",category:"mastery",xpReward:30,check:t=>Object.values(t.sections).filter(e=>e.masteryLevel==="mastered").length,target:1},{id:"quiz-master",title:"Quiz Master",description:"Complete 10 quizzes",category:"mastery",xpReward:50,check:t=>t.user.quizzesTaken,target:10},{id:"perfectionist",title:"Perfectionist",description:"Get 5 perfect quiz scores",category:"mastery",xpReward:75,check:t=>t.user.perfectQuizzes,target:5},{id:"week-streak",title:"Week Warrior",description:"Maintain a 7-day streak",category:"dedication",xpReward:50,check:t=>t.streak.longestStreak,target:7},{id:"month-streak",title:"Monthly Master",description:"Maintain a 30-day streak",category:"dedication",xpReward:150,check:t=>t.streak.longestStreak,target:30},{id:"level-5",title:"Level Up",description:"Reach level 5",category:"dedication",xpReward:50,check:t=>t.user.level,target:5},{id:"level-10",title:"Expert",description:"Reach level 10",category:"dedication",xpReward:100,check:t=>t.user.level,target:10},{id:"first-visualization",title:"Visual Learner",description:"Use your first interactive visualization",category:"exploration",xpReward:15,check:t=>t.user.visualizationsUsed,target:1},{id:"explorer",title:"Explorer",description:"Use 10 different visualizations",category:"exploration",xpReward:50,check:t=>t.user.visualizationsUsed,target:10}];function mH(t){const e=[];for(const n of dH){const r=t.achievements.find(s=>s.id===n.id);if(r!=null&&r.unlockedAt)continue;n.check(t)>=n.target&&e.push({id:n.id,title:n.title,description:n.description,category:n.category,xpReward:n.xpReward,timestamp:Date.now()})}return e}function Qh(t){for(let e=dm.length-1;e>=0;e--)if(t>=dm[e])return e+1;return 1}function pH(t,e){const n={easy:Yn.QUIZ_EASY,medium:Yn.QUIZ_MEDIUM,hard:Yn.QUIZ_HARD}[t];return Math.round(n*(e/100))}const gH=1e3*60*60*24;function yH(t){const e=new Date,n=e.toISOString().split("T")[0],r=t.streak.lastActivityDate;if(t.dailyGoals.date!==n&&(t={...t,dailyGoals:{date:n,xpEarned:0,xpGoal:IE,completed:!1},streak:{...t.streak,freezeUsedToday:!1}}),!r)return{...t,streak:{...t.streak,currentStreak:1,longestStreak:Math.max(1,t.streak.longestStreak),lastActivityDate:n}};const i=new Date(r),s=Math.floor((e.getTime()-i.getTime())/gH);if(s===0)return t;if(s===1){const a=t.streak.currentStreak+1;return{...t,streak:{...t.streak,currentStreak:a,longestStreak:Math.max(a,t.streak.longestStreak),lastActivityDate:n}}}return s===2&&t.streak.freezesRemaining>0&&!t.streak.freezeUsedToday?{...t,streak:{...t.streak,freezesRemaining:t.streak.freezesRemaining-1,freezeUsedToday:!0,lastActivityDate:n}}:{...t,streak:{...t.streak,currentStreak:1,lastActivityDate:n}}}function xA(t){const{quizAttempts:e}=t;if(e.length===0)return"learning";const n=Math.max(...e.map(s=>s.score)),r=e.reduce((s,a)=>s+a.score,0)/e.length;return e.filter(s=>s.score===100).length>=1||r>=90&&e.length>=3?"mastered":n>=80||r>=70&&e.length>=2?"familiar":"learning"}const q2=_i("GamificationReducer");function vH(t,e,n){const r=t.sections[e];if(r!=null&&r.visitedAt)return t;const i=t.user.totalXP+Yn.SECTION_VISIT;return{...t,user:{...t.user,totalXP:i,level:Qh(i)},sections:{...t.sections,[e]:{sectionId:e,visitedAt:n,completedAt:(r==null?void 0:r.completedAt)??null,timeSpentSeconds:(r==null?void 0:r.timeSpentSeconds)??0,quizAttempts:(r==null?void 0:r.quizAttempts)??[],masteryLevel:(r==null?void 0:r.masteryLevel)??"learning",visualizationsInteracted:(r==null?void 0:r.visualizationsInteracted)??[]}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+Yn.SECTION_VISIT},lastUpdated:n}}function bH(t,e,n){const r=t.sections[e];if(r!=null&&r.completedAt)return t;if(!r)return q2.warn(`Attempted to complete unvisited section: ${e}`),t;const i=t.user.totalXP+Yn.SECTION_COMPLETE,s=[...t.user.sectionsCompleted,e];return{...t,user:{...t.user,totalXP:i,level:Qh(i),sectionsCompleted:s},sections:{...t.sections,[e]:{...r,completedAt:n,masteryLevel:xA(r)}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+Yn.SECTION_COMPLETE},lastUpdated:n}}function _H(t,e,n){const{sectionId:r,difficulty:i,score:s,correctAnswers:a,totalQuestions:o}=e,u=t.sections[r];if(!u)return q2.warn(`Section ${r} was not visited before quiz`),t;const c=pH(i,s),d=a===o,p=d?Math.round(c*(1+Yn.QUIZ_PERFECT_BONUS)):c,g=t.user.totalXP+p,v={timestamp:n,difficulty:i,score:s,correctAnswers:a,totalQuestions:o,xpEarned:p},x=[...u.quizAttempts,v],N={...u,quizAttempts:x},P=xA(N),C=s>=80&&!u.completedAt,I=C&&!t.user.sectionsCompleted.includes(r),M=I?Yn.SECTION_COMPLETE:0;return{...t,user:{...t.user,totalXP:g+M,level:Qh(g+M),quizzesTaken:t.user.quizzesTaken+1,perfectQuizzes:d?t.user.perfectQuizzes+1:t.user.perfectQuizzes,sectionsCompleted:I?[...t.user.sectionsCompleted,r]:t.user.sectionsCompleted},sections:{...t.sections,[r]:{...N,masteryLevel:P,completedAt:C?u.completedAt||n:u.completedAt}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+p+M},lastUpdated:n}}function TH(t,e,n,r){const i=t.sections[e];if(i!=null&&i.visualizationsInteracted.includes(n))return t;if(!i)return q2.warn(`Section ${e} was not visited before visualization`),t;const s=t.user.totalXP+Yn.VISUALIZATION_USE,a=[...i.visualizationsInteracted,n];return{...t,user:{...t.user,totalXP:s,level:Qh(s),visualizationsUsed:t.user.visualizationsUsed+1},sections:{...t.sections,[e]:{...i,visualizationsInteracted:a}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+Yn.VISUALIZATION_USE},lastUpdated:r}}function wH(t,e,n){let r=rr.GAME_PARTICIPATION;const i=rr.TIER_MULTIPLIER[e.tier],s=Math.floor(Math.max(0,e.score)/rr.POINTS_PER_XP_UNIT*Yn.QUIZ_MEDIUM*i);if(r+=s,e.correctAnswers===e.totalQuestions&&e.totalQuestions>=10&&(r+=rr.PERFECT_GAME_BONUS),e.fastAnswers>=10&&(r+=rr.SPEED_DEMON_BONUS),e.maxStreak>=10&&(r+=rr.STREAK_MASTER_BONUS),e.isMultiplayer&&e.placement)switch(e.placement){case 1:r+=rr.FIRST_PLACE_BONUS;break;case 2:r+=rr.SECOND_PLACE_BONUS;break;case 3:r+=rr.THIRD_PLACE_BONUS;break}const a=t.user.totalXP+r,o=t.racingStats,u=e.score>((o==null?void 0:o.highScore)??0),c=e.isMultiplayer&&e.placement===1,d={gamesPlayed:((o==null?void 0:o.gamesPlayed)??0)+1,multiplayerGamesPlayed:((o==null?void 0:o.multiplayerGamesPlayed)??0)+(e.isMultiplayer?1:0),totalPoints:((o==null?void 0:o.totalPoints)??0)+Math.max(0,e.score),highScore:u?e.score:(o==null?void 0:o.highScore)??0,highestTierUnlocked:Math.max((o==null?void 0:o.highestTierUnlocked)??1,e.tier),longestStreak:Math.max((o==null?void 0:o.longestStreak)??0,e.maxStreak),fastAnswers:((o==null?void 0:o.fastAnswers)??0)+e.fastAnswers,totalCorrect:((o==null?void 0:o.totalCorrect)??0)+e.correctAnswers,totalAttempted:((o==null?void 0:o.totalAttempted)??0)+e.totalQuestions,multiplayerWins:((o==null?void 0:o.multiplayerWins)??0)+(c?1:0),lastPlayedAt:n},p=t.achievements.map(g=>{if(g.unlockedAt)return g;switch(g.id){case"racing-rookie":if(d.gamesPlayed>=1)return{...g,progress:1,unlockedAt:n};break;case"speed-demon":return d.fastAnswers>=50?{...g,progress:50,unlockedAt:n}:{...g,progress:Math.min(d.fastAnswers,50)};case"streak-legend":return d.longestStreak>=20?{...g,progress:20,unlockedAt:n}:{...g,progress:Math.min(d.longestStreak,20)};case"tier-climber":return d.highestTierUnlocked>=6?{...g,progress:6,unlockedAt:n}:{...g,progress:d.highestTierUnlocked};case"modular-master":return d.totalPoints>=1e4?{...g,progress:1e4,unlockedAt:n}:{...g,progress:Math.min(d.totalPoints,1e4)};case"multiplayer-champion":return d.multiplayerWins>=5?{...g,progress:5,unlockedAt:n}:{...g,progress:Math.min(d.multiplayerWins,5)}}return g});return{...t,user:{...t.user,totalXP:a,level:Qh(a)},racingStats:d,achievements:p,dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+r},lastUpdated:n}}function SH(t,e){const n=new Date().toISOString();switch(e.type){case"LOAD_STATE":return e.payload;case"LOAD_FROM_SERVER":return{...e.payload,migratedToServer:!0};case"MERGE_WITH_SERVER":return{...e.payload,migratedToServer:!0};case"MARK_MIGRATED":return{...t,migratedToServer:!0,lastUpdated:n};case"VISIT_SECTION":return vH(t,e.payload.sectionId,n);case"COMPLETE_SECTION":return bH(t,e.payload.sectionId,n);case"RECORD_QUIZ":return _H(t,e.payload,n);case"USE_VISUALIZATION":return TH(t,e.payload.sectionId,e.payload.name,n);case"UPDATE_STREAK":return yH(t);case"RESET_PROGRESS":return AA();case"RECORD_RACE_GAME":return wH(t,e.payload,n);default:return t}}const EH=["none","learning","familiar","mastered"];function Sb(t){return EH.indexOf(t)}function AH(t,e){return Sb(t)>=Sb(e)?t:e}function hy(t,e){return t?e?new Date(t)<new Date(e)?t:e:t:e}function xH(t,e){const n=new Set,r=[];for(const i of[...t,...e]){const s=`${i.timestamp}-${i.difficulty}-${i.score}`;n.has(s)||(n.add(s),r.push(i))}return r.sort((i,s)=>new Date(i.timestamp).getTime()-new Date(s.timestamp).getTime())}function RH(t,e){return t?e?{sectionId:t.sectionId,visitedAt:hy(t.visitedAt,e.visitedAt),completedAt:hy(t.completedAt,e.completedAt),timeSpentSeconds:Math.max(t.timeSpentSeconds,e.timeSpentSeconds),quizAttempts:xH(t.quizAttempts,e.quizAttempts),masteryLevel:AH(t.masteryLevel,e.masteryLevel),visualizationsInteracted:[...new Set([...t.visualizationsInteracted,...e.visualizationsInteracted])]}:t:e}function CH(t,e){const n=new Set([...Object.keys(t),...Object.keys(e)]),r={};for(const i of n){const s=RH(t[i],e[i]);s&&(r[i]=s)}return r}function kH(t,e){return{totalXP:Math.max(t.totalXP,e.totalXP),level:Math.max(t.level,e.level),sectionsCompleted:[...new Set([...t.sectionsCompleted,...e.sectionsCompleted])],partsCompleted:[...new Set([...t.partsCompleted,...e.partsCompleted])],quizzesTaken:Math.max(t.quizzesTaken,e.quizzesTaken),perfectQuizzes:Math.max(t.perfectQuizzes,e.perfectQuizzes),visualizationsUsed:Math.max(t.visualizationsUsed,e.visualizationsUsed),totalTimeSpentMinutes:Math.max(t.totalTimeSpentMinutes,e.totalTimeSpentMinutes),joinedAt:hy(t.joinedAt,e.joinedAt)||t.joinedAt}}function IH(t,e){const n=new Map;for(const r of[...e,...t]){const i=n.get(r.id);i?(r.unlockedAt&&!i.unlockedAt||!r.unlockedAt&&!i.unlockedAt&&r.progress>i.progress)&&n.set(r.id,r):n.set(r.id,r)}return Array.from(n.values())}function NH(t,e){return{...t.longestStreak>=e.longestStreak?t:e,longestStreak:Math.max(t.longestStreak,e.longestStreak),freezesRemaining:Math.max(t.freezesRemaining,e.freezesRemaining)}}function MH(t,e){return t.date>e.date?t:e.date>t.date?e:{date:t.date,xpEarned:Math.max(t.xpEarned,e.xpEarned),xpGoal:t.xpGoal,completed:t.completed||e.completed}}function DH(t,e){return{version:Math.max(t.version,e.version),user:kH(t.user,e.user),sections:CH(t.sections,e.sections),achievements:IH(t.achievements,e.achievements),streak:NH(t.streak,e.streak),dailyGoals:MH(t.dailyGoals,e.dailyGoals),lastUpdated:new Date().toISOString()}}const Vs=_i("ProgressSync");class OH{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.lastSyncedAt=null,this.isAuthenticated=!1,this.pendingState=null,this._status="idle",this.statusListeners=new Set,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)}}get status(){return this._status}onStatusChange(e){return this.statusListeners.add(e),()=>this.statusListeners.delete(e)}setStatus(e){this._status=e;for(const n of this.statusListeners)n(e)}setAuthenticated(e){this.isAuthenticated=e,e||(this.lastSyncedAt=null)}getLastSyncedAt(){return this.lastSyncedAt}setLastSyncedAt(e){this.lastSyncedAt=e}async fetchServerProgress(){if(!this.isAuthenticated)return{found:!1,progress:null,lastSyncedAt:null};if(!sr())return Vs.warn("Firebase not configured, cannot fetch progress"),{found:!1,progress:null,lastSyncedAt:null};try{const e=Fi(),r=await dh(e,"getProgress")({});return r.data.found&&r.data.progress&&(this.lastSyncedAt=r.data.lastSyncedAt,Vs.info("Fetched progress from server")),r.data}catch(e){return Vs.error("Failed to fetch progress from server:",e),{found:!1,progress:null,lastSyncedAt:null}}}async migrateLocalProgress(e){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};Vs.info("Starting migration of local progress to server");const n=await this.fetchServerProgress();let r;n.found&&n.progress?(Vs.info("Server has existing progress, merging with local"),r=DH(e,n.progress)):r=e;const i=await this.syncNow(r);return i.success?(Vs.info("Migration complete"),{success:!0,state:i.state||r,merged:n.found}):i}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)},YS),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(e){this.isAuthenticated&&(this.pendingState=e,this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow(e)},XS))}async syncNow(e){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!sr())return{success:!1,error:"Firebase not configured"};const n=Date.now();if(n-this.lastSyncTime<KS)return{success:!1,error:"Rate limited"};this.setStatus("syncing");try{const r=Fi(),s=await dh(r,"syncProgress")({progress:e,lastSyncedAt:this.lastSyncedAt});return this.lastSyncTime=n,this.lastSyncedAt=s.data.lastSyncedAt,this.pendingState=null,s.data.merged&&s.data.serverProgress?(Vs.info("Server merged states due to conflict"),$2(s.data.serverProgress),this.setStatus("success"),{success:!0,state:s.data.serverProgress,merged:!0}):(this.setStatus("success"),{success:!0,state:e,merged:!1})}catch(r){return Vs.error("Sync failed:",r),this.setStatus("error"),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async syncWithRetry(e,n=3){for(let r=0;r<n;r++){const i=await this.syncNow(e);if(i.success||i.error==="Not authenticated"||i.error==="Firebase not configured")return i;if(r<n-1){const s=1e3*Math.pow(2,r);Vs.debug(`Sync retry ${r+1}/${n} in ${s}ms`),await new Promise(a=>setTimeout(a,s)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}}let fg=null;function Eb(){return fg||(fg=new OH),fg}const Ia=_i("GamificationProgress"),PH=500,zH=()=>{var t,e;return!!((e=(t=window.webkit)==null?void 0:t.messageHandlers)!=null&&e.progressHandler)},Uf=(t,e)=>{const n=zH();console.log(`[iOS Bridge] postToiOS called: type=${t}, inWebView=${n}`,e),n&&(console.log("[iOS Bridge] Sending message to iOS..."),window.webkit.messageHandlers.progressHandler.postMessage({type:t,...e}),console.log("[iOS Bridge] Message sent successfully"))},RA=q.createContext(null);function LH({children:t,courseId:e}){const[n,r]=q.useReducer(SH,AA()),[i,s]=q.useState(!0),[a,o]=q.useState([]),[u,c]=q.useState("idle"),d=q.useRef(null),p=q.useRef(!1),g=q.useRef(!1),{isAuthenticated:v,npub:x}=ME(),N=q.useCallback(b=>`${e}:${b}`,[e]);q.useEffect(()=>{const b=_m();b&&r({type:"LOAD_STATE",payload:b}),v||s(!1)},[]),q.useEffect(()=>{const b=Eb(),_=b.onStatusChange(c),A=g.current;return g.current=v,v&&!A?(Ia.info("User authenticated, fetching progress from server"),b.setAuthenticated(!0),(async()=>{s(!0);try{const D=cH(),w=_m();if(D&&w){Ia.info("Migrating local progress to server");const ue=await b.migrateLocalProgress(w);ue.success&&ue.state?(r({type:"MERGE_WITH_SERVER",payload:ue.state}),uH(),Ia.info("Migration complete")):Ia.warn("Migration failed, using local state")}else{const ue=await b.fetchServerProgress();ue.found&&ue.progress?(Ia.info("Loaded progress from server"),r({type:"LOAD_FROM_SERVER",payload:ue.progress}),b.setLastSyncedAt(ue.lastSyncedAt)):Ia.info("No server progress found, using local state")}}catch(D){Ia.error("Failed to sync with server:",D)}finally{s(!1),p.current=!0}})(),b.startPeriodicSync()):!v&&A?(Ia.info("User logged out"),b.setAuthenticated(!1),b.stopPeriodicSync(),p.current=!1):v||s(!1),()=>{_()}},[v,x]),q.useEffect(()=>{i||($2(n),v&&p.current&&Eb().requestSync(n))},[n,i,v]),q.useEffect(()=>{i||r({type:"UPDATE_STREAK"})},[i]),q.useEffect(()=>{if(!i)return d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{const b=mH(n);b.length>0&&o(_=>[..._,...b])},PH),()=>{d.current&&clearTimeout(d.current)}},[n,i]);const P=q.useCallback(b=>{r({type:"VISIT_SECTION",payload:{sectionId:N(b)}})},[N]),C=q.useCallback(b=>{r({type:"COMPLETE_SECTION",payload:{sectionId:N(b)}}),Uf("sectionCompleted",{sectionId:N(b),courseId:e})},[N,e]),I=q.useCallback((b,_,A,R,D)=>{const w=N(b);r({type:"RECORD_QUIZ",payload:{sectionId:w,difficulty:_,score:A,correctAnswers:R,totalQuestions:D}}),Uf("quizCompleted",{sectionId:w,courseId:e,score:A,correctAnswers:R,totalQuestions:D}),A>=80&&Uf("sectionCompleted",{sectionId:w,courseId:e})},[N,e]),M=q.useCallback((b,_)=>{r({type:"USE_VISUALIZATION",payload:{sectionId:N(b),name:_}})},[N]),V=q.useCallback(b=>{o(_=>_.filter(A=>A.id!==b))},[]),j=q.useCallback(()=>{r({type:"RESET_PROGRESS"})},[]),G=q.useCallback(b=>{r({type:"RECORD_RACE_GAME",payload:b}),Uf("raceGameCompleted",{courseId:e,score:b.score,tier:b.tier,correctAnswers:b.correctAnswers,totalQuestions:b.totalQuestions,isMultiplayer:b.isMultiplayer})},[e]),S=q.useMemo(()=>({state:n,isLoading:i,notifications:a,syncStatus:u,visitSection:P,completeSection:C,recordQuiz:I,useVisualization:M,dismissNotification:V,resetProgress:j,recordRaceGame:G,dispatch:r}),[n,i,a,u,P,C,I,M,V,j,G,r]);return O.jsx(RA.Provider,{value:S,children:t})}function CA(){const t=q.useContext(RA);if(!t)throw new Error("useGamification must be used within a GamificationProvider");return t}function VH({children:t}){return O.jsx(LH,{courseId:LN,children:t})}const G2=q.createContext({});function K2(t){const e=q.useRef(null);return e.current===null&&(e.current=t()),e.current}const Y2=typeof window<"u",kA=Y2?q.useLayoutEffect:q.useEffect,pp=q.createContext(null);function X2(t,e){t.indexOf(e)===-1&&t.push(e)}function Z2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ha=(t,e,n)=>n>e?e:n<t?t:n;let Q2=()=>{};const fa={},IA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function NA(t){return typeof t=="object"&&t!==null}const MA=t=>/^0[^.\s]+$/u.test(t);function W2(t){let e;return()=>(e===void 0&&(e=t()),e)}const gi=t=>t,UH=(t,e)=>n=>e(t(n)),Wh=(...t)=>t.reduce(UH),yh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class J2{constructor(){this.subscriptions=[]}add(e){return X2(this.subscriptions,e),()=>Z2(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const us=t=>t*1e3,di=t=>t/1e3;function DA(t,e){return e?t*(1e3/e):0}const OA=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,BH=1e-7,jH=12;function FH(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=OA(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>BH&&++o<jH);return a}function Jh(t,e,n,r){if(t===e&&n===r)return gi;const i=s=>FH(s,0,1,t,n);return s=>s===0||s===1?s:OA(i(s),e,r)}const PA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,zA=t=>e=>1-t(1-e),LA=Jh(.33,1.53,.69,.99),e5=zA(LA),VA=PA(e5),UA=t=>(t*=2)<1?.5*e5(t):.5*(2-Math.pow(2,-10*(t-1))),t5=t=>1-Math.sin(Math.acos(t)),BA=zA(t5),jA=PA(t5),HH=Jh(.42,0,1,1),$H=Jh(0,0,.58,1),FA=Jh(.42,0,.58,1),qH=t=>Array.isArray(t)&&typeof t[0]!="number",HA=t=>Array.isArray(t)&&typeof t[0]=="number",GH={linear:gi,easeIn:HH,easeInOut:FA,easeOut:$H,circIn:t5,circInOut:jA,circOut:BA,backIn:e5,backInOut:VA,backOut:LA,anticipate:UA},KH=t=>typeof t=="string",Ab=t=>{if(HA(t)){Q2(t.length===4);const[e,n,r,i]=t;return Jh(e,n,r,i)}else if(KH(t))return GH[t];return t},Bf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function YH(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function u(d){a.has(d)&&(c.schedule(d),t()),d(o)}const c={schedule:(d,p=!1,g=!1)=>{const x=g&&i?n:r;return p&&a.add(d),x.has(d)||x.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(o=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),n.clear(),i=!1,s&&(s=!1,c.process(d))}};return c}const XH=40;function $A(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Bf.reduce((M,V)=>(M[V]=YH(s),M),{}),{setup:o,read:u,resolveKeyframes:c,preUpdate:d,update:p,preRender:g,render:v,postRender:x}=a,N=()=>{const M=fa.useManualTiming?i.timestamp:performance.now();n=!1,fa.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(M-i.timestamp,XH),1)),i.timestamp=M,i.isProcessing=!0,o.process(i),u.process(i),c.process(i),d.process(i),p.process(i),g.process(i),v.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(N))},P=()=>{n=!0,r=!0,i.isProcessing||t(N)};return{schedule:Bf.reduce((M,V)=>{const j=a[V];return M[V]=(G,S=!1,b=!1)=>(n||P(),j.schedule(G,S,b)),M},{}),cancel:M=>{for(let V=0;V<Bf.length;V++)a[Bf[V]].cancel(M)},state:i,steps:a}}const{schedule:St,cancel:_o,state:Rn,steps:dg}=$A(typeof requestAnimationFrame<"u"?requestAnimationFrame:gi,!0);let gd;function ZH(){gd=void 0}const Cr={now:()=>(gd===void 0&&Cr.set(Rn.isProcessing||fa.useManualTiming?Rn.timestamp:performance.now()),gd),set:t=>{gd=t,queueMicrotask(ZH)}},qA=t=>e=>typeof e=="string"&&e.startsWith(t),GA=qA("--"),QH=qA("var(--"),n5=t=>QH(t)?WH.test(t.split("/*")[0].trim()):!1,WH=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},vh={...dc,transform:t=>ha(0,1,t)},jf={...dc,default:1},F0=t=>Math.round(t*1e5)/1e5,r5=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function JH(t){return t==null}const e$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,i5=(t,e)=>n=>!!(typeof n=="string"&&e$.test(n)&&n.startsWith(t)||e&&!JH(n)&&Object.prototype.hasOwnProperty.call(n,e)),KA=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(r5);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},t$=t=>ha(0,255,t),mg={...dc,transform:t=>Math.round(t$(t))},tl={test:i5("rgb","red"),parse:KA("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+mg.transform(t)+", "+mg.transform(e)+", "+mg.transform(n)+", "+F0(vh.transform(r))+")"};function n$(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const fy={test:i5("#"),parse:n$,transform:tl.transform},ef=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Na=ef("deg"),cs=ef("%"),Se=ef("px"),r$=ef("vh"),i$=ef("vw"),xb={...cs,parse:t=>cs.parse(t)/100,transform:t=>cs.transform(t*100)},ou={test:i5("hsl","hue"),parse:KA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+cs.transform(F0(e))+", "+cs.transform(F0(n))+", "+F0(vh.transform(r))+")"},Wt={test:t=>tl.test(t)||fy.test(t)||ou.test(t),parse:t=>tl.test(t)?tl.parse(t):ou.test(t)?ou.parse(t):fy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?tl.transform(t):ou.transform(t),getAnimatableNone:t=>{const e=Wt.parse(t);return e.alpha=0,Wt.transform(e)}},s$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function a$(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(r5))==null?void 0:e.length)||0)+(((n=t.match(s$))==null?void 0:n.length)||0)>0}const YA="number",XA="color",o$="var",l$="var(",Rb="${}",u$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(u$,u=>(Wt.test(u)?(r.color.push(s),i.push(XA),n.push(Wt.parse(u))):u.startsWith(l$)?(r.var.push(s),i.push(o$),n.push(u)):(r.number.push(s),i.push(YA),n.push(parseFloat(u))),++s,Rb)).split(Rb);return{values:n,split:o,indexes:r,types:i}}function ZA(t){return bh(t).values}function QA(t){const{split:e,types:n}=bh(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===YA?s+=F0(i[a]):o===XA?s+=Wt.transform(i[a]):s+=i[a]}return s}}const c$=t=>typeof t=="number"?0:Wt.test(t)?Wt.getAnimatableNone(t):t;function h$(t){const e=ZA(t);return QA(t)(e.map(c$))}const To={test:a$,parse:ZA,createTransformer:QA,getAnimatableNone:h$};function pg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function f$({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,u=2*n-o;i=pg(u,o,t+1/3),s=pg(u,o,t),a=pg(u,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function Tm(t,e){return n=>n>0?e:t}const kt=(t,e,n)=>t+(e-t)*n,gg=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},d$=[fy,tl,ou],m$=t=>d$.find(e=>e.test(t));function Cb(t){const e=m$(t);if(!e)return!1;let n=e.parse(t);return e===ou&&(n=f$(n)),n}const kb=(t,e)=>{const n=Cb(t),r=Cb(e);if(!n||!r)return Tm(t,e);const i={...n};return s=>(i.red=gg(n.red,r.red,s),i.green=gg(n.green,r.green,s),i.blue=gg(n.blue,r.blue,s),i.alpha=kt(n.alpha,r.alpha,s),tl.transform(i))},dy=new Set(["none","hidden"]);function p$(t,e){return dy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function g$(t,e){return n=>kt(t,e,n)}function s5(t){return typeof t=="number"?g$:typeof t=="string"?n5(t)?Tm:Wt.test(t)?kb:b$:Array.isArray(t)?WA:typeof t=="object"?Wt.test(t)?kb:y$:Tm}function WA(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>s5(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function y$(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=s5(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function v$(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],o=t.values[a]??0;n[i]=o,r[s]++}return n}const b$=(t,e)=>{const n=To.createTransformer(e),r=bh(t),i=bh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?dy.has(t)&&!i.values.length||dy.has(e)&&!r.values.length?p$(t,e):Wh(WA(v$(r,i),i.values),n):Tm(t,e)};function JA(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?kt(t,e,n):s5(t)(t,e)}const _$=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>St.update(e,n),stop:()=>_o(e),now:()=>Rn.isProcessing?Rn.timestamp:Cr.now()}},ex=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},wm=2e4;function a5(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<wm;)e+=n,r=t.next(e);return e>=wm?1/0:e}function T$(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(a5(r),wm);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:di(i)}}const w$=5;function tx(t,e,n){const r=Math.max(e-w$,0);return DA(n-t(r),e-r)}const Pt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},yg=.001;function S$({duration:t=Pt.duration,bounce:e=Pt.bounce,velocity:n=Pt.velocity,mass:r=Pt.mass}){let i,s,a=1-e;a=ha(Pt.minDamping,Pt.maxDamping,a),t=ha(Pt.minDuration,Pt.maxDuration,di(t)),a<1?(i=c=>{const d=c*a,p=d*t,g=d-n,v=my(c,a),x=Math.exp(-p);return yg-g/v*x},s=c=>{const p=c*a*t,g=p*n+n,v=Math.pow(a,2)*Math.pow(c,2)*t,x=Math.exp(-p),N=my(Math.pow(c,2),a);return(-i(c)+yg>0?-1:1)*((g-v)*x)/N}):(i=c=>{const d=Math.exp(-c*t),p=(c-n)*t+1;return-yg+d*p},s=c=>{const d=Math.exp(-c*t),p=(n-c)*(t*t);return d*p});const o=5/t,u=A$(i,s,o);if(t=us(t),isNaN(u))return{stiffness:Pt.stiffness,damping:Pt.damping,duration:t};{const c=Math.pow(u,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:t}}}const E$=12;function A$(t,e,n){let r=n;for(let i=1;i<E$;i++)r=r-t(r)/e(r);return r}function my(t,e){return t*Math.sqrt(1-e*e)}const x$=["duration","bounce"],R$=["stiffness","damping","mass"];function Ib(t,e){return e.some(n=>t[n]!==void 0)}function C$(t){let e={velocity:Pt.velocity,stiffness:Pt.stiffness,damping:Pt.damping,mass:Pt.mass,isResolvedFromDuration:!1,...t};if(!Ib(t,R$)&&Ib(t,x$))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ha(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Pt.mass,stiffness:i,damping:s}}else{const n=S$(t);e={...e,...n,mass:Pt.mass},e.isResolvedFromDuration=!0}return e}function Sm(t=Pt.visualDuration,e=Pt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:u,damping:c,mass:d,duration:p,velocity:g,isResolvedFromDuration:v}=C$({...n,velocity:-di(n.velocity||0)}),x=g||0,N=c/(2*Math.sqrt(u*d)),P=a-s,C=di(Math.sqrt(u/d)),I=Math.abs(P)<5;r||(r=I?Pt.restSpeed.granular:Pt.restSpeed.default),i||(i=I?Pt.restDelta.granular:Pt.restDelta.default);let M;if(N<1){const j=my(C,N);M=G=>{const S=Math.exp(-N*C*G);return a-S*((x+N*C*P)/j*Math.sin(j*G)+P*Math.cos(j*G))}}else if(N===1)M=j=>a-Math.exp(-C*j)*(P+(x+C*P)*j);else{const j=C*Math.sqrt(N*N-1);M=G=>{const S=Math.exp(-N*C*G),b=Math.min(j*G,300);return a-S*((x+N*C*P)*Math.sinh(b)+j*P*Math.cosh(b))/j}}const V={calculatedDuration:v&&p||null,next:j=>{const G=M(j);if(v)o.done=j>=p;else{let S=j===0?x:0;N<1&&(S=j===0?us(x):tx(M,j,G));const b=Math.abs(S)<=r,_=Math.abs(a-G)<=i;o.done=b&&_}return o.value=o.done?a:G,o},toString:()=>{const j=Math.min(a5(V),wm),G=ex(S=>V.next(j*S).value,j,30);return j+"ms "+G},toTransition:()=>{}};return V}Sm.applyToOptions=t=>{const e=T$(t,100,Sm);return t.ease=e.ease,t.duration=us(e.duration),t.type="keyframes",t};function py({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:u,restDelta:c=.5,restSpeed:d}){const p=t[0],g={done:!1,value:p},v=b=>o!==void 0&&b<o||u!==void 0&&b>u,x=b=>o===void 0?u:u===void 0||Math.abs(o-b)<Math.abs(u-b)?o:u;let N=n*e;const P=p+N,C=a===void 0?P:a(P);C!==P&&(N=C-p);const I=b=>-N*Math.exp(-b/r),M=b=>C+I(b),V=b=>{const _=I(b),A=M(b);g.done=Math.abs(_)<=c,g.value=g.done?C:A};let j,G;const S=b=>{v(g.value)&&(j=b,G=Sm({keyframes:[g.value,x(g.value)],velocity:tx(M,b,g.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return S(0),{calculatedDuration:null,next:b=>{let _=!1;return!G&&j===void 0&&(_=!0,V(b),S(b)),j!==void 0&&b>=j?G.next(b-j):(!_&&V(b),g)}}}function k$(t,e,n){const r=[],i=n||fa.mix||JA,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const u=Array.isArray(e)?e[a]||gi:e;o=Wh(u,o)}r.push(o)}return r}function I$(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Q2(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=k$(e,r,i),u=o.length,c=d=>{if(a&&d<t[0])return e[0];let p=0;if(u>1)for(;p<t.length-2&&!(d<t[p+1]);p++);const g=yh(t[p],t[p+1],d);return o[p](g)};return n?d=>c(ha(t[0],t[s-1],d)):c}function N$(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=yh(0,e,r);t.push(kt(n,1,i))}}function M$(t){const e=[0];return N$(e,t.length-1),e}function D$(t,e){return t.map(n=>n*e)}function O$(t,e){return t.map(()=>e||FA).splice(0,t.length-1)}function H0({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=qH(r)?r.map(Ab):Ab(r),s={done:!1,value:e[0]},a=D$(n&&n.length===e.length?n:M$(e),t),o=I$(a,e,{ease:Array.isArray(i)?i:O$(e,i)});return{calculatedDuration:t,next:u=>(s.value=o(u),s.done=u>=t,s)}}const P$=t=>t!==null;function o5(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(P$),o=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const z$={decay:py,inertia:py,tween:H0,keyframes:H0,spring:Sm};function nx(t){typeof t.type=="string"&&(t.type=z$[t.type])}class l5{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const L$=t=>t/100;class u5 extends l5{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Cr.now()&&this.tick(Cr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;nx(e);const{type:n=H0,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const u=n||H0;u!==H0&&typeof o[0]!="number"&&(this.mixKeyframes=Wh(L$,JA(o[0],o[1])),o=[0,100]);const c=u({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=a5(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:p,repeatType:g,repeatDelay:v,type:x,onUpdate:N,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const C=this.currentTime-c*(this.playbackSpeed>=0?1:-1),I=this.playbackSpeed>=0?C<0:C>i;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let M=this.currentTime,V=r;if(p){const b=Math.min(this.currentTime,i)/o;let _=Math.floor(b),A=b%1;!A&&b>=1&&(A=1),A===1&&_--,_=Math.min(_,p+1),!!(_%2)&&(g==="reverse"?(A=1-A,v&&(A-=v/o)):g==="mirror"&&(V=a)),M=ha(0,1,A)*o}const j=I?{done:!1,value:d[0]}:V.next(M);s&&(j.value=s(j.value));let{done:G}=j;!I&&u!==null&&(G=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return S&&x!==py&&(j.value=o5(d,this.options,P,this.speed)),N&&N(j.value),S&&this.finish(),j}then(e,n){return this.finished.then(e,n)}get duration(){return di(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+di(e)}get time(){return di(this.currentTime)}set time(e){var n;e=us(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Cr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=di(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=_$,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Cr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function V$(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const nl=t=>t*180/Math.PI,gy=t=>{const e=nl(Math.atan2(t[1],t[0]));return yy(e)},U$={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:gy,rotateZ:gy,skewX:t=>nl(Math.atan(t[1])),skewY:t=>nl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},yy=t=>(t=t%360,t<0&&(t+=360),t),Nb=gy,Mb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Db=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),B$={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Mb,scaleY:Db,scale:t=>(Mb(t)+Db(t))/2,rotateX:t=>yy(nl(Math.atan2(t[6],t[5]))),rotateY:t=>yy(nl(Math.atan2(-t[2],t[0]))),rotateZ:Nb,rotate:Nb,skewX:t=>nl(Math.atan(t[4])),skewY:t=>nl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function vy(t){return t.includes("scale")?1:0}function by(t,e){if(!t||t==="none")return vy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=B$,i=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=U$,i=o}if(!i)return vy(e);const s=r[e],a=i[1].split(",").map(F$);return typeof s=="function"?s(a):a[s]}const j$=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return by(n,e)};function F$(t){return parseFloat(t.trim())}const mc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pc=new Set(mc),Ob=t=>t===dc||t===Se,H$=new Set(["x","y","z"]),$$=mc.filter(t=>!H$.has(t));function q$(t){const e=[];return $$.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ul={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>by(e,"x"),y:(t,{transform:e})=>by(e,"y")};ul.translateX=ul.x;ul.translateY=ul.y;const cl=new Set;let _y=!1,Ty=!1,wy=!1;function rx(){if(Ty){const t=Array.from(cl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=q$(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))==null||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Ty=!1,_y=!1,cl.forEach(t=>t.complete(wy)),cl.clear()}function ix(){cl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ty=!0)})}function G$(){wy=!0,ix(),rx(),wy=!1}class c5{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(cl.add(this),_y||(_y=!0,St.read(ix),St.resolveKeyframes(rx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}V$(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),cl.delete(this)}cancel(){this.state==="scheduled"&&(cl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const K$=t=>t.startsWith("--");function Y$(t,e,n){K$(e)?t.style.setProperty(e,n):t.style[e]=n}const X$=W2(()=>window.ScrollTimeline!==void 0),Z$={};function Q$(t,e){const n=W2(t);return()=>Z$[e]??n()}const sx=Q$(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),b0=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Pb={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:b0([0,.65,.55,1]),circOut:b0([.55,0,1,.45]),backIn:b0([.31,.01,.66,-.59]),backOut:b0([.33,1.53,.69,.99])};function ax(t,e){if(t)return typeof t=="function"?sx()?ex(t,e):"ease-out":HA(t)?b0(t):Array.isArray(t)?t.map(n=>ax(n,e)||Pb.easeOut):Pb[t]}function W$(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:u}={},c=void 0){const d={[e]:n};u&&(d.offset=u);const p=ax(o,i);Array.isArray(p)&&(d.easing=p);const g={delay:r,duration:i,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return c&&(g.pseudoElement=c),t.animate(d,g)}function ox(t){return typeof t=="function"&&"applyToOptions"in t}function J$({type:t,...e}){return ox(t)&&sx()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class eq extends l5{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,Q2(typeof e.type!="string");const c=J$(e);this.animation=W$(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=o5(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):Y$(n,r,d),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return di(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+di(e)}get time(){return di(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=us(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&X$()?(this.animation.timeline=e,gi):n(this)}}const lx={anticipate:UA,backInOut:VA,circInOut:jA};function tq(t){return t in lx}function nq(t){typeof t.ease=="string"&&tq(t.ease)&&(t.ease=lx[t.ease])}const zb=10;class rq extends eq{constructor(e){nq(e),nx(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new u5({...a,autoplay:!1}),u=us(this.finishedTime??this.time);n.setWithVelocity(o.sample(u-zb).value,o.sample(u).value,zb),o.stop()}}const Lb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(To.test(t)||t==="0")&&!t.startsWith("url("));function iq(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function sq(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=Lb(i,e),o=Lb(s,e);return!a||!o?!1:iq(t)||(n==="spring"||ox(n))&&r}function Sy(t){t.duration=0,t.type="keyframes"}const aq=new Set(["opacity","clipPath","filter","transform"]),oq=W2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function lq(t){var d;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:c}=e.owner.getProps();return oq()&&n&&aq.has(n)&&(n!=="transform"||!c)&&!u&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const uq=40;class cq extends l5{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:u,motionValue:c,element:d,...p}){var x;super(),this.stop=()=>{var N,P;this._animation&&(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)),(P=this.keyframeResolver)==null||P.cancel()},this.createdAt=Cr.now();const g={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:u,motionValue:c,element:d,...p},v=(d==null?void 0:d.KeyframeResolver)||c5;this.keyframeResolver=new v(o,(N,P,C)=>this.onKeyframesResolved(N,P,g,!C),u,c,d),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:u,isHandoff:c,onUpdate:d}=r;this.resolvedAt=Cr.now(),sq(e,s,a,o)||((fa.instantAnimations||!u)&&(d==null||d(o5(e,r,n))),e[0]=e[e.length-1],Sy(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>uq?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},v=!c&&lq(g)?new rq({...g,element:g.motionValue.owner.current}):new u5(g);v.finished.then(()=>this.notifyFinished()).catch(gi),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),G$()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const hq=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fq(t){const e=hq.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function ux(t,e,n=1){const[r,i]=fq(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return IA(a)?parseFloat(a):a}return n5(i)?ux(i,e,n+1):i}function h5(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const cx=new Set(["width","height","top","left","right","bottom",...mc]),dq={test:t=>t==="auto",parse:t=>t},hx=t=>e=>e.test(t),fx=[dc,Se,cs,Na,i$,r$,dq],Vb=t=>fx.find(hx(t));function mq(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||MA(t):!0}const pq=new Set(["brightness","contrast","saturate","opacity"]);function gq(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(r5)||[];if(!r)return t;const i=n.replace(r,"");let s=pq.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const yq=/\b([a-z-]*)\(.*?\)/gu,Ey={...To,getAnimatableNone:t=>{const e=t.match(yq);return e?e.map(gq).join(" "):t}},Ub={...dc,transform:Math.round},vq={rotate:Na,rotateX:Na,rotateY:Na,rotateZ:Na,scale:jf,scaleX:jf,scaleY:jf,scaleZ:jf,skew:Na,skewX:Na,skewY:Na,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:vh,originX:xb,originY:xb,originZ:Se},f5={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se,...vq,zIndex:Ub,fillOpacity:vh,strokeOpacity:vh,numOctaves:Ub},bq={...f5,color:Wt,backgroundColor:Wt,outlineColor:Wt,fill:Wt,stroke:Wt,borderColor:Wt,borderTopColor:Wt,borderRightColor:Wt,borderBottomColor:Wt,borderLeftColor:Wt,filter:Ey,WebkitFilter:Ey},dx=t=>bq[t];function mx(t,e){let n=dx(t);return n!==Ey&&(n=To),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const _q=new Set(["auto","none","0"]);function Tq(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!_q.has(s)&&bh(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=mx(n,i)}class wq extends c5{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let c=e[u];if(typeof c=="string"&&(c=c.trim(),n5(c))){const d=ux(c,n.current);d!==void 0&&(e[u]=d),u===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!cx.has(r)||e.length!==2)return;const[i,s]=e,a=Vb(i),o=Vb(s);if(a!==o)if(Ob(a)&&Ob(o))for(let u=0;u<e.length;u++){const c=e[u];typeof c=="string"&&(e[u]=parseFloat(c))}else ul[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||mq(e[i]))&&r.push(i);r.length&&Tq(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ul[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=ul[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([u,c])=>{e.getValue(u).set(c)}),this.resolveNoneKeyframes()}}function Sq(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=(n==null?void 0:n[t])??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const px=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function gx(t){return NA(t)&&"offsetHeight"in t}const Bb=30,Eq=t=>!isNaN(parseFloat(t));class Aq{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Cr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Eq(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new J2);const r=this.events[e].add(n);return e==="change"?()=>{r(),St.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Cr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Bb)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Bb);return DA(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ku(t,e){return new Aq(t,e)}const{schedule:d5}=$A(queueMicrotask,!1),Bi={x:!1,y:!1};function yx(){return Bi.x||Bi.y}function xq(t){return t==="x"||t==="y"?Bi[t]?null:(Bi[t]=!0,()=>{Bi[t]=!1}):Bi.x||Bi.y?null:(Bi.x=Bi.y=!0,()=>{Bi.x=Bi.y=!1})}function vx(t,e){const n=Sq(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function jb(t){return!(t.pointerType==="touch"||yx())}function Rq(t,e,n={}){const[r,i,s]=vx(t,n),a=o=>{if(!jb(o))return;const{target:u}=o,c=e(u,o);if(typeof c!="function"||!u)return;const d=p=>{jb(p)&&(c(p),u.removeEventListener("pointerleave",d))};u.addEventListener("pointerleave",d,i)};return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const bx=(t,e)=>e?t===e?!0:bx(t,e.parentElement):!1,m5=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Cq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function kq(t){return Cq.has(t.tagName)||t.tabIndex!==-1}const yd=new WeakSet;function Fb(t){return e=>{e.key==="Enter"&&t(e)}}function vg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Iq=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Fb(()=>{if(yd.has(n))return;vg(n,"down");const i=Fb(()=>{vg(n,"up")}),s=()=>vg(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Hb(t){return m5(t)&&!yx()}function Nq(t,e,n={}){const[r,i,s]=vx(t,n),a=o=>{const u=o.currentTarget;if(!Hb(o))return;yd.add(u);const c=e(u,o),d=(v,x)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),yd.has(u)&&yd.delete(u),Hb(v)&&typeof c=="function"&&c(v,{success:x})},p=v=>{d(v,u===window||u===document||n.useGlobalTarget||bx(u,v.target))},g=v=>{d(v,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),gx(o)&&(o.addEventListener("focus",c=>Iq(c,i)),!kq(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function _x(t){return NA(t)&&"ownerSVGElement"in t}function Mq(t){return _x(t)&&t.tagName==="svg"}const Kn=t=>!!(t&&t.getVelocity),Dq=[...fx,Wt,To],Oq=t=>Dq.find(hx(t)),p5=q.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function $b(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Pq(...t){return e=>{let n=!1;const r=t.map(i=>{const s=$b(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():$b(t[i],null)}}}}function zq(...t){return q.useCallback(Pq(...t),t)}class Lq extends q.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=gx(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Vq({children:t,isPresent:e,anchorX:n,root:r}){const i=q.useId(),s=q.useRef(null),a=q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=q.useContext(p5),u=zq(s,t==null?void 0:t.ref);return q.useInsertionEffect(()=>{const{width:c,height:d,top:p,left:g,right:v}=a.current;if(e||!s.current||!c||!d)return;const x=n==="left"?`left: ${g}`:`right: ${v}`;s.current.dataset.motionPopId=i;const N=document.createElement("style");o&&(N.nonce=o);const P=r??document.head;return P.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${p}px !important;
          }
        `),()=>{P.contains(N)&&P.removeChild(N)}},[e]),O.jsx(Lq,{isPresent:e,childRef:s,sizeRef:a,children:q.cloneElement(t,{ref:u})})}const Uq=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,root:u})=>{const c=K2(Bq),d=q.useId();let p=!0,g=q.useMemo(()=>(p=!1,{id:d,initial:e,isPresent:n,custom:i,onExitComplete:v=>{c.set(v,!0);for(const x of c.values())if(!x)return;r&&r()},register:v=>(c.set(v,!1),()=>c.delete(v))}),[n,c,r]);return s&&p&&(g={...g}),q.useMemo(()=>{c.forEach((v,x)=>c.set(x,!1))},[n]),q.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),a==="popLayout"&&(t=O.jsx(Vq,{isPresent:n,anchorX:o,root:u,children:t})),O.jsx(pp.Provider,{value:g,children:t})};function Bq(){return new Map}function Tx(t=!0){const e=q.useContext(pp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=q.useId();q.useEffect(()=>{if(t)return i(s)},[t]);const a=q.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const Ff=t=>t.key||"";function qb(t){const e=[];return q.Children.forEach(t,n=>{q.isValidElement(n)&&e.push(n)}),e}const g5=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",root:u})=>{const[c,d]=Tx(a),p=q.useMemo(()=>qb(t),[t]),g=a&&!c?[]:p.map(Ff),v=q.useRef(!0),x=q.useRef(p),N=K2(()=>new Map),[P,C]=q.useState(p),[I,M]=q.useState(p);kA(()=>{v.current=!1,x.current=p;for(let G=0;G<I.length;G++){const S=Ff(I[G]);g.includes(S)?N.delete(S):N.get(S)!==!0&&N.set(S,!1)}},[I,g.length,g.join("-")]);const V=[];if(p!==P){let G=[...p];for(let S=0;S<I.length;S++){const b=I[S],_=Ff(b);g.includes(_)||(G.splice(S,0,b),V.push(b))}return s==="wait"&&V.length&&(G=V),M(qb(G)),C(p),null}const{forceRender:j}=q.useContext(G2);return O.jsx(O.Fragment,{children:I.map(G=>{const S=Ff(G),b=a&&!c?!1:p===I||g.includes(S),_=()=>{if(N.has(S))N.set(S,!0);else return;let A=!0;N.forEach(R=>{R||(A=!1)}),A&&(j==null||j(),M(x.current),a&&(d==null||d()),r&&r())};return O.jsx(Uq,{isPresent:b,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:u,onExitComplete:b?void 0:_,anchorX:o,children:G},S)})})},wx=q.createContext({strict:!1}),Gb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yu={};for(const t in Gb)Yu[t]={isEnabled:e=>Gb[t].some(n=>!!e[n])};function jq(t){for(const e in t)Yu[e]={...Yu[e],...t[e]}}const Fq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Em(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Fq.has(t)}let Sx=t=>!Em(t);function Hq(t){typeof t=="function"&&(Sx=e=>e.startsWith("on")?!Em(e):t(e))}try{Hq(require("@emotion/is-prop-valid").default)}catch{}function $q(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Sx(i)||n===!0&&Em(i)||!e&&!Em(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const gp=q.createContext({});function yp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function _h(t){return typeof t=="string"||Array.isArray(t)}const y5=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],v5=["initial",...y5];function vp(t){return yp(t.animate)||v5.some(e=>_h(t[e]))}function Ex(t){return!!(vp(t)||t.variants)}function qq(t,e){if(vp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||_h(n)?n:void 0,animate:_h(r)?r:void 0}}return t.inherit!==!1?e:{}}function Gq(t){const{initial:e,animate:n}=qq(t,q.useContext(gp));return q.useMemo(()=>({initial:e,animate:n}),[Kb(e),Kb(n)])}function Kb(t){return Array.isArray(t)?t.join(" "):t}function Yb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const c0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=Yb(t,e.target.x),r=Yb(t,e.target.y);return`${n}% ${r}%`}},Kq={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=To.parse(t);if(i.length>5)return r;const s=To.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,u=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=u;const c=kt(o,u,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}},Ay={borderRadius:{...c0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:c0,borderTopRightRadius:c0,borderBottomLeftRadius:c0,borderBottomRightRadius:c0,boxShadow:Kq};function Ax(t,{layout:e,layoutId:n}){return pc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ay[t]||t==="opacity")}const Yq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Xq=mc.length;function Zq(t,e,n){let r="",i=!0;for(let s=0;s<Xq;s++){const a=mc[s],o=t[a];if(o===void 0)continue;let u=!0;if(typeof o=="number"?u=o===(a.startsWith("scale")?1:0):u=parseFloat(o)===0,!u||n){const c=px(o,f5[a]);if(!u){i=!1;const d=Yq[a]||a;r+=`${d}(${c}) `}n&&(e[a]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function b5(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const u in e){const c=e[u];if(pc.has(u)){a=!0;continue}else if(GA(u)){i[u]=c;continue}else{const d=px(c,f5[u]);u.startsWith("origin")?(o=!0,s[u]=d):r[u]=d}}if(e.transform||(a||n?r.transform=Zq(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:u="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${u} ${c} ${d}`}}const _5=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function xx(t,e,n){for(const r in e)!Kn(e[r])&&!Ax(r,n)&&(t[r]=e[r])}function Qq({transformTemplate:t},e){return q.useMemo(()=>{const n=_5();return b5(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Wq(t,e){const n=t.style||{},r={};return xx(r,n,t),Object.assign(r,Qq(t,e)),r}function Jq(t,e){const n={},r=Wq(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const eG={offset:"stroke-dashoffset",array:"stroke-dasharray"},tG={offset:"strokeDashoffset",array:"strokeDasharray"};function nG(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?eG:tG;t[s.offset]=Se.transform(-r);const a=Se.transform(e),o=Se.transform(n);t[s.array]=`${a} ${o}`}function Rx(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},u,c,d){if(b5(t,o,c),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:g}=t;p.transform&&(g.transform=p.transform,delete p.transform),(g.transform||p.transformOrigin)&&(g.transformOrigin=p.transformOrigin??"50% 50%",delete p.transformOrigin),g.transform&&(g.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete p.transformBox),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),i!==void 0&&nG(p,i,s,a,!1)}const Cx=()=>({..._5(),attrs:{}}),kx=t=>typeof t=="string"&&t.toLowerCase()==="svg";function rG(t,e,n,r){const i=q.useMemo(()=>{const s=Cx();return Rx(s,e,kx(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};xx(s,t.style,t),i.style={...s,...i.style}}return i}const iG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function T5(t){return typeof t!="string"||t.includes("-")?!1:!!(iG.indexOf(t)>-1||/[A-Z]/u.test(t))}function sG(t,e,n,{latestValues:r},i,s=!1){const o=(T5(t)?rG:Jq)(e,r,i,t),u=$q(e,typeof t=="string",s),c=t!==q.Fragment?{...u,...o,ref:n}:{},{children:d}=e,p=q.useMemo(()=>Kn(d)?d.get():d,[d]);return q.createElement(t,{...c,children:p})}function Xb(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function w5(t,e,n,r){if(typeof e=="function"){const[i,s]=Xb(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Xb(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function vd(t){return Kn(t)?t.get():t}function aG({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:oG(n,r,i,t),renderState:e()}}function oG(t,e,n,r){const i={},s=r(t,{});for(const g in s)i[g]=vd(s[g]);let{initial:a,animate:o}=t;const u=vp(t),c=Ex(t);e&&c&&!u&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const p=d?o:a;if(p&&typeof p!="boolean"&&!yp(p)){const g=Array.isArray(p)?p:[p];for(let v=0;v<g.length;v++){const x=w5(t,g[v]);if(x){const{transitionEnd:N,transition:P,...C}=x;for(const I in C){let M=C[I];if(Array.isArray(M)){const V=d?M.length-1:0;M=M[V]}M!==null&&(i[I]=M)}for(const I in N)i[I]=N[I]}}}return i}const Ix=t=>(e,n)=>{const r=q.useContext(gp),i=q.useContext(pp),s=()=>aG(t,e,r,i);return n?s():K2(s)};function S5(t,e,n){var s;const{style:r}=t,i={};for(const a in r)(Kn(r[a])||e.style&&Kn(e.style[a])||Ax(a,t)||((s=n==null?void 0:n.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=r[a]);return i}const lG=Ix({scrapeMotionValuesFromProps:S5,createRenderState:_5});function Nx(t,e,n){const r=S5(t,e,n);for(const i in t)if(Kn(t[i])||Kn(e[i])){const s=mc.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const uG=Ix({scrapeMotionValuesFromProps:Nx,createRenderState:Cx}),cG=Symbol.for("motionComponentSymbol");function lu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function hG(t,e,n){return q.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):lu(n)&&(n.current=r))},[e])}const E5=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fG="framerAppearId",Mx="data-"+E5(fG),Dx=q.createContext({});function dG(t,e,n,r,i){var N,P;const{visualElement:s}=q.useContext(gp),a=q.useContext(wx),o=q.useContext(pp),u=q.useContext(p5).reducedMotion,c=q.useRef(null);r=r||a.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:u}));const d=c.current,p=q.useContext(Dx);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&mG(c.current,n,i,p);const g=q.useRef(!1);q.useInsertionEffect(()=>{d&&g.current&&d.update(n,o)});const v=n[Mx],x=q.useRef(!!v&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,v))&&((P=window.MotionHasOptimisedAnimation)==null?void 0:P.call(window,v)));return kA(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),q.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,v)}),x.current=!1),d.enteringChildren=void 0)}),d}function mG(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:u,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Ox(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&lu(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:u,layoutRoot:c})}function Ox(t){if(t)return t.options.allowProjection!==!1?t.projection:Ox(t.parent)}function bg(t,{forwardMotionProps:e=!1}={},n,r){n&&jq(n);const i=T5(t)?uG:lG;function s(o,u){let c;const d={...q.useContext(p5),...o,layoutId:pG(o)},{isStatic:p}=d,g=Gq(o),v=i(o,p);if(!p&&Y2){gG();const x=yG(d);c=x.MeasureLayout,g.visualElement=dG(t,v,d,r,x.ProjectionNode)}return O.jsxs(gp.Provider,{value:g,children:[c&&g.visualElement?O.jsx(c,{visualElement:g.visualElement,...d}):null,sG(t,o,hG(v,g.visualElement,u),v,p,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=q.forwardRef(s);return a[cG]=t,a}function pG({layoutId:t}){const e=q.useContext(G2).id;return e&&t!==void 0?e+"-"+t:t}function gG(t,e){q.useContext(wx).strict}function yG(t){const{drag:e,layout:n}=Yu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function vG(t,e){if(typeof Proxy>"u")return bg;const n=new Map,r=(s,a)=>bg(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,bg(a,void 0,t,e)),n.get(a))})}function Px({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function bG({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _G(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function _g(t){return t===void 0||t===1}function xy({scale:t,scaleX:e,scaleY:n}){return!_g(t)||!_g(e)||!_g(n)}function Jo(t){return xy(t)||zx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function zx(t){return Zb(t.x)||Zb(t.y)}function Zb(t){return t&&t!=="0%"}function Am(t,e,n){const r=t-n,i=e*r;return n+i}function Qb(t,e,n,r,i){return i!==void 0&&(t=Am(t,i,r)),Am(t,n,r)+e}function Ry(t,e=0,n=1,r,i){t.min=Qb(t.min,e,n,r,i),t.max=Qb(t.max,e,n,r,i)}function Lx(t,{x:e,y:n}){Ry(t.x,e.translate,e.scale,e.originPoint),Ry(t.y,n.translate,n.scale,n.originPoint)}const Wb=.999999999999,Jb=1.0000000000001;function TG(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&cu(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,Lx(t,a)),r&&Jo(s.latestValues)&&cu(t,s.latestValues))}e.x<Jb&&e.x>Wb&&(e.x=1),e.y<Jb&&e.y>Wb&&(e.y=1)}function uu(t,e){t.min=t.min+e,t.max=t.max+e}function e9(t,e,n,r,i=.5){const s=kt(t.min,t.max,i);Ry(t,e,n,s,r)}function cu(t,e){e9(t.x,e.x,e.scaleX,e.scale,e.originX),e9(t.y,e.y,e.scaleY,e.scale,e.originY)}function Vx(t,e){return Px(_G(t.getBoundingClientRect(),e))}function wG(t,e,n){const r=Vx(t,n),{scroll:i}=e;return i&&(uu(r.x,i.offset.x),uu(r.y,i.offset.y)),r}const t9=()=>({translate:0,scale:1,origin:0,originPoint:0}),hu=()=>({x:t9(),y:t9()}),n9=()=>({min:0,max:0}),on=()=>({x:n9(),y:n9()}),Cy={current:null},Ux={current:!1};function SG(){if(Ux.current=!0,!!Y2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Cy.current=t.matches;t.addEventListener("change",e),e()}else Cy.current=!1}const EG=new WeakMap;function AG(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Kn(i))t.addValue(r,i);else if(Kn(s))t.addValue(r,Ku(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Ku(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const r9=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class xG{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=c5,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Cr.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,St.render(this.render,!1,!0))};const{latestValues:u,renderState:c}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=vp(n),this.isVariantNode=Ex(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in p){const v=p[g];u[g]!==void 0&&Kn(v)&&v.set(u[g])}}mount(e){var n;this.current=e,EG.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),Ux.current||SG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cy.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),_o(this.notifyUpdate),_o(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=pc.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&St.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Yu){const n=Yu[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):on()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<r9.length;r++){const i=r9[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=AG(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ku(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(IA(r)||MA(r))?r=parseFloat(r):!Oq(r)&&To.test(n)&&(r=mx(e,n)),this.setBaseTarget(e,Kn(r)?r.get():r)),Kn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=w5(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Kn(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new J2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){d5.render(this.render)}}class Bx extends xG{constructor(){super(...arguments),this.KeyframeResolver=wq}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Kn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jx(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i==null||i.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function RG(t){return window.getComputedStyle(t)}class CG extends Bx{constructor(){super(...arguments),this.type="html",this.renderInstance=jx}readValueFromInstance(e,n){var r;if(pc.has(n))return(r=this.projection)!=null&&r.isProjecting?vy(n):j$(e,n);{const i=RG(e),s=(GA(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Vx(e,n)}build(e,n,r){b5(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return S5(e,n,r)}}const Fx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kG(t,e,n,r){jx(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Fx.has(i)?i:E5(i),e.attrs[i])}class IG extends Bx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=on}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(pc.has(n)){const r=dx(n);return r&&r.default||0}return n=Fx.has(n)?n:E5(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Nx(e,n,r)}build(e,n,r){Rx(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){kG(e,n,r,i)}mount(e){this.isSVGTag=kx(e.tagName),super.mount(e)}}const NG=(t,e)=>T5(t)?new IG(e):new CG(e,{allowProjection:t!==q.Fragment});function Au(t,e,n){const r=t.getProps();return w5(r,e,n!==void 0?n:r.custom,t)}const ky=t=>Array.isArray(t);function MG(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ku(n))}function DG(t){return ky(t)?t[t.length-1]||0:t}function OG(t,e){const n=Au(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=DG(s[a]);MG(t,a,o)}}function PG(t){return!!(Kn(t)&&t.add)}function Iy(t,e){const n=t.getValue("willChange");if(PG(n))return n.add(e);if(!n&&fa.WillChange){const r=new fa.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Hx(t){return t.props[Mx]}const zG=t=>t!==null;function LG(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(zG),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const VG={type:"spring",stiffness:500,damping:25,restSpeed:10},UG=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),BG={type:"keyframes",duration:.8},jG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},FG=(t,{keyframes:e})=>e.length>2?BG:pc.has(t)?t.startsWith("scale")?UG(e[1]):VG:jG;function HG({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:u,elapsed:c,...d}){return!!Object.keys(d).length}const A5=(t,e,n,r={},i,s)=>a=>{const o=h5(r,t)||{},u=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-us(u);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:g=>{e.set(g),o.onUpdate&&o.onUpdate(g)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};HG(o)||Object.assign(d,FG(t,d)),d.duration&&(d.duration=us(d.duration)),d.repeatDelay&&(d.repeatDelay=us(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let p=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Sy(d),d.delay===0&&(p=!0)),(fa.instantAnimations||fa.skipAnimations)&&(p=!0,Sy(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,p&&!s&&e.get()!==void 0){const g=LG(d.keyframes,o);if(g!==void 0){St.update(()=>{d.onUpdate(g),d.onComplete()});return}}return o.isSync?new u5(d):new cq(d)};function $G({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function $x(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(s=r);const u=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const d in o){const p=t.getValue(d,t.latestValues[d]??null),g=o[d];if(g===void 0||c&&$G(c,d))continue;const v={delay:n,...h5(s||{},d)},x=p.get();if(x!==void 0&&!p.isAnimating&&!Array.isArray(g)&&g===x&&!v.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const C=Hx(t);if(C){const I=window.MotionHandoffAnimation(C,d,St);I!==null&&(v.startTime=I,N=!0)}}Iy(t,d),p.start(A5(d,p,g,t.shouldReduceMotion&&cx.has(d)?{type:!1}:v,t,N));const P=p.animation;P&&u.push(P)}return a&&Promise.all(u).then(()=>{St.update(()=>{a&&OG(t,a)})}),u}function qx(t,e,n,r=0,i=1){const s=Array.from(t).sort((c,d)=>c.sortNodePosition(d)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:o-s*r}function Ny(t,e,n={}){var u;const r=Au(t,e,n.type==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all($x(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:p,staggerDirection:g}=i;return qG(t,e,c,d,p,g,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,d]=o==="beforeChildren"?[s,a]:[a,s];return c().then(()=>d())}else return Promise.all([s(),a(n.delay)])}function qG(t,e,n=0,r=0,i=0,s=1,a){const o=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),o.push(Ny(u,e,{...a,delay:n+(typeof r=="function"?0:r)+qx(t.variantChildren,u,r,i,s)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(o)}function GG(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Ny(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Ny(t,e,n);else{const i=typeof e=="function"?Au(t,e,n.custom):e;r=Promise.all($x(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Gx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const KG=v5.length;function Kx(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Kx(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<KG;n++){const r=v5[n],i=t.props[r];(_h(i)||i===!1)&&(e[r]=i)}return e}const YG=[...y5].reverse(),XG=y5.length;function ZG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>GG(t,n,r)))}function QG(t){let e=ZG(t),n=i9(),r=!0;const i=u=>(c,d)=>{var g;const p=Au(t,d,u==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(p){const{transition:v,transitionEnd:x,...N}=p;c={...c,...N,...x}}return c};function s(u){e=u(t)}function a(u){const{props:c}=t,d=Kx(t.parent)||{},p=[],g=new Set;let v={},x=1/0;for(let P=0;P<XG;P++){const C=YG[P],I=n[C],M=c[C]!==void 0?c[C]:d[C],V=_h(M),j=C===u?I.isActive:null;j===!1&&(x=P);let G=M===d[C]&&M!==c[C]&&V;if(G&&r&&t.manuallyAnimateOnMount&&(G=!1),I.protectedKeys={...v},!I.isActive&&j===null||!M&&!I.prevProp||yp(M)||typeof M=="boolean")continue;const S=WG(I.prevProp,M);let b=S||C===u&&I.isActive&&!G&&V||P>x&&V,_=!1;const A=Array.isArray(M)?M:[M];let R=A.reduce(i(C),{});j===!1&&(R={});const{prevResolvedValues:D={}}=I,w={...D,...R},ue=re=>{b=!0,g.has(re)&&(_=!0,g.delete(re)),I.needsAnimating[re]=!0;const se=t.getValue(re);se&&(se.liveStyle=!1)};for(const re in w){const se=R[re],xe=D[re];if(v.hasOwnProperty(re))continue;let Re=!1;ky(se)&&ky(xe)?Re=!Gx(se,xe):Re=se!==xe,Re?se!=null?ue(re):g.add(re):se!==void 0&&g.has(re)?ue(re):I.protectedKeys[re]=!0}I.prevProp=M,I.prevResolvedValues=R,I.isActive&&(v={...v,...R}),r&&t.blockInitialAnimation&&(b=!1);const Ie=G&&S;b&&(!Ie||_)&&p.push(...A.map(re=>{const se={type:C};if(typeof re=="string"&&r&&!Ie&&t.manuallyAnimateOnMount&&t.parent){const{parent:xe}=t,Re=Au(xe,re);if(xe.enteringChildren&&Re){const{delayChildren:je}=Re.transition||{};se.delay=qx(xe.enteringChildren,t,je)}}return{animation:re,options:se}}))}if(g.size){const P={};if(typeof c.initial!="boolean"){const C=Au(t,Array.isArray(c.initial)?c.initial[0]:c.initial);C&&C.transition&&(P.transition=C.transition)}g.forEach(C=>{const I=t.getBaseTarget(C),M=t.getValue(C);M&&(M.liveStyle=!0),P[C]=I??null}),p.push({animation:P})}let N=!!p.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(N=!1),r=!1,N?e(p):Promise.resolve()}function o(u,c){var p;if(n[u].isActive===c)return Promise.resolve();(p=t.variantChildren)==null||p.forEach(g=>{var v;return(v=g.animationState)==null?void 0:v.setActive(u,c)}),n[u].isActive=c;const d=a(u);for(const g in n)n[g].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=i9()}}}function WG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Gx(e,t):!1}function Go(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function i9(){return{animate:Go(!0),whileInView:Go(),whileHover:Go(),whileTap:Go(),whileDrag:Go(),whileFocus:Go(),exit:Go()}}class Io{constructor(e){this.isMounted=!1,this.node=e}update(){}}class JG extends Io{constructor(e){super(e),e.animationState||(e.animationState=QG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();yp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let eK=0;class tK extends Io{constructor(){super(...arguments),this.id=eK++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const nK={animation:{Feature:JG},exit:{Feature:tK}};function Th(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function tf(t){return{point:{x:t.pageX,y:t.pageY}}}const rK=t=>e=>m5(e)&&t(e,tf(e));function $0(t,e,n,r){return Th(t,e,rK(n),r)}const Yx=1e-4,iK=1-Yx,sK=1+Yx,Xx=.01,aK=0-Xx,oK=0+Xx;function ur(t){return t.max-t.min}function lK(t,e,n){return Math.abs(t-e)<=n}function s9(t,e,n,r=.5){t.origin=r,t.originPoint=kt(e.min,e.max,t.origin),t.scale=ur(n)/ur(e),t.translate=kt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=iK&&t.scale<=sK||isNaN(t.scale))&&(t.scale=1),(t.translate>=aK&&t.translate<=oK||isNaN(t.translate))&&(t.translate=0)}function q0(t,e,n,r){s9(t.x,e.x,n.x,r?r.originX:void 0),s9(t.y,e.y,n.y,r?r.originY:void 0)}function a9(t,e,n){t.min=n.min+e.min,t.max=t.min+ur(e)}function uK(t,e,n){a9(t.x,e.x,n.x),a9(t.y,e.y,n.y)}function o9(t,e,n){t.min=e.min-n.min,t.max=t.min+ur(e)}function xm(t,e,n){o9(t.x,e.x,n.x),o9(t.y,e.y,n.y)}function ri(t){return[t("x"),t("y")]}const Zx=({current:t})=>t?t.ownerDocument.defaultView:null,l9=(t,e)=>Math.abs(t-e);function cK(t,e){const n=l9(t.x,e.x),r=l9(t.y,e.y);return Math.sqrt(n**2+r**2)}class Qx{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=wg(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=cK(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!x)return;const{point:N}=g,{timestamp:P}=Rn;this.history.push({...N,timestamp:P});const{onStart:C,onMove:I}=this.handlers;v||(C&&C(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),I&&I(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=Tg(v,this.transformPagePoint),St.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:x,onSessionEnd:N,resumeAnimation:P}=this.handlers;if(this.dragSnapToOrigin&&P&&P(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=wg(g.type==="pointercancel"?this.lastMoveEventInfo:Tg(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,C),N&&N(g,C)},!m5(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const o=tf(e),u=Tg(o,this.transformPagePoint),{point:c}=u,{timestamp:d}=Rn;this.history=[{...c,timestamp:d}];const{onSessionStart:p}=n;p&&p(e,wg(u,this.history)),this.removeListeners=Wh($0(this.contextWindow,"pointermove",this.handlePointerMove),$0(this.contextWindow,"pointerup",this.handlePointerUp),$0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_o(this.updatePoint)}}function Tg(t,e){return e?{point:e(t.point)}:t}function u9(t,e){return{x:t.x-e.x,y:t.y-e.y}}function wg({point:t},e){return{point:t,delta:u9(t,Wx(e)),offset:u9(t,hK(e)),velocity:fK(e,.1)}}function hK(t){return t[0]}function Wx(t){return t[t.length-1]}function fK(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Wx(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>us(e)));)n--;if(!r)return{x:0,y:0};const s=di(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function dK(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?kt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?kt(n,t,r.max):Math.min(t,n)),t}function c9(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function mK(t,{top:e,left:n,bottom:r,right:i}){return{x:c9(t.x,n,i),y:c9(t.y,e,r)}}function h9(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function pK(t,e){return{x:h9(t.x,e.x),y:h9(t.y,e.y)}}function gK(t,e){let n=.5;const r=ur(t),i=ur(e);return i>r?n=yh(e.min,e.max-r,t.min):r>i&&(n=yh(t.min,t.max-i,e.min)),ha(0,1,n)}function yK(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const My=.35;function vK(t=My){return t===!1?t=0:t===!0&&(t=My),{x:f9(t,"left","right"),y:f9(t,"top","bottom")}}function f9(t,e,n){return{min:d9(t,e),max:d9(t,n)}}function d9(t,e){return typeof t=="number"?t:t[e]||0}const bK=new WeakMap;class _K{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=on(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=p=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(tf(p).point)},a=(p,g)=>{const{drag:v,dragPropagation:x,onDragStart:N}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=xq(v),!this.openDragLock))return;this.latestPointerEvent=p,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ri(C=>{let I=this.getAxisMotionValue(C).get()||0;if(cs.test(I)){const{projection:M}=this.visualElement;if(M&&M.layout){const V=M.layout.layoutBox[C];V&&(I=ur(V)*(parseFloat(I)/100))}}this.originPoint[C]=I}),N&&St.postRender(()=>N(p,g)),Iy(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},o=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g;const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:N,onDrag:P}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:C}=g;if(x&&this.currentDirection===null){this.currentDirection=TK(C),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",g.point,C),this.updateAxis("y",g.point,C),this.visualElement.render(),P&&P(p,g)},u=(p,g)=>{this.latestPointerEvent=p,this.latestPanInfo=g,this.stop(p,g),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>ri(p=>{var g;return this.getAnimationState(p)==="paused"&&((g=this.getAxisMotionValue(p).animation)==null?void 0:g.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Qx(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:u,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:Zx(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&St.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Hf(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=dK(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&lu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=mK(r.layoutBox,e):this.constraints=!1,this.elastic=vK(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&ri(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=yK(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!lu(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=wG(r,i.root,this.visualElement.getTransformPagePoint());let a=pK(i.layout.layoutBox,s);if(n){const o=n(bG(a));this.hasMutatedConstraints=!!o,o&&(a=Px(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),u=this.constraints||{},c=ri(d=>{if(!Hf(d,n,this.currentDirection))return;let p=u&&u[d]||{};a&&(p={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(d,x)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Iy(this.visualElement,e),r.start(A5(e,r,0,n,this.visualElement,!1))}stopAnimation(){ri(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ri(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ri(n=>{const{drag:r}=this.getProps();if(!Hf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-kt(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!lu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ri(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const u=o.get();i[a]=gK({min:u,max:u},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ri(a=>{if(!Hf(a,e,null))return;const o=this.getAxisMotionValue(a),{min:u,max:c}=this.constraints[a];o.set(kt(u,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;bK.set(this.visualElement,this);const e=this.visualElement.current,n=$0(e,"pointerdown",u=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();lu(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),St.read(r);const a=Th(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(ri(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=u[d].translate,p.set(p.get()+u[d].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=My,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Hf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function TK(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class wK extends Io{constructor(e){super(e),this.removeGroupControls=gi,this.removeListeners=gi,this.controls=new _K(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gi}unmount(){this.removeGroupControls(),this.removeListeners()}}const m9=t=>(e,n)=>{t&&St.postRender(()=>t(e,n))};class SK extends Io{constructor(){super(...arguments),this.removePointerDownListener=gi}onPointerDown(e){this.session=new Qx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Zx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:m9(e),onStart:m9(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&St.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=$0(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Sg=!1;class EK extends q.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),Sg&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),bd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,Sg=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||St.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),d5.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Sg=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Jx(t){const[e,n]=Tx(),r=q.useContext(G2);return O.jsx(EK,{...t,layoutGroup:r,switchLayoutGroup:q.useContext(Dx),isPresent:e,safeToRemove:n})}function AK(t,e,n){const r=Kn(t)?t:Ku(t);return r.start(A5("",r,e,n)),r.animation}const xK=(t,e)=>t.depth-e.depth;class RK{constructor(){this.children=[],this.isDirty=!1}add(e){X2(this.children,e),this.isDirty=!0}remove(e){Z2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(xK),this.isDirty=!1,this.children.forEach(e)}}function CK(t,e){const n=Cr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(_o(r),t(s-e))};return St.setup(r,!0),()=>_o(r)}const eR=["TopLeft","TopRight","BottomLeft","BottomRight"],kK=eR.length,p9=t=>typeof t=="string"?parseFloat(t):t,g9=t=>typeof t=="number"||Se.test(t);function IK(t,e,n,r,i,s){i?(t.opacity=kt(0,n.opacity??1,NK(r)),t.opacityExit=kt(e.opacity??1,0,MK(r))):s&&(t.opacity=kt(e.opacity??1,n.opacity??1,r));for(let a=0;a<kK;a++){const o=`border${eR[a]}Radius`;let u=y9(e,o),c=y9(n,o);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||g9(u)===g9(c)?(t[o]=Math.max(kt(p9(u),p9(c),r),0),(cs.test(c)||cs.test(u))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=kt(e.rotate||0,n.rotate||0,r))}function y9(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const NK=tR(0,.5,BA),MK=tR(.5,.95,gi);function tR(t,e,n){return r=>r<t?0:r>e?1:n(yh(t,e,r))}function v9(t,e){t.min=e.min,t.max=e.max}function Vi(t,e){v9(t.x,e.x),v9(t.y,e.y)}function b9(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function _9(t,e,n,r,i){return t-=e,t=Am(t,1/n,r),i!==void 0&&(t=Am(t,1/i,r)),t}function DK(t,e=0,n=1,r=.5,i,s=t,a=t){if(cs.test(e)&&(e=parseFloat(e),e=kt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=kt(s.min,s.max,r);t===s&&(o-=e),t.min=_9(t.min,e,n,o,i),t.max=_9(t.max,e,n,o,i)}function T9(t,e,[n,r,i],s,a){DK(t,e[n],e[r],e[i],e.scale,s,a)}const OK=["x","scaleX","originX"],PK=["y","scaleY","originY"];function w9(t,e,n,r){T9(t.x,e,OK,n?n.x:void 0,r?r.x:void 0),T9(t.y,e,PK,n?n.y:void 0,r?r.y:void 0)}function S9(t){return t.translate===0&&t.scale===1}function nR(t){return S9(t.x)&&S9(t.y)}function E9(t,e){return t.min===e.min&&t.max===e.max}function zK(t,e){return E9(t.x,e.x)&&E9(t.y,e.y)}function A9(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function rR(t,e){return A9(t.x,e.x)&&A9(t.y,e.y)}function x9(t){return ur(t.x)/ur(t.y)}function R9(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class LK{constructor(){this.members=[]}add(e){X2(this.members,e),e.scheduleRender()}remove(e){if(Z2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function VK(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:p,rotateY:g,skewX:v,skewY:x}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),p&&(r+=`rotateX(${p}deg) `),g&&(r+=`rotateY(${g}deg) `),v&&(r+=`skewX(${v}deg) `),x&&(r+=`skewY(${x}deg) `)}const o=t.x.scale*e.x,u=t.y.scale*e.y;return(o!==1||u!==1)&&(r+=`scale(${o}, ${u})`),r||"none"}const Eg=["","X","Y","Z"],UK=1e3;let BK=0;function Ag(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function iR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Hx(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",St,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&iR(r)}function sR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=BK++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(HK),this.nodes.forEach(KK),this.nodes.forEach(YK),this.nodes.forEach($K)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new RK)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new J2),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const u=this.eventHandlers.get(a);u&&u.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=_x(a)&&!Mq(a),this.instance=a;const{layoutId:o,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||o)&&(this.isLayoutDirty=!0),t){let d,p=0;const g=()=>this.root.updateBlockedByResize=!1;St.read(()=>{p=window.innerWidth}),t(a,()=>{const v=window.innerWidth;v!==p&&(p=v,this.root.updateBlockedByResize=!0,d&&d(),d=CK(g,250),bd.hasAnimatedSinceResize&&(bd.hasAnimatedSinceResize=!1,this.nodes.forEach(I9)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||c.getDefaultTransition()||JK,{onLayoutAnimationStart:N,onLayoutAnimationComplete:P}=c.getProps(),C=!this.targetLayout||!rR(this.targetLayout,v),I=!p&&g;if(this.options.layoutRoot||this.resumeFrom||I||p&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...h5(x,"layout"),onPlay:N,onComplete:P};(c.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(d,I)}else p||I9(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),_o(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XK),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const p=this.path[d];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:o,layout:u}=this.options;if(o===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(C9);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(k9);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(GK),this.nodes.forEach(jK),this.nodes.forEach(FK)):this.nodes.forEach(k9),this.clearAllSnapshots();const o=Cr.now();Rn.delta=ha(0,1e3/60,o-Rn.timestamp),Rn.timestamp=o,Rn.isProcessing=!0,dg.update.process(Rn),dg.preRender.process(Rn),dg.render.process(Rn),Rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,d5.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qK),this.sharedNodes.forEach(ZK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,St.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){St.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ur(this.snapshot.measuredBox.x)&&!ur(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=on(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!nR(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||Jo(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let u=this.removeElementScroll(o);return a&&(u=this.removeTransform(u)),eY(u),{animationId:this.root.animationId,measuredBox:o,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return on();const o=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(tY))){const{scroll:d}=this.root;d&&(uu(o.x,d.offset.x),uu(o.y,d.offset.y))}return o}removeElementScroll(a){var u;const o=on();if(Vi(o,a),(u=this.scroll)!=null&&u.wasRoot)return o;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:p,options:g}=d;d!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Vi(o,a),uu(o.x,p.offset.x),uu(o.y,p.offset.y))}return o}applyTransform(a,o=!1){const u=on();Vi(u,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&cu(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Jo(d.latestValues)&&cu(u,d.latestValues)}return Jo(this.latestValues)&&cu(u,this.latestValues),u}removeTransform(a){const o=on();Vi(o,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!Jo(c.latestValues))continue;xy(c.latestValues)&&c.updateSnapshot();const d=on(),p=c.measurePageBox();Vi(d,p),w9(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Jo(this.latestValues)&&w9(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var v;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==o;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:p}=this.options;if(!this.layout||!(d||p))return;this.resolvedRelativeTargetAt=Rn.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=on(),this.targetWithTransforms=on()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),uK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vi(this.target,this.layout.layoutBox),Lx(this.target,this.targetDelta)):Vi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||xy(this.parent.latestValues)||zx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,u){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),xm(this.relativeTargetOrigin,o,u),Vi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(u=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Rn.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Vi(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,g=this.treeScale.y;TG(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=on());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(b9(this.prevProjectionDelta.x,this.projectionDelta.x),b9(this.prevProjectionDelta.y,this.projectionDelta.y)),q0(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==g||!R9(this.projectionDelta.x,this.prevProjectionDelta.x)||!R9(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=hu(),this.projectionDelta=hu(),this.projectionDeltaWithTransform=hu()}setAnimationOrigin(a,o=!1){const u=this.snapshot,c=u?u.latestValues:{},d={...this.latestValues},p=hu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=on(),v=u?u.source:void 0,x=this.layout?this.layout.source:void 0,N=v!==x,P=this.getStack(),C=!P||P.members.length<=1,I=!!(N&&!C&&this.options.crossfade===!0&&!this.path.some(WK));this.animationProgress=0;let M;this.mixTargetDelta=V=>{const j=V/1e3;N9(p.x,a.x,j),N9(p.y,a.y,j),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xm(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),QK(this.relativeTarget,this.relativeTargetOrigin,g,j),M&&zK(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=on()),Vi(M,this.relativeTarget)),N&&(this.animationValues=d,IK(d,c,this.latestValues,j,I,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,u,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||c.stop(),this.pendingAnimation&&(_o(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=St.update(()=>{bd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ku(0)),this.currentAnimation=AK(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(UK),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:u,layout:c,latestValues:d}=a;if(!(!o||!u||!c)){if(this!==a&&this.layout&&c&&aR(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||on();const p=ur(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+p;const g=ur(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+g}Vi(o,u),cu(o,d),q0(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new LK),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(o=!0),!o)return;const c={};u.z&&Ag("z",a,c,this.animationValues);for(let d=0;d<Eg.length;d++)Ag(`rotate${Eg[d]}`,a,c,this.animationValues),Ag(`skew${Eg[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=vd(o==null?void 0:o.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=vd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Jo(this.latestValues)&&(a.transform=u?u({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let p=VK(this.projectionDeltaWithTransform,this.treeScale,d);u&&(p=u(d,p)),a.transform=p;const{x:g,y:v}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in Ay){if(d[x]===void 0)continue;const{correct:N,applyTo:P,isCSSVariable:C}=Ay[x],I=p==="none"?d[x]:N(d[x],c);if(P){const M=P.length;for(let V=0;V<M;V++)a[P[V]]=I}else C?this.options.visualElement.renderState.vars[x]=I:a[x]=I}this.options.layoutId&&(a.pointerEvents=c===this?vd(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(C9),this.root.sharedNodes.clear()}}}function jK(t){t.updateLayout()}function FK(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?ri(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],v=ur(g);g.min=r[p].min,g.max=g.min+v}):aR(s,e.layoutBox,r)&&ri(p=>{const g=a?e.measuredBox[p]:e.layoutBox[p],v=ur(r[p]);g.max=g.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+v)});const o=hu();q0(o,r,e.layoutBox);const u=hu();a?q0(u,t.applyTransform(i,!0),e.measuredBox):q0(u,r,e.layoutBox);const c=!nR(o);let d=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:v}=p;if(g&&v){const x=on();xm(x,e.layoutBox,g.layoutBox);const N=on();xm(N,r,v.layoutBox),rR(x,N)||(d=!0),p.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=x,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function HK(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function $K(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function qK(t){t.clearSnapshot()}function C9(t){t.clearMeasurements()}function k9(t){t.isLayoutDirty=!1}function GK(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function I9(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function KK(t){t.resolveTargetDelta()}function YK(t){t.calcProjection()}function XK(t){t.resetSkewAndRotation()}function ZK(t){t.removeLeadSnapshot()}function N9(t,e,n){t.translate=kt(e.translate,0,n),t.scale=kt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function M9(t,e,n,r){t.min=kt(e.min,n.min,r),t.max=kt(e.max,n.max,r)}function QK(t,e,n,r){M9(t.x,e.x,n.x,r),M9(t.y,e.y,n.y,r)}function WK(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const JK={duration:.45,ease:[.4,0,.1,1]},D9=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),O9=D9("applewebkit/")&&!D9("chrome/")?Math.round:gi;function P9(t){t.min=O9(t.min),t.max=O9(t.max)}function eY(t){P9(t.x),P9(t.y)}function aR(t,e,n){return t==="position"||t==="preserve-aspect"&&!lK(x9(e),x9(n),.2)}function tY(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const nY=sR({attachResizeListener:(t,e)=>Th(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xg={current:void 0},oR=sR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xg.current){const t=new nY({});t.mount(window),t.setOptions({layoutScroll:!0}),xg.current=t}return xg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),rY={pan:{Feature:SK},drag:{Feature:wK,ProjectionNode:oR,MeasureLayout:Jx}};function z9(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&St.postRender(()=>s(e,tf(e)))}class iY extends Io{mount(){const{current:e}=this.node;e&&(this.unmount=Rq(e,(n,r)=>(z9(this.node,r,"Start"),i=>z9(this.node,i,"End"))))}unmount(){}}class sY extends Io{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wh(Th(this.node.current,"focus",()=>this.onFocus()),Th(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function L9(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&St.postRender(()=>s(e,tf(e)))}class aY extends Io{mount(){const{current:e}=this.node;e&&(this.unmount=Nq(e,(n,r)=>(L9(this.node,r,"Start"),(i,{success:s})=>L9(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Dy=new WeakMap,Rg=new WeakMap,oY=t=>{const e=Dy.get(t.target);e&&e(t)},lY=t=>{t.forEach(oY)};function uY({root:t,...e}){const n=t||document;Rg.has(n)||Rg.set(n,{});const r=Rg.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(lY,{root:t,...e})),r[i]}function cY(t,e,n){const r=uY(e);return Dy.set(t,n),r.observe(t),()=>{Dy.delete(t),r.unobserve(t)}}const hY={some:0,all:1};class fY extends Io{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:hY[i]},o=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),g=c?d:p;g&&g(u)};return cY(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(dY(e,n))&&this.startObserver()}unmount(){}}function dY({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const mY={inView:{Feature:fY},tap:{Feature:aY},focus:{Feature:sY},hover:{Feature:iY}},pY={layout:{ProjectionNode:oR,MeasureLayout:Jx}},gY={...nK,...mY,...rY,...pY},Be=vG(gY,NG),yY={progress:"",mastery:"",dedication:"",exploration:""};function vY({notification:t,onDismiss:e}){return q.useEffect(()=>{const n=setTimeout(e,5e3);return()=>clearTimeout(n)},[e]),O.jsx(Be.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"pointer-events-auto",children:O.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl bg-dark-800 border border-primary-500/30 shadow-xl shadow-primary-500/10",children:[O.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:yY[t.category]||""}),O.jsxs("div",{className:"flex-1",children:[O.jsx("div",{className:"text-xs text-primary-400 font-medium uppercase tracking-wider mb-0.5",children:"Achievement Unlocked!"}),O.jsx("div",{className:"text-dark-100 font-semibold",children:t.title}),O.jsx("div",{className:"text-sm text-dark-400",children:t.description})]}),O.jsxs("div",{className:"text-right",children:[O.jsxs("div",{className:"text-lg font-bold text-primary-400",children:["+",t.xpReward]}),O.jsx("div",{className:"text-xs text-dark-500",children:"XP"})]}),O.jsx("button",{onClick:e,className:"p-1 text-dark-500 hover:text-dark-300 transition-colors",children:O.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function bY(){const{notifications:t,dismissNotification:e}=CA();return O.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 pointer-events-none",children:O.jsx(g5,{mode:"popLayout",children:t.map(n=>O.jsx(vY,{notification:n,onDismiss:()=>e(n.id)},n.id))})})}function _Y({isOpen:t,onClose:e}){const[n,r]=q.useState([]),[i,s]=q.useState(""),[a,o]=q.useState(null),u=q.useCallback(()=>{if(i.trim()==="")return;const p=parseFloat(i);if(isNaN(p)){o("Invalid number");return}r(g=>[...g,p]),s(""),o(null)},[i]),c=q.useCallback(p=>{if(o(null),p==="clear"){r([]),s("");return}if(p==="drop"){r(g=>g.slice(0,-1));return}if(p==="swap"){if(n.length<2){o("Need 2 numbers to swap");return}r(g=>{const v=[...g],x=v.pop(),N=v.pop();return[...v,x,N]});return}if(p==="dup"){if(n.length<1){o("Need 1 number to duplicate");return}r(g=>[...g,g[g.length-1]]);return}if(n.length<2){o("Need 2 numbers");return}r(g=>{const v=[...g],x=v.pop(),N=v.pop();let P;switch(p){case"+":P=N+x;break;case"-":P=N-x;break;case"*":P=N*x;break;case"/":if(x===0)return o("Division by zero"),g;P=N/x;break;case"mod":if(x===0)return o("Modulo by zero"),g;P=(N%x+x)%x;break;case"^":P=Math.pow(N,x);break;case"div":if(x===0)return o("Division by zero"),g;P=Math.floor(N/x);break;default:return g}return[...v,P]})},[n]),d=q.useCallback(p=>{p.key==="Enter"&&(p.preventDefault(),i.trim()&&u())},[i,u]);return O.jsx(g5,{children:t&&O.jsxs(Be.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:100},className:"fixed right-4 top-20 w-64 bg-dark-800 border border-dark-600 rounded-xl shadow-2xl z-50",children:[O.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-dark-600",children:[O.jsx("h3",{className:"text-sm font-bold text-white",children:"RPN Calculator"}),O.jsx("button",{onClick:e,className:"text-dark-400 hover:text-white transition-colors",children:O.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),O.jsxs("div",{className:"p-3 border-b border-dark-600",children:[O.jsx("div",{className:"text-xs text-dark-400 mb-1",children:"Stack (bottom  top)"}),O.jsx("div",{className:"bg-dark-900 rounded-lg p-2 min-h-[60px] max-h-[100px] overflow-y-auto font-mono text-sm",children:n.length===0?O.jsx("span",{className:"text-dark-500",children:"empty"}):O.jsx("div",{className:"flex flex-wrap gap-1",children:n.map((p,g)=>O.jsx("span",{className:`px-2 py-0.5 rounded ${g===n.length-1?"bg-cyan-500/20 text-cyan-400":"bg-dark-700 text-dark-300"}`,children:Number.isInteger(p)?p:p.toFixed(4)},g))})})]}),a&&O.jsx("div",{className:"px-3 py-2 text-xs text-red-400 bg-red-500/10",children:a}),O.jsx("div",{className:"p-3 border-b border-dark-600",children:O.jsxs("div",{className:"flex gap-2",children:[O.jsx("input",{type:"number",value:i,onChange:p=>s(p.target.value),onKeyDown:d,placeholder:"Enter number",className:"flex-1 px-3 py-2 bg-dark-700 border border-dark-600 rounded-lg text-white text-sm font-mono focus:border-cyan-500 focus:outline-none"}),O.jsx("button",{onClick:u,disabled:!i.trim(),className:"px-3 py-2 bg-cyan-600 hover:bg-cyan-500 disabled:bg-dark-600 text-white text-sm font-bold rounded-lg transition-colors",children:"Push"})]})}),O.jsxs("div",{className:"p-3 space-y-2",children:[O.jsx("div",{className:"grid grid-cols-4 gap-1",children:["+","-","*","/"].map(p=>O.jsx("button",{onClick:()=>c(p),className:"py-2 bg-dark-700 hover:bg-dark-600 text-white font-bold rounded-lg transition-colors",children:p},p))}),O.jsxs("div",{className:"grid grid-cols-3 gap-1",children:[O.jsx("button",{onClick:()=>c("mod"),className:"py-2 bg-orange-600 hover:bg-orange-500 text-white font-bold rounded-lg transition-colors",children:"mod"}),O.jsx("button",{onClick:()=>c("div"),className:"py-2 bg-dark-700 hover:bg-dark-600 text-white font-bold rounded-lg transition-colors",children:"div"}),O.jsx("button",{onClick:()=>c("^"),className:"py-2 bg-dark-700 hover:bg-dark-600 text-white font-bold rounded-lg transition-colors",children:"^"})]}),O.jsxs("div",{className:"grid grid-cols-4 gap-1",children:[O.jsx("button",{onClick:()=>c("dup"),className:"py-1.5 bg-dark-700 hover:bg-dark-600 text-dark-300 text-xs rounded-lg transition-colors",children:"dup"}),O.jsx("button",{onClick:()=>c("swap"),className:"py-1.5 bg-dark-700 hover:bg-dark-600 text-dark-300 text-xs rounded-lg transition-colors",children:"swap"}),O.jsx("button",{onClick:()=>c("drop"),className:"py-1.5 bg-dark-700 hover:bg-dark-600 text-dark-300 text-xs rounded-lg transition-colors",children:"drop"}),O.jsx("button",{onClick:()=>c("clear"),className:"py-1.5 bg-red-600/50 hover:bg-red-600 text-white text-xs rounded-lg transition-colors",children:"clear"})]})]}),O.jsx("div",{className:"p-3 border-t border-dark-600",children:O.jsxs("div",{className:"text-xs text-dark-500",children:[O.jsx("span",{className:"text-dark-400",children:"Example:"})," 47 Enter 7 Enter mod  5"]})})]})})}function TY({onClick:t}){return O.jsx("button",{onClick:t,className:"fixed right-4 bottom-4 w-12 h-12 bg-dark-700 hover:bg-dark-600 border border-dark-500 rounded-full shadow-lg flex items-center justify-center text-dark-300 hover:text-white transition-colors z-40",title:"RPN Calculator",children:O.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})})}const wY=[2,3,5,7,11,13,17,19,23];function SY(){return`${Date.now()}-${Math.random().toString(36).slice(2,9)}`}function lR(t,e){return Math.floor(Math.random()*(e-t+1))+t}function EY(t,e){const n=wY.filter(r=>r>=t&&r<=e);return n.length>0&&Math.random()<.6?n[Math.floor(Math.random()*n.length)]:lR(t,e)}function AY(t,e,n){const r=Math.max(e,t+1),i=n;let s,a=0;do s=lR(r,i),a++;while(a<10&&s%t===0&&Math.random()<.9);return s}function bp(t){const e=$u.find(n=>n.tier===t);if(!e)throw new Error(`Invalid tier: ${t}`);return e}function xY(t){const e=bp(t),n=EY(e.modulusRange[0],e.modulusRange[1]),r=AY(n,e.dividendRange[0],e.dividendRange[1]),i=r%n;return{id:SY(),dividend:r,modulus:n,correctAnswer:i,displayText:`What is ${r} mod ${n}?`,tier:t,generatedAt:Date.now()}}function V9(t,e){const n=[],r=new Set;for(let i=0;i<e;i++){let s,a=0;do s=xY(t),a++;while(a<5&&r.has(`${s.dividend}-${s.modulus}`));r.add(`${s.dividend}-${s.modulus}`),n.push(s)}return n}function RY(t,e){return e===t.correctAnswer}const Cg=1e3,$f=3e3,U9=1e4;function CY(t){return t>=10?1.5:t>=7?1.3:t>=5?1.2:t>=3?1.1:1}function kY(t,e){if(e<=Cg)return t;if(e<=$f){const n=1-(e-Cg)/($f-Cg);return Math.floor(t*(.5+.5*n))}if(e<=U9){const n=1-(e-$f)/(U9-$f);return Math.floor(t*.5*n)}return 0}function uR(t,e,n){const i=bp(t).basePoints,s=kY(i,e),a=n+1,o=CY(a),u=e<2e3,c=Math.floor((i+s)*o);return{basePoints:i,speedBonus:s,streakMultiplier:o,totalPoints:c,newStreak:a,isFastAnswer:u}}function cR(t){const n=bp(t).basePoints,r=-Math.floor(n*.5);return{basePoints:r,speedBonus:0,streakMultiplier:1,totalPoints:r,newStreak:0,isFastAnswer:!1}}function IY(t){let e=0;e+=rr.GAME_PARTICIPATION;const n=rr.TIER_MULTIPLIER[t.tier],r=Math.floor(t.score/rr.POINTS_PER_XP_UNIT*Yn.QUIZ_MEDIUM*n);return e+=Math.max(0,r),t.correctAnswers===t.totalQuestions&&t.totalQuestions>=10&&(e+=rr.PERFECT_GAME_BONUS),t.fastAnswers>=10&&(e+=rr.SPEED_DEMON_BONUS),t.maxStreak>=10&&(e+=rr.STREAK_MASTER_BONUS),e}function NY(t,e){let n=0,r=0,i=0,s=0,a=0,o=0,u=0;for(const g of e)if(u+=g.responseTimeMs,g.isCorrect){const v=uR(t,g.responseTimeMs,s);n+=v.totalPoints,r++,s=v.newStreak,a=Math.max(a,s),v.isFastAnswer&&o++}else{const v=cR(t);n+=v.totalPoints,i++,s=0}const c=e.length>0?Math.round(u/e.length):0,d={tier:t,score:n,correctAnswers:r,totalQuestions:e.length,maxStreak:a,fastAnswers:o,timestamp:new Date().toISOString()},p=IY(d);return{totalPoints:n,correctAnswers:r,incorrectAnswers:i,maxStreak:a,fastAnswers:o,avgResponseTime:c,xpEarned:p}}function B9(t){return t>=0?`+${t}`:`${t}`}function hR(t){return t<1e3?`${t}ms`:`${(t/1e3).toFixed(1)}s`}const j9=()=>({phase:"lobby",tier:1,roundCount:10,currentRound:0,currentProblem:null,problems:[],roundResults:[],score:0,streak:0});function MY(){const[t,e]=q.useState(j9),n=q.useCallback((d,p)=>{const g=V9(d,p);e({phase:"countdown",tier:d,roundCount:p,currentRound:0,currentProblem:null,problems:g,roundResults:[],score:0,streak:0})},[]),r=q.useCallback(()=>{e(d=>({...d,phase:"playing",currentRound:1,currentProblem:d.problems[0]||null}))},[]),i=q.useCallback((d,p)=>{e(g=>{if(!g.currentProblem||g.phase!=="playing")return g;const v=RY(g.currentProblem,d);let x,N;if(v){const G=uR(g.tier,p,g.streak);x=G.totalPoints,N=G.newStreak}else x=cR(g.tier).totalPoints,N=0;const P={problem:g.currentProblem,userAnswer:d,isCorrect:v,responseTimeMs:p,points:x},C=[...g.roundResults,P],I=g.score+x;if(g.currentRound>=g.roundCount)return{...g,phase:"results",score:I,streak:N,roundResults:C,lastRoundResult:{isCorrect:v,points:x,correctAnswer:g.currentProblem.correctAnswer}};const V=g.currentRound+1,j=g.problems[V-1]||null;return{...g,currentRound:V,currentProblem:j,score:I,streak:N,roundResults:C,lastRoundResult:{isCorrect:v,points:x,correctAnswer:g.currentProblem.correctAnswer}}})},[]),s=q.useCallback(()=>{e(d=>{const p=V9(d.tier,d.roundCount);return{phase:"countdown",tier:d.tier,roundCount:d.roundCount,currentRound:0,currentProblem:null,problems:p,roundResults:[],score:0,streak:0}})},[]),a=q.useCallback(()=>{e(j9())},[]),o=q.useCallback(()=>{if(t.phase!=="results")return null;const d=t.roundResults.filter(P=>P.isCorrect).length,p=t.roundResults.filter(P=>P.isCorrect&&P.responseTimeMs<2e3).length;let g=0,v=0;for(const P of t.roundResults)P.isCorrect?(v++,g=Math.max(g,v)):v=0;const x=t.roundResults.reduce((P,C)=>P+C.responseTimeMs,0),N=t.roundResults.length>0?Math.round(x/t.roundResults.length):0;return{tier:t.tier,score:t.score,correctAnswers:d,totalQuestions:t.roundResults.length,maxStreak:g,fastAnswers:p,avgResponseTime:N,timestamp:new Date().toISOString(),isMultiplayer:!1}},[t]),u=q.useCallback(()=>{if(t.phase!=="results")return null;const d=t.roundResults.map(p=>({isCorrect:p.isCorrect,responseTimeMs:p.responseTimeMs}));return NY(t.tier,d)},[t]),c=q.useMemo(()=>({startGame:n,completeCountdown:r,submitAnswer:i,playAgain:s,returnToLobby:a,getGameResult:o,getFinalScore:u}),[n,r,i,s,a,o,u]);return[t,c]}var F9={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DY=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],u=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},dR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,p=(s&3)<<4|o>>4;let g=(o&15)<<2|c>>6,v=c&63;u||(v=64,a||(g=64)),r.push(n[d],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||p==null)throw new OY;const g=s<<2|o>>4;if(r.push(g),c!==64){const v=o<<4&240|c>>2;if(r.push(v),p!==64){const x=c<<6&192|p;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class OY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PY=function(t){const e=fR(t);return dR.encodeByteArray(e,!0)},mR=function(t){return PY(t).replace(/\./g,"")},zY=function(t){try{return dR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VY=()=>LY().__FIREBASE_DEFAULTS__,UY=()=>{if(typeof process>"u"||typeof F9>"u")return;const t=F9.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BY=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zY(t[1]);return e&&JSON.parse(e)},jY=()=>{try{return VY()||UY()||BY()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FY(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function HY(){var t;const e=(t=jY())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $Y(){return!HY()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qY(){try{return typeof indexedDB=="object"}catch{return!1}}function GY(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KY="FirebaseError";class Ol extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KY,Object.setPrototypeOf(this,Ol.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pR.prototype.create)}}class pR{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?YY(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Ol(i,o,r)}}function YY(t,e){return t.replace(XY,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const XY=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(t){return t&&t._delegate?t._delegate:t}class wh{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(We||(We={}));const ZY={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},QY=We.INFO,WY={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},JY=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=WY[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gR{constructor(e){this.name=e,this._logLevel=QY,this._logHandler=JY,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ZY[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const eX=(t,e)=>e.some(n=>t instanceof n);let H9,$9;function tX(){return H9||(H9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nX(){return $9||($9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yR=new WeakMap,Oy=new WeakMap,vR=new WeakMap,kg=new WeakMap,R5=new WeakMap;function rX(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(lo(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&yR.set(n,t)}).catch(()=>{}),R5.set(e,t),e}function iX(t){if(Oy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});Oy.set(t,e)}let Py={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Oy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return lo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sX(t){Py=t(Py)}function aX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ig(this),e,...n);return vR.set(r,e.sort?e.sort():[e]),lo(r)}:nX().includes(t)?function(...e){return t.apply(Ig(this),e),lo(yR.get(this))}:function(...e){return lo(t.apply(Ig(this),e))}}function oX(t){return typeof t=="function"?aX(t):(t instanceof IDBTransaction&&iX(t),eX(t,tX())?new Proxy(t,Py):t)}function lo(t){if(t instanceof IDBRequest)return rX(t);if(kg.has(t))return kg.get(t);const e=oX(t);return e!==t&&(kg.set(t,e),R5.set(e,t)),e}const Ig=t=>R5.get(t);function lX(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=lo(a);return r&&a.addEventListener("upgradeneeded",u=>{r(lo(a.result),u.oldVersion,u.newVersion,lo(a.transaction),u)}),n&&a.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),o.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const uX=["get","getKey","getAll","getAllKeys","count"],cX=["put","add","delete","clear"],Ng=new Map;function q9(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ng.get(e))return Ng.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uX.includes(n)))return;const s=async function(a,...o){const u=this.transaction(a,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&u.done]))[0]};return Ng.set(e,s),s}sX(t=>({...t,get:(e,n,r)=>q9(e,n)||t.get(e,n,r),has:(e,n)=>!!q9(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fX(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fX(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zy="@firebase/app",G9="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new gR("@firebase/app"),dX="@firebase/app-compat",mX="@firebase/analytics-compat",pX="@firebase/analytics",gX="@firebase/app-check-compat",yX="@firebase/app-check",vX="@firebase/auth",bX="@firebase/auth-compat",_X="@firebase/database",TX="@firebase/data-connect",wX="@firebase/database-compat",SX="@firebase/functions",EX="@firebase/functions-compat",AX="@firebase/installations",xX="@firebase/installations-compat",RX="@firebase/messaging",CX="@firebase/messaging-compat",kX="@firebase/performance",IX="@firebase/performance-compat",NX="@firebase/remote-config",MX="@firebase/remote-config-compat",DX="@firebase/storage",OX="@firebase/storage-compat",PX="@firebase/firestore",zX="@firebase/vertexai-preview",LX="@firebase/firestore-compat",VX="firebase",UX="10.14.1",BX={[zy]:"fire-core",[dX]:"fire-core-compat",[pX]:"fire-analytics",[mX]:"fire-analytics-compat",[yX]:"fire-app-check",[gX]:"fire-app-check-compat",[vX]:"fire-auth",[bX]:"fire-auth-compat",[_X]:"fire-rtdb",[TX]:"fire-data-connect",[wX]:"fire-rtdb-compat",[SX]:"fire-fn",[EX]:"fire-fn-compat",[AX]:"fire-iid",[xX]:"fire-iid-compat",[RX]:"fire-fcm",[CX]:"fire-fcm-compat",[kX]:"fire-perf",[IX]:"fire-perf-compat",[NX]:"fire-rc",[MX]:"fire-rc-compat",[DX]:"fire-gcs",[OX]:"fire-gcs-compat",[PX]:"fire-fst",[LX]:"fire-fst-compat",[zX]:"fire-vertex","fire-js":"fire-js",[VX]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jX=new Map,FX=new Map,K9=new Map;function Y9(t,e){try{t.container.addComponent(e)}catch(n){da.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sh(t){const e=t.name;if(K9.has(e))return da.debug(`There were multiple attempts to register component ${e}.`),!1;K9.set(e,t);for(const n of jX.values())Y9(n,t);for(const n of FX.values())Y9(n,t);return!0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},C5=new pR("app","Firebase",HX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $X=UX;function hl(t,e,n){var r;let i=(r=BX[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),da.warn(o.join(" "));return}Sh(new wh(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qX="firebase-heartbeat-database",GX=1,Eh="firebase-heartbeat-store";let Mg=null;function bR(){return Mg||(Mg=lX(qX,GX,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Eh)}catch(n){console.warn(n)}}}}).catch(t=>{throw C5.create("idb-open",{originalErrorMessage:t.message})})),Mg}async function KX(t){try{const n=(await bR()).transaction(Eh),r=await n.objectStore(Eh).get(_R(t));return await n.done,r}catch(e){if(e instanceof Ol)da.warn(e.message);else{const n=C5.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});da.warn(n.message)}}}async function X9(t,e){try{const r=(await bR()).transaction(Eh,"readwrite");await r.objectStore(Eh).put(e,_R(t)),await r.done}catch(n){if(n instanceof Ol)da.warn(n.message);else{const r=C5.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});da.warn(r.message)}}}function _R(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YX=1024,XX=30*24*60*60*1e3;class ZX{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Z9();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=XX}),this._storage.overwrite(this._heartbeatsCache))}catch(r){da.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Z9(),{heartbeatsToSend:r,unsentEntries:i}=QX(this._heartbeatsCache.heartbeats),s=mR(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return da.warn(n),""}}}function Z9(){return new Date().toISOString().substring(0,10)}function QX(t,e=YX){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Q9(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Q9(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qY()?GY().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KX(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return X9(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return X9(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Q9(t){return mR(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JX(t){Sh(new wh("platform-logger",e=>new hX(e),"PRIVATE")),Sh(new wh("heartbeat",e=>new ZX(e),"PRIVATE")),hl(zy,G9,t),hl(zy,G9,"esm2017"),hl("fire-js","")}JX("");var W9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fl,TR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,b){function _(){}_.prototype=b.prototype,S.D=b.prototype,S.prototype=new _,S.prototype.constructor=S,S.C=function(A,R,D){for(var w=Array(arguments.length-2),ue=2;ue<arguments.length;ue++)w[ue-2]=arguments[ue];return b.prototype[R].apply(A,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,b,_){_||(_=0);var A=Array(16);if(typeof b=="string")for(var R=0;16>R;++R)A[R]=b.charCodeAt(_++)|b.charCodeAt(_++)<<8|b.charCodeAt(_++)<<16|b.charCodeAt(_++)<<24;else for(R=0;16>R;++R)A[R]=b[_++]|b[_++]<<8|b[_++]<<16|b[_++]<<24;b=S.g[0],_=S.g[1],R=S.g[2];var D=S.g[3],w=b+(D^_&(R^D))+A[0]+3614090360&4294967295;b=_+(w<<7&4294967295|w>>>25),w=D+(R^b&(_^R))+A[1]+3905402710&4294967295,D=b+(w<<12&4294967295|w>>>20),w=R+(_^D&(b^_))+A[2]+606105819&4294967295,R=D+(w<<17&4294967295|w>>>15),w=_+(b^R&(D^b))+A[3]+3250441966&4294967295,_=R+(w<<22&4294967295|w>>>10),w=b+(D^_&(R^D))+A[4]+4118548399&4294967295,b=_+(w<<7&4294967295|w>>>25),w=D+(R^b&(_^R))+A[5]+1200080426&4294967295,D=b+(w<<12&4294967295|w>>>20),w=R+(_^D&(b^_))+A[6]+2821735955&4294967295,R=D+(w<<17&4294967295|w>>>15),w=_+(b^R&(D^b))+A[7]+4249261313&4294967295,_=R+(w<<22&4294967295|w>>>10),w=b+(D^_&(R^D))+A[8]+1770035416&4294967295,b=_+(w<<7&4294967295|w>>>25),w=D+(R^b&(_^R))+A[9]+2336552879&4294967295,D=b+(w<<12&4294967295|w>>>20),w=R+(_^D&(b^_))+A[10]+4294925233&4294967295,R=D+(w<<17&4294967295|w>>>15),w=_+(b^R&(D^b))+A[11]+2304563134&4294967295,_=R+(w<<22&4294967295|w>>>10),w=b+(D^_&(R^D))+A[12]+1804603682&4294967295,b=_+(w<<7&4294967295|w>>>25),w=D+(R^b&(_^R))+A[13]+4254626195&4294967295,D=b+(w<<12&4294967295|w>>>20),w=R+(_^D&(b^_))+A[14]+2792965006&4294967295,R=D+(w<<17&4294967295|w>>>15),w=_+(b^R&(D^b))+A[15]+1236535329&4294967295,_=R+(w<<22&4294967295|w>>>10),w=b+(R^D&(_^R))+A[1]+4129170786&4294967295,b=_+(w<<5&4294967295|w>>>27),w=D+(_^R&(b^_))+A[6]+3225465664&4294967295,D=b+(w<<9&4294967295|w>>>23),w=R+(b^_&(D^b))+A[11]+643717713&4294967295,R=D+(w<<14&4294967295|w>>>18),w=_+(D^b&(R^D))+A[0]+3921069994&4294967295,_=R+(w<<20&4294967295|w>>>12),w=b+(R^D&(_^R))+A[5]+3593408605&4294967295,b=_+(w<<5&4294967295|w>>>27),w=D+(_^R&(b^_))+A[10]+38016083&4294967295,D=b+(w<<9&4294967295|w>>>23),w=R+(b^_&(D^b))+A[15]+3634488961&4294967295,R=D+(w<<14&4294967295|w>>>18),w=_+(D^b&(R^D))+A[4]+3889429448&4294967295,_=R+(w<<20&4294967295|w>>>12),w=b+(R^D&(_^R))+A[9]+568446438&4294967295,b=_+(w<<5&4294967295|w>>>27),w=D+(_^R&(b^_))+A[14]+3275163606&4294967295,D=b+(w<<9&4294967295|w>>>23),w=R+(b^_&(D^b))+A[3]+4107603335&4294967295,R=D+(w<<14&4294967295|w>>>18),w=_+(D^b&(R^D))+A[8]+1163531501&4294967295,_=R+(w<<20&4294967295|w>>>12),w=b+(R^D&(_^R))+A[13]+2850285829&4294967295,b=_+(w<<5&4294967295|w>>>27),w=D+(_^R&(b^_))+A[2]+4243563512&4294967295,D=b+(w<<9&4294967295|w>>>23),w=R+(b^_&(D^b))+A[7]+1735328473&4294967295,R=D+(w<<14&4294967295|w>>>18),w=_+(D^b&(R^D))+A[12]+2368359562&4294967295,_=R+(w<<20&4294967295|w>>>12),w=b+(_^R^D)+A[5]+4294588738&4294967295,b=_+(w<<4&4294967295|w>>>28),w=D+(b^_^R)+A[8]+2272392833&4294967295,D=b+(w<<11&4294967295|w>>>21),w=R+(D^b^_)+A[11]+1839030562&4294967295,R=D+(w<<16&4294967295|w>>>16),w=_+(R^D^b)+A[14]+4259657740&4294967295,_=R+(w<<23&4294967295|w>>>9),w=b+(_^R^D)+A[1]+2763975236&4294967295,b=_+(w<<4&4294967295|w>>>28),w=D+(b^_^R)+A[4]+1272893353&4294967295,D=b+(w<<11&4294967295|w>>>21),w=R+(D^b^_)+A[7]+4139469664&4294967295,R=D+(w<<16&4294967295|w>>>16),w=_+(R^D^b)+A[10]+3200236656&4294967295,_=R+(w<<23&4294967295|w>>>9),w=b+(_^R^D)+A[13]+681279174&4294967295,b=_+(w<<4&4294967295|w>>>28),w=D+(b^_^R)+A[0]+3936430074&4294967295,D=b+(w<<11&4294967295|w>>>21),w=R+(D^b^_)+A[3]+3572445317&4294967295,R=D+(w<<16&4294967295|w>>>16),w=_+(R^D^b)+A[6]+76029189&4294967295,_=R+(w<<23&4294967295|w>>>9),w=b+(_^R^D)+A[9]+3654602809&4294967295,b=_+(w<<4&4294967295|w>>>28),w=D+(b^_^R)+A[12]+3873151461&4294967295,D=b+(w<<11&4294967295|w>>>21),w=R+(D^b^_)+A[15]+530742520&4294967295,R=D+(w<<16&4294967295|w>>>16),w=_+(R^D^b)+A[2]+3299628645&4294967295,_=R+(w<<23&4294967295|w>>>9),w=b+(R^(_|~D))+A[0]+4096336452&4294967295,b=_+(w<<6&4294967295|w>>>26),w=D+(_^(b|~R))+A[7]+1126891415&4294967295,D=b+(w<<10&4294967295|w>>>22),w=R+(b^(D|~_))+A[14]+2878612391&4294967295,R=D+(w<<15&4294967295|w>>>17),w=_+(D^(R|~b))+A[5]+4237533241&4294967295,_=R+(w<<21&4294967295|w>>>11),w=b+(R^(_|~D))+A[12]+1700485571&4294967295,b=_+(w<<6&4294967295|w>>>26),w=D+(_^(b|~R))+A[3]+2399980690&4294967295,D=b+(w<<10&4294967295|w>>>22),w=R+(b^(D|~_))+A[10]+4293915773&4294967295,R=D+(w<<15&4294967295|w>>>17),w=_+(D^(R|~b))+A[1]+2240044497&4294967295,_=R+(w<<21&4294967295|w>>>11),w=b+(R^(_|~D))+A[8]+1873313359&4294967295,b=_+(w<<6&4294967295|w>>>26),w=D+(_^(b|~R))+A[15]+4264355552&4294967295,D=b+(w<<10&4294967295|w>>>22),w=R+(b^(D|~_))+A[6]+2734768916&4294967295,R=D+(w<<15&4294967295|w>>>17),w=_+(D^(R|~b))+A[13]+1309151649&4294967295,_=R+(w<<21&4294967295|w>>>11),w=b+(R^(_|~D))+A[4]+4149444226&4294967295,b=_+(w<<6&4294967295|w>>>26),w=D+(_^(b|~R))+A[11]+3174756917&4294967295,D=b+(w<<10&4294967295|w>>>22),w=R+(b^(D|~_))+A[2]+718787259&4294967295,R=D+(w<<15&4294967295|w>>>17),w=_+(D^(R|~b))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+b&4294967295,S.g[1]=S.g[1]+(R+(w<<21&4294967295|w>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,b){b===void 0&&(b=S.length);for(var _=b-this.blockSize,A=this.B,R=this.h,D=0;D<b;){if(R==0)for(;D<=_;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<b;)if(A[R++]=S.charCodeAt(D++),R==this.blockSize){i(this,A),R=0;break}}else for(;D<b;)if(A[R++]=S[D++],R==this.blockSize){i(this,A),R=0;break}}this.h=R,this.o+=b},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var b=1;b<S.length-8;++b)S[b]=0;var _=8*this.o;for(b=S.length-8;b<S.length;++b)S[b]=_&255,_/=256;for(this.u(S),S=Array(16),b=_=0;4>b;++b)for(var A=0;32>A;A+=8)S[_++]=this.g[b]>>>A&255;return S};function s(S,b){var _=o;return Object.prototype.hasOwnProperty.call(_,S)?_[S]:_[S]=b(S)}function a(S,b){this.h=b;for(var _=[],A=!0,R=S.length-1;0<=R;R--){var D=S[R]|0;A&&D==b||(_[R]=D,A=!1)}this.g=_}var o={};function u(S){return-128<=S&&128>S?s(S,function(b){return new a([b|0],0>b?-1:0)}):new a([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return P(c(-S));for(var b=[],_=1,A=0;S>=_;A++)b[A]=S/_|0,_*=4294967296;return new a(b,0)}function d(S,b){if(S.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(S.charAt(0)=="-")return P(d(S.substring(1),b));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=c(Math.pow(b,8)),A=p,R=0;R<S.length;R+=8){var D=Math.min(8,S.length-R),w=parseInt(S.substring(R,R+D),b);8>D?(D=c(Math.pow(b,D)),A=A.j(D).add(c(w))):(A=A.j(_),A=A.add(c(w)))}return A}var p=u(0),g=u(1),v=u(16777216);t=a.prototype,t.m=function(){if(N(this))return-P(this).m();for(var S=0,b=1,_=0;_<this.g.length;_++){var A=this.i(_);S+=(0<=A?A:4294967296+A)*b,b*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x(this))return"0";if(N(this))return"-"+P(this).toString(S);for(var b=c(Math.pow(S,6)),_=this,A="";;){var R=V(_,b).g;_=C(_,R.j(b));var D=((0<_.g.length?_.g[0]:_.h)>>>0).toString(S);if(_=R,x(_))return D+A;for(;6>D.length;)D="0"+D;A=D+A}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function x(S){if(S.h!=0)return!1;for(var b=0;b<S.g.length;b++)if(S.g[b]!=0)return!1;return!0}function N(S){return S.h==-1}t.l=function(S){return S=C(this,S),N(S)?-1:x(S)?0:1};function P(S){for(var b=S.g.length,_=[],A=0;A<b;A++)_[A]=~S.g[A];return new a(_,~S.h).add(g)}t.abs=function(){return N(this)?P(this):this},t.add=function(S){for(var b=Math.max(this.g.length,S.g.length),_=[],A=0,R=0;R<=b;R++){var D=A+(this.i(R)&65535)+(S.i(R)&65535),w=(D>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);A=w>>>16,D&=65535,w&=65535,_[R]=w<<16|D}return new a(_,_[_.length-1]&-2147483648?-1:0)};function C(S,b){return S.add(P(b))}t.j=function(S){if(x(this)||x(S))return p;if(N(this))return N(S)?P(this).j(P(S)):P(P(this).j(S));if(N(S))return P(this.j(P(S)));if(0>this.l(v)&&0>S.l(v))return c(this.m()*S.m());for(var b=this.g.length+S.g.length,_=[],A=0;A<2*b;A++)_[A]=0;for(A=0;A<this.g.length;A++)for(var R=0;R<S.g.length;R++){var D=this.i(A)>>>16,w=this.i(A)&65535,ue=S.i(R)>>>16,Ie=S.i(R)&65535;_[2*A+2*R]+=w*Ie,I(_,2*A+2*R),_[2*A+2*R+1]+=D*Ie,I(_,2*A+2*R+1),_[2*A+2*R+1]+=w*ue,I(_,2*A+2*R+1),_[2*A+2*R+2]+=D*ue,I(_,2*A+2*R+2)}for(A=0;A<b;A++)_[A]=_[2*A+1]<<16|_[2*A];for(A=b;A<2*b;A++)_[A]=0;return new a(_,0)};function I(S,b){for(;(S[b]&65535)!=S[b];)S[b+1]+=S[b]>>>16,S[b]&=65535,b++}function M(S,b){this.g=S,this.h=b}function V(S,b){if(x(b))throw Error("division by zero");if(x(S))return new M(p,p);if(N(S))return b=V(P(S),b),new M(P(b.g),P(b.h));if(N(b))return b=V(S,P(b)),new M(P(b.g),b.h);if(30<S.g.length){if(N(S)||N(b))throw Error("slowDivide_ only works with positive integers.");for(var _=g,A=b;0>=A.l(S);)_=j(_),A=j(A);var R=G(_,1),D=G(A,1);for(A=G(A,2),_=G(_,2);!x(A);){var w=D.add(A);0>=w.l(S)&&(R=R.add(_),D=w),A=G(A,1),_=G(_,1)}return b=C(S,R.j(b)),new M(R,b)}for(R=p;0<=S.l(b);){for(_=Math.max(1,Math.floor(S.m()/b.m())),A=Math.ceil(Math.log(_)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),D=c(_),w=D.j(b);N(w)||0<w.l(S);)_-=A,D=c(_),w=D.j(b);x(D)&&(D=g),R=R.add(D),S=C(S,w)}return new M(R,S)}t.A=function(S){return V(this,S).h},t.and=function(S){for(var b=Math.max(this.g.length,S.g.length),_=[],A=0;A<b;A++)_[A]=this.i(A)&S.i(A);return new a(_,this.h&S.h)},t.or=function(S){for(var b=Math.max(this.g.length,S.g.length),_=[],A=0;A<b;A++)_[A]=this.i(A)|S.i(A);return new a(_,this.h|S.h)},t.xor=function(S){for(var b=Math.max(this.g.length,S.g.length),_=[],A=0;A<b;A++)_[A]=this.i(A)^S.i(A);return new a(_,this.h^S.h)};function j(S){for(var b=S.g.length+1,_=[],A=0;A<b;A++)_[A]=S.i(A)<<1|S.i(A-1)>>>31;return new a(_,S.h)}function G(S,b){var _=b>>5;b%=32;for(var A=S.g.length-_,R=[],D=0;D<A;D++)R[D]=0<b?S.i(D+_)>>>b|S.i(D+_+1)<<32-b:S.i(D+_);return new a(R,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,TR=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=d,fl=a}).apply(typeof W9<"u"?W9:typeof self<"u"?self:typeof window<"u"?window:{});var qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wR,_0,SR,_d,Ly,ER,AR,xR;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,m){return l==Array.prototype||l==Object.prototype||(l[f]=m.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof qf=="object"&&qf];for(var f=0;f<l.length;++f){var m=l[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(l,f){if(f)e:{var m=r;l=l.split(".");for(var E=0;E<l.length-1;E++){var L=l[E];if(!(L in m))break e;m=m[L]}l=l[l.length-1],E=m[l],f=f(E),f!=E&&f!=null&&e(m,l,{configurable:!0,writable:!0,value:f})}}function s(l,f){l instanceof String&&(l+="");var m=0,E=!1,L={next:function(){if(!E&&m<l.length){var F=m++;return{value:f(F,l[F]),done:!1}}return E=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(l){return l||function(){return s(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function u(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function c(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function d(l,f,m){return l.call.apply(l.bind,arguments)}function p(l,f,m){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,E),l.apply(f,L)}}return function(){return l.apply(f,arguments)}}function g(l,f,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,g.apply(null,arguments)}function v(l,f){var m=Array.prototype.slice.call(arguments,1);return function(){var E=m.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function x(l,f){function m(){}m.prototype=f.prototype,l.aa=f.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(E,L,F){for(var Z=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)Z[ke-2]=arguments[ke];return f.prototype[L].apply(E,Z)}}function N(l){const f=l.length;if(0<f){const m=Array(f);for(let E=0;E<f;E++)m[E]=l[E];return m}return[]}function P(l,f){for(let m=1;m<arguments.length;m++){const E=arguments[m];if(u(E)){const L=l.length||0,F=E.length||0;l.length=L+F;for(let Z=0;Z<F;Z++)l[L+Z]=E[Z]}else l.push(E)}}class C{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function I(l){return/^[\s\xa0]*$/.test(l)}function M(){var l=o.navigator;return l&&(l=l.userAgent)?l:""}function V(l){return V[" "](l),l}V[" "]=function(){};var j=M().indexOf("Gecko")!=-1&&!(M().toLowerCase().indexOf("webkit")!=-1&&M().indexOf("Edge")==-1)&&!(M().indexOf("Trident")!=-1||M().indexOf("MSIE")!=-1)&&M().indexOf("Edge")==-1;function G(l,f,m){for(const E in l)f.call(m,l[E],E,l)}function S(l,f){for(const m in l)f.call(void 0,l[m],m,l)}function b(l){const f={};for(const m in l)f[m]=l[m];return f}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(l,f){let m,E;for(let L=1;L<arguments.length;L++){E=arguments[L];for(m in E)l[m]=E[m];for(let F=0;F<_.length;F++)m=_[F],Object.prototype.hasOwnProperty.call(E,m)&&(l[m]=E[m])}}function R(l){var f=1;l=l.split(":");const m=[];for(;0<f&&l.length;)m.push(l.shift()),f--;return l.length&&m.push(l.join(":")),m}function D(l){o.setTimeout(()=>{throw l},0)}function w(){var l=xe;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class ue{constructor(){this.h=this.g=null}add(f,m){const E=Ie.get();E.set(f,m),this.h?this.h.next=E:this.g=E,this.h=E}}var Ie=new C(()=>new te,l=>l.reset());class te{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let re,se=!1,xe=new ue,Re=()=>{const l=o.Promise.resolve(void 0);re=()=>{l.then(je)}};var je=()=>{for(var l;l=w();){try{l.h.call(l.g)}catch(m){D(m)}var f=Ie;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}se=!1};function Ne(){this.s=this.s,this.C=this.C}Ne.prototype.s=!1,Ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var dn=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};o.addEventListener("test",m,f),o.removeEventListener("test",m,f)}catch{}return l}();function Ce(l,f){if(he.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(j){e:{try{V(f.nodeName);var L=!0;break e}catch{}L=!1}L||(f=null)}}else m=="mouseover"?f=l.fromElement:m=="mouseout"&&(f=l.toElement);this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Qr[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ce.aa.h.call(this)}}x(Ce,he);var Qr={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Xt="closure_listenable_"+(1e6*Math.random()|0),wn=0;function wi(l,f,m,E,L){this.listener=l,this.proxy=null,this.src=f,this.type=m,this.capture=!!E,this.ha=L,this.key=++wn,this.da=this.fa=!1}function mn(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function pr(l){this.src=l,this.g={},this.h=0}pr.prototype.add=function(l,f,m,E,L){var F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);var Z=Vn(l,f,E,L);return-1<Z?(f=l[Z],m||(f.fa=!1)):(f=new wi(f,this.src,F,!!E,L),f.fa=m,l.push(f)),f};function Wr(l,f){var m=f.type;if(m in l.g){var E=l.g[m],L=Array.prototype.indexOf.call(E,f,void 0),F;(F=0<=L)&&Array.prototype.splice.call(E,L,1),F&&(mn(f),l.g[m].length==0&&(delete l.g[m],l.h--))}}function Vn(l,f,m,E){for(var L=0;L<l.length;++L){var F=l[L];if(!F.da&&F.listener==f&&F.capture==!!m&&F.ha==E)return L}return-1}var Un="closure_lm_"+(1e6*Math.random()|0),pn={};function Jr(l,f,m,E,L){if(Array.isArray(f)){for(var F=0;F<f.length;F++)Jr(l,f[F],m,E,L);return null}return m=Ai(m),l&&l[Xt]?l.K(f,m,c(E)?!!E.capture:!1,L):Si(l,f,m,!1,E,L)}function Si(l,f,m,E,L,F){if(!f)throw Error("Invalid event type");var Z=c(L)?!!L.capture:!!L,ke=_s(l);if(ke||(l[Un]=ke=new pr(l)),m=ke.add(f,m,E,Z,F),m.proxy)return m;if(E=Xn(),m.proxy=E,E.src=l,E.listener=m,l.addEventListener)dn||(L=Z),L===void 0&&(L=!1),l.addEventListener(f.toString(),E,L);else if(l.attachEvent)l.attachEvent(ya(f.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Xn(){function l(m){return f.call(l.src,l.listener,m)}const f=Pl;return l}function Zn(l,f,m,E,L){if(Array.isArray(f))for(var F=0;F<f.length;F++)Zn(l,f[F],m,E,L);else E=c(E)?!!E.capture:!!E,m=Ai(m),l&&l[Xt]?(l=l.i,f=String(f).toString(),f in l.g&&(F=l.g[f],m=Vn(F,m,E,L),-1<m&&(mn(F[m]),Array.prototype.splice.call(F,m,1),F.length==0&&(delete l.g[f],l.h--)))):l&&(l=_s(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Vn(f,m,E,L)),(m=-1<l?f[l]:null)&&ei(m))}function ei(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Xt])Wr(f.i,l);else{var m=l.type,E=l.proxy;f.removeEventListener?f.removeEventListener(m,E,l.capture):f.detachEvent?f.detachEvent(ya(m),E):f.addListener&&f.removeListener&&f.removeListener(E),(m=_s(f))?(Wr(m,l),m.h==0&&(m.src=null,f[Un]=null)):mn(l)}}}function ya(l){return l in pn?pn[l]:pn[l]="on"+l}function Pl(l,f){if(l.da)l=!0;else{f=new Ce(f,this);var m=l.listener,E=l.ha||l.src;l.fa&&ei(l),l=m.call(E,f)}return l}function _s(l){return l=l[Un],l instanceof pr?l:null}var Ei="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ai(l){return typeof l=="function"?l:(l[Ei]||(l[Ei]=function(f){return l.handleEvent(f)}),l[Ei])}function Ue(){Ne.call(this),this.i=new pr(this),this.M=this,this.F=null}x(Ue,Ne),Ue.prototype[Xt]=!0,Ue.prototype.removeEventListener=function(l,f,m,E){Zn(this,l,f,m,E)};function Pe(l,f){var m,E=l.F;if(E)for(m=[];E;E=E.F)m.push(E);if(l=l.M,E=f.type||f,typeof f=="string")f=new he(f,l);else if(f instanceof he)f.target=f.target||l;else{var L=f;f=new he(E,l),A(f,L)}if(L=!0,m)for(var F=m.length-1;0<=F;F--){var Z=f.g=m[F];L=Or(Z,E,!0,f)&&L}if(Z=f.g=l,L=Or(Z,E,!0,f)&&L,L=Or(Z,E,!1,f)&&L,m)for(F=0;F<m.length;F++)Z=f.g=m[F],L=Or(Z,E,!1,f)&&L}Ue.prototype.N=function(){if(Ue.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var m=l.g[f],E=0;E<m.length;E++)mn(m[E]);delete l.g[f],l.h--}}this.F=null},Ue.prototype.K=function(l,f,m,E){return this.i.add(String(l),f,!1,m,E)},Ue.prototype.L=function(l,f,m,E){return this.i.add(String(l),f,!0,m,E)};function Or(l,f,m,E){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var L=!0,F=0;F<f.length;++F){var Z=f[F];if(Z&&!Z.da&&Z.capture==m){var ke=Z.listener,ye=Z.ha||Z.src;Z.fa&&Wr(l.i,Z),L=ke.call(ye,E)!==!1&&L}}return L&&!E.defaultPrevented}function va(l,f,m){if(typeof l=="function")m&&(l=g(l,m));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:o.setTimeout(l,f||0)}function ba(l){l.g=va(()=>{l.g=null,l.i&&(l.i=!1,ba(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class No extends Ne{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ba(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gr(l){Ne.call(this),this.h=l,this.g={}}x(gr,Ne);var Yi=[];function Xi(l){G(l.g,function(f,m){this.g.hasOwnProperty(m)&&ei(f)},l),l.g={}}gr.prototype.N=function(){gr.aa.N.call(this),Xi(this)},gr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=o.JSON.stringify,Zi=o.JSON.parse,Mo=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function xi(){}xi.prototype.h=null;function Do(l){return l.h||(l.h=l.i())}function Ts(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ws(){he.call(this,"d")}x(ws,he);function Pr(){he.call(this,"c")}x(Pr,he);var jn={},Oo=null;function lt(){return Oo=Oo||new Ue}jn.La="serverreachability";function ti(l){he.call(this,jn.La,l)}x(ti,he);function zr(l){const f=lt();Pe(f,new ti(f))}jn.STAT_EVENT="statevent";function _a(l,f){he.call(this,jn.STAT_EVENT,l),this.stat=f}x(_a,he);function Ge(l){const f=lt();Pe(f,new _a(f,l))}jn.Ma="timingevent";function Ta(l,f){he.call(this,jn.Ma,l),this.size=f}x(Ta,he);function yr(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},f)}function Lr(){this.g=!0}Lr.prototype.xa=function(){this.g=!1};function vr(l,f,m,E,L,F){l.info(function(){if(l.g)if(F)for(var Z="",ke=F.split("&"),ye=0;ye<ke.length;ye++){var _e=ke[ye].split("=");if(1<_e.length){var Qe=_e[0];_e=_e[1];var xt=Qe.split("_");Z=2<=xt.length&&xt[1]=="type"?Z+(Qe+"="+_e+"&"):Z+(Qe+"=redacted&")}}else Z=null;else Z=F;return"XMLHTTP REQ ("+E+") [attempt "+L+"]: "+f+`
`+m+`
`+Z})}function Ri(l,f,m,E,L,F,Z){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+L+"]: "+f+`
`+m+`
`+F+" "+Z})}function Fn(l,f,m,E){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Po(l,m)+(E?" "+E:"")})}function zl(l,f){l.info(function(){return"TIMEOUT: "+f})}Lr.prototype.info=function(){};function Po(l,f){if(!l.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var E=m[l];if(!(2>E.length)){var L=E[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var Z=1;Z<L.length;Z++)L[Z]=""}}}}return Sn(m)}catch{return f}}var Ci={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},br={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qi;function ni(){}x(ni,xi),ni.prototype.g=function(){return new XMLHttpRequest},ni.prototype.i=function(){return{}},Qi=new ni;function Zt(l,f,m,E){this.j=l,this.i=f,this.l=m,this.R=E||1,this.U=new gr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wa}function wa(){this.i=null,this.g="",this.h=!1}var zo={},ce={};function H(l,f,m){l.L=1,l.v=As(sn(f)),l.m=m,l.P=!0,J(l,null)}function J(l,f){l.F=Date.now(),mt(l),l.A=sn(l.v);var m=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),kc(m.i,"t",E),l.C=0,m=l.j.J,l.h=new wa,l.g=Kc(l.j,m?f:null,!l.m),0<l.O&&(l.M=new No(g(l.Y,l,l.g),l.O)),f=l.U,m=l.g,E=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Yi[0]=L.toString()),L=Yi);for(var F=0;F<L.length;F++){var Z=Jr(m,L[F],E||f.handleEvent,!1,f.h||f);if(!Z)break;f.g[Z.key]=Z}f=l.H?b(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),zr(),vr(l.i,l.u,l.A,l.l,l.R,l.m)}Zt.prototype.ca=function(l){l=l.target;const f=this.M;f&&an(l)==3?f.j():this.Y(l)},Zt.prototype.Y=function(l){try{if(l==this.g)e:{const xt=an(this.g);var f=this.g.Ba();const gn=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||zc(this.g)))){this.J||xt!=4||f==7||(f==8||0>=gn?zr(3):zr(2)),Nt(this);var m=this.g.Z();this.X=m;t:if(le(this)){var E=zc(this.g);l="";var L=E.length,F=an(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mt(this),Bt(this);var Z="";break t}this.h.i=new o.TextDecoder}for(f=0;f<L;f++)this.h.h=!0,l+=this.h.i.decode(E[f],{stream:!(F&&f==L-1)});E.length=0,this.h.g+=l,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=m==200,Ri(this.i,this.u,this.A,this.l,this.R,xt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,ye=this.g;if((ke=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(ke)){var _e=ke;break t}}_e=null}if(m=_e)Fn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ki(this,m);else{this.o=!1,this.s=3,Ge(12),Mt(this),Bt(this);break e}}if(this.P){m=!0;let $n;for(;!this.J&&this.C<Z.length;)if($n=ut(this,Z),$n==ce){xt==4&&(this.s=4,Ge(14),m=!1),Fn(this.i,this.l,null,"[Incomplete Response]");break}else if($n==zo){this.s=4,Ge(15),Fn(this.i,this.l,Z,"[Invalid Chunk]"),m=!1;break}else Fn(this.i,this.l,$n,null),ki(this,$n);if(le(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||Z.length!=0||this.h.h||(this.s=1,Ge(16),m=!1),this.o=this.o&&m,!m)Fn(this.i,this.l,Z,"[Invalid Chunked Response]"),Mt(this),Bt(this);else if(0<Z.length&&!this.W){this.W=!0;var Qe=this.j;Qe.g==this&&Qe.ba&&!Qe.M&&(Qe.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Fo(Qe),Qe.M=!0,Ge(11))}}else Fn(this.i,this.l,Z,null),ki(this,Z);xt==4&&Mt(this),this.o&&!this.J&&(xt==4?Hc(this.j,this):(this.o=!1,mt(this)))}else qp(this.g),m==400&&0<Z.indexOf("Unknown SID")?(this.s=3,Ge(12)):(this.s=0,Ge(13)),Mt(this),Bt(this)}}}catch{}finally{}};function le(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function ut(l,f){var m=l.C,E=f.indexOf(`
`,m);return E==-1?ce:(m=Number(f.substring(m,E)),isNaN(m)?zo:(E+=1,E+m>f.length?ce:(f=f.slice(E,E+m),l.C=E+m,f)))}Zt.prototype.cancel=function(){this.J=!0,Mt(this)};function mt(l){l.S=Date.now()+l.I,pt(l,l.I)}function pt(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=yr(g(l.ba,l),f)}function Nt(l){l.B&&(o.clearTimeout(l.B),l.B=null)}Zt.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(zl(this.i,this.A),this.L!=2&&(zr(),Ge(17)),Mt(this),this.s=2,Bt(this)):pt(this,this.S-l)};function Bt(l){l.j.G==0||l.J||Hc(l.j,l)}function Mt(l){Nt(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,Xi(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function ki(l,f){try{var m=l.j;if(m.G!=0&&(m.g==l||Lo(m.h,l))){if(!l.K&&Lo(m.h,l)&&m.G==3){try{var E=m.Da.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var L=E;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<l.F)Ns(m),ks(m);else break e;jo(m),Ge(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=yr(g(m.Za,m),6e3));if(1>=_c(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Wn(m,11)}else if((l.K||m.g==l)&&Ns(m),!I(f))for(L=m.Da.g.parse(f),f=0;f<L.length;f++){let _e=L[f];if(m.T=_e[0],_e=_e[1],m.G==2)if(_e[0]=="c"){m.K=_e[1],m.ia=_e[2];const Qe=_e[3];Qe!=null&&(m.la=Qe,m.j.info("VER="+m.la));const xt=_e[4];xt!=null&&(m.Aa=xt,m.j.info("SVER="+m.Aa));const gn=_e[5];gn!=null&&typeof gn=="number"&&0<gn&&(E=1.5*gn,m.L=E,m.j.info("backChannelRequestTimeoutMs_="+E)),E=m;const $n=l.g;if($n){const Aa=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Aa){var F=E.h;F.g||Aa.indexOf("spdy")==-1&&Aa.indexOf("quic")==-1&&Aa.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Vo(F,F.h),F.h=null))}if(E.D){const Kp=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;Kp&&(E.ya=Kp,ge(E.I,E.D,Kp))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms")),E=m;var Z=l;if(E.qa=Gc(E,E.J?E.ia:null,E.W),Z.K){Tc(E.h,Z);var ke=Z,ye=E.L;ye&&(ke.I=ye),ke.B&&(Nt(ke),mt(ke)),E.g=Z}else jc(E);0<m.i.length&&Is(m)}else _e[0]!="stop"&&_e[0]!="close"||Wn(m,7);else m.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Wn(m,7):Bo(m):_e[0]!="noop"&&m.l&&m.l.ta(_e),m.v=0)}}zr(4)}catch{}}var jt=class{constructor(l,f){this.g=l,this.map=f}};function Sa(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ea(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function _c(l){return l.h?1:l.g?l.g.size:0}function Lo(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Vo(l,f){l.g?l.g.add(f):l.h=f}function Tc(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Sa.prototype.cancel=function(){if(this.i=wc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function wc(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const m of l.g.values())f=f.concat(m.D);return f}return N(l.i)}function Ip(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var f=[],m=l.length,E=0;E<m;E++)f.push(l[E]);return f}f=[],m=0;for(E in l)f[m++]=l[E];return f}function Np(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var f=[];l=l.length;for(var m=0;m<l;m++)f.push(m);return f}f=[],m=0;for(const E in l)f[m++]=E;return f}}}function Sc(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var m=Np(l),E=Ip(l),L=E.length,F=0;F<L;F++)f.call(void 0,E[F],m&&m[F],l)}var Ec=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mp(l,f){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var E=l[m].indexOf("="),L=null;if(0<=E){var F=l[m].substring(0,E);L=l[m].substring(E+1)}else F=l[m];f(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Qn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Qn){this.h=l.h,Ss(this,l.j),this.o=l.o,this.g=l.g,Es(this,l.s),this.l=l.l;var f=l.i,m=new Mi;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Ac(this,m),this.m=l.m}else l&&(f=String(l).match(Ec))?(this.h=!1,Ss(this,f[1]||"",!0),this.o=Ii(f[2]||""),this.g=Ii(f[3]||"",!0),Es(this,f[4]),this.l=Ii(f[5]||"",!0),Ac(this,f[6]||"",!0),this.m=Ii(f[7]||"")):(this.h=!1,this.i=new Mi(null,this.h))}Qn.prototype.toString=function(){var l=[],f=this.j;f&&l.push(Ni(f,xc,!0),":");var m=this.g;return(m||f=="file")&&(l.push("//"),(f=this.o)&&l.push(Ni(f,xc,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&l.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&l.push("/"),l.push(Ni(m,m.charAt(0)=="/"?Pp:Op,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",Ni(m,Lp)),l.join("")};function sn(l){return new Qn(l)}function Ss(l,f,m){l.j=m?Ii(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Es(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Ac(l,f,m){f instanceof Mi?(l.i=f,Vp(l.i,l.h)):(m||(f=Ni(f,zp)),l.i=new Mi(f,l.h))}function ge(l,f,m){l.i.set(f,m)}function As(l){return ge(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ii(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ni(l,f,m){return typeof l=="string"?(l=encodeURI(l).replace(f,Dp),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Dp(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var xc=/[#\/\?@]/g,Op=/[#\?:]/g,Pp=/[#\?]/g,zp=/[#\?@]/g,Lp=/#/g;function Mi(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function En(l){l.g||(l.g=new Map,l.h=0,l.i&&Mp(l.i,function(f,m){l.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Mi.prototype,t.add=function(l,f){En(this),this.i=null,l=Vr(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(f),this.h+=1,this};function Rc(l,f){En(l),f=Vr(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function Cc(l,f){return En(l),f=Vr(l,f),l.g.has(f)}t.forEach=function(l,f){En(this),this.g.forEach(function(m,E){m.forEach(function(L){l.call(f,L,E,this)},this)},this)},t.na=function(){En(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let E=0;E<f.length;E++){const L=l[E];for(let F=0;F<L.length;F++)m.push(f[E])}return m},t.V=function(l){En(this);let f=[];if(typeof l=="string")Cc(this,l)&&(f=f.concat(this.g.get(Vr(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)f=f.concat(l[m])}return f},t.set=function(l,f){return En(this),this.i=null,l=Vr(this,l),Cc(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function kc(l,f,m){Rc(l,f),0<m.length&&(l.i=null,l.g.set(Vr(l,f),N(m)),l.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var E=f[m];const F=encodeURIComponent(String(E)),Z=this.V(E);for(E=0;E<Z.length;E++){var L=F;Z[E]!==""&&(L+="="+encodeURIComponent(String(Z[E]))),l.push(L)}}return this.i=l.join("&")};function Vr(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function Vp(l,f){f&&!l.j&&(En(l),l.i=null,l.g.forEach(function(m,E){var L=E.toLowerCase();E!=L&&(Rc(this,E),kc(this,L,m))},l)),l.j=f}function Up(l,f){const m=new Lr;if(o.Image){const E=new Image;E.onload=v(An,m,"TestLoadImage: loaded",!0,f,E),E.onerror=v(An,m,"TestLoadImage: error",!1,f,E),E.onabort=v(An,m,"TestLoadImage: abort",!1,f,E),E.ontimeout=v(An,m,"TestLoadImage: timeout",!1,f,E),o.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else f(!1)}function Bp(l,f){const m=new Lr,E=new AbortController,L=setTimeout(()=>{E.abort(),An(m,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:E.signal}).then(F=>{clearTimeout(L),F.ok?An(m,"TestPingServer: ok",!0,f):An(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(L),An(m,"TestPingServer: error",!1,f)})}function An(l,f,m,E,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),E(m)}catch{}}function jp(){this.g=new Mo}function Fp(l,f,m){const E=m||"";try{Sc(l,function(L,F){let Z=L;c(L)&&(Z=Sn(L)),f.push(E+F+"="+encodeURIComponent(Z))})}catch(L){throw f.push(E+"type="+encodeURIComponent("_badmap")),L}}function xs(l){this.l=l.Ub||null,this.j=l.eb||!1}x(xs,xi),xs.prototype.g=function(){return new Rs(this.l,this.j)},xs.prototype.i=function(l){return function(){return l}}({});function Rs(l,f){Ue.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Rs,Ue),t=Rs.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,Oi(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||o).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Di(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Oi(this)),this.g&&(this.readyState=3,Oi(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ic(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ic(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Di(this):Oi(this),this.readyState==3&&Ic(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Di(this))},t.Qa=function(l){this.g&&(this.response=l,Di(this))},t.ga=function(){this.g&&Di(this)};function Di(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Oi(l)}t.setRequestHeader=function(l,f){this.u.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,l.push(m[0]+": "+m[1]),m=f.next();return l.join(`\r
`)};function Oi(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Nc(l){let f="";return G(l,function(m,E){f+=E,f+=":",f+=m,f+=`\r
`}),f}function Uo(l,f,m){e:{for(E in m){var E=!1;break e}E=!0}E||(m=Nc(m),typeof l=="string"?m!=null&&encodeURIComponent(String(m)):ge(l,f,m))}function Me(l){Ue.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Me,Ue);var Hp=/^https?$/i,$p=["POST","PUT"];t=Me.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,f,m,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qi.g(),this.v=this.o?Do(this.o):Do(Qi),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(F){Mc(this,F);return}if(l=m||"",m=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var L in E)m.set(L,E[L]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const F of E.keys())m.set(F,E.get(F));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(m.keys()).find(F=>F.toLowerCase()=="content-type"),L=o.FormData&&l instanceof o.FormData,!(0<=Array.prototype.indexOf.call($p,f,void 0))||E||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,Z]of m)this.g.setRequestHeader(F,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pc(this),this.u=!0,this.g.send(l),this.u=!1}catch(F){Mc(this,F)}};function Mc(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,Dc(l),Cs(l)}function Dc(l){l.A||(l.A=!0,Pe(l,"complete"),Pe(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Pe(this,"complete"),Pe(this,"abort"),Cs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Cs(this,!0)),Me.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Oc(this):this.bb())},t.bb=function(){Oc(this)};function Oc(l){if(l.h&&typeof a<"u"&&(!l.v[1]||an(l)!=4||l.Z()!=2)){if(l.u&&an(l)==4)va(l.Ea,0,l);else if(Pe(l,"readystatechange"),an(l)==4){l.h=!1;try{const Z=l.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var E;if(E=Z===0){var L=String(l.D).match(Ec)[1]||null;!L&&o.self&&o.self.location&&(L=o.self.location.protocol.slice(0,-1)),E=!Hp.test(L?L.toLowerCase():"")}m=E}if(m)Pe(l,"complete"),Pe(l,"success");else{l.m=6;try{var F=2<an(l)?l.g.statusText:""}catch{F=""}l.l=F+" ["+l.Z()+"]",Dc(l)}}finally{Cs(l)}}}}function Cs(l,f){if(l.g){Pc(l);const m=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||Pe(l,"ready");try{m.onreadystatechange=E}catch{}}}function Pc(l){l.I&&(o.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function an(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<an(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),Zi(f)}};function zc(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function qp(l){const f={};l=(l.g&&2<=an(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(I(l[E]))continue;var m=R(l[E]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const F=f[L]||[];f[L]=F,F.push(m)}S(f,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pi(l,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||f}function Lc(l){this.Aa=0,this.i=[],this.j=new Lr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Pi("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Pi("baseRetryDelayMs",5e3,l),this.cb=Pi("retryDelaySeedMs",1e4,l),this.Wa=Pi("forwardChannelMaxRetries",2,l),this.wa=Pi("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Sa(l&&l.concurrentRequestLimit),this.Da=new jp,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Lc.prototype,t.la=8,t.G=1,t.connect=function(l,f,m,E){Ge(0),this.W=l,this.H=f||{},m&&E!==void 0&&(this.H.OSID=m,this.H.OAID=E),this.F=this.X,this.I=Gc(this,null,this.W),Is(this)};function Bo(l){if(Vc(l),l.G==3){var f=l.U++,m=sn(l.I);if(ge(m,"SID",l.K),ge(m,"RID",f),ge(m,"TYPE","terminate"),zi(l,m),f=new Zt(l,l.j,f),f.L=2,f.v=As(sn(m)),m=!1,o.navigator&&o.navigator.sendBeacon)try{m=o.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&o.Image&&(new Image().src=f.v,m=!0),m||(f.g=Kc(f.j,null),f.g.ea(f.v)),f.F=Date.now(),mt(f)}qc(l)}function ks(l){l.g&&(Fo(l),l.g.cancel(),l.g=null)}function Vc(l){ks(l),l.u&&(o.clearTimeout(l.u),l.u=null),Ns(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&o.clearTimeout(l.s),l.s=null)}function Is(l){if(!Ea(l.h)&&!l.s){l.s=!0;var f=l.Ga;re||Re(),se||(re(),se=!0),xe.add(f,l),l.B=0}}function Gp(l,f){return _c(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=yr(g(l.Ga,l,f),$c(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new Zt(this,this.j,l);let F=this.o;if(this.S&&(F?(F=b(F),A(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var E=this.i[m];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Bc(this,L,f),m=sn(this.I),ge(m,"RID",l),ge(m,"CVER",22),this.D&&ge(m,"X-HTTP-Session-Id",this.D),zi(this,m),F&&(this.O?f="headers="+encodeURIComponent(String(Nc(F)))+"&"+f:this.m&&Uo(m,this.m,F)),Vo(this.h,L),this.Ua&&ge(m,"TYPE","init"),this.P?(ge(m,"$req",f),ge(m,"SID","null"),L.T=!0,H(L,m,null)):H(L,m,f),this.G=2}}else this.G==3&&(l?Uc(this,l):this.i.length==0||Ea(this.h)||Uc(this))};function Uc(l,f){var m;f?m=f.l:m=l.U++;const E=sn(l.I);ge(E,"SID",l.K),ge(E,"RID",m),ge(E,"AID",l.T),zi(l,E),l.m&&l.o&&Uo(E,l.m,l.o),m=new Zt(l,l.j,m,l.B+1),l.m===null&&(m.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Bc(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Vo(l.h,m),H(m,E,f)}function zi(l,f){l.H&&G(l.H,function(m,E){ge(f,E,m)}),l.l&&Sc({},function(m,E){ge(f,E,m)})}function Bc(l,f,m){m=Math.min(l.i.length,m);var E=l.l?g(l.l.Na,l.l,l):null;e:{var L=l.i;let F=-1;for(;;){const Z=["count="+m];F==-1?0<m?(F=L[0].g,Z.push("ofs="+F)):F=0:Z.push("ofs="+F);let ke=!0;for(let ye=0;ye<m;ye++){let _e=L[ye].g;const Qe=L[ye].map;if(_e-=F,0>_e)F=Math.max(0,L[ye].g-100),ke=!1;else try{Fp(Qe,Z,"req"+_e+"_")}catch{E&&E(Qe)}}if(ke){E=Z.join("&");break e}}}return l=l.i.splice(0,m),f.D=l,E}function jc(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;re||Re(),se||(re(),se=!0),xe.add(f,l),l.v=0}}function jo(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=yr(g(l.Fa,l),$c(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Fc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=yr(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ge(10),ks(this),Fc(this))};function Fo(l){l.A!=null&&(o.clearTimeout(l.A),l.A=null)}function Fc(l){l.g=new Zt(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=sn(l.qa);ge(f,"RID","rpc"),ge(f,"SID",l.K),ge(f,"AID",l.T),ge(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&ge(f,"TO",l.ja),ge(f,"TYPE","xmlhttp"),zi(l,f),l.m&&l.o&&Uo(f,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=As(sn(f)),m.m=null,m.P=!0,J(m,l)}t.Za=function(){this.C!=null&&(this.C=null,ks(this),jo(this),Ge(19))};function Ns(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function Hc(l,f){var m=null;if(l.g==f){Ns(l),Fo(l),l.g=null;var E=2}else if(Lo(l.h,f))m=f.D,Tc(l.h,f),E=1;else return;if(l.G!=0){if(f.o)if(E==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var L=l.B;E=lt(),Pe(E,new Ta(E,m)),Is(l)}else jc(l);else if(L=f.s,L==3||L==0&&0<f.X||!(E==1&&Gp(l,f)||E==2&&jo(l)))switch(m&&0<m.length&&(f=l.h,f.i=f.i.concat(m)),L){case 1:Wn(l,5);break;case 4:Wn(l,10);break;case 3:Wn(l,6);break;default:Wn(l,2)}}}function $c(l,f){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*f}function Wn(l,f){if(l.j.info("Error code "+f),f==2){var m=g(l.fb,l),E=l.Xa;const L=!E;E=new Qn(E||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ss(E,"https"),As(E),L?Up(E.toString(),m):Bp(E.toString(),m)}else Ge(2);l.G=0,l.l&&l.l.sa(f),qc(l),Vc(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Ge(2)):(this.j.info("Failed to ping google.com"),Ge(1))};function qc(l){if(l.G=0,l.ka=[],l.l){const f=wc(l.h);(f.length!=0||l.i.length!=0)&&(P(l.ka,f),P(l.ka,l.i),l.h.i.length=0,N(l.i),l.i.length=0),l.l.ra()}}function Gc(l,f,m){var E=m instanceof Qn?sn(m):new Qn(m);if(E.g!="")f&&(E.g=f+"."+E.g),Es(E,E.s);else{var L=o.location;E=L.protocol,f=f?f+"."+L.hostname:L.hostname,L=+L.port;var F=new Qn(null);E&&Ss(F,E),f&&(F.g=f),L&&Es(F,L),m&&(F.l=m),E=F}return m=l.D,f=l.ya,m&&f&&ge(E,m,f),ge(E,"VER",l.la),zi(l,E),E}function Kc(l,f,m){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Me(new xs({eb:m})):new Me(l.pa),f.Ha(l.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yc(){}t=Yc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function xn(){}xn.prototype.g=function(l,f){return new Hn(l,f)};function Hn(l,f){Ue.call(this),this.g=new Lc(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!I(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!I(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new h(this)}x(Hn,Ue),Hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Hn.prototype.close=function(){Bo(this.g)},Hn.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var m={};m.__data__=l,l=m}else this.u&&(m={},m.__data__=Sn(l),l=m);f.i.push(new jt(f.Ya++,l)),f.G==3&&Is(f)},Hn.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,Hn.aa.N.call(this)};function Xc(l){ws.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const m in f){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}x(Xc,ws);function Ms(){Pr.call(this),this.status=1}x(Ms,Pr);function h(l){this.g=l}x(h,Yc),h.prototype.ua=function(){Pe(this.g,"a")},h.prototype.ta=function(l){Pe(this.g,new Xc(l))},h.prototype.sa=function(l){Pe(this.g,new Ms)},h.prototype.ra=function(){Pe(this.g,"b")},xn.prototype.createWebChannel=xn.prototype.g,Hn.prototype.send=Hn.prototype.o,Hn.prototype.open=Hn.prototype.m,Hn.prototype.close=Hn.prototype.close,xR=function(){return new xn},AR=function(){return lt()},ER=jn,Ly={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ci.NO_ERROR=0,Ci.TIMEOUT=8,Ci.HTTP_ERROR=6,_d=Ci,br.COMPLETE="complete",SR=br,Ts.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",Ue.prototype.listen=Ue.prototype.K,_0=Ts,Me.prototype.listenOnce=Me.prototype.L,Me.prototype.getLastError=Me.prototype.Ka,Me.prototype.getLastErrorCode=Me.prototype.Ba,Me.prototype.getStatus=Me.prototype.Z,Me.prototype.getResponseJson=Me.prototype.Oa,Me.prototype.getResponseText=Me.prototype.oa,Me.prototype.send=Me.prototype.ea,Me.prototype.setWithCredentials=Me.prototype.Ha,wR=Me}).apply(typeof qf<"u"?qf:typeof self<"u"?self:typeof window<"u"?window:{});const J9="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ar.UNAUTHENTICATED=new Ar(null),Ar.GOOGLE_CREDENTIALS=new Ar("google-credentials-uid"),Ar.FIRST_PARTY=new Ar("first-party-uid"),Ar.MOCK_USER=new Ar("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl=new gR("@firebase/firestore");function h0(){return Sl.logLevel}function fe(t,...e){if(Sl.logLevel<=We.DEBUG){const n=e.map(k5);Sl.debug(`Firestore (${gc}): ${t}`,...n)}}function ma(t,...e){if(Sl.logLevel<=We.ERROR){const n=e.map(k5);Sl.error(`Firestore (${gc}): ${t}`,...n)}}function Ah(t,...e){if(Sl.logLevel<=We.WARN){const n=e.map(k5);Sl.warn(`Firestore (${gc}): ${t}`,...n)}}function k5(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t="Unexpected state"){const e=`FIRESTORE (${gc}) INTERNAL ASSERTION FAILED: `+t;throw ma(e),new Error(e)}function Vt(t,e){t||Le()}function Ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Ol{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tZ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ar.UNAUTHENTICATED))}shutdown(){}}class nZ{constructor(e){this.t=e,this.currentUser=Ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Vt(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new xu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new xu,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},o=u=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>o(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?o(u):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new xu)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt(typeof r.accessToken=="string"),new eZ(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Vt(e===null||typeof e=="string"),new Ar(e)}}class rZ{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ar.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class iZ{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new rZ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ar.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sZ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aZ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Vt(this.o===void 0);const r=s=>{s.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,fe("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Vt(typeof n.token=="string"),this.R=n.token,new sZ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oZ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=oZ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function tt(t,e){return t<e?-1:t>e?1:0}function Xu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Te(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ir.fromMillis(Date.now())}static fromDate(e){return Ir.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ir(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.timestamp=e}static fromTimestamp(e){return new De(e)}static min(){return new De(new Ir(0,0))}static max(){return new De(new Ir(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(),r===void 0?r=e.length-n:r>e.length-n&&Le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xh.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xh?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Lt extends xh{construct(e,n,r){return new Lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Lt(n)}static emptyPath(){return new Lt([])}}const lZ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends xh{construct(e,n,r){return new ar(e,n,r)}static isValidIdentifier(e){return lZ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ar(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Te(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new Te(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Te(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new Te(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ar(n)}static emptyPath(){return new ar([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(Lt.fromString(e))}static fromName(e){return new be(Lt.fromString(e).popFirst(5))}static empty(){return new be(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new Lt(e.slice()))}}function uZ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=De.fromTimestamp(r===1e9?new Ir(n+1,0):new Ir(n,r));return new wo(i,be.empty(),e)}function cZ(t){return new wo(t.readTime,t.key,-1)}class wo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new wo(De.min(),be.empty(),-1)}static max(){return new wo(De.max(),be.empty(),-1)}}function hZ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(t.documentKey,e.documentKey),n!==0?n:tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fZ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dZ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I5(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==fZ)throw t;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},u=>r(u))}),a=!0,s===i&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(i=>i?W.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new W((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{a[c]=d,++o,o===s&&r(a)},d=>i(d))}})}static doWhile(e,n){return new W((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function mZ(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function nf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}N5.oe=-1;function _p(t){return t==null}function Vy(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Tp(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pZ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n){this.comparator=e,this.root=n||kn.EMPTY}insert(e,n){return new Kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,kn.BLACK,null,null))}remove(e){return new Kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,kn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gf(this.root,e,this.comparator,!0)}}class Gf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class kn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??kn.RED,this.left=i??kn.EMPTY,this.right=s??kn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new kn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return kn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return kn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,kn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,kn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Le();const e=this.left.check();if(e!==this.right.check())throw Le();return e+(this.isRed()?0:1)}}kn.EMPTY=null,kn.RED=!0,kn.BLACK=!1;kn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le()}get value(){throw Le()}get color(){throw Le()}get left(){throw Le()}get right(){throw Le()}copy(e,n,r,i,s){return this}insert(e,n,r){return new kn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.comparator=e,this.data=new Kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t8(this.data.getIterator())}getIteratorFrom(e){return new t8(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pn(this.comparator);return n.data=e,n}}class t8{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new Ya([])}unionWith(e){let n=new Pn(ar.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ya(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Xu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new CR("Invalid base64 string: "+s):s}}(e);return new Ln(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ln.EMPTY_BYTE_STRING=new Ln("");const gZ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function So(t){if(Vt(!!t),typeof t=="string"){let e=0;const n=gZ.exec(t);if(Vt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function El(t){return typeof t=="string"?Ln.fromBase64String(t):Ln.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function D5(t){const e=t.mapValue.fields.__previous_value__;return M5(e)?D5(e):e}function Rh(t){const e=So(t.mapValue.fields.__local_write_time__.timestampValue);return new Ir(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yZ{constructor(e,n,r,i,s,a,o,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=u,this.useFetchStreams=c}}class Ch{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ch("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ch&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf={mapValue:{}};function Al(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?M5(t)?4:bZ(t)?9007199254740991:vZ(t)?10:11:Le()}function ds(t,e){if(t===e)return!0;const n=Al(t);if(n!==Al(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rh(t).isEqual(Rh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=So(i.timestampValue),o=So(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return El(i.bytesValue).isEqual(El(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ft(i.geoPointValue.latitude)===Ft(s.geoPointValue.latitude)&&Ft(i.geoPointValue.longitude)===Ft(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ft(i.integerValue)===Ft(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Ft(i.doubleValue),o=Ft(s.doubleValue);return a===o?Vy(a)===Vy(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Xu(t.arrayValue.values||[],e.arrayValue.values||[],ds);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(e8(a)!==e8(o))return!1;for(const u in a)if(a.hasOwnProperty(u)&&(o[u]===void 0||!ds(a[u],o[u])))return!1;return!0}(t,e);default:return Le()}}function kh(t,e){return(t.values||[]).find(n=>ds(n,e))!==void 0}function Zu(t,e){if(t===e)return 0;const n=Al(t),r=Al(e);if(n!==r)return tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tt(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=Ft(s.integerValue||s.doubleValue),u=Ft(a.integerValue||a.doubleValue);return o<u?-1:o>u?1:o===u?0:isNaN(o)?isNaN(u)?0:-1:1}(t,e);case 3:return n8(t.timestampValue,e.timestampValue);case 4:return n8(Rh(t),Rh(e));case 5:return tt(t.stringValue,e.stringValue);case 6:return function(s,a){const o=El(s),u=El(a);return o.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),u=a.split("/");for(let c=0;c<o.length&&c<u.length;c++){const d=tt(o[c],u[c]);if(d!==0)return d}return tt(o.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=tt(Ft(s.latitude),Ft(a.latitude));return o!==0?o:tt(Ft(s.longitude),Ft(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return r8(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,u,c,d;const p=s.fields||{},g=a.fields||{},v=(o=p.value)===null||o===void 0?void 0:o.arrayValue,x=(u=g.value)===null||u===void 0?void 0:u.arrayValue,N=tt(((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0,((d=x==null?void 0:x.values)===null||d===void 0?void 0:d.length)||0);return N!==0?N:r8(v,x)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Kf.mapValue&&a===Kf.mapValue)return 0;if(s===Kf.mapValue)return 1;if(a===Kf.mapValue)return-1;const o=s.fields||{},u=Object.keys(o),c=a.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const g=tt(u[p],d[p]);if(g!==0)return g;const v=Zu(o[u[p]],c[d[p]]);if(v!==0)return v}return tt(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Le()}}function n8(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return tt(t,e);const n=So(t),r=So(e),i=tt(n.seconds,r.seconds);return i!==0?i:tt(n.nanos,r.nanos)}function r8(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Zu(n[i],r[i]);if(s)return s}return tt(n.length,r.length)}function Qu(t){return Uy(t)}function Uy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=So(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return El(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return be.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Uy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${Uy(n.fields[a])}`;return i+"}"}(t.mapValue):Le()}function By(t){return!!t&&"integerValue"in t}function O5(t){return!!t&&"arrayValue"in t}function i8(t){return!!t&&"nullValue"in t}function s8(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Dg(t){return!!t&&"mapValue"in t}function vZ(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function G0(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Tp(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=G0(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=G0(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bZ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.value=e}static empty(){return new es({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Dg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=G0(n)}setAll(e){let n=ar.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=G0(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Dg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ds(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Dg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Tp(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new es(G0(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Gn(e,0,De.min(),De.min(),De.min(),es.empty(),0)}static newFoundDocument(e,n,r,i){return new Gn(e,1,n,De.min(),r,i,0)}static newNoDocument(e,n){return new Gn(e,2,n,De.min(),De.min(),es.empty(),0)}static newUnknownDocument(e,n){return new Gn(e,3,n,De.min(),De.min(),es.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=es.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n){this.position=e,this.inclusive=n}}function a8(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=be.comparator(be.fromName(a.referenceValue),n.key):r=Zu(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function o8(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ds(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n="asc"){this.field=e,this.dir=n}}function _Z(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{}class cn extends kR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wZ(e,n,r):n==="array-contains"?new AZ(e,r):n==="in"?new xZ(e,r):n==="not-in"?new RZ(e,r):n==="array-contains-any"?new CZ(e,r):new cn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new SZ(e,r):new EZ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zu(n,this.value)):n!==null&&Al(this.value)===Al(n)&&this.matchesComparison(Zu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ms extends kR{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ms(e,n)}matches(e){return IR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function IR(t){return t.op==="and"}function NR(t){return TZ(t)&&IR(t)}function TZ(t){for(const e of t.filters)if(e instanceof ms)return!1;return!0}function jy(t){if(t instanceof cn)return t.field.canonicalString()+t.op.toString()+Qu(t.value);if(NR(t))return t.filters.map(e=>jy(e)).join(",");{const e=t.filters.map(n=>jy(n)).join(",");return`${t.op}(${e})`}}function MR(t,e){return t instanceof cn?function(r,i){return i instanceof cn&&r.op===i.op&&r.field.isEqual(i.field)&&ds(r.value,i.value)}(t,e):t instanceof ms?function(r,i){return i instanceof ms&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&MR(a,i.filters[o]),!0):!1}(t,e):void Le()}function DR(t){return t instanceof cn?function(n){return`${n.field.canonicalString()} ${n.op} ${Qu(n.value)}`}(t):t instanceof ms?function(n){return n.op.toString()+" {"+n.getFilters().map(DR).join(" ,")+"}"}(t):"Filter"}class wZ extends cn{constructor(e,n,r){super(e,n,r),this.key=be.fromName(r.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class SZ extends cn{constructor(e,n){super(e,"in",n),this.keys=OR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class EZ extends cn{constructor(e,n){super(e,"not-in",n),this.keys=OR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>be.fromName(r.referenceValue))}class AZ extends cn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return O5(n)&&kh(n.arrayValue,this.value)}}class xZ extends cn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&kh(this.value.arrayValue,n)}}class RZ extends cn{constructor(e,n){super(e,"not-in",n)}matches(e){if(kh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!kh(this.value.arrayValue,n)}}class CZ extends cn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!O5(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>kh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kZ{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function l8(t,e=null,n=[],r=[],i=null,s=null,a=null){return new kZ(t,e,n,r,i,s,a)}function P5(t){const e=Ze(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>jy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),_p(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qu(r)).join(",")),e.ue=n}return e.ue}function z5(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_Z(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!MR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!o8(t.startAt,e.startAt)&&o8(t.endAt,e.endAt)}function Fy(t){return be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function IZ(t,e,n,r,i,s,a,o){return new wp(t,e,n,r,i,s,a,o)}function L5(t){return new wp(t)}function u8(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NZ(t){return t.collectionGroup!==null}function K0(t){const e=Ze(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Pn(ar.comparator);return a.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Cm(s,r))}),n.has(ar.keyField().canonicalString())||e.ce.push(new Cm(ar.keyField(),r))}return e.ce}function hs(t){const e=Ze(t);return e.le||(e.le=MZ(e,K0(t))),e.le}function MZ(t,e){if(t.limitType==="F")return l8(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Cm(i.field,s)});const n=t.endAt?new Rm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Rm(t.startAt.position,t.startAt.inclusive):null;return l8(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Hy(t,e,n){return new wp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sp(t,e){return z5(hs(t),hs(e))&&t.limitType===e.limitType}function PR(t){return`${P5(hs(t))}|lt:${t.limitType}`}function Hl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>DR(i)).join(", ")}]`),_p(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Qu(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Qu(i)).join(",")),`Target(${r})`}(hs(t))}; limitType=${t.limitType})`}function Ep(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):be.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of K0(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,u){const c=a8(a,o,u);return a.inclusive?c<=0:c<0}(r.startAt,K0(r),i)||r.endAt&&!function(a,o,u){const c=a8(a,o,u);return a.inclusive?c>=0:c>0}(r.endAt,K0(r),i))}(t,e)}function DZ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zR(t){return(e,n)=>{let r=!1;for(const i of K0(t)){const s=OZ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function OZ(t,e,n){const r=t.field.isKeyField()?be.comparator(e.key,n.key):function(s,a,o){const u=a.data.field(s),c=o.data.field(s);return u!==null&&c!==null?Zu(u,c):Le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Tp(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return pZ(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PZ=new Kt(be.comparator);function Eo(){return PZ}const LR=new Kt(be.comparator);function T0(...t){let e=LR;for(const n of t)e=e.insert(n.key,n);return e}function zZ(t){let e=LR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function rl(){return Y0()}function VR(){return Y0()}function Y0(){return new yc(t=>t.toString(),(t,e)=>t.isEqual(e))}const LZ=new Pn(be.comparator);function Je(...t){let e=LZ;for(const n of t)e=e.add(n);return e}const VZ=new Pn(tt);function UZ(){return VZ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BZ(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vy(e)?"-0":e}}function jZ(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(){this._=void 0}}function FZ(t,e,n){return t instanceof $y?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&M5(s)&&(s=D5(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(n,e):t instanceof km?UR(t,e):t instanceof Im?BR(t,e):function(i,s){const a=$Z(i,s),o=c8(a)+c8(i.Pe);return By(a)&&By(i.Pe)?jZ(o):BZ(i.serializer,o)}(t,e)}function HZ(t,e,n){return t instanceof km?UR(t,e):t instanceof Im?BR(t,e):n}function $Z(t,e){return t instanceof qy?function(r){return By(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class $y extends Ap{}class km extends Ap{constructor(e){super(),this.elements=e}}function UR(t,e){const n=jR(e);for(const r of t.elements)n.some(i=>ds(i,r))||n.push(r);return{arrayValue:{values:n}}}class Im extends Ap{constructor(e){super(),this.elements=e}}function BR(t,e){let n=jR(e);for(const r of t.elements)n=n.filter(i=>!ds(i,r));return{arrayValue:{values:n}}}class qy extends Ap{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function c8(t){return Ft(t.integerValue||t.doubleValue)}function jR(t){return O5(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function qZ(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof km&&i instanceof km||r instanceof Im&&i instanceof Im?Xu(r.elements,i.elements,ds):r instanceof qy&&i instanceof qy?ds(r.Pe,i.Pe):r instanceof $y&&i instanceof $y}(t.transform,e.transform)}class dl{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dl}static exists(e){return new dl(void 0,e)}static updateTime(e){return new dl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Td(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class V5{}function FR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new KZ(t.key,dl.none()):new U5(t.key,t.data,dl.none());{const n=t.data,r=es.empty();let i=new Pn(ar.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new xp(t.key,r,new Ya(i.toArray()),dl.none())}}function GZ(t,e,n){t instanceof U5?function(i,s,a){const o=i.value.clone(),u=f8(i.fieldTransforms,s,a.transformResults);o.setAll(u),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof xp?function(i,s,a){if(!Td(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=f8(i.fieldTransforms,s,a.transformResults),u=s.data;u.setAll(HR(i)),u.setAll(o),s.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function X0(t,e,n,r){return t instanceof U5?function(s,a,o,u){if(!Td(s.precondition,a))return o;const c=s.value.clone(),d=d8(s.fieldTransforms,u,a);return c.setAll(d),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof xp?function(s,a,o,u){if(!Td(s.precondition,a))return o;const c=d8(s.fieldTransforms,u,a),d=a.data;return d.setAll(HR(s)),d.setAll(c),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,a,o){return Td(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function h8(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Xu(r,i,(s,a)=>qZ(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class U5 extends V5{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class xp extends V5{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function HR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function f8(t,e,n){const r=new Map;Vt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,HZ(a,o,n[i]))}return r}function d8(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,FZ(s,a,e))}return r}class KZ extends V5{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YZ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&GZ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=X0(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=X0(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=VR();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const u=FR(a,o);u!==null&&r.set(i.key,u),a.isValidDocument()||a.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Je())}isEqual(e){return this.batchId===e.batchId&&Xu(this.mutations,e.mutations,(n,r)=>h8(n,r))&&Xu(this.baseMutations,e.baseMutations,(n,r)=>h8(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XZ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZZ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,Xe;function $R(t){if(t===void 0)return ma("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Qt.OK:return ie.OK;case Qt.CANCELLED:return ie.CANCELLED;case Qt.UNKNOWN:return ie.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return ie.INTERNAL;case Qt.UNAVAILABLE:return ie.UNAVAILABLE;case Qt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Qt.NOT_FOUND:return ie.NOT_FOUND;case Qt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Qt.ABORTED:return ie.ABORTED;case Qt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Qt.DATA_LOSS:return ie.DATA_LOSS;default:return Le()}}(Xe=Qt||(Qt={}))[Xe.OK=0]="OK",Xe[Xe.CANCELLED=1]="CANCELLED",Xe[Xe.UNKNOWN=2]="UNKNOWN",Xe[Xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xe[Xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xe[Xe.NOT_FOUND=5]="NOT_FOUND",Xe[Xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xe[Xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xe[Xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xe[Xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xe[Xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xe[Xe.ABORTED=10]="ABORTED",Xe[Xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xe[Xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xe[Xe.INTERNAL=13]="INTERNAL",Xe[Xe.UNAVAILABLE=14]="UNAVAILABLE",Xe[Xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QZ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WZ=new fl([4294967295,4294967295],0);function m8(t){const e=QZ().encode(t),n=new TR;return n.update(e),new Uint8Array(n.digest())}function p8(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new fl([n,r],0),new fl([i,s],0)]}class B5{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new w0(`Invalid padding: ${n}`);if(r<0)throw new w0(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new w0(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new w0(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=fl.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(fl.fromNumber(r)));return i.compare(WZ)===1&&(i=new fl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=m8(e),[r,i]=p8(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new B5(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const n=m8(e),[r,i]=p8(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class w0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,rf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rp(De.min(),i,new Kt(tt),Eo(),Je())}}class rf{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new rf(r,n,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class qR{constructor(e,n){this.targetId=e,this.me=n}}class GR{constructor(e,n,r=Ln.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class g8{constructor(){this.fe=0,this.ge=v8(),this.pe=Ln.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Je(),n=Je(),r=Je();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Le()}}),new rf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=v8()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class JZ{constructor(e){this.Le=e,this.Be=new Map,this.ke=Eo(),this.qe=y8(),this.Qe=new Kt(tt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Le()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Fy(s))if(r===0){const a=new be(s.path);this.Ue(n,a,Gn.newNoDocument(a,De.min()))}else Vt(r===1);else{const a=this.Ye(n);if(a!==r){const o=this.Ze(e),u=o?this.Xe(o,e,a):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=El(r).toUint8Array()}catch(u){if(u instanceof CR)return Ah("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{o=new B5(a,i,s)}catch(u){return Ah(u instanceof w0?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return o.Ie===0?null:o}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&Fy(o.target)){const u=new be(o.target.path);this.ke.get(u)!==null||this.it(a,u)||this.Ue(a,u,Gn.newNoDocument(u,e))}s.be&&(n.set(a,s.ve()),s.Ce())}});let r=Je();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new Rp(e,n,this.Qe,this.ke,r);return this.ke=Eo(),this.qe=y8(),this.Qe=new Kt(tt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new g8,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Pn(tt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new g8),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function y8(){return new Kt(be.comparator)}function v8(){return new Kt(be.comparator)}const eQ={asc:"ASCENDING",desc:"DESCENDING"},tQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nQ={and:"AND",or:"OR"};class rQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gy(t,e){return t.useProto3Json||_p(e)?e:{value:e}}function iQ(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sQ(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ru(t){return Vt(!!t),De.fromTimestamp(function(n){const r=So(n);return new Ir(r.seconds,r.nanos)}(t))}function aQ(t,e){return Ky(t,e).canonicalString()}function Ky(t,e){const n=function(i){return new Lt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function KR(t){const e=Lt.fromString(t);return Vt(WR(e)),e}function Og(t,e){const n=KR(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new be(XR(n))}function YR(t,e){return aQ(t.databaseId,e)}function oQ(t){const e=KR(t);return e.length===4?Lt.emptyPath():XR(e)}function b8(t){return new Lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XR(t){return Vt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function lQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Le()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(Vt(d===void 0||typeof d=="string"),Ln.fromBase64String(d||"")):(Vt(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Ln.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const d=c.code===void 0?ie.UNKNOWN:$R(c.code);return new Te(d,c.message||"")}(a);n=new GR(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Og(t,r.document.name),s=Ru(r.document.updateTime),a=r.document.createTime?Ru(r.document.createTime):De.min(),o=new es({mapValue:{fields:r.document.fields}}),u=Gn.newFoundDocument(i,s,a,o),c=r.targetIds||[],d=r.removedTargetIds||[];n=new wd(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Og(t,r.document),s=r.readTime?Ru(r.readTime):De.min(),a=Gn.newNoDocument(i,s),o=r.removedTargetIds||[];n=new wd([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Og(t,r.document),s=r.removedTargetIds||[];n=new wd([],s,i,null)}else{if(!("filter"in e))return Le();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new ZZ(i,s),o=r.targetId;n=new qR(o,a)}}return n}function uQ(t,e){return{documents:[YR(t,e.path)]}}function cQ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YR(t,i);const s=function(c){if(c.length!==0)return QR(ms.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(d=>function(g){return{field:$l(g.field),direction:dQ(g.dir)}}(d))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=Gy(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function hQ(t){let e=oQ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Vt(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(p){const g=ZR(p);return g instanceof ms&&NR(g)?g.getFilters():[g]}(n.where));let a=[];n.orderBy&&(a=function(p){return p.map(g=>function(x){return new Cm(ql(x.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(g))}(n.orderBy));let o=null;n.limit&&(o=function(p){let g;return g=typeof p=="object"?p.value:p,_p(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,v=p.values||[];return new Rm(v,g)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const g=!p.before,v=p.values||[];return new Rm(v,g)}(n.endAt)),IZ(e,i,a,s,o,"F",u,c)}function fQ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ql(n.unaryFilter.field);return cn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ql(n.unaryFilter.field);return cn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ql(n.unaryFilter.field);return cn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ql(n.unaryFilter.field);return cn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Le()}}(t):t.fieldFilter!==void 0?function(n){return cn.create(ql(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ms.create(n.compositeFilter.filters.map(r=>ZR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Le()}}(n.compositeFilter.op))}(t):Le()}function dQ(t){return eQ[t]}function mQ(t){return tQ[t]}function pQ(t){return nQ[t]}function $l(t){return{fieldPath:t.canonicalString()}}function ql(t){return ar.fromServerFormat(t.fieldPath)}function QR(t){return t instanceof cn?function(n){if(n.op==="=="){if(s8(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NAN"}};if(i8(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(s8(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NOT_NAN"}};if(i8(n.value))return{unaryFilter:{field:$l(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$l(n.field),op:mQ(n.op),value:n.value}}}(t):t instanceof ms?function(n){const r=n.getFilters().map(i=>QR(i));return r.length===1?r[0]:{compositeFilter:{op:pQ(n.op),filters:r}}}(t):Le()}function WR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n,r,i,s=De.min(),a=De.min(),o=Ln.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=u}withSequenceNumber(e){return new Xa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(e){this.ct=e}}function yQ(t){const e=hQ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vQ{constructor(){this.un=new bQ}addToCollectionParentIndex(e,n){return this.un.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(wo.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(wo.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class bQ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pn(Lt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pn(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Wu(0)}static kn(){return new Wu(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Q{constructor(){this.changes=new yc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&X0(r.mutation,i,Ya.empty(),Ir.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Je()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Je()){const i=rl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=T0();return s.forEach((o,u)=>{a=a.insert(o,u.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=rl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Je()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=Eo();const a=Y0(),o=function(){return Y0()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof xp)?s=s.insert(c.key,c):d!==void 0?(a.set(c.key,d.mutation.getFieldMask()),X0(d.mutation,c,d.mutation.getFieldMask(),Ir.now())):a.set(c.key,Ya.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>a.set(c,d)),n.forEach((c,d)=>{var p;return o.set(c,new TQ(d,(p=a.get(c))!==null&&p!==void 0?p:null))}),o))}recalculateAndSaveOverlays(e,n){const r=Y0();let i=new Kt((a,o)=>a-o),s=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Ya.empty();d=o.applyToLocalView(c,d),r.set(u,d);const p=(i.get(o.batchId)||Je()).add(u);i=i.insert(o.batchId,p)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const u=o.getNext(),c=u.key,d=u.value,p=VR();d.forEach(g=>{if(!s.has(g)){const v=FR(n.get(g),r.get(g));v!==null&&p.set(g,v),s=s.add(g)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,p))}return W.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return be.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NZ(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):W.resolve(rl());let o=-1,u=s;return a.next(c=>W.forEach(c,(d,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),s.get(d)?W.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{u=u.insert(d,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Je())).next(d=>({batchId:o,changes:zZ(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next(r=>{let i=T0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=T0();return this.indexManager.getCollectionParents(e,s).next(o=>W.forEach(o,u=>{const c=function(p,g){return new wp(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((p,g)=>{a=a.insert(p,g)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((u,c)=>{const d=c.getKey();a.get(d)===null&&(a=a.insert(d,Gn.newInvalidDocument(d)))});let o=T0();return a.forEach((u,c)=>{const d=s.get(u);d!==void 0&&X0(d.mutation,c,Ya.empty(),Ir.now()),Ep(n,c)&&(o=o.insert(u,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return W.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ru(i.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:yQ(i.bundledQuery),readTime:Ru(i.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(){this.overlays=new Kt(be.comparator),this.Ir=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=rl();return W.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const i=rl(),s=n.length+1,a=new be(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const u=o.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return W.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Kt((c,d)=>c-d);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=rl(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const o=rl(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>o.set(c,d)),!(o.size()>=i)););return W.resolve(o)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new XZ(n,r));let s=this.Ir.get(n);s===void 0&&(s=Je(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{constructor(){this.sessionToken=Ln.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5{constructor(){this.Tr=new Pn(vn.Er),this.dr=new Pn(vn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new vn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new vn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new be(new Lt([])),r=new vn(n,e),i=new vn(n,e+1),s=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new be(new Lt([])),r=new vn(n,e),i=new vn(n,e+1);let s=Je();return this.dr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new vn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class vn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return be.comparator(e.key,n.key)||tt(e.wr,n.wr)}static Ar(e,n){return tt(e.wr,n.wr)||be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Pn(vn.Er)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new YZ(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new vn(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return W.resolve(a)}lookupMutationBatch(e,n){return W.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return W.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new vn(n,0),i=new vn(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],a=>{const o=this.Dr(a.wr);s.push(o)}),W.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pn(tt);return n.forEach(i=>{const s=new vn(i,0),a=new vn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{r=r.add(o.wr)})}),W.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;be.isDocumentKey(s)||(s=s.child(""));const a=new vn(new be(s),0);let o=new Pn(tt);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(u.wr)),!0)},a),W.resolve(this.Cr(o))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Vt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return W.forEach(n.mutations,i=>{const s=new vn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new vn(n,0),i=this.br.firstAfterOrEqual(r);return W.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ{constructor(e){this.Mr=e,this.docs=function(){return new Kt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Gn.newInvalidDocument(n))}getEntries(e,n){let r=Eo();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Gn.newInvalidDocument(i))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Eo();const a=n.path,o=new be(a.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||hZ(cZ(d),r)<=0||(i.has(d.key)||Ep(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return W.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Le()}Or(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new CQ(this)}getSize(e){return W.resolve(this.size)}}class CQ extends _Q{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(e){this.persistence=e,this.Nr=new yc(n=>P5(n),z5),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.Lr=0,this.Br=new j5,this.targetCount=0,this.kr=Wu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),W.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Wu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Kn(n),W.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),W.waitFor(s).next(()=>i)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),W.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(e,n){this.qr={},this.overlays={},this.Qr=new N5(0),this.Kr=!1,this.Kr=!0,this.$r=new AQ,this.referenceDelegate=e(this),this.Ur=new kQ(this),this.indexManager=new vQ,this.remoteDocumentCache=function(i){return new RQ(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new gQ(n),this.Gr=new SQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new xQ(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const i=new NQ(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return W.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class NQ extends dZ{constructor(e){super(),this.currentSequenceNumber=e}}class F5{constructor(e){this.persistence=e,this.Jr=new j5,this.Yr=null}static Zr(e){return new F5(e)}get Xr(){if(this.Yr)return this.Yr;throw Le()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),W.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Xr,r=>{const i=be.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,De.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return W.or([()=>W.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Je(),i=Je();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new H5(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQ{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return $Y()?8:mZ(FY())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new MQ;return this.Xi(e,n,a).next(o=>{if(s.result=o,this.zi)return this.es(e,n,a,o.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(h0()<=We.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Hl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),W.resolve()):(h0()<=We.DEBUG&&fe("QueryEngine","Query:",Hl(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(h0()<=We.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Hl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,hs(n))):W.resolve())}Yi(e,n){if(u8(n))return W.resolve(null);let r=hs(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Hy(n,null,"F"),r=hs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=Je(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,o);return this.ns(n,c,a,u.readTime)?this.Yi(e,Hy(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return u8(n)||i.isEqual(De.min())?W.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const a=this.ts(n,s);return this.ns(n,a,r,i)?W.resolve(null):(h0()<=We.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hl(n)),this.rs(e,a,n,uZ(i,-1)).next(o=>o))})}ts(e,n){let r=new Pn(zR(e));return n.forEach((i,s)=>{Ep(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return h0()<=We.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Hl(n)),this.Ji.getDocumentsMatchingQuery(e,n,wo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OQ{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Kt(tt),this._s=new yc(s=>P5(s),z5),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wQ(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function PQ(t,e,n,r){return new OQ(t,e,n,r)}async function JR(t,e){const n=Ze(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let u=Je();for(const c of i){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:a,addedBatchIds:o}))})})}function eC(t){const e=Ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function zQ(t,e){const n=Ze(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];e.targetChanges.forEach((d,p)=>{const g=i.get(p);if(!g)return;o.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,p)));let v=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(Ln.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(p,v),function(N,P,C){return N.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(g,v,d)&&o.push(n.Ur.updateTargetData(s,v))});let u=Eo(),c=Je();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),o.push(LQ(s,a,e.documentUpdates).next(d=>{u=d.Ps,c=d.Is})),!r.isEqual(De.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(d)}return W.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function LQ(t,e,n){let r=Je(),i=Je();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Eo();return n.forEach((o,u)=>{const c=s.get(o);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),u.isNoDocument()&&u.version.isEqual(De.min())?(e.removeEntry(o,u.readTime),a=a.insert(o,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),a=a.insert(o,u)):fe("LocalStore","Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",u.version)}),{Ps:a,Is:i}})}function VQ(t,e){const n=Ze(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,W.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new Xa(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Yy(t,e,n){const r=Ze(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!nf(a))throw a;fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function _8(t,e,n){const r=Ze(t);let i=De.min(),s=Je();return r.persistence.runTransaction("Execute query","readwrite",a=>function(u,c,d){const p=Ze(u),g=p._s.get(d);return g!==void 0?W.resolve(p.os.get(g)):p.Ur.getTargetData(c,d)}(r,a,hs(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,o.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:De.min(),n?s:Je())).next(o=>(UQ(r,DZ(e),o),{documents:o,Ts:s})))}function UQ(t,e,n){let r=t.us.get(e)||De.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class T8{constructor(){this.activeTargetIds=UZ()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BQ{constructor(){this.so=new T8,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new T8,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jQ{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yf=null;function Pg(){return Yf===null?Yf=function(){return 268435456+Math.round(2147483648*Math.random())}():Yf++,"0x"+Yf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQ{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="WebChannelConnection";class $Q extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,a){const o=Pg(),u=this.xo(n,r.toUriEncodedString());fe("RestConnection",`Sending RPC '${n}' ${o}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,a),this.No(n,u,c,i).then(d=>(fe("RestConnection",`Received RPC '${n}' ${o}: `,d),d),d=>{throw Ah("RestConnection",`RPC '${n}' ${o} failed with error: `,d,"url: ",u,"request:",i),d})}Lo(n,r,i,s,a,o){return this.Mo(n,r,i,s,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,a)=>n[a]=s),i&&i.headers.forEach((s,a)=>n[a]=s)}xo(n,r){const i=FQ[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=Pg();return new Promise((a,o)=>{const u=new wR;u.setWithCredentials(!0),u.listenOnce(SR.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case _d.NO_ERROR:const d=u.getResponseJson();fe(qn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),a(d);break;case _d.TIMEOUT:fe(qn,`RPC '${e}' ${s} timed out`),o(new Te(ie.DEADLINE_EXCEEDED,"Request time out"));break;case _d.HTTP_ERROR:const p=u.getStatus();if(fe(qn,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const v=g==null?void 0:g.error;if(v&&v.status&&v.message){const x=function(P){const C=P.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(C)>=0?C:ie.UNKNOWN}(v.status);o(new Te(x,v.message))}else o(new Te(ie.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new Te(ie.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{fe(qn,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);fe(qn,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Pg(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=xR(),o=AR(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");fe(qn,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=a.createWebChannel(d,u);let g=!1,v=!1;const x=new HQ({Io:P=>{v?fe(qn,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(g||(fe(qn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),fe(qn,`RPC '${e}' stream ${i} sending:`,P),p.send(P))},To:()=>p.close()}),N=(P,C,I)=>{P.listen(C,M=>{try{I(M)}catch(V){setTimeout(()=>{throw V},0)}})};return N(p,_0.EventType.OPEN,()=>{v||(fe(qn,`RPC '${e}' stream ${i} transport opened.`),x.yo())}),N(p,_0.EventType.CLOSE,()=>{v||(v=!0,fe(qn,`RPC '${e}' stream ${i} transport closed`),x.So())}),N(p,_0.EventType.ERROR,P=>{v||(v=!0,Ah(qn,`RPC '${e}' stream ${i} transport errored:`,P),x.So(new Te(ie.UNAVAILABLE,"The operation could not be completed")))}),N(p,_0.EventType.MESSAGE,P=>{var C;if(!v){const I=P.data[0];Vt(!!I);const M=I,V=M.error||((C=M[0])===null||C===void 0?void 0:C.error);if(V){fe(qn,`RPC '${e}' stream ${i} received error:`,V);const j=V.status;let G=function(_){const A=Qt[_];if(A!==void 0)return $R(A)}(j),S=V.message;G===void 0&&(G=ie.INTERNAL,S="Unknown error status: "+j+" with message "+V.message),v=!0,x.So(new Te(G,S)),p.close()}else fe(qn,`RPC '${e}' stream ${i} received:`,I),x.bo(I)}}),N(o,ER.STAT_EVENT,P=>{P.stat===Ly.PROXY?fe(qn,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Ly.NOPROXY&&fe(qn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function zg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t){return new rQ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qQ{constructor(e,n,r,i,s,a,o,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new nC(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(ma(n.toString()),ma("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Te(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GQ extends qQ{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=lQ(this.serializer,e),r=function(s){if(!("targetChange"in s))return De.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?De.min():a.readTime?Ru(a.readTime):De.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=b8(this.serializer),n.addTarget=function(s,a){let o;const u=a.target;if(o=Fy(u)?{documents:uQ(s,u)}:{query:cQ(s,u)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=sQ(s,a.resumeToken);const c=Gy(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(De.min())>0){o.readTime=iQ(s,a.snapshotVersion.toTimestamp());const c=Gy(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=fQ(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=b8(this.serializer),n.removeTarget=e,this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KQ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Te(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,Ky(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Te(ie.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,Ky(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(ie.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class YQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ma(n),this.D_=!1):fe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(async()=>{af(this)&&(fe("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Ze(u);c.L_.add(4),await sf(c),c.q_.set("Unknown"),c.L_.delete(4),await Cp(c)}(this))})}),this.q_=new YQ(r,i)}}async function Cp(t){if(af(t))for(const e of t.B_)await e(!0)}async function sf(t){for(const e of t.B_)await e(!1)}function rC(t,e){const n=Ze(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),K5(n)?G5(n):vc(n).r_()&&q5(n,e))}function $5(t,e){const n=Ze(t),r=vc(n);n.N_.delete(e),r.r_()&&iC(n,e),n.N_.size===0&&(r.r_()?r.o_():af(n)&&n.q_.set("Unknown"))}function q5(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vc(t).A_(e)}function iC(t,e){t.Q_.xe(e),vc(t).R_(e)}function G5(t){t.Q_=new JZ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),vc(t).start(),t.q_.v_()}function K5(t){return af(t)&&!vc(t).n_()&&t.N_.size>0}function af(t){return Ze(t).L_.size===0}function sC(t){t.Q_=void 0}async function ZQ(t){t.q_.set("Online")}async function QQ(t){t.N_.forEach((e,n)=>{q5(t,e)})}async function WQ(t,e){sC(t),K5(t)?(t.q_.M_(e),G5(t)):t.q_.set("Unknown")}async function JQ(t,e,n){if(t.q_.set("Online"),e instanceof GR&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(r){fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await S8(t,r)}else if(e instanceof wd?t.Q_.Ke(e):e instanceof qR?t.Q_.He(e):t.Q_.We(e),!n.isEqual(De.min()))try{const r=await eC(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(u.resumeToken,a))}}),o.targetMismatches.forEach((u,c)=>{const d=s.N_.get(u);if(!d)return;s.N_.set(u,d.withResumeToken(Ln.EMPTY_BYTE_STRING,d.snapshotVersion)),iC(s,u);const p=new Xa(d.target,u,c,d.sequenceNumber);q5(s,p)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){fe("RemoteStore","Failed to raise snapshot:",r),await S8(t,r)}}async function S8(t,e,n){if(!nf(e))throw e;t.L_.add(1),await sf(t),t.q_.set("Offline"),n||(n=()=>eC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{fe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Cp(t)})}async function E8(t,e){const n=Ze(t);n.asyncQueue.verifyOperationInProgress(),fe("RemoteStore","RemoteStore received new credentials");const r=af(n);n.L_.add(3),await sf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Cp(n)}async function eW(t,e){const n=Ze(t);e?(n.L_.delete(2),await Cp(n)):e||(n.L_.add(2),await sf(n),n.q_.set("Unknown"))}function vc(t){return t.K_||(t.K_=function(n,r,i){const s=Ze(n);return s.w_(),new GQ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:ZQ.bind(null,t),Ro:QQ.bind(null,t),mo:WQ.bind(null,t),d_:JQ.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),K5(t)?G5(t):t.q_.set("Unknown")):(await t.K_.stop(),sC(t))})),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y5{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new xu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new Y5(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function aC(t,e){if(ma("AsyncQueue",`${e}: ${t}`),nf(t))return new Te(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||be.comparator(n.key,r.key):(n,r)=>be.comparator(n.key,r.key),this.keyedMap=T0(),this.sortedSet=new Kt(this.comparator)}static emptySet(e){return new Cu(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Cu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(){this.W_=new Kt(be.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Le():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ju{constructor(e,n,r,i,s,a,o,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Ju(e,n,Cu.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class nW{constructor(){this.queries=x8(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ze(n),s=i.queries;i.queries=x8(),s.forEach((a,o)=>{for(const u of o.j_)u.onError(r)})})(this,new Te(ie.ABORTED,"Firestore shutting down"))}}function x8(){return new yc(t=>PR(t),Sp)}async function rW(t,e){const n=Ze(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new tW,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=aC(a,`Initialization of query '${Hl(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&X5(n)}async function iW(t,e){const n=Ze(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sW(t,e){const n=Ze(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(r=!0);a.z_=i}}r&&X5(n)}function aW(t,e,n){const r=Ze(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function X5(t){t.Y_.forEach(e=>{e.next()})}var Xy,R8;(R8=Xy||(Xy={})).ea="default",R8.Cache="cache";class oW{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ju(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ju.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Xy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.key=e}}class lC{constructor(e){this.key=e}}class lW{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Je(),this.mutatedKeys=Je(),this.Aa=zR(e),this.Ra=new Cu(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new A8,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const g=i.get(d),v=Ep(this.query,p)?p:null,x=!!g&&this.mutatedKeys.has(g.key),N=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let P=!1;g&&v?g.data.isEqual(v.data)?x!==N&&(r.track({type:3,doc:v}),P=!0):this.ga(g,v)||(r.track({type:2,doc:v}),P=!0,(u&&this.Aa(v,u)>0||c&&this.Aa(v,c)<0)&&(o=!0)):!g&&v?(r.track({type:0,doc:v}),P=!0):g&&!v&&(r.track({type:1,doc:g}),P=!0,(u||c)&&(o=!0)),P&&(v?(a=a.add(v),s=N?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:a,fa:r,ns:o,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((d,p)=>function(v,x){const N=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le()}};return N(v)-N(x)}(d.type,p.type)||this.Aa(d.doc,p.doc)),this.pa(r),i=i!=null&&i;const o=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,a.length!==0||c?{snapshot:new Ju(this.query,e.Ra,s,a,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new A8,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Je(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new lC(r))}),this.da.forEach(r=>{e.has(r)||n.push(new oC(r))}),n}ba(e){this.Ta=e.Ts,this.da=Je();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ju.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class uW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cW{constructor(e){this.key=e,this.va=!1}}class hW{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new yc(o=>PR(o),Sp),this.Ma=new Map,this.xa=new Set,this.Oa=new Kt(be.comparator),this.Na=new Map,this.La=new j5,this.Ba={},this.ka=new Map,this.qa=Wu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function fW(t,e,n=!0){const r=dC(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await uC(r,e,n,!0),i}async function dW(t,e){const n=dC(t);await uC(n,e,!0,!1)}async function uC(t,e,n,r){const i=await VQ(t.localStore,hs(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await mW(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&rC(t.remoteStore,i),o}async function mW(t,e,n,r,i){t.Ka=(p,g,v)=>async function(N,P,C,I){let M=P.view.ma(C);M.ns&&(M=await _8(N.localStore,P.query,!1).then(({documents:S})=>P.view.ma(S,M)));const V=I&&I.targetChanges.get(P.targetId),j=I&&I.targetMismatches.get(P.targetId)!=null,G=P.view.applyChanges(M,N.isPrimaryClient,V,j);return k8(N,P.targetId,G.wa),G.snapshot}(t,p,g,v);const s=await _8(t.localStore,e,!0),a=new lW(e,s.Ts),o=a.ma(s.documents),u=rf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,u);k8(t,n,c.wa);const d=new uW(e,n,a);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function pW(t,e,n){const r=Ze(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(a=>!Sp(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Yy(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&$5(r.remoteStore,i.targetId),Zy(r,i.targetId)}).catch(I5)):(Zy(r,i.targetId),await Yy(r.localStore,i.targetId,!0))}async function gW(t,e){const n=Ze(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$5(n.remoteStore,r.targetId))}async function cC(t,e){const n=Ze(t);try{const r=await zQ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Na.get(s);a&&(Vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?Vt(a.va):i.removedDocuments.size>0&&(Vt(a.va),a.va=!1))}),await fC(n,r,e)}catch(r){await I5(r)}}function C8(t,e,n){const r=Ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const u=Ze(a);u.onlineState=o;let c=!1;u.queries.forEach((d,p)=>{for(const g of p.j_)g.Z_(o)&&(c=!0)}),c&&X5(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yW(t,e,n){const r=Ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let a=new Kt(be.comparator);a=a.insert(s,Gn.newNoDocument(s,De.min()));const o=Je().add(s),u=new Rp(De.min(),new Map,new Kt(tt),a,o);await cC(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),Z5(r)}else await Yy(r.localStore,e,!1).then(()=>Zy(r,e,n)).catch(I5)}function Zy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||hC(t,r)})}function hC(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&($5(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Z5(t))}function k8(t,e,n){for(const r of n)r instanceof oC?(t.La.addReference(r.key,e),vW(t,r)):r instanceof lC?(fe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||hC(t,r.key)):Le()}function vW(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(fe("SyncEngine","New document in limbo: "+n),t.xa.add(r),Z5(t))}function Z5(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new be(Lt.fromString(e)),r=t.qa.next();t.Na.set(r,new cW(n)),t.Oa=t.Oa.insert(n,r),rC(t.remoteStore,new Xa(hs(L5(n.path)),r,"TargetPurposeLimboResolution",N5.oe))}}async function fC(t,e,n){const r=Ze(t),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((o,u)=>{a.push(r.Ka(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=H5.Wi(u.targetId,c);s.push(p)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(u,c){const d=Ze(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>W.forEach(c,g=>W.forEach(g.$i,v=>d.persistence.referenceDelegate.addReference(p,g.targetId,v)).next(()=>W.forEach(g.Ui,v=>d.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))}catch(p){if(!nf(p))throw p;fe("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const v=d.os.get(g),x=v.snapshotVersion,N=v.withLastLimboFreeSnapshotVersion(x);d.os=d.os.insert(g,N)}}}(r.localStore,s))}async function bW(t,e){const n=Ze(t);if(!n.currentUser.isEqual(e)){fe("SyncEngine","User change. New user:",e.toKey());const r=await JR(n.localStore,e);n.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(u=>{u.reject(new Te(ie.CANCELLED,a))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fC(n,r.hs)}}function _W(t,e){const n=Ze(t),r=n.Na.get(e);if(r&&r.va)return Je().add(r.key);{let i=Je();const s=n.Ma.get(e);if(!s)return i;for(const a of s){const o=n.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function dC(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_W.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yW.bind(null,e),e.Ca.d_=sW.bind(null,e.eventManager),e.Ca.$a=aW.bind(null,e.eventManager),e}class Nm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tC(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return PQ(this.persistence,new DQ,e.initialUser,this.serializer)}Ga(e){return new IQ(F5.Zr,this.serializer)}Wa(e){return new BQ}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nm.provider={build:()=>new Nm};class Qy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>C8(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bW.bind(null,this.syncEngine),await eW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nW}()}createDatastore(e){const n=tC(e.databaseInfo.databaseId),r=function(s){return new $Q(s)}(e.databaseInfo);return function(s,a,o,u){return new KQ(s,a,o,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new XQ(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>C8(this.syncEngine,n,0),function(){return w8.D()?new w8:new jQ}())}createSyncEngine(e,n){return function(i,s,a,o,u,c,d){const p=new hW(i,s,a,o,u,c);return d&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ze(i);fe("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await sf(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Qy.provider={build:()=>new Qy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ma("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wW{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ar.UNAUTHENTICATED,this.clientId=RR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{fe("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(fe("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=aC(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lg(t,e){t.asyncQueue.verifyOperationInProgress(),fe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await JR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function I8(t,e){t.asyncQueue.verifyOperationInProgress();const n=await SW(t);fe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>E8(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>E8(e.remoteStore,i)),t._onlineComponents=e}async function SW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){fe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ie.FAILED_PRECONDITION||i.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ah("Error using user provided cache. Falling back to memory cache: "+n),await Lg(t,new Nm)}}else fe("FirestoreClient","Using default OfflineComponentProvider"),await Lg(t,new Nm);return t._offlineComponents}async function EW(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(fe("FirestoreClient","Using user provided OnlineComponentProvider"),await I8(t,t._uninitializedComponentsProvider._online)):(fe("FirestoreClient","Using default OnlineComponentProvider"),await I8(t,new Qy))),t._onlineComponents}async function N8(t){const e=await EW(t),n=e.eventManager;return n.onListen=fW.bind(null,e.syncEngine),n.onUnlisten=pW.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=dW.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gW.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(t,e,n){if(!n)throw new Te(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function xW(t,e,n,r){if(e===!0&&r===!0)throw new Te(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function D8(t){if(!be.isDocumentKey(t))throw new Te(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function RW(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le()}function Vg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=RW(t);throw new Te(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Te(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mC((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Te(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Te(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Te(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pC{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O8({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Te(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Te(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O8(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tZ;switch(r.type){case"firstParty":return new iZ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=M8.get(n);r&&(fe("ComponentProvider","Removing Datastore"),M8.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kp(this.firestore,e,this._query)}}class ta{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ih(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ta(this.firestore,e,this._key)}}class Ih extends kp{constructor(e,n,r){super(e,n,L5(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ta(this.firestore,null,new be(e))}withConverter(e){return new Ih(this.firestore,e,this._path)}}function CW(t,e,...n){if(t=x5(t),arguments.length===1&&(e=RR.newId()),AW("doc","path",e),t instanceof pC){const r=Lt.fromString(e,...n);return D8(r),new ta(t,null,new be(r))}{if(!(t instanceof ta||t instanceof Ih))throw new Te(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return D8(r),new ta(t.firestore,t instanceof Ih?t.converter:null,new be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new nC(this,"async_queue_retry"),this.Vu=()=>{const r=zg();r&&fe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=zg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=zg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new xu;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!nf(e))throw e;fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(r);throw ma("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Y5.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Le()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function z8(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class Wy extends pC{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new P8,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P8(e),this._firestoreClient=void 0,await e}}}function kW(t){if(t._terminated)throw new Te(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||IW(t),t._firestoreClient}function IW(t){var e,n,r;const i=t._freezeSettings(),s=function(o,u,c,d){return new yZ(o,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,mC(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new wW(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const u=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mm(Ln.fromBase64String(e))}catch(n){throw new Te(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mm(Ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}const DW=new RegExp("[~\\*/\\[\\]]");function OW(t,e,n){if(e.search(DW)>=0)throw L8(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new gC(...e.split("."))._internalPath}catch{throw L8(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function L8(t,e,n,r,i){let s=`Function ${e}() called with invalid data`;s+=". ";let a="";return new Te(ie.INVALID_ARGUMENT,s+t+a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ta(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PW extends yC{data(){return super.data()}}function vC(t,e){return typeof e=="string"?OW(t,e):e instanceof gC?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LW{convertValue(e,n="none"){switch(Al(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(El(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Tp(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Ft(a.doubleValue));return new MW(s)}convertGeoPoint(e){return new NW(Ft(e.latitude),Ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=D5(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rh(e));default:return null}}convertTimestamp(e){const n=So(e);return new Ir(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Lt.fromString(e);Vt(WR(r));const i=new Ch(r.get(1),r.get(3)),s=new be(r.popFirst(5));return i.isEqual(n)||ma(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bC extends yC{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(vC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Sd extends bC{data(e={}){return super.data(e)}}class VW{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new S0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sd(this._firestore,this._userDataWriter,r.key,r,new S0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const u=new Sd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new S0(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const u=new Sd(i._firestore,i._userDataWriter,o.doc.key,o.doc,new S0(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:UW(o.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function UW(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le()}}class _C extends LW{constructor(e){super(),this.firestore=e}convertBytes(e){return new Mm(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ta(this.firestore,null,n)}}function BW(t,...e){var n,r,i;t=x5(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||z8(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(z8(e[a])){const p=e[a];e[a]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[a+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[a+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,c,d;if(t instanceof ta)c=Vg(t.firestore,Wy),d=L5(t._key.path),u={next:p=>{e[a]&&e[a](jW(c,t,p))},error:e[a+1],complete:e[a+2]};else{const p=Vg(t,kp);c=Vg(p.firestore,Wy),d=p._query;const g=new _C(c);u={next:v=>{e[a]&&e[a](new VW(c,g,p,v))},error:e[a+1],complete:e[a+2]},zW(t._query)}return function(g,v,x,N){const P=new TW(N),C=new oW(v,P,x);return g.asyncQueue.enqueueAndForget(async()=>rW(await N8(g),C)),()=>{P.Za(),g.asyncQueue.enqueueAndForget(async()=>iW(await N8(g),C))}}(kW(c),d,o,u)}function jW(t,e,n){const r=n.docs.get(e._key),i=new _C(t);return new bC(t,i,e._key,r,new S0(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){gc=i})($X),Sh(new wh("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new Wy(new nZ(r.getProvider("auth-internal")),new aZ(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Te(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ch(c.options.projectId,d)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),hl(J9,"4.7.3",e),hl(J9,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FW="type.googleapis.com/google.protobuf.Int64Value",HW="type.googleapis.com/google.protobuf.UInt64Value";function TC(t,e){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function Jy(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Jy(e));if(typeof t=="function"||typeof t=="object")return TC(t,e=>Jy(e));throw new Error("Data cannot be encoded in JSON: "+t)}function Dm(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case FW:case HW:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>Dm(e)):typeof t=="function"||typeof t=="object"?TC(t,e=>Dm(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V8={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ku extends Ol{constructor(e,n,r){super(`${wC}/${e}`,n||""),this.details=r}}function $W(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function qW(t,e){let n=$W(t),r=n,i;try{const s=e&&e.error;if(s){const a=s.status;if(typeof a=="string"){if(!V8[a])return new ku("internal","internal");n=V8[a],r=a}const o=s.message;typeof o=="string"&&(r=o),i=s.details,i!==void 0&&(i=Dm(i))}}catch{}return n==="ok"?null:new ku(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U8="us-central1";function KW(t){let e=null;return{promise:new Promise((n,r)=>{e=setTimeout(()=>{r(new ku("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class YW{constructor(e,n,r,i,s=U8,a){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new GW(n,r,i),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(s);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=U8}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function XW(t,e,n){return r=>QW(t,e,r,{})}async function ZW(t,e,n,r){n["Content-Type"]="application/json";let i;try{i=await r(t,{method:"POST",body:JSON.stringify(e),headers:n})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function QW(t,e,n,r){const i=t._url(e);return WW(t,i,n,r)}async function WW(t,e,n,r){n=Jy(n);const i={data:n},s={},a=await t.contextProvider.getContext(r.limitedUseAppCheckTokens);a.authToken&&(s.Authorization="Bearer "+a.authToken),a.messagingToken&&(s["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=a.appCheckToken);const o=r.timeout||7e4,u=KW(o),c=await Promise.race([ZW(e,i,s,t.fetchImpl),u.promise,t.cancelAllRequests]);if(u.cancel(),!c)throw new ku("cancelled","Firebase Functions instance was deleted.");const d=qW(c.status,c.json);if(d)throw d;if(!c.json)throw new ku("internal","Response is not valid JSON object.");let p=c.json.data;if(typeof p>"u"&&(p=c.json.result),typeof p>"u")throw new ku("internal","Response is missing data field.");return{data:Dm(p)}}const B8="@firebase/functions",j8="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JW="auth-internal",eJ="app-check-internal",tJ="messaging-internal";function nJ(t,e){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),a=r.getProvider(JW),o=r.getProvider(tJ),u=r.getProvider(eJ);return new YW(s,a,o,u,i,t)};Sh(new wh(wC,n,"PUBLIC").setMultipleInstances(!0)),hl(B8,j8,e),hl(B8,j8,"esm2017")}function Ko(t,e,n){return XW(x5(t),e)}nJ(fetch.bind(self));function rJ(t){const[e,n]=q.useState({status:"idle",roomId:null,room:null,error:null,lastAnswerResult:null,finalRankings:null}),r=q.useRef(null);q.useEffect(()=>()=>{r.current&&r.current()},[]);const i=q.useCallback(v=>{if(!sr()){n(P=>({...P,status:"error",error:"Firebase not configured"}));return}const x=ez(),N=CW(x,"gameRooms",v);r.current=BW(N,P=>{if(!P.exists()){n(I=>({...I,status:"error",error:"Room no longer exists"}));return}const C=P.data();n(I=>({...I,room:C,status:"connected"}))},P=>{console.error("Room listener error:",P),n(C=>({...C,status:"error",error:P.message}))})},[]),s=q.useCallback(async(v,x=10)=>{if(!t){n(N=>({...N,status:"error",error:"Not authenticated"}));return}if(!sr()){n(N=>({...N,status:"error",error:"Firebase not configured"}));return}n(N=>({...N,status:"creating",error:null}));try{const N=Fi(),C=await Ko(N,"createRoom")({tier:v,totalRounds:x}),{roomId:I}=C.data;n(M=>({...M,roomId:I,lastAnswerResult:null,finalRankings:null})),i(I)}catch(N){console.error("Failed to create room:",N),n(P=>({...P,status:"error",error:N instanceof Error?N.message:"Failed to create room"}))}},[t,i]),a=q.useCallback(async v=>{if(!t){n(x=>({...x,status:"error",error:"Not authenticated"}));return}if(!sr()){n(x=>({...x,status:"error",error:"Firebase not configured"}));return}n(x=>({...x,status:"joining",error:null}));try{const x=Fi(),P=await Ko(x,"joinRoom")({roomCode:v.toUpperCase()}),{roomId:C}=P.data;n(I=>({...I,roomId:C,lastAnswerResult:null,finalRankings:null})),i(C)}catch(x){console.error("Failed to join room:",x),n(N=>({...N,status:"error",error:x instanceof Error?x.message:"Failed to join room"}))}},[t,i]),o=q.useCallback(async v=>{if(!(!e.roomId||!sr()))try{const x=Fi();await Ko(x,"setReady")({roomId:e.roomId,isReady:v})}catch(x){throw console.error("Failed to set ready:",x),x}},[e.roomId]),u=q.useCallback(async()=>{if(!(!e.roomId||!sr()))try{const v=Fi();await Ko(v,"startRound")({roomId:e.roomId})}catch(v){throw console.error("Failed to start round:",v),v}},[e.roomId]),c=q.useCallback(async v=>{if(!e.roomId||!sr())throw new Error("Not connected to a room");try{const x=Fi(),C=(await Ko(x,"submitAnswer")({roomId:e.roomId,answer:v})).data;return n(I=>({...I,lastAnswerResult:C})),C}catch(x){throw console.error("Failed to submit answer:",x),x}},[e.roomId]),d=q.useCallback(async()=>{if(!e.roomId||!sr())throw new Error("Not connected to a room");try{const v=Fi(),N=await Ko(v,"advanceRound")({roomId:e.roomId});return N.data.isComplete&&N.data.finalRankings&&n(P=>({...P,finalRankings:N.data.finalRankings})),N.data}catch(v){throw console.error("Failed to advance round:",v),v}},[e.roomId]),p=q.useCallback(async()=>{if(!(!e.roomId||!sr()))try{const v=Fi();await Ko(v,"leaveRoom")({roomId:e.roomId}),r.current&&(r.current(),r.current=null),n({status:"idle",roomId:null,room:null,error:null,lastAnswerResult:null,finalRankings:null})}catch(v){console.error("Failed to leave room:",v)}},[e.roomId]),g=q.useCallback(()=>{r.current&&(r.current(),r.current=null),n({status:"idle",roomId:null,room:null,error:null,lastAnswerResult:null,finalRankings:null})},[]);return[e,{createRoom:s,joinRoom:a,setReady:o,startRound:u,submitAnswer:c,advanceRound:d,leaveRoom:p,disconnect:g}]}function iJ({racingStats:t,onStartGame:e}){const[n,r]=q.useState(1),[i,s]=q.useState(10),a=()=>{e(n,i)};return O.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[O.jsxs(Be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[O.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Modular Arithmetic Racing"}),O.jsx("p",{className:"text-dark-300",children:"Race against the clock to compute remainders!"})]}),t&&O.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-dark-800 rounded-lg p-4 mb-6",children:[O.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Your Stats"}),O.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[O.jsxs("div",{children:[O.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:t.highScore.toLocaleString()}),O.jsx("div",{className:"text-sm text-dark-400",children:"High Score"})]}),O.jsxs("div",{children:[O.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:t.gamesPlayed}),O.jsx("div",{className:"text-sm text-dark-400",children:"Games"})]}),O.jsxs("div",{children:[O.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:t.longestStreak}),O.jsx("div",{className:"text-sm text-dark-400",children:"Best Streak"})]})]})]}),O.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-6",children:[O.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Select Difficulty"}),O.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:$u.map(o=>{const u=n===o.tier;return O.jsxs("button",{onClick:()=>r(o.tier),className:`
                  relative p-4 rounded-lg border-2 transition-all
                  ${u?"border-cyan-500 bg-cyan-500/10":"border-dark-600 bg-dark-800 hover:border-dark-500"}
                `,children:[O.jsx("div",{className:`text-lg font-bold ${u?"text-cyan-400":"text-white"}`,children:o.name}),O.jsxs("div",{className:"text-sm text-dark-400 mt-1",children:[o.basePoints," pts base"]})]},o.tier)})})]}),O.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mb-8",children:[O.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Rounds"}),O.jsx("div",{className:"flex gap-3",children:[5,10,15,20].map(o=>O.jsx("button",{onClick:()=>s(o),className:`
                flex-1 py-3 rounded-lg border-2 transition-all font-medium
                ${i===o?"border-cyan-500 bg-cyan-500/10 text-cyan-400":"border-dark-600 bg-dark-800 text-white hover:border-dark-500"}
              `,children:o},o))})]}),O.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-dark-800 rounded-lg p-4 mb-6",children:(()=>{const o=$u.find(u=>u.tier===n);return O.jsxs(O.Fragment,{children:[O.jsxs("h3",{className:"font-semibold text-white mb-2",children:[o.name," Mode"]}),O.jsxs("ul",{className:"text-sm text-dark-300 space-y-1",children:[O.jsxs("li",{children:["Modulus: ",o.modulusRange[0]," - ",o.modulusRange[1]]}),O.jsxs("li",{children:["Numbers: ",o.dividendRange[0]," - ",o.dividendRange[1]]}),O.jsxs("li",{children:["Base points: ",o.basePoints," per correct answer"]}),O.jsx("li",{children:"Speed bonus: Answer faster for more points!"})]})]})})()}),O.jsx(Be.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a,className:"w-full py-4 bg-cyan-600 hover:bg-cyan-500 text-white font-bold text-xl rounded-lg transition-colors",children:"Start Game"})]})}let Ug=null;function bc(){return Ug||(Ug=new AudioContext),Ug}function sJ(){try{const t=bc(),e=t.currentTime;[523.25,659.25,783.99].forEach((r,i)=>{const s=t.createOscillator(),a=t.createGain();s.type="sine",s.frequency.value=r,a.gain.setValueAtTime(0,e+i*.08),a.gain.linearRampToValueAtTime(.3,e+i*.08+.02),a.gain.exponentialRampToValueAtTime(.01,e+i*.08+.15),s.connect(a),a.connect(t.destination),s.start(e+i*.08),s.stop(e+i*.08+.2)})}catch{}}function aJ(){try{const t=bc(),e=t.currentTime,n=t.createOscillator(),r=t.createOscillator(),i=t.createGain();n.type="square",n.frequency.setValueAtTime(200,e),n.frequency.linearRampToValueAtTime(150,e+.15),r.type="square",r.frequency.setValueAtTime(205,e),r.frequency.linearRampToValueAtTime(155,e+.15),i.gain.setValueAtTime(.15,e),i.gain.linearRampToValueAtTime(.1,e+.1),i.gain.exponentialRampToValueAtTime(.01,e+.2),n.connect(i),r.connect(i),i.connect(t.destination),n.start(e),n.stop(e+.25),r.start(e),r.stop(e+.25)}catch{}}function oJ(){try{const t=bc(),e=t.currentTime,n=t.createOscillator(),r=t.createGain();n.type="sine",n.frequency.value=880,r.gain.setValueAtTime(.2,e),r.gain.exponentialRampToValueAtTime(.01,e+.05),n.connect(r),r.connect(t.destination),n.start(e),n.stop(e+.06)}catch{}}function lJ(){try{const t=bc(),e=t.currentTime,n=t.createOscillator(),r=t.createGain();n.type="sine",n.frequency.value=440,r.gain.setValueAtTime(.15,e),r.gain.exponentialRampToValueAtTime(.01,e+.08),n.connect(r),r.connect(t.destination),n.start(e),n.stop(e+.1)}catch{}}function uJ(){try{const t=bc(),e=t.currentTime;[261.63,329.63,392,523.25].forEach((r,i)=>{const s=t.createOscillator(),a=t.createGain();s.type="triangle",s.frequency.value=r,a.gain.setValueAtTime(0,e+i*.1),a.gain.linearRampToValueAtTime(.25,e+i*.1+.03),a.gain.exponentialRampToValueAtTime(.01,e+i*.1+.3),s.connect(a),a.connect(t.destination),s.start(e+i*.1),s.stop(e+i*.1+.35)})}catch{}}function cJ(){try{const t=bc(),e=t.currentTime;[[523.25,659.25,783.99],[587.33,739.99,880],[659.25,830.61,987.77]].forEach((r,i)=>{r.forEach(s=>{const a=t.createOscillator(),o=t.createGain();a.type="triangle",a.frequency.value=s;const u=e+i*.2;o.gain.setValueAtTime(0,u),o.gain.linearRampToValueAtTime(.15,u+.02),o.gain.setValueAtTime(.15,u+.15),o.gain.exponentialRampToValueAtTime(.01,u+.4),a.connect(o),o.connect(t.destination),a.start(u),a.stop(u+.45)})})}catch{}}function hJ({onComplete:t}){const[e,n]=q.useState(3);return q.useEffect(()=>{e>0?lJ():uJ()},[e]),q.useEffect(()=>{if(e===0){t();return}const r=setTimeout(()=>{n(e-1)},1e3);return()=>clearTimeout(r)},[e,t]),O.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-dark-950/90 z-50",children:O.jsx(g5,{mode:"wait",children:e>0?O.jsx(Be.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.5,opacity:0},transition:{duration:.3},className:"text-9xl font-bold text-cyan-400",children:e},e):O.jsx(Be.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.5,opacity:0},transition:{duration:.3},className:"text-7xl font-bold text-green-400",children:"GO!"},"go")})})}function fJ({problem:t,tier:e,roundNumber:n,totalRounds:r,score:i,streak:s,onAnswer:a,lastResult:o}){const[u,c]=q.useState(""),[d,p]=q.useState(0),[g,v]=q.useState(0),x=q.useRef(null);q.useEffect(()=>{var C;c(""),p(Date.now()),v(0),(C=x.current)==null||C.focus()},[t.id]),q.useEffect(()=>{const C=setInterval(()=>{v(Date.now()-d)},100);return()=>clearInterval(C)},[d]),q.useEffect(()=>{o&&(o.isCorrect?sJ():aJ())},[o]);const N=q.useCallback(()=>{const C=Date.now()-d,I=parseInt(u,10);!isNaN(I)&&I>=0&&(oJ(),a(I,C))},[u,d,a]),P=C=>{C.key==="Enter"&&u.trim()!==""&&N()};return O.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[O.jsxs("div",{className:"flex justify-between items-center mb-8",children:[O.jsxs("div",{className:"text-lg",children:[O.jsx("span",{className:"text-dark-400",children:"Round "}),O.jsx("span",{className:"text-white font-bold",children:n}),O.jsxs("span",{className:"text-dark-400",children:[" / ",r]})]}),O.jsxs("div",{className:"flex items-center gap-6",children:[O.jsxs("div",{className:"text-right",children:[O.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:i.toLocaleString()}),O.jsx("div",{className:"text-xs text-dark-400",children:"Score"})]}),s>0&&O.jsxs("div",{className:"text-right",children:[O.jsx("div",{className:"text-2xl font-bold text-orange-400",children:s}),O.jsx("div",{className:"text-xs text-dark-400",children:"Streak"})]})]})]}),o&&O.jsx(Be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`
            text-center mb-4 py-2 rounded-lg
            ${o.isCorrect?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}
          `,children:o.isCorrect?O.jsxs("span",{children:[B9(o.points)," points!"]}):O.jsxs("span",{children:["Wrong! Answer was ",o.correctAnswer," (",B9(o.points),")"]})}),O.jsx("div",{className:"text-center mb-4 text-dark-400",children:O.jsx("span",{className:"text-lg",children:hR(g)})}),O.jsxs(Be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center mb-8",children:[O.jsxs("div",{className:"text-5xl sm:text-6xl font-bold text-white mb-4",children:[t.dividend," mod ",t.modulus]}),O.jsx("div",{className:"text-xl text-dark-400",children:"What is the remainder?"})]},t.id),O.jsxs("div",{className:"flex gap-4 mb-6",children:[O.jsx("input",{ref:x,type:"number",inputMode:"numeric",pattern:"[0-9]*",value:u,onChange:C=>c(C.target.value),onKeyDown:P,placeholder:"?",autoFocus:!0,className:`
            flex-1 text-center text-4xl font-bold py-4
            bg-dark-800 border-2 border-dark-600 rounded-lg
            text-white placeholder-dark-500
            focus:border-cyan-500 focus:outline-none
            [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none
          `}),O.jsx("button",{onClick:N,disabled:u.trim()==="",className:`
            px-8 py-4 bg-cyan-600 hover:bg-cyan-500 disabled:bg-dark-600 disabled:cursor-not-allowed
            text-white font-bold text-xl rounded-lg
            transition-colors
          `,children:"Submit"})]}),O.jsx("div",{className:"grid grid-cols-5 gap-2 sm:hidden",children:[0,1,2,3,4,5,6,7,8,9].map(C=>O.jsx("button",{onClick:()=>c(u+C.toString()),className:`
              py-4 bg-dark-700 hover:bg-dark-600
              text-white font-bold text-2xl rounded-lg
              transition-colors
            `,children:C},C))})]})}function dJ({tier:t,totalScore:e,correctAnswers:n,incorrectAnswers:r,maxStreak:i,fastAnswers:s,avgResponseTime:a,xpEarned:o,isNewHighScore:u,previousHighScore:c,onPlayAgain:d,onChangeTier:p,onExit:g}){const v=bp(t),x=n+r,N=x>0?Math.round(n/x*100):0;return q.useEffect(()=>{cJ()},[]),O.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[O.jsxs(Be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[O.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Race Complete!"}),O.jsxs("p",{className:"text-dark-300",children:[v.name," Mode"]})]}),O.jsxs(Be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"text-center mb-8",children:[O.jsx("div",{className:"text-6xl font-bold text-cyan-400 mb-2",children:e.toLocaleString()}),O.jsx("div",{className:"text-xl text-dark-400",children:"Final Score"}),u&&O.jsxs(Be.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-4",children:[O.jsx("span",{className:"inline-block px-4 py-2 bg-yellow-500/20 text-yellow-400 rounded-full font-bold",children:"New High Score!"}),c!==void 0&&c>0&&O.jsxs("div",{className:"text-sm text-dark-400 mt-2",children:["Previous best: ",c.toLocaleString()]})]})]}),O.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-8",children:[O.jsxs("div",{className:"bg-dark-800 rounded-lg p-4 text-center",children:[O.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[n,"/",x]}),O.jsx("div",{className:"text-sm text-dark-400",children:"Correct"})]}),O.jsxs("div",{className:"bg-dark-800 rounded-lg p-4 text-center",children:[O.jsxs("div",{className:"text-2xl font-bold text-white",children:[N,"%"]}),O.jsx("div",{className:"text-sm text-dark-400",children:"Accuracy"})]}),O.jsxs("div",{className:"bg-dark-800 rounded-lg p-4 text-center",children:[O.jsx("div",{className:"text-2xl font-bold text-orange-400",children:i}),O.jsx("div",{className:"text-sm text-dark-400",children:"Best Streak"})]}),O.jsxs("div",{className:"bg-dark-800 rounded-lg p-4 text-center",children:[O.jsx("div",{className:"text-2xl font-bold text-white",children:hR(a)}),O.jsx("div",{className:"text-sm text-dark-400",children:"Avg Time"})]})]}),O.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-dark-800 rounded-lg p-4 mb-8",children:[O.jsxs("div",{className:"flex justify-between items-center",children:[O.jsx("span",{className:"text-lg font-semibold text-white",children:"XP Earned"}),O.jsxs("span",{className:"text-2xl font-bold text-cyan-400",children:["+",o]})]}),s>=10&&O.jsx("div",{className:"text-sm text-green-400 mt-2",children:"Speed Demon bonus applied!"}),i>=10&&O.jsx("div",{className:"text-sm text-orange-400 mt-1",children:"Streak Master bonus applied!"}),n===x&&x>=10&&O.jsx("div",{className:"text-sm text-yellow-400 mt-1",children:"Perfect Game bonus applied!"})]}),O.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-wrap gap-2 justify-center mb-8",children:[N>=90&&O.jsx("span",{className:"px-3 py-1 bg-green-500/20 text-green-400 rounded-full text-sm font-medium",children:"Sharp Mind"}),a<2e3&&O.jsx("span",{className:"px-3 py-1 bg-cyan-500/20 text-cyan-400 rounded-full text-sm font-medium",children:"Lightning Fast"}),i>=5&&O.jsx("span",{className:"px-3 py-1 bg-orange-500/20 text-orange-400 rounded-full text-sm font-medium",children:"On Fire"}),s>=5&&O.jsx("span",{className:"px-3 py-1 bg-purple-500/20 text-purple-400 rounded-full text-sm font-medium",children:"Quick Thinker"})]}),O.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"flex flex-col sm:flex-row gap-3",children:[O.jsx("button",{onClick:d,className:`
            flex-1 py-3 bg-cyan-600 hover:bg-cyan-500
            text-white font-bold rounded-lg transition-colors
          `,children:"Play Again"}),O.jsx("button",{onClick:p,className:`
            flex-1 py-3 bg-dark-700 hover:bg-dark-600
            text-white font-medium rounded-lg transition-colors
          `,children:"Change Tier"}),O.jsx("button",{onClick:g,className:`
            flex-1 py-3 bg-dark-800 hover:bg-dark-700 border border-dark-600
            text-dark-300 font-medium rounded-lg transition-colors
          `,children:"Exit"})]})]})}function mJ({userNpub:t,userLevel:e,room:n,isCreating:r,isJoining:i,error:s,onCreateRoom:a,onJoinRoom:o,onSetReady:u,onLeaveRoom:c,onBack:d}){const[p,g]=q.useState("menu"),[v,x]=q.useState(1),[N,P]=q.useState(10),[C,I]=q.useState("");return n?O.jsx(pJ,{room:n,userNpub:t,onSetReady:u,onLeaveRoom:c}):p==="menu"?O.jsxs("div",{className:"max-w-md mx-auto p-6",children:[O.jsxs(Be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[O.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Multiplayer"}),O.jsx("p",{className:"text-dark-300",children:"Race against other players in real-time!"})]}),s&&O.jsx(Be.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-red-500/20 border border-red-500/50 rounded-lg p-4 mb-6 text-red-300",children:s}),O.jsxs("div",{className:"space-y-4",children:[O.jsx(Be.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},onClick:()=>g("create"),className:"w-full py-4 bg-cyan-600 hover:bg-cyan-500 text-white font-bold text-lg rounded-lg transition-colors",children:"Create Room"}),O.jsx(Be.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},onClick:()=>g("join"),className:"w-full py-4 bg-dark-700 hover:bg-dark-600 text-white font-bold text-lg rounded-lg transition-colors border border-dark-500",children:"Join Room"}),O.jsx(Be.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},onClick:d,className:"w-full py-3 text-dark-300 hover:text-white transition-colors",children:"Back to Menu"})]})]}):p==="create"?O.jsxs("div",{className:"max-w-md mx-auto p-6",children:[O.jsx(Be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6",children:O.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Create Room"})}),s&&O.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-4 mb-6 text-red-300",children:s}),O.jsxs("div",{className:"mb-6",children:[O.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Difficulty"}),O.jsx("div",{className:"grid grid-cols-2 gap-2",children:$u.map(M=>{const V=v===M.tier;return O.jsxs("button",{onClick:()=>x(M.tier),className:`
                    p-3 rounded-lg border-2 transition-all text-left
                    ${V?"border-cyan-500 bg-cyan-500/10":"border-dark-600 bg-dark-800 hover:border-dark-500"}
                  `,children:[O.jsx("div",{className:`font-bold ${V?"text-cyan-400":"text-white"}`,children:M.name}),O.jsxs("div",{className:"text-xs text-dark-400",children:[M.basePoints," pts"]})]},M.tier)})})]}),O.jsxs("div",{className:"mb-6",children:[O.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Rounds"}),O.jsx("div",{className:"flex gap-2",children:[5,10,15,20].map(M=>O.jsx("button",{onClick:()=>P(M),className:`
                  flex-1 py-2 rounded-lg border-2 transition-all font-medium
                  ${N===M?"border-cyan-500 bg-cyan-500/10 text-cyan-400":"border-dark-600 bg-dark-800 text-white hover:border-dark-500"}
                `,children:M},M))})]}),O.jsxs("div",{className:"space-y-3",children:[O.jsx("button",{onClick:()=>a(v,N),disabled:r,className:"w-full py-4 bg-cyan-600 hover:bg-cyan-500 disabled:bg-dark-600 text-white font-bold text-lg rounded-lg transition-colors",children:r?"Creating...":"Create Room"}),O.jsx("button",{onClick:()=>g("menu"),className:"w-full py-3 text-dark-300 hover:text-white transition-colors",children:"Cancel"})]})]}):O.jsxs("div",{className:"max-w-md mx-auto p-6",children:[O.jsxs(Be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6",children:[O.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Join Room"}),O.jsx("p",{className:"text-dark-300",children:"Enter the 6-character room code"})]}),s&&O.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-lg p-4 mb-6 text-red-300",children:s}),O.jsx("div",{className:"mb-6",children:O.jsx("input",{type:"text",value:C,onChange:M=>I(M.target.value.toUpperCase().slice(0,6)),placeholder:"ABC123",className:"w-full text-center text-3xl font-mono tracking-widest py-4 bg-dark-800 border-2 border-dark-600 rounded-lg text-white focus:border-cyan-500 focus:outline-none",maxLength:6})}),O.jsxs("div",{className:"space-y-3",children:[O.jsx("button",{onClick:()=>o(C),disabled:i||C.length!==6,className:"w-full py-4 bg-cyan-600 hover:bg-cyan-500 disabled:bg-dark-600 text-white font-bold text-lg rounded-lg transition-colors",children:i?"Joining...":"Join Room"}),O.jsx("button",{onClick:()=>g("menu"),className:"w-full py-3 text-dark-300 hover:text-white transition-colors",children:"Cancel"})]})]})}function pJ({room:t,userNpub:e,onSetReady:n,onLeaveRoom:r}){const i=Object.values(t.players),s=t.players[e];t.hostNpub;const a=i.length>=2&&i.every(u=>u.isReady),o=$u.find(u=>u.tier===t.tier);return O.jsxs("div",{className:"max-w-md mx-auto p-6",children:[O.jsxs(Be.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6",children:[O.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Waiting Room"}),O.jsxs("div",{className:"flex justify-center gap-2",children:[O.jsx("span",{className:"bg-dark-700 px-3 py-1 rounded-full text-sm text-dark-300",children:o.name}),O.jsxs("span",{className:"bg-dark-700 px-3 py-1 rounded-full text-sm text-dark-300",children:[t.totalRounds," rounds"]})]})]}),O.jsxs(Be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-dark-800 rounded-lg p-4 mb-6 text-center",children:[O.jsx("div",{className:"text-sm text-dark-400 mb-1",children:"Room Code"}),O.jsx("div",{className:"text-4xl font-mono font-bold text-cyan-400 tracking-widest",children:t.roomCode}),O.jsx("div",{className:"text-xs text-dark-500 mt-2",children:"Share this code with friends to join"})]}),O.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"mb-6",children:[O.jsxs("h2",{className:"text-lg font-semibold text-white mb-3",children:["Players (",i.length,"/8)"]}),O.jsx("div",{className:"space-y-2",children:i.map((u,c)=>O.jsx(gJ,{player:u,isHost:u.npub===t.hostNpub,isYou:u.npub===e,index:c},u.npub))}),i.length<2&&O.jsx("div",{className:"mt-4 text-center text-dark-400 text-sm",children:"Waiting for at least one more player..."})]}),O.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"space-y-3",children:[O.jsx("button",{onClick:()=>n(!(s!=null&&s.isReady)),className:`
            w-full py-4 font-bold text-lg rounded-lg transition-colors
            ${s!=null&&s.isReady?"bg-green-600 hover:bg-green-500 text-white":"bg-dark-700 hover:bg-dark-600 text-white border border-dark-500"}
          `,children:s!=null&&s.isReady?"Ready!":"Click when Ready"}),a&&O.jsx("div",{className:"text-center text-green-400 animate-pulse",children:"All players ready! Starting game..."}),O.jsx("button",{onClick:r,className:"w-full py-3 text-dark-300 hover:text-white transition-colors",children:"Leave Room"})]})]})}function gJ({player:t,isHost:e,isYou:n,index:r}){return O.jsxs(Be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:r*.05},className:`
        flex items-center justify-between p-3 rounded-lg
        ${n?"bg-cyan-500/10 border border-cyan-500/30":"bg-dark-800"}
      `,children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"w-8 h-8 rounded-full bg-dark-600 flex items-center justify-center text-lg",children:e?"":""}),O.jsxs("div",{children:[O.jsxs("div",{className:"font-medium text-white",children:[t.displayName||t.npub.slice(0,8)+"...",n&&O.jsx("span",{className:"text-cyan-400 ml-2",children:"(You)"})]}),e&&O.jsx("div",{className:"text-xs text-dark-400",children:"Host"})]})]}),O.jsx("div",{className:`
          w-3 h-3 rounded-full transition-colors
          ${t.isReady?"bg-green-500":"bg-dark-600"}
        `,title:t.isReady?"Ready":"Not ready"})]})}function yJ({room:t,userNpub:e,lastAnswerResult:n,finalRankings:r,isHost:i,onStartRound:s,onSubmitAnswer:a,onAdvanceRound:o,onLeaveRoom:u}){return t.status==="countdown"?O.jsx(vJ,{isHost:i,onStart:s}):t.status==="completed"||r?O.jsx(TJ,{room:t,userNpub:e,finalRankings:r||[],onLeave:u}):O.jsx(bJ,{room:t,userNpub:e,lastAnswerResult:n,isHost:i,onSubmitAnswer:a,onAdvanceRound:o})}function vJ({isHost:t,onStart:e}){const[n,r]=q.useState(3);return q.useEffect(()=>{if(n>0){const i=setTimeout(()=>r(n-1),1e3);return()=>clearTimeout(i)}else t&&e()},[n,t,e]),O.jsx("div",{className:"fixed inset-0 bg-dark-900 flex items-center justify-center",children:O.jsx(Be.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},exit:{scale:1.5,opacity:0},className:"text-center",children:n>0?O.jsx("div",{className:"text-9xl font-bold text-cyan-400",children:n}):O.jsx("div",{className:"text-6xl font-bold text-green-400",children:"GO!"})},n)})}function bJ({room:t,userNpub:e,lastAnswerResult:n,isHost:r,onSubmitAnswer:i,onAdvanceRound:s}){var V;const[a,o]=q.useState(""),[u,c]=q.useState(!1),[d,p]=q.useState(!1),[g,v]=q.useState(0),x=q.useRef(null),N=$u.find(j=>j.tier===t.tier),P=Object.values(t.players).sort((j,G)=>G.score-j.score);q.useEffect(()=>{var j;o(""),c(!1),p(!1),v(0),(j=x.current)==null||j.focus()},[t.currentRound]),q.useEffect(()=>{if(!t.roundStartedAt||u)return;const j=t.roundStartedAt.toMillis(),G=setInterval(()=>{v(Date.now()-j)},100);return()=>clearInterval(G)},[t.roundStartedAt,u]);const C=q.useCallback(async()=>{if(u||d||!a)return;const j=parseInt(a,10);if(!(isNaN(j)||j<0)){p(!0);try{await i(j),c(!0),r&&setTimeout(s,2e3)}catch{c(!0)}p(!1)}},[a,u,d,i,r,s]),I=q.useCallback(j=>{j.key==="Enter"&&C()},[C]),M=j=>j<1e3?`${j}ms`:`${(j/1e3).toFixed(1)}s`;return O.jsxs("div",{className:"min-h-screen bg-dark-900 p-4",children:[O.jsxs("div",{className:"max-w-4xl mx-auto mb-6",children:[O.jsxs("div",{className:"flex justify-between items-center text-dark-400",children:[O.jsxs("span",{children:["Round ",t.currentRound,"/",t.totalRounds]}),O.jsx("span",{children:N.name})]}),O.jsx("div",{className:"mt-2 text-center text-dark-400",children:M(g)})]}),O.jsxs("div",{className:"max-w-4xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-6",children:[O.jsxs("div",{className:"lg:col-span-2",children:[O.jsx(Be.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"bg-dark-800 rounded-xl p-8 mb-6 text-center",children:t.currentProblem?O.jsxs("div",{className:"text-4xl font-bold text-white",children:[t.currentProblem.displayText," = ?"]}):O.jsx("div",{className:"text-2xl text-dark-400",children:"Waiting for problem..."})},t.currentRound),u?O.jsx(_J,{result:n}):O.jsxs("div",{className:"flex gap-4",children:[O.jsx("input",{ref:x,type:"number",inputMode:"numeric",value:a,onChange:j=>o(j.target.value),onKeyDown:I,placeholder:"Your answer",className:"flex-1 text-center text-3xl font-bold py-4 bg-dark-800 border-2 border-dark-600 rounded-lg text-white focus:border-cyan-500 focus:outline-none",autoFocus:!0,disabled:u}),O.jsx("button",{onClick:C,disabled:!a||d,className:"px-8 py-4 bg-cyan-600 hover:bg-cyan-500 disabled:bg-dark-600 text-white font-bold text-xl rounded-lg transition-colors",children:d?"...":"Submit"})]})]}),O.jsxs("div",{className:"bg-dark-800 rounded-xl p-4",children:[O.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Scoreboard"}),O.jsx("div",{className:"space-y-2",children:P.map((j,G)=>O.jsxs("div",{className:`
                  flex items-center justify-between p-2 rounded-lg
                  ${j.npub===e?"bg-cyan-500/20":"bg-dark-700"}
                `,children:[O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsxs("span",{className:"w-6 text-center text-dark-400",children:[G+1,"."]}),O.jsx("span",{className:`font-medium ${j.npub===e?"text-cyan-400":"text-white"}`,children:j.displayName||j.npub.slice(0,8)}),j.streak>=3&&O.jsxs("span",{className:"text-orange-400 text-sm",children:["",j.streak]})]}),O.jsx("span",{className:"font-bold text-white",children:j.score.toLocaleString()})]},j.npub))}),t.roundWinner&&O.jsx("div",{className:"mt-4 p-2 bg-green-500/20 rounded-lg text-center text-green-400 text-sm",children:t.roundWinner===e?"You were first! ":`${((V=t.players[t.roundWinner])==null?void 0:V.displayName)||"Someone"} answered first!`})]})]})]})}function _J({result:t}){return t?O.jsxs(Be.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:`
        text-center py-6 rounded-lg
        ${t.isCorrect?"bg-green-500/20":"bg-red-500/20"}
      `,children:[O.jsx("div",{className:`text-3xl font-bold ${t.isCorrect?"text-green-400":"text-red-400"}`,children:t.isCorrect?" Correct!":" Wrong"}),O.jsxs("div",{className:`text-2xl font-bold mt-2 ${t.points>=0?"text-green-400":"text-red-400"}`,children:[t.points>=0?"+":"",t.points," pts"]}),t.isFirst&&O.jsx("div",{className:"mt-2 text-yellow-400",children:" First to answer! +25% bonus"}),!t.isCorrect&&O.jsxs("div",{className:"mt-2 text-dark-400",children:["Answer: ",t.correctAnswer]})]}):O.jsx("div",{className:"text-center py-4 text-dark-400",children:"Waiting for result..."})}function TJ({room:t,userNpub:e,finalRankings:n,onLeave:r}){const i=n.findIndex(a=>a.npub===e)+1,s=n.find(a=>a.npub===e);return O.jsx("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center p-4",children:O.jsxs(Be.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"max-w-md w-full bg-dark-800 rounded-xl p-6",children:[O.jsxs("div",{className:"text-center mb-6",children:[O.jsx("div",{className:"text-6xl mb-4",children:i===1?"":i===2?"":i===3?"":""}),O.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:i===1?"Victory!":`${i}${wJ(i)} Place`}),s&&O.jsxs("div",{className:"text-4xl font-bold text-cyan-400",children:[s.score.toLocaleString()," pts"]})]}),O.jsxs("div",{className:"mb-6",children:[O.jsx("h2",{className:"text-lg font-semibold text-white mb-3",children:"Final Standings"}),O.jsx("div",{className:"space-y-2",children:n.map((a,o)=>O.jsxs(Be.div,{initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{delay:o*.1},className:`
                  flex items-center justify-between p-3 rounded-lg
                  ${a.npub===e?"bg-cyan-500/20 border border-cyan-500/30":"bg-dark-700"}
                `,children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("span",{className:"w-8 text-center text-2xl",children:o===0?"":o===1?"":o===2?"":`${o+1}.`}),O.jsxs("div",{children:[O.jsx("div",{className:`font-medium ${a.npub===e?"text-cyan-400":"text-white"}`,children:a.displayName||a.npub.slice(0,8)}),O.jsxs("div",{className:"text-xs text-dark-400",children:[a.correctAnswers,"/",t.totalRounds," correct"]})]})]}),O.jsx("span",{className:"font-bold text-white text-lg",children:a.score.toLocaleString()})]},a.npub))})]}),O.jsx("button",{onClick:r,className:"w-full py-4 bg-cyan-600 hover:bg-cyan-500 text-white font-bold text-lg rounded-lg transition-colors",children:"Back to Lobby"})]})})}function wJ(t){const e=["th","st","nd","rd"],n=t%100;return e[(n-20)%10]||e[n]||e[0]}function SJ(){var D;const{state:t,recordRaceGame:e,syncStatus:n}=CA(),{npub:r,connect:i,disconnect:s,isConnecting:a,error:o,hasExtension:u,extensionChecked:c}=ME(),[d,p]=q.useState("menu"),g=!!r,[v,x]=MY(),[N,P]=rJ(r),C=t.user.level,I=t.user.totalXP,M=t.racingStats,V=dm[C-1]||0,j=dm[C]||V+1e3,G=I-V,S=j-V,b=Math.min(100,Math.round(G/S*100)),_=q.useCallback(()=>{const w=x.getGameResult();w&&e(w)},[x,e]);q.useEffect(()=>{v.phase==="results"&&_()},[v.phase,_]);const A=v.phase==="results"&&v.score>((M==null?void 0:M.highScore)??0),R=q.useCallback(()=>{p("menu"),x.returnToLobby(),P.disconnect()},[x,P]);if(d==="menu")return O.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:O.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full",children:[O.jsxs("div",{className:"text-center mb-8",children:[O.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Modular Arithmetic Racing"}),O.jsx("p",{className:"text-dark-300",children:"Race to compute remainders!"})]}),O.jsxs("div",{className:"bg-dark-800 rounded-lg p-4 mb-6",children:[O.jsxs("div",{className:"mb-4",children:[O.jsxs("div",{className:"flex justify-between items-center mb-1",children:[O.jsxs("span",{className:"text-purple-400 font-bold",children:["Level ",C]}),O.jsxs("span",{className:"text-dark-400 text-sm",children:[G," / ",S," XP"]})]}),O.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:O.jsx("div",{className:"h-full bg-purple-500 transition-all duration-300",style:{width:`${b}%`}})})]}),O.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[O.jsxs("div",{children:[O.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:(M==null?void 0:M.highScore.toLocaleString())??0}),O.jsx("div",{className:"text-sm text-dark-400",children:"High Score"})]}),O.jsxs("div",{children:[O.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:(M==null?void 0:M.gamesPlayed)??0}),O.jsx("div",{className:"text-sm text-dark-400",children:"Games"})]}),O.jsxs("div",{children:[O.jsx("div",{className:"text-2xl font-bold text-orange-400",children:(M==null?void 0:M.longestStreak)??0}),O.jsx("div",{className:"text-sm text-dark-400",children:"Best Streak"})]})]})]}),O.jsx(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"mb-6",children:g?O.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3",children:[O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),O.jsx("span",{className:"text-green-400 text-sm font-medium",children:"Progress synced to cloud"})]}),O.jsx("button",{onClick:s,className:"text-dark-400 hover:text-white text-sm transition-colors",children:"Sign out"})]}),O.jsxs("div",{className:"text-xs text-dark-500 mt-1",children:[r==null?void 0:r.slice(0,16),"..."]})]}):O.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-3",children:[O.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[O.jsx("svg",{className:"w-5 h-5 text-yellow-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:O.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),O.jsx("span",{className:"text-yellow-400 text-sm font-medium",children:"Progress not saved!"})]}),c&&!u?O.jsxs(O.Fragment,{children:[O.jsx("p",{className:"text-dark-400 text-xs mb-3",children:"Install a Nostr extension to save your scores."}),O.jsx("a",{href:"https://getalby.com/",target:"_blank",rel:"noopener noreferrer",className:"block w-full py-2 bg-purple-600 hover:bg-purple-500 text-white font-bold rounded-lg transition-colors text-sm text-center",children:"Get Alby Extension"}),O.jsx("p",{className:"text-dark-500 text-xs mt-2 text-center",children:"Or use nos2x, Flamingo, or any NIP-07 extension"})]}):O.jsxs(O.Fragment,{children:[O.jsx("p",{className:"text-dark-400 text-xs mb-3",children:"Sign in with Nostr to save your scores permanently."}),o&&O.jsx("p",{className:"text-red-400 text-xs mb-2",children:o}),O.jsx("button",{onClick:i,disabled:a||!c,className:"w-full py-2 bg-purple-600 hover:bg-purple-500 disabled:bg-dark-600 text-white font-bold rounded-lg transition-colors text-sm",children:c?a?"Connecting...":"Sign in with Nostr":"Checking..."})]})]})}),O.jsxs("div",{className:"space-y-4",children:[O.jsx(Be.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},onClick:()=>p("single"),className:"w-full py-4 bg-cyan-600 hover:bg-cyan-500 text-white font-bold text-xl rounded-lg transition-colors",children:"Single Player"}),O.jsxs(Be.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},onClick:()=>p("multi"),disabled:!r,className:"w-full py-4 bg-dark-700 hover:bg-dark-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-bold text-xl rounded-lg transition-colors border border-dark-500",children:["Multiplayer",!r&&O.jsx("span",{className:"block text-sm font-normal text-dark-400 mt-1",children:"Sign in to play online"})]})]})]})});if(d==="single")return O.jsxs("div",{className:"min-h-screen bg-dark-950",children:[v.phase==="lobby"&&O.jsxs(O.Fragment,{children:[O.jsx("button",{onClick:R,className:"absolute top-4 left-4 text-dark-400 hover:text-white transition-colors",children:" Back"}),O.jsx(iJ,{userLevel:C,racingStats:M,onStartGame:x.startGame})]}),v.phase==="countdown"&&O.jsx(hJ,{onComplete:x.completeCountdown}),v.phase==="playing"&&v.currentProblem&&O.jsx(fJ,{problem:v.currentProblem,tier:v.tier,roundNumber:v.currentRound,totalRounds:v.roundCount,score:v.score,streak:v.streak,onAnswer:x.submitAnswer,lastResult:v.lastRoundResult}),v.phase==="results"&&O.jsx(dJ,{tier:v.tier,totalScore:v.score,correctAnswers:v.roundResults.filter(w=>w.isCorrect).length,incorrectAnswers:v.roundResults.filter(w=>!w.isCorrect).length,maxStreak:(()=>{let w=0,ue=0;for(const Ie of v.roundResults)Ie.isCorrect?(ue++,w=Math.max(w,ue)):ue=0;return w})(),fastAnswers:v.roundResults.filter(w=>w.isCorrect&&w.responseTimeMs<2e3).length,avgResponseTime:v.roundResults.length>0?Math.round(v.roundResults.reduce((w,ue)=>w+ue.responseTimeMs,0)/v.roundResults.length):0,xpEarned:((D=x.getFinalScore())==null?void 0:D.xpEarned)??0,isNewHighScore:A,previousHighScore:M==null?void 0:M.highScore,onPlayAgain:x.playAgain,onChangeTier:x.returnToLobby,onExit:R})]});if(d==="multi"&&r){const w=N.room,ue=(w==null?void 0:w.hostNpub)===r;return!w||w.status==="waiting"?O.jsxs("div",{className:"min-h-screen bg-dark-950",children:[O.jsx("button",{onClick:R,className:"absolute top-4 left-4 text-dark-400 hover:text-white transition-colors z-10",children:" Back"}),O.jsx(mJ,{userNpub:r,userLevel:C,room:w,isCreating:N.status==="creating",isJoining:N.status==="joining",error:N.error,onCreateRoom:P.createRoom,onJoinRoom:P.joinRoom,onSetReady:P.setReady,onLeaveRoom:P.leaveRoom,onBack:R})]}):O.jsx(yJ,{room:w,userNpub:r,lastAnswerResult:N.lastAnswerResult,finalRankings:N.finalRankings,isHost:ue,onStartRound:P.startRound,onSubmitAnswer:P.submitAnswer,onAdvanceRound:P.advanceRound,onLeaveRoom:R})}return O.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:O.jsx("button",{onClick:R,className:"text-white hover:text-cyan-400",children:"Return to Menu"})})}function EJ(){const[t,e]=q.useState(!1);return O.jsxs("div",{className:"min-h-screen bg-dark-950",children:[O.jsx(SJ,{}),O.jsx(_Y,{isOpen:t,onClose:()=>e(!1)}),O.jsx(TY,{onClick:()=>e(!t)}),O.jsx(bY,{})]})}function AJ(){return O.jsx(zN,{children:O.jsx(rj,{children:O.jsx(VH,{children:O.jsx(EJ,{})})})})}SN.createRoot(document.getElementById("root")).render(O.jsx(q.StrictMode,{children:O.jsx(AJ,{})}));
