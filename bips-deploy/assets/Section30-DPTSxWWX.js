import{j as e}from"./vendor-animation-CmxkKU9r.js";import"./vendor-react-DamxDR2H.js";import"./vendor-math-p018AHG0.js";import"./index-CsKt80eB.js";import{L as r,C as t,D as a,E as s}from"./Callout-DTLGvo9K.js";import"./vendor-firebase-functions-DDqfDrvm.js";import"./vendor-firebase-core-CzRQL6VN.js";import"./vendor-firebase-auth-C4l3lITM.js";import"./quizMap-C7tZlcUA.js";function p(){return e.jsxs(r,{sectionId:30,children:[e.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Derivation Scheme for Native SegWit (P2WPKH)"}),e.jsx("p",{className:"mb-4",children:'BIP-84 defines the derivation path for native SegWit addresses—P2WPKH outputs encoded using bech32. These "bc1q..." addresses are the most efficient single-signature format, offering the lowest fees and best security for typical Bitcoin transactions.'}),e.jsx(t,{type:"info",title:"The Modern Standard",children:e.jsx("p",{children:"BIP-84 is the recommended format for single-signature wallets today. Native SegWit addresses are now universally supported and provide the best combination of efficiency, security, and error detection."})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Why Native SegWit?"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4 border border-emerald-500/30",children:[e.jsx("p",{className:"text-emerald-400 font-bold mb-2",children:"Advantages"}),e.jsxs("ul",{className:"text-sm text-dark-300 space-y-1",children:[e.jsx("li",{children:"Lowest transaction fees"}),e.jsx("li",{children:"Bech32 error detection"}),e.jsx("li",{children:"All lowercase (easier to type)"}),e.jsx("li",{children:"No scriptSig overhead"}),e.jsx("li",{children:"Simpler transaction structure"})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4 border border-amber-500/30",children:[e.jsx("p",{className:"text-amber-400 font-bold mb-2",children:"vs Nested SegWit (BIP-49)"}),e.jsxs("ul",{className:"text-sm text-dark-300 space-y-1",children:[e.jsx("li",{children:"~25% smaller inputs"}),e.jsx("li",{children:"No P2SH wrapping needed"}),e.jsx("li",{children:"Cleaner UTXO set"}),e.jsx("li",{children:"Better long-term standard"})]})]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"The Derivation Path"}),e.jsxs(a,{title:"BIP-84 Path",children:[e.jsx("div",{className:"font-mono text-lg text-amber-400 mb-4",children:"m / 84' / coin_type' / account' / change / address_index"}),e.jsx("p",{className:"text-dark-300",children:"Same five-level structure as BIP-44/49, with purpose 84' indicating native P2WPKH addresses."})]}),e.jsx(s,{title:"Path Comparison",children:e.jsxs("div",{className:"space-y-3 font-mono text-sm",children:[e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-dark-400 mb-1",children:"# BIP-44: Legacy (1...)"}),e.jsx("p",{className:"text-dark-300",children:"m/44'/0'/0'/0/0"})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-dark-400 mb-1",children:"# BIP-49: Nested SegWit (3...)"}),e.jsx("p",{className:"text-dark-300",children:"m/49'/0'/0'/0/0"})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-dark-400 mb-1",children:"# BIP-84: Native SegWit (bc1q...)"}),e.jsx("p",{className:"text-amber-400",children:"m/84'/0'/0'/0/0"})]})]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Address Generation"}),e.jsx("p",{className:"mb-4",children:"Native SegWit addresses are simpler to construct than nested ones:"}),e.jsx("div",{className:"bg-dark-800/50 rounded-xl p-6 border border-dark-700/50 mb-6",children:e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-dark-300",children:[e.jsx("li",{children:"Derive the private key at m/84'/0'/account'/change/index"}),e.jsx("li",{children:"Compute the compressed public key"}),e.jsx("li",{children:"Compute HASH160 of the public key (20 bytes)"}),e.jsx("li",{children:'Encode using bech32 with HRP "bc" and witness version 0'})]})}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-5 font-mono text-sm mb-6",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# scriptPubKey structure"}),e.jsx("p",{className:"text-amber-400",children:"OP_0 <20-byte-keyhash>"}),e.jsx("p",{className:"text-xs text-dark-500 mt-3",children:"Witness version 0 + 20 bytes = P2WPKH"})]}),e.jsx(s,{title:"Address Derivation Example",children:e.jsxs("div",{className:"space-y-2 font-mono text-xs break-all",children:[e.jsx("p",{className:"text-dark-400",children:"# Public key (compressed)"}),e.jsx("p",{className:"text-dark-300",children:"0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"}),e.jsx("p",{className:"text-dark-400 mt-2",children:"# Key hash (HASH160)"}),e.jsx("p",{className:"text-dark-300",children:"751e76e8199196d454941c45d1b3a323f1433bd6"}),e.jsx("p",{className:"text-dark-400 mt-2",children:"# Bech32 address"}),e.jsx("p",{className:"text-amber-400",children:"bc1qw508d6qejxtdg4y5r3zarvary0c5xw7kv8f3t4"})]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Bech32 Encoding"}),e.jsx("p",{className:"mb-4",children:"BIP-84 addresses use bech32 encoding (defined in BIP-173):"}),e.jsxs(a,{title:"Bech32 Components",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-amber-400 font-mono",children:"bc"})," — Human-readable part (HRP) for mainnet"]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-amber-400 font-mono",children:"1"})," — Separator"]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-amber-400 font-mono",children:"q..."})," — Data part (witness version + keyhash)"]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-amber-400 font-mono",children:"...t4"})," — 6-character checksum"]})]}),e.jsx("p",{className:"text-dark-500 text-sm mt-3",children:'The "q" encodes witness version 0. Testnet uses "tb" as HRP.'})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Spending from P2WPKH"}),e.jsx("p",{className:"mb-4",children:"Native SegWit spending is elegant—no scriptSig needed:"}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-5 font-mono text-sm mb-6",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# Transaction input"}),e.jsxs("p",{className:"text-dark-300",children:["scriptSig: ",e.jsx("span",{className:"text-emerald-400",children:"(empty)"})]}),e.jsx("p",{className:"text-dark-400 mt-3 mb-2",children:"# Witness"}),e.jsx("p",{className:"text-amber-400",children:"<signature> <pubkey>"}),e.jsx("p",{className:"text-xs text-dark-500 mt-3",children:"Witness data is discounted at 1/4 weight, reducing fees"})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Size Comparison"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm mb-6",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-dark-700",children:[e.jsx("th",{className:"text-left py-3 text-dark-300",children:"Component"}),e.jsx("th",{className:"text-left py-3 text-dark-300",children:"P2PKH"}),e.jsx("th",{className:"text-left py-3 text-dark-300",children:"P2SH-P2WPKH"}),e.jsx("th",{className:"text-left py-3 text-dark-300",children:"P2WPKH"})]})}),e.jsxs("tbody",{className:"text-dark-400",children:[e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-3",children:"scriptPubKey"}),e.jsx("td",{children:"25 bytes"}),e.jsx("td",{children:"23 bytes"}),e.jsx("td",{className:"text-emerald-400",children:"22 bytes"})]}),e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-3",children:"scriptSig"}),e.jsx("td",{children:"~107 bytes"}),e.jsx("td",{children:"23 bytes"}),e.jsx("td",{className:"text-emerald-400",children:"0 bytes"})]}),e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-3",children:"Witness"}),e.jsx("td",{children:"—"}),e.jsx("td",{children:"~107 bytes"}),e.jsx("td",{children:"~107 bytes"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 font-bold",children:"Input vBytes"}),e.jsx("td",{children:"~148"}),e.jsx("td",{children:"~91"}),e.jsx("td",{className:"text-emerald-400",children:"~68"})]})]})]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Extended Public Keys"}),e.jsx("p",{className:"mb-4",children:"BIP-84 introduces new version bytes for extended keys:"}),e.jsxs(s,{title:"BIP-84 Extended Key Prefixes",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 font-mono text-sm",children:[e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-dark-400 mb-1",children:"Mainnet private:"}),e.jsx("p",{className:"text-amber-400",children:"zprv... (0x04b2430c)"})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-dark-400 mb-1",children:"Mainnet public:"}),e.jsx("p",{className:"text-emerald-400",children:"zpub... (0x04b24746)"})]})]}),e.jsx("p",{className:"text-dark-500 text-sm mt-3",children:'The "z" prefix distinguishes from xpub (BIP-44) and ypub (BIP-49)'})]}),e.jsx(t,{type:"success",title:"Default Choice",children:e.jsx("p",{children:"For most users, BIP-84 is the best choice today. It provides the optimal balance of efficiency, compatibility, and simplicity. Taproot (BIP-86) offers additional benefits but requires wallet support for the newer address format."})})]})}export{p as default};
