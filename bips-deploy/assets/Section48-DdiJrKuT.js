import{j as e}from"./vendor-animation-CmxkKU9r.js";import"./vendor-react-DamxDR2H.js";import"./vendor-math-p018AHG0.js";import"./index-CsKt80eB.js";import{L as t,C as s,D as a,E as r}from"./Callout-DTLGvo9K.js";import"./vendor-firebase-functions-DDqfDrvm.js";import"./vendor-firebase-core-CzRQL6VN.js";import"./vendor-firebase-auth-C4l3lITM.js";import"./quizMap-C7tZlcUA.js";function p(){return e.jsxs(t,{sectionId:48,children:[e.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"BIP-352: Silent Payments"}),e.jsx("p",{className:"mb-4",children:"BIP-352 introduces Silent Payments, a protocol for receiving Bitcoin to a static address without creating a visible link between payments. Each payment creates a unique on-chain address derived from the sender's and receiver's keys."}),e.jsx(s,{type:"info",title:"Solving Address Reuse",children:e.jsx("p",{children:"Address reuse harms privacy for both sender and receiver. Silent Payments let receivers share one address publicly while each payment goes to a unique, unlinkable address."})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"The Problem"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4 border border-rose-500/30",children:[e.jsx("p",{className:"text-rose-400 font-bold mb-2",children:"Regular Addresses"}),e.jsxs("ul",{className:"text-sm text-dark-300 space-y-1",children:[e.jsx("li",{children:"Reuse links all payments together"}),e.jsx("li",{children:"Fresh addresses require interaction"}),e.jsx("li",{children:"Donation addresses reveal income"}),e.jsx("li",{children:"Static addresses = privacy leak"})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4 border border-emerald-500/30",children:[e.jsx("p",{className:"text-emerald-400 font-bold mb-2",children:"Silent Payments"}),e.jsxs("ul",{className:"text-sm text-dark-300 space-y-1",children:[e.jsx("li",{children:"Each payment to unique address"}),e.jsx("li",{children:"No interaction needed"}),e.jsx("li",{children:"Safe for public posting"}),e.jsx("li",{children:"Static address, dynamic outputs"})]})]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"How It Works"}),e.jsxs(a,{title:"Silent Payment Address",children:[e.jsx("p",{children:"A Silent Payment address encodes two public keys: a scan key (B_scan) for detecting payments and a spend key (B_spend) for spending them."}),e.jsxs("div",{className:"font-mono text-sm text-amber-400 mt-3",children:["sp1q...","{","B_scan || B_spend","}"]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Sender's Process"}),e.jsx(r,{title:"Creating a Silent Payment",children:e.jsxs("div",{className:"space-y-3 font-mono text-xs",children:[e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# 1. Compute shared secret from inputs:"}),e.jsx("p",{className:"text-dark-300",children:"input_hash = hash(outpoint₁ || outpoint₂ || ...)"}),e.jsx("p",{className:"text-dark-300 mt-1",children:"A = sum of input public keys"}),e.jsx("p",{className:"text-dark-300 mt-1",children:"a = sum of input private keys"})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# 2. ECDH with receiver's scan key:"}),e.jsx("p",{className:"text-dark-300",children:"shared_secret = input_hash · a · B_scan"})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# 3. Derive output key:"}),e.jsx("p",{className:"text-dark-300",children:"t = hash(shared_secret || counter)"}),e.jsx("p",{className:"text-amber-400 mt-1",children:"P_output = B_spend + t·G"})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# 4. Create Taproot output to P_output"}),e.jsx("p",{className:"text-dark-500",children:"Only receiver can compute the private key"})]})]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Receiver's Process"}),e.jsx("p",{className:"mb-4",children:"The receiver scans the blockchain for potential payments:"}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-5 font-mono text-sm mb-6",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# For each transaction:"}),e.jsx("p",{className:"text-dark-300",children:"1. Extract sum of input public keys (A)"}),e.jsx("p",{className:"text-dark-300",children:"2. Compute: shared_secret = input_hash · b_scan · A"}),e.jsx("p",{className:"text-dark-300",children:"3. Derive expected output keys"}),e.jsx("p",{className:"text-dark-300",children:"4. Check if any output matches"}),e.jsx("p",{className:"text-dark-400 mt-3",children:"# If match found:"}),e.jsx("p",{className:"text-amber-400",children:"private_key = b_spend + t"})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Address Format"}),e.jsx("p",{className:"mb-4",children:"Silent Payment addresses use Bech32m encoding with a new HRP:"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm mb-6",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-dark-700",children:[e.jsx("th",{className:"text-left py-3 text-dark-300",children:"Network"}),e.jsx("th",{className:"text-left py-3 text-dark-300",children:"Prefix"}),e.jsx("th",{className:"text-left py-3 text-dark-300",children:"Example"})]})}),e.jsxs("tbody",{className:"text-dark-400",children:[e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-3",children:"Mainnet"}),e.jsx("td",{className:"font-mono text-amber-400",children:"sp1"}),e.jsx("td",{className:"font-mono text-xs",children:"sp1qq..."})]}),e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-3",children:"Testnet"}),e.jsx("td",{className:"font-mono text-amber-400",children:"tsp1"}),e.jsx("td",{className:"font-mono text-xs",children:"tsp1qq..."})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-3",children:"Signet"}),e.jsx("td",{className:"font-mono text-amber-400",children:"sp1"}),e.jsx("td",{className:"font-mono text-xs",children:"sp1qq..."})]})]})]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Labels"}),e.jsx("p",{className:"mb-4",children:"Silent Payments support labels for organizing incoming payments:"}),e.jsx("div",{className:"bg-dark-800/50 rounded-xl p-6 border border-dark-700/50 mb-6",children:e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-dark-300",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Labeled addresses:"}),' Add a tweak for different "sub-addresses"']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Change detection:"})," Wallets can label self-sends"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Organization:"})," Different labels for different purposes"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Scanning cost:"})," Labels add minimal overhead"]})]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Scanning Trade-offs"}),e.jsxs(s,{type:"warning",title:"Scanning Requirements",children:[e.jsx("p",{children:"Silent Payments require scanning the blockchain differently:"}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Must examine eligible inputs of every transaction"}),e.jsx("li",{children:"Cannot use simple address-based filtering"}),e.jsx("li",{children:"Light clients need new infrastructure"}),e.jsx("li",{children:"Full node with txindex ideal for receiving"})]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Input Requirements"}),e.jsx("p",{className:"mb-4",children:"Not all inputs can contribute to Silent Payments:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4 border border-emerald-500/30",children:[e.jsx("p",{className:"text-emerald-400 font-bold mb-2",children:"Eligible Inputs"}),e.jsxs("ul",{className:"text-sm text-dark-300 space-y-1",children:[e.jsx("li",{children:"P2PKH"}),e.jsx("li",{children:"P2WPKH"}),e.jsx("li",{children:"P2SH-P2WPKH"}),e.jsx("li",{children:"P2TR (key path)"})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4 border border-rose-500/30",children:[e.jsx("p",{className:"text-rose-400 font-bold mb-2",children:"Ineligible Inputs"}),e.jsxs("ul",{className:"text-sm text-dark-300 space-y-1",children:[e.jsx("li",{children:"Bare multisig"}),e.jsx("li",{children:"P2SH (non-standard)"}),e.jsx("li",{children:"P2WSH"}),e.jsx("li",{children:"P2TR script path"})]})]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Use Cases"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-amber-400 font-bold mb-1",children:"Public Donations"}),e.jsx("p",{className:"text-sm text-dark-300",children:"Post one address; each donor's payment is unlinkable to others."})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-amber-400 font-bold mb-1",children:"Business Payments"}),e.jsx("p",{className:"text-sm text-dark-300",children:"Receive payments without revealing transaction history to observers."})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-amber-400 font-bold mb-1",children:"Cold Storage"}),e.jsx("p",{className:"text-sm text-dark-300",children:"Generate receiving address without exposing spend key. Scan with watch-only scan key."})]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Comparison to Alternatives"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm mb-6",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-dark-700",children:[e.jsx("th",{className:"text-left py-3 text-dark-300",children:"Protocol"}),e.jsx("th",{className:"text-left py-3 text-dark-300",children:"Interaction"}),e.jsx("th",{className:"text-left py-3 text-dark-300",children:"On-chain"})]})}),e.jsxs("tbody",{className:"text-dark-400",children:[e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-3 text-amber-400",children:"Silent Payments"}),e.jsx("td",{children:"None required"}),e.jsx("td",{children:"Standard Taproot"})]}),e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-3",children:"BIP-47 Payment Codes"}),e.jsx("td",{children:"Notification TX"}),e.jsx("td",{children:"Extra output"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-3",children:"Fresh addresses"}),e.jsx("td",{children:"Each payment"}),e.jsx("td",{children:"Standard"})]})]})]})}),e.jsx(s,{type:"success",title:"Privacy by Default",children:e.jsx("p",{children:"Silent Payments bring stealth address functionality to Bitcoin with minimal overhead for senders. While receivers pay a scanning cost, the privacy benefits make it ideal for public-facing addresses that receive many payments."})})]})}export{p as default};
