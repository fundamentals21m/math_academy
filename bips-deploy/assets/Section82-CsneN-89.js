import{j as e}from"./vendor-animation-CmxkKU9r.js";import"./vendor-react-DamxDR2H.js";import"./vendor-math-p018AHG0.js";import"./index-BjhgI7Zp.js";import{L as t,C as s,D as r,E as a}from"./Callout-Bm0ChKkk.js";import"./vendor-firebase-functions-DDqfDrvm.js";import"./vendor-firebase-core-CzRQL6VN.js";import"./vendor-firebase-auth-C4l3lITM.js";import"./quizMap-C7tZlcUA.js";function p(){return e.jsxs(t,{sectionId:82,children:[e.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Mining Pool Protocols"}),e.jsx("p",{className:"mb-4",children:"Mining pools aggregate hashrate from many miners to find blocks more consistently. This section surveys the protocols that enable pool coordination, from early approaches to modern standards."}),e.jsx(s,{type:"info",title:"Why Pools Exist",children:e.jsx("p",{children:"Solo mining is highly variable—a miner might find a block tomorrow or not for years. Pools provide steady income by sharing block rewards proportionally to contributed hashrate."})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Protocol Evolution"}),e.jsx("div",{className:"bg-dark-800/50 rounded-xl p-6 border border-dark-700/50 mb-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-amber-400 font-bold",children:"getwork (2010-2012)"}),e.jsx("p",{className:"text-sm text-dark-300",children:"Original protocol. Fetched work from Bitcoin node directly. Limited nonce space, inefficient polling."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-amber-400 font-bold",children:"getblocktemplate (2012+)"}),e.jsx("p",{className:"text-sm text-dark-300",children:"BIP-22/23. Gave miners visibility into block contents. Still used between pools and nodes."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-amber-400 font-bold",children:"Stratum V1 (2012+)"}),e.jsx("p",{className:"text-sm text-dark-300",children:"Pool-to-miner protocol. JSON over TCP, push-based work distribution. De facto standard for years."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-amber-400 font-bold",children:"Stratum V2 (2019+)"}),e.jsx("p",{className:"text-sm text-dark-300",children:"Modern encrypted protocol with miner transaction selection. Actively being adopted."})]})]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Share-Based Rewards"}),e.jsx(r,{title:"Share",children:e.jsx("p",{children:"A proof-of-work solution that meets a lower difficulty than the network target. Shares prove a miner is working honestly without requiring them to find actual blocks."})}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-5 font-mono text-sm mb-6",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# Share vs Block:"}),e.jsx("p",{className:"text-dark-300",children:"Network difficulty: 50 trillion"}),e.jsx("p",{className:"text-dark-300",children:"Share difficulty: 50 million (pool-set)"}),e.jsx("p",{className:"text-dark-400 mt-3 mb-2",children:"# Result:"}),e.jsx("p",{className:"text-dark-300",children:"Miner finds ~1000 shares per block-equivalent work"}),e.jsx("p",{className:"text-dark-300",children:"Pool tracks shares to calculate fair payment"}),e.jsx("p",{className:"text-amber-400 mt-1",children:"If share also meets network difficulty → valid block!"})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Payment Schemes"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm mb-6",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-dark-700",children:[e.jsx("th",{className:"text-left py-3 text-dark-300",children:"Scheme"}),e.jsx("th",{className:"text-left py-3 text-dark-300",children:"Description"}),e.jsx("th",{className:"text-left py-3 text-dark-300",children:"Risk"})]})}),e.jsxs("tbody",{className:"text-dark-400",children:[e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-3 font-mono text-amber-400",children:"PPS"}),e.jsx("td",{children:"Pay Per Share - fixed rate per share"}),e.jsx("td",{children:"Pool bears variance"})]}),e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-3 font-mono text-amber-400",children:"PPLNS"}),e.jsx("td",{children:"Pay Per Last N Shares - proportional"}),e.jsx("td",{children:"Miner bears variance"})]}),e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-3 font-mono text-amber-400",children:"FPPS"}),e.jsx("td",{children:"Full PPS - includes transaction fees"}),e.jsx("td",{children:"Pool bears all risk"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 font-mono text-amber-400",children:"PROP"}),e.jsx("td",{children:"Proportional - share of block reward"}),e.jsx("td",{children:"Shared variance"})]})]})]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Stratum V1 Messages"}),e.jsx(a,{title:"Stratum V1 Exchange",children:e.jsxs("div",{className:"space-y-3 font-mono text-xs",children:[e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# 1. Authorization:"}),e.jsxs("p",{className:"text-dark-300",children:["{",'"method":"mining.authorize","params":["user","pass"]',"}","]"]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# 2. Subscribe to work:"}),e.jsxs("p",{className:"text-dark-300",children:["{",'"method":"mining.subscribe"',"}"]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# 3. Pool sends work:"}),e.jsxs("p",{className:"text-dark-300",children:["{",'"method":"mining.notify",']}),e.jsxs("p",{className:"text-dark-300 ml-4",children:['"params":[job_id, prev_hash, coinbase1, ...]',"}"]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# 4. Miner submits share:"}),e.jsxs("p",{className:"text-dark-300",children:["{",'"method":"mining.submit",']}),e.jsxs("p",{className:"text-dark-300 ml-4",children:['"params":[user, job_id, extranonce2, time, nonce]',"}"]})]})]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Centralization Concerns"}),e.jsxs(s,{type:"warning",title:"Pool Power",children:[e.jsx("p",{children:"Large pools have significant influence:"}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Control over which transactions get mined"}),e.jsx("li",{children:"Ability to censor specific addresses"}),e.jsx("li",{children:"Potential for 51% attacks if pools collude"}),e.jsx("li",{children:"MEV-like extraction possibilities"})]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Decentralization Efforts"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-amber-400 font-bold mb-2",children:"Stratum V2 Job Declaration"}),e.jsx("p",{className:"text-sm text-dark-300",children:"Miners can select their own transactions, reducing pool censorship power."})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-amber-400 font-bold mb-2",children:"P2Pool"}),e.jsx("p",{className:"text-sm text-dark-300",children:"Decentralized pool where miners share a blockchain. No central operator."})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-amber-400 font-bold mb-2",children:"OCEAN (formerly Eligius 2.0)"}),e.jsx("p",{className:"text-sm text-dark-300",children:"Non-custodial pool paying directly to miners, transparent block templates."})]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Modern Architecture"}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-5 font-mono text-sm mb-6",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# Typical pool infrastructure:"}),e.jsx("p",{className:"text-dark-300",children:"Bitcoin Node"}),e.jsx("p",{className:"text-dark-500 ml-4",children:"↓ getblocktemplate (BIP-22/23)"}),e.jsx("p",{className:"text-dark-300",children:"Pool Server"}),e.jsx("p",{className:"text-dark-500 ml-4",children:"↓ Stratum V1/V2"}),e.jsx("p",{className:"text-dark-300",children:"Mining Proxies (optional)"}),e.jsx("p",{className:"text-dark-500 ml-4",children:"↓ Stratum"}),e.jsx("p",{className:"text-dark-300",children:"ASICs / Mining Hardware"})]}),e.jsx(s,{type:"success",title:"Ongoing Evolution",children:e.jsx("p",{children:"Mining pool protocols continue to evolve toward better security, efficiency, and decentralization. Understanding these protocols helps evaluate the health of Bitcoin's mining ecosystem and the trade-offs between convenience and censorship resistance."})})]})}export{p as default};
