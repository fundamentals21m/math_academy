import{j as e}from"./vendor-animation-CmxkKU9r.js";import"./vendor-react-DamxDR2H.js";import"./vendor-math-p018AHG0.js";import"./index-CsKt80eB.js";import{L as t,C as s,D as i,E as r}from"./Callout-DTLGvo9K.js";import"./vendor-firebase-functions-DDqfDrvm.js";import"./vendor-firebase-core-CzRQL6VN.js";import"./vendor-firebase-auth-C4l3lITM.js";import"./quizMap-C7tZlcUA.js";function j(){return e.jsxs(t,{sectionId:78,children:[e.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"BIP-91: Reduced Threshold SegWit MASF"}),e.jsx("p",{className:"mb-4",children:"BIP-91 provided a path to activate SegWit with a lower miner signaling threshold, helping resolve the contentious SegWit activation debate in 2017. It demonstrated how soft forks can be activated through creative coordination."}),e.jsx(s,{type:"info",title:"Historical Context",children:e.jsx("p",{children:'BIP-91 was deployed during the "SegWit2x" controversy when some miners resisted standard BIP-9 activation. It enabled SegWit to activate before the UASF (BIP-148) deadline.'})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"The Situation"}),e.jsx("p",{className:"mb-4",children:"In mid-2017, SegWit activation was stuck:"}),e.jsx("div",{className:"bg-dark-800/50 rounded-xl p-6 border border-dark-700/50 mb-6",children:e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-dark-300",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"BIP-141 (SegWit):"})," Required 95% miner signaling via BIP-9"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Reality:"})," Signaling stuck around 30-40%"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"BIP-148 (UASF):"})," Users threatening to reject non-SegWit blocks"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"SegWit2x:"})," Industry agreement for SegWit + 2MB hard fork"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Deadline:"})," BIP-148 would activate August 1, 2017"]})]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"BIP-91 Mechanism"}),e.jsx(i,{title:"BIP-91 Approach",children:e.jsx("p",{children:"A soft fork that requires miners signaling for BIP-91 (at 80% threshold) to also signal for SegWit (BIP-141). Once activated, non-SegWit-signaling blocks would be rejected."})}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-5 font-mono text-sm mb-6",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# BIP-91 logic:"}),e.jsx("p",{className:"text-dark-300",children:"1. Use version bit 4 for BIP-91 signaling"}),e.jsx("p",{className:"text-dark-300",children:"2. 80% threshold over 336-block period"}),e.jsx("p",{className:"text-dark-300",children:"3. Once activated:"}),e.jsx("p",{className:"text-amber-400 ml-4",children:"Reject blocks without BIP-141 (bit 1) signal"}),e.jsx("p",{className:"text-dark-500 mt-3",children:"Forces 100% SegWit signaling once 80% agree on BIP-91"})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Activation Timeline"}),e.jsx(r,{title:"BIP-91 Activation",children:e.jsx("div",{className:"space-y-3 text-dark-300",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsx("table",{className:"w-full text-sm",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-2 text-dark-400",children:"July 17, 2017"}),e.jsx("td",{children:"BIP-91 starts signaling"})]}),e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-2 text-dark-400",children:"July 20, 2017"}),e.jsx("td",{children:"80% threshold reached"})]}),e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-2 text-dark-400",children:"July 21, 2017"}),e.jsx("td",{className:"text-emerald-400",children:"BIP-91 activates (block 477,120)"})]}),e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-2 text-dark-400",children:"July 21-Aug 1"}),e.jsx("td",{children:"All blocks now signal SegWit"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-2 text-dark-400",children:"August 24, 2017"}),e.jsx("td",{className:"text-amber-400",children:"SegWit activates (block 481,824)"})]})]})})})})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"How It Worked"}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-5 font-mono text-sm mb-6",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# Before BIP-91 activation:"}),e.jsx("p",{className:"text-dark-300",children:"Miner A: bit 4 (BIP-91) + bit 1 (SegWit)"}),e.jsx("p",{className:"text-dark-300",children:"Miner B: bit 4 (BIP-91) only"}),e.jsx("p",{className:"text-dark-300",children:"Miner C: No signaling"}),e.jsx("p",{className:"text-dark-400 mt-3 mb-2",children:"# After BIP-91 activation:"}),e.jsx("p",{className:"text-emerald-400",children:"Miner A: Accepted (has bit 1)"}),e.jsx("p",{className:"text-emerald-400",children:"Miner B: Must add bit 1 or be rejected"}),e.jsx("p",{className:"text-rose-400",children:"Miner C: Rejected (no bit 1)"})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Why 80% Instead of 95%?"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-amber-400 font-bold mb-2",children:"95% (BIP-9)"}),e.jsxs("ul",{className:"text-sm text-dark-300 space-y-1",children:[e.jsx("li",{children:"Very conservative"}),e.jsx("li",{children:"Small minority can block"}),e.jsx("li",{children:"Stuck at ~40% for months"})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-emerald-400 font-bold mb-2",children:"80% (BIP-91)"}),e.jsxs("ul",{className:"text-sm text-dark-300 space-y-1",children:[e.jsx("li",{children:"Still strong supermajority"}),e.jsx("li",{children:"Achievable with industry support"}),e.jsx("li",{children:"Reached within days"})]})]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Avoiding Chain Split"}),e.jsx(s,{type:"info",title:"UASF Compatibility",children:e.jsx("p",{children:"BIP-91 was specifically designed to activate SegWit before BIP-148's August 1st deadline. This prevented a potential chain split between UASF-enforcing nodes and non-SegWit miners."})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Technical Details"}),e.jsx("div",{className:"bg-dark-800/50 rounded-xl p-6 border border-dark-700/50 mb-6",children:e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-dark-300",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Signal bit:"})," Version bit 4"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Activation threshold:"})," 269/336 blocks (80%)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Lock-in period:"})," 336 blocks (~2.3 days)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Enforcement:"})," Reject blocks without bit 1 set"]})]})}),e.jsx(s,{type:"success",title:"Successful Coordination",children:e.jsx("p",{children:"BIP-91 demonstrated that the Bitcoin community could coordinate complex activation strategies when needed. While controversial, it successfully enabled SegWit activation and avoided a chain split, providing a template for future soft fork coordination."})})]})}export{j as default};
