import{j as e}from"./vendor-animation-CmxkKU9r.js";import"./vendor-react-DamxDR2H.js";import"./vendor-math-p018AHG0.js";import"./index-BjhgI7Zp.js";import{L as i,C as s,D as t,E as r}from"./Callout-Bm0ChKkk.js";import"./vendor-firebase-functions-DDqfDrvm.js";import"./vendor-firebase-core-CzRQL6VN.js";import"./vendor-firebase-auth-C4l3lITM.js";import"./quizMap-C7tZlcUA.js";function p(){return e.jsxs(i,{sectionId:80,children:[e.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"BIP-320: nVersion Bits General Purpose"}),e.jsx("p",{className:"mb-4",children:"BIP-320 proposes allowing miners to use previously restricted version bits in block headers for general purposes like overt ASICBoost. This acknowledges that miners should be able to optimize their operations using available header space."}),e.jsx(s,{type:"info",title:"Mining Optimization",children:e.jsx("p",{children:'Block version bits not used for soft fork signaling were effectively "wasted." BIP-320 formalizes their use for mining optimization, particularly overt ASICBoost.'})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Background: ASICBoost"}),e.jsx("p",{className:"mb-4",children:"ASICBoost is a mining optimization technique:"}),e.jsx(t,{title:"ASICBoost",children:e.jsx("p",{children:'A patented optimization that reduces the energy required for mining by reusing partial SHA256 computations. It comes in "covert" (hidden) and "overt" (visible) forms.'})}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-5 font-mono text-sm mb-6",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# SHA256 block structure:"}),e.jsx("p",{className:"text-dark-300",children:"Block header: 80 bytes = 2 SHA256 chunks"}),e.jsx("p",{className:"text-dark-300",children:"Chunk 1: version + prev_hash + merkle_root[0:4]"}),e.jsx("p",{className:"text-dark-300",children:"Chunk 2: merkle_root[4:32] + time + bits + nonce"}),e.jsx("p",{className:"text-dark-400 mt-3 mb-2",children:"# ASICBoost insight:"}),e.jsx("p",{className:"text-amber-400",children:"Vary chunk 1 independently → reuse chunk 2 computation"})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Overt vs Covert"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4 border border-emerald-500/30",children:[e.jsx("p",{className:"text-emerald-400 font-bold mb-2",children:"Overt ASICBoost"}),e.jsxs("ul",{className:"text-sm text-dark-300 space-y-1",children:[e.jsx("li",{children:"Varies version bits"}),e.jsx("li",{children:"Visible on-chain"}),e.jsx("li",{children:"Transparent to network"}),e.jsx("li",{children:"Compatible with SegWit"})]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4 border border-rose-500/30",children:[e.jsx("p",{className:"text-rose-400 font-bold mb-2",children:"Covert ASICBoost"}),e.jsxs("ul",{className:"text-sm text-dark-300 space-y-1",children:[e.jsx("li",{children:"Varies merkle root"}),e.jsx("li",{children:"Hidden (looks normal)"}),e.jsx("li",{children:"Requires specific tx ordering"}),e.jsx("li",{children:"Incompatible with SegWit"})]})]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Version Field Structure"}),e.jsx("p",{className:"mb-4",children:"The block version field has multiple purposes:"}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-5 font-mono text-sm mb-6",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# 32-bit version field allocation:"}),e.jsx("p",{className:"text-dark-300",children:"Bits 0-2:   Reserved (must be 001 for v2+)"}),e.jsx("p",{className:"text-dark-300",children:"Bits 3-15:  BIP-9 soft fork signaling (13 bits)"}),e.jsx("p",{className:"text-amber-400",children:"Bits 16-31: General purpose (BIP-320)"}),e.jsx("p",{className:"text-dark-500 mt-3",children:"BIP-320 allows free use of upper 16 bits"})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"BIP-320 Proposal"}),e.jsx(r,{title:"Version Bit Usage",children:e.jsx("div",{className:"space-y-3 text-dark-300",children:e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4 font-mono text-xs",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# Before BIP-320:"}),e.jsx("p",{className:"text-dark-300",children:"Version must match specific patterns"}),e.jsx("p",{className:"text-dark-300",children:"Random high bits → non-standard block"}),e.jsx("p",{className:"text-dark-400 mt-3 mb-2",children:"# With BIP-320:"}),e.jsx("p",{className:"text-emerald-400",children:"Miners can set bits 16-31 freely"}),e.jsx("p",{className:"text-emerald-400",children:"Enables ~65,536 extra nonce space"}),e.jsx("p",{className:"text-emerald-400",children:"Overt ASICBoost legitimate"})]})})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Mining Benefits"}),e.jsx("div",{className:"bg-dark-800/50 rounded-xl p-6 border border-dark-700/50 mb-6",children:e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-dark-300",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Energy savings:"})," ~15-20% reduction in power per hash"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Nonce space:"})," 16 additional bits for rolling"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Transparency:"})," Overt use is visible, verifiable"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Fairness:"})," All miners can use the same optimization"]})]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Network Impact"}),e.jsxs(s,{type:"info",title:"Observable Effects",children:[e.jsx("p",{children:"With BIP-320, you can see version bits being used for ASICBoost:"}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Blocks with varying high version bits"}),e.jsx("li",{children:"Version numbers like 0x20000000, 0x20400000, etc."}),e.jsx("li",{children:"Same pool producing different version patterns"})]})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Historical Context"}),e.jsx("p",{className:"mb-4",children:"ASICBoost was controversial:"}),e.jsx("div",{className:"bg-dark-800/50 rounded-xl p-6 border border-dark-700/50 mb-6",children:e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-dark-300",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"2016-2017:"})," Covert ASICBoost suspected in some pools"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"SegWit debate:"})," Some argued SegWit was blocked to preserve covert ASICBoost"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Post-SegWit:"})," Covert ASICBoost broken, overt became standard"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"BIP-320:"})," Formalizes overt use as legitimate"]})]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Stratum V2 Integration"}),e.jsx("p",{className:"mb-4",children:"Modern mining protocols support version rolling:"}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-5 font-mono text-sm mb-6",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# Stratum V2 version rolling:"}),e.jsx("p",{className:"text-dark-300",children:"Pool provides: base_version, version_mask"}),e.jsx("p",{className:"text-dark-300",children:"Miner uses: (base_version & ~mask) | (roll & mask)"}),e.jsx("p",{className:"text-dark-500 mt-3",children:"Mask typically allows bits 16-31 for ASICBoost"})]}),e.jsx(s,{type:"success",title:"Legitimizing Optimization",children:e.jsx("p",{children:"BIP-320 transformed ASICBoost from a controversial secret into an accepted mining optimization. By formalizing the use of version bits, it ensures all miners can compete fairly while maximizing hardware efficiency."})})]})}export{p as default};
