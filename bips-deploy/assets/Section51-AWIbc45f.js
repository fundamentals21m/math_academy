import{j as e}from"./vendor-animation-CmxkKU9r.js";import"./vendor-react-DamxDR2H.js";import"./vendor-math-p018AHG0.js";import"./index-BjhgI7Zp.js";import{L as s,C as t,D as a,E as i}from"./Callout-Bm0ChKkk.js";import"./vendor-firebase-functions-DDqfDrvm.js";import"./vendor-firebase-core-CzRQL6VN.js";import"./vendor-firebase-auth-C4l3lITM.js";import"./quizMap-C7tZlcUA.js";function h(){return e.jsxs(s,{sectionId:51,children:[e.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"BIP-71: Payment Protocol MIME Types"}),e.jsx("p",{className:"mb-4",children:"BIP-71 defined MIME (content) types for BIP-70 payment protocol messages. While deprecated along with BIP-70, it provides insight into how application protocols integrate with web infrastructure."}),e.jsx(t,{type:"warning",title:"Deprecated with BIP-70",children:e.jsx("p",{children:"Since BIP-70 is deprecated, BIP-71's MIME types are no longer in use. This section is included for historical completeness."})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"What are MIME Types?"}),e.jsxs(a,{title:"MIME Type",children:[e.jsx("p",{children:"MIME (Multipurpose Internet Mail Extensions) types identify the format of data transmitted over the internet. They tell browsers and applications how to handle received content."}),e.jsx("div",{className:"font-mono text-sm text-amber-400 mt-3",children:"type/subtype (e.g., application/json, image/png)"})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"BIP-71 MIME Types"}),e.jsx("p",{className:"mb-4",children:"BIP-71 registered three MIME types for Bitcoin payment messages:"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm mb-6",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-dark-700",children:[e.jsx("th",{className:"text-left py-3 text-dark-300",children:"MIME Type"}),e.jsx("th",{className:"text-left py-3 text-dark-300",children:"Message"}),e.jsx("th",{className:"text-left py-3 text-dark-300",children:"Extension"})]})}),e.jsxs("tbody",{className:"text-dark-400",children:[e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-3 font-mono text-xs text-amber-400",children:"application/bitcoin-paymentrequest"}),e.jsx("td",{children:"PaymentRequest"}),e.jsx("td",{children:".bitcoinpaymentrequest"})]}),e.jsxs("tr",{className:"border-b border-dark-800",children:[e.jsx("td",{className:"py-3 font-mono text-xs text-amber-400",children:"application/bitcoin-payment"}),e.jsx("td",{children:"Payment"}),e.jsx("td",{children:".bitcoinpayment"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 font-mono text-xs text-amber-400",children:"application/bitcoin-paymentack"}),e.jsx("td",{children:"PaymentACK"}),e.jsx("td",{children:".bitcoinpaymentack"})]})]})]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"HTTP Usage"}),e.jsx(i,{title:"HTTP Headers with BIP-71",children:e.jsxs("div",{className:"space-y-4 font-mono text-xs",children:[e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# Merchant sends PaymentRequest:"}),e.jsx("p",{className:"text-dark-300",children:"Content-Type: application/bitcoin-paymentrequest"}),e.jsx("p",{className:"text-dark-300",children:"Content-Transfer-Encoding: binary"})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# Wallet requests PaymentRequest:"}),e.jsx("p",{className:"text-dark-300",children:"Accept: application/bitcoin-paymentrequest"})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# Wallet sends Payment:"}),e.jsx("p",{className:"text-dark-300",children:"Content-Type: application/bitcoin-payment"}),e.jsx("p",{className:"text-dark-300",children:"Accept: application/bitcoin-paymentack"})]})]})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"File Extensions"}),e.jsx("p",{className:"mb-4",children:"BIP-71 also defined file extensions for saving payment messages:"}),e.jsxs("div",{className:"bg-dark-800/50 rounded-xl p-6 border border-dark-700/50 mb-6",children:[e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-dark-300",children:[e.jsxs("li",{children:[e.jsx("code",{className:"text-amber-400",children:".bitcoinpaymentrequest"})," - Saved payment requests"]}),e.jsxs("li",{children:[e.jsx("code",{className:"text-amber-400",children:".bitcoinpayment"})," - Saved payment messages"]}),e.jsxs("li",{children:[e.jsx("code",{className:"text-amber-400",children:".bitcoinpaymentack"})," - Saved acknowledgments"]})]}),e.jsx("p",{className:"text-dark-500 text-sm mt-3",children:"These extensions allowed operating systems to associate files with Bitcoin wallets."})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Protocol Interaction"}),e.jsx("p",{className:"mb-4",children:"The MIME types enabled content negotiation between wallets and servers:"}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-5 font-mono text-sm mb-6",children:[e.jsx("p",{className:"text-dark-400 mb-2",children:"# Full HTTP request flow:"}),e.jsx("p",{className:"text-dark-300",children:"1. Wallet: GET /pay?order=123"}),e.jsx("p",{className:"text-dark-500 ml-4",children:"Accept: application/bitcoin-paymentrequest"}),e.jsx("p",{className:"text-dark-300 mt-2",children:"2. Server: 200 OK"}),e.jsx("p",{className:"text-dark-500 ml-4",children:"Content-Type: application/bitcoin-paymentrequest"}),e.jsx("p",{className:"text-dark-500 ml-4",children:"[serialized PaymentRequest]"}),e.jsx("p",{className:"text-dark-300 mt-2",children:"3. Wallet: POST /pay"}),e.jsx("p",{className:"text-dark-500 ml-4",children:"Content-Type: application/bitcoin-payment"}),e.jsx("p",{className:"text-dark-500 ml-4",children:"Accept: application/bitcoin-paymentack"}),e.jsx("p",{className:"text-dark-300 mt-2",children:"4. Server: 200 OK"}),e.jsx("p",{className:"text-dark-500 ml-4",children:"Content-Type: application/bitcoin-paymentack"})]}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"IANA Registration"}),e.jsx("p",{className:"mb-4",children:"BIP-71 specified IANA (Internet Assigned Numbers Authority) registration:"}),e.jsx("div",{className:"bg-dark-800/50 rounded-xl p-6 border border-dark-700/50 mb-6",children:e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-dark-300",children:[e.jsx("li",{children:"Formal registration with IANA media types registry"}),e.jsx("li",{children:"Reference to BIP-70 for message format specification"}),e.jsx("li",{children:"Binary encoding (not text-based)"}),e.jsx("li",{children:"No additional parameters defined"})]})}),e.jsx(t,{type:"info",title:"Standards Process",children:e.jsx("p",{children:"Registering MIME types with IANA ensures interoperability across different implementations. It's an example of how Bitcoin protocols can integrate with existing internet standards infrastructure."})}),e.jsx("h3",{className:"text-xl font-semibold text-dark-100 mt-8 mb-4",children:"Modern Parallels"}),e.jsx("p",{className:"mb-4",children:"While BIP-71 is deprecated, the concept of content types persists:"}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-amber-400 font-bold mb-1",children:"Lightning Invoices"}),e.jsxs("p",{className:"text-sm text-dark-300",children:["BOLT-11 invoices are text-based (no MIME type needed), but could theoretically use ",e.jsx("code",{children:"application/lightning-invoice"}),"."]})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-amber-400 font-bold mb-1",children:"PSBT"}),e.jsx("p",{className:"text-sm text-dark-300",children:"Partially Signed Bitcoin Transactions use Base64 encoding over standard text transport—no special MIME type required."})]}),e.jsxs("div",{className:"bg-dark-800 rounded-lg p-4",children:[e.jsx("p",{className:"text-amber-400 font-bold mb-1",children:"JSON APIs"}),e.jsxs("p",{className:"text-sm text-dark-300",children:["Modern Bitcoin services typically use ",e.jsx("code",{children:"application/json"})," for all communication."]})]})]}),e.jsx(t,{type:"success",title:"Design Lesson",children:e.jsx("p",{children:"BIP-71 shows thoughtful protocol design—defining MIME types for proper web integration. However, its complexity (binary protobuf over HTTP) contributed to BIP-70's failure. Modern Bitcoin protocols favor simpler, text-based formats that work without special content type negotiation."})})]})}export{h as default};
