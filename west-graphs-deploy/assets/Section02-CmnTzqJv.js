import{j as e}from"./vendor-animation-0o8UKZ_1.js";import{L as ce,D as v,E as de,T as m}from"./ContentBlocks-BAFtEaU8.js";import{I as s}from"./MathBlock-_bBfq7Jh.js";import{r as l}from"./vendor-react-Drj8qL0h.js";import{g as z,n as he,c as oe,d as xe,a as je,o as O,p as pe,b as me,f as U,h as J,j as ge,i as ue,q as fe,m as ve,s as ye,t as be,u as we,v as Ne,w as ke,x as Ge,y as Ce,C as y}from"./HamiltonianFinder-Baj_YtFX.js";import"./index-CvzwYuJV.js";import"./vendor-math-p018AHG0.js";import"./vendor-firebase-core-BXWtuYvb.js";const Ee=[{value:"cycle",label:"Cycle (C₆)"},{value:"K5",label:"K₅"},{value:"cube",label:"Cube"},{value:"petersen",label:"Petersen"},{value:"konigsberg",label:"Königsberg"}];function Se({className:Q="",initialGraph:Z}){const E=l.useRef(null),[i,S]=l.useState(Z??z("cycle")),[a,ee]=l.useState("path"),[h,P]=l.useState(null),[j,I]=l.useState(null),[g,T]=l.useState([]),[x,V]=l.useState([]),[p,M]=l.useState([]),[u,W]=l.useState(0),[N,A]=l.useState(!1),[$,D]=l.useState([]),[L,K]=l.useState(null),[H,F]=l.useState(null),[f,se]=l.useState("view"),[b,k]=l.useState(null),B=600,_=400;l.useEffect(()=>{if(!N)return;const t=a==="eulerian"?p.length:$.length;if(u>=t){A(!1);return}const r=setTimeout(()=>{W(d=>d+1)},500);return()=>clearTimeout(r)},[N,u,a,p.length,$.length]),l.useEffect(()=>{if(a==="path"&&h&&j){const t=he(i,h,j);T(t.found?t.path:[])}},[i,a,h,j]),l.useEffect(()=>{const t=E.current;if(!t)return;const r=t.getContext("2d");if(!r)return;oe(r,B,_),xe(r,B,_);let d=new Set,c=[];a==="path"&&g.length>1?c=g:a==="cycle"&&x.length>0?c=[...x,x[0]]:a==="eulerian"&&p.length>0&&(c=p.slice(0,u+1));for(let n=0;n<c.length-1;n++){const o=`${c[n]}-${c[n+1]}`,w=`${c[n+1]}-${c[n]}`;d.add(o),d.add(w)}for(const n of i.edges){const o=`${n.source}-${n.target}`,w=`${n.target}-${n.source}`,C=d.has(o)||d.has(w);je(r,n,i.nodes,{highlighted:C,color:C?a==="cycle"?y.cycle:y.path:void 0})}a==="path"&&g.length>1?O(r,g,i.nodes,y.path):a==="cycle"&&x.length>0?pe(r,x,i.nodes,y.cycle):a==="eulerian"&&c.length>1&&O(r,c,i.nodes,y.path);for(const n of i.nodes){const o=c.includes(n.id),w=n.id===h||a==="eulerian"&&n.id===p[0],C=n.id===j||a==="eulerian"&&u>0&&n.id===p[u];me(r,n,{selected:w||C,highlighted:o||n.id===L||n.id===b,fillColor:w?y.path:C?y.cycle:void 0})}},[i,a,g,x,p,u,h,j,L,b]);const ne=l.useCallback(t=>{const r=E.current;if(!r)return;const{x:d,y:c}=U(t,r),n=J(d,c,i.nodes);if(f==="addNode"){if(!n){const o=ge(i,d,c);S(o)}return}if(f==="addEdge"){if(n){if(b===null)k(n.id);else if(n.id!==b){const o=ue(i,b,n.id);S(o),k(null)}}else k(null);return}if(n){if(a==="path")h?!j&&n.id!==h?I(n.id):(P(n.id),I(null),T([])):(P(n.id),T([]));else if(a==="cycle"){const o=fe(i,n.id);V(o??[])}F(n.id)}},[i,a,f,h,j,b]),te=l.useCallback(t=>{const r=E.current;if(!r)return;const{x:d,y:c}=U(t,r),n=J(d,c,i.nodes);if(K((n==null?void 0:n.id)??null),H&&f==="view"){const o=ve(i,H,d,c);S(o)}},[i,H,f]),ie=l.useCallback(()=>{F(null)},[]),re=t=>{S(z(t)),q()},q=()=>{P(null),I(null),T([]),V([]),M([]),W(0),A(!1),D([]),k(null)},ae=()=>{const t=Ce(i);t&&(M(t),W(0),A(!0))},R=t=>{if(!h)return;const r=t==="bfs"?ke(i,h):Ge(i,h);D(r.filter(d=>d.action==="visit").map(d=>d.node)),W(0),A(!0)},Y=ye(i),G=be(i),X=we(i),le=i.nodes.filter(t=>Ne(i,t.id)%2!==0);return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${Q}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Path Explorer"}),e.jsx("p",{className:"text-dark-300 mb-6",children:"Explore paths, cycles, and Eulerian circuits. Click vertices to find paths between them, or discover cycles in the graph."}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("canvas",{ref:E,width:B,height:_,className:"rounded-xl border border-dark-600",style:{cursor:L?"pointer":f==="addNode"?"crosshair":"default"},onMouseDown:ne,onMouseMove:te,onMouseUp:ie,onMouseLeave:()=>{F(null),K(null)}}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:[{mode:"path",label:"Find Path"},{mode:"cycle",label:"Find Cycle"},{mode:"eulerian",label:"Eulerian"}].map(({mode:t,label:r})=>e.jsx("button",{onClick:()=>{ee(t),q()},className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${a===t?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:r},t))})]}),e.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Load Graph"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Ee.map(({value:t,label:r})=>e.jsx("button",{onClick:()=>re(t),className:"px-3 py-1.5 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:r},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Edit Graph"}),e.jsx("div",{className:"flex gap-2",children:[{mode:"view",label:"View"},{mode:"addNode",label:"+ Vertex"},{mode:"addEdge",label:"+ Edge"}].map(({mode:t,label:r})=>e.jsx("button",{onClick:()=>{se(t),k(null)},className:`px-3 py-1.5 rounded-lg text-sm ${f===t?"bg-green-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:r},t))})]}),e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Connected:"}),e.jsx("span",{className:Y?"text-green-400":"text-red-400",children:Y?"Yes":"No"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Eulerian Circuit:"}),e.jsx("span",{className:G?"text-green-400":"text-red-400",children:G?"Exists":"None"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Eulerian Path:"}),e.jsx("span",{className:X?"text-green-400":"text-red-400",children:X?"Exists":"None"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Odd-degree vertices:"}),e.jsx("span",{className:"text-dark-100",children:le.length})]})]}),a==="path"&&e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-dark-200 mb-2",children:h?j?g.length>0?`Path found: ${g.length} vertices`:"No path exists":"Click another vertex to set end":"Click a vertex to set start"}),h&&j&&e.jsxs("div",{className:"text-sm text-dark-400",children:["Path: ",g.join(" → ")||"None"]}),h&&e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx("button",{onClick:()=>R("bfs"),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700",children:"Run BFS"}),e.jsx("button",{onClick:()=>R("dfs"),className:"px-3 py-1.5 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700",children:"Run DFS"})]})]}),a==="cycle"&&e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-dark-200 mb-2",children:x.length>0?`Cycle found: ${x.length} vertices`:"Click a vertex to find a cycle through it"}),x.length>0&&e.jsxs("div",{className:"text-sm text-dark-400",children:["Cycle: ",x.join(" → ")," → ",x[0]]})]}),a==="eulerian"&&e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("button",{onClick:ae,disabled:!G||N,className:`w-full px-4 py-2 rounded-lg text-sm font-medium ${G&&!N?"bg-green-600 text-white hover:bg-green-700":"bg-dark-600 text-dark-400 cursor-not-allowed"}`,children:N?"Animating...":"Find Eulerian Circuit"}),p.length>0&&e.jsxs("div",{className:"mt-2 text-sm text-dark-400",children:["Step ",u+1,"/",p.length]}),!G&&e.jsx("p",{className:"mt-2 text-sm text-red-400",children:"No Eulerian circuit exists (need all vertices to have even degree)"})]}),e.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Path mode:"})," Click two vertices to find path"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cycle mode:"})," Click vertex to find cycle"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Eulerian:"})," Find circuit visiting every edge once"]})]})]})]})]})}function Be(){return e.jsxs(ce,{sectionId:2,children:[e.jsx("p",{children:"In this section we return to the Königsberg Bridge Problem, determining when it is possible to traverse all the edges of a graph. We also develop useful properties of connection, paths, and cycles. These concepts are fundamental to understanding how graphs are structured and how we can move through them."}),e.jsx("h2",{children:"Walks, Trails, and Paths"}),e.jsxs("p",{children:["As defined earlier, paths and cycles are graphs; a path ",e.jsx("em",{children:"in"})," a graph"," ",e.jsx(s,{children:"G"})," is a subgraph of ",e.jsx(s,{children:"G"})," that is a path. We introduce further definitions to model other movements in graphs. A tourist wandering in a city may want to allow vertex repetitions but avoid edge repetitions. A mail carrier delivers mail to houses on both sides of the street and hence traverses each edge twice."]}),e.jsxs(v,{title:"Walk, Trail, and Path",className:"my-6",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"walk"})," is a list"," ",e.jsx(s,{children:"v_0, e_1, v_1, \\ldots, e_k, v_k"})," of vertices and edges such that, for ",e.jsx(s,{children:"1 \\leq i \\leq k"}),", the edge"," ",e.jsx(s,{children:"e_i"})," has endpoints ",e.jsx(s,{children:"v_{i-1}"})," and"," ",e.jsx(s,{children:"v_i"}),"."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"trail"})," is a walk with no repeated edge."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx(s,{children:"u, v"}),"-",e.jsx("strong",{children:"walk"})," or"," ",e.jsx(s,{children:"u, v"}),"-",e.jsx("strong",{children:"trail"})," has first vertex"," ",e.jsx(s,{children:"u"})," and last vertex ",e.jsx(s,{children:"v"}),"; these are its"," ",e.jsx("strong",{children:"endpoints"}),"."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx(s,{children:"u, v"}),"-",e.jsx("strong",{children:"path"})," is a path whose vertices of degree 1 (its endpoints) are ",e.jsx(s,{children:"u"})," and ",e.jsx(s,{children:"v"}),"; the others are ",e.jsx("strong",{children:"internal vertices"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"length"})," of a walk, trail, path, or cycle is its number of edges. A walk or trail is ",e.jsx("strong",{children:"closed"})," if its endpoints are the same."]})]}),e.jsxs(de,{title:"Walks and Trails in the Königsberg Graph",className:"my-6",children:[e.jsxs("p",{children:["In the Königsberg graph, the list ",e.jsx(s,{children:"x, e_2, w, e_5, y, e_6, x, e_1, w, e_2, x"})," ","is a closed walk of length 5; it repeats edge ",e.jsx(s,{children:"e_2"})," and hence is not a trail."]}),e.jsxs("p",{className:"mt-2",children:["Deleting the last edge and vertex yields a trail of length 4; it repeats vertices but not edges. The subgraph consisting of edges ",e.jsx(s,{children:"e_1, e_5, e_6"})," ","and vertices ",e.jsx(s,{children:"x, w, y"})," is a cycle of length 3."]}),e.jsx("p",{className:"mt-2",children:"Two edges with the same endpoints form a cycle of length 2. A loop is a cycle of length 1."})]}),e.jsx("p",{children:"In a simple graph, a walk (or trail) is completely specified by its ordered list of vertices. We usually name a path, cycle, trail, or walk in a simple graph by listing only its vertices in order."}),e.jsx("h2",{children:"Every Walk Contains a Path"}),e.jsx(m,{title:"Every Walk Contains a Path",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["We prove the statement by induction on the length ",e.jsx(s,{children:"l"})," of a"," ",e.jsx(s,{children:"u, v"}),"-walk ",e.jsx(s,{children:"W"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Basis step:"})," ",e.jsx(s,{children:"l = 0"}),". Having no edge,"," ",e.jsx(s,{children:"W"})," consists of a single vertex (",e.jsx(s,{children:"u = v"}),"). This vertex is a ",e.jsx(s,{children:"u, v"}),"-path of length 0."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Induction step:"})," ",e.jsx(s,{children:"l \\geq 1"}),". Suppose that the claim holds for walks of length less than ",e.jsx(s,{children:"l"}),". If"," ",e.jsx(s,{children:"W"})," has no repeated vertex, then its vertices and edges form a ",e.jsx(s,{children:"u, v"}),"-path."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{children:"W"})," has a repeated vertex ",e.jsx(s,{children:"w"}),", then deleting the edges and vertices between appearances of ",e.jsx(s,{children:"w"})," ","(leaving one copy of ",e.jsx(s,{children:"w"}),") yields a shorter"," ",e.jsx(s,{children:"u, v"}),"-walk ",e.jsx(s,{children:"W'"})," contained in"," ",e.jsx(s,{children:"W"}),". By the induction hypothesis, ",e.jsx(s,{children:"W'"})," ","contains a ",e.jsx(s,{children:"u, v"}),"-path ",e.jsx(s,{children:"P"}),", and this path ",e.jsx(s,{children:"P"})," is contained in ",e.jsx(s,{children:"W"}),"."]})]}),children:e.jsxs("p",{children:["Every ",e.jsx(s,{children:"u, v"}),"-walk contains a ",e.jsx(s,{children:"u, v"}),"-path."]})}),e.jsx("h2",{children:"Connection in Graphs"}),e.jsxs(v,{title:"Connected Graph",className:"my-6",children:[e.jsxs("p",{children:["A graph ",e.jsx(s,{children:"G"})," is ",e.jsx("strong",{children:"connected"})," if it has a"," ",e.jsx(s,{children:"u, v"}),"-path whenever ",e.jsx(s,{children:"u, v \\in V(G)"})," ","(otherwise, ",e.jsx(s,{children:"G"})," is ",e.jsx("strong",{children:"disconnected"}),")."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{children:"G"})," has a ",e.jsx(s,{children:"u, v"}),"-path, then"," ",e.jsx(s,{children:"u"})," is ",e.jsx("strong",{children:"connected to"})," ",e.jsx(s,{children:"v"})," ","in ",e.jsx(s,{children:"G"}),". The ",e.jsx("strong",{children:"connection relation"})," on"," ",e.jsx(s,{children:"V(G)"})," consists of the ordered pairs"," ",e.jsx(s,{children:"(u, v)"})," such that ",e.jsx(s,{children:"u"})," is connected to"," ",e.jsx(s,{children:"v"}),"."]})]}),e.jsxs("p",{children:["It is important to distinguish between ",e.jsx("em",{children:"connection"})," and ",e.jsx("em",{children:"adjacency"}),":"]}),e.jsx("div",{className:"bg-dark-800/50 rounded-lg p-4 my-4 font-mono text-sm",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-primary-400 mb-2",children:"Connection"}),e.jsxs("p",{children:[e.jsx(s,{children:"G"})," has a ",e.jsx(s,{children:"u, v"}),"-path"]}),e.jsxs("p",{children:[e.jsx(s,{children:"u"})," and ",e.jsx(s,{children:"v"})," are connected"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-primary-400 mb-2",children:"Adjacency"}),e.jsx("p",{children:e.jsx(s,{children:"uv \\in E(G)"})}),e.jsxs("p",{children:[e.jsx(s,{children:"u"})," and ",e.jsx(s,{children:"v"})," are adjacent"]})]})]})}),e.jsxs("p",{children:["The connection relation is an ",e.jsx("strong",{children:"equivalence relation"}),": it is reflexive (paths of length 0), symmetric (paths are reversible), and transitive (by the lemma above, if ",e.jsx(s,{children:"G"})," has a ",e.jsx(s,{children:"u, v"}),"-path and a"," ",e.jsx(s,{children:"v, w"}),"-path, then ",e.jsx(s,{children:"G"})," has a"," ",e.jsx(s,{children:"u, w"}),"-path)."]}),e.jsx(v,{title:"Components",className:"my-6",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"components"})," of a graph ",e.jsx(s,{children:"G"})," are its maximal connected subgraphs. A component (or graph) is ",e.jsx("strong",{children:"trivial"})," if it has no edges; otherwise it is ",e.jsx("strong",{children:"nontrivial"}),". An ",e.jsx("strong",{children:"isolated vertex"})," ","is a vertex of degree 0."]})}),e.jsxs("p",{children:["The equivalence classes of the connection relation on ",e.jsx(s,{children:"V(G)"})," are the vertex sets of the components of ",e.jsx(s,{children:"G"}),". An isolated vertex forms a trivial component, consisting of one vertex and no edge."]}),e.jsx(m,{title:"Lower Bound on Components",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["We prove this by induction on the number of edges ",e.jsx(s,{children:"k"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Base case:"})," When ",e.jsx(s,{children:"k = 0"}),", the graph has no edges, so each vertex is its own component. Thus there are exactly ",e.jsx(s,{children:"n"})," ","components, which equals ",e.jsx(s,{children:"n - 0 = n - k"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Induction step:"})," Assume the result holds for graphs with"," ",e.jsx(s,{children:"k - 1"})," edges. Let ",e.jsx(s,{children:"G"})," be a graph with ",e.jsx(s,{children:"n"})," vertices and ",e.jsx(s,{children:"k"})," edges. Remove any edge ",e.jsx(s,{children:"e"})," to obtain ",e.jsx(s,{children:"G - e"}),"."]}),e.jsxs("p",{className:"mt-2",children:["By the induction hypothesis, ",e.jsx(s,{children:"G - e"})," has at least"," ",e.jsx(s,{children:"n - (k-1) = n - k + 1"})," components."]}),e.jsxs("p",{className:"mt-2",children:["When we add edge ",e.jsx(s,{children:"e"})," back, it can decrease the number of components by at most 1 (if it joins two different components, it merges them into one; if both endpoints are in the same component, the number of components stays the same)."]}),e.jsxs("p",{className:"mt-2",children:["Therefore, ",e.jsx(s,{children:"G"})," has at least"," ",e.jsx(s,{children:"(n - k + 1) - 1 = n - k"})," components."]})]}),children:e.jsxs("p",{children:["Every graph with ",e.jsx(s,{children:"n"})," vertices and ",e.jsx(s,{children:"k"})," ","edges has at least ",e.jsx(s,{children:"n - k"})," components."]})}),e.jsx("h2",{children:"Cut-Edges and Cut-Vertices"}),e.jsxs(v,{title:"Cut-Edge and Cut-Vertex",className:"my-6",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"cut-edge"})," or ",e.jsx("strong",{children:"cut-vertex"})," of a graph is an edge or vertex whose deletion increases the number of components."]}),e.jsxs("p",{className:"mt-2",children:["We write ",e.jsx(s,{children:"G - e"})," or ",e.jsx(s,{children:"G - M"})," for the subgraph of ",e.jsx(s,{children:"G"})," obtained by deleting an edge"," ",e.jsx(s,{children:"e"})," or set of edges ",e.jsx(s,{children:"M"}),"."]}),e.jsxs("p",{className:"mt-2",children:["We write ",e.jsx(s,{children:"G - v"})," or ",e.jsx(s,{children:"G - S"})," for the subgraph obtained by deleting a vertex ",e.jsx(s,{children:"v"})," or set of vertices ",e.jsx(s,{children:"S"}),"."]})]}),e.jsxs(v,{title:"Induced Subgraph",className:"my-6",children:[e.jsxs("p",{children:["An ",e.jsx("strong",{children:"induced subgraph"})," is a subgraph obtained by deleting a set of vertices. We write ",e.jsx(s,{children:"G[T]"})," for"," ",e.jsx(s,{children:"G - \\overline{T}"}),", where"," ",e.jsx(s,{children:"\\overline{T} = V(G) - T"}),"; this is the subgraph of"," ",e.jsx(s,{children:"G"})," ",e.jsx("strong",{children:"induced by"})," ",e.jsx(s,{children:"T"}),"."]}),e.jsxs("p",{className:"mt-2",children:["When ",e.jsx(s,{children:"T \\subseteq V(G)"}),", the induced subgraph"," ",e.jsx(s,{children:"G[T]"})," consists of ",e.jsx(s,{children:"T"})," and all edges whose endpoints are contained in ",e.jsx(s,{children:"T"}),"."]})]}),e.jsx(m,{title:"Cut-Edge Characterization",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Let ",e.jsx(s,{children:"e"})," be an edge in a graph ",e.jsx(s,{children:"G"})," ","(with endpoints ",e.jsx(s,{children:"x, y"}),"), and let ",e.jsx(s,{children:"H"})," ","be the component containing ",e.jsx(s,{children:"e"}),". Since deletion of"," ",e.jsx(s,{children:"e"})," affects no other component, it suffices to prove that"," ",e.jsx(s,{children:"H - e"})," is connected if and only if"," ",e.jsx(s,{children:"e"})," belongs to a cycle."]}),e.jsxs("p",{className:"mt-2",children:["First suppose that ",e.jsx(s,{children:"H - e"})," is connected. This implies that ",e.jsx(s,{children:"H - e"})," contains an ",e.jsx(s,{children:"x, y"}),"-path, and this path completes a cycle with ",e.jsx(s,{children:"e"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Now suppose that ",e.jsx(s,{children:"e"})," lies in a cycle ",e.jsx(s,{children:"C"}),". Choose ",e.jsx(s,{children:"u, v \\in V(H)"}),". Since ",e.jsx(s,{children:"H"})," ","is connected, ",e.jsx(s,{children:"H"})," has a ",e.jsx(s,{children:"u, v"}),"-path"," ",e.jsx(s,{children:"P"}),". If ",e.jsx(s,{children:"P"})," does not contain"," ",e.jsx(s,{children:"e"}),", then ",e.jsx(s,{children:"P"})," exists in"," ",e.jsx(s,{children:"H - e"}),". If ",e.jsx(s,{children:"P"})," contains"," ",e.jsx(s,{children:"e"}),", we can route around ",e.jsx(s,{children:"e"})," using the rest of cycle ",e.jsx(s,{children:"C"}),". Thus"," ",e.jsx(s,{children:"H - e"})," is connected."]})]}),children:e.jsx("p",{children:"An edge is a cut-edge if and only if it belongs to no cycle."})}),e.jsx("h2",{children:"Bipartite Graph Characterization"}),e.jsx("p",{children:"Our next goal is to characterize bipartite graphs using cycles. Recall that a loop is a cycle of length 1, and two distinct edges with the same endpoints form a cycle of length 2."}),e.jsx(m,{title:"Closed Odd Walk Lemma",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["We use induction on the length ",e.jsx(s,{children:"l"})," of a closed odd walk"," ",e.jsx(s,{children:"W"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Basis step:"})," ",e.jsx(s,{children:"l = 1"}),". A closed walk of length 1 traverses a cycle of length 1."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Induction step:"})," ",e.jsx(s,{children:"l > 1"}),". Assume the claim for closed odd walks shorter than ",e.jsx(s,{children:"W"}),". If"," ",e.jsx(s,{children:"W"})," has no repeated vertex (other than first = last), then"," ",e.jsx(s,{children:"W"})," itself forms a cycle of odd length."]}),e.jsxs("p",{className:"mt-2",children:["If vertex ",e.jsx(s,{children:"v"})," is repeated in ",e.jsx(s,{children:"W"}),", then we view ",e.jsx(s,{children:"W"})," as starting at ",e.jsx(s,{children:"v"})," ","and break ",e.jsx(s,{children:"W"})," into two ",e.jsx(s,{children:"v, v"}),"-walks. Since ",e.jsx(s,{children:"W"})," has odd length, one of these is odd and the other is even. The odd one is shorter than ",e.jsx(s,{children:"W"}),". By the induction hypothesis, it contains an odd cycle, and this cycle appears in order in"," ",e.jsx(s,{children:"W"}),"."]})]}),children:e.jsx("p",{children:"Every closed odd walk contains an odd cycle."})}),e.jsx(v,{title:"Bipartition",className:"my-6",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"bipartition"})," of ",e.jsx(s,{children:"G"})," is a specification of two disjoint independent sets in ",e.jsx(s,{children:"G"})," whose union is"," ",e.jsx(s,{children:"V(G)"}),'. The statement "Let ',e.jsx(s,{children:"G"})," be a bipartite graph with bipartition ",e.jsx(s,{children:"X, Y"}),'" specifies one such partition. An ',e.jsx(s,{children:"X, Y"}),"-",e.jsx("strong",{children:"bigraph"})," is a bipartite graph with bipartition ",e.jsx(s,{children:"X, Y"}),"."]})}),e.jsx(m,{title:"König's Characterization of Bipartite Graphs",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Necessity:"})," Let ",e.jsx(s,{children:"G"})," be a bipartite graph. Every walk alternates between the two sets of a bipartition, so every return to the original partite set happens after an even number of steps. Hence"," ",e.jsx(s,{children:"G"})," has no odd cycle."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Sufficiency:"})," Let ",e.jsx(s,{children:"G"})," be a graph with no odd cycle. We prove that ",e.jsx(s,{children:"G"})," is bipartite by constructing a bipartition of each nontrivial component."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{children:"u"})," be a vertex in a nontrivial component"," ",e.jsx(s,{children:"H"}),". For each ",e.jsx(s,{children:"v \\in V(H)"}),", let"," ",e.jsx(s,{children:"f(v)"})," be the minimum length of a"," ",e.jsx(s,{children:"u, v"}),"-path."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{children:"X = \\{v \\in V(H): f(v) \\text{ is even}\\}"})," and"," ",e.jsx(s,{children:"Y = \\{v \\in V(H): f(v) \\text{ is odd}\\}"}),". An edge"," ",e.jsx(s,{children:"v, v'"})," within ",e.jsx(s,{children:"X"})," or"," ",e.jsx(s,{children:"Y"})," would create a closed odd walk using a shortest"," ",e.jsx(s,{children:"u, v"}),"-path, the edge ",e.jsx(s,{children:"vv'"}),", and the reverse of a shortest ",e.jsx(s,{children:"u, v'"}),"-path. By the Closed Odd Walk Lemma, such a walk must contain an odd cycle, which contradicts our hypothesis."]}),e.jsxs("p",{className:"mt-2",children:["Hence ",e.jsx(s,{children:"X"})," and ",e.jsx(s,{children:"Y"})," are independent sets. Also ",e.jsx(s,{children:"X \\cup Y = V(H)"}),", so"," ",e.jsx(s,{children:"H"})," is an ",e.jsx(s,{children:"X, Y"}),"-bigraph."]})]}),children:e.jsx("p",{children:"(König [1936]) A graph is bipartite if and only if it has no odd cycle."})}),e.jsxs("p",{children:["This theorem provides an efficient way to test whether a graph is bipartite: if it is not bipartite, we can prove this by presenting an odd cycle. When we want to prove that"," ",e.jsx(s,{children:"G"})," is bipartite, we define a bipartition and prove that the two sets are independent."]}),e.jsx("h2",{children:"Interactive Path Explorer"}),e.jsx("p",{children:"Use the interactive tool below to explore paths, cycles, and Eulerian circuits. Click vertices to find paths between them, detect cycles, or discover Eulerian circuits."}),e.jsx(Se,{className:"my-8"}),e.jsx("h2",{children:"Eulerian Circuits"}),e.jsx("p",{children:"We return to our analysis of the Königsberg Bridge Problem. What the people of Königsberg wanted was a closed trail containing all the edges in a graph. As we observed, a necessary condition for existence of such a trail is that all vertex degrees be even. Also it is necessary that all edges belong to the same component."}),e.jsxs(v,{title:"Eulerian Graph",className:"my-6",children:[e.jsxs("p",{children:["A graph is ",e.jsx("strong",{children:"Eulerian"})," if it has a closed trail containing all edges. We call a closed trail a ",e.jsx("strong",{children:"circuit"})," when we do not specify the first vertex but keep the list in cyclic order."]}),e.jsxs("p",{className:"mt-2",children:["An ",e.jsx("strong",{children:"Eulerian circuit"})," or ",e.jsx("strong",{children:"Eulerian trail"})," in a graph is a circuit or trail containing all the edges."]}),e.jsxs("p",{className:"mt-2",children:["An ",e.jsx("strong",{children:"even graph"})," is a graph with vertex degrees all even. A vertex is"," ",e.jsx("strong",{children:"odd"})," [",e.jsx("strong",{children:"even"}),"] when its degree is odd [even]."]})]}),e.jsx(m,{title:"Cycle Existence Lemma",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Let ",e.jsx(s,{children:"P"})," be a maximal path in ",e.jsx(s,{children:"G"}),". Such a path exists because ",e.jsx(s,{children:"G"})," is finite and nonempty (having vertices of degree at least 2 implies it has edges)."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{children:"u"})," be an endpoint of ",e.jsx(s,{children:"P"}),". Since"," ",e.jsx(s,{children:"P"})," is maximal (cannot be extended), every neighbor of"," ",e.jsx(s,{children:"u"})," must already be a vertex of ",e.jsx(s,{children:"P"}),". If some neighbor were not on ",e.jsx(s,{children:"P"}),", we could extend"," ",e.jsx(s,{children:"P"})," through that neighbor, contradicting maximality."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{children:"d(u) \\geq 2"}),", the vertex ",e.jsx(s,{children:"u"})," ","has at least two neighbors. One neighbor is its predecessor on the path"," ",e.jsx(s,{children:"P"}),". There must be at least one other neighbor"," ",e.jsx(s,{children:"v"}),", and this neighbor lies on ",e.jsx(s,{children:"P"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The edge ",e.jsx(s,{children:"uv"})," is not part of ",e.jsx(s,{children:"P"})," (since paths have no repeated vertices, and ",e.jsx(s,{children:"u"})," already has a different edge to its predecessor on ",e.jsx(s,{children:"P"}),"). This edge"," ",e.jsx(s,{children:"uv"})," together with the portion of ",e.jsx(s,{children:"P"})," ","from ",e.jsx(s,{children:"v"})," to ",e.jsx(s,{children:"u"})," forms a cycle."]})]}),children:e.jsxs("p",{children:["If every vertex of a graph ",e.jsx(s,{children:"G"})," has degree at least 2, then"," ",e.jsx(s,{children:"G"})," contains a cycle."]})}),e.jsx(m,{title:"Characterization of Eulerian Graphs",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Necessity:"})," Suppose that ",e.jsx(s,{children:"G"})," has an Eulerian circuit ",e.jsx(s,{children:"C"}),". Each passage of ",e.jsx(s,{children:"C"})," ","through a vertex uses two incident edges, and the first edge is paired with the last at the first vertex. Hence every vertex has even degree. Also, two edges can be in the same trail only when they lie in the same component, so there is at most one nontrivial component."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Sufficiency:"})," We use induction on the number of edges"," ",e.jsx(s,{children:"m"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("em",{children:"Basis step:"})," ",e.jsx(s,{children:"m = 0"}),". A closed trail consisting of one vertex suffices."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("em",{children:"Induction step:"})," ",e.jsx(s,{children:"m > 0"}),". With even degrees, each vertex in the nontrivial component of ",e.jsx(s,{children:"G"})," has degree at least 2. By the Cycle Existence Lemma, the nontrivial component has a cycle"," ",e.jsx(s,{children:"C"}),". Let ",e.jsx(s,{children:"G'"})," be the graph obtained from ",e.jsx(s,{children:"G"})," by deleting ",e.jsx(s,{children:"E(C)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{children:"C"})," has 0 or 2 edges at each vertex, each component of ",e.jsx(s,{children:"G'"})," is also an even graph. Since each component is connected and has fewer than ",e.jsx(s,{children:"m"})," edges, we can apply the induction hypothesis to conclude that each component of ",e.jsx(s,{children:"G'"})," ","has an Eulerian circuit."]}),e.jsxs("p",{className:"mt-2",children:["To combine these into an Eulerian circuit of ",e.jsx(s,{children:"G"}),", we traverse"," ",e.jsx(s,{children:"C"}),", but when a component of ",e.jsx(s,{children:"G'"})," is entered for the first time we detour along an Eulerian circuit of that component. This circuit ends at the vertex where we began the detour. When we complete the traversal of ",e.jsx(s,{children:"C"}),", we have completed an Eulerian circuit of"," ",e.jsx(s,{children:"G"}),"."]})]}),children:e.jsxs("p",{children:["A graph ",e.jsx(s,{children:"G"})," is Eulerian if and only if it has at most one nontrivial component and its vertices all have even degree."]})}),e.jsx(m,{title:"Cycle Decomposition of Even Graphs",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["We prove this by strong induction on the number of edges ",e.jsx(s,{children:"m"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Base case:"})," If ",e.jsx(s,{children:"m = 0"}),", the graph has no edges and is trivially decomposed into zero cycles (the empty decomposition)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Induction step:"})," Suppose ",e.jsx(s,{children:"m > 0"})," and the result holds for all even graphs with fewer than ",e.jsx(s,{children:"m"})," edges. Let ",e.jsx(s,{children:"G"})," be an even graph with ",e.jsx(s,{children:"m"})," edges."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{children:"G"})," has an edge and all degrees are even (hence at least 2 for vertices incident to edges), the Cycle Existence Lemma guarantees that"," ",e.jsx(s,{children:"G"})," contains a cycle ",e.jsx(s,{children:"C"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{children:"G' = G - E(C)"})," be the graph obtained by deleting the edges of ",e.jsx(s,{children:"C"}),". Since ",e.jsx(s,{children:"C"})," contributes exactly 0 or 2 to the degree of each vertex (2 if the vertex is on the cycle, 0 otherwise), the graph ",e.jsx(s,{children:"G'"})," is still an even graph."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{children:"G'"})," has fewer edges than ",e.jsx(s,{children:"G"}),", by the induction hypothesis, ",e.jsx(s,{children:"G'"})," decomposes into cycles. Adding the cycle ",e.jsx(s,{children:"C"})," to this decomposition gives a cycle decomposition of ",e.jsx(s,{children:"G"}),"."]})]}),children:e.jsx("p",{children:"Every even graph decomposes into cycles."})}),e.jsx("h2",{children:"Decomposing Graphs into Trails"}),e.jsxs("p",{children:["When drawing a figure ",e.jsx(s,{children:"G"})," on paper, how many times must we stop and move the pen? Each visit to the paper contributes a trail, so we seek a decomposition of ",e.jsx(s,{children:"G"})," into the minimum number of trails."]}),e.jsx(m,{title:"Trail Decomposition Theorem",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["A trail contributes even degree to every vertex, except that a non-closed trail contributes odd degree to its endpoints. Therefore, a partition of the edges into trails must have some non-closed trail ending at each odd vertex. Since each trail has only two ends, we must use at least ",e.jsx(s,{children:"k"})," trails to satisfy"," ",e.jsx(s,{children:"2k"})," odd vertices."]}),e.jsxs("p",{className:"mt-2",children:["We also need at least one trail since ",e.jsx(s,{children:"G"})," has an edge, and the Eulerian Characterization implies that one trail suffices when"," ",e.jsx(s,{children:"k = 0"}),"."]}),e.jsxs("p",{className:"mt-2",children:["It remains to prove that ",e.jsx(s,{children:"k"})," trails suffice when"," ",e.jsx(s,{children:"k > 0"}),". Given such a graph ",e.jsx(s,{children:"G"}),", we pair up the odd vertices (in any way) and form ",e.jsx(s,{children:"G'"})," by adding for each pair an edge joining its two vertices. The resulting graph"," ",e.jsx(s,{children:"G'"})," is connected and even, so it has an Eulerian circuit"," ",e.jsx(s,{children:"C"}),". As we traverse ",e.jsx(s,{children:"C"})," in"," ",e.jsx(s,{children:"G'"}),", we start a new trail in ",e.jsx(s,{children:"G"})," ","each time we traverse an edge of ",e.jsx(s,{children:"G' - E(G)"}),". This yields ",e.jsx(s,{children:"k"})," trails decomposing ",e.jsx(s,{children:"G"}),"."]})]}),children:e.jsxs("p",{children:["For a connected nontrivial graph with exactly ",e.jsx(s,{children:"2k"})," odd vertices, the minimum number of trails that decompose it is"," ",e.jsx(s,{children:"\\max\\{k, 1\\}"}),"."]})}),e.jsx("h2",{children:"Key Ideas"}),e.jsx("div",{className:"bg-gradient-to-br from-primary-500/10 to-dark-800/50 rounded-xl p-6 my-6 border border-primary-500/20",children:e.jsxs("ul",{className:"space-y-3 text-dark-200",children:[e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"1."}),e.jsxs("span",{children:["A ",e.jsx("strong",{children:"walk"})," allows repeated vertices and edges; a ",e.jsx("strong",{children:"trail"})," ","allows no repeated edges; a ",e.jsx("strong",{children:"path"})," allows no repeated vertices."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"2."}),e.jsxs("span",{children:["Every ",e.jsx(s,{children:"u, v"}),"-walk contains a ",e.jsx(s,{children:"u, v"}),"-path (by removing loops when vertices repeat)."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"3."}),e.jsxs("span",{children:["The ",e.jsx("strong",{children:"components"})," of a graph are the equivalence classes under the connection relation."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"4."}),e.jsxs("span",{children:["An edge is a ",e.jsx("strong",{children:"cut-edge"})," if and only if it belongs to no cycle."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"5."}),e.jsxs("span",{children:["A graph is ",e.jsx("strong",{children:"bipartite"})," if and only if it has no odd cycle (König)."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"6."}),e.jsxs("span",{children:["A graph is ",e.jsx("strong",{children:"Eulerian"})," (has a circuit using all edges) if and only if it has at most one nontrivial component and all vertices have even degree."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"7."}),e.jsx("span",{children:"Every even graph decomposes into cycles."})]})]})})]})}export{Be as default};
