var e0=Object.defineProperty;var t0=(t,n,a)=>n in t?e0(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a;var ih=(t,n,a)=>t0(t,typeof n!="symbol"?n+"":n,a);import{j as e,m as Bs,A as ll}from"./vendor-animation-0o8UKZ_1.js";import{r as $,a as s0,L as wt,N as rh,u as $f,H as n0,R as a0,b as qa}from"./vendor-react-Drj8qL0h.js";import{L as i0,_ as r0,C as l0,r as nx,F as o0,h as Gf,S as c0,u as h0,v as d0}from"./vendor-firebase-core-CzRQL6VN.js";import{g as m0,o as u0,s as x0,a as p0}from"./vendor-firebase-auth-C4l3lITM.js";import{g as f0,c as g0,h as Fs}from"./vendor-firebase-functions-DDqfDrvm.js";import{k as Po}from"./vendor-math-p018AHG0.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(r){if(r.ep)return;r.ep=!0;const l=a(r);fetch(r.href,l)}})();var Af={exports:{}},$c={},Ef={exports:{}},Cf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function n(K,F){var E=K.length;K.push(F);e:for(;0<E;){var U=E-1>>>1,D=K[U];if(0<r(D,F))K[U]=F,K[E]=D,E=U;else break e}}function a(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var F=K[0],E=K.pop();if(E!==F){K[0]=E;e:for(var U=0,D=K.length,L=D>>>1;U<L;){var M=2*(U+1)-1,z=K[M],Q=M+1,R=K[Q];if(0>r(z,E))Q<D&&0>r(R,z)?(K[U]=R,K[Q]=E,U=Q):(K[U]=z,K[M]=E,U=M);else if(Q<D&&0>r(R,E))K[U]=R,K[Q]=E,U=Q;else break e}}return F}function r(K,F){var E=K.sortIndex-F.sortIndex;return E!==0?E:K.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var d=[],u=[],p=1,j=null,f=3,N=!1,O=!1,P=!1,Z=!1,G=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function C(K){for(var F=a(u);F!==null;){if(F.callback===null)i(u);else if(F.startTime<=K)i(u),F.sortIndex=F.expirationTime,n(d,F);else break;F=a(u)}}function Y(K){if(P=!1,C(K),!O)if(a(d)!==null)O=!0,se||(se=!0,A());else{var F=a(u);F!==null&&te(Y,F.startTime-K)}}var se=!1,k=-1,g=5,v=-1;function w(){return Z?!0:!(t.unstable_now()-v<g)}function S(){if(Z=!1,se){var K=t.unstable_now();v=K;var F=!0;try{e:{O=!1,P&&(P=!1,b(k),k=-1),N=!0;var E=f;try{t:{for(C(K),j=a(d);j!==null&&!(j.expirationTime>K&&w());){var U=j.callback;if(typeof U=="function"){j.callback=null,f=j.priorityLevel;var D=U(j.expirationTime<=K);if(K=t.unstable_now(),typeof D=="function"){j.callback=D,C(K),F=!0;break t}j===a(d)&&i(d),C(K)}else i(d);j=a(d)}if(j!==null)F=!0;else{var L=a(u);L!==null&&te(Y,L.startTime-K),F=!1}}break e}finally{j=null,f=E,N=!1}F=void 0}}finally{F?A():se=!1}}}var A;if(typeof _=="function")A=function(){_(S)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,oe=T.port2;T.port1.onmessage=S,A=function(){oe.postMessage(null)}}else A=function(){G(S,0)};function te(K,F){k=G(function(){K(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(K){switch(f){case 1:case 2:case 3:var F=3;break;default:F=f}var E=f;f=F;try{return K()}finally{f=E}},t.unstable_requestPaint=function(){Z=!0},t.unstable_runWithPriority=function(K,F){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var E=f;f=K;try{return F()}finally{f=E}},t.unstable_scheduleCallback=function(K,F,E){var U=t.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?U+E:U):E=U,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=E+D,K={id:p++,callback:F,priorityLevel:K,startTime:E,expirationTime:D,sortIndex:-1},E>U?(K.sortIndex=E,n(u,K),a(d)===null&&K===a(u)&&(P?(b(k),k=-1):P=!0,te(Y,E-U))):(K.sortIndex=D,n(d,K),O||N||(O=!0,se||(se=!0,A()))),K},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(K){var F=f;return function(){var E=f;f=F;try{return K.apply(this,arguments)}finally{f=E}}}})(Cf);Ef.exports=Cf;var j0=Ef.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ft=j0,Mf=$,v0=s0;function ie(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function qf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function _l(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function zf(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function Df(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function ax(t){if(_l(t)!==t)throw Error(ie(188))}function y0(t){var n=t.alternate;if(!n){if(n=_l(t),n===null)throw Error(ie(188));return n!==t?null:t}for(var a=t,i=n;;){var r=a.return;if(r===null)break;var l=r.alternate;if(l===null){if(i=r.return,i!==null){a=i;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===a)return ax(r),t;if(l===i)return ax(r),n;l=l.sibling}throw Error(ie(188))}if(a.return!==i.return)a=r,i=l;else{for(var c=!1,h=r.child;h;){if(h===a){c=!0,a=r,i=l;break}if(h===i){c=!0,i=r,a=l;break}h=h.sibling}if(!c){for(h=l.child;h;){if(h===a){c=!0,a=l,i=r;break}if(h===i){c=!0,i=l,a=r;break}h=h.sibling}if(!c)throw Error(ie(189))}}if(a.alternate!==i)throw Error(ie(190))}if(a.tag!==3)throw Error(ie(188));return a.stateNode.current===a?t:n}function If(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=If(t),n!==null)return n;t=t.sibling}return null}var Fe=Object.assign,b0=Symbol.for("react.element"),eo=Symbol.for("react.transitional.element"),Rr=Symbol.for("react.portal"),gi=Symbol.for("react.fragment"),Of=Symbol.for("react.strict_mode"),cd=Symbol.for("react.profiler"),Rf=Symbol.for("react.consumer"),vn=Symbol.for("react.context"),jm=Symbol.for("react.forward_ref"),hd=Symbol.for("react.suspense"),dd=Symbol.for("react.suspense_list"),vm=Symbol.for("react.memo"),Un=Symbol.for("react.lazy"),md=Symbol.for("react.activity"),w0=Symbol.for("react.memo_cache_sentinel"),ix=Symbol.iterator;function _r(t){return t===null||typeof t!="object"?null:(t=ix&&t[ix]||t["@@iterator"],typeof t=="function"?t:null)}var N0=Symbol.for("react.client.reference");function ud(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N0?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gi:return"Fragment";case cd:return"Profiler";case Of:return"StrictMode";case hd:return"Suspense";case dd:return"SuspenseList";case md:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Rr:return"Portal";case vn:return t.displayName||"Context";case Rf:return(t._context.displayName||"Context")+".Consumer";case jm:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vm:return n=t.displayName||null,n!==null?n:ud(t.type)||"Memo";case Un:n=t._payload,t=t._init;try{return ud(t(n))}catch{}}return null}var Lr=Array.isArray,je=Mf.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ge=v0.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,La={pending:!1,data:null,method:null,action:null},xd=[],ji=-1;function Ys(t){return{current:t}}function Nt(t){0>ji||(t.current=xd[ji],xd[ji]=null,ji--)}function Le(t,n){ji++,xd[ji]=t.current,t.current=n}var Xs=Ys(null),ol=Ys(null),sa=Ys(null),Bo=Ys(null);function Fo(t,n){switch(Le(sa,n),Le(ol,t),Le(Xs,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?dp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=dp(n),t=iv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Nt(Xs),Le(Xs,t)}function Ri(){Nt(Xs),Nt(ol),Nt(sa)}function pd(t){t.memoizedState!==null&&Le(Bo,t);var n=Xs.current,a=iv(n,t.type);n!==a&&(Le(ol,t),Le(Xs,a))}function Uo(t){ol.current===t&&(Nt(Xs),Nt(ol)),Bo.current===t&&(Nt(Bo),vl._currentValue=La)}var lh,rx;function Da(t){if(lh===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);lh=n&&n[1]||"",rx=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lh+t+rx}var oh=!1;function ch(t,n){if(!t||oh)return"";oh=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(n){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(N){var f=N}Reflect.construct(t,[],j)}else{try{j.call()}catch(N){f=N}t.call(j.prototype)}}else{try{throw Error()}catch(N){f=N}(j=t())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(N){if(N&&f&&typeof N.stack=="string")return[N.stack,f.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=i.DetermineComponentFrameRoot(),c=l[0],h=l[1];if(c&&h){var d=c.split(`
`),u=h.split(`
`);for(r=i=0;i<d.length&&!d[i].includes("DetermineComponentFrameRoot");)i++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(i===d.length||r===u.length)for(i=d.length-1,r=u.length-1;1<=i&&0<=r&&d[i]!==u[r];)r--;for(;1<=i&&0<=r;i--,r--)if(d[i]!==u[r]){if(i!==1||r!==1)do if(i--,r--,0>r||d[i]!==u[r]){var p=`
`+d[i].replace(" at new "," at ");return t.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",t.displayName)),p}while(1<=i&&0<=r);break}}}finally{oh=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Da(a):""}function T0(t,n){switch(t.tag){case 26:case 27:case 5:return Da(t.type);case 16:return Da("Lazy");case 13:return t.child!==n&&n!==null?Da("Suspense Fallback"):Da("Suspense");case 19:return Da("SuspenseList");case 0:case 15:return ch(t.type,!1);case 11:return ch(t.type.render,!1);case 1:return ch(t.type,!0);case 31:return Da("Activity");default:return""}}function lx(t){try{var n="",a=null;do n+=T0(t,a),a=t,t=t.return;while(t);return n}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var fd=Object.prototype.hasOwnProperty,ym=ft.unstable_scheduleCallback,hh=ft.unstable_cancelCallback,k0=ft.unstable_shouldYield,_0=ft.unstable_requestPaint,as=ft.unstable_now,S0=ft.unstable_getCurrentPriorityLevel,Lf=ft.unstable_ImmediatePriority,Hf=ft.unstable_UserBlockingPriority,Ko=ft.unstable_NormalPriority,$0=ft.unstable_LowPriority,Pf=ft.unstable_IdlePriority,G0=ft.log,A0=ft.unstable_setDisableYieldValue,Sl=null,is=null;function Wn(t){if(typeof G0=="function"&&A0(t),is&&typeof is.setStrictMode=="function")try{is.setStrictMode(Sl,t)}catch{}}var rs=Math.clz32?Math.clz32:M0,E0=Math.log,C0=Math.LN2;function M0(t){return t>>>=0,t===0?32:31-(E0(t)/C0|0)|0}var to=256,so=262144,no=4194304;function Ia(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Gc(t,n,a){var i=t.pendingLanes;if(i===0)return 0;var r=0,l=t.suspendedLanes,c=t.pingedLanes;t=t.warmLanes;var h=i&134217727;return h!==0?(i=h&~l,i!==0?r=Ia(i):(c&=h,c!==0?r=Ia(c):a||(a=h&~t,a!==0&&(r=Ia(a))))):(h=i&~l,h!==0?r=Ia(h):c!==0?r=Ia(c):a||(a=i&~t,a!==0&&(r=Ia(a)))),r===0?0:n!==0&&n!==r&&!(n&l)&&(l=r&-r,a=n&-n,l>=a||l===32&&(a&4194048)!==0)?n:r}function $l(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function q0(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bf(){var t=no;return no<<=1,!(no&62914560)&&(no=4194304),t}function dh(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function Gl(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function z0(t,n,a,i,r,l){var c=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var h=t.entanglements,d=t.expirationTimes,u=t.hiddenUpdates;for(a=c&~a;0<a;){var p=31-rs(a),j=1<<p;h[p]=0,d[p]=-1;var f=u[p];if(f!==null)for(u[p]=null,p=0;p<f.length;p++){var N=f[p];N!==null&&(N.lane&=-536870913)}a&=~j}i!==0&&Ff(t,i,0),l!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=l&~(c&~n))}function Ff(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var i=31-rs(n);t.entangledLanes|=n,t.entanglements[i]=t.entanglements[i]|1073741824|a&261930}function Uf(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var i=31-rs(a),r=1<<i;r&n|t[i]&n&&(t[i]|=n),a&=~r}}function Kf(t,n){var a=n&-n;return a=a&42?1:bm(a),a&(t.suspendedLanes|n)?0:a}function bm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wm(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function Vf(){var t=Ge.p;return t!==0?t:(t=window.event,t===void 0?32:fv(t.type))}function ox(t,n){var a=Ge.p;try{return Ge.p=t,n()}finally{Ge.p=a}}var va=Math.random().toString(36).slice(2),Gt="__reactFiber$"+va,Xt="__reactProps$"+va,Qi="__reactContainer$"+va,gd="__reactEvents$"+va,D0="__reactListeners$"+va,I0="__reactHandles$"+va,cx="__reactResources$"+va,Al="__reactMarker$"+va;function Nm(t){delete t[Gt],delete t[Xt],delete t[gd],delete t[D0],delete t[I0]}function vi(t){var n=t[Gt];if(n)return n;for(var a=t.parentNode;a;){if(n=a[Qi]||a[Gt]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=fp(t);t!==null;){if(a=t[Gt])return a;t=fp(t)}return n}t=a,a=t.parentNode}return null}function Ji(t){if(t=t[Gt]||t[Qi]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Hr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(ie(33))}function Ei(t){var n=t[cx];return n||(n=t[cx]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function bt(t){t[Al]=!0}var Xf=new Set,Zf={};function Wa(t,n){Li(t,n),Li(t+"Capture",n)}function Li(t,n){for(Zf[t]=n,t=0;t<n.length;t++)Xf.add(n[t])}var O0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hx={},dx={};function R0(t){return fd.call(dx,t)?!0:fd.call(hx,t)?!1:O0.test(t)?dx[t]=!0:(hx[t]=!0,!1)}function _o(t,n,a){if(R0(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var i=n.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function ao(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function cn(t,n,a,i){if(i===null)t.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+i)}}function ps(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yf(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function L0(t,n,a){var i=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var r=i.get,l=i.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return r.call(this)},set:function(c){a=""+c,l.call(this,c)}}),Object.defineProperty(t,n,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(c){a=""+c},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function jd(t){if(!t._valueTracker){var n=Yf(t)?"checked":"value";t._valueTracker=L0(t,n,""+t[n])}}function Wf(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),i="";return t&&(i=Yf(t)?t.checked?"true":"false":t.value),t=i,t!==a?(n.setValue(t),!0):!1}function Vo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var H0=/[\n"\\]/g;function js(t){return t.replace(H0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function vd(t,n,a,i,r,l,c,h){t.name="",c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?t.type=c:t.removeAttribute("type"),n!=null?c==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ps(n)):t.value!==""+ps(n)&&(t.value=""+ps(n)):c!=="submit"&&c!=="reset"||t.removeAttribute("value"),n!=null?yd(t,c,ps(n)):a!=null?yd(t,c,ps(a)):i!=null&&t.removeAttribute("value"),r==null&&l!=null&&(t.defaultChecked=!!l),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?t.name=""+ps(h):t.removeAttribute("name")}function Qf(t,n,a,i,r,l,c,h){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(t.type=l),n!=null||a!=null){if(!(l!=="submit"&&l!=="reset"||n!=null)){jd(t);return}a=a!=null?""+ps(a):"",n=n!=null?""+ps(n):a,h||n===t.value||(t.value=n),t.defaultValue=n}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=h?t.checked:!!i,t.defaultChecked=!!i,c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(t.name=c),jd(t)}function yd(t,n,a){n==="number"&&Vo(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ci(t,n,a,i){if(t=t.options,n){n={};for(var r=0;r<a.length;r++)n["$"+a[r]]=!0;for(a=0;a<t.length;a++)r=n.hasOwnProperty("$"+t[a].value),t[a].selected!==r&&(t[a].selected=r),r&&i&&(t[a].defaultSelected=!0)}else{for(a=""+ps(a),n=null,r=0;r<t.length;r++){if(t[r].value===a){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}n!==null||t[r].disabled||(n=t[r])}n!==null&&(n.selected=!0)}}function Jf(t,n,a){if(n!=null&&(n=""+ps(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+ps(a):""}function eg(t,n,a,i){if(n==null){if(i!=null){if(a!=null)throw Error(ie(92));if(Lr(i)){if(1<i.length)throw Error(ie(93));i=i[0]}a=i}a==null&&(a=""),n=a}a=ps(n),t.defaultValue=a,i=t.textContent,i===a&&i!==""&&i!==null&&(t.value=i),jd(t)}function Hi(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var P0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mx(t,n,a){var i=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":i?t.setProperty(n,a):typeof a!="number"||a===0||P0.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function tg(t,n,a){if(n!=null&&typeof n!="object")throw Error(ie(62));if(t=t.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||n!=null&&n.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var r in n)i=n[r],n.hasOwnProperty(r)&&a[r]!==i&&mx(t,r,i)}else for(var l in n)n.hasOwnProperty(l)&&mx(t,l,n[l])}function Tm(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var B0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),F0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function So(t){return F0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function yn(){}var bd=null;function km(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yi=null,Mi=null;function ux(t){var n=Ji(t);if(n&&(t=n.stateNode)){var a=t[Xt]||null;e:switch(t=n.stateNode,n.type){case"input":if(vd(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+js(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var i=a[n];if(i!==t&&i.form===t.form){var r=i[Xt]||null;if(!r)throw Error(ie(90));vd(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(n=0;n<a.length;n++)i=a[n],i.form===t.form&&Wf(i)}break e;case"textarea":Jf(t,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ci(t,!!a.multiple,n,!1)}}}var mh=!1;function sg(t,n,a){if(mh)return t(n,a);mh=!0;try{var i=t(n);return i}finally{if(mh=!1,(yi!==null||Mi!==null)&&(Hc(),yi&&(n=yi,t=Mi,Mi=yi=null,ux(n),t)))for(n=0;n<t.length;n++)ux(t[n])}}function cl(t,n){var a=t.stateNode;if(a===null)return null;var i=a[Xt]||null;if(i===null)return null;a=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(ie(231,n,typeof a));return a}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wd=!1;if(Sn)try{var Sr={};Object.defineProperty(Sr,"passive",{get:function(){wd=!0}}),window.addEventListener("test",Sr,Sr),window.removeEventListener("test",Sr,Sr)}catch{wd=!1}var Qn=null,_m=null,$o=null;function ng(){if($o)return $o;var t,n=_m,a=n.length,i,r="value"in Qn?Qn.value:Qn.textContent,l=r.length;for(t=0;t<a&&n[t]===r[t];t++);var c=a-t;for(i=1;i<=c&&n[a-i]===r[l-i];i++);return $o=r.slice(t,1<i?1-i:void 0)}function Go(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function io(){return!0}function xx(){return!1}function Zt(t){function n(a,i,r,l,c){this._reactName=a,this._targetInst=r,this.type=i,this.nativeEvent=l,this.target=c,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(a=t[h],this[h]=a?a(l):l[h]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?io:xx,this.isPropagationStopped=xx,this}return Fe(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=io)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=io)},persist:function(){},isPersistent:io}),n}var Qa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ac=Zt(Qa),El=Fe({},Qa,{view:0,detail:0}),U0=Zt(El),uh,xh,$r,Ec=Fe({},El,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$r&&($r&&t.type==="mousemove"?(uh=t.screenX-$r.screenX,xh=t.screenY-$r.screenY):xh=uh=0,$r=t),uh)},movementY:function(t){return"movementY"in t?t.movementY:xh}}),px=Zt(Ec),K0=Fe({},Ec,{dataTransfer:0}),V0=Zt(K0),X0=Fe({},El,{relatedTarget:0}),ph=Zt(X0),Z0=Fe({},Qa,{animationName:0,elapsedTime:0,pseudoElement:0}),Y0=Zt(Z0),W0=Fe({},Qa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Q0=Zt(W0),J0=Fe({},Qa,{data:0}),fx=Zt(J0),eb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nb(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=sb[t])?!!n[t]:!1}function Sm(){return nb}var ab=Fe({},El,{key:function(t){if(t.key){var n=eb[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Go(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sm,charCode:function(t){return t.type==="keypress"?Go(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Go(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ib=Zt(ab),rb=Fe({},Ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gx=Zt(rb),lb=Fe({},El,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sm}),ob=Zt(lb),cb=Fe({},Qa,{propertyName:0,elapsedTime:0,pseudoElement:0}),hb=Zt(cb),db=Fe({},Ec,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),mb=Zt(db),ub=Fe({},Qa,{newState:0,oldState:0}),xb=Zt(ub),pb=[9,13,27,32],$m=Sn&&"CompositionEvent"in window,Ur=null;Sn&&"documentMode"in document&&(Ur=document.documentMode);var fb=Sn&&"TextEvent"in window&&!Ur,ag=Sn&&(!$m||Ur&&8<Ur&&11>=Ur),jx=" ",vx=!1;function ig(t,n){switch(t){case"keyup":return pb.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bi=!1;function gb(t,n){switch(t){case"compositionend":return rg(n);case"keypress":return n.which!==32?null:(vx=!0,jx);case"textInput":return t=n.data,t===jx&&vx?null:t;default:return null}}function jb(t,n){if(bi)return t==="compositionend"||!$m&&ig(t,n)?(t=ng(),$o=_m=Qn=null,bi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ag&&n.locale!=="ko"?null:n.data;default:return null}}var vb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yx(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!vb[t.type]:n==="textarea"}function lg(t,n,a,i){yi?Mi?Mi.push(i):Mi=[i]:yi=i,n=dc(n,"onChange"),0<n.length&&(a=new Ac("onChange","change",null,a,i),t.push({event:a,listeners:n}))}var Kr=null,hl=null;function yb(t){sv(t,0)}function Cc(t){var n=Hr(t);if(Wf(n))return t}function bx(t,n){if(t==="change")return n}var og=!1;if(Sn){var fh;if(Sn){var gh="oninput"in document;if(!gh){var wx=document.createElement("div");wx.setAttribute("oninput","return;"),gh=typeof wx.oninput=="function"}fh=gh}else fh=!1;og=fh&&(!document.documentMode||9<document.documentMode)}function Nx(){Kr&&(Kr.detachEvent("onpropertychange",cg),hl=Kr=null)}function cg(t){if(t.propertyName==="value"&&Cc(hl)){var n=[];lg(n,hl,t,km(t)),sg(yb,n)}}function bb(t,n,a){t==="focusin"?(Nx(),Kr=n,hl=a,Kr.attachEvent("onpropertychange",cg)):t==="focusout"&&Nx()}function wb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Cc(hl)}function Nb(t,n){if(t==="click")return Cc(n)}function Tb(t,n){if(t==="input"||t==="change")return Cc(n)}function kb(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var os=typeof Object.is=="function"?Object.is:kb;function dl(t,n){if(os(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),i=Object.keys(n);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var r=a[i];if(!fd.call(n,r)||!os(t[r],n[r]))return!1}return!0}function Tx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function kx(t,n){var a=Tx(t);t=0;for(var i;a;){if(a.nodeType===3){if(i=t+a.textContent.length,t<=n&&i>=n)return{node:a,offset:n-t};t=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tx(a)}}function hg(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?hg(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function dg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Vo(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Vo(t.document)}return n}function Gm(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var _b=Sn&&"documentMode"in document&&11>=document.documentMode,wi=null,Nd=null,Vr=null,Td=!1;function _x(t,n,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Td||wi==null||wi!==Vo(i)||(i=wi,"selectionStart"in i&&Gm(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Vr&&dl(Vr,i)||(Vr=i,i=dc(Nd,"onSelect"),0<i.length&&(n=new Ac("onSelect","select",null,n,a),t.push({event:n,listeners:i}),n.target=wi)))}function za(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ni={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionrun:za("Transition","TransitionRun"),transitionstart:za("Transition","TransitionStart"),transitioncancel:za("Transition","TransitionCancel"),transitionend:za("Transition","TransitionEnd")},jh={},mg={};Sn&&(mg=document.createElement("div").style,"AnimationEvent"in window||(delete Ni.animationend.animation,delete Ni.animationiteration.animation,delete Ni.animationstart.animation),"TransitionEvent"in window||delete Ni.transitionend.transition);function Ja(t){if(jh[t])return jh[t];if(!Ni[t])return t;var n=Ni[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in mg)return jh[t]=n[a];return t}var ug=Ja("animationend"),xg=Ja("animationiteration"),pg=Ja("animationstart"),Sb=Ja("transitionrun"),$b=Ja("transitionstart"),Gb=Ja("transitioncancel"),fg=Ja("transitionend"),gg=new Map,kd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kd.push("scrollEnd");function Rs(t,n){gg.set(t,n),Wa(n,[t])}var Xo=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},xs=[],Ti=0,Am=0;function Mc(){for(var t=Ti,n=Am=Ti=0;n<t;){var a=xs[n];xs[n++]=null;var i=xs[n];xs[n++]=null;var r=xs[n];xs[n++]=null;var l=xs[n];if(xs[n++]=null,i!==null&&r!==null){var c=i.pending;c===null?r.next=r:(r.next=c.next,c.next=r),i.pending=r}l!==0&&jg(a,r,l)}}function qc(t,n,a,i){xs[Ti++]=t,xs[Ti++]=n,xs[Ti++]=a,xs[Ti++]=i,Am|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Em(t,n,a,i){return qc(t,n,a,i),Zo(t)}function ei(t,n){return qc(t,null,null,n),Zo(t)}function jg(t,n,a){t.lanes|=a;var i=t.alternate;i!==null&&(i.lanes|=a);for(var r=!1,l=t.return;l!==null;)l.childLanes|=a,i=l.alternate,i!==null&&(i.childLanes|=a),l.tag===22&&(t=l.stateNode,t===null||t._visibility&1||(r=!0)),t=l,l=l.return;return t.tag===3?(l=t.stateNode,r&&n!==null&&(r=31-rs(a),t=l.hiddenUpdates,i=t[r],i===null?t[r]=[n]:i.push(n),n.lane=a|536870912),l):null}function Zo(t){if(50<sl)throw sl=0,Kd=null,Error(ie(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ki={};function Ab(t,n,a,i){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(t,n,a,i){return new Ab(t,n,a,i)}function Cm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Tn(t,n){var a=t.alternate;return a===null?(a=ss(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function vg(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ao(t,n,a,i,r,l){var c=0;if(i=t,typeof t=="function")Cm(t)&&(c=1);else if(typeof t=="string")c=z2(t,a,Xs.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case md:return t=ss(31,a,n,r),t.elementType=md,t.lanes=l,t;case gi:return Ha(a.children,r,l,n);case Of:c=8,r|=24;break;case cd:return t=ss(12,a,n,r|2),t.elementType=cd,t.lanes=l,t;case hd:return t=ss(13,a,n,r),t.elementType=hd,t.lanes=l,t;case dd:return t=ss(19,a,n,r),t.elementType=dd,t.lanes=l,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vn:c=10;break e;case Rf:c=9;break e;case jm:c=11;break e;case vm:c=14;break e;case Un:c=16,i=null;break e}c=29,a=Error(ie(130,t===null?"null":typeof t,"")),i=null}return n=ss(c,a,n,r),n.elementType=t,n.type=i,n.lanes=l,n}function Ha(t,n,a,i){return t=ss(7,t,i,n),t.lanes=a,t}function vh(t,n,a){return t=ss(6,t,null,n),t.lanes=a,t}function yg(t){var n=ss(18,null,null,0);return n.stateNode=t,n}function yh(t,n,a){return n=ss(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Sx=new WeakMap;function vs(t,n){if(typeof t=="object"&&t!==null){var a=Sx.get(t);return a!==void 0?a:(n={value:t,source:n,stack:lx(n)},Sx.set(t,n),n)}return{value:t,source:n,stack:lx(n)}}var _i=[],Si=0,Yo=null,ml=0,fs=[],gs=0,ua=null,Us=1,Ks="";function gn(t,n){_i[Si++]=ml,_i[Si++]=Yo,Yo=t,ml=n}function bg(t,n,a){fs[gs++]=Us,fs[gs++]=Ks,fs[gs++]=ua,ua=t;var i=Us;t=Ks;var r=32-rs(i)-1;i&=~(1<<r),a+=1;var l=32-rs(n)+r;if(30<l){var c=r-r%5;l=(i&(1<<c)-1).toString(32),i>>=c,r-=c,Us=1<<32-rs(n)+r|a<<r|i,Ks=l+t}else Us=1<<l|a<<r|i,Ks=t}function Mm(t){t.return!==null&&(gn(t,1),bg(t,1,0))}function qm(t){for(;t===Yo;)Yo=_i[--Si],_i[Si]=null,ml=_i[--Si],_i[Si]=null;for(;t===ua;)ua=fs[--gs],fs[gs]=null,Ks=fs[--gs],fs[gs]=null,Us=fs[--gs],fs[gs]=null}function wg(t,n){fs[gs++]=Us,fs[gs++]=Ks,fs[gs++]=ua,Us=n.id,Ks=n.overflow,ua=t}var At=null,Be=null,ke=!1,na=null,ys=!1,_d=Error(ie(519));function xa(t){var n=Error(ie(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ul(vs(n,t)),_d}function $x(t){var n=t.stateNode,a=t.type,i=t.memoizedProps;switch(n[Gt]=t,n[Xt]=i,a){case"dialog":we("cancel",n),we("close",n);break;case"iframe":case"object":case"embed":we("load",n);break;case"video":case"audio":for(a=0;a<gl.length;a++)we(gl[a],n);break;case"source":we("error",n);break;case"img":case"image":case"link":we("error",n),we("load",n);break;case"details":we("toggle",n);break;case"input":we("invalid",n),Qf(n,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":we("invalid",n);break;case"textarea":we("invalid",n),eg(n,i.value,i.defaultValue,i.children)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||i.suppressHydrationWarning===!0||av(n.textContent,a)?(i.popover!=null&&(we("beforetoggle",n),we("toggle",n)),i.onScroll!=null&&we("scroll",n),i.onScrollEnd!=null&&we("scrollend",n),i.onClick!=null&&(n.onclick=yn),n=!0):n=!1,n||xa(t,!0)}function Gx(t){for(At=t.return;At;)switch(At.tag){case 5:case 31:case 13:ys=!1;return;case 27:case 3:ys=!0;return;default:At=At.return}}function mi(t){if(t!==At)return!1;if(!ke)return Gx(t),ke=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wd(t.type,t.memoizedProps)),a=!a),a&&Be&&xa(t),Gx(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));Be=pp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(317));Be=pp(t)}else n===27?(n=Be,ya(t.type)?(t=tm,tm=null,Be=t):Be=n):Be=At?Ns(t.stateNode.nextSibling):null;return!0}function Ua(){Be=At=null,ke=!1}function bh(){var t=na;return t!==null&&(Kt===null?Kt=t:Kt.push.apply(Kt,t),na=null),t}function ul(t){na===null?na=[t]:na.push(t)}var Sd=Ys(null),ti=null,bn=null;function Vn(t,n,a){Le(Sd,n._currentValue),n._currentValue=a}function kn(t){t._currentValue=Sd.current,Nt(Sd)}function $d(t,n,a){for(;t!==null;){var i=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),t===a)break;t=t.return}}function Gd(t,n,a,i){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var l=r.dependencies;if(l!==null){var c=r.child;l=l.firstContext;e:for(;l!==null;){var h=l;l=r;for(var d=0;d<n.length;d++)if(h.context===n[d]){l.lanes|=a,h=l.alternate,h!==null&&(h.lanes|=a),$d(l.return,a,t),i||(c=null);break e}l=h.next}}else if(r.tag===18){if(c=r.return,c===null)throw Error(ie(341));c.lanes|=a,l=c.alternate,l!==null&&(l.lanes|=a),$d(c,a,t),c=null}else c=r.child;if(c!==null)c.return=r;else for(c=r;c!==null;){if(c===t){c=null;break}if(r=c.sibling,r!==null){r.return=c.return,c=r;break}c=c.return}r=c}}function er(t,n,a,i){t=null;for(var r=n,l=!1;r!==null;){if(!l){if(r.flags&524288)l=!0;else if(r.flags&262144)break}if(r.tag===10){var c=r.alternate;if(c===null)throw Error(ie(387));if(c=c.memoizedProps,c!==null){var h=r.type;os(r.pendingProps.value,c.value)||(t!==null?t.push(h):t=[h])}}else if(r===Bo.current){if(c=r.alternate,c===null)throw Error(ie(387));c.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(vl):t=[vl])}r=r.return}t!==null&&Gd(n,t,a,i),n.flags|=262144}function Wo(t){for(t=t.firstContext;t!==null;){if(!os(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ka(t){ti=t,bn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Et(t){return Ng(ti,t)}function ro(t,n){return ti===null&&Ka(t),Ng(t,n)}function Ng(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},bn===null){if(t===null)throw Error(ie(308));bn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else bn=bn.next=n;return a}var Eb=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,i){t.push(i)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},Cb=ft.unstable_scheduleCallback,Mb=ft.unstable_NormalPriority,ot={$$typeof:vn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zm(){return{controller:new Eb,data:new Map,refCount:0}}function Cl(t){t.refCount--,t.refCount===0&&Cb(Mb,function(){t.controller.abort()})}var Xr=null,Ad=0,Pi=0,qi=null;function qb(t,n){if(Xr===null){var a=Xr=[];Ad=0,Pi=ru(),qi={status:"pending",value:void 0,then:function(i){a.push(i)}}}return Ad++,n.then(Ax,Ax),n}function Ax(){if(--Ad===0&&Xr!==null){qi!==null&&(qi.status="fulfilled");var t=Xr;Xr=null,Pi=0,qi=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function zb(t,n){var a=[],i={status:"pending",value:null,reason:null,then:function(r){a.push(r)}};return t.then(function(){i.status="fulfilled",i.value=n;for(var r=0;r<a.length;r++)(0,a[r])(n)},function(r){for(i.status="rejected",i.reason=r,r=0;r<a.length;r++)(0,a[r])(void 0)}),i}var Ex=je.S;je.S=function(t,n){Ij=as(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&qb(t,n),Ex!==null&&Ex(t,n)};var Pa=Ys(null);function Dm(){var t=Pa.current;return t!==null?t:Ie.pooledCache}function Eo(t,n){n===null?Le(Pa,Pa.current):Le(Pa,n.pool)}function Tg(){var t=Dm();return t===null?null:{parent:ot._currentValue,pool:t}}var tr=Error(ie(460)),Im=Error(ie(474)),zc=Error(ie(542)),Qo={then:function(){}};function Cx(t){return t=t.status,t==="fulfilled"||t==="rejected"}function kg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(yn,yn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qx(t),t;default:if(typeof n.status=="string")n.then(yn,yn);else{if(t=Ie,t!==null&&100<t.shellSuspendCounter)throw Error(ie(482));t=n,t.status="pending",t.then(function(i){if(n.status==="pending"){var r=n;r.status="fulfilled",r.value=i}},function(i){if(n.status==="pending"){var r=n;r.status="rejected",r.reason=i}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qx(t),t}throw Ba=n,tr}}function Oa(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ba=a,tr):a}}var Ba=null;function Mx(){if(Ba===null)throw Error(ie(459));var t=Ba;return Ba=null,t}function qx(t){if(t===tr||t===zc)throw Error(ie(483))}var zi=null,xl=0;function lo(t){var n=xl;return xl+=1,zi===null&&(zi=[]),kg(zi,t,n)}function Gr(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function oo(t,n){throw n.$$typeof===b0?Error(ie(525)):(t=Object.prototype.toString.call(n),Error(ie(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function _g(t){function n(G,b){if(t){var _=G.deletions;_===null?(G.deletions=[b],G.flags|=16):_.push(b)}}function a(G,b){if(!t)return null;for(;b!==null;)n(G,b),b=b.sibling;return null}function i(G){for(var b=new Map;G!==null;)G.key!==null?b.set(G.key,G):b.set(G.index,G),G=G.sibling;return b}function r(G,b){return G=Tn(G,b),G.index=0,G.sibling=null,G}function l(G,b,_){return G.index=_,t?(_=G.alternate,_!==null?(_=_.index,_<b?(G.flags|=67108866,b):_):(G.flags|=67108866,b)):(G.flags|=1048576,b)}function c(G){return t&&G.alternate===null&&(G.flags|=67108866),G}function h(G,b,_,C){return b===null||b.tag!==6?(b=vh(_,G.mode,C),b.return=G,b):(b=r(b,_),b.return=G,b)}function d(G,b,_,C){var Y=_.type;return Y===gi?p(G,b,_.props.children,C,_.key):b!==null&&(b.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Un&&Oa(Y)===b.type)?(b=r(b,_.props),Gr(b,_),b.return=G,b):(b=Ao(_.type,_.key,_.props,null,G.mode,C),Gr(b,_),b.return=G,b)}function u(G,b,_,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=yh(_,G.mode,C),b.return=G,b):(b=r(b,_.children||[]),b.return=G,b)}function p(G,b,_,C,Y){return b===null||b.tag!==7?(b=Ha(_,G.mode,C,Y),b.return=G,b):(b=r(b,_),b.return=G,b)}function j(G,b,_){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=vh(""+b,G.mode,_),b.return=G,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case eo:return _=Ao(b.type,b.key,b.props,null,G.mode,_),Gr(_,b),_.return=G,_;case Rr:return b=yh(b,G.mode,_),b.return=G,b;case Un:return b=Oa(b),j(G,b,_)}if(Lr(b)||_r(b))return b=Ha(b,G.mode,_,null),b.return=G,b;if(typeof b.then=="function")return j(G,lo(b),_);if(b.$$typeof===vn)return j(G,ro(G,b),_);oo(G,b)}return null}function f(G,b,_,C){var Y=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return Y!==null?null:h(G,b,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case eo:return _.key===Y?d(G,b,_,C):null;case Rr:return _.key===Y?u(G,b,_,C):null;case Un:return _=Oa(_),f(G,b,_,C)}if(Lr(_)||_r(_))return Y!==null?null:p(G,b,_,C,null);if(typeof _.then=="function")return f(G,b,lo(_),C);if(_.$$typeof===vn)return f(G,b,ro(G,_),C);oo(G,_)}return null}function N(G,b,_,C,Y){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return G=G.get(_)||null,h(b,G,""+C,Y);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case eo:return G=G.get(C.key===null?_:C.key)||null,d(b,G,C,Y);case Rr:return G=G.get(C.key===null?_:C.key)||null,u(b,G,C,Y);case Un:return C=Oa(C),N(G,b,_,C,Y)}if(Lr(C)||_r(C))return G=G.get(_)||null,p(b,G,C,Y,null);if(typeof C.then=="function")return N(G,b,_,lo(C),Y);if(C.$$typeof===vn)return N(G,b,_,ro(b,C),Y);oo(b,C)}return null}function O(G,b,_,C){for(var Y=null,se=null,k=b,g=b=0,v=null;k!==null&&g<_.length;g++){k.index>g?(v=k,k=null):v=k.sibling;var w=f(G,k,_[g],C);if(w===null){k===null&&(k=v);break}t&&k&&w.alternate===null&&n(G,k),b=l(w,b,g),se===null?Y=w:se.sibling=w,se=w,k=v}if(g===_.length)return a(G,k),ke&&gn(G,g),Y;if(k===null){for(;g<_.length;g++)k=j(G,_[g],C),k!==null&&(b=l(k,b,g),se===null?Y=k:se.sibling=k,se=k);return ke&&gn(G,g),Y}for(k=i(k);g<_.length;g++)v=N(k,G,g,_[g],C),v!==null&&(t&&v.alternate!==null&&k.delete(v.key===null?g:v.key),b=l(v,b,g),se===null?Y=v:se.sibling=v,se=v);return t&&k.forEach(function(S){return n(G,S)}),ke&&gn(G,g),Y}function P(G,b,_,C){if(_==null)throw Error(ie(151));for(var Y=null,se=null,k=b,g=b=0,v=null,w=_.next();k!==null&&!w.done;g++,w=_.next()){k.index>g?(v=k,k=null):v=k.sibling;var S=f(G,k,w.value,C);if(S===null){k===null&&(k=v);break}t&&k&&S.alternate===null&&n(G,k),b=l(S,b,g),se===null?Y=S:se.sibling=S,se=S,k=v}if(w.done)return a(G,k),ke&&gn(G,g),Y;if(k===null){for(;!w.done;g++,w=_.next())w=j(G,w.value,C),w!==null&&(b=l(w,b,g),se===null?Y=w:se.sibling=w,se=w);return ke&&gn(G,g),Y}for(k=i(k);!w.done;g++,w=_.next())w=N(k,G,g,w.value,C),w!==null&&(t&&w.alternate!==null&&k.delete(w.key===null?g:w.key),b=l(w,b,g),se===null?Y=w:se.sibling=w,se=w);return t&&k.forEach(function(A){return n(G,A)}),ke&&gn(G,g),Y}function Z(G,b,_,C){if(typeof _=="object"&&_!==null&&_.type===gi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case eo:e:{for(var Y=_.key;b!==null;){if(b.key===Y){if(Y=_.type,Y===gi){if(b.tag===7){a(G,b.sibling),C=r(b,_.props.children),C.return=G,G=C;break e}}else if(b.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Un&&Oa(Y)===b.type){a(G,b.sibling),C=r(b,_.props),Gr(C,_),C.return=G,G=C;break e}a(G,b);break}else n(G,b);b=b.sibling}_.type===gi?(C=Ha(_.props.children,G.mode,C,_.key),C.return=G,G=C):(C=Ao(_.type,_.key,_.props,null,G.mode,C),Gr(C,_),C.return=G,G=C)}return c(G);case Rr:e:{for(Y=_.key;b!==null;){if(b.key===Y)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){a(G,b.sibling),C=r(b,_.children||[]),C.return=G,G=C;break e}else{a(G,b);break}else n(G,b);b=b.sibling}C=yh(_,G.mode,C),C.return=G,G=C}return c(G);case Un:return _=Oa(_),Z(G,b,_,C)}if(Lr(_))return O(G,b,_,C);if(_r(_)){if(Y=_r(_),typeof Y!="function")throw Error(ie(150));return _=Y.call(_),P(G,b,_,C)}if(typeof _.then=="function")return Z(G,b,lo(_),C);if(_.$$typeof===vn)return Z(G,b,ro(G,_),C);oo(G,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,b!==null&&b.tag===6?(a(G,b.sibling),C=r(b,_),C.return=G,G=C):(a(G,b),C=vh(_,G.mode,C),C.return=G,G=C),c(G)):a(G,b)}return function(G,b,_,C){try{xl=0;var Y=Z(G,b,_,C);return zi=null,Y}catch(k){if(k===tr||k===zc)throw k;var se=ss(29,k,null,G.mode);return se.lanes=C,se.return=G,se}finally{}}}var Va=_g(!0),Sg=_g(!1),Kn=!1;function Om(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ed(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function aa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ia(t,n,a){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,$e&2){var r=i.pending;return r===null?n.next=n:(n.next=r.next,r.next=n),i.pending=n,n=Zo(t),jg(t,null,a),n}return qc(t,i,n,a),Zo(t)}function Zr(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var i=n.lanes;i&=t.pendingLanes,a|=i,n.lanes=a,Uf(t,a)}}function wh(t,n){var a=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var r=null,l=null;if(a=a.firstBaseUpdate,a!==null){do{var c={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};l===null?r=l=c:l=l.next=c,a=a.next}while(a!==null);l===null?r=l=n:l=l.next=n}else r=l=n;a={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:l,shared:i.shared,callbacks:i.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Cd=!1;function Yr(){if(Cd){var t=qi;if(t!==null)throw t}}function Wr(t,n,a,i){Cd=!1;var r=t.updateQueue;Kn=!1;var l=r.firstBaseUpdate,c=r.lastBaseUpdate,h=r.shared.pending;if(h!==null){r.shared.pending=null;var d=h,u=d.next;d.next=null,c===null?l=u:c.next=u,c=d;var p=t.alternate;p!==null&&(p=p.updateQueue,h=p.lastBaseUpdate,h!==c&&(h===null?p.firstBaseUpdate=u:h.next=u,p.lastBaseUpdate=d))}if(l!==null){var j=r.baseState;c=0,p=u=d=null,h=l;do{var f=h.lane&-536870913,N=f!==h.lane;if(N?(Te&f)===f:(i&f)===f){f!==0&&f===Pi&&(Cd=!0),p!==null&&(p=p.next={lane:0,tag:h.tag,payload:h.payload,callback:null,next:null});e:{var O=t,P=h;f=n;var Z=a;switch(P.tag){case 1:if(O=P.payload,typeof O=="function"){j=O.call(Z,j,f);break e}j=O;break e;case 3:O.flags=O.flags&-65537|128;case 0:if(O=P.payload,f=typeof O=="function"?O.call(Z,j,f):O,f==null)break e;j=Fe({},j,f);break e;case 2:Kn=!0}}f=h.callback,f!==null&&(t.flags|=64,N&&(t.flags|=8192),N=r.callbacks,N===null?r.callbacks=[f]:N.push(f))}else N={lane:f,tag:h.tag,payload:h.payload,callback:h.callback,next:null},p===null?(u=p=N,d=j):p=p.next=N,c|=f;if(h=h.next,h===null){if(h=r.shared.pending,h===null)break;N=h,h=N.next,N.next=null,r.lastBaseUpdate=N,r.shared.pending=null}}while(!0);p===null&&(d=j),r.baseState=d,r.firstBaseUpdate=u,r.lastBaseUpdate=p,l===null&&(r.shared.lanes=0),fa|=c,t.lanes=c,t.memoizedState=j}}function $g(t,n){if(typeof t!="function")throw Error(ie(191,t));t.call(n)}function Gg(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)$g(a[t],n)}var Bi=Ys(null),Jo=Ys(0);function zx(t,n){t=En,Le(Jo,t),Le(Bi,n),En=t|n.baseLanes}function Md(){Le(Jo,En),Le(Bi,Bi.current)}function Rm(){En=Jo.current,Nt(Bi),Nt(Jo)}var cs=Ys(null),ws=null;function Xn(t){var n=t.alternate;Le(at,at.current&1),Le(cs,t),ws===null&&(n===null||Bi.current!==null||n.memoizedState!==null)&&(ws=t)}function qd(t){Le(at,at.current),Le(cs,t),ws===null&&(ws=t)}function Ag(t){t.tag===22?(Le(at,at.current),Le(cs,t),ws===null&&(ws=t)):Zn()}function Zn(){Le(at,at.current),Le(cs,cs.current)}function ts(t){Nt(cs),ws===t&&(ws=null),Nt(at)}var at=Ys(0);function ec(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Jd(a)||em(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $n=0,ye=null,qe=null,rt=null,tc=!1,Di=!1,Xa=!1,sc=0,pl=0,Ii=null,Db=0;function Qe(){throw Error(ie(321))}function Lm(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!os(t[a],n[a]))return!1;return!0}function Hm(t,n,a,i,r,l){return $n=l,ye=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,je.H=t===null||t.memoizedState===null?lj:Qm,Xa=!1,l=a(i,r),Xa=!1,Di&&(l=Cg(n,a,i,r)),Eg(t),l}function Eg(t){je.H=fl;var n=qe!==null&&qe.next!==null;if($n=0,rt=qe=ye=null,tc=!1,pl=0,Ii=null,n)throw Error(ie(300));t===null||ct||(t=t.dependencies,t!==null&&Wo(t)&&(ct=!0))}function Cg(t,n,a,i){ye=t;var r=0;do{if(Di&&(Ii=null),pl=0,Di=!1,25<=r)throw Error(ie(301));if(r+=1,rt=qe=null,t.updateQueue!=null){var l=t.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}je.H=oj,l=n(a,i)}while(Di);return l}function Ib(){var t=je.H,n=t.useState()[0];return n=typeof n.then=="function"?Ml(n):n,t=t.useState()[0],(qe!==null?qe.memoizedState:null)!==t&&(ye.flags|=1024),n}function Pm(){var t=sc!==0;return sc=0,t}function Bm(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Fm(t){if(tc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}tc=!1}$n=0,rt=qe=ye=null,Di=!1,pl=sc=0,Ii=null}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?ye.memoizedState=rt=t:rt=rt.next=t,rt}function it(){if(qe===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=qe.next;var n=rt===null?ye.memoizedState:rt.next;if(n!==null)rt=n,qe=t;else{if(t===null)throw ye.alternate===null?Error(ie(467)):Error(ie(310));qe=t,t={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},rt===null?ye.memoizedState=rt=t:rt=rt.next=t}return rt}function Dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ml(t){var n=pl;return pl+=1,Ii===null&&(Ii=[]),t=kg(Ii,t,n),n=ye,(rt===null?n.memoizedState:rt.next)===null&&(n=n.alternate,je.H=n===null||n.memoizedState===null?lj:Qm),t}function Ic(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Ml(t);if(t.$$typeof===vn)return Et(t)}throw Error(ie(438,String(t)))}function Um(t){var n=null,a=ye.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var i=ye.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(n={data:i.data.map(function(r){return r.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Dc(),ye.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),i=0;i<t;i++)a[i]=w0;return n.index++,a}function Gn(t,n){return typeof n=="function"?n(t):n}function Co(t){var n=it();return Km(n,qe,t)}function Km(t,n,a){var i=t.queue;if(i===null)throw Error(ie(311));i.lastRenderedReducer=a;var r=t.baseQueue,l=i.pending;if(l!==null){if(r!==null){var c=r.next;r.next=l.next,l.next=c}n.baseQueue=r=l,i.pending=null}if(l=t.baseState,r===null)t.memoizedState=l;else{n=r.next;var h=c=null,d=null,u=n,p=!1;do{var j=u.lane&-536870913;if(j!==u.lane?(Te&j)===j:($n&j)===j){var f=u.revertLane;if(f===0)d!==null&&(d=d.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),j===Pi&&(p=!0);else if(($n&f)===f){u=u.next,f===Pi&&(p=!0);continue}else j={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},d===null?(h=d=j,c=l):d=d.next=j,ye.lanes|=f,fa|=f;j=u.action,Xa&&a(l,j),l=u.hasEagerState?u.eagerState:a(l,j)}else f={lane:j,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},d===null?(h=d=f,c=l):d=d.next=f,ye.lanes|=j,fa|=j;u=u.next}while(u!==null&&u!==n);if(d===null?c=l:d.next=h,!os(l,t.memoizedState)&&(ct=!0,p&&(a=qi,a!==null)))throw a;t.memoizedState=l,t.baseState=c,t.baseQueue=d,i.lastRenderedState=l}return r===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Nh(t){var n=it(),a=n.queue;if(a===null)throw Error(ie(311));a.lastRenderedReducer=t;var i=a.dispatch,r=a.pending,l=n.memoizedState;if(r!==null){a.pending=null;var c=r=r.next;do l=t(l,c.action),c=c.next;while(c!==r);os(l,n.memoizedState)||(ct=!0),n.memoizedState=l,n.baseQueue===null&&(n.baseState=l),a.lastRenderedState=l}return[l,i]}function Mg(t,n,a){var i=ye,r=it(),l=ke;if(l){if(a===void 0)throw Error(ie(407));a=a()}else a=n();var c=!os((qe||r).memoizedState,a);if(c&&(r.memoizedState=a,ct=!0),r=r.queue,Vm(Dg.bind(null,i,r,t),[t]),r.getSnapshot!==n||c||rt!==null&&rt.memoizedState.tag&1){if(i.flags|=2048,Fi(9,{destroy:void 0},zg.bind(null,i,r,a,n),null),Ie===null)throw Error(ie(349));l||$n&127||qg(i,n,a)}return a}function qg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=ye.updateQueue,n===null?(n=Dc(),ye.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function zg(t,n,a,i){n.value=a,n.getSnapshot=i,Ig(n)&&Og(t)}function Dg(t,n,a){return a(function(){Ig(n)&&Og(t)})}function Ig(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!os(t,a)}catch{return!0}}function Og(t){var n=ei(t,2);n!==null&&Vt(n,t,2)}function zd(t){var n=Rt();if(typeof t=="function"){var a=t;if(t=a(),Xa){Wn(!0);try{a()}finally{Wn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:t},n}function Rg(t,n,a,i){return t.baseState=a,Km(t,qe,typeof i=="function"?i:Gn)}function Ob(t,n,a,i,r){if(Rc(t))throw Error(ie(485));if(t=n.action,t!==null){var l={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(c){l.listeners.push(c)}};je.T!==null?a(!0):l.isTransition=!1,i(l),a=n.pending,a===null?(l.next=n.pending=l,Lg(n,l)):(l.next=a.next,n.pending=a.next=l)}}function Lg(t,n){var a=n.action,i=n.payload,r=t.state;if(n.isTransition){var l=je.T,c={};je.T=c;try{var h=a(r,i),d=je.S;d!==null&&d(c,h),Dx(t,n,h)}catch(u){Dd(t,n,u)}finally{l!==null&&c.types!==null&&(l.types=c.types),je.T=l}}else try{l=a(r,i),Dx(t,n,l)}catch(u){Dd(t,n,u)}}function Dx(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){Ix(t,n,i)},function(i){return Dd(t,n,i)}):Ix(t,n,a)}function Ix(t,n,a){n.status="fulfilled",n.value=a,Hg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Lg(t,a)))}function Dd(t,n,a){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do n.status="rejected",n.reason=a,Hg(n),n=n.next;while(n!==i)}t.action=null}function Hg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Pg(t,n){return n}function Ox(t,n){if(ke){var a=Ie.formState;if(a!==null){e:{var i=ye;if(ke){if(Be){t:{for(var r=Be,l=ys;r.nodeType!==8;){if(!l){r=null;break t}if(r=Ns(r.nextSibling),r===null){r=null;break t}}l=r.data,r=l==="F!"||l==="F"?r:null}if(r){Be=Ns(r.nextSibling),i=r.data==="F!";break e}}xa(i)}i=!1}i&&(n=a[0])}}return a=Rt(),a.memoizedState=a.baseState=n,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pg,lastRenderedState:n},a.queue=i,a=aj.bind(null,ye,i),i.dispatch=a,i=zd(!1),l=Wm.bind(null,ye,!1,i.queue),i=Rt(),r={state:n,dispatch:null,action:t,pending:null},i.queue=r,a=Ob.bind(null,ye,r,l,a),r.dispatch=a,i.memoizedState=t,[n,a,!1]}function Rx(t){var n=it();return Bg(n,qe,t)}function Bg(t,n,a){if(n=Km(t,n,Pg)[0],t=Co(Gn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var i=Ml(n)}catch(c){throw c===tr?zc:c}else i=n;n=it();var r=n.queue,l=r.dispatch;return a!==n.memoizedState&&(ye.flags|=2048,Fi(9,{destroy:void 0},Rb.bind(null,r,a),null)),[i,l,t]}function Rb(t,n){t.action=n}function Lx(t){var n=it(),a=qe;if(a!==null)return Bg(n,a,t);it(),n=n.memoizedState,a=it();var i=a.queue.dispatch;return a.memoizedState=t,[n,i,!1]}function Fi(t,n,a,i){return t={tag:t,create:a,deps:i,inst:n,next:null},n=ye.updateQueue,n===null&&(n=Dc(),ye.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(i=a.next,a.next=t,t.next=i,n.lastEffect=t),t}function Fg(){return it().memoizedState}function Mo(t,n,a,i){var r=Rt();ye.flags|=t,r.memoizedState=Fi(1|n,{destroy:void 0},a,i===void 0?null:i)}function Oc(t,n,a,i){var r=it();i=i===void 0?null:i;var l=r.memoizedState.inst;qe!==null&&i!==null&&Lm(i,qe.memoizedState.deps)?r.memoizedState=Fi(n,l,a,i):(ye.flags|=t,r.memoizedState=Fi(1|n,l,a,i))}function Hx(t,n){Mo(8390656,8,t,n)}function Vm(t,n){Oc(2048,8,t,n)}function Lb(t){ye.flags|=4;var n=ye.updateQueue;if(n===null)n=Dc(),ye.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function Ug(t){var n=it().memoizedState;return Lb({ref:n,nextImpl:t}),function(){if($e&2)throw Error(ie(440));return n.impl.apply(void 0,arguments)}}function Kg(t,n){return Oc(4,2,t,n)}function Vg(t,n){return Oc(4,4,t,n)}function Xg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Zg(t,n,a){a=a!=null?a.concat([t]):null,Oc(4,4,Xg.bind(null,n,t),a)}function Xm(){}function Yg(t,n){var a=it();n=n===void 0?null:n;var i=a.memoizedState;return n!==null&&Lm(n,i[1])?i[0]:(a.memoizedState=[t,n],t)}function Wg(t,n){var a=it();n=n===void 0?null:n;var i=a.memoizedState;if(n!==null&&Lm(n,i[1]))return i[0];if(i=t(),Xa){Wn(!0);try{t()}finally{Wn(!1)}}return a.memoizedState=[i,n],i}function Zm(t,n,a){return a===void 0||$n&1073741824&&!(Te&261930)?t.memoizedState=n:(t.memoizedState=a,t=Rj(),ye.lanes|=t,fa|=t,a)}function Qg(t,n,a,i){return os(a,n)?a:Bi.current!==null?(t=Zm(t,a,i),os(t,n)||(ct=!0),t):!($n&42)||$n&1073741824&&!(Te&261930)?(ct=!0,t.memoizedState=a):(t=Rj(),ye.lanes|=t,fa|=t,n)}function Jg(t,n,a,i,r){var l=Ge.p;Ge.p=l!==0&&8>l?l:8;var c=je.T,h={};je.T=h,Wm(t,!1,n,a);try{var d=r(),u=je.S;if(u!==null&&u(h,d),d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=zb(d,i);Qr(t,n,p,ls(t))}else Qr(t,n,i,ls(t))}catch(j){Qr(t,n,{then:function(){},status:"rejected",reason:j},ls())}finally{Ge.p=l,c!==null&&h.types!==null&&(c.types=h.types),je.T=c}}function Hb(){}function Id(t,n,a,i){if(t.tag!==5)throw Error(ie(476));var r=ej(t).queue;Jg(t,r,n,La,a===null?Hb:function(){return tj(t),a(i)})}function ej(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:La,baseState:La,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:La},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function tj(t){var n=ej(t);n.next===null&&(n=t.alternate.memoizedState),Qr(t,n.next.queue,{},ls())}function Ym(){return Et(vl)}function sj(){return it().memoizedState}function nj(){return it().memoizedState}function Pb(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=ls();t=aa(a);var i=ia(n,t,a);i!==null&&(Vt(i,n,a),Zr(i,n,a)),n={cache:zm()},t.payload=n;return}n=n.return}}function Bb(t,n,a){var i=ls();a={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Rc(t)?ij(n,a):(a=Em(t,n,a,i),a!==null&&(Vt(a,t,i),rj(a,n,i)))}function aj(t,n,a){var i=ls();Qr(t,n,a,i)}function Qr(t,n,a,i){var r={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Rc(t))ij(n,r);else{var l=t.alternate;if(t.lanes===0&&(l===null||l.lanes===0)&&(l=n.lastRenderedReducer,l!==null))try{var c=n.lastRenderedState,h=l(c,a);if(r.hasEagerState=!0,r.eagerState=h,os(h,c))return qc(t,n,r,0),Ie===null&&Mc(),!1}catch{}finally{}if(a=Em(t,n,r,i),a!==null)return Vt(a,t,i),rj(a,n,i),!0}return!1}function Wm(t,n,a,i){if(i={lane:2,revertLane:ru(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Rc(t)){if(n)throw Error(ie(479))}else n=Em(t,a,i,2),n!==null&&Vt(n,t,2)}function Rc(t){var n=t.alternate;return t===ye||n!==null&&n===ye}function ij(t,n){Di=tc=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function rj(t,n,a){if(a&4194048){var i=n.lanes;i&=t.pendingLanes,a|=i,n.lanes=a,Uf(t,a)}}var fl={readContext:Et,use:Ic,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};fl.useEffectEvent=Qe;var lj={readContext:Et,use:Ic,useCallback:function(t,n){return Rt().memoizedState=[t,n===void 0?null:n],t},useContext:Et,useEffect:Hx,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,Mo(4194308,4,Xg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return Mo(4194308,4,t,n)},useInsertionEffect:function(t,n){Mo(4,2,t,n)},useMemo:function(t,n){var a=Rt();n=n===void 0?null:n;var i=t();if(Xa){Wn(!0);try{t()}finally{Wn(!1)}}return a.memoizedState=[i,n],i},useReducer:function(t,n,a){var i=Rt();if(a!==void 0){var r=a(n);if(Xa){Wn(!0);try{a(n)}finally{Wn(!1)}}}else r=n;return i.memoizedState=i.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},i.queue=t,t=t.dispatch=Bb.bind(null,ye,t),[i.memoizedState,t]},useRef:function(t){var n=Rt();return t={current:t},n.memoizedState=t},useState:function(t){t=zd(t);var n=t.queue,a=aj.bind(null,ye,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Xm,useDeferredValue:function(t,n){var a=Rt();return Zm(a,t,n)},useTransition:function(){var t=zd(!1);return t=Jg.bind(null,ye,t.queue,!0,!1),Rt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var i=ye,r=Rt();if(ke){if(a===void 0)throw Error(ie(407));a=a()}else{if(a=n(),Ie===null)throw Error(ie(349));Te&127||qg(i,n,a)}r.memoizedState=a;var l={value:a,getSnapshot:n};return r.queue=l,Hx(Dg.bind(null,i,l,t),[t]),i.flags|=2048,Fi(9,{destroy:void 0},zg.bind(null,i,l,a,n),null),a},useId:function(){var t=Rt(),n=Ie.identifierPrefix;if(ke){var a=Ks,i=Us;a=(i&~(1<<32-rs(i)-1)).toString(32)+a,n="_"+n+"R_"+a,a=sc++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Db++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Ym,useFormState:Ox,useActionState:Ox,useOptimistic:function(t){var n=Rt();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Wm.bind(null,ye,!0,a),a.dispatch=n,[t,n]},useMemoCache:Um,useCacheRefresh:function(){return Rt().memoizedState=Pb.bind(null,ye)},useEffectEvent:function(t){var n=Rt(),a={impl:t};return n.memoizedState=a,function(){if($e&2)throw Error(ie(440));return a.impl.apply(void 0,arguments)}}},Qm={readContext:Et,use:Ic,useCallback:Yg,useContext:Et,useEffect:Vm,useImperativeHandle:Zg,useInsertionEffect:Kg,useLayoutEffect:Vg,useMemo:Wg,useReducer:Co,useRef:Fg,useState:function(){return Co(Gn)},useDebugValue:Xm,useDeferredValue:function(t,n){var a=it();return Qg(a,qe.memoizedState,t,n)},useTransition:function(){var t=Co(Gn)[0],n=it().memoizedState;return[typeof t=="boolean"?t:Ml(t),n]},useSyncExternalStore:Mg,useId:sj,useHostTransitionStatus:Ym,useFormState:Rx,useActionState:Rx,useOptimistic:function(t,n){var a=it();return Rg(a,qe,t,n)},useMemoCache:Um,useCacheRefresh:nj};Qm.useEffectEvent=Ug;var oj={readContext:Et,use:Ic,useCallback:Yg,useContext:Et,useEffect:Vm,useImperativeHandle:Zg,useInsertionEffect:Kg,useLayoutEffect:Vg,useMemo:Wg,useReducer:Nh,useRef:Fg,useState:function(){return Nh(Gn)},useDebugValue:Xm,useDeferredValue:function(t,n){var a=it();return qe===null?Zm(a,t,n):Qg(a,qe.memoizedState,t,n)},useTransition:function(){var t=Nh(Gn)[0],n=it().memoizedState;return[typeof t=="boolean"?t:Ml(t),n]},useSyncExternalStore:Mg,useId:sj,useHostTransitionStatus:Ym,useFormState:Lx,useActionState:Lx,useOptimistic:function(t,n){var a=it();return qe!==null?Rg(a,qe,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Um,useCacheRefresh:nj};oj.useEffectEvent=Ug;function Th(t,n,a,i){n=t.memoizedState,a=a(i,n),a=a==null?n:Fe({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Od={enqueueSetState:function(t,n,a){t=t._reactInternals;var i=ls(),r=aa(i);r.payload=n,a!=null&&(r.callback=a),n=ia(t,r,i),n!==null&&(Vt(n,t,i),Zr(n,t,i))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var i=ls(),r=aa(i);r.tag=1,r.payload=n,a!=null&&(r.callback=a),n=ia(t,r,i),n!==null&&(Vt(n,t,i),Zr(n,t,i))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=ls(),i=aa(a);i.tag=2,n!=null&&(i.callback=n),n=ia(t,i,a),n!==null&&(Vt(n,t,a),Zr(n,t,a))}};function Px(t,n,a,i,r,l,c){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,l,c):n.prototype&&n.prototype.isPureReactComponent?!dl(a,i)||!dl(r,l):!0}function Bx(t,n,a,i){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,i),n.state!==t&&Od.enqueueReplaceState(n,n.state,null)}function Za(t,n){var a=n;if("ref"in n){a={};for(var i in n)i!=="ref"&&(a[i]=n[i])}if(t=t.defaultProps){a===n&&(a=Fe({},a));for(var r in t)a[r]===void 0&&(a[r]=t[r])}return a}function cj(t){Xo(t)}function hj(t){console.error(t)}function dj(t){Xo(t)}function nc(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(i){setTimeout(function(){throw i})}}function Fx(t,n,a){try{var i=t.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Rd(t,n,a){return a=aa(a),a.tag=3,a.payload={element:null},a.callback=function(){nc(t,n)},a}function mj(t){return t=aa(t),t.tag=3,t}function uj(t,n,a,i){var r=a.type.getDerivedStateFromError;if(typeof r=="function"){var l=i.value;t.payload=function(){return r(l)},t.callback=function(){Fx(n,a,i)}}var c=a.stateNode;c!==null&&typeof c.componentDidCatch=="function"&&(t.callback=function(){Fx(n,a,i),typeof r!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var h=i.stack;this.componentDidCatch(i.value,{componentStack:h!==null?h:""})})}function Fb(t,n,a,i,r){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(n=a.alternate,n!==null&&er(n,a,r,!0),a=cs.current,a!==null){switch(a.tag){case 31:case 13:return ws===null?oc():a.alternate===null&&Je===0&&(Je=3),a.flags&=-257,a.flags|=65536,a.lanes=r,i===Qo?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([i]):n.add(i),zh(t,i,r)),!1;case 22:return a.flags|=65536,i===Qo?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([i]):a.add(i)),zh(t,i,r)),!1}throw Error(ie(435,a.tag))}return zh(t,i,r),oc(),!1}if(ke)return n=cs.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=r,i!==_d&&(t=Error(ie(422),{cause:i}),ul(vs(t,a)))):(i!==_d&&(n=Error(ie(423),{cause:i}),ul(vs(n,a))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,i=vs(i,a),r=Rd(t.stateNode,i,r),wh(t,r),Je!==4&&(Je=2)),!1;var l=Error(ie(520),{cause:i});if(l=vs(l,a),tl===null?tl=[l]:tl.push(l),Je!==4&&(Je=2),n===null)return!0;i=vs(i,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=r&-r,a.lanes|=t,t=Rd(a.stateNode,i,t),wh(a,t),!1;case 1:if(n=a.type,l=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(ra===null||!ra.has(l))))return a.flags|=65536,r&=-r,a.lanes|=r,r=mj(r),uj(r,t,a,i),wh(a,r),!1}a=a.return}while(a!==null);return!1}var Jm=Error(ie(461)),ct=!1;function St(t,n,a,i){n.child=t===null?Sg(n,null,a,i):Va(n,t.child,a,i)}function Ux(t,n,a,i,r){a=a.render;var l=n.ref;if("ref"in i){var c={};for(var h in i)h!=="ref"&&(c[h]=i[h])}else c=i;return Ka(n),i=Hm(t,n,a,c,l,r),h=Pm(),t!==null&&!ct?(Bm(t,n,r),An(t,n,r)):(ke&&h&&Mm(n),n.flags|=1,St(t,n,i,r),n.child)}function Kx(t,n,a,i,r){if(t===null){var l=a.type;return typeof l=="function"&&!Cm(l)&&l.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=l,xj(t,n,l,i,r)):(t=Ao(a.type,null,i,n,n.mode,r),t.ref=n.ref,t.return=n,n.child=t)}if(l=t.child,!eu(t,r)){var c=l.memoizedProps;if(a=a.compare,a=a!==null?a:dl,a(c,i)&&t.ref===n.ref)return An(t,n,r)}return n.flags|=1,t=Tn(l,i),t.ref=n.ref,t.return=n,n.child=t}function xj(t,n,a,i,r){if(t!==null){var l=t.memoizedProps;if(dl(l,i)&&t.ref===n.ref)if(ct=!1,n.pendingProps=i=l,eu(t,r))t.flags&131072&&(ct=!0);else return n.lanes=t.lanes,An(t,n,r)}return Ld(t,n,a,i,r)}function pj(t,n,a,i){var r=i.children,l=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(n.flags&128){if(l=l!==null?l.baseLanes|a:a,t!==null){for(i=n.child=t.child,r=0;i!==null;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~l}else i=0,n.child=null;return Vx(t,n,l,a,i)}if(a&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Eo(n,l!==null?l.cachePool:null),l!==null?zx(n,l):Md(),Ag(n);else return i=n.lanes=536870912,Vx(t,n,l!==null?l.baseLanes|a:a,a,i)}else l!==null?(Eo(n,l.cachePool),zx(n,l),Zn(),n.memoizedState=null):(t!==null&&Eo(n,null),Md(),Zn());return St(t,n,r,a),n.child}function Pr(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Vx(t,n,a,i,r){var l=Dm();return l=l===null?null:{parent:ot._currentValue,pool:l},n.memoizedState={baseLanes:a,cachePool:l},t!==null&&Eo(n,null),Md(),Ag(n),t!==null&&er(t,n,i,!0),n.childLanes=r,null}function qo(t,n){return n=ac({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Xx(t,n,a){return Va(n,t.child,null,a),t=qo(n,n.pendingProps),t.flags|=2,ts(n),n.memoizedState=null,t}function Ub(t,n,a){var i=n.pendingProps,r=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(ke){if(i.mode==="hidden")return t=qo(n,i),n.lanes=536870912,Pr(null,t);if(qd(n),(t=Be)?(t=lv(t,ys),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ua!==null?{id:Us,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},a=yg(t),a.return=n,n.child=a,At=n,Be=null)):t=null,t===null)throw xa(n);return n.lanes=536870912,null}return qo(n,i)}var l=t.memoizedState;if(l!==null){var c=l.dehydrated;if(qd(n),r)if(n.flags&256)n.flags&=-257,n=Xx(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(ie(558));else if(ct||er(t,n,a,!1),r=(a&t.childLanes)!==0,ct||r){if(i=Ie,i!==null&&(c=Kf(i,a),c!==0&&c!==l.retryLane))throw l.retryLane=c,ei(t,c),Vt(i,t,c),Jm;oc(),n=Xx(t,n,a)}else t=l.treeContext,Be=Ns(c.nextSibling),At=n,ke=!0,na=null,ys=!1,t!==null&&wg(n,t),n=qo(n,i),n.flags|=4096;return n}return t=Tn(t.child,{mode:i.mode,children:i.children}),t.ref=n.ref,n.child=t,t.return=n,t}function zo(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(ie(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Ld(t,n,a,i,r){return Ka(n),a=Hm(t,n,a,i,void 0,r),i=Pm(),t!==null&&!ct?(Bm(t,n,r),An(t,n,r)):(ke&&i&&Mm(n),n.flags|=1,St(t,n,a,r),n.child)}function Zx(t,n,a,i,r,l){return Ka(n),n.updateQueue=null,a=Cg(n,i,a,r),Eg(t),i=Pm(),t!==null&&!ct?(Bm(t,n,l),An(t,n,l)):(ke&&i&&Mm(n),n.flags|=1,St(t,n,a,l),n.child)}function Yx(t,n,a,i,r){if(Ka(n),n.stateNode===null){var l=ki,c=a.contextType;typeof c=="object"&&c!==null&&(l=Et(c)),l=new a(i,l),n.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Od,n.stateNode=l,l._reactInternals=n,l=n.stateNode,l.props=i,l.state=n.memoizedState,l.refs={},Om(n),c=a.contextType,l.context=typeof c=="object"&&c!==null?Et(c):ki,l.state=n.memoizedState,c=a.getDerivedStateFromProps,typeof c=="function"&&(Th(n,a,c,i),l.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(c=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),c!==l.state&&Od.enqueueReplaceState(l,l.state,null),Wr(n,i,l,r),Yr(),l.state=n.memoizedState),typeof l.componentDidMount=="function"&&(n.flags|=4194308),i=!0}else if(t===null){l=n.stateNode;var h=n.memoizedProps,d=Za(a,h);l.props=d;var u=l.context,p=a.contextType;c=ki,typeof p=="object"&&p!==null&&(c=Et(p));var j=a.getDerivedStateFromProps;p=typeof j=="function"||typeof l.getSnapshotBeforeUpdate=="function",h=n.pendingProps!==h,p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(h||u!==c)&&Bx(n,l,i,c),Kn=!1;var f=n.memoizedState;l.state=f,Wr(n,i,l,r),Yr(),u=n.memoizedState,h||f!==u||Kn?(typeof j=="function"&&(Th(n,a,j,i),u=n.memoizedState),(d=Kn||Px(n,a,d,i,f,u,c))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(n.flags|=4194308)):(typeof l.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=u),l.props=i,l.state=u,l.context=c,i=d):(typeof l.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{l=n.stateNode,Ed(t,n),c=n.memoizedProps,p=Za(a,c),l.props=p,j=n.pendingProps,f=l.context,u=a.contextType,d=ki,typeof u=="object"&&u!==null&&(d=Et(u)),h=a.getDerivedStateFromProps,(u=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==j||f!==d)&&Bx(n,l,i,d),Kn=!1,f=n.memoizedState,l.state=f,Wr(n,i,l,r),Yr();var N=n.memoizedState;c!==j||f!==N||Kn||t!==null&&t.dependencies!==null&&Wo(t.dependencies)?(typeof h=="function"&&(Th(n,a,h,i),N=n.memoizedState),(p=Kn||Px(n,a,p,i,f,N,d)||t!==null&&t.dependencies!==null&&Wo(t.dependencies))?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,N,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,N,d)),typeof l.componentDidUpdate=="function"&&(n.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(n.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=N),l.props=i,l.state=N,l.context=d,i=p):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(n.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&f===t.memoizedState||(n.flags|=1024),i=!1)}return l=i,zo(t,n),i=(n.flags&128)!==0,l||i?(l=n.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:l.render(),n.flags|=1,t!==null&&i?(n.child=Va(n,t.child,null,r),n.child=Va(n,null,a,r)):St(t,n,a,r),n.memoizedState=l.state,t=n.child):t=An(t,n,r),t}function Wx(t,n,a,i){return Ua(),n.flags|=256,St(t,n,a,i),n.child}var kh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _h(t){return{baseLanes:t,cachePool:Tg()}}function Sh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=ns),t}function fj(t,n,a){var i=n.pendingProps,r=!1,l=(n.flags&128)!==0,c;if((c=l)||(c=t!==null&&t.memoizedState===null?!1:(at.current&2)!==0),c&&(r=!0,n.flags&=-129),c=(n.flags&32)!==0,n.flags&=-33,t===null){if(ke){if(r?Xn(n):Zn(),(t=Be)?(t=lv(t,ys),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:ua!==null?{id:Us,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},a=yg(t),a.return=n,n.child=a,At=n,Be=null)):t=null,t===null)throw xa(n);return em(t)?n.lanes=32:n.lanes=536870912,null}var h=i.children;return i=i.fallback,r?(Zn(),r=n.mode,h=ac({mode:"hidden",children:h},r),i=Ha(i,r,a,null),h.return=n,i.return=n,h.sibling=i,n.child=h,i=n.child,i.memoizedState=_h(a),i.childLanes=Sh(t,c,a),n.memoizedState=kh,Pr(null,i)):(Xn(n),Hd(n,h))}var d=t.memoizedState;if(d!==null&&(h=d.dehydrated,h!==null)){if(l)n.flags&256?(Xn(n),n.flags&=-257,n=$h(t,n,a)):n.memoizedState!==null?(Zn(),n.child=t.child,n.flags|=128,n=null):(Zn(),h=i.fallback,r=n.mode,i=ac({mode:"visible",children:i.children},r),h=Ha(h,r,a,null),h.flags|=2,i.return=n,h.return=n,i.sibling=h,n.child=i,Va(n,t.child,null,a),i=n.child,i.memoizedState=_h(a),i.childLanes=Sh(t,c,a),n.memoizedState=kh,n=Pr(null,i));else if(Xn(n),em(h)){if(c=h.nextSibling&&h.nextSibling.dataset,c)var u=c.dgst;c=u,i=Error(ie(419)),i.stack="",i.digest=c,ul({value:i,source:null,stack:null}),n=$h(t,n,a)}else if(ct||er(t,n,a,!1),c=(a&t.childLanes)!==0,ct||c){if(c=Ie,c!==null&&(i=Kf(c,a),i!==0&&i!==d.retryLane))throw d.retryLane=i,ei(t,i),Vt(c,t,i),Jm;Jd(h)||oc(),n=$h(t,n,a)}else Jd(h)?(n.flags|=192,n.child=t.child,n=null):(t=d.treeContext,Be=Ns(h.nextSibling),At=n,ke=!0,na=null,ys=!1,t!==null&&wg(n,t),n=Hd(n,i.children),n.flags|=4096);return n}return r?(Zn(),h=i.fallback,r=n.mode,d=t.child,u=d.sibling,i=Tn(d,{mode:"hidden",children:i.children}),i.subtreeFlags=d.subtreeFlags&65011712,u!==null?h=Tn(u,h):(h=Ha(h,r,a,null),h.flags|=2),h.return=n,i.return=n,i.sibling=h,n.child=i,Pr(null,i),i=n.child,h=t.child.memoizedState,h===null?h=_h(a):(r=h.cachePool,r!==null?(d=ot._currentValue,r=r.parent!==d?{parent:d,pool:d}:r):r=Tg(),h={baseLanes:h.baseLanes|a,cachePool:r}),i.memoizedState=h,i.childLanes=Sh(t,c,a),n.memoizedState=kh,Pr(t.child,i)):(Xn(n),a=t.child,t=a.sibling,a=Tn(a,{mode:"visible",children:i.children}),a.return=n,a.sibling=null,t!==null&&(c=n.deletions,c===null?(n.deletions=[t],n.flags|=16):c.push(t)),n.child=a,n.memoizedState=null,a)}function Hd(t,n){return n=ac({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function ac(t,n){return t=ss(22,t,null,n),t.lanes=0,t}function $h(t,n,a){return Va(n,t.child,null,a),t=Hd(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Qx(t,n,a){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n),$d(t.return,n,a)}function Gh(t,n,a,i,r,l){var c=t.memoizedState;c===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:r,treeForkCount:l}:(c.isBackwards=n,c.rendering=null,c.renderingStartTime=0,c.last=i,c.tail=a,c.tailMode=r,c.treeForkCount=l)}function gj(t,n,a){var i=n.pendingProps,r=i.revealOrder,l=i.tail;i=i.children;var c=at.current,h=(c&2)!==0;if(h?(c=c&1|2,n.flags|=128):c&=1,Le(at,c),St(t,n,i,a),i=ke?ml:0,!h&&t!==null&&t.flags&128)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qx(t,a,n);else if(t.tag===19)Qx(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(a=n.child,r=null;a!==null;)t=a.alternate,t!==null&&ec(t)===null&&(r=a),a=a.sibling;a=r,a===null?(r=n.child,n.child=null):(r=a.sibling,a.sibling=null),Gh(n,!1,r,a,l,i);break;case"backwards":case"unstable_legacy-backwards":for(a=null,r=n.child,n.child=null;r!==null;){if(t=r.alternate,t!==null&&ec(t)===null){n.child=r;break}t=r.sibling,r.sibling=a,a=r,r=t}Gh(n,!0,a,null,l,i);break;case"together":Gh(n,!1,null,null,void 0,i);break;default:n.memoizedState=null}return n.child}function An(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),fa|=n.lanes,!(a&n.childLanes))if(t!==null){if(er(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(ie(153));if(n.child!==null){for(t=n.child,a=Tn(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Tn(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function eu(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&Wo(t)))}function Kb(t,n,a){switch(n.tag){case 3:Fo(n,n.stateNode.containerInfo),Vn(n,ot,t.memoizedState.cache),Ua();break;case 27:case 5:pd(n);break;case 4:Fo(n,n.stateNode.containerInfo);break;case 10:Vn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,qd(n),null;break;case 13:var i=n.memoizedState;if(i!==null)return i.dehydrated!==null?(Xn(n),n.flags|=128,null):a&n.child.childLanes?fj(t,n,a):(Xn(n),t=An(t,n,a),t!==null?t.sibling:null);Xn(n);break;case 19:var r=(t.flags&128)!==0;if(i=(a&n.childLanes)!==0,i||(er(t,n,a,!1),i=(a&n.childLanes)!==0),r){if(i)return gj(t,n,a);n.flags|=128}if(r=n.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Le(at,at.current),i)break;return null;case 22:return n.lanes=0,pj(t,n,a,n.pendingProps);case 24:Vn(n,ot,t.memoizedState.cache)}return An(t,n,a)}function jj(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)ct=!0;else{if(!eu(t,a)&&!(n.flags&128))return ct=!1,Kb(t,n,a);ct=!!(t.flags&131072)}else ct=!1,ke&&n.flags&1048576&&bg(n,ml,n.index);switch(n.lanes=0,n.tag){case 16:e:{var i=n.pendingProps;if(t=Oa(n.elementType),n.type=t,typeof t=="function")Cm(t)?(i=Za(t,i),n.tag=1,n=Yx(null,n,t,i,a)):(n.tag=0,n=Ld(null,n,t,i,a));else{if(t!=null){var r=t.$$typeof;if(r===jm){n.tag=11,n=Ux(null,n,t,i,a);break e}else if(r===vm){n.tag=14,n=Kx(null,n,t,i,a);break e}}throw n=ud(t)||t,Error(ie(306,n,""))}}return n;case 0:return Ld(t,n,n.type,n.pendingProps,a);case 1:return i=n.type,r=Za(i,n.pendingProps),Yx(t,n,i,r,a);case 3:e:{if(Fo(n,n.stateNode.containerInfo),t===null)throw Error(ie(387));i=n.pendingProps;var l=n.memoizedState;r=l.element,Ed(t,n),Wr(n,i,null,a);var c=n.memoizedState;if(i=c.cache,Vn(n,ot,i),i!==l.cache&&Gd(n,[ot],a,!0),Yr(),i=c.element,l.isDehydrated)if(l={element:i,isDehydrated:!1,cache:c.cache},n.updateQueue.baseState=l,n.memoizedState=l,n.flags&256){n=Wx(t,n,i,a);break e}else if(i!==r){r=vs(Error(ie(424)),n),ul(r),n=Wx(t,n,i,a);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Be=Ns(t.firstChild),At=n,ke=!0,na=null,ys=!0,a=Sg(n,null,i,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ua(),i===r){n=An(t,n,a);break e}St(t,n,i,a)}n=n.child}return n;case 26:return zo(t,n),t===null?(a=jp(n.type,null,n.pendingProps,null))?n.memoizedState=a:ke||(a=n.type,t=n.pendingProps,i=mc(sa.current).createElement(a),i[Gt]=n,i[Xt]=t,Ct(i,a,t),bt(i),n.stateNode=i):n.memoizedState=jp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return pd(n),t===null&&ke&&(i=n.stateNode=ov(n.type,n.pendingProps,sa.current),At=n,ys=!0,r=Be,ya(n.type)?(tm=r,Be=Ns(i.firstChild)):Be=r),St(t,n,n.pendingProps.children,a),zo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&ke&&((r=i=Be)&&(i=w2(i,n.type,n.pendingProps,ys),i!==null?(n.stateNode=i,At=n,Be=Ns(i.firstChild),ys=!1,r=!0):r=!1),r||xa(n)),pd(n),r=n.type,l=n.pendingProps,c=t!==null?t.memoizedProps:null,i=l.children,Wd(r,l)?i=null:c!==null&&Wd(r,c)&&(n.flags|=32),n.memoizedState!==null&&(r=Hm(t,n,Ib,null,null,a),vl._currentValue=r),zo(t,n),St(t,n,i,a),n.child;case 6:return t===null&&ke&&((t=a=Be)&&(a=N2(a,n.pendingProps,ys),a!==null?(n.stateNode=a,At=n,Be=null,t=!0):t=!1),t||xa(n)),null;case 13:return fj(t,n,a);case 4:return Fo(n,n.stateNode.containerInfo),i=n.pendingProps,t===null?n.child=Va(n,null,i,a):St(t,n,i,a),n.child;case 11:return Ux(t,n,n.type,n.pendingProps,a);case 7:return St(t,n,n.pendingProps,a),n.child;case 8:return St(t,n,n.pendingProps.children,a),n.child;case 12:return St(t,n,n.pendingProps.children,a),n.child;case 10:return i=n.pendingProps,Vn(n,n.type,i.value),St(t,n,i.children,a),n.child;case 9:return r=n.type._context,i=n.pendingProps.children,Ka(n),r=Et(r),i=i(r),n.flags|=1,St(t,n,i,a),n.child;case 14:return Kx(t,n,n.type,n.pendingProps,a);case 15:return xj(t,n,n.type,n.pendingProps,a);case 19:return gj(t,n,a);case 31:return Ub(t,n,a);case 22:return pj(t,n,a,n.pendingProps);case 24:return Ka(n),i=Et(ot),t===null?(r=Dm(),r===null&&(r=Ie,l=zm(),r.pooledCache=l,l.refCount++,l!==null&&(r.pooledCacheLanes|=a),r=l),n.memoizedState={parent:i,cache:r},Om(n),Vn(n,ot,r)):(t.lanes&a&&(Ed(t,n),Wr(n,null,null,a),Yr()),r=t.memoizedState,l=n.memoizedState,r.parent!==i?(r={parent:i,cache:i},n.memoizedState=r,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=r),Vn(n,ot,i)):(i=l.cache,Vn(n,ot,i),i!==r.cache&&Gd(n,[ot],a,!0))),St(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(ie(156,n.tag))}function hn(t){t.flags|=4}function Ah(t,n,a,i,r){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(Pj())t.flags|=8192;else throw Ba=Qo,Im}else t.flags&=-16777217}function Jx(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!dv(n))if(Pj())t.flags|=8192;else throw Ba=Qo,Im}function co(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Bf():536870912,t.lanes|=n,Ui|=n)}function Ar(t,n){if(!ke)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Pe(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,i=0;if(n)for(var r=t.child;r!==null;)a|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)a|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=a,n}function Vb(t,n,a){var i=n.pendingProps;switch(qm(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(n),null;case 1:return Pe(n),null;case 3:return a=n.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),kn(ot),Ri(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(mi(n)?hn(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,bh())),Pe(n),null;case 26:var r=n.type,l=n.memoizedState;return t===null?(hn(n),l!==null?(Pe(n),Jx(n,l)):(Pe(n),Ah(n,r,null,i,a))):l?l!==t.memoizedState?(hn(n),Pe(n),Jx(n,l)):(Pe(n),n.flags&=-16777217):(t=t.memoizedProps,t!==i&&hn(n),Pe(n),Ah(n,r,t,i,a)),null;case 27:if(Uo(n),a=sa.current,r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==i&&hn(n);else{if(!i){if(n.stateNode===null)throw Error(ie(166));return Pe(n),null}t=Xs.current,mi(n)?$x(n):(t=ov(r,i,a),n.stateNode=t,hn(n))}return Pe(n),null;case 5:if(Uo(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==i&&hn(n);else{if(!i){if(n.stateNode===null)throw Error(ie(166));return Pe(n),null}if(l=Xs.current,mi(n))$x(n);else{var c=mc(sa.current);switch(l){case 1:l=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:l=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":l=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":l=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":l=c.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof i.is=="string"?c.createElement("select",{is:i.is}):c.createElement("select"),i.multiple?l.multiple=!0:i.size&&(l.size=i.size);break;default:l=typeof i.is=="string"?c.createElement(r,{is:i.is}):c.createElement(r)}}l[Gt]=n,l[Xt]=i;e:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)l.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break e;for(;c.sibling===null;){if(c.return===null||c.return===n)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=l;e:switch(Ct(l,r,i),r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&hn(n)}}return Pe(n),Ah(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==i&&hn(n);else{if(typeof i!="string"&&n.stateNode===null)throw Error(ie(166));if(t=sa.current,mi(n)){if(t=n.stateNode,a=n.memoizedProps,i=null,r=At,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}t[Gt]=n,t=!!(t.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||av(t.nodeValue,a)),t||xa(n,!0)}else t=mc(t).createTextNode(i),t[Gt]=n,n.stateNode=t}return Pe(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(i=mi(n),a!==null){if(t===null){if(!i)throw Error(ie(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ie(557));t[Gt]=n}else Ua(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Pe(n),t=!1}else a=bh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(ts(n),n):(ts(n),null);if(n.flags&128)throw Error(ie(558))}return Pe(n),null;case 13:if(i=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=mi(n),i!==null&&i.dehydrated!==null){if(t===null){if(!r)throw Error(ie(318));if(r=n.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(ie(317));r[Gt]=n}else Ua(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Pe(n),r=!1}else r=bh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return n.flags&256?(ts(n),n):(ts(n),null)}return ts(n),n.flags&128?(n.lanes=a,n):(a=i!==null,t=t!==null&&t.memoizedState!==null,a&&(i=n.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==r&&(i.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),co(n,n.updateQueue),Pe(n),null);case 4:return Ri(),t===null&&lu(n.stateNode.containerInfo),Pe(n),null;case 10:return kn(n.type),Pe(n),null;case 19:if(Nt(at),i=n.memoizedState,i===null)return Pe(n),null;if(r=(n.flags&128)!==0,l=i.rendering,l===null)if(r)Ar(i,!1);else{if(Je!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(l=ec(t),l!==null){for(n.flags|=128,Ar(i,!1),t=l.updateQueue,n.updateQueue=t,co(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)vg(a,t),a=a.sibling;return Le(at,at.current&1|2),ke&&gn(n,i.treeForkCount),n.child}t=t.sibling}i.tail!==null&&as()>rc&&(n.flags|=128,r=!0,Ar(i,!1),n.lanes=4194304)}else{if(!r)if(t=ec(l),t!==null){if(n.flags|=128,r=!0,t=t.updateQueue,n.updateQueue=t,co(n,t),Ar(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ke)return Pe(n),null}else 2*as()-i.renderingStartTime>rc&&a!==536870912&&(n.flags|=128,r=!0,Ar(i,!1),n.lanes=4194304);i.isBackwards?(l.sibling=n.child,n.child=l):(t=i.last,t!==null?t.sibling=l:n.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=as(),t.sibling=null,a=at.current,Le(at,r?a&1|2:a&1),ke&&gn(n,i.treeForkCount),t):(Pe(n),null);case 22:case 23:return ts(n),Rm(),i=n.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(n.flags|=8192):i&&(n.flags|=8192),i?a&536870912&&!(n.flags&128)&&(Pe(n),n.subtreeFlags&6&&(n.flags|=8192)):Pe(n),a=n.updateQueue,a!==null&&co(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048),t!==null&&Nt(Pa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),kn(ot),Pe(n),null;case 25:return null;case 30:return null}throw Error(ie(156,n.tag))}function Xb(t,n){switch(qm(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return kn(ot),Ri(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Uo(n),null;case 31:if(n.memoizedState!==null){if(ts(n),n.alternate===null)throw Error(ie(340));Ua()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(ts(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(ie(340));Ua()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return Nt(at),null;case 4:return Ri(),null;case 10:return kn(n.type),null;case 22:case 23:return ts(n),Rm(),t!==null&&Nt(Pa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return kn(ot),null;case 25:return null;default:return null}}function vj(t,n){switch(qm(n),n.tag){case 3:kn(ot),Ri();break;case 26:case 27:case 5:Uo(n);break;case 4:Ri();break;case 31:n.memoizedState!==null&&ts(n);break;case 13:ts(n);break;case 19:Nt(at);break;case 10:kn(n.type);break;case 22:case 23:ts(n),Rm(),t!==null&&Nt(Pa);break;case 24:kn(ot)}}function ql(t,n){try{var a=n.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var r=i.next;a=r;do{if((a.tag&t)===t){i=void 0;var l=a.create,c=a.inst;i=l(),c.destroy=i}a=a.next}while(a!==r)}}catch(h){Ee(n,n.return,h)}}function pa(t,n,a){try{var i=n.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var l=r.next;i=l;do{if((i.tag&t)===t){var c=i.inst,h=c.destroy;if(h!==void 0){c.destroy=void 0,r=n;var d=a,u=h;try{u()}catch(p){Ee(r,d,p)}}}i=i.next}while(i!==l)}}catch(p){Ee(n,n.return,p)}}function yj(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Gg(n,a)}catch(i){Ee(t,t.return,i)}}}function bj(t,n,a){a.props=Za(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(i){Ee(t,n,i)}}function Jr(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof a=="function"?t.refCleanup=a(i):a.current=i}}catch(r){Ee(t,n,r)}}function Vs(t,n){var a=t.ref,i=t.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(r){Ee(t,n,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(r){Ee(t,n,r)}else a.current=null}function wj(t){var n=t.type,a=t.memoizedProps,i=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(r){Ee(t,t.return,r)}}function Eh(t,n,a){try{var i=t.stateNode;f2(i,t.type,a,n),i[Xt]=n}catch(r){Ee(t,t.return,r)}}function Nj(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ya(t.type)||t.tag===4}function Ch(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Nj(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ya(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Pd(t,n,a){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=yn));else if(i!==4&&(i===27&&ya(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Pd(t,n,a),t=t.sibling;t!==null;)Pd(t,n,a),t=t.sibling}function ic(t,n,a){var i=t.tag;if(i===5||i===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(i!==4&&(i===27&&ya(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ic(t,n,a),t=t.sibling;t!==null;)ic(t,n,a),t=t.sibling}function Tj(t){var n=t.stateNode,a=t.memoizedProps;try{for(var i=t.type,r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Ct(n,i,a),n[Gt]=t,n[Xt]=a}catch(l){Ee(t,t.return,l)}}var jn=!1,lt=!1,Mh=!1,ep=typeof WeakSet=="function"?WeakSet:Set,yt=null;function Zb(t,n){if(t=t.containerInfo,Zd=fc,t=dg(t),Gm(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var r=i.anchorOffset,l=i.focusNode;i=i.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var c=0,h=-1,d=-1,u=0,p=0,j=t,f=null;t:for(;;){for(var N;j!==a||r!==0&&j.nodeType!==3||(h=c+r),j!==l||i!==0&&j.nodeType!==3||(d=c+i),j.nodeType===3&&(c+=j.nodeValue.length),(N=j.firstChild)!==null;)f=j,j=N;for(;;){if(j===t)break t;if(f===a&&++u===r&&(h=c),f===l&&++p===i&&(d=c),(N=j.nextSibling)!==null)break;j=f,f=j.parentNode}j=N}a=h===-1||d===-1?null:{start:h,end:d}}else a=null}a=a||{start:0,end:0}}else a=null;for(Yd={focusedElem:t,selectionRange:a},fc=!1,yt=n;yt!==null;)if(n=yt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,yt=t;else for(;yt!==null;){switch(n=yt,l=n.alternate,t=n.flags,n.tag){case 0:if(t&4&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)r=t[a],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&l!==null){t=void 0,a=n,r=l.memoizedProps,l=l.memoizedState,i=a.stateNode;try{var O=Za(a.type,r);t=i.getSnapshotBeforeUpdate(O,l),i.__reactInternalSnapshotBeforeUpdate=t}catch(P){Ee(a,a.return,P)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Qd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(ie(163))}if(t=n.sibling,t!==null){t.return=n.return,yt=t;break}yt=n.return}}function kj(t,n,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:mn(t,a),i&4&&ql(5,a);break;case 1:if(mn(t,a),i&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(c){Ee(a,a.return,c)}else{var r=Za(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(r,n,t.__reactInternalSnapshotBeforeUpdate)}catch(c){Ee(a,a.return,c)}}i&64&&yj(a),i&512&&Jr(a,a.return);break;case 3:if(mn(t,a),i&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Gg(t,n)}catch(c){Ee(a,a.return,c)}}break;case 27:n===null&&i&4&&Tj(a);case 26:case 5:mn(t,a),n===null&&i&4&&wj(a),i&512&&Jr(a,a.return);break;case 12:mn(t,a);break;case 31:mn(t,a),i&4&&$j(t,a);break;case 13:mn(t,a),i&4&&Gj(t,a),i&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=a2.bind(null,a),T2(t,a))));break;case 22:if(i=a.memoizedState!==null||jn,!i){n=n!==null&&n.memoizedState!==null||lt,r=jn;var l=lt;jn=i,(lt=n)&&!l?pn(t,a,(a.subtreeFlags&8772)!==0):mn(t,a),jn=r,lt=l}break;case 30:break;default:mn(t,a)}}function _j(t){var n=t.alternate;n!==null&&(t.alternate=null,_j(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Nm(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ke=null,Ut=!1;function dn(t,n,a){for(a=a.child;a!==null;)Sj(t,n,a),a=a.sibling}function Sj(t,n,a){if(is&&typeof is.onCommitFiberUnmount=="function")try{is.onCommitFiberUnmount(Sl,a)}catch{}switch(a.tag){case 26:lt||Vs(a,n),dn(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:lt||Vs(a,n);var i=Ke,r=Ut;ya(a.type)&&(Ke=a.stateNode,Ut=!1),dn(t,n,a),nl(a.stateNode),Ke=i,Ut=r;break;case 5:lt||Vs(a,n);case 6:if(i=Ke,r=Ut,Ke=null,dn(t,n,a),Ke=i,Ut=r,Ke!==null)if(Ut)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(a.stateNode)}catch(l){Ee(a,n,l)}else try{Ke.removeChild(a.stateNode)}catch(l){Ee(a,n,l)}break;case 18:Ke!==null&&(Ut?(t=Ke,up(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Zi(t)):up(Ke,a.stateNode));break;case 4:i=Ke,r=Ut,Ke=a.stateNode.containerInfo,Ut=!0,dn(t,n,a),Ke=i,Ut=r;break;case 0:case 11:case 14:case 15:pa(2,a,n),lt||pa(4,a,n),dn(t,n,a);break;case 1:lt||(Vs(a,n),i=a.stateNode,typeof i.componentWillUnmount=="function"&&bj(a,n,i)),dn(t,n,a);break;case 21:dn(t,n,a);break;case 22:lt=(i=lt)||a.memoizedState!==null,dn(t,n,a),lt=i;break;default:dn(t,n,a)}}function $j(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Zi(t)}catch(a){Ee(n,n.return,a)}}}function Gj(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Zi(t)}catch(a){Ee(n,n.return,a)}}function Yb(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new ep),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new ep),n;default:throw Error(ie(435,t.tag))}}function ho(t,n){var a=Yb(t);n.forEach(function(i){if(!a.has(i)){a.add(i);var r=i2.bind(null,t,i);i.then(r,r)}})}function Bt(t,n){var a=n.deletions;if(a!==null)for(var i=0;i<a.length;i++){var r=a[i],l=t,c=n,h=c;e:for(;h!==null;){switch(h.tag){case 27:if(ya(h.type)){Ke=h.stateNode,Ut=!1;break e}break;case 5:Ke=h.stateNode,Ut=!1;break e;case 3:case 4:Ke=h.stateNode.containerInfo,Ut=!0;break e}h=h.return}if(Ke===null)throw Error(ie(160));Sj(l,c,r),Ke=null,Ut=!1,l=r.alternate,l!==null&&(l.return=null),r.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Aj(n,t),n=n.sibling}var qs=null;function Aj(t,n){var a=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Bt(n,t),Ft(t),i&4&&(pa(3,t,t.return),ql(3,t),pa(5,t,t.return));break;case 1:Bt(n,t),Ft(t),i&512&&(lt||a===null||Vs(a,a.return)),i&64&&jn&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var r=qs;if(Bt(n,t),Ft(t),i&512&&(lt||a===null||Vs(a,a.return)),i&4){var l=a!==null?a.memoizedState:null;if(i=t.memoizedState,a===null)if(i===null)if(t.stateNode===null){e:{i=t.type,a=t.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":l=r.getElementsByTagName("title")[0],(!l||l[Al]||l[Gt]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=r.createElement(i),r.head.insertBefore(l,r.querySelector("head > title"))),Ct(l,i,a),l[Gt]=t,bt(l),i=l;break e;case"link":var c=yp("link","href",r).get(i+(a.href||""));if(c){for(var h=0;h<c.length;h++)if(l=c[h],l.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&l.getAttribute("rel")===(a.rel==null?null:a.rel)&&l.getAttribute("title")===(a.title==null?null:a.title)&&l.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){c.splice(h,1);break t}}l=r.createElement(i),Ct(l,i,a),r.head.appendChild(l);break;case"meta":if(c=yp("meta","content",r).get(i+(a.content||""))){for(h=0;h<c.length;h++)if(l=c[h],l.getAttribute("content")===(a.content==null?null:""+a.content)&&l.getAttribute("name")===(a.name==null?null:a.name)&&l.getAttribute("property")===(a.property==null?null:a.property)&&l.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&l.getAttribute("charset")===(a.charSet==null?null:a.charSet)){c.splice(h,1);break t}}l=r.createElement(i),Ct(l,i,a),r.head.appendChild(l);break;default:throw Error(ie(468,i))}l[Gt]=t,bt(l),i=l}t.stateNode=i}else bp(r,t.type,t.stateNode);else t.stateNode=vp(r,i,t.memoizedProps);else l!==i?(l===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):l.count--,i===null?bp(r,t.type,t.stateNode):vp(r,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Eh(t,t.memoizedProps,a.memoizedProps)}break;case 27:Bt(n,t),Ft(t),i&512&&(lt||a===null||Vs(a,a.return)),a!==null&&i&4&&Eh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Bt(n,t),Ft(t),i&512&&(lt||a===null||Vs(a,a.return)),t.flags&32){r=t.stateNode;try{Hi(r,"")}catch(O){Ee(t,t.return,O)}}i&4&&t.stateNode!=null&&(r=t.memoizedProps,Eh(t,r,a!==null?a.memoizedProps:r)),i&1024&&(Mh=!0);break;case 6:if(Bt(n,t),Ft(t),i&4){if(t.stateNode===null)throw Error(ie(162));i=t.memoizedProps,a=t.stateNode;try{a.nodeValue=i}catch(O){Ee(t,t.return,O)}}break;case 3:if(Oo=null,r=qs,qs=uc(n.containerInfo),Bt(n,t),qs=r,Ft(t),i&4&&a!==null&&a.memoizedState.isDehydrated)try{Zi(n.containerInfo)}catch(O){Ee(t,t.return,O)}Mh&&(Mh=!1,Ej(t));break;case 4:i=qs,qs=uc(t.stateNode.containerInfo),Bt(n,t),Ft(t),qs=i;break;case 12:Bt(n,t),Ft(t);break;case 31:Bt(n,t),Ft(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,ho(t,i)));break;case 13:Bt(n,t),Ft(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Lc=as()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,ho(t,i)));break;case 22:r=t.memoizedState!==null;var d=a!==null&&a.memoizedState!==null,u=jn,p=lt;if(jn=u||r,lt=p||d,Bt(n,t),lt=p,jn=u,Ft(t),i&8192)e:for(n=t.stateNode,n._visibility=r?n._visibility&-2:n._visibility|1,r&&(a===null||d||jn||lt||Ra(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){d=a=n;try{if(l=d.stateNode,r)c=l.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{h=d.stateNode;var j=d.memoizedProps.style,f=j!=null&&j.hasOwnProperty("display")?j.display:null;h.style.display=f==null||typeof f=="boolean"?"":(""+f).trim()}}catch(O){Ee(d,d.return,O)}}}else if(n.tag===6){if(a===null){d=n;try{d.stateNode.nodeValue=r?"":d.memoizedProps}catch(O){Ee(d,d.return,O)}}}else if(n.tag===18){if(a===null){d=n;try{var N=d.stateNode;r?xp(N,!0):xp(d.stateNode,!1)}catch(O){Ee(d,d.return,O)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}i&4&&(i=t.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,ho(t,a))));break;case 19:Bt(n,t),Ft(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,ho(t,i)));break;case 30:break;case 21:break;default:Bt(n,t),Ft(t)}}function Ft(t){var n=t.flags;if(n&2){try{for(var a,i=t.return;i!==null;){if(Nj(i)){a=i;break}i=i.return}if(a==null)throw Error(ie(160));switch(a.tag){case 27:var r=a.stateNode,l=Ch(t);ic(t,l,r);break;case 5:var c=a.stateNode;a.flags&32&&(Hi(c,""),a.flags&=-33);var h=Ch(t);ic(t,h,c);break;case 3:case 4:var d=a.stateNode.containerInfo,u=Ch(t);Pd(t,u,d);break;default:throw Error(ie(161))}}catch(p){Ee(t,t.return,p)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ej(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ej(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function mn(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)kj(t,n.alternate,n),n=n.sibling}function Ra(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:pa(4,n,n.return),Ra(n);break;case 1:Vs(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&bj(n,n.return,a),Ra(n);break;case 27:nl(n.stateNode);case 26:case 5:Vs(n,n.return),Ra(n);break;case 22:n.memoizedState===null&&Ra(n);break;case 30:Ra(n);break;default:Ra(n)}t=t.sibling}}function pn(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var i=n.alternate,r=t,l=n,c=l.flags;switch(l.tag){case 0:case 11:case 15:pn(r,l,a),ql(4,l);break;case 1:if(pn(r,l,a),i=l,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){Ee(i,i.return,u)}if(i=l,r=i.updateQueue,r!==null){var h=i.stateNode;try{var d=r.shared.hiddenCallbacks;if(d!==null)for(r.shared.hiddenCallbacks=null,r=0;r<d.length;r++)$g(d[r],h)}catch(u){Ee(i,i.return,u)}}a&&c&64&&yj(l),Jr(l,l.return);break;case 27:Tj(l);case 26:case 5:pn(r,l,a),a&&i===null&&c&4&&wj(l),Jr(l,l.return);break;case 12:pn(r,l,a);break;case 31:pn(r,l,a),a&&c&4&&$j(r,l);break;case 13:pn(r,l,a),a&&c&4&&Gj(r,l);break;case 22:l.memoizedState===null&&pn(r,l,a),Jr(l,l.return);break;case 30:break;default:pn(r,l,a)}n=n.sibling}}function tu(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Cl(a))}function su(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Cl(t))}function Cs(t,n,a,i){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Cj(t,n,a,i),n=n.sibling}function Cj(t,n,a,i){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Cs(t,n,a,i),r&2048&&ql(9,n);break;case 1:Cs(t,n,a,i);break;case 3:Cs(t,n,a,i),r&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Cl(t)));break;case 12:if(r&2048){Cs(t,n,a,i),t=n.stateNode;try{var l=n.memoizedProps,c=l.id,h=l.onPostCommit;typeof h=="function"&&h(c,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(d){Ee(n,n.return,d)}}else Cs(t,n,a,i);break;case 31:Cs(t,n,a,i);break;case 13:Cs(t,n,a,i);break;case 23:break;case 22:l=n.stateNode,c=n.alternate,n.memoizedState!==null?l._visibility&2?Cs(t,n,a,i):el(t,n):l._visibility&2?Cs(t,n,a,i):(l._visibility|=2,xi(t,n,a,i,(n.subtreeFlags&10256)!==0||!1)),r&2048&&tu(c,n);break;case 24:Cs(t,n,a,i),r&2048&&su(n.alternate,n);break;default:Cs(t,n,a,i)}}function xi(t,n,a,i,r){for(r=r&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var l=t,c=n,h=a,d=i,u=c.flags;switch(c.tag){case 0:case 11:case 15:xi(l,c,h,d,r),ql(8,c);break;case 23:break;case 22:var p=c.stateNode;c.memoizedState!==null?p._visibility&2?xi(l,c,h,d,r):el(l,c):(p._visibility|=2,xi(l,c,h,d,r)),r&&u&2048&&tu(c.alternate,c);break;case 24:xi(l,c,h,d,r),r&&u&2048&&su(c.alternate,c);break;default:xi(l,c,h,d,r)}n=n.sibling}}function el(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,i=n,r=i.flags;switch(i.tag){case 22:el(a,i),r&2048&&tu(i.alternate,i);break;case 24:el(a,i),r&2048&&su(i.alternate,i);break;default:el(a,i)}n=n.sibling}}var Br=8192;function ui(t,n,a){if(t.subtreeFlags&Br)for(t=t.child;t!==null;)Mj(t,n,a),t=t.sibling}function Mj(t,n,a){switch(t.tag){case 26:ui(t,n,a),t.flags&Br&&t.memoizedState!==null&&D2(a,qs,t.memoizedState,t.memoizedProps);break;case 5:ui(t,n,a);break;case 3:case 4:var i=qs;qs=uc(t.stateNode.containerInfo),ui(t,n,a),qs=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Br,Br=16777216,ui(t,n,a),Br=i):ui(t,n,a));break;default:ui(t,n,a)}}function qj(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Er(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var i=n[a];yt=i,Dj(i,t)}qj(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)zj(t),t=t.sibling}function zj(t){switch(t.tag){case 0:case 11:case 15:Er(t),t.flags&2048&&pa(9,t,t.return);break;case 3:Er(t);break;case 12:Er(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Do(t)):Er(t);break;default:Er(t)}}function Do(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var a=0;a<n.length;a++){var i=n[a];yt=i,Dj(i,t)}qj(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:pa(8,n,n.return),Do(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Do(n));break;default:Do(n)}t=t.sibling}}function Dj(t,n){for(;yt!==null;){var a=yt;switch(a.tag){case 0:case 11:case 15:pa(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Cl(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,yt=i;else e:for(a=t;yt!==null;){i=yt;var r=i.sibling,l=i.return;if(_j(i),i===a){yt=null;break e}if(r!==null){r.return=l,yt=r;break e}yt=l}}}var Wb={getCacheForType:function(t){var n=Et(ot),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return Et(ot).controller.signal}},Qb=typeof WeakMap=="function"?WeakMap:Map,$e=0,Ie=null,Ne=null,Te=0,Ae=0,Jt=null,Jn=!1,sr=!1,nu=!1,En=0,Je=0,fa=0,Fa=0,au=0,ns=0,Ui=0,tl=null,Kt=null,Bd=!1,Lc=0,Ij=0,rc=1/0,lc=null,ra=null,ut=0,la=null,Ki=null,_n=0,Fd=0,Ud=null,Oj=null,sl=0,Kd=null;function ls(){return $e&2&&Te!==0?Te&-Te:je.T!==null?ru():Vf()}function Rj(){if(ns===0)if(!(Te&536870912)||ke){var t=so;so<<=1,!(so&3932160)&&(so=262144),ns=t}else ns=536870912;return t=cs.current,t!==null&&(t.flags|=32),ns}function Vt(t,n,a){(t===Ie&&(Ae===2||Ae===9)||t.cancelPendingCommit!==null)&&(Vi(t,0),ea(t,Te,ns,!1)),Gl(t,a),(!($e&2)||t!==Ie)&&(t===Ie&&(!($e&2)&&(Fa|=a),Je===4&&ea(t,Te,ns,!1)),Ws(t))}function Lj(t,n,a){if($e&6)throw Error(ie(327));var i=!a&&(n&127)===0&&(n&t.expiredLanes)===0||$l(t,n),r=i?t2(t,n):qh(t,n,!0),l=i;do{if(r===0){sr&&!i&&ea(t,n,0,!1);break}else{if(a=t.current.alternate,l&&!Jb(a)){r=qh(t,n,!1),l=!1;continue}if(r===2){if(l=n,t.errorRecoveryDisabledLanes&l)var c=0;else c=t.pendingLanes&-536870913,c=c!==0?c:c&536870912?536870912:0;if(c!==0){n=c;e:{var h=t;r=tl;var d=h.current.memoizedState.isDehydrated;if(d&&(Vi(h,c).flags|=256),c=qh(h,c,!1),c!==2){if(nu&&!d){h.errorRecoveryDisabledLanes|=l,Fa|=l,r=4;break e}l=Kt,Kt=r,l!==null&&(Kt===null?Kt=l:Kt.push.apply(Kt,l))}r=c}if(l=!1,r!==2)continue}}if(r===1){Vi(t,0),ea(t,n,0,!0);break}e:{switch(i=t,l=r,l){case 0:case 1:throw Error(ie(345));case 4:if((n&4194048)!==n)break;case 6:ea(i,n,ns,!Jn);break e;case 2:Kt=null;break;case 3:case 5:break;default:throw Error(ie(329))}if((n&62914560)===n&&(r=Lc+300-as(),10<r)){if(ea(i,n,ns,!Jn),Gc(i,0,!0)!==0)break e;_n=n,i.timeoutHandle=rv(tp.bind(null,i,a,Kt,lc,Bd,n,ns,Fa,Ui,Jn,l,"Throttled",-0,0),r);break e}tp(i,a,Kt,lc,Bd,n,ns,Fa,Ui,Jn,l,null,-0,0)}}break}while(!0);Ws(t)}function tp(t,n,a,i,r,l,c,h,d,u,p,j,f,N){if(t.timeoutHandle=-1,j=n.subtreeFlags,j&8192||(j&16785408)===16785408){j={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:yn},Mj(n,l,j);var O=(l&62914560)===l?Lc-as():(l&4194048)===l?Ij-as():0;if(O=I2(j,O),O!==null){_n=l,t.cancelPendingCommit=O(np.bind(null,t,n,l,a,i,r,c,h,d,p,j,null,f,N)),ea(t,l,c,!u);return}}np(t,n,l,a,i,r,c,h,d)}function Jb(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var r=a[i],l=r.getSnapshot;r=r.value;try{if(!os(l(),r))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ea(t,n,a,i){n&=~au,n&=~Fa,t.suspendedLanes|=n,t.pingedLanes&=~n,i&&(t.warmLanes|=n),i=t.expirationTimes;for(var r=n;0<r;){var l=31-rs(r),c=1<<l;i[l]=-1,r&=~c}a!==0&&Ff(t,a,n)}function Hc(){return $e&6?!0:(zl(0),!1)}function iu(){if(Ne!==null){if(Ae===0)var t=Ne.return;else t=Ne,bn=ti=null,Fm(t),zi=null,xl=0,t=Ne;for(;t!==null;)vj(t.alternate,t),t=t.return;Ne=null}}function Vi(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,v2(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),_n=0,iu(),Ie=t,Ne=a=Tn(t.current,null),Te=n,Ae=0,Jt=null,Jn=!1,sr=$l(t,n),nu=!1,Ui=ns=au=Fa=fa=Je=0,Kt=tl=null,Bd=!1,n&8&&(n|=n&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=n;0<i;){var r=31-rs(i),l=1<<r;n|=t[r],i&=~l}return En=n,Mc(),a}function Hj(t,n){ye=null,je.H=fl,n===tr||n===zc?(n=Mx(),Ae=3):n===Im?(n=Mx(),Ae=4):Ae=n===Jm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Jt=n,Ne===null&&(Je=1,nc(t,vs(n,t.current)))}function Pj(){var t=cs.current;return t===null?!0:(Te&4194048)===Te?ws===null:(Te&62914560)===Te||Te&536870912?t===ws:!1}function Bj(){var t=je.H;return je.H=fl,t===null?fl:t}function Fj(){var t=je.A;return je.A=Wb,t}function oc(){Je=4,Jn||(Te&4194048)!==Te&&cs.current!==null||(sr=!0),!(fa&134217727)&&!(Fa&134217727)||Ie===null||ea(Ie,Te,ns,!1)}function qh(t,n,a){var i=$e;$e|=2;var r=Bj(),l=Fj();(Ie!==t||Te!==n)&&(lc=null,Vi(t,n)),n=!1;var c=Je;e:do try{if(Ae!==0&&Ne!==null){var h=Ne,d=Jt;switch(Ae){case 8:iu(),c=6;break e;case 3:case 2:case 9:case 6:cs.current===null&&(n=!0);var u=Ae;if(Ae=0,Jt=null,$i(t,h,d,u),a&&sr){c=0;break e}break;default:u=Ae,Ae=0,Jt=null,$i(t,h,d,u)}}e2(),c=Je;break}catch(p){Hj(t,p)}while(!0);return n&&t.shellSuspendCounter++,bn=ti=null,$e=i,je.H=r,je.A=l,Ne===null&&(Ie=null,Te=0,Mc()),c}function e2(){for(;Ne!==null;)Uj(Ne)}function t2(t,n){var a=$e;$e|=2;var i=Bj(),r=Fj();Ie!==t||Te!==n?(lc=null,rc=as()+500,Vi(t,n)):sr=$l(t,n);e:do try{if(Ae!==0&&Ne!==null){n=Ne;var l=Jt;t:switch(Ae){case 1:Ae=0,Jt=null,$i(t,n,l,1);break;case 2:case 9:if(Cx(l)){Ae=0,Jt=null,sp(n);break}n=function(){Ae!==2&&Ae!==9||Ie!==t||(Ae=7),Ws(t)},l.then(n,n);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Cx(l)?(Ae=0,Jt=null,sp(n)):(Ae=0,Jt=null,$i(t,n,l,7));break;case 5:var c=null;switch(Ne.tag){case 26:c=Ne.memoizedState;case 5:case 27:var h=Ne;if(c?dv(c):h.stateNode.complete){Ae=0,Jt=null;var d=h.sibling;if(d!==null)Ne=d;else{var u=h.return;u!==null?(Ne=u,Pc(u)):Ne=null}break t}}Ae=0,Jt=null,$i(t,n,l,5);break;case 6:Ae=0,Jt=null,$i(t,n,l,6);break;case 8:iu(),Je=6;break e;default:throw Error(ie(462))}}s2();break}catch(p){Hj(t,p)}while(!0);return bn=ti=null,je.H=i,je.A=r,$e=a,Ne!==null?0:(Ie=null,Te=0,Mc(),Je)}function s2(){for(;Ne!==null&&!k0();)Uj(Ne)}function Uj(t){var n=jj(t.alternate,t,En);t.memoizedProps=t.pendingProps,n===null?Pc(t):Ne=n}function sp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Zx(a,n,n.pendingProps,n.type,void 0,Te);break;case 11:n=Zx(a,n,n.pendingProps,n.type.render,n.ref,Te);break;case 5:Fm(n);default:vj(a,n),n=Ne=vg(n,En),n=jj(a,n,En)}t.memoizedProps=t.pendingProps,n===null?Pc(t):Ne=n}function $i(t,n,a,i){bn=ti=null,Fm(n),zi=null,xl=0;var r=n.return;try{if(Fb(t,r,n,a,Te)){Je=1,nc(t,vs(a,t.current)),Ne=null;return}}catch(l){if(r!==null)throw Ne=r,l;Je=1,nc(t,vs(a,t.current)),Ne=null;return}n.flags&32768?(ke||i===1?t=!0:sr||Te&536870912?t=!1:(Jn=t=!0,(i===2||i===9||i===3||i===6)&&(i=cs.current,i!==null&&i.tag===13&&(i.flags|=16384))),Kj(n,t)):Pc(n)}function Pc(t){var n=t;do{if(n.flags&32768){Kj(n,Jn);return}t=n.return;var a=Vb(n.alternate,n,En);if(a!==null){Ne=a;return}if(n=n.sibling,n!==null){Ne=n;return}Ne=n=t}while(n!==null);Je===0&&(Je=5)}function Kj(t,n){do{var a=Xb(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);Je=6,Ne=null}function np(t,n,a,i,r,l,c,h,d){t.cancelPendingCommit=null;do Bc();while(ut!==0);if($e&6)throw Error(ie(327));if(n!==null){if(n===t.current)throw Error(ie(177));if(l=n.lanes|n.childLanes,l|=Am,z0(t,a,l,c,h,d),t===Ie&&(Ne=Ie=null,Te=0),Ki=n,la=t,_n=a,Fd=l,Ud=r,Oj=i,n.subtreeFlags&10256||n.flags&10256?(t.callbackNode=null,t.callbackPriority=0,r2(Ko,function(){return Wj(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(n.flags&13878)!==0,n.subtreeFlags&13878||i){i=je.T,je.T=null,r=Ge.p,Ge.p=2,c=$e,$e|=4;try{Zb(t,n,a)}finally{$e=c,Ge.p=r,je.T=i}}ut=1,Vj(),Xj(),Zj()}}function Vj(){if(ut===1){ut=0;var t=la,n=Ki,a=(n.flags&13878)!==0;if(n.subtreeFlags&13878||a){a=je.T,je.T=null;var i=Ge.p;Ge.p=2;var r=$e;$e|=4;try{Aj(n,t);var l=Yd,c=dg(t.containerInfo),h=l.focusedElem,d=l.selectionRange;if(c!==h&&h&&h.ownerDocument&&hg(h.ownerDocument.documentElement,h)){if(d!==null&&Gm(h)){var u=d.start,p=d.end;if(p===void 0&&(p=u),"selectionStart"in h)h.selectionStart=u,h.selectionEnd=Math.min(p,h.value.length);else{var j=h.ownerDocument||document,f=j&&j.defaultView||window;if(f.getSelection){var N=f.getSelection(),O=h.textContent.length,P=Math.min(d.start,O),Z=d.end===void 0?P:Math.min(d.end,O);!N.extend&&P>Z&&(c=Z,Z=P,P=c);var G=kx(h,P),b=kx(h,Z);if(G&&b&&(N.rangeCount!==1||N.anchorNode!==G.node||N.anchorOffset!==G.offset||N.focusNode!==b.node||N.focusOffset!==b.offset)){var _=j.createRange();_.setStart(G.node,G.offset),N.removeAllRanges(),P>Z?(N.addRange(_),N.extend(b.node,b.offset)):(_.setEnd(b.node,b.offset),N.addRange(_))}}}}for(j=[],N=h;N=N.parentNode;)N.nodeType===1&&j.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof h.focus=="function"&&h.focus(),h=0;h<j.length;h++){var C=j[h];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}fc=!!Zd,Yd=Zd=null}finally{$e=r,Ge.p=i,je.T=a}}t.current=n,ut=2}}function Xj(){if(ut===2){ut=0;var t=la,n=Ki,a=(n.flags&8772)!==0;if(n.subtreeFlags&8772||a){a=je.T,je.T=null;var i=Ge.p;Ge.p=2;var r=$e;$e|=4;try{kj(t,n.alternate,n)}finally{$e=r,Ge.p=i,je.T=a}}ut=3}}function Zj(){if(ut===4||ut===3){ut=0,_0();var t=la,n=Ki,a=_n,i=Oj;n.subtreeFlags&10256||n.flags&10256?ut=5:(ut=0,Ki=la=null,Yj(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(ra=null),wm(a),n=n.stateNode,is&&typeof is.onCommitFiberRoot=="function")try{is.onCommitFiberRoot(Sl,n,void 0,(n.current.flags&128)===128)}catch{}if(i!==null){n=je.T,r=Ge.p,Ge.p=2,je.T=null;try{for(var l=t.onRecoverableError,c=0;c<i.length;c++){var h=i[c];l(h.value,{componentStack:h.stack})}}finally{je.T=n,Ge.p=r}}_n&3&&Bc(),Ws(t),r=t.pendingLanes,a&261930&&r&42?t===Kd?sl++:(sl=0,Kd=t):sl=0,zl(0)}}function Yj(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Cl(n)))}function Bc(){return Vj(),Xj(),Zj(),Wj()}function Wj(){if(ut!==5)return!1;var t=la,n=Fd;Fd=0;var a=wm(_n),i=je.T,r=Ge.p;try{Ge.p=32>a?32:a,je.T=null,a=Ud,Ud=null;var l=la,c=_n;if(ut=0,Ki=la=null,_n=0,$e&6)throw Error(ie(331));var h=$e;if($e|=4,zj(l.current),Cj(l,l.current,c,a),$e=h,zl(0,!1),is&&typeof is.onPostCommitFiberRoot=="function")try{is.onPostCommitFiberRoot(Sl,l)}catch{}return!0}finally{Ge.p=r,je.T=i,Yj(t,n)}}function ap(t,n,a){n=vs(a,n),n=Rd(t.stateNode,n,2),t=ia(t,n,2),t!==null&&(Gl(t,2),Ws(t))}function Ee(t,n,a){if(t.tag===3)ap(t,t,a);else for(;n!==null;){if(n.tag===3){ap(n,t,a);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ra===null||!ra.has(i))){t=vs(a,t),a=mj(2),i=ia(n,a,2),i!==null&&(uj(a,i,n,t),Gl(i,2),Ws(i));break}}n=n.return}}function zh(t,n,a){var i=t.pingCache;if(i===null){i=t.pingCache=new Qb;var r=new Set;i.set(n,r)}else r=i.get(n),r===void 0&&(r=new Set,i.set(n,r));r.has(a)||(nu=!0,r.add(a),t=n2.bind(null,t,n,a),n.then(t,t))}function n2(t,n,a){var i=t.pingCache;i!==null&&i.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ie===t&&(Te&a)===a&&(Je===4||Je===3&&(Te&62914560)===Te&&300>as()-Lc?!($e&2)&&Vi(t,0):au|=a,Ui===Te&&(Ui=0)),Ws(t)}function Qj(t,n){n===0&&(n=Bf()),t=ei(t,n),t!==null&&(Gl(t,n),Ws(t))}function a2(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Qj(t,a)}function i2(t,n){var a=0;switch(t.tag){case 31:case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(a=r.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(ie(314))}i!==null&&i.delete(n),Qj(t,a)}function r2(t,n){return ym(t,n)}var cc=null,pi=null,Vd=!1,hc=!1,Dh=!1,ta=0;function Ws(t){t!==pi&&t.next===null&&(pi===null?cc=pi=t:pi=pi.next=t),hc=!0,Vd||(Vd=!0,o2())}function zl(t,n){if(!Dh&&hc){Dh=!0;do for(var a=!1,i=cc;i!==null;){if(t!==0){var r=i.pendingLanes;if(r===0)var l=0;else{var c=i.suspendedLanes,h=i.pingedLanes;l=(1<<31-rs(42|t)+1)-1,l&=r&~(c&~h),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(a=!0,ip(i,l))}else l=Te,l=Gc(i,i===Ie?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(l&3)||$l(i,l)||(a=!0,ip(i,l));i=i.next}while(a);Dh=!1}}function l2(){Jj()}function Jj(){hc=Vd=!1;var t=0;ta!==0&&j2()&&(t=ta);for(var n=as(),a=null,i=cc;i!==null;){var r=i.next,l=ev(i,n);l===0?(i.next=null,a===null?cc=r:a.next=r,r===null&&(pi=a)):(a=i,(t!==0||l&3)&&(hc=!0)),i=r}ut!==0&&ut!==5||zl(t),ta!==0&&(ta=0)}function ev(t,n){for(var a=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,l=t.pendingLanes&-62914561;0<l;){var c=31-rs(l),h=1<<c,d=r[c];d===-1?(!(h&a)||h&i)&&(r[c]=q0(h,n)):d<=n&&(t.expiredLanes|=h),l&=~h}if(n=Ie,a=Te,a=Gc(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,a===0||t===n&&(Ae===2||Ae===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&hh(i),t.callbackNode=null,t.callbackPriority=0;if(!(a&3)||$l(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(i!==null&&hh(i),wm(a)){case 2:case 8:a=Hf;break;case 32:a=Ko;break;case 268435456:a=Pf;break;default:a=Ko}return i=tv.bind(null,t),a=ym(a,i),t.callbackPriority=n,t.callbackNode=a,n}return i!==null&&i!==null&&hh(i),t.callbackPriority=2,t.callbackNode=null,2}function tv(t,n){if(ut!==0&&ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Bc()&&t.callbackNode!==a)return null;var i=Te;return i=Gc(t,t===Ie?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(Lj(t,i,n),ev(t,as()),t.callbackNode!=null&&t.callbackNode===a?tv.bind(null,t):null)}function ip(t,n){if(Bc())return null;Lj(t,n,!0)}function o2(){y2(function(){$e&6?ym(Lf,l2):Jj()})}function ru(){if(ta===0){var t=Pi;t===0&&(t=to,to<<=1,!(to&261888)&&(to=256)),ta=t}return ta}function rp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:So(""+t)}function lp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function c2(t,n,a,i,r){if(n==="submit"&&a&&a.stateNode===r){var l=rp((r[Xt]||null).action),c=i.submitter;c&&(n=(n=c[Xt]||null)?rp(n.formAction):c.getAttribute("formAction"),n!==null&&(l=n,c=null));var h=new Ac("action","action",null,i,r);t.push({event:h,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(ta!==0){var d=c?lp(r,c):new FormData(r);Id(a,{pending:!0,data:d,method:r.method,action:l},null,d)}}else typeof l=="function"&&(h.preventDefault(),d=c?lp(r,c):new FormData(r),Id(a,{pending:!0,data:d,method:r.method,action:l},l,d))},currentTarget:r}]})}}for(var Ih=0;Ih<kd.length;Ih++){var Oh=kd[Ih],h2=Oh.toLowerCase(),d2=Oh[0].toUpperCase()+Oh.slice(1);Rs(h2,"on"+d2)}Rs(ug,"onAnimationEnd");Rs(xg,"onAnimationIteration");Rs(pg,"onAnimationStart");Rs("dblclick","onDoubleClick");Rs("focusin","onFocus");Rs("focusout","onBlur");Rs(Sb,"onTransitionRun");Rs($b,"onTransitionStart");Rs(Gb,"onTransitionCancel");Rs(fg,"onTransitionEnd");Li("onMouseEnter",["mouseout","mouseover"]);Li("onMouseLeave",["mouseout","mouseover"]);Li("onPointerEnter",["pointerout","pointerover"]);Li("onPointerLeave",["pointerout","pointerover"]);Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function sv(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var i=t[a],r=i.event;i=i.listeners;e:{var l=void 0;if(n)for(var c=i.length-1;0<=c;c--){var h=i[c],d=h.instance,u=h.currentTarget;if(h=h.listener,d!==l&&r.isPropagationStopped())break e;l=h,r.currentTarget=u;try{l(r)}catch(p){Xo(p)}r.currentTarget=null,l=d}else for(c=0;c<i.length;c++){if(h=i[c],d=h.instance,u=h.currentTarget,h=h.listener,d!==l&&r.isPropagationStopped())break e;l=h,r.currentTarget=u;try{l(r)}catch(p){Xo(p)}r.currentTarget=null,l=d}}}}function we(t,n){var a=n[gd];a===void 0&&(a=n[gd]=new Set);var i=t+"__bubble";a.has(i)||(nv(n,t,2,!1),a.add(i))}function Rh(t,n,a){var i=0;n&&(i|=4),nv(a,t,i,n)}var mo="_reactListening"+Math.random().toString(36).slice(2);function lu(t){if(!t[mo]){t[mo]=!0,Xf.forEach(function(a){a!=="selectionchange"&&(m2.has(a)||Rh(a,!1,t),Rh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[mo]||(n[mo]=!0,Rh("selectionchange",!1,n))}}function nv(t,n,a,i){switch(fv(n)){case 2:var r=L2;break;case 8:r=H2;break;default:r=du}a=r.bind(null,n,a,t),r=void 0,!wd||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(n,a,{capture:!0,passive:r}):t.addEventListener(n,a,!0):r!==void 0?t.addEventListener(n,a,{passive:r}):t.addEventListener(n,a,!1)}function Lh(t,n,a,i,r){var l=i;if(!(n&1)&&!(n&2)&&i!==null)e:for(;;){if(i===null)return;var c=i.tag;if(c===3||c===4){var h=i.stateNode.containerInfo;if(h===r)break;if(c===4)for(c=i.return;c!==null;){var d=c.tag;if((d===3||d===4)&&c.stateNode.containerInfo===r)return;c=c.return}for(;h!==null;){if(c=vi(h),c===null)return;if(d=c.tag,d===5||d===6||d===26||d===27){i=l=c;continue e}h=h.parentNode}}i=i.return}sg(function(){var u=l,p=km(a),j=[];e:{var f=gg.get(t);if(f!==void 0){var N=Ac,O=t;switch(t){case"keypress":if(Go(a)===0)break e;case"keydown":case"keyup":N=ib;break;case"focusin":O="focus",N=ph;break;case"focusout":O="blur",N=ph;break;case"beforeblur":case"afterblur":N=ph;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=px;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=V0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=ob;break;case ug:case xg:case pg:N=Y0;break;case fg:N=hb;break;case"scroll":case"scrollend":N=U0;break;case"wheel":N=mb;break;case"copy":case"cut":case"paste":N=Q0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=gx;break;case"toggle":case"beforetoggle":N=xb}var P=(n&4)!==0,Z=!P&&(t==="scroll"||t==="scrollend"),G=P?f!==null?f+"Capture":null:f;P=[];for(var b=u,_;b!==null;){var C=b;if(_=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||_===null||G===null||(C=cl(b,G),C!=null&&P.push(jl(b,C,_))),Z)break;b=b.return}0<P.length&&(f=new N(f,O,null,a,p),j.push({event:f,listeners:P}))}}if(!(n&7)){e:{if(f=t==="mouseover"||t==="pointerover",N=t==="mouseout"||t==="pointerout",f&&a!==bd&&(O=a.relatedTarget||a.fromElement)&&(vi(O)||O[Qi]))break e;if((N||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,N?(O=a.relatedTarget||a.toElement,N=u,O=O?vi(O):null,O!==null&&(Z=_l(O),P=O.tag,O!==Z||P!==5&&P!==27&&P!==6)&&(O=null)):(N=null,O=u),N!==O)){if(P=px,C="onMouseLeave",G="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(P=gx,C="onPointerLeave",G="onPointerEnter",b="pointer"),Z=N==null?f:Hr(N),_=O==null?f:Hr(O),f=new P(C,b+"leave",N,a,p),f.target=Z,f.relatedTarget=_,C=null,vi(p)===u&&(P=new P(G,b+"enter",O,a,p),P.target=_,P.relatedTarget=Z,C=P),Z=C,N&&O)t:{for(P=u2,G=N,b=O,_=0,C=G;C;C=P(C))_++;C=0;for(var Y=b;Y;Y=P(Y))C++;for(;0<_-C;)G=P(G),_--;for(;0<C-_;)b=P(b),C--;for(;_--;){if(G===b||b!==null&&G===b.alternate){P=G;break t}G=P(G),b=P(b)}P=null}else P=null;N!==null&&op(j,f,N,P,!1),O!==null&&Z!==null&&op(j,Z,O,P,!0)}}e:{if(f=u?Hr(u):window,N=f.nodeName&&f.nodeName.toLowerCase(),N==="select"||N==="input"&&f.type==="file")var se=bx;else if(yx(f))if(og)se=Tb;else{se=wb;var k=bb}else N=f.nodeName,!N||N.toLowerCase()!=="input"||f.type!=="checkbox"&&f.type!=="radio"?u&&Tm(u.elementType)&&(se=bx):se=Nb;if(se&&(se=se(t,u))){lg(j,se,a,p);break e}k&&k(t,f,u),t==="focusout"&&u&&f.type==="number"&&u.memoizedProps.value!=null&&yd(f,"number",f.value)}switch(k=u?Hr(u):window,t){case"focusin":(yx(k)||k.contentEditable==="true")&&(wi=k,Nd=u,Vr=null);break;case"focusout":Vr=Nd=wi=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,_x(j,a,p);break;case"selectionchange":if(_b)break;case"keydown":case"keyup":_x(j,a,p)}var g;if($m)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else bi?ig(t,a)&&(v="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(v="onCompositionStart");v&&(ag&&a.locale!=="ko"&&(bi||v!=="onCompositionStart"?v==="onCompositionEnd"&&bi&&(g=ng()):(Qn=p,_m="value"in Qn?Qn.value:Qn.textContent,bi=!0)),k=dc(u,v),0<k.length&&(v=new fx(v,t,null,a,p),j.push({event:v,listeners:k}),g?v.data=g:(g=rg(a),g!==null&&(v.data=g)))),(g=fb?gb(t,a):jb(t,a))&&(v=dc(u,"onBeforeInput"),0<v.length&&(k=new fx("onBeforeInput","beforeinput",null,a,p),j.push({event:k,listeners:v}),k.data=g)),c2(j,t,u,a,p)}sv(j,n)})}function jl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function dc(t,n){for(var a=n+"Capture",i=[];t!==null;){var r=t,l=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||l===null||(r=cl(t,a),r!=null&&i.unshift(jl(t,r,l)),r=cl(t,n),r!=null&&i.push(jl(t,r,l))),t.tag===3)return i;t=t.return}return[]}function u2(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function op(t,n,a,i,r){for(var l=n._reactName,c=[];a!==null&&a!==i;){var h=a,d=h.alternate,u=h.stateNode;if(h=h.tag,d!==null&&d===i)break;h!==5&&h!==26&&h!==27||u===null||(d=u,r?(u=cl(a,l),u!=null&&c.unshift(jl(a,u,d))):r||(u=cl(a,l),u!=null&&c.push(jl(a,u,d)))),a=a.return}c.length!==0&&t.push({event:n,listeners:c})}var x2=/\r\n?/g,p2=/\u0000|\uFFFD/g;function cp(t){return(typeof t=="string"?t:""+t).replace(x2,`
`).replace(p2,"")}function av(t,n){return n=cp(n),cp(t)===n}function Me(t,n,a,i,r,l){switch(a){case"children":typeof i=="string"?n==="body"||n==="textarea"&&i===""||Hi(t,i):(typeof i=="number"||typeof i=="bigint")&&n!=="body"&&Hi(t,""+i);break;case"className":ao(t,"class",i);break;case"tabIndex":ao(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":ao(t,a,i);break;case"style":tg(t,i,l);break;case"data":if(n!=="object"){ao(t,"data",i);break}case"src":case"href":if(i===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(a);break}i=So(""+i),t.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(a==="formAction"?(n!=="input"&&Me(t,n,"name",r.name,r,null),Me(t,n,"formEncType",r.formEncType,r,null),Me(t,n,"formMethod",r.formMethod,r,null),Me(t,n,"formTarget",r.formTarget,r,null)):(Me(t,n,"encType",r.encType,r,null),Me(t,n,"method",r.method,r,null),Me(t,n,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(a);break}i=So(""+i),t.setAttribute(a,i);break;case"onClick":i!=null&&(t.onclick=yn);break;case"onScroll":i!=null&&we("scroll",t);break;case"onScrollEnd":i!=null&&we("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(ie(61));if(a=i.__html,a!=null){if(r.children!=null)throw Error(ie(60));t.innerHTML=a}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}a=So(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(a,""+i):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":i===!0?t.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(a,i):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(a,i):t.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(a):t.setAttribute(a,i);break;case"popover":we("beforetoggle",t),we("toggle",t),_o(t,"popover",i);break;case"xlinkActuate":cn(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":cn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":cn(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":cn(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":cn(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":cn(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":cn(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":cn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":cn(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":_o(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=B0.get(a)||a,_o(t,a,i))}}function Xd(t,n,a,i,r,l){switch(a){case"style":tg(t,i,l);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(ie(61));if(a=i.__html,a!=null){if(r.children!=null)throw Error(ie(60));t.innerHTML=a}}break;case"children":typeof i=="string"?Hi(t,i):(typeof i=="number"||typeof i=="bigint")&&Hi(t,""+i);break;case"onScroll":i!=null&&we("scroll",t);break;case"onScrollEnd":i!=null&&we("scrollend",t);break;case"onClick":i!=null&&(t.onclick=yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(r=a.endsWith("Capture"),n=a.slice(2,r?a.length-7:void 0),l=t[Xt]||null,l=l!=null?l[a]:null,typeof l=="function"&&t.removeEventListener(n,l,r),typeof i=="function")){typeof l!="function"&&l!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,i,r);break e}a in t?t[a]=i:i===!0?t.setAttribute(a,""):_o(t,a,i)}}}function Ct(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",t),we("load",t);var i=!1,r=!1,l;for(l in a)if(a.hasOwnProperty(l)){var c=a[l];if(c!=null)switch(l){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(ie(137,n));default:Me(t,n,l,c,a,null)}}r&&Me(t,n,"srcSet",a.srcSet,a,null),i&&Me(t,n,"src",a.src,a,null);return;case"input":we("invalid",t);var h=l=c=r=null,d=null,u=null;for(i in a)if(a.hasOwnProperty(i)){var p=a[i];if(p!=null)switch(i){case"name":r=p;break;case"type":c=p;break;case"checked":d=p;break;case"defaultChecked":u=p;break;case"value":l=p;break;case"defaultValue":h=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(ie(137,n));break;default:Me(t,n,i,p,a,null)}}Qf(t,l,h,d,u,c,r,!1);return;case"select":we("invalid",t),i=c=l=null;for(r in a)if(a.hasOwnProperty(r)&&(h=a[r],h!=null))switch(r){case"value":l=h;break;case"defaultValue":c=h;break;case"multiple":i=h;default:Me(t,n,r,h,a,null)}n=l,a=c,t.multiple=!!i,n!=null?Ci(t,!!i,n,!1):a!=null&&Ci(t,!!i,a,!0);return;case"textarea":we("invalid",t),l=r=i=null;for(c in a)if(a.hasOwnProperty(c)&&(h=a[c],h!=null))switch(c){case"value":i=h;break;case"defaultValue":r=h;break;case"children":l=h;break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(ie(91));break;default:Me(t,n,c,h,a,null)}eg(t,i,r,l);return;case"option":for(d in a)if(a.hasOwnProperty(d)&&(i=a[d],i!=null))switch(d){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Me(t,n,d,i,a,null)}return;case"dialog":we("beforetoggle",t),we("toggle",t),we("cancel",t),we("close",t);break;case"iframe":case"object":we("load",t);break;case"video":case"audio":for(i=0;i<gl.length;i++)we(gl[i],t);break;case"image":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"embed":case"source":case"link":we("error",t),we("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in a)if(a.hasOwnProperty(u)&&(i=a[u],i!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(ie(137,n));default:Me(t,n,u,i,a,null)}return;default:if(Tm(n)){for(p in a)a.hasOwnProperty(p)&&(i=a[p],i!==void 0&&Xd(t,n,p,i,a,void 0));return}}for(h in a)a.hasOwnProperty(h)&&(i=a[h],i!=null&&Me(t,n,h,i,a,null))}function f2(t,n,a,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,l=null,c=null,h=null,d=null,u=null,p=null;for(N in a){var j=a[N];if(a.hasOwnProperty(N)&&j!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":d=j;default:i.hasOwnProperty(N)||Me(t,n,N,null,i,j)}}for(var f in i){var N=i[f];if(j=a[f],i.hasOwnProperty(f)&&(N!=null||j!=null))switch(f){case"type":l=N;break;case"name":r=N;break;case"checked":u=N;break;case"defaultChecked":p=N;break;case"value":c=N;break;case"defaultValue":h=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(ie(137,n));break;default:N!==j&&Me(t,n,f,N,i,j)}}vd(t,c,h,d,u,p,l,r);return;case"select":N=c=h=f=null;for(l in a)if(d=a[l],a.hasOwnProperty(l)&&d!=null)switch(l){case"value":break;case"multiple":N=d;default:i.hasOwnProperty(l)||Me(t,n,l,null,i,d)}for(r in i)if(l=i[r],d=a[r],i.hasOwnProperty(r)&&(l!=null||d!=null))switch(r){case"value":f=l;break;case"defaultValue":h=l;break;case"multiple":c=l;default:l!==d&&Me(t,n,r,l,i,d)}n=h,a=c,i=N,f!=null?Ci(t,!!a,f,!1):!!i!=!!a&&(n!=null?Ci(t,!!a,n,!0):Ci(t,!!a,a?[]:"",!1));return;case"textarea":N=f=null;for(h in a)if(r=a[h],a.hasOwnProperty(h)&&r!=null&&!i.hasOwnProperty(h))switch(h){case"value":break;case"children":break;default:Me(t,n,h,null,i,r)}for(c in i)if(r=i[c],l=a[c],i.hasOwnProperty(c)&&(r!=null||l!=null))switch(c){case"value":f=r;break;case"defaultValue":N=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(ie(91));break;default:r!==l&&Me(t,n,c,r,i,l)}Jf(t,f,N);return;case"option":for(var O in a)if(f=a[O],a.hasOwnProperty(O)&&f!=null&&!i.hasOwnProperty(O))switch(O){case"selected":t.selected=!1;break;default:Me(t,n,O,null,i,f)}for(d in i)if(f=i[d],N=a[d],i.hasOwnProperty(d)&&f!==N&&(f!=null||N!=null))switch(d){case"selected":t.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Me(t,n,d,f,i,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var P in a)f=a[P],a.hasOwnProperty(P)&&f!=null&&!i.hasOwnProperty(P)&&Me(t,n,P,null,i,f);for(u in i)if(f=i[u],N=a[u],i.hasOwnProperty(u)&&f!==N&&(f!=null||N!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(ie(137,n));break;default:Me(t,n,u,f,i,N)}return;default:if(Tm(n)){for(var Z in a)f=a[Z],a.hasOwnProperty(Z)&&f!==void 0&&!i.hasOwnProperty(Z)&&Xd(t,n,Z,void 0,i,f);for(p in i)f=i[p],N=a[p],!i.hasOwnProperty(p)||f===N||f===void 0&&N===void 0||Xd(t,n,p,f,i,N);return}}for(var G in a)f=a[G],a.hasOwnProperty(G)&&f!=null&&!i.hasOwnProperty(G)&&Me(t,n,G,null,i,f);for(j in i)f=i[j],N=a[j],!i.hasOwnProperty(j)||f===N||f==null&&N==null||Me(t,n,j,f,i,N)}function hp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function g2(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),i=0;i<a.length;i++){var r=a[i],l=r.transferSize,c=r.initiatorType,h=r.duration;if(l&&h&&hp(c)){for(c=0,h=r.responseEnd,i+=1;i<a.length;i++){var d=a[i],u=d.startTime;if(u>h)break;var p=d.transferSize,j=d.initiatorType;p&&hp(j)&&(d=d.responseEnd,c+=p*(d<h?1:(h-u)/(d-u)))}if(--i,n+=8*(l+c)/(r.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Zd=null,Yd=null;function mc(t){return t.nodeType===9?t:t.ownerDocument}function dp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Wd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Hh=null;function j2(){var t=window.event;return t&&t.type==="popstate"?t===Hh?!1:(Hh=t,!0):(Hh=null,!1)}var rv=typeof setTimeout=="function"?setTimeout:void 0,v2=typeof clearTimeout=="function"?clearTimeout:void 0,mp=typeof Promise=="function"?Promise:void 0,y2=typeof queueMicrotask=="function"?queueMicrotask:typeof mp<"u"?function(t){return mp.resolve(null).then(t).catch(b2)}:rv;function b2(t){setTimeout(function(){throw t})}function ya(t){return t==="head"}function up(t,n){var a=n,i=0;do{var r=a.nextSibling;if(t.removeChild(a),r&&r.nodeType===8)if(a=r.data,a==="/$"||a==="/&"){if(i===0){t.removeChild(r),Zi(n);return}i--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")i++;else if(a==="html")nl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,nl(a);for(var l=a.firstChild;l;){var c=l.nextSibling,h=l.nodeName;l[Al]||h==="SCRIPT"||h==="STYLE"||h==="LINK"&&l.rel.toLowerCase()==="stylesheet"||a.removeChild(l),l=c}}else a==="body"&&nl(t.ownerDocument.body);a=r}while(a);Zi(n)}function xp(t,n){var a=t;t=0;do{var i=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=i}while(a)}function Qd(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qd(a),Nm(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function w2(t,n,a,i){for(;t.nodeType===1;){var r=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[Al])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(l=t.getAttribute("rel"),l==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(l!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(l=t.getAttribute("src"),(l!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&l&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var l=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===l)return t}else return t;if(t=Ns(t.nextSibling),t===null)break}return null}function N2(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Ns(t.nextSibling),t===null))return null;return t}function lv(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ns(t.nextSibling),t===null))return null;return t}function Jd(t){return t.data==="$?"||t.data==="$~"}function em(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function T2(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var i=function(){n(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function Ns(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var tm=null;function pp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Ns(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function fp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function ov(t,n,a){switch(n=mc(a),t){case"html":if(t=n.documentElement,!t)throw Error(ie(452));return t;case"head":if(t=n.head,!t)throw Error(ie(453));return t;case"body":if(t=n.body,!t)throw Error(ie(454));return t;default:throw Error(ie(451))}}function nl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Nm(t)}var Ts=new Map,gp=new Set;function uc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Cn=Ge.d;Ge.d={f:k2,r:_2,D:S2,C:$2,L:G2,m:A2,X:C2,S:E2,M:M2};function k2(){var t=Cn.f(),n=Hc();return t||n}function _2(t){var n=Ji(t);n!==null&&n.tag===5&&n.type==="form"?tj(n):Cn.r(t)}var nr=typeof document>"u"?null:document;function cv(t,n,a){var i=nr;if(i&&typeof n=="string"&&n){var r=js(n);r='link[rel="'+t+'"][href="'+r+'"]',typeof a=="string"&&(r+='[crossorigin="'+a+'"]'),gp.has(r)||(gp.add(r),t={rel:t,crossOrigin:a,href:n},i.querySelector(r)===null&&(n=i.createElement("link"),Ct(n,"link",t),bt(n),i.head.appendChild(n)))}}function S2(t){Cn.D(t),cv("dns-prefetch",t,null)}function $2(t,n){Cn.C(t,n),cv("preconnect",t,n)}function G2(t,n,a){Cn.L(t,n,a);var i=nr;if(i&&t&&n){var r='link[rel="preload"][as="'+js(n)+'"]';n==="image"&&a&&a.imageSrcSet?(r+='[imagesrcset="'+js(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(r+='[imagesizes="'+js(a.imageSizes)+'"]')):r+='[href="'+js(t)+'"]';var l=r;switch(n){case"style":l=Xi(t);break;case"script":l=ar(t)}Ts.has(l)||(t=Fe({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Ts.set(l,t),i.querySelector(r)!==null||n==="style"&&i.querySelector(Dl(l))||n==="script"&&i.querySelector(Il(l))||(n=i.createElement("link"),Ct(n,"link",t),bt(n),i.head.appendChild(n)))}}function A2(t,n){Cn.m(t,n);var a=nr;if(a&&t){var i=n&&typeof n.as=="string"?n.as:"script",r='link[rel="modulepreload"][as="'+js(i)+'"][href="'+js(t)+'"]',l=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=ar(t)}if(!Ts.has(l)&&(t=Fe({rel:"modulepreload",href:t},n),Ts.set(l,t),a.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(l)))return}i=a.createElement("link"),Ct(i,"link",t),bt(i),a.head.appendChild(i)}}}function E2(t,n,a){Cn.S(t,n,a);var i=nr;if(i&&t){var r=Ei(i).hoistableStyles,l=Xi(t);n=n||"default";var c=r.get(l);if(!c){var h={loading:0,preload:null};if(c=i.querySelector(Dl(l)))h.loading=5;else{t=Fe({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Ts.get(l))&&ou(t,a);var d=c=i.createElement("link");bt(d),Ct(d,"link",t),d._p=new Promise(function(u,p){d.onload=u,d.onerror=p}),d.addEventListener("load",function(){h.loading|=1}),d.addEventListener("error",function(){h.loading|=2}),h.loading|=4,Io(c,n,i)}c={type:"stylesheet",instance:c,count:1,state:h},r.set(l,c)}}}function C2(t,n){Cn.X(t,n);var a=nr;if(a&&t){var i=Ei(a).hoistableScripts,r=ar(t),l=i.get(r);l||(l=a.querySelector(Il(r)),l||(t=Fe({src:t,async:!0},n),(n=Ts.get(r))&&cu(t,n),l=a.createElement("script"),bt(l),Ct(l,"link",t),a.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},i.set(r,l))}}function M2(t,n){Cn.M(t,n);var a=nr;if(a&&t){var i=Ei(a).hoistableScripts,r=ar(t),l=i.get(r);l||(l=a.querySelector(Il(r)),l||(t=Fe({src:t,async:!0,type:"module"},n),(n=Ts.get(r))&&cu(t,n),l=a.createElement("script"),bt(l),Ct(l,"link",t),a.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},i.set(r,l))}}function jp(t,n,a,i){var r=(r=sa.current)?uc(r):null;if(!r)throw Error(ie(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Xi(a.href),a=Ei(r).hoistableStyles,i=a.get(n),i||(i={type:"style",instance:null,count:0,state:null},a.set(n,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Xi(a.href);var l=Ei(r).hoistableStyles,c=l.get(t);if(c||(r=r.ownerDocument||r,c={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(t,c),(l=r.querySelector(Dl(t)))&&!l._p&&(c.instance=l,c.state.loading=5),Ts.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ts.set(t,a),l||q2(r,t,a,c.state))),n&&i===null)throw Error(ie(528,""));return c}if(n&&i!==null)throw Error(ie(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ar(a),a=Ei(r).hoistableScripts,i=a.get(n),i||(i={type:"script",instance:null,count:0,state:null},a.set(n,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(ie(444,t))}}function Xi(t){return'href="'+js(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function hv(t){return Fe({},t,{"data-precedence":t.precedence,precedence:null})}function q2(t,n,a,i){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?i.loading=1:(n=t.createElement("link"),i.preload=n,n.addEventListener("load",function(){return i.loading|=1}),n.addEventListener("error",function(){return i.loading|=2}),Ct(n,"link",a),bt(n),t.head.appendChild(n))}function ar(t){return'[src="'+js(t)+'"]'}function Il(t){return"script[async]"+t}function vp(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var i=t.querySelector('style[data-href~="'+js(a.href)+'"]');if(i)return n.instance=i,bt(i),i;var r=Fe({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),bt(i),Ct(i,"style",r),Io(i,a.precedence,t),n.instance=i;case"stylesheet":r=Xi(a.href);var l=t.querySelector(Dl(r));if(l)return n.state.loading|=4,n.instance=l,bt(l),l;i=hv(a),(r=Ts.get(r))&&ou(i,r),l=(t.ownerDocument||t).createElement("link"),bt(l);var c=l;return c._p=new Promise(function(h,d){c.onload=h,c.onerror=d}),Ct(l,"link",i),n.state.loading|=4,Io(l,a.precedence,t),n.instance=l;case"script":return l=ar(a.src),(r=t.querySelector(Il(l)))?(n.instance=r,bt(r),r):(i=a,(r=Ts.get(l))&&(i=Fe({},a),cu(i,r)),t=t.ownerDocument||t,r=t.createElement("script"),bt(r),Ct(r,"link",i),t.head.appendChild(r),n.instance=r);case"void":return null;default:throw Error(ie(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(i=n.instance,n.state.loading|=4,Io(i,a.precedence,t));return n.instance}function Io(t,n,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,l=r,c=0;c<i.length;c++){var h=i[c];if(h.dataset.precedence===n)l=h;else if(l!==r)break}l?l.parentNode.insertBefore(t,l.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function ou(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function cu(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Oo=null;function yp(t,n,a){if(Oo===null){var i=new Map,r=Oo=new Map;r.set(a,i)}else r=Oo,i=r.get(a),i||(i=new Map,r.set(a,i));if(i.has(t))return i;for(i.set(t,null),a=a.getElementsByTagName(t),r=0;r<a.length;r++){var l=a[r];if(!(l[Al]||l[Gt]||t==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var c=l.getAttribute(n)||"";c=t+c;var h=i.get(c);h?h.push(l):i.set(c,[l])}}return i}function bp(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function z2(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function dv(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function D2(t,n,a,i){if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var r=Xi(i.href),l=n.querySelector(Dl(r));if(l){n=l._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=xc.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=l,bt(l);return}l=n.ownerDocument||n,i=hv(i),(r=Ts.get(r))&&ou(i,r),l=l.createElement("link"),bt(l);var c=l;c._p=new Promise(function(h,d){c.onload=h,c.onerror=d}),Ct(l,"link",i),a.instance=l}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&!(a.state.loading&3)&&(t.count++,a=xc.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Ph=0;function I2(t,n){return t.stylesheets&&t.count===0&&Ro(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var i=setTimeout(function(){if(t.stylesheets&&Ro(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4+n);0<t.imgBytes&&Ph===0&&(Ph=62500*g2());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Ro(t,t.stylesheets),t.unsuspend)){var l=t.unsuspend;t.unsuspend=null,l()}},(t.imgBytes>Ph?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ro(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var pc=null;function Ro(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,pc=new Map,n.forEach(O2,t),pc=null,xc.call(t))}function O2(t,n){if(!(n.state.loading&4)){var a=pc.get(t);if(a)var i=a.get(null);else{a=new Map,pc.set(t,a);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<r.length;l++){var c=r[l];(c.nodeName==="LINK"||c.getAttribute("media")!=="not all")&&(a.set(c.dataset.precedence,c),i=c)}i&&a.set(null,i)}r=n.instance,c=r.getAttribute("data-precedence"),l=a.get(c)||i,l===i&&a.set(null,r),a.set(c,r),this.count++,i=xc.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),l?l.parentNode.insertBefore(r,l.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),n.state.loading|=4}}var vl={$$typeof:vn,Provider:null,Consumer:null,_currentValue:La,_currentValue2:La,_threadCount:0};function R2(t,n,a,i,r,l,c,h,d){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=dh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dh(0),this.hiddenUpdates=dh(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=l,this.onRecoverableError=c,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=d,this.incompleteTransitions=new Map}function mv(t,n,a,i,r,l,c,h,d,u,p,j){return t=new R2(t,n,a,c,d,u,p,j,h),n=1,l===!0&&(n|=24),l=ss(3,null,null,n),t.current=l,l.stateNode=t,n=zm(),n.refCount++,t.pooledCache=n,n.refCount++,l.memoizedState={element:i,isDehydrated:a,cache:n},Om(l),t}function uv(t){return t?(t=ki,t):ki}function xv(t,n,a,i,r,l){r=uv(r),i.context===null?i.context=r:i.pendingContext=r,i=aa(n),i.payload={element:a},l=l===void 0?null:l,l!==null&&(i.callback=l),a=ia(t,i,n),a!==null&&(Vt(a,t,n),Zr(a,t,n))}function wp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function hu(t,n){wp(t,n),(t=t.alternate)&&wp(t,n)}function pv(t){if(t.tag===13||t.tag===31){var n=ei(t,67108864);n!==null&&Vt(n,t,67108864),hu(t,67108864)}}function Np(t){if(t.tag===13||t.tag===31){var n=ls();n=bm(n);var a=ei(t,n);a!==null&&Vt(a,t,n),hu(t,n)}}var fc=!0;function L2(t,n,a,i){var r=je.T;je.T=null;var l=Ge.p;try{Ge.p=2,du(t,n,a,i)}finally{Ge.p=l,je.T=r}}function H2(t,n,a,i){var r=je.T;je.T=null;var l=Ge.p;try{Ge.p=8,du(t,n,a,i)}finally{Ge.p=l,je.T=r}}function du(t,n,a,i){if(fc){var r=sm(i);if(r===null)Lh(t,n,i,gc,a),Tp(t,i);else if(B2(r,t,n,a,i))i.stopPropagation();else if(Tp(t,i),n&4&&-1<P2.indexOf(t)){for(;r!==null;){var l=Ji(r);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var c=Ia(l.pendingLanes);if(c!==0){var h=l;for(h.pendingLanes|=2,h.entangledLanes|=2;c;){var d=1<<31-rs(c);h.entanglements[1]|=d,c&=~d}Ws(l),!($e&6)&&(rc=as()+500,zl(0))}}break;case 31:case 13:h=ei(l,2),h!==null&&Vt(h,l,2),Hc(),hu(l,2)}if(l=sm(i),l===null&&Lh(t,n,i,gc,a),l===r)break;r=l}r!==null&&i.stopPropagation()}else Lh(t,n,i,null,a)}}function sm(t){return t=km(t),mu(t)}var gc=null;function mu(t){if(gc=null,t=vi(t),t!==null){var n=_l(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=zf(n),t!==null)return t;t=null}else if(a===31){if(t=Df(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return gc=t,null}function fv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(S0()){case Lf:return 2;case Hf:return 8;case Ko:case $0:return 32;case Pf:return 268435456;default:return 32}default:return 32}}var nm=!1,oa=null,ca=null,ha=null,yl=new Map,bl=new Map,Yn=[],P2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tp(t,n){switch(t){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":ha=null;break;case"pointerover":case"pointerout":yl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(n.pointerId)}}function Cr(t,n,a,i,r,l){return t===null||t.nativeEvent!==l?(t={blockedOn:n,domEventName:a,eventSystemFlags:i,nativeEvent:l,targetContainers:[r]},n!==null&&(n=Ji(n),n!==null&&pv(n)),t):(t.eventSystemFlags|=i,n=t.targetContainers,r!==null&&n.indexOf(r)===-1&&n.push(r),t)}function B2(t,n,a,i,r){switch(n){case"focusin":return oa=Cr(oa,t,n,a,i,r),!0;case"dragenter":return ca=Cr(ca,t,n,a,i,r),!0;case"mouseover":return ha=Cr(ha,t,n,a,i,r),!0;case"pointerover":var l=r.pointerId;return yl.set(l,Cr(yl.get(l)||null,t,n,a,i,r)),!0;case"gotpointercapture":return l=r.pointerId,bl.set(l,Cr(bl.get(l)||null,t,n,a,i,r)),!0}return!1}function gv(t){var n=vi(t.target);if(n!==null){var a=_l(n);if(a!==null){if(n=a.tag,n===13){if(n=zf(a),n!==null){t.blockedOn=n,ox(t.priority,function(){Np(a)});return}}else if(n===31){if(n=Df(a),n!==null){t.blockedOn=n,ox(t.priority,function(){Np(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=sm(t.nativeEvent);if(a===null){a=t.nativeEvent;var i=new a.constructor(a.type,a);bd=i,a.target.dispatchEvent(i),bd=null}else return n=Ji(a),n!==null&&pv(n),t.blockedOn=a,!1;n.shift()}return!0}function kp(t,n,a){Lo(t)&&a.delete(n)}function F2(){nm=!1,oa!==null&&Lo(oa)&&(oa=null),ca!==null&&Lo(ca)&&(ca=null),ha!==null&&Lo(ha)&&(ha=null),yl.forEach(kp),bl.forEach(kp)}function uo(t,n){t.blockedOn===n&&(t.blockedOn=null,nm||(nm=!0,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,F2)))}var xo=null;function _p(t){xo!==t&&(xo=t,ft.unstable_scheduleCallback(ft.unstable_NormalPriority,function(){xo===t&&(xo=null);for(var n=0;n<t.length;n+=3){var a=t[n],i=t[n+1],r=t[n+2];if(typeof i!="function"){if(mu(i||a)===null)continue;break}var l=Ji(a);l!==null&&(t.splice(n,3),n-=3,Id(l,{pending:!0,data:r,method:a.method,action:i},i,r))}}))}function Zi(t){function n(d){return uo(d,t)}oa!==null&&uo(oa,t),ca!==null&&uo(ca,t),ha!==null&&uo(ha,t),yl.forEach(n),bl.forEach(n);for(var a=0;a<Yn.length;a++){var i=Yn[a];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Yn.length&&(a=Yn[0],a.blockedOn===null);)gv(a),a.blockedOn===null&&Yn.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var r=a[i],l=a[i+1],c=r[Xt]||null;if(typeof l=="function")c||_p(a);else if(c){var h=null;if(l&&l.hasAttribute("formAction")){if(r=l,c=l[Xt]||null)h=c.formAction;else if(mu(r)!==null)continue}else h=c.action;typeof h=="function"?a[i+1]=h:(a.splice(i,3),i-=3),_p(a)}}}function jv(){function t(l){l.canIntercept&&l.info==="react-transition"&&l.intercept({handler:function(){return new Promise(function(c){return r=c})},focusReset:"manual",scroll:"manual"})}function n(){r!==null&&(r(),r=null),i||setTimeout(a,20)}function a(){if(!i&&!navigation.transition){var l=navigation.currentEntry;l&&l.url!=null&&navigation.navigate(l.url,{state:l.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){i=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),r!==null&&(r(),r=null)}}}function uu(t){this._internalRoot=t}Fc.prototype.render=uu.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(ie(409));var a=n.current,i=ls();xv(a,i,t,n,null,null)};Fc.prototype.unmount=uu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;xv(t.current,2,null,t,null,null),Hc(),n[Qi]=null}};function Fc(t){this._internalRoot=t}Fc.prototype.unstable_scheduleHydration=function(t){if(t){var n=Vf();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Yn.length&&n!==0&&n<Yn[a].priority;a++);Yn.splice(a,0,t),a===0&&gv(t)}};var Sp=Mf.version;if(Sp!=="19.2.3")throw Error(ie(527,Sp,"19.2.3"));Ge.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(ie(188)):(t=Object.keys(t).join(","),Error(ie(268,t)));return t=y0(n),t=t!==null?If(t):null,t=t===null?null:t.stateNode,t};var U2={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:je,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!po.isDisabled&&po.supportsFiber)try{Sl=po.inject(U2),is=po}catch{}}$c.createRoot=function(t,n){if(!qf(t))throw Error(ie(299));var a=!1,i="",r=cj,l=hj,c=dj;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(l=n.onCaughtError),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),n=mv(t,1,!1,null,null,a,i,null,r,l,c,jv),t[Qi]=n.current,lu(t),new uu(n)};$c.hydrateRoot=function(t,n,a){if(!qf(t))throw Error(ie(299));var i=!1,r="",l=cj,c=hj,h=dj,d=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(l=a.onUncaughtError),a.onCaughtError!==void 0&&(c=a.onCaughtError),a.onRecoverableError!==void 0&&(h=a.onRecoverableError),a.formState!==void 0&&(d=a.formState)),n=mv(t,1,!0,n,a??null,i,r,d,l,c,h,jv),n.context=uv(null),a=n.current,i=ls(),i=bm(i),r=aa(i),r.callback=null,ia(a,r,i),a=i,n.current.lanes=a,Gl(n,a),Ws(n),t[Qi]=n.current,lu(t),new Fc(n)};$c.version="19.2.3";function vv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(vv)}catch(t){console.error(t)}}vv(),Af.exports=$c;var K2=Af.exports;const wl="west_graphs",xu="Introduction to Graph Theory",V2="An interactive course based on Douglas B. West's Introduction to Graph Theory",yv="",X2="https://mathacademy-cyan.vercel.app";var $p=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bv;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function n(k,g){function v(){}v.prototype=g.prototype,k.D=g.prototype,k.prototype=new v,k.prototype.constructor=k,k.C=function(w,S,A){for(var T=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)T[oe-2]=arguments[oe];return g.prototype[S].apply(w,T)}}function a(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}n(i,a),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(k,g,v){v||(v=0);var w=Array(16);if(typeof g=="string")for(var S=0;16>S;++S)w[S]=g.charCodeAt(v++)|g.charCodeAt(v++)<<8|g.charCodeAt(v++)<<16|g.charCodeAt(v++)<<24;else for(S=0;16>S;++S)w[S]=g[v++]|g[v++]<<8|g[v++]<<16|g[v++]<<24;g=k.g[0],v=k.g[1],S=k.g[2];var A=k.g[3],T=g+(A^v&(S^A))+w[0]+3614090360&4294967295;g=v+(T<<7&4294967295|T>>>25),T=A+(S^g&(v^S))+w[1]+3905402710&4294967295,A=g+(T<<12&4294967295|T>>>20),T=S+(v^A&(g^v))+w[2]+606105819&4294967295,S=A+(T<<17&4294967295|T>>>15),T=v+(g^S&(A^g))+w[3]+3250441966&4294967295,v=S+(T<<22&4294967295|T>>>10),T=g+(A^v&(S^A))+w[4]+4118548399&4294967295,g=v+(T<<7&4294967295|T>>>25),T=A+(S^g&(v^S))+w[5]+1200080426&4294967295,A=g+(T<<12&4294967295|T>>>20),T=S+(v^A&(g^v))+w[6]+2821735955&4294967295,S=A+(T<<17&4294967295|T>>>15),T=v+(g^S&(A^g))+w[7]+4249261313&4294967295,v=S+(T<<22&4294967295|T>>>10),T=g+(A^v&(S^A))+w[8]+1770035416&4294967295,g=v+(T<<7&4294967295|T>>>25),T=A+(S^g&(v^S))+w[9]+2336552879&4294967295,A=g+(T<<12&4294967295|T>>>20),T=S+(v^A&(g^v))+w[10]+4294925233&4294967295,S=A+(T<<17&4294967295|T>>>15),T=v+(g^S&(A^g))+w[11]+2304563134&4294967295,v=S+(T<<22&4294967295|T>>>10),T=g+(A^v&(S^A))+w[12]+1804603682&4294967295,g=v+(T<<7&4294967295|T>>>25),T=A+(S^g&(v^S))+w[13]+4254626195&4294967295,A=g+(T<<12&4294967295|T>>>20),T=S+(v^A&(g^v))+w[14]+2792965006&4294967295,S=A+(T<<17&4294967295|T>>>15),T=v+(g^S&(A^g))+w[15]+1236535329&4294967295,v=S+(T<<22&4294967295|T>>>10),T=g+(S^A&(v^S))+w[1]+4129170786&4294967295,g=v+(T<<5&4294967295|T>>>27),T=A+(v^S&(g^v))+w[6]+3225465664&4294967295,A=g+(T<<9&4294967295|T>>>23),T=S+(g^v&(A^g))+w[11]+643717713&4294967295,S=A+(T<<14&4294967295|T>>>18),T=v+(A^g&(S^A))+w[0]+3921069994&4294967295,v=S+(T<<20&4294967295|T>>>12),T=g+(S^A&(v^S))+w[5]+3593408605&4294967295,g=v+(T<<5&4294967295|T>>>27),T=A+(v^S&(g^v))+w[10]+38016083&4294967295,A=g+(T<<9&4294967295|T>>>23),T=S+(g^v&(A^g))+w[15]+3634488961&4294967295,S=A+(T<<14&4294967295|T>>>18),T=v+(A^g&(S^A))+w[4]+3889429448&4294967295,v=S+(T<<20&4294967295|T>>>12),T=g+(S^A&(v^S))+w[9]+568446438&4294967295,g=v+(T<<5&4294967295|T>>>27),T=A+(v^S&(g^v))+w[14]+3275163606&4294967295,A=g+(T<<9&4294967295|T>>>23),T=S+(g^v&(A^g))+w[3]+4107603335&4294967295,S=A+(T<<14&4294967295|T>>>18),T=v+(A^g&(S^A))+w[8]+1163531501&4294967295,v=S+(T<<20&4294967295|T>>>12),T=g+(S^A&(v^S))+w[13]+2850285829&4294967295,g=v+(T<<5&4294967295|T>>>27),T=A+(v^S&(g^v))+w[2]+4243563512&4294967295,A=g+(T<<9&4294967295|T>>>23),T=S+(g^v&(A^g))+w[7]+1735328473&4294967295,S=A+(T<<14&4294967295|T>>>18),T=v+(A^g&(S^A))+w[12]+2368359562&4294967295,v=S+(T<<20&4294967295|T>>>12),T=g+(v^S^A)+w[5]+4294588738&4294967295,g=v+(T<<4&4294967295|T>>>28),T=A+(g^v^S)+w[8]+2272392833&4294967295,A=g+(T<<11&4294967295|T>>>21),T=S+(A^g^v)+w[11]+1839030562&4294967295,S=A+(T<<16&4294967295|T>>>16),T=v+(S^A^g)+w[14]+4259657740&4294967295,v=S+(T<<23&4294967295|T>>>9),T=g+(v^S^A)+w[1]+2763975236&4294967295,g=v+(T<<4&4294967295|T>>>28),T=A+(g^v^S)+w[4]+1272893353&4294967295,A=g+(T<<11&4294967295|T>>>21),T=S+(A^g^v)+w[7]+4139469664&4294967295,S=A+(T<<16&4294967295|T>>>16),T=v+(S^A^g)+w[10]+3200236656&4294967295,v=S+(T<<23&4294967295|T>>>9),T=g+(v^S^A)+w[13]+681279174&4294967295,g=v+(T<<4&4294967295|T>>>28),T=A+(g^v^S)+w[0]+3936430074&4294967295,A=g+(T<<11&4294967295|T>>>21),T=S+(A^g^v)+w[3]+3572445317&4294967295,S=A+(T<<16&4294967295|T>>>16),T=v+(S^A^g)+w[6]+76029189&4294967295,v=S+(T<<23&4294967295|T>>>9),T=g+(v^S^A)+w[9]+3654602809&4294967295,g=v+(T<<4&4294967295|T>>>28),T=A+(g^v^S)+w[12]+3873151461&4294967295,A=g+(T<<11&4294967295|T>>>21),T=S+(A^g^v)+w[15]+530742520&4294967295,S=A+(T<<16&4294967295|T>>>16),T=v+(S^A^g)+w[2]+3299628645&4294967295,v=S+(T<<23&4294967295|T>>>9),T=g+(S^(v|~A))+w[0]+4096336452&4294967295,g=v+(T<<6&4294967295|T>>>26),T=A+(v^(g|~S))+w[7]+1126891415&4294967295,A=g+(T<<10&4294967295|T>>>22),T=S+(g^(A|~v))+w[14]+2878612391&4294967295,S=A+(T<<15&4294967295|T>>>17),T=v+(A^(S|~g))+w[5]+4237533241&4294967295,v=S+(T<<21&4294967295|T>>>11),T=g+(S^(v|~A))+w[12]+1700485571&4294967295,g=v+(T<<6&4294967295|T>>>26),T=A+(v^(g|~S))+w[3]+2399980690&4294967295,A=g+(T<<10&4294967295|T>>>22),T=S+(g^(A|~v))+w[10]+4293915773&4294967295,S=A+(T<<15&4294967295|T>>>17),T=v+(A^(S|~g))+w[1]+2240044497&4294967295,v=S+(T<<21&4294967295|T>>>11),T=g+(S^(v|~A))+w[8]+1873313359&4294967295,g=v+(T<<6&4294967295|T>>>26),T=A+(v^(g|~S))+w[15]+4264355552&4294967295,A=g+(T<<10&4294967295|T>>>22),T=S+(g^(A|~v))+w[6]+2734768916&4294967295,S=A+(T<<15&4294967295|T>>>17),T=v+(A^(S|~g))+w[13]+1309151649&4294967295,v=S+(T<<21&4294967295|T>>>11),T=g+(S^(v|~A))+w[4]+4149444226&4294967295,g=v+(T<<6&4294967295|T>>>26),T=A+(v^(g|~S))+w[11]+3174756917&4294967295,A=g+(T<<10&4294967295|T>>>22),T=S+(g^(A|~v))+w[2]+718787259&4294967295,S=A+(T<<15&4294967295|T>>>17),T=v+(A^(S|~g))+w[9]+3951481745&4294967295,k.g[0]=k.g[0]+g&4294967295,k.g[1]=k.g[1]+(S+(T<<21&4294967295|T>>>11))&4294967295,k.g[2]=k.g[2]+S&4294967295,k.g[3]=k.g[3]+A&4294967295}i.prototype.u=function(k,g){g===void 0&&(g=k.length);for(var v=g-this.blockSize,w=this.B,S=this.h,A=0;A<g;){if(S==0)for(;A<=v;)r(this,k,A),A+=this.blockSize;if(typeof k=="string"){for(;A<g;)if(w[S++]=k.charCodeAt(A++),S==this.blockSize){r(this,w),S=0;break}}else for(;A<g;)if(w[S++]=k[A++],S==this.blockSize){r(this,w),S=0;break}}this.h=S,this.o+=g},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var g=1;g<k.length-8;++g)k[g]=0;var v=8*this.o;for(g=k.length-8;g<k.length;++g)k[g]=v&255,v/=256;for(this.u(k),k=Array(16),g=v=0;4>g;++g)for(var w=0;32>w;w+=8)k[v++]=this.g[g]>>>w&255;return k};function l(k,g){var v=h;return Object.prototype.hasOwnProperty.call(v,k)?v[k]:v[k]=g(k)}function c(k,g){this.h=g;for(var v=[],w=!0,S=k.length-1;0<=S;S--){var A=k[S]|0;w&&A==g||(v[S]=A,w=!1)}this.g=v}var h={};function d(k){return-128<=k&&128>k?l(k,function(g){return new c([g|0],0>g?-1:0)}):new c([k|0],0>k?-1:0)}function u(k){if(isNaN(k)||!isFinite(k))return j;if(0>k)return Z(u(-k));for(var g=[],v=1,w=0;k>=v;w++)g[w]=k/v|0,v*=4294967296;return new c(g,0)}function p(k,g){if(k.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(k.charAt(0)=="-")return Z(p(k.substring(1),g));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=u(Math.pow(g,8)),w=j,S=0;S<k.length;S+=8){var A=Math.min(8,k.length-S),T=parseInt(k.substring(S,S+A),g);8>A?(A=u(Math.pow(g,A)),w=w.j(A).add(u(T))):(w=w.j(v),w=w.add(u(T)))}return w}var j=d(0),f=d(1),N=d(16777216);t=c.prototype,t.m=function(){if(P(this))return-Z(this).m();for(var k=0,g=1,v=0;v<this.g.length;v++){var w=this.i(v);k+=(0<=w?w:4294967296+w)*g,g*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(O(this))return"0";if(P(this))return"-"+Z(this).toString(k);for(var g=u(Math.pow(k,6)),v=this,w="";;){var S=C(v,g).g;v=G(v,S.j(g));var A=((0<v.g.length?v.g[0]:v.h)>>>0).toString(k);if(v=S,O(v))return A+w;for(;6>A.length;)A="0"+A;w=A+w}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function O(k){if(k.h!=0)return!1;for(var g=0;g<k.g.length;g++)if(k.g[g]!=0)return!1;return!0}function P(k){return k.h==-1}t.l=function(k){return k=G(this,k),P(k)?-1:O(k)?0:1};function Z(k){for(var g=k.g.length,v=[],w=0;w<g;w++)v[w]=~k.g[w];return new c(v,~k.h).add(f)}t.abs=function(){return P(this)?Z(this):this},t.add=function(k){for(var g=Math.max(this.g.length,k.g.length),v=[],w=0,S=0;S<=g;S++){var A=w+(this.i(S)&65535)+(k.i(S)&65535),T=(A>>>16)+(this.i(S)>>>16)+(k.i(S)>>>16);w=T>>>16,A&=65535,T&=65535,v[S]=T<<16|A}return new c(v,v[v.length-1]&-2147483648?-1:0)};function G(k,g){return k.add(Z(g))}t.j=function(k){if(O(this)||O(k))return j;if(P(this))return P(k)?Z(this).j(Z(k)):Z(Z(this).j(k));if(P(k))return Z(this.j(Z(k)));if(0>this.l(N)&&0>k.l(N))return u(this.m()*k.m());for(var g=this.g.length+k.g.length,v=[],w=0;w<2*g;w++)v[w]=0;for(w=0;w<this.g.length;w++)for(var S=0;S<k.g.length;S++){var A=this.i(w)>>>16,T=this.i(w)&65535,oe=k.i(S)>>>16,te=k.i(S)&65535;v[2*w+2*S]+=T*te,b(v,2*w+2*S),v[2*w+2*S+1]+=A*te,b(v,2*w+2*S+1),v[2*w+2*S+1]+=T*oe,b(v,2*w+2*S+1),v[2*w+2*S+2]+=A*oe,b(v,2*w+2*S+2)}for(w=0;w<g;w++)v[w]=v[2*w+1]<<16|v[2*w];for(w=g;w<2*g;w++)v[w]=0;return new c(v,0)};function b(k,g){for(;(k[g]&65535)!=k[g];)k[g+1]+=k[g]>>>16,k[g]&=65535,g++}function _(k,g){this.g=k,this.h=g}function C(k,g){if(O(g))throw Error("division by zero");if(O(k))return new _(j,j);if(P(k))return g=C(Z(k),g),new _(Z(g.g),Z(g.h));if(P(g))return g=C(k,Z(g)),new _(Z(g.g),g.h);if(30<k.g.length){if(P(k)||P(g))throw Error("slowDivide_ only works with positive integers.");for(var v=f,w=g;0>=w.l(k);)v=Y(v),w=Y(w);var S=se(v,1),A=se(w,1);for(w=se(w,2),v=se(v,2);!O(w);){var T=A.add(w);0>=T.l(k)&&(S=S.add(v),A=T),w=se(w,1),v=se(v,1)}return g=G(k,S.j(g)),new _(S,g)}for(S=j;0<=k.l(g);){for(v=Math.max(1,Math.floor(k.m()/g.m())),w=Math.ceil(Math.log(v)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),A=u(v),T=A.j(g);P(T)||0<T.l(k);)v-=w,A=u(v),T=A.j(g);O(A)&&(A=f),S=S.add(A),k=G(k,T)}return new _(S,k)}t.A=function(k){return C(this,k).h},t.and=function(k){for(var g=Math.max(this.g.length,k.g.length),v=[],w=0;w<g;w++)v[w]=this.i(w)&k.i(w);return new c(v,this.h&k.h)},t.or=function(k){for(var g=Math.max(this.g.length,k.g.length),v=[],w=0;w<g;w++)v[w]=this.i(w)|k.i(w);return new c(v,this.h|k.h)},t.xor=function(k){for(var g=Math.max(this.g.length,k.g.length),v=[],w=0;w<g;w++)v[w]=this.i(w)^k.i(w);return new c(v,this.h^k.h)};function Y(k){for(var g=k.g.length+1,v=[],w=0;w<g;w++)v[w]=k.i(w)<<1|k.i(w-1)>>>31;return new c(v,k.h)}function se(k,g){var v=g>>5;g%=32;for(var w=k.g.length-v,S=[],A=0;A<w;A++)S[A]=0<g?k.i(A+v)>>>g|k.i(A+v+1)<<32-g:k.i(A+v);return new c(S,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=u,c.fromString=p,bv=c}).apply(typeof $p<"u"?$p:typeof self<"u"?self:typeof window<"u"?window:{});var fo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,n=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,x){return o==Array.prototype||o==Object.prototype||(o[m]=x.value),o};function a(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof fo=="object"&&fo];for(var m=0;m<o.length;++m){var x=o[m];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=a(this);function r(o,m){if(m)e:{var x=i;o=o.split(".");for(var y=0;y<o.length-1;y++){var V=o[y];if(!(V in x))break e;x=x[V]}o=o[o.length-1],y=x[o],m=m(y),m!=y&&m!=null&&n(x,o,{configurable:!0,writable:!0,value:m})}}function l(o,m){o instanceof String&&(o+="");var x=0,y=!1,V={next:function(){if(!y&&x<o.length){var J=x++;return{value:m(J,o[J]),done:!1}}return y=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}r("Array.prototype.values",function(o){return o||function(){return l(this,function(m,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function d(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function u(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function p(o,m,x){return o.call.apply(o.bind,arguments)}function j(o,m,x){if(!o)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,y),o.apply(m,V)}}return function(){return o.apply(m,arguments)}}function f(o,m,x){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:j,f.apply(null,arguments)}function N(o,m){var x=Array.prototype.slice.call(arguments,1);return function(){var y=x.slice();return y.push.apply(y,arguments),o.apply(this,y)}}function O(o,m){function x(){}x.prototype=m.prototype,o.aa=m.prototype,o.prototype=new x,o.prototype.constructor=o,o.Qb=function(y,V,J){for(var me=Array(arguments.length-2),De=2;De<arguments.length;De++)me[De-2]=arguments[De];return m.prototype[V].apply(y,me)}}function P(o){const m=o.length;if(0<m){const x=Array(m);for(let y=0;y<m;y++)x[y]=o[y];return x}return[]}function Z(o,m){for(let x=1;x<arguments.length;x++){const y=arguments[x];if(d(y)){const V=o.length||0,J=y.length||0;o.length=V+J;for(let me=0;me<J;me++)o[V+me]=y[me]}else o.push(y)}}class G{constructor(m,x){this.i=m,this.j=x,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function b(o){return/^[\s\xa0]*$/.test(o)}function _(){var o=h.navigator;return o&&(o=o.userAgent)?o:""}function C(o){return C[" "](o),o}C[" "]=function(){};var Y=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function se(o,m,x){for(const y in o)m.call(x,o[y],y,o)}function k(o,m){for(const x in o)m.call(void 0,o[x],x,o)}function g(o){const m={};for(const x in o)m[x]=o[x];return m}const v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(o,m){let x,y;for(let V=1;V<arguments.length;V++){y=arguments[V];for(x in y)o[x]=y[x];for(let J=0;J<v.length;J++)x=v[J],Object.prototype.hasOwnProperty.call(y,x)&&(o[x]=y[x])}}function S(o){var m=1;o=o.split(":");const x=[];for(;0<m&&o.length;)x.push(o.shift()),m--;return o.length&&x.push(o.join(":")),x}function A(o){h.setTimeout(()=>{throw o},0)}function T(){var o=U;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class oe{constructor(){this.h=this.g=null}add(m,x){const y=te.get();y.set(m,x),this.h?this.h.next=y:this.g=y,this.h=y}}var te=new G(()=>new K,o=>o.reset());class K{constructor(){this.next=this.g=this.h=null}set(m,x){this.h=m,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let F,E=!1,U=new oe,D=()=>{const o=h.Promise.resolve(void 0);F=()=>{o.then(L)}};var L=()=>{for(var o;o=T();){try{o.h.call(o.g)}catch(x){A(x)}var m=te;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}E=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var Q=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const x=()=>{};h.addEventListener("test",x,m),h.removeEventListener("test",x,m)}catch{}return o}();function R(o,m){if(z.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var x=this.type=o.type,y=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(Y){e:{try{C(m.nodeName);var V=!0;break e}catch{}V=!1}V||(m=null)}}else x=="mouseover"?m=o.fromElement:x=="mouseout"&&(m=o.toElement);this.relatedTarget=m,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:H[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&R.aa.h.call(this)}}O(R,z);var H={2:"touch",3:"pen",4:"mouse"};R.prototype.h=function(){R.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),ee=0;function X(o,m,x,y,V){this.listener=o,this.proxy=null,this.src=m,this.type=x,this.capture=!!y,this.ha=V,this.key=++ee,this.da=this.fa=!1}function ne(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function de(o){this.src=o,this.g={},this.h=0}de.prototype.add=function(o,m,x,y,V){var J=o.toString();o=this.g[J],o||(o=this.g[J]=[],this.h++);var me=xe(o,m,y,V);return-1<me?(m=o[me],x||(m.fa=!1)):(m=new X(m,this.src,J,!!y,V),m.fa=x,o.push(m)),m};function le(o,m){var x=m.type;if(x in o.g){var y=o.g[x],V=Array.prototype.indexOf.call(y,m,void 0),J;(J=0<=V)&&Array.prototype.splice.call(y,V,1),J&&(ne(m),o.g[x].length==0&&(delete o.g[x],o.h--))}}function xe(o,m,x,y){for(var V=0;V<o.length;++V){var J=o[V];if(!J.da&&J.listener==m&&J.capture==!!x&&J.ha==y)return V}return-1}var ve="closure_lm_"+(1e6*Math.random()|0),Ue={};function kt(o,m,x,y,V){if(Array.isArray(m)){for(var J=0;J<m.length;J++)kt(o,m[J],x,y,V);return null}return x=Dn(x),o&&o[he]?o.K(m,x,u(y)?!!y.capture:!1,V):tn(o,m,x,!1,y,V)}function tn(o,m,x,y,V,J){if(!m)throw Error("Invalid event type");var me=u(V)?!!V.capture:!!V,De=zn(o);if(De||(o[ve]=De=new de(o)),x=De.add(m,x,y,me,J),x.proxy)return x;if(y=ds(),x.proxy=y,y.src=o,y.listener=x,o.addEventListener)Q||(V=me),V===void 0&&(V=!1),o.addEventListener(m.toString(),y,V);else if(o.attachEvent)o.attachEvent(qn(m.toString()),y);else if(o.addListener&&o.removeListener)o.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return x}function ds(){function o(x){return m.call(o.src,o.listener,x)}const m=Na;return o}function Wt(o,m,x,y,V){if(Array.isArray(m))for(var J=0;J<m.length;J++)Wt(o,m[J],x,y,V);else y=u(y)?!!y.capture:!!y,x=Dn(x),o&&o[he]?(o=o.i,m=String(m).toString(),m in o.g&&(J=o.g[m],x=xe(J,x,y,V),-1<x&&(ne(J[x]),Array.prototype.splice.call(J,x,1),J.length==0&&(delete o.g[m],o.h--)))):o&&(o=zn(o))&&(m=o.g[m.toString()],o=-1,m&&(o=xe(m,x,y,V)),(x=-1<o?m[o]:null)&&$s(x))}function $s(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[he])le(m.i,o);else{var x=o.type,y=o.proxy;m.removeEventListener?m.removeEventListener(x,y,o.capture):m.detachEvent?m.detachEvent(qn(x),y):m.addListener&&m.removeListener&&m.removeListener(y),(x=zn(m))?(le(x,o),x.h==0&&(x.src=null,m[ve]=null)):ne(o)}}}function qn(o){return o in Ue?Ue[o]:Ue[o]="on"+o}function Na(o,m){if(o.da)o=!0;else{m=new R(m,this);var x=o.listener,y=o.ha||o.src;o.fa&&$s(o),o=x.call(y,m)}return o}function zn(o){return o=o[ve],o instanceof de?o:null}var Ta="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dn(o){return typeof o=="function"?o:(o[Ta]||(o[Ta]=function(m){return o.handleEvent(m)}),o[Ta])}function Xe(){M.call(this),this.i=new de(this),this.M=this,this.F=null}O(Xe,M),Xe.prototype[he]=!0,Xe.prototype.removeEventListener=function(o,m,x,y){Wt(this,o,m,x,y)};function Oe(o,m){var x,y=o.F;if(y)for(x=[];y;y=y.F)x.push(y);if(o=o.M,y=m.type||m,typeof m=="string")m=new z(m,o);else if(m instanceof z)m.target=m.target||o;else{var V=m;m=new z(y,o),w(m,V)}if(V=!0,x)for(var J=x.length-1;0<=J;J--){var me=m.g=x[J];V=In(me,y,!0,m)&&V}if(me=m.g=o,V=In(me,y,!0,m)&&V,V=In(me,y,!1,m)&&V,x)for(J=0;J<x.length;J++)me=m.g=x[J],V=In(me,y,!1,m)&&V}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var x=o.g[m],y=0;y<x.length;y++)ne(x[y]);delete o.g[m],o.h--}}this.F=null},Xe.prototype.K=function(o,m,x,y){return this.i.add(String(o),m,!1,x,y)},Xe.prototype.L=function(o,m,x,y){return this.i.add(String(o),m,!0,x,y)};function In(o,m,x,y){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var V=!0,J=0;J<m.length;++J){var me=m[J];if(me&&!me.da&&me.capture==x){var De=me.listener,_t=me.ha||me.src;me.fa&&le(o.i,me),V=De.call(_t,y)!==!1&&V}}return V&&!y.defaultPrevented}function or(o,m,x){if(typeof o=="function")x&&(o=f(o,x));else if(o&&typeof o.handleEvent=="function")o=f(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(o,m||0)}function cr(o){o.g=or(()=>{o.g=null,o.i&&(o.i=!1,cr(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class hr extends M{constructor(m,x){super(),this.m=m,this.l=x,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:cr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function On(o){M.call(this),this.h=o,this.g={}}O(On,M);var ka=[];function _a(o){se(o.g,function(m,x){this.g.hasOwnProperty(x)&&$s(m)},o),o.g={}}On.prototype.N=function(){On.aa.N.call(this),_a(this)},On.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qt=h.JSON.stringify,Rn=h.JSON.parse,dr=class{stringify(o){return h.JSON.stringify(o,void 0)}parse(o){return h.JSON.parse(o,void 0)}};function Sa(){}Sa.prototype.h=null;function Ll(o){return o.h||(o.h=o.i())}function ri(){}var Ls={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){z.call(this,"d")}O(mr,z);function sn(){z.call(this,"c")}O(sn,z);var Ln={},Hl=null;function Ze(){return Hl=Hl||new Xe}Ln.La="serverreachability";function nn(o){z.call(this,Ln.La,o)}O(nn,z);function $a(o){const m=Ze();Oe(m,new nn(m))}Ln.STAT_EVENT="statevent";function ur(o,m){z.call(this,Ln.STAT_EVENT,o),this.stat=m}O(ur,z);function dt(o){const m=Ze();Oe(m,new ur(m,o))}Ln.Ma="timingevent";function xr(o,m){z.call(this,Ln.Ma,o),this.size=m}O(xr,z);function Hn(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){o()},m)}function Ga(){this.g=!0}Ga.prototype.xa=function(){this.g=!1};function ms(o,m,x,y,V,J){o.info(function(){if(o.g)if(J)for(var me="",De=J.split("&"),_t=0;_t<De.length;_t++){var Se=De[_t].split("=");if(1<Se.length){var Mt=Se[0];Se=Se[1];var qt=Mt.split("_");me=2<=qt.length&&qt[1]=="type"?me+(Mt+"="+Se+"&"):me+(Mt+"=redacted&")}}else me=null;else me=J;return"XMLHTTP REQ ("+y+") [attempt "+V+"]: "+m+`
`+x+`
`+me})}function an(o,m,x,y,V,J,me){o.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+V+"]: "+m+`
`+x+`
`+J+" "+me})}function rn(o,m,x,y){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+pr(o,x)+(y?" "+y:"")})}function Pl(o,m){o.info(function(){return"TIMEOUT: "+m})}Ga.prototype.info=function(){};function pr(o,m){if(!o.g)return m;if(!m)return null;try{var x=JSON.parse(m);if(x){for(o=0;o<x.length;o++)if(Array.isArray(x[o])){var y=x[o];if(!(2>y.length)){var V=y[1];if(Array.isArray(V)&&!(1>V.length)){var J=V[0];if(J!="noop"&&J!="stop"&&J!="close")for(var me=1;me<V.length;me++)V[me]=""}}}}return Qt(x)}catch{return m}}var li={NO_ERROR:0,TIMEOUT:8},Gs={},oi;function Aa(){}O(Aa,Sa),Aa.prototype.g=function(){return new XMLHttpRequest},Aa.prototype.i=function(){return{}},oi=new Aa;function As(o,m,x,y){this.j=o,this.i=m,this.l=x,this.R=y||1,this.U=new On(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fr}function fr(){this.i=null,this.g="",this.h=!1}var Bl={},pe={};function I(o,m,x){o.L=1,o.v=Kl(ln(m)),o.m=x,o.P=!0,ce(o,null)}function ce(o,m){o.F=Date.now(),st(o),o.A=ln(o.v);var x=o.A,y=o.R;Array.isArray(y)||(y=[String(y)]),zu(x.i,"t",y),o.C=0,x=o.j.J,o.h=new fr,o.g=Ju(o.j,x?m:null,!o.m),0<o.O&&(o.M=new hr(f(o.Y,o,o.g),o.O)),m=o.U,x=o.g,y=o.ca;var V="readystatechange";Array.isArray(V)||(V&&(ka[0]=V.toString()),V=ka);for(var J=0;J<V.length;J++){var me=kt(x,V[J],y||m.handleEvent,!1,m.h||m);if(!me)break;m.g[me.key]=me}m=o.H?g(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),$a(),ms(o.i,o.u,o.A,o.l,o.R,o.m)}As.prototype.ca=function(o){o=o.target;const m=this.M;m&&on(o)==3?m.j():this.Y(o)},As.prototype.Y=function(o){try{if(o==this.g)e:{const qt=on(this.g);var m=this.g.Ba();const di=this.g.Z();if(!(3>qt)&&(qt!=3||this.g&&(this.h.h||this.g.oa()||Pu(this.g)))){this.J||qt!=4||m==7||(m==8||0>=di?$a(3):$a(2)),jt(this);var x=this.g.Z();this.X=x;t:if(ue(this)){var y=Pu(this.g);o="";var V=y.length,J=on(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pt(this),Dt(this);var me="";break t}this.h.i=new h.TextDecoder}for(m=0;m<V;m++)this.h.h=!0,o+=this.h.i.decode(y[m],{stream:!(J&&m==V-1)});y.length=0,this.h.g+=o,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=x==200,an(this.i,this.u,this.A,this.l,this.R,qt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var De,_t=this.g;if((De=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(De)){var Se=De;break t}}Se=null}if(x=Se)rn(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ea(this,x);else{this.o=!1,this.s=3,dt(12),Pt(this),Dt(this);break e}}if(this.P){x=!0;let Es;for(;!this.J&&this.C<me.length;)if(Es=Re(this,me),Es==pe){qt==4&&(this.s=4,dt(14),x=!1),rn(this.i,this.l,null,"[Incomplete Response]");break}else if(Es==Bl){this.s=4,dt(15),rn(this.i,this.l,me,"[Invalid Chunk]"),x=!1;break}else rn(this.i,this.l,Es,null),Ea(this,Es);if(ue(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),qt!=4||me.length!=0||this.h.h||(this.s=1,dt(16),x=!1),this.o=this.o&&x,!x)rn(this.i,this.l,me,"[Invalid Chunked Response]"),Pt(this),Dt(this);else if(0<me.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),nh(Mt),Mt.M=!0,dt(11))}}else rn(this.i,this.l,me,null),Ea(this,me);qt==4&&Pt(this),this.o&&!this.J&&(qt==4?Zu(this.j,this):(this.o=!1,st(this)))}else Qy(this.g),x==400&&0<me.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Pt(this),Dt(this)}}}catch{}finally{}};function ue(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Re(o,m){var x=o.C,y=m.indexOf(`
`,x);return y==-1?pe:(x=Number(m.substring(x,y)),isNaN(x)?Bl:(y+=1,y+x>m.length?pe:(m=m.slice(y,y+x),o.C=y+x,m)))}As.prototype.cancel=function(){this.J=!0,Pt(this)};function st(o){o.S=Date.now()+o.I,Ye(o,o.I)}function Ye(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Hn(f(o.ba,o),m)}function jt(o){o.B&&(h.clearTimeout(o.B),o.B=null)}As.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Pl(this.i,this.A),this.L!=2&&($a(),dt(17)),Pt(this),this.s=2,Dt(this)):Ye(this,this.S-o)};function Dt(o){o.j.G==0||o.J||Zu(o.j,o)}function Pt(o){jt(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,_a(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Ea(o,m){try{var x=o.j;if(x.G!=0&&(x.g==o||Qc(x.h,o))){if(!o.K&&Qc(x.h,o)&&x.G==3){try{var y=x.Da.g.parse(m)}catch{y=null}if(Array.isArray(y)&&y.length==3){var V=y;if(V[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<o.F)Ql(x),Yl(x);else break e;sh(x),dt(18)}}else x.za=V[1],0<x.za-x.T&&37500>V[2]&&x.F&&x.v==0&&!x.C&&(x.C=Hn(f(x.Za,x),6e3));if(1>=_u(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Ma(x,11)}else if((o.K||x.g==o)&&Ql(x),!b(m))for(V=x.Da.g.parse(m),m=0;m<V.length;m++){let Se=V[m];if(x.T=Se[0],Se=Se[1],x.G==2)if(Se[0]=="c"){x.K=Se[1],x.ia=Se[2];const Mt=Se[3];Mt!=null&&(x.la=Mt,x.j.info("VER="+x.la));const qt=Se[4];qt!=null&&(x.Aa=qt,x.j.info("SVER="+x.Aa));const di=Se[5];di!=null&&typeof di=="number"&&0<di&&(y=1.5*di,x.L=y,x.j.info("backChannelRequestTimeoutMs_="+y)),y=x;const Es=o.g;if(Es){const Jl=Es.g?Es.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jl){var J=y.h;J.g||Jl.indexOf("spdy")==-1&&Jl.indexOf("quic")==-1&&Jl.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(Jc(J,J.h),J.h=null))}if(y.D){const ah=Es.g?Es.g.getResponseHeader("X-HTTP-Session-Id"):null;ah&&(y.ya=ah,He(y.I,y.D,ah))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-o.F,x.j.info("Handshake RTT: "+x.R+"ms")),y=x;var me=o;if(y.qa=Qu(y,y.J?y.ia:null,y.W),me.K){Su(y.h,me);var De=me,_t=y.L;_t&&(De.I=_t),De.B&&(jt(De),st(De)),y.g=me}else Vu(y);0<x.i.length&&Wl(x)}else Se[0]!="stop"&&Se[0]!="close"||Ma(x,7);else x.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?Ma(x,7):th(x):Se[0]!="noop"&&x.l&&x.l.ta(Se),x.v=0)}}$a(4)}catch{}}var mt=class{constructor(o,m){this.g=o,this.map=m}};function gr(o){this.l=o||10,h.PerformanceNavigationTiming?(o=h.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function jr(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function _u(o){return o.h?1:o.g?o.g.size:0}function Qc(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Jc(o,m){o.g?o.g.add(m):o.h=m}function Su(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}gr.prototype.cancel=function(){if(this.i=$u(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function $u(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const x of o.g.values())m=m.concat(x.D);return m}return P(o.i)}function Iy(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(d(o)){for(var m=[],x=o.length,y=0;y<x;y++)m.push(o[y]);return m}m=[],x=0;for(y in o)m[x++]=o[y];return m}function Oy(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(d(o)||typeof o=="string"){var m=[];o=o.length;for(var x=0;x<o;x++)m.push(x);return m}m=[],x=0;for(const y in o)m[x++]=y;return m}}}function Gu(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(d(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var x=Oy(o),y=Iy(o),V=y.length,J=0;J<V;J++)m.call(void 0,y[J],x&&x[J],o)}var Au=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ry(o,m){if(o){o=o.split("&");for(var x=0;x<o.length;x++){var y=o[x].indexOf("="),V=null;if(0<=y){var J=o[x].substring(0,y);V=o[x].substring(y+1)}else J=o[x];m(J,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function Ca(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Ca){this.h=o.h,Fl(this,o.j),this.o=o.o,this.g=o.g,Ul(this,o.s),this.l=o.l;var m=o.i,x=new br;x.i=m.i,m.g&&(x.g=new Map(m.g),x.h=m.h),Eu(this,x),this.m=o.m}else o&&(m=String(o).match(Au))?(this.h=!1,Fl(this,m[1]||"",!0),this.o=vr(m[2]||""),this.g=vr(m[3]||"",!0),Ul(this,m[4]),this.l=vr(m[5]||"",!0),Eu(this,m[6]||"",!0),this.m=vr(m[7]||"")):(this.h=!1,this.i=new br(null,this.h))}Ca.prototype.toString=function(){var o=[],m=this.j;m&&o.push(yr(m,Cu,!0),":");var x=this.g;return(x||m=="file")&&(o.push("//"),(m=this.o)&&o.push(yr(m,Cu,!0),"@"),o.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&o.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&o.push("/"),o.push(yr(x,x.charAt(0)=="/"?Py:Hy,!0))),(x=this.i.toString())&&o.push("?",x),(x=this.m)&&o.push("#",yr(x,Fy)),o.join("")};function ln(o){return new Ca(o)}function Fl(o,m,x){o.j=x?vr(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Ul(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Eu(o,m,x){m instanceof br?(o.i=m,Uy(o.i,o.h)):(x||(m=yr(m,By)),o.i=new br(m,o.h))}function He(o,m,x){o.i.set(m,x)}function Kl(o){return He(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function vr(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function yr(o,m,x){return typeof o=="string"?(o=encodeURI(o).replace(m,Ly),x&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Ly(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Cu=/[#\/\?@]/g,Hy=/[#\?:]/g,Py=/[#\?]/g,By=/[#\?@]/g,Fy=/#/g;function br(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function Pn(o){o.g||(o.g=new Map,o.h=0,o.i&&Ry(o.i,function(m,x){o.add(decodeURIComponent(m.replace(/\+/g," ")),x)}))}t=br.prototype,t.add=function(o,m){Pn(this),this.i=null,o=ci(this,o);var x=this.g.get(o);return x||this.g.set(o,x=[]),x.push(m),this.h+=1,this};function Mu(o,m){Pn(o),m=ci(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function qu(o,m){return Pn(o),m=ci(o,m),o.g.has(m)}t.forEach=function(o,m){Pn(this),this.g.forEach(function(x,y){x.forEach(function(V){o.call(m,V,y,this)},this)},this)},t.na=function(){Pn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),x=[];for(let y=0;y<m.length;y++){const V=o[y];for(let J=0;J<V.length;J++)x.push(m[y])}return x},t.V=function(o){Pn(this);let m=[];if(typeof o=="string")qu(this,o)&&(m=m.concat(this.g.get(ci(this,o))));else{o=Array.from(this.g.values());for(let x=0;x<o.length;x++)m=m.concat(o[x])}return m},t.set=function(o,m){return Pn(this),this.i=null,o=ci(this,o),qu(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},t.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function zu(o,m,x){Mu(o,m),0<x.length&&(o.i=null,o.g.set(ci(o,m),P(x)),o.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var x=0;x<m.length;x++){var y=m[x];const J=encodeURIComponent(String(y)),me=this.V(y);for(y=0;y<me.length;y++){var V=J;me[y]!==""&&(V+="="+encodeURIComponent(String(me[y]))),o.push(V)}}return this.i=o.join("&")};function ci(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Uy(o,m){m&&!o.j&&(Pn(o),o.i=null,o.g.forEach(function(x,y){var V=y.toLowerCase();y!=V&&(Mu(this,y),zu(this,V,x))},o)),o.j=m}function Ky(o,m){const x=new Ga;if(h.Image){const y=new Image;y.onload=N(Bn,x,"TestLoadImage: loaded",!0,m,y),y.onerror=N(Bn,x,"TestLoadImage: error",!1,m,y),y.onabort=N(Bn,x,"TestLoadImage: abort",!1,m,y),y.ontimeout=N(Bn,x,"TestLoadImage: timeout",!1,m,y),h.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=o}else m(!1)}function Vy(o,m){const x=new Ga,y=new AbortController,V=setTimeout(()=>{y.abort(),Bn(x,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:y.signal}).then(J=>{clearTimeout(V),J.ok?Bn(x,"TestPingServer: ok",!0,m):Bn(x,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(V),Bn(x,"TestPingServer: error",!1,m)})}function Bn(o,m,x,y,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),y(x)}catch{}}function Xy(){this.g=new dr}function Zy(o,m,x){const y=x||"";try{Gu(o,function(V,J){let me=V;u(V)&&(me=Qt(V)),m.push(y+J+"="+encodeURIComponent(me))})}catch(V){throw m.push(y+"type="+encodeURIComponent("_badmap")),V}}function Vl(o){this.l=o.Ub||null,this.j=o.eb||!1}O(Vl,Sa),Vl.prototype.g=function(){return new Xl(this.l,this.j)},Vl.prototype.i=function(o){return function(){return o}}({});function Xl(o,m){Xe.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Xl,Xe),t=Xl.prototype,t.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Nr(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Nr(this)),this.g&&(this.readyState=3,Nr(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Du(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Du(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?wr(this):Nr(this),this.readyState==3&&Du(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,wr(this))},t.Qa=function(o){this.g&&(this.response=o,wr(this))},t.ga=function(){this.g&&wr(this)};function wr(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Nr(o)}t.setRequestHeader=function(o,m){this.u.append(o,m)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var x=m.next();!x.done;)x=x.value,o.push(x[0]+": "+x[1]),x=m.next();return o.join(`\r
`)};function Nr(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Xl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Iu(o){let m="";return se(o,function(x,y){m+=y,m+=":",m+=x,m+=`\r
`}),m}function eh(o,m,x){e:{for(y in x){var y=!1;break e}y=!0}y||(x=Iu(x),typeof o=="string"?x!=null&&encodeURIComponent(String(x)):He(o,m,x))}function nt(o){Xe.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(nt,Xe);var Yy=/^https?$/i,Wy=["POST","PUT"];t=nt.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,m,x,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oi.g(),this.v=this.o?Ll(this.o):Ll(oi),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(J){Ou(this,J);return}if(o=x||"",x=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var V in y)x.set(V,y[V]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const J of y.keys())x.set(J,y.get(J));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(x.keys()).find(J=>J.toLowerCase()=="content-type"),V=h.FormData&&o instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Wy,m,void 0))||y||V||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,me]of x)this.g.setRequestHeader(J,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hu(this),this.u=!0,this.g.send(o),this.u=!1}catch(J){Ou(this,J)}};function Ou(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ru(o),Zl(o)}function Ru(o){o.A||(o.A=!0,Oe(o,"complete"),Oe(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Oe(this,"complete"),Oe(this,"abort"),Zl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zl(this,!0)),nt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Lu(this):this.bb())},t.bb=function(){Lu(this)};function Lu(o){if(o.h&&typeof c<"u"&&(!o.v[1]||on(o)!=4||o.Z()!=2)){if(o.u&&on(o)==4)or(o.Ea,0,o);else if(Oe(o,"readystatechange"),on(o)==4){o.h=!1;try{const me=o.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var x;if(!(x=m)){var y;if(y=me===0){var V=String(o.D).match(Au)[1]||null;!V&&h.self&&h.self.location&&(V=h.self.location.protocol.slice(0,-1)),y=!Yy.test(V?V.toLowerCase():"")}x=y}if(x)Oe(o,"complete"),Oe(o,"success");else{o.m=6;try{var J=2<on(o)?o.g.statusText:""}catch{J=""}o.l=J+" ["+o.Z()+"]",Ru(o)}}finally{Zl(o)}}}}function Zl(o,m){if(o.g){Hu(o);const x=o.g,y=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Oe(o,"ready");try{x.onreadystatechange=y}catch{}}}function Hu(o){o.I&&(h.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function on(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<on(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Rn(m)}};function Pu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Qy(o){const m={};o=(o.g&&2<=on(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<o.length;y++){if(b(o[y]))continue;var x=S(o[y]);const V=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const J=m[V]||[];m[V]=J,J.push(x)}k(m,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Tr(o,m,x){return x&&x.internalChannelParams&&x.internalChannelParams[o]||m}function Bu(o){this.Aa=0,this.i=[],this.j=new Ga,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Tr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Tr("baseRetryDelayMs",5e3,o),this.cb=Tr("retryDelaySeedMs",1e4,o),this.Wa=Tr("forwardChannelMaxRetries",2,o),this.wa=Tr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new gr(o&&o.concurrentRequestLimit),this.Da=new Xy,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Bu.prototype,t.la=8,t.G=1,t.connect=function(o,m,x,y){dt(0),this.W=o,this.H=m||{},x&&y!==void 0&&(this.H.OSID=x,this.H.OAID=y),this.F=this.X,this.I=Qu(this,null,this.W),Wl(this)};function th(o){if(Fu(o),o.G==3){var m=o.U++,x=ln(o.I);if(He(x,"SID",o.K),He(x,"RID",m),He(x,"TYPE","terminate"),kr(o,x),m=new As(o,o.j,m),m.L=2,m.v=Kl(ln(x)),x=!1,h.navigator&&h.navigator.sendBeacon)try{x=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!x&&h.Image&&(new Image().src=m.v,x=!0),x||(m.g=Ju(m.j,null),m.g.ea(m.v)),m.F=Date.now(),st(m)}Wu(o)}function Yl(o){o.g&&(nh(o),o.g.cancel(),o.g=null)}function Fu(o){Yl(o),o.u&&(h.clearTimeout(o.u),o.u=null),Ql(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&h.clearTimeout(o.s),o.s=null)}function Wl(o){if(!jr(o.h)&&!o.s){o.s=!0;var m=o.Ga;F||D(),E||(F(),E=!0),U.add(m,o),o.B=0}}function Jy(o,m){return _u(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Hn(f(o.Ga,o,m),Yu(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const V=new As(this,this.j,o);let J=this.o;if(this.S&&(J?(J=g(J),w(J,this.S)):J=this.S),this.m!==null||this.O||(V.H=J,J=null),this.P)e:{for(var m=0,x=0;x<this.i.length;x++){t:{var y=this.i[x];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(m+=y,4096<m){m=x;break e}if(m===4096||x===this.i.length-1){m=x+1;break e}}m=1e3}else m=1e3;m=Ku(this,V,m),x=ln(this.I),He(x,"RID",o),He(x,"CVER",22),this.D&&He(x,"X-HTTP-Session-Id",this.D),kr(this,x),J&&(this.O?m="headers="+encodeURIComponent(String(Iu(J)))+"&"+m:this.m&&eh(x,this.m,J)),Jc(this.h,V),this.Ua&&He(x,"TYPE","init"),this.P?(He(x,"$req",m),He(x,"SID","null"),V.T=!0,I(V,x,null)):I(V,x,m),this.G=2}}else this.G==3&&(o?Uu(this,o):this.i.length==0||jr(this.h)||Uu(this))};function Uu(o,m){var x;m?x=m.l:x=o.U++;const y=ln(o.I);He(y,"SID",o.K),He(y,"RID",x),He(y,"AID",o.T),kr(o,y),o.m&&o.o&&eh(y,o.m,o.o),x=new As(o,o.j,x,o.B+1),o.m===null&&(x.H=o.o),m&&(o.i=m.D.concat(o.i)),m=Ku(o,x,1e3),x.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Jc(o.h,x),I(x,y,m)}function kr(o,m){o.H&&se(o.H,function(x,y){He(m,y,x)}),o.l&&Gu({},function(x,y){He(m,y,x)})}function Ku(o,m,x){x=Math.min(o.i.length,x);var y=o.l?f(o.l.Na,o.l,o):null;e:{var V=o.i;let J=-1;for(;;){const me=["count="+x];J==-1?0<x?(J=V[0].g,me.push("ofs="+J)):J=0:me.push("ofs="+J);let De=!0;for(let _t=0;_t<x;_t++){let Se=V[_t].g;const Mt=V[_t].map;if(Se-=J,0>Se)J=Math.max(0,V[_t].g-100),De=!1;else try{Zy(Mt,me,"req"+Se+"_")}catch{y&&y(Mt)}}if(De){y=me.join("&");break e}}}return o=o.i.splice(0,x),m.D=o,y}function Vu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;F||D(),E||(F(),E=!0),U.add(m,o),o.v=0}}function sh(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Hn(f(o.Fa,o),Yu(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Hn(f(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Yl(this),Xu(this))};function nh(o){o.A!=null&&(h.clearTimeout(o.A),o.A=null)}function Xu(o){o.g=new As(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=ln(o.qa);He(m,"RID","rpc"),He(m,"SID",o.K),He(m,"AID",o.T),He(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&He(m,"TO",o.ja),He(m,"TYPE","xmlhttp"),kr(o,m),o.m&&o.o&&eh(m,o.m,o.o),o.L&&(o.g.I=o.L);var x=o.g;o=o.ia,x.L=1,x.v=Kl(ln(m)),x.m=null,x.P=!0,ce(x,o)}t.Za=function(){this.C!=null&&(this.C=null,Yl(this),sh(this),dt(19))};function Ql(o){o.C!=null&&(h.clearTimeout(o.C),o.C=null)}function Zu(o,m){var x=null;if(o.g==m){Ql(o),nh(o),o.g=null;var y=2}else if(Qc(o.h,m))x=m.D,Su(o.h,m),y=1;else return;if(o.G!=0){if(m.o)if(y==1){x=m.m?m.m.length:0,m=Date.now()-m.F;var V=o.B;y=Ze(),Oe(y,new xr(y,x)),Wl(o)}else Vu(o);else if(V=m.s,V==3||V==0&&0<m.X||!(y==1&&Jy(o,m)||y==2&&sh(o)))switch(x&&0<x.length&&(m=o.h,m.i=m.i.concat(x)),V){case 1:Ma(o,5);break;case 4:Ma(o,10);break;case 3:Ma(o,6);break;default:Ma(o,2)}}}function Yu(o,m){let x=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(x*=2),x*m}function Ma(o,m){if(o.j.info("Error code "+m),m==2){var x=f(o.fb,o),y=o.Xa;const V=!y;y=new Ca(y||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Fl(y,"https"),Kl(y),V?Ky(y.toString(),x):Vy(y.toString(),x)}else dt(2);o.G=0,o.l&&o.l.sa(m),Wu(o),Fu(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Wu(o){if(o.G=0,o.ka=[],o.l){const m=$u(o.h);(m.length!=0||o.i.length!=0)&&(Z(o.ka,m),Z(o.ka,o.i),o.h.i.length=0,P(o.i),o.i.length=0),o.l.ra()}}function Qu(o,m,x){var y=x instanceof Ca?ln(x):new Ca(x);if(y.g!="")m&&(y.g=m+"."+y.g),Ul(y,y.s);else{var V=h.location;y=V.protocol,m=m?m+"."+V.hostname:V.hostname,V=+V.port;var J=new Ca(null);y&&Fl(J,y),m&&(J.g=m),V&&Ul(J,V),x&&(J.l=x),y=J}return x=o.D,m=o.ya,x&&m&&He(y,x,m),He(y,"VER",o.la),kr(o,y),y}function Ju(o,m,x){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new nt(new Vl({eb:x})):new nt(o.pa),m.Ha(o.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ex(){}t=ex.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function us(o,m){Xe.call(this),this.g=new Bu(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!b(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!b(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new hi(this)}O(us,Xe),us.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},us.prototype.close=function(){th(this.g)},us.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var x={};x.__data__=o,o=x}else this.u&&(x={},x.__data__=Qt(o),o=x);m.i.push(new mt(m.Ya++,o)),m.G==3&&Wl(m)},us.prototype.N=function(){this.g.l=null,delete this.j,th(this.g),delete this.g,us.aa.N.call(this)};function tx(o){mr.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){e:{for(const x in m){o=x;break e}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}O(tx,mr);function sx(){sn.call(this),this.status=1}O(sx,sn);function hi(o){this.g=o}O(hi,ex),hi.prototype.ua=function(){Oe(this.g,"a")},hi.prototype.ta=function(o){Oe(this.g,new tx(o))},hi.prototype.sa=function(o){Oe(this.g,new sx)},hi.prototype.ra=function(){Oe(this.g,"b")},us.prototype.send=us.prototype.o,us.prototype.open=us.prototype.m,us.prototype.close=us.prototype.close,li.NO_ERROR=0,li.TIMEOUT=8,li.HTTP_ERROR=6,Gs.COMPLETE="complete",ri.EventType=Ls,Ls.OPEN="a",Ls.CLOSE="b",Ls.ERROR="c",Ls.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha}).apply(typeof fo<"u"?fo:typeof self<"u"?self:typeof window<"u"?window:{});const Gp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}es.UNAUTHENTICATED=new es(null),es.GOOGLE_CREDENTIALS=new es("google-credentials-uid"),es.FIRST_PARTY=new es("first-party-uid"),es.MOCK_USER=new es("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jc=new i0("@firebase/firestore");function Is(t,...n){if(jc.logLevel<=Gf.DEBUG){const a=n.map(Nv);jc.debug(`Firestore (${Uc}): ${t}`,...a)}}function wv(t,...n){if(jc.logLevel<=Gf.ERROR){const a=n.map(Nv);jc.error(`Firestore (${Uc}): ${t}`,...a)}}function Nv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(a){return JSON.stringify(a)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(t="Unexpected state"){const n=`FIRESTORE (${Uc}) INTERNAL ASSERTION FAILED: `+t;throw wv(n),new Error(n)}function al(t,n){t||Tv()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class Ds extends o0{constructor(n,a){super(n,a),this.code=n,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(){this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(n,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class Y2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,a){n.enqueueRetryable(()=>a(es.UNAUTHENTICATED))}shutdown(){}}class W2{constructor(n){this.t=n,this.currentUser=es.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,a){al(this.o===void 0);let i=this.i;const r=d=>this.i!==i?(i=this.i,a(d)):Promise.resolve();let l=new il;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new il,n.enqueueRetryable(()=>r(this.currentUser))};const c=()=>{const d=l;n.enqueueRetryable(async()=>{await d.promise,await r(this.currentUser)})},h=d=>{Is("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(Is("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new il)}},0),c()}getToken(){const n=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(i=>this.i!==n?(Is("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(al(typeof i.accessToken=="string"),new Z2(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return al(n===null||typeof n=="string"),new es(n)}}class Q2{constructor(n,a,i){this.l=n,this.h=a,this.P=i,this.type="FirstParty",this.user=es.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const n=this.T();return n&&this.I.set("Authorization",n),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class J2{constructor(n,a,i){this.l=n,this.h=a,this.P=i}getToken(){return Promise.resolve(new Q2(this.l,this.h,this.P))}start(n,a){n.enqueueRetryable(()=>a(es.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e1{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t1{constructor(n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(n,a){al(this.o===void 0);const i=l=>{l.error!=null&&Is("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,Is("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?a(l.token):Promise.resolve()};this.o=l=>{n.enqueueRetryable(()=>i(l))};const r=l=>{Is("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>r(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?r(l):Is("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(a=>a?(al(typeof a.token=="string"),this.R=a.token,new e1(a.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function s1(t){return t.name==="IndexedDbTransactionError"}class vc{constructor(n,a){this.projectId=n,this.database=a||"(default)"}static empty(){return new vc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(n){return n instanceof vc&&n.projectId===this.projectId&&n.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ap,_e;(_e=Ap||(Ap={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new bv([4294967295,4294967295],0);function Bh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(n,a,i=1e3,r=1.5,l=6e4){this.ui=n,this.timerId=a,this.ko=i,this.qo=r,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(n){this.cancel();const a=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,a-i);r>0&&Is("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${a} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),n())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(n,a,i,r,l){this.asyncQueue=n,this.timerId=a,this.targetTimeMs=i,this.op=r,this.removalCallback=l,this.deferred=new il,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,a,i,r,l){const c=Date.now()+i,h=new pu(n,a,c,r,l);return h.start(i),h}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ds(zs.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Ep,Cp;(Cp=Ep||(Ep={})).ea="default",Cp.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(t){const n={};return t.timeoutSeconds!==void 0&&(n.timeoutSeconds=t.timeoutSeconds),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=new Map;function i1(t,n,a,i){if(n===!0&&i===!0)throw new Ds(zs.INVALID_ARGUMENT,`${t} and ${a} cannot be used together.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(n){var a,i;if(n.host===void 0){if(n.ssl!==void 0)throw new Ds(zs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=(a=n.ssl)===null||a===void 0||a;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<1048576)throw new Ds(zs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}i1("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a1((i=n.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ds(zs.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ds(zs.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ds(zs.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class r1{constructor(n,a,i,r){this._authCredentials=n,this._appCheckCredentials=a,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ds(zs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(n){if(this._settingsFrozen)throw new Ds(zs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qp(n),n.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Y2;switch(i.type){case"firstParty":return new J2(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ds(zs.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(a){const i=Mp.get(a);i&&(Is("ComponentProvider","Removing Datastore"),Mp.delete(a),i.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(n=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new n1(this,"async_queue_retry"),this.Vu=()=>{const i=Bh();i&&Is("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=n;const a=Bh();a&&typeof a.addEventListener=="function"&&a.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.fu(),this.gu(n)}enterRestrictedMode(n){if(!this.Iu){this.Iu=!0,this.Au=n||!1;const a=Bh();a&&typeof a.removeEventListener=="function"&&a.removeEventListener("visibilitychange",this.Vu)}}enqueue(n){if(this.fu(),this.Iu)return new Promise(()=>{});const a=new il;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(n().then(a.resolve,a.reject),a.promise)).then(()=>a.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Pu.push(n),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(n){if(!s1(n))throw n;Is("AsyncQueue","Operation failed with retryable error: "+n)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(n){const a=this.mu.then(()=>(this.du=!0,n().catch(i=>{this.Eu=i,this.du=!1;const r=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw wv("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=a,a}enqueueAfterDelay(n,a,i){this.fu(),this.Ru.indexOf(n)>-1&&(a=0);const r=pu.createAndSchedule(this,n,a,i,l=>this.yu(l));return this.Tu.push(r),r}fu(){this.Eu&&Tv()}verifyOperationInProgress(){}async wu(){let n;do n=this.mu,await n;while(n!==this.mu)}Su(n){for(const a of this.Tu)if(a.timerId===n)return!0;return!1}bu(n){return this.wu().then(()=>{this.Tu.sort((a,i)=>a.targetTimeMs-i.targetTimeMs);for(const a of this.Tu)if(a.skipDelay(),n!=="all"&&a.timerId===n)break;return this.wu()})}Du(n){this.Ru.push(n)}yu(n){const a=this.Tu.indexOf(n);this.Tu.splice(a,1)}}class l1 extends r1{constructor(n,a,i,r){super(n,a,i,r),this.type="firestore",this._queue=new zp,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const n=this._firestoreClient.terminate();this._queue=new zp(n),this._firestoreClient=void 0,await n}}}(function(n,a=!0){(function(r){Uc=r})(c0),r0(new l0("firestore",(i,{instanceIdentifier:r,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new l1(new W2(i.getProvider("auth-internal")),new t1(i.getProvider("app-check-internal")),function(u,p){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Ds(zs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vc(u.options.projectId,p)}(c,r),c);return l=Object.assign({useFetchStreams:a},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),nx(Gp,"4.7.3",n),nx(Gp,"4.7.3","esm2017")})();const kv={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},o1=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1");let go=null,Fh=null,jo=null;function _v(){if(!go){const t=h0();t.length>0?go=t[0]:go=d0(kv)}return go}function Uh(){return Fh||(Fh=m0(_v())),Fh}function wn(){if(!jo&&(jo=f0(_v()),o1&&typeof window<"u"&&new URLSearchParams(window.location.search).get("emulator")==="true"))try{g0(jo,"localhost",5001)}catch{}return jo}function Nn(){const t=kv.apiKey;if(!t||t.length<10)return!1;const n=["YOUR_API_KEY","your-api-key","YOUR-API-KEY","PLACEHOLDER","placeholder","API_KEY","api-key","xxx"],a=t.toLowerCase();return!n.some(i=>a.includes(i.toLowerCase()))}const c1=22242,h1=5e3,d1=2e3,Sv=3e4,m1=3e4,$v=30*1e3,Gv=2e3,u1=60*60*1e3,Av=["wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net","wss://relay.nostr.bg","wss://nostr-pub.wellorder.net","wss://nostr.mom"],x1=["wss://relay.snort.social","wss://relay.current.fyi","wss://nostr.zebedee.cloud"];class p1{constructor(n="",a=!0){this.prefix=n?`[${n}]`:"",this.enabled=a}log(n,a,i){if(!this.enabled)return;const r=this.prefix?`${this.prefix} ${a}`:a;if(n==="debug"||n==="info")return;const l=console[n]||console.log;i!==void 0?l(r,i):l(r)}debug(n,a){this.log("debug",n,a)}info(n,a){this.log("info",n,a)}warn(n,a){this.log("warn",n,a)}error(n,a){this.log("error",n,a)}setEnabled(n){this.enabled=n}}const Kh={};function _s(t){const n=t||"__default__";return Kh[n]||(Kh[n]=new p1(t)),Kh[n]}const Ps=_s("NostrUtils"),am="qpzry9x8gf2tvdw0s3jn54khce6mua7l",f1=[996825010,642813549,513874426,1027748829,705979059];function Ev(t){let n=1;for(const a of t){const i=n>>25;n=(n&33554431)<<5^a;for(let r=0;r<5;r++)i>>r&1&&(n^=f1[r])}return n}function Cv(t){const n=[];for(const a of t)n.push(a.charCodeAt(0)>>5);n.push(0);for(const a of t)n.push(a.charCodeAt(0)&31);return n}function g1(t,n){return Ev([...Cv(t),...n])===1}function j1(t,n){const a=[...Cv(t),...n,0,0,0,0,0,0],i=Ev(a)^1,r=[];for(let l=0;l<6;l++)r.push(i>>5*(5-l)&31);return r}function Mv(t,n,a,i){let r=0,l=0;const c=[],h=(1<<a)-1;for(const d of t){if(d<0||d>>n)return null;for(r=r<<n|d,l+=n;l>=a;)l-=a,c.push(r>>l&h)}if(i)l>0&&c.push(r<<a-l&h);else if(l>=n||r<<a-l&h)return null;return c}function v1(t,n){const a=Mv(n,8,5,!0);if(!a)throw new Error("Failed to convert data to 5-bit groups");const i=j1(t,a);let r=t+"1";for(const l of a)r+=am[l];for(const l of i)r+=am[l];return r}function y1(t){const n=t.toLowerCase(),a=t.toUpperCase();if(t!==n&&t!==a)return null;const i=n,r=i.lastIndexOf("1");if(r<1||r+7>i.length||i.length>90)return null;const l=i.slice(0,r),c=i.slice(r+1),h=[];for(const p of c){const j=am.indexOf(p);if(j===-1)return null;h.push(j)}if(!g1(l,h))return null;const d=h.slice(0,-6),u=Mv(new Uint8Array(d),5,8,!1);return u?{hrp:l,data:new Uint8Array(u)}:null}function b1(t){if(t.length%2!==0)throw new Error("Hex string must have even length");const n=new Uint8Array(t.length/2);for(let a=0;a<t.length;a+=2)n[a/2]=parseInt(t.slice(a,a+2),16);return n}function w1(t){return Array.from(t).map(n=>n.toString(16).padStart(2,"0")).join("")}function N1(t){if(t.length!==64)throw new Error("Pubkey must be 32 bytes (64 hex characters)");const n=b1(t);return v1("npub",n)}function qv(t){const n=y1(t);if(!n||n.hrp!=="npub")throw new Error("Invalid npub");return w1(n.data)}async function T1(t){try{const n=qv(t),a=k1(),i=a.map(async c=>{try{return await Promise.race([zv(c,n),new Promise(d=>setTimeout(()=>d(null),2e3))])}catch(h){return Ps.debug(`Failed to fetch profile from relay ${c}:`,h),null}}),l=(await Promise.allSettled(i)).filter(c=>c.status==="fulfilled"&&c.value!==null).map(c=>c.value);return l.length>0?l[0]:(Ps.debug(`No profile found for npub across ${a.length} relays`),null)}catch(n){return Ps.debug("Failed to convert npub to hex:",n),null}}function k1(){return[...Av,...x1]}function yc(t,n=8){return t.length<=n*2+3?t:`${t.slice(0,n)}...${t.slice(-n)}`}function bc(){return typeof window<"u"&&typeof window.nostr<"u"}function _1(t=3e3){return new Promise(n=>{if(bc()){n(!0);return}const a=Date.now(),i=setInterval(()=>{bc()?(clearInterval(i),n(!0)):Date.now()-a>t&&(clearInterval(i),n(!1))},100)})}function zv(t,n){return new Promise(a=>{let i=!1,r=null,l=null;const c=()=>{if(!i&&(i=!0,l&&(clearTimeout(l),l=null),r&&r.readyState!==WebSocket.CLOSED&&r.readyState!==WebSocket.CLOSING))try{r.close()}catch(d){Ps.debug(`Error closing WebSocket for ${t}:`,d)}};l=setTimeout(()=>{Ps.debug(`WebSocket timeout for relay: ${t}`),c(),a(null)},h1);try{r=new WebSocket(t)}catch(d){Ps.debug(`Failed to create WebSocket for relay ${t}:`,d),c(),a(null);return}const h=Math.random().toString(36).substring(2,15);r.onopen=()=>{if(!(i||!r))try{const d=JSON.stringify(["REQ",h,{kinds:[0],authors:[n],limit:1}]);r.send(d)}catch(d){Ps.debug(`Failed to send subscription to ${t}:`,d),c(),a(null)}},r.onmessage=d=>{if(!i)try{const u=JSON.parse(d.data);if(u[0]==="EVENT"&&u[1]===h){const p=JSON.parse(u[2].content);c(),a({name:p.name||p.display_name,display_name:p.display_name,nip05:p.nip05,picture:p.picture,about:p.about})}else u[0]==="EOSE"&&(c(),a(null))}catch(u){Ps.debug(`Failed to parse WebSocket message from ${t}:`,u)}},r.onerror=d=>{Ps.debug(`WebSocket error for relay ${t}:`,d),c(),a(null)},r.onclose=d=>{i||(Ps.debug(`WebSocket closed for ${t}, code: ${d.code}, reason: ${d.reason}`),c(),a(null))}})}async function S1(t){const n=new Map,a=10;for(let i=0;i<t.length;i+=a){const l=t.slice(i,i+a).map(async c=>{const h=await T1(c);h&&n.set(c,h)});await Promise.all(l)}return n}const $1=["ba","aa","linalg","advlinalg","ra","calc1","calc_lib_art","calc_easy","crypto","koblitz","coding","islr","west_graphs","wm","numbers-geometry","ross-prob","intro-discrete","euclid","gauss","four_pillars","thales","mom","human_action","man_econ_state","road_to_serfdom","atlas_shrugged","only-the-strong-survive","orange_btc","mod-race","math_history","template"];function G1(t){return $1.includes(t)}function ae(t,n,a){function i(h,d){if(h._zod||Object.defineProperty(h,"_zod",{value:{def:d,constr:c,traits:new Set},enumerable:!1}),h._zod.traits.has(t))return;h._zod.traits.add(t),n(h,d);const u=c.prototype,p=Object.keys(u);for(let j=0;j<p.length;j++){const f=p[j];f in h||(h[f]=u[f].bind(h))}}const r=(a==null?void 0:a.Parent)??Object;class l extends r{}Object.defineProperty(l,"name",{value:t});function c(h){var d;const u=a!=null&&a.Parent?new l:this;i(u,h),(d=u._zod).deferred??(d.deferred=[]);for(const p of u._zod.deferred)p();return u}return Object.defineProperty(c,"init",{value:i}),Object.defineProperty(c,Symbol.hasInstance,{value:h=>{var d,u;return a!=null&&a.Parent&&h instanceof a.Parent?!0:(u=(d=h==null?void 0:h._zod)==null?void 0:d.traits)==null?void 0:u.has(t)}}),Object.defineProperty(c,"name",{value:t}),c}class Oi extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Dv extends Error{constructor(n){super(`Encountered unidirectional transform during encode: ${n}`),this.name="ZodEncodeError"}}const Iv={};function ga(t){return Iv}function Ov(t){const n=Object.values(t).filter(i=>typeof i=="number");return Object.entries(t).filter(([i,r])=>n.indexOf(+i)===-1).map(([i,r])=>r)}function im(t,n){return typeof n=="bigint"?n.toString():n}function fu(t){return{get value(){{const n=t();return Object.defineProperty(this,"value",{value:n}),n}}}}function gu(t){return t==null}function ju(t){const n=t.startsWith("^")?1:0,a=t.endsWith("$")?t.length-1:t.length;return t.slice(n,a)}function A1(t,n){const a=(t.toString().split(".")[1]||"").length,i=n.toString();let r=(i.split(".")[1]||"").length;if(r===0&&/\d?e-\d?/.test(i)){const d=i.match(/\d?e-(\d?)/);d!=null&&d[1]&&(r=Number.parseInt(d[1]))}const l=a>r?a:r,c=Number.parseInt(t.toFixed(l).replace(".","")),h=Number.parseInt(n.toFixed(l).replace(".",""));return c%h/10**l}const Dp=Symbol("evaluating");function Ce(t,n,a){let i;Object.defineProperty(t,n,{get(){if(i!==Dp)return i===void 0&&(i=Dp,i=a()),i},set(r){Object.defineProperty(t,n,{value:r})},configurable:!0})}function si(t,n,a){Object.defineProperty(t,n,{value:a,writable:!0,enumerable:!0,configurable:!0})}function ba(...t){const n={};for(const a of t){const i=Object.getOwnPropertyDescriptors(a);Object.assign(n,i)}return Object.defineProperties({},n)}function Ip(t){return JSON.stringify(t)}function E1(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Rv="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function wc(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const C1=fu(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const n=Function;return new n(""),!0}catch{return!1}});function Yi(t){if(wc(t)===!1)return!1;const n=t.constructor;if(n===void 0||typeof n!="function")return!0;const a=n.prototype;return!(wc(a)===!1||Object.prototype.hasOwnProperty.call(a,"isPrototypeOf")===!1)}function Lv(t){return Yi(t)?{...t}:Array.isArray(t)?[...t]:t}const M1=new Set(["string","number","symbol"]);function Kc(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function wa(t,n,a){const i=new t._zod.constr(n??t._zod.def);return(!n||a!=null&&a.parent)&&(i._zod.parent=t),i}function fe(t){const n=t;if(!n)return{};if(typeof n=="string")return{error:()=>n};if((n==null?void 0:n.message)!==void 0){if((n==null?void 0:n.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function q1(t){return Object.keys(t).filter(n=>t[n]._zod.optin==="optional"&&t[n]._zod.optout==="optional")}const z1={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function D1(t,n){const a=t._zod.def,i=a.checks;if(i&&i.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const l=ba(t._zod.def,{get shape(){const c={};for(const h in n){if(!(h in a.shape))throw new Error(`Unrecognized key: "${h}"`);n[h]&&(c[h]=a.shape[h])}return si(this,"shape",c),c},checks:[]});return wa(t,l)}function I1(t,n){const a=t._zod.def,i=a.checks;if(i&&i.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const l=ba(t._zod.def,{get shape(){const c={...t._zod.def.shape};for(const h in n){if(!(h in a.shape))throw new Error(`Unrecognized key: "${h}"`);n[h]&&delete c[h]}return si(this,"shape",c),c},checks:[]});return wa(t,l)}function O1(t,n){if(!Yi(n))throw new Error("Invalid input to extend: expected a plain object");const a=t._zod.def.checks;if(a&&a.length>0){const l=t._zod.def.shape;for(const c in n)if(Object.getOwnPropertyDescriptor(l,c)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const r=ba(t._zod.def,{get shape(){const l={...t._zod.def.shape,...n};return si(this,"shape",l),l}});return wa(t,r)}function R1(t,n){if(!Yi(n))throw new Error("Invalid input to safeExtend: expected a plain object");const a=ba(t._zod.def,{get shape(){const i={...t._zod.def.shape,...n};return si(this,"shape",i),i}});return wa(t,a)}function L1(t,n){const a=ba(t._zod.def,{get shape(){const i={...t._zod.def.shape,...n._zod.def.shape};return si(this,"shape",i),i},get catchall(){return n._zod.def.catchall},checks:[]});return wa(t,a)}function H1(t,n,a){const r=n._zod.def.checks;if(r&&r.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const c=ba(n._zod.def,{get shape(){const h=n._zod.def.shape,d={...h};if(a)for(const u in a){if(!(u in h))throw new Error(`Unrecognized key: "${u}"`);a[u]&&(d[u]=t?new t({type:"optional",innerType:h[u]}):h[u])}else for(const u in h)d[u]=t?new t({type:"optional",innerType:h[u]}):h[u];return si(this,"shape",d),d},checks:[]});return wa(n,c)}function P1(t,n,a){const i=ba(n._zod.def,{get shape(){const r=n._zod.def.shape,l={...r};if(a)for(const c in a){if(!(c in l))throw new Error(`Unrecognized key: "${c}"`);a[c]&&(l[c]=new t({type:"nonoptional",innerType:r[c]}))}else for(const c in r)l[c]=new t({type:"nonoptional",innerType:r[c]});return si(this,"shape",l),l}});return wa(n,i)}function Gi(t,n=0){var a;if(t.aborted===!0)return!0;for(let i=n;i<t.issues.length;i++)if(((a=t.issues[i])==null?void 0:a.continue)!==!0)return!0;return!1}function Ai(t,n){return n.map(a=>{var i;return(i=a).path??(i.path=[]),a.path.unshift(t),a})}function vo(t){return typeof t=="string"?t:t==null?void 0:t.message}function ja(t,n,a){var r,l,c,h,d,u;const i={...t,path:t.path??[]};if(!t.message){const p=vo((c=(l=(r=t.inst)==null?void 0:r._zod.def)==null?void 0:l.error)==null?void 0:c.call(l,t))??vo((h=n==null?void 0:n.error)==null?void 0:h.call(n,t))??vo((d=a.customError)==null?void 0:d.call(a,t))??vo((u=a.localeError)==null?void 0:u.call(a,t))??"Invalid input";i.message=p}return delete i.inst,delete i.continue,n!=null&&n.reportInput||delete i.input,i}function vu(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Nl(...t){const[n,a,i]=t;return typeof n=="string"?{message:n,code:"custom",input:a,inst:i}:{...n}}const Hv=(t,n)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:n,enumerable:!1}),t.message=JSON.stringify(n,im,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Pv=ae("$ZodError",Hv),Bv=ae("$ZodError",Hv,{Parent:Error});function B1(t,n=a=>a.message){const a={},i=[];for(const r of t.issues)r.path.length>0?(a[r.path[0]]=a[r.path[0]]||[],a[r.path[0]].push(n(r))):i.push(n(r));return{formErrors:i,fieldErrors:a}}function F1(t,n=a=>a.message){const a={_errors:[]},i=r=>{for(const l of r.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(c=>i({issues:c}));else if(l.code==="invalid_key")i({issues:l.issues});else if(l.code==="invalid_element")i({issues:l.issues});else if(l.path.length===0)a._errors.push(n(l));else{let c=a,h=0;for(;h<l.path.length;){const d=l.path[h];h===l.path.length-1?(c[d]=c[d]||{_errors:[]},c[d]._errors.push(n(l))):c[d]=c[d]||{_errors:[]},c=c[d],h++}}};return i(t),a}const yu=t=>(n,a,i,r)=>{const l=i?Object.assign(i,{async:!1}):{async:!1},c=n._zod.run({value:a,issues:[]},l);if(c instanceof Promise)throw new Oi;if(c.issues.length){const h=new((r==null?void 0:r.Err)??t)(c.issues.map(d=>ja(d,l,ga())));throw Rv(h,r==null?void 0:r.callee),h}return c.value},bu=t=>async(n,a,i,r)=>{const l=i?Object.assign(i,{async:!0}):{async:!0};let c=n._zod.run({value:a,issues:[]},l);if(c instanceof Promise&&(c=await c),c.issues.length){const h=new((r==null?void 0:r.Err)??t)(c.issues.map(d=>ja(d,l,ga())));throw Rv(h,r==null?void 0:r.callee),h}return c.value},Vc=t=>(n,a,i)=>{const r=i?{...i,async:!1}:{async:!1},l=n._zod.run({value:a,issues:[]},r);if(l instanceof Promise)throw new Oi;return l.issues.length?{success:!1,error:new(t??Pv)(l.issues.map(c=>ja(c,r,ga())))}:{success:!0,data:l.value}},U1=Vc(Bv),Xc=t=>async(n,a,i)=>{const r=i?Object.assign(i,{async:!0}):{async:!0};let l=n._zod.run({value:a,issues:[]},r);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new t(l.issues.map(c=>ja(c,r,ga())))}:{success:!0,data:l.value}},K1=Xc(Bv),V1=t=>(n,a,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return yu(t)(n,a,r)},X1=t=>(n,a,i)=>yu(t)(n,a,i),Z1=t=>async(n,a,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return bu(t)(n,a,r)},Y1=t=>async(n,a,i)=>bu(t)(n,a,i),W1=t=>(n,a,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Vc(t)(n,a,r)},Q1=t=>(n,a,i)=>Vc(t)(n,a,i),J1=t=>async(n,a,i)=>{const r=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Xc(t)(n,a,r)},ew=t=>async(n,a,i)=>Xc(t)(n,a,i),tw=/^[cC][^\s-]{8,}$/,sw=/^[0-9a-z]+$/,nw=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,aw=/^[0-9a-vA-V]{20}$/,iw=/^[A-Za-z0-9]{27}$/,rw=/^[a-zA-Z0-9_-]{21}$/,lw=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,ow=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Op=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,cw=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,hw="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function dw(){return new RegExp(hw,"u")}const mw=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,uw=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,xw=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,pw=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,fw=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Fv=/^[A-Za-z0-9_-]*$/,gw=/^\+[1-9]\d{6,14}$/,Uv="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",jw=new RegExp(`^${Uv}$`);function Kv(t){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${n}`:t.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${t.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function vw(t){return new RegExp(`^${Kv(t)}$`)}function yw(t){const n=Kv({precision:t.precision}),a=["Z"];t.local&&a.push(""),t.offset&&a.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${n}(?:${a.join("|")})`;return new RegExp(`^${Uv}T(?:${i})$`)}const bw=t=>{const n=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},ww=/^-?\d+$/,Vv=/^-?\d+(?:\.\d+)?$/,Nw=/^(?:true|false)$/i,Tw=/^[^A-Z]*$/,kw=/^[^a-z]*$/,Yt=ae("$ZodCheck",(t,n)=>{var a;t._zod??(t._zod={}),t._zod.def=n,(a=t._zod).onattach??(a.onattach=[])}),Xv={number:"number",bigint:"bigint",object:"date"},Zv=ae("$ZodCheckLessThan",(t,n)=>{Yt.init(t,n);const a=Xv[typeof n.value];t._zod.onattach.push(i=>{const r=i._zod.bag,l=(n.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;n.value<l&&(n.inclusive?r.maximum=n.value:r.exclusiveMaximum=n.value)}),t._zod.check=i=>{(n.inclusive?i.value<=n.value:i.value<n.value)||i.issues.push({origin:a,code:"too_big",maximum:typeof n.value=="object"?n.value.getTime():n.value,input:i.value,inclusive:n.inclusive,inst:t,continue:!n.abort})}}),Yv=ae("$ZodCheckGreaterThan",(t,n)=>{Yt.init(t,n);const a=Xv[typeof n.value];t._zod.onattach.push(i=>{const r=i._zod.bag,l=(n.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;n.value>l&&(n.inclusive?r.minimum=n.value:r.exclusiveMinimum=n.value)}),t._zod.check=i=>{(n.inclusive?i.value>=n.value:i.value>n.value)||i.issues.push({origin:a,code:"too_small",minimum:typeof n.value=="object"?n.value.getTime():n.value,input:i.value,inclusive:n.inclusive,inst:t,continue:!n.abort})}}),_w=ae("$ZodCheckMultipleOf",(t,n)=>{Yt.init(t,n),t._zod.onattach.push(a=>{var i;(i=a._zod.bag).multipleOf??(i.multipleOf=n.value)}),t._zod.check=a=>{if(typeof a.value!=typeof n.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof a.value=="bigint"?a.value%n.value===BigInt(0):A1(a.value,n.value)===0)||a.issues.push({origin:typeof a.value,code:"not_multiple_of",divisor:n.value,input:a.value,inst:t,continue:!n.abort})}}),Sw=ae("$ZodCheckNumberFormat",(t,n)=>{var c;Yt.init(t,n),n.format=n.format||"float64";const a=(c=n.format)==null?void 0:c.includes("int"),i=a?"int":"number",[r,l]=z1[n.format];t._zod.onattach.push(h=>{const d=h._zod.bag;d.format=n.format,d.minimum=r,d.maximum=l,a&&(d.pattern=ww)}),t._zod.check=h=>{const d=h.value;if(a){if(!Number.isInteger(d)){h.issues.push({expected:i,format:n.format,code:"invalid_type",continue:!1,input:d,inst:t});return}if(!Number.isSafeInteger(d)){d>0?h.issues.push({input:d,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,inclusive:!0,continue:!n.abort}):h.issues.push({input:d,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:i,inclusive:!0,continue:!n.abort});return}}d<r&&h.issues.push({origin:"number",input:d,code:"too_small",minimum:r,inclusive:!0,inst:t,continue:!n.abort}),d>l&&h.issues.push({origin:"number",input:d,code:"too_big",maximum:l,inclusive:!0,inst:t,continue:!n.abort})}}),$w=ae("$ZodCheckMaxLength",(t,n)=>{var a;Yt.init(t,n),(a=t._zod.def).when??(a.when=i=>{const r=i.value;return!gu(r)&&r.length!==void 0}),t._zod.onattach.push(i=>{const r=i._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<r&&(i._zod.bag.maximum=n.maximum)}),t._zod.check=i=>{const r=i.value;if(r.length<=n.maximum)return;const c=vu(r);i.issues.push({origin:c,code:"too_big",maximum:n.maximum,inclusive:!0,input:r,inst:t,continue:!n.abort})}}),Gw=ae("$ZodCheckMinLength",(t,n)=>{var a;Yt.init(t,n),(a=t._zod.def).when??(a.when=i=>{const r=i.value;return!gu(r)&&r.length!==void 0}),t._zod.onattach.push(i=>{const r=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>r&&(i._zod.bag.minimum=n.minimum)}),t._zod.check=i=>{const r=i.value;if(r.length>=n.minimum)return;const c=vu(r);i.issues.push({origin:c,code:"too_small",minimum:n.minimum,inclusive:!0,input:r,inst:t,continue:!n.abort})}}),Aw=ae("$ZodCheckLengthEquals",(t,n)=>{var a;Yt.init(t,n),(a=t._zod.def).when??(a.when=i=>{const r=i.value;return!gu(r)&&r.length!==void 0}),t._zod.onattach.push(i=>{const r=i._zod.bag;r.minimum=n.length,r.maximum=n.length,r.length=n.length}),t._zod.check=i=>{const r=i.value,l=r.length;if(l===n.length)return;const c=vu(r),h=l>n.length;i.issues.push({origin:c,...h?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:i.value,inst:t,continue:!n.abort})}}),Zc=ae("$ZodCheckStringFormat",(t,n)=>{var a,i;Yt.init(t,n),t._zod.onattach.push(r=>{const l=r._zod.bag;l.format=n.format,n.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(n.pattern))}),n.pattern?(a=t._zod).check??(a.check=r=>{n.pattern.lastIndex=0,!n.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:n.format,input:r.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:t,continue:!n.abort})}):(i=t._zod).check??(i.check=()=>{})}),Ew=ae("$ZodCheckRegex",(t,n)=>{Zc.init(t,n),t._zod.check=a=>{n.pattern.lastIndex=0,!n.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:"regex",input:a.value,pattern:n.pattern.toString(),inst:t,continue:!n.abort})}}),Cw=ae("$ZodCheckLowerCase",(t,n)=>{n.pattern??(n.pattern=Tw),Zc.init(t,n)}),Mw=ae("$ZodCheckUpperCase",(t,n)=>{n.pattern??(n.pattern=kw),Zc.init(t,n)}),qw=ae("$ZodCheckIncludes",(t,n)=>{Yt.init(t,n);const a=Kc(n.includes),i=new RegExp(typeof n.position=="number"?`^.{${n.position}}${a}`:a);n.pattern=i,t._zod.onattach.push(r=>{const l=r._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(i)}),t._zod.check=r=>{r.value.includes(n.includes,n.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:r.value,inst:t,continue:!n.abort})}}),zw=ae("$ZodCheckStartsWith",(t,n)=>{Yt.init(t,n);const a=new RegExp(`^${Kc(n.prefix)}.*`);n.pattern??(n.pattern=a),t._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(a)}),t._zod.check=i=>{i.value.startsWith(n.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:i.value,inst:t,continue:!n.abort})}}),Dw=ae("$ZodCheckEndsWith",(t,n)=>{Yt.init(t,n);const a=new RegExp(`.*${Kc(n.suffix)}$`);n.pattern??(n.pattern=a),t._zod.onattach.push(i=>{const r=i._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(a)}),t._zod.check=i=>{i.value.endsWith(n.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:i.value,inst:t,continue:!n.abort})}}),Iw=ae("$ZodCheckOverwrite",(t,n)=>{Yt.init(t,n),t._zod.check=a=>{a.value=n.tx(a.value)}});class Ow{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const i=n.split(`
`).filter(c=>c),r=Math.min(...i.map(c=>c.length-c.trimStart().length)),l=i.map(c=>c.slice(r)).map(c=>" ".repeat(this.indent*2)+c);for(const c of l)this.content.push(c)}compile(){const n=Function,a=this==null?void 0:this.args,r=[...((this==null?void 0:this.content)??[""]).map(l=>`  ${l}`)];return new n(...a,r.join(`
`))}}const Rw={major:4,minor:3,patch:5},et=ae("$ZodType",(t,n)=>{var r;var a;t??(t={}),t._zod.def=n,t._zod.bag=t._zod.bag||{},t._zod.version=Rw;const i=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&i.unshift(t);for(const l of i)for(const c of l._zod.onattach)c(t);if(i.length===0)(a=t._zod).deferred??(a.deferred=[]),(r=t._zod.deferred)==null||r.push(()=>{t._zod.run=t._zod.parse});else{const l=(h,d,u)=>{let p=Gi(h),j;for(const f of d){if(f._zod.def.when){if(!f._zod.def.when(h))continue}else if(p)continue;const N=h.issues.length,O=f._zod.check(h);if(O instanceof Promise&&(u==null?void 0:u.async)===!1)throw new Oi;if(j||O instanceof Promise)j=(j??Promise.resolve()).then(async()=>{await O,h.issues.length!==N&&(p||(p=Gi(h,N)))});else{if(h.issues.length===N)continue;p||(p=Gi(h,N))}}return j?j.then(()=>h):h},c=(h,d,u)=>{if(Gi(h))return h.aborted=!0,h;const p=l(d,i,u);if(p instanceof Promise){if(u.async===!1)throw new Oi;return p.then(j=>t._zod.parse(j,u))}return t._zod.parse(p,u)};t._zod.run=(h,d)=>{if(d.skipChecks)return t._zod.parse(h,d);if(d.direction==="backward"){const p=t._zod.parse({value:h.value,issues:[]},{...d,skipChecks:!0});return p instanceof Promise?p.then(j=>c(j,h,d)):c(p,h,d)}const u=t._zod.parse(h,d);if(u instanceof Promise){if(d.async===!1)throw new Oi;return u.then(p=>l(p,i,d))}return l(u,i,d)}}Ce(t,"~standard",()=>({validate:l=>{var c;try{const h=U1(t,l);return h.success?{value:h.data}:{issues:(c=h.error)==null?void 0:c.issues}}catch{return K1(t,l).then(d=>{var u;return d.success?{value:d.data}:{issues:(u=d.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}))}),wu=ae("$ZodString",(t,n)=>{var a;et.init(t,n),t._zod.pattern=[...((a=t==null?void 0:t._zod.bag)==null?void 0:a.patterns)??[]].pop()??bw(t._zod.bag),t._zod.parse=(i,r)=>{if(n.coerce)try{i.value=String(i.value)}catch{}return typeof i.value=="string"||i.issues.push({expected:"string",code:"invalid_type",input:i.value,inst:t}),i}}),Ve=ae("$ZodStringFormat",(t,n)=>{Zc.init(t,n),wu.init(t,n)}),Lw=ae("$ZodGUID",(t,n)=>{n.pattern??(n.pattern=ow),Ve.init(t,n)}),Hw=ae("$ZodUUID",(t,n)=>{if(n.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(i===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=Op(i))}else n.pattern??(n.pattern=Op());Ve.init(t,n)}),Pw=ae("$ZodEmail",(t,n)=>{n.pattern??(n.pattern=cw),Ve.init(t,n)}),Bw=ae("$ZodURL",(t,n)=>{Ve.init(t,n),t._zod.check=a=>{try{const i=a.value.trim(),r=new URL(i);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(r.hostname)||a.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:n.hostname.source,input:a.value,inst:t,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||a.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:a.value,inst:t,continue:!n.abort})),n.normalize?a.value=r.href:a.value=i;return}catch{a.issues.push({code:"invalid_format",format:"url",input:a.value,inst:t,continue:!n.abort})}}}),Fw=ae("$ZodEmoji",(t,n)=>{n.pattern??(n.pattern=dw()),Ve.init(t,n)}),Uw=ae("$ZodNanoID",(t,n)=>{n.pattern??(n.pattern=rw),Ve.init(t,n)}),Kw=ae("$ZodCUID",(t,n)=>{n.pattern??(n.pattern=tw),Ve.init(t,n)}),Vw=ae("$ZodCUID2",(t,n)=>{n.pattern??(n.pattern=sw),Ve.init(t,n)}),Xw=ae("$ZodULID",(t,n)=>{n.pattern??(n.pattern=nw),Ve.init(t,n)}),Zw=ae("$ZodXID",(t,n)=>{n.pattern??(n.pattern=aw),Ve.init(t,n)}),Yw=ae("$ZodKSUID",(t,n)=>{n.pattern??(n.pattern=iw),Ve.init(t,n)}),Ww=ae("$ZodISODateTime",(t,n)=>{n.pattern??(n.pattern=yw(n)),Ve.init(t,n)}),Qw=ae("$ZodISODate",(t,n)=>{n.pattern??(n.pattern=jw),Ve.init(t,n)}),Jw=ae("$ZodISOTime",(t,n)=>{n.pattern??(n.pattern=vw(n)),Ve.init(t,n)}),eN=ae("$ZodISODuration",(t,n)=>{n.pattern??(n.pattern=lw),Ve.init(t,n)}),tN=ae("$ZodIPv4",(t,n)=>{n.pattern??(n.pattern=mw),Ve.init(t,n),t._zod.bag.format="ipv4"}),sN=ae("$ZodIPv6",(t,n)=>{n.pattern??(n.pattern=uw),Ve.init(t,n),t._zod.bag.format="ipv6",t._zod.check=a=>{try{new URL(`http://[${a.value}]`)}catch{a.issues.push({code:"invalid_format",format:"ipv6",input:a.value,inst:t,continue:!n.abort})}}}),nN=ae("$ZodCIDRv4",(t,n)=>{n.pattern??(n.pattern=xw),Ve.init(t,n)}),aN=ae("$ZodCIDRv6",(t,n)=>{n.pattern??(n.pattern=pw),Ve.init(t,n),t._zod.check=a=>{const i=a.value.split("/");try{if(i.length!==2)throw new Error;const[r,l]=i;if(!l)throw new Error;const c=Number(l);if(`${c}`!==l)throw new Error;if(c<0||c>128)throw new Error;new URL(`http://[${r}]`)}catch{a.issues.push({code:"invalid_format",format:"cidrv6",input:a.value,inst:t,continue:!n.abort})}}});function Wv(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const iN=ae("$ZodBase64",(t,n)=>{n.pattern??(n.pattern=fw),Ve.init(t,n),t._zod.bag.contentEncoding="base64",t._zod.check=a=>{Wv(a.value)||a.issues.push({code:"invalid_format",format:"base64",input:a.value,inst:t,continue:!n.abort})}});function rN(t){if(!Fv.test(t))return!1;const n=t.replace(/[-_]/g,i=>i==="-"?"+":"/"),a=n.padEnd(Math.ceil(n.length/4)*4,"=");return Wv(a)}const lN=ae("$ZodBase64URL",(t,n)=>{n.pattern??(n.pattern=Fv),Ve.init(t,n),t._zod.bag.contentEncoding="base64url",t._zod.check=a=>{rN(a.value)||a.issues.push({code:"invalid_format",format:"base64url",input:a.value,inst:t,continue:!n.abort})}}),oN=ae("$ZodE164",(t,n)=>{n.pattern??(n.pattern=gw),Ve.init(t,n)});function cN(t,n=null){try{const a=t.split(".");if(a.length!==3)return!1;const[i]=a;if(!i)return!1;const r=JSON.parse(atob(i));return!("typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||n&&(!("alg"in r)||r.alg!==n))}catch{return!1}}const hN=ae("$ZodJWT",(t,n)=>{Ve.init(t,n),t._zod.check=a=>{cN(a.value,n.alg)||a.issues.push({code:"invalid_format",format:"jwt",input:a.value,inst:t,continue:!n.abort})}}),Qv=ae("$ZodNumber",(t,n)=>{et.init(t,n),t._zod.pattern=t._zod.bag.pattern??Vv,t._zod.parse=(a,i)=>{if(n.coerce)try{a.value=Number(a.value)}catch{}const r=a.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return a;const l=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return a.issues.push({expected:"number",code:"invalid_type",input:r,inst:t,...l?{received:l}:{}}),a}}),dN=ae("$ZodNumberFormat",(t,n)=>{Sw.init(t,n),Qv.init(t,n)}),mN=ae("$ZodBoolean",(t,n)=>{et.init(t,n),t._zod.pattern=Nw,t._zod.parse=(a,i)=>{if(n.coerce)try{a.value=!!a.value}catch{}const r=a.value;return typeof r=="boolean"||a.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:t}),a}}),uN=ae("$ZodUnknown",(t,n)=>{et.init(t,n),t._zod.parse=a=>a}),xN=ae("$ZodNever",(t,n)=>{et.init(t,n),t._zod.parse=(a,i)=>(a.issues.push({expected:"never",code:"invalid_type",input:a.value,inst:t}),a)});function Rp(t,n,a){t.issues.length&&n.issues.push(...Ai(a,t.issues)),n.value[a]=t.value}const pN=ae("$ZodArray",(t,n)=>{et.init(t,n),t._zod.parse=(a,i)=>{const r=a.value;if(!Array.isArray(r))return a.issues.push({expected:"array",code:"invalid_type",input:r,inst:t}),a;a.value=Array(r.length);const l=[];for(let c=0;c<r.length;c++){const h=r[c],d=n.element._zod.run({value:h,issues:[]},i);d instanceof Promise?l.push(d.then(u=>Rp(u,a,c))):Rp(d,a,c)}return l.length?Promise.all(l).then(()=>a):a}});function Nc(t,n,a,i,r){if(t.issues.length){if(r&&!(a in i))return;n.issues.push(...Ai(a,t.issues))}t.value===void 0?a in i&&(n.value[a]=void 0):n.value[a]=t.value}function Jv(t){var i,r,l,c;const n=Object.keys(t.shape);for(const h of n)if(!((c=(l=(r=(i=t.shape)==null?void 0:i[h])==null?void 0:r._zod)==null?void 0:l.traits)!=null&&c.has("$ZodType")))throw new Error(`Invalid element at key "${h}": expected a Zod schema`);const a=q1(t.shape);return{...t,keys:n,keySet:new Set(n),numKeys:n.length,optionalKeys:new Set(a)}}function ey(t,n,a,i,r,l){const c=[],h=r.keySet,d=r.catchall._zod,u=d.def.type,p=d.optout==="optional";for(const j in n){if(h.has(j))continue;if(u==="never"){c.push(j);continue}const f=d.run({value:n[j],issues:[]},i);f instanceof Promise?t.push(f.then(N=>Nc(N,a,j,n,p))):Nc(f,a,j,n,p)}return c.length&&a.issues.push({code:"unrecognized_keys",keys:c,input:n,inst:l}),t.length?Promise.all(t).then(()=>a):a}const fN=ae("$ZodObject",(t,n)=>{et.init(t,n);const a=Object.getOwnPropertyDescriptor(n,"shape");if(!(a!=null&&a.get)){const h=n.shape;Object.defineProperty(n,"shape",{get:()=>{const d={...h};return Object.defineProperty(n,"shape",{value:d}),d}})}const i=fu(()=>Jv(n));Ce(t._zod,"propValues",()=>{const h=n.shape,d={};for(const u in h){const p=h[u]._zod;if(p.values){d[u]??(d[u]=new Set);for(const j of p.values)d[u].add(j)}}return d});const r=wc,l=n.catchall;let c;t._zod.parse=(h,d)=>{c??(c=i.value);const u=h.value;if(!r(u))return h.issues.push({expected:"object",code:"invalid_type",input:u,inst:t}),h;h.value={};const p=[],j=c.shape;for(const f of c.keys){const N=j[f],O=N._zod.optout==="optional",P=N._zod.run({value:u[f],issues:[]},d);P instanceof Promise?p.push(P.then(Z=>Nc(Z,h,f,u,O))):Nc(P,h,f,u,O)}return l?ey(p,u,h,d,i.value,t):p.length?Promise.all(p).then(()=>h):h}}),gN=ae("$ZodObjectJIT",(t,n)=>{fN.init(t,n);const a=t._zod.parse,i=fu(()=>Jv(n)),r=f=>{var _;const N=new Ow(["shape","payload","ctx"]),O=i.value,P=C=>{const Y=Ip(C);return`shape[${Y}]._zod.run({ value: input[${Y}], issues: [] }, ctx)`};N.write("const input = payload.value;");const Z=Object.create(null);let G=0;for(const C of O.keys)Z[C]=`key_${G++}`;N.write("const newResult = {};");for(const C of O.keys){const Y=Z[C],se=Ip(C),k=f[C],g=((_=k==null?void 0:k._zod)==null?void 0:_.optout)==="optional";N.write(`const ${Y} = ${P(C)};`),g?N.write(`
        if (${Y}.issues.length) {
          if (${se} in input) {
            payload.issues = payload.issues.concat(${Y}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${se}, ...iss.path] : [${se}]
            })));
          }
        }
        
        if (${Y}.value === undefined) {
          if (${se} in input) {
            newResult[${se}] = undefined;
          }
        } else {
          newResult[${se}] = ${Y}.value;
        }
        
      `):N.write(`
        if (${Y}.issues.length) {
          payload.issues = payload.issues.concat(${Y}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${se}, ...iss.path] : [${se}]
          })));
        }
        
        if (${Y}.value === undefined) {
          if (${se} in input) {
            newResult[${se}] = undefined;
          }
        } else {
          newResult[${se}] = ${Y}.value;
        }
        
      `)}N.write("payload.value = newResult;"),N.write("return payload;");const b=N.compile();return(C,Y)=>b(f,C,Y)};let l;const c=wc,h=!Iv.jitless,u=h&&C1.value,p=n.catchall;let j;t._zod.parse=(f,N)=>{j??(j=i.value);const O=f.value;return c(O)?h&&u&&(N==null?void 0:N.async)===!1&&N.jitless!==!0?(l||(l=r(n.shape)),f=l(f,N),p?ey([],O,f,N,j,t):f):a(f,N):(f.issues.push({expected:"object",code:"invalid_type",input:O,inst:t}),f)}});function Lp(t,n,a,i){for(const l of t)if(l.issues.length===0)return n.value=l.value,n;const r=t.filter(l=>!Gi(l));return r.length===1?(n.value=r[0].value,r[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:a,errors:t.map(l=>l.issues.map(c=>ja(c,i,ga())))}),n)}const jN=ae("$ZodUnion",(t,n)=>{et.init(t,n),Ce(t._zod,"optin",()=>n.options.some(r=>r._zod.optin==="optional")?"optional":void 0),Ce(t._zod,"optout",()=>n.options.some(r=>r._zod.optout==="optional")?"optional":void 0),Ce(t._zod,"values",()=>{if(n.options.every(r=>r._zod.values))return new Set(n.options.flatMap(r=>Array.from(r._zod.values)))}),Ce(t._zod,"pattern",()=>{if(n.options.every(r=>r._zod.pattern)){const r=n.options.map(l=>l._zod.pattern);return new RegExp(`^(${r.map(l=>ju(l.source)).join("|")})$`)}});const a=n.options.length===1,i=n.options[0]._zod.run;t._zod.parse=(r,l)=>{if(a)return i(r,l);let c=!1;const h=[];for(const d of n.options){const u=d._zod.run({value:r.value,issues:[]},l);if(u instanceof Promise)h.push(u),c=!0;else{if(u.issues.length===0)return u;h.push(u)}}return c?Promise.all(h).then(d=>Lp(d,r,t,l)):Lp(h,r,t,l)}}),vN=ae("$ZodIntersection",(t,n)=>{et.init(t,n),t._zod.parse=(a,i)=>{const r=a.value,l=n.left._zod.run({value:r,issues:[]},i),c=n.right._zod.run({value:r,issues:[]},i);return l instanceof Promise||c instanceof Promise?Promise.all([l,c]).then(([d,u])=>Hp(a,d,u)):Hp(a,l,c)}});function rm(t,n){if(t===n)return{valid:!0,data:t};if(t instanceof Date&&n instanceof Date&&+t==+n)return{valid:!0,data:t};if(Yi(t)&&Yi(n)){const a=Object.keys(n),i=Object.keys(t).filter(l=>a.indexOf(l)!==-1),r={...t,...n};for(const l of i){const c=rm(t[l],n[l]);if(!c.valid)return{valid:!1,mergeErrorPath:[l,...c.mergeErrorPath]};r[l]=c.data}return{valid:!0,data:r}}if(Array.isArray(t)&&Array.isArray(n)){if(t.length!==n.length)return{valid:!1,mergeErrorPath:[]};const a=[];for(let i=0;i<t.length;i++){const r=t[i],l=n[i],c=rm(r,l);if(!c.valid)return{valid:!1,mergeErrorPath:[i,...c.mergeErrorPath]};a.push(c.data)}return{valid:!0,data:a}}return{valid:!1,mergeErrorPath:[]}}function Hp(t,n,a){const i=new Map;let r;for(const h of n.issues)if(h.code==="unrecognized_keys"){r??(r=h);for(const d of h.keys)i.has(d)||i.set(d,{}),i.get(d).l=!0}else t.issues.push(h);for(const h of a.issues)if(h.code==="unrecognized_keys")for(const d of h.keys)i.has(d)||i.set(d,{}),i.get(d).r=!0;else t.issues.push(h);const l=[...i].filter(([,h])=>h.l&&h.r).map(([h])=>h);if(l.length&&r&&t.issues.push({...r,keys:l}),Gi(t))return t;const c=rm(n.value,a.value);if(!c.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(c.mergeErrorPath)}`);return t.value=c.data,t}const yN=ae("$ZodRecord",(t,n)=>{et.init(t,n),t._zod.parse=(a,i)=>{const r=a.value;if(!Yi(r))return a.issues.push({expected:"record",code:"invalid_type",input:r,inst:t}),a;const l=[],c=n.keyType._zod.values;if(c){a.value={};const h=new Set;for(const u of c)if(typeof u=="string"||typeof u=="number"||typeof u=="symbol"){h.add(typeof u=="number"?u.toString():u);const p=n.valueType._zod.run({value:r[u],issues:[]},i);p instanceof Promise?l.push(p.then(j=>{j.issues.length&&a.issues.push(...Ai(u,j.issues)),a.value[u]=j.value})):(p.issues.length&&a.issues.push(...Ai(u,p.issues)),a.value[u]=p.value)}let d;for(const u in r)h.has(u)||(d=d??[],d.push(u));d&&d.length>0&&a.issues.push({code:"unrecognized_keys",input:r,inst:t,keys:d})}else{a.value={};for(const h of Reflect.ownKeys(r)){if(h==="__proto__")continue;let d=n.keyType._zod.run({value:h,issues:[]},i);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof h=="string"&&Vv.test(h)&&d.issues.length&&d.issues.some(j=>j.code==="invalid_type"&&j.expected==="number")){const j=n.keyType._zod.run({value:Number(h),issues:[]},i);if(j instanceof Promise)throw new Error("Async schemas not supported in object keys currently");j.issues.length===0&&(d=j)}if(d.issues.length){n.mode==="loose"?a.value[h]=r[h]:a.issues.push({code:"invalid_key",origin:"record",issues:d.issues.map(j=>ja(j,i,ga())),input:h,path:[h],inst:t});continue}const p=n.valueType._zod.run({value:r[h],issues:[]},i);p instanceof Promise?l.push(p.then(j=>{j.issues.length&&a.issues.push(...Ai(h,j.issues)),a.value[d.value]=j.value})):(p.issues.length&&a.issues.push(...Ai(h,p.issues)),a.value[d.value]=p.value)}}return l.length?Promise.all(l).then(()=>a):a}}),bN=ae("$ZodEnum",(t,n)=>{et.init(t,n);const a=Ov(n.entries),i=new Set(a);t._zod.values=i,t._zod.pattern=new RegExp(`^(${a.filter(r=>M1.has(typeof r)).map(r=>typeof r=="string"?Kc(r):r.toString()).join("|")})$`),t._zod.parse=(r,l)=>{const c=r.value;return i.has(c)||r.issues.push({code:"invalid_value",values:a,input:c,inst:t}),r}}),wN=ae("$ZodTransform",(t,n)=>{et.init(t,n),t._zod.parse=(a,i)=>{if(i.direction==="backward")throw new Dv(t.constructor.name);const r=n.transform(a.value,a);if(i.async)return(r instanceof Promise?r:Promise.resolve(r)).then(c=>(a.value=c,a));if(r instanceof Promise)throw new Oi;return a.value=r,a}});function Pp(t,n){return t.issues.length&&n===void 0?{issues:[],value:void 0}:t}const ty=ae("$ZodOptional",(t,n)=>{et.init(t,n),t._zod.optin="optional",t._zod.optout="optional",Ce(t._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),Ce(t._zod,"pattern",()=>{const a=n.innerType._zod.pattern;return a?new RegExp(`^(${ju(a.source)})?$`):void 0}),t._zod.parse=(a,i)=>{if(n.innerType._zod.optin==="optional"){const r=n.innerType._zod.run(a,i);return r instanceof Promise?r.then(l=>Pp(l,a.value)):Pp(r,a.value)}return a.value===void 0?a:n.innerType._zod.run(a,i)}}),NN=ae("$ZodExactOptional",(t,n)=>{ty.init(t,n),Ce(t._zod,"values",()=>n.innerType._zod.values),Ce(t._zod,"pattern",()=>n.innerType._zod.pattern),t._zod.parse=(a,i)=>n.innerType._zod.run(a,i)}),TN=ae("$ZodNullable",(t,n)=>{et.init(t,n),Ce(t._zod,"optin",()=>n.innerType._zod.optin),Ce(t._zod,"optout",()=>n.innerType._zod.optout),Ce(t._zod,"pattern",()=>{const a=n.innerType._zod.pattern;return a?new RegExp(`^(${ju(a.source)}|null)$`):void 0}),Ce(t._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),t._zod.parse=(a,i)=>a.value===null?a:n.innerType._zod.run(a,i)}),kN=ae("$ZodDefault",(t,n)=>{et.init(t,n),t._zod.optin="optional",Ce(t._zod,"values",()=>n.innerType._zod.values),t._zod.parse=(a,i)=>{if(i.direction==="backward")return n.innerType._zod.run(a,i);if(a.value===void 0)return a.value=n.defaultValue,a;const r=n.innerType._zod.run(a,i);return r instanceof Promise?r.then(l=>Bp(l,n)):Bp(r,n)}});function Bp(t,n){return t.value===void 0&&(t.value=n.defaultValue),t}const _N=ae("$ZodPrefault",(t,n)=>{et.init(t,n),t._zod.optin="optional",Ce(t._zod,"values",()=>n.innerType._zod.values),t._zod.parse=(a,i)=>(i.direction==="backward"||a.value===void 0&&(a.value=n.defaultValue),n.innerType._zod.run(a,i))}),SN=ae("$ZodNonOptional",(t,n)=>{et.init(t,n),Ce(t._zod,"values",()=>{const a=n.innerType._zod.values;return a?new Set([...a].filter(i=>i!==void 0)):void 0}),t._zod.parse=(a,i)=>{const r=n.innerType._zod.run(a,i);return r instanceof Promise?r.then(l=>Fp(l,t)):Fp(r,t)}});function Fp(t,n){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:n}),t}const $N=ae("$ZodCatch",(t,n)=>{et.init(t,n),Ce(t._zod,"optin",()=>n.innerType._zod.optin),Ce(t._zod,"optout",()=>n.innerType._zod.optout),Ce(t._zod,"values",()=>n.innerType._zod.values),t._zod.parse=(a,i)=>{if(i.direction==="backward")return n.innerType._zod.run(a,i);const r=n.innerType._zod.run(a,i);return r instanceof Promise?r.then(l=>(a.value=l.value,l.issues.length&&(a.value=n.catchValue({...a,error:{issues:l.issues.map(c=>ja(c,i,ga()))},input:a.value}),a.issues=[]),a)):(a.value=r.value,r.issues.length&&(a.value=n.catchValue({...a,error:{issues:r.issues.map(l=>ja(l,i,ga()))},input:a.value}),a.issues=[]),a)}}),GN=ae("$ZodPipe",(t,n)=>{et.init(t,n),Ce(t._zod,"values",()=>n.in._zod.values),Ce(t._zod,"optin",()=>n.in._zod.optin),Ce(t._zod,"optout",()=>n.out._zod.optout),Ce(t._zod,"propValues",()=>n.in._zod.propValues),t._zod.parse=(a,i)=>{if(i.direction==="backward"){const l=n.out._zod.run(a,i);return l instanceof Promise?l.then(c=>yo(c,n.in,i)):yo(l,n.in,i)}const r=n.in._zod.run(a,i);return r instanceof Promise?r.then(l=>yo(l,n.out,i)):yo(r,n.out,i)}});function yo(t,n,a){return t.issues.length?(t.aborted=!0,t):n._zod.run({value:t.value,issues:t.issues},a)}const AN=ae("$ZodReadonly",(t,n)=>{et.init(t,n),Ce(t._zod,"propValues",()=>n.innerType._zod.propValues),Ce(t._zod,"values",()=>n.innerType._zod.values),Ce(t._zod,"optin",()=>{var a,i;return(i=(a=n.innerType)==null?void 0:a._zod)==null?void 0:i.optin}),Ce(t._zod,"optout",()=>{var a,i;return(i=(a=n.innerType)==null?void 0:a._zod)==null?void 0:i.optout}),t._zod.parse=(a,i)=>{if(i.direction==="backward")return n.innerType._zod.run(a,i);const r=n.innerType._zod.run(a,i);return r instanceof Promise?r.then(Up):Up(r)}});function Up(t){return t.value=Object.freeze(t.value),t}const EN=ae("$ZodCustom",(t,n)=>{Yt.init(t,n),et.init(t,n),t._zod.parse=(a,i)=>a,t._zod.check=a=>{const i=a.value,r=n.fn(i);if(r instanceof Promise)return r.then(l=>Kp(l,a,i,t));Kp(r,a,i,t)}});function Kp(t,n,a,i){if(!t){const r={code:"custom",input:a,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(r.params=i._zod.def.params),n.issues.push(Nl(r))}}var Vp;class CN{constructor(){this._map=new WeakMap,this._idmap=new Map}add(n,...a){const i=a[0];return this._map.set(n,i),i&&typeof i=="object"&&"id"in i&&this._idmap.set(i.id,n),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(n){const a=this._map.get(n);return a&&typeof a=="object"&&"id"in a&&this._idmap.delete(a.id),this._map.delete(n),this}get(n){const a=n._zod.parent;if(a){const i={...this.get(a)??{}};delete i.id;const r={...i,...this._map.get(n)};return Object.keys(r).length?r:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function MN(){return new CN}(Vp=globalThis).__zod_globalRegistry??(Vp.__zod_globalRegistry=MN());const Fr=globalThis.__zod_globalRegistry;function qN(t,n){return new t({type:"string",...fe(n)})}function zN(t,n){return new t({type:"string",format:"email",check:"string_format",abort:!1,...fe(n)})}function Xp(t,n){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...fe(n)})}function DN(t,n){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...fe(n)})}function IN(t,n){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...fe(n)})}function ON(t,n){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...fe(n)})}function RN(t,n){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...fe(n)})}function LN(t,n){return new t({type:"string",format:"url",check:"string_format",abort:!1,...fe(n)})}function HN(t,n){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...fe(n)})}function PN(t,n){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...fe(n)})}function BN(t,n){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...fe(n)})}function FN(t,n){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...fe(n)})}function UN(t,n){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...fe(n)})}function KN(t,n){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...fe(n)})}function VN(t,n){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...fe(n)})}function XN(t,n){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...fe(n)})}function ZN(t,n){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...fe(n)})}function YN(t,n){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...fe(n)})}function WN(t,n){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...fe(n)})}function QN(t,n){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...fe(n)})}function JN(t,n){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...fe(n)})}function eT(t,n){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...fe(n)})}function tT(t,n){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...fe(n)})}function sT(t,n){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...fe(n)})}function nT(t,n){return new t({type:"string",format:"date",check:"string_format",...fe(n)})}function aT(t,n){return new t({type:"string",format:"time",check:"string_format",precision:null,...fe(n)})}function iT(t,n){return new t({type:"string",format:"duration",check:"string_format",...fe(n)})}function rT(t,n){return new t({type:"number",checks:[],...fe(n)})}function lT(t,n){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...fe(n)})}function oT(t,n){return new t({type:"boolean",...fe(n)})}function cT(t){return new t({type:"unknown"})}function hT(t,n){return new t({type:"never",...fe(n)})}function Zp(t,n){return new Zv({check:"less_than",...fe(n),value:t,inclusive:!1})}function Vh(t,n){return new Zv({check:"less_than",...fe(n),value:t,inclusive:!0})}function Yp(t,n){return new Yv({check:"greater_than",...fe(n),value:t,inclusive:!1})}function Xh(t,n){return new Yv({check:"greater_than",...fe(n),value:t,inclusive:!0})}function Wp(t,n){return new _w({check:"multiple_of",...fe(n),value:t})}function sy(t,n){return new $w({check:"max_length",...fe(n),maximum:t})}function Tc(t,n){return new Gw({check:"min_length",...fe(n),minimum:t})}function ny(t,n){return new Aw({check:"length_equals",...fe(n),length:t})}function dT(t,n){return new Ew({check:"string_format",format:"regex",...fe(n),pattern:t})}function mT(t){return new Cw({check:"string_format",format:"lowercase",...fe(t)})}function uT(t){return new Mw({check:"string_format",format:"uppercase",...fe(t)})}function xT(t,n){return new qw({check:"string_format",format:"includes",...fe(n),includes:t})}function pT(t,n){return new zw({check:"string_format",format:"starts_with",...fe(n),prefix:t})}function fT(t,n){return new Dw({check:"string_format",format:"ends_with",...fe(n),suffix:t})}function ir(t){return new Iw({check:"overwrite",tx:t})}function gT(t){return ir(n=>n.normalize(t))}function jT(){return ir(t=>t.trim())}function vT(){return ir(t=>t.toLowerCase())}function yT(){return ir(t=>t.toUpperCase())}function bT(){return ir(t=>E1(t))}function wT(t,n,a){return new t({type:"array",element:n,...fe(a)})}function NT(t,n,a){return new t({type:"custom",check:"custom",fn:n,...fe(a)})}function TT(t){const n=kT(a=>(a.addIssue=i=>{if(typeof i=="string")a.issues.push(Nl(i,a.value,n._zod.def));else{const r=i;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=a.value),r.inst??(r.inst=n),r.continue??(r.continue=!n._zod.def.abort),a.issues.push(Nl(r))}},t(a.value,a)));return n}function kT(t,n){const a=new Yt({check:"custom",...fe(n)});return a._zod.check=t,a}function ay(t){let n=(t==null?void 0:t.target)??"draft-2020-12";return n==="draft-4"&&(n="draft-04"),n==="draft-7"&&(n="draft-07"),{processors:t.processors??{},metadataRegistry:(t==null?void 0:t.metadata)??Fr,target:n,unrepresentable:(t==null?void 0:t.unrepresentable)??"throw",override:(t==null?void 0:t.override)??(()=>{}),io:(t==null?void 0:t.io)??"output",counter:0,seen:new Map,cycles:(t==null?void 0:t.cycles)??"ref",reused:(t==null?void 0:t.reused)??"inline",external:(t==null?void 0:t.external)??void 0}}function ht(t,n,a={path:[],schemaPath:[]}){var p,j;var i;const r=t._zod.def,l=n.seen.get(t);if(l)return l.count++,a.schemaPath.includes(t)&&(l.cycle=a.path),l.schema;const c={schema:{},count:1,cycle:void 0,path:a.path};n.seen.set(t,c);const h=(j=(p=t._zod).toJSONSchema)==null?void 0:j.call(p);if(h)c.schema=h;else{const f={...a,schemaPath:[...a.schemaPath,t],path:a.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(n,c.schema,f);else{const O=c.schema,P=n.processors[r.type];if(!P)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${r.type}`);P(t,n,O,f)}const N=t._zod.parent;N&&(c.ref||(c.ref=N),ht(N,n,f),n.seen.get(N).isParent=!0)}const d=n.metadataRegistry.get(t);return d&&Object.assign(c.schema,d),n.io==="input"&&Ot(t)&&(delete c.schema.examples,delete c.schema.default),n.io==="input"&&c.schema._prefault&&((i=c.schema).default??(i.default=c.schema._prefault)),delete c.schema._prefault,n.seen.get(t).schema}function iy(t,n){var c,h,d,u;const a=t.seen.get(n);if(!a)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=new Map;for(const p of t.seen.entries()){const j=(c=t.metadataRegistry.get(p[0]))==null?void 0:c.id;if(j){const f=i.get(j);if(f&&f!==p[0])throw new Error(`Duplicate schema id "${j}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);i.set(j,p[0])}}const r=p=>{var P;const j=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const Z=(P=t.external.registry.get(p[0]))==null?void 0:P.id,G=t.external.uri??(_=>_);if(Z)return{ref:G(Z)};const b=p[1].defId??p[1].schema.id??`schema${t.counter++}`;return p[1].defId=b,{defId:b,ref:`${G("__shared")}#/${j}/${b}`}}if(p[1]===a)return{ref:"#"};const N=`#/${j}/`,O=p[1].schema.id??`__schema${t.counter++}`;return{defId:O,ref:N+O}},l=p=>{if(p[1].schema.$ref)return;const j=p[1],{ref:f,defId:N}=r(p);j.def={...j.schema},N&&(j.defId=N);const O=j.schema;for(const P in O)delete O[P];O.$ref=f};if(t.cycles==="throw")for(const p of t.seen.entries()){const j=p[1];if(j.cycle)throw new Error(`Cycle detected: #/${(h=j.cycle)==null?void 0:h.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const p of t.seen.entries()){const j=p[1];if(n===p[0]){l(p);continue}if(t.external){const N=(d=t.external.registry.get(p[0]))==null?void 0:d.id;if(n!==p[0]&&N){l(p);continue}}if((u=t.metadataRegistry.get(p[0]))==null?void 0:u.id){l(p);continue}if(j.cycle){l(p);continue}if(j.count>1&&t.reused==="ref"){l(p);continue}}}function ry(t,n){var c,h,d;const a=t.seen.get(n);if(!a)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=u=>{const p=t.seen.get(u);if(p.ref===null)return;const j=p.def??p.schema,f={...j},N=p.ref;if(p.ref=null,N){i(N);const P=t.seen.get(N),Z=P.schema;if(Z.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(j.allOf=j.allOf??[],j.allOf.push(Z)):Object.assign(j,Z),Object.assign(j,f),u._zod.parent===N)for(const b in j)b==="$ref"||b==="allOf"||b in f||delete j[b];if(Z.$ref)for(const b in j)b==="$ref"||b==="allOf"||b in P.def&&JSON.stringify(j[b])===JSON.stringify(P.def[b])&&delete j[b]}const O=u._zod.parent;if(O&&O!==N){i(O);const P=t.seen.get(O);if(P!=null&&P.schema.$ref&&(j.$ref=P.schema.$ref,P.def))for(const Z in j)Z==="$ref"||Z==="allOf"||Z in P.def&&JSON.stringify(j[Z])===JSON.stringify(P.def[Z])&&delete j[Z]}t.override({zodSchema:u,jsonSchema:j,path:p.path??[]})};for(const u of[...t.seen.entries()].reverse())i(u[0]);const r={};if(t.target==="draft-2020-12"?r.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?r.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?r.$schema="http://json-schema.org/draft-04/schema#":t.target,(c=t.external)!=null&&c.uri){const u=(h=t.external.registry.get(n))==null?void 0:h.id;if(!u)throw new Error("Schema is missing an `id` property");r.$id=t.external.uri(u)}Object.assign(r,a.def??a.schema);const l=((d=t.external)==null?void 0:d.defs)??{};for(const u of t.seen.entries()){const p=u[1];p.def&&p.defId&&(l[p.defId]=p.def)}t.external||Object.keys(l).length>0&&(t.target==="draft-2020-12"?r.$defs=l:r.definitions=l);try{const u=JSON.parse(JSON.stringify(r));return Object.defineProperty(u,"~standard",{value:{...n["~standard"],jsonSchema:{input:kc(n,"input",t.processors),output:kc(n,"output",t.processors)}},enumerable:!1,writable:!1}),u}catch{throw new Error("Error converting schema to JSON.")}}function Ot(t,n){const a=n??{seen:new Set};if(a.seen.has(t))return!1;a.seen.add(t);const i=t._zod.def;if(i.type==="transform")return!0;if(i.type==="array")return Ot(i.element,a);if(i.type==="set")return Ot(i.valueType,a);if(i.type==="lazy")return Ot(i.getter(),a);if(i.type==="promise"||i.type==="optional"||i.type==="nonoptional"||i.type==="nullable"||i.type==="readonly"||i.type==="default"||i.type==="prefault")return Ot(i.innerType,a);if(i.type==="intersection")return Ot(i.left,a)||Ot(i.right,a);if(i.type==="record"||i.type==="map")return Ot(i.keyType,a)||Ot(i.valueType,a);if(i.type==="pipe")return Ot(i.in,a)||Ot(i.out,a);if(i.type==="object"){for(const r in i.shape)if(Ot(i.shape[r],a))return!0;return!1}if(i.type==="union"){for(const r of i.options)if(Ot(r,a))return!0;return!1}if(i.type==="tuple"){for(const r of i.items)if(Ot(r,a))return!0;return!!(i.rest&&Ot(i.rest,a))}return!1}const _T=(t,n={})=>a=>{const i=ay({...a,processors:n});return ht(t,i),iy(i,t),ry(i,t)},kc=(t,n,a={})=>i=>{const{libraryOptions:r,target:l}=i??{},c=ay({...r??{},target:l,io:n,processors:a});return ht(t,c),iy(c,t),ry(c,t)},ST={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},$T=(t,n,a,i)=>{const r=a;r.type="string";const{minimum:l,maximum:c,format:h,patterns:d,contentEncoding:u}=t._zod.bag;if(typeof l=="number"&&(r.minLength=l),typeof c=="number"&&(r.maxLength=c),h&&(r.format=ST[h]??h,r.format===""&&delete r.format,h==="time"&&delete r.format),u&&(r.contentEncoding=u),d&&d.size>0){const p=[...d];p.length===1?r.pattern=p[0].source:p.length>1&&(r.allOf=[...p.map(j=>({...n.target==="draft-07"||n.target==="draft-04"||n.target==="openapi-3.0"?{type:"string"}:{},pattern:j.source}))])}},GT=(t,n,a,i)=>{const r=a,{minimum:l,maximum:c,format:h,multipleOf:d,exclusiveMaximum:u,exclusiveMinimum:p}=t._zod.bag;typeof h=="string"&&h.includes("int")?r.type="integer":r.type="number",typeof p=="number"&&(n.target==="draft-04"||n.target==="openapi-3.0"?(r.minimum=p,r.exclusiveMinimum=!0):r.exclusiveMinimum=p),typeof l=="number"&&(r.minimum=l,typeof p=="number"&&n.target!=="draft-04"&&(p>=l?delete r.minimum:delete r.exclusiveMinimum)),typeof u=="number"&&(n.target==="draft-04"||n.target==="openapi-3.0"?(r.maximum=u,r.exclusiveMaximum=!0):r.exclusiveMaximum=u),typeof c=="number"&&(r.maximum=c,typeof u=="number"&&n.target!=="draft-04"&&(u<=c?delete r.maximum:delete r.exclusiveMaximum)),typeof d=="number"&&(r.multipleOf=d)},AT=(t,n,a,i)=>{a.type="boolean"},ET=(t,n,a,i)=>{a.not={}},CT=(t,n,a,i)=>{},MT=(t,n,a,i)=>{const r=t._zod.def,l=Ov(r.entries);l.every(c=>typeof c=="number")&&(a.type="number"),l.every(c=>typeof c=="string")&&(a.type="string"),a.enum=l},qT=(t,n,a,i)=>{if(n.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},zT=(t,n,a,i)=>{if(n.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},DT=(t,n,a,i)=>{const r=a,l=t._zod.def,{minimum:c,maximum:h}=t._zod.bag;typeof c=="number"&&(r.minItems=c),typeof h=="number"&&(r.maxItems=h),r.type="array",r.items=ht(l.element,n,{...i,path:[...i.path,"items"]})},IT=(t,n,a,i)=>{var u;const r=a,l=t._zod.def;r.type="object",r.properties={};const c=l.shape;for(const p in c)r.properties[p]=ht(c[p],n,{...i,path:[...i.path,"properties",p]});const h=new Set(Object.keys(c)),d=new Set([...h].filter(p=>{const j=l.shape[p]._zod;return n.io==="input"?j.optin===void 0:j.optout===void 0}));d.size>0&&(r.required=Array.from(d)),((u=l.catchall)==null?void 0:u._zod.def.type)==="never"?r.additionalProperties=!1:l.catchall?l.catchall&&(r.additionalProperties=ht(l.catchall,n,{...i,path:[...i.path,"additionalProperties"]})):n.io==="output"&&(r.additionalProperties=!1)},OT=(t,n,a,i)=>{const r=t._zod.def,l=r.inclusive===!1,c=r.options.map((h,d)=>ht(h,n,{...i,path:[...i.path,l?"oneOf":"anyOf",d]}));l?a.oneOf=c:a.anyOf=c},RT=(t,n,a,i)=>{const r=t._zod.def,l=ht(r.left,n,{...i,path:[...i.path,"allOf",0]}),c=ht(r.right,n,{...i,path:[...i.path,"allOf",1]}),h=u=>"allOf"in u&&Object.keys(u).length===1,d=[...h(l)?l.allOf:[l],...h(c)?c.allOf:[c]];a.allOf=d},LT=(t,n,a,i)=>{const r=a,l=t._zod.def;r.type="object";const c=l.keyType,h=c._zod.bag,d=h==null?void 0:h.patterns;if(l.mode==="loose"&&d&&d.size>0){const p=ht(l.valueType,n,{...i,path:[...i.path,"patternProperties","*"]});r.patternProperties={};for(const j of d)r.patternProperties[j.source]=p}else(n.target==="draft-07"||n.target==="draft-2020-12")&&(r.propertyNames=ht(l.keyType,n,{...i,path:[...i.path,"propertyNames"]})),r.additionalProperties=ht(l.valueType,n,{...i,path:[...i.path,"additionalProperties"]});const u=c._zod.values;if(u){const p=[...u].filter(j=>typeof j=="string"||typeof j=="number");p.length>0&&(r.required=p)}},HT=(t,n,a,i)=>{const r=t._zod.def,l=ht(r.innerType,n,i),c=n.seen.get(t);n.target==="openapi-3.0"?(c.ref=r.innerType,a.nullable=!0):a.anyOf=[l,{type:"null"}]},PT=(t,n,a,i)=>{const r=t._zod.def;ht(r.innerType,n,i);const l=n.seen.get(t);l.ref=r.innerType},BT=(t,n,a,i)=>{const r=t._zod.def;ht(r.innerType,n,i);const l=n.seen.get(t);l.ref=r.innerType,a.default=JSON.parse(JSON.stringify(r.defaultValue))},FT=(t,n,a,i)=>{const r=t._zod.def;ht(r.innerType,n,i);const l=n.seen.get(t);l.ref=r.innerType,n.io==="input"&&(a._prefault=JSON.parse(JSON.stringify(r.defaultValue)))},UT=(t,n,a,i)=>{const r=t._zod.def;ht(r.innerType,n,i);const l=n.seen.get(t);l.ref=r.innerType;let c;try{c=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}a.default=c},KT=(t,n,a,i)=>{const r=t._zod.def,l=n.io==="input"?r.in._zod.def.type==="transform"?r.out:r.in:r.out;ht(l,n,i);const c=n.seen.get(t);c.ref=l},VT=(t,n,a,i)=>{const r=t._zod.def;ht(r.innerType,n,i);const l=n.seen.get(t);l.ref=r.innerType,a.readOnly=!0},ly=(t,n,a,i)=>{const r=t._zod.def;ht(r.innerType,n,i);const l=n.seen.get(t);l.ref=r.innerType},XT=ae("ZodISODateTime",(t,n)=>{Ww.init(t,n),We.init(t,n)});function ZT(t){return sT(XT,t)}const YT=ae("ZodISODate",(t,n)=>{Qw.init(t,n),We.init(t,n)});function WT(t){return nT(YT,t)}const QT=ae("ZodISOTime",(t,n)=>{Jw.init(t,n),We.init(t,n)});function JT(t){return aT(QT,t)}const ek=ae("ZodISODuration",(t,n)=>{eN.init(t,n),We.init(t,n)});function tk(t){return iT(ek,t)}const sk=(t,n)=>{Pv.init(t,n),t.name="ZodError",Object.defineProperties(t,{format:{value:a=>F1(t,a)},flatten:{value:a=>B1(t,a)},addIssue:{value:a=>{t.issues.push(a),t.message=JSON.stringify(t.issues,im,2)}},addIssues:{value:a=>{t.issues.push(...a),t.message=JSON.stringify(t.issues,im,2)}},isEmpty:{get(){return t.issues.length===0}}})},Ss=ae("ZodError",sk,{Parent:Error}),nk=yu(Ss),ak=bu(Ss),ik=Vc(Ss),rk=Xc(Ss),lk=V1(Ss),ok=X1(Ss),ck=Z1(Ss),hk=Y1(Ss),dk=W1(Ss),mk=Q1(Ss),uk=J1(Ss),xk=ew(Ss),tt=ae("ZodType",(t,n)=>(et.init(t,n),Object.assign(t["~standard"],{jsonSchema:{input:kc(t,"input"),output:kc(t,"output")}}),t.toJSONSchema=_T(t,{}),t.def=n,t.type=n.type,Object.defineProperty(t,"_def",{value:n}),t.check=(...a)=>t.clone(ba(n,{checks:[...n.checks??[],...a.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),{parent:!0}),t.with=t.check,t.clone=(a,i)=>wa(t,a,i),t.brand=()=>t,t.register=(a,i)=>(a.add(t,i),t),t.parse=(a,i)=>nk(t,a,i,{callee:t.parse}),t.safeParse=(a,i)=>ik(t,a,i),t.parseAsync=async(a,i)=>ak(t,a,i,{callee:t.parseAsync}),t.safeParseAsync=async(a,i)=>rk(t,a,i),t.spa=t.safeParseAsync,t.encode=(a,i)=>lk(t,a,i),t.decode=(a,i)=>ok(t,a,i),t.encodeAsync=async(a,i)=>ck(t,a,i),t.decodeAsync=async(a,i)=>hk(t,a,i),t.safeEncode=(a,i)=>dk(t,a,i),t.safeDecode=(a,i)=>mk(t,a,i),t.safeEncodeAsync=async(a,i)=>uk(t,a,i),t.safeDecodeAsync=async(a,i)=>xk(t,a,i),t.refine=(a,i)=>t.check(l_(a,i)),t.superRefine=a=>t.check(o_(a)),t.overwrite=a=>t.check(ir(a)),t.optional=()=>ef(t),t.exactOptional=()=>Xk(t),t.nullable=()=>tf(t),t.nullish=()=>ef(tf(t)),t.nonoptional=a=>e_(t,a),t.array=()=>Wi(t),t.or=a=>hy([t,a]),t.and=a=>Bk(t,a),t.transform=a=>sf(t,Kk(a)),t.default=a=>Wk(t,a),t.prefault=a=>Jk(t,a),t.catch=a=>s_(t,a),t.pipe=a=>sf(t,a),t.readonly=()=>i_(t),t.describe=a=>{const i=t.clone();return Fr.add(i,{description:a}),i},Object.defineProperty(t,"description",{get(){var a;return(a=Fr.get(t))==null?void 0:a.description},configurable:!0}),t.meta=(...a)=>{if(a.length===0)return Fr.get(t);const i=t.clone();return Fr.add(i,a[0]),i},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=a=>a(t),t)),oy=ae("_ZodString",(t,n)=>{wu.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(i,r,l)=>$T(t,i,r);const a=t._zod.bag;t.format=a.format??null,t.minLength=a.minimum??null,t.maxLength=a.maximum??null,t.regex=(...i)=>t.check(dT(...i)),t.includes=(...i)=>t.check(xT(...i)),t.startsWith=(...i)=>t.check(pT(...i)),t.endsWith=(...i)=>t.check(fT(...i)),t.min=(...i)=>t.check(Tc(...i)),t.max=(...i)=>t.check(sy(...i)),t.length=(...i)=>t.check(ny(...i)),t.nonempty=(...i)=>t.check(Tc(1,...i)),t.lowercase=i=>t.check(mT(i)),t.uppercase=i=>t.check(uT(i)),t.trim=()=>t.check(jT()),t.normalize=(...i)=>t.check(gT(...i)),t.toLowerCase=()=>t.check(vT()),t.toUpperCase=()=>t.check(yT()),t.slugify=()=>t.check(bT())}),pk=ae("ZodString",(t,n)=>{wu.init(t,n),oy.init(t,n),t.email=a=>t.check(zN(fk,a)),t.url=a=>t.check(LN(gk,a)),t.jwt=a=>t.check(tT(Ck,a)),t.emoji=a=>t.check(HN(jk,a)),t.guid=a=>t.check(Xp(Qp,a)),t.uuid=a=>t.check(DN(bo,a)),t.uuidv4=a=>t.check(IN(bo,a)),t.uuidv6=a=>t.check(ON(bo,a)),t.uuidv7=a=>t.check(RN(bo,a)),t.nanoid=a=>t.check(PN(vk,a)),t.guid=a=>t.check(Xp(Qp,a)),t.cuid=a=>t.check(BN(yk,a)),t.cuid2=a=>t.check(FN(bk,a)),t.ulid=a=>t.check(UN(wk,a)),t.base64=a=>t.check(QN(Gk,a)),t.base64url=a=>t.check(JN(Ak,a)),t.xid=a=>t.check(KN(Nk,a)),t.ksuid=a=>t.check(VN(Tk,a)),t.ipv4=a=>t.check(XN(kk,a)),t.ipv6=a=>t.check(ZN(_k,a)),t.cidrv4=a=>t.check(YN(Sk,a)),t.cidrv6=a=>t.check(WN($k,a)),t.e164=a=>t.check(eT(Ek,a)),t.datetime=a=>t.check(ZT(a)),t.date=a=>t.check(WT(a)),t.time=a=>t.check(JT(a)),t.duration=a=>t.check(tk(a))});function xt(t){return qN(pk,t)}const We=ae("ZodStringFormat",(t,n)=>{Ve.init(t,n),oy.init(t,n)}),fk=ae("ZodEmail",(t,n)=>{Pw.init(t,n),We.init(t,n)}),Qp=ae("ZodGUID",(t,n)=>{Lw.init(t,n),We.init(t,n)}),bo=ae("ZodUUID",(t,n)=>{Hw.init(t,n),We.init(t,n)}),gk=ae("ZodURL",(t,n)=>{Bw.init(t,n),We.init(t,n)}),jk=ae("ZodEmoji",(t,n)=>{Fw.init(t,n),We.init(t,n)}),vk=ae("ZodNanoID",(t,n)=>{Uw.init(t,n),We.init(t,n)}),yk=ae("ZodCUID",(t,n)=>{Kw.init(t,n),We.init(t,n)}),bk=ae("ZodCUID2",(t,n)=>{Vw.init(t,n),We.init(t,n)}),wk=ae("ZodULID",(t,n)=>{Xw.init(t,n),We.init(t,n)}),Nk=ae("ZodXID",(t,n)=>{Zw.init(t,n),We.init(t,n)}),Tk=ae("ZodKSUID",(t,n)=>{Yw.init(t,n),We.init(t,n)}),kk=ae("ZodIPv4",(t,n)=>{tN.init(t,n),We.init(t,n)}),_k=ae("ZodIPv6",(t,n)=>{sN.init(t,n),We.init(t,n)}),Sk=ae("ZodCIDRv4",(t,n)=>{nN.init(t,n),We.init(t,n)}),$k=ae("ZodCIDRv6",(t,n)=>{aN.init(t,n),We.init(t,n)}),Gk=ae("ZodBase64",(t,n)=>{iN.init(t,n),We.init(t,n)}),Ak=ae("ZodBase64URL",(t,n)=>{lN.init(t,n),We.init(t,n)}),Ek=ae("ZodE164",(t,n)=>{oN.init(t,n),We.init(t,n)}),Ck=ae("ZodJWT",(t,n)=>{hN.init(t,n),We.init(t,n)}),cy=ae("ZodNumber",(t,n)=>{Qv.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(i,r,l)=>GT(t,i,r),t.gt=(i,r)=>t.check(Yp(i,r)),t.gte=(i,r)=>t.check(Xh(i,r)),t.min=(i,r)=>t.check(Xh(i,r)),t.lt=(i,r)=>t.check(Zp(i,r)),t.lte=(i,r)=>t.check(Vh(i,r)),t.max=(i,r)=>t.check(Vh(i,r)),t.int=i=>t.check(Jp(i)),t.safe=i=>t.check(Jp(i)),t.positive=i=>t.check(Yp(0,i)),t.nonnegative=i=>t.check(Xh(0,i)),t.negative=i=>t.check(Zp(0,i)),t.nonpositive=i=>t.check(Vh(0,i)),t.multipleOf=(i,r)=>t.check(Wp(i,r)),t.step=(i,r)=>t.check(Wp(i,r)),t.finite=()=>t;const a=t._zod.bag;t.minValue=Math.max(a.minimum??Number.NEGATIVE_INFINITY,a.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(a.maximum??Number.POSITIVE_INFINITY,a.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(a.format??"").includes("int")||Number.isSafeInteger(a.multipleOf??.5),t.isFinite=!0,t.format=a.format??null});function $t(t){return rT(cy,t)}const Mk=ae("ZodNumberFormat",(t,n)=>{dN.init(t,n),cy.init(t,n)});function Jp(t){return lT(Mk,t)}const qk=ae("ZodBoolean",(t,n)=>{mN.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(a,i,r)=>AT(t,a,i)});function zk(t){return oT(qk,t)}const Dk=ae("ZodUnknown",(t,n)=>{uN.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(a,i,r)=>CT()});function lm(){return cT(Dk)}const Ik=ae("ZodNever",(t,n)=>{xN.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(a,i,r)=>ET(t,a,i)});function Ok(t){return hT(Ik,t)}const Rk=ae("ZodArray",(t,n)=>{pN.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(a,i,r)=>DT(t,a,i,r),t.element=n.element,t.min=(a,i)=>t.check(Tc(a,i)),t.nonempty=a=>t.check(Tc(1,a)),t.max=(a,i)=>t.check(sy(a,i)),t.length=(a,i)=>t.check(ny(a,i)),t.unwrap=()=>t.element});function Wi(t,n){return wT(Rk,t,n)}const Lk=ae("ZodObject",(t,n)=>{gN.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(a,i,r)=>IT(t,a,i,r),Ce(t,"shape",()=>n.shape),t.keyof=()=>cm(Object.keys(t._zod.def.shape)),t.catchall=a=>t.clone({...t._zod.def,catchall:a}),t.passthrough=()=>t.clone({...t._zod.def,catchall:lm()}),t.loose=()=>t.clone({...t._zod.def,catchall:lm()}),t.strict=()=>t.clone({...t._zod.def,catchall:Ok()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=a=>O1(t,a),t.safeExtend=a=>R1(t,a),t.merge=a=>L1(t,a),t.pick=a=>D1(t,a),t.omit=a=>I1(t,a),t.partial=(...a)=>H1(my,t,a[0]),t.required=(...a)=>P1(uy,t,a[0])});function Os(t,n){const a={type:"object",shape:t??{},...fe(n)};return new Lk(a)}const Hk=ae("ZodUnion",(t,n)=>{jN.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(a,i,r)=>OT(t,a,i,r),t.options=n.options});function hy(t,n){return new Hk({type:"union",options:t,...fe(n)})}const Pk=ae("ZodIntersection",(t,n)=>{vN.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(a,i,r)=>RT(t,a,i,r)});function Bk(t,n){return new Pk({type:"intersection",left:t,right:n})}const Fk=ae("ZodRecord",(t,n)=>{yN.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(a,i,r)=>LT(t,a,i,r),t.keyType=n.keyType,t.valueType=n.valueType});function dy(t,n,a){return new Fk({type:"record",keyType:t,valueType:n,...fe(a)})}const om=ae("ZodEnum",(t,n)=>{bN.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(i,r,l)=>MT(t,i,r),t.enum=n.entries,t.options=Object.values(n.entries);const a=new Set(Object.keys(n.entries));t.extract=(i,r)=>{const l={};for(const c of i)if(a.has(c))l[c]=n.entries[c];else throw new Error(`Key ${c} not found in enum`);return new om({...n,checks:[],...fe(r),entries:l})},t.exclude=(i,r)=>{const l={...n.entries};for(const c of i)if(a.has(c))delete l[c];else throw new Error(`Key ${c} not found in enum`);return new om({...n,checks:[],...fe(r),entries:l})}});function cm(t,n){const a=Array.isArray(t)?Object.fromEntries(t.map(i=>[i,i])):t;return new om({type:"enum",entries:a,...fe(n)})}const Uk=ae("ZodTransform",(t,n)=>{wN.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(a,i,r)=>zT(t,a),t._zod.parse=(a,i)=>{if(i.direction==="backward")throw new Dv(t.constructor.name);a.addIssue=l=>{if(typeof l=="string")a.issues.push(Nl(l,a.value,n));else{const c=l;c.fatal&&(c.continue=!1),c.code??(c.code="custom"),c.input??(c.input=a.value),c.inst??(c.inst=t),a.issues.push(Nl(c))}};const r=n.transform(a.value,a);return r instanceof Promise?r.then(l=>(a.value=l,a)):(a.value=r,a)}});function Kk(t){return new Uk({type:"transform",transform:t})}const my=ae("ZodOptional",(t,n)=>{ty.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(a,i,r)=>ly(t,a,i,r),t.unwrap=()=>t._zod.def.innerType});function ef(t){return new my({type:"optional",innerType:t})}const Vk=ae("ZodExactOptional",(t,n)=>{NN.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(a,i,r)=>ly(t,a,i,r),t.unwrap=()=>t._zod.def.innerType});function Xk(t){return new Vk({type:"optional",innerType:t})}const Zk=ae("ZodNullable",(t,n)=>{TN.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(a,i,r)=>HT(t,a,i,r),t.unwrap=()=>t._zod.def.innerType});function tf(t){return new Zk({type:"nullable",innerType:t})}const Yk=ae("ZodDefault",(t,n)=>{kN.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(a,i,r)=>BT(t,a,i,r),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function Wk(t,n){return new Yk({type:"default",innerType:t,get defaultValue(){return typeof n=="function"?n():Lv(n)}})}const Qk=ae("ZodPrefault",(t,n)=>{_N.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(a,i,r)=>FT(t,a,i,r),t.unwrap=()=>t._zod.def.innerType});function Jk(t,n){return new Qk({type:"prefault",innerType:t,get defaultValue(){return typeof n=="function"?n():Lv(n)}})}const uy=ae("ZodNonOptional",(t,n)=>{SN.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(a,i,r)=>PT(t,a,i,r),t.unwrap=()=>t._zod.def.innerType});function e_(t,n){return new uy({type:"nonoptional",innerType:t,...fe(n)})}const t_=ae("ZodCatch",(t,n)=>{$N.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(a,i,r)=>UT(t,a,i,r),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function s_(t,n){return new t_({type:"catch",innerType:t,catchValue:typeof n=="function"?n:()=>n})}const n_=ae("ZodPipe",(t,n)=>{GN.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(a,i,r)=>KT(t,a,i,r),t.in=n.in,t.out=n.out});function sf(t,n){return new n_({type:"pipe",in:t,out:n})}const a_=ae("ZodReadonly",(t,n)=>{AN.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(a,i,r)=>VT(t,a,i,r),t.unwrap=()=>t._zod.def.innerType});function i_(t){return new a_({type:"readonly",innerType:t})}const r_=ae("ZodCustom",(t,n)=>{EN.init(t,n),tt.init(t,n),t._zod.processJSONSchema=(a,i,r)=>qT(t,a)});function l_(t,n={}){return NT(r_,t,n)}function o_(t){return TT(t)}_s("Validation");const nf=xt().min(1).max(100);xt().regex(/^[a-fA-F0-9]{64}$/);const Yc=xt().regex(/^npub1[1-9ac-hjk-np-z46-9]+$/),xy=xt().min(1).max(50).regex(/^[a-zA-Z0-9\s\-'.]+$/);xt().regex(/^[a-zA-Z0-9.\-_]+(@[a-zA-Z0-9.\-_]+\.[a-zA-Z]{2,})?$/);Os({challenge:xt().min(10).max(200),expiresAt:$t().int().positive()});Os({kind:$t().int(),created_at:$t().int().nonnegative(),tags:Wi(Wi(xt())),content:xt()});const c_=Os({npub:Yc,displayName:xy.nullable()}),py=Os({visitedAt:xt().nullable().optional(),completedAt:xt().nullable().optional(),quizAttempts:Wi(Os({xpEarned:$t().int().min(0).optional(),score:$t().min(0).max(100).optional(),timestamp:xt().optional(),difficulty:cm(["easy","medium","hard"]).optional(),correctAnswers:$t().int().min(0).optional(),totalQuestions:$t().int().min(1).optional()})).optional(),visualizationsInteracted:Wi(xt().max(100)).optional(),masteryLevel:hy([$t().int().min(0).max(3),cm(["none","learning","familiar","mastered"])]).nullable().optional(),sectionId:xt().optional(),timeSpentSeconds:$t().int().min(0).optional()});Os({user:Os({totalXP:$t().int().min(0),level:$t().int().min(1).max(10),sectionsCompleted:Wi(nf)}),sections:dy(nf,py),dailyGoals:Os({lastResetDate:xt().nullable(),currentStreak:$t().int().min(0),xpEarned:$t().int().min(0),xpGoal:$t().int().min(0)}),lastUpdated:$t().int().nonnegative()});Os({success:zk(),totalXP:$t().int().min(0)});Os({npub:Yc,displayName:xy.nullable(),xp:$t().int().min(0),lastSync:xt()});Os({timestamp:xt(),action:xt(),targetNpub:Yc.nullable(),performedBy:xt(),details:dy(xt(),lm()).nullable()});function Zh(t){return Yc.safeParse(t).success?{valid:!0}:{valid:!1,error:'Invalid npub format. Must start with "npub1" followed by bech32 characters.'}}function h_(t){const n=py.safeParse(t);return n.success?{valid:!0,data:n.data}:{valid:!1,error:"Invalid section data format"}}function d_(t){const n=c_.safeParse(t);return n.success?{valid:!0,data:n.data}:{valid:!1,error:"Invalid auth state format"}}const zt={SECTION_VISIT:10,SECTION_COMPLETE:25,QUIZ_EASY:15,QUIZ_MEDIUM:25,QUIZ_HARD:40,QUIZ_PERFECT_BONUS:.5,VISUALIZATION_USE:5,PART_COMPLETE_BONUS:50,STREAK_DAILY_BONUS:5,STREAK_BONUS_CAP:50},un={GAME_PARTICIPATION:10,TIER_MULTIPLIER:{1:.5,2:.6,3:.8,4:1,5:1.2,6:1.5,7:1.8,8:2.2,9:2.7,10:3.5},POINTS_PER_XP_UNIT:500,PERFECT_GAME_BONUS:25,SPEED_DEMON_BONUS:15,STREAK_MASTER_BONUS:20,FIRST_PLACE_BONUS:30,SECOND_PLACE_BONUS:15,THIRD_PLACE_BONUS:5},rl=[0,100,250,500,850,1300,1900,2650,3550,4600,5850,7300,9e3,10950,13150,15650,18450,21550,25e3,28800,33e3,37600,42600,48e3,54e3],fy=50,_c=_s("SyncManager"),m_="magic-internet-math-progress";function af(){try{const t=localStorage.getItem(m_);if(!t)return null;const n=JSON.parse(t);if(!(n!=null&&n.user)||!(n!=null&&n.sections))return null;const a=n.user.totalXP||0,i={ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0,"mod-race":0,man_econ_state:0};for(const[r,l]of Object.entries(n.sections)){const[c]=r.split(":");if(!G1(c))continue;const h=c,d=h_(l);if(!d.valid||!d.data){_c.warn(`Invalid section data for ${r}, skipping`);continue}const u=d.data;if(u.quizAttempts)for(const p of u.quizAttempts)p.xpEarned&&(i[h]+=p.xpEarned);u.visitedAt&&(i[h]+=zt.SECTION_VISIT),u.completedAt&&(i[h]+=zt.SECTION_COMPLETE),u.visualizationsInteracted&&(i[h]+=u.visualizationsInteracted.length*zt.VISUALIZATION_USE)}return{scores:[{courseId:"ba",xp:i.ba},{courseId:"crypto",xp:i.crypto},{courseId:"aa",xp:i.aa},{courseId:"linalg",xp:i.linalg},{courseId:"advlinalg",xp:i.advlinalg},{courseId:"islr",xp:i.islr},{courseId:"ra",xp:i.ra},{courseId:"calc1",xp:i.calc1},{courseId:"calc_lib_art",xp:i.calc_lib_art},{courseId:"calc_easy",xp:i.calc_easy},{courseId:"wm",xp:i.wm},{courseId:"four_pillars",xp:i.four_pillars},{courseId:"mom",xp:i.mom},{courseId:"euclid",xp:i.euclid},{courseId:"thales",xp:i.thales},{courseId:"gauss",xp:i.gauss},{courseId:"human_action",xp:i.human_action},{courseId:"atlas_shrugged",xp:i.atlas_shrugged}],totalXP:a}}catch(t){return _c.error("Error extracting scores from storage:",t),null}}class u_{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.isAuthenticated=!1,this.displayName=null,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.syncNow()}}setAuthenticated(n){this.isAuthenticated=n,n&&this.syncNow()}setDisplayName(n){this.displayName=n}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.syncNow()},$v),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(){this.isAuthenticated&&(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow()},Gv))}async syncNow(){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!Nn())return{success:!1,error:"Firebase not configured"};const n=Date.now();if(n-this.lastSyncTime<Sv)return{success:!1,error:"Rate limited"};try{const a=af();if(!a)return{success:!1,error:"No scores to sync"};const i=wn(),r=Fs(i,"syncScores"),l={scores:a.scores,totalXP:a.totalXP};this.displayName!==void 0&&(l.displayName=this.displayName);const c=await r(l);return this.lastSyncTime=n,{success:c.data.success,totalXP:c.data.totalXP}}catch(a){return _c.error("Sync failed:",a),{success:!1,error:a instanceof Error?a.message:"Unknown error"}}}async syncWithRetry(n=3){for(let a=0;a<n;a++){const i=await this.syncNow();if(i.success||i.error==="Not authenticated"||i.error==="No scores to sync"||i.error==="Firebase not configured")return i;if(a<n-1){const r=1e3*Math.pow(2,a);_c.debug(`Sync retry ${a+1}/${n} in ${r}ms`),await new Promise(l=>setTimeout(l,r)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}getLocalScores(){const n=af();return n?n.scores.reduce((a,i)=>(a[i.courseId]=i.xp,a),{ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0}):null}}let Yh=null;function fi(){return Yh||(Yh=new u_),Yh}const vt=_s("NostrAuth"),gy=$.createContext(null),Mr="magic-internet-math-nostr-auth";function x_({children:t}){const[n,a]=$.useState(!1),[i,r]=$.useState(null),[l,c]=$.useState(null),[h,d]=$.useState(null),[u,p]=$.useState(!1),[j,f]=$.useState(null),[N,O]=$.useState(!1),[P,Z]=$.useState(!1),[G,b]=$.useState(null);$.useEffect(()=>{(async()=>{const w=await _1(d1);O(w),Z(!0)})()},[]);const _=$.useCallback(async v=>{for(const w of Av)try{const S=await zv(w,v);if(S){S.nip05&&d(S.nip05);const A=S.display_name||S.name;if(A){c(A);const T=fi();T.setDisplayName(A),T.requestSync()}return}}catch(S){vt.warn(`Failed to fetch profile from ${w}:`,S)}},[]);$.useEffect(()=>{if(!Nn())return;const v=Uh(),w=u0(v,async S=>{if(b(S),S){r(S.uid);try{const T=await S.getIdTokenResult(!0);vt.debug("Token claims:",T.claims),p(T.claims.isAdmin===!0)}catch(T){vt.error("Error getting token:",T),p(!1)}try{const T=localStorage.getItem(Mr);if(T){const oe=JSON.parse(T),te=d_(oe);if(!te.valid||!te.data){vt.warn("Invalid auth state in localStorage:",te.error),localStorage.removeItem(Mr);return}te.data.npub===S.uid&&c(te.data.displayName)}}catch(T){vt.debug("Storage read error:",T)}const A=fi();A.setAuthenticated(!0),A.startPeriodicSync();try{const T=qv(S.uid);_(T)}catch(T){vt.debug("Npub conversion error:",T)}}else{r(null),d(null),p(!1),c(null);const A=fi();A.setAuthenticated(!1),A.stopPeriodicSync()}});return()=>w()},[_]);const C=$.useCallback(async()=>{if(vt.debug("connect() called"),vt.debug("isFirebaseConfigured:",Nn()),vt.debug("hasNostrExtension:",bc()),!Nn()){vt.info("Firebase not configured, cannot connect");return}if(!bc()){f("No Nostr extension found. Please install nos2x, Alby, or another NIP-07 extension."),vt.warn("No extension found, returning");return}a(!0),f(null),vt.info("Starting Nostr connection...");try{const v=window.nostr,w=wn(),S=await v.getPublicKey(),A=N1(S),oe=await Fs(w,"createChallenge")({pubkeyHex:S}),{challenge:te}=oe.data,K={kind:c1,created_at:Math.floor(Date.now()/1e3),tags:[["challenge",te]],content:te},F=await v.signEvent(K),U=await Fs(w,"verifyNostrAndCreateToken")({signedEvent:F,challenge:te}),D=Uh();await x0(D,U.data.token);try{const M={npub:A,displayName:null};localStorage.setItem(Mr,JSON.stringify(M))}catch(M){vt.warn("Failed to store auth state:",M)}fi().syncNow().catch(M=>{vt.warn("Initial sync failed:",M)})}catch(v){vt.error("Nostr connect error:",v),f(v instanceof Error?v.message:"Failed to connect. Please try again.")}finally{a(!1)}},[N]),Y=$.useCallback(async()=>{try{if(Nn()){const v=Uh();await p0(v)}try{localStorage.removeItem(Mr)}catch(v){vt.warn("Failed to clear auth state from storage:",v)}r(null),c(null),p(!1)}catch(v){vt.error("Disconnect error:",v),f(v instanceof Error?v.message:"Failed to disconnect")}},[]),se=$.useCallback(v=>{if(c(v),i)try{localStorage.setItem(Mr,JSON.stringify({npub:i,displayName:v}))}catch(S){vt.warn("Failed to update display name in storage:",S)}const w=fi();w.setDisplayName(v),w.requestSync()},[i]),k=$.useCallback(()=>{f(null)},[]),g=$.useMemo(()=>({isAuthenticated:!!G&&!!i,isConnecting:n,npub:i,displayName:l,nip05:h,isAdmin:u,error:j,hasExtension:N,extensionChecked:P,connect:C,disconnect:Y,setDisplayName:se,clearError:k}),[G,i,n,l,h,u,j,N,P,C,Y,se,k]);return e.jsx(gy.Provider,{value:g,children:t})}const p_={isAuthenticated:!1,isConnecting:!1,npub:null,displayName:null,nip05:null,isAdmin:!1,error:null,hasExtension:!1,extensionChecked:!0,connect:async()=>{},disconnect:async()=>{},setDisplayName:()=>{},clearError:()=>{}};function Ol(){const t=$.useContext(gy);return t||p_}_s("ErrorContext");$.createContext(null);_s("ErrorBoundary");function rf({className:t="",showDisplayName:n=!0}){var f,N;const{isAuthenticated:a,isConnecting:i,npub:r,displayName:l,hasExtension:c,extensionChecked:h,error:d,connect:u,disconnect:p,clearError:j}=Ol();return h?a?e.jsxs("div",{className:`flex items-center gap-3 ${t}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary-500 to-purple-500 flex items-center justify-center text-white text-xs font-bold",children:((f=l==null?void 0:l[0])==null?void 0:f.toUpperCase())||((N=r==null?void 0:r[5])==null?void 0:N.toUpperCase())||"?"}),e.jsxs("div",{className:"flex flex-col",children:[n&&l&&e.jsx("span",{className:"text-sm font-medium text-dark-100",children:l}),e.jsx("span",{className:"text-xs text-dark-400 font-mono",children:r?yc(r,6):"..."})]})]}),e.jsx("button",{onClick:p,className:"p-1.5 rounded-lg text-dark-400 hover:text-dark-200 hover:bg-dark-700/50 transition-colors",title:"Disconnect",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]}):e.jsxs("div",{className:`flex flex-col items-center gap-2 ${t}`,children:[e.jsx("button",{onClick:()=>{u()},disabled:i||!c,className:`
            flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm
            transition-all duration-200
            ${c?i?"bg-primary-600 text-white opacity-70 cursor-wait":"bg-primary-600 hover:bg-primary-500 text-white shadow-lg shadow-primary-600/25":"bg-dark-700 text-dark-400 cursor-not-allowed"}
          `,children:i?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Connecting..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Connect with Nostr"]})}),!c&&e.jsxs("p",{className:"text-xs text-dark-400 text-center max-w-xs",children:["Install a Nostr extension like"," ",e.jsx("a",{href:"https://github.com/nickytonline/nos2x",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 hover:underline",children:"nos2x"})," ","or"," ",e.jsx("a",{href:"https://getalby.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 hover:underline",children:"Alby"})," ","to connect"]}),d&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-400",children:[e.jsx("span",{children:d}),e.jsx("button",{onClick:j,className:"text-dark-400 hover:text-dark-200",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}):e.jsxs("div",{className:`flex items-center gap-2 ${t}`,children:[e.jsx("div",{className:"w-4 h-4 border-2 border-dark-400 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-dark-400 text-sm",children:"Checking..."})]})}function f_(t){switch(t){case 1:return{emoji:"1st",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400",borderColor:"border-yellow-500/30"};case 2:return{emoji:"2nd",bgColor:"bg-gray-400/20",textColor:"text-gray-300",borderColor:"border-gray-400/30"};case 3:return{emoji:"3rd",bgColor:"bg-orange-500/20",textColor:"text-orange-400",borderColor:"border-orange-500/30"};default:return{emoji:`${t}`,bgColor:"bg-dark-700/50",textColor:"text-dark-300",borderColor:"border-dark-600/30"}}}function g_({entry:t,isCurrentUser:n}){var i,r,l;const a=f_(t.rank);return e.jsxs("div",{className:`
        flex items-center gap-4 p-3 rounded-xl transition-colors
        ${n?"bg-primary-500/10 border border-primary-500/30":"hover:bg-dark-700/30"}
      `,children:[e.jsx("div",{className:`
          w-10 h-10 rounded-lg ${a.bgColor} ${a.borderColor} border
          flex items-center justify-center font-bold ${a.textColor}
          ${t.rank<=3?"text-lg":"text-sm"}
        `,children:a.emoji}),e.jsx("div",{className:`
          w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-bold
          ${t.rank===1?"bg-gradient-to-br from-yellow-400 to-yellow-600":t.rank===2?"bg-gradient-to-br from-gray-300 to-gray-500":t.rank===3?"bg-gradient-to-br from-orange-400 to-orange-600":"bg-gradient-to-br from-primary-500 to-purple-500"}
        `,children:((r=(i=t.displayName)==null?void 0:i[0])==null?void 0:r.toUpperCase())||((l=t.npub[5])==null?void 0:l.toUpperCase())||"?"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`font-medium truncate ${n?"text-primary-300":"text-dark-100"}`,children:t.displayName||yc(t.npub,8)}),n&&e.jsx("span",{className:"text-xs bg-primary-500/20 text-primary-300 px-1.5 py-0.5 rounded",children:"You"})]}),t.displayName&&e.jsx("span",{className:"text-xs text-dark-500 font-mono",children:yc(t.npub,6)})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-yellow-400",children:[t.xp.toLocaleString(),e.jsx("span",{className:"text-xs text-dark-400 ml-1",children:"XP"})]}),e.jsxs("div",{className:"text-xs text-dark-400",children:["Level ",t.level]})]})]})}function j_(){return e.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(t=>e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl animate-pulse",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-dark-700"}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-dark-700"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-dark-700 rounded w-32"}),e.jsx("div",{className:"h-3 bg-dark-700 rounded w-24"})]}),e.jsxs("div",{className:"space-y-2 text-right",children:[e.jsx("div",{className:"h-5 bg-dark-700 rounded w-16 ml-auto"}),e.jsx("div",{className:"h-3 bg-dark-700 rounded w-12 ml-auto"})]})]},t))})}function v_(){return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-3",children:""}),e.jsx("p",{className:"text-dark-300 font-medium",children:"No rankings yet"}),e.jsx("p",{className:"text-dark-500 text-sm mt-1",children:"Be the first to join the leaderboard!"})]})}function y_({rankings:t,currentUserNpub:n,isLoading:a=!1}){return a?e.jsx(j_,{}):t.length===0?e.jsx(v_,{}):e.jsx("div",{className:"space-y-2",children:t.map(i=>e.jsx(g_,{entry:i,isCurrentUser:n===i.npub},i.npub))})}function b_({rank:t,totalXP:n,level:a,courseXP:i}){var p,j;const{npub:r,displayName:l,nip05:c}=Ol(),[h,d]=$.useState(!1),u=$.useCallback(()=>{r&&(navigator.clipboard.writeText(r),d(!0),setTimeout(()=>d(!1),2e3))},[r]);return r?e.jsxs("div",{className:"p-5 rounded-2xl bg-gradient-to-br from-primary-500/10 to-purple-500/10 border border-primary-500/20 backdrop-blur",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-primary-500 to-purple-500 flex items-center justify-center text-white text-xl font-bold shadow-lg shadow-primary-500/25",children:((p=l==null?void 0:l[0])==null?void 0:p.toUpperCase())||((j=r[5])==null?void 0:j.toUpperCase())||"?"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[l&&e.jsx("div",{className:"font-semibold text-dark-100 truncate text-lg",children:l}),c&&e.jsxs("div",{className:"text-sm text-dark-300 flex items-center gap-1",children:[e.jsx("span",{className:"truncate",children:c}),e.jsx("svg",{className:"w-3.5 h-3.5 text-primary-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),e.jsxs("button",{onClick:u,className:"text-xs text-dark-400 font-mono break-all text-left hover:text-dark-200 transition-colors group",title:"Click to copy",children:[r,e.jsx("span",{className:"ml-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:h?"":""})]})]}),e.jsx("div",{className:"text-right",children:t!==null?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-3xl font-bold text-primary-400",children:["#",t]}),e.jsx("div",{className:"text-xs text-dark-400",children:"Global Rank"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-xl font-bold text-dark-400",children:"--"}),e.jsx("div",{className:"text-xs text-dark-500",children:"Not ranked"})]})})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700/50 grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:n.toLocaleString()}),e.jsx("div",{className:"text-xs text-dark-400",children:"Total XP"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:a}),e.jsx("div",{className:"text-xs text-dark-400",children:"Level"})]})]}),i&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700/50",children:[e.jsx("div",{className:"text-xs text-dark-400 mb-2",children:"XP by Course"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[e.jsx("div",{className:"text-sm font-bold text-blue-400",children:(i.ba||0).toLocaleString()}),e.jsx("div",{className:"text-xs text-dark-500",children:"Basic Algebra"})]}),e.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[e.jsx("div",{className:"text-sm font-bold text-green-400",children:(i.crypto||0).toLocaleString()}),e.jsx("div",{className:"text-xs text-dark-500",children:"Cryptography"})]}),e.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[e.jsx("div",{className:"text-sm font-bold text-purple-400",children:(i.aa||0).toLocaleString()}),e.jsx("div",{className:"text-xs text-dark-500",children:"Abstract Algebra"})]}),e.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[e.jsx("div",{className:"text-sm font-bold text-cyan-400",children:(i.linalg||0).toLocaleString()}),e.jsx("div",{className:"text-xs text-dark-500",children:"Linear Algebra"})]}),e.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[e.jsx("div",{className:"text-sm font-bold text-pink-400",children:(i.advlinalg||0).toLocaleString()}),e.jsx("div",{className:"text-xs text-dark-500",children:"Adv. Linear Alg."})]})]})]})]}):null}const w_=_s("AdminPanel");function N_({className:t=""}){const{isAdmin:n}=Ol(),[a,i]=$.useState(""),[r,l]=$.useState(""),[c,h]=$.useState(!1),[d,u]=$.useState(null),[p,j]=$.useState([]),[f,N]=$.useState(!1),O=$.useCallback(async()=>{if(!(!Nn()||!n))try{const _=wn(),Y=await Fs(_,"getAdminLogs")({limit:20});j(Y.data.logs)}catch(_){w_.error("Failed to load admin logs:",_)}},[n]);$.useEffect(()=>{f&&O()},[f,O]);const P=async()=>{const _=a.trim();if(!_){u({type:"error",text:"Please enter an npub"});return}const C=Zh(_);if(!C.valid){u({type:"error",text:C.error||"Invalid npub format"});return}h(!0),u(null);try{const Y=wn();await Fs(Y,"banUser")({targetNpub:a.trim(),reason:r.trim()||void 0}),u({type:"success",text:"User banned successfully"}),i(""),l(""),f&&O()}catch(Y){u({type:"error",text:Y instanceof Error?Y.message:"Failed to ban user"})}finally{h(!1)}},Z=async()=>{const _=a.trim();if(!_){u({type:"error",text:"Please enter an npub"});return}const C=Zh(_);if(!C.valid){u({type:"error",text:C.error||"Invalid npub format"});return}h(!0),u(null);try{const Y=wn();await Fs(Y,"unbanUser")({targetNpub:a.trim()}),u({type:"success",text:"User unbanned successfully"}),i(""),f&&O()}catch(Y){u({type:"error",text:Y instanceof Error?Y.message:"Failed to unban user"})}finally{h(!1)}},G=async()=>{const _=a.trim();if(!_){u({type:"error",text:"Please enter an npub"});return}const C=Zh(_);if(!C.valid){u({type:"error",text:C.error||"Invalid npub format"});return}if(confirm("Are you sure you want to reset this user's scores? This cannot be undone.")){h(!0),u(null);try{const Y=wn();await Fs(Y,"resetUserScores")({targetNpub:a.trim(),reason:r.trim()||void 0}),u({type:"success",text:"User scores reset successfully"}),i(""),l(""),f&&O()}catch(Y){u({type:"error",text:Y instanceof Error?Y.message:"Failed to reset scores"})}finally{h(!1)}}},b=_=>new Date(_.seconds*1e3).toLocaleString();return n?e.jsxs("div",{className:`p-5 rounded-2xl bg-dark-800/60 border border-dark-700/50 ${t}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-dark-100 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"})}),"Admin Panel"]}),e.jsx("span",{className:"text-xs bg-yellow-500/20 text-yellow-400 px-2 py-0.5 rounded",children:"Admin"})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-dark-400 mb-1",children:"Target User (npub)"}),e.jsx("input",{type:"text",value:a,onChange:_=>i(_.target.value),placeholder:"npub1...",className:"w-full px-3 py-2 rounded-lg bg-dark-900 border border-dark-600 text-dark-100 text-sm font-mono focus:outline-none focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-dark-400 mb-1",children:"Reason (optional)"}),e.jsx("input",{type:"text",value:r,onChange:_=>l(_.target.value),placeholder:"Reason for action",className:"w-full px-3 py-2 rounded-lg bg-dark-900 border border-dark-600 text-dark-100 text-sm focus:outline-none focus:border-primary-500"})]})]}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("button",{onClick:P,disabled:c,className:"flex-1 px-3 py-2 rounded-lg bg-red-600/20 border border-red-500/30 text-red-400 text-sm font-medium hover:bg-red-600/30 transition-colors disabled:opacity-50",children:"Ban User"}),e.jsx("button",{onClick:Z,disabled:c,className:"flex-1 px-3 py-2 rounded-lg bg-green-600/20 border border-green-500/30 text-green-400 text-sm font-medium hover:bg-green-600/30 transition-colors disabled:opacity-50",children:"Unban User"}),e.jsx("button",{onClick:G,disabled:c,className:"flex-1 px-3 py-2 rounded-lg bg-orange-600/20 border border-orange-500/30 text-orange-400 text-sm font-medium hover:bg-orange-600/30 transition-colors disabled:opacity-50",children:"Reset Scores"})]}),d&&e.jsx("div",{className:`p-3 rounded-lg text-sm mb-4 ${d.type==="success"?"bg-green-500/10 border border-green-500/30 text-green-400":"bg-red-500/10 border border-red-500/30 text-red-400"}`,children:d.text}),e.jsxs("button",{onClick:()=>N(!f),className:"w-full text-sm text-dark-400 hover:text-dark-200 transition-colors flex items-center justify-center gap-1",children:[f?"Hide":"Show"," Admin Logs",e.jsx("svg",{className:`w-4 h-4 transition-transform ${f?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),f&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700/50",children:[e.jsx("h4",{className:"text-sm font-medium text-dark-200 mb-2",children:"Recent Actions"}),p.length===0?e.jsx("p",{className:"text-xs text-dark-500",children:"No admin actions recorded"}):e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:p.map(_=>e.jsxs("div",{className:"p-2 rounded-lg bg-dark-900/50 text-xs",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:`font-medium ${_.action==="ban"?"text-red-400":_.action==="unban"?"text-green-400":"text-orange-400"}`,children:_.action.toUpperCase()}),e.jsx("span",{className:"text-dark-500",children:b(_.timestamp)})]}),e.jsxs("div",{className:"text-dark-400",children:["Target: ",e.jsx("span",{className:"font-mono",children:yc(_.targetNpub,8)})]}),_.reason&&e.jsxs("div",{className:"text-dark-500 mt-1",children:["Reason: ",_.reason]})]},_.id))})]})]}):null}const T_=_s("Leaderboard"),jy="magic-internet-math-leaderboard-cache";function k_(t){try{const n=localStorage.getItem(jy);if(!n)return null;const a=JSON.parse(n);return a.tab!==t||Date.now()-a.timestamp>u1?null:a}catch{return null}}function __(t,n,a){try{const i={rankings:t,userRank:n,timestamp:Date.now(),tab:a};localStorage.setItem(jy,JSON.stringify(i))}catch{}}function lf(t){if(t instanceof Error){const n=t.message.toLowerCase();if(n.includes("unauthenticated")||n.includes("not authenticated"))return"Please connect your Nostr wallet to view the leaderboard.";if(n.includes("permission")||n.includes("denied"))return"You don't have permission to access this resource.";if(n.includes("not-found")||n.includes("not found"))return"The requested data was not found.";if(n.includes("network")||n.includes("fetch")||n.includes("failed to fetch"))return"Network error. Please check your connection and try again.";if(n.includes("timeout")||n.includes("deadline"))return"Request timed out. Please try again."}return"Failed to load leaderboard. Please try again."}const of=[{id:"overall",label:"Overall",shortLabel:"All"},{id:"ba",label:"Basic Algebra",shortLabel:"BA"},{id:"crypto",label:"Cryptography",shortLabel:"Crypto"},{id:"aa",label:"Abstract Algebra",shortLabel:"AA"},{id:"linalg",label:"Linear Algebra",shortLabel:"LinAlg"},{id:"advlinalg",label:"Advanced Linear Algebra",shortLabel:"AdvLinAlg"},{id:"islr",label:"Statistical Learning",shortLabel:"ISLR"},{id:"ra",label:"Real Analysis",shortLabel:"RA"},{id:"calc1",label:"Calculus I",shortLabel:"Calc1"},{id:"calc_lib_art",label:"Calculus (Liberal Arts)",shortLabel:"CalcLA"},{id:"mom",label:"Men of Mathematics",shortLabel:"MoM"},{id:"calc_easy",label:"Calculus Made Easy",shortLabel:"CalcEasy"}];function S_({className:t=""}){var S;const{isAuthenticated:n,npub:a,displayName:i,setDisplayName:r,isAdmin:l}=Ol(),[c,h]=$.useState("overall"),[d,u]=$.useState([]),[p,j]=$.useState(null),[f,N]=$.useState(!0),[O,P]=$.useState(null),[Z,G]=$.useState(!1),[b,_]=$.useState(i||""),C=$.useRef(new Map),Y=$.useCallback(async()=>{if(!Nn()){P("Firebase not configured"),N(!1);return}N(!0),P(null);try{const A=wn(),oe=await Fs(A,"getLeaderboard")({courseId:c,limit:50});u(oe.data.rankings),j(oe.data.userRank),__(oe.data.rankings,oe.data.userRank,c)}catch(A){T_.error("Failed to load leaderboard:",A);const T=k_(c);T?(u(T.rankings),j(T.userRank),P("Showing cached data. "+lf(A))):P(lf(A))}finally{N(!1)}},[c]);$.useEffect(()=>{Y()},[Y]),$.useEffect(()=>{(async()=>{const T=d.filter(te=>!te.displayName&&!C.current.has(te.npub)).map(te=>te.npub);if(T.length===0)return;const oe=await S1(T);oe.forEach((te,K)=>{C.current.set(K,te)}),oe.size>0&&u(te=>te.map(K=>{const F=C.current.get(K.npub);return!K.displayName&&F?{...K,displayName:F.display_name||F.name||null}:K}))})()},[d]),$.useEffect(()=>{const A=setInterval(Y,m1);return()=>clearInterval(A)},[Y]);const k=fi().getLocalScores(),g=k?Object.values(k).reduce((A,T)=>A+(T||0),0):0,v=Math.floor(Math.sqrt(g/100))+1,w=()=>{const A=b.trim().slice(0,30);r(A||null),G(!1)};return e.jsxs("div",{className:`max-w-2xl mx-auto ${t}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-dark-100",children:"Leaderboard"}),e.jsx("p",{className:"text-sm text-dark-400 mt-1",children:"Compete with other learners across all courses"})]}),e.jsx(rf,{showDisplayName:!1})]}),n&&e.jsxs("div",{className:"mb-6",children:[e.jsx(b_,{rank:p,totalXP:g,level:v,courseXP:k||void 0}),e.jsx("div",{className:"mt-3 flex items-center gap-2",children:Z?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",value:b,onChange:A=>_(A.target.value),placeholder:"Enter display name",maxLength:30,className:"flex-1 px-3 py-1.5 rounded-lg bg-dark-800 border border-dark-600 text-dark-100 text-sm focus:outline-none focus:border-primary-500",autoFocus:!0,onKeyDown:A=>{A.key==="Enter"&&w(),A.key==="Escape"&&G(!1)}}),e.jsx("button",{onClick:w,className:"px-3 py-1.5 rounded-lg bg-primary-600 text-white text-sm hover:bg-primary-500 transition-colors",children:"Save"}),e.jsx("button",{onClick:()=>G(!1),className:"px-3 py-1.5 rounded-lg bg-dark-700 text-dark-300 text-sm hover:bg-dark-600 transition-colors",children:"Cancel"})]}):e.jsx("button",{onClick:()=>{_(i||""),G(!0)},className:"text-sm text-primary-400 hover:text-primary-300 transition-colors",children:i?"Edit display name":"Set display name"})})]}),!n&&e.jsxs("div",{className:"mb-6 p-6 rounded-2xl bg-dark-800/60 border border-dark-700/50 text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:""}),e.jsx("h3",{className:"text-lg font-semibold text-dark-100 mb-2",children:"Connect to Join the Leaderboard"}),e.jsx("p",{className:"text-sm text-dark-400 mb-4 max-w-sm mx-auto",children:"Link your Nostr identity to sync your progress and compete with other learners."}),e.jsx(rf,{})]}),e.jsx("div",{className:"flex gap-1 p-1 rounded-xl bg-dark-800/60 border border-dark-700/50 mb-4",children:of.map(A=>e.jsxs("button",{onClick:()=>h(A.id),className:`
              flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors
              ${c===A.id?"bg-primary-600 text-white shadow-lg shadow-primary-600/25":"text-dark-300 hover:text-dark-100 hover:bg-dark-700/50"}
            `,children:[e.jsx("span",{className:"hidden sm:inline",children:A.label}),e.jsx("span",{className:"sm:hidden",children:A.shortLabel})]},A.id))}),O&&e.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 text-sm",children:[O,e.jsx("button",{onClick:Y,className:"ml-2 underline hover:no-underline",children:"Retry"})]}),e.jsxs("div",{className:"p-4 rounded-2xl bg-dark-800/60 border border-dark-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"font-semibold text-dark-100",children:[(S=of.find(A=>A.id===c))==null?void 0:S.label," Rankings"]}),e.jsx("button",{onClick:Y,disabled:f,className:"text-xs text-dark-400 hover:text-dark-200 transition-colors disabled:opacity-50",children:f?"Loading...":"Refresh"})]}),e.jsx(y_,{rankings:d,currentUserNpub:a,isLoading:f})]}),l&&e.jsx(N_,{className:"mt-6"}),e.jsx("p",{className:"mt-4 text-xs text-dark-500 text-center",children:"Scores sync automatically when you're connected. Rankings update every few minutes."})]})}/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:vy,setPrototypeOf:cf,isFrozen:$_,getPrototypeOf:G_,getOwnPropertyDescriptor:A_}=Object;let{freeze:Lt,seal:ks,create:hm}=Object,{apply:dm,construct:mm}=typeof Reflect<"u"&&Reflect;Lt||(Lt=function(n){return n});ks||(ks=function(n){return n});dm||(dm=function(n,a){for(var i=arguments.length,r=new Array(i>2?i-2:0),l=2;l<i;l++)r[l-2]=arguments[l];return n.apply(a,r)});mm||(mm=function(n){for(var a=arguments.length,i=new Array(a>1?a-1:0),r=1;r<a;r++)i[r-1]=arguments[r];return new n(...i)});const wo=Ht(Array.prototype.forEach),E_=Ht(Array.prototype.lastIndexOf),hf=Ht(Array.prototype.pop),qr=Ht(Array.prototype.push),C_=Ht(Array.prototype.splice),Ho=Ht(String.prototype.toLowerCase),Wh=Ht(String.prototype.toString),Qh=Ht(String.prototype.match),zr=Ht(String.prototype.replace),M_=Ht(String.prototype.indexOf),q_=Ht(String.prototype.trim),Ms=Ht(Object.prototype.hasOwnProperty),It=Ht(RegExp.prototype.test),Dr=z_(TypeError);function Ht(t){return function(n){n instanceof RegExp&&(n.lastIndex=0);for(var a=arguments.length,i=new Array(a>1?a-1:0),r=1;r<a;r++)i[r-1]=arguments[r];return dm(t,n,i)}}function z_(t){return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return mm(t,a)}}function be(t,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ho;cf&&cf(t,null);let i=n.length;for(;i--;){let r=n[i];if(typeof r=="string"){const l=a(r);l!==r&&($_(n)||(n[i]=l),r=l)}t[r]=!0}return t}function D_(t){for(let n=0;n<t.length;n++)Ms(t,n)||(t[n]=null);return t}function Hs(t){const n=hm(null);for(const[a,i]of vy(t))Ms(t,a)&&(Array.isArray(i)?n[a]=D_(i):i&&typeof i=="object"&&i.constructor===Object?n[a]=Hs(i):n[a]=i);return n}function Ir(t,n){for(;t!==null;){const i=A_(t,n);if(i){if(i.get)return Ht(i.get);if(typeof i.value=="function")return Ht(i.value)}t=G_(t)}function a(){return null}return a}const df=Lt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Jh=Lt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ed=Lt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),I_=Lt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),td=Lt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),O_=Lt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),mf=Lt(["#text"]),uf=Lt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),sd=Lt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),xf=Lt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),No=Lt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),R_=ks(/\{\{[\w\W]*|[\w\W]*\}\}/gm),L_=ks(/<%[\w\W]*|[\w\W]*%>/gm),H_=ks(/\$\{[\w\W]*/gm),P_=ks(/^data-[\-\w.\u00B7-\uFFFF]+$/),B_=ks(/^aria-[\-\w]+$/),yy=ks(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),F_=ks(/^(?:\w+script|data):/i),U_=ks(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),by=ks(/^html$/i),K_=ks(/^[a-z][.\w]*(-[.\w]+)+$/i);var pf=Object.freeze({__proto__:null,ARIA_ATTR:B_,ATTR_WHITESPACE:U_,CUSTOM_ELEMENT:K_,DATA_ATTR:P_,DOCTYPE_NAME:by,ERB_EXPR:L_,IS_ALLOWED_URI:yy,IS_SCRIPT_OR_DATA:F_,MUSTACHE_EXPR:R_,TMPLIT_EXPR:H_});const Or={element:1,text:3,progressingInstruction:7,comment:8,document:9},V_=function(){return typeof window>"u"?null:window},X_=function(n,a){if(typeof n!="object"||typeof n.createPolicy!="function")return null;let i=null;const r="data-tt-policy-suffix";a&&a.hasAttribute(r)&&(i=a.getAttribute(r));const l="dompurify"+(i?"#"+i:"");try{return n.createPolicy(l,{createHTML(c){return c},createScriptURL(c){return c}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},ff=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function wy(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:V_();const n=pe=>wy(pe);if(n.version="3.3.1",n.removed=[],!t||!t.document||t.document.nodeType!==Or.document||!t.Element)return n.isSupported=!1,n;let{document:a}=t;const i=a,r=i.currentScript,{DocumentFragment:l,HTMLTemplateElement:c,Node:h,Element:d,NodeFilter:u,NamedNodeMap:p=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:j,DOMParser:f,trustedTypes:N}=t,O=d.prototype,P=Ir(O,"cloneNode"),Z=Ir(O,"remove"),G=Ir(O,"nextSibling"),b=Ir(O,"childNodes"),_=Ir(O,"parentNode");if(typeof c=="function"){const pe=a.createElement("template");pe.content&&pe.content.ownerDocument&&(a=pe.content.ownerDocument)}let C,Y="";const{implementation:se,createNodeIterator:k,createDocumentFragment:g,getElementsByTagName:v}=a,{importNode:w}=i;let S=ff();n.isSupported=typeof vy=="function"&&typeof _=="function"&&se&&se.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:A,ERB_EXPR:T,TMPLIT_EXPR:oe,DATA_ATTR:te,ARIA_ATTR:K,IS_SCRIPT_OR_DATA:F,ATTR_WHITESPACE:E,CUSTOM_ELEMENT:U}=pf;let{IS_ALLOWED_URI:D}=pf,L=null;const M=be({},[...df,...Jh,...ed,...td,...mf]);let z=null;const Q=be({},[...uf,...sd,...xf,...No]);let R=Object.seal(hm(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),H=null,he=null;const ee=Object.seal(hm(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let X=!0,ne=!0,de=!1,le=!0,xe=!1,ve=!0,Ue=!1,kt=!1,tn=!1,ds=!1,Wt=!1,$s=!1,qn=!0,Na=!1;const zn="user-content-";let Ta=!0,Dn=!1,Xe={},Oe=null;const In=be({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let or=null;const cr=be({},["audio","video","img","source","image","track"]);let hr=null;const On=be({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ka="http://www.w3.org/1998/Math/MathML",_a="http://www.w3.org/2000/svg",Qt="http://www.w3.org/1999/xhtml";let Rn=Qt,dr=!1,Sa=null;const Ll=be({},[ka,_a,Qt],Wh);let ri=be({},["mi","mo","mn","ms","mtext"]),Ls=be({},["annotation-xml"]);const mr=be({},["title","style","font","a","script"]);let sn=null;const Ln=["application/xhtml+xml","text/html"],Hl="text/html";let Ze=null,nn=null;const $a=a.createElement("form"),ur=function(I){return I instanceof RegExp||I instanceof Function},dt=function(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(nn&&nn===I)){if((!I||typeof I!="object")&&(I={}),I=Hs(I),sn=Ln.indexOf(I.PARSER_MEDIA_TYPE)===-1?Hl:I.PARSER_MEDIA_TYPE,Ze=sn==="application/xhtml+xml"?Wh:Ho,L=Ms(I,"ALLOWED_TAGS")?be({},I.ALLOWED_TAGS,Ze):M,z=Ms(I,"ALLOWED_ATTR")?be({},I.ALLOWED_ATTR,Ze):Q,Sa=Ms(I,"ALLOWED_NAMESPACES")?be({},I.ALLOWED_NAMESPACES,Wh):Ll,hr=Ms(I,"ADD_URI_SAFE_ATTR")?be(Hs(On),I.ADD_URI_SAFE_ATTR,Ze):On,or=Ms(I,"ADD_DATA_URI_TAGS")?be(Hs(cr),I.ADD_DATA_URI_TAGS,Ze):cr,Oe=Ms(I,"FORBID_CONTENTS")?be({},I.FORBID_CONTENTS,Ze):In,H=Ms(I,"FORBID_TAGS")?be({},I.FORBID_TAGS,Ze):Hs({}),he=Ms(I,"FORBID_ATTR")?be({},I.FORBID_ATTR,Ze):Hs({}),Xe=Ms(I,"USE_PROFILES")?I.USE_PROFILES:!1,X=I.ALLOW_ARIA_ATTR!==!1,ne=I.ALLOW_DATA_ATTR!==!1,de=I.ALLOW_UNKNOWN_PROTOCOLS||!1,le=I.ALLOW_SELF_CLOSE_IN_ATTR!==!1,xe=I.SAFE_FOR_TEMPLATES||!1,ve=I.SAFE_FOR_XML!==!1,Ue=I.WHOLE_DOCUMENT||!1,ds=I.RETURN_DOM||!1,Wt=I.RETURN_DOM_FRAGMENT||!1,$s=I.RETURN_TRUSTED_TYPE||!1,tn=I.FORCE_BODY||!1,qn=I.SANITIZE_DOM!==!1,Na=I.SANITIZE_NAMED_PROPS||!1,Ta=I.KEEP_CONTENT!==!1,Dn=I.IN_PLACE||!1,D=I.ALLOWED_URI_REGEXP||yy,Rn=I.NAMESPACE||Qt,ri=I.MATHML_TEXT_INTEGRATION_POINTS||ri,Ls=I.HTML_INTEGRATION_POINTS||Ls,R=I.CUSTOM_ELEMENT_HANDLING||{},I.CUSTOM_ELEMENT_HANDLING&&ur(I.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(R.tagNameCheck=I.CUSTOM_ELEMENT_HANDLING.tagNameCheck),I.CUSTOM_ELEMENT_HANDLING&&ur(I.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(R.attributeNameCheck=I.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),I.CUSTOM_ELEMENT_HANDLING&&typeof I.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(R.allowCustomizedBuiltInElements=I.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),xe&&(ne=!1),Wt&&(ds=!0),Xe&&(L=be({},mf),z=[],Xe.html===!0&&(be(L,df),be(z,uf)),Xe.svg===!0&&(be(L,Jh),be(z,sd),be(z,No)),Xe.svgFilters===!0&&(be(L,ed),be(z,sd),be(z,No)),Xe.mathMl===!0&&(be(L,td),be(z,xf),be(z,No))),I.ADD_TAGS&&(typeof I.ADD_TAGS=="function"?ee.tagCheck=I.ADD_TAGS:(L===M&&(L=Hs(L)),be(L,I.ADD_TAGS,Ze))),I.ADD_ATTR&&(typeof I.ADD_ATTR=="function"?ee.attributeCheck=I.ADD_ATTR:(z===Q&&(z=Hs(z)),be(z,I.ADD_ATTR,Ze))),I.ADD_URI_SAFE_ATTR&&be(hr,I.ADD_URI_SAFE_ATTR,Ze),I.FORBID_CONTENTS&&(Oe===In&&(Oe=Hs(Oe)),be(Oe,I.FORBID_CONTENTS,Ze)),I.ADD_FORBID_CONTENTS&&(Oe===In&&(Oe=Hs(Oe)),be(Oe,I.ADD_FORBID_CONTENTS,Ze)),Ta&&(L["#text"]=!0),Ue&&be(L,["html","head","body"]),L.table&&(be(L,["tbody"]),delete H.tbody),I.TRUSTED_TYPES_POLICY){if(typeof I.TRUSTED_TYPES_POLICY.createHTML!="function")throw Dr('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof I.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Dr('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');C=I.TRUSTED_TYPES_POLICY,Y=C.createHTML("")}else C===void 0&&(C=X_(N,r)),C!==null&&typeof Y=="string"&&(Y=C.createHTML(""));Lt&&Lt(I),nn=I}},xr=be({},[...Jh,...ed,...I_]),Hn=be({},[...td,...O_]),Ga=function(I){let ce=_(I);(!ce||!ce.tagName)&&(ce={namespaceURI:Rn,tagName:"template"});const ue=Ho(I.tagName),Re=Ho(ce.tagName);return Sa[I.namespaceURI]?I.namespaceURI===_a?ce.namespaceURI===Qt?ue==="svg":ce.namespaceURI===ka?ue==="svg"&&(Re==="annotation-xml"||ri[Re]):!!xr[ue]:I.namespaceURI===ka?ce.namespaceURI===Qt?ue==="math":ce.namespaceURI===_a?ue==="math"&&Ls[Re]:!!Hn[ue]:I.namespaceURI===Qt?ce.namespaceURI===_a&&!Ls[Re]||ce.namespaceURI===ka&&!ri[Re]?!1:!Hn[ue]&&(mr[ue]||!xr[ue]):!!(sn==="application/xhtml+xml"&&Sa[I.namespaceURI]):!1},ms=function(I){qr(n.removed,{element:I});try{_(I).removeChild(I)}catch{Z(I)}},an=function(I,ce){try{qr(n.removed,{attribute:ce.getAttributeNode(I),from:ce})}catch{qr(n.removed,{attribute:null,from:ce})}if(ce.removeAttribute(I),I==="is")if(ds||Wt)try{ms(ce)}catch{}else try{ce.setAttribute(I,"")}catch{}},rn=function(I){let ce=null,ue=null;if(tn)I="<remove></remove>"+I;else{const Ye=Qh(I,/^[\r\n\t ]+/);ue=Ye&&Ye[0]}sn==="application/xhtml+xml"&&Rn===Qt&&(I='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+I+"</body></html>");const Re=C?C.createHTML(I):I;if(Rn===Qt)try{ce=new f().parseFromString(Re,sn)}catch{}if(!ce||!ce.documentElement){ce=se.createDocument(Rn,"template",null);try{ce.documentElement.innerHTML=dr?Y:Re}catch{}}const st=ce.body||ce.documentElement;return I&&ue&&st.insertBefore(a.createTextNode(ue),st.childNodes[0]||null),Rn===Qt?v.call(ce,Ue?"html":"body")[0]:Ue?ce.documentElement:st},Pl=function(I){return k.call(I.ownerDocument||I,I,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},pr=function(I){return I instanceof j&&(typeof I.nodeName!="string"||typeof I.textContent!="string"||typeof I.removeChild!="function"||!(I.attributes instanceof p)||typeof I.removeAttribute!="function"||typeof I.setAttribute!="function"||typeof I.namespaceURI!="string"||typeof I.insertBefore!="function"||typeof I.hasChildNodes!="function")},li=function(I){return typeof h=="function"&&I instanceof h};function Gs(pe,I,ce){wo(pe,ue=>{ue.call(n,I,ce,nn)})}const oi=function(I){let ce=null;if(Gs(S.beforeSanitizeElements,I,null),pr(I))return ms(I),!0;const ue=Ze(I.nodeName);if(Gs(S.uponSanitizeElement,I,{tagName:ue,allowedTags:L}),ve&&I.hasChildNodes()&&!li(I.firstElementChild)&&It(/<[/\w!]/g,I.innerHTML)&&It(/<[/\w!]/g,I.textContent)||I.nodeType===Or.progressingInstruction||ve&&I.nodeType===Or.comment&&It(/<[/\w]/g,I.data))return ms(I),!0;if(!(ee.tagCheck instanceof Function&&ee.tagCheck(ue))&&(!L[ue]||H[ue])){if(!H[ue]&&As(ue)&&(R.tagNameCheck instanceof RegExp&&It(R.tagNameCheck,ue)||R.tagNameCheck instanceof Function&&R.tagNameCheck(ue)))return!1;if(Ta&&!Oe[ue]){const Re=_(I)||I.parentNode,st=b(I)||I.childNodes;if(st&&Re){const Ye=st.length;for(let jt=Ye-1;jt>=0;--jt){const Dt=P(st[jt],!0);Dt.__removalCount=(I.__removalCount||0)+1,Re.insertBefore(Dt,G(I))}}}return ms(I),!0}return I instanceof d&&!Ga(I)||(ue==="noscript"||ue==="noembed"||ue==="noframes")&&It(/<\/no(script|embed|frames)/i,I.innerHTML)?(ms(I),!0):(xe&&I.nodeType===Or.text&&(ce=I.textContent,wo([A,T,oe],Re=>{ce=zr(ce,Re," ")}),I.textContent!==ce&&(qr(n.removed,{element:I.cloneNode()}),I.textContent=ce)),Gs(S.afterSanitizeElements,I,null),!1)},Aa=function(I,ce,ue){if(qn&&(ce==="id"||ce==="name")&&(ue in a||ue in $a))return!1;if(!(ne&&!he[ce]&&It(te,ce))){if(!(X&&It(K,ce))){if(!(ee.attributeCheck instanceof Function&&ee.attributeCheck(ce,I))){if(!z[ce]||he[ce]){if(!(As(I)&&(R.tagNameCheck instanceof RegExp&&It(R.tagNameCheck,I)||R.tagNameCheck instanceof Function&&R.tagNameCheck(I))&&(R.attributeNameCheck instanceof RegExp&&It(R.attributeNameCheck,ce)||R.attributeNameCheck instanceof Function&&R.attributeNameCheck(ce,I))||ce==="is"&&R.allowCustomizedBuiltInElements&&(R.tagNameCheck instanceof RegExp&&It(R.tagNameCheck,ue)||R.tagNameCheck instanceof Function&&R.tagNameCheck(ue))))return!1}else if(!hr[ce]){if(!It(D,zr(ue,E,""))){if(!((ce==="src"||ce==="xlink:href"||ce==="href")&&I!=="script"&&M_(ue,"data:")===0&&or[I])){if(!(de&&!It(F,zr(ue,E,"")))){if(ue)return!1}}}}}}}return!0},As=function(I){return I!=="annotation-xml"&&Qh(I,U)},fr=function(I){Gs(S.beforeSanitizeAttributes,I,null);const{attributes:ce}=I;if(!ce||pr(I))return;const ue={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z,forceKeepAttr:void 0};let Re=ce.length;for(;Re--;){const st=ce[Re],{name:Ye,namespaceURI:jt,value:Dt}=st,Pt=Ze(Ye),Ea=Dt;let mt=Ye==="value"?Ea:q_(Ea);if(ue.attrName=Pt,ue.attrValue=mt,ue.keepAttr=!0,ue.forceKeepAttr=void 0,Gs(S.uponSanitizeAttribute,I,ue),mt=ue.attrValue,Na&&(Pt==="id"||Pt==="name")&&(an(Ye,I),mt=zn+mt),ve&&It(/((--!?|])>)|<\/(style|title|textarea)/i,mt)){an(Ye,I);continue}if(Pt==="attributename"&&Qh(mt,"href")){an(Ye,I);continue}if(ue.forceKeepAttr)continue;if(!ue.keepAttr){an(Ye,I);continue}if(!le&&It(/\/>/i,mt)){an(Ye,I);continue}xe&&wo([A,T,oe],jr=>{mt=zr(mt,jr," ")});const gr=Ze(I.nodeName);if(!Aa(gr,Pt,mt)){an(Ye,I);continue}if(C&&typeof N=="object"&&typeof N.getAttributeType=="function"&&!jt)switch(N.getAttributeType(gr,Pt)){case"TrustedHTML":{mt=C.createHTML(mt);break}case"TrustedScriptURL":{mt=C.createScriptURL(mt);break}}if(mt!==Ea)try{jt?I.setAttributeNS(jt,Ye,mt):I.setAttribute(Ye,mt),pr(I)?ms(I):hf(n.removed)}catch{an(Ye,I)}}Gs(S.afterSanitizeAttributes,I,null)},Bl=function pe(I){let ce=null;const ue=Pl(I);for(Gs(S.beforeSanitizeShadowDOM,I,null);ce=ue.nextNode();)Gs(S.uponSanitizeShadowNode,ce,null),oi(ce),fr(ce),ce.content instanceof l&&pe(ce.content);Gs(S.afterSanitizeShadowDOM,I,null)};return n.sanitize=function(pe){let I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ce=null,ue=null,Re=null,st=null;if(dr=!pe,dr&&(pe="<!-->"),typeof pe!="string"&&!li(pe))if(typeof pe.toString=="function"){if(pe=pe.toString(),typeof pe!="string")throw Dr("dirty is not a string, aborting")}else throw Dr("toString is not a function");if(!n.isSupported)return pe;if(kt||dt(I),n.removed=[],typeof pe=="string"&&(Dn=!1),Dn){if(pe.nodeName){const Dt=Ze(pe.nodeName);if(!L[Dt]||H[Dt])throw Dr("root node is forbidden and cannot be sanitized in-place")}}else if(pe instanceof h)ce=rn("<!---->"),ue=ce.ownerDocument.importNode(pe,!0),ue.nodeType===Or.element&&ue.nodeName==="BODY"||ue.nodeName==="HTML"?ce=ue:ce.appendChild(ue);else{if(!ds&&!xe&&!Ue&&pe.indexOf("<")===-1)return C&&$s?C.createHTML(pe):pe;if(ce=rn(pe),!ce)return ds?null:$s?Y:""}ce&&tn&&ms(ce.firstChild);const Ye=Pl(Dn?pe:ce);for(;Re=Ye.nextNode();)oi(Re),fr(Re),Re.content instanceof l&&Bl(Re.content);if(Dn)return pe;if(ds){if(Wt)for(st=g.call(ce.ownerDocument);ce.firstChild;)st.appendChild(ce.firstChild);else st=ce;return(z.shadowroot||z.shadowrootmode)&&(st=w.call(i,st,!0)),st}let jt=Ue?ce.outerHTML:ce.innerHTML;return Ue&&L["!doctype"]&&ce.ownerDocument&&ce.ownerDocument.doctype&&ce.ownerDocument.doctype.name&&It(by,ce.ownerDocument.doctype.name)&&(jt="<!DOCTYPE "+ce.ownerDocument.doctype.name+`>
`+jt),xe&&wo([A,T,oe],Dt=>{jt=zr(jt,Dt," ")}),C&&$s?C.createHTML(jt):jt},n.setConfig=function(){let pe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};dt(pe),kt=!0},n.clearConfig=function(){nn=null,kt=!1},n.isValidAttribute=function(pe,I,ce){nn||dt({});const ue=Ze(pe),Re=Ze(I);return Aa(ue,Re,ce)},n.addHook=function(pe,I){typeof I=="function"&&qr(S[pe],I)},n.removeHook=function(pe,I){if(I!==void 0){const ce=E_(S[pe],I);return ce===-1?void 0:C_(S[pe],ce,1)[0]}return hf(S[pe])},n.removeHooks=function(pe){S[pe]=[]},n.removeAllHooks=function(){S=ff()},n}var Z_=wy();function nd(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function Y_(t){if(!t)return[];const n=[];let a=0;const i=[],r=/\$\$([^$]*?)\$\$/g;let l;for(;(l=r.exec(t))!==null;)i.push({type:"display",latex:l[1],start:l.index,end:l.index+l[0].length});const c=/\$([^$]+?)\$/g;let h;for(;(h=c.exec(t))!==null;)i.some(u=>h.index>=u.start&&h.index<u.end)||i.push({type:"inline",latex:h[1],start:h.index,end:h.index+h[0].length});return i.sort((d,u)=>d.start-u.start),i.forEach(d=>{const u=t.slice(a,d.start);u&&n.push({type:"text",content:u}),n.push({type:d.type==="display"?"display-math":"inline-math",content:d.latex}),a=d.end}),a<t.length&&n.push({type:"text",content:t.slice(a)}),n}function W_(t){if(!t)return"";const a=Y_(t).map(i=>{if(i.type==="text")return nd(i.content);if(i.type==="inline-math")try{return Po.renderToString(i.content,{throwOnError:!1,displayMode:!1})}catch{return nd(i.content)}else if(i.type==="display-math")try{return Po.renderToString(i.content,{throwOnError:!1,displayMode:!0})}catch{return nd(i.content)}return""}).join("");return Z_.sanitize(a,{ADD_TAGS:["semantics","mrow","mi","mo","mn","msup","msub","mfrac","mroot","msqrt","mtext","annotation"],ADD_ATTR:["encoding","mathvariant","stretchy","fence","separator","lspace","rspace"]})}function ad(t){return typeof t=="string"?W_(t):t.map(n=>(n.type==="text",n.content)).join("")}const bs=_s("Storage"),um="magic-internet-math-progress",id=2;function Ny(){try{const t="__storage_test__";return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}function Ty(t){if(t===null||typeof t!="object")return!1;const n=t;if(typeof n.version!="number"||typeof n.user!="object"||n.user===null||typeof n.sections!="object"||n.sections===null||typeof n.streak!="object"||n.streak===null)return!1;const a=n.user;if(typeof a.totalXP!="number"||typeof a.level!="number"||!Array.isArray(a.sectionsCompleted)||!Array.isArray(a.partsCompleted))return!1;const i=n.streak;return!(typeof i.currentStreak!="number"||typeof i.longestStreak!="number")}function Ya(){if(!Ny())return bs.warn("localStorage is not available"),null;try{const t=localStorage.getItem(um);if(!t)return null;const n=JSON.parse(t);return Ty(n)?(n.version!==id&&(bs.info(`Migrating state from v${n.version} to v${id}`),n.version=id),n):(bs.warn("Invalid gamification state structure in localStorage"),null)}catch(t){bs.error("Failed to load gamification state:",t);try{localStorage.removeItem(um),bs.info("Cleared corrupted gamification state from localStorage")}catch{}return null}}function Wc(t){if(!Ny()){bs.warn("localStorage is not available, state not saved");return}try{localStorage.setItem(um,JSON.stringify(t))}catch(n){bs.error("Failed to save gamification state:",n)}}const Q_=1;function J_(){const t=Ya();if(!t){bs.warn("No progress data to export");return}const n={version:Q_,exportedAt:new Date().toISOString(),source:window.location.hostname,state:t},a=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),i=URL.createObjectURL(a),r=document.createElement("a");r.href=i,r.download=`math-progress-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(i),bs.info("Progress exported successfully")}function eS(t){if(t===null||typeof t!="object")return!1;const n=t;return!(typeof n.version!="number"||typeof n.exportedAt!="string"||typeof n.source!="string"||!Ty(n.state))}async function tS(t){return new Promise(n=>{const a=new FileReader;a.onload=i=>{var r;try{const l=(r=i.target)==null?void 0:r.result;if(typeof l!="string"){n({success:!1,message:"Failed to read file"});return}const c=JSON.parse(l);if(!eS(c)){n({success:!1,message:"Invalid backup file format"});return}const h=Ya(),d=(h==null?void 0:h.user.totalXP)??0,u=c.state.user.totalXP;if(d>u){n({success:!1,message:`Current progress (${d} XP) is higher than backup (${u} XP). Import cancelled.`});return}Wc(c.state),bs.info(`Progress imported: ${u} XP from backup dated ${c.exportedAt}`),n({success:!0,message:`Successfully restored ${u} XP!`,xpImported:u})}catch(l){bs.error("Failed to parse backup file:",l),n({success:!1,message:"Failed to parse backup file. Please check the file format."})}},a.onerror=()=>{n({success:!1,message:"Failed to read file"})},a.readAsText(t)})}function sS(){const t=Ya();return t?{totalXP:t.user.totalXP,level:t.user.level,sectionsCompleted:t.user.sectionsCompleted.length}:null}function nS(){const t=Ya();t&&(t.migratedToServer=!0,Wc(t),bs.info("Marked progress as migrated to server"))}function aS(){const t=Ya();if(!t)return!1;const n=t.user.totalXP>0||Object.keys(t.sections).length>0,a=!t.migratedToServer;return n&&a}function ky(){const t=new Date().toISOString(),n=t.split("T")[0];return{version:2,user:{totalXP:0,level:1,sectionsCompleted:[],partsCompleted:[],quizzesTaken:0,perfectQuizzes:0,visualizationsUsed:0,totalTimeSpentMinutes:0,joinedAt:t},sections:{},achievements:iS(),streak:{currentStreak:0,longestStreak:0,lastActivityDate:null,freezesRemaining:2,freezeUsedToday:!1},dailyGoals:{date:n,xpEarned:0,xpGoal:fy,completed:!1},lastUpdated:t}}function iS(){return[{id:"first-section",unlockedAt:null,progress:0,target:1},{id:"ten-sections",unlockedAt:null,progress:0,target:10},{id:"half-course",unlockedAt:null,progress:0,target:50},{id:"course-complete",unlockedAt:null,progress:0,target:100},{id:"first-mastery",unlockedAt:null,progress:0,target:1},{id:"quiz-master",unlockedAt:null,progress:0,target:10},{id:"perfectionist",unlockedAt:null,progress:0,target:5},{id:"week-streak",unlockedAt:null,progress:0,target:7},{id:"month-streak",unlockedAt:null,progress:0,target:30},{id:"level-5",unlockedAt:null,progress:0,target:5},{id:"level-10",unlockedAt:null,progress:0,target:10},{id:"first-visualization",unlockedAt:null,progress:0,target:1},{id:"explorer",unlockedAt:null,progress:0,target:10},{id:"racing-rookie",unlockedAt:null,progress:0,target:1},{id:"speed-demon",unlockedAt:null,progress:0,target:50},{id:"streak-legend",unlockedAt:null,progress:0,target:20},{id:"tier-climber",unlockedAt:null,progress:0,target:6},{id:"modular-master",unlockedAt:null,progress:0,target:1e4},{id:"multiplayer-champion",unlockedAt:null,progress:0,target:5}]}const rS=50;function gf(t){return Math.round(t/rS*100)}const lS=[{id:"first-section",title:"First Steps",description:"Complete your first section",category:"progress",xpReward:25,check:t=>t.user.sectionsCompleted.length,target:1},{id:"ten-sections",title:"Getting Started",description:"Complete 10 sections",category:"progress",xpReward:50,check:t=>t.user.sectionsCompleted.length,target:10},{id:"half-course",title:"Halfway There",description:"Complete 50% of the course",category:"progress",xpReward:100,check:t=>gf(t.user.sectionsCompleted.length),target:50},{id:"course-complete",title:"Course Complete",description:"Complete 100% of the course",category:"progress",xpReward:200,check:t=>gf(t.user.sectionsCompleted.length),target:100},{id:"first-mastery",title:"Master of One",description:"Master your first section",category:"mastery",xpReward:30,check:t=>Object.values(t.sections).filter(n=>n.masteryLevel==="mastered").length,target:1},{id:"quiz-master",title:"Quiz Master",description:"Complete 10 quizzes",category:"mastery",xpReward:50,check:t=>t.user.quizzesTaken,target:10},{id:"perfectionist",title:"Perfectionist",description:"Get 5 perfect quiz scores",category:"mastery",xpReward:75,check:t=>t.user.perfectQuizzes,target:5},{id:"week-streak",title:"Week Warrior",description:"Maintain a 7-day streak",category:"dedication",xpReward:50,check:t=>t.streak.longestStreak,target:7},{id:"month-streak",title:"Monthly Master",description:"Maintain a 30-day streak",category:"dedication",xpReward:150,check:t=>t.streak.longestStreak,target:30},{id:"level-5",title:"Level Up",description:"Reach level 5",category:"dedication",xpReward:50,check:t=>t.user.level,target:5},{id:"level-10",title:"Expert",description:"Reach level 10",category:"dedication",xpReward:100,check:t=>t.user.level,target:10},{id:"first-visualization",title:"Visual Learner",description:"Use your first interactive visualization",category:"exploration",xpReward:15,check:t=>t.user.visualizationsUsed,target:1},{id:"explorer",title:"Explorer",description:"Use 10 different visualizations",category:"exploration",xpReward:50,check:t=>t.user.visualizationsUsed,target:10}];function oS(t){const n=[];for(const a of lS){const i=t.achievements.find(l=>l.id===a.id);if(i!=null&&i.unlockedAt)continue;a.check(t)>=a.target&&n.push({id:a.id,title:a.title,description:a.description,category:a.category,xpReward:a.xpReward,timestamp:Date.now()})}return n}function Rl(t){for(let n=rl.length-1;n>=0;n--)if(t>=rl[n])return n+1;return 1}function cS(t,n){if(n>=rl.length)return 100;const a=rl[n-1],i=rl[n],r=(t-a)/(i-a)*100;return Math.min(100,Math.max(0,r))}function _y(t,n){const a={easy:zt.QUIZ_EASY,medium:zt.QUIZ_MEDIUM,hard:zt.QUIZ_HARD}[t];return Math.round(a*(n/100))}const hS=1e3*60*60*24;function dS(t){const n=new Date,a=n.toISOString().split("T")[0],i=t.streak.lastActivityDate;if(t.dailyGoals.date!==a&&(t={...t,dailyGoals:{date:a,xpEarned:0,xpGoal:fy,completed:!1},streak:{...t.streak,freezeUsedToday:!1}}),!i)return{...t,streak:{...t.streak,currentStreak:1,longestStreak:Math.max(1,t.streak.longestStreak),lastActivityDate:a}};const r=new Date(i),l=Math.floor((n.getTime()-r.getTime())/hS);if(l===0)return t;if(l===1){const c=t.streak.currentStreak+1;return{...t,streak:{...t.streak,currentStreak:c,longestStreak:Math.max(c,t.streak.longestStreak),lastActivityDate:a}}}return l===2&&t.streak.freezesRemaining>0&&!t.streak.freezeUsedToday?{...t,streak:{...t.streak,freezesRemaining:t.streak.freezesRemaining-1,freezeUsedToday:!0,lastActivityDate:a}}:{...t,streak:{...t.streak,currentStreak:1,lastActivityDate:a}}}function Sy(t){const{quizAttempts:n}=t;if(n.length===0)return"learning";const a=Math.max(...n.map(l=>l.score)),i=n.reduce((l,c)=>l+c.score,0)/n.length;return n.filter(l=>l.score===100).length>=2||i>=90&&n.length>=3?"mastered":a>=80||i>=70&&n.length>=2?"familiar":"learning"}function mS(t){switch(t){case"mastered":return{label:"Mastered",color:"text-emerald-400",symbol:""};case"familiar":return{label:"Familiar",color:"text-yellow-400",symbol:""};case"learning":return{label:"Learning",color:"text-blue-400",symbol:""};case"none":default:return{label:"Not Started",color:"text-dark-600",symbol:""}}}const Nu=_s("GamificationReducer");function uS(t,n,a){const i=t.sections[n];if(i!=null&&i.visitedAt)return t;const r=t.user.totalXP+zt.SECTION_VISIT;return{...t,user:{...t.user,totalXP:r,level:Rl(r)},sections:{...t.sections,[n]:{sectionId:n,visitedAt:a,completedAt:(i==null?void 0:i.completedAt)??null,timeSpentSeconds:(i==null?void 0:i.timeSpentSeconds)??0,quizAttempts:(i==null?void 0:i.quizAttempts)??[],masteryLevel:(i==null?void 0:i.masteryLevel)??"learning",visualizationsInteracted:(i==null?void 0:i.visualizationsInteracted)??[]}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+zt.SECTION_VISIT},lastUpdated:a}}function xS(t,n,a){const i=t.sections[n];if(i!=null&&i.completedAt)return t;if(!i)return Nu.warn(`Attempted to complete unvisited section: ${n}`),t;const r=t.user.totalXP+zt.SECTION_COMPLETE,l=[...t.user.sectionsCompleted,n];return{...t,user:{...t.user,totalXP:r,level:Rl(r),sectionsCompleted:l},sections:{...t.sections,[n]:{...i,completedAt:a,masteryLevel:Sy(i)}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+zt.SECTION_COMPLETE},lastUpdated:a}}function pS(t,n,a){const{sectionId:i,difficulty:r,score:l,correctAnswers:c,totalQuestions:h}=n,d=t.sections[i];if(!d)return Nu.warn(`Section ${i} was not visited before quiz`),t;const u=_y(r,l),p=c===h,j=p?Math.round(u*(1+zt.QUIZ_PERFECT_BONUS)):u,f=t.user.totalXP+j,N={timestamp:a,difficulty:r,score:l,correctAnswers:c,totalQuestions:h,xpEarned:j},O=[...d.quizAttempts,N],P={...d,quizAttempts:O},Z=Sy(P),G=l>=80&&!d.completedAt,b=G&&!t.user.sectionsCompleted.includes(i),_=b?zt.SECTION_COMPLETE:0;return{...t,user:{...t.user,totalXP:f+_,level:Rl(f+_),quizzesTaken:t.user.quizzesTaken+1,perfectQuizzes:p?t.user.perfectQuizzes+1:t.user.perfectQuizzes,sectionsCompleted:b?[...t.user.sectionsCompleted,i]:t.user.sectionsCompleted},sections:{...t.sections,[i]:{...P,masteryLevel:Z,completedAt:G?d.completedAt||a:d.completedAt}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+j+_},lastUpdated:a}}function fS(t,n,a,i){const r=t.sections[n];if(r!=null&&r.visualizationsInteracted.includes(a))return t;if(!r)return Nu.warn(`Section ${n} was not visited before visualization`),t;const l=t.user.totalXP+zt.VISUALIZATION_USE,c=[...r.visualizationsInteracted,a];return{...t,user:{...t.user,totalXP:l,level:Rl(l),visualizationsUsed:t.user.visualizationsUsed+1},sections:{...t.sections,[n]:{...r,visualizationsInteracted:c}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+zt.VISUALIZATION_USE},lastUpdated:i}}function gS(t,n,a){let i=un.GAME_PARTICIPATION;const r=un.TIER_MULTIPLIER[n.tier],l=Math.floor(Math.max(0,n.score)/un.POINTS_PER_XP_UNIT*zt.QUIZ_MEDIUM*r);if(i+=l,n.correctAnswers===n.totalQuestions&&n.totalQuestions>=10&&(i+=un.PERFECT_GAME_BONUS),n.fastAnswers>=10&&(i+=un.SPEED_DEMON_BONUS),n.maxStreak>=10&&(i+=un.STREAK_MASTER_BONUS),n.isMultiplayer&&n.placement)switch(n.placement){case 1:i+=un.FIRST_PLACE_BONUS;break;case 2:i+=un.SECOND_PLACE_BONUS;break;case 3:i+=un.THIRD_PLACE_BONUS;break}const c=t.user.totalXP+i,h=t.racingStats,d=n.score>((h==null?void 0:h.highScore)??0),u=n.isMultiplayer&&n.placement===1,p={gamesPlayed:((h==null?void 0:h.gamesPlayed)??0)+1,multiplayerGamesPlayed:((h==null?void 0:h.multiplayerGamesPlayed)??0)+(n.isMultiplayer?1:0),totalPoints:((h==null?void 0:h.totalPoints)??0)+Math.max(0,n.score),highScore:d?n.score:(h==null?void 0:h.highScore)??0,highestTierUnlocked:Math.max((h==null?void 0:h.highestTierUnlocked)??1,n.tier),longestStreak:Math.max((h==null?void 0:h.longestStreak)??0,n.maxStreak),fastAnswers:((h==null?void 0:h.fastAnswers)??0)+n.fastAnswers,totalCorrect:((h==null?void 0:h.totalCorrect)??0)+n.correctAnswers,totalAttempted:((h==null?void 0:h.totalAttempted)??0)+n.totalQuestions,multiplayerWins:((h==null?void 0:h.multiplayerWins)??0)+(u?1:0),lastPlayedAt:a},j=t.achievements.map(f=>{if(f.unlockedAt)return f;switch(f.id){case"racing-rookie":if(p.gamesPlayed>=1)return{...f,progress:1,unlockedAt:a};break;case"speed-demon":return p.fastAnswers>=50?{...f,progress:50,unlockedAt:a}:{...f,progress:Math.min(p.fastAnswers,50)};case"streak-legend":return p.longestStreak>=20?{...f,progress:20,unlockedAt:a}:{...f,progress:Math.min(p.longestStreak,20)};case"tier-climber":return p.highestTierUnlocked>=6?{...f,progress:6,unlockedAt:a}:{...f,progress:p.highestTierUnlocked};case"modular-master":return p.totalPoints>=1e4?{...f,progress:1e4,unlockedAt:a}:{...f,progress:Math.min(p.totalPoints,1e4)};case"multiplayer-champion":return p.multiplayerWins>=5?{...f,progress:5,unlockedAt:a}:{...f,progress:Math.min(p.multiplayerWins,5)}}return f});return{...t,user:{...t.user,totalXP:c,level:Rl(c)},racingStats:p,achievements:j,dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+i},lastUpdated:a}}function jS(t,n){const a=new Date().toISOString();switch(n.type){case"LOAD_STATE":return n.payload;case"LOAD_FROM_SERVER":return{...n.payload,migratedToServer:!0};case"MERGE_WITH_SERVER":return{...n.payload,migratedToServer:!0};case"MARK_MIGRATED":return{...t,migratedToServer:!0,lastUpdated:a};case"VISIT_SECTION":return uS(t,n.payload.sectionId,a);case"COMPLETE_SECTION":return xS(t,n.payload.sectionId,a);case"RECORD_QUIZ":return pS(t,n.payload,a);case"USE_VISUALIZATION":return fS(t,n.payload.sectionId,n.payload.name,a);case"UPDATE_STREAK":return dS(t);case"RESET_PROGRESS":return ky();case"RECORD_RACE_GAME":return gS(t,n.payload,a);default:return t}}const vS=["none","learning","familiar","mastered"];function jf(t){return vS.indexOf(t)}function yS(t,n){return jf(t)>=jf(n)?t:n}function xm(t,n){return t?n?new Date(t)<new Date(n)?t:n:t:n}function bS(t,n){const a=new Set,i=[];for(const r of[...t,...n]){const l=`${r.timestamp}-${r.difficulty}-${r.score}`;a.has(l)||(a.add(l),i.push(r))}return i.sort((r,l)=>new Date(r.timestamp).getTime()-new Date(l.timestamp).getTime())}function wS(t,n){return t?n?{sectionId:t.sectionId,visitedAt:xm(t.visitedAt,n.visitedAt),completedAt:xm(t.completedAt,n.completedAt),timeSpentSeconds:Math.max(t.timeSpentSeconds,n.timeSpentSeconds),quizAttempts:bS(t.quizAttempts,n.quizAttempts),masteryLevel:yS(t.masteryLevel,n.masteryLevel),visualizationsInteracted:[...new Set([...t.visualizationsInteracted,...n.visualizationsInteracted])]}:t:n}function NS(t,n){const a=new Set([...Object.keys(t),...Object.keys(n)]),i={};for(const r of a){const l=wS(t[r],n[r]);l&&(i[r]=l)}return i}function TS(t,n){return{totalXP:Math.max(t.totalXP,n.totalXP),level:Math.max(t.level,n.level),sectionsCompleted:[...new Set([...t.sectionsCompleted,...n.sectionsCompleted])],partsCompleted:[...new Set([...t.partsCompleted,...n.partsCompleted])],quizzesTaken:Math.max(t.quizzesTaken,n.quizzesTaken),perfectQuizzes:Math.max(t.perfectQuizzes,n.perfectQuizzes),visualizationsUsed:Math.max(t.visualizationsUsed,n.visualizationsUsed),totalTimeSpentMinutes:Math.max(t.totalTimeSpentMinutes,n.totalTimeSpentMinutes),joinedAt:xm(t.joinedAt,n.joinedAt)||t.joinedAt}}function kS(t,n){const a=new Map;for(const i of[...n,...t]){const r=a.get(i.id);r?(i.unlockedAt&&!r.unlockedAt||!i.unlockedAt&&!r.unlockedAt&&i.progress>r.progress)&&a.set(i.id,i):a.set(i.id,i)}return Array.from(a.values())}function _S(t,n){return{...t.longestStreak>=n.longestStreak?t:n,longestStreak:Math.max(t.longestStreak,n.longestStreak),freezesRemaining:Math.max(t.freezesRemaining,n.freezesRemaining)}}function SS(t,n){return t.date>n.date?t:n.date>t.date?n:{date:t.date,xpEarned:Math.max(t.xpEarned,n.xpEarned),xpGoal:t.xpGoal,completed:t.completed||n.completed}}function $S(t,n){return{version:Math.max(t.version,n.version),user:TS(t.user,n.user),sections:NS(t.sections,n.sections),achievements:kS(t.achievements,n.achievements),streak:_S(t.streak,n.streak),dailyGoals:SS(t.dailyGoals,n.dailyGoals),lastUpdated:new Date().toISOString()}}const xn=_s("ProgressSync");class GS{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.lastSyncedAt=null,this.isAuthenticated=!1,this.pendingState=null,this._status="idle",this.statusListeners=new Set,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)}}get status(){return this._status}onStatusChange(n){return this.statusListeners.add(n),()=>this.statusListeners.delete(n)}setStatus(n){this._status=n;for(const a of this.statusListeners)a(n)}setAuthenticated(n){this.isAuthenticated=n,n||(this.lastSyncedAt=null)}getLastSyncedAt(){return this.lastSyncedAt}setLastSyncedAt(n){this.lastSyncedAt=n}async fetchServerProgress(){if(!this.isAuthenticated)return{found:!1,progress:null,lastSyncedAt:null};if(!Nn())return xn.warn("Firebase not configured, cannot fetch progress"),{found:!1,progress:null,lastSyncedAt:null};try{const n=wn(),i=await Fs(n,"getProgress")({});return i.data.found&&i.data.progress&&(this.lastSyncedAt=i.data.lastSyncedAt,xn.info("Fetched progress from server")),i.data}catch(n){return xn.error("Failed to fetch progress from server:",n),{found:!1,progress:null,lastSyncedAt:null}}}async migrateLocalProgress(n){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};xn.info("Starting migration of local progress to server");const a=await this.fetchServerProgress();let i;a.found&&a.progress?(xn.info("Server has existing progress, merging with local"),i=$S(n,a.progress)):i=n;const r=await this.syncNow(i);return r.success?(xn.info("Migration complete"),{success:!0,state:r.state||i,merged:a.found}):r}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)},$v),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(n){this.isAuthenticated&&(this.pendingState=n,this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow(n)},Gv))}async syncNow(n){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!Nn())return{success:!1,error:"Firebase not configured"};const a=Date.now();if(a-this.lastSyncTime<Sv)return{success:!1,error:"Rate limited"};this.setStatus("syncing");try{const i=wn(),l=await Fs(i,"syncProgress")({progress:n,lastSyncedAt:this.lastSyncedAt});return this.lastSyncTime=a,this.lastSyncedAt=l.data.lastSyncedAt,this.pendingState=null,l.data.merged&&l.data.serverProgress?(xn.info("Server merged states due to conflict"),Wc(l.data.serverProgress),this.setStatus("success"),{success:!0,state:l.data.serverProgress,merged:!0}):(this.setStatus("success"),{success:!0,state:n,merged:!1})}catch(i){return xn.error("Sync failed:",i),this.setStatus("error"),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async syncWithRetry(n,a=3){for(let i=0;i<a;i++){const r=await this.syncNow(n);if(r.success||r.error==="Not authenticated"||r.error==="Firebase not configured")return r;if(i<a-1){const l=1e3*Math.pow(2,i);xn.debug(`Sync retry ${i+1}/${a} in ${l}ms`),await new Promise(c=>setTimeout(c,l)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}}let rd=null;function vf(){return rd||(rd=new GS),rd}const Fn=_s("GamificationProgress"),AS=500,ES=()=>{var t,n;return!!((n=(t=window.webkit)==null?void 0:t.messageHandlers)!=null&&n.progressHandler)},To=(t,n)=>{ES()&&window.webkit.messageHandlers.progressHandler.postMessage({type:t,...n})},$y=$.createContext(null);function CS({children:t,courseId:n}){const[a,i]=$.useReducer(jS,ky()),[r,l]=$.useState(!0),[c,h]=$.useState([]),[d,u]=$.useState("idle"),p=$.useRef(null),j=$.useRef(!1),f=$.useRef(!1),{isAuthenticated:N,npub:O}=Ol(),P=$.useCallback(g=>`${n}:${g}`,[n]);$.useEffect(()=>{const g=Ya();g&&i({type:"LOAD_STATE",payload:g}),N||queueMicrotask(()=>l(!1))},[]),$.useEffect(()=>{const g=vf(),v=g.onStatusChange(u),w=f.current;return f.current=N,N&&!w?(Fn.info("User authenticated, fetching progress from server"),g.setAuthenticated(!0),(async()=>{l(!0);try{const A=aS(),T=Ya();if(A&&T){Fn.info("Migrating local progress to server");const oe=await g.migrateLocalProgress(T);oe.success&&oe.state?(i({type:"MERGE_WITH_SERVER",payload:oe.state}),nS(),Fn.info("Migration complete")):Fn.warn("Migration failed, using local state")}else{const oe=await g.fetchServerProgress();oe.found&&oe.progress?(Fn.info("Loaded progress from server"),i({type:"LOAD_FROM_SERVER",payload:oe.progress}),g.setLastSyncedAt(oe.lastSyncedAt)):Fn.info("No server progress found, using local state")}}catch(A){Fn.error("Failed to sync with server:",A)}finally{queueMicrotask(()=>l(!1)),j.current=!0}})(),g.startPeriodicSync()):!N&&w?(Fn.info("User logged out"),g.setAuthenticated(!1),g.stopPeriodicSync(),j.current=!1):N||queueMicrotask(()=>l(!1)),()=>{v()}},[N,O]),$.useEffect(()=>{r||(Wc(a),N&&j.current&&vf().requestSync(a))},[a,r,N]),$.useEffect(()=>{r||i({type:"UPDATE_STREAK"})},[r]),$.useEffect(()=>{if(!r)return p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{const g=oS(a);g.length>0&&h(v=>[...v,...g])},AS),()=>{p.current&&clearTimeout(p.current)}},[a,r]);const Z=$.useCallback(g=>{i({type:"VISIT_SECTION",payload:{sectionId:P(g)}})},[P]),G=$.useCallback(g=>{i({type:"COMPLETE_SECTION",payload:{sectionId:P(g)}}),To("sectionCompleted",{sectionId:P(g),courseId:n})},[P,n]),b=$.useCallback((g,v,w,S,A)=>{const T=P(g);i({type:"RECORD_QUIZ",payload:{sectionId:T,difficulty:v,score:w,correctAnswers:S,totalQuestions:A}}),To("quizCompleted",{sectionId:T,courseId:n,score:w,correctAnswers:S,totalQuestions:A}),w>=80&&To("sectionCompleted",{sectionId:T,courseId:n})},[P,n]),_=$.useCallback((g,v)=>{i({type:"USE_VISUALIZATION",payload:{sectionId:P(g),name:v}})},[P]),C=$.useCallback(g=>{h(v=>v.filter(w=>w.id!==g))},[]),Y=$.useCallback(()=>{i({type:"RESET_PROGRESS"})},[]),se=$.useCallback(g=>{i({type:"RECORD_RACE_GAME",payload:g}),To("raceGameCompleted",{courseId:n,score:g.score,tier:g.tier,correctAnswers:g.correctAnswers,totalQuestions:g.totalQuestions,isMultiplayer:g.isMultiplayer})},[n]),k=$.useMemo(()=>({state:a,isLoading:r,notifications:c,syncStatus:d,visitSection:Z,completeSection:G,recordQuiz:b,useVisualization:_,dismissNotification:C,resetProgress:Y,recordRaceGame:se,dispatch:i}),[a,r,c,d,Z,G,b,_,C,Y,se,i]);return e.jsx($y.Provider,{value:k,children:t})}function ni(){const t=$.useContext($y);if(!t)throw new Error("useGamification must be used within a GamificationProvider");return t}const MS=wl;function qS(t){return`${MS}:${t}`}function zS({children:t}){return e.jsx(CS,{courseId:wl,children:t})}function Gy({xp:t,level:n,compact:a=!1}){const i=cS(t,n);return a?e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",n]}),e.jsxs("span",{className:"text-dark-400",children:[t," XP"]})]}):e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-bold text-white",children:n})}),e.jsxs("div",{className:"flex-1 min-w-[80px]",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsxs("span",{className:"text-dark-400",children:["Level ",n]}),e.jsxs("span",{className:"text-primary-400 font-medium",children:[t," XP"]})]}),e.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:e.jsx(Bs.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5}})})]})]})}function Ay({streak:t}){return t===0?null:e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[e.jsx("span",{className:"text-orange-400",children:""}),e.jsx("span",{className:"text-sm font-medium text-orange-400",children:t})]})}function DS({level:t,showLabel:n=!1}){const{label:a,color:i,symbol:r}=mS(t);return e.jsxs("div",{className:`flex items-center gap-1.5 ${i}`,children:[e.jsx("span",{className:"text-sm",children:r}),n&&e.jsx("span",{className:"text-xs",children:a})]})}const IS={progress:"",mastery:"",dedication:"",exploration:""};function OS({notification:t,onDismiss:n}){return $.useEffect(()=>{const a=setTimeout(n,5e3);return()=>clearTimeout(a)},[n]),e.jsx(Bs.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"pointer-events-auto",children:e.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl bg-dark-800 border border-primary-500/30 shadow-xl shadow-primary-500/10",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:IS[t.category]||""}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-primary-400 font-medium uppercase tracking-wider mb-0.5",children:"Achievement Unlocked!"}),e.jsx("div",{className:"text-dark-100 font-semibold",children:t.title}),e.jsx("div",{className:"text-sm text-dark-400",children:t.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-primary-400",children:["+",t.xpReward]}),e.jsx("div",{className:"text-xs text-dark-500",children:"XP"})]}),e.jsx("button",{onClick:n,className:"p-1 text-dark-500 hover:text-dark-300 transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function RS(){const{notifications:t,dismissNotification:n}=ni();return e.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 pointer-events-none",children:e.jsx(ll,{mode:"popLayout",children:t.map(a=>e.jsx(OS,{notification:a,onDismiss:()=>n(a.id)},a.id))})})}function LS({onImportSuccess:t}){const[n,a]=$.useState(!1),[i,r]=$.useState(null),[l,c]=$.useState(!1),h=$.useRef(null),d=sS(),u=()=>{J_(),r({type:"success",text:"Progress exported! Check your downloads folder."}),setTimeout(()=>r(null),3e3)},p=()=>{var f;(f=h.current)==null||f.click()},j=async f=>{var P;const N=(P=f.target.files)==null?void 0:P[0];if(!N)return;c(!0),r(null);const O=await tS(N);c(!1),r({type:O.success?"success":"error",text:O.message}),O.success&&(t==null||t(),setTimeout(()=>{window.location.reload()},1500)),h.current&&(h.current.value="")};return e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>a(!n),className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":"Backup & restore progress",title:"Backup & restore progress",children:e.jsx("svg",{className:"w-5 h-5 text-dark-400 hover:text-dark-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),n&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)}),e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-dark-800 rounded-lg shadow-xl border border-dark-700 z-50 p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-dark-100 mb-3",children:"Progress Backup"}),d&&e.jsxs("div",{className:"mb-4 p-3 bg-dark-900 rounded-lg",children:[e.jsx("div",{className:"text-xs text-dark-400 mb-1",children:"Current Progress"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("span",{className:"text-accent-400 font-semibold",children:[d.totalXP," XP"]}),e.jsxs("span",{className:"text-dark-300",children:["Level ",d.level]}),e.jsxs("span",{className:"text-dark-400",children:[d.sectionsCompleted," sections"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:u,disabled:!d,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Progress"]}),e.jsxs("button",{onClick:p,disabled:l,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),l?"Importing...":"Import Backup"]}),e.jsx("input",{ref:h,type:"file",accept:".json",onChange:j,className:"hidden"})]}),i&&e.jsx("div",{className:`mt-3 p-2 rounded text-xs ${i.type==="success"?"bg-green-900/50 text-green-300 border border-green-700":"bg-red-900/50 text-red-300 border border-red-700"}`,children:i.text}),e.jsx("p",{className:"mt-3 text-xs text-dark-500",children:"Export your progress regularly to avoid losing your XP. Import to restore from a backup file."})]})]})]})}function Tu({onToggleSidebar:t,sidebarOpen:n}){const i=ni();return e.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800",children:e.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":n?"Close sidebar":"Open sidebar",children:e.jsx("svg",{className:"w-6 h-6 text-dark-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),e.jsxs(wt,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[e.jsx("span",{className:"text-2xl",children:yv}),e.jsx("h1",{className:"text-lg font-semibold text-dark-100 hidden sm:block",children:xu})]})]}),e.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[e.jsx("a",{href:X2,className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Hub"}),e.jsx(wt,{to:"/",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Home"}),e.jsx(wt,{to:"/theorems",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Theorems"}),e.jsx(wt,{to:"/interactive",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Interactive"}),e.jsx(wt,{to:"/leaderboard",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Leaderboard"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[i&&e.jsxs(e.Fragment,{children:[e.jsx(Ay,{streak:i.state.streak.currentStreak}),e.jsx(Gy,{xp:i.state.user.totalXP,level:i.state.user.level})]}),e.jsx(LS,{})]})]})})}const ai=[{id:1,title:"Fundamental Concepts",slug:"fundamental-concepts",sections:[{id:1,title:"1.1 What Is a Graph?",slug:"what-is-a-graph",description:"Definitions, graphs as models, matrices, isomorphism, and special graphs."},{id:2,title:"1.2 Paths, Cycles, and Trails",slug:"paths-cycles-trails",description:"Connection in graphs, bipartite graphs, and Eulerian circuits."},{id:3,title:"1.3 Vertex Degrees and Counting",slug:"vertex-degrees-counting",description:"Counting arguments, extremal problems, and graphic sequences."},{id:4,title:"1.4 Directed Graphs",slug:"directed-graphs",description:"Digraph definitions, vertex degrees, Eulerian digraphs, and tournaments."}]},{id:2,title:"Trees and Distance",slug:"trees-and-distance",sections:[{id:5,title:"2.1 Basic Properties",slug:"basic-properties-trees",description:"Properties of trees, distance in graphs, and spanning trees."},{id:6,title:"2.2 Spanning Trees and Enumeration",slug:"spanning-trees-enumeration",description:"Enumeration of trees, Cayley's formula, and the Matrix Tree Theorem."},{id:7,title:"2.3 Optimization and Trees",slug:"optimization-trees",description:"Minimum spanning trees, shortest paths, and Dijkstra's algorithm."}]},{id:3,title:"Matchings and Factors",slug:"matchings-and-factors",sections:[{id:8,title:"3.1 Matchings and Covers",slug:"matchings-covers",description:"Maximum matchings, Hall's theorem, and the Knig-Egervry theorem."},{id:9,title:"3.2 Algorithms and Applications",slug:"matching-algorithms",description:"Bipartite matching algorithms, weighted matching, and stable matchings."},{id:10,title:"3.3 Matchings in General Graphs",slug:"general-matchings",description:"Tutte's theorem, f-factors, and Edmonds' blossom algorithm."}]},{id:4,title:"Connectivity and Paths",slug:"connectivity-and-paths",sections:[{id:11,title:"4.1 Cuts and Connectivity",slug:"cuts-connectivity",description:"Vertex and edge connectivity, blocks, and cut-vertices."},{id:12,title:"4.2 k-connected Graphs",slug:"k-connected-graphs",description:"2-connected graphs, Menger's theorem, and ear decomposition."},{id:13,title:"4.3 Network Flow Problems",slug:"network-flow",description:"Maximum flow, min-cut max-flow theorem, and integral flows."}]},{id:5,title:"Coloring of Graphs",slug:"coloring-of-graphs",sections:[{id:14,title:"5.1 Vertex Colorings and Upper Bounds",slug:"vertex-colorings",description:"Chromatic number, greedy coloring, and Brooks' theorem."},{id:15,title:"5.2 Structure of k-chromatic Graphs",slug:"k-chromatic-structure",description:"Turn's theorem, color-critical graphs, and forced subdivisions."},{id:16,title:"5.3 Enumerative Aspects",slug:"enumerative-aspects",description:"Chromatic polynomials, chordal graphs, and perfect graphs."}]},{id:6,title:"Planar Graphs",slug:"planar-graphs",sections:[{id:17,title:"6.1 Embeddings and Euler's Formula",slug:"embeddings-euler",description:"Plane drawings, dual graphs, and Euler's formula."},{id:18,title:"6.2 Characterization of Planar Graphs",slug:"planar-characterization",description:"Kuratowski's theorem and planarity testing."},{id:19,title:"6.3 Parameters of Planarity",slug:"planarity-parameters",description:"Coloring planar graphs, crossing number, and higher genus surfaces."}]},{id:7,title:"Edges and Cycles",slug:"edges-and-cycles",sections:[{id:20,title:"7.1 Line Graphs and Edge-coloring",slug:"line-graphs-edge-coloring",description:"Edge chromatic number, Vizing's theorem, and line graph characterization."},{id:21,title:"7.2 Hamiltonian Cycles",slug:"hamiltonian-cycles",description:"Necessary and sufficient conditions for Hamiltonian cycles."},{id:22,title:"7.3 Planarity, Coloring, and Cycles",slug:"planarity-coloring-cycles",description:"Tait's theorem, Grinberg's theorem, and nowhere-zero flows."}]},{id:8,title:"Additional Topics",slug:"additional-topics",sections:[{id:23,title:"8.1 Perfect Graphs",slug:"perfect-graphs",description:"The perfect graph theorem, chordal graphs, and imperfect graphs."},{id:24,title:"8.2 Matroids",slug:"matroids",description:"Hereditary systems, matroid properties, duality, and intersection."},{id:25,title:"8.3 Ramsey Theory",slug:"ramsey-theory",description:"Ramsey's theorem, Ramsey numbers, and graph Ramsey theory."},{id:26,title:"8.4 More Extremal Problems",slug:"more-extremal-problems",description:"Encodings, branchings, list coloring, and circumference."},{id:27,title:"8.5 Random Graphs",slug:"random-graphs",description:"Existence and expectation, threshold functions, and evolution."},{id:28,title:"8.6 Eigenvalues of Graphs",slug:"eigenvalues-graphs",description:"Characteristic polynomial, eigenvalues, and strongly regular graphs."}]}];function Ey(t){for(const n of ai){const a=n.sections.find(i=>i.id===t);if(a)return a}}function Cy(t){return ai.find(n=>n.sections.some(a=>a.id===t))}function HS(t){const n=ai.flatMap(i=>i.sections),a=n.findIndex(i=>i.id===t);return{prev:a>0?n[a-1]:null,next:a<n.length-1?n[a+1]:null}}function My(){return ai.reduce((t,n)=>t+n.sections.length,0)}function PS(){return ai.flatMap(t=>t.sections)}function BS(t){return PS().findIndex(a=>a.id===t)}function ku({isOpen:t,onClose:n}){const[a,i]=$.useState(new Set([1])),l=ni(),c=d=>{i(u=>{const p=new Set(u);return p.has(d)?p.delete(d):p.add(d),p})},h=d=>{var p;if(!l)return"none";const u=`${wl}:${d}`;return((p=l.state.sections[u])==null?void 0:p.masteryLevel)??"none"};return e.jsxs(e.Fragment,{children:[e.jsx(ll,{children:t&&e.jsx(Bs.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:n,className:"fixed inset-0 bg-black/50 z-40 lg:hidden"})}),e.jsx("aside",{className:`
          fixed top-16 left-0 bottom-0 z-40
          w-72 bg-dark-900 border-r border-dark-800
          transform transition-transform duration-300 ease-in-out
          ${t?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0
          overflow-y-auto
        `,children:e.jsxs("nav",{className:"p-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mb-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold text-amber-400",children:""})}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-dark-500",children:"Reference"})]}),e.jsxs("ul",{className:"space-y-0.5",children:[e.jsx("li",{children:e.jsxs(rh,{to:"/theorems",className:({isActive:d})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${d?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[e.jsx("span",{className:"text-lg",children:""}),"Theorems"]})}),e.jsx("li",{children:e.jsxs(rh,{to:"/interactive",className:({isActive:d})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${d?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[e.jsx("span",{className:"text-lg",children:""}),"Interactive Modules"]})})]})]}),e.jsx("div",{className:"space-y-2",children:ai.map(d=>e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>c(d.id),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-dark-800 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold text-primary-400",children:d.id})}),e.jsx("span",{className:"text-sm font-medium text-dark-200",children:d.title})]}),e.jsx("svg",{className:`w-4 h-4 text-dark-500 transition-transform ${a.has(d.id)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsx(ll,{children:a.has(d.id)&&e.jsx(Bs.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"ml-4 mt-1 space-y-0.5 overflow-hidden",children:d.sections.map(u=>e.jsx("li",{children:e.jsxs(rh,{to:`/section/${u.id}`,onClick:()=>{window.innerWidth<1024&&n()},className:({isActive:p})=>`flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${p?"bg-primary-500/10 text-primary-400":"text-dark-400 hover:bg-dark-800 hover:text-dark-200"}`,children:[e.jsx("span",{className:"truncate",children:u.title}),e.jsx(DS,{level:h(u.id)})]})},u.id))})})]},d.id))})]})})]})}function yf(){const n=ni(),a=My(),i=n?n.state.user.sectionsCompleted.filter(l=>l.startsWith(wl)).length:0,r=Math.round(i/a*100);return e.jsx("div",{className:"py-8 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("span",{className:"text-6xl mb-4 block",children:yv}),e.jsx("h1",{className:"text-4xl font-bold text-dark-100 mb-4",children:xu}),e.jsx("p",{className:"text-xl text-dark-400 max-w-2xl mx-auto",children:V2})]}),n&&e.jsxs("div",{className:"mb-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-dark-100",children:"Your Progress"}),e.jsx(Ay,{streak:n.state.streak.currentStreak})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{children:e.jsx(Gy,{xp:n.state.user.totalXP,level:n.state.user.level})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-dark-400",children:"Course Progress"}),e.jsxs("span",{className:"text-primary-400 font-medium",children:[r,"%"]})]}),e.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",style:{width:`${r}%`}})}),e.jsxs("div",{className:"text-xs text-dark-500 mt-1",children:[i," of ",a," sections"]})]}),e.jsxs("div",{className:"flex flex-col justify-center items-end",children:[e.jsx("div",{className:"text-2xl font-bold text-dark-100",children:n.state.user.quizzesTaken}),e.jsx("div",{className:"text-sm text-dark-400",children:"Quizzes Completed"})]})]})]}),e.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Course Content"}),e.jsx("div",{className:"space-y-4",children:ai.map(l=>e.jsxs("div",{className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-dark-600/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:e.jsx("span",{className:"text-lg font-bold text-primary-400",children:l.id})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:l.title}),e.jsxs("p",{className:"text-sm text-dark-400",children:[l.sections.length," sections"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:l.sections.map(c=>{const h=`${wl}:${c.id}`,d=n==null?void 0:n.state.user.sectionsCompleted.includes(h);return e.jsxs(wt,{to:`/section/${c.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-dark-700/50 transition-colors group",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${d?"bg-emerald-500/20 text-emerald-400":"bg-dark-700 text-dark-400"}`,children:d?e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsx("span",{className:"text-xs",children:c.id})}),e.jsx("span",{className:"text-sm text-dark-300 group-hover:text-dark-100 transition-colors",children:c.title})]},c.id)})})]},l.id))})]})})}function FS(){return e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:e.jsx(S_,{})})}const US=[{id:1,type:"multiple-choice",question:"A graph $G$ consists of a vertex set $V(G)$ and an edge set $E(G)$. What is true about a simple graph?",options:["It can have loops and multiple edges","It has no loops or multiple edges","It must be connected","It must have at least 3 vertices"],correctIndex:1,difficulty:"easy",explanation:"A simple graph has no loops (edges from a vertex to itself) and no multiple edges (more than one edge between the same pair of vertices)."},{id:2,type:"multiple-choice",question:"The complete graph $K_n$ has how many edges?",options:["$n^2$","$\\binom{n}{2} = \\frac{n(n-1)}{2}$","$n$","$2^n$"],correctIndex:1,difficulty:"easy",explanation:"In $K_n$, every pair of distinct vertices is connected by an edge. There are $\\binom{n}{2}$ ways to choose 2 vertices from $n$."},{id:3,type:"multiple-choice",question:"Two graphs $G$ and $H$ are isomorphic if and only if:",options:["There exists a bijection $f: V(G) \\to V(H)$ preserving adjacency","They have the same maximum degree","They have the same number of vertices","They have the same number of edges"],correctIndex:0,difficulty:"medium",explanation:"Graph isomorphism requires a bijection between vertex sets that preserves the edge relation: $uv \\in E(G)$ iff $f(u)f(v) \\in E(H)$."},{id:4,type:"numeric",question:"How many edges does the complete graph $K_5$ have?",correctAnswer:10,numericRange:{min:0,max:100,precision:0},difficulty:"medium",explanation:"$K_5$ has $\\binom{5}{2} = \\frac{5 \\cdot 4}{2} = 10$ edges."},{id:5,type:"multiple-choice",question:"The complete bipartite graph $K_{3,4}$ has how many edges?",options:["$12$","$7$","$21$","$24$"],correctIndex:0,difficulty:"hard",explanation:"$K_{m,n}$ has $m \\cdot n$ edges. So $K_{3,4}$ has $3 \\times 4 = 12$ edges."},{id:6,type:"multiple-choice",question:"Which statement about graph complements is TRUE?",options:["The complement of $K_n$ has $\\binom{n}{2}$ edges","The complement of $K_n$ is $K_n$","$G$ and $\\overline{G}$ always have the same number of edges","The complement of $K_n$ is the empty graph $\\overline{K_n}$"],correctIndex:3,difficulty:"hard",explanation:"The complement $\\overline{G}$ has an edge $uv$ iff $uv \\notin E(G)$. Since $K_n$ has all possible edges, $\\overline{K_n}$ has no edges."}],KS=[{id:1,type:"multiple-choice",question:"A walk in a graph is:",options:["A sequence of vertices where each consecutive pair is adjacent","A sequence with no repeated edges","A sequence of distinct vertices","A closed sequence of vertices"],correctIndex:0,difficulty:"easy",explanation:"A walk is a sequence $v_0, v_1, \\ldots, v_k$ where $v_{i-1}v_i \\in E(G)$ for all $i$. Vertices and edges may repeat."},{id:2,type:"multiple-choice",question:"What is the difference between a path and a trail?",options:["There is no difference","A trail allows repeated vertices but not edges; a path allows neither","A path must be closed, a trail must be open","A path allows repeated vertices, a trail does not"],correctIndex:1,difficulty:"easy",explanation:"A trail has no repeated edges. A path has no repeated vertices (and hence no repeated edges either)."},{id:3,type:"multiple-choice",question:"A graph $G$ has an Eulerian circuit if and only if:",options:["$G$ is connected and every vertex has even degree","$G$ has an even number of edges","$G$ is connected and every vertex has odd degree","$G$ is connected and has an even number of vertices"],correctIndex:0,difficulty:"medium",explanation:"A connected graph has an Eulerian circuit (closed trail using every edge exactly once) iff every vertex has even degree."},{id:4,type:"multiple-choice",question:"A connected graph $G$ has an Eulerian trail (but not circuit) if and only if:",options:["Exactly two vertices have odd degree","The graph has an even number of edges","Every vertex has odd degree","At most two vertices have odd degree"],correctIndex:0,difficulty:"medium",explanation:"An Eulerian trail exists iff $G$ is connected and has exactly 0 or 2 vertices of odd degree. With 0 odd-degree vertices, it is a circuit."},{id:5,type:"numeric",question:"In a cycle $C_6$, what is the length of the longest path?",correctAnswer:5,numericRange:{min:0,max:20,precision:0},difficulty:"hard",explanation:"In $C_6$, we can traverse 5 edges to visit all 6 vertices without repeating. The 6th edge would close the cycle."},{id:6,type:"multiple-choice",question:"The Knigsberg Bridge Problem asked whether there exists:",options:["An Eulerian trail through 7 bridges","A spanning tree of 7 bridges","A perfect matching of 7 bridges","A Hamiltonian cycle through 7 bridges"],correctIndex:0,difficulty:"hard",explanation:"Euler proved no Eulerian trail exists because more than 2 vertices have odd degree in the multigraph representing Knigsberg."}],VS=[{id:1,type:"multiple-choice",question:"The Handshaking Lemma states that:",options:["$\\sum_{v \\in V} d(v) = |E|$","$\\sum_{v \\in V} d(v) = |V| + |E|$","$\\sum_{v \\in V} d(v) = |V|$","$\\sum_{v \\in V} d(v) = 2|E|$"],correctIndex:3,difficulty:"easy",explanation:"Each edge contributes 2 to the sum of degrees (one for each endpoint), so $\\sum d(v) = 2|E|$."},{id:2,type:"multiple-choice",question:"In any graph, the number of vertices with odd degree is:",options:["Could be any number","Always even","Always odd","Always zero"],correctIndex:1,difficulty:"easy",explanation:"Since $\\sum d(v) = 2|E|$ is even, and odd numbers must pair up to sum to even, the count of odd-degree vertices must be even."},{id:3,type:"numeric",question:"A $k$-regular graph on $n$ vertices has how many edges? Express as $kn/2$. If $k=4$ and $n=10$, how many edges?",correctAnswer:20,numericRange:{min:0,max:100,precision:0},difficulty:"medium",explanation:"Sum of degrees $= kn$. By Handshaking Lemma, $|E| = kn/2 = (4)(10)/2 = 20$."},{id:4,type:"multiple-choice",question:"A simple graph $G$ with $n$ vertices and $m$ edges satisfies:",options:["$m \\leq n!$","$m \\leq n^2$","$m \\leq \\binom{n}{2}$","$m \\leq n$"],correctIndex:2,difficulty:"medium",explanation:"A simple graph has at most one edge per vertex pair. Maximum is $\\binom{n}{2} = n(n-1)/2$ edges (achieved by $K_n$)."},{id:5,type:"numeric",question:"If a simple graph has 6 vertices and 15 edges, what is the degree of each vertex?",correctAnswer:5,numericRange:{min:0,max:10,precision:0},difficulty:"hard",explanation:"$\\binom{6}{2} = 15$, so this is $K_6$. In $K_n$, each vertex has degree $n-1 = 5$."},{id:6,type:"multiple-choice",question:"A degree sequence $(d_1, \\ldots, d_n)$ is graphic (realizable by a simple graph) if and only if:",options:["All degrees are even","The sequence is non-increasing","All degrees are less than $n$","The sum is even and satisfies Erds-Gallai inequalities"],correctIndex:3,difficulty:"hard",explanation:"The Erds-Gallai theorem gives necessary and sufficient conditions: sum is even, and certain inequalities involving partial sums hold."}],XS=[{id:1,type:"multiple-choice",question:"In a directed graph (digraph), an arc from $u$ to $v$ contributes:",options:["1 to the out-degree of $u$ and 1 to the in-degree of $v$","2 to the degree of $u$","1 to the degree of both $u$ and $v$","1 to the in-degree of $u$ and 1 to the out-degree of $v$"],correctIndex:0,difficulty:"easy",explanation:"An arc $(u,v)$ goes out from $u$ (contributing to $d^+(u)$) and into $v$ (contributing to $d^-(v)$)."},{id:2,type:"multiple-choice",question:"A tournament is:",options:["A directed cycle","An orientation of a complete graph","A complete bipartite graph with orientation","A directed tree"],correctIndex:1,difficulty:"easy",explanation:"A tournament is $K_n$ where each edge is oriented in exactly one direction (every pair of vertices has exactly one arc between them)."},{id:3,type:"multiple-choice",question:"In any digraph $D$, the sum of all in-degrees equals:",options:["The number of vertices","The number of arcs","The sum of all out-degrees","Both the number of arcs and the sum of out-degrees"],correctIndex:3,difficulty:"medium",explanation:"Each arc contributes 1 to exactly one in-degree and one out-degree, so $\\sum d^-(v) = \\sum d^+(v) = |A|$."},{id:4,type:"multiple-choice",question:"A digraph is strongly connected if:",options:["There is a directed path from every vertex to every other vertex","The underlying undirected graph is connected","Every vertex has equal in-degree and out-degree","It has a directed Hamiltonian path"],correctIndex:0,difficulty:"medium",explanation:"Strong connectivity requires a directed path between every ordered pair of vertices."},{id:5,type:"numeric",question:"A tournament on 5 vertices has how many arcs?",correctAnswer:10,numericRange:{min:0,max:50,precision:0},difficulty:"hard",explanation:"A tournament orients $K_n$, which has $\\binom{n}{2}$ edges. So a tournament on 5 vertices has $\\binom{5}{2} = 10$ arcs."},{id:6,type:"multiple-choice",question:"Every tournament has:",options:["A directed Hamiltonian path","A vertex with in-degree 0","All vertices with equal in-degree","A directed Hamiltonian cycle"],correctIndex:0,difficulty:"hard",explanation:"Rdei's theorem: every tournament has a directed Hamiltonian path (vertices can be linearly ordered by the tournament)."}],ZS=[{id:1,type:"multiple-choice",question:"A tree is a connected graph that:",options:["Has maximum degree 2","Has at least one cycle","Has no cycles","Is bipartite"],correctIndex:2,difficulty:"easy",explanation:"A tree is a connected acyclic graph. It has no cycles."},{id:2,type:"multiple-choice",question:"A tree on $n$ vertices has exactly how many edges?",options:["$n - 1$","$2n - 2$","$n$","$n + 1$"],correctIndex:0,difficulty:"easy",explanation:"Every tree on $n$ vertices has exactly $n-1$ edges. This is a fundamental characterization of trees."},{id:3,type:"multiple-choice",question:'Which is NOT equivalent to "$G$ is a tree"?',options:["$G$ has no cycles and has $n-1$ edges","Between any two vertices there is exactly one path","$G$ is connected and has $n-1$ edges","$G$ is connected and every edge is a bridge"],correctIndex:3,difficulty:"medium",explanation:"All four are equivalent characterizations of trees! The question is tricky - they are all valid."},{id:4,type:"numeric",question:"A forest with 10 vertices and 3 connected components has how many edges?",correctAnswer:7,numericRange:{min:0,max:20,precision:0},difficulty:"medium",explanation:"A forest with $n$ vertices and $k$ components has $n-k$ edges. Here: $10 - 3 = 7$ edges."},{id:5,type:"multiple-choice",question:"Every tree with at least 2 vertices has:",options:["A vertex of degree at least 3","A perfect matching","An Eulerian trail","At least two leaves (vertices of degree 1)"],correctIndex:3,difficulty:"hard",explanation:"A tree with $n \\geq 2$ vertices has at least 2 leaves. This follows from the degree sum being $2(n-1)$ with all degrees $\\geq 1$."},{id:6,type:"multiple-choice",question:"The center of a tree is:",options:["Always a single vertex","The set of all leaves","The vertex with maximum degree","Either 1 or 2 adjacent vertices"],correctIndex:3,difficulty:"hard",explanation:"The center of a tree (vertices minimizing eccentricity) consists of either one vertex or two adjacent vertices."}],YS=[{id:1,type:"multiple-choice",question:"A spanning tree of a connected graph $G$ is:",options:["A tree with maximum number of edges","The unique shortest path tree","Any subgraph that is a tree","A tree subgraph containing all vertices of $G$"],correctIndex:3,difficulty:"easy",explanation:"A spanning tree is a subgraph that is a tree and includes every vertex of $G$."},{id:2,type:"multiple-choice",question:"Cayley's Formula states that the number of labeled trees on $n$ vertices is:",options:["$n^{n-2}$","$\\binom{2n-2}{n-1}$","$2^n$","$n!$"],correctIndex:0,difficulty:"easy",explanation:"Cayley's Formula: there are exactly $n^{n-2}$ labeled trees on $n$ vertices."},{id:3,type:"numeric",question:"How many labeled trees are there on 4 vertices?",correctAnswer:16,numericRange:{min:0,max:100,precision:0},difficulty:"medium",explanation:"By Cayley's Formula: $4^{4-2} = 4^2 = 16$ labeled trees on 4 vertices."},{id:4,type:"multiple-choice",question:"The Matrix Tree Theorem computes the number of spanning trees using:",options:["The determinant of a cofactor of the Laplacian matrix","The eigenvalues of the incidence matrix","The determinant of the adjacency matrix","The trace of the adjacency matrix"],correctIndex:0,difficulty:"medium",explanation:"The Matrix Tree Theorem: $\\tau(G)$ equals any cofactor of the Laplacian $L = D - A$."},{id:5,type:"multiple-choice",question:"A Prfer sequence for a labeled tree on $n$ vertices has length:",options:["$n - 1$","$n$","$2n - 2$","$n - 2$"],correctIndex:3,difficulty:"hard",explanation:"Prfer sequences have length $n-2$. The bijection with $[n]^{n-2}$ proves Cayley's formula."},{id:6,type:"numeric",question:"How many spanning trees does the cycle $C_n$ have? If $n=5$, how many?",correctAnswer:5,numericRange:{min:0,max:20,precision:0},difficulty:"hard",explanation:"$C_n$ has exactly $n$ spanning trees (remove any one of the $n$ edges)."}],WS=[{id:1,type:"multiple-choice",question:"Kruskal's algorithm for minimum spanning tree works by:",options:["Adding edges in order of increasing weight, avoiding cycles","Removing edges in order of decreasing weight","Using matrix multiplication","Starting from a root and adding nearest vertices"],correctIndex:0,difficulty:"easy",explanation:"Kruskal's algorithm sorts edges by weight and greedily adds them if they don't create a cycle."},{id:2,type:"multiple-choice",question:"Prim's algorithm for MST differs from Kruskal's by:",options:["Processing edges in decreasing weight order","Finding the longest path","Growing a single tree from a starting vertex","Using depth-first search"],correctIndex:2,difficulty:"easy",explanation:"Prim's algorithm grows a single tree, always adding the minimum-weight edge connecting the tree to a new vertex."},{id:3,type:"multiple-choice",question:"The greedy algorithm gives an optimal solution for MST because:",options:["Edge weights are always positive","Trees are always optimal","The graph is connected","The matroid structure of spanning trees allows greedy optimization"],correctIndex:3,difficulty:"medium",explanation:"Graphic matroids (forests as independent sets) satisfy the greedy algorithm optimality property."},{id:4,type:"multiple-choice",question:"A shortest path tree rooted at $s$ contains:",options:["Only edges of weight 1","A shortest path from $s$ to every other vertex","The minimum number of edges possible","All edges of minimum weight"],correctIndex:1,difficulty:"medium",explanation:"An SPT rooted at $s$ gives shortest paths from $s$ to all vertices simultaneously."},{id:5,type:"multiple-choice",question:"Dijkstra's algorithm requires:",options:["Non-negative edge weights","Negative edge weights","All edge weights equal","A directed acyclic graph"],correctIndex:0,difficulty:"hard",explanation:"Dijkstra's algorithm requires non-negative weights. For negative weights, use Bellman-Ford."},{id:6,type:"multiple-choice",question:"The time complexity of Kruskal's algorithm with union-find is:",options:["$O(m \\log m)$","$O(m \\log n)$","$O(n^2)$","$O(n^3)$"],correctIndex:0,difficulty:"hard",explanation:"Sorting edges takes $O(m \\log m)$; union-find operations are nearly $O(m)$ with path compression."}],QS=[{id:1,type:"multiple-choice",question:"A matching in a graph is:",options:["A set of adjacent vertices","A set of edges with no common vertices","A connected subgraph","A set of vertices with no common edges"],correctIndex:1,difficulty:"easy",explanation:"A matching is a set of pairwise non-adjacent edges (no two share a vertex)."},{id:2,type:"multiple-choice",question:"A perfect matching in a graph $G$ covers:",options:["All cycles of $G$","Half the vertices of $G$","All vertices of $G$","All edges of $G$"],correctIndex:2,difficulty:"easy",explanation:"A perfect matching saturates (covers) every vertex of $G$."},{id:3,type:"multiple-choice",question:"Hall's Theorem states that a bipartite graph $G$ with parts $X, Y$ has a matching saturating $X$ iff:",options:["$|X| = |Y|$","$|N(S)| \\geq |S|$ for all $S \\subseteq X$","The graph is connected","Every vertex in $X$ has degree at least 1"],correctIndex:1,difficulty:"medium",explanation:"Hall's condition: for every subset $S$ of $X$, the neighborhood $N(S)$ in $Y$ satisfies $|N(S)| \\geq |S|$."},{id:4,type:"multiple-choice",question:"A vertex cover is:",options:["A spanning subgraph","A set of edges incident to every vertex","A dominating set","A set of vertices incident to every edge"],correctIndex:3,difficulty:"medium",explanation:"A vertex cover is a set $S$ such that every edge has at least one endpoint in $S$."},{id:5,type:"multiple-choice",question:"Knig's Theorem states that in bipartite graphs:",options:["Every vertex cover is a matching","Chromatic number equals 2","Maximum matching equals minimum edge cover","Maximum matching equals minimum vertex cover"],correctIndex:3,difficulty:"hard",explanation:"Knig-Egervry: in bipartite graphs, $\\nu(G) = \\tau(G)$ (max matching = min vertex cover)."},{id:6,type:"numeric",question:"In $K_{3,3}$, what is the size of a maximum matching?",correctAnswer:3,numericRange:{min:0,max:10,precision:0},difficulty:"hard",explanation:"$K_{3,3}$ is a bipartite graph with 3 vertices on each side. A perfect matching exists, matching all 3 pairs."}],JS=[{id:1,type:"multiple-choice",question:"An augmenting path with respect to a matching $M$ is:",options:["An $M$-alternating path between two $M$-unsaturated vertices","Any path in the graph","A path of maximum length","A path using only edges in $M$"],correctIndex:0,difficulty:"easy",explanation:"An augmenting path alternates between non-matching and matching edges, with unmatched endpoints."},{id:2,type:"multiple-choice",question:"The Hungarian algorithm finds:",options:["Maximum weighted matching in bipartite graphs","Graph colorings","Shortest paths in weighted graphs","Minimum spanning trees"],correctIndex:0,difficulty:"easy",explanation:"The Hungarian algorithm solves the assignment problem: maximum weight matching in bipartite graphs."},{id:3,type:"multiple-choice",question:"Berge's Theorem states that a matching $M$ is maximum iff:",options:["It is a perfect matching","There is no $M$-augmenting path","All vertices have degree at least 1","The graph is bipartite"],correctIndex:1,difficulty:"medium",explanation:"Berge's Theorem: $M$ is maximum $\\Leftrightarrow$ no augmenting path exists."},{id:4,type:"multiple-choice",question:"In the stable marriage problem, Gale-Shapley produces:",options:["A stable matching (no blocking pairs)","The unique optimal matching","A matching maximizing total preference","A random matching"],correctIndex:0,difficulty:"medium",explanation:"Gale-Shapley produces a stable matching: no unmatched pair would prefer each other over current partners."},{id:5,type:"multiple-choice",question:"The time complexity of the Hopcroft-Karp algorithm for maximum bipartite matching is:",options:["$O(n^3)$","$O(m \\sqrt{n})$","$O(m \\cdot n)$","$O(n^2)$"],correctIndex:1,difficulty:"hard",explanation:"Hopcroft-Karp achieves $O(m\\sqrt{n})$ by finding maximal sets of shortest augmenting paths."},{id:6,type:"multiple-choice",question:"A transversal (system of distinct representatives) corresponds to:",options:["A vertex cover","A spanning tree","A Hamiltonian path","A matching in a bipartite graph"],correctIndex:3,difficulty:"hard",explanation:"An SDR for sets $S_1, \\ldots, S_n$ exists iff the bipartite graph (sets vs elements) has a matching saturating all sets."}],e$=[{id:1,type:"multiple-choice",question:"Tutte's Theorem characterizes graphs with perfect matchings using:",options:["The maximum degree","The chromatic number","The number of edges","The number of odd components after removing any vertex set"],correctIndex:3,difficulty:"easy",explanation:"Tutte's condition: $G$ has a perfect matching iff $o(G-S) \\leq |S|$ for all $S \\subseteq V$."},{id:2,type:"multiple-choice",question:"An $f$-factor of a graph is:",options:["A subgraph where each vertex has degree exactly $f$","A collection of $f$ edge-disjoint matchings","A subgraph with $f$ edges","A spanning subgraph where vertex $v$ has degree $f(v)$"],correctIndex:3,difficulty:"easy",explanation:"An $f$-factor is a spanning subgraph where each vertex $v$ has degree exactly $f(v)$."},{id:3,type:"multiple-choice",question:"A 1-factor is the same as:",options:["A spanning tree","A vertex cover","A perfect matching","A Hamiltonian path"],correctIndex:2,difficulty:"medium",explanation:"A 1-factor is a spanning subgraph with all degrees equal to 1, which is exactly a perfect matching."},{id:4,type:"multiple-choice",question:"Edmonds' blossom algorithm handles:",options:["Only bipartite graphs","Only planar graphs","General graphs by shrinking odd cycles","Only regular graphs"],correctIndex:2,difficulty:"medium",explanation:"The blossom algorithm contracts odd cycles (blossoms) to find augmenting paths in general graphs."},{id:5,type:"multiple-choice",question:"The deficiency of a graph $G$ is:",options:["$|E| - |V|$","The number of isolated vertices","The minimum degree","$|V| - 2\\nu(G)$"],correctIndex:3,difficulty:"hard",explanation:"Deficiency $= n - 2\\nu(G)$ = number of vertices not covered by maximum matching."},{id:6,type:"multiple-choice",question:"Petersen's Theorem states that every:",options:["2-connected graph has a Hamiltonian path","Planar graph is 4-colorable","Bipartite graph has a perfect matching","Bridgeless cubic graph has a perfect matching"],correctIndex:3,difficulty:"hard",explanation:"Petersen: every bridgeless (2-edge-connected) 3-regular graph has a perfect matching."}],t$=[{id:1,type:"multiple-choice",question:"A cut vertex (articulation point) is:",options:["A vertex of degree 1","A vertex in a minimum vertex cover","A vertex whose removal increases the number of components","A vertex of maximum degree"],correctIndex:2,difficulty:"easy",explanation:"A cut vertex is one whose deletion disconnects the graph (increases component count)."},{id:2,type:"multiple-choice",question:"A bridge in a graph is:",options:["The shortest edge","An edge whose removal disconnects the graph","An edge in every spanning tree","An edge between two cut vertices"],correctIndex:1,difficulty:"easy",explanation:"A bridge (cut edge) is an edge whose deletion increases the number of components."},{id:3,type:"multiple-choice",question:"The vertex connectivity $\\kappa(G)$ is:",options:["The maximum degree","The number of components","The number of cut vertices","The minimum number of vertices to remove to disconnect $G$"],correctIndex:3,difficulty:"medium",explanation:"$\\kappa(G)$ is the minimum size of a vertex cut (or $n-1$ if $G = K_n$)."},{id:4,type:"multiple-choice",question:"For any graph $G$: $\\kappa(G) \\leq \\kappa'(G) \\leq \\delta(G)$. What are $\\kappa'$ and $\\delta$?",options:["Chromatic number and maximum degree","Edge connectivity and average degree","Independence number and minimum degree","Edge connectivity and minimum degree"],correctIndex:3,difficulty:"medium",explanation:"$\\kappa' =$ edge connectivity, $\\delta =$ minimum degree. Whitney's inequality."},{id:5,type:"multiple-choice",question:"A block of a graph is:",options:["A clique","A connected component","A bipartite subgraph","A maximal 2-connected subgraph or bridge or isolated vertex"],correctIndex:3,difficulty:"hard",explanation:"Blocks are the maximal subgraphs with no cut vertex. They partition the edges."},{id:6,type:"multiple-choice",question:"Tarjan's algorithm finds:",options:["Chromatic numbers","Maximum matchings","Strongly connected components in linear time","Shortest paths"],correctIndex:2,difficulty:"hard",explanation:"Tarjan's DFS-based algorithm finds SCCs (and blocks) in $O(n+m)$ time."}],s$=[{id:1,type:"multiple-choice",question:"A graph is $k$-connected if:",options:["It has at least $k$ vertices","It has $k$ components","Every vertex has degree at least $k$","It remains connected after removing any $k-1$ vertices"],correctIndex:3,difficulty:"easy",explanation:"$k$-connected means $\\kappa(G) \\geq k$: removing fewer than $k$ vertices leaves the graph connected."},{id:2,type:"multiple-choice",question:"Menger's Theorem (vertex version) states that the maximum number of internally disjoint $u$-$v$ paths equals:",options:["The degree of $u$","$\\kappa(G)$","The minimum size of a $u$-$v$ vertex cut","The distance from $u$ to $v$"],correctIndex:2,difficulty:"easy",explanation:"Menger: max internally disjoint paths = min vertex cut size separating $u$ from $v$."},{id:3,type:"multiple-choice",question:"An ear decomposition of a 2-connected graph starts with:",options:["A matching","A single vertex","A spanning tree","A cycle"],correctIndex:3,difficulty:"medium",explanation:'Ear decomposition starts with a cycle, then adds "ears" (paths connecting existing vertices).'},{id:4,type:"multiple-choice",question:"Whitney's Theorem states that $G$ is 2-connected iff:",options:["It is planar","It has no cut vertices","It has a Hamiltonian cycle","Every pair of edges lies on a common cycle"],correctIndex:3,difficulty:"medium",explanation:"Whitney: 2-connected $\\Leftrightarrow$ every two edges lie on a common cycle."},{id:5,type:"numeric",question:"What is the vertex connectivity $\\kappa(K_5)$?",correctAnswer:4,numericRange:{min:0,max:10,precision:0},difficulty:"hard",explanation:"In $K_n$, any $n-1$ vertices can be removed while keeping it connected, so $\\kappa(K_n) = n-1$. Thus $\\kappa(K_5) = 4$."},{id:6,type:"multiple-choice",question:"The edge version of Menger's Theorem relates to:",options:["Chromatic number","Edge-disjoint paths and edge cuts","Vertex connectivity","Matchings"],correctIndex:1,difficulty:"hard",explanation:"Edge Menger: max edge-disjoint paths = min edge cut size."}],n$=[{id:1,type:"multiple-choice",question:"In a network flow, the value of a flow is:",options:["The maximum edge capacity","The net flow out of the source","The number of edges with positive flow","The sum of all edge capacities"],correctIndex:1,difficulty:"easy",explanation:"Flow value = total flow leaving source = total flow entering sink."},{id:2,type:"multiple-choice",question:"The Max-Flow Min-Cut Theorem states:",options:["Every flow can be decomposed into paths","Maximum flow value equals minimum cut capacity","Flows are always integral","Maximum flow equals minimum number of edges"],correctIndex:1,difficulty:"easy",explanation:"The maximum flow value equals the minimum capacity of an $s$-$t$ cut."},{id:3,type:"multiple-choice",question:"Ford-Fulkerson finds augmenting paths in:",options:["The residual graph","The original graph","The line graph","A spanning tree"],correctIndex:0,difficulty:"medium",explanation:"Ford-Fulkerson repeatedly finds augmenting paths in the residual graph (forward and backward edges)."},{id:4,type:"multiple-choice",question:"If all capacities are integers, Ford-Fulkerson guarantees:",options:["An integral maximum flow","Polynomial time always","No augmenting paths exist","A unique maximum flow"],correctIndex:0,difficulty:"medium",explanation:"With integer capacities, Ford-Fulkerson produces an integral max flow (integrality theorem)."},{id:5,type:"multiple-choice",question:"Edmonds-Karp is Ford-Fulkerson with:",options:["Random path selection","Minimum capacity paths","BFS to find shortest augmenting paths","DFS to find longest augmenting paths"],correctIndex:2,difficulty:"hard",explanation:"Edmonds-Karp uses BFS for shortest augmenting paths, giving $O(VE^2)$ complexity."},{id:6,type:"multiple-choice",question:"Knig's theorem can be proved using:",options:["Induction on vertices","Euler's formula","Max-flow min-cut theorem","The four-color theorem"],correctIndex:2,difficulty:"hard",explanation:"Knig's theorem (bipartite matching = vertex cover) follows from max-flow min-cut applied to bipartite graphs."}],a$=[{id:1,type:"multiple-choice",question:"The chromatic number $\\chi(G)$ is:",options:["The minimum colors needed to properly color vertices","The number of edges","The maximum degree plus one","The number of components"],correctIndex:0,difficulty:"easy",explanation:"$\\chi(G)$ is the minimum $k$ such that $G$ has a proper $k$-coloring (adjacent vertices get different colors)."},{id:2,type:"multiple-choice",question:"A graph is bipartite if and only if:",options:["$\\chi(G) = 3$","It has an even number of vertices","$\\chi(G) = 1$","$\\chi(G) \\leq 2$"],correctIndex:3,difficulty:"easy",explanation:"Bipartite $\\Leftrightarrow$ 2-colorable $\\Leftrightarrow$ no odd cycles."},{id:3,type:"multiple-choice",question:"The greedy coloring algorithm colors vertices using at most:",options:["$\\chi(G)$ colors","$\\Delta(G)$ colors","$n$ colors","$\\Delta(G) + 1$ colors"],correctIndex:3,difficulty:"medium",explanation:"Greedy uses at most $\\Delta + 1$ colors (at each step, at most $\\Delta$ colors are forbidden)."},{id:4,type:"multiple-choice",question:"Brooks' Theorem states that $\\chi(G) \\leq \\Delta(G)$ unless:",options:["$G$ is a tree","$G$ is bipartite","$G$ is a complete graph or odd cycle","$G$ is planar"],correctIndex:2,difficulty:"medium",explanation:"Brooks: $\\chi(G) \\leq \\Delta$ for connected graphs except $K_n$ and odd cycles."},{id:5,type:"numeric",question:"What is $\\chi(K_6)$?",correctAnswer:6,numericRange:{min:0,max:20,precision:0},difficulty:"hard",explanation:"$K_n$ requires $n$ colors since every pair of vertices is adjacent."},{id:6,type:"multiple-choice",question:"The clique number $\\omega(G)$ satisfies:",options:["$\\omega(G) \\geq \\chi(G)$ always","$\\omega(G) = \\chi(G)$ always","$\\omega(G) \\leq \\chi(G)$ always","$\\omega(G) = \\Delta(G)$"],correctIndex:2,difficulty:"hard",explanation:"A clique of size $k$ needs $k$ colors, so $\\omega(G) \\leq \\chi(G)$. Equality holds for perfect graphs."}],i$=[{id:1,type:"multiple-choice",question:"Turn's Theorem gives the maximum edges in a graph with no:",options:["Cut vertices","Perfect matching","$K_{r+1}$ subgraph","Cycles"],correctIndex:2,difficulty:"easy",explanation:"Turn: $ex(n, K_{r+1})$ = max edges avoiding $(r+1)$-clique, achieved by $T(n,r)$."},{id:2,type:"multiple-choice",question:"The Turn graph $T(n,r)$ is:",options:["A complete $r$-partite graph with parts as equal as possible","The complete graph $K_n$","A tree on $n$ vertices","A cycle of length $n$"],correctIndex:0,difficulty:"easy",explanation:"$T(n,r)$ is complete $r$-partite with part sizes differing by at most 1."},{id:3,type:"multiple-choice",question:"A graph is $k$-critical if:",options:["$\\chi(G) = k$ and $G$ is connected","$G$ has exactly $k$ edges","$\\chi(G) = k$ and $\\chi(G-e) < k$ for every edge $e$","$G$ is $k$-regular"],correctIndex:2,difficulty:"medium",explanation:"A $k$-critical graph has $\\chi(G) = k$ but every proper subgraph has smaller chromatic number."},{id:4,type:"multiple-choice",question:"In a $k$-critical graph, every vertex has degree at least:",options:["$2k - 2$","$k$","$1$","$k - 1$"],correctIndex:3,difficulty:"medium",explanation:"In a $k$-critical graph, $\\delta(G) \\geq k-1$ (removing low-degree vertex reduces chromatic number)."},{id:5,type:"numeric",question:"How many edges does $T(6, 2)$ (Turn graph avoiding triangles) have?",correctAnswer:9,numericRange:{min:0,max:20,precision:0},difficulty:"hard",explanation:"$T(6,2) = K_{3,3}$ (complete bipartite with equal parts). Edges: $3 \\times 3 = 9$."},{id:6,type:"multiple-choice",question:"The degeneracy of a graph is:",options:["The connectivity","The chromatic number minus one","The maximum $k$ such that every subgraph has a vertex of degree at most $k$","The minimum degree"],correctIndex:2,difficulty:"hard",explanation:"Degeneracy $d$: every subgraph has a vertex of degree $\\leq d$. Implies $\\chi(G) \\leq d + 1$."}],r$=[{id:1,type:"multiple-choice",question:"The chromatic polynomial $P(G, k)$ counts:",options:["The chromatic number","The number of proper $k$-colorings","The number of edges using $k$ colors","The number of cliques of size $k$"],correctIndex:1,difficulty:"easy",explanation:"$P(G, k)$ = number of ways to properly color $G$ with at most $k$ colors."},{id:2,type:"multiple-choice",question:"The chromatic polynomial of $K_n$ is:",options:["$k(k-1)(k-2)\\cdots(k-n+1)$","$k(k-1)^{n-1}$","$k^n$","$(k-1)^n$"],correctIndex:0,difficulty:"easy",explanation:"For $K_n$: first vertex gets $k$ choices, second $k-1$, ..., giving $k(k-1)\\cdots(k-n+1)$."},{id:3,type:"multiple-choice",question:"The deletion-contraction formula for chromatic polynomials is:",options:["$P(G) = P(G-e) - P(G/e)$","$P(G) = P(G-e) / P(G/e)$","$P(G) = P(G-e) + P(G/e)$","$P(G) = P(G-e) \\cdot P(G/e)$"],correctIndex:0,difficulty:"medium",explanation:"For edge $e$: $P(G, k) = P(G-e, k) - P(G/e, k)$ (delete minus contract)."},{id:4,type:"multiple-choice",question:"A chordal graph is one where:",options:["It has no triangles","It is planar","Every cycle of length $\\geq 4$ has a chord","Every vertex is in a triangle"],correctIndex:2,difficulty:"medium",explanation:"Chordal = every cycle of length 4 or more has a chord (edge between non-consecutive vertices)."},{id:5,type:"numeric",question:"What is $P(C_4, 3)$ (3-colorings of the 4-cycle)?",correctAnswer:18,numericRange:{min:0,max:100,precision:0},difficulty:"hard",explanation:"$P(C_n, k) = (k-1)^n + (-1)^n(k-1)$. For $C_4$: $(3-1)^4 + (3-1) = 16 + 2 = 18$."},{id:6,type:"multiple-choice",question:"A graph is perfect if for every induced subgraph $H$:",options:["$\\chi(H) = |V(H)|$","$\\chi(H) = \\omega(H)$","$\\chi(H) = \\Delta(H)$","$H$ is bipartite"],correctIndex:1,difficulty:"hard",explanation:"Perfect: $\\chi(H) = \\omega(H)$ for every induced subgraph $H$."}],l$=[{id:1,type:"multiple-choice",question:"A planar graph is one that:",options:["Has at most 4 vertices","Is bipartite","Can be drawn in the plane without edge crossings","Has no cycles"],correctIndex:2,difficulty:"easy",explanation:"A planar graph admits a plane embedding (drawing with no edge crossings)."},{id:2,type:"multiple-choice",question:"Euler's Formula for connected plane graphs states:",options:["$n + m = f$","$n - m + f = 2$","$n + m + f = 2$","$n \\cdot m = f$"],correctIndex:1,difficulty:"easy",explanation:"Euler's Formula: $n - m + f = 2$ where $n$ = vertices, $m$ = edges, $f$ = faces."},{id:3,type:"numeric",question:"A connected plane graph has 6 vertices and 9 edges. How many faces?",correctAnswer:5,numericRange:{min:0,max:20,precision:0},difficulty:"medium",explanation:"By Euler: $f = 2 - n + m = 2 - 6 + 9 = 5$ faces."},{id:4,type:"multiple-choice",question:"The dual graph $G^*$ of a plane graph $G$ has:",options:["The same vertices as $G$","Twice as many edges as $G$","Complementary edges to $G$","A vertex for each face of $G$ and edges crossing $G$'s edges"],correctIndex:3,difficulty:"medium",explanation:"The dual has one vertex per face of $G$; two dual vertices are adjacent if the faces share an edge."},{id:5,type:"multiple-choice",question:"A simple planar graph with $n \\geq 3$ vertices has at most:",options:["$n$ edges","$n^2$ edges","$2n - 4$ edges","$3n - 6$ edges"],correctIndex:3,difficulty:"hard",explanation:"From Euler + each face bounded by $\\geq 3$ edges: $m \\leq 3n - 6$."},{id:6,type:"multiple-choice",question:"If $G$ is planar and triangle-free, then:",options:["$m \\leq 4n - 8$","$m \\leq n - 1$","$m \\leq 2n - 4$","$m \\leq 3n - 6$"],correctIndex:2,difficulty:"hard",explanation:"Triangle-free means each face has $\\geq 4$ edges, giving $m \\leq 2n - 4$."}],o$=[{id:1,type:"multiple-choice",question:"Kuratowski's Theorem states that $G$ is planar iff it has no:",options:["Subdivision of $K_5$ or $K_{3,3}$","Cycles","Cliques of size 4","Vertices of degree 5 or more"],correctIndex:0,difficulty:"easy",explanation:"Kuratowski: $G$ is planar $\\Leftrightarrow$ no subgraph is a subdivision of $K_5$ or $K_{3,3}$."},{id:2,type:"multiple-choice",question:"A subdivision of a graph $H$ is obtained by:",options:["Removing edges","Replacing edges with paths","Contracting edges","Adding cliques"],correctIndex:1,difficulty:"easy",explanation:"A subdivision replaces edges with internally disjoint paths (adds degree-2 vertices on edges)."},{id:3,type:"multiple-choice",question:"Wagner's Theorem characterizes planarity using:",options:["Matchings","Colorings","Minors (contractions and deletions)","Subdivisions only"],correctIndex:2,difficulty:"medium",explanation:"Wagner: $G$ is planar $\\Leftrightarrow$ no $K_5$ or $K_{3,3}$ minor."},{id:4,type:"multiple-choice",question:"$K_5$ is not planar because:",options:["It has odd cycles","It has $10 > 3(5) - 6 = 9$ edges","It has too many vertices","It is not connected"],correctIndex:1,difficulty:"medium",explanation:"$K_5$ has $\\binom{5}{2} = 10$ edges, but planar graphs on 5 vertices have at most $3(5)-6=9$."},{id:5,type:"multiple-choice",question:"$K_{3,3}$ is not planar because:",options:["It has $9 > 2(6) - 4 = 8$ edges and is triangle-free","It has too many vertices","It has a Hamiltonian cycle","It is bipartite"],correctIndex:0,difficulty:"hard",explanation:"$K_{3,3}$ is triangle-free with 9 edges, but triangle-free planar graphs on 6 vertices have $\\leq 2(6)-4=8$."},{id:6,type:"multiple-choice",question:"The Petersen graph is not planar because it contains:",options:["A subdivision of $K_{3,3}$","A $K_5$ minor","Both a $K_5$ minor and a $K_{3,3}$ subdivision","A subdivision of $K_5$"],correctIndex:2,difficulty:"hard",explanation:"The Petersen graph contains both a $K_5$ minor and a $K_{3,3}$ subdivision."}],c$=[{id:1,type:"multiple-choice",question:"The Four Color Theorem states that every planar graph is:",options:["5-colorable","2-colorable","4-colorable","3-colorable"],correctIndex:2,difficulty:"easy",explanation:"Every planar graph can be properly vertex-colored with at most 4 colors."},{id:2,type:"multiple-choice",question:"The crossing number $cr(G)$ is:",options:["The chromatic number","The number of edges","The minimum crossings in any drawing","The genus"],correctIndex:2,difficulty:"easy",explanation:"The crossing number is the minimum number of edge crossings over all drawings of $G$."},{id:3,type:"multiple-choice",question:"A graph is planar if and only if:",options:["$cr(G) = 0$","Both $cr(G) = 0$ and genus is 0","The genus is 0","$cr(G) \\leq 1$"],correctIndex:1,difficulty:"medium",explanation:"Planarity $\\Leftrightarrow$ zero crossing number $\\Leftrightarrow$ embeds on the sphere (genus 0)."},{id:4,type:"multiple-choice",question:"The thickness of $K_9$ (minimum planar graphs to decompose edges) is:",options:["2","3","1","4"],correctIndex:1,difficulty:"medium",explanation:"$K_9$ has 36 edges; planar graphs on 9 vertices have $\\leq 3(9)-6=21$ edges. So thickness $\\geq \\lceil 36/21 \\rceil = 2$. Actually, thickness of $K_9$ is 3."},{id:5,type:"numeric",question:"What is $cr(K_5)$ (crossing number of $K_5$)?",correctAnswer:1,numericRange:{min:0,max:10,precision:0},difficulty:"hard",explanation:"$K_5$ needs exactly 1 crossing; it has $10 - 9 = 1$ extra edge over the planar threshold."},{id:6,type:"multiple-choice",question:"An outerplanar graph is one that:",options:["Has a plane drawing with all vertices on the outer face","Is a tree","Has chromatic number 2","Has no $K_4$ subgraph"],correctIndex:0,difficulty:"hard",explanation:"Outerplanar: can be drawn with all vertices on the boundary of the unbounded face."}],h$=[{id:1,type:"multiple-choice",question:"The line graph $L(G)$ has:",options:["Complementary edges to $G$","The same number of edges as $G$","Vertices for each edge of $G$, adjacent when edges share a vertex","Vertices for each vertex of $G$"],correctIndex:2,difficulty:"easy",explanation:"$L(G)$ has edges of $G$ as vertices; two are adjacent if the original edges share an endpoint."},{id:2,type:"multiple-choice",question:"The chromatic index $\\chi'(G)$ is:",options:["The number of edges","The vertex chromatic number","The maximum degree","The minimum colors for proper edge-coloring"],correctIndex:3,difficulty:"easy",explanation:"$\\chi'(G)$ = minimum colors to color edges so no two edges sharing a vertex have the same color."},{id:3,type:"multiple-choice",question:"Vizing's Theorem states that $\\chi'(G)$ is either:",options:["$\\Delta$ exactly","$\\Delta$ or $\\Delta + 1$","$2\\Delta$","$\\Delta$ or $\\Delta - 1$"],correctIndex:1,difficulty:"medium",explanation:"Vizing: $\\Delta(G) \\leq \\chi'(G) \\leq \\Delta(G) + 1$ (Class 1 or Class 2 graphs)."},{id:4,type:"multiple-choice",question:"A graph $G$ is Class 1 if:",options:["$\\chi'(G) = 2$","$\\chi'(G) = \\Delta(G) - 1$","$\\chi'(G) = \\Delta(G) + 1$","$\\chi'(G) = \\Delta(G)$"],correctIndex:3,difficulty:"medium",explanation:"Class 1: $\\chi' = \\Delta$. Class 2: $\\chi' = \\Delta + 1$."},{id:5,type:"numeric",question:"What is $\\chi'(K_5)$?",correctAnswer:5,numericRange:{min:0,max:10,precision:0},difficulty:"hard",explanation:"$K_n$ has $\\chi' = n$ if $n$ odd (Class 2), $\\chi' = n-1$ if $n$ even (Class 1). So $\\chi'(K_5) = 5$."},{id:6,type:"multiple-choice",question:"For bipartite graphs, Knig's edge-coloring theorem states:",options:["$\\chi'(G) = \\chi(G)$","$\\chi'(G) = n$","$\\chi'(G) = 2$","$\\chi'(G) = \\Delta(G)$"],correctIndex:3,difficulty:"hard",explanation:"Every bipartite graph is Class 1: $\\chi' = \\Delta$."}],d$=[{id:1,type:"multiple-choice",question:"A Hamiltonian cycle visits:",options:["Every edge exactly once","Some vertices multiple times","Every vertex exactly once","Every face exactly once"],correctIndex:2,difficulty:"easy",explanation:"A Hamiltonian cycle visits every vertex exactly once and returns to the start."},{id:2,type:"multiple-choice",question:"Determining if a graph is Hamiltonian is:",options:["NP-complete","Always yes for connected graphs","Solvable in polynomial time","Undecidable"],correctIndex:0,difficulty:"easy",explanation:"The Hamiltonian cycle problem is NP-complete (no known polynomial algorithm)."},{id:3,type:"multiple-choice",question:"Dirac's Theorem: If $G$ has $n \\geq 3$ vertices and $\\delta(G) \\geq n/2$, then:",options:["$G$ is connected","$G$ is Hamiltonian","$G$ is bipartite","$G$ is planar"],correctIndex:1,difficulty:"medium",explanation:"Dirac: minimum degree at least $n/2$ guarantees a Hamiltonian cycle."},{id:4,type:"multiple-choice",question:"Ore's Theorem strengthens Dirac's by requiring:",options:["$\\Delta(G) \\geq n/2$","The graph be regular","$d(u) + d(v) \\geq n$ for all non-adjacent pairs","$\\delta(G) \\geq n/2$"],correctIndex:2,difficulty:"medium",explanation:"Ore: if $d(u) + d(v) \\geq n$ for all non-adjacent $u, v$, then $G$ is Hamiltonian."},{id:5,type:"multiple-choice",question:"A tournament (orientation of $K_n$) always has:",options:["Equal in-degrees and out-degrees","No directed cycles","A directed Hamiltonian path","A directed Hamiltonian cycle"],correctIndex:2,difficulty:"hard",explanation:"Every tournament has a directed Hamiltonian path (Rdei's theorem). Cycles require strong connectivity."},{id:6,type:"multiple-choice",question:"The hypercube $Q_n$ is:",options:["Hamiltonian for all $n \\geq 2$","Never Hamiltonian","Hamiltonian only for prime $n$","Hamiltonian only for even $n$"],correctIndex:0,difficulty:"hard",explanation:"The hypercube $Q_n$ is Hamiltonian for $n \\geq 2$ (Gray code gives a Hamiltonian cycle)."}],m$=[{id:1,type:"multiple-choice",question:"Tait's Theorem connects Hamiltonian cycles in planar graphs to:",options:["Perfect matchings","Vertex coloring","Proper 3-edge-coloring of cubic bridgeless planar graphs","Spanning trees"],correctIndex:2,difficulty:"easy",explanation:"Tait: a 3-connected cubic planar graph is Hamiltonian iff it's 3-edge-colorable."},{id:2,type:"multiple-choice",question:"The Grinberg condition is:",options:["Sufficient for Hamiltonicity","Equivalent to planarity","A necessary condition involving face sizes","Related to chromatic number"],correctIndex:2,difficulty:"easy",explanation:"Grinberg: if a plane graph has a Hamiltonian cycle, face sizes satisfy a specific equation."},{id:3,type:"multiple-choice",question:"A nowhere-zero $k$-flow assigns:",options:["Non-zero values from a group to edges satisfying flow conservation","Colors from $\\{1, \\ldots, k\\}$ to vertices","Weights to vertices","Orientations to edges"],correctIndex:0,difficulty:"medium",explanation:"A nowhere-zero flow assigns group elements (typically $\\mathbb{Z}_k$) to oriented edges with flow conservation."},{id:4,type:"multiple-choice",question:"Tutte's flow conjectures relate flows to:",options:["Face colorings via duality","Spanning trees","Matchings","Vertex connectivity"],correctIndex:0,difficulty:"medium",explanation:"Flows on planar graphs correspond to colorings of the dual; nowhere-zero $k$-flow dualizes to $k$-face-coloring."},{id:5,type:"multiple-choice",question:"The Four Color Theorem is equivalent to:",options:["Every cubic planar graph has a Hamiltonian cycle","Every planar graph has a nowhere-zero 4-flow","Every planar graph is 3-degenerate","Every bridgeless planar graph has a nowhere-zero 4-flow"],correctIndex:3,difficulty:"hard",explanation:"By flow-coloring duality, 4CT is equivalent to: bridgeless planar graphs have nowhere-zero 4-flows."},{id:6,type:"multiple-choice",question:"The 5-Flow Conjecture (Tutte) states:",options:["Every graph has chromatic number at most 5","Every planar graph has a 5-flow","Every bridgeless graph has a nowhere-zero 5-flow","Every 5-connected graph is Hamiltonian"],correctIndex:2,difficulty:"hard",explanation:"Tutte's 5-Flow Conjecture: every bridgeless graph has a nowhere-zero 5-flow. Still open!"}],u$=[{id:1,type:"multiple-choice",question:"A graph $G$ is perfect if for every induced subgraph $H$:",options:["$\\alpha(H) = \\omega(H)$","$H$ is bipartite","$\\chi(H) = \\Delta(H)$","$\\chi(H) = \\omega(H)$"],correctIndex:3,difficulty:"easy",explanation:"Perfect: chromatic number equals clique number for all induced subgraphs."},{id:2,type:"multiple-choice",question:"The Perfect Graph Theorem (Lovsz) states that $G$ is perfect iff:",options:["$G$ is bipartite","$G$ is planar","$G$ is chordal","$\\overline{G}$ is perfect"],correctIndex:3,difficulty:"easy",explanation:"Weak Perfect Graph Theorem: $G$ perfect $\\Leftrightarrow$ $\\overline{G}$ perfect."},{id:3,type:"multiple-choice",question:"The Strong Perfect Graph Theorem characterizes perfect graphs by forbidden:",options:["Triangles","Odd holes and odd anti-holes","Bridges","Cliques"],correctIndex:1,difficulty:"medium",explanation:"SPGT: $G$ is perfect iff it has no odd hole or odd anti-hole as induced subgraph."},{id:4,type:"multiple-choice",question:"Which class of graphs is NOT perfect?",options:["Comparability graphs","Bipartite graphs","Odd cycles $C_{2k+1}$ for $k \\geq 2$","Chordal graphs"],correctIndex:2,difficulty:"medium",explanation:"Odd cycles $C_5, C_7, \\ldots$ are odd holes, which are imperfect."},{id:5,type:"numeric",question:"For the 5-cycle $C_5$: $\\omega(C_5) = 2$. What is $\\chi(C_5)$?",correctAnswer:3,numericRange:{min:0,max:10,precision:0},difficulty:"hard",explanation:"$C_5$ is an odd cycle, so $\\chi(C_5) = 3 > 2 = \\omega(C_5)$. Not perfect."},{id:6,type:"multiple-choice",question:"Interval graphs (intersection graphs of intervals) are:",options:["Not necessarily chordal","Perfect because they are chordal","Never perfect","Perfect only if connected"],correctIndex:1,difficulty:"hard",explanation:"Interval graphs are chordal, and chordal graphs are perfect."}],x$=[{id:1,type:"multiple-choice",question:"A matroid is defined by a ground set $E$ and a collection $\\mathcal{I}$ of independent sets satisfying:",options:["All subsets are independent","Only singletons are independent","Hereditary and exchange properties","Closure under union"],correctIndex:2,difficulty:"easy",explanation:"Matroids: (I1) $\\emptyset \\in \\mathcal{I}$, (I2) hereditary: $I \\in \\mathcal{I}, J \\subseteq I \\Rightarrow J \\in \\mathcal{I}$, (I3) exchange axiom."},{id:2,type:"multiple-choice",question:"In the graphic matroid of graph $G$:",options:["Independent sets are cliques","Independent sets are vertex covers","Independent sets are matchings","Independent sets are forests (acyclic edge sets)"],correctIndex:3,difficulty:"easy",explanation:"Graphic matroid: ground set is edges, independent sets are forests (edge sets with no cycles)."},{id:3,type:"multiple-choice",question:"The rank of a set $S$ in a matroid is:",options:["The number of elements in $S$","The number of bases containing $S$","The size of the largest independent subset of $S$","The chromatic number"],correctIndex:2,difficulty:"medium",explanation:"Rank $r(S)$ = maximum size of an independent set contained in $S$."},{id:4,type:"multiple-choice",question:"The dual matroid $M^*$ has the same ground set but:",options:["No bases","Reversed rank function","Complementary bases","Same independent sets"],correctIndex:2,difficulty:"medium",explanation:"In $M^*$, bases are complements of bases in $M$: $B^* = E \\setminus B$ where $B$ is a basis of $M$."},{id:5,type:"multiple-choice",question:"The greedy algorithm solves maximum weight independent set problems for:",options:["Only bipartite graphs","Only trees","All graphs","Matroids"],correctIndex:3,difficulty:"hard",explanation:"Matroids are precisely the structures where greedy gives optimal weighted independent sets."},{id:6,type:"multiple-choice",question:"The dual of a graphic matroid (cycles in $G$) is:",options:["Not a matroid","Another graphic matroid","The same matroid","The cographic matroid (bonds/cuts in $G$)"],correctIndex:3,difficulty:"hard",explanation:"Dual of graphic matroid is cographic: independent sets are edge sets not containing cuts."}],p$=[{id:1,type:"multiple-choice",question:"The Ramsey number $R(s,t)$ is the minimum $n$ such that every 2-coloring of $K_n$ contains:",options:["A red $K_s$ or blue $K_t$","A rainbow triangle","A monochromatic Hamiltonian path","A monochromatic spanning tree"],correctIndex:0,difficulty:"easy",explanation:"$R(s,t)$: any red-blue edge-coloring of $K_n$ has red $K_s$ or blue $K_t$."},{id:2,type:"numeric",question:'What is $R(3,3)$ (the "party problem" Ramsey number)?',correctAnswer:6,numericRange:{min:0,max:20,precision:0},difficulty:"easy",explanation:"$R(3,3) = 6$: any 2-coloring of $K_6$ has a monochromatic triangle."},{id:3,type:"multiple-choice",question:"The probabilistic method proof that $R(s,s) > 2^{s/2}$ uses:",options:["Random 2-coloring and expected monochromatic cliques","Induction on $s$","The Lovsz Local Lemma","Explicit construction"],correctIndex:0,difficulty:"medium",explanation:"Erds: randomly color edges; expected number of monochromatic $K_s$ is $< 1$ when $n < 2^{s/2}$."},{id:4,type:"multiple-choice",question:"The recurrence $R(s,t) \\leq R(s-1,t) + R(s,t-1)$ proves:",options:["Both that $R(s,t)$ is finite and the binomial bound","$R(s,t) \\leq \\binom{s+t-2}{s-1}$","$R(s,t)$ is always finite","$R(s,t) = st$"],correctIndex:0,difficulty:"medium",explanation:"This recurrence proves existence of $R(s,t)$ and gives upper bound $\\binom{s+t-2}{s-1}$."},{id:5,type:"numeric",question:"What is $R(3,4)$?",correctAnswer:9,numericRange:{min:0,max:20,precision:0},difficulty:"hard",explanation:"$R(3,4) = 9$: any 2-coloring of $K_9$ has red $K_3$ or blue $K_4$."},{id:6,type:"multiple-choice",question:"For $R(5,5)$, we currently know:",options:["$R(5,5) > 100$","$R(5,5) = 43$","$43 \\leq R(5,5) \\leq 48$ (exact value unknown)","$R(5,5) = 48$"],correctIndex:2,difficulty:"hard",explanation:"$R(5,5)$ is between 43 and 48; the exact value remains unknown despite decades of research."}],f$=[{id:1,type:"multiple-choice",question:"The Erds-Stone theorem determines the asymptotic extremal number for:",options:["Only cycles","Non-bipartite graphs","Only complete graphs","All graphs"],correctIndex:1,difficulty:"easy",explanation:"Erds-Stone: $ex(n, H) = (1 - 1/(\\chi(H)-1) + o(1))\\binom{n}{2}$ for $\\chi(H) \\geq 2$."},{id:2,type:"multiple-choice",question:"The Wiener index of a connected graph is:",options:["The diameter","The sum of all pairwise distances","The number of edges","The chromatic number"],correctIndex:1,difficulty:"easy",explanation:"Wiener index $W(G) = \\sum_{\\{u,v\\}} d(u,v)$ over all vertex pairs."},{id:3,type:"multiple-choice",question:"Among $n$-vertex trees, the Wiener index is minimized by:",options:["The binary tree","A random tree","The path $P_n$","The star $K_{1,n-1}$"],correctIndex:3,difficulty:"medium",explanation:"Star minimizes Wiener index (center at distance 1 from all others)."},{id:4,type:"multiple-choice",question:"The list chromatic number $ch(G)$ satisfies:",options:["$ch(G) \\leq \\chi(G)$ always","$ch(G) = \\Delta(G)$","$ch(G) \\geq \\chi(G)$ always","$ch(G) = \\chi(G)$ always"],correctIndex:2,difficulty:"medium",explanation:"List coloring is at least as hard as ordinary coloring: $ch(G) \\geq \\chi(G)$."},{id:5,type:"multiple-choice",question:"The circumference $c(G)$ of a graph is:",options:["The number of cycles","The length of the longest cycle","The diameter","The girth"],correctIndex:1,difficulty:"hard",explanation:"Circumference is the maximum cycle length (0 if acyclic)."},{id:6,type:"multiple-choice",question:"For $K_{n,n}$, the list chromatic number is:",options:["$n$","$2$","$(1+o(1))\\log_2 n$","$n^2$"],correctIndex:2,difficulty:"hard",explanation:"$ch(K_{n,n}) \\approx \\log_2 n$, much larger than $\\chi(K_{n,n}) = 2$."}],g$=[{id:1,type:"multiple-choice",question:"In the Erds-Rnyi model $G(n,p)$, each edge appears:",options:["With probability $1/n$","Deterministically","With probability $p^2$","Independently with probability $p$"],correctIndex:3,difficulty:"easy",explanation:"$G(n,p)$: each of the $\\binom{n}{2}$ possible edges appears independently with probability $p$."},{id:2,type:"multiple-choice",question:"The expected number of edges in $G(n,p)$ is:",options:["$2np$","$p\\binom{n}{2}$","$n^2p$","$np$"],correctIndex:1,difficulty:"easy",explanation:"Each of $\\binom{n}{2}$ edges appears with probability $p$, so $E[|E|] = p\\binom{n}{2}$."},{id:3,type:"multiple-choice",question:"The threshold function for connectivity in $G(n,p)$ is:",options:["$p = 1/n$","$p = \\log n / n$","$p = 1/2$","$p = 1/n^2$"],correctIndex:1,difficulty:"medium",explanation:"Connectivity threshold: $p = (\\log n)/n$. Below this, a.s. disconnected; above, a.s. connected."},{id:4,type:"multiple-choice",question:'The "giant component" phase transition occurs at:',options:["$p = 1/2$","$p = 1/n$","$p = \\log n / n$","$p = 1/n^2$"],correctIndex:1,difficulty:"medium",explanation:"At $p = c/n$: for $c < 1$, all components small; for $c > 1$, unique giant component emerges."},{id:5,type:"multiple-choice",question:"The chromatic number of $G(n, 1/2)$ is typically:",options:["$O(1)$","$\\Theta(n / \\log n)$","$O(\\log n)$","$\\Theta(n)$"],correctIndex:1,difficulty:"hard",explanation:"$\\chi(G(n,1/2)) \\approx n/(2\\log_2 n)$ almost surely."},{id:6,type:"multiple-choice",question:"The probabilistic method pioneered by Erds can prove:",options:["Algorithm correctness","Only upper bounds on parameters","Existence of structures without explicit construction","Only lower bounds on Ramsey numbers"],correctIndex:2,difficulty:"hard",explanation:"Probabilistic method: show random objects have desired property with positive probability, proving existence."}],j$=[{id:1,type:"multiple-choice",question:"The spectrum of a graph $G$ is:",options:["The multiset of eigenvalues of its adjacency matrix","The chromatic number","Its degree sequence","The set of cycle lengths"],correctIndex:0,difficulty:"easy",explanation:"Spectrum = eigenvalues of the adjacency matrix $A(G)$, listed with multiplicities."},{id:2,type:"multiple-choice",question:"The Laplacian matrix of $G$ is:",options:["$A(G)$","$A(G)^2$","$D(G) - A(G)$ where $D$ is the degree matrix","The incidence matrix"],correctIndex:2,difficulty:"easy",explanation:"Laplacian $L = D - A$ where $D_{ii} = d(v_i)$ and $A$ is the adjacency matrix."},{id:3,type:"multiple-choice",question:"The smallest eigenvalue of the Laplacian is always:",options:["0","$n$","1","$-1$"],correctIndex:0,difficulty:"medium",explanation:"The all-ones vector $(1,\\ldots,1)^T$ is always a Laplacian eigenvector with eigenvalue 0."},{id:4,type:"multiple-choice",question:"The algebraic connectivity $a(G) = \\mu_2$ is:",options:["The second-smallest Laplacian eigenvalue","The largest eigenvalue","The determinant","The trace"],correctIndex:0,difficulty:"medium",explanation:"Algebraic connectivity = second-smallest Laplacian eigenvalue. $a(G) > 0$ iff $G$ connected."},{id:5,type:"multiple-choice",question:"A strongly regular graph with parameters $(n,k,\\lambda,\\mu)$ has:",options:["Exactly 2 distinct eigenvalues","All equal eigenvalues","Exactly 3 distinct eigenvalues","$n$ distinct eigenvalues"],correctIndex:2,difficulty:"hard",explanation:"Strongly regular graphs have exactly 3 distinct adjacency eigenvalues: $k$, $r$, and $s$."},{id:6,type:"multiple-choice",question:"The Hoffman bound uses eigenvalues to bound:",options:["The diameter","The number of edges","The girth","The independence number"],correctIndex:3,difficulty:"hard",explanation:"Hoffman: $\\alpha(G) \\leq n \\cdot (-\\lambda_n)/(\\lambda_1 - \\lambda_n)$ using extreme eigenvalues."}],v$={1:US,2:KS,3:VS,4:XS,5:ZS,6:YS,7:WS,8:QS,9:JS,10:e$,11:t$,12:s$,13:n$,14:a$,15:i$,16:r$,17:l$,18:o$,19:c$,20:h$,21:d$,22:m$,23:u$,24:x$,25:p$,26:f$,27:g$,28:j$};function pm(t){return v$[t]??null}function ze({sectionId:t,children:n}){const a=Ey(t),i=Cy(t),{prev:r,next:l}=HS(t),c=My(),h=BS(t),u=ni();$.useEffect(()=>{u&&u.visitSection(t)},[t,u]);const p=(u==null?void 0:u.state.user.sectionsCompleted.includes(qS(t)))??!1;if(!a||!i)return e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("p",{className:"text-dark-400",children:"Section not found"})});const j=(h+1)/c*100,f=pm(t)&&pm(t).length>0;return e.jsxs("div",{className:"min-h-screen relative",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-primary-500/[0.02] rounded-full blur-[150px] -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-cyan-500/[0.02] rounded-full blur-[120px] translate-y-1/2 -translate-x-1/2"})]}),e.jsx("div",{className:"sticky top-16 z-30 h-1 bg-dark-900/80 backdrop-blur",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary-600 via-primary-500 to-cyan-400 transition-all duration-500 ease-out",style:{width:`${j}%`}})}),e.jsx("div",{className:"relative py-4 px-6 border-b border-dark-800/50 bg-dark-950/50 backdrop-blur-sm",children:e.jsxs("nav",{className:"max-w-4xl mx-auto flex items-center gap-2 text-sm",children:[e.jsxs(wt,{to:"/",className:"text-dark-500 hover:text-dark-300 transition-colors flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),e.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.jsxs("span",{className:"text-dark-500",children:["Part ",i.id]}),e.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.jsxs("span",{className:"text-dark-300 font-medium",children:["S",a.id]})]})}),e.jsxs("article",{className:"relative max-w-4xl mx-auto px-6 py-12",children:[e.jsxs("header",{className:"mb-14",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[e.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 text-sm font-semibold bg-gradient-to-r from-primary-500/20 to-primary-600/10 text-primary-400 rounded-full border border-primary-500/20",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-primary-400"}),"Section ",a.id]}),e.jsxs("span",{className:"text-dark-500 text-sm",children:["Part ",i.id,": ",i.title]})]}),e.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:e.jsx("span",{className:"text-gradient",children:a.title})}),e.jsx("p",{className:"text-xl text-dark-400 leading-relaxed max-w-3xl",children:a.description}),e.jsxs("div",{className:"mt-10 flex items-center gap-4",children:[e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-500/50"}),e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-500/30"}),e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-500/10"})]}),e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"})]})]}),e.jsx("div",{className:"prose prose-invert prose-lg max-w-none space-y-6",children:n})]}),e.jsxs("nav",{className:"relative max-w-4xl mx-auto px-6 py-12 border-t border-dark-800/50",children:[f&&e.jsx("div",{className:"mb-6",children:e.jsxs(wt,{to:`/quiz/section/${t}`,className:"group flex items-center justify-center gap-3 p-5 rounded-2xl bg-gradient-to-r from-amber-600/20 to-amber-500/10 border border-amber-500/20 text-amber-400 hover:from-amber-600/30 hover:to-amber-500/20 transition-all duration-300",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),e.jsx("span",{className:"font-semibold",children:"Take Section Quiz"}),e.jsx("span",{className:"text-amber-300/70 text-sm",children:"Test your knowledge"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r?e.jsxs(wt,{to:`/section/${r.id}`,className:"group flex items-center gap-4 p-5 rounded-2xl bg-dark-900/40 backdrop-blur border border-dark-700/40 hover:bg-dark-800/50 hover:border-dark-600/50 transition-all duration-300",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-dark-800/60 group-hover:bg-primary-500/20 transition-all duration-300",children:e.jsx("svg",{className:"w-5 h-5 text-dark-400 group-hover:text-primary-400 group-hover:-translate-x-0.5 transition-all duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-dark-500 mb-1",children:"Previous"}),e.jsx("p",{className:"text-dark-200 group-hover:text-primary-400 transition-colors font-medium truncate",children:r.title})]})]}):e.jsx("div",{}),l?e.jsxs(wt,{to:`/section/${l.id}`,className:"group flex items-center gap-4 p-5 rounded-2xl bg-dark-900/40 backdrop-blur border border-dark-700/40 hover:bg-dark-800/50 hover:border-dark-600/50 transition-all duration-300 md:flex-row-reverse md:text-right",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-dark-800/60 group-hover:bg-primary-500/20 transition-all duration-300",children:e.jsx("svg",{className:"w-5 h-5 text-dark-400 group-hover:text-primary-400 group-hover:translate-x-0.5 transition-all duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-dark-500 mb-1",children:"Next"}),e.jsx("p",{className:"text-dark-200 group-hover:text-primary-400 transition-colors font-medium truncate",children:l.title})]})]}):e.jsxs("div",{className:"flex flex-col gap-3",children:[!p&&e.jsxs("button",{onClick:()=>u==null?void 0:u.completeSection(t),className:"group flex items-center justify-center gap-3 p-5 rounded-2xl bg-gradient-to-r from-emerald-600 to-emerald-500 text-white font-semibold shadow-lg shadow-emerald-500/20 hover:shadow-xl hover:shadow-emerald-500/30 hover:scale-[1.02] transition-all duration-300",children:[e.jsx("span",{children:"Mark Complete"}),e.jsx("span",{className:"text-emerald-200 text-sm",children:"+25 XP"})]}),e.jsxs(wt,{to:"/",className:`group flex items-center justify-center gap-3 p-5 rounded-2xl font-semibold transition-all duration-300 ${p?"bg-gradient-to-r from-primary-600 to-primary-500 text-white shadow-lg shadow-primary-500/20 hover:shadow-xl hover:shadow-primary-500/30 hover:scale-[1.02]":"bg-dark-800/60 text-dark-300 hover:bg-dark-700/60"}`,children:[e.jsx("span",{children:p?"Course Complete!":"Return Home"}),e.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:p?"M5 13l4 4L19 7":"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})]})]})]})]})]})}function s({children:t,math:n,className:a=""}){const i=$.useRef(null),r=n??t??"";return $.useEffect(()=>{i.current&&r&&Po.render(r,i.current,{throwOnError:!1,displayMode:!1})},[r]),e.jsx("span",{ref:i,className:`inline-block ${a}`})}function W({children:t,math:n,inline:a,display:i,className:r=""}){const l=$.useRef(null),c=n??t??"",h=a===!0||i===!1;return $.useEffect(()=>{l.current&&c&&Po.render(c,l.current,{throwOnError:!1,displayMode:!h})},[c,h]),h?e.jsx("span",{ref:l,className:`inline-block ${r}`}):e.jsx("div",{ref:l,className:`my-6 text-center text-lg overflow-x-auto ${r}`})}const Sc=[{id:"def-graph",title:"Graph",statement:"A graph $G$ is a triple $(V(G), E(G), \\psi_G)$ where $V(G)$ is a set of vertices, $E(G)$ is a set of edges, and $\\psi_G$ associates each edge with an unordered pair of vertices. A simple graph has no loops or multiple edges.",sectionId:1,category:"Fundamental Concepts",type:"definition"},{id:"def-isomorphism",title:"Graph Isomorphism",statement:"Two graphs $G$ and $H$ are isomorphic ($G \\cong H$) if there exists a bijection $f: V(G) \\to V(H)$ such that $uv \\in E(G)$ if and only if $f(u)f(v) \\in E(H)$.",sectionId:1,category:"Fundamental Concepts",type:"definition"},{id:"thm-eulerian-circuit",title:"Eulerian Circuit Characterization",statement:"A connected graph $G$ has an Eulerian circuit if and only if every vertex of $G$ has even degree.",sectionId:2,category:"Fundamental Concepts",type:"theorem",hasProof:!0,proof:"Necessity: Each visit to a vertex uses two edges (one in, one out), so degrees must be even. Sufficiency: Start at any vertex and walk without repeating edges. Since degrees are even, you can only get stuck at the start. If edges remain, find a vertex on the circuit adjacent to an unused edge, build another closed walk, and splice it in. Repeat until all edges are used."},{id:"thm-eulerian-trail",title:"Eulerian Trail Characterization",statement:"A connected graph $G$ has an Eulerian trail if and only if $G$ has exactly 0 or 2 vertices of odd degree.",sectionId:2,category:"Fundamental Concepts",type:"theorem",hasProof:!0,proof:"If 0 odd-degree vertices, use the circuit theorem. If 2 odd-degree vertices $u, v$, add edge $uv$ to get all even degrees, find an Eulerian circuit, then remove $uv$ to get a $u$-$v$ trail. Conversely, an Eulerian trail uses each edge once; internal vertices have equal in/out visits (even degree), while endpoints have one extra edge each (odd degree)."},{id:"thm-handshaking",title:"Handshaking Lemma",statement:"For any graph $G$, $\\sum_{v \\in V(G)} d(v) = 2|E(G)|$.",sectionId:3,category:"Fundamental Concepts",type:"theorem",hasProof:!0,proof:"Each edge contributes exactly 2 to the sum of degrees (one for each endpoint)."},{id:"cor-odd-degree",title:"Odd Degree Corollary",statement:"Every graph has an even number of vertices with odd degree.",sectionId:3,category:"Fundamental Concepts",type:"corollary",hasProof:!0,proof:"By the Handshaking Lemma, $\\sum d(v) = 2|E|$ is even. Split the sum into odd-degree and even-degree vertices. The even-degree sum is even, so the odd-degree sum must also be even. Since each odd-degree term is odd, there must be an even number of such terms."},{id:"thm-erdos-gallai",title:"Erds-Gallai Theorem",statement:"A non-increasing sequence $(d_1, \\ldots, d_n)$ of non-negative integers is graphic if and only if $\\sum d_i$ is even and for each $k \\in [n]$: $\\sum_{i=1}^k d_i \\leq k(k-1) + \\sum_{i=k+1}^n \\min(d_i, k)$.",sectionId:3,category:"Fundamental Concepts",type:"theorem"},{id:"thm-redei",title:"Rdei's Theorem",statement:"Every tournament has a directed Hamiltonian path.",sectionId:4,category:"Fundamental Concepts",type:"theorem",hasProof:!0,proof:"By induction on $n$. Base case $n=1$ is trivial. For $n > 1$: remove a vertex $v$ and find a Hamiltonian path $P$ in the remaining tournament by induction. If $v$ beats the first vertex of $P$, prepend $v$. If the last vertex beats $v$, append $v$. Otherwise, find consecutive vertices $u_i, u_{i+1}$ on $P$ where $u_i \\to v$ and $v \\to u_{i+1}$, and insert $v$ between them."},{id:"def-tree",title:"Tree",statement:"A tree is a connected acyclic graph. A forest is an acyclic graph (disjoint union of trees).",sectionId:5,category:"Trees and Distance",type:"definition"},{id:"thm-tree-characterization",title:"Tree Characterization Theorem",statement:"For a graph $G$ with $n$ vertices, the following are equivalent: (1) $G$ is a tree, (2) $G$ is connected with $n-1$ edges, (3) $G$ is acyclic with $n-1$ edges, (4) there is exactly one path between every pair of vertices, (5) $G$ is connected and every edge is a bridge.",sectionId:5,category:"Trees and Distance",type:"theorem",hasProof:!0,proof:"(1)$\\Rightarrow$(4): Connected gives a path; acyclic ensures uniqueness. (4)$\\Rightarrow$(5): Unique paths means every edge is a bridge. (5)$\\Rightarrow$(2): By induction, connected graph where every edge is a bridge has $n-1$ edges. (2)$\\Rightarrow$(3): Connected with $n-1$ edges cannot have a cycle (removing a cycle edge keeps it connected, contradicting minimum edges). (3)$\\Rightarrow$(1): Acyclic with $n-1$ edges must be connected (a forest with $c$ components has $n-c$ edges)."},{id:"thm-tree-leaves",title:"Tree Leaves Theorem",statement:"Every tree with at least two vertices has at least two leaves (vertices of degree 1).",sectionId:5,category:"Trees and Distance",type:"theorem",hasProof:!0,proof:"A tree on $n \\geq 2$ vertices has $n-1$ edges, so sum of degrees is $2(n-1)$. If at most one leaf existed, at least $n-1$ vertices would have degree $\\geq 2$, giving degree sum $\\geq 2(n-1) + 1$, a contradiction. Alternatively: a longest path must have leaves at both endpoints (otherwise it could be extended)."},{id:"thm-cayley",title:"Cayley's Formula",statement:"The number of labeled trees on $n$ vertices is $n^{n-2}$.",sectionId:6,category:"Trees and Distance",type:"theorem",hasProof:!0,proof:"Prfer sequence bijection: Each labeled tree on $[n]$ corresponds to a unique sequence in $[n]^{n-2}$. To encode: repeatedly remove the smallest leaf and record its neighbor. To decode: the sequence determines which edges to add. Since there are $n^{n-2}$ such sequences, there are $n^{n-2}$ labeled trees."},{id:"thm-matrix-tree",title:"Matrix Tree Theorem",statement:"The number of spanning trees of a graph $G$ equals any cofactor of its Laplacian matrix $L = D - A$.",sectionId:6,category:"Trees and Distance",type:"theorem"},{id:"thm-kruskal",title:"Kruskal's Algorithm",statement:"Adding edges in order of non-decreasing weight while avoiding cycles produces a minimum spanning tree.",sectionId:7,category:"Trees and Distance",type:"theorem",hasProof:!0,proof:"Let $T$ be the tree produced by Kruskal and $T^*$ be an MST. Consider the first edge $e$ in $T$ not in $T^*$. Adding $e$ to $T^*$ creates a cycle containing some edge $f \\notin T$ (otherwise the algorithm would have chosen $f$). Since $e$ was chosen first, $w(e) \\leq w(f)$. Thus $T^* - f + e$ is a spanning tree with weight $\\leq w(T^*)$, so it is also an MST closer to $T$. Repeat until $T = T^*$."},{id:"def-matching",title:"Matching",statement:"A matching $M$ in graph $G$ is a set of pairwise non-adjacent edges (no two share a vertex). A perfect matching saturates every vertex.",sectionId:8,category:"Matchings and Factors",type:"definition"},{id:"thm-hall",title:"Hall's Marriage Theorem",statement:"A bipartite graph $G$ with bipartition $(X, Y)$ has a matching saturating $X$ if and only if $|N(S)| \\geq |S|$ for all $S \\subseteq X$.",sectionId:8,category:"Matchings and Factors",type:"theorem",hasProof:!0,proof:"Necessity is clear. For sufficiency, induct on $|X|$. If $|N(S)| > |S|$ for all proper $S$, match any $x \\in X$ to a neighbor and apply induction. Otherwise, some $S$ has $|N(S)| = |S|$; by induction match $S$ to $N(S)$. Hall's condition still holds for $X \\setminus S$ in $G - S - N(S)$, so complete the matching by induction."},{id:"thm-konig-egervary",title:"Knig-Egervry Theorem",statement:"In a bipartite graph, the maximum size of a matching equals the minimum size of a vertex cover.",sectionId:8,category:"Matchings and Factors",type:"theorem",hasProof:!0,proof:"A vertex cover must include at least one endpoint of each matched edge, so cover size $\\geq$ matching size. For equality: let $M$ be maximum and $U \\subseteq X$ be vertices reachable from unmatched $X$-vertices via $M$-alternating paths. Set $C = (X \\setminus U) \\cup (Y \\cap U)$. Then $|C| = |M|$ (each $M$-edge contributes exactly one vertex to $C$), and $C$ is a cover (edges from $U$ go to $Y \\cap U$; edges from $X \\setminus U$ have no $Y \\setminus U$ endpoints by maximality of $M$)."},{id:"thm-berge",title:"Berge's Theorem",statement:"A matching $M$ is maximum if and only if there is no $M$-augmenting path.",sectionId:9,category:"Matchings and Factors",type:"theorem",hasProof:!0,proof:"If an augmenting path $P$ exists, $M \\triangle P$ is a larger matching. Conversely, if $M$ is not maximum, let $M'$ be larger. In $M \\triangle M'$, each component is a path or cycle with edges alternating between $M$ and $M'$. Since $|M'| > |M|$, some component has more $M'$-edges than $M$-edges, which must be a path starting and ending with $M'$-edgesan $M$-augmenting path."},{id:"thm-tutte",title:"Tutte's Theorem",statement:"A graph $G$ has a perfect matching if and only if $o(G - S) \\leq |S|$ for all $S \\subseteq V(G)$, where $o(H)$ denotes the number of odd components of $H$.",sectionId:10,category:"Matchings and Factors",type:"theorem",hasProof:!0,proof:"Necessity: A perfect matching must match each odd component of $G-S$ to a vertex in $S$, so $o(G-S) \\leq |S|$. Sufficiency: Assume Tutte's condition holds but no perfect matching exists. Add edges until $G$ is edge-maximal without a perfect matching. Then $G$ has a complete graph $K$ on vertices not in any maximum independent set. Analyzing the structure of $G - K$ and using the condition leads to a contradiction."},{id:"thm-petersen-matching",title:"Petersen's Theorem",statement:"Every bridgeless cubic graph has a perfect matching.",sectionId:10,category:"Matchings and Factors",type:"theorem",hasProof:!0,proof:"Apply Tutte's theorem: for any $S$, we need $o(G-S) \\leq |S|$. Count edges between $S$ and odd components: each odd component has an odd number of vertices with degree 3, so an odd total degree, meaning an odd number of edges to $S$at least 1. With $k$ odd components and no bridges, each sends $\\geq 1$ edge to $S$. Also, $|S|$ vertices have degree 3, giving $3|S|$ edges from $S$. So $k \\leq 3|S|$, and parity gives $k \\leq |S|$."},{id:"def-connectivity",title:"Vertex and Edge Connectivity",statement:"The vertex connectivity $\\kappa(G)$ is the minimum size of a vertex cut (or $n-1$ if $G = K_n$). The edge connectivity $\\kappa'(G)$ is the minimum size of an edge cut.",sectionId:11,category:"Connectivity and Paths",type:"definition"},{id:"thm-whitney-inequality",title:"Whitney's Inequality",statement:"For any graph $G$: $\\kappa(G) \\leq \\kappa'(G) \\leq \\delta(G)$.",sectionId:11,category:"Connectivity and Paths",type:"theorem",hasProof:!0,proof:"For $\\kappa' \\leq \\delta$: deleting edges incident to a minimum-degree vertex disconnects the graph. For $\\kappa \\leq \\kappa'$: given a minimum edge cut $F$, for each edge $uv \\in F$ delete $u$ (unless it's the only neighbor of some vertex on the other side). This gives a vertex cut of size $\\leq |F|$."},{id:"thm-menger-vertex",title:"Menger's Theorem (Vertex Version)",statement:"The maximum number of internally disjoint $u$-$v$ paths equals the minimum size of a $u$-$v$ separating set.",sectionId:12,category:"Connectivity and Paths",type:"theorem",hasProof:!0,proof:"The number of disjoint paths cannot exceed the separator size (each path needs a distinct separator vertex). For the reverse: induct on $|E|$. If every $u$-$v$ separator contains a neighbor of $u$ and a neighbor of $v$, delete an edge $e$ on a shortest path; the separator bound decreases by at most 1, so we find enough paths. Otherwise, use the structure of a minimal separator to split the problem."},{id:"thm-menger-edge",title:"Menger's Theorem (Edge Version)",statement:"The maximum number of edge-disjoint $u$-$v$ paths equals the minimum size of an edge cut separating $u$ and $v$.",sectionId:12,category:"Connectivity and Paths",type:"theorem",hasProof:!0,proof:"Reduce to vertex version: construct $G'$ by splitting each edge $xy$ into $x$-$z_{xy}$-$y$. Edge-disjoint $u$-$v$ paths in $G$ correspond to internally disjoint $u$-$v$ paths in $G'$, and edge cuts in $G$ correspond to vertex separators in $G'$ (using the new vertices). Apply vertex Menger to $G'$."},{id:"thm-whitney-2connected",title:"Whitney's 2-Connectivity Theorem",statement:"A graph $G$ with at least 3 vertices is 2-connected if and only if every pair of edges lies on a common cycle.",sectionId:12,category:"Connectivity and Paths",type:"theorem",hasProof:!0,proof:"If 2-connected, any two edges $e = xy$ and $f = uv$ can be put on a cycle: by Menger, there are 2 internally disjoint $x$-$u$ paths. Together with edges $e$ and $f$ and paths from $y$ and $v$, we can form a cycle through both edges. Conversely, if every pair of edges lies on a cycle, there's no cut vertex (a cut vertex would separate some edge pair), so $G$ is 2-connected."},{id:"thm-max-flow-min-cut",title:"Max-Flow Min-Cut Theorem",statement:"In a network, the maximum value of a flow equals the minimum capacity of a cut separating source from sink.",sectionId:13,category:"Connectivity and Paths",type:"theorem",hasProof:!0,proof:"Flow value $\\leq$ cut capacity (flow across any cut equals total flow, bounded by capacity). Ford-Fulkerson: while an augmenting path exists in the residual graph, push flow along it. When no augmenting path exists, vertices reachable from source in residual graph form one side of a min-cut; edges crossing this cut are saturated, proving equality."},{id:"def-chromatic-number",title:"Chromatic Number",statement:"The chromatic number $\\chi(G)$ is the minimum number of colors needed to properly color the vertices of $G$ (adjacent vertices get different colors).",sectionId:14,category:"Coloring of Graphs",type:"definition"},{id:"thm-greedy-coloring",title:"Greedy Coloring Bound",statement:"Every graph $G$ satisfies $\\chi(G) \\leq \\Delta(G) + 1$.",sectionId:14,category:"Coloring of Graphs",type:"theorem",hasProof:!0,proof:"Color vertices one by one in any order. When coloring vertex $v$, at most $d(v) \\leq \\Delta$ neighbors are already colored, so at most $\\Delta$ colors are forbidden. With $\\Delta + 1$ colors available, at least one color is always available for $v$."},{id:"thm-brooks",title:"Brooks' Theorem",statement:"For a connected graph $G$ that is neither complete nor an odd cycle, $\\chi(G) \\leq \\Delta(G)$.",sectionId:14,category:"Coloring of Graphs",type:"theorem",hasProof:!0,proof:"If $G$ is not 2-connected, apply induction to blocks. If 2-connected with $\\Delta \\geq 3$: find vertices $u, v$ both adjacent to some vertex $w$ but not to each other. Order vertices so $u, v$ come first and $w$ comes last (BFS from $w$). Give $u, v$ the same color. Greedily color the rest; each vertex (except $w$) has an uncolored neighbor when processed, so $\\Delta$ colors suffice. For $w$, neighbors use $\\leq \\Delta - 1$ colors (since $u, v$ share a color)."},{id:"thm-turan",title:"Turn's Theorem",statement:"The maximum number of edges in an $n$-vertex graph with no $(r+1)$-clique is achieved by the Turn graph $T(n,r)$, which is complete $r$-partite with parts as equal as possible.",sectionId:15,category:"Coloring of Graphs",type:"theorem",hasProof:!0,proof:"Induction on $n$. Let $G$ be extremal with no $K_{r+1}$. Then $G$ has a $K_r$ (else add edges). Delete this $K_r$; the remaining graph on $n-r$ vertices has no $K_{r+1}$, so by induction has $\\leq t(n-r, r)$ edges. Each deleted vertex contributes $\\leq n-r$ edges to $G$ (not all of $K_r$ can connect to a common vertex outside). Summing gives $\\leq t(n,r)$, achieved by $T(n,r)$."},{id:"thm-chromatic-polynomial",title:"Chromatic Polynomial Properties",statement:"For any graph $G$ with $n$ vertices and $m$ edges: $P(G, k) = k^n - mk^{n-1} + \\ldots$ is a polynomial. For edge $e$: $P(G, k) = P(G-e, k) - P(G/e, k)$.",sectionId:16,category:"Coloring of Graphs",type:"theorem"},{id:"def-planar",title:"Planar Graph",statement:"A graph is planar if it can be drawn in the plane with no edge crossings. Such a drawing is called a plane embedding.",sectionId:17,category:"Planar Graphs",type:"definition"},{id:"thm-euler-formula",title:"Euler's Formula",statement:"For a connected plane graph with $n$ vertices, $m$ edges, and $f$ faces: $n - m + f = 2$.",sectionId:17,category:"Planar Graphs",type:"theorem",hasProof:!0,proof:"Induction on $m$. Base: a tree has $n$ vertices, $n-1$ edges, 1 face, so $n - (n-1) + 1 = 2$. For $m \\geq n$: the graph has a cycle. Remove an edge $e$ from a cycle; this merges two faces into one. By induction, $(n) - (m-1) + (f-1) = 2$, so $n - m + f = 2$."},{id:"cor-planar-edges",title:"Planar Edge Bound",statement:"A simple planar graph with $n \\geq 3$ vertices has at most $3n - 6$ edges. If triangle-free, at most $2n - 4$ edges.",sectionId:17,category:"Planar Graphs",type:"corollary",hasProof:!0,proof:"Each face has $\\geq 3$ edges on its boundary (or $\\geq 4$ if triangle-free). Summing over faces: $\\sum (\\text{face size}) \\geq 3f$ (or $4f$). Each edge borders 2 faces, so $2m \\geq 3f$. By Euler: $f = 2 - n + m$, giving $2m \\geq 3(2-n+m) = 6 - 3n + 3m$, so $m \\leq 3n - 6$. Similarly, $m \\leq 2n - 4$ if triangle-free."},{id:"thm-kuratowski",title:"Kuratowski's Theorem",statement:"A graph is planar if and only if it contains no subdivision of $K_5$ or $K_{3,3}$.",sectionId:18,category:"Planar Graphs",type:"theorem",hasProof:!0,proof:'Subdivisions of $K_5$ and $K_{3,3}$ are not planar (edge bound: $K_5$ has 10 edges but $3(5)-6=9$; $K_{3,3}$ is triangle-free with 9 edges but $2(6)-4=8$). Conversely, suppose $G$ is non-planar and edge-minimal. Show $G$ is 3-connected. Contract an edge to get a smaller non-planar graph with a Kuratowski subgraph $H$. Analyze how to "uncontract" to find a subdivision in $G$.'},{id:"thm-wagner",title:"Wagner's Theorem",statement:"A graph is planar if and only if it has no $K_5$ minor and no $K_{3,3}$ minor.",sectionId:18,category:"Planar Graphs",type:"theorem"},{id:"thm-four-color",title:"Four Color Theorem",statement:"Every planar graph is 4-colorable.",sectionId:19,category:"Planar Graphs",type:"theorem",hasProof:!0,proof:'The proof (Appel-Haken, 1976; simplified by Robertson et al., 1997) uses a discharging method to show every planar graph contains one of ~600 "reducible configurations." Computer verification shows each configuration can be reduced to a smaller graph, allowing induction. No simple proof is known.'},{id:"thm-five-color",title:"Five Color Theorem",statement:"Every planar graph is 5-colorable.",sectionId:19,category:"Planar Graphs",type:"theorem",hasProof:!0,proof:"Induction on $n$. By the edge bound, some vertex $v$ has degree $\\leq 5$. Remove $v$, 5-color the rest by induction. If $d(v) < 5$ or two neighbors share a color, color $v$ with an available color. Otherwise, $v$ has 5 differently-colored neighbors. Consider a Kempe chain argument: swap colors along a 2-colored path. This frees a color for $v$."},{id:"def-chromatic-index",title:"Chromatic Index",statement:"The chromatic index $\\chi'(G)$ is the minimum number of colors needed to properly edge-color $G$ (adjacent edges get different colors).",sectionId:20,category:"Edges and Cycles",type:"definition"},{id:"thm-vizing",title:"Vizing's Theorem",statement:"For any simple graph $G$: $\\Delta(G) \\leq \\chi'(G) \\leq \\Delta(G) + 1$.",sectionId:20,category:"Edges and Cycles",type:"theorem",hasProof:!0,proof:'Lower bound: edges at a max-degree vertex need distinct colors. Upper bound: induct on $|E|$. Remove edge $xy$, color the rest with $\\Delta+1$ colors. Try to add color to $xy$. If no color works, build a "fan" from $x$ and recolor using a Kempe chain argument on color classes, eventually freeing a color for $xy$.'},{id:"thm-konig-edge-coloring",title:"Knig's Edge-Coloring Theorem",statement:"For bipartite graphs: $\\chi'(G) = \\Delta(G)$.",sectionId:20,category:"Edges and Cycles",type:"theorem",hasProof:!0,proof:"Induction on $|E|$. Remove edge $xy$, color with $\\Delta$ colors. Colors missing at $x$ and $y$ exist (each has degree $< \\Delta$ now). If they share a missing color, use it for $xy$. Otherwise, missing color $a$ at $x$ and $b$ at $y$ differ. Follow the $a$-$b$ alternating path from $y$; in bipartite graphs it cannot reach $x$, so swap colors along it. Now $a$ is missing at both $x$ and $y$."},{id:"def-hamiltonian",title:"Hamiltonian Cycle",statement:"A Hamiltonian cycle is a cycle that visits every vertex exactly once. A graph with such a cycle is called Hamiltonian.",sectionId:21,category:"Edges and Cycles",type:"definition"},{id:"thm-dirac",title:"Dirac's Theorem",statement:"If $G$ has $n \\geq 3$ vertices and $\\delta(G) \\geq n/2$, then $G$ is Hamiltonian.",sectionId:21,category:"Edges and Cycles",type:"theorem",hasProof:!0,proof:"Take a longest path $P = v_1 \\ldots v_k$. Since $P$ is maximal, all neighbors of $v_1$ and $v_k$ are on $P$. If $v_1 v_k \\in E$, we have a cycle. Otherwise, if $v_1 v_i \\in E$ then $v_k v_{i-1} \\notin E$ (else $v_1 \\ldots v_{i-1} v_k \\ldots v_i v_1$ is a cycle). So $d(v_k) \\leq k - 1 - d(v_1)$, giving $d(v_1) + d(v_k) \\leq k-1 < n$, contradicting $\\delta \\geq n/2$. Thus a cycle $C$ exists; if $C \\neq G$, use connectivity to extend, contradiction."},{id:"thm-ore",title:"Ore's Theorem",statement:"If $G$ has $n \\geq 3$ vertices and $d(u) + d(v) \\geq n$ for all non-adjacent pairs $u, v$, then $G$ is Hamiltonian.",sectionId:21,category:"Edges and Cycles",type:"theorem",hasProof:!0,proof:"The same proof as Dirac works: on a longest path, the endpoints $v_1, v_k$ must satisfy $d(v_1) + d(v_k) \\geq n$ if non-adjacent. The counting argument shows $d(v_1) + d(v_k) \\leq k-1$, so we need $k = n$. The cycle-closing argument then applies. Note: Ore's condition is weaker than Dirac's since it only requires the degree sum condition for non-adjacent pairs."},{id:"thm-grinberg",title:"Grinberg's Theorem",statement:"If a plane graph has a Hamiltonian cycle, then $\\sum_{k \\geq 3} (k-2)(f_k' - f_k'') = 0$, where $f_k'$ and $f_k''$ are the numbers of $k$-faces inside and outside the cycle.",sectionId:22,category:"Edges and Cycles",type:"theorem"},{id:"def-perfect-graph",title:"Perfect Graph",statement:"A graph $G$ is perfect if $\\chi(H) = \\omega(H)$ for every induced subgraph $H$ of $G$.",sectionId:23,category:"Additional Topics",type:"definition"},{id:"thm-weak-perfect",title:"Weak Perfect Graph Theorem",statement:"A graph $G$ is perfect if and only if its complement $\\overline{G}$ is perfect.",sectionId:23,category:"Additional Topics",type:"theorem",hasProof:!0,proof:'A replication lemma shows that if $G$ is perfect, so is any graph obtained by "replicating" vertices. Using this, one shows $G$ perfect implies $\\chi(G) \\cdot \\alpha(G) \\geq n$ for all induced subgraphs. Applying this to $\\overline{G}$ (where $\\chi$ and $\\alpha$ swap roles with $\\omega$ and $\\theta$), we get $\\overline{G}$ is also perfect.'},{id:"thm-strong-perfect",title:"Strong Perfect Graph Theorem",statement:"A graph is perfect if and only if it contains no odd hole and no odd antihole as an induced subgraph.",sectionId:23,category:"Additional Topics",type:"theorem"},{id:"def-matroid",title:"Matroid",statement:"A matroid $M = (E, \\mathcal{I})$ consists of a ground set $E$ and a collection $\\mathcal{I}$ of independent sets satisfying: (1) $\\emptyset \\in \\mathcal{I}$, (2) if $I \\in \\mathcal{I}$ and $J \\subseteq I$, then $J \\in \\mathcal{I}$, (3) if $I, J \\in \\mathcal{I}$ with $|I| < |J|$, then $\\exists e \\in J \\setminus I$ with $I \\cup \\{e\\} \\in \\mathcal{I}$.",sectionId:24,category:"Additional Topics",type:"definition"},{id:"thm-matroid-greedy",title:"Matroid Greedy Algorithm",statement:"A set system $(E, \\mathcal{I})$ is a matroid if and only if the greedy algorithm finds a maximum-weight independent set for all weight functions.",sectionId:24,category:"Additional Topics",type:"theorem",hasProof:!0,proof:"If matroid: greedy builds an independent set $I$ by adding highest-weight elements that maintain independence. By the exchange property, $|I|$ equals the rank. Any independent set of same size has $\\leq$ weight (greedy chose highest weights). Conversely, if greedy works for all weights, the exchange property must hold (otherwise, design weights where greedy fails)."},{id:"thm-ramsey",title:"Ramsey's Theorem",statement:"For all positive integers $s, t$, there exists a minimum $R(s,t)$ such that every red-blue edge-coloring of $K_n$ with $n \\geq R(s,t)$ contains a red $K_s$ or a blue $K_t$.",sectionId:25,category:"Additional Topics",type:"theorem",hasProof:!0,proof:"Induction: $R(s,1) = R(1,t) = 1$. For $s,t > 1$: take $n = R(s-1,t) + R(s,t-1)$. Pick vertex $v$; partition neighbors by edge color. Red neighbors form set of size $\\geq R(s-1,t)$ or blue neighbors $\\geq R(s,t-1)$. By induction, find red $K_{s-1}$ or blue $K_t$ in red neighborhood (add $v$ for red $K_s$), or red $K_s$ or blue $K_{t-1}$ in blue neighborhood (add $v$ for blue $K_t$)."},{id:"thm-ramsey-bounds",title:"Ramsey Number Bounds",statement:"$R(s,t) \\leq \\binom{s+t-2}{s-1}$. In particular, $R(s,s) \\leq 4^s$ and $R(s,s) > 2^{s/2}$ (Erds probabilistic lower bound).",sectionId:25,category:"Additional Topics",type:"theorem",hasProof:!0,proof:"Upper bound: from the recurrence $R(s,t) \\leq R(s-1,t) + R(s,t-1)$, induction gives $R(s,t) \\leq \\binom{s+t-2}{s-1}$. Lower bound (Erds): color $K_n$ randomly. Expected number of monochromatic $K_s$ is $\\binom{n}{s} 2^{1-\\binom{s}{2}}$. If $< 1$, some coloring avoids mono-$K_s$. This holds when $n < 2^{s/2}$, so $R(s,s) > 2^{s/2}$."},{id:"thm-erdos-stone",title:"Erds-Stone Theorem",statement:"For any graph $H$ with $\\chi(H) = r \\geq 2$: $ex(n, H) = \\left(1 - \\frac{1}{r-1} + o(1)\\right)\\binom{n}{2}$.",sectionId:26,category:"Additional Topics",type:"theorem"},{id:"thm-giant-component",title:"Giant Component Phase Transition",statement:"In $G(n, c/n)$: if $c < 1$, all components have $O(\\log n)$ vertices a.s. If $c > 1$, there is a unique giant component with $\\Theta(n)$ vertices a.s.",sectionId:27,category:"Additional Topics",type:"theorem"},{id:"thm-connectivity-threshold",title:"Connectivity Threshold",statement:"The threshold for $G(n,p)$ to be connected is $p = \\frac{\\log n}{n}$.",sectionId:27,category:"Additional Topics",type:"theorem"},{id:"def-spectrum",title:"Spectrum of a Graph",statement:"The spectrum of $G$ is the multiset of eigenvalues of its adjacency matrix $A(G)$, usually listed as $\\lambda_1 \\geq \\lambda_2 \\geq \\cdots \\geq \\lambda_n$.",sectionId:28,category:"Additional Topics",type:"definition"},{id:"thm-spectral-bounds",title:"Spectral Bounds",statement:"$\\bar{d} \\leq \\lambda_1 \\leq \\Delta$, where $\\bar{d}$ is average degree. Also: $\\chi(G) \\leq 1 + \\lambda_1$ and $\\alpha(G) \\leq \\frac{n(-\\lambda_n)}{\\lambda_1 - \\lambda_n}$ (Hoffman bound).",sectionId:28,category:"Additional Topics",type:"theorem"},{id:"thm-algebraic-connectivity",title:"Algebraic Connectivity",statement:"The second-smallest Laplacian eigenvalue $\\mu_2 = a(G)$ satisfies: $a(G) > 0$ iff $G$ is connected, and $a(G) \\leq \\kappa(G) \\leq \\kappa'(G)$.",sectionId:28,category:"Additional Topics",type:"theorem"}];function y$(){return[...new Set(Sc.map(t=>t.category).filter(t=>!!t))]}function b$(t){const n=t.toLowerCase();return Sc.filter(a=>a.title.toLowerCase().includes(n)||a.statement.toLowerCase().includes(n))}function w$(){const[t,n]=$.useState(!1),[a,i]=$.useState(""),[r,l]=$.useState(null),c=a?b$(a):Sc,h=a?[{category:"Search Results",items:c}]:y$().map(p=>({category:p,items:Sc.filter(j=>j.category===p)})),d=p=>{l(r===p?null:p)},u={theorem:"text-amber-400 bg-amber-500/10",definition:"text-blue-400 bg-blue-500/10",lemma:"text-purple-400 bg-purple-500/10",corollary:"text-green-400 bg-green-500/10",proposition:"text-cyan-400 bg-cyan-500/10"};return e.jsxs("div",{className:"min-h-screen bg-dark-950",children:[e.jsx(Tu,{onToggleSidebar:()=>n(!t),sidebarOpen:t}),e.jsx(ku,{isOpen:t,onClose:()=>n(!1)}),e.jsx("main",{className:"pt-20 pb-12 px-4 lg:pl-80 lg:pr-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-2",children:"Theorems & Definitions"}),e.jsxs("p",{className:"text-dark-400 mb-8",children:["Quick reference for all theorems and definitions in ",xu]}),e.jsx("div",{className:"mb-8",children:e.jsx("input",{type:"text",placeholder:"Search theorems and definitions...",value:a,onChange:p=>i(p.target.value),className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors"})}),e.jsx("div",{className:"bg-gradient-to-br from-amber-500/10 to-dark-800/50 border border-amber-500/20 rounded-2xl p-4 mb-8",children:e.jsxs("p",{className:"text-amber-300 text-sm",children:[e.jsx("span",{className:"font-semibold",children:"Tip:"})," Click any theorem to go to its section. Many include expandable proofs with LaTeX!"]})}),e.jsx("div",{className:"space-y-8",children:h.map(({category:p,items:j})=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h2",{className:"text-xl font-bold text-dark-200 border-b border-dark-700/50 pb-2 flex items-center gap-3",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center text-sm font-bold text-amber-400",children:j.length}),p]}),e.jsx("div",{className:"space-y-2",children:j.map(f=>e.jsx(wt,{to:`/section/${f.sectionId}`,className:"block group",children:e.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-dark-800/40 border border-dark-700/50 p-4 transition-all duration-200 hover:border-amber-500/30 hover:bg-dark-800/60",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-amber-500 to-orange-600 opacity-40 group-hover:opacity-100 transition-opacity"}),e.jsxs("div",{className:"pl-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[f.type&&e.jsx("span",{className:`text-[10px] font-semibold uppercase tracking-wider px-2 py-0.5 rounded ${u[f.type]||"text-dark-400 bg-dark-700"}`,children:f.type}),e.jsxs("span",{className:"text-[10px] text-dark-500",children:["Section ",f.sectionId]}),f.sectionTitle&&e.jsx("span",{className:"text-[10px] text-dark-600",children:f.sectionTitle}),f.hasProof&&f.proof&&e.jsx("span",{onClick:N=>{N.preventDefault(),d(f.id)},className:"ml-auto text-[10px] text-amber-500/70 font-medium cursor-pointer hover:text-amber-400 transition-colors",children:r===f.id?"Hide Proof":"View Proof"})]}),e.jsx("h3",{className:"font-semibold text-amber-400 group-hover:text-amber-300 transition-colors",children:f.title}),e.jsx("p",{className:"text-sm text-dark-400 mt-1",children:f.statement}),f.hasProof&&f.proof&&e.jsx("div",{className:"mt-3",children:e.jsx(ll,{children:r===f.id?e.jsx(Bs.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:e.jsxs("div",{className:"pt-4 border-t border-dark-700/50",children:[e.jsx("h4",{className:"text-sm font-semibold text-amber-400 mb-2",children:"Proof:"}),e.jsx(W,{children:f.proof})]})}):null})})]})]})},f.id))})]},p))}),c.length===0&&e.jsx("div",{className:"text-center py-12 text-dark-400",children:"No theorems found matching your search."}),e.jsx("div",{className:"mt-12 pt-8 border-t border-dark-700/50 flex justify-between items-center",children:e.jsxs(wt,{to:"/interactive",className:"text-primary-400 hover:text-primary-300 transition-colors flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-5-9-5 5-2-9 0-9 5 5 9 12 19 19 2 12 0 0 0 9 5-2-9-5-9 0-9 5-9-5 5-2 9 0 9-5"})}),"Interactive Modules"]})})]})})]})}const ld=[{id:"demo-1",title:"Example Demo",description:"An interactive demonstration of the concept.",sectionId:0,sectionTitle:"Welcome",category:"Basics",icon:""}];function N$(){const[t,n]=$.useState(!1),[a,i]=$.useState(null),r=[...new Set(ld.map(c=>c.category))],l=a?ld.filter(c=>c.category===a):ld;return e.jsxs("div",{className:"min-h-screen bg-dark-950",children:[e.jsx(Tu,{onToggleSidebar:()=>n(!t),sidebarOpen:t}),e.jsx(ku,{isOpen:t,onClose:()=>n(!1)}),e.jsx("main",{className:"pt-20 pb-12 px-4 lg:pl-80 lg:pr-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-2",children:"Interactive Modules"}),e.jsx("p",{className:"text-dark-400 mb-8",children:"Explore concepts through hands-on interactive visualizations"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[e.jsx("button",{onClick:()=>i(null),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${a===null?"bg-primary-500 text-white":"bg-dark-800 text-dark-300 hover:bg-dark-700"}`,children:"All"}),r.map(c=>e.jsx("button",{onClick:()=>i(c),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${a===c?"bg-primary-500 text-white":"bg-dark-800 text-dark-300 hover:bg-dark-700"}`,children:c},c))]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(c=>e.jsx(wt,{to:`/section/${c.sectionId}`,className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-primary-500/30 transition-colors group",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:c.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-dark-100 group-hover:text-primary-400 transition-colors",children:c.title}),e.jsx("p",{className:"text-sm text-dark-400 mt-1",children:c.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsx("span",{className:"text-xs px-2 py-1 rounded bg-dark-700 text-dark-300",children:c.category}),e.jsxs("span",{className:"text-xs text-dark-500",children:["Section ",c.sectionId]})]})]})]})},c.id))}),l.length===0&&e.jsx("div",{className:"text-center py-12 text-dark-400",children:"No modules found in this category."})]})})]})}function T$({sectionId:t,questions:n,title:a="Section Quiz"}){var E,U,D;const r=ni(),[l,c]=$.useState(0),[h,d]=$.useState(null),[u,p]=$.useState(null),[j,f]=$.useState(""),[N,O]=$.useState(!1),[P,Z]=$.useState(0),[G,b]=$.useState([]),[_,C]=$.useState(!1),[Y,se]=$.useState(""),[k,g]=$.useState(0),v=$.useMemo(()=>[...n].sort(()=>globalThis.Math.random()-.5).slice(0,5),[n]),w=v[l],S=v.length,A=(w==null?void 0:w.type)??"multiple-choice",T=L=>{if(h!==null)return;d(L);const M=L===w.correctIndex;M&&Z(z=>z+1),b(z=>[...z,M]),O(!0)},oe=()=>{if(u===null||Number.isNaN(u)){se("Please enter a number");return}const{min:L,max:M}=w.numericRange??{};if(L!==void 0&&u<L){se(`Answer must be at least ${L}`);return}if(M!==void 0&&u>M){se(`Answer must be at most ${M}`);return}se("");const z=u===w.correctAnswer;z&&Z(Q=>Q+1),b(Q=>[...Q,z]),O(!0)},te=()=>{const L=j.trim();if(L==="")return;const M=L.toLowerCase()===String(w.correctAnswer??"").toLowerCase();M&&Z(z=>z+1),b(z=>[...z,M]),O(!0)},K=()=>{if(l<S-1)c(L=>L+1),d(null),p(null),f(""),O(!1),se("");else{C(!0);const L=P+(N&&(A==="multiple-choice"&&h===w.correctIndex||A==="numeric"&&u===w.correctAnswer||A==="text"&&j.toLowerCase()===String(w.correctAnswer??"").toLowerCase())?1:0),M=globalThis.Math.round(L/S*100);let z=_y(w.difficulty,M);M===100&&(z=globalThis.Math.round(z*(1+zt.QUIZ_PERFECT_BONUS))),g(z),r&&r.recordQuiz(t,w.difficulty,M,L,S)}},F=()=>{c(0),d(null),p(null),f(""),O(!1),Z(0),b([]),C(!1),se(""),g(0)};if(_){const L=G.filter(Boolean).length,M=globalThis.Math.round(L/S*100);return e.jsx("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:M>=80?"":M>=60?"":""}),e.jsx("h3",{className:"text-2xl font-bold text-dark-100 mb-2",children:"Quiz Complete!"}),e.jsxs("p",{className:"text-dark-400 mb-4",children:["You scored ",L," out of ",S," (",M,"%)"]}),k>0&&e.jsxs(Bs.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-amber-500/20 border border-amber-500/30 mb-4",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsxs("span",{className:"text-amber-300 font-bold text-lg",children:["+",k," XP"]}),M===100&&e.jsx("span",{className:"text-amber-400 text-sm",children:"(Perfect bonus!)"})]}),e.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:G.map((z,Q)=>e.jsx("div",{className:`w-3 h-3 rounded-full ${z?"bg-emerald-500":"bg-red-500"}`},Q))}),e.jsx("button",{onClick:F,className:"px-6 py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:"Try Again"})]})})}return e.jsxs("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-dark-100",children:a}),e.jsxs("span",{className:"text-sm text-dark-400",children:["Question ",l+1," of ",S]})]}),e.jsx("div",{className:"h-1 bg-dark-700 rounded-full mb-6 overflow-hidden",children:e.jsx(Bs.div,{className:"h-full bg-primary-500",initial:{width:0},animate:{width:`${(l+1)/S*100}%`}})}),e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${w.difficulty==="easy"?"bg-emerald-500/20 text-emerald-400":w.difficulty==="medium"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:w.difficulty.charAt(0).toUpperCase()+w.difficulty.slice(1)})}),e.jsx("p",{className:"text-lg text-dark-200 mb-6",children:e.jsx("span",{dangerouslySetInnerHTML:{__html:ad(w.question)}})}),A==="multiple-choice"&&w.options&&e.jsx("div",{className:"space-y-3 mb-6",children:w.options.map((L,M)=>{const z=h===M,Q=M===w.correctIndex,R=N&&Q,H=N&&z&&!Q;return e.jsx("button",{onClick:()=>T(M),disabled:N,className:`w-full p-4 rounded-xl text-left transition-all ${R?"bg-emerald-500/20 border-emerald-500/50 text-emerald-300":H?"bg-red-500/20 border-red-500/50 text-red-300":z?"bg-primary-500/20 border-primary-500/50 text-primary-300":"bg-dark-700/50 border-dark-600/50 text-dark-200 hover:bg-dark-700 hover:border-dark-500"} border`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-dark-600 flex items-center justify-center text-sm font-medium",children:String.fromCharCode(65+M)}),e.jsx("span",{dangerouslySetInnerHTML:{__html:ad(L)}})]})},M)})}),A==="numeric"&&e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("input",{type:"number",step:(E=w.numericRange)!=null&&E.precision?1/globalThis.Math.pow(10,w.numericRange.precision):1,min:(U=w.numericRange)==null?void 0:U.min,max:(D=w.numericRange)==null?void 0:D.max,value:u??"",onChange:L=>{const M=L.target.value;p(M===""?null:parseFloat(M))},disabled:N,className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors",placeholder:"Enter your answer..."}),Y&&e.jsx("p",{className:"text-red-400 text-sm",children:Y}),e.jsx("button",{onClick:oe,disabled:N||u===null||Number.isNaN(u),className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:bg-dark-600 disabled:cursor-not-allowed",children:"Check Answer"})]}),A==="text"&&e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("input",{type:"text",value:j,onChange:L=>f(L.target.value),disabled:N,className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors",placeholder:"Type your answer..."}),e.jsx("button",{onClick:te,disabled:N||!j.trim(),className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:bg-dark-600 disabled:cursor-not-allowed",children:"Check Answer"})]}),N&&w.explanation&&e.jsx(Bs.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-dark-700/50 border border-dark-600/50 mb-6",children:e.jsxs("p",{className:"text-sm text-dark-300",children:[e.jsx("span",{className:"font-medium text-dark-200",children:"Explanation: "}),e.jsx("span",{dangerouslySetInnerHTML:{__html:ad(w.explanation)}})]})}),N&&e.jsx(Bs.button,{initial:{opacity:0},animate:{opacity:1},onClick:K,className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:l<S-1?"Next Question":"See Results"})]})}function k$(){const{id:t}=$f(),n=parseInt(t||"0",10),a=pm(n),i=Ey(n),r=Cy(n),c=ni();return $.useEffect(()=>{c&&c.visitSection(n)},[n,c]),!a||a.length===0?e.jsxs("div",{className:"min-h-screen relative",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-primary-500/[0.02] rounded-full blur-[150px] -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-cyan-500/[0.02] rounded-full blur-[120px] translate-y-1/2 -translate-x-1/2"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 text-center",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 text-sm font-semibold bg-gradient-to-r from-dark-700/50 to-dark-800/30 text-dark-400 rounded-full border border-dark-700/50 mb-4",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-dark-500"}),"No Quiz Available"]}),e.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-4",children:"Quiz Not Found"}),e.jsx("p",{className:"text-dark-400 text-lg mb-8",children:"There is no quiz available for this section yet."})]}),e.jsxs(wt,{to:`/section/${n}`,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-primary-500/10 text-primary-400 hover:bg-primary-500/20 transition-colors font-medium",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Return to Section"]})]})]}):e.jsxs("div",{className:"min-h-screen relative",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-amber-500/[0.02] rounded-full blur-[150px] -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-primary-500/[0.02] rounded-full blur-[120px] translate-y-1/2 -translate-x-1/2"})]}),e.jsx("div",{className:"relative py-4 px-6 border-b border-dark-800/50 bg-dark-950/50 backdrop-blur-sm",children:e.jsxs("nav",{className:"max-w-4xl mx-auto flex items-center gap-2 text-sm",children:[e.jsxs(wt,{to:"/",className:"text-dark-500 hover:text-dark-300 transition-colors flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),e.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.jsxs(wt,{to:`/section/${n}`,className:"text-dark-500 hover:text-dark-300 transition-colors",children:["Section ",n]}),e.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.jsx("span",{className:"text-amber-400 font-medium",children:"Quiz"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[e.jsxs("header",{className:"mb-10",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[e.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 text-sm font-semibold bg-gradient-to-r from-amber-500/20 to-amber-600/10 text-amber-400 rounded-full border border-amber-500/20",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),"Section Quiz"]}),r&&e.jsxs("span",{className:"text-dark-500 text-sm",children:["Part ",r.id,": ",r.title]})]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:e.jsx("span",{className:"text-gradient",children:i==null?void 0:i.title})}),e.jsxs("p",{className:"text-dark-400 text-lg",children:["Test your understanding of this section with ",a.length," question",a.length!==1?"s":"","."]}),e.jsxs("div",{className:"mt-8 flex items-center gap-4",children:[e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500/50"}),e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500/30"}),e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500/10"})]}),e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"})]})]}),e.jsx(T$,{sectionId:n,questions:a}),e.jsx("div",{className:"mt-12 pt-8 border-t border-dark-800/50",children:e.jsxs(wt,{to:`/section/${n}`,className:"inline-flex items-center gap-2 text-dark-400 hover:text-dark-200 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Section ",n]})})]})]})}function B({title:t,children:n,className:a=""}){return e.jsxs("div",{className:`my-6 p-6 rounded-2xl bg-gradient-to-br from-blue-500/10 to-blue-600/5 border border-blue-500/20 ${a}`,children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-blue-400 uppercase tracking-wider",children:"Definition"}),e.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:t})]})]}),e.jsx("div",{className:"text-dark-300 pl-11",children:n})]})}function q({title:t,children:n,proof:a,className:i=""}){const[r,l]=$.useState(!1);return e.jsxs("div",{className:`my-6 p-6 rounded-2xl bg-gradient-to-br from-amber-500/10 to-amber-600/5 border border-amber-500/20 ${i}`,children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-amber-400 uppercase tracking-wider",children:"Theorem"}),e.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:t})]})]}),e.jsx("div",{className:"text-dark-300 pl-11",children:n}),a&&e.jsxs("div",{className:"mt-4 pl-11",children:[e.jsxs("button",{onClick:()=>l(!r),className:"flex items-center gap-2 text-sm text-amber-400 hover:text-amber-300 transition-colors",children:[e.jsx("svg",{className:`w-4 h-4 transition-transform ${r?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),r?"Hide Proof":"Show Proof"]}),e.jsx(ll,{children:r&&e.jsx(Bs.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-dark-800/50 border border-dark-700/50 text-dark-300",children:[e.jsx("div",{className:"text-xs font-semibold text-dark-500 uppercase tracking-wider mb-2",children:"Proof"}),a,e.jsx("div",{className:"text-right mt-4 text-dark-500",children:""})]})})})]})]})}function re({title:t,children:n,className:a=""}){return e.jsxs("div",{className:`my-6 p-6 rounded-2xl bg-gradient-to-br from-emerald-500/10 to-emerald-600/5 border border-emerald-500/20 ${a}`,children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-emerald-400 uppercase tracking-wider",children:"Example"}),e.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:t})]})]}),e.jsx("div",{className:"text-dark-300 pl-11",children:n})]})}const ge={background:"#1e293b",grid:"#334155",node:"#60a5fa",nodeStroke:"#3b82f6",nodeSelected:"#f59e0b",nodeHighlight:"#22c55e",edge:"#64748b",edgeHighlight:"#22c55e",text:"#e2e8f0",textDark:"#94a3b8",path:"#10b981",cycle:"#f472b6",matching:"#a78bfa",flow:"#06b6d4"},da={nodeRadius:16,nodeStrokeWidth:2,edgeWidth:2,fontSize:12};function Qs(t,n,a,i=ge.background){t.fillStyle=i,t.fillRect(0,0,n,a)}function Js(t,n,a,i=40){t.strokeStyle=ge.grid,t.lineWidth=.5;for(let r=i;r<n;r+=i)t.beginPath(),t.moveTo(r,0),t.lineTo(r,a),t.stroke();for(let r=i;r<a;r+=i)t.beginPath(),t.moveTo(0,r),t.lineTo(n,r),t.stroke()}function en(t,n,a={}){const{radius:i=da.nodeRadius,fillColor:r=n.color??ge.node,strokeColor:l=ge.nodeStroke,strokeWidth:c=da.nodeStrokeWidth,labelColor:h=ge.text,fontSize:d=da.fontSize,selected:u=!1,highlighted:p=!1}=a,j=u?ge.nodeSelected:p?ge.nodeHighlight:r,f=u?ge.nodeSelected:p?ge.nodeHighlight:l;t.beginPath(),t.arc(n.x,n.y,i,0,Math.PI*2),t.fillStyle=j,t.fill(),t.strokeStyle=f,t.lineWidth=c,t.stroke(),n.label&&(t.fillStyle=h,t.font=`bold ${d}px Inter, system-ui, sans-serif`,t.textAlign="center",t.textBaseline="middle",t.fillText(n.label,n.x,n.y))}function _$(t,n,a=da.nodeRadius+6){t.beginPath(),t.arc(n.x,n.y,a,0,Math.PI*2),t.strokeStyle=ge.nodeSelected,t.lineWidth=2,t.setLineDash([4,4]),t.stroke(),t.setLineDash([])}function Mn(t,n,a,i={}){const r=a.find(P=>P.id===n.source),l=a.find(P=>P.id===n.target);if(!r||!l)return;const{color:c=n.color??ge.edge,width:h=da.edgeWidth,dashed:d=!1,highlighted:u=n.highlighted??!1,showWeight:p=!1,showFlow:j=!1,curved:f=!1}=i,N=u?ge.edgeHighlight:c,O=u?h+1:h;if(t.strokeStyle=N,t.lineWidth=O,d&&t.setLineDash([6,4]),f){const P=(r.x+l.x)/2,Z=(r.y+l.y)/2,G=l.x-r.x,b=l.y-r.y,_=Math.sqrt(G*G+b*b),C=_*.2;t.beginPath(),t.moveTo(r.x,r.y),t.quadraticCurveTo(P-b*C/_,Z+G*C/_,l.x,l.y),t.stroke()}else t.beginPath(),t.moveTo(r.x,r.y),t.lineTo(l.x,l.y),t.stroke();if(t.setLineDash([]),p&&n.weight!==void 0){const P=(r.x+l.x)/2,Z=(r.y+l.y)/2;bf(t,`${n.weight}`,P,Z)}if(j&&n.flow!==void 0&&n.capacity!==void 0){const P=(r.x+l.x)/2,Z=(r.y+l.y)/2;bf(t,`${n.flow}/${n.capacity}`,P,Z)}}function bf(t,n,a,i){t.fillStyle=ge.background;const r=t.measureText(n),l=4;t.fillRect(a-r.width/2-l,i-8-l,r.width+l*2,16+l*2),t.fillStyle=ge.text,t.font=`${da.fontSize}px Inter, system-ui, sans-serif`,t.textAlign="center",t.textBaseline="middle",t.fillText(n,a,i)}function Tl(t,n,a,i=ge.path){if(n.length<2)return;t.strokeStyle=i,t.lineWidth=4,t.lineCap="round",t.lineJoin="round",t.beginPath();const r=a.find(l=>l.id===n[0]);if(r){t.moveTo(r.x,r.y);for(let l=1;l<n.length;l++){const c=a.find(h=>h.id===n[l]);c&&t.lineTo(c.x,c.y)}t.stroke()}}function S$(t,n,a,i=ge.cycle){if(n.length<2)return;const r=[...n,n[0]];Tl(t,r,a,i)}function $$(t,n,a,i=da.nodeRadius){const r=t-a.x,l=n-a.y;return r*r+l*l<=i*i}function Tt(t,n,a,i=da.nodeRadius){for(const r of a)if($$(t,n,r,i))return r;return null}function gt(t,n){const a=n.getBoundingClientRect(),i=n.width/a.width,r=n.height/a.height;return{x:(t.clientX-a.left)*i,y:(t.clientY-a.top)*r}}function hs(t){var a,i;const n=new Map;for(const r of t.nodes)n.set(r.id,[]);for(const r of t.edges)(a=n.get(r.source))==null||a.push(r.target),t.directed||(i=n.get(r.target))==null||i.push(r.source);return n}function G$(t){const n=t.nodes.length,a=new Map(t.nodes.map((r,l)=>[r.id,l])),i=Array(n).fill(null).map(()=>Array(n).fill(0));for(const r of t.edges){const l=a.get(r.source),c=a.get(r.target),h=r.weight??1;i[l][c]=h,t.directed||(i[c][l]=h)}return i}function ma(t,n){var i;return((i=hs(t).get(n))==null?void 0:i.length)??0}function qy(t){const n=hs(t);return t.nodes.map(a=>{var i;return((i=n.get(a.id))==null?void 0:i.length)??0}).sort((a,i)=>i-a)}function fn(t,n,a){return t.edges.some(i=>i.source===n&&i.target===a||!t.directed&&i.source===a&&i.target===n)}function A$(t,n){const a=[],i=new Set,r=[n],l=hs(t);for(i.add(n),a.push({node:n,action:"visit"});r.length>0;){const c=r.shift(),h=l.get(c)??[];for(const d of h)i.has(d)||(i.add(d),r.push(d),a.push({node:d,action:"visit",parent:c}))}return a}function E$(t,n){const a=[],i=new Set,r=hs(t);function l(c,h){i.add(c),a.push({node:c,action:"visit",parent:h});const d=r.get(c)??[];for(const u of d)i.has(u)||(a.push({node:u,action:"explore",parent:c}),l(u,c));a.push({node:c,action:"backtrack",parent:h})}return l(n),a}function fm(t,n,a){if(n===a)return{path:[n],found:!0};const i=new Set,r=[n],l=new Map,c=hs(t);for(i.add(n);r.length>0;){const h=r.shift(),d=c.get(h)??[];for(const u of d)if(!i.has(u)){if(i.add(u),l.set(u,h),u===a){const p=[a];let j=a;for(;l.has(j);)j=l.get(j),p.unshift(j);return{path:p,found:!0}}r.push(u)}}return{path:[],found:!1}}function zy(t,n){const a=hs(t),i=new Set,r=[];function l(h,d){i.add(h),r.push(h);const u=a.get(h)??[];for(const p of u)if(i.has(p)){if(p!==d&&r.includes(p)){const j=r.indexOf(p);return r.slice(j)}}else{const j=l(p,h);if(j)return j}return r.pop(),null}const c=n?[n]:t.nodes.map(h=>h.id);for(const h of c)if(!i.has(h)){const d=l(h,null);if(d)return d}return null}function Zs(t){if(t.nodes.length===0)return!0;const n=new Set,a=[t.nodes[0].id],i=hs(t);for(n.add(t.nodes[0].id);a.length>0;){const r=a.shift(),l=i.get(r)??[];for(const c of l)n.has(c)||(n.add(c),a.push(c))}return n.size===t.nodes.length}function gm(t){const n=t.nodes.length;return t.edges.length!==n-1?!1:Zs(t)}function Dy(t){if(!Zs(t))return!1;for(const n of t.nodes)if(ma(t,n.id)%2!==0)return!1;return!0}function C$(t){if(!Zs(t))return!1;let n=0;for(const a of t.nodes)ma(t,a.id)%2!==0&&n++;return n===0||n===2}function M$(t){if(!Dy(t))return null;const n=new Map;for(const r of t.nodes)n.set(r.id,[]);for(const r of t.edges)n.get(r.source).push(r.target),t.directed||n.get(r.target).push(r.source);const a=[],i=[t.nodes[0].id];for(;i.length>0;){const r=i[i.length-1],l=n.get(r);if(l.length===0)a.push(i.pop());else{const c=l.pop();if(!t.directed){const h=n.get(c),d=h.indexOf(r);d!==-1&&h.splice(d,1)}i.push(c)}}return a.reverse()}function pt(t,n){switch(t){case"empty":return{nodes:[],edges:[]};case"K5":return wf(5);case"K33":return Nf(3,3);case"petersen":return O$();case"cycle":return q$(6);case"path":return z$(5);case"complete":return wf(5);case"bipartite":return Nf(3,3);case"tree":return D$(7);case"grid":return I$(3,3);case"cube":return R$();case"dodecahedron":return L$();case"konigsberg":return H$();default:return{nodes:[],edges:[]}}}function wf(t){const n=[],a=[];for(let i=0;i<t;i++){const r=2*Math.PI*i/t-Math.PI/2;n.push({id:`${i}`,x:300+120*Math.cos(r),y:200+120*Math.sin(r),label:`${i+1}`})}for(let i=0;i<t;i++)for(let r=i+1;r<t;r++)a.push({source:`${i}`,target:`${r}`});return{nodes:n,edges:a}}function Nf(t,n){const a=[],i=[];for(let r=0;r<t;r++)a.push({id:`a${r}`,x:150,y:80+320/(t+1)*(r+1),label:`a${r+1}`,color:"#60a5fa"});for(let r=0;r<n;r++)a.push({id:`b${r}`,x:450,y:80+320/(n+1)*(r+1),label:`b${r+1}`,color:"#f472b6"});for(let r=0;r<t;r++)for(let l=0;l<n;l++)i.push({source:`a${r}`,target:`b${l}`});return{nodes:a,edges:i}}function q$(t){const n=[],a=[];for(let i=0;i<t;i++){const r=2*Math.PI*i/t-Math.PI/2;n.push({id:`${i}`,x:300+120*Math.cos(r),y:200+120*Math.sin(r),label:`${i+1}`}),a.push({source:`${i}`,target:`${(i+1)%t}`})}return{nodes:n,edges:a}}function z$(t){const n=[],a=[];for(let i=0;i<t;i++)n.push({id:`${i}`,x:100+400/(t-1)*i,y:200,label:`${i+1}`}),i>0&&a.push({source:`${i-1}`,target:`${i}`});return{nodes:n,edges:a}}function D$(t){const n=[],a=[];for(let i=0;i<t;i++)n.push({id:`${i}`,x:100+Math.random()*400,y:80+Math.random()*320,label:`${i+1}`});for(let i=1;i<t;i++){const r=Math.floor(Math.random()*i);a.push({source:`${r}`,target:`${i}`})}return{nodes:n,edges:a}}function I$(t,n){const a=[],i=[],r=Math.min(400/(n-1),320/(t-1)),l=(600-(n-1)*r)/2,c=(400-(t-1)*r)/2;for(let h=0;h<t;h++)for(let d=0;d<n;d++){const u=`${h}-${d}`;a.push({id:u,x:l+d*r,y:c+h*r}),d>0&&i.push({source:`${h}-${d-1}`,target:u}),h>0&&i.push({source:`${h-1}-${d}`,target:u})}return{nodes:a,edges:i}}function O$(){const t=[],n=[];for(let a=0;a<5;a++){const i=2*Math.PI*a/5-Math.PI/2;t.push({id:`o${a}`,x:300+140*Math.cos(i),y:200+140*Math.sin(i),label:`${a+1}`})}for(let a=0;a<5;a++){const i=2*Math.PI*a/5-Math.PI/2;t.push({id:`i${a}`,x:300+60*Math.cos(i),y:200+60*Math.sin(i),label:`${a+6}`})}for(let a=0;a<5;a++)n.push({source:`o${a}`,target:`o${(a+1)%5}`});for(let a=0;a<5;a++)n.push({source:`i${a}`,target:`i${(a+2)%5}`});for(let a=0;a<5;a++)n.push({source:`o${a}`,target:`i${a}`});return{nodes:t,edges:n}}function R$(){const t=[],n=[];return t.push({id:"0",x:160,y:60,label:"1"}),t.push({id:"1",x:440,y:60,label:"2"}),t.push({id:"2",x:440,y:340,label:"3"}),t.push({id:"3",x:160,y:340,label:"4"}),t.push({id:"4",x:240,y:140,label:"5"}),t.push({id:"5",x:360,y:140,label:"6"}),t.push({id:"6",x:360,y:260,label:"7"}),t.push({id:"7",x:240,y:260,label:"8"}),n.push({source:"0",target:"1"}),n.push({source:"1",target:"2"}),n.push({source:"2",target:"3"}),n.push({source:"3",target:"0"}),n.push({source:"4",target:"5"}),n.push({source:"5",target:"6"}),n.push({source:"6",target:"7"}),n.push({source:"7",target:"4"}),n.push({source:"0",target:"4"}),n.push({source:"1",target:"5"}),n.push({source:"2",target:"6"}),n.push({source:"3",target:"7"}),{nodes:t,edges:n}}function L$(){const t=[],n=[];for(let l=0;l<5;l++){const c=2*Math.PI*l/5-Math.PI/2;t.push({id:`t${l}`,x:300+50*Math.cos(c),y:100,label:`${l+1}`})}for(let l=0;l<5;l++){const c=2*Math.PI*l/5-Math.PI/2+Math.PI/5;t.push({id:`u${l}`,x:300+130*Math.cos(c),y:150,label:`${l+6}`})}for(let l=0;l<5;l++){const c=2*Math.PI*l/5-Math.PI/2;t.push({id:`l${l}`,x:300+130*Math.cos(c),y:250,label:`${l+11}`})}for(let l=0;l<5;l++){const c=2*Math.PI*l/5-Math.PI/2+Math.PI/5;t.push({id:`b${l}`,x:300+50*Math.cos(c),y:300,label:`${l+16}`})}for(let l=0;l<5;l++)n.push({source:`t${l}`,target:`t${(l+1)%5}`});for(let l=0;l<5;l++)n.push({source:`b${l}`,target:`b${(l+1)%5}`});for(let l=0;l<5;l++)n.push({source:`t${l}`,target:`u${l}`}),n.push({source:`t${l}`,target:`u${(l+4)%5}`});for(let l=0;l<5;l++)n.push({source:`u${l}`,target:`l${l}`});for(let l=0;l<5;l++)n.push({source:`l${l}`,target:`b${l}`}),n.push({source:`l${l}`,target:`b${(l+1)%5}`});return{nodes:t,edges:n}}function H$(){return{nodes:[{id:"A",x:300,y:100,label:"A"},{id:"B",x:150,y:250,label:"B"},{id:"C",x:450,y:250,label:"C"},{id:"D",x:300,y:350,label:"D"}],edges:[{source:"A",target:"B"},{source:"A",target:"B"},{source:"A",target:"C"},{source:"A",target:"C"},{source:"B",target:"D"},{source:"C",target:"D"},{source:"B",target:"C"}]}}function rr(t,n,a,i){const r=`n${Date.now()}`;return{...t,nodes:[...t.nodes,{id:r,x:n,y:a,label:i??`${t.nodes.length+1}`}]}}function kl(t,n){return{...t,nodes:t.nodes.filter(a=>a.id!==n),edges:t.edges.filter(a=>a.source!==n&&a.target!==n)}}function lr(t,n,a,i){return fn(t,n,a)?t:{...t,edges:[...t.edges,{source:n,target:a,weight:i}]}}function ii(t,n,a,i){return{...t,nodes:t.nodes.map(r=>r.id===n?{...r,x:a,y:i}:r)}}const P$=[{value:"empty",label:"Empty"},{value:"K5",label:"K (Complete)"},{value:"K33",label:"K, (Bipartite)"},{value:"petersen",label:"Petersen"},{value:"cycle",label:"Cycle (C)"},{value:"path",label:"Path (P)"},{value:"cube",label:"Cube (Q)"},{value:"grid",label:"Grid (33)"}];function B$({className:t="",initialGraph:n,showMatrix:a=!0,showControls:i=!0,onGraphChange:r}){const l=$.useRef(null),[c,h]=$.useState(n??pt("empty")),[d,u]=$.useState("addNode"),[p,j]=$.useState(null),[f,N]=$.useState(null),[O,P]=$.useState(null),[Z,G]=$.useState(null),b=600,_=400;$.useEffect(()=>{r==null||r(c)},[c,r]),$.useEffect(()=>{const te=l.current;if(!te)return;const K=te.getContext("2d");if(K){Qs(K,b,_),Js(K,b,_);for(const F of c.edges)Mn(K,F,c.nodes,{highlighted:F.source===p||F.target===p});if(d==="addEdge"&&f){const F=c.nodes.find(E=>E.id===f);if(F&&Z&&Z!==f){const E=c.nodes.find(U=>U.id===Z);E&&(K.strokeStyle=ge.nodeSelected,K.lineWidth=2,K.setLineDash([6,4]),K.beginPath(),K.moveTo(F.x,F.y),K.lineTo(E.x,E.y),K.stroke(),K.setLineDash([]))}}for(const F of c.nodes)en(K,F,{selected:F.id===p,highlighted:F.id===Z||F.id===f});if(p){const F=c.nodes.find(E=>E.id===p);F&&_$(K,F)}}},[c,d,p,f,Z]);const C=$.useCallback(te=>{const K=l.current;if(!K)return;const{x:F,y:E}=gt(te,K),U=Tt(F,E,c.nodes);switch(d){case"select":U?(j(U.id),P(U.id)):j(null);break;case"addNode":if(U)j(U.id);else{const D=rr(c,F,E);h(D)}break;case"addEdge":if(U){if(f===null)N(U.id);else if(U.id!==f){const D=lr(c,f,U.id);h(D),N(null)}}else N(null);break;case"delete":if(U){const D=kl(c,U.id);h(D),p===U.id&&j(null)}break}},[c,d,f,p]),Y=$.useCallback(te=>{const K=l.current;if(!K)return;const{x:F,y:E}=gt(te,K),U=Tt(F,E,c.nodes);if(G((U==null?void 0:U.id)??null),O){const D=ii(c,O,F,E);h(D)}},[c,O]),se=$.useCallback(()=>{P(null)},[]),k=$.useCallback(()=>{P(null),G(null)},[]),g=te=>{h(pt(te)),j(null),N(null)},v=()=>{h({nodes:[],edges:[]}),j(null),N(null)},w=()=>{p&&(h(kl(c,p)),j(null))},S=G$(c),A=c.nodes.map(te=>te.label??te.id),T=qy(c),oe=()=>Z?d==="delete"?"pointer":d==="select"||O?"grab":d==="addEdge"?"crosshair":"pointer":d==="addNode"?"crosshair":"default";return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${t}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Interactive Graph Editor"}),e.jsx("p",{className:"text-dark-300 mb-6",children:"Create and manipulate graphs. Click to add vertices, select two vertices to add edges, or use the controls below."}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("canvas",{ref:l,width:b,height:_,className:"rounded-xl border border-dark-600",style:{cursor:oe()},onMouseDown:C,onMouseMove:Y,onMouseUp:se,onMouseLeave:k}),i&&e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:[{mode:"addNode",label:"Add Vertex",icon:""},{mode:"addEdge",label:"Add Edge",icon:""},{mode:"select",label:"Select/Move",icon:""},{mode:"delete",label:"Delete",icon:""}].map(({mode:te,label:K,icon:F})=>e.jsxs("button",{onClick:()=>{u(te),N(null)},className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${d===te?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:[e.jsx("span",{className:"mr-1",children:F})," ",K]},te))})]}),e.jsxs("div",{className:"flex-1 space-y-6 min-w-0",children:[i&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Load Preset Graph"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:P$.map(({value:te,label:K})=>e.jsx("button",{onClick:()=>g(te),className:"px-3 py-1.5 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600 transition-colors",children:K},te))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-400",children:c.nodes.length}),e.jsx("div",{className:"text-sm text-dark-300",children:"Vertices"})]}),e.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-400",children:c.edges.length}),e.jsx("div",{className:"text-sm text-dark-300",children:"Edges"})]})]}),c.nodes.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Degree Sequence"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:T.map((te,K)=>e.jsx("span",{className:"px-2 py-1 bg-dark-700 text-dark-200 rounded text-sm",children:te},K))})]}),a&&c.nodes.length>0&&c.nodes.length<=8&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Adjacency Matrix"}),e.jsx("div",{className:"overflow-auto",children:e.jsxs("table",{className:"border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-8 h-8"}),A.map((te,K)=>e.jsx("th",{className:"w-8 h-8 text-center text-dark-300 font-medium",children:te},K))]})}),e.jsx("tbody",{children:S.map((te,K)=>e.jsxs("tr",{children:[e.jsx("td",{className:"w-8 h-8 text-center text-dark-300 font-medium",children:A[K]}),te.map((F,E)=>e.jsx("td",{className:`w-8 h-8 text-center border border-dark-600 ${F>0?"bg-blue-500/20 text-blue-300":"text-dark-500"}`,children:F},E))]},K))})]})})]}),i&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:v,className:"px-4 py-2 bg-red-600/20 text-red-400 rounded-lg hover:bg-red-600/30 transition-colors",children:"Clear Graph"}),p&&e.jsx("button",{onClick:w,className:"px-4 py-2 bg-amber-600/20 text-amber-400 rounded-lg hover:bg-amber-600/30 transition-colors",children:"Delete Selected"})]}),e.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Add Vertex:"})," Click empty space"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Add Edge:"})," Click two vertices"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Move:"})," Select mode, then drag"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Delete:"})," Delete mode, then click"]})]})]})]})]})}const F$=[{value:"cycle",label:"Cycle (C)"},{value:"K5",label:"K"},{value:"cube",label:"Cube"},{value:"petersen",label:"Petersen"},{value:"konigsberg",label:"Knigsberg"}];function U$({className:t="",initialGraph:n}){const a=$.useRef(null),[i,r]=$.useState(n??pt("cycle")),[l,c]=$.useState("path"),[h,d]=$.useState(null),[u,p]=$.useState(null),[j,f]=$.useState([]),[N,O]=$.useState([]),[P,Z]=$.useState([]),[G,b]=$.useState(0),[_,C]=$.useState(!1),[Y,se]=$.useState([]),[k,g]=$.useState(null),[v,w]=$.useState(null),[S,A]=$.useState("view"),[T,oe]=$.useState(null),te=600,K=400;$.useEffect(()=>{if(!_)return;const ee=l==="eulerian"?P.length:Y.length;if(G>=ee){C(!1);return}const X=setTimeout(()=>{b(ne=>ne+1)},500);return()=>clearTimeout(X)},[_,G,l,P.length,Y.length]),$.useEffect(()=>{if(l==="path"&&h&&u){const ee=fm(i,h,u);f(ee.found?ee.path:[])}},[i,l,h,u]),$.useEffect(()=>{const ee=a.current;if(!ee)return;const X=ee.getContext("2d");if(!X)return;Qs(X,te,K),Js(X,te,K);let ne=new Set,de=[];l==="path"&&j.length>1?de=j:l==="cycle"&&N.length>0?de=[...N,N[0]]:l==="eulerian"&&P.length>0&&(de=P.slice(0,G+1));for(let le=0;le<de.length-1;le++){const xe=`${de[le]}-${de[le+1]}`,ve=`${de[le+1]}-${de[le]}`;ne.add(xe),ne.add(ve)}for(const le of i.edges){const xe=`${le.source}-${le.target}`,ve=`${le.target}-${le.source}`,Ue=ne.has(xe)||ne.has(ve);Mn(X,le,i.nodes,{highlighted:Ue,color:Ue?l==="cycle"?ge.cycle:ge.path:void 0})}l==="path"&&j.length>1?Tl(X,j,i.nodes,ge.path):l==="cycle"&&N.length>0?S$(X,N,i.nodes,ge.cycle):l==="eulerian"&&de.length>1&&Tl(X,de,i.nodes,ge.path);for(const le of i.nodes){const xe=de.includes(le.id),ve=le.id===h||l==="eulerian"&&le.id===P[0],Ue=le.id===u||l==="eulerian"&&G>0&&le.id===P[G];en(X,le,{selected:ve||Ue,highlighted:xe||le.id===k||le.id===T,fillColor:ve?ge.path:Ue?ge.cycle:void 0})}},[i,l,j,N,P,G,h,u,k,T]);const F=$.useCallback(ee=>{const X=a.current;if(!X)return;const{x:ne,y:de}=gt(ee,X),le=Tt(ne,de,i.nodes);if(S==="addNode"){if(!le){const xe=rr(i,ne,de);r(xe)}return}if(S==="addEdge"){if(le){if(T===null)oe(le.id);else if(le.id!==T){const xe=lr(i,T,le.id);r(xe),oe(null)}}else oe(null);return}if(le){if(l==="path")h?!u&&le.id!==h?p(le.id):(d(le.id),p(null),f([])):(d(le.id),f([]));else if(l==="cycle"){const xe=zy(i,le.id);O(xe??[])}w(le.id)}},[i,l,S,h,u,T]),E=$.useCallback(ee=>{const X=a.current;if(!X)return;const{x:ne,y:de}=gt(ee,X),le=Tt(ne,de,i.nodes);if(g((le==null?void 0:le.id)??null),v&&S==="view"){const xe=ii(i,v,ne,de);r(xe)}},[i,v,S]),U=$.useCallback(()=>{w(null)},[]),D=ee=>{r(pt(ee)),L()},L=()=>{d(null),p(null),f([]),O([]),Z([]),b(0),C(!1),se([]),oe(null)},M=()=>{const ee=M$(i);ee&&(Z(ee),b(0),C(!0))},z=ee=>{if(!h)return;const X=ee==="bfs"?A$(i,h):E$(i,h);se(X.filter(ne=>ne.action==="visit").map(ne=>ne.node)),b(0),C(!0)},Q=Zs(i),R=Dy(i),H=C$(i),he=i.nodes.filter(ee=>ma(i,ee.id)%2!==0);return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${t}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Path Explorer"}),e.jsx("p",{className:"text-dark-300 mb-6",children:"Explore paths, cycles, and Eulerian circuits. Click vertices to find paths between them, or discover cycles in the graph."}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("canvas",{ref:a,width:te,height:K,className:"rounded-xl border border-dark-600",style:{cursor:k?"pointer":S==="addNode"?"crosshair":"default"},onMouseDown:F,onMouseMove:E,onMouseUp:U,onMouseLeave:()=>{w(null),g(null)}}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:[{mode:"path",label:"Find Path"},{mode:"cycle",label:"Find Cycle"},{mode:"eulerian",label:"Eulerian"}].map(({mode:ee,label:X})=>e.jsx("button",{onClick:()=>{c(ee),L()},className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${l===ee?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:X},ee))})]}),e.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Load Graph"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:F$.map(({value:ee,label:X})=>e.jsx("button",{onClick:()=>D(ee),className:"px-3 py-1.5 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:X},ee))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Edit Graph"}),e.jsx("div",{className:"flex gap-2",children:[{mode:"view",label:"View"},{mode:"addNode",label:"+ Vertex"},{mode:"addEdge",label:"+ Edge"}].map(({mode:ee,label:X})=>e.jsx("button",{onClick:()=>{A(ee),oe(null)},className:`px-3 py-1.5 rounded-lg text-sm ${S===ee?"bg-green-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:X},ee))})]}),e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Connected:"}),e.jsx("span",{className:Q?"text-green-400":"text-red-400",children:Q?"Yes":"No"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Eulerian Circuit:"}),e.jsx("span",{className:R?"text-green-400":"text-red-400",children:R?"Exists":"None"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Eulerian Path:"}),e.jsx("span",{className:H?"text-green-400":"text-red-400",children:H?"Exists":"None"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Odd-degree vertices:"}),e.jsx("span",{className:"text-dark-100",children:he.length})]})]}),l==="path"&&e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-dark-200 mb-2",children:h?u?j.length>0?`Path found: ${j.length} vertices`:"No path exists":"Click another vertex to set end":"Click a vertex to set start"}),h&&u&&e.jsxs("div",{className:"text-sm text-dark-400",children:["Path: ",j.join("  ")||"None"]}),h&&e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx("button",{onClick:()=>z("bfs"),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700",children:"Run BFS"}),e.jsx("button",{onClick:()=>z("dfs"),className:"px-3 py-1.5 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700",children:"Run DFS"})]})]}),l==="cycle"&&e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-dark-200 mb-2",children:N.length>0?`Cycle found: ${N.length} vertices`:"Click a vertex to find a cycle through it"}),N.length>0&&e.jsxs("div",{className:"text-sm text-dark-400",children:["Cycle: ",N.join("  "),"  ",N[0]]})]}),l==="eulerian"&&e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("button",{onClick:M,disabled:!R||_,className:`w-full px-4 py-2 rounded-lg text-sm font-medium ${R&&!_?"bg-green-600 text-white hover:bg-green-700":"bg-dark-600 text-dark-400 cursor-not-allowed"}`,children:_?"Animating...":"Find Eulerian Circuit"}),P.length>0&&e.jsxs("div",{className:"mt-2 text-sm text-dark-400",children:["Step ",G+1,"/",P.length]}),!R&&e.jsx("p",{className:"mt-2 text-sm text-red-400",children:"No Eulerian circuit exists (need all vertices to have even degree)"})]}),e.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Path mode:"})," Click two vertices to find path"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cycle mode:"})," Click vertex to find cycle"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Eulerian:"})," Find circuit visiting every edge once"]})]})]})]})]})}const K$=[{value:"tree",label:"Random Tree"},{value:"path",label:"Path"},{value:"complete",label:"K (not tree)"},{value:"cycle",label:"Cycle (not tree)"}];function V$({className:t="",initialGraph:n}){var z,Q;const a=$.useRef(null),[i,r]=$.useState(n??pt("tree")),[l,c]=$.useState(null),[h,d]=$.useState(new Map),[u,p]=$.useState(new Map),[j,f]=$.useState(null),[N,O]=$.useState([]),[P,Z]=$.useState(null),[G,b]=$.useState(null),[_,C]=$.useState("view"),[Y,se]=$.useState(null),[k,g]=$.useState(!1),v=600,w=400;$.useEffect(()=>{if(!l||!gm(i)){d(new Map),p(new Map);return}const R=new Map,H=new Map,he=hs(i),ee=[l];for(R.set(l,0),H.set(l,null);ee.length>0;){const X=ee.shift(),ne=R.get(X),de=he.get(X)??[];for(const le of de)R.has(le)||(R.set(le,ne+1),H.set(le,X),ee.push(le))}d(R),p(H)},[i,l]),$.useEffect(()=>{if(!j||!l){O([]);return}const R=fm(i,j,l);O(R.path)},[i,j,l]),$.useEffect(()=>{if(!k||!l||h.size===0)return;const R=Math.max(...h.values()),H=new Map;for(const[ee,X]of h)H.has(X)||H.set(X,[]),H.get(X).push(ee);const he=i.nodes.map(ee=>{const X=h.get(ee.id);if(X===void 0)return ee;const ne=H.get(X),de=ne.indexOf(ee.id),le=v/(ne.length+1);return{...ee,x:le*(de+1),y:60+X/(R||1)*300}});r({...i,nodes:he})},[k,l,h]),$.useEffect(()=>{const R=a.current;if(!R)return;const H=R.getContext("2d");if(!H)return;Qs(H,v,w),Js(H,v,w);const he=new Set;for(let X=0;X<N.length-1;X++)he.add(`${N[X]}-${N[X+1]}`),he.add(`${N[X+1]}-${N[X]}`);for(const X of i.edges){const ne=he.has(`${X.source}-${X.target}`);Mn(H,X,i.nodes,{highlighted:ne,color:ne?ge.path:void 0})}N.length>1&&Tl(H,N,i.nodes,ge.path);const ee=["#60a5fa","#34d399","#fbbf24","#f87171","#a78bfa","#f472b6"];for(const X of i.nodes){const ne=h.get(X.id),de=X.id===l,le=X.id===j,xe=X.id===G;en(H,X,{fillColor:de?ge.path:ne!==void 0?ee[ne%ee.length]:ge.node,selected:le,highlighted:xe||X.id===Y}),ne!==void 0&&!de&&(H.fillStyle=ge.textDark,H.font="10px Inter, system-ui, sans-serif",H.textAlign="center",H.fillText(`L${ne}`,X.x,X.y+28))}},[i,l,j,N,h,G,Y]);const S=$.useCallback(R=>{const H=a.current;if(!H)return;const{x:he,y:ee}=gt(R,H),X=Tt(he,ee,i.nodes);if(_==="addNode"&&!X){r(rr(i,he,ee));return}if(_==="addEdge"&&X){Y?X.id!==Y&&(r(lr(i,Y,X.id)),se(null)):se(X.id);return}if(_==="delete"&&X){r(kl(i,X.id)),l===X.id&&c(null),j===X.id&&f(null);return}X&&(R.shiftKey?(c(X.id),g(!1)):(f(X.id),Z(X.id)))},[i,_,Y,l,j]),A=$.useCallback(R=>{var X;const H=a.current;if(!H)return;const{x:he,y:ee}=gt(R,H);b(((X=Tt(he,ee,i.nodes))==null?void 0:X.id)??null),P&&_==="view"&&(r(ii(i,P,he,ee)),g(!1))},[i,P,_]),T=$.useCallback(()=>{Z(null)},[]),oe=R=>{r(pt(R)),c(null),f(null),d(new Map),p(new Map),O([]),g(!1)},te=gm(i),K=Zs(i),F=h.size>0?Math.max(...h.values()):0,E=i.nodes.filter(R=>ma(i,R.id)===1),U=new Map;if(te)for(const R of i.nodes){let H=0;for(const he of i.nodes)if(R.id!==he.id){const ee=fm(i,R.id,he.id);ee.found&&(H=Math.max(H,ee.path.length-1))}U.set(R.id,H)}const D=U.size>0?Math.min(...U.values()):0,L=U.size>0?Math.max(...U.values()):0,M=[...U.entries()].filter(([R,H])=>H===D).map(([R])=>R);return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${t}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Tree Visualizer"}),e.jsx("p",{className:"text-dark-300 mb-6",children:"Explore tree properties. Shift-click a vertex to set it as root and see the tree structure."}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("canvas",{ref:a,width:v,height:w,className:"rounded-xl border border-dark-600",style:{cursor:_==="addNode"?"crosshair":G?"pointer":"default"},onMouseDown:S,onMouseMove:A,onMouseUp:T,onMouseLeave:()=>{Z(null),b(null)}}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:[{mode:"view",label:"View"},{mode:"addNode",label:"+ Vertex"},{mode:"addEdge",label:"+ Edge"},{mode:"delete",label:"Delete"}].map(({mode:R,label:H})=>e.jsx("button",{onClick:()=>{C(R),se(null)},className:`px-3 py-2 rounded-lg text-sm font-medium ${_===R?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:H},R))})]}),e.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Load Graph"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:K$.map(({value:R,label:H})=>e.jsx("button",{onClick:()=>oe(R),className:"px-3 py-1.5 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:H},R))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:`p-3 rounded-lg ${te?"bg-green-900/30":"bg-red-900/30"}`,children:[e.jsx("div",{className:`text-lg font-bold ${te?"text-green-400":"text-red-400"}`,children:te?"Is a Tree":"Not a Tree"}),e.jsx("div",{className:"text-sm text-dark-300",children:K?i.edges.length!==i.nodes.length-1?`${i.edges.length} edges (need ${i.nodes.length-1})`:"n-1 edges, connected":"Not connected"})]}),e.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-dark-100",children:[i.nodes.length," vertices, ",i.edges.length," edges"]}),e.jsxs("div",{className:"text-sm text-dark-300",children:[E.length," leaves"]})]})]}),te&&e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Radius:"}),e.jsx("span",{className:"text-dark-100",children:D})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Diameter:"}),e.jsx("span",{className:"text-dark-100",children:L})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Center:"}),e.jsx("span",{className:"text-dark-100",children:M.map(R=>{var H;return((H=i.nodes.find(he=>he.id===R))==null?void 0:H.label)??R}).join(", ")})]}),l&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Height (from root):"}),e.jsx("span",{className:"text-dark-100",children:F})]})]}),te&&e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-medium text-dark-200 mb-2",children:["Root: ",l?((z=i.nodes.find(R=>R.id===l))==null?void 0:z.label)??l:"None (Shift-click to set)"]}),l&&e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>g(!k),className:`px-3 py-1.5 rounded-lg text-sm ${k?"bg-green-600 text-white":"bg-dark-600 text-dark-200 hover:bg-dark-500"}`,children:k?"Hierarchical Layout On":"Apply Hierarchical Layout"})})]}),j&&te&&e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-medium text-dark-200 mb-2",children:["Selected: ",((Q=i.nodes.find(R=>R.id===j))==null?void 0:Q.label)??j]}),e.jsxs("div",{className:"text-sm text-dark-300 space-y-1",children:[e.jsxs("div",{children:["Level: ",h.get(j)??"N/A"]}),e.jsxs("div",{children:["Eccentricity: ",U.get(j)??"N/A"]}),N.length>1&&e.jsxs("div",{children:["Path to root: ",N.map(R=>{var H;return((H=i.nodes.find(he=>he.id===R))==null?void 0:H.label)??R}).join("  ")]})]})]}),e.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Shift-click:"})," Set vertex as root"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Click:"})," Select vertex to see path to root"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Drag:"})," Move vertices (in view mode)"]})]})]})]})]})}class X${constructor(n){ih(this,"parent");ih(this,"rank");this.parent=new Map,this.rank=new Map;for(const a of n)this.parent.set(a,a),this.rank.set(a,0)}find(n){return this.parent.get(n)!==n&&this.parent.set(n,this.find(this.parent.get(n))),this.parent.get(n)}union(n,a){const i=this.find(n),r=this.find(a);if(i===r)return!1;const l=this.rank.get(i),c=this.rank.get(r);return l<c?this.parent.set(i,r):l>c?this.parent.set(r,i):(this.parent.set(r,i),this.rank.set(i,l+1)),!0}}function Z$(){return{nodes:[{id:"A",x:150,y:100,label:"A"},{id:"B",x:300,y:80,label:"B"},{id:"C",x:450,y:120,label:"C"},{id:"D",x:100,y:250,label:"D"},{id:"E",x:250,y:220,label:"E"},{id:"F",x:400,y:260,label:"F"},{id:"G",x:500,y:320,label:"G"},{id:"H",x:200,y:350,label:"H"}],edges:[{source:"A",target:"B",weight:4},{source:"A",target:"D",weight:2},{source:"A",target:"E",weight:3},{source:"B",target:"C",weight:5},{source:"B",target:"E",weight:1},{source:"C",target:"F",weight:6},{source:"C",target:"G",weight:4},{source:"D",target:"E",weight:3},{source:"D",target:"H",weight:5},{source:"E",target:"F",weight:2},{source:"E",target:"H",weight:4},{source:"F",target:"G",weight:3},{source:"G",target:"H",weight:6}]}}function Y$({className:t=""}){const n=$.useRef(null),[a,i]=$.useState(Z$()),[r,l]=$.useState("kruskal"),[c,h]=$.useState([]),[d,u]=$.useState(-1),[p,j]=$.useState(!1),[f,N]=$.useState("medium"),[O,P]=$.useState(new Set),[Z,G]=$.useState(null),[b,_]=$.useState(null),[C,Y]=$.useState(null),[se,k]=$.useState("view"),[g,v]=$.useState(null),[w,S]=$.useState(1),[A,T]=$.useState(null),oe=600,te=400,K={slow:1500,medium:800,fast:300},F=X=>{const ne=[],de=[...X.edges].sort((ve,Ue)=>(ve.weight??0)-(Ue.weight??0)),le=new X$(X.nodes.map(ve=>ve.id));let xe=0;for(const ve of de)ne.push({edge:ve,action:"consider",totalWeight:xe}),le.union(ve.source,ve.target)?(xe+=ve.weight??0,ne.push({edge:ve,action:"add",totalWeight:xe,reason:"Connects new component"})):ne.push({edge:ve,action:"reject",totalWeight:xe,reason:"Would create cycle"});return ne},E=(X,ne)=>{const de=[];hs(X);const le=new Set([ne]);let xe=0;for(;le.size<X.nodes.length;){let ve=null,Ue=1/0;for(const kt of X.edges){const tn=le.has(kt.source),ds=le.has(kt.target);if(tn!==ds){const Wt=kt.weight??0;de.push({edge:kt,action:"consider",totalWeight:xe}),Wt<Ue&&(Ue=Wt,ve=kt)}}if(ve){xe+=ve.weight??0;const kt=le.has(ve.source)?ve.target:ve.source;le.add(kt),de.push({edge:ve,action:"add",totalWeight:xe,reason:`Adds vertex ${kt}`})}else break}return de};$.useEffect(()=>{if(!p||d>=c.length-1){d>=c.length-1&&j(!1);return}const X=setTimeout(()=>{u(ne=>ne+1)},K[f]);return()=>clearTimeout(X)},[p,d,c.length,f]),$.useEffect(()=>{if(d<0){P(new Set),G(null);return}const X=new Set;for(let de=0;de<=d;de++){const le=c[de];le.action==="add"&&(X.add(`${le.edge.source}-${le.edge.target}`),X.add(`${le.edge.target}-${le.edge.source}`)),le.action==="consider"&&le.edge}P(X);const ne=c[d];(ne==null?void 0:ne.action)==="consider"?G(ne.edge):G(null)},[d,c]),$.useEffect(()=>{const X=n.current;if(!X)return;const ne=X.getContext("2d");if(ne){Qs(ne,oe,te),Js(ne,oe,te);for(const de of a.edges){const le=`${de.source}-${de.target}`,xe=O.has(le),ve=Z&&(de.source===Z.source&&de.target===Z.target||de.source===Z.target&&de.target===Z.source);Mn(ne,de,a.nodes,{highlighted:xe,color:xe?ge.path:ve?ge.nodeSelected:ge.edge,width:xe?4:ve?3:2,showWeight:!0})}if(se==="addEdge"&&g&&C&&C!==g){const de=a.nodes.find(xe=>xe.id===g),le=a.nodes.find(xe=>xe.id===C);de&&le&&(ne.strokeStyle=ge.nodeSelected,ne.lineWidth=2,ne.setLineDash([6,4]),ne.beginPath(),ne.moveTo(de.x,de.y),ne.lineTo(le.x,le.y),ne.stroke(),ne.setLineDash([]))}for(const de of a.nodes){const le=r==="prim"&&de.id===A;en(ne,de,{selected:le,highlighted:de.id===C||de.id===g,fillColor:le?ge.path:void 0})}}},[a,O,Z,C,g,se,r,A]);const U=$.useCallback(X=>{const ne=n.current;if(!ne)return;const{x:de,y:le}=gt(X,ne),xe=Tt(de,le,a.nodes);if(se==="addNode"&&!xe){const ve=String.fromCharCode(65+a.nodes.length);i(rr(a,de,le,ve));return}if(se==="addEdge"&&xe){g?xe.id!==g&&(i(lr(a,g,xe.id,w)),v(null)):v(xe.id);return}xe&&(X.shiftKey&&r==="prim"?T(xe.id):_(xe.id))},[a,se,g,w,r]),D=$.useCallback(X=>{var xe;const ne=n.current;if(!ne)return;const{x:de,y:le}=gt(X,ne);Y(((xe=Tt(de,le,a.nodes))==null?void 0:xe.id)??null),b&&se==="view"&&i(ii(a,b,de,le))},[a,b,se]),L=$.useCallback(()=>{_(null)},[]),M=()=>{var X;if(r==="kruskal")h(F(a));else{const ne=A??((X=a.nodes[0])==null?void 0:X.id);ne&&(T(ne),h(E(a,ne)))}u(-1),P(new Set),j(!0)},z=()=>{h([]),u(-1),P(new Set),G(null),j(!1)},Q=()=>{d<c.length-1&&u(X=>X+1)},R=()=>{d>0&&u(X=>X-1)},H=d>=0?c[d]:null,he=(H==null?void 0:H.totalWeight)??0,ee=Zs(a);return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${t}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Minimum Spanning Tree"}),e.jsx("p",{className:"text-dark-300 mb-6",children:"Watch Kruskal's or Prim's algorithm find the minimum spanning tree step by step."}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("canvas",{ref:n,width:oe,height:te,className:"rounded-xl border border-dark-600",style:{cursor:se==="addNode"?"crosshair":C?"pointer":"default"},onMouseDown:U,onMouseMove:D,onMouseUp:L,onMouseLeave:()=>{_(null),Y(null)}}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[[{mode:"view",label:"View"},{mode:"addNode",label:"+ Vertex"},{mode:"addEdge",label:"+ Edge"}].map(({mode:X,label:ne})=>e.jsx("button",{onClick:()=>{k(X),v(null)},className:`px-3 py-2 rounded-lg text-sm font-medium ${se===X?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:ne},X)),se==="addEdge"&&e.jsx("input",{type:"number",min:"1",max:"99",value:w,onChange:X=>S(parseInt(X.target.value)||1),className:"w-16 px-2 py-2 bg-dark-700 text-dark-100 rounded-lg text-sm",placeholder:"Weight"})]})]}),e.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Algorithm"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{l("kruskal"),z()},className:`px-4 py-2 rounded-lg text-sm font-medium ${r==="kruskal"?"bg-green-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:"Kruskal's"}),e.jsx("button",{onClick:()=>{l("prim"),z()},className:`px-4 py-2 rounded-lg text-sm font-medium ${r==="prim"?"bg-green-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:"Prim's"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Speed"}),e.jsx("div",{className:"flex gap-2",children:["slow","medium","fast"].map(X=>e.jsx("button",{onClick:()=>N(X),className:`px-3 py-1.5 rounded-lg text-sm capitalize ${f===X?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:X},X))})]}),e.jsxs("div",{className:"flex gap-2",children:[!p&&d<0&&e.jsx("button",{onClick:M,disabled:!ee,className:`px-4 py-2 rounded-lg text-sm font-medium ${ee?"bg-green-600 text-white hover:bg-green-700":"bg-dark-600 text-dark-400 cursor-not-allowed"}`,children:"Start Algorithm"}),(p||d>=0)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>j(!p),className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700",children:p?"Pause":"Play"}),e.jsx("button",{onClick:R,disabled:d<=0,className:"px-3 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600 disabled:opacity-50",children:" Step"}),e.jsx("button",{onClick:Q,disabled:d>=c.length-1,className:"px-3 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600 disabled:opacity-50",children:"Step "}),e.jsx("button",{onClick:z,className:"px-4 py-2 bg-red-600/20 text-red-400 rounded-lg text-sm hover:bg-red-600/30",children:"Reset"})]})]}),H&&e.jsxs("div",{className:`p-4 rounded-lg ${H.action==="add"?"bg-green-900/30":H.action==="reject"?"bg-red-900/30":"bg-yellow-900/30"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"font-medium text-dark-100",children:["Step ",d+1,"/",c.length]}),e.jsx("span",{className:`text-sm ${H.action==="add"?"text-green-400":H.action==="reject"?"text-red-400":"text-yellow-400"}`,children:H.action==="add"?"Added":H.action==="reject"?"Rejected":"Considering"})]}),e.jsxs("div",{className:"text-sm text-dark-300",children:["Edge: ",H.edge.source,"  ",H.edge.target,"(weight: ",H.edge.weight,")"]}),H.reason&&e.jsx("div",{className:"text-sm text-dark-400 mt-1",children:H.reason})]}),e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Total MST Weight:"}),e.jsx("span",{className:"text-xl font-bold text-green-400",children:he})]}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsx("span",{className:"text-dark-300",children:"Edges in MST:"}),e.jsxs("span",{className:"text-dark-100",children:[O.size/2,"/",a.nodes.length-1]})]})]}),!ee&&e.jsx("div",{className:"p-3 bg-red-900/30 rounded-lg text-red-400 text-sm",children:"Graph is not connected. MST algorithms require a connected graph."}),e.jsx("div",{className:"text-sm text-dark-400 space-y-1",children:r==="kruskal"?e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsx("strong",{children:"Kruskal's Algorithm:"})}),e.jsx("p",{children:"1. Sort edges by weight"}),e.jsx("p",{children:"2. Add edges if they don't create a cycle"}),e.jsx("p",{children:"3. Stop when n-1 edges are added"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsx("strong",{children:"Prim's Algorithm:"})}),e.jsx("p",{children:"1. Start from a vertex (Shift-click to set)"}),e.jsx("p",{children:"2. Add minimum weight edge to a new vertex"}),e.jsx("p",{children:"3. Repeat until all vertices are included"})]})})]})]})]})}function ko(t,n,a){const i=[];for(let l=0;l<t;l++)i.push({id:`L${l}`,x:150,y:80+320/(t+1)*(l+1),label:`${l+1}`,color:"#60a5fa"});for(let l=0;l<n;l++)i.push({id:`R${l}`,x:450,y:80+320/(n+1)*(l+1),label:`${String.fromCharCode(65+l)}`,color:"#f472b6"});const r=a.map(([l,c])=>({source:`L${l}`,target:`R${c}`}));return{nodes:i,edges:r}}const Tf=[{name:"Job Assignment",graph:ko(4,4,[[0,0],[0,1],[1,1],[1,2],[2,2],[2,3],[3,0],[3,3]])},{name:"Marriage Problem",graph:ko(3,3,[[0,0],[0,1],[1,0],[1,1],[1,2],[2,1],[2,2]])},{name:"Hall's Counter",graph:ko(3,2,[[0,0],[0,1],[1,0],[1,1],[2,0],[2,1]])},{name:"Perfect Matching",graph:ko(4,4,[[0,0],[0,1],[1,1],[1,2],[2,2],[2,3],[3,3],[3,0]])}];function W$({className:t=""}){var F;const n=$.useRef(null),[a,i]=$.useState(Tf[0].graph),[r,l]=$.useState(new Set),[c,h]=$.useState([]),[d,u]=$.useState(!1),[p,j]=$.useState(null),[f,N]=$.useState(null),[O,P]=$.useState(!1),[Z,G]=$.useState(new Set),b=600,_=400;$.useCallback(()=>{const E=a.nodes.filter(M=>M.id.startsWith("L"));hs(a);const U=E.find(M=>{for(const z of a.edges)if((z.source===M.id||z.target===M.id)&&r.has(`${z.source}-${z.target}`))return!1;return!0});if(!U)return null;const D=[{node:U.id,path:[U.id]}],L=new Set([U.id]);for(;D.length>0;){const{node:M,path:z}=D.shift(),Q=M.startsWith("L"),R=[];for(const H of a.edges)H.source===M&&R.push(H.target),H.target===M&&R.push(H.source);for(const H of R){if(L.has(H))continue;const he=`${M}-${H}`,ee=`${H}-${M}`,X=r.has(he)||r.has(ee);if(Q&&!X){const ne=[...z,H];if(![...r].some(le=>le.includes(H)))return ne;L.add(H),D.push({node:H,path:ne})}else!Q&&X&&(L.add(H),D.push({node:H,path:[...z,H]}))}}return null},[a,r]),$.useCallback(E=>{const U=new Set(r);for(let D=0;D<E.length-1;D++){const L=`${E[D]}-${E[D+1]}`,M=`${E[D+1]}-${E[D]}`;D%2===0?U.add(L):(U.delete(L),U.delete(M))}l(U)},[r]);const C=()=>{u(!0);let E=new Set;l(E),setTimeout(()=>{let D=!0;for(;D;){D=!1;const L=Y(E);L&&(E=se(E,L),D=!0)}l(E),u(!1)},100)},Y=E=>{const U=a.nodes.filter(D=>D.id.startsWith("L"));for(const D of U){let L=!1;for(const Q of E)if(Q.includes(D.id)){L=!0;break}if(L)continue;const M=[{node:D.id,path:[D.id]}],z=new Set([D.id]);for(;M.length>0;){const{node:Q,path:R}=M.shift(),H=Q.startsWith("L");for(const he of a.edges){let ee=null;if(he.source===Q&&(ee=he.target),he.target===Q&&(ee=he.source),!ee||z.has(ee))continue;const X=`${Q}-${ee}`,ne=`${ee}-${Q}`,de=E.has(X)||E.has(ne);if(H&&!de){const le=[...R,ee];if(![...E].some(ve=>ve.includes(ee)))return le;z.add(ee),M.push({node:ee,path:le})}else!H&&de&&(z.add(ee),M.push({node:ee,path:[...R,ee]}))}}}return null},se=(E,U)=>{const D=new Set(E);for(let L=0;L<U.length-1;L++){const M=`${U[L]}-${U[L+1]}`,z=`${U[L+1]}-${U[L]}`;L%2===0?D.add(M):(D.delete(M),D.delete(z))}return D};$.useEffect(()=>{if(!O){G(new Set);return}const E=new Set,U=new Set;for(const L of r){const[M,z]=L.split("-");U.add(z)}for(const L of U)E.add(L);const D=new Set;for(const L of r){const[M]=L.split("-");D.add(M)}for(const L of a.nodes.filter(M=>M.id.startsWith("L")))D.has(L.id)||a.edges.some(z=>z.source===L.id||z.target===L.id)&&E.add(L.id);G(E)},[O,r,a]);const k=()=>{const E=a.nodes.filter(D=>D.id.startsWith("L")),U=E.length;for(let D=1;D<1<<U;D++){const L=E.filter((z,Q)=>D&1<<Q),M=new Set;for(const z of L)for(const Q of a.edges)Q.source===z.id&&M.add(Q.target),Q.target===z.id&&M.add(Q.source);if(M.size<L.length)return{satisfied:!1,violatingSet:L.map(z=>z.id)}}return{satisfied:!0}};$.useEffect(()=>{const E=n.current;if(!E)return;const U=E.getContext("2d");if(U){Qs(U,b,_),Js(U,b,_),U.fillStyle=ge.textDark,U.font="14px Inter, system-ui, sans-serif",U.textAlign="center",U.fillText("Workers",150,50),U.fillText("Jobs",450,50);for(const D of a.edges){const L=`${D.source}-${D.target}`,M=`${D.target}-${D.source}`,z=r.has(L)||r.has(M),Q=c.length>0&&c.some((R,H)=>H<c.length-1&&(c[H]===D.source&&c[H+1]===D.target||c[H]===D.target&&c[H+1]===D.source));Mn(U,D,a.nodes,{highlighted:z,color:z?ge.matching:Q?ge.path:ge.edge,width:z?4:Q?3:2})}for(const D of a.nodes){const L=Z.has(D.id),M=c.includes(D.id);en(U,D,{highlighted:D.id===f||M,fillColor:L?ge.nodeSelected:D.color,strokeWidth:L?3:2})}}},[a,r,c,f,Z]);const g=$.useCallback(E=>{var M;const U=n.current;if(!U)return;const{x:D,y:L}=gt(E,U);N(((M=Tt(D,L,a.nodes))==null?void 0:M.id)??null)},[a]),v=$.useCallback(E=>{const U=n.current;if(!U)return;const{x:D,y:L}=gt(E,U);for(const M of a.edges){const z=a.nodes.find(ee=>ee.id===M.source),Q=a.nodes.find(ee=>ee.id===M.target);if(!z||!Q)continue;const R=(z.x+Q.x)/2,H=(z.y+Q.y)/2;if(Math.sqrt((D-R)**2+(L-H)**2)<30){const ee=`${M.source}-${M.target}`,X=`${M.target}-${M.source}`,ne=new Set(r);ne.has(ee)||ne.has(X)?(ne.delete(ee),ne.delete(X)):[...ne].some(le=>le.includes(M.source)||le.includes(M.target))||ne.add(ee),l(ne);return}}},[a,r]),w=E=>{i(E.graph),l(new Set),h([]),G(new Set)},S=()=>{l(new Set),h([])},A=r.size,T=a.nodes.filter(E=>E.id.startsWith("L")),oe=a.nodes.filter(E=>E.id.startsWith("R")),te=A===Math.min(T.length,oe.length),K=k();return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${t}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Matching Explorer"}),e.jsx("p",{className:"text-dark-300 mb-6",children:"Explore bipartite matchings. Click on edges to add/remove them from the matching, or use the algorithm to find a maximum matching."}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("canvas",{ref:n,width:b,height:_,className:"rounded-xl border border-dark-600",style:{cursor:f?"pointer":"default"},onMouseMove:g,onClick:v,onMouseLeave:()=>N(null)}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:Tf.map((E,U)=>e.jsx("button",{onClick:()=>w(E),className:"px-3 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:E.name},U))})]}),e.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-400",children:A}),e.jsx("div",{className:"text-sm text-dark-300",children:"Matching Size"})]}),e.jsxs("div",{className:`p-3 rounded-lg ${te?"bg-green-900/30":"bg-dark-700/50"}`,children:[e.jsx("div",{className:`text-lg font-bold ${te?"text-green-400":"text-dark-300"}`,children:te?"Perfect":"Not Perfect"}),e.jsx("div",{className:"text-sm text-dark-300",children:"Matching Status"})]})]}),e.jsxs("div",{className:`p-4 rounded-lg ${K.satisfied?"bg-green-900/30":"bg-red-900/30"}`,children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsxs("span",{className:`font-medium ${K.satisfied?"text-green-400":"text-red-400"}`,children:["Hall's Condition: ",K.satisfied?"Satisfied":"Violated"]})}),e.jsx("div",{className:"text-sm text-dark-300",children:K.satisfied?"For every subset S of the left partition, |N(S)|  |S|":`Violated by subset: {${(F=K.violatingSet)==null?void 0:F.map(E=>{var U;return(U=a.nodes.find(D=>D.id===E))==null?void 0:U.label}).join(", ")}}`})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:C,disabled:d,className:"px-4 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 disabled:opacity-50",children:d?"Finding...":"Find Maximum Matching"}),e.jsx("button",{onClick:S,className:"px-4 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:"Clear Matching"}),e.jsxs("button",{onClick:()=>P(!O),className:`px-4 py-2 rounded-lg text-sm ${O?"bg-amber-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:[O?"Hide":"Show"," Vertex Cover"]})]}),O&&e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Knig-Egervry Theorem"}),e.jsx("div",{className:"text-sm text-dark-300",children:"In a bipartite graph: max matching = min vertex cover"}),e.jsxs("div",{className:"mt-2 text-dark-100",children:["Vertex Cover Size: ",Z.size]})]}),e.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Click edge:"})," Toggle in matching"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Purple edges:"})," Current matching"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Yellow vertices:"})," Vertex cover"]})]})]})]})]})}function kf(){return{nodes:[{id:"s",x:80,y:200,label:"s",color:"#22c55e"},{id:"a",x:200,y:100,label:"a"},{id:"b",x:200,y:300,label:"b"},{id:"c",x:350,y:100,label:"c"},{id:"d",x:350,y:300,label:"d"},{id:"t",x:520,y:200,label:"t",color:"#ef4444"}],edges:[{source:"s",target:"a",capacity:10,flow:0,directed:!0},{source:"s",target:"b",capacity:8,flow:0,directed:!0},{source:"a",target:"c",capacity:5,flow:0,directed:!0},{source:"a",target:"d",capacity:7,flow:0,directed:!0},{source:"b",target:"a",capacity:3,flow:0,directed:!0},{source:"b",target:"d",capacity:8,flow:0,directed:!0},{source:"c",target:"t",capacity:10,flow:0,directed:!0},{source:"d",target:"c",capacity:4,flow:0,directed:!0},{source:"d",target:"t",capacity:12,flow:0,directed:!0}],source:"s",sink:"t"}}function Q$(){return{nodes:[{id:"s",x:100,y:200,label:"s",color:"#22c55e"},{id:"a",x:250,y:100,label:"a"},{id:"b",x:250,y:300,label:"b"},{id:"t",x:500,y:200,label:"t",color:"#ef4444"}],edges:[{source:"s",target:"a",capacity:5,flow:0,directed:!0},{source:"s",target:"b",capacity:4,flow:0,directed:!0},{source:"a",target:"b",capacity:3,flow:0,directed:!0},{source:"a",target:"t",capacity:6,flow:0,directed:!0},{source:"b",target:"t",capacity:5,flow:0,directed:!0}],source:"s",sink:"t"}}function J$({className:t=""}){const n=$.useRef(null),[a,i]=$.useState(kf()),[r,l]=$.useState([]),[c,h]=$.useState(-1),[d,u]=$.useState(!1),[p,j]=$.useState("medium"),[f,N]=$.useState([]),[O,P]=$.useState(!1),[Z,G]=$.useState(new Set),[b,_]=$.useState(!1),[C,Y]=$.useState(null),se=600,k=400,g={slow:1500,medium:800,fast:300},v=F=>{const E=[{node:F.source,path:[F.source]}],U=new Set([F.source]);for(;E.length>0;){const{node:D,path:L}=E.shift();for(const M of F.edges){if(M.source===D&&!U.has(M.target)&&M.capacity-M.flow>0){const Q=[...L,M.target];if(M.target===F.sink){let R=1/0;for(let H=0;H<Q.length-1;H++){const he=F.edges.find(ee=>ee.source===Q[H]&&ee.target===Q[H+1]);he&&(R=Math.min(R,he.capacity-he.flow))}return{path:Q,bottleneck:R}}U.add(M.target),E.push({node:M.target,path:Q})}if(M.target===D&&!U.has(M.source)&&M.flow>0){const z=[...L,M.source];if(M.source===F.sink){let Q=M.flow;return{path:z,bottleneck:Q}}U.add(M.source),E.push({node:M.source,path:z})}}}return null},w=()=>{u(!0);const F=[],E=JSON.parse(JSON.stringify(a));for(const z of E.edges)z.flow=0;let U=v(E);for(;U;){const{path:z,bottleneck:Q}=U;F.push({path:z,flow:Q,action:"find_path"});for(let R=0;R<z.length-1;R++){const H=E.edges.find(he=>he.source===z[R]&&he.target===z[R+1]);H&&(H.flow+=Q)}F.push({path:z,flow:Q,action:"augment"}),U=v(E)}const D=E.edges.filter(z=>z.source===E.source).reduce((z,Q)=>z+Q.flow,0);F.push({path:[],flow:D,action:"complete"}),l(F),h(-1);const L=new Set([E.source]),M=[E.source];for(;M.length>0;){const z=M.shift();for(const Q of E.edges)Q.source===z&&!L.has(Q.target)&&Q.capacity-Q.flow>0&&(L.add(Q.target),M.push(Q.target))}G(L)};$.useEffect(()=>{if(!d||c>=r.length-1){if(c>=r.length-1&&r.length>0){u(!1);const E=JSON.parse(JSON.stringify(a));for(const U of E.edges)U.flow=0;for(let U=0;U<r.length;U++){const D=r[U];if(D.action==="augment")for(let L=0;L<D.path.length-1;L++){const M=E.edges.find(z=>z.source===D.path[L]&&z.target===D.path[L+1]);M&&(M.flow+=D.flow)}}i(E)}return}const F=setTimeout(()=>{h(E=>E+1)},g[p]);return()=>clearTimeout(F)},[d,c,r.length,p]),$.useEffect(()=>{if(c<0){N([]);return}const F=r[c];if(F&&(N(F.path),F.action==="augment")){const E=JSON.parse(JSON.stringify(a));for(let U=0;U<=c;U++){const D=r[U];if(D.action==="augment")for(let L=0;L<D.path.length-1;L++){const M=E.edges.find(z=>z.source===D.path[L]&&z.target===D.path[L+1]);M&&(M.flow+=D.flow)}}i(E)}},[c,r]),$.useEffect(()=>{const F=n.current;if(!F)return;const E=F.getContext("2d");if(!E)return;Qs(E,se,k),Js(E,se,k);const U=new Set;for(let D=0;D<f.length-1;D++)U.add(`${f[D]}-${f[D+1]}`);for(const D of a.edges){const L=U.has(`${D.source}-${D.target}`),M=D.flow>=D.capacity,z=a.nodes.find(R=>R.id===D.source),Q=a.nodes.find(R=>R.id===D.target);if(z&&Q){const R=(z.x+Q.x)/2,H=(z.y+Q.y)/2;E.strokeStyle=L?ge.flow:M?"#ef4444":D.flow>0?ge.path:ge.edge,E.lineWidth=L?4:D.flow>0?3:2;const he=Q.x-z.x,ee=Q.y-z.y,X=Math.sqrt(he*he+ee*ee),ne=he/X,de=ee/X,le=z.x+ne*16,xe=z.y+de*16,ve=Q.x-ne*26,Ue=Q.y-de*26;E.beginPath(),E.moveTo(le,xe),E.lineTo(ve,Ue),E.stroke();const kt=Q.x-ne*16,tn=Q.y-de*16,ds=Math.atan2(ee,he);E.fillStyle=E.strokeStyle,E.save(),E.translate(kt,tn),E.rotate(ds),E.beginPath(),E.moveTo(0,0),E.lineTo(-10,5),E.lineTo(-10,-5),E.closePath(),E.fill(),E.restore();const Wt=15,$s=-de*Wt,qn=ne*Wt;E.fillStyle=ge.background;const Na=`${D.flow}/${D.capacity}`,zn=E.measureText(Na);E.fillRect(R+$s-zn.width/2-4,H+qn-10,zn.width+8,20),E.fillStyle=M?"#ef4444":ge.text,E.font="12px Inter, system-ui, sans-serif",E.textAlign="center",E.textBaseline="middle",E.fillText(Na,R+$s,H+qn)}}if(b&&Z.size>0){E.strokeStyle="#ef4444",E.lineWidth=3,E.setLineDash([8,4]);for(const D of a.edges)if(Z.has(D.source)&&!Z.has(D.target)){const L=a.nodes.find(z=>z.id===D.source),M=a.nodes.find(z=>z.id===D.target);L&&M&&(E.beginPath(),E.moveTo(L.x,L.y),E.lineTo(M.x,M.y),E.stroke())}E.setLineDash([])}for(const D of a.nodes){const L=f.includes(D.id),M=b&&Z.has(D.id);en(E,D,{fillColor:D.color??(M?"#22c55e40":ge.node),highlighted:L||D.id===C,strokeColor:M?"#22c55e":void 0,strokeWidth:M?3:2})}},[a,f,b,Z,C]);const S=$.useCallback(F=>{var L;const E=n.current;if(!E)return;const{x:U,y:D}=gt(F,E);Y(((L=Tt(U,D,a.nodes))==null?void 0:L.id)??null)},[a]),A=()=>{i(kf()),l([]),h(-1),N([]),G(new Set),u(!1)},T=()=>{i(Q$()),l([]),h(-1),N([]),G(new Set),u(!1)},oe=()=>{const F={...a};F.edges=F.edges.map(E=>({...E,flow:0})),i(F),l([]),h(-1),N([]),G(new Set)},te=a.edges.filter(F=>F.source===a.source).reduce((F,E)=>F+E.flow,0),K=c>=0?r[c]:null;return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${t}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Network Flow"}),e.jsx("p",{className:"text-dark-300 mb-6",children:"Visualize the Ford-Fulkerson algorithm finding maximum flow. Watch as augmenting paths are discovered and flow is pushed through the network."}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("canvas",{ref:n,width:se,height:k,className:"rounded-xl border border-dark-600",style:{cursor:C?"pointer":"default"},onMouseMove:S,onMouseLeave:()=>Y(null)}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e.jsx("button",{onClick:A,className:"px-3 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:"Complex Network"}),e.jsx("button",{onClick:T,className:"px-3 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:"Simple Network"})]})]}),e.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Animation Speed"}),e.jsx("div",{className:"flex gap-2",children:["slow","medium","fast"].map(F=>e.jsx("button",{onClick:()=>j(F),className:`px-3 py-1.5 rounded-lg text-sm capitalize ${p===F?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:F},F))})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:w,disabled:d,className:"px-4 py-2 bg-cyan-600 text-white rounded-lg text-sm font-medium hover:bg-cyan-700 disabled:opacity-50",children:d?"Running...":"Run Ford-Fulkerson"}),e.jsx("button",{onClick:oe,className:"px-4 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:"Clear Flows"}),e.jsxs("button",{onClick:()=>_(!b),disabled:Z.size===0,className:`px-4 py-2 rounded-lg text-sm ${b?"bg-red-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600 disabled:opacity-50"}`,children:[b?"Hide":"Show"," Min-Cut"]})]}),K&&e.jsxs("div",{className:`p-4 rounded-lg ${K.action==="complete"?"bg-green-900/30":K.action==="augment"?"bg-cyan-900/30":"bg-yellow-900/30"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-dark-100",children:K.action==="complete"?"Complete!":K.action==="augment"?"Augmenting...":"Found Path"}),e.jsxs("span",{className:"text-sm text-dark-300",children:["Step ",c+1,"/",r.length]})]}),K.path.length>0&&e.jsxs("div",{className:"text-sm text-dark-300",children:["Path: ",K.path.join("  ")]}),K.action!=="complete"&&e.jsxs("div",{className:"text-sm text-cyan-400 mt-1",children:["Bottleneck: ",K.flow]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:te}),e.jsx("div",{className:"text-sm text-dark-300",children:"Total Flow"})]}),e.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-dark-100",children:Z.size>0?te:""}),e.jsx("div",{className:"text-sm text-dark-300",children:"Min-Cut Value"})]})]}),e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Max-Flow Min-Cut Theorem"}),e.jsx("div",{className:"text-sm text-dark-300",children:"The maximum flow equals the minimum cut capacity. The green vertices show the source side of the minimum cut."})]}),e.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-green-400",children:""})," Source vertex"]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-red-400",children:""})," Sink vertex"]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-cyan-400",children:""})," Current augmenting path"]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-red-400",children:""})," Saturated edge (flow = capacity)"]})]})]})]})]})}const od=["#ef4444","#22c55e","#3b82f6","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#84cc16"],eG=[{value:"petersen",label:"Petersen",expectedChromatic:3},{value:"K5",label:"K",expectedChromatic:5},{value:"cycle",label:"C (even)",expectedChromatic:2},{value:"cube",label:"Cube (Q)",expectedChromatic:2},{value:"K33",label:"K,",expectedChromatic:2},{value:"complete",label:"K",expectedChromatic:4}];function tG({className:t=""}){const n=$.useRef(null),[a,i]=$.useState(pt("petersen")),[r,l]=$.useState(new Map),[c,h]=$.useState(new Set),[d,u]=$.useState([]),[p,j]=$.useState(-1),[f,N]=$.useState(!1),[O,P]=$.useState("medium"),[Z,G]=$.useState(null),[b,_]=$.useState(null),[C,Y]=$.useState("color"),[se,k]=$.useState(null),[g,v]=$.useState(0),w=600,S=400,A={slow:1e3,medium:500,fast:200};$.useEffect(()=>{const R=new Set,H=hs(a);for(const he of a.nodes){const ee=r.get(he.id);if(ee===void 0)continue;const X=H.get(he.id)??[];for(const ne of X)r.get(ne)===ee&&(R.add(he.id),R.add(ne))}h(R)},[a,r]);const T=()=>{const R=[],H=hs(a),he=[...a.nodes].sort((X,ne)=>{var de,le;return(((de=H.get(ne.id))==null?void 0:de.length)??0)-(((le=H.get(X.id))==null?void 0:le.length)??0)}),ee=new Map;for(const X of he){const ne=new Set,de=H.get(X.id)??[];for(const xe of de){const ve=ee.get(xe);ve!==void 0&&ne.add(ve)}let le=0;for(;ne.has(le);)le++;ee.set(X.id,le),R.push({node:X.id,color:le,action:"color"})}return R};$.useEffect(()=>{if(!f||p>=d.length-1){p>=d.length-1&&N(!1);return}const R=setTimeout(()=>{j(H=>H+1)},A[O]);return()=>clearTimeout(R)},[f,p,d.length,O]),$.useEffect(()=>{if(p<0)return;const R=new Map;for(let H=0;H<=p;H++){const he=d[H];he.action==="color"&&R.set(he.node,he.color)}l(R)},[p,d]),$.useEffect(()=>{var he;const R=n.current;if(!R)return;const H=R.getContext("2d");if(H){Qs(H,w,S),Js(H,w,S);for(const ee of a.edges){const X=r.get(ee.source),ne=r.get(ee.target),de=X!==void 0&&ne!==void 0&&X===ne;Mn(H,ee,a.nodes,{color:de?"#ef4444":ge.edge,width:de?3:2})}if(C==="addEdge"&&se&&Z&&Z!==se){const ee=a.nodes.find(ne=>ne.id===se),X=a.nodes.find(ne=>ne.id===Z);ee&&X&&(H.strokeStyle=ge.nodeSelected,H.lineWidth=2,H.setLineDash([6,4]),H.beginPath(),H.moveTo(ee.x,ee.y),H.lineTo(X.x,X.y),H.stroke(),H.setLineDash([]))}for(const ee of a.nodes){const X=r.get(ee.id),ne=c.has(ee.id),de=((he=d[p])==null?void 0:he.node)===ee.id;en(H,ee,{fillColor:X!==void 0?od[X%od.length]:"#475569",highlighted:ee.id===Z||ee.id===se||de,strokeColor:ne?"#ef4444":de?"#fbbf24":void 0,strokeWidth:ne||de?4:2})}}},[a,r,c,Z,se,C,d,p]);const oe=$.useCallback(R=>{const H=n.current;if(!H)return;const{x:he,y:ee}=gt(R,H),X=Tt(he,ee,a.nodes);if(C==="addNode"&&!X){i(rr(a,he,ee));return}if(C==="addEdge"&&X){se?X.id!==se&&(i(lr(a,se,X.id)),k(null)):k(X.id);return}if(C==="delete"&&X){i(kl(a,X.id));const ne=new Map(r);ne.delete(X.id),l(ne);return}if(C==="color"&&X){if(R.shiftKey){const ne=new Map(r);ne.delete(X.id),l(ne)}else{const ne=new Map(r);ne.set(X.id,g),l(ne)}return}X&&_(X.id)},[a,r,C,se,g]),te=$.useCallback(R=>{var X;const H=n.current;if(!H)return;const{x:he,y:ee}=gt(R,H);G(((X=Tt(he,ee,a.nodes))==null?void 0:X.id)??null),b&&i(ii(a,b,he,ee))},[a,b]),K=$.useCallback(()=>{_(null)},[]),F=()=>{l(new Map),u(T()),j(-1),N(!0)},E=R=>{i(pt(R)),l(new Map),u([]),j(-1)},U=()=>{l(new Map),u([]),j(-1),N(!1)},L=new Set(r.values()).size,M=Math.max(...a.nodes.map(R=>ma(a,R.id)),0),z=c.size===0&&r.size===a.nodes.length,Q=L<=Math.max(M,1);return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${t}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Graph Coloring"}),e.jsx("p",{className:"text-dark-300 mb-6",children:"Color vertices so no adjacent vertices share the same color. Click a vertex to assign the selected color, or run the greedy algorithm."}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("canvas",{ref:n,width:w,height:S,className:"rounded-xl border border-dark-600",style:{cursor:C==="addNode"?"crosshair":Z?"pointer":"default"},onMouseDown:oe,onMouseMove:te,onMouseUp:K,onMouseLeave:()=>{_(null),G(null)}}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Color Palette"}),e.jsx("div",{className:"flex gap-2",children:od.slice(0,6).map((R,H)=>e.jsx("button",{onClick:()=>{v(H),Y("color")},className:`w-10 h-10 rounded-lg border-2 transition-all ${g===H&&C==="color"?"border-white scale-110":"border-dark-600 hover:border-dark-400"}`,style:{backgroundColor:R}},H))})]}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:[{mode:"color",label:"Color"},{mode:"addNode",label:"+ Vertex"},{mode:"addEdge",label:"+ Edge"},{mode:"delete",label:"Delete"}].map(({mode:R,label:H})=>e.jsx("button",{onClick:()=>{Y(R),k(null)},className:`px-3 py-2 rounded-lg text-sm font-medium ${C===R?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:H},R))})]}),e.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Load Graph"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:eG.map(({value:R,label:H})=>e.jsx("button",{onClick:()=>E(R),className:"px-3 py-1.5 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:H},R))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Animation Speed"}),e.jsx("div",{className:"flex gap-2",children:["slow","medium","fast"].map(R=>e.jsx("button",{onClick:()=>P(R),className:`px-3 py-1.5 rounded-lg text-sm capitalize ${O===R?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:R},R))})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:F,disabled:f,className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50",children:f?"Running...":"Run Greedy Algorithm"}),e.jsx("button",{onClick:U,className:"px-4 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:"Clear Colors"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:`p-3 rounded-lg ${z?"bg-green-900/30":c.size>0?"bg-red-900/30":"bg-dark-700/50"}`,children:[e.jsx("div",{className:`text-2xl font-bold ${z?"text-green-400":c.size>0?"text-red-400":"text-dark-100"}`,children:L}),e.jsx("div",{className:"text-sm text-dark-300",children:"Colors Used"})]}),e.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-dark-100",children:M}),e.jsx("div",{className:"text-sm text-dark-300",children:"Max Degree ()"})]})]}),e.jsx("div",{className:`p-4 rounded-lg ${z?"bg-green-900/30":c.size>0?"bg-red-900/30":"bg-dark-700/50"}`,children:e.jsx("div",{className:`font-medium ${z?"text-green-400":c.size>0?"text-red-400":"text-dark-200"}`,children:z?"Valid Coloring!":c.size>0?`${c.size} vertices in conflict`:`${a.nodes.length-r.size} vertices uncolored`})}),e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Brooks' Theorem"}),e.jsx("div",{className:"text-sm text-dark-300",children:"For connected graphs (not complete or odd cycles): (G)  (G)"}),e.jsxs("div",{className:"mt-2 text-sm",children:[e.jsx("span",{className:"text-dark-300",children:"Current:"})," ",e.jsxs("span",{className:Q?"text-green-400":"text-amber-400",children:[L," colors   = ",M]})]})]}),e.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Click vertex:"})," Assign selected color"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Shift-click:"})," Remove color"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Red edges:"})," Adjacent same-color vertices"]})]})]})]})]})}const _f=[{name:"Tetrahedron (K)",graph:nG()},{name:"Cube (Q)",graph:pt("cube")},{name:"Octahedron",graph:aG()},{name:"Dodecahedron",graph:pt("dodecahedron")},{name:"K",graph:pt("complete")},{name:"Petersen",graph:pt("petersen")}],sG=[{name:"K",graph:pt("K5")},{name:"K,",graph:pt("K33")}];function nG(){return{nodes:[{id:"0",x:300,y:80,label:"1"},{id:"1",x:150,y:300,label:"2"},{id:"2",x:450,y:300,label:"3"},{id:"3",x:300,y:220,label:"4"}],edges:[{source:"0",target:"1"},{source:"0",target:"2"},{source:"0",target:"3"},{source:"1",target:"2"},{source:"1",target:"3"},{source:"2",target:"3"}]}}function aG(){return{nodes:[{id:"0",x:300,y:60,label:"1"},{id:"1",x:150,y:200,label:"2"},{id:"2",x:300,y:200,label:"3"},{id:"3",x:450,y:200,label:"4"},{id:"4",x:225,y:340,label:"5"},{id:"5",x:375,y:340,label:"6"}],edges:[{source:"0",target:"1"},{source:"0",target:"2"},{source:"0",target:"3"},{source:"1",target:"2"},{source:"2",target:"3"},{source:"1",target:"4"},{source:"2",target:"4"},{source:"2",target:"5"},{source:"3",target:"5"},{source:"4",target:"5"},{source:"1",target:"5"},{source:"3",target:"4"}]}}function iG({className:t=""}){const n=$.useRef(null),[a,i]=$.useState(_f[0].graph),[r,l]=$.useState(null),[c,h]=$.useState(null),[d,u]=$.useState("view"),[p,j]=$.useState(null),[f,N]=$.useState(!1),[O,P]=$.useState(0),Z=600,G=400;$.useEffect(()=>{let oe=0;for(let te=0;te<a.edges.length;te++)for(let K=te+1;K<a.edges.length;K++){const F=a.edges[te],E=a.edges[K];if(F.source===E.source||F.source===E.target||F.target===E.source||F.target===E.target)continue;const U=a.nodes.find(z=>z.id===F.source),D=a.nodes.find(z=>z.id===F.target),L=a.nodes.find(z=>z.id===E.source),M=a.nodes.find(z=>z.id===E.target);U&&D&&L&&M&&b(U,D,L,M)&&oe++}P(oe)},[a]);function b(oe,te,K,F){const E=_(K,F,oe),U=_(K,F,te),D=_(oe,te,K),L=_(oe,te,F);return(E>0&&U<0||E<0&&U>0)&&(D>0&&L<0||D<0&&L>0)}function _(oe,te,K){return(K.x-oe.x)*(te.y-oe.y)-(te.x-oe.x)*(K.y-oe.y)}const C=a.nodes.length,Y=a.edges.length,se=Zs(a)&&O===0?2-C+Y:null;$.useEffect(()=>{const oe=n.current;if(!oe)return;const te=oe.getContext("2d");if(!te)return;Qs(te,Z,G),Js(te,Z,G);const K=new Set;for(let F=0;F<a.edges.length;F++)for(let E=F+1;E<a.edges.length;E++){const U=a.edges[F],D=a.edges[E];if(U.source===D.source||U.source===D.target||U.target===D.source||U.target===D.target)continue;const L=a.nodes.find(R=>R.id===U.source),M=a.nodes.find(R=>R.id===U.target),z=a.nodes.find(R=>R.id===D.source),Q=a.nodes.find(R=>R.id===D.target);L&&M&&z&&Q&&b(L,M,z,Q)&&(K.add(F),K.add(E))}if(a.edges.forEach((F,E)=>{const U=K.has(E);Mn(te,F,a.nodes,{color:U?"#ef4444":ge.edge,width:U?3:2})}),O>0)for(let F=0;F<a.edges.length;F++)for(let E=F+1;E<a.edges.length;E++){const U=a.edges[F],D=a.edges[E];if(U.source===D.source||U.source===D.target||U.target===D.source||U.target===D.target)continue;const L=a.nodes.find(R=>R.id===U.source),M=a.nodes.find(R=>R.id===U.target),z=a.nodes.find(R=>R.id===D.source),Q=a.nodes.find(R=>R.id===D.target);if(L&&M&&z&&Q&&b(L,M,z,Q)){const R=k(L,M,z,Q);R&&(te.beginPath(),te.arc(R.x,R.y,6,0,Math.PI*2),te.fillStyle="#ef4444",te.fill())}}if(d==="addEdge"&&p&&r&&r!==p){const F=a.nodes.find(U=>U.id===p),E=a.nodes.find(U=>U.id===r);F&&E&&(te.strokeStyle=ge.nodeSelected,te.lineWidth=2,te.setLineDash([6,4]),te.beginPath(),te.moveTo(F.x,F.y),te.lineTo(E.x,E.y),te.stroke(),te.setLineDash([]))}for(const F of a.nodes)en(te,F,{highlighted:F.id===r||F.id===p})},[a,r,p,d,O]);function k(oe,te,K,F){const E=oe.x,U=oe.y,D=te.x,L=te.y,M=K.x,z=K.y,Q=F.x,R=F.y,H=(E-D)*(z-R)-(U-L)*(M-Q);if(Math.abs(H)<1e-4)return null;const he=((E-M)*(z-R)-(U-z)*(M-Q))/H;return{x:E+he*(D-E),y:U+he*(L-U)}}const g=$.useCallback(oe=>{const te=n.current;if(!te)return;const{x:K,y:F}=gt(oe,te),E=Tt(K,F,a.nodes);if(d==="addNode"&&!E){i(rr(a,K,F));return}if(d==="addEdge"&&E){p?E.id!==p&&(i(lr(a,p,E.id)),j(null)):j(E.id);return}if(d==="delete"&&E){i(kl(a,E.id));return}E&&h(E.id)},[a,d,p]),v=$.useCallback(oe=>{var E;const te=n.current;if(!te)return;const{x:K,y:F}=gt(oe,te);l(((E=Tt(K,F,a.nodes))==null?void 0:E.id)??null),c&&i(ii(a,c,K,F))},[a,c]),w=$.useCallback(()=>{h(null)},[]),S=oe=>{i(oe.graph),j(null)},A=O===0,T=C<=2||Y<=3*C-6;return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${t}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Planarity Tester"}),e.jsx("p",{className:"text-dark-300 mb-6",children:"Test graph planarity by dragging vertices to eliminate edge crossings. A planar embedding has no crossing edges."}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("canvas",{ref:n,width:Z,height:G,className:"rounded-xl border border-dark-600",style:{cursor:d==="addNode"?"crosshair":r?"grab":"default"},onMouseDown:g,onMouseMove:v,onMouseUp:w,onMouseLeave:()=>{h(null),l(null)}}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:[{mode:"view",label:"View/Drag"},{mode:"addNode",label:"+ Vertex"},{mode:"addEdge",label:"+ Edge"},{mode:"delete",label:"Delete"}].map(({mode:oe,label:te})=>e.jsx("button",{onClick:()=>{u(oe),j(null)},className:`px-3 py-2 rounded-lg text-sm font-medium ${d===oe?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:te},oe))})]}),e.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Planar Graphs"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:_f.map((oe,te)=>e.jsx("button",{onClick:()=>S(oe),className:"px-3 py-1.5 bg-green-900/30 text-green-300 rounded-lg text-sm hover:bg-green-900/50",children:oe.name},te))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Non-Planar Graphs"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:sG.map((oe,te)=>e.jsx("button",{onClick:()=>S(oe),className:"px-3 py-1.5 bg-red-900/30 text-red-300 rounded-lg text-sm hover:bg-red-900/50",children:oe.name},te))})]}),e.jsxs("div",{className:`p-4 rounded-lg ${A?"bg-green-900/30":"bg-red-900/30"}`,children:[e.jsx("div",{className:`text-xl font-bold ${A?"text-green-400":"text-red-400"}`,children:A?"Planar Embedding!":`${O} Edge Crossing${O!==1?"s":""}`}),e.jsx("div",{className:"text-sm text-dark-300 mt-1",children:A?"No edges cross in this drawing":"Drag vertices to try to eliminate crossings"})]}),e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Euler's Formula: V - E + F = 2"}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-blue-400",children:C}),e.jsx("div",{className:"text-xs text-dark-400",children:"Vertices"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-green-400",children:Y}),e.jsx("div",{className:"text-xs text-dark-400",children:"Edges"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-amber-400",children:se??"?"}),e.jsx("div",{className:"text-xs text-dark-400",children:"Faces"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-dark-100",children:"= 2"}),e.jsx("div",{className:"text-xs text-dark-400",children:""})]})]}),se!==null&&e.jsxs("div",{className:"mt-2 text-sm text-dark-300",children:[C," - ",Y," + ",se," = ",C-Y+se]})]}),e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Planarity Bounds"}),e.jsx("div",{className:"text-sm text-dark-300 space-y-1",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"E  3V - 6:"}),e.jsxs("span",{className:T?"text-green-400":"text-red-400",children:[Y,"  ",3*C-6," (",T?"Possible":"Too many edges",")"]})]})})]}),e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Kuratowski's Theorem"}),e.jsx("div",{className:"text-sm text-dark-300",children:"A graph is planar if and only if it contains no subdivision of K or K,."})]}),e.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Drag vertices:"})," Rearrange to eliminate crossings"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Red dots:"})," Edge crossing points"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Goal:"})," Find a planar embedding (0 crossings)"]})]})]})]})]})}function rG(){return{nodes:[{id:"0",x:300,y:60,label:"1"},{id:"1",x:150,y:150,label:"2"},{id:"2",x:450,y:150,label:"3"},{id:"3",x:100,y:280,label:"4"},{id:"4",x:250,y:220,label:"5"},{id:"5",x:350,y:220,label:"6"},{id:"6",x:500,y:280,label:"7"},{id:"7",x:180,y:350,label:"8"},{id:"8",x:300,y:320,label:"9"},{id:"9",x:420,y:350,label:"10"},{id:"10",x:300,y:380,label:"11"}],edges:[{source:"0",target:"1"},{source:"0",target:"2"},{source:"1",target:"3"},{source:"1",target:"4"},{source:"2",target:"5"},{source:"2",target:"6"},{source:"3",target:"7"},{source:"3",target:"4"},{source:"4",target:"5"},{source:"4",target:"8"},{source:"5",target:"6"},{source:"5",target:"8"},{source:"6",target:"9"},{source:"7",target:"8"},{source:"7",target:"10"},{source:"8",target:"9"},{source:"8",target:"10"},{source:"9",target:"10"}]}}const Sf=[{name:"Cube (Q)",graph:pt("cube"),hasHamilton:!0},{name:"Petersen",graph:pt("petersen"),hasHamilton:!1},{name:"Dodecahedron",graph:pt("dodecahedron"),hasHamilton:!0},{name:"K",graph:pt("K5"),hasHamilton:!0},{name:"Herschel",graph:rG(),hasHamilton:!1},{name:"Cycle (C)",graph:pt("cycle"),hasHamilton:!0}];function lG({className:t=""}){var U;const n=$.useRef(null),[a,i]=$.useState(Sf[0].graph),[r,l]=$.useState([]),[c,h]=$.useState(!1),[d,u]=$.useState(null),[p,j]=$.useState(null),[f,N]=$.useState(null),[O,P]=$.useState("medium"),[Z,G]=$.useState("manual"),[b,_]=$.useState(!0),C=600,Y=400,se={slow:300,medium:100,fast:20},k=Math.min(...a.nodes.map(D=>ma(a,D.id))),g=k>=a.nodes.length/2,w=(()=>{const D=a.nodes.length;for(let L=0;L<a.nodes.length;L++)for(let M=L+1;M<a.nodes.length;M++){const z=a.nodes[L].id,Q=a.nodes[M].id;if(!fn(a,z,Q)&&ma(a,z)+ma(a,Q)<D)return!1}return!0})();r.length===a.nodes.length&&r.length>2&&fn(a,r[r.length-1],r[0]);const A=async()=>{h(!0),u(null),l([]);const D=hs(a),L=new Set;let M=!1,z=[];const Q=async(R,H)=>{if(!c)return!1;if(H.push(R),L.add(R),l([...H]),await new Promise(ee=>setTimeout(ee,se[O])),H.length===a.nodes.length&&(!b||fn(a,R,H[0])))return z=[...H],!0;const he=D.get(R)??[];for(const ee of he)if(!L.has(ee)&&await Q(ee,H))return!0;return H.pop(),L.delete(R),l([...H]),!1};for(const R of a.nodes)if(L.clear(),await Q(R.id,[])){M=!0;break}l(z),u(M?"found":"none"),h(!1)},T=D=>{if(r.length===0){l([D]);return}const L=r[r.length-1];if(D===r[0]&&r.length>2&&fn(a,L,D)){u("found");return}if(!r.includes(D)&&fn(a,L,D)){const M=[...r,D];l(M),M.length===a.nodes.length&&(!b||fn(a,D,M[0]))&&u("found")}},oe=()=>{l([]),u(null),h(!1)};$.useEffect(()=>{const D=n.current;if(!D)return;const L=D.getContext("2d");if(!L)return;Qs(L,C,Y),Js(L,C,Y);const M=new Set;for(let z=0;z<r.length-1;z++)M.add(`${r[z]}-${r[z+1]}`),M.add(`${r[z+1]}-${r[z]}`);d==="found"&&r.length>2&&fn(a,r[r.length-1],r[0])&&(M.add(`${r[r.length-1]}-${r[0]}`),M.add(`${r[0]}-${r[r.length-1]}`));for(const z of a.edges){const Q=M.has(`${z.source}-${z.target}`);Mn(L,z,a.nodes,{highlighted:Q,color:Q?ge.path:ge.edge,width:Q?4:2})}if(r.length>1){const z=d==="found"&&b&&r.length>2&&fn(a,r[r.length-1],r[0])?[...r,r[0]]:r;Tl(L,z,a.nodes,ge.path)}for(const z of a.nodes){const Q=r.indexOf(z.id),R=Q===0,H=Q===r.length-1&&r.length>0,he=Q>=0;en(L,z,{fillColor:R?"#22c55e":H?"#f59e0b":he?ge.path:ge.node,highlighted:z.id===p,strokeWidth:he?3:2}),he&&(L.fillStyle="#ffffff",L.font="bold 10px Inter, system-ui, sans-serif",L.textAlign="center",L.textBaseline="middle",L.fillText(`${Q+1}`,z.x,z.y+26))}},[a,r,p,d,b]);const te=$.useCallback(D=>{const L=n.current;if(!L)return;const{x:M,y:z}=gt(D,L),Q=Tt(M,z,a.nodes);Q&&(Z==="manual"&&!c?T(Q.id):N(Q.id))},[a,Z,c,r,b]),K=$.useCallback(D=>{var Q;const L=n.current;if(!L)return;const{x:M,y:z}=gt(D,L);j(((Q=Tt(M,z,a.nodes))==null?void 0:Q.id)??null),f&&i(ii(a,f,M,z))},[a,f]),F=$.useCallback(()=>{N(null)},[]),E=D=>{i(D.graph),oe()};return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${t}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Hamiltonian Finder"}),e.jsx("p",{className:"text-dark-300 mb-6",children:"Find Hamiltonian paths and cycles. Click vertices to build a path manually, or use the algorithm to search automatically."}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("canvas",{ref:n,width:C,height:Y,className:"rounded-xl border border-dark-600",style:{cursor:p?"pointer":"default"},onMouseDown:te,onMouseMove:K,onMouseUp:F,onMouseLeave:()=>{N(null),j(null)}}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx("button",{onClick:()=>{G("manual"),oe()},className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium ${Z==="manual"?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:"Manual Mode"}),e.jsx("button",{onClick:()=>{G("auto"),oe()},className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium ${Z==="auto"?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:"Auto Search"})]})]}),e.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Load Graph"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Sf.map((D,L)=>e.jsx("button",{onClick:()=>E(D),className:`px-3 py-1.5 rounded-lg text-sm ${D.hasHamilton?"bg-green-900/30 text-green-300 hover:bg-green-900/50":"bg-red-900/30 text-red-300 hover:bg-red-900/50"}`,children:D.name},L))})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:D=>_(D.target.checked),className:"w-4 h-4 rounded"}),e.jsx("span",{className:"text-sm text-dark-200",children:"Find Cycle (not just path)"})]}),Z==="auto"&&e.jsx("div",{className:"flex gap-2",children:["slow","medium","fast"].map(D=>e.jsx("button",{onClick:()=>P(D),className:`px-2 py-1 rounded text-xs capitalize ${O===D?"bg-blue-600 text-white":"bg-dark-700 text-dark-200"}`,children:D},D))})]}),e.jsxs("div",{className:"flex gap-2",children:[Z==="auto"&&e.jsx("button",{onClick:A,disabled:c,className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50",children:c?"Searching...":`Find Hamiltonian ${b?"Cycle":"Path"}`}),e.jsx("button",{onClick:oe,className:"px-4 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:"Reset Path"})]}),e.jsxs("div",{className:`p-4 rounded-lg ${d==="found"?"bg-green-900/30":d==="none"?"bg-red-900/30":"bg-dark-700/50"}`,children:[e.jsx("div",{className:`font-medium ${d==="found"?"text-green-400":d==="none"?"text-red-400":"text-dark-200"}`,children:d==="found"?`Hamiltonian ${b?"Cycle":"Path"} Found!`:d==="none"?`No Hamiltonian ${b?"Cycle":"Path"} Exists`:`Path: ${r.length}/${a.nodes.length} vertices`}),r.length>0&&e.jsxs("div",{className:"text-sm text-dark-300 mt-1",children:[r.map(D=>{var L;return((L=a.nodes.find(M=>M.id===D))==null?void 0:L.label)??D}).join("  "),d==="found"&&b?`  ${((U=a.nodes.find(D=>D.id===r[0]))==null?void 0:U.label)??r[0]}`:""]})]}),e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg space-y-3",children:[e.jsx("div",{className:"text-sm font-medium text-dark-200",children:"Sufficient Conditions"}),e.jsxs("div",{className:`text-sm ${g?"text-green-400":"text-dark-400"}`,children:[e.jsx("strong",{children:"Dirac's Theorem:"})," (G)  n/2",e.jsxs("div",{className:"text-dark-400",children:["Min degree: ",k,", n/2 = ",(a.nodes.length/2).toFixed(1),g&&"  Hamiltonian cycle exists"]})]}),e.jsxs("div",{className:`text-sm ${w?"text-green-400":"text-dark-400"}`,children:[e.jsx("strong",{children:"Ore's Theorem:"})," deg(u) + deg(v)  n for non-adjacent u,v",e.jsx("div",{className:"text-dark-400",children:w?" Condition satisfied - Hamiltonian cycle exists":" Condition not satisfied"})]})]}),e.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Green vertex:"})," Path start"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amber vertex:"})," Current end"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Manual:"})," Click vertices to extend path"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Auto:"})," Backtracking search algorithm"]})]})]})]})]})}function oG({className:t=""}){const n=$.useRef(null),[a,i]=$.useState(12),[r,l]=$.useState(.3),[c,h]=$.useState({nodes:[],edges:[]}),[d,u]=$.useState(!1),[p,j]=$.useState(0),[f,N]=$.useState(null),[O,P]=$.useState(null),[Z,G]=$.useState([]),b=600,_=400,C=$.useCallback((M,z)=>{const Q=[],R=[];for(let H=0;H<M;H++){const he=2*Math.PI*H/M-Math.PI/2,ee=Math.min(b,_)*.35;Q.push({id:`${H}`,x:b/2+ee*Math.cos(he),y:_/2+ee*Math.sin(he),label:`${H+1}`})}for(let H=0;H<M;H++)for(let he=H+1;he<M;he++)Math.random()<z&&R.push({source:`${H}`,target:`${he}`});return{nodes:Q,edges:R}},[]),Y=$.useCallback(()=>{const M=C(a,r);h(M);const z=Zs(M);G(Q=>[...Q.slice(-19),{p:r,connected:z,edges:M.edges.length}])},[a,r,C]);$.useEffect(()=>{Y()},[]);const se=async()=>{u(!0),G([]);for(let M=0;M<=1.05;M+=.05){M>1&&(M=1),j(M);const z=C(a,M);h(z);const Q=Zs(z);G(R=>[...R,{p:M,connected:Q,edges:z.edges.length}]),await new Promise(R=>setTimeout(R,200))}u(!1)},k=Zs(c),g=qy(c),v=g.length>0?g.reduce((M,z)=>M+z,0)/g.length:0,w=zy(c)!==null,S=gm(c),A=a*(a-1)/2*r,T=(a-1)*r,oe=Math.log(a)/a,te=1/a,K=1/a,F=$.useCallback((M,z,Q)=>{h(R=>({...R,nodes:R.nodes.map(H=>H.id===M?{...H,x:z,y:Q}:H)}))},[]);$.useEffect(()=>{const M=n.current;if(!M)return;const z=M.getContext("2d");if(z){Qs(z,b,_),Js(z,b,_);for(const Q of c.edges)Mn(z,Q,c.nodes);for(const Q of c.nodes)en(z,Q,{highlighted:Q.id===f})}},[c,f]);const E=$.useCallback(M=>{const z=n.current;if(!z)return;const{x:Q,y:R}=gt(M,z),H=Tt(Q,R,c.nodes);H&&P(H.id)},[c]),U=$.useCallback(M=>{var H;const z=n.current;if(!z)return;const{x:Q,y:R}=gt(M,z);N(((H=Tt(Q,R,c.nodes))==null?void 0:H.id)??null),O&&F(O,Q,R)},[c,O,F]),D=$.useCallback(()=>{P(null)},[]),L=Z.filter(M=>M.connected).length;return Z.length>0&&L/Z.length,e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${t}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Random Graph Generator"}),e.jsx("p",{className:"text-dark-300 mb-6",children:"Generate Erds-Rnyi random graphs G(n,p). Each edge appears independently with probability p."}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("canvas",{ref:n,width:b,height:_,className:"rounded-xl border border-dark-600",style:{cursor:f?"grab":"default"},onMouseDown:E,onMouseMove:U,onMouseUp:D,onMouseLeave:()=>{P(null),N(null)}}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:["Vertices (n): ",a]}),e.jsx("input",{type:"range",min:"4",max:"30",value:a,onChange:M=>i(parseInt(M.target.value)),className:"w-full",disabled:d})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:["Edge Probability (p): ",(d?p:r).toFixed(2)]}),e.jsx("input",{type:"range",min:"0",max:"100",value:r*100,onChange:M=>l(parseInt(M.target.value)/100),className:"w-full",disabled:d})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:Y,disabled:d,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:"Generate"}),e.jsx("button",{onClick:se,disabled:d,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 disabled:opacity-50",children:d?"Animating...":"Animate Evolution"})]})]})]}),e.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:`p-3 rounded-lg ${k?"bg-green-900/30":"bg-red-900/30"}`,children:[e.jsx("div",{className:`text-lg font-bold ${k?"text-green-400":"text-red-400"}`,children:k?"Connected":"Disconnected"}),e.jsx("div",{className:"text-sm text-dark-300",children:"Connectivity"})]}),e.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-400",children:c.edges.length}),e.jsxs("div",{className:"text-sm text-dark-300",children:["Edges (E[m] = ",A.toFixed(1),")"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-dark-100",children:v.toFixed(2)}),e.jsxs("div",{className:"text-sm text-dark-300",children:["Avg Degree (E[d] = ",T.toFixed(2),")"]})]}),e.jsxs("div",{className:`p-3 rounded-lg ${w?"bg-amber-900/30":"bg-dark-700/50"}`,children:[e.jsx("div",{className:`text-lg font-bold ${w?"text-amber-400":S?"text-green-400":"text-dark-300"}`,children:S?"Tree":w?"Has Cycle":"Forest"}),e.jsx("div",{className:"text-sm text-dark-300",children:"Structure"})]})]}),e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-dark-200 mb-3",children:"Threshold Probabilities"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-dark-300",children:"Cycle appears (p = 1/n):"}),e.jsxs("span",{className:r>=K?"text-green-400":"text-dark-500",children:[K.toFixed(3)," ",r>=K?"":""]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-dark-300",children:"Giant component (p = 1/n):"}),e.jsxs("span",{className:r>=te?"text-green-400":"text-dark-500",children:[te.toFixed(3)," ",r>=te?"":""]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-dark-300",children:"Connected (p = ln(n)/n):"}),e.jsxs("span",{className:r>=oe?"text-green-400":"text-dark-500",children:[oe.toFixed(3)," ",r>=oe?"":""]})]})]})]}),Z.length>0&&e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-medium text-dark-200 mb-3",children:["Connectivity History (",L,"/",Z.length," connected)"]}),e.jsx("div",{className:"flex gap-0.5 h-8",children:Z.map((M,z)=>e.jsx("div",{className:`flex-1 rounded-sm ${M.connected?"bg-green-500":"bg-red-500"}`,title:`p=${M.p.toFixed(2)}, ${M.edges} edges`},z))}),e.jsxs("div",{className:"flex justify-between text-xs text-dark-400 mt-1",children:[e.jsx("span",{children:"p = 0"}),e.jsx("span",{children:"p = 1"})]})]}),e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Erds-Rnyi Model G(n,p)"}),e.jsxs("div",{className:"text-sm text-dark-300 space-y-1",children:[e.jsx("p",{children:" Each of the (n choose 2) possible edges appears with probability p"}),e.jsx("p",{children:" Expected edges: E[m] = pn(n-1)/2"}),e.jsx("p",{children:" Phase transition at p = 1/n: giant component emerges"}),e.jsxs("p",{children:[" Graph is almost surely connected when p ",">"," ln(n)/n"]})]})]}),e.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Drag vertices:"})," Rearrange layout"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Generate:"})," Create new random graph"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Animate:"})," Watch evolution as p increases"]})]})]})]})]})}function cG(){return e.jsxs(ze,{sectionId:1,children:[e.jsxs("p",{children:["How can we lay cable at minimum cost to make every telephone reachable from every other? What is the fastest route from the national capital to each state capital? How can"," ",e.jsx(s,{children:"n"})," jobs be filled by ",e.jsx(s,{children:"n"})," people with maximum total utility? Can we color the regions of every map using four colors so that neighboring regions receive different colors?"]}),e.jsxs("p",{children:["These and many other practical problems involve ",e.jsx("strong",{children:"graph theory"}),". In this course, we develop the theory of graphs and apply it to such problems. Our starting point is a historical problem that gave birth to the field."]}),e.jsx("h2",{children:"The Knigsberg Bridge Problem"}),e.jsxs(re,{title:"The Knigsberg Bridge Problem",className:"my-6",children:[e.jsx("p",{children:"The city of Knigsberg was located on the Pregel river in Prussia. The city occupied two islands plus areas on both banks. These regions were linked by seven bridges. The citizens wondered whether they could leave home, cross every bridge exactly once, and return home."}),e.jsxs("p",{className:"mt-2",children:["The problem reduces to traversing a figure with heavy dots representing land masses and curves representing bridges. Each time we enter and leave a land mass, we use two bridges ending at it. Thus existence of the desired traversal requires that each land mass be involved in an ",e.jsx("strong",{children:"even"})," number of bridges. This necessary condition did not hold in Knigsberg."]})]}),e.jsxs("p",{children:["The Knigsberg Bridge Problem suggests a general model for discussing such questions. We represent land masses as ",e.jsx("em",{children:"vertices"})," and bridges as ",e.jsx("em",{children:"edges"}),"."]}),e.jsx("h2",{children:"The Definition of a Graph"}),e.jsx(B,{title:"Graph",className:"my-6",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"graph"})," ",e.jsx(s,{children:"G"})," is a triple consisting of a"," ",e.jsx("strong",{children:"vertex set"})," ",e.jsx(s,{children:"V(G)"}),", an ",e.jsx("strong",{children:"edge set"})," ",e.jsx(s,{children:"E(G)"}),", and a relation that associates with each edge two vertices (not necessarily distinct) called its ",e.jsx("strong",{children:"endpoints"}),"."]})}),e.jsx("p",{children:"We draw a graph on paper by placing each vertex at a point and representing each edge by a curve joining the locations of its endpoints."}),e.jsxs(B,{title:"Loop and Multiple Edges",className:"my-6",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"loop"})," is an edge whose endpoints are equal."," ",e.jsx("strong",{children:"Multiple edges"})," are edges having the same pair of endpoints."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"simple graph"})," is a graph having no loops or multiple edges. We specify a simple graph by its vertex set and edge set, treating the edge set as a set of unordered pairs of vertices and writing ",e.jsx(s,{children:"e = uv"})," (or"," ",e.jsx(s,{children:"e = vu"}),") for an edge ",e.jsx(s,{children:"e"})," with endpoints"," ",e.jsx(s,{children:"u"})," and ",e.jsx(s,{children:"v"}),"."]}),e.jsxs("p",{className:"mt-2",children:["When ",e.jsx(s,{children:"u"})," and ",e.jsx(s,{children:"v"})," are the endpoints of an edge, they are ",e.jsx("strong",{children:"adjacent"})," and are ",e.jsx("strong",{children:"neighbors"}),". We write"," ",e.jsx(s,{children:"u \\leftrightarrow v"}),' for "u is adjacent to v".']})]}),e.jsxs(re,{title:"A Simple Graph",className:"my-6",children:[e.jsxs("p",{children:["Consider a graph with vertex set ",e.jsx(s,{children:"\\{u, v, w, x, y\\}"})," and edge set ",e.jsx(s,{children:"\\{uv, uw, ux, vx, vw, xw, xy\\}"}),". This is a simple graph because no edge has the same vertex as both endpoints (no loops) and no two edges share the same pair of endpoints (no multiple edges)."]}),e.jsx("p",{className:"mt-2",children:'The terms "vertex" and "edge" arise from solid geometry. A cube has vertices and edges, and these form the vertex set and edge set of a graph.'})]}),e.jsx("h2",{children:"Graphs as Models"}),e.jsx("p",{children:"Graphs arise in many settings. The applications suggest useful concepts and terminology about the structure of graphs."}),e.jsxs(B,{title:"Complement, Clique, and Independent Set",className:"my-6",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"complement"})," ",e.jsx(s,{children:"\\overline{G}"})," of a simple graph ",e.jsx(s,{children:"G"})," is the simple graph with vertex set"," ",e.jsx(s,{children:"V(G)"})," defined by"," ",e.jsx(s,{children:"uv \\in E(\\overline{G})"})," if and only if"," ",e.jsx(s,{children:"uv \\notin E(G)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"clique"})," in a graph is a set of pairwise adjacent vertices."]}),e.jsxs("p",{className:"mt-2",children:["An ",e.jsx("strong",{children:"independent set"})," (or ",e.jsx("strong",{children:"stable set"}),") in a graph is a set of pairwise nonadjacent vertices."]})]}),e.jsxs("p",{children:["Cliques and independent sets swap roles under complementation: cliques in"," ",e.jsx(s,{children:"G"})," become independent sets in"," ",e.jsx(s,{children:"\\overline{G}"}),", and vice versa."]}),e.jsx(B,{title:"Bipartite Graph",className:"my-6",children:e.jsxs("p",{children:["A graph ",e.jsx(s,{children:"G"})," is ",e.jsx("strong",{children:"bipartite"})," if"," ",e.jsx(s,{children:"V(G)"})," is the union of two disjoint (possibly empty) independent sets called ",e.jsx("strong",{children:"partite sets"})," of ",e.jsx(s,{children:"G"}),"."]})}),e.jsxs(re,{title:"Job Assignments",className:"my-6",children:[e.jsxs("p",{children:["We have ",e.jsx(s,{children:"m"})," jobs and ",e.jsx(s,{children:"n"})," people, but not all people are qualified for all jobs. Can we fill the jobs with qualified people?"]}),e.jsxs("p",{className:"mt-2",children:["We model this using a simple graph ",e.jsx(s,{children:"H"})," with vertices for the jobs and people; job ",e.jsx(s,{children:"j"})," is adjacent to person ",e.jsx(s,{children:"p"})," ","if ",e.jsx(s,{children:"p"})," can do ",e.jsx(s,{children:"j"}),". This is a bipartite graph where one partite set contains jobs and the other contains people."]})]}),e.jsx("h2",{children:"Chromatic Number and Coloring"}),e.jsxs(B,{title:"Chromatic Number",className:"my-6",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"chromatic number"})," of a graph ",e.jsx(s,{children:"G"}),", written"," ",e.jsx(s,{children:"\\chi(G)"}),", is the minimum number of colors needed to label the vertices so that adjacent vertices receive different colors."]}),e.jsxs("p",{className:"mt-2",children:["A graph ",e.jsx(s,{children:"G"})," is ",e.jsx("strong",{children:"k-partite"})," if"," ",e.jsx(s,{children:"V(G)"})," can be expressed as the union of ",e.jsx(s,{children:"k"})," ","(possibly empty) independent sets."]})]}),e.jsxs("p",{children:["This generalizes the idea of bipartite graphs, which are 2-partite. Vertices given the same color must form an independent set, so ",e.jsx(s,{children:"\\chi(G)"})," is the minimum number of independent sets needed to partition ",e.jsx(s,{children:"V(G)"}),". A graph is k-partite if and only if its chromatic number is at most ",e.jsx(s,{children:"k"}),"."]}),e.jsx("h2",{children:"Paths and Cycles"}),e.jsxs(B,{title:"Path and Cycle",className:"my-6",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"path"})," is a simple graph whose vertices can be ordered so that two vertices are adjacent if and only if they are consecutive in the list."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"cycle"})," is a graph with an equal number of vertices and edges whose vertices can be placed around a circle so that two vertices are adjacent if and only if they appear consecutively along the circle."]})]}),e.jsxs("p",{children:["Dropping one edge from a cycle produces a path. The path with ",e.jsx(s,{children:"n"})," ","vertices is denoted ",e.jsx(s,{children:"P_n"}),", and the cycle with"," ",e.jsx(s,{children:"n"})," vertices is denoted ",e.jsx(s,{children:"C_n"}),"."]}),e.jsxs(B,{title:"Subgraph and Connected",className:"my-6",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"subgraph"})," of a graph ",e.jsx(s,{children:"G"})," is a graph"," ",e.jsx(s,{children:"H"})," such that ",e.jsx(s,{children:"V(H) \\subseteq V(G)"})," and"," ",e.jsx(s,{children:"E(H) \\subseteq E(G)"})," and the assignment of endpoints to edges in ",e.jsx(s,{children:"H"})," is the same as in ",e.jsx(s,{children:"G"}),". We write"," ",e.jsx(s,{children:"H \\subseteq G"}),' and say "G contains H".']}),e.jsxs("p",{className:"mt-2",children:["A graph ",e.jsx(s,{children:"G"})," is ",e.jsx("strong",{children:"connected"})," if each pair of vertices in ",e.jsx(s,{children:"G"})," belongs to a path; otherwise, ",e.jsx(s,{children:"G"})," is"," ",e.jsx("strong",{children:"disconnected"}),"."]})]}),e.jsx("h2",{children:"Interactive Graph Editor"}),e.jsx("p",{children:"Use the interactive tool below to explore graph concepts. Create vertices by clicking, connect them with edges, and observe properties like adjacency and degree sequences."}),e.jsx(B$,{className:"my-8"}),e.jsx("h2",{children:"Matrices and Isomorphism"}),e.jsxs(B,{title:"Adjacency and Incidence Matrices",className:"my-6",children:[e.jsxs("p",{children:["Let ",e.jsx(s,{children:"G"})," be a loopless graph with vertex set"," ",e.jsx(s,{children:"V(G) = \\{v_1, \\ldots, v_n\\}"})," and edge set"," ",e.jsx(s,{children:"E(G) = \\{e_1, \\ldots, e_m\\}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"adjacency matrix"})," of ",e.jsx(s,{children:"G"}),", written"," ",e.jsx(s,{children:"A(G)"}),", is the ",e.jsx(s,{children:"n"}),"-by-",e.jsx(s,{children:"n"})," matrix in which entry ",e.jsx(s,{children:"a_{i,j}"})," is the number of edges in ",e.jsx(s,{children:"G"})," with endpoints"," ",e.jsx(s,{children:"\\{v_i, v_j\\}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"incidence matrix"})," ",e.jsx(s,{children:"M(G)"})," is the"," ",e.jsx(s,{children:"n"}),"-by-",e.jsx(s,{children:"m"})," matrix in which entry"," ",e.jsx(s,{children:"m_{i,j}"})," is 1 if ",e.jsx(s,{children:"v_i"})," is an endpoint of ",e.jsx(s,{children:"e_j"})," and otherwise is 0."]}),e.jsxs("p",{className:"mt-2",children:["If vertex ",e.jsx(s,{children:"v"})," is an endpoint of edge ",e.jsx(s,{children:"e"}),", then ",e.jsx(s,{children:"v"})," and ",e.jsx(s,{children:"e"})," are"," ",e.jsx("strong",{children:"incident"}),". The ",e.jsx("strong",{children:"degree"})," of vertex"," ",e.jsx(s,{children:"v"})," (in a loopless graph) is the number of incident edges."]})]}),e.jsxs("p",{children:["An adjacency matrix is symmetric (",e.jsx(s,{children:"a_{i,j} = a_{j,i}"})," for all"," ",e.jsx(s,{children:"i, j"}),"). An adjacency matrix of a simple graph has entries 0 or 1, with 0s on the diagonal. The degree of ",e.jsx(s,{children:"v"})," is the sum of the entries in the row for ",e.jsx(s,{children:"v"})," in either ",e.jsx(s,{children:"A(G)"})," or"," ",e.jsx(s,{children:"M(G)"}),"."]}),e.jsxs(B,{title:"Isomorphism",className:"my-6",children:[e.jsxs("p",{children:["An ",e.jsx("strong",{children:"isomorphism"})," from a simple graph ",e.jsx(s,{children:"G"})," to a simple graph ",e.jsx(s,{children:"H"})," is a bijection"," ",e.jsx(s,{children:"f: V(G) \\to V(H)"})," such that"," ",e.jsx(s,{children:"uv \\in E(G)"})," if and only if"," ",e.jsx(s,{children:"f(u)f(v) \\in E(H)"}),"."]}),e.jsxs("p",{className:"mt-2",children:['We say "G is ',e.jsx("strong",{children:"isomorphic"}),' to H", written'," ",e.jsx(s,{children:"G \\cong H"}),", if there is an isomorphism from"," ",e.jsx(s,{children:"G"})," to ",e.jsx(s,{children:"H"}),"."]})]}),e.jsx(q,{title:"Isomorphism is an Equivalence Relation",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Reflexive:"})," The identity permutation on ",e.jsx(s,{children:"V(G)"})," ","is an isomorphism from ",e.jsx(s,{children:"G"})," to itself. Thus"," ",e.jsx(s,{children:"G \\cong G"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Symmetric:"})," If ",e.jsx(s,{children:"f: V(G) \\to V(H)"})," is an isomorphism from ",e.jsx(s,{children:"G"})," to ",e.jsx(s,{children:"H"}),", then"," ",e.jsx(s,{children:"f^{-1}"})," is an isomorphism from ",e.jsx(s,{children:"H"})," ","to ",e.jsx(s,{children:"G"}),". Thus ",e.jsx(s,{children:"G \\cong H"})," implies"," ",e.jsx(s,{children:"H \\cong G"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Transitive:"})," If ",e.jsx(s,{children:"f: V(F) \\to V(G)"})," and"," ",e.jsx(s,{children:"g: V(G) \\to V(H)"})," are isomorphisms, then the composition"," ",e.jsx(s,{children:"g \\circ f"})," is an isomorphism from"," ",e.jsx(s,{children:"F"})," to ",e.jsx(s,{children:"H"}),". Thus"," ",e.jsx(s,{children:"F \\cong G"})," and ",e.jsx(s,{children:"G \\cong H"})," ","together imply ",e.jsx(s,{children:"F \\cong H"}),"."]})]}),children:e.jsx("p",{children:"The isomorphism relation is an equivalence relation on the set of simple graphs."})}),e.jsx("h2",{children:"Special Graphs"}),e.jsxs(B,{title:"Complete and Bipartite Graphs",className:"my-6",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"complete graph"})," is a simple graph whose vertices are pairwise adjacent. The complete graph with ",e.jsx(s,{children:"n"})," vertices is denoted"," ",e.jsx(s,{children:"K_n"}),"."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"complete bipartite graph"})," (or ",e.jsx("strong",{children:"biclique"}),") is a simple bipartite graph such that two vertices are adjacent if and only if they are in different partite sets. When the sets have sizes ",e.jsx(s,{children:"r"})," and"," ",e.jsx(s,{children:"s"}),", the biclique is denoted ",e.jsx(s,{children:"K_{r,s}"}),"."]})]}),e.jsxs(B,{title:"The Petersen Graph",className:"my-6",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Petersen graph"})," is the simple graph whose vertices are the 2-element subsets of a 5-element set, and whose edges are the pairs of disjoint 2-element subsets."]}),e.jsxs("p",{className:"mt-2",children:["Using ",e.jsx(s,{children:"\\{1, 2, 3, 4, 5\\}"})," as our 5-element set, we write the pair ",e.jsx(s,{children:"\\{a, b\\}"})," as ",e.jsx(s,{children:"ab"}),". Since 12 and 34 are disjoint, they are adjacent vertices. But 12 and 23 share element 2, so they are not adjacent."]})]}),e.jsxs("p",{children:["For each 2-set ",e.jsx(s,{children:"ab"}),", there are three ways to pick a 2-set from the remaining three elements, so every vertex in the Petersen graph has degree 3. The Petersen graph consists of two disjoint 5-cycles plus edges that pair up vertices on the two cycles."]}),e.jsx(B,{title:"Girth",className:"my-6",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"girth"})," of a graph with a cycle is the length of its shortest cycle. A graph with no cycle has infinite girth."]})}),e.jsx(q,{title:"Petersen Graph Has Girth 5",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"We must show that the Petersen graph has no cycles of length 1, 2, 3, or 4, but does have a cycle of length 5."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"No 1-cycles or 2-cycles:"})," The Petersen graph is simple (no loops or multiple edges), so it has no cycles of length 1 or 2."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"No 3-cycles:"})," A 3-cycle would require three pairwise adjacent vertices. Recall that vertices are 2-element subsets of ",e.jsx(s,{children:"\\{1,2,3,4,5\\}"}),", and two vertices are adjacent if and only if their corresponding 2-sets are disjoint. Three pairwise-disjoint 2-sets would require at least ",e.jsx(s,{children:"6"})," elements, but we only have 5. Thus no 3-cycle exists."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"No 4-cycles:"})," A 4-cycle requires two nonadjacent vertices with two common neighbors. If vertices ",e.jsx(s,{children:"ab"})," and ",e.jsx(s,{children:"cd"})," ","are nonadjacent, they share at least one element (say ",e.jsx(s,{children:"a = c"}),"). A common neighbor must be disjoint from both, which means it must avoid"," ",e.jsx(s,{children:"\\{a, b, c, d\\} = \\{a, b, d\\}"})," (three elements). The remaining two elements form exactly one 2-set. Thus nonadjacent vertices have exactly one common neighbor, and no 4-cycle exists."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"5-cycle exists:"})," The vertices"," ",e.jsx(s,{children:"12, 34, 15, 23, 45"})," form a 5-cycle, since consecutive pairs are disjoint 2-sets:",e.jsx(s,{children:"\\{1,2\\} \\cap \\{3,4\\} = \\emptyset"}),", etc."]}),e.jsx("p",{className:"mt-2",children:"Therefore, the girth of the Petersen graph is 5."})]}),children:e.jsx("p",{children:"The Petersen graph has girth 5."})}),e.jsx("h2",{children:"Key Ideas"}),e.jsx("div",{className:"bg-gradient-to-br from-primary-500/10 to-dark-800/50 rounded-xl p-6 my-6 border border-primary-500/20",children:e.jsxs("ul",{className:"space-y-3 text-dark-200",children:[e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"1."}),e.jsxs("span",{children:["A ",e.jsx("strong",{children:"graph"})," consists of vertices and edges connecting pairs of vertices."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"2."}),e.jsxs("span",{children:["A ",e.jsx("strong",{children:"simple graph"})," has no loops (edges from a vertex to itself) or multiple edges (several edges between the same pair)."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"3."}),e.jsxs("span",{children:["The ",e.jsx("strong",{children:"complement"})," of a graph has the same vertices but exactly the opposite edges."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"4."}),e.jsxs("span",{children:[e.jsx("strong",{children:"Bipartite graphs"})," have vertices that can be split into two groups with edges only between groups."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"5."}),e.jsxs("span",{children:["Two graphs are ",e.jsx("strong",{children:"isomorphic"})," if one can be relabeled to become the other, preserving all adjacencies."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"6."}),e.jsxs("span",{children:["The ",e.jsx("strong",{children:"Petersen graph"})," is a fundamental example with 10 vertices, each of degree 3, and girth 5."]})]})]})})]})}function hG(){return e.jsxs(ze,{sectionId:2,children:[e.jsx("p",{children:"In this section we return to the Knigsberg Bridge Problem, determining when it is possible to traverse all the edges of a graph. We also develop useful properties of connection, paths, and cycles. These concepts are fundamental to understanding how graphs are structured and how we can move through them."}),e.jsx("h2",{children:"Walks, Trails, and Paths"}),e.jsxs("p",{children:["As defined earlier, paths and cycles are graphs; a path ",e.jsx("em",{children:"in"})," a graph"," ",e.jsx(s,{children:"G"})," is a subgraph of ",e.jsx(s,{children:"G"})," that is a path. We introduce further definitions to model other movements in graphs. A tourist wandering in a city may want to allow vertex repetitions but avoid edge repetitions. A mail carrier delivers mail to houses on both sides of the street and hence traverses each edge twice."]}),e.jsxs(B,{title:"Walk, Trail, and Path",className:"my-6",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"walk"})," is a list"," ",e.jsx(s,{children:"v_0, e_1, v_1, \\ldots, e_k, v_k"})," of vertices and edges such that, for ",e.jsx(s,{children:"1 \\leq i \\leq k"}),", the edge"," ",e.jsx(s,{children:"e_i"})," has endpoints ",e.jsx(s,{children:"v_{i-1}"})," and"," ",e.jsx(s,{children:"v_i"}),"."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"trail"})," is a walk with no repeated edge."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx(s,{children:"u, v"}),"-",e.jsx("strong",{children:"walk"})," or"," ",e.jsx(s,{children:"u, v"}),"-",e.jsx("strong",{children:"trail"})," has first vertex"," ",e.jsx(s,{children:"u"})," and last vertex ",e.jsx(s,{children:"v"}),"; these are its"," ",e.jsx("strong",{children:"endpoints"}),"."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx(s,{children:"u, v"}),"-",e.jsx("strong",{children:"path"})," is a path whose vertices of degree 1 (its endpoints) are ",e.jsx(s,{children:"u"})," and ",e.jsx(s,{children:"v"}),"; the others are ",e.jsx("strong",{children:"internal vertices"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"length"})," of a walk, trail, path, or cycle is its number of edges. A walk or trail is ",e.jsx("strong",{children:"closed"})," if its endpoints are the same."]})]}),e.jsxs(re,{title:"Walks and Trails in the Knigsberg Graph",className:"my-6",children:[e.jsxs("p",{children:["In the Knigsberg graph, the list ",e.jsx(s,{children:"x, e_2, w, e_5, y, e_6, x, e_1, w, e_2, x"})," ","is a closed walk of length 5; it repeats edge ",e.jsx(s,{children:"e_2"})," and hence is not a trail."]}),e.jsxs("p",{className:"mt-2",children:["Deleting the last edge and vertex yields a trail of length 4; it repeats vertices but not edges. The subgraph consisting of edges ",e.jsx(s,{children:"e_1, e_5, e_6"})," ","and vertices ",e.jsx(s,{children:"x, w, y"})," is a cycle of length 3."]}),e.jsx("p",{className:"mt-2",children:"Two edges with the same endpoints form a cycle of length 2. A loop is a cycle of length 1."})]}),e.jsx("p",{children:"In a simple graph, a walk (or trail) is completely specified by its ordered list of vertices. We usually name a path, cycle, trail, or walk in a simple graph by listing only its vertices in order."}),e.jsx("h2",{children:"Every Walk Contains a Path"}),e.jsx(q,{title:"Every Walk Contains a Path",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["We prove the statement by induction on the length ",e.jsx(s,{children:"l"})," of a"," ",e.jsx(s,{children:"u, v"}),"-walk ",e.jsx(s,{children:"W"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Basis step:"})," ",e.jsx(s,{children:"l = 0"}),". Having no edge,"," ",e.jsx(s,{children:"W"})," consists of a single vertex (",e.jsx(s,{children:"u = v"}),"). This vertex is a ",e.jsx(s,{children:"u, v"}),"-path of length 0."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Induction step:"})," ",e.jsx(s,{children:"l \\geq 1"}),". Suppose that the claim holds for walks of length less than ",e.jsx(s,{children:"l"}),". If"," ",e.jsx(s,{children:"W"})," has no repeated vertex, then its vertices and edges form a ",e.jsx(s,{children:"u, v"}),"-path."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{children:"W"})," has a repeated vertex ",e.jsx(s,{children:"w"}),", then deleting the edges and vertices between appearances of ",e.jsx(s,{children:"w"})," ","(leaving one copy of ",e.jsx(s,{children:"w"}),") yields a shorter"," ",e.jsx(s,{children:"u, v"}),"-walk ",e.jsx(s,{children:"W'"})," contained in"," ",e.jsx(s,{children:"W"}),". By the induction hypothesis, ",e.jsx(s,{children:"W'"})," ","contains a ",e.jsx(s,{children:"u, v"}),"-path ",e.jsx(s,{children:"P"}),", and this path ",e.jsx(s,{children:"P"})," is contained in ",e.jsx(s,{children:"W"}),"."]})]}),children:e.jsxs("p",{children:["Every ",e.jsx(s,{children:"u, v"}),"-walk contains a ",e.jsx(s,{children:"u, v"}),"-path."]})}),e.jsx("h2",{children:"Connection in Graphs"}),e.jsxs(B,{title:"Connected Graph",className:"my-6",children:[e.jsxs("p",{children:["A graph ",e.jsx(s,{children:"G"})," is ",e.jsx("strong",{children:"connected"})," if it has a"," ",e.jsx(s,{children:"u, v"}),"-path whenever ",e.jsx(s,{children:"u, v \\in V(G)"})," ","(otherwise, ",e.jsx(s,{children:"G"})," is ",e.jsx("strong",{children:"disconnected"}),")."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{children:"G"})," has a ",e.jsx(s,{children:"u, v"}),"-path, then"," ",e.jsx(s,{children:"u"})," is ",e.jsx("strong",{children:"connected to"})," ",e.jsx(s,{children:"v"})," ","in ",e.jsx(s,{children:"G"}),". The ",e.jsx("strong",{children:"connection relation"})," on"," ",e.jsx(s,{children:"V(G)"})," consists of the ordered pairs"," ",e.jsx(s,{children:"(u, v)"})," such that ",e.jsx(s,{children:"u"})," is connected to"," ",e.jsx(s,{children:"v"}),"."]})]}),e.jsxs("p",{children:["It is important to distinguish between ",e.jsx("em",{children:"connection"})," and ",e.jsx("em",{children:"adjacency"}),":"]}),e.jsx("div",{className:"bg-dark-800/50 rounded-lg p-4 my-4 font-mono text-sm",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-primary-400 mb-2",children:"Connection"}),e.jsxs("p",{children:[e.jsx(s,{children:"G"})," has a ",e.jsx(s,{children:"u, v"}),"-path"]}),e.jsxs("p",{children:[e.jsx(s,{children:"u"})," and ",e.jsx(s,{children:"v"})," are connected"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-primary-400 mb-2",children:"Adjacency"}),e.jsx("p",{children:e.jsx(s,{children:"uv \\in E(G)"})}),e.jsxs("p",{children:[e.jsx(s,{children:"u"})," and ",e.jsx(s,{children:"v"})," are adjacent"]})]})]})}),e.jsxs("p",{children:["The connection relation is an ",e.jsx("strong",{children:"equivalence relation"}),": it is reflexive (paths of length 0), symmetric (paths are reversible), and transitive (by the lemma above, if ",e.jsx(s,{children:"G"})," has a ",e.jsx(s,{children:"u, v"}),"-path and a"," ",e.jsx(s,{children:"v, w"}),"-path, then ",e.jsx(s,{children:"G"})," has a"," ",e.jsx(s,{children:"u, w"}),"-path)."]}),e.jsx(B,{title:"Components",className:"my-6",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"components"})," of a graph ",e.jsx(s,{children:"G"})," are its maximal connected subgraphs. A component (or graph) is ",e.jsx("strong",{children:"trivial"})," if it has no edges; otherwise it is ",e.jsx("strong",{children:"nontrivial"}),". An ",e.jsx("strong",{children:"isolated vertex"})," ","is a vertex of degree 0."]})}),e.jsxs("p",{children:["The equivalence classes of the connection relation on ",e.jsx(s,{children:"V(G)"})," are the vertex sets of the components of ",e.jsx(s,{children:"G"}),". An isolated vertex forms a trivial component, consisting of one vertex and no edge."]}),e.jsx(q,{title:"Lower Bound on Components",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["We prove this by induction on the number of edges ",e.jsx(s,{children:"k"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Base case:"})," When ",e.jsx(s,{children:"k = 0"}),", the graph has no edges, so each vertex is its own component. Thus there are exactly ",e.jsx(s,{children:"n"})," ","components, which equals ",e.jsx(s,{children:"n - 0 = n - k"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Induction step:"})," Assume the result holds for graphs with"," ",e.jsx(s,{children:"k - 1"})," edges. Let ",e.jsx(s,{children:"G"})," be a graph with ",e.jsx(s,{children:"n"})," vertices and ",e.jsx(s,{children:"k"})," edges. Remove any edge ",e.jsx(s,{children:"e"})," to obtain ",e.jsx(s,{children:"G - e"}),"."]}),e.jsxs("p",{className:"mt-2",children:["By the induction hypothesis, ",e.jsx(s,{children:"G - e"})," has at least"," ",e.jsx(s,{children:"n - (k-1) = n - k + 1"})," components."]}),e.jsxs("p",{className:"mt-2",children:["When we add edge ",e.jsx(s,{children:"e"})," back, it can decrease the number of components by at most 1 (if it joins two different components, it merges them into one; if both endpoints are in the same component, the number of components stays the same)."]}),e.jsxs("p",{className:"mt-2",children:["Therefore, ",e.jsx(s,{children:"G"})," has at least"," ",e.jsx(s,{children:"(n - k + 1) - 1 = n - k"})," components."]})]}),children:e.jsxs("p",{children:["Every graph with ",e.jsx(s,{children:"n"})," vertices and ",e.jsx(s,{children:"k"})," ","edges has at least ",e.jsx(s,{children:"n - k"})," components."]})}),e.jsx("h2",{children:"Cut-Edges and Cut-Vertices"}),e.jsxs(B,{title:"Cut-Edge and Cut-Vertex",className:"my-6",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"cut-edge"})," or ",e.jsx("strong",{children:"cut-vertex"})," of a graph is an edge or vertex whose deletion increases the number of components."]}),e.jsxs("p",{className:"mt-2",children:["We write ",e.jsx(s,{children:"G - e"})," or ",e.jsx(s,{children:"G - M"})," for the subgraph of ",e.jsx(s,{children:"G"})," obtained by deleting an edge"," ",e.jsx(s,{children:"e"})," or set of edges ",e.jsx(s,{children:"M"}),"."]}),e.jsxs("p",{className:"mt-2",children:["We write ",e.jsx(s,{children:"G - v"})," or ",e.jsx(s,{children:"G - S"})," for the subgraph obtained by deleting a vertex ",e.jsx(s,{children:"v"})," or set of vertices ",e.jsx(s,{children:"S"}),"."]})]}),e.jsxs(B,{title:"Induced Subgraph",className:"my-6",children:[e.jsxs("p",{children:["An ",e.jsx("strong",{children:"induced subgraph"})," is a subgraph obtained by deleting a set of vertices. We write ",e.jsx(s,{children:"G[T]"})," for"," ",e.jsx(s,{children:"G - \\overline{T}"}),", where"," ",e.jsx(s,{children:"\\overline{T} = V(G) - T"}),"; this is the subgraph of"," ",e.jsx(s,{children:"G"})," ",e.jsx("strong",{children:"induced by"})," ",e.jsx(s,{children:"T"}),"."]}),e.jsxs("p",{className:"mt-2",children:["When ",e.jsx(s,{children:"T \\subseteq V(G)"}),", the induced subgraph"," ",e.jsx(s,{children:"G[T]"})," consists of ",e.jsx(s,{children:"T"})," and all edges whose endpoints are contained in ",e.jsx(s,{children:"T"}),"."]})]}),e.jsx(q,{title:"Cut-Edge Characterization",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Let ",e.jsx(s,{children:"e"})," be an edge in a graph ",e.jsx(s,{children:"G"})," ","(with endpoints ",e.jsx(s,{children:"x, y"}),"), and let ",e.jsx(s,{children:"H"})," ","be the component containing ",e.jsx(s,{children:"e"}),". Since deletion of"," ",e.jsx(s,{children:"e"})," affects no other component, it suffices to prove that"," ",e.jsx(s,{children:"H - e"})," is connected if and only if"," ",e.jsx(s,{children:"e"})," belongs to a cycle."]}),e.jsxs("p",{className:"mt-2",children:["First suppose that ",e.jsx(s,{children:"H - e"})," is connected. This implies that ",e.jsx(s,{children:"H - e"})," contains an ",e.jsx(s,{children:"x, y"}),"-path, and this path completes a cycle with ",e.jsx(s,{children:"e"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Now suppose that ",e.jsx(s,{children:"e"})," lies in a cycle ",e.jsx(s,{children:"C"}),". Choose ",e.jsx(s,{children:"u, v \\in V(H)"}),". Since ",e.jsx(s,{children:"H"})," ","is connected, ",e.jsx(s,{children:"H"})," has a ",e.jsx(s,{children:"u, v"}),"-path"," ",e.jsx(s,{children:"P"}),". If ",e.jsx(s,{children:"P"})," does not contain"," ",e.jsx(s,{children:"e"}),", then ",e.jsx(s,{children:"P"})," exists in"," ",e.jsx(s,{children:"H - e"}),". If ",e.jsx(s,{children:"P"})," contains"," ",e.jsx(s,{children:"e"}),", we can route around ",e.jsx(s,{children:"e"})," using the rest of cycle ",e.jsx(s,{children:"C"}),". Thus"," ",e.jsx(s,{children:"H - e"})," is connected."]})]}),children:e.jsx("p",{children:"An edge is a cut-edge if and only if it belongs to no cycle."})}),e.jsx("h2",{children:"Bipartite Graph Characterization"}),e.jsx("p",{children:"Our next goal is to characterize bipartite graphs using cycles. Recall that a loop is a cycle of length 1, and two distinct edges with the same endpoints form a cycle of length 2."}),e.jsx(q,{title:"Closed Odd Walk Lemma",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["We use induction on the length ",e.jsx(s,{children:"l"})," of a closed odd walk"," ",e.jsx(s,{children:"W"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Basis step:"})," ",e.jsx(s,{children:"l = 1"}),". A closed walk of length 1 traverses a cycle of length 1."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Induction step:"})," ",e.jsx(s,{children:"l > 1"}),". Assume the claim for closed odd walks shorter than ",e.jsx(s,{children:"W"}),". If"," ",e.jsx(s,{children:"W"})," has no repeated vertex (other than first = last), then"," ",e.jsx(s,{children:"W"})," itself forms a cycle of odd length."]}),e.jsxs("p",{className:"mt-2",children:["If vertex ",e.jsx(s,{children:"v"})," is repeated in ",e.jsx(s,{children:"W"}),", then we view ",e.jsx(s,{children:"W"})," as starting at ",e.jsx(s,{children:"v"})," ","and break ",e.jsx(s,{children:"W"})," into two ",e.jsx(s,{children:"v, v"}),"-walks. Since ",e.jsx(s,{children:"W"})," has odd length, one of these is odd and the other is even. The odd one is shorter than ",e.jsx(s,{children:"W"}),". By the induction hypothesis, it contains an odd cycle, and this cycle appears in order in"," ",e.jsx(s,{children:"W"}),"."]})]}),children:e.jsx("p",{children:"Every closed odd walk contains an odd cycle."})}),e.jsx(B,{title:"Bipartition",className:"my-6",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"bipartition"})," of ",e.jsx(s,{children:"G"})," is a specification of two disjoint independent sets in ",e.jsx(s,{children:"G"})," whose union is"," ",e.jsx(s,{children:"V(G)"}),'. The statement "Let ',e.jsx(s,{children:"G"})," be a bipartite graph with bipartition ",e.jsx(s,{children:"X, Y"}),'" specifies one such partition. An ',e.jsx(s,{children:"X, Y"}),"-",e.jsx("strong",{children:"bigraph"})," is a bipartite graph with bipartition ",e.jsx(s,{children:"X, Y"}),"."]})}),e.jsx(q,{title:"Knig's Characterization of Bipartite Graphs",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Necessity:"})," Let ",e.jsx(s,{children:"G"})," be a bipartite graph. Every walk alternates between the two sets of a bipartition, so every return to the original partite set happens after an even number of steps. Hence"," ",e.jsx(s,{children:"G"})," has no odd cycle."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Sufficiency:"})," Let ",e.jsx(s,{children:"G"})," be a graph with no odd cycle. We prove that ",e.jsx(s,{children:"G"})," is bipartite by constructing a bipartition of each nontrivial component."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{children:"u"})," be a vertex in a nontrivial component"," ",e.jsx(s,{children:"H"}),". For each ",e.jsx(s,{children:"v \\in V(H)"}),", let"," ",e.jsx(s,{children:"f(v)"})," be the minimum length of a"," ",e.jsx(s,{children:"u, v"}),"-path."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{children:"X = \\{v \\in V(H): f(v) \\text{ is even}\\}"})," and"," ",e.jsx(s,{children:"Y = \\{v \\in V(H): f(v) \\text{ is odd}\\}"}),". An edge"," ",e.jsx(s,{children:"v, v'"})," within ",e.jsx(s,{children:"X"})," or"," ",e.jsx(s,{children:"Y"})," would create a closed odd walk using a shortest"," ",e.jsx(s,{children:"u, v"}),"-path, the edge ",e.jsx(s,{children:"vv'"}),", and the reverse of a shortest ",e.jsx(s,{children:"u, v'"}),"-path. By the Closed Odd Walk Lemma, such a walk must contain an odd cycle, which contradicts our hypothesis."]}),e.jsxs("p",{className:"mt-2",children:["Hence ",e.jsx(s,{children:"X"})," and ",e.jsx(s,{children:"Y"})," are independent sets. Also ",e.jsx(s,{children:"X \\cup Y = V(H)"}),", so"," ",e.jsx(s,{children:"H"})," is an ",e.jsx(s,{children:"X, Y"}),"-bigraph."]})]}),children:e.jsx("p",{children:"(Knig [1936]) A graph is bipartite if and only if it has no odd cycle."})}),e.jsxs("p",{children:["This theorem provides an efficient way to test whether a graph is bipartite: if it is not bipartite, we can prove this by presenting an odd cycle. When we want to prove that"," ",e.jsx(s,{children:"G"})," is bipartite, we define a bipartition and prove that the two sets are independent."]}),e.jsx("h2",{children:"Interactive Path Explorer"}),e.jsx("p",{children:"Use the interactive tool below to explore paths, cycles, and Eulerian circuits. Click vertices to find paths between them, detect cycles, or discover Eulerian circuits."}),e.jsx(U$,{className:"my-8"}),e.jsx("h2",{children:"Eulerian Circuits"}),e.jsx("p",{children:"We return to our analysis of the Knigsberg Bridge Problem. What the people of Knigsberg wanted was a closed trail containing all the edges in a graph. As we observed, a necessary condition for existence of such a trail is that all vertex degrees be even. Also it is necessary that all edges belong to the same component."}),e.jsxs(B,{title:"Eulerian Graph",className:"my-6",children:[e.jsxs("p",{children:["A graph is ",e.jsx("strong",{children:"Eulerian"})," if it has a closed trail containing all edges. We call a closed trail a ",e.jsx("strong",{children:"circuit"})," when we do not specify the first vertex but keep the list in cyclic order."]}),e.jsxs("p",{className:"mt-2",children:["An ",e.jsx("strong",{children:"Eulerian circuit"})," or ",e.jsx("strong",{children:"Eulerian trail"})," in a graph is a circuit or trail containing all the edges."]}),e.jsxs("p",{className:"mt-2",children:["An ",e.jsx("strong",{children:"even graph"})," is a graph with vertex degrees all even. A vertex is"," ",e.jsx("strong",{children:"odd"})," [",e.jsx("strong",{children:"even"}),"] when its degree is odd [even]."]})]}),e.jsx(q,{title:"Cycle Existence Lemma",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Let ",e.jsx(s,{children:"P"})," be a maximal path in ",e.jsx(s,{children:"G"}),". Such a path exists because ",e.jsx(s,{children:"G"})," is finite and nonempty (having vertices of degree at least 2 implies it has edges)."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{children:"u"})," be an endpoint of ",e.jsx(s,{children:"P"}),". Since"," ",e.jsx(s,{children:"P"})," is maximal (cannot be extended), every neighbor of"," ",e.jsx(s,{children:"u"})," must already be a vertex of ",e.jsx(s,{children:"P"}),". If some neighbor were not on ",e.jsx(s,{children:"P"}),", we could extend"," ",e.jsx(s,{children:"P"})," through that neighbor, contradicting maximality."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{children:"d(u) \\geq 2"}),", the vertex ",e.jsx(s,{children:"u"})," ","has at least two neighbors. One neighbor is its predecessor on the path"," ",e.jsx(s,{children:"P"}),". There must be at least one other neighbor"," ",e.jsx(s,{children:"v"}),", and this neighbor lies on ",e.jsx(s,{children:"P"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The edge ",e.jsx(s,{children:"uv"})," is not part of ",e.jsx(s,{children:"P"})," (since paths have no repeated vertices, and ",e.jsx(s,{children:"u"})," already has a different edge to its predecessor on ",e.jsx(s,{children:"P"}),"). This edge"," ",e.jsx(s,{children:"uv"})," together with the portion of ",e.jsx(s,{children:"P"})," ","from ",e.jsx(s,{children:"v"})," to ",e.jsx(s,{children:"u"})," forms a cycle."]})]}),children:e.jsxs("p",{children:["If every vertex of a graph ",e.jsx(s,{children:"G"})," has degree at least 2, then"," ",e.jsx(s,{children:"G"})," contains a cycle."]})}),e.jsx(q,{title:"Characterization of Eulerian Graphs",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Necessity:"})," Suppose that ",e.jsx(s,{children:"G"})," has an Eulerian circuit ",e.jsx(s,{children:"C"}),". Each passage of ",e.jsx(s,{children:"C"})," ","through a vertex uses two incident edges, and the first edge is paired with the last at the first vertex. Hence every vertex has even degree. Also, two edges can be in the same trail only when they lie in the same component, so there is at most one nontrivial component."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Sufficiency:"})," We use induction on the number of edges"," ",e.jsx(s,{children:"m"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("em",{children:"Basis step:"})," ",e.jsx(s,{children:"m = 0"}),". A closed trail consisting of one vertex suffices."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("em",{children:"Induction step:"})," ",e.jsx(s,{children:"m > 0"}),". With even degrees, each vertex in the nontrivial component of ",e.jsx(s,{children:"G"})," has degree at least 2. By the Cycle Existence Lemma, the nontrivial component has a cycle"," ",e.jsx(s,{children:"C"}),". Let ",e.jsx(s,{children:"G'"})," be the graph obtained from ",e.jsx(s,{children:"G"})," by deleting ",e.jsx(s,{children:"E(C)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{children:"C"})," has 0 or 2 edges at each vertex, each component of ",e.jsx(s,{children:"G'"})," is also an even graph. Since each component is connected and has fewer than ",e.jsx(s,{children:"m"})," edges, we can apply the induction hypothesis to conclude that each component of ",e.jsx(s,{children:"G'"})," ","has an Eulerian circuit."]}),e.jsxs("p",{className:"mt-2",children:["To combine these into an Eulerian circuit of ",e.jsx(s,{children:"G"}),", we traverse"," ",e.jsx(s,{children:"C"}),", but when a component of ",e.jsx(s,{children:"G'"})," is entered for the first time we detour along an Eulerian circuit of that component. This circuit ends at the vertex where we began the detour. When we complete the traversal of ",e.jsx(s,{children:"C"}),", we have completed an Eulerian circuit of"," ",e.jsx(s,{children:"G"}),"."]})]}),children:e.jsxs("p",{children:["A graph ",e.jsx(s,{children:"G"})," is Eulerian if and only if it has at most one nontrivial component and its vertices all have even degree."]})}),e.jsx(q,{title:"Cycle Decomposition of Even Graphs",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["We prove this by strong induction on the number of edges ",e.jsx(s,{children:"m"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Base case:"})," If ",e.jsx(s,{children:"m = 0"}),", the graph has no edges and is trivially decomposed into zero cycles (the empty decomposition)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Induction step:"})," Suppose ",e.jsx(s,{children:"m > 0"})," and the result holds for all even graphs with fewer than ",e.jsx(s,{children:"m"})," edges. Let ",e.jsx(s,{children:"G"})," be an even graph with ",e.jsx(s,{children:"m"})," edges."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{children:"G"})," has an edge and all degrees are even (hence at least 2 for vertices incident to edges), the Cycle Existence Lemma guarantees that"," ",e.jsx(s,{children:"G"})," contains a cycle ",e.jsx(s,{children:"C"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{children:"G' = G - E(C)"})," be the graph obtained by deleting the edges of ",e.jsx(s,{children:"C"}),". Since ",e.jsx(s,{children:"C"})," contributes exactly 0 or 2 to the degree of each vertex (2 if the vertex is on the cycle, 0 otherwise), the graph ",e.jsx(s,{children:"G'"})," is still an even graph."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{children:"G'"})," has fewer edges than ",e.jsx(s,{children:"G"}),", by the induction hypothesis, ",e.jsx(s,{children:"G'"})," decomposes into cycles. Adding the cycle ",e.jsx(s,{children:"C"})," to this decomposition gives a cycle decomposition of ",e.jsx(s,{children:"G"}),"."]})]}),children:e.jsx("p",{children:"Every even graph decomposes into cycles."})}),e.jsx("h2",{children:"Decomposing Graphs into Trails"}),e.jsxs("p",{children:["When drawing a figure ",e.jsx(s,{children:"G"})," on paper, how many times must we stop and move the pen? Each visit to the paper contributes a trail, so we seek a decomposition of ",e.jsx(s,{children:"G"})," into the minimum number of trails."]}),e.jsx(q,{title:"Trail Decomposition Theorem",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["A trail contributes even degree to every vertex, except that a non-closed trail contributes odd degree to its endpoints. Therefore, a partition of the edges into trails must have some non-closed trail ending at each odd vertex. Since each trail has only two ends, we must use at least ",e.jsx(s,{children:"k"})," trails to satisfy"," ",e.jsx(s,{children:"2k"})," odd vertices."]}),e.jsxs("p",{className:"mt-2",children:["We also need at least one trail since ",e.jsx(s,{children:"G"})," has an edge, and the Eulerian Characterization implies that one trail suffices when"," ",e.jsx(s,{children:"k = 0"}),"."]}),e.jsxs("p",{className:"mt-2",children:["It remains to prove that ",e.jsx(s,{children:"k"})," trails suffice when"," ",e.jsx(s,{children:"k > 0"}),". Given such a graph ",e.jsx(s,{children:"G"}),", we pair up the odd vertices (in any way) and form ",e.jsx(s,{children:"G'"})," by adding for each pair an edge joining its two vertices. The resulting graph"," ",e.jsx(s,{children:"G'"})," is connected and even, so it has an Eulerian circuit"," ",e.jsx(s,{children:"C"}),". As we traverse ",e.jsx(s,{children:"C"})," in"," ",e.jsx(s,{children:"G'"}),", we start a new trail in ",e.jsx(s,{children:"G"})," ","each time we traverse an edge of ",e.jsx(s,{children:"G' - E(G)"}),". This yields ",e.jsx(s,{children:"k"})," trails decomposing ",e.jsx(s,{children:"G"}),"."]})]}),children:e.jsxs("p",{children:["For a connected nontrivial graph with exactly ",e.jsx(s,{children:"2k"})," odd vertices, the minimum number of trails that decompose it is"," ",e.jsx(s,{children:"\\max\\{k, 1\\}"}),"."]})}),e.jsx("h2",{children:"Key Ideas"}),e.jsx("div",{className:"bg-gradient-to-br from-primary-500/10 to-dark-800/50 rounded-xl p-6 my-6 border border-primary-500/20",children:e.jsxs("ul",{className:"space-y-3 text-dark-200",children:[e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"1."}),e.jsxs("span",{children:["A ",e.jsx("strong",{children:"walk"})," allows repeated vertices and edges; a ",e.jsx("strong",{children:"trail"})," ","allows no repeated edges; a ",e.jsx("strong",{children:"path"})," allows no repeated vertices."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"2."}),e.jsxs("span",{children:["Every ",e.jsx(s,{children:"u, v"}),"-walk contains a ",e.jsx(s,{children:"u, v"}),"-path (by removing loops when vertices repeat)."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"3."}),e.jsxs("span",{children:["The ",e.jsx("strong",{children:"components"})," of a graph are the equivalence classes under the connection relation."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"4."}),e.jsxs("span",{children:["An edge is a ",e.jsx("strong",{children:"cut-edge"})," if and only if it belongs to no cycle."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"5."}),e.jsxs("span",{children:["A graph is ",e.jsx("strong",{children:"bipartite"})," if and only if it has no odd cycle (Knig)."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"6."}),e.jsxs("span",{children:["A graph is ",e.jsx("strong",{children:"Eulerian"})," (has a circuit using all edges) if and only if it has at most one nontrivial component and all vertices have even degree."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"7."}),e.jsx("span",{children:"Every even graph decomposes into cycles."})]})]})})]})}function dG(){return e.jsxs(ze,{sectionId:3,children:[e.jsx("p",{children:"The degrees of the vertices are fundamental parameters of a graph. In this section, we explore how vertex degrees lead to powerful counting arguments, characterize important graph families, and solve extremal problems about graph structure."}),e.jsx("h2",{children:"Basic Definitions"}),e.jsxs(B,{title:"Degree of a Vertex",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"degree"})," of vertex ",e.jsx(s,{math:"v"})," in a graph ",e.jsx(s,{math:"G"}),", written ",e.jsx(s,{math:"d_G(v)"})," or ",e.jsx(s,{math:"d(v)"}),", is the number of edges incident to ",e.jsx(s,{math:"v"}),", except that each loop at ",e.jsx(s,{math:"v"})," counts twice."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"maximum degree"})," is ",e.jsx(s,{math:"\\Delta(G)"}),", the ",e.jsx("strong",{children:"minimum degree"})," is"," ",e.jsx(s,{math:"\\delta(G)"}),", and ",e.jsx(s,{math:"G"})," is ",e.jsx("strong",{children:"regular"})," if"," ",e.jsx(s,{math:"\\Delta(G) = \\delta(G)"}),". It is ",e.jsx("strong",{children:"k-regular"})," if the common degree is"," ",e.jsx(s,{math:"k"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"neighborhood"})," of ",e.jsx(s,{math:"v"}),", written ",e.jsx(s,{math:"N_G(v)"})," or"," ",e.jsx(s,{math:"N(v)"}),", is the set of vertices adjacent to ",e.jsx(s,{math:"v"}),"."]})]}),e.jsxs(B,{title:"Order and Size",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"order"})," of a graph ",e.jsx(s,{math:"G"}),", written ",e.jsx(s,{math:"n(G)"}),", is the number of vertices in ",e.jsx(s,{math:"G"}),". An ",e.jsx("strong",{children:"n-vertex graph"})," is a graph of order ",e.jsx(s,{math:"n"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"size"})," of a graph ",e.jsx(s,{math:"G"}),", written ",e.jsx(s,{math:"e(G)"}),", is the number of edges in ",e.jsx(s,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(s,{math:"n \\in \\mathbb{N}"}),", the notation ",e.jsx(s,{math:"[n]"})," indicates the set ",e.jsx(s,{math:"\\{1, \\ldots, n\\}"}),"."]})]}),e.jsx("h2",{children:"The Degree-Sum Formula"}),e.jsx("p",{children:'The first counting problem about subgraphs is to count the edges using vertex degrees. The resulting formula is an essential tool of graph theory, sometimes called the "First Theorem of Graph Theory" or the "Handshaking Lemma."'}),e.jsxs(q,{title:"Degree-Sum Formula (Handshaking Lemma)",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," is a graph, then"]}),e.jsx(W,{math:"\\sum_{v \\in V(G)} d(v) = 2e(G)."}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsx("p",{children:"Summing the degrees counts each edge twice, since each edge has two ends and contributes to the degree at each endpoint."}),e.jsxs("p",{className:"mt-2",children:["The proof holds even when ",e.jsx(s,{math:"G"})," has loops, since a loop contributes 2 to the degree of its endpoint. For a loopless graph, the two sides of the formula count the set of pairs ",e.jsx(s,{math:"(v, e)"})," such that ",e.jsx(s,{math:"v"})," is an endpoint of ",e.jsx(s,{math:"e"}),", grouped by vertices or grouped by edges."]})]})]})]}),e.jsx("p",{children:'"Counting two ways" is an elegant technique for proving integer identities. The degree-sum formula has several immediate corollaries.'}),e.jsxs(q,{title:"Corollary: Average Degree",children:[e.jsxs("p",{children:["In a graph ",e.jsx(s,{math:"G"}),", the average vertex degree is"," ",e.jsx(s,{math:"\\frac{2e(G)}{n(G)}"}),", and hence"]}),e.jsx(W,{math:"\\delta(G) \\leq \\frac{2e(G)}{n(G)} \\leq \\Delta(G)."})]}),e.jsx(q,{title:"Corollary: Odd Degree Vertices",children:e.jsxs("p",{children:["Every graph has an ",e.jsx("strong",{children:"even number of vertices of odd degree"}),". No graph of odd order is regular with odd degree."]})}),e.jsx(q,{title:"Corollary: Edges in Regular Graphs",children:e.jsxs("p",{children:["A ",e.jsx(s,{math:"k"}),"-regular graph with ",e.jsx(s,{math:"n"})," vertices has ",e.jsx(s,{math:"nk/2"})," edges."]})}),e.jsx("h2",{children:"Hypercubes"}),e.jsxs(B,{title:"k-dimensional Cube (Hypercube)",children:[e.jsxs("p",{children:["The ",e.jsxs("strong",{children:[e.jsx(s,{math:"k"}),"-dimensional cube"]})," or ",e.jsx("strong",{children:"hypercube"})," ",e.jsx(s,{math:"Q_k"})," is the simple graph whose vertices are the ",e.jsx(s,{math:"k"}),"-tuples with entries in ",e.jsx(s,{math:"\\{0, 1\\}"})," and whose edges are the pairs of"," ",e.jsx(s,{math:"k"}),"-tuples that differ in exactly one position."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsxs("strong",{children:[e.jsx(s,{math:"j"}),"-dimensional subcube"]})," of ",e.jsx(s,{math:"Q_k"})," is a subgraph of ",e.jsx(s,{math:"Q_k"})," isomorphic to ",e.jsx(s,{math:"Q_j"}),"."]})]}),e.jsxs(re,{title:"Structure of Hypercubes",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"parity"})," of a vertex in ",e.jsx(s,{math:"Q_k"})," is the parity of the number of 1s in its name (even or odd). Each edge of ",e.jsx(s,{math:"Q_k"})," has an even vertex and an odd vertex as endpoints. Hence:"]}),e.jsxs("ul",{className:"list-disc ml-6 mt-2 space-y-1",children:[e.jsx("li",{children:"The even vertices form an independent set, as do the odd vertices"}),e.jsxs("li",{children:[e.jsx(s,{math:"Q_k"})," is bipartite"]}),e.jsxs("li",{children:[e.jsx(s,{math:"n(Q_k) = 2^k"})," (each position can be 0 or 1)"]}),e.jsxs("li",{children:[e.jsx(s,{math:"Q_k"})," is ",e.jsx(s,{math:"k"}),"-regular (change any one position)"]}),e.jsxs("li",{children:["By Corollary 1.3.6, ",e.jsx(s,{math:"e(Q_k) = k \\cdot 2^{k-1}"})]})]}),e.jsxs("p",{className:"mt-3",children:[e.jsx("strong",{children:"Recursive description:"})," To form ",e.jsx(s,{math:"Q_k"}),", take two copies of ",e.jsx(s,{math:"Q_{k-1}"}),", append 0 to all vertex names in one copy and 1 in the other, then add edges joining vertices whose first ",e.jsx(s,{math:"k-1"})," coordinates are equal. The basis is the 1-vertex graph ",e.jsx(s,{math:"Q_0"}),"."]})]}),e.jsxs(q,{title:"Regular Bipartite Graphs",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"k > 0"}),", then a ",e.jsx(s,{math:"k"}),"-regular bipartite graph has the same number of vertices in each partite set."]}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["Let ",e.jsx(s,{math:"G"})," be an ",e.jsx(s,{math:"X, Y"}),"-bigraph. Counting the edges according to their endpoints in ",e.jsx(s,{math:"X"})," yields"," ",e.jsx(s,{math:"e(G) = k|X|"}),". Counting them by their endpoints in"," ",e.jsx(s,{math:"Y"})," yields ",e.jsx(s,{math:"e(G) = k|Y|"}),". Thus"," ",e.jsx(s,{math:"k|X| = k|Y|"}),", which yields ",e.jsx(s,{math:"|X| = |Y|"})," when"," ",e.jsx(s,{math:"k > 0"}),"."]})})]})]}),e.jsx("h2",{children:"Extremal Problems"}),e.jsxs("p",{children:["An ",e.jsx("strong",{children:"extremal problem"})," asks for the maximum or minimum value of a function over a class of objects. For example, the maximum number of edges in a simple graph with ",e.jsx(s,{math:"n"})," vertices is ",e.jsx(s,{math:"\\binom{n}{2}"}),"."]}),e.jsxs(q,{title:"Minimum Edges for Connectivity",children:[e.jsxs("p",{children:["The minimum number of edges in a connected graph with ",e.jsx(s,{math:"n"})," vertices is ",e.jsx(s,{math:"n - 1"}),"."]}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Every graph with ",e.jsx(s,{math:"n"})," vertices and ",e.jsx(s,{math:"k"})," edges has at least ",e.jsx(s,{math:"n - k"})," components. Hence every ",e.jsx(s,{math:"n"}),"-vertex graph with fewer than ",e.jsx(s,{math:"n - 1"})," edges has at least two components and is disconnected."]}),e.jsxs("p",{className:"mt-2",children:["The contrapositive is that every connected ",e.jsx(s,{math:"n"}),"-vertex graph has at least ",e.jsx(s,{math:"n - 1"})," edges. This lower bound is achieved by the path ",e.jsx(s,{math:"P_n"}),"."]})]})]})]}),e.jsxs(q,{title:"Minimum Degree for Connectivity",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," is a simple ",e.jsx(s,{math:"n"}),"-vertex graph with"," ",e.jsx(s,{math:"\\delta(G) \\geq (n-1)/2"}),", then ",e.jsx(s,{math:"G"})," is connected."]}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Choose ",e.jsx(s,{math:"u, v \\in V(G)"}),". It suffices to show that"," ",e.jsx(s,{math:"u, v"})," have a common neighbor if they are not adjacent. Since ",e.jsx(s,{math:"G"})," is simple, we have"," ",e.jsx(s,{math:"|N(u)| \\geq \\delta(G) \\geq (n-1)/2"}),", and similarly for"," ",e.jsx(s,{math:"v"}),"."]}),e.jsxs("p",{className:"mt-2",children:["When ",e.jsx(s,{math:"u \\not\\leftrightarrow v"}),", we have"," ",e.jsx(s,{math:"|N(u) \\cup N(v)| \\leq n - 2"}),", since ",e.jsx(s,{math:"u"})," and"," ",e.jsx(s,{math:"v"})," are not in the union. Thus:"]}),e.jsx(W,{math:"|N(u) \\cap N(v)| = |N(u)| + |N(v)| - |N(u) \\cup N(v)| \\geq \\frac{n-1}{2} + \\frac{n-1}{2} - (n-2) = 1."})]})]})]}),e.jsxs(re,{title:"Sharpness of the Bound",children:[e.jsxs("p",{children:["The bound ",e.jsx(s,{math:"\\delta(G) \\geq (n-1)/2"})," is ",e.jsx("strong",{children:"sharp"}),". Let"," ",e.jsx(s,{math:"G"})," be the ",e.jsx(s,{math:"n"}),"-vertex graph with components isomorphic to ",e.jsx(s,{math:"K_{\\lfloor n/2 \\rfloor}"})," and"," ",e.jsx(s,{math:"K_{\\lceil n/2 \\rceil}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{math:"\\delta(G) = \\lfloor n/2 \\rfloor - 1"})," and ",e.jsx(s,{math:"G"})," is disconnected, the inequality cannot be weakened."]})]}),e.jsxs(B,{title:"Disjoint Union",children:[e.jsxs("p",{children:["The graph obtained by taking the union of graphs ",e.jsx(s,{math:"G"})," and"," ",e.jsx(s,{math:"H"})," with disjoint vertex sets is the ",e.jsx("strong",{children:"disjoint union"})," or"," ",e.jsx("strong",{children:"sum"}),", written ",e.jsx(s,{math:"G + H"}),"."]}),e.jsxs("p",{className:"mt-2",children:["In general, ",e.jsx(s,{math:"mG"})," is the graph consisting of ",e.jsx(s,{math:"m"})," pairwise disjoint copies of ",e.jsx(s,{math:"G"}),"."]})]}),e.jsx("h2",{children:"Large Bipartite Subgraphs"}),e.jsxs(q,{title:"Large Bipartite Subgraphs",children:[e.jsxs("p",{children:["Every loopless graph ",e.jsx(s,{math:"G"})," has a bipartite subgraph with at least ",e.jsx(s,{math:"e(G)/2"})," edges."]}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof (Algorithmic)"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Start with any partition of ",e.jsx(s,{math:"V(G)"})," into two sets"," ",e.jsx(s,{math:"X, Y"}),". Using the edges having one endpoint in each set yields a bipartite subgraph ",e.jsx(s,{math:"H"})," with bipartition ",e.jsx(s,{math:"X, Y"}),"."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"H"})," contains fewer than half the edges of ",e.jsx(s,{math:"G"})," incident to a vertex ",e.jsx(s,{math:"v"}),", then ",e.jsx(s,{math:"v"})," has more edges to vertices in its own class than in the other class. Moving ",e.jsx(s,{math:"v"})," to the other class gains more edges than it loses."]}),e.jsxs("p",{className:"mt-2",children:["Each such switch increases the size of the subgraph, so the process must terminate. When it terminates, ",e.jsx(s,{math:"d_H(v) \\geq d_G(v)/2"})," for every"," ",e.jsx(s,{math:"v \\in V(G)"}),". Summing this and applying the degree-sum formula yields ",e.jsx(s,{math:"e(H) \\geq e(G)/2"}),"."]})]})]})]}),e.jsx("h2",{children:"Mantel's Theorem"}),e.jsx(B,{title:"H-free Graphs",children:e.jsxs("p",{children:["A graph ",e.jsx(s,{math:"G"})," is ",e.jsxs("strong",{children:[e.jsx(s,{math:"H"}),"-free"]})," if"," ",e.jsx(s,{math:"G"})," has no induced subgraph isomorphic to ",e.jsx(s,{math:"H"}),"."]})}),e.jsxs(q,{title:"Mantel's Theorem (1907)",children:[e.jsxs("p",{children:["The maximum number of edges in an ",e.jsx(s,{math:"n"}),"-vertex triangle-free simple graph is ",e.jsx(s,{math:"\\lfloor n^2/4 \\rfloor"}),"."]}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"G"})," be an ",e.jsx(s,{math:"n"}),"-vertex triangle-free simple graph. Let ",e.jsx(s,{math:"x"})," be a vertex of maximum degree, with"," ",e.jsx(s,{math:"k = d(x)"}),". Since ",e.jsx(s,{math:"G"})," has no triangles, there are no edges among neighbors of ",e.jsx(s,{math:"x"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Hence summing the degrees of ",e.jsx(s,{math:"x"})," and its non-neighbors counts at least one endpoint of every edge:"]}),e.jsx(W,{math:"\\sum_{v \\notin N(x)} d(v) \\geq e(G)."}),e.jsxs("p",{className:"mt-2",children:["We sum over ",e.jsx(s,{math:"n - k"})," vertices, each having degree at most"," ",e.jsx(s,{math:"k"}),", so ",e.jsx(s,{math:"e(G) \\leq (n-k)k"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{math:"(n-k)k"})," counts the edges in ",e.jsx(s,{math:"K_{n-k,k}"}),", we have proved that ",e.jsx(s,{math:"e(G)"})," is bounded by the size of some biclique with ",e.jsx(s,{math:"n"})," vertices. The product ",e.jsx(s,{math:"(n-k)k"})," is maximized when ",e.jsx(s,{math:"k = \\lceil n/2 \\rceil"})," or ",e.jsx(s,{math:"k = \\lfloor n/2 \\rfloor"}),". Thus ",e.jsx(s,{math:"e(G) \\leq \\lfloor n^2/4 \\rfloor"}),"."]}),e.jsxs("p",{className:"mt-2",children:["To prove the bound is best possible, we exhibit a triangle-free graph with"," ",e.jsx(s,{math:"\\lfloor n^2/4 \\rfloor"})," edges:"," ",e.jsx(s,{math:"K_{\\lfloor n/2 \\rfloor, \\lceil n/2 \\rceil}"}),"."]})]})]})]}),e.jsx("h2",{children:"Graphic Sequences"}),e.jsx(B,{title:"Degree Sequence",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"degree sequence"})," of a graph is the list of vertex degrees, usually written in nonincreasing order, as ",e.jsx(s,{math:"d_1 \\geq \\cdots \\geq d_n"}),"."]})}),e.jsxs("p",{children:["Every graph has a degree sequence, but which sequences occur? The degree-sum formula implies that ",e.jsx(s,{math:"\\sum d_i"})," must be even. When we allow loops and multiple edges, this condition is sufficient:"]}),e.jsx(q,{title:"Realizability with Loops",children:e.jsxs("p",{children:["The nonnegative integers ",e.jsx(s,{math:"d_1, \\ldots, d_n"})," are the vertex degrees of some graph if and only if ",e.jsx(s,{math:"\\sum d_i"})," is even."]})}),e.jsx(B,{title:"Graphic Sequence",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"graphic sequence"})," is a list of nonnegative numbers that is the degree sequence of some simple graph. A simple graph with degree sequence ",e.jsx(s,{math:"d"})," ",'"realizes" ',e.jsx(s,{math:"d"}),"."]})}),e.jsxs(q,{title:"Havel-Hakimi Theorem (1955, 1962)",children:[e.jsxs("p",{children:["For ",e.jsx(s,{math:"n > 1"}),", an integer list ",e.jsx(s,{math:"d"})," of size"," ",e.jsx(s,{math:"n"})," is graphic if and only if ",e.jsx(s,{math:"d'"})," is graphic, where ",e.jsx(s,{math:"d'"})," is obtained from ",e.jsx(s,{math:"d"})," by deleting its largest element ",e.jsx(s,{math:"\\Delta"})," and subtracting 1 from its"," ",e.jsx(s,{math:"\\Delta"})," next largest elements."]}),e.jsxs("p",{className:"mt-2",children:["The only 1-element graphic sequence is ",e.jsx(s,{math:"d_1 = 0"}),"."]}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Sufficiency:"})," Given a simple graph ",e.jsx(s,{math:"G'"})," with degree sequence ",e.jsx(s,{math:"d'"}),", add a new vertex adjacent to vertices with degrees"," ",e.jsx(s,{math:"d_2 - 1, \\ldots, d_{\\Delta+1} - 1"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Necessity:"})," Begin with a simple graph ",e.jsx(s,{math:"G"})," realizing"," ",e.jsx(s,{math:"d"}),". Using 2-switches (edge swaps that preserve degrees), we can transform ",e.jsx(s,{math:"G"})," so that a vertex of maximum degree is adjacent to vertices with the ",e.jsx(s,{math:"\\Delta"})," highest other degrees. Deleting this vertex yields a graph realizing ",e.jsx(s,{math:"d'"}),"."]})]})]})]}),e.jsxs(re,{title:"Testing Graphic Sequences",children:[e.jsxs("p",{children:["To test whether ",e.jsx(s,{math:"3, 3, 3, 3, 3, 2, 2, 1"})," is graphic:"]}),e.jsxs("ol",{className:"list-decimal ml-6 mt-2 space-y-1",children:[e.jsxs("li",{children:["Delete 3, subtract 1 from next 3 largest: ",e.jsx(s,{math:"2, 2, 2, 3, 2, 2, 1"})]}),e.jsxs("li",{children:["Reorder: ",e.jsx(s,{math:"3, 2, 2, 2, 2, 2, 1"})]}),e.jsxs("li",{children:["Delete 3, subtract 1 from next 3: ",e.jsx(s,{math:"1, 1, 1, 2, 2, 1"})]}),e.jsxs("li",{children:["Reorder: ",e.jsx(s,{math:"2, 2, 1, 1, 1, 1"})]}),e.jsxs("li",{children:["Continue until reaching ",e.jsx(s,{math:"1, 1, 1, 1, 0"})," or similar base case"]})]}),e.jsx("p",{className:"mt-2",children:"If we reach all zeros, the sequence is graphic. If we get negative numbers or cannot continue, it is not."})]}),e.jsx("h2",{children:"2-Switches"}),e.jsx(B,{title:"2-Switch",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"2-switch"})," is the replacement of a pair of edges ",e.jsx(s,{math:"xy"})," and"," ",e.jsx(s,{math:"zw"})," in a simple graph by the edges ",e.jsx(s,{math:"yz"})," and"," ",e.jsx(s,{math:"wx"}),", given that ",e.jsx(s,{math:"yz"})," and ",e.jsx(s,{math:"wx"})," did not appear in the graph originally."]})}),e.jsxs("p",{children:["A 2-switch preserves all vertex degrees. If ",e.jsx(s,{math:"y \\leftrightarrow z"})," or"," ",e.jsx(s,{math:"w \\leftrightarrow x"}),", then the 2-switch cannot be performed because the resulting graph would not be simple."]}),e.jsx(q,{title:"Berge's Theorem on 2-Switches",children:e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," and ",e.jsx(s,{math:"H"})," are two simple graphs with vertex set ",e.jsx(s,{math:"V"}),", then ",e.jsx(s,{math:"d_G(v) = d_H(v)"})," for every"," ",e.jsx(s,{math:"v \\in V"})," if and only if there is a sequence of 2-switches that transforms ",e.jsx(s,{math:"G"})," into ",e.jsx(s,{math:"H"}),"."]})}),e.jsx("p",{children:"This theorem shows that any two simple graphs with the same degree sequence are connected by a sequence of local edge-swapping operations."}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsxs("li",{children:["The ",e.jsx("strong",{children:"Degree-Sum Formula"})," ",e.jsx(s,{math:"\\sum d(v) = 2e(G)"})," is fundamental, implying that every graph has an even number of odd-degree vertices."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Hypercubes"})," ",e.jsx(s,{math:"Q_k"})," are ",e.jsx(s,{math:"k"}),"-regular bipartite graphs with ",e.jsx(s,{math:"2^k"})," vertices and ",e.jsx(s,{math:"k2^{k-1}"})," edges."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Extremal problems"})," ask for the maximum/minimum of a function over a class of graphs; proving sharpness requires both a bound and an achieving example."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Mantel's Theorem:"})," The maximum edges in a triangle-free"," ",e.jsx(s,{math:"n"}),"-vertex graph is ",e.jsx(s,{math:"\\lfloor n^2/4 \\rfloor"}),", achieved by ",e.jsx(s,{math:"K_{\\lfloor n/2 \\rfloor, \\lceil n/2 \\rceil}"}),"."]}),e.jsxs("li",{children:["The ",e.jsx("strong",{children:"Havel-Hakimi Theorem"})," provides a recursive algorithm to test whether a sequence of integers is graphic (realizable by a simple graph)."]})]})]})}function mG(){return e.jsxs(ze,{sectionId:4,children:[e.jsxs("p",{children:["We have used graphs to model symmetric relations. Relations need not be symmetric; in general, a relation on ",e.jsx(s,{math:"S"})," can be any set of ordered pairs in ",e.jsx(s,{math:"S \\times S"}),". For such relations, we need a more general model:",e.jsx("strong",{children:" directed graphs"}),"."]}),e.jsx("h2",{children:"Definitions and Examples"}),e.jsxs(B,{title:"Directed Graph (Digraph)",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"directed graph"})," or ",e.jsx("strong",{children:"digraph"})," ",e.jsx(s,{math:"G"})," is a triple consisting of a ",e.jsx("strong",{children:"vertex set"})," ",e.jsx(s,{math:"V(G)"}),", an"," ",e.jsx("strong",{children:"edge set"})," ",e.jsx(s,{math:"E(G)"}),", and a function assigning each edge an ordered pair of vertices."]}),e.jsxs("p",{className:"mt-2",children:["The first vertex of the ordered pair is the ",e.jsx("strong",{children:"tail"})," of the edge, and the second is the ",e.jsx("strong",{children:"head"}),"; together, they are the ",e.jsx("strong",{children:"endpoints"}),". We say that an edge is an edge ",e.jsx("em",{children:"from"})," its tail ",e.jsx("em",{children:"to"})," its head."]})]}),e.jsx("p",{children:'The terms "head" and "tail" come from the arrows used to draw digraphs. When drawing a digraph, we give each curve a direction from the tail to the head.'}),e.jsxs(B,{title:"Simple Digraphs",children:[e.jsxs("p",{children:["In a digraph, a ",e.jsx("strong",{children:"loop"})," is an edge whose endpoints are equal."," ",e.jsx("strong",{children:"Multiple edges"})," are edges having the same ordered pair of endpoints."]}),e.jsxs("p",{className:"mt-2",children:["A digraph is ",e.jsx("strong",{children:"simple"})," if each ordered pair is the head and tail of at most one edge; one loop may be present at each vertex."]}),e.jsxs("p",{className:"mt-2",children:["In a simple digraph, we write ",e.jsx(s,{math:"uv"})," for an edge with tail"," ",e.jsx(s,{math:"u"})," and head ",e.jsx(s,{math:"v"}),". If there is an edge from"," ",e.jsx(s,{math:"u"})," to ",e.jsx(s,{math:"v"}),", then ",e.jsx(s,{math:"v"})," is a"," ",e.jsx("strong",{children:"successor"})," of ",e.jsx(s,{math:"u"}),", and ",e.jsx(s,{math:"u"})," is a"," ",e.jsx("strong",{children:"predecessor"})," of ",e.jsx(s,{math:"v"}),". We write"," ",e.jsx(s,{math:"u \\to v"}),' for "there is an edge from ',e.jsx(s,{math:"u"})," to"," ",e.jsx(s,{math:"v"}),'".']})]}),e.jsxs(re,{title:"Finite State Machines",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"finite state machine"}),' (also called finite automaton or discrete system) has a number of possible "states". Such a system can be modeled using a digraph in which vertices represent the states and edges represent the possible transitions between states.']}),e.jsx("p",{className:"mt-2",children:"Transitions inherently move in one direction, so digraphs provide the appropriate model. Labels on the edges can record the events that cause the transitions. When an event causes the system to remain in the same state, we have a loop."})]}),e.jsxs(re,{title:"Functional Digraphs",children:[e.jsxs("p",{children:["We can study a function ",e.jsx(s,{math:"f: A \\to A"})," using digraphs. The"," ",e.jsx("strong",{children:"functional digraph"})," of ",e.jsx(s,{math:"f"})," is the simple digraph with vertex set ",e.jsx(s,{math:"A"})," and edge set"," ",e.jsx(s,{math:"\\{(x, f(x)): x \\in A\\}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For each ",e.jsx(s,{math:"x"}),", the single edge with tail ",e.jsx(s,{math:"x"})," points to the image of ",e.jsx(s,{math:"x"})," under ",e.jsx(s,{math:"f"}),". Following a path corresponds to iterating the function."]}),e.jsxs("p",{className:"mt-2",children:["In a ",e.jsx("strong",{children:"permutation"}),", each element is the image of exactly one element, so the functional digraph has one head and one tail at each vertex. Hence the functional digraph of a permutation consists of disjoint cycles."]})]}),e.jsx("h2",{children:"Underlying Graphs and Connectivity"}),e.jsx(B,{title:"Underlying Graph",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"underlying graph"})," of a digraph ",e.jsx(s,{math:"D"})," is the graph ",e.jsx(s,{math:"G"})," obtained by treating the edges of ",e.jsx(s,{math:"D"})," as unordered pairs; the vertex set and edge set remain the same, and the endpoints of an edge are the same in ",e.jsx(s,{math:"G"})," as in ",e.jsx(s,{math:"D"}),", but in"," ",e.jsx(s,{math:"G"})," they become an unordered pair."]})}),e.jsxs(B,{title:"Paths and Cycles in Digraphs",children:[e.jsxs("p",{children:["A digraph is a ",e.jsx("strong",{children:"path"})," if it is a simple digraph whose vertices can be linearly ordered so that there is an edge with tail ",e.jsx(s,{math:"u"})," and head"," ",e.jsx(s,{math:"v"})," if and only if ",e.jsx(s,{math:"v"})," immediately follows"," ",e.jsx(s,{math:"u"})," in the vertex ordering."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"cycle"})," is defined similarly using an ordering of the vertices on a circle."]})]}),e.jsxs(B,{title:"Weak and Strong Connectivity",children:[e.jsxs("p",{children:["A digraph is ",e.jsx("strong",{children:"weakly connected"})," if its underlying graph is connected."]}),e.jsxs("p",{className:"mt-2",children:["A digraph is ",e.jsx("strong",{children:"strongly connected"})," or ",e.jsx("strong",{children:"strong"})," if for each ordered pair ",e.jsx(s,{math:"u, v"})," of vertices, there is a path from"," ",e.jsx(s,{math:"u"})," to ",e.jsx(s,{math:"v"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"strong components"})," of a digraph are its maximal strong subgraphs."]})]}),e.jsx(re,{title:"Strong Components",children:e.jsxs("p",{children:["The 2-vertex digraph consisting only of the edge ",e.jsx(s,{math:"xy"})," has an"," ",e.jsx(s,{math:"x, y"}),"-path but no ",e.jsx(s,{math:"y, x"}),"-path and is not strongly connected. As a digraph, an ",e.jsx(s,{math:"n"}),"-vertex path has"," ",e.jsx(s,{math:"n"})," strong components, but a cycle has only one."]})}),e.jsxs(B,{title:"Matrices for Digraphs",children:[e.jsxs("p",{children:["In the ",e.jsx("strong",{children:"adjacency matrix"})," ",e.jsx(s,{math:"A(G)"})," of a digraph"," ",e.jsx(s,{math:"G"}),", the entry in position ",e.jsx(s,{math:"i, j"})," is the number of edges from ",e.jsx(s,{math:"v_i"})," to ",e.jsx(s,{math:"v_j"}),"."]}),e.jsxs("p",{className:"mt-2",children:["In the ",e.jsx("strong",{children:"incidence matrix"})," ",e.jsx(s,{math:"M(G)"})," of a loopless digraph"," ",e.jsx(s,{math:"G"}),", we set ",e.jsx(s,{math:"m_{i,j} = +1"})," if"," ",e.jsx(s,{math:"v_i"})," is the tail of ",e.jsx(s,{math:"e_j"})," and"," ",e.jsx(s,{math:"m_{i,j} = -1"})," if ",e.jsx(s,{math:"v_i"})," is the head of"," ",e.jsx(s,{math:"e_j"}),"."]})]}),e.jsx("h2",{children:"Vertex Degrees in Digraphs"}),e.jsxs(B,{title:"Indegree and Outdegree",children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"v"})," be a vertex in a digraph."]}),e.jsxs("ul",{className:"list-disc ml-6 mt-2 space-y-1",children:[e.jsxs("li",{children:["The ",e.jsx("strong",{children:"outdegree"})," ",e.jsx(s,{math:"d^+(v)"})," is the number of edges with tail ",e.jsx(s,{math:"v"}),"."]}),e.jsxs("li",{children:["The ",e.jsx("strong",{children:"indegree"})," ",e.jsx(s,{math:"d^-(v)"})," is the number of edges with head ",e.jsx(s,{math:"v"}),"."]}),e.jsxs("li",{children:["The ",e.jsx("strong",{children:"out-neighborhood"})," or ",e.jsx("strong",{children:"successor set"})," ",e.jsx(s,{math:"N^+(v) = \\{x \\in V(G): v \\to x\\}"}),"."]}),e.jsxs("li",{children:["The ",e.jsx("strong",{children:"in-neighborhood"})," or ",e.jsx("strong",{children:"predecessor set"})," ",e.jsx(s,{math:"N^-(v) = \\{x \\in V(G): x \\to v\\}"}),"."]})]}),e.jsxs("p",{className:"mt-2",children:["The minimum and maximum indegree are ",e.jsx(s,{math:"\\delta^-(G)"})," and"," ",e.jsx(s,{math:"\\Delta^-(G)"}),"; for outdegree we use ",e.jsx(s,{math:"\\delta^+(G)"})," ","and ",e.jsx(s,{math:"\\Delta^+(G)"}),"."]})]}),e.jsxs(q,{title:"Degree-Sum Formula for Digraphs",children:[e.jsxs("p",{children:["In a digraph ",e.jsx(s,{math:"G"}),","]}),e.jsx(W,{math:"\\sum_{v \\in V(G)} d^+(v) = e(G) = \\sum_{v \\in V(G)} d^-(v)."}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsx("p",{children:"Every edge has exactly one tail and exactly one head."})})]})]}),e.jsx("h2",{children:"Eulerian Digraphs"}),e.jsxs("p",{children:['The definitions of trail, walk, circuit, and the connection relation are the same in graphs and digraphs when we list edges as ordered pairs of vertices. In a digraph, the successive edges must "follow the arrows". In a walk'," ",e.jsx(s,{math:"v_0, e_1, \\ldots, e_k, v_k"}),", the edge ",e.jsx(s,{math:"e_i"})," has tail ",e.jsx(s,{math:"v_{i-1}"})," and head ",e.jsx(s,{math:"v_i"}),"."]}),e.jsx(B,{title:"Eulerian Digraphs",children:e.jsxs("p",{children:["An ",e.jsx("strong",{children:"Eulerian trail"})," in a digraph (or graph) is a trail containing all edges. An ",e.jsx("strong",{children:"Eulerian circuit"})," is a closed trail containing all edges. A digraph is ",e.jsx("strong",{children:"Eulerian"})," if it has an Eulerian circuit."]})}),e.jsx(q,{title:"Characterization of Eulerian Digraphs",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Necessity:"})," Suppose ",e.jsx(s,{math:"D"})," has an Eulerian circuit"," ",e.jsx(s,{math:"C"}),". Each passage of ",e.jsx(s,{math:"C"})," through a vertex"," ",e.jsx(s,{math:"v"})," uses one edge entering ",e.jsx(s,{math:"v"})," and one edge leaving ",e.jsx(s,{math:"v"}),". Since ",e.jsx(s,{math:"C"})," uses every edge exactly once and the circuit closes, ",e.jsx(s,{math:"d^+(v) = d^-(v)"})," for each vertex."]}),e.jsx("p",{className:"mt-2",children:"Furthermore, any two edges in the same trail must lie in the same component of the underlying graph. Since all edges are in one circuit, the underlying graph has at most one nontrivial component."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Sufficiency:"})," We prove by induction on the number of edges"," ",e.jsx(s,{math:"m"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("em",{children:"Base case:"})," If ",e.jsx(s,{math:"m = 0"}),", a single vertex forms a trivial Eulerian circuit."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("em",{children:"Induction step:"})," Assume ",e.jsx(s,{math:"m > 0"})," and the result holds for digraphs with fewer edges. Since ",e.jsx(s,{math:"d^+(v) = d^-(v) \\geq 1"})," for vertices in the nontrivial component, each such vertex has at least one outgoing edge."]}),e.jsxs("p",{className:"mt-2",children:["Start at any vertex ",e.jsx(s,{math:"u"})," in the nontrivial component and follow edges, never repeating an edge. Since ",e.jsx(s,{math:"d^+(v) = d^-(v)"})," at each vertex, whenever we enter a vertex (other than ",e.jsx(s,{math:"u"}),"), we can leave it. We must eventually return to ",e.jsx(s,{math:"u"}),", forming a closed trail"," ",e.jsx(s,{math:"C"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{math:"D' = D - E(C)"}),". Since ",e.jsx(s,{math:"C"})," contributes equally to indegree and outdegree at each vertex, ",e.jsx(s,{math:"D'"})," still satisfies ",e.jsx(s,{math:"d^+(v) = d^-(v)"})," for all ",e.jsx(s,{math:"v"}),". Each component of ",e.jsx(s,{math:"D'"})," has fewer edges than ",e.jsx(s,{math:"D"}),", so by induction each has an Eulerian circuit."]}),e.jsxs("p",{className:"mt-2",children:["Combine these into an Eulerian circuit of ",e.jsx(s,{math:"D"})," by traversing"," ",e.jsx(s,{math:"C"}),", and when first entering a vertex belonging to a component of"," ",e.jsx(s,{math:"D'"}),", detour along that component's Eulerian circuit before continuing on ",e.jsx(s,{math:"C"}),"."]})]}),children:e.jsxs("p",{children:["A digraph is Eulerian if and only if ",e.jsx(s,{math:"d^+(v) = d^-(v)"})," for each vertex ",e.jsx(s,{math:"v"})," and the underlying graph has at most one nontrivial component."]})}),e.jsx("p",{children:"Every Eulerian digraph with no isolated vertices is strongly connected, although the characterization states that being weakly connected is sufficient."}),e.jsxs(re,{title:"de Bruijn Cycles",children:[e.jsxs("p",{children:["There are ",e.jsx(s,{math:"2^n"})," binary strings of length ",e.jsx(s,{math:"n"}),". Is there a cyclic arrangement of ",e.jsx(s,{math:"2^n"})," binary digits such that the"," ",e.jsx(s,{math:"2^n"})," strings of ",e.jsx(s,{math:"n"})," consecutive digits are all distinct?"]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(s,{math:"n = 4"}),", the sequence ",e.jsx("code",{children:"(0000111101100101)"})," works."]}),e.jsxs("p",{className:"mt-2",children:["Define a digraph ",e.jsx(s,{math:"D_n"})," whose vertices are the binary"," ",e.jsx(s,{math:"(n-1)"}),"-tuples. Put an edge from ",e.jsx(s,{math:"a"})," to"," ",e.jsx(s,{math:"b"})," if the last ",e.jsx(s,{math:"n-2"})," entries of"," ",e.jsx(s,{math:"a"})," agree with the first ",e.jsx(s,{math:"n-2"})," entries of"," ",e.jsx(s,{math:"b"}),". Label the edge with the last entry of ",e.jsx(s,{math:"b"}),"."]})]}),e.jsxs(q,{title:"de Bruijn Graphs are Eulerian",children:[e.jsxs("p",{children:["The digraph ",e.jsx(s,{math:"D_n"})," is Eulerian, and the edge labels on any Eulerian circuit of ",e.jsx(s,{math:"D_n"})," form a cyclic arrangement in which the"," ",e.jsx(s,{math:"2^n"})," consecutive segments of length ",e.jsx(s,{math:"n"})," are distinct."]}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Every vertex has outdegree 2 (append 0 or 1 to get a successor) and indegree 2 (prepend 0 or 1 in reverse). Also, ",e.jsx(s,{math:"D_n"})," is strongly connected because we can reach any vertex ",e.jsx(s,{math:"b = (b_1, \\ldots, b_{n-1})"})," from any vertex by following edges labeled ",e.jsx(s,{math:"b_1, \\ldots, b_{n-1}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Since the ",e.jsx(s,{math:"2^{n-1}"})," vertex labels are distinct, and the two edges leaving each vertex have distinct labels, traversing each edge exactly once produces"," ",e.jsx(s,{math:"2^n"})," distinct strings of length ",e.jsx(s,{math:"n"}),"."]})]})]})]}),e.jsx("h2",{children:"Orientations and Tournaments"}),e.jsxs(B,{title:"Orientations and Tournaments",children:[e.jsxs("p",{children:["An ",e.jsx("strong",{children:"orientation"})," of a graph ",e.jsx(s,{math:"G"})," is a digraph"," ",e.jsx(s,{math:"D"})," obtained from ",e.jsx(s,{math:"G"})," by choosing an orientation (",e.jsx(s,{math:"x \\to y"})," or ",e.jsx(s,{math:"y \\to x"}),") for each edge"," ",e.jsx(s,{math:"xy \\in E(G)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["An ",e.jsx("strong",{children:"oriented graph"})," is an orientation of a simple graph."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"tournament"})," is an orientation of a complete graph."]})]}),e.jsxs("p",{children:["An oriented graph is the same thing as a loopless simple digraph. The number of oriented graphs with vertices ",e.jsx(s,{math:"v_1, \\ldots, v_n"})," is"," ",e.jsx(s,{math:"3^{\\binom{n}{2}}"}),"; the number of tournaments is"," ",e.jsx(s,{math:"2^{\\binom{n}{2}}"}),"."]}),e.jsxs(re,{title:"Round-Robin Tournaments",children:[e.jsxs("p",{children:['Orientations of complete graphs model "round-robin tournaments". Consider an'," ",e.jsx(s,{math:"n"}),"-team league where each team plays every other exactly once. For each pair ",e.jsx(s,{math:"u, v"}),", we include edge ",e.jsx(s,{math:"uv"})," if"," ",e.jsx(s,{math:"u"})," wins or ",e.jsx(s,{math:"vu"})," if ",e.jsx(s,{math:"v"})," wins."]}),e.jsxs("p",{className:"mt-2",children:['The "score" of a team is its outdegree, which equals its number of wins. We call the outdegree sequence of a tournament its ',e.jsx("strong",{children:"score sequence"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The outdegrees determine the indegrees, since"," ",e.jsx(s,{math:"d^+(v) + d^-(v) = n - 1"})," for every vertex ",e.jsx(s,{math:"v"}),"."]})]}),e.jsx("h2",{children:"Kings in Tournaments"}),e.jsxs("p",{children:['A tournament may have more than one vertex with maximum outdegree, so there may be no clear "winner". Although there need not be a clear winner, we show next that there must always be a team ',e.jsx(s,{math:"x"})," such that, for every other team"," ",e.jsx(s,{math:"z"}),", either ",e.jsx(s,{math:"x"})," beats ",e.jsx(s,{math:"z"})," or"," ",e.jsx(s,{math:"x"})," beats some team that beats ",e.jsx(s,{math:"z"}),"."]}),e.jsx(B,{title:"King",children:e.jsxs("p",{children:["In a digraph, a ",e.jsx("strong",{children:"king"})," is a vertex from which every vertex is reachable by a path of length at most 2."]})}),e.jsxs(q,{title:"Landau's Theorem (1953)",children:[e.jsx("p",{children:"Every tournament has a king."}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"x"})," be a vertex in a tournament ",e.jsx(s,{math:"T"}),". If ",e.jsx(s,{math:"x"})," is not a king, then some vertex ",e.jsx(s,{math:"y"})," is not reachable from ",e.jsx(s,{math:"x"})," by a path of length at most 2."]}),e.jsxs("p",{className:"mt-2",children:["Hence no successor of ",e.jsx(s,{math:"x"})," is a predecessor of"," ",e.jsx(s,{math:"y"}),". Since ",e.jsx(s,{math:"T"})," is an orientation of a clique, every successor of ",e.jsx(s,{math:"x"})," must be a successor of"," ",e.jsx(s,{math:"y"}),". Also ",e.jsx(s,{math:"y \\to x"}),". Hence"," ",e.jsx(s,{math:"d^+(y) > d^+(x)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"y"})," is not a king, repeat the argument to find"," ",e.jsx(s,{math:"z"})," with yet larger outdegree. Since ",e.jsx(s,{math:"T"})," is finite, we cannot forever obtain vertices of successively higher outdegree. The procedure must terminate, and it can terminate only when we have found a king."]})]})]})]}),e.jsxs("p",{children:["In the language of extremality, we have proved that"," ",e.jsx("strong",{children:"every vertex of maximum outdegree in a tournament is a king"}),"."]}),e.jsx("h2",{children:"Kernels in Digraphs"}),e.jsx(B,{title:"Kernel",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"kernel"})," in the digraph ",e.jsx(s,{math:"D"})," is a set"," ",e.jsx(s,{math:"S \\subseteq V(D)"})," such that ",e.jsx(s,{math:"S"})," induces no edges and every vertex outside ",e.jsx(s,{math:"S"})," has a successor in ",e.jsx(s,{math:"S"}),"."]})}),e.jsx("p",{children:"A digraph that is an odd cycle has no kernel, but forbidding odd cycles as subdigraphs always yields a kernel."}),e.jsxs(q,{title:"Richardson's Theorem (1953)",children:[e.jsx("p",{children:"Every digraph having no odd cycle has a kernel."}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["For a strongly connected digraph ",e.jsx(s,{math:"D"})," with no odd cycle: given an arbitrary vertex ",e.jsx(s,{math:"y \\in V(D)"}),", let ",e.jsx(s,{math:"S"})," be the set of vertices with even distance to ",e.jsx(s,{math:"y"}),". Every vertex with odd distance to ",e.jsx(s,{math:"y"})," has a successor in ",e.jsx(s,{math:"S"}),"."]}),e.jsxs("p",{className:"mt-2",children:["If vertices of ",e.jsx(s,{math:"S"})," were not pairwise nonadjacent, there would be an edge ",e.jsx(s,{math:"uv"})," with ",e.jsx(s,{math:"u, v \\in S"}),", leading to a closed odd walk, which contains an odd cyclea contradiction."]}),e.jsxs("p",{className:"mt-2",children:["For the general case, use induction on ",e.jsx(s,{math:"n(D)"}),", building the kernel from kernels of strong components."]})]})]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsxs("li",{children:["A ",e.jsx("strong",{children:"digraph"})," has directed edges with a tail and head; it models asymmetric relations."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Indegree"})," ",e.jsx(s,{math:"d^-(v)"})," counts incoming edges;"," ",e.jsx("strong",{children:"outdegree"})," ",e.jsx(s,{math:"d^+(v)"})," counts outgoing edges. Their sums both equal ",e.jsx(s,{math:"e(G)"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Strongly connected"})," digraphs have paths between every ordered pair;"," ",e.jsx("strong",{children:"weakly connected"})," only requires the underlying graph to be connected."]}),e.jsxs("li",{children:["A digraph is ",e.jsx("strong",{children:"Eulerian"})," iff ",e.jsx(s,{math:"d^+(v) = d^-(v)"})," for all vertices and the underlying graph has at most one nontrivial component."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Tournaments"})," are orientations of complete graphs; every tournament has a ",e.jsx("strong",{children:"king"})," (a vertex reaching all others in at most 2 steps)."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"de Bruijn graphs"})," are Eulerian digraphs used to generate sequences where all ",e.jsx(s,{math:"n"}),"-substrings are distinct."]})]})]})}function uG(){return e.jsxs(ze,{sectionId:5,children:[e.jsx("p",{children:'The word "tree" suggests branching out from a root and never completing a cycle. Trees as graphs have many applications, especially in data storage, searching, and communication networks. In this section, we develop the fundamental properties of trees and introduce the important concept of distance in graphs.'}),e.jsx("h2",{children:"Interactive Tree Visualizer"}),e.jsx("p",{children:"Use the interactive tool below to explore tree properties. Select a root vertex to see the hierarchical structure, compute distances, and find the tree's center and radius."}),e.jsx(V$,{className:"my-8"}),e.jsx("h2",{children:"Basic Definitions"}),e.jsxs(B,{title:"Trees and Forests",children:[e.jsxs("p",{children:["A graph with no cycle is ",e.jsx("strong",{children:"acyclic"}),". A ",e.jsx("strong",{children:"forest"})," is an acyclic graph. A ",e.jsx("strong",{children:"tree"})," is a connected acyclic graph."]}),e.jsxs("p",{children:["A ",e.jsx("strong",{children:"leaf"})," (or ",e.jsx("strong",{children:"pendant vertex"}),") is a vertex of degree 1."]}),e.jsxs("p",{children:["A ",e.jsx("strong",{children:"spanning subgraph"})," of ",e.jsx(s,{math:"G"})," is a subgraph with vertex set ",e.jsx(s,{math:"V(G)"}),". A ",e.jsx("strong",{children:"spanning tree"})," is a spanning subgraph that is a tree."]})]}),e.jsxs(re,{title:"Trees and Forests",children:[e.jsx("p",{children:"A tree is a connected forest, and every component of a forest is a tree. Since a graph with no cycles has no odd cycles, trees and forests are bipartite."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Paths are trees:"})," A tree is a path if and only if its maximum degree is 2."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Stars:"})," A ",e.jsx("em",{children:"star"})," is a tree consisting of one vertex adjacent to all the others. The ",e.jsx(s,{math:"n"}),"-vertex star is the biclique ",e.jsx(s,{math:"K_{1,n-1}"}),"."]}),e.jsxs("p",{children:["A graph that is a tree has exactly one spanning tree: the full graph itself. Note that a spanning subgraph of ",e.jsx(s,{math:"G"})," need not be connected, and a connected subgraph of ",e.jsx(s,{math:"G"})," need not be spanning."]})]}),e.jsx("h2",{children:"Properties of Trees"}),e.jsx("p",{children:"Trees have many equivalent characterizations, any of which could be taken as the definition. Such characterizations are useful because we need only verify that a graph satisfies any one of them to prove that it is a tree, after which we can use all the other properties."}),e.jsxs(q,{title:"Lemma (Leaves in Trees)",children:[e.jsxs("p",{children:["Every tree with at least two vertices has at least two leaves. Deleting a leaf from an ",e.jsx(s,{math:"n"}),"-vertex tree produces a tree with"," ",e.jsx(s,{math:"n-1"})," vertices."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsx("p",{children:"A connected graph with at least two vertices has an edge. In an acyclic graph, an endpoint of a maximal nontrivial path has no neighbor other than its neighbor on the path. Hence the endpoints of such a path are leaves."}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{math:"v"})," be a leaf of a tree ",e.jsx(s,{math:"G"}),", and let ",e.jsx(s,{math:"G' = G - v"}),". A vertex of degree 1 belongs to no path connecting two other vertices. Therefore, for"," ",e.jsx(s,{math:"u, w \\in V(G')"}),", every ",e.jsx(s,{math:"u,w"}),"-path in ",e.jsx(s,{math:"G"})," is also in ",e.jsx(s,{math:"G'"}),". Hence"," ",e.jsx(s,{math:"G'"})," is connected. Since deleting a vertex cannot create a cycle, ",e.jsx(s,{math:"G'"})," is also acyclic. Thus"," ",e.jsx(s,{math:"G'"})," is a tree with ",e.jsx(s,{math:"n-1"})," vertices."]})]})]})]}),e.jsxs("p",{children:["This lemma implies that every tree with more than one vertex arises from a smaller tree by adding a vertex of degree 1. This rescues proofs from the induction trap: growing an ",e.jsx(s,{math:"(n+1)"}),"-vertex tree from an arbitrary"," ",e.jsx(s,{math:"n"}),"-vertex tree by adding a new neighbor at an arbitrary old vertex generates all trees with ",e.jsx(s,{math:"n+1"})," vertices."]}),e.jsxs(q,{title:"Theorem 2.1.4 (Characterizations of Trees)",children:[e.jsxs("p",{children:["For an ",e.jsx(s,{math:"n"}),"-vertex graph ",e.jsx(s,{math:"G"})," (with"," ",e.jsx(s,{math:"n \\geq 1"}),"), the following are equivalent and characterize the trees with ",e.jsx(s,{math:"n"})," vertices:"]}),e.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[e.jsxs("li",{children:[e.jsx(s,{math:"G"})," is connected and has no cycles."]}),e.jsxs("li",{children:[e.jsx(s,{math:"G"})," is connected and has ",e.jsx(s,{math:"n-1"})," edges."]}),e.jsxs("li",{children:[e.jsx(s,{math:"G"})," has ",e.jsx(s,{math:"n-1"})," edges and no cycles."]}),e.jsxs("li",{children:["For ",e.jsx(s,{math:"u, v \\in V(G)"}),", ",e.jsx(s,{math:"G"})," has exactly one ",e.jsx(s,{math:"u,v"}),"-path."]})]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["We demonstrate equivalence by proving that any two of ","{","connected, acyclic, ",e.jsx(s,{math:"n-1"})," edges","}"," together imply the third."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"(A)  (B), (C):"})," Use induction on"," ",e.jsx(s,{math:"n"}),". For ",e.jsx(s,{math:"n = 1"}),", an acyclic 1-vertex graph has no edge. For ",e.jsx(s,{math:"n > 1"}),", by the lemma, deleting a leaf gives a smaller tree with ",e.jsx(s,{math:"n-2"})," edges, so ",e.jsx(s,{math:"e(G) = n-1"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"(B)  (A), (C):"})," Delete edges from cycles one by one until acyclic. Since no edge of a cycle is a cut-edge, connectivity is preserved. Since ",e.jsx(s,{math:"e(G) = n-1"}),", no edges were deleted."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"(C)  (A), (B):"})," Let"," ",e.jsx(s,{math:"G_1, \\ldots, G_k"})," be the components. Each satisfies (A), so ",e.jsx(s,{math:"e(G_i) = n(G_i) - 1"}),". Summing gives"," ",e.jsx(s,{math:"e(G) = n - k"}),". Since"," ",e.jsx(s,{math:"e(G) = n - 1"}),", we have ",e.jsx(s,{math:"k = 1"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"(A)  (D):"})," Connectivity gives paths; acyclicity ensures uniqueness (otherwise two paths form a cycle)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"(D)  (A):"})," Unique paths imply connectivity. If"," ",e.jsx(s,{math:"G"})," has a cycle, vertices on it have multiple paths."]})]})]})]}),e.jsxs(q,{title:"Corollary 2.1.5 (Properties of Trees)",children:[e.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"Every edge of a tree is a cut-edge."}),e.jsx("li",{children:"Adding one edge to a tree forms exactly one cycle."}),e.jsx("li",{children:"Every connected graph contains a spanning tree."})]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsx("p",{children:"(a) A tree has no cycles, so every edge is a cut-edge."}),e.jsx("p",{className:"mt-2",children:"(b) A tree has a unique path linking each pair of vertices, so joining two vertices by an edge creates exactly one cycle."}),e.jsx("p",{className:"mt-2",children:"(c) Iteratively deleting edges from cycles in a connected graph yields a connected acyclic subgraph (a spanning tree)."})]})]})]}),e.jsxs(q,{title:"Proposition 2.1.6 (Edge Exchange in Spanning Trees)",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"T"})," and ",e.jsx(s,{math:"T'"})," are spanning trees of a connected graph ",e.jsx(s,{math:"G"})," and"," ",e.jsx(s,{math:"e \\in E(T) - E(T')"}),", then there is an edge"," ",e.jsx(s,{math:"e' \\in E(T') - E(T)"})," such that"," ",e.jsx(s,{math:"T - e + e'"})," is a spanning tree of ",e.jsx(s,{math:"G"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["Every edge of ",e.jsx(s,{math:"T"})," is a cut-edge. Let"," ",e.jsx(s,{math:"U"})," and ",e.jsx(s,{math:"U'"})," be the two components of ",e.jsx(s,{math:"T - e"}),". Since ",e.jsx(s,{math:"T'"})," is connected, ",e.jsx(s,{math:"T'"})," has an edge ",e.jsx(s,{math:"e'"})," ","with endpoints in ",e.jsx(s,{math:"U"})," and ",e.jsx(s,{math:"U'"}),". Now"," ",e.jsx(s,{math:"T - e + e'"})," is connected, has"," ",e.jsx(s,{math:"n(G) - 1"})," edges, and is a spanning tree of"," ",e.jsx(s,{math:"G"}),"."]})})]})]}),e.jsxs(q,{title:"Proposition 2.1.7 (Reverse Edge Exchange)",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"T"})," and ",e.jsx(s,{math:"T'"})," are spanning trees of a connected graph ",e.jsx(s,{math:"G"})," and"," ",e.jsx(s,{math:"e \\in E(T) - E(T')"}),", then there is an edge"," ",e.jsx(s,{math:"e' \\in E(T') - E(T)"})," such that"," ",e.jsx(s,{math:"T' + e - e'"})," is a spanning tree of ",e.jsx(s,{math:"G"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["The graph ",e.jsx(s,{math:"T' + e"})," contains a unique cycle"," ",e.jsx(s,{math:"C"}),". Since ",e.jsx(s,{math:"T"})," is acyclic, there is an edge ",e.jsx(s,{math:"e' \\in E(C) - E(T)"}),". Deleting"," ",e.jsx(s,{math:"e'"})," breaks the only cycle in"," ",e.jsx(s,{math:"T' + e"}),". Now ",e.jsx(s,{math:"T' + e - e'"})," is connected and acyclic and is a spanning tree of ",e.jsx(s,{math:"G"}),"."]})})]})]}),e.jsxs(q,{title:"Proposition 2.1.8 (Trees as Subgraphs)",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"T"})," is a tree with ",e.jsx(s,{math:"k"})," edges and"," ",e.jsx(s,{math:"G"})," is a simple graph with"," ",e.jsx(s,{math:"\\delta(G) \\geq k"}),", then ",e.jsx(s,{math:"T"})," is a subgraph of ",e.jsx(s,{math:"G"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Use induction on ",e.jsx(s,{math:"k"}),". For ",e.jsx(s,{math:"k = 0"}),", every simple graph contains ",e.jsx(s,{math:"K_1"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(s,{math:"k > 0"}),", choose a leaf ",e.jsx(s,{math:"v"})," in"," ",e.jsx(s,{math:"T"})," with neighbor ",e.jsx(s,{math:"u"}),". Consider"," ",e.jsx(s,{math:"T' = T - v"}),". By the induction hypothesis,"," ",e.jsx(s,{math:"G"})," contains ",e.jsx(s,{math:"T'"})," as a subgraph since ",e.jsx(s,{math:"\\delta(G) \\geq k > k - 1"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{math:"x"})," be the vertex in this copy of"," ",e.jsx(s,{math:"T'"})," corresponding to ",e.jsx(s,{math:"u"}),". Because"," ",e.jsx(s,{math:"T'"})," has only ",e.jsx(s,{math:"k - 1"})," vertices other than ",e.jsx(s,{math:"u"})," and"," ",e.jsx(s,{math:"d_G(x) \\geq k"}),", ",e.jsx(s,{math:"x"})," has a neighbor"," ",e.jsx(s,{math:"y"})," in ",e.jsx(s,{math:"G"})," not in this copy. Adding edge ",e.jsx(s,{math:"xy"})," expands the copy to include"," ",e.jsx(s,{math:"T"}),"."]})]})]})]}),e.jsxs("p",{children:["The inequality in Proposition 2.1.8 is sharp: the complete graph"," ",e.jsx(s,{math:"K_k"})," has minimum degree ",e.jsx(s,{math:"k - 1"}),", but it contains no tree with ",e.jsx(s,{math:"k"})," edges."]}),e.jsx("h2",{children:"Distance in Trees and Graphs"}),e.jsx("p",{children:"When using graphs to model communication networks, we want vertices to be close together to avoid communication delays. We measure distance using lengths of paths."}),e.jsxs(B,{title:"Distance and Diameter",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," has a ",e.jsx(s,{math:"u,v"}),"-path, then the"," ",e.jsx("strong",{children:"distance"})," from ",e.jsx(s,{math:"u"})," to"," ",e.jsx(s,{math:"v"}),", written ",e.jsx(s,{math:"d_G(u,v)"})," or simply"," ",e.jsx(s,{math:"d(u,v)"}),", is the least length of a"," ",e.jsx(s,{math:"u,v"}),"-path. If ",e.jsx(s,{math:"G"})," has no such path, then ",e.jsx(s,{math:"d(u,v) = \\infty"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"diameter"})," of ",e.jsx(s,{math:"G"}),", written"," ",e.jsx(s,{math:"\\text{diam } G"}),", is:"]}),e.jsx(W,{math:"\\text{diam } G = \\max_{u,v \\in V(G)} d(u,v)"})]}),e.jsxs(B,{title:"Eccentricity and Radius",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"eccentricity"})," of a vertex ",e.jsx(s,{math:"u"}),", written"," ",e.jsx(s,{math:"\\varepsilon(u)"}),", is:"]}),e.jsx(W,{math:"\\varepsilon(u) = \\max_{v \\in V(G)} d(u,v)"}),e.jsxs("p",{children:["The ",e.jsx("strong",{children:"radius"})," of a graph ",e.jsx(s,{math:"G"}),", written"," ",e.jsx(s,{math:"\\text{rad } G"}),", is:"]}),e.jsx(W,{math:"\\text{rad } G = \\min_{u \\in V(G)} \\varepsilon(u)"}),e.jsx("p",{children:"The diameter equals the maximum of the vertex eccentricities."})]}),e.jsxs(re,{title:"Distance in Special Graphs",children:[e.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Petersen graph:"})," Has diameter 2, since nonadjacent vertices have a common neighbor."]}),e.jsxs("li",{children:[e.jsxs("strong",{children:["Hypercube ",e.jsx(s,{math:"Q_k"}),":"]})," Has diameter"," ",e.jsx(s,{math:"k"}),", since it takes ",e.jsx(s,{math:"k"})," steps to change all ",e.jsx(s,{math:"k"})," coordinates."]}),e.jsxs("li",{children:[e.jsxs("strong",{children:["Cycle ",e.jsx(s,{math:"C_n"}),":"]})," Has diameter"," ",e.jsx(s,{math:"\\lfloor n/2 \\rfloor"}),"."]}),e.jsxs("li",{children:[e.jsxs("strong",{children:["Star ",e.jsx(s,{math:"K_{1,n-1}"}),":"]})," For"," ",e.jsx(s,{math:"n \\geq 3"}),", has diameter 2 and radius 1 (minimum diameter among ",e.jsx(s,{math:"n"}),"-vertex trees)."]}),e.jsxs("li",{children:[e.jsxs("strong",{children:["Path ",e.jsx(s,{math:"P_n"}),":"]})," Has diameter"," ",e.jsx(s,{math:"n - 1"})," and radius"," ",e.jsx(s,{math:"\\lceil (n-1)/2 \\rceil"})," (maximum diameter among"," ",e.jsx(s,{math:"n"}),"-vertex trees)."]})]}),e.jsx("p",{className:"mt-2",children:"Every path in a tree is the shortest (the only!) path between its endpoints, so the diameter of a tree is the length of its longest path."})]}),e.jsxs(q,{title:"Theorem 2.1.11 (Diameter of Complement)",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," is a simple graph, then:"]}),e.jsx(W,{math:"\\text{diam } G \\geq 3 \\implies \\text{diam } \\overline{G} \\leq 3"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["When ",e.jsx(s,{math:"\\text{diam } G \\geq 3"}),", there exist nonadjacent vertices ",e.jsx(s,{math:"u, v \\in V(G)"})," with no common neighbor. Hence every ",e.jsx(s,{math:"x \\in V(G) - \\{u, v\\}"})," has at least one of"," ",e.jsx(s,{math:"\\{u, v\\}"})," as a nonneighbor in ",e.jsx(s,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:["This makes ",e.jsx(s,{math:"x"})," adjacent in"," ",e.jsx(s,{math:"\\overline{G}"})," to at least one of"," ",e.jsx(s,{math:"\\{u, v\\}"}),". Since also"," ",e.jsx(s,{math:"uv \\in E(\\overline{G})"}),", for every pair"," ",e.jsx(s,{math:"x, y"})," there is an ",e.jsx(s,{math:"x,y"}),"-path of length at most 3 in ",e.jsx(s,{math:"\\overline{G}"})," through"," ",e.jsx(s,{math:"\\{u, v\\}"}),"."]})]})]})]}),e.jsxs(B,{title:"Center of a Graph",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"center"})," of a graph ",e.jsx(s,{math:"G"})," is the subgraph induced by the vertices of minimum eccentricity."]}),e.jsx("p",{className:"mt-2",children:"The center equals the full graph if and only if the radius and diameter are equal."})]}),e.jsxs(q,{title:"Jordan's Theorem (Center of a Tree)",children:[e.jsx("p",{children:"The center of a tree is a vertex or an edge."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsx("p",{children:"Use induction on the number of vertices."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Base case:"})," For ",e.jsx(s,{math:"n(T) \\leq 2"}),", the center is the entire tree."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Induction step:"})," For ",e.jsx(s,{math:"n(T) > 2"}),", form"," ",e.jsx(s,{math:"T'"})," by deleting every leaf of ",e.jsx(s,{math:"T"}),". By the lemma, ",e.jsx(s,{math:"T'"})," is a tree with at least one vertex."]}),e.jsxs("p",{className:"mt-2",children:["Every vertex at maximum distance from ",e.jsx(s,{math:"u \\in V(T)"})," is a leaf. Since all leaves are removed and no path between other vertices uses a leaf: ",e.jsx(s,{math:"\\varepsilon_{T'}(u) = \\varepsilon_T(u) - 1"})," for every ",e.jsx(s,{math:"u \\in V(T')"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Also, the eccentricity of a leaf in ",e.jsx(s,{math:"T"})," is greater than that of its neighbor. Hence the vertices minimizing"," ",e.jsx(s,{math:"\\varepsilon_T(u)"})," are the same as those minimizing"," ",e.jsx(s,{math:"\\varepsilon_{T'}(u)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["So ",e.jsx(s,{math:"T"})," and ",e.jsx(s,{math:"T'"})," have the same center. By the induction hypothesis, this center is a vertex or an edge."]})]})]})]}),e.jsx("h2",{children:"The Wiener Index"}),e.jsx("p",{children:"In a communication network, large diameter may be acceptable if most pairs can communicate via short paths. This leads us to study the average distance instead of the maximum."}),e.jsxs(B,{title:"Wiener Index",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Wiener index"})," (also called the total distance) of a graph"," ",e.jsx(s,{math:"G"})," is:"]}),e.jsx(W,{math:"D(G) = W(G) = \\sum_{u,v \\in V(G)} d_G(u,v)"}),e.jsx("p",{children:"Wiener used this to study the boiling point of paraffin. Molecules can be modeled by graphs with vertices for atoms and edges for bonds, and many chemical properties relate to the Wiener index."})]}),e.jsxs(q,{title:"Theorem 2.1.14 (Extreme Wiener Index for Trees)",children:[e.jsxs("p",{children:["Among trees with ",e.jsx(s,{math:"n"})," vertices, the Wiener index"," ",e.jsx(s,{math:"D(T) = \\sum_{u,v} d(u,v)"})," is:"]}),e.jsxs("ul",{className:"list-disc list-inside mt-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Minimized"})," by stars (uniquely), with value"," ",e.jsx(s,{math:"D(K_{1,n-1}) = (n-1)^2"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Maximized"})," by paths (uniquely), with value"," ",e.jsx(s,{math:"D(P_n) = \\binom{n+1}{3}"})]})]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Minimum:"})," A tree has ",e.jsx(s,{math:"n-1"})," edges, so"," ",e.jsx(s,{math:"n-1"})," pairs are at distance 1 and all other pairs have distance at least 2. The star achieves this lower bound. To show uniqueness, note that if all vertices have distance 2 from a leaf ",e.jsx(s,{math:"x"}),", they must all be neighbors of ",e.jsx(s,{math:"x"}),"'s neighbor, making"," ",e.jsx(s,{math:"T"})," a star."]}),e.jsx(W,{math:"D(K_{1,n-1}) = (n-1) + 2\\binom{n-1}{2} = (n-1)^2"}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Maximum:"})," For the path,"," ",e.jsx(s,{math:"D(P_n) = D(P_{n-1}) + \\binom{n}{2}"})," by summing distances from an endpoint. By induction,"," ",e.jsx(s,{math:"D(P_n) = \\binom{n+1}{3}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["To show ",e.jsx(s,{math:"P_n"})," is the unique maximizer, note that the distance list from a leaf in ",e.jsx(s,{math:"P_n"})," is"," ",e.jsx(s,{math:"1, 2, \\ldots, n-1"})," (all distinct). Any repetition in distance values makes the sum smaller, and repetitions occur when"," ",e.jsx(s,{math:"T"})," is not a path."]})]})]})]}),e.jsxs(q,{title:"Lemma 2.1.15 (Distance in Subgraphs)",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"H"})," is a subgraph of ",e.jsx(s,{math:"G"}),", then"," ",e.jsx(s,{math:"d_G(u,v) \\leq d_H(u,v)"}),"."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["Every ",e.jsx(s,{math:"u,v"}),"-path in ",e.jsx(s,{math:"H"})," appears also in"," ",e.jsx(s,{math:"G"}),", so the shortest path in ",e.jsx(s,{math:"G"})," is no longer than the shortest in ",e.jsx(s,{math:"H"}),"."]})]}),e.jsxs(q,{title:"Corollary 2.1.16",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," is a connected ",e.jsx(s,{math:"n"}),"-vertex graph, then ",e.jsx(s,{math:"D(G) \\leq D(P_n)"}),"."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["Let ",e.jsx(s,{math:"T"})," be a spanning tree of ",e.jsx(s,{math:"G"}),". By Lemma 2.1.15, ",e.jsx(s,{math:"D(G) \\leq D(T)"}),". By Theorem 2.1.14,"," ",e.jsx(s,{math:"D(T) \\leq D(P_n)"}),"."]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Tree characterizations:"})," A graph is a tree iff it satisfies any of: connected + acyclic, connected + ",e.jsx(s,{math:"n-1"})," edges, acyclic +"," ",e.jsx(s,{math:"n-1"})," edges, or unique paths between all vertex pairs."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Leaves:"})," Every tree with ",e.jsx(s,{math:"n \\geq 2"})," vertices has at least two leaves, enabling inductive proofs."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cut-edges:"})," Every edge in a tree is a cut-edge; adding any edge creates exactly one cycle."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Distance metrics:"})," Diameter is the maximum distance; radius is the minimum eccentricity; the center minimizes eccentricity."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Jordan's theorem:"})," The center of a tree is always a single vertex or a single edge."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Wiener index:"})," Among ",e.jsx(s,{math:"n"}),"-vertex trees, stars minimize total distance and paths maximize it."]})]})]})}function xG(){return e.jsxs(ze,{sectionId:6,children:[e.jsxs("p",{children:["There are ",e.jsx(s,{math:"2^{\\binom{n}{2}}"})," simple graphs with vertex set"," ",e.jsx(s,{math:"[n] = \\{1, \\ldots, n\\}"}),", since each pair may or may not form an edge. How many of these are trees? In this section, we solve this counting problem, count spanning trees in arbitrary graphs, and discuss several applications."]}),e.jsx("h2",{children:"Enumeration of Trees"}),e.jsxs("p",{children:["With one or two vertices, only one tree can be formed. With three vertices there is still only one isomorphism class, but the adjacency matrix is determined by which vertex is the center. Thus there are ",e.jsx("strong",{children:"three"})," trees with vertex set ",e.jsx(s,{math:"[3]"}),". With vertex set ",e.jsx(s,{math:"[4]"}),", there are 4 stars and 12 paths, yielding ",e.jsx("strong",{children:"16"})," trees. With vertex set ",e.jsx(s,{math:"[5]"}),", a careful study yields ",e.jsx("strong",{children:"125"})," trees."]}),e.jsxs("p",{children:["Now we may see a pattern: ",e.jsx(s,{math:"3 = 3^1"}),","," ",e.jsx(s,{math:"16 = 4^2"}),", ",e.jsx(s,{math:"125 = 5^3"}),". With vertex set"," ",e.jsx(s,{math:"[n]"}),", there are ",e.jsx(s,{math:"n^{n-2}"})," trees. This is"," ",e.jsx("strong",{children:"Cayley's Formula"}),"."]}),e.jsx("h3",{children:"The Prfer Code"}),e.jsxs("p",{children:["We present a bijective proof: establishing a one-to-one correspondence between the set of trees with vertex set ",e.jsx(s,{math:"[n]"})," and a set of known size. Given a set ",e.jsx(s,{math:"S"})," of ",e.jsx(s,{math:"n"})," numbers, there are exactly ",e.jsx(s,{math:"n^{n-2}"})," ways to form a list of length"," ",e.jsx(s,{math:"n-2"})," with entries in ",e.jsx(s,{math:"S"}),"."]}),e.jsxs(B,{title:"Prfer Code Algorithm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Input:"})," A tree ",e.jsx(s,{math:"T"})," with vertex set"," ",e.jsx(s,{math:"S \\subseteq \\mathbb{N}"}),"."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Iteration:"})," At the ",e.jsx(s,{math:"i"}),"th step, delete the least remaining leaf, and let ",e.jsx(s,{math:"a_i"})," be the neighbor of this leaf."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Output:"})," The list"," ",e.jsx(s,{math:"f(T) = (a_1, \\ldots, a_{n-2})"}),"."]})]}),e.jsxs(re,{title:"Computing the Prfer Code",children:[e.jsxs("p",{children:["Consider a tree on vertices ",e.jsx(s,{math:"\\{1, 2, 3, 4, 5, 6, 7, 8\\}"})," ","with structure: ",e.jsx(s,{math:"2-7-1-8"})," as a path, with"," ",e.jsx(s,{math:"6"})," attached to ",e.jsx(s,{math:"7"}),","," ",e.jsx(s,{math:"4"})," attached to ",e.jsx(s,{math:"1"}),", and"," ",e.jsx(s,{math:"3, 5"})," attached to ",e.jsx(s,{math:"4"}),"."]}),e.jsxs("p",{children:["The least leaf is 2; we delete it and record 7. After deleting 3 and 5 and recording 4 each time, the least leaf in the remaining 5-vertex tree is 4. The full code is ",e.jsx(s,{math:"(7, 4, 4, 1, 7, 1)"}),", and the vertices remaining at the end are 1 and 8."]})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Recovering the tree from the code:"})," If we know the vertex set"," ",e.jsx(s,{math:"S"}),", we can retrieve the tree from the code"," ",e.jsx(s,{math:"a"}),". At each step, the least element of"," ",e.jsx(s,{math:"S"})," not appearing in the remaining code is the next leaf to add. We connect it to the next entry in the code."]}),e.jsxs(q,{title:"Cayley's Formula (Theorem 2.2.3)",children:[e.jsxs("p",{children:["For a set ",e.jsx(s,{math:"S \\subseteq \\mathbb{N}"})," of size"," ",e.jsx(s,{math:"n"}),", there are ",e.jsx(s,{math:"n^{n-2}"})," trees with vertex set ",e.jsx(s,{math:"S"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof (Prfer [1918])"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["This holds for ",e.jsx(s,{math:"n = 1"}),", so assume"," ",e.jsx(s,{math:"n \\geq 2"}),". We prove that the Prfer algorithm defines a bijection from the set of trees with vertex set ",e.jsx(s,{math:"S"})," ","to the set ",e.jsx(s,{math:"S^{n-2}"})," of lists of length"," ",e.jsx(s,{math:"n-2"})," from ",e.jsx(s,{math:"S"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Key observation:"})," Computing ",e.jsx(s,{math:"f(T)"})," ","reduces each vertex to degree 1 and then possibly deletes it. Thus every non-leaf vertex in ",e.jsx(s,{math:"T"})," appears in"," ",e.jsx(s,{math:"f(T)"}),". No leaf appears, because recording a leaf as a neighbor would require reducing the tree to one vertex. Hence the leaves of"," ",e.jsx(s,{math:"T"})," are the elements of ",e.jsx(s,{math:"S"})," not in"," ",e.jsx(s,{math:"f(T)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Given ",e.jsx(s,{math:"a \\in S^{n-2}"}),", every tree with Prfer code"," ",e.jsx(s,{math:"a"})," has the same least leaf ",e.jsx(s,{math:"x"})," and has edge ",e.jsx(s,{math:"xa_1"}),". By induction on"," ",e.jsx(s,{math:"n"}),", there is exactly one tree with the remaining vertices and remaining code. Adding ",e.jsx(s,{math:"xa_1"})," yields exactly one tree with code ",e.jsx(s,{math:"a"}),"."]})]})]})]}),e.jsxs(q,{title:"Corollary 2.2.4 (Trees with Fixed Degrees)",children:[e.jsxs("p",{children:["Given positive integers ",e.jsx(s,{math:"d_1, \\ldots, d_n"})," summing to"," ",e.jsx(s,{math:"2n - 2"}),", there are exactly:"]}),e.jsx(W,{math:"\\frac{(n-2)!}{\\prod_i (d_i - 1)!}"}),e.jsxs("p",{children:["trees with vertex set ",e.jsx(s,{math:"[n]"})," such that vertex"," ",e.jsx(s,{math:"i"})," has degree ",e.jsx(s,{math:"d_i"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["While constructing the Prfer code of a tree ",e.jsx(s,{math:"T"}),", we record ",e.jsx(s,{math:"x"})," each time we delete a neighbor of"," ",e.jsx(s,{math:"x"}),", until we delete ",e.jsx(s,{math:"x"})," itself or leave ",e.jsx(s,{math:"x"})," among the last two vertices. Thus each vertex"," ",e.jsx(s,{math:"x"})," appears ",e.jsx(s,{math:"d_T(x) - 1"})," times in the Prfer code."]}),e.jsxs("p",{className:"mt-2",children:["Therefore, we count trees with these vertex degrees by counting lists of length ",e.jsx(s,{math:"n - 2"})," that for each ",e.jsx(s,{math:"i"})," ","have ",e.jsx(s,{math:"d_i - 1"})," copies of ",e.jsx(s,{math:"i"}),". This is the multinomial coefficient"," ",e.jsx(s,{math:"\\frac{(n-2)!}{\\prod_i (d_i - 1)!}"}),"."]})]})]})]}),e.jsxs(re,{title:"Trees with Fixed Degrees",children:[e.jsxs("p",{children:["Consider trees with vertices ",e.jsx(s,{math:"\\{1, 2, 3, 4, 5, 6, 7\\}"})," that have degrees ",e.jsx(s,{math:"(3, 1, 2, 1, 3, 1, 1)"}),", respectively."]}),e.jsxs("p",{children:["We compute"," ",e.jsx(s,{math:"\\frac{5!}{2! \\cdot 0! \\cdot 1! \\cdot 0! \\cdot 2! \\cdot 0! \\cdot 0!} = \\frac{120}{2 \\cdot 1 \\cdot 1 \\cdot 2} = 30"})," ","trees."]}),e.jsxs("p",{children:["Only vertices ",e.jsx(s,{math:"\\{1, 3, 5\\}"})," are non-leaves. Deleting the leaves yields a subtree on ",e.jsx(s,{math:"\\{1, 3, 5\\}"}),". There are three such subtrees, determined by which vertex is in the middle. To complete each tree, we add the appropriate number of leaf neighbors for each non-leaf."]})]}),e.jsx("h2",{children:"Spanning Trees in Graphs"}),e.jsxs("p",{children:["Cayley's Formula counts spanning trees of ",e.jsx(s,{math:"K_n"}),". We now consider the more general problem of computing the number of spanning trees in any graph ",e.jsx(s,{math:"G"}),"."]}),e.jsxs(B,{title:"Edge Contraction",children:[e.jsxs("p",{children:["In a graph ",e.jsx(s,{math:"G"}),", ",e.jsx("strong",{children:"contraction"})," of edge"," ",e.jsx(s,{math:"e"})," with endpoints ",e.jsx(s,{math:"u, v"})," is the replacement of ",e.jsx(s,{math:"u"})," and ",e.jsx(s,{math:"v"})," with a single vertex whose incident edges are the edges other than"," ",e.jsx(s,{math:"e"})," that were incident to ",e.jsx(s,{math:"u"})," or"," ",e.jsx(s,{math:"v"}),". The resulting graph ",e.jsx(s,{math:"G \\cdot e"})," ","has one less edge than ",e.jsx(s,{math:"G"}),"."]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"In a drawing, contraction shrinks the edge to a single point. Contracting can produce multiple edges or loops."})]}),e.jsxs(q,{title:"Proposition 2.2.8 (Deletion-Contraction Recurrence)",children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"\\tau(G)"})," denote the number of spanning trees of a graph ",e.jsx(s,{math:"G"}),". If ",e.jsx(s,{math:"e \\in E(G)"})," is not a loop, then:"]}),e.jsx(W,{math:"\\tau(G) = \\tau(G - e) + \\tau(G \\cdot e)"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["The spanning trees of ",e.jsx(s,{math:"G"})," that omit"," ",e.jsx(s,{math:"e"})," are precisely the spanning trees of"," ",e.jsx(s,{math:"G - e"}),"."]}),e.jsxs("p",{className:"mt-2",children:["To show that ",e.jsx(s,{math:"G"})," has"," ",e.jsx(s,{math:"\\tau(G \\cdot e)"})," spanning trees containing"," ",e.jsx(s,{math:"e"}),", we show that contraction of"," ",e.jsx(s,{math:"e"})," defines a bijection from spanning trees of"," ",e.jsx(s,{math:"G"})," containing ",e.jsx(s,{math:"e"})," to spanning trees of ",e.jsx(s,{math:"G \\cdot e"}),"."]}),e.jsxs("p",{className:"mt-2",children:["When we contract ",e.jsx(s,{math:"e"})," in a spanning tree containing"," ",e.jsx(s,{math:"e"}),", we obtain a spanning tree of"," ",e.jsx(s,{math:"G \\cdot e"})," (spanning, connected, right number of edges). The other edges maintain their identity, so no two trees map to the same tree. Each spanning tree of ",e.jsx(s,{math:"G \\cdot e"})," arises by expanding the contracted vertex back into ",e.jsx(s,{math:"e"}),"."]})]})]})]}),e.jsxs(re,{title:"The Kite Graph",children:[e.jsx("p",{children:'The "kite" graph (a 4-cycle with one diagonal) has 8 spanning trees. Four are paths around the outside cycle, and four use the diagonal edge. Using deletion-contraction:'}),e.jsxs("ul",{className:"list-disc list-inside mt-2",children:[e.jsxs("li",{children:[e.jsx(s,{math:"G - e"})," (diagonal removed) is"," ",e.jsx(s,{math:"C_4"}),", which has 4 spanning trees."]}),e.jsxs("li",{children:[e.jsx(s,{math:"G \\cdot e"})," (diagonal contracted) is a triangle with one doubled edge, which has 4 spanning trees."]}),e.jsxs("li",{children:["Total: ",e.jsx(s,{math:"4 + 4 = 8"}),"."]})]})]}),e.jsx("h3",{children:"The Matrix Tree Theorem"}),e.jsx("p",{children:"The deletion-contraction recurrence may require exponentially many terms. Kirchhoff discovered a much faster approach using determinants."}),e.jsxs(q,{title:"Matrix Tree Theorem (Theorem 2.2.12)",children:[e.jsxs("p",{children:["Given a loopless graph ",e.jsx(s,{math:"G"})," with vertex set"," ",e.jsx(s,{math:"v_1, \\ldots, v_n"}),", let ",e.jsx(s,{math:"a_{i,j}"})," be the number of edges with endpoints ",e.jsx(s,{math:"v_i"})," and"," ",e.jsx(s,{math:"v_j"}),". Define the ",e.jsx("strong",{children:"Laplacian matrix"})," ",e.jsx(s,{math:"Q"})," by:"]}),e.jsx(W,{math:"Q_{i,j} = \\begin{cases} d(v_i) & \\text{if } i = j \\\\ -a_{i,j} & \\text{if } i \\neq j \\end{cases}"}),e.jsxs("p",{children:["If ",e.jsx(s,{math:"Q^*"})," is a matrix obtained by deleting row"," ",e.jsx(s,{math:"s"})," and column ",e.jsx(s,{math:"t"})," of"," ",e.jsx(s,{math:"Q"}),", then:"]}),e.jsx(W,{math:"\\tau(G) = (-1)^{s+t} \\det Q^*"})]}),e.jsxs(re,{title:"Matrix Tree Computation",children:[e.jsx("p",{children:"For the kite graph with vertices labeled 1, 2, 3, 4:"}),e.jsx(W,{math:"Q = \\begin{pmatrix} 3 & -1 & -1 & -1 \\\\ -1 & 3 & -1 & -1 \\\\ -1 & -1 & 2 & 0 \\\\ -1 & -1 & 0 & 2 \\end{pmatrix}"}),e.jsx("p",{children:"Deleting row 1 and column 1 gives:"}),e.jsx(W,{math:"Q^* = \\begin{pmatrix} 3 & -1 & -1 \\\\ -1 & 2 & 0 \\\\ -1 & 0 & 2 \\end{pmatrix}"}),e.jsxs("p",{children:["Computing ",e.jsx(s,{math:"\\det Q^* = 3(4 - 0) - (-1)(-2 - 0) + (-1)(0 + 2) = 12 - 2 - 2 = 8"}),"."]})]}),e.jsx("h2",{children:"Graceful Labelings"}),e.jsxs("p",{children:["Can we decompose ",e.jsx(s,{math:"K_{2m+1}"})," into copies of a tree"," ",e.jsx(s,{math:"T"})," with ",e.jsx(s,{math:"m"})," edges? Graceful labelings provide a constructive approach."]}),e.jsxs(B,{title:"Graceful Labeling",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"graceful labeling"})," of a graph ",e.jsx(s,{math:"G"})," with"," ",e.jsx(s,{math:"m"})," edges is a function"," ",e.jsx(s,{math:"f: V(G) \\to \\{0, \\ldots, m\\}"})," such that:"]}),e.jsxs("ol",{className:"list-decimal list-inside mt-2",children:[e.jsx("li",{children:"Distinct vertices receive distinct numbers."}),e.jsxs("li",{children:["The edge differences"," ",e.jsx(s,{math:"\\{|f(u) - f(v)|: uv \\in E(G)\\} = \\{1, \\ldots, m\\}"}),"."]})]}),e.jsxs("p",{className:"mt-2",children:["A graph is ",e.jsx("strong",{children:"graceful"})," if it has a graceful labeling."]})]}),e.jsxs(q,{title:"Ringel's Conjecture (Conjecture 2.2.13)",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"T"})," is a fixed tree with ",e.jsx(s,{math:"m"})," edges, then ",e.jsx(s,{math:"K_{2m+1}"})," decomposes into"," ",e.jsx(s,{math:"2m + 1"})," copies of ",e.jsx(s,{math:"T"}),"."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["This famous conjecture was proved in 2019 by Montgomery, Pokrovskiy, and Sudakov for sufficiently large ",e.jsx(s,{math:"m"}),"."]})]}),e.jsxs(q,{title:"Theorem 2.2.16 (Rosa [1967])",children:[e.jsxs("p",{children:["If a tree ",e.jsx(s,{math:"T"})," with ",e.jsx(s,{math:"m"})," edges has a graceful labeling, then ",e.jsx(s,{math:"K_{2m+1}"})," has a decomposition into"," ",e.jsx(s,{math:"2m + 1"})," copies of ",e.jsx(s,{math:"T"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["View vertices of ",e.jsx(s,{math:"K_{2m+1}"})," as congruence classes modulo ",e.jsx(s,{math:"2m + 1"}),", arranged circularly. Group edges by the difference between endpoints (differences"," ",e.jsx(s,{math:"1, 2, \\ldots, m"}),")."]}),e.jsxs("p",{className:"mt-2",children:["From a graceful labeling, define copies"," ",e.jsx(s,{math:"T_0, \\ldots, T_{2m}"}),". The vertices of"," ",e.jsx(s,{math:"T_k"})," are"," ",e.jsx(s,{math:"k, k+1, \\ldots, k+m \\pmod{2m+1}"}),", with"," ",e.jsx(s,{math:"k+i"})," adjacent to ",e.jsx(s,{math:"k+j"})," iff"," ",e.jsx(s,{math:"i"})," is adjacent to ",e.jsx(s,{math:"j"})," in the labeling."]}),e.jsxs("p",{className:"mt-2",children:["Each difference class has exactly one edge in each"," ",e.jsx(s,{math:"T_k"}),", so the copies decompose"," ",e.jsx(s,{math:"K_{2m+1}"}),"."]})]})]})]}),e.jsxs(q,{title:"Graceful Tree Conjecture (Conjecture 2.2.15)",children:[e.jsx("p",{children:e.jsx("em",{children:"Every tree has a graceful labeling."})}),e.jsx("p",{className:"mt-2 text-dark-300",children:"This conjecture, due to Kotzig and Ringel (1964), remains open. It is known for many special classes of trees."})]}),e.jsx("h2",{children:"Caterpillars"}),e.jsxs(B,{title:"Caterpillar",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"caterpillar"})," is a tree in which a single path (the"," ",e.jsx("strong",{children:"spine"}),") is incident to (or contains) every edge."]}),e.jsx("p",{className:"mt-2",children:'Equivalently, deleting all leaves yields a path. The vertices not on the spine are called the "feet" and are all leaves.'})]}),e.jsxs(q,{title:"Theorem 2.2.19 (Caterpillar Characterization)",children:[e.jsxs("p",{children:["A tree is a caterpillar if and only if it does not contain the tree"," ",e.jsx(s,{math:"Y"})," (a vertex with three neighbors, each having another neighbor) as a subgraph."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"G'"})," be the tree obtained by deleting all leaves. Since all surviving vertices are non-leaves in ",e.jsx(s,{math:"G"}),","," ",e.jsx(s,{math:"G'"})," has a vertex of degree at least 3 iff"," ",e.jsx(s,{math:"Y"})," appears in ",e.jsx(s,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Hence ",e.jsx(s,{math:"G"})," has no copy of ",e.jsx(s,{math:"Y"})," iff"," ",e.jsx(s,{math:"\\Delta(G') \\leq 2"})," iff"," ",e.jsx(s,{math:"G'"})," is a path iff ",e.jsx(s,{math:"G"})," is a caterpillar."]})]})]})]}),e.jsxs(re,{title:"Graceful Caterpillars",children:[e.jsx("p",{children:"Every caterpillar is graceful. Stars and paths are special cases of caterpillars (paths have no feet; stars have spine of length 0)."}),e.jsxs("p",{className:"mt-2",children:['A graceful labeling for caterpillars uses an "up/down" pattern: there exists a critical value ',e.jsx(s,{math:"a"})," such that every edge joins vertices with labels above and below ",e.jsx(s,{math:"a"}),"."]})]}),e.jsx("h2",{children:"Branchings (Optional)"}),e.jsxs(B,{title:"Branching (Out-tree)",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"branching"})," or ",e.jsx("strong",{children:"out-tree"})," is an orientation of a tree having:"]}),e.jsxs("ul",{className:"list-disc list-inside",children:[e.jsx("li",{children:"A root of indegree 0"}),e.jsx("li",{children:"All other vertices of indegree 1"})]}),e.jsxs("p",{className:"mt-2",children:["An ",e.jsx("strong",{children:"in-tree"})," is an out-tree with edges reversed."]}),e.jsxs("p",{className:"mt-2",children:["A branching with root ",e.jsx(s,{math:"v"})," is a union of paths from"," ",e.jsx(s,{math:"v"}),". Each vertex is reached by exactly one path."]})]}),e.jsxs(q,{title:"Directed Matrix Tree Theorem (Theorem 2.2.21)",children:[e.jsxs("p",{children:["Given a loopless digraph ",e.jsx(s,{math:"G"}),", let"," ",e.jsx(s,{math:"Q^- = D^- - A'"})," and"," ",e.jsx(s,{math:"Q^+ = D^+ - A'"}),", where ",e.jsx(s,{math:"D^-"})," and"," ",e.jsx(s,{math:"D^+"})," are diagonal matrices of indegrees and outdegrees, and entry ",e.jsx(s,{math:"(i,j)"})," of ",e.jsx(s,{math:"A'"})," is the number of edges from ",e.jsx(s,{math:"v_j"})," to ",e.jsx(s,{math:"v_i"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The number of spanning out-trees (in-trees) rooted at"," ",e.jsx(s,{math:"v_i"})," is the value of each cofactor in the"," ",e.jsx(s,{math:"i"}),"th row of ",e.jsx(s,{math:"Q^-"})," (",e.jsx(s,{math:"i"}),"th column of ",e.jsx(s,{math:"Q^+"}),")."]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Cayley's Formula:"})," There are ",e.jsx(s,{math:"n^{n-2}"})," ","labeled trees on ",e.jsx(s,{math:"n"})," vertices, proved via the Prfer code bijection."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Prfer code:"})," A bijection between ",e.jsx(s,{math:"n"}),"-vertex labeled trees and sequences of length ",e.jsx(s,{math:"n-2"})," from"," ",e.jsx(s,{math:"[n]"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Degree counting:"})," Each vertex appears"," ",e.jsx(s,{math:"d(v) - 1"})," times in its tree's Prfer code."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Deletion-contraction:"})," ",e.jsx(s,{math:"\\tau(G) = \\tau(G - e) + \\tau(G \\cdot e)"})," for non-loop"," ",e.jsx(s,{math:"e"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Matrix Tree Theorem:"})," Count spanning trees via the determinant of a cofactor of the Laplacian matrix."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Graceful labelings:"})," If a tree ",e.jsx(s,{math:"T"})," with"," ",e.jsx(s,{math:"m"})," edges is graceful, then ",e.jsx(s,{math:"K_{2m+1}"})," ","decomposes into copies of ",e.jsx(s,{math:"T"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Caterpillars:"})," Trees where deleting leaves yields a path; they are always graceful."]})]})]})}function pG(){return e.jsxs(ze,{sectionId:7,children:[e.jsxs("p",{children:['"The best spanning tree" may have various meanings. A ',e.jsx("strong",{children:"weighted graph"})," ","is a graph with numerical labels on the edges. When building links to connect locations, the costs of potential links yield a weighted graph. The minimum cost of connecting the system is the minimum total weight of its spanning trees."]}),e.jsxs("p",{children:["Alternatively, the weights may represent distances. In these cases we define the length of a path to be the sum of its edge weights. We may seek a spanning tree with small distances. When discussing weighted graphs,"," ",e.jsx("strong",{children:"we consider only nonnegative edge weights"}),"."]}),e.jsx("h2",{children:"Interactive MST Algorithm"}),e.jsx("p",{children:"Watch Kruskal's or Prim's algorithm find the minimum spanning tree step by step. See how each algorithm greedily selects edges to build the optimal solution."}),e.jsx(Y$,{className:"my-8"}),e.jsx("h2",{children:"Minimum Spanning Trees"}),e.jsxs("p",{children:["In a connected weighted graph of possible communication links, all spanning trees have ",e.jsx(s,{math:"n - 1"})," edges; we seek one that minimizes or maximizes the sum of the edge weights. For these problems, the most naive heuristic quickly produces an optimal solution."]}),e.jsxs(B,{title:"Kruskal's Algorithm (Algorithm 2.3.1)",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Input:"})," A weighted connected graph."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Idea:"})," Maintain an acyclic spanning subgraph"," ",e.jsx(s,{math:"H"}),", enlarging it by edges with low weight to form a spanning tree. Consider edges in nondecreasing order of weight."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Initialization:"})," Set ",e.jsx(s,{math:"E(H) = \\emptyset"}),"."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Iteration:"})," If the next cheapest edge joins two components of"," ",e.jsx(s,{math:"H"}),", include it; otherwise, discard it. Terminate when"," ",e.jsx(s,{math:"H"})," is connected."]})]}),e.jsxs("p",{children:["Unsophisticated locally optimal heuristics are called"," ",e.jsx("strong",{children:"greedy algorithms"}),". They usually don't guarantee optimal solutions, but this one does!"]}),e.jsxs(re,{title:"Running Kruskal's Algorithm",children:[e.jsx("p",{children:"Choices in Kruskal's Algorithm depend only on the order of the weights, not on their values. Consider a graph where we've labeled edges with positive integers to emphasize the order of examination."}),e.jsx("p",{children:"The four cheapest edges might be selected, but then edges that complete cycles with the selected edges must be skipped. Edges of equal weight may be examined in any order; the resulting trees have the same cost."}),e.jsx("p",{children:"Each selected edge combines two components of the growing forest until we have a single spanning tree."})]}),e.jsxs(q,{title:"Theorem 2.3.3 (Kruskal [1956])",children:[e.jsxs("p",{children:["In a connected weighted graph ",e.jsx(s,{math:"G"}),", Kruskal's Algorithm constructs a minimum-weight spanning tree."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"The algorithm produces a tree:"})," It never chooses an edge that completes a cycle. If the final graph has more than one component, then we considered no edge joining two of them, but such an edge would be accepted. Since ",e.jsx(s,{math:"G"})," is connected, some such edge exists. Thus the final graph is connected and acyclic."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"The tree is optimal:"})," Let ",e.jsx(s,{math:"T"})," be the resulting tree, and let ",e.jsx(s,{math:"T^*"})," be a minimum-weight spanning tree. If ",e.jsx(s,{math:"T \\neq T^*"}),", let"," ",e.jsx(s,{math:"e"})," be the first edge chosen for ",e.jsx(s,{math:"T"})," ","that is not in ",e.jsx(s,{math:"T^*"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Adding ",e.jsx(s,{math:"e"})," to ",e.jsx(s,{math:"T^*"})," creates one cycle ",e.jsx(s,{math:"C"}),". Since ",e.jsx(s,{math:"T"})," has no cycle,"," ",e.jsx(s,{math:"C"})," has an edge"," ",e.jsx(s,{math:"e' \\notin E(T)"}),". Consider"," ",e.jsx(s,{math:"T^* + e - e'"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{math:"T^*"})," contains ",e.jsx(s,{math:"e'"})," and all edges of ",e.jsx(s,{math:"T"})," chosen before ",e.jsx(s,{math:"e"}),", both ",e.jsx(s,{math:"e'"})," and ",e.jsx(s,{math:"e"})," are available when the algorithm chooses ",e.jsx(s,{math:"e"}),", so"," ",e.jsx(s,{math:"w(e) \\leq w(e')"}),". Thus"," ",e.jsx(s,{math:"T^* + e - e'"})," is a spanning tree with weight at most"," ",e.jsx(s,{math:"T^*"})," that agrees with ",e.jsx(s,{math:"T"})," longer."]}),e.jsxs("p",{className:"mt-2",children:["Repeating this argument eventually yields a minimum-weight spanning tree that agrees completely with ",e.jsx(s,{math:"T"}),"."]})]})]})]}),e.jsxs(B,{title:"Prim's Algorithm",children:[e.jsx("p",{children:"An alternative approach: grow a spanning tree from a single vertex by iteratively adding the cheapest edge that incorporates a new vertex."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Initialization:"})," Start with any vertex ",e.jsx(s,{math:"v"}),". Set ",e.jsx(s,{math:"S = \\{v\\}"}),"."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Iteration:"})," Add the cheapest edge from a vertex in"," ",e.jsx(s,{math:"S"})," to a vertex outside ",e.jsx(s,{math:"S"}),". Add the new vertex to ",e.jsx(s,{math:"S"}),"."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Termination:"})," When ",e.jsx(s,{math:"S = V(G)"}),"."]})]}),e.jsx("h2",{children:"Shortest Paths"}),e.jsx("p",{children:"How can we find the shortest route from one location to another? How can we find the shortest routes from our home to every place in town? This requires finding shortest paths from one vertex to all other vertices in a weighted graph. Together, these paths form a spanning tree."}),e.jsx(B,{title:"Distance in Weighted Graphs",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"distance"})," ",e.jsx(s,{math:"d(u, z)"})," in a weighted graph is the minimum sum of the weights on the edges in a"," ",e.jsx(s,{math:"u, z"}),"-path. We consider only nonnegative weights."]})}),e.jsxs("p",{children:[e.jsx("strong",{children:"Dijkstra's Algorithm"})," solves this problem quickly, using the observation that the ",e.jsx(s,{math:"u, v"}),"-portion of a shortest"," ",e.jsx(s,{math:"u, z"}),"-path must be a shortest"," ",e.jsx(s,{math:"u, v"}),"-path. It finds optimal routes from"," ",e.jsx(s,{math:"u"})," to other vertices ",e.jsx(s,{math:"z"})," in increasing order of ",e.jsx(s,{math:"d(u, z)"}),"."]}),e.jsxs(B,{title:"Dijkstra's Algorithm (Algorithm 2.3.5)",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Input:"})," A graph (or digraph) with nonnegative edge weights and a starting vertex ",e.jsx(s,{math:"u"}),". Let ",e.jsx(s,{math:"w(xy)"})," be the weight of edge ",e.jsx(s,{math:"xy"})," (or"," ",e.jsx(s,{math:"\\infty"})," if no edge)."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Idea:"})," Maintain the set ",e.jsx(s,{math:"S"})," of vertices to which a shortest path from ",e.jsx(s,{math:"u"})," is known. Also maintain a tentative distance ",e.jsx(s,{math:"t(z)"})," from ",e.jsx(s,{math:"u"})," to each ",e.jsx(s,{math:"z \\notin S"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Initialization:"})," Set ",e.jsx(s,{math:"S = \\{u\\}"}),";"," ",e.jsx(s,{math:"t(u) = 0"}),"; ",e.jsx(s,{math:"t(z) = w(uz)"})," for"," ",e.jsx(s,{math:"z \\neq u"}),"."]}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Iteration:"})}),e.jsxs("ol",{className:"list-decimal list-inside ml-4 space-y-1",children:[e.jsxs("li",{children:["Select a vertex ",e.jsx(s,{math:"v"})," outside ",e.jsx(s,{math:"S"})," such that ",e.jsx(s,{math:"t(v) = \\min_{z \\notin S} t(z)"}),"."]}),e.jsxs("li",{children:["Add ",e.jsx(s,{math:"v"})," to ",e.jsx(s,{math:"S"}),"."]}),e.jsxs("li",{children:["For each edge ",e.jsx(s,{math:"vz"})," with"," ",e.jsx(s,{math:"z \\notin S"}),", update"," ",e.jsx(s,{math:"t(z) \\leftarrow \\min\\{t(z), t(v) + w(vz)\\}"}),"."]})]}),e.jsxs("p",{className:"mt-2",children:["Continue until ",e.jsx(s,{math:"S = V(G)"})," or"," ",e.jsx(s,{math:"t(z) = \\infty"})," for all"," ",e.jsx(s,{math:"z \\notin S"}),"."]})]}),e.jsxs(re,{title:"Dijkstra's Algorithm",children:[e.jsxs("p",{children:["In a weighted graph, suppose we find shortest paths from vertex"," ",e.jsx(s,{math:"u"})," to vertices ",e.jsx(s,{math:"a, b, c, d, e"})," with distances ",e.jsx(s,{math:"1, 3, 5, 6, 8"}),", respectively."]}),e.jsxs("p",{className:"mt-2",children:["To reconstruct the paths, we only need the edge on which each shortest path arrives at its destination. The earlier portion of a shortest"," ",e.jsx(s,{math:"u, z"}),"-path that reaches ",e.jsx(s,{math:"z"})," on the edge ",e.jsx(s,{math:"vz"})," is a shortest ",e.jsx(s,{math:"u, v"}),"-path."]}),e.jsxs("p",{className:"mt-2",children:['The algorithm can maintain this by recording the "predecessor" vertex whenever the tentative distance is updated. The predecessors form the edges of a spanning tree rooted at ',e.jsx(s,{math:"u"}),"."]})]}),e.jsxs(q,{title:"Theorem 2.3.7 (Correctness of Dijkstra's Algorithm)",children:[e.jsxs("p",{children:["Given a (di)graph ",e.jsx(s,{math:"G"})," and a vertex"," ",e.jsx(s,{math:"u \\in V(G)"}),", Dijkstra's Algorithm computes"," ",e.jsx(s,{math:"d(u, z)"})," for every ",e.jsx(s,{math:"z \\in V(G)"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["We prove by induction on ",e.jsx(s,{math:"|S|"})," that at each iteration:"]}),e.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[e.jsxs("li",{children:["For ",e.jsx(s,{math:"z \\in S"}),","," ",e.jsx(s,{math:"t(z) = d(u, z)"}),"."]}),e.jsxs("li",{children:["For ",e.jsx(s,{math:"z \\notin S"}),", ",e.jsx(s,{math:"t(z)"})," is the least length of a ",e.jsx(s,{math:"u, z"}),"-path reaching"," ",e.jsx(s,{math:"z"})," directly from ",e.jsx(s,{math:"S"}),"."]})]}),e.jsxs("p",{className:"mt-2",children:["When we select ",e.jsx(s,{math:"v"})," (minimum"," ",e.jsx(s,{math:"t(v)"})," outside ",e.jsx(s,{math:"S"}),"), any path visiting vertices outside ",e.jsx(s,{math:"S"})," before reaching"," ",e.jsx(s,{math:"v"})," has length at least ",e.jsx(s,{math:"t(v)"}),". Hence ",e.jsx(s,{math:"d(u, v) = t(v)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Updating tentative distances when adding ",e.jsx(s,{math:"v"})," to"," ",e.jsx(s,{math:"S"})," correctly considers all paths reaching"," ",e.jsx(s,{math:"z"})," directly from the new ",e.jsx(s,{math:"S"}),"."]})]})]})]}),e.jsx("h2",{children:"Breadth-First Search"}),e.jsxs("p",{children:["The special case of Dijkstra's Algorithm for ",e.jsx("strong",{children:"unweighted graphs"})," ","(all edges have weight 1) is Breadth-First Search (BFS)."]}),e.jsxs(B,{title:"Breadth-First Search (Algorithm 2.3.8)",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Input:"})," An unweighted graph (or digraph) and start vertex"," ",e.jsx(s,{math:"u"}),"."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Idea:"})," Maintain a set ",e.jsx(s,{math:"R"})," of vertices reached but not searched, and a set ",e.jsx(s,{math:"S"})," of vertices searched. Use ",e.jsx(s,{math:"R"})," as a ",e.jsx("strong",{children:"queue"})," (First-In First-Out), so the first vertices found are the first explored."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Initialization:"})," ",e.jsx(s,{math:"R = \\{u\\}"}),","," ",e.jsx(s,{math:"S = \\emptyset"}),", ",e.jsx(s,{math:"d(u, u) = 0"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Iteration:"})," While ",e.jsx(s,{math:"R \\neq \\emptyset"}),", search from the first vertex ",e.jsx(s,{math:"v"})," of"," ",e.jsx(s,{math:"R"}),". Add neighbors of ",e.jsx(s,{math:"v"})," not in"," ",e.jsx(s,{math:"S \\cup R"})," to the back of ",e.jsx(s,{math:"R"})," and assign distance ",e.jsx(s,{math:"d(u, v) + 1"}),". Move"," ",e.jsx(s,{math:"v"})," from ",e.jsx(s,{math:"R"})," to"," ",e.jsx(s,{math:"S"}),"."]})]}),e.jsxs("p",{children:["The largest distance from a vertex ",e.jsx(s,{math:"u"})," to another vertex is the eccentricity ",e.jsx(s,{math:"\\varepsilon(u)"}),". Hence we can compute the"," ",e.jsx("strong",{children:"diameter"})," of a graph by running Breadth-First Search from each vertex."]}),e.jsxs("p",{children:["Like Dijkstra's Algorithm, BFS from ",e.jsx(s,{math:"u"})," yields a tree"," ",e.jsx(s,{math:"T"})," in which for each vertex ",e.jsx(s,{math:"v"}),", the"," ",e.jsx(s,{math:"u, v"}),"-path is a shortest ",e.jsx(s,{math:"u, v"}),"-path."]}),e.jsx("h2",{children:"The Chinese Postman Problem"}),e.jsxs(B,{title:"Chinese Postman Problem",children:[e.jsxs("p",{children:["A mail carrier must traverse all edges in a road network, starting and ending at the Post Office. The edges have nonnegative weights representing distance or time. We seek a ",e.jsx("strong",{children:"closed walk"})," of minimum total length that uses all the edges."]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"Named in honor of the Chinese mathematician Guan Meigu [1962], who proposed it."})]}),e.jsx("p",{children:"If every vertex has even degree, then the graph is Eulerian and the answer is the sum of the edge weights. Otherwise, we must repeat some edges."}),e.jsx("p",{children:"Every traversal is an Eulerian circuit of a graph obtained by duplicating edges. Finding the shortest traversal is equivalent to finding the minimum total weight of edges whose duplication will make all vertex degrees even."}),e.jsxs(re,{title:"Solving the Chinese Postman Problem",children:[e.jsx("p",{children:"Consider a graph with eight odd-degree vertices on its outer boundary. To make all degrees even, we must pair up the odd vertices with paths."}),e.jsx("p",{className:"mt-2",children:"If there are only two odd vertices, use Dijkstra's Algorithm to find the shortest path between them."}),e.jsxs("p",{className:"mt-2",children:["If there are ",e.jsx(s,{math:"2k"})," odd vertices, find shortest paths between all pairs using Dijkstra's Algorithm. Then find the minimum total weight of"," ",e.jsx(s,{math:"k"})," paths that pair up all odd vertices (a weighted matching problem)."]})]}),e.jsx("h2",{children:"Trees in Computer Science (Optional)"}),e.jsxs(B,{title:"Rooted Trees",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"rooted tree"})," is a tree with one vertex ",e.jsx(s,{math:"r"}),"chosen as ",e.jsx("strong",{children:"root"}),". For each vertex ",e.jsx(s,{math:"v"}),", let"," ",e.jsx(s,{math:"P(v)"})," be the unique ",e.jsx(s,{math:"v, r"}),"-path."]}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsxs("li",{children:["The ",e.jsx("strong",{children:"parent"})," of ",e.jsx(s,{math:"v"})," is its neighbor on"," ",e.jsx(s,{math:"P(v)"}),"."]}),e.jsxs("li",{children:["The ",e.jsx("strong",{children:"children"})," of ",e.jsx(s,{math:"v"})," are its other neighbors."]}),e.jsxs("li",{children:["The ",e.jsx("strong",{children:"ancestors"})," of ",e.jsx(s,{math:"v"})," are the vertices of"," ",e.jsx(s,{math:"P(v) - v"}),"."]}),e.jsxs("li",{children:["The ",e.jsx("strong",{children:"descendants"})," of ",e.jsx(s,{math:"v"})," are vertices"," ",e.jsx(s,{math:"u"})," such that ",e.jsx(s,{math:"P(u)"})," contains"," ",e.jsx(s,{math:"v"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Leaves"})," are vertices with no children."]})]})]}),e.jsxs(B,{title:"Binary Trees",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"binary tree"})," is a rooted plane tree where each vertex has at most two children, and each child is designated as ",e.jsx("strong",{children:"left"})," or"," ",e.jsx("strong",{children:"right"}),"."]}),e.jsx("p",{className:"mt-2",children:"Binary trees permit storage of data for quick access. We store each item at a leaf and access it by following the path from the root (0 for left, 1 for right). The search time is the length of this code word."})]}),e.jsx("h3",{children:"Huffman's Algorithm"}),e.jsxs("p",{children:["Given access probabilities among ",e.jsx(s,{math:"n"})," items, we want to place them at the leaves of a binary tree to minimize expected search time. This is equivalent to optimal prefix-free coding."]}),e.jsxs(B,{title:"Prefix-Free Code",children:[e.jsxs("p",{children:["A binary code is ",e.jsx("strong",{children:"prefix-free"})," if no code word is an initial portion of another. Then the current word ends as soon as the bits since the end of the previous word form a code word."]}),e.jsx("p",{className:"mt-2",children:"Prefix-free binary codes correspond to the leaves of a binary tree using left/right encoding (0 = left, 1 = right)."})]}),e.jsxs(B,{title:"Huffman's Algorithm (Algorithm 2.3.13)",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Input:"})," Weights (frequencies or probabilities)"," ",e.jsx(s,{math:"p_1, \\ldots, p_n"}),"."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Output:"})," Prefix-free code (equivalently, a binary tree)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Idea:"})," Infrequent items should have longer codes; put infrequent items deeper by combining them into parent nodes."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Base case:"})," When ",e.jsx(s,{math:"n = 2"}),", the optimal length is 1, with 0 and 1 as the codes."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Recursion:"})," When ",e.jsx(s,{math:"n > 2"}),", replace the two least likely items ",e.jsx(s,{math:"p, p'"})," with a single item"," ",e.jsx(s,{math:"q = p + p'"}),". Solve for ",e.jsx(s,{math:"n - 1"})," items. Then give children with weights ",e.jsx(s,{math:"p, p'"})," to the leaf with weight ",e.jsx(s,{math:"q"}),"."]})]}),e.jsxs(re,{title:"Huffman Coding",children:[e.jsx("p",{children:"Consider eight items with frequencies 5, 1, 1, 7, 8, 2, 3, 6. Algorithm 2.3.13 combines items from the bottom up:"}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:e.jsx(s,{math:"1 + 1 = 2"})}),e.jsx("li",{children:e.jsx(s,{math:"2 + 2 = 4"})}),e.jsx("li",{children:e.jsx(s,{math:"3 + 4 = 7"})}),e.jsx("li",{children:e.jsx(s,{math:"5 + 6 = 11"})}),e.jsx("li",{children:e.jsx(s,{math:"7 + 7 = 14"})}),e.jsx("li",{children:e.jsx(s,{math:"8 + 11 = 19"})}),e.jsx("li",{children:e.jsx(s,{math:"14 + 19 = 33"})})]}),e.jsxs("p",{className:"mt-2",children:["The expected code length is ",e.jsx(s,{math:"\\sum p_i l_i = 90/33 < 3"}),", which is less than using fixed-length 3-bit codes for eight items."]})]}),e.jsxs(q,{title:"Theorem 2.3.15 (Optimality of Huffman Coding)",children:[e.jsxs("p",{children:["Given a probability distribution ",e.jsx(s,{math:"\\{p_i\\}"})," on"," ",e.jsx(s,{math:"n"})," items, Huffman's Algorithm produces the prefix-free code with minimum expected length."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Use induction on ",e.jsx(s,{math:"n"}),". Every optimal code has least likely messages at leaves of greatest depth. Since every leaf at maximum depth has a sibling, two least likely messages can be assumed to be siblings."]}),e.jsxs("p",{className:"mt-2",children:["Replacing these siblings with their parent (probability"," ",e.jsx(s,{math:"p_{n-1} + p_n"}),") reduces to an"," ",e.jsx(s,{math:"(n-1)"}),"-item problem. By the induction hypothesis, Huffman's Algorithm is optimal for this. Expanding back gives the optimal tree for ",e.jsx(s,{math:"n"})," items."]})]})]})]}),e.jsxs("p",{children:["Shannon [1948] proved that for every binary code, the expected length is at least the ",e.jsx("strong",{children:"entropy"})," of the distribution:"," ",e.jsx(s,{math:"-\\sum p_i \\log_2 p_i"}),". When each"," ",e.jsx(s,{math:"p_i"})," is a power of ",e.jsx(s,{math:"1/2"}),", the Huffman code achieves this bound exactly."]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Kruskal's Algorithm:"})," Build a minimum spanning tree by greedily adding cheapest edges that don't create cycles."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Prim's Algorithm:"})," Grow a minimum spanning tree from a single vertex by iteratively adding the cheapest edge to a new vertex."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Dijkstra's Algorithm:"})," Find shortest paths from a source vertex by iteratively selecting the vertex with smallest tentative distance and updating neighbors."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Breadth-First Search:"})," Special case of Dijkstra for unweighted graphs; explores vertices in order of distance from the source."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Chinese Postman Problem:"})," Find minimum-weight walk covering all edges; reduces to matching odd-degree vertices optimally."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Huffman's Algorithm:"})," Builds optimal prefix-free codes by recursively combining least frequent items."]})]})]})}function fG(){return e.jsxs(ze,{sectionId:8,children:[e.jsx("p",{children:"Within a set of people, some pairs are compatible as roommates; under what conditions can we pair them all up? Many applications of graphs involve such pairings. In the job assignment problem, we want to pair jobs with qualified applicants. Bipartite graphs have a natural vertex partition, and we want to know whether the two sets can be paired using edges."}),e.jsx("h2",{children:"Interactive Matching Explorer"}),e.jsx("p",{children:"Explore bipartite matchings interactively. Click edges to build a matching, find maximum matchings, and verify Hall's condition for perfect matchings."}),e.jsx(W$,{className:"my-8"}),e.jsx("h2",{children:"Matchings"}),e.jsxs(B,{title:"Matching",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"matching"})," in a graph ",e.jsx(s,{math:"G"})," is a set of non-loop edges with no shared endpoints. The vertices incident to the edges of a matching ",e.jsx(s,{math:"M"})," are ",e.jsx("strong",{children:"saturated"})," by"," ",e.jsx(s,{math:"M"}),"; the others are ",e.jsx("strong",{children:"unsaturated"})," (we say"," ",e.jsx(s,{math:"M"}),"-saturated and ",e.jsx(s,{math:"M"}),"-unsaturated)."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"perfect matching"})," in a graph is a matching that saturates every vertex."]})]}),e.jsxs(re,{title:"Perfect Matchings in Complete Bipartite Graphs",children:[e.jsxs("p",{children:["Consider ",e.jsx(s,{math:"K_{n,n}"})," with partite sets"," ",e.jsx(s,{math:"X = \\{x_1, \\ldots, x_n\\}"})," and"," ",e.jsx(s,{math:"Y = \\{y_1, \\ldots, y_n\\}"}),". A perfect matching defines a bijection from ",e.jsx(s,{math:"X"})," to ",e.jsx(s,{math:"Y"}),". Successively finding mates for"," ",e.jsx(s,{math:"x_1, x_2, \\ldots"})," yields ",e.jsx(s,{math:"n!"})," perfect matchings."]}),e.jsxs("p",{className:"mt-2",children:["Each matching is represented by a permutation of ",e.jsx(s,{math:"[n]"}),", mapping ",e.jsx(s,{math:"i"})," to ",e.jsx(s,{math:"j"})," when"," ",e.jsx(s,{math:"x_i"})," is matched to ",e.jsx(s,{math:"y_j"}),"."]})]}),e.jsxs(re,{title:"Perfect Matchings in Complete Graphs",children:[e.jsxs("p",{children:["Since it has odd order, ",e.jsx(s,{math:"K_{2n+1}"})," has no perfect matching. The number ",e.jsx(s,{math:"f_n"})," of perfect matchings in"," ",e.jsx(s,{math:"K_{2n}"})," is the number of ways to pair up"," ",e.jsx(s,{math:"2n"})," distinct people."]}),e.jsxs("p",{className:"mt-2",children:["There are ",e.jsx(s,{math:"2n - 1"})," choices for the partner of"," ",e.jsx(s,{math:"v_{2n}"}),", and for each such choice there are"," ",e.jsx(s,{math:"f_{n-1}"})," ways to complete the matching. Hence:"]}),e.jsx(W,{math:"f_n = (2n-1) \\cdot f_{n-1} = (2n-1) \\cdot (2n-3) \\cdots (1) = (2n-1)!!"}),e.jsxs("p",{children:["Equivalently, ",e.jsx(s,{math:"f_n = \\frac{(2n)!}{2^n n!}"})," (each matching is generated by ",e.jsx(s,{math:"2^n n!"})," orderings)."]})]}),e.jsx("h2",{children:"Maximum Matchings"}),e.jsxs("p",{children:["A matching is a set of edges, so its ",e.jsx("strong",{children:"size"})," is the number of edges. We can seek a large matching by iteratively selecting edges whose endpoints are not used by the edges already selected. This yields a"," ",e.jsx("em",{children:"maximal"})," matching but maybe not a ",e.jsx("em",{children:"maximum"})," matching."]}),e.jsxs(B,{title:"Maximal vs. Maximum Matching",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"maximal matching"})," in a graph is a matching that cannot be enlarged by adding an edge."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"maximum matching"})," is a matching of maximum size among all matchings in the graph."]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"Every maximum matching is maximal, but the converse need not hold."})]}),e.jsxs(re,{title:"Maximal  Maximum",children:[e.jsxs("p",{children:["The smallest graph having a maximal matching that is not a maximum matching is"," ",e.jsx(s,{math:"P_4"}),". If we take the middle edge, we can add no other, but the two end edges form a larger matching."]}),e.jsx("p",{className:"mt-2",children:"This illustrates that greedy selection doesn't always find the optimum."})]}),e.jsx("h3",{children:"Augmenting Paths"}),e.jsxs(B,{title:"Alternating and Augmenting Paths",children:[e.jsxs("p",{children:["Given a matching ",e.jsx(s,{math:"M"}),", an"," ",e.jsxs("strong",{children:[e.jsx(s,{math:"M"}),"-alternating path"]})," ","is a path that alternates between edges in ",e.jsx(s,{math:"M"})," and edges not in ",e.jsx(s,{math:"M"}),"."]}),e.jsxs("p",{className:"mt-2",children:["An"," ",e.jsxs("strong",{children:[e.jsx(s,{math:"M"}),"-augmenting path"]})," ","is an ",e.jsx(s,{math:"M"}),"-alternating path whose endpoints are both unsaturated by ",e.jsx(s,{math:"M"}),"."]})]}),e.jsxs("p",{children:["Given an ",e.jsx(s,{math:"M"}),"-augmenting path ",e.jsx(s,{math:"P"}),", we can replace the edges of ",e.jsx(s,{math:"M"})," in ",e.jsx(s,{math:"P"})," with the other edges of ",e.jsx(s,{math:"P"})," to obtain a new matching"," ",e.jsx(s,{math:"M'"})," with one more edge. This operation is called"," ",e.jsx("strong",{children:"augmentation"}),"."]}),e.jsxs(B,{title:"Symmetric Difference",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," and ",e.jsx(s,{math:"H"})," are graphs with vertex set ",e.jsx(s,{math:"V"}),", then the ",e.jsx("strong",{children:"symmetric difference"})," ",e.jsx(s,{math:"G \\triangle H"})," is the graph with vertex set"," ",e.jsx(s,{math:"V"})," whose edges are all those appearing in exactly one of"," ",e.jsx(s,{math:"G"})," and ",e.jsx(s,{math:"H"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For matchings: ",e.jsx(s,{math:"M \\triangle M' = (M - M') \\cup (M' - M)"}),"."]})]}),e.jsxs(q,{title:"Lemma 3.1.9",children:[e.jsx("p",{children:"Every component of the symmetric difference of two matchings is a path or an even cycle."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"M"})," and ",e.jsx(s,{math:"M'"})," be matchings, and let ",e.jsx(s,{math:"F = M \\triangle M'"}),". Since"," ",e.jsx(s,{math:"M"})," and ",e.jsx(s,{math:"M'"})," are matchings, every vertex has at most one incident edge from each. Thus"," ",e.jsx(s,{math:"F"})," has at most two edges at each vertex."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{math:"\\Delta(F) \\leq 2"}),", every component of"," ",e.jsx(s,{math:"F"})," is a path or a cycle. Furthermore, every path or cycle alternates between edges of ",e.jsx(s,{math:"M - M'"})," and edges of"," ",e.jsx(s,{math:"M' - M"}),". Thus each cycle has even length."]})]})]})]}),e.jsxs(q,{title:"Berge's Theorem (Theorem 3.1.10)",children:[e.jsxs("p",{children:["A matching ",e.jsx(s,{math:"M"})," in a graph ",e.jsx(s,{math:"G"})," is a maximum matching in ",e.jsx(s,{math:"G"})," if and only if"," ",e.jsx(s,{math:"G"})," has no ",e.jsx(s,{math:"M"}),"-augmenting path."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["We prove the contrapositive of each direction: ",e.jsx(s,{math:"G"})," has a matching larger than ",e.jsx(s,{math:"M"})," if and only if"," ",e.jsx(s,{math:"G"})," has an ",e.jsx(s,{math:"M"}),"-augmenting path."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"()"})," An ",e.jsx(s,{math:"M"}),"-augmenting path can be used to produce a matching larger than ",e.jsx(s,{math:"M"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"()"})," Let ",e.jsx(s,{math:"M'"})," be a matching larger than"," ",e.jsx(s,{math:"M"}),". Let ",e.jsx(s,{math:"F = M \\triangle M'"}),". By Lemma 3.1.9, ",e.jsx(s,{math:"F"})," consists of paths and even cycles. The cycles have the same number of edges from ",e.jsx(s,{math:"M"})," and"," ",e.jsx(s,{math:"M'"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{math:"|M'| > |M|"}),", ",e.jsx(s,{math:"F"})," must have a component with more edges of ",e.jsx(s,{math:"M'"})," than of"," ",e.jsx(s,{math:"M"}),". Such a component can only be a path that starts and ends with an edge of ",e.jsx(s,{math:"M'"}),"; thus it is an"," ",e.jsx(s,{math:"M"}),"-augmenting path."]})]})]})]}),e.jsx("h2",{children:"Hall's Matching Condition"}),e.jsxs("p",{children:["When filling jobs with applicants, there may be many more applicants than jobs. We model this with an ",e.jsx(s,{math:"X, Y"}),"-bigraph and seek a matching that saturates ",e.jsx(s,{math:"X"}),"."]}),e.jsxs(B,{title:"Hall's Condition",children:[e.jsxs("p",{children:["For a bipartite graph with bipartition ",e.jsx(s,{math:"X, Y"}),", let"," ",e.jsx(s,{math:"N(S)"})," denote the set of vertices having a neighbor in"," ",e.jsx(s,{math:"S"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Hall's Condition:"})," For all"," ",e.jsx(s,{math:"S \\subseteq X"}),","," ",e.jsx(s,{math:"|N(S)| \\geq |S|"}),"."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["This is obviously necessary: if a matching saturates ",e.jsx(s,{math:"X"}),", then for every ",e.jsx(s,{math:"S \\subseteq X"}),", there must be at least"," ",e.jsx(s,{math:"|S|"})," vertices to match to ",e.jsx(s,{math:"S"}),"."]})]}),e.jsxs(q,{title:"Hall's Theorem (Theorem 3.1.11)",children:[e.jsxs("p",{children:["An ",e.jsx(s,{math:"X, Y"}),"-bigraph ",e.jsx(s,{math:"G"})," has a matching that saturates ",e.jsx(s,{math:"X"})," if and only if"," ",e.jsx(s,{math:"|N(S)| \\geq |S|"})," for all"," ",e.jsx(s,{math:"S \\subseteq X"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Necessity:"})," The ",e.jsx(s,{math:"|S|"})," vertices matched to ",e.jsx(s,{math:"S"})," must lie in ",e.jsx(s,{math:"N(S)"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Sufficiency:"})," We prove the contrapositive. If"," ",e.jsx(s,{math:"M"})," is a maximum matching that doesn't saturate"," ",e.jsx(s,{math:"X"}),", we find ",e.jsx(s,{math:"S \\subseteq X"})," with"," ",e.jsx(s,{math:"|N(S)| < |S|"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{math:"u \\in X"})," be unsaturated. Among vertices reachable from ",e.jsx(s,{math:"u"})," by ",e.jsx(s,{math:"M"}),"-alternating paths, let ",e.jsx(s,{math:"S"})," be those in ",e.jsx(s,{math:"X"})," and"," ",e.jsx(s,{math:"T"})," be those in ",e.jsx(s,{math:"Y"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx(s,{math:"M"}),"-alternating paths from"," ",e.jsx(s,{math:"u"})," reach ",e.jsx(s,{math:"Y"})," along edges not in"," ",e.jsx(s,{math:"M"})," and return to ",e.jsx(s,{math:"X"})," along edges in ",e.jsx(s,{math:"M"}),". Hence ",e.jsx(s,{math:"M"})," matches"," ",e.jsx(s,{math:"T"})," with ",e.jsx(s,{math:"S - \\{u\\}"}),". Since there's no augmenting path, every vertex of ",e.jsx(s,{math:"T"})," is saturated, so ",e.jsx(s,{math:"T = N(S)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Thus"," ",e.jsx(s,{math:"|N(S)| = |T| = |S - \\{u\\}| = |S| - 1 < |S|"}),"."]})]})]})]}),e.jsx("h2",{children:"Vertex Covers"}),e.jsx("p",{children:"We now connect matchings to another graph parameter."}),e.jsxs(B,{title:"Vertex Cover",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"vertex cover"})," of a graph ",e.jsx(s,{math:"G"})," is a set"," ",e.jsx(s,{math:"Q \\subseteq V(G)"})," such that every edge of"," ",e.jsx(s,{math:"G"})," has at least one endpoint in ",e.jsx(s,{math:"Q"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"vertex cover number"})," ",e.jsx(s,{math:"\\beta(G)"})," is the minimum size of a vertex cover."]})]}),e.jsxs("p",{children:["Matchings and vertex covers are related: every vertex cover must contain at least one endpoint of each edge in a matching. Thus"," ",e.jsx(s,{math:"\\beta(G) \\geq |M|"})," for every matching"," ",e.jsx(s,{math:"M"}),"."]}),e.jsxs(q,{title:"Knig-Egervry Theorem (Theorem 3.1.16)",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," is a bipartite graph, then the maximum size of a matching in ",e.jsx(s,{math:"G"})," equals the minimum size of a vertex cover."]}),e.jsx(W,{math:"\\alpha'(G) = \\beta(G)"}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["Here ",e.jsx(s,{math:"\\alpha'(G)"})," denotes the maximum matching size (the"," ",e.jsx("strong",{children:"matching number"}),")."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["We always have ",e.jsx(s,{math:"\\alpha'(G) \\leq \\beta(G)"}),". For bipartite graphs, equality is achieved by constructing a vertex cover from a maximum matching using alternating paths, similar to the proof of Hall's Theorem."]})})]})]}),e.jsxs(re,{title:"Knig-Egervry in Practice",children:[e.jsxs("p",{children:["Consider ",e.jsx(s,{math:"K_{3,3}"}),". A maximum matching has size 3 (a perfect matching exists). A minimum vertex cover also has size 3 (we can take all vertices from one partite set)."]}),e.jsxs("p",{className:"mt-2",children:["For non-bipartite graphs, equality may fail. In a triangle"," ",e.jsx(s,{math:"K_3"}),", the maximum matching has size 1, but the minimum vertex cover has size 2."]})]}),e.jsx("h2",{children:"Independent Sets"}),e.jsxs(B,{title:"Independent Set",children:[e.jsxs("p",{children:["An ",e.jsx("strong",{children:"independent set"})," in a graph ",e.jsx(s,{math:"G"})," is a set of pairwise non-adjacent vertices."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"independence number"})," ",e.jsx(s,{math:"\\alpha(G)"})," is the maximum size of an independent set."]})]}),e.jsxs(q,{title:"Gallai's Theorem",children:[e.jsxs("p",{children:["For any graph ",e.jsx(s,{math:"G"})," without isolated vertices:"]}),e.jsx(W,{math:"\\alpha(G) + \\beta(G) = n(G)"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["A set ",e.jsx(s,{math:"S"})," is independent if and only if its complement"," ",e.jsx(s,{math:"\\overline{S} = V(G) - S"})," is a vertex cover. Thus"," ",e.jsx(s,{math:"S"})," is a maximum independent set iff"," ",e.jsx(s,{math:"\\overline{S}"})," is a minimum vertex cover, and:"]}),e.jsx(W,{math:"\\alpha(G) = n(G) - \\beta(G)"})]})]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Matching:"})," A set of edges with no shared endpoints. Perfect matchings saturate all vertices."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Maximal vs. Maximum:"})," Maximal matchings can't be extended; maximum matchings have the most edges. They're not the same!"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Berge's Theorem:"})," A matching is maximum iff there is no augmenting path."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Hall's Theorem:"})," An ",e.jsx(s,{math:"X, Y"}),"-bigraph has a matching saturating ",e.jsx(s,{math:"X"})," iff"," ",e.jsx(s,{math:"|N(S)| \\geq |S|"})," for all"," ",e.jsx(s,{math:"S \\subseteq X"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Knig-Egervry:"})," In bipartite graphs, maximum matching size = minimum vertex cover size."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Gallai's Theorem:"})," ",e.jsx(s,{math:"\\alpha(G) + \\beta(G) = n(G)"})," for graphs without isolated vertices."]})]})]})}function gG(){return e.jsxs(ze,{sectionId:9,children:[e.jsx("p",{children:"Now that we understand the structure of maximum matchings via Berge's Theorem, we can design algorithms to find them. In bipartite graphs, the augmenting path approach leads to efficient algorithms. We also consider weighted versions of matching problems and the stable matching problem, which has applications in job markets and organ donation."}),e.jsx("h2",{children:"The Augmenting Path Algorithm"}),e.jsxs("p",{children:["Berge's Theorem tells us that a matching ",e.jsx(s,{math:"M"})," is maximum if and only if there is no ",e.jsx(s,{math:"M"}),"-augmenting path. This suggests an algorithm: repeatedly find augmenting paths and use them to enlarge the matching until no augmenting path exists."]}),e.jsxs(B,{title:"Augmenting Path Algorithm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Input:"})," An ",e.jsx(s,{math:"X, Y"}),"-bigraph"," ",e.jsx(s,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Idea:"})," Explore alternating paths from each unsaturated vertex in ",e.jsx(s,{math:"X"}),", seeking to reach an unsaturated vertex in"," ",e.jsx(s,{math:"Y"}),"."]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["Start with any matching ",e.jsx(s,{math:"M"})," (possibly empty)."]}),e.jsxs("li",{children:["For each unsaturated vertex ",e.jsx(s,{math:"u \\in X"}),", use BFS/DFS to search for an ",e.jsx(s,{math:"M"}),"-augmenting path starting at"," ",e.jsx(s,{math:"u"}),"."]}),e.jsxs("li",{children:["From ",e.jsx(s,{math:"X"}),"-vertices, follow edges not in"," ",e.jsx(s,{math:"M"}),"."]}),e.jsxs("li",{children:["From ",e.jsx(s,{math:"Y"}),"-vertices, follow edges in"," ",e.jsx(s,{math:"M"}),"."]}),e.jsxs("li",{children:["If an unsaturated ",e.jsx(s,{math:"Y"}),"-vertex is reached, we've found an augmenting path. Augment ",e.jsx(s,{math:"M"})," and repeat."]}),e.jsxs("li",{children:["If no augmenting path exists, ",e.jsx(s,{math:"M"})," is maximum."]})]})]}),e.jsxs(q,{title:"Theorem 3.2.2 (Correctness and Running Time)",children:[e.jsxs("p",{children:["The augmenting path algorithm finds a maximum matching in an"," ",e.jsx(s,{math:"X, Y"}),"-bigraph ",e.jsx(s,{math:"G"}),". If"," ",e.jsx(s,{math:"n = |V(G)|"})," and ",e.jsx(s,{math:"m = |E(G)|"}),", the algorithm runs in ",e.jsx(s,{math:"O(mn)"})," time."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Correctness:"})," Berge's Theorem guarantees that when no augmenting path exists, we have a maximum matching."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Time analysis:"})," Each augmentation increases"," ",e.jsx(s,{math:"|M|"})," by 1. Since"," ",e.jsx(s,{math:"|M| \\leq n/2"}),", we perform at most"," ",e.jsx(s,{math:"O(n)"})," augmentations. Each search for an augmenting path visits each edge at most once, taking ",e.jsx(s,{math:"O(m)"})," ","time. Total: ",e.jsx(s,{math:"O(mn)"}),"."]})]})]})]}),e.jsxs(re,{title:"Applying the Algorithm",children:[e.jsxs("p",{children:["Consider a bipartite graph with ",e.jsx(s,{math:"X = \\{x_1, x_2, x_3\\}"})," ","and ",e.jsx(s,{math:"Y = \\{y_1, y_2, y_3\\}"})," with edges"," ",e.jsx(s,{math:"x_1y_1, x_1y_2, x_2y_1, x_2y_2, x_3y_2, x_3y_3"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Round 1:"})," Start with ",e.jsx(s,{math:"M = \\emptyset"}),". From ",e.jsx(s,{math:"x_1"}),", go to ",e.jsx(s,{math:"y_1"})," (unsaturated). Augment: ",e.jsx(s,{math:"M = \\{x_1y_1\\}"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Round 2:"})," From ",e.jsx(s,{math:"x_2"}),", try"," ",e.jsx(s,{math:"y_1"})," (saturated), follow matching edge to"," ",e.jsx(s,{math:"x_1"}),", try ",e.jsx(s,{math:"y_2"})," (unsaturated). Augment: ",e.jsx(s,{math:"M = \\{x_1y_2, x_2y_1\\}"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Round 3:"})," From ",e.jsx(s,{math:"x_3"}),", try"," ",e.jsx(s,{math:"y_2"})," (saturated), to ",e.jsx(s,{math:"x_1"}),", can't extend further from ",e.jsx(s,{math:"x_1"}),". Try ",e.jsx(s,{math:"y_3"})," ","(unsaturated). Augment: ",e.jsx(s,{math:"M = \\{x_1y_2, x_2y_1, x_3y_3\\}"}),"."]}),e.jsx("p",{className:"mt-2",children:"Final matching is perfect with size 3."})]}),e.jsx("h3",{children:"The Hopcroft-Karp Algorithm"}),e.jsx("p",{children:"By finding many augmenting paths in each phase (all of shortest length), the Hopcroft-Karp algorithm improves the running time."}),e.jsxs(q,{title:"Hopcroft-Karp (1973)",children:[e.jsxs("p",{children:["A maximum matching in a bipartite graph with ",e.jsx(s,{math:"n"})," vertices and ",e.jsx(s,{math:"m"})," edges can be found in"," ",e.jsx(s,{math:"O(m\\sqrt{n})"})," time."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsx("p",{children:"The algorithm works in phases. Each phase finds a maximal set of vertex-disjoint shortest augmenting paths and augments along all of them simultaneously."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Key insight:"})," After each phase, the length of the shortest augmenting path strictly increases. This is because augmenting along all shortest paths removes all such paths from the residual graph."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Phase count:"})," If the maximum matching has size"," ",e.jsx(s,{math:"k"}),", then after ",e.jsx(s,{math:"\\sqrt{k}"})," phases, the shortest augmenting path has length at least"," ",e.jsx(s,{math:"\\sqrt{k}"}),". The number of remaining augmenting paths is at most ",e.jsx(s,{math:"\\sqrt{k}"}),", so at most"," ",e.jsx(s,{math:"\\sqrt{k}"})," more phases are needed."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Total phases:"})," ",e.jsx(s,{math:"O(\\sqrt{k}) = O(\\sqrt{n})"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Per-phase time:"})," Finding all shortest augmenting paths via BFS and augmenting takes ",e.jsx(s,{math:"O(m)"})," time."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Total time:"})," ",e.jsx(s,{math:"O(m\\sqrt{n})"}),"."]})]})]})]}),e.jsx("h2",{children:"Weighted Bipartite Matching"}),e.jsx("p",{children:"In many applications, not all matchings are equally valuable. When edges have weights (costs or profits), we seek a maximum matching of maximum (or minimum) total weight."}),e.jsxs(B,{title:"Weighted Bipartite Matching",children:[e.jsxs("p",{children:["Given an ",e.jsx(s,{math:"X, Y"}),"-bigraph ",e.jsx(s,{math:"G"})," with edge weights ",e.jsx(s,{math:"w: E(G) \\to \\mathbb{R}"}),", the"," ",e.jsx("strong",{children:"weighted bipartite matching problem"})," seeks a maximum matching"," ",e.jsx(s,{math:"M"})," that maximizes (or minimizes)"," ",e.jsx(s,{math:"\\sum_{e \\in M} w(e)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["When ",e.jsx(s,{math:"|X| = |Y| = n"})," and we seek a perfect matching, this is the ",e.jsx("strong",{children:"assignment problem"}),"."]})]}),e.jsxs(re,{title:"Farm Assignment Problem",children:[e.jsxs("p",{children:["A farm must assign ",e.jsx(s,{math:"n"})," workers to ",e.jsx(s,{math:"n"})," ","jobs. Let ",e.jsx(s,{math:"a_{ij}"})," be the profit when worker"," ",e.jsx(s,{math:"i"})," does job ",e.jsx(s,{math:"j"}),". We model this as"," ",e.jsx(s,{math:"K_{n,n}"})," with edge ",e.jsx(s,{math:"x_i y_j"})," having weight ",e.jsx(s,{math:"a_{ij}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["We seek a perfect matching (assignment) maximizing total profit. The optimal assignment corresponds to a permutation ",e.jsx(s,{math:"\\sigma"})," ","maximizing ",e.jsx(s,{math:"\\sum_i a_{i,\\sigma(i)}"}),"."]})]}),e.jsx("h3",{children:"The Hungarian Algorithm"}),e.jsxs(B,{title:"Vertex Labeling",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"feasible labeling"})," for weighted"," ",e.jsx(s,{math:"X, Y"}),"-bigraph ",e.jsx(s,{math:"G"})," is a function"," ",e.jsx(s,{math:"\\ell: V(G) \\to \\mathbb{R}"})," such that"," ",e.jsx(s,{math:"\\ell(x) + \\ell(y) \\geq w(xy)"})," for all edges"," ",e.jsx(s,{math:"xy"}),"."]}),e.jsxs("p",{className:"mt-2",children:["An edge ",e.jsx(s,{math:"xy"})," is ",e.jsx("strong",{children:"tight"})," if"," ",e.jsx(s,{math:"\\ell(x) + \\ell(y) = w(xy)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"equality graph"})," ",e.jsx(s,{math:"G_\\ell"})," consists of all tight edges."]})]}),e.jsxs(q,{title:"Theorem 3.2.9",children:[e.jsxs("p",{children:["For a feasible labeling ",e.jsx(s,{math:"\\ell"})," on a weighted bipartite graph ",e.jsx(s,{math:"G"})," with ",e.jsx(s,{math:"|X| = |Y|"}),":"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["For any matching ",e.jsx(s,{math:"M"}),":"," ",e.jsx(s,{math:"w(M) \\leq \\sum_{v \\in V(G)} \\ell(v)"}),"."]}),e.jsxs("li",{children:["Equality holds if and only if ",e.jsx(s,{math:"M"})," is a perfect matching in ",e.jsx(s,{math:"G_\\ell"}),"."]})]}),e.jsxs("p",{className:"mt-2",children:["Thus, a perfect matching in ",e.jsx(s,{math:"G_\\ell"})," is a maximum-weight perfect matching in ",e.jsx(s,{math:"G"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Part 1:"})," For any matching ",e.jsx(s,{math:"M"}),", we have:"]}),e.jsx(W,{math:"w(M) = \\sum_{xy \\in M} w(xy) \\leq \\sum_{xy \\in M} (\\ell(x) + \\ell(y))"}),e.jsxs("p",{className:"mt-2",children:["by the feasibility condition ",e.jsx(s,{math:"\\ell(x) + \\ell(y) \\geq w(xy)"}),". Since ",e.jsx(s,{math:"M"})," saturates at most one endpoint of each vertex:"]}),e.jsx(W,{math:"\\sum_{xy \\in M} (\\ell(x) + \\ell(y)) \\leq \\sum_{v \\in V(G)} \\ell(v)"}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Part 2 ():"})," If ",e.jsx(s,{math:"M"})," is a perfect matching in ",e.jsx(s,{math:"G_\\ell"}),", then all edges of ",e.jsx(s,{math:"M"})," are tight: ",e.jsx(s,{math:"\\ell(x) + \\ell(y) = w(xy)"})," for each"," ",e.jsx(s,{math:"xy \\in M"}),". Since ",e.jsx(s,{math:"M"})," is perfect, every vertex is saturated exactly once, so:"]}),e.jsx(W,{math:"w(M) = \\sum_{xy \\in M} w(xy) = \\sum_{xy \\in M} (\\ell(x) + \\ell(y)) = \\sum_{v \\in V(G)} \\ell(v)"}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Part 2 ():"})," If equality holds, then ",e.jsx(s,{math:"M"})," must saturate every vertex (otherwise the sum over ",e.jsx(s,{math:"M"})," would be less than the sum over all vertices). Furthermore, every edge in"," ",e.jsx(s,{math:"M"})," must be tight (otherwise the weight would be strictly less). Thus ",e.jsx(s,{math:"M"})," is a perfect matching in"," ",e.jsx(s,{math:"G_\\ell"}),"."]})]})]})]}),e.jsxs(B,{title:"Hungarian Algorithm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Input:"})," Weighted ",e.jsx(s,{math:"X, Y"}),"-bigraph with"," ",e.jsx(s,{math:"|X| = |Y| = n"}),"."]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["Initialize: ",e.jsx(s,{math:"\\ell(x) = \\max_y w(xy)"})," for"," ",e.jsx(s,{math:"x \\in X"}),", ",e.jsx(s,{math:"\\ell(y) = 0"})," for"," ",e.jsx(s,{math:"y \\in Y"}),"."]}),e.jsxs("li",{children:["Find a maximum matching ",e.jsx(s,{math:"M"})," in"," ",e.jsx(s,{math:"G_\\ell"}),"."]}),e.jsxs("li",{children:["If ",e.jsx(s,{math:"M"})," is perfect, return ",e.jsx(s,{math:"M"}),"."]}),e.jsxs("li",{children:["Otherwise, adjust labels to add edges to ",e.jsx(s,{math:"G_\\ell"})," ","(making more edges tight) and repeat."]})]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["Running time: ",e.jsx(s,{math:"O(n^3)"}),"."]})]}),e.jsx("h2",{children:"Stable Matchings"}),e.jsx("p",{children:"In the stable matching problem, we have preferences rather than numeric weights. Each vertex ranks its potential partners, and we seek a matching where no two unmatched vertices would prefer each other over their current partners."}),e.jsxs(B,{title:"Stable Matching",children:[e.jsxs("p",{children:["Given an ",e.jsx(s,{math:"X, Y"}),"-bigraph where each vertex ranks its neighbors, a matching ",e.jsx(s,{math:"M"})," is ",e.jsx("strong",{children:"unstable"})," if there exist ",e.jsx(s,{math:"x \\in X"})," and ",e.jsx(s,{math:"y \\in Y"})," ","such that:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx(s,{math:"xy \\notin M"})," (they are not matched to each other)"]}),e.jsxs("li",{children:[e.jsx(s,{math:"x"})," prefers ",e.jsx(s,{math:"y"})," to"," ",e.jsx(s,{math:"x"}),"'s partner in ",e.jsx(s,{math:"M"})," (or"," ",e.jsx(s,{math:"x"})," is unmatched)"]}),e.jsxs("li",{children:[e.jsx(s,{math:"y"})," prefers ",e.jsx(s,{math:"x"})," to"," ",e.jsx(s,{math:"y"}),"'s partner in ",e.jsx(s,{math:"M"})," (or"," ",e.jsx(s,{math:"y"})," is unmatched)"]})]}),e.jsxs("p",{className:"mt-2",children:["Such a pair ",e.jsx(s,{math:"(x, y)"})," is called a"," ",e.jsx("strong",{children:"blocking pair"}),". A matching is ",e.jsx("strong",{children:"stable"})," if it has no blocking pairs."]})]}),e.jsxs(re,{title:"The Roommate Problem",children:[e.jsx("p",{children:"Consider three people: Alice (A), Bob (B), and Carol (C). Suppose:"}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsx("li",{children:"A's preference: B > C"}),e.jsx("li",{children:"B's preference: C > A"}),e.jsx("li",{children:"C's preference: A > B"})]}),e.jsx("p",{className:"mt-2",children:"In any pairing, one person is left out. If we pair A-B, then C is alone, but B prefers C to A and C prefers B to being aloneblocking pair! Similarly for other pairings. No stable matching exists."}),e.jsx("p",{className:"mt-2 text-dark-300",children:"The bipartite version (with two disjoint groups) always has a stable matching."})]}),e.jsxs(q,{title:"Gale-Shapley Theorem (Theorem 3.2.17)",children:[e.jsx("p",{children:"Every bipartite preference system has a stable matching."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsx("p",{children:"We prove the Gale-Shapley (proposal) algorithm produces a stable matching."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Termination:"})," Each proposal is made at most once (a proposer never re-proposes to someone who rejected them). With ",e.jsx(s,{math:"n"})," ","proposers and ",e.jsx(s,{math:"n"})," receivers, there are at most"," ",e.jsx(s,{math:"n^2"})," proposals, so the algorithm terminates."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Completeness:"})," We show all proposers are matched at termination. Suppose proposer ",e.jsx(s,{math:"x"})," is unmatched. Then ",e.jsx(s,{math:"x"})," ","proposed to everyone and was rejected by all. Since a receiver only rejects when they have a better partner, every receiver is matched. But then all"," ",e.jsx(s,{math:"n"})," receivers are matched to ",e.jsx(s,{math:"n - 1"})," ","proposerscontradiction."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Stability:"})," Suppose ",e.jsx(s,{math:"(x, y)"})," is a blocking pair: ",e.jsx(s,{math:"x"})," prefers ",e.jsx(s,{math:"y"})," to"," ",e.jsx(s,{math:"x"}),"'s partner, and ",e.jsx(s,{math:"y"})," prefers"," ",e.jsx(s,{math:"x"})," to ",e.jsx(s,{math:"y"}),"'s partner."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{math:"x"})," prefers ",e.jsx(s,{math:"y"})," to their current partner, ",e.jsx(s,{math:"x"})," must have proposed to ",e.jsx(s,{math:"y"})," ","before proposing to their current partner (proposers go down their preference list). So ",e.jsx(s,{math:"y"})," rejected ",e.jsx(s,{math:"x"})," at some point."]}),e.jsxs("p",{className:"mt-2",children:['But receivers only reject for someone they prefer more, and once matched to someone, they only "trade up." So ',e.jsx(s,{math:"y"}),"'s final partner is at least as preferred as whoever caused ",e.jsx(s,{math:"y"})," to reject"," ",e.jsx(s,{math:"x"}),". Thus ",e.jsx(s,{math:"y"})," does not prefer"," ",e.jsx(s,{math:"x"})," to their partnercontradicting our assumption."]})]})]})]}),e.jsxs(B,{title:"Gale-Shapley Algorithm (Proposal Algorithm)",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Input:"})," Bipartite preference system with sets"," ",e.jsx(s,{math:"X"})," (proposers) and ",e.jsx(s,{math:"Y"})," ","(receivers)."]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"All vertices are initially free."}),e.jsxs("li",{children:["While some ",e.jsx(s,{math:"x \\in X"})," is free and hasn't proposed to everyone:",e.jsxs("ul",{className:"ml-4 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx(s,{math:"x"})," proposes to their most-preferred"," ",e.jsx(s,{math:"y"})," not yet proposed to."]}),e.jsxs("li",{children:["If ",e.jsx(s,{math:"y"})," is free, tentatively match"," ",e.jsx(s,{math:"x"})," and ",e.jsx(s,{math:"y"}),"."]}),e.jsxs("li",{children:["If ",e.jsx(s,{math:"y"})," prefers ",e.jsx(s,{math:"x"})," to their current partner ",e.jsx(s,{math:"x'"}),", replace:"," ",e.jsx(s,{math:"x'"})," becomes free, ",e.jsx(s,{math:"x"})," and"," ",e.jsx(s,{math:"y"})," are matched."]}),e.jsxs("li",{children:["Otherwise, ",e.jsx(s,{math:"x"})," remains free."]})]})]}),e.jsx("li",{children:"Return the final matching."})]})]}),e.jsxs(q,{title:"Theorem 3.2.18 (Properties of Gale-Shapley)",children:[e.jsx("p",{children:"The Gale-Shapley algorithm:"}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["Always terminates with a stable matching in ",e.jsx(s,{math:"O(n^2)"})," ","time."]}),e.jsxs("li",{children:["Produces the ",e.jsx("strong",{children:"proposer-optimal"})," stable matching: each proposer gets their best partner among all stable matchings."]}),e.jsxs("li",{children:["Produces the ",e.jsx("strong",{children:"receiver-pessimal"})," stable matching: each receiver gets their worst partner among all stable matchings."]})]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Part 1:"})," Shown in the proof of Theorem 3.2.17. At most"," ",e.jsx(s,{math:"n^2"})," proposals, each taking ",e.jsx(s,{math:"O(1)"})," ","time with proper data structures."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Part 2 (Proposer-optimal):"})," Call ",e.jsx(s,{math:"y"})," a"," ",e.jsx("em",{children:"valid partner"})," for ",e.jsx(s,{math:"x"})," if some stable matching pairs them. We show each proposer is matched to their best valid partner."]}),e.jsxs("p",{className:"mt-2",children:["Suppose some proposer ",e.jsx(s,{math:"x"})," is rejected by a valid partner during the algorithm. Consider the first such rejection: ",e.jsx(s,{math:"y"})," ","rejects ",e.jsx(s,{math:"x"})," for ",e.jsx(s,{math:"x'"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{math:"M"})," be a stable matching where"," ",e.jsx(s,{math:"x"})," is paired with ",e.jsx(s,{math:"y"}),". In"," ",e.jsx(s,{math:"M"}),", let ",e.jsx(s,{math:"x'"})," be paired with"," ",e.jsx(s,{math:"y'"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Since this is the first rejection by a valid partner, ",e.jsx(s,{math:"x'"})," ","has not yet been rejected by any valid partner. So ",e.jsx(s,{math:"x'"})," ","prefers ",e.jsx(s,{math:"y"})," to ",e.jsx(s,{math:"y'"})," (otherwise"," ",e.jsx(s,{math:"x'"})," would have proposed to ",e.jsx(s,{math:"y'"})," first)."]}),e.jsxs("p",{className:"mt-2",children:["Also, ",e.jsx(s,{math:"y"})," prefers ",e.jsx(s,{math:"x'"})," to"," ",e.jsx(s,{math:"x"})," (that's why ",e.jsx(s,{math:"y"})," rejected"," ",e.jsx(s,{math:"x"}),")."]}),e.jsxs("p",{className:"mt-2",children:["But then ",e.jsx(s,{math:"(x', y)"})," is a blocking pair for"," ",e.jsx(s,{math:"M"}),"contradiction. So no proposer is ever rejected by a valid partner."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Part 3 (Receiver-pessimal):"})," Let ",e.jsx(s,{math:"M"})," be the proposer-optimal matching. Suppose receiver ",e.jsx(s,{math:"y"})," is matched to ",e.jsx(s,{math:"x"})," in ",e.jsx(s,{math:"M"})," but prefers"," ",e.jsx(s,{math:"x"})," less than some partner ",e.jsx(s,{math:"x'"})," in another stable matching ",e.jsx(s,{math:"M'"}),"."]}),e.jsxs("p",{className:"mt-2",children:["In ",e.jsx(s,{math:"M'"}),", proposer ",e.jsx(s,{math:"x"})," is matched to some"," ",e.jsx(s,{math:"y' \\neq y"}),". Since ",e.jsx(s,{math:"M"})," is proposer-optimal,"," ",e.jsx(s,{math:"x"})," prefers ",e.jsx(s,{math:"y"})," to ",e.jsx(s,{math:"y'"}),"."]}),e.jsxs("p",{className:"mt-2",children:["But ",e.jsx(s,{math:"y"})," prefers ",e.jsx(s,{math:"x'"})," to"," ",e.jsx(s,{math:"x"}),", so ",e.jsx(s,{math:"(x, y)"})," blocks"," ",e.jsx(s,{math:"M'"}),"contradiction."]})]})]})]}),e.jsxs(re,{title:"Medical Residency Matching",children:[e.jsx("p",{children:"The National Resident Matching Program (NRMP) uses a variant of Gale-Shapley to match medical school graduates to residency programs. Each year, about 40,000 applicants and 30,000 positions are matched."}),e.jsx("p",{className:"mt-2",children:"Originally hospitals proposed (giving hospitals their optimal matching). Now applicants propose, giving applicants better outcomes on average."}),e.jsx("p",{className:"mt-2 text-dark-300",children:"Alvin Roth, Lloyd Shapley, and David Gale received the 2012 Nobel Prize in Economics partly for this work."})]}),e.jsx("h2",{children:"Min-Max Theorems"}),e.jsx("p",{children:'The Knig-Egervry Theorem shows that maximum matching equals minimum vertex cover in bipartite graphs. Such "min-max" relations are fundamental in combinatorial optimization.'}),e.jsx(B,{title:"Min-Max Theorem",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"min-max theorem"})," states that the maximum value of one optimization problem equals the minimum value of a related problem. Finding an optimal solution to either problem proves optimality for both."]})}),e.jsx("p",{children:"For matchings in bipartite graphs, several min-max relations hold:"}),e.jsxs(q,{title:"Summary of Min-Max Relations",children:[e.jsxs("p",{children:["For an ",e.jsx(s,{math:"X, Y"}),"-bigraph ",e.jsx(s,{math:"G"}),":"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(s,{math:"\\alpha'(G) = \\beta(G)"})," (Knig-Egervry)"]}),e.jsxs("li",{children:[e.jsx(s,{math:"\\alpha(G) = n(G) - \\beta(G)"})," (Gallai)"]}),e.jsx("li",{children:"Maximum matching = Minimum vertex cover"}),e.jsxs("li",{children:["Maximum independent set = ",e.jsx(s,{math:"n"}),"  Minimum vertex cover"]})]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Augmenting Path Algorithm:"})," Finds maximum matching in"," ",e.jsx(s,{math:"O(mn)"})," by repeatedly finding and using augmenting paths."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Hopcroft-Karp:"})," Improves to"," ",e.jsx(s,{math:"O(m\\sqrt{n})"})," by finding multiple shortest augmenting paths per phase."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Weighted Matching:"})," The Hungarian algorithm solves the assignment problem in ",e.jsx(s,{math:"O(n^3)"})," using feasible labelings."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Stable Matching:"})," Gale-Shapley always finds a stable matching in bipartite systems. The proposing side gets their optimal outcome."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Applications:"})," Job assignment, organ donation, medical residency matching, online advertising, and more."]})]})]})}function jG(){return e.jsxs(ze,{sectionId:10,children:[e.jsxs("p",{children:["Hall's Theorem and the Knig-Egervry Theorem apply only to bipartite graphs. For general graphs, characterizing perfect matchings is more subtle. The key difficulty is the presence of odd cycles, which leads to Tutte's elegant characterization. We also study ",e.jsx(s,{math:"f"}),"-factors, which generalize matchings."]}),e.jsx("h2",{children:"Tutte's 1-Factor Theorem"}),e.jsxs("p",{children:["Recall that a perfect matching is also called a ",e.jsx("strong",{children:"1-factor"}),": a 1-regular spanning subgraph. When does a graph have a 1-factor?"]}),e.jsx(B,{title:"Odd Components",children:e.jsxs("p",{children:["For a graph ",e.jsx(s,{math:"G"})," and vertex subset"," ",e.jsx(s,{math:"S \\subseteq V(G)"}),", let"," ",e.jsx(s,{math:"o(G - S)"})," denote the number of ",e.jsx("strong",{children:"odd components"})," ","of ",e.jsx(s,{math:"G - S"})," (components with an odd number of vertices)."]})}),e.jsxs("p",{children:["The key observation is that a perfect matching must match vertices within each component or match them to ",e.jsx(s,{math:"S"}),". In an odd component, at least one vertex must be matched to ",e.jsx(s,{math:"S"}),"."]}),e.jsxs(q,{title:"Tutte's 1-Factor Theorem (Theorem 3.3.3)",children:[e.jsxs("p",{children:["A graph ",e.jsx(s,{math:"G"})," has a 1-factor (perfect matching) if and only if for every ",e.jsx(s,{math:"S \\subseteq V(G)"}),":"]}),e.jsx(W,{math:"o(G - S) \\leq |S|"}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["This is called ",e.jsx("strong",{children:"Tutte's Condition"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof (Necessity)"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," has a perfect matching ",e.jsx(s,{math:"M"}),", consider any ",e.jsx(s,{math:"S \\subseteq V(G)"}),". Each odd component of"," ",e.jsx(s,{math:"G - S"})," has an odd number of vertices, so in any matching of its vertices, at least one must match outside the component."]}),e.jsxs("p",{className:"mt-2",children:["Since vertices in odd components can only match to ",e.jsx(s,{math:"S"})," ","(they can't match to even components or other odd components), we need at least ",e.jsx(s,{math:"o(G - S)"})," vertices in ",e.jsx(s,{math:"S"}),". Thus ",e.jsx(s,{math:"o(G - S) \\leq |S|"}),"."]})]})]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof (Sufficiency - Sketch)"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["The sufficiency proof uses a clever argument. Assume Tutte's condition holds but ",e.jsx(s,{math:"G"})," has no perfect matching. Among all such graphs, consider one with the maximum number of edges (adding edges can only help create a matching)."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{math:"G"})," is edge-maximal, for any non-edge"," ",e.jsx(s,{math:"uv"}),", the graph ",e.jsx(s,{math:"G + uv"})," has a perfect matching using ",e.jsx(s,{math:"uv"}),". This forces"," ",e.jsx(s,{math:"G"})," to be a union of complete graphs joined in a specific way, but then we can construct a perfect matchingcontradiction."]})]})]})]}),e.jsxs(re,{title:"Petersen Graph",children:[e.jsx("p",{children:"The Petersen graph has 10 vertices and is 3-regular. Does it have a perfect matching?"}),e.jsxs("p",{className:"mt-2",children:["We check Tutte's condition. By symmetry, it suffices to check a few cases. Taking ",e.jsx(s,{math:"S = \\emptyset"})," gives one component (connected graph) with 10 verticeseven, so ",e.jsx(s,{math:"o(G) = 0 \\leq 0"}),". "]}),e.jsx("p",{className:"mt-2",children:"After checking all relevant subsets (by symmetry arguments), Tutte's condition holds. The Petersen graph has a perfect matchingin fact, it has exactly 6 perfect matchings."})]}),e.jsx("h3",{children:"Deficiency and Maximum Matchings"}),e.jsxs(B,{title:"Deficiency",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"deficiency"})," of graph ",e.jsx(s,{math:"G"})," is:"]}),e.jsx(W,{math:"\\text{def}(G) = \\max_{S \\subseteq V(G)} \\left( o(G - S) - |S| \\right)"}),e.jsxs("p",{className:"mt-2",children:["By Tutte's condition, ",e.jsx(s,{math:"G"})," has a perfect matching iff"," ",e.jsx(s,{math:"\\text{def}(G) = 0"}),"."]})]}),e.jsxs(q,{title:"Berge-Tutte Formula (Theorem 3.3.17)",children:[e.jsxs("p",{children:["For any graph ",e.jsx(s,{math:"G"}),":"]}),e.jsx(W,{math:"\\alpha'(G) = \\frac{1}{2}\\left( n(G) - \\text{def}(G) \\right)"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(s,{math:"\\alpha'(G)"})," is the maximum matching number."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["This generalizes both Hall's Theorem (for bipartite graphs) and Tutte's Theorem (when ",e.jsx(s,{math:"\\text{def}(G) = 0"}),")."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Upper bound:"})," Let ",e.jsx(s,{math:"S"})," achieve the deficiency: ",e.jsx(s,{math:"o(G - S) - |S| = \\text{def}(G)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Any matching ",e.jsx(s,{math:"M"})," can saturate at most"," ",e.jsx(s,{math:"|S|"})," vertices from the ",e.jsx(s,{math:"o(G - S)"})," ","odd components (each odd component needs at least one vertex matched to"," ",e.jsx(s,{math:"S"}),"). Thus at least"," ",e.jsx(s,{math:"o(G - S) - |S| = \\text{def}(G)"})," vertices from odd components remain unsaturated."]}),e.jsxs("p",{className:"mt-2",children:["Therefore, ",e.jsx(s,{math:"M"})," saturates at most"," ",e.jsx(s,{math:"n(G) - \\text{def}(G)"})," vertices, giving:"]}),e.jsx(W,{math:"\\alpha'(G) \\leq \\frac{1}{2}(n(G) - \\text{def}(G))"}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Lower bound:"})," Construct a new graph"," ",e.jsx(s,{math:"G'"})," from ",e.jsx(s,{math:"G"})," by adding"," ",e.jsx(s,{math:"\\text{def}(G)"})," new vertices, each adjacent to all original vertices."]}),e.jsxs("p",{className:"mt-2",children:["We verify ",e.jsx(s,{math:"G'"})," satisfies Tutte's condition. For any"," ",e.jsx(s,{math:"T \\subseteq V(G')"}),", if ",e.jsx(s,{math:"T"})," ","contains all new vertices, then"," ",e.jsx(s,{math:"o(G' - T) = o(G - S)"})," where"," ",e.jsx(s,{math:"S = T \\cap V(G)"}),". Since ",e.jsx(s,{math:"|T| \\geq \\text{def}(G) + |S|"}),":"]}),e.jsx(W,{math:"o(G' - T) = o(G - S) \\leq |S| + \\text{def}(G) \\leq |T|"}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"T"})," is missing some new vertex ",e.jsx(s,{math:"w"}),", then ",e.jsx(s,{math:"w"})," is adjacent to all of ",e.jsx(s,{math:"G - S"}),", so ",e.jsx(s,{math:"G' - T"})," has at most one componentcondition satisfied."]}),e.jsxs("p",{className:"mt-2",children:["By Tutte's Theorem, ",e.jsx(s,{math:"G'"})," has a perfect matching"," ",e.jsx(s,{math:"M'"}),". Restricting to ",e.jsx(s,{math:"G"})," gives a matching of size"," ",e.jsx(s,{math:"\\frac{1}{2}(n(G) + \\text{def}(G)) - \\text{def}(G) = \\frac{1}{2}(n(G) - \\text{def}(G))"}),"."]})]})]})]}),e.jsxs("h2",{children:["Factors and ",e.jsx(s,{math:"f"}),"-Factors"]}),e.jsx("p",{children:"A matching saturates each vertex at most once. What if we want to saturate each vertex a specified number of times?"}),e.jsxs(B,{title:"f-Factor",children:[e.jsxs("p",{children:["Given a function ",e.jsx(s,{math:"f: V(G) \\to \\mathbb{Z}_{\\geq 0}"}),", an"," ",e.jsxs("strong",{children:[e.jsx(s,{math:"f"}),"-factor"]})," ","of graph ",e.jsx(s,{math:"G"})," is a spanning subgraph ",e.jsx(s,{math:"H"})," ","such that ",e.jsx(s,{math:"d_H(v) = f(v)"})," for every vertex"," ",e.jsx(s,{math:"v"}),"."]}),e.jsx("p",{className:"mt-2",children:"Special cases:"}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["A ",e.jsx("strong",{children:"1-factor"})," is a perfect matching (",e.jsx(s,{math:"f \\equiv 1"}),")."]}),e.jsxs("li",{children:["A ",e.jsx("strong",{children:"2-factor"})," is a spanning union of cycles (",e.jsx(s,{math:"f \\equiv 2"}),")."]}),e.jsxs("li",{children:["A ",e.jsxs("strong",{children:[e.jsx(s,{math:"k"}),"-factor"]})," ","is a ",e.jsx(s,{math:"k"}),"-regular spanning subgraph (",e.jsx(s,{math:"f \\equiv k"}),")."]})]})]}),e.jsxs(q,{title:"2-Factor Theorem (Theorem 3.3.9)",children:[e.jsxs("p",{children:["Every ",e.jsx(s,{math:"k"}),"-regular bipartite graph has a 2-factor."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["By the Knig-Egervry Theorem and Hall's Theorem, every regular bipartite graph has a perfect matching. Remove this matching to get a"," ",e.jsx(s,{math:"(k-1)"}),"-regular bipartite graph, which again has a perfect matching. The union of these two perfect matchings is a 2-factor."]})})]})]}),e.jsxs(q,{title:"Petersen's Theorem (Theorem 3.3.7)",children:[e.jsx("p",{children:"Every 3-regular graph with no cut-edge has a perfect matching."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["Verify Tutte's condition. For any ",e.jsx(s,{math:"S"}),", each odd component of ",e.jsx(s,{math:"G - S"})," has an odd total degree from"," ",e.jsx(s,{math:"S"})," (since internal degrees sum to even). Being 3-regular with no cut-edge provides enough connectivity to ensure"," ",e.jsx(s,{math:"o(G - S) \\leq |S|"}),"."]})})]})]}),e.jsxs("h3",{children:["General ",e.jsx(s,{math:"f"}),"-Factor Theorem"]}),e.jsxs(q,{title:"Tutte's f-Factor Theorem (Theorem 3.3.25)",children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"f: V(G) \\to \\mathbb{Z}_{\\geq 0}"}),". The graph"," ",e.jsx(s,{math:"G"})," has an ",e.jsx(s,{math:"f"}),"-factor if and only if for every ",e.jsx(s,{math:"S, T \\subseteq V(G)"})," with"," ",e.jsx(s,{math:"S \\cap T = \\emptyset"}),":"]}),e.jsx(W,{math:"\\sum_{v \\in S} f(v) + \\sum_{v \\in T} (d_G(v) - f(v)) - e_G(S, T) - q(S, T) \\geq 0"}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["Here ",e.jsx(s,{math:"e_G(S, T)"})," is the number of edges between"," ",e.jsx(s,{math:"S"})," and ",e.jsx(s,{math:"T"}),", and"," ",e.jsx(s,{math:"q(S, T)"}),' counts certain "bad" components of'," ",e.jsx(s,{math:"G - S - T"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsx("p",{children:"The proof reduces to Tutte's 1-factor theorem via a clever construction."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Construction:"})," Build a bipartite graph"," ",e.jsx(s,{math:"H"})," from ",e.jsx(s,{math:"G"})," as follows. For each vertex ",e.jsx(s,{math:"v \\in V(G)"}),", create ",e.jsx(s,{math:"f(v)"})," ","copies in one partite set ",e.jsx(s,{math:"A"})," and"," ",e.jsx(s,{math:"d_G(v) - f(v)"})," copies in the other set"," ",e.jsx(s,{math:"B"}),". For each edge ",e.jsx(s,{math:"uv \\in E(G)"}),", add a complete bipartite graph between the ",e.jsx(s,{math:"B"}),"-copies of ",e.jsx(s,{math:"u"})," and the ",e.jsx(s,{math:"A"}),"-copies of"," ",e.jsx(s,{math:"v"}),", and vice versa."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Equivalence:"})," An ",e.jsx(s,{math:"f"}),"-factor in"," ",e.jsx(s,{math:"G"})," corresponds to a perfect matching in"," ",e.jsx(s,{math:"H"}),". The condition for ",e.jsx(s,{math:"H"})," to have a perfect matching (via Hall's condition) translates to the given inequality."]}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:["Bad components ",e.jsx(s,{math:"q(S, T)"}),":"]})," A component"," ",e.jsx(s,{math:"C"})," of ",e.jsx(s,{math:"G - S - T"}),' is "bad" if the sum ',e.jsx(s,{math:"\\sum_{v \\in C} f(v) + e_G(C, T)"})," has different parity than ",e.jsx(s,{math:"|C|"}),". Such components contribute an extra deficit that must be accounted for."]}),e.jsxs("p",{className:"mt-2",children:["The detailed verification requires careful counting arguments showing that violations of the inequality correspond to obstructions to finding a perfect matching in ",e.jsx(s,{math:"H"}),"."]})]})]})]}),e.jsx("h2",{children:"Edmonds' Matching Algorithm"}),e.jsx("p",{children:`For general (non-bipartite) graphs, finding maximum matchings is more complex due to odd cycles. Jack Edmonds' breakthrough "blossom algorithm" handles this.`}),e.jsxs(B,{title:"Blossom",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"blossom"})," is an odd cycle in which every other edge (except one) belongs to the current matching. The cycle has"," ",e.jsx(s,{math:"2k + 1"})," vertices with ",e.jsx(s,{math:"k"})," matched edges."]}),e.jsxs("p",{className:"mt-2",children:["The key insight: a blossom can be ",e.jsx("strong",{children:"contracted"})," to a single vertex without affecting the existence of augmenting paths."]})]}),e.jsxs(re,{title:"A Simple Blossom",children:[e.jsxs("p",{children:["Consider a 5-cycle ",e.jsx(s,{math:"v_1, v_2, v_3, v_4, v_5"})," with matching"," ",e.jsx(s,{math:"M = \\{v_2v_3, v_4v_5\\}"}),". The vertex"," ",e.jsx(s,{math:"v_1"})," is unsaturated."]}),e.jsxs("p",{className:"mt-2",children:["If we're searching for an augmenting path and reach ",e.jsx(s,{math:"v_1"}),", we can enter the cycle through either ",e.jsx(s,{math:"v_2"})," or"," ",e.jsx(s,{math:"v_5"}),". By contracting the blossom, we simplify the search."]})]}),e.jsxs(B,{title:"Edmonds' Blossom Algorithm",children:[e.jsx("p",{children:"The algorithm maintains:"}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["A current matching ",e.jsx(s,{math:"M"})]}),e.jsx("li",{children:"A forest of alternating trees rooted at unsaturated vertices"})]}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Process:"})}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"Build alternating trees from unsaturated vertices."}),e.jsxs("li",{children:["If two trees connect via a non-matching edge to an unsaturated vertex:"," ",e.jsx("strong",{children:"augmenting path found"}),"augment and restart."]}),e.jsxs("li",{children:["If two even-level vertices in the same tree are connected:"," ",e.jsx("strong",{children:"blossom detected"}),"contract it and continue."]}),e.jsxs("li",{children:["When no more growth possible, ",e.jsx(s,{math:"M"})," is maximum."]}),e.jsx("li",{children:"Expand blossoms to recover the actual matching."})]})]}),e.jsxs(q,{title:"Theorem 3.3.21 (Edmonds' Algorithm)",children:[e.jsxs("p",{children:["Edmonds' blossom algorithm correctly finds a maximum matching in any graph"," ",e.jsx(s,{math:"G"})," in ",e.jsx(s,{math:"O(n^2 m)"})," time."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["With better data structures (Micali-Vazirani), this improves to"," ",e.jsx(s,{math:"O(m\\sqrt{n})"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Correctness:"})," The key insight is that blossom contraction preserves the existence of augmenting paths. We prove two claims:"]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("em",{children:"Claim 1:"})," If ",e.jsx(s,{math:"G"})," has an"," ",e.jsx(s,{math:"M"}),"-augmenting path, then the contracted graph"," ",e.jsx(s,{math:"G/B"})," has an ",e.jsx(s,{math:"M/B"}),"-augmenting path, where ",e.jsx(s,{math:"B"})," is a blossom."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("em",{children:"Proof of Claim 1:"})," An augmenting path either avoids"," ",e.jsx(s,{math:"B"})," (unchanged after contraction) or enters and exits"," ",e.jsx(s,{math:"B"}),". In the latter case, since ",e.jsx(s,{math:"B"})," ","is an odd cycle with alternating matched/unmatched edges, we can traverse"," ",e.jsx(s,{math:"B"})," maintaining the alternating property. After contraction, the path visits the contracted vertex."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("em",{children:"Claim 2:"})," An augmenting path in ",e.jsx(s,{math:"G/B"}),' can be "lifted" to an augmenting path in ',e.jsx(s,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("em",{children:"Proof of Claim 2:"})," If the path visits the blossom vertex in"," ",e.jsx(s,{math:"G/B"}),", we expand it by routing through"," ",e.jsx(s,{math:"B"})," appropriately. The odd structure of"," ",e.jsx(s,{math:"B"})," ensures we can enter and exit while maintaining alternation."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Time analysis:"})," We perform at most"," ",e.jsx(s,{math:"n/2"})," augmentations. Each augmentation involves building alternating trees, which takes ",e.jsx(s,{math:"O(nm)"})," time (each edge examined ",e.jsx(s,{math:"O(n)"})," times due to blossom contractions). Total: ",e.jsx(s,{math:"O(n^2 m)"}),"."]}),e.jsxs("p",{className:"mt-2",children:['More sophisticated implementations using the "blossom-shrinking" technique with better bookkeeping achieve ',e.jsx(s,{math:"O(n^3)"})," or"," ",e.jsx(s,{math:"O(m\\sqrt{n})"})," with Micali-Vazirani."]})]})]})]}),e.jsxs(re,{title:"Finding Maximum Matching",children:[e.jsxs("p",{children:["Consider a graph with vertices ",e.jsx(s,{math:"\\{1, 2, 3, 4, 5\\}"})," and edges forming a 5-cycle plus edge 1-3. Start with"," ",e.jsx(s,{math:"M = \\{2-3, 4-5\\}"}),"."]}),e.jsx("p",{className:"mt-2",children:"Build an alternating tree from vertex 1 (unsaturated). Vertices 2 and 5 are reached via non-matching edges. Following matching edges reaches 3 and 4. The edge 1-3 creates a blossom (odd cycle 1-2-3-1 through the 5-cycle)."}),e.jsxs("p",{className:"mt-2",children:["After contraction and expansion, we find"," ",e.jsx(s,{math:"M' = \\{1-2, 3-4\\}"})," leaves vertex 5 unsaturated. Maximum matching has size 2 for this 5-vertex graph."]})]}),e.jsx("h2",{children:"Applications"}),e.jsx("h3",{children:"Scheduling Problems"}),e.jsxs("p",{children:["Many scheduling problems reduce to matching. For example, scheduling"," ",e.jsx(s,{math:"n"})," tasks on ",e.jsx(s,{math:"m"})," machines where each task can only run on certain machines is bipartite matching. With time constraints, we may need general matching theory."]}),e.jsx("h3",{children:"Network Design"}),e.jsxs("p",{children:["Constructing networks where every node has exactly ",e.jsx(s,{math:"k"})," ","connections is a ",e.jsx(s,{math:"k"}),"-factor problem. This appears in designing reliable communication networks."]}),e.jsx("h3",{children:"Chemistry"}),e.jsx("p",{children:"In organic chemistry, molecular graphs represent atoms as vertices and bonds as edges. A perfect matching corresponds to a valid electron pairing (resonance structure). Benzenoid graphs always have perfect matchings by Tutte's theorem."}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Tutte's Condition:"})," A graph has a perfect matching iff"," ",e.jsx(s,{math:"o(G - S) \\leq |S|"})," for all"," ",e.jsx(s,{math:"S \\subseteq V(G)"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Berge-Tutte Formula:"})," ",e.jsx(s,{math:"\\alpha'(G) = \\frac{1}{2}(n(G) - \\text{def}(G))"})," gives maximum matching size."]}),e.jsxs("li",{children:[e.jsxs("strong",{children:[e.jsx(s,{math:"f"}),"-factors:"]})," ","Generalize matchings to specify degree at each vertex."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Petersen's Theorem:"})," 3-regular bridgeless graphs have perfect matchings."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Edmonds' Algorithm:"})," The blossom algorithm finds maximum matchings in general graphs by contracting odd cycles."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Key Difference from Bipartite:"})," Odd cycles create complications requiring the blossom contraction technique."]})]})]})}function vG(){return e.jsxs(ze,{sectionId:11,children:[e.jsx("p",{children:'How resilient is a network to failures? If we remove vertices or edges, does the graph remain connected? The study of connectivity measures how "well-connected" a graph is and identifies its vulnerable points. These concepts are fundamental to network reliability and algorithm design.'}),e.jsx("h2",{children:"Separating Sets and Connectivity"}),e.jsxs(B,{title:"Separating Set and Cut",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"separating set"})," or ",e.jsx("strong",{children:"vertex cut"})," of a connected graph ",e.jsx(s,{math:"G"})," is a set ",e.jsx(s,{math:"S \\subseteq V(G)"})," ","such that ",e.jsx(s,{math:"G - S"})," has more than one component."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"disconnecting set"})," of edges is a set"," ",e.jsx(s,{math:"F \\subseteq E(G)"})," such that ",e.jsx(s,{math:"G - F"})," ","has more than one component. A disconnecting set is an"," ",e.jsx("strong",{children:"edge cut"})," if no proper subset is also disconnecting."]})]}),e.jsxs(B,{title:"Connectivity Numbers",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"connectivity"})," (or ",e.jsx("strong",{children:"vertex connectivity"}),")"," ",e.jsx(s,{math:"\\kappa(G)"})," is the minimum size of a vertex cut, or"," ",e.jsx(s,{math:"n - 1"})," if ",e.jsx(s,{math:"G = K_n"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"edge-connectivity"})," ",e.jsx(s,{math:"\\kappa'(G)"})," is the minimum size of an edge cut (if ",e.jsx(s,{math:"G"})," is connected)."]}),e.jsxs("p",{className:"mt-2",children:["A graph is ",e.jsxs("strong",{children:[e.jsx(s,{math:"k"}),"-connected"]})," ","if ",e.jsx(s,{math:"\\kappa(G) \\geq k"}),", and"," ",e.jsxs("strong",{children:[e.jsx(s,{math:"k"}),"-edge-connected"]})," ","if ",e.jsx(s,{math:"\\kappa'(G) \\geq k"}),"."]})]}),e.jsx(re,{title:"Connectivity of Common Graphs",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(s,{math:"K_n"}),": ",e.jsx(s,{math:"\\kappa = \\kappa' = n - 1"})]}),e.jsxs("li",{children:[e.jsx(s,{math:"K_{m,n}"})," (",e.jsx(s,{math:"m \\leq n"}),"):"," ",e.jsx(s,{math:"\\kappa = \\kappa' = m"})]}),e.jsxs("li",{children:[e.jsx(s,{math:"C_n"}),": ",e.jsx(s,{math:"\\kappa = \\kappa' = 2"})]}),e.jsxs("li",{children:[e.jsx(s,{math:"P_n"}),": ",e.jsx(s,{math:"\\kappa = \\kappa' = 1"})]}),e.jsxs("li",{children:["Petersen graph: ",e.jsx(s,{math:"\\kappa = \\kappa' = 3"})]})]})}),e.jsxs(q,{title:"Theorem 4.1.9 (Connectivity Bounds)",children:[e.jsxs("p",{children:["For any graph ",e.jsx(s,{math:"G"}),":"]}),e.jsx(W,{math:"\\kappa(G) \\leq \\kappa'(G) \\leq \\delta(G)"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(s,{math:"\\delta(G)"})," is the minimum vertex degree."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsxs("strong",{children:[e.jsx(s,{math:"\\kappa'(G) \\leq \\delta(G)"}),":"]})," ","Deleting all edges at a vertex of minimum degree disconnects the graph (isolating that vertex)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:[e.jsx(s,{math:"\\kappa(G) \\leq \\kappa'(G)"}),":"]})," ","Given a minimum edge cut ",e.jsx(s,{math:"[S, \\overline{S}]"}),", for each edge ",e.jsx(s,{math:"e"})," in the cut, include one endpoint in a vertex set ",e.jsx(s,{math:"T"}),". Then ",e.jsx(s,{math:"T"})," is a vertex cut with ",e.jsx(s,{math:"|T| \\leq \\kappa'(G)"}),"."]})]})]})]}),e.jsxs(re,{title:"Strict Inequalities",children:[e.jsxs("p",{children:['Consider a "bowtie" graph: two triangles sharing a vertex. We have'," ",e.jsx(s,{math:"\\delta = 2"}),", ",e.jsx(s,{math:"\\kappa' = 2"}),", but"," ",e.jsx(s,{math:"\\kappa = 1"})," (removing the shared vertex disconnects)."]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(s,{math:"K_{2,3}"}),": ",e.jsx(s,{math:"\\delta = 2"}),", but"," ",e.jsx(s,{math:"\\kappa = \\kappa' = 2"}),"."]})]}),e.jsx("h2",{children:"Cut-Vertices and Bridges"}),e.jsxs(B,{title:"Cut-Vertex and Cut-Edge",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"cut-vertex"})," (or ",e.jsx("strong",{children:"articulation point"}),") of a connected graph ",e.jsx(s,{math:"G"})," is a vertex whose deletion increases the number of components."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"cut-edge"})," (or ",e.jsx("strong",{children:"bridge"}),") is an edge whose deletion increases the number of components."]})]}),e.jsxs(q,{title:"Theorem 4.1.3 (Cut-Edge Characterization)",children:[e.jsxs("p",{children:["An edge ",e.jsx(s,{math:"e"})," is a cut-edge if and only if"," ",e.jsx(s,{math:"e"})," belongs to no cycle."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"()"})," If ",e.jsx(s,{math:"e = uv"})," lies on a cycle, then any path using ",e.jsx(s,{math:"e"})," can be rerouted through the rest of the cycle. So ",e.jsx(s,{math:"G - e"})," is connected."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"()"})," If ",e.jsx(s,{math:"e = uv"})," lies on no cycle, then the unique ",e.jsx(s,{math:"u, v"}),"-path in ",e.jsx(s,{math:"G"})," uses"," ",e.jsx(s,{math:"e"}),". Deleting ",e.jsx(s,{math:"e"})," leaves no"," ",e.jsx(s,{math:"u, v"}),"-path."]})]})]})]}),e.jsx(q,{title:"Theorem 4.1.2 (Cut-Vertex Characterization)",children:e.jsxs("p",{children:["A vertex ",e.jsx(s,{math:"v"})," in a connected graph ",e.jsx(s,{math:"G"})," ","is a cut-vertex if and only if there exist vertices"," ",e.jsx(s,{math:"u, w \\neq v"})," such that every"," ",e.jsx(s,{math:"u, w"}),"-path passes through ",e.jsx(s,{math:"v"}),"."]})}),e.jsx("h2",{children:"Blocks"}),e.jsx("p",{children:"Graphs decompose naturally into pieces separated by cut-vertices."}),e.jsxs(B,{title:"Block",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"block"})," of a graph ",e.jsx(s,{math:"G"})," is a maximal connected subgraph of ",e.jsx(s,{math:"G"})," that has no cut-vertex."]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"Equivalently, a block is either a maximal 2-connected subgraph, or a cut-edge (with its endpoints), or an isolated vertex."})]}),e.jsxs(q,{title:"Theorem 4.1.11 (Block Properties)",children:[e.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"Every edge belongs to exactly one block."}),e.jsx("li",{children:"Two blocks share at most one vertex (which must be a cut-vertex)."}),e.jsxs("li",{children:["The blocks partition ",e.jsx(s,{math:"E(G)"}),"."]})]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Part 1:"})," Let ",e.jsx(s,{math:"e = uv"})," be an edge. Consider the subgraph ",e.jsx(s,{math:"H"})," consisting of all edges that lie on a common cycle with ",e.jsx(s,{math:"e"}),", plus"," ",e.jsx(s,{math:"e"})," itself."]}),e.jsxs("p",{className:"mt-2",children:["We claim ",e.jsx(s,{math:"H"})," is a block. If"," ",e.jsx(s,{math:"H"})," has a cut-vertex ",e.jsx(s,{math:"v"}),", then some edge ",e.jsx(s,{math:"f"})," in ",e.jsx(s,{math:"H"})," would be separated from ",e.jsx(s,{math:"e"})," by ",e.jsx(s,{math:"v"}),". But"," ",e.jsx(s,{math:"f"})," is in ",e.jsx(s,{math:"H"})," precisely because it lies on a cycle with ",e.jsx(s,{math:"e"}),", so removing"," ",e.jsx(s,{math:"v"})," cannot separate themcontradiction."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx(s,{math:"H"})," is maximal: any edge sharing a cycle with any edge of ",e.jsx(s,{math:"H"})," also shares a cycle with ",e.jsx(s,{math:"e"})," ",'(by transitivity of the "same cycle" relation).']}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Part 2:"})," Suppose blocks ",e.jsx(s,{math:"B_1"})," and"," ",e.jsx(s,{math:"B_2"})," share two vertices ",e.jsx(s,{math:"u"})," and"," ",e.jsx(s,{math:"v"}),". Since ",e.jsx(s,{math:"B_1"})," is 2-connected, there exist internally disjoint ",e.jsx(s,{math:"u, v"}),"-paths in"," ",e.jsx(s,{math:"B_1"}),". Similarly for ",e.jsx(s,{math:"B_2"}),"."]}),e.jsx("p",{className:"mt-2",children:"Taking one path from each block gives a cycle containing edges from both blocks. By Part 1, these edges belong to the same blockcontradiction."}),e.jsxs("p",{className:"mt-2",children:["If blocks share exactly one vertex ",e.jsx(s,{math:"v"}),", then"," ",e.jsx(s,{math:"v"})," is a cut-vertex: removing it separates the blocks."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Part 3:"})," Follows from Part 1: each edge is in exactly one block, and every edge is in some block (the edge itself forms a block if it's a cut-edge)."]})]})]})]}),e.jsxs(re,{title:"Finding Blocks",children:[e.jsxs("p",{children:["Consider a graph that is two triangles sharing a vertex ",e.jsx(s,{math:"v"}),". The graph has:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["One cut-vertex: ",e.jsx(s,{math:"v"})]}),e.jsx("li",{children:"Two blocks: the two triangles"}),e.jsx("li",{children:e.jsx(s,{math:"\\kappa(G) = 1"})})]}),e.jsxs("p",{className:"mt-2",children:["A path ",e.jsx(s,{math:"P_n"})," has ",e.jsx(s,{math:"n - 1"})," blocks, each being a single edge."]})]}),e.jsx("h3",{children:"Block-Cutpoint Graph"}),e.jsxs(B,{title:"Block-Cutpoint Graph",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"block-cutpoint graph"})," (or ",e.jsx("strong",{children:"BC-tree"}),") of a connected graph ",e.jsx(s,{math:"G"})," is a bipartite graph"," ",e.jsx(s,{math:"H"})," where:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["One partite set consists of the blocks of ",e.jsx(s,{math:"G"})]}),e.jsxs("li",{children:["The other partite set consists of the cut-vertices of"," ",e.jsx(s,{math:"G"})]}),e.jsxs("li",{children:["Block ",e.jsx(s,{math:"B"})," is adjacent to cut-vertex"," ",e.jsx(s,{math:"v"})," iff ",e.jsx(s,{math:"v \\in V(B)"})]})]})]}),e.jsxs(q,{title:"Theorem 4.1.12",children:[e.jsx("p",{children:"The block-cutpoint graph of a connected graph is a tree."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"G"})," be a connected graph and"," ",e.jsx(s,{math:"H"})," be its block-cutpoint graph."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Connectedness:"})," We show ",e.jsx(s,{math:"H"})," is connected. For any two blocks ",e.jsx(s,{math:"B_1, B_2"}),", pick vertices"," ",e.jsx(s,{math:"u \\in B_1"})," and ",e.jsx(s,{math:"v \\in B_2"}),". Since"," ",e.jsx(s,{math:"G"})," is connected, there is a ",e.jsx(s,{math:"u, v"}),"-path in ",e.jsx(s,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:["This path passes through a sequence of blocks, consecutive blocks sharing a cut-vertex. This gives a path in ",e.jsx(s,{math:"H"})," from"," ",e.jsx(s,{math:"B_1"})," to ",e.jsx(s,{math:"B_2"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Acyclicity:"})," Suppose ",e.jsx(s,{math:"H"})," contains a cycle. Since ",e.jsx(s,{math:"H"})," is bipartite (blocks and cut-vertices alternate), the cycle has form"," ",e.jsx(s,{math:"B_1, v_1, B_2, v_2, \\ldots, B_k, v_k, B_1"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Consider what this means in ",e.jsx(s,{math:"G"}),": we can go from"," ",e.jsx(s,{math:"B_1"})," through ",e.jsx(s,{math:"v_1"})," to"," ",e.jsx(s,{math:"B_2"}),", etc., and return to ",e.jsx(s,{math:"B_1"})," ","through ",e.jsx(s,{math:"v_k"}),"."]}),e.jsxs("p",{className:"mt-2",children:["This means ",e.jsx(s,{math:"v_1"})," and ",e.jsx(s,{math:"v_k"})," are both in ",e.jsx(s,{math:"B_1"}),", and we can reach ",e.jsx(s,{math:"v_k"})," ","from ",e.jsx(s,{math:"v_1"})," via a path through"," ",e.jsx(s,{math:"B_2, \\ldots, B_k"})," that avoids"," ",e.jsx(s,{math:"B_1 - \\{'{'}v_1, v_k{'}'}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Combined with paths in ",e.jsx(s,{math:"B_1"}),", this shows all the edges in ",e.jsx(s,{math:"B_1, B_2, \\ldots, B_k"})," lie on common cycles. By Theorem 4.1.11, they should all be in one blockcontradicting that"," ",e.jsx(s,{math:"B_1, \\ldots, B_k"})," are distinct blocks."]})]})]})]}),e.jsx("h2",{children:"Edge Cuts and Bonds"}),e.jsx(B,{title:"Bond",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"bond"})," is a minimal nonempty edge cut. Equivalently, a bond is an edge cut ",e.jsx(s,{math:"[S, \\overline{S}]"})," such that both"," ",e.jsx(s,{math:"G[S]"})," and ",e.jsx(s,{math:"G[\\overline{S}]"})," are connected."]})}),e.jsxs(q,{title:"Bond Characterization",children:[e.jsx("p",{children:"An edge cut is a bond if and only if it is a minimal disconnecting set."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"()"})," Suppose ",e.jsx(s,{math:"[S, \\overline{S}]"})," is a bond, so both ",e.jsx(s,{math:"G[S]"})," and"," ",e.jsx(s,{math:"G[\\overline{S}]"})," are connected."]}),e.jsxs("p",{className:"mt-2",children:["We show it's minimal. Suppose we remove some edge"," ",e.jsx(s,{math:"e = uv"})," from the cut, where"," ",e.jsx(s,{math:"u \\in S"})," and ",e.jsx(s,{math:"v \\in \\overline{S}"}),". Since ",e.jsx(s,{math:"G[S]"})," is connected, there's a path from any"," ",e.jsx(s,{math:"s \\in S"})," to ",e.jsx(s,{math:"u"})," within"," ",e.jsx(s,{math:"S"}),". Since ",e.jsx(s,{math:"G[\\overline{S}]"})," is connected, there's a path from ",e.jsx(s,{math:"v"})," to any"," ",e.jsx(s,{math:"t \\in \\overline{S}"})," within ",e.jsx(s,{math:"\\overline{S}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Combined with edge ",e.jsx(s,{math:"e"}),", we get an"," ",e.jsx(s,{math:"s, t"}),"-path using only edges in"," ",e.jsx(s,{math:"G[S] \\cup G[\\overline{S}] \\cup \\{'{'}e{'}'}"}),". So"," ",e.jsx(s,{math:"[S, \\overline{S}] - \\{'{'}e{'}'}"})," doesn't disconnectthe bond is minimal."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"()"})," Suppose ",e.jsx(s,{math:"F"})," is a minimal disconnecting set. Then ",e.jsx(s,{math:"F"})," separates"," ",e.jsx(s,{math:"G"})," into components. Let ",e.jsx(s,{math:"S"})," be one component and ",e.jsx(s,{math:"\\overline{S}"})," be the union of all others."]}),e.jsxs("p",{className:"mt-2",children:["We must show ",e.jsx(s,{math:"G[\\overline{S}]"})," is connected (",e.jsx(s,{math:"G[S]"})," is connected by definition of component). If ",e.jsx(s,{math:"G[\\overline{S}]"})," has multiple components"," ",e.jsx(s,{math:"C_1, C_2, \\ldots"}),", then edges of ",e.jsx(s,{math:"F"})," ","go from ",e.jsx(s,{math:"S"})," to various ",e.jsx(s,{math:"C_i"}),"."]}),e.jsxs("p",{className:"mt-2",children:["But then ",e.jsx(s,{math:"F"})," minus edges to some"," ",e.jsx(s,{math:"C_j"})," still disconnects (separating"," ",e.jsx(s,{math:"S \\cup C_j"})," from other components). This contradicts minimality of ",e.jsx(s,{math:"F"}),". So"," ",e.jsx(s,{math:"G[\\overline{S}]"})," is connected, and"," ",e.jsx(s,{math:"F = [S, \\overline{S}]"})," is a bond."]})]})]})]}),e.jsx(re,{title:"Bonds in a Cycle",children:e.jsxs("p",{children:["In ",e.jsx(s,{math:"C_n"}),", the bonds are exactly the edge sets of size 2 (removing two edges disconnects). Any single edge is not a bond because its removal leaves the graph connected."]})}),e.jsx("h2",{children:"Finding Cut-Vertices (DFS Algorithm)"}),e.jsx("p",{children:"Tarjan's algorithm uses depth-first search to find all cut-vertices and bridges in linear time."}),e.jsxs(B,{title:"Tarjan's Algorithm",children:[e.jsxs("p",{children:["Key concepts for DFS from root ",e.jsx(s,{math:"r"}),":"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx(s,{math:"\\text{disc}[v]"}),": discovery time of"," ",e.jsx(s,{math:"v"})]}),e.jsxs("li",{children:[e.jsx(s,{math:"\\text{low}[v]"}),": minimum discovery time reachable from subtree of ",e.jsx(s,{math:"v"})," via back edges"]})]}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Cut-vertex conditions:"})}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["Root ",e.jsx(s,{math:"r"})," is a cut-vertex iff it has 2 children in DFS tree"]}),e.jsxs("li",{children:["Non-root ",e.jsx(s,{math:"v"})," is a cut-vertex iff some child"," ",e.jsx(s,{math:"u"})," has"," ",e.jsx(s,{math:"\\text{low}[u] \\geq \\text{disc}[v]"})]})]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Bridge condition:"})," Edge ",e.jsx(s,{math:"uv"})," (where"," ",e.jsx(s,{math:"v"})," is child of ",e.jsx(s,{math:"u"}),") is a bridge iff"," ",e.jsx(s,{math:"\\text{low}[v] > \\text{disc}[u]"}),"."]})]}),e.jsxs(q,{title:"Tarjan's Algorithm Complexity",children:[e.jsxs("p",{children:["All cut-vertices and bridges can be found in ",e.jsx(s,{math:"O(n + m)"})," ","time using DFS."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsx("p",{children:e.jsx("strong",{children:"Correctness of cut-vertex detection:"})}),e.jsxs("p",{className:"mt-2",children:["For root ",e.jsx(s,{math:"r"}),": ",e.jsx(s,{math:"r"})," is a cut-vertex iff it has 2 children in the DFS tree. If ",e.jsx(s,{math:"r"})," has only one child, removing ",e.jsx(s,{math:"r"})," leaves the subtree connected. If 2 children, they can only communicate through ",e.jsx(s,{math:"r"})," ","(no cross edges between subtrees in DFS)."]}),e.jsxs("p",{className:"mt-2",children:["For non-root ",e.jsx(s,{math:"v"}),": ",e.jsx(s,{math:"v"})," is a cut-vertex iff some child ",e.jsx(s,{math:"u"})," has"," ",e.jsx(s,{math:"\\text{low}[u] \\geq \\text{disc}[v]"}),". This means the subtree rooted at ",e.jsx(s,{math:"u"})," has no back edge to an ancestor of"," ",e.jsx(s,{math:"v"}),", so removing ",e.jsx(s,{math:"v"})," disconnects this subtree."]}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Correctness of bridge detection:"})}),e.jsxs("p",{className:"mt-2",children:["Edge ",e.jsx(s,{math:"(u, v)"})," (where ",e.jsx(s,{math:"v"})," is child of"," ",e.jsx(s,{math:"u"}),") is a bridge iff"," ",e.jsx(s,{math:"\\text{low}[v] > \\text{disc}[u]"}),". This means no vertex in"," ",e.jsx(s,{math:"v"}),"'s subtree can reach ",e.jsx(s,{math:"u"})," or its ancestors except through edge ",e.jsx(s,{math:"(u, v)"}),", so"," ",e.jsx(s,{math:"(u, v)"})," lies on no cycle."]}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Time complexity:"})}),e.jsxs("p",{className:"mt-2",children:["DFS visits each vertex once: ",e.jsx(s,{math:"O(n)"}),". Each edge is examined twice (once from each endpoint): ",e.jsx(s,{math:"O(m)"}),". Computing ",e.jsx(s,{math:"\\text{low}[v]"})," values during DFS adds only constant work per edge."]}),e.jsxs("p",{className:"mt-2",children:["Total: ",e.jsx(s,{math:"O(n + m)"}),"."]})]})]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Connectivity Hierarchy:"})," ",e.jsx(s,{math:"\\kappa(G) \\leq \\kappa'(G) \\leq \\delta(G)"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cut-vertex:"})," A vertex whose removal disconnects the graph."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bridge:"})," An edge whose removal disconnects; equivalently, an edge on no cycle."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Blocks:"})," Maximal 2-connected subgraphs; partition the edges and share at most cut-vertices."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"BC-tree:"})," The block-cutpoint graph is always a tree, revealing the hierarchical structure."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Efficiency:"})," All cut-vertices and bridges can be found in linear time using DFS."]})]})]})}function yG(){return e.jsxs(ze,{sectionId:12,children:[e.jsxs("p",{children:["We now study graphs with higher connectivity. The structure of 2-connected graphs is particularly elegantthey can be built by successively adding paths. Menger's Theorem provides a fundamental characterization of"," ",e.jsx(s,{math:"k"}),"-connectivity in terms of disjoint paths, connecting connectivity to the maximum flow problem."]}),e.jsx("h2",{children:"2-Connected Graphs"}),e.jsxs("p",{children:["A graph is 2-connected if ",e.jsx(s,{math:"\\kappa(G) \\geq 2"}),': removing any single vertex leaves it connected. This is a natural "robustness" requirement for networks.']}),e.jsxs(q,{title:"Lemma 4.2.1 (2-Connected Characterization)",children:[e.jsxs("p",{children:["For a graph ",e.jsx(s,{math:"G"})," with at least 3 vertices, TFAE:"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(s,{math:"G"})," is 2-connected."]}),e.jsxs("li",{children:["For every pair ",e.jsx(s,{math:"u, v \\in V(G)"}),", there exist two internally disjoint ",e.jsx(s,{math:"u, v"}),"-paths."]}),e.jsxs("li",{children:["For every pair ",e.jsx(s,{math:"u, v \\in V(G)"}),", there is a cycle containing both ",e.jsx(s,{math:"u"})," and ",e.jsx(s,{math:"v"}),"."]}),e.jsxs("li",{children:[e.jsx(s,{math:"\\delta(G) \\geq 1"})," and every pair of edges lies on a common cycle."]})]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"(1)(2):"})," Suppose ",e.jsx(s,{math:"G"})," is 2-connected and let ",e.jsx(s,{math:"u, v \\in V(G)"}),". If ",e.jsx(s,{math:"u"})," and"," ",e.jsx(s,{math:"v"})," are adjacent, one path is the edge"," ",e.jsx(s,{math:"uv"}),"; since ",e.jsx(s,{math:"G - uv"})," is connected (2-connectivity means no cut-edge), there's another"," ",e.jsx(s,{math:"u, v"}),"-path avoiding ",e.jsx(s,{math:"uv"}),"."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"u, v"})," are non-adjacent, for any vertex"," ",e.jsx(s,{math:"w \\neq u, v"}),", ",e.jsx(s,{math:"G - w"})," is connected, so there's a ",e.jsx(s,{math:"u, v"}),"-path avoiding ",e.jsx(s,{math:"w"}),". We can construct two internally disjoint paths by a more careful argument using Menger's theorem (proven later) or induction on"," ",e.jsx(s,{math:"d(u, v)"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"(2)(3):"})," Two internally disjoint"," ",e.jsx(s,{math:"u, v"}),"-paths together form a cycle containing both"," ",e.jsx(s,{math:"u"})," and ",e.jsx(s,{math:"v"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"(3)(4):"})," Given edges ",e.jsx(s,{math:"e = ab"})," and"," ",e.jsx(s,{math:"f = cd"}),", there's a cycle ",e.jsx(s,{math:"C"})," ","containing ",e.jsx(s,{math:"a"})," and ",e.jsx(s,{math:"c"}),". If"," ",e.jsx(s,{math:"e"})," or ",e.jsx(s,{math:"f"})," is on ",e.jsx(s,{math:"C"}),", we can modify to include both. Otherwise, paths from"," ",e.jsx(s,{math:"b"})," to ",e.jsx(s,{math:"C"})," and from"," ",e.jsx(s,{math:"d"})," to ",e.jsx(s,{math:"C"})," allow constructing a cycle through both edges."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"(4)(1):"})," Suppose ",e.jsx(s,{math:"v"})," is a cut-vertex. Let ",e.jsx(s,{math:"e"})," and ",e.jsx(s,{math:"f"})," be edges in different components of ",e.jsx(s,{math:"G - v"}),". Any cycle through both must pass through ",e.jsx(s,{math:"v"})," twiceimpossible. So there's no cut-vertex, and since ",e.jsx(s,{math:"\\delta(G) \\geq 1"})," (so connected),"," ",e.jsx(s,{math:"G"})," is 2-connected."]})]})]})]}),e.jsxs(re,{title:"2-Connected Examples",children:[e.jsxs("p",{children:[e.jsx(s,{math:"K_n"})," (",e.jsx(s,{math:"n \\geq 3"}),") is 2-connected: removing any vertex leaves ",e.jsx(s,{math:"K_{n-1}"}),", still connected."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx(s,{math:"C_n"})," is 2-connected: removing any vertex leaves a path"," ",e.jsx(s,{math:"P_{n-1}"}),", connected."]}),e.jsx("p",{className:"mt-2",children:"A tree with more than one edge is not 2-connected: every non-leaf vertex is a cut-vertex."})]}),e.jsx("h3",{children:"Ear Decomposition"}),e.jsxs(B,{title:"Ear",children:[e.jsxs("p",{children:["An ",e.jsx("strong",{children:"ear"})," of a graph ",e.jsx(s,{math:"G"})," is a maximal path whose internal vertices have degree 2 in ",e.jsx(s,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:["An ",e.jsx("strong",{children:"ear decomposition"})," of ",e.jsx(s,{math:"G"})," is a decomposition ",e.jsx(s,{math:"P_0, P_1, \\ldots, P_k"})," such that:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx(s,{math:"P_0"})," is a cycle"]}),e.jsxs("li",{children:["For ",e.jsx(s,{math:"i \\geq 1"}),", ",e.jsx(s,{math:"P_i"})," is an ear of"," ",e.jsx(s,{math:"P_0 \\cup P_1 \\cup \\cdots \\cup P_i"})," with endpoints (but no internal vertices) in"," ",e.jsx(s,{math:"P_0 \\cup \\cdots \\cup P_{i-1}"})]})]})]}),e.jsxs(q,{title:"Whitney's Ear Decomposition Theorem (Theorem 4.2.6)",children:[e.jsxs("p",{children:["A graph ",e.jsx(s,{math:"G"})," is 2-connected if and only if it has an ear decomposition."]}),e.jsx("p",{className:"mt-2",children:"Furthermore, every cycle in a 2-connected graph is the initial cycle of some ear decomposition."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"()"})," Adding an ear preserves 2-connectivity: the new internal vertices have two disjoint paths to the old graph."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"()"})," Start with any cycle ",e.jsx(s,{math:"P_0"}),"(exists since 2-connected). While ",e.jsx(s,{math:"\\bigcup P_i \\neq G"}),", there's an edge ",e.jsx(s,{math:"e"})," with one endpoint in the union. Since ",e.jsx(s,{math:"G"})," is 2-connected, ",e.jsx(s,{math:"e"})," lies on a cycle, providing a new ear."]})]})]})]}),e.jsxs(re,{title:"Building K via Ears",children:[e.jsxs("p",{children:["Start with ",e.jsx(s,{math:"P_0 = (1, 2, 3, 1)"}),", a triangle."]}),e.jsxs("p",{className:"mt-2",children:["Add ear ",e.jsx(s,{math:"P_1 = (1, 4, 2)"}),": path from 1 to 2 through new vertex 4."]}),e.jsxs("p",{className:"mt-2",children:["Add ear ",e.jsx(s,{math:"P_2 = (3, 4)"}),": just an edge (an ear of length 1)."]}),e.jsxs("p",{className:"mt-2",children:["Result: ",e.jsx(s,{math:"K_4"})," with ear decomposition of 3 ears."]})]}),e.jsx("h2",{children:"Menger's Theorem"}),e.jsx("p",{children:"Menger's Theorem is one of the most important results in graph theory, characterizing connectivity in terms of disjoint paths. It has four versions (vertex/edge, global/local)."}),e.jsxs(B,{title:"Disjoint Paths",children:[e.jsxs("p",{children:["Paths are ",e.jsx("strong",{children:"internally disjoint"})," if they share no internal vertices (may share endpoints)."]}),e.jsxs("p",{className:"mt-2",children:["Paths are ",e.jsx("strong",{children:"edge-disjoint"})," if they share no edges (may share vertices)."]})]}),e.jsxs(q,{title:"Menger's Theorem - Vertex Version (Theorem 4.2.17)",children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"x"})," and ",e.jsx(s,{math:"y"})," be non-adjacent vertices in graph ",e.jsx(s,{math:"G"}),". The minimum size of an"," ",e.jsx(s,{math:"x, y"}),"-vertex cut equals the maximum number of pairwise internally disjoint ",e.jsx(s,{math:"x, y"}),"-paths."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"\\kappa(x, y)"})," denote the minimum"," ",e.jsx(s,{math:"x, y"}),"-vertex cut and ",e.jsx(s,{math:"\\lambda(x, y)"})," ","the maximum number of internally disjoint ",e.jsx(s,{math:"x, y"}),"-paths."]}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:[e.jsx(s,{math:"\\lambda(x, y) \\leq \\kappa(x, y)"}),":"]})," ","Any ",e.jsx(s,{math:"x, y"}),"-vertex cut must contain at least one internal vertex from each of the ",e.jsx(s,{math:"\\lambda(x, y)"})," internally disjoint paths."]}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:[e.jsx(s,{math:"\\lambda(x, y) \\geq \\kappa(x, y)"}),":"]})," ","We prove by induction on ",e.jsx(s,{math:"|E(G)|"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("em",{children:"Base case:"})," If ",e.jsx(s,{math:"|E(G)| = 0"}),", then"," ",e.jsx(s,{math:"\\kappa(x, y) = 0 = \\lambda(x, y)"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("em",{children:"Inductive step:"})," Let ",e.jsx(s,{math:"S"})," be a minimum"," ",e.jsx(s,{math:"x, y"}),"-vertex cut with"," ",e.jsx(s,{math:"|S| = \\kappa(x, y) = k"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("em",{children:"Case 1:"})," Every minimum ",e.jsx(s,{math:"x, y"}),"-cut consists entirely of neighbors of ",e.jsx(s,{math:"x"})," or entirely of neighbors of ",e.jsx(s,{math:"y"}),". Then ",e.jsx(s,{math:"x"})," has"," ",e.jsx(s,{math:"k"})," neighbors, and we can find ",e.jsx(s,{math:"k"})," ","paths of length 1 or 2."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("em",{children:"Case 2:"})," Some minimum cut ",e.jsx(s,{math:"S"})," contains"," ",e.jsx(s,{math:"s \\notin N(x) \\cup N(y)"}),". Let"," ",e.jsx(s,{math:"G' = G - s"}),". In ",e.jsx(s,{math:"G'"}),", the minimum"," ",e.jsx(s,{math:"x, y"}),"-cut has size ",e.jsx(s,{math:"k - 1"}),". By induction, ",e.jsx(s,{math:"G'"})," has ",e.jsx(s,{math:"k - 1"})," ","internally disjoint ",e.jsx(s,{math:"x, y"}),"-paths."]}),e.jsxs("p",{className:"mt-2",children:["We can extend these to ",e.jsx(s,{math:"k"})," paths in"," ",e.jsx(s,{math:"G"})," by routing one path through ",e.jsx(s,{math:"s"}),", using the connectivity provided by ",e.jsx(s,{math:"s"}),"."]})]})]})]}),e.jsxs(q,{title:"Menger's Theorem - Edge Version (Theorem 4.2.19)",children:[e.jsxs("p",{children:["For any vertices ",e.jsx(s,{math:"x"})," and ",e.jsx(s,{math:"y"})," in graph"," ",e.jsx(s,{math:"G"}),", the minimum size of an"," ",e.jsx(s,{math:"x, y"}),"-edge cut equals the maximum number of pairwise edge-disjoint ",e.jsx(s,{math:"x, y"}),"-paths."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["This follows from the vertex version by constructing the"," ",e.jsx("strong",{children:"line graph"})," transformation."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Construction:"})," From ",e.jsx(s,{math:"G"}),", build graph"," ",e.jsx(s,{math:"G'"})," by replacing each edge ",e.jsx(s,{math:"e"})," with two vertices ",e.jsx(s,{math:"e^+, e^-"})," connected by an edge. For each vertex ",e.jsx(s,{math:"v"})," in ",e.jsx(s,{math:"G"})," with incident edges ",e.jsx(s,{math:"e_1, \\ldots, e_d"}),", add a new vertex"," ",e.jsx(s,{math:"v'"})," adjacent to ",e.jsx(s,{math:"e_1^-, \\ldots, e_d^-"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Correspondence:"})," Edge-disjoint"," ",e.jsx(s,{math:"x, y"}),"-paths in ",e.jsx(s,{math:"G"})," correspond to internally vertex-disjoint ",e.jsx(s,{math:"x', y'"}),"-paths in"," ",e.jsx(s,{math:"G'"}),". An ",e.jsx(s,{math:"x, y"}),"-edge cut in"," ",e.jsx(s,{math:"G"})," corresponds to an ",e.jsx(s,{math:"x', y'"}),"-vertex cut in ",e.jsx(s,{math:"G'"})," (the vertices ",e.jsx(s,{math:"e^+, e^-"})," ","for cut edges)."]}),e.jsxs("p",{className:"mt-2",children:["Applying the vertex version of Menger's Theorem to ",e.jsx(s,{math:"G'"})," ","gives the edge version for ",e.jsx(s,{math:"G"}),"."]})]})]})]}),e.jsxs(re,{title:"Applying Menger's Theorem",children:[e.jsxs("p",{children:["In the Petersen graph, any two vertices have at least 3 internally disjoint paths between them (since ",e.jsx(s,{math:"\\kappa = 3"}),")."]}),e.jsx("p",{className:"mt-2",children:"Consider vertices at distance 2. By Menger, there exist 3 internally disjoint paths. One path has length 2, and the other two go around different parts of the graph."})]}),e.jsxs(q,{title:"Global Menger's Theorem (Theorem 4.2.21)",children:[e.jsxs("p",{children:["A graph ",e.jsx(s,{math:"G"})," is ",e.jsx(s,{math:"k"}),"-connected if and only if for every pair ",e.jsx(s,{math:"x, y \\in V(G)"}),", there exist"," ",e.jsx(s,{math:"k"})," pairwise internally disjoint"," ",e.jsx(s,{math:"x, y"}),"-paths."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"():"})," Suppose ",e.jsx(s,{math:"G"})," is"," ",e.jsx(s,{math:"k"}),"-connected. For any non-adjacent"," ",e.jsx(s,{math:"x, y"}),", the minimum ",e.jsx(s,{math:"x, y"}),"-vertex cut has size at least ",e.jsx(s,{math:"k"})," (else ",e.jsx(s,{math:"G"})," ","wouldn't be ",e.jsx(s,{math:"k"}),"-connected). By Menger's Theorem, there are ",e.jsx(s,{math:"k"})," internally disjoint ",e.jsx(s,{math:"x, y"}),"-paths."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"x, y"})," are adjacent, consider"," ",e.jsx(s,{math:"G' = G - xy"}),". We have"," ",e.jsx(s,{math:"\\kappa(G') \\geq k - 1"}),", so by Menger there are"," ",e.jsx(s,{math:"k - 1"})," internally disjoint ",e.jsx(s,{math:"x, y"}),"-paths in ",e.jsx(s,{math:"G'"}),". Adding the edge ",e.jsx(s,{math:"xy"})," gives"," ",e.jsx(s,{math:"k"})," such paths in ",e.jsx(s,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"():"})," Suppose every pair has ",e.jsx(s,{math:"k"})," ","internally disjoint paths. To show ",e.jsx(s,{math:"\\kappa(G) \\geq k"}),", note that any vertex cut ",e.jsx(s,{math:"S"})," separating"," ",e.jsx(s,{math:"x"})," from ",e.jsx(s,{math:"y"})," must have"," ",e.jsx(s,{math:"|S| \\geq k"})," (one vertex from each of the"," ",e.jsx(s,{math:"k"})," paths). Since this holds for all pairs,"," ",e.jsx(s,{math:"\\kappa(G) \\geq k"}),"."]})]})]})]}),e.jsxs(q,{title:"Edge Version of Global Menger (Theorem 4.2.22)",children:[e.jsxs("p",{children:["A graph ",e.jsx(s,{math:"G"})," is ",e.jsx(s,{math:"k"}),"-edge-connected if and only if for every pair ",e.jsx(s,{math:"x, y \\in V(G)"}),", there exist"," ",e.jsx(s,{math:"k"})," pairwise edge-disjoint"," ",e.jsx(s,{math:"x, y"}),"-paths."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"():"})," If ",e.jsx(s,{math:"G"})," is"," ",e.jsx(s,{math:"k"}),"-edge-connected, then for any"," ",e.jsx(s,{math:"x, y"}),", the minimum ",e.jsx(s,{math:"x, y"}),"-edge cut has size at least ",e.jsx(s,{math:"k"}),". By Menger's edge version, there exist ",e.jsx(s,{math:"k"})," edge-disjoint ",e.jsx(s,{math:"x, y"}),"-paths."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"():"})," Suppose every pair has ",e.jsx(s,{math:"k"})," ","edge-disjoint paths. Any edge cut ",e.jsx(s,{math:"F"})," separating"," ",e.jsx(s,{math:"x"})," from ",e.jsx(s,{math:"y"})," must contain at least one edge from each of the ",e.jsx(s,{math:"k"})," paths. Thus"," ",e.jsx(s,{math:"|F| \\geq k"})," for all ",e.jsx(s,{math:"x, y"}),", so"," ",e.jsx(s,{math:"\\kappa'(G) \\geq k"}),"."]})]})]})]}),e.jsx("h3",{children:"Fan Lemma"}),e.jsx(B,{title:"Fan",children:e.jsxs("p",{children:["An ",e.jsx(s,{math:"x, U"}),"-",e.jsx("strong",{children:"fan"})," is a collection of"," ",e.jsx(s,{math:"x, U"}),"-paths that pairwise share only"," ",e.jsx(s,{math:"x"})," (internally disjoint from ",e.jsx(s,{math:"x"})," to"," ",e.jsx(s,{math:"U"}),")."]})}),e.jsxs(q,{title:"Fan Lemma (Lemma 4.2.24)",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," is ",e.jsx(s,{math:"k"}),"-connected,"," ",e.jsx(s,{math:"x \\in V(G)"}),", and ",e.jsx(s,{math:"U \\subseteq V(G)"})," ","with ",e.jsx(s,{math:"|U| \\geq k"}),", then ",e.jsx(s,{math:"G"})," has an"," ",e.jsx(s,{math:"x, U"}),"-fan of size ",e.jsx(s,{math:"k"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["We prove by induction on ",e.jsx(s,{math:"|U|"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:["Base case (",e.jsx(s,{math:"|U| = k"}),"):"]})," Add a new vertex"," ",e.jsx(s,{math:"y"})," adjacent to all of ",e.jsx(s,{math:"U"})," (but not to"," ",e.jsx(s,{math:"x"}),"). The resulting graph ",e.jsx(s,{math:"G'"})," is still"," ",e.jsx(s,{math:"k"}),"-connected (removing any ",e.jsx(s,{math:"k - 1"})," ","vertices still leaves ",e.jsx(s,{math:"y"})," connected to remaining"," ",e.jsx(s,{math:"U"}),"-vertices and hence to the rest of"," ",e.jsx(s,{math:"G"}),")."]}),e.jsxs("p",{className:"mt-2",children:["By Global Menger, there exist ",e.jsx(s,{math:"k"})," internally disjoint"," ",e.jsx(s,{math:"x, y"}),"-paths in ",e.jsx(s,{math:"G'"}),". Each such path ends at some ",e.jsx(s,{math:"u \\in U"})," (before reaching"," ",e.jsx(s,{math:"y"}),"). These form an ",e.jsx(s,{math:"x, U"}),"-fan of size"," ",e.jsx(s,{math:"k"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:["Inductive step (",e.jsx(s,{math:"|U| > k"}),"):"]})," Pick any"," ",e.jsx(s,{math:"u \\in U"})," and apply induction to"," ",e.jsx(s,{math:"U' = U - \\{'{'}u{'}'}"}),". This gives an"," ",e.jsx(s,{math:"x, U'"}),"-fan of size ",e.jsx(s,{math:"k"}),". If this fan already reaches ",e.jsx(s,{math:"u"}),", we're done. Otherwise, the fan endpoints form a ",e.jsx(s,{math:"k"}),"-subset of"," ",e.jsx(s,{math:"U - \\{'{'}u{'}'}"}),", and by the base case we can construct a fan reaching ",e.jsx(s,{math:"u"})," or any other ",e.jsx(s,{math:"k"})," ","vertices of ",e.jsx(s,{math:"U"}),"."]})]})]})]}),e.jsx("h2",{children:"Higher Connectivity"}),e.jsxs(q,{title:"Expansion Lemma (Lemma 4.2.27)",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," is a ",e.jsx(s,{math:"k"}),"-connected graph and"," ",e.jsx(s,{math:"G'"})," is obtained from ",e.jsx(s,{math:"G"})," by adding a new vertex ",e.jsx(s,{math:"y"})," with at least ",e.jsx(s,{math:"k"})," ","neighbors in ",e.jsx(s,{math:"G"}),", then ",e.jsx(s,{math:"G'"})," is"," ",e.jsx(s,{math:"k"}),"-connected."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"N_G(y) = \\{'{'}u_1, \\ldots, u_m{'}'}"})," where"," ",e.jsx(s,{math:"m \\geq k"}),". We verify"," ",e.jsx(s,{math:"\\kappa(G') \\geq k"})," using Global Menger's Theorem."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Case 1:"})," Paths between vertices ",e.jsx(s,{math:"x, z"})," ","both in ",e.jsx(s,{math:"V(G)"}),". Since ",e.jsx(s,{math:"G"})," is"," ",e.jsx(s,{math:"k"}),"-connected, there exist ",e.jsx(s,{math:"k"})," ","internally disjoint ",e.jsx(s,{math:"x, z"}),"-paths in"," ",e.jsx(s,{math:"G \\subseteq G'"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Case 2:"})," Paths from ",e.jsx(s,{math:"y"})," to some"," ",e.jsx(s,{math:"x \\in V(G)"}),". By the Fan Lemma, ",e.jsx(s,{math:"G"})," ","has an ",e.jsx(s,{math:"x, N_G(y)"}),"-fan of size ",e.jsx(s,{math:"k"})," ","(since ",e.jsx(s,{math:"|N_G(y)| \\geq k"}),")."]}),e.jsxs("p",{className:"mt-2",children:["Let these be paths ",e.jsx(s,{math:"P_1, \\ldots, P_k"})," from"," ",e.jsx(s,{math:"x"})," to distinct"," ",e.jsx(s,{math:"u_{i_1}, \\ldots, u_{i_k} \\in N_G(y)"}),". Extending each"," ",e.jsx(s,{math:"P_j"})," by the edge ",e.jsx(s,{math:"u_{i_j}y"})," gives"," ",e.jsx(s,{math:"k"})," internally disjoint ",e.jsx(s,{math:"x, y"}),"-paths in ",e.jsx(s,{math:"G'"}),"."]})]})]})]}),e.jsxs(q,{title:"Theorem 4.2.30 (Harary Graphs)",children:[e.jsxs("p",{children:["For ",e.jsx(s,{math:"k \\leq n - 1"}),", there exists a"," ",e.jsx(s,{math:"k"}),"-connected graph on ",e.jsx(s,{math:"n"})," vertices with exactly ",e.jsx(s,{math:"\\lceil kn/2 \\rceil"})," edges."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["This is the minimum number of edges needed for"," ",e.jsx(s,{math:"k"}),"-connectivity."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Lower bound:"})," A ",e.jsx(s,{math:"k"}),"-connected graph has minimum degree at least ",e.jsx(s,{math:"k"})," (else a vertex of degree"," ",e.jsx(s,{math:"< k"})," would disconnect when its neighbors are removed). Thus ",e.jsx(s,{math:"2|E| = \\sum d(v) \\geq kn"}),", giving"," ",e.jsx(s,{math:"|E| \\geq \\lceil kn/2 \\rceil"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Upper bound (Harary construction):"})," Place vertices"," ",e.jsx(s,{math:"0, 1, \\ldots, n-1"})," on a circle. Connect each vertex"," ",e.jsx(s,{math:"i"})," to vertices"," ",e.jsx(s,{math:"i \\pm 1, i \\pm 2, \\ldots, i \\pm \\lfloor k/2 \\rfloor"})," ","(mod ",e.jsx(s,{math:"n"}),")."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"k"})," is even, this gives"," ",e.jsx(s,{math:"kn/2"})," edges and is ",e.jsx(s,{math:"k"}),"-connected."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"k"})," is odd and ",e.jsx(s,{math:"n"})," is even, add diametric edges ",e.jsx(s,{math:"i \\sim i + n/2"})," for each"," ",e.jsx(s,{math:"i < n/2"}),". This adds ",e.jsx(s,{math:"n/2"})," edges for total ",e.jsx(s,{math:"(k-1)n/2 + n/2 = kn/2"}),"."]}),e.jsxs("p",{className:"mt-2",children:["If both ",e.jsx(s,{math:"k"})," and ",e.jsx(s,{math:"n"})," are odd, add edges"," ",e.jsx(s,{math:"i \\sim i + (n+1)/2"})," for ",e.jsx(s,{math:"i = 0, \\ldots, (n-1)/2"}),". This adds ",e.jsx(s,{math:"(n+1)/2"})," edges for total"," ",e.jsx(s,{math:"\\lceil kn/2 \\rceil"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Connectivity verification:"})," Any vertex cut"," ",e.jsx(s,{math:"S"})," with ",e.jsx(s,{math:"|S| < k"})," fails to disconnect because there are ",e.jsx(s,{math:"k"})," edge-disjoint paths between any pair using the circular structure."]})]})]})]}),e.jsxs(B,{title:"Harary Graph",children:[e.jsxs("p",{children:["The Harary graph ",e.jsx(s,{math:"H_{k,n}"})," achieves minimum edge count for"," ",e.jsx(s,{math:"k"}),"-connectivity on ",e.jsx(s,{math:"n"})," vertices."]}),e.jsxs("p",{className:"mt-2",children:["Construction: Place ",e.jsx(s,{math:"n"})," vertices on a circle. Connect each vertex to its ",e.jsx(s,{math:"\\lfloor k/2 \\rfloor"})," nearest neighbors on each side. If ",e.jsx(s,{math:"k"})," is odd and ",e.jsx(s,{math:"n"})," is even, add diametric edges."]})]}),e.jsx("h2",{children:"Subdivisions and Contractions"}),e.jsx("p",{children:"Connectivity behaves predictably under graph operations."}),e.jsxs(B,{title:"Subdivision and Contraction",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Subdividing"})," an edge ",e.jsx(s,{math:"uv"})," means replacing it with a path ",e.jsx(s,{math:"u, w, v"})," through a new vertex"," ",e.jsx(s,{math:"w"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Contracting"})," an edge ",e.jsx(s,{math:"uv"})," means merging"," ",e.jsx(s,{math:"u"})," and ",e.jsx(s,{math:"v"})," into a single vertex."]})]}),e.jsxs(q,{title:"Theorem 4.2.36 (Connectivity and Operations)",children:[e.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["Subdividing an edge preserves ",e.jsx(s,{math:"k"}),"-connectivity for"," ",e.jsx(s,{math:"k \\geq 2"}),"."]}),e.jsxs("li",{children:["Contracting an edge in a ",e.jsx(s,{math:"k"}),"-connected graph yields a graph that is at least ",e.jsx(s,{math:"(k-1)"}),"-connected."]})]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Part 1 (Subdivision):"})," Let ",e.jsx(s,{math:"G'"})," be obtained from ",e.jsx(s,{math:"k"}),"-connected ",e.jsx(s,{math:"G"})," by subdividing edge ",e.jsx(s,{math:"uv"})," with new vertex"," ",e.jsx(s,{math:"w"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Consider any ",e.jsx(s,{math:"x, y \\in V(G')"}),". If both are in"," ",e.jsx(s,{math:"V(G)"}),", there are ",e.jsx(s,{math:"k"})," internally disjoint ",e.jsx(s,{math:"x, y"}),"-paths in ",e.jsx(s,{math:"G"}),". Any path using edge ",e.jsx(s,{math:"uv"})," can route through"," ",e.jsx(s,{math:"w"})," instead."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"x = w"}),", we find ",e.jsx(s,{math:"k"})," internally disjoint ",e.jsx(s,{math:"u, y"}),"-paths in ",e.jsx(s,{math:"G"})," and extend one through ",e.jsx(s,{math:"w"}),". Since ",e.jsx(s,{math:"k \\geq 2"}),", at least one path doesn't use ",e.jsx(s,{math:"v"}),", so we can extend another through ",e.jsx(s,{math:"v"})," to ",e.jsx(s,{math:"w"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Part 2 (Contraction):"})," Let ",e.jsx(s,{math:"G' = G/uv"}),", contracting edge ",e.jsx(s,{math:"uv"})," to vertex ",e.jsx(s,{math:"w"}),". Let ",e.jsx(s,{math:"S"})," be a minimum vertex cut in"," ",e.jsx(s,{math:"G'"}),"."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"w \\notin S"}),", then ",e.jsx(s,{math:"S"})," is also a vertex cut in ",e.jsx(s,{math:"G"}),", so"," ",e.jsx(s,{math:"|S| \\geq k > k - 1"}),"."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"w \\in S"}),", then"," ",e.jsx(s,{math:"(S - \\{'{'}w{'}'}) \\cup \\{'{'}u, v{'}'}"})," is a vertex cut in ",e.jsx(s,{math:"G"}),", so"," ",e.jsx(s,{math:"|S| - 1 + 2 \\geq k"}),", giving"," ",e.jsx(s,{math:"|S| \\geq k - 1"}),"."]})]})]})]}),e.jsxs(q,{title:"Tutte's Wheel Theorem (Theorem 4.2.37)",children:[e.jsxs("p",{children:["The only 3-connected graphs that have no single edge whose contraction leaves a 3-connected graph are the wheels ",e.jsx(s,{math:"W_n"})," for"," ",e.jsx(s,{math:"n \\geq 3"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Wheels have no contractible edge:"})," In wheel"," ",e.jsx(s,{math:"W_n"})," (hub ",e.jsx(s,{math:"h"})," plus rim"," ",e.jsx(s,{math:"C_n"}),"), contracting a rim edge creates a vertex of degree 4 that becomes a cut-vertex with two neighbors of degree 2. Contracting a spoke merges ",e.jsx(s,{math:"h"})," with a rim vertex, creating a separating pair."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Non-wheels have a contractible edge:"})," Let"," ",e.jsx(s,{math:"G"})," be 3-connected but not a wheel. We show some edge can be contracted while preserving 3-connectivity."]}),e.jsxs("p",{className:"mt-2",children:["By Theorem 4.2.36, contracting any edge ",e.jsx(s,{math:"e"})," gives a 2-connected graph. If ",e.jsx(s,{math:"G/e"})," is not 3-connected, there's a 2-cut ",e.jsx(s,{math:"\\{'{'}w, z{'}'}"})," in"," ",e.jsx(s,{math:"G/e"}),", where ",e.jsx(s,{math:"w"})," is the contracted vertex."]}),e.jsxs("p",{className:"mt-2",children:["Analysis shows: if every edge contraction creates such a 2-cut, then"," ",e.jsx(s,{math:"G"}),' has a special structurea "hub" vertex adjacent to all others, with remaining vertices forming a cycle. But this is exactly a wheel.']}),e.jsx("p",{className:"mt-2",children:"The full proof uses careful case analysis on the structure of the 2-cuts that would arise from contractions, showing they force the wheel structure."})]})]})]}),e.jsx("h2",{children:"Disjoint Spanning Trees"}),e.jsxs(q,{title:"Theorem 4.2.25 (Edge-Disjoint Spanning Trees)",children:[e.jsxs("p",{children:["A graph ",e.jsx(s,{math:"G"})," has ",e.jsx(s,{math:"k"})," edge-disjoint spanning trees if and only if for every partition"," ",e.jsx(s,{math:"V_1, \\ldots, V_r"})," of ",e.jsx(s,{math:"V(G)"}),":"]}),e.jsx(W,{math:"e(V_1, \\ldots, V_r) \\geq k(r - 1)"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(s,{math:"e(V_1, \\ldots, V_r)"})," counts edges between different parts."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Necessity:"})," Each spanning tree needs at least"," ",e.jsx(s,{math:"r - 1"})," edges between the ",e.jsx(s,{math:"r"})," parts (to connect them). With ",e.jsx(s,{math:"k"})," edge-disjoint trees, we need at least ",e.jsx(s,{math:"k(r - 1)"})," such edges."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Sufficiency:"})," This is the harder direction, due to Nash-Williams (1961) and Tutte (1961). The proof uses a matroid-theoretic approach or direct construction."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Key idea:"}),' Define a "forest cover" as a collection of'," ",e.jsx(s,{math:"k"})," forests that partition ",e.jsx(s,{math:"E(G)"}),". We show that if the condition holds, we can find a forest cover where each forest is a spanning tree."]}),e.jsxs("p",{className:"mt-2",children:["The condition ",e.jsx(s,{math:"e(V_1, \\ldots, V_r) \\geq k(r-1)"})," ensures that when contracting each ",e.jsx(s,{math:"V_i"})," to a single vertex, the resulting multigraph has enough edges to support ",e.jsx(s,{math:"k"})," ","edge-disjoint spanning trees (which lift back to the original graph)."]})]})]})]}),e.jsxs(q,{title:"Corollary 4.2.26",children:[e.jsxs("p",{children:["A ",e.jsx(s,{math:"2k"}),"-edge-connected graph has ",e.jsx(s,{math:"k"})," ","edge-disjoint spanning trees."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"G"})," be ",e.jsx(s,{math:"2k"}),"-edge-connected. For any partition ",e.jsx(s,{math:"V_1, \\ldots, V_r"})," of"," ",e.jsx(s,{math:"V(G)"}),", the edges between different parts form an edge cut separating ",e.jsx(s,{math:"V_1"})," from the rest."]}),e.jsxs("p",{className:"mt-2",children:["By ",e.jsx(s,{math:"2k"}),'-edge-connectivity, each "boundary" of a part has at least ',e.jsx(s,{math:"2k"})," edges crossing it. Summing over all parts and accounting for each edge being counted twice (once from each side):"]}),e.jsx(W,{math:"2 \\cdot e(V_1, \\ldots, V_r) \\geq 2k(r - 1)"}),e.jsxs("p",{className:"mt-2",children:["(The factor ",e.jsx(s,{math:"r - 1"}),' comes from considering a spanning tree of the "contracted" graph: it has ',e.jsx(s,{math:"r - 1"})," edges, and each such edge corresponds to at least ",e.jsx(s,{math:"2k"})," ","edges in ",e.jsx(s,{math:"G"})," when we account for connectivity between adjacent parts.)"]}),e.jsxs("p",{className:"mt-2",children:["Thus ",e.jsx(s,{math:"e(V_1, \\ldots, V_r) \\geq k(r - 1)"}),", and by Theorem 4.2.25, ",e.jsx(s,{math:"G"})," has ",e.jsx(s,{math:"k"})," ","edge-disjoint spanning trees."]})]})]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"2-Connected:"})," No cut-vertex; every pair of vertices lies on a cycle; has an ear decomposition."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Ear Decomposition:"})," Build 2-connected graphs by starting with a cycle and adding paths."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Menger's Theorem:"})," Min vertex cut = Max internally disjoint paths. Min edge cut = Max edge-disjoint paths."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Global Version:"})," ",e.jsx(s,{math:"G"})," is"," ",e.jsx(s,{math:"k"}),"-connected iff every vertex pair has"," ",e.jsx(s,{math:"k"})," internally disjoint paths."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Harary Graphs:"})," Achieve minimum edges for"," ",e.jsx(s,{math:"k"}),"-connectivity."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Operations:"})," Subdivision preserves connectivity; contraction may decrease it by 1."]})]})]})}function bG(){return e.jsxs(ze,{sectionId:13,children:[e.jsx("p",{children:`Network flow theory studies how to route "flow" through a network from a source to a sink, respecting capacity constraints. The Max-flow Min-cut Theorem is a cornerstone of combinatorial optimization, elegantly connecting Menger's Theorem to linear programming duality. Flow networks model transportation, communication, and many other systems.`}),e.jsx("h2",{children:"Interactive Flow Network"}),e.jsx("p",{children:"Watch the Ford-Fulkerson algorithm find maximum flow. See augmenting paths, observe flow being pushed through the network, and discover the minimum cut."}),e.jsx(J$,{className:"my-8"}),e.jsx("h2",{children:"Networks and Flows"}),e.jsxs(B,{title:"Network",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"network"})," is a digraph ",e.jsx(s,{math:"N"})," with:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["A ",e.jsx("strong",{children:"source"})," ",e.jsx(s,{math:"s"})," with"," ",e.jsx(s,{math:"d^-(s) = 0"})," (no incoming edges)"]}),e.jsxs("li",{children:["A ",e.jsx("strong",{children:"sink"})," ",e.jsx(s,{math:"t"})," with"," ",e.jsx(s,{math:"d^+(t) = 0"})," (no outgoing edges)"]}),e.jsxs("li",{children:["A ",e.jsx("strong",{children:"capacity function"})," ",e.jsx(s,{math:"c: E(N) \\to \\mathbb{R}^+"})," assigning nonnegative capacities to edges"]})]})]}),e.jsxs(B,{title:"Flow",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"flow"})," on network ",e.jsx(s,{math:"N"})," is a function"," ",e.jsx(s,{math:"f: E(N) \\to \\mathbb{R}^+"})," satisfying:"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Capacity constraint:"})," ",e.jsx(s,{math:"0 \\leq f(e) \\leq c(e)"})," for all edges"," ",e.jsx(s,{math:"e"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Conservation:"})," For all ",e.jsx(s,{math:"v \\neq s, t"}),":",e.jsx(W,{math:"f^-(v) = f^+(v)"}),"(flow in = flow out)"]})]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"value"})," of flow ",e.jsx(s,{math:"f"})," is"," ",e.jsx(s,{math:"val(f) = f^+(s)"})," (total flow leaving the source)."]})]}),e.jsx(re,{title:"Transportation Network",children:e.jsxs("p",{children:["A distribution company ships goods from factory ",e.jsx(s,{math:"s"})," to warehouse ",e.jsx(s,{math:"t"})," through intermediate cities. Each road has a maximum capacity (trucks per day). A flow assigns truck routes respecting capacities and ensuring that at intermediate cities, trucks entering equals trucks leaving."]})}),e.jsx("h2",{children:"Cuts in Networks"}),e.jsxs(B,{title:"Source-Sink Cut",children:[e.jsxs("p",{children:["An ",e.jsx(s,{math:"s, t"}),"-",e.jsx("strong",{children:"cut"})," in network"," ",e.jsx(s,{math:"N"})," is a partition ",e.jsx(s,{math:"(S, T)"})," of"," ",e.jsx(s,{math:"V(N)"})," with ",e.jsx(s,{math:"s \\in S"})," and"," ",e.jsx(s,{math:"t \\in T"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"capacity"})," of cut ",e.jsx(s,{math:"(S, T)"})," is:"]}),e.jsx(W,{math:"cap(S, T) = \\sum_{e \\in [S, T]} c(e)"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(s,{math:"[S, T]"})," denotes edges from ",e.jsx(s,{math:"S"})," ","to ",e.jsx(s,{math:"T"}),"."]})]}),e.jsxs(q,{title:"Lemma 4.3.4 (Weak Duality)",children:[e.jsxs("p",{children:["For any flow ",e.jsx(s,{math:"f"})," and any ",e.jsx(s,{math:"s, t"}),"-cut"," ",e.jsx(s,{math:"(S, T)"}),":"]}),e.jsx(W,{math:"val(f) \\leq cap(S, T)"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Flow conservation means: for each ",e.jsx(s,{math:"v \\in S - \\{s\\}"}),", flow in equals flow out. Summing over all ",e.jsx(s,{math:"v \\in S"}),":"]}),e.jsx(W,{math:"val(f) = f^+(S) - f^-(S) \\leq f^+(S) \\leq cap(S, T)"}),e.jsxs("p",{children:["where ",e.jsx(s,{math:"f^+(S)"})," is total flow leaving"," ",e.jsx(s,{math:"S"}),"."]})]})]})]}),e.jsx("h2",{children:"The Max-Flow Min-Cut Theorem"}),e.jsxs(q,{title:"Max-Flow Min-Cut Theorem (Theorem 4.3.9)",children:[e.jsxs("p",{children:["In any network, the maximum value of a flow equals the minimum capacity of an"," ",e.jsx(s,{math:"s, t"}),"-cut:"]}),e.jsx(W,{math:"\\max_f val(f) = \\min_{(S,T)} cap(S, T)"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch (Ford-Fulkerson)"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsx("p",{children:"We show that when no augmenting path exists, the current flow equals some cut's capacity. Define:"}),e.jsx(W,{math:"S = \\{v : \\text{there is an augmenting path from } s \\text{ to } v\\}"}),e.jsxs("p",{className:"mt-2",children:["Since there's no augmenting path to ",e.jsx(s,{math:"t"}),","," ",e.jsx(s,{math:"t \\notin S"}),", so ",e.jsx(s,{math:"(S, T)"})," is a cut. For edges from ",e.jsx(s,{math:"S"})," to ",e.jsx(s,{math:"T"}),", flow equals capacity (else augmenting path exists). For edges from"," ",e.jsx(s,{math:"T"})," to ",e.jsx(s,{math:"S"}),", flow is 0. Thus"," ",e.jsx(s,{math:"val(f) = cap(S, T)"}),"."]})]})]})]}),e.jsxs(re,{title:"Computing Max-Flow",children:[e.jsxs("p",{children:["Consider a network with ",e.jsx(s,{math:"s \\to a \\to t"})," (capacity 3),"," ",e.jsx(s,{math:"s \\to b \\to t"})," (capacity 2), and"," ",e.jsx(s,{math:"a \\to b"})," (capacity 1)."]}),e.jsxs("p",{className:"mt-2",children:["Maximum flow: Send 3 through ",e.jsx(s,{math:"s \\to a \\to t"})," and 2 through ",e.jsx(s,{math:"s \\to b \\to t"}),". Total value = 5."]}),e.jsxs("p",{className:"mt-2",children:["Minimum cut: ",e.jsx(s,{math:"S = \\{s\\}"}),","," ",e.jsx(s,{math:"T = \\{a, b, t\\}"}),". Cut capacity = 3 + 2 = 5. "]})]}),e.jsx("h2",{children:"The Ford-Fulkerson Algorithm"}),e.jsxs(B,{title:"Residual Network",children:[e.jsxs("p",{children:["Given network ",e.jsx(s,{math:"N"})," and flow ",e.jsx(s,{math:"f"}),", the"," ",e.jsx("strong",{children:"residual network"})," ",e.jsx(s,{math:"N_f"})," has:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Forward edges:"})," For each edge"," ",e.jsx(s,{math:"e = (u, v)"})," with ",e.jsx(s,{math:"f(e) < c(e)"}),", include ",e.jsx(s,{math:"(u, v)"})," with residual capacity"," ",e.jsx(s,{math:"c(e) - f(e)"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Backward edges:"})," For each edge"," ",e.jsx(s,{math:"e = (u, v)"})," with ",e.jsx(s,{math:"f(e) > 0"}),", include ",e.jsx(s,{math:"(v, u)"})," with residual capacity"," ",e.jsx(s,{math:"f(e)"}),"."]})]})]}),e.jsxs(B,{title:"Augmenting Path",children:[e.jsxs("p",{children:["An ",e.jsx("strong",{children:"augmenting path"})," for flow ",e.jsx(s,{math:"f"})," is an"," ",e.jsx(s,{math:"s, t"}),"-path in the residual network"," ",e.jsx(s,{math:"N_f"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"bottleneck"})," of an augmenting path is the minimum residual capacity along the path."]})]}),e.jsx(B,{title:"Ford-Fulkerson Algorithm",children:e.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["Initialize ",e.jsx(s,{math:"f(e) = 0"})," for all edges."]}),e.jsxs("li",{children:["While there exists an augmenting path ",e.jsx(s,{math:"P"}),":",e.jsxs("ul",{className:"ml-4 list-disc list-inside",children:[e.jsxs("li",{children:["Find bottleneck ",e.jsx(s,{math:"\\delta = \\min_{e \\in P} c_f(e)"}),"."]}),e.jsxs("li",{children:["For each edge ",e.jsx(s,{math:"(u, v)"})," in ",e.jsx(s,{math:"P"}),":",e.jsxs("ul",{className:"ml-4 list-disc list-inside",children:[e.jsxs("li",{children:["If forward edge: increase ",e.jsx(s,{math:"f(u, v)"})," by"," ",e.jsx(s,{math:"\\delta"}),"."]}),e.jsxs("li",{children:["If backward edge: decrease ",e.jsx(s,{math:"f(v, u)"})," by"," ",e.jsx(s,{math:"\\delta"}),"."]})]})]})]})]}),e.jsxs("li",{children:["Return ",e.jsx(s,{math:"f"}),"."]})]})}),e.jsxs(q,{title:"Ford-Fulkerson Correctness",children:[e.jsxs("p",{children:["The Ford-Fulkerson algorithm terminates with a maximum flow when all capacities are rational. With integer capacities, running time is"," ",e.jsx(s,{math:"O(m \\cdot val(f^*))"})," where"," ",e.jsx(s,{math:"val(f^*)"})," is the maximum flow value."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Correctness:"})," The algorithm terminates when no augmenting path exists. At this point, define"," ",e.jsx(s,{math:"S = \\{'{'}v : v \\text{ reachable from } s \\text{ in } N_f{'}'}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{math:"t \\notin S"})," (no augmenting path to"," ",e.jsx(s,{math:"t"}),"), ",e.jsx(s,{math:"(S, V - S)"})," is an"," ",e.jsx(s,{math:"s, t"}),"-cut."]}),e.jsxs("p",{className:"mt-2",children:["For edges ",e.jsx(s,{math:"(u, v)"})," with ",e.jsx(s,{math:"u \\in S"})," ","and ",e.jsx(s,{math:"v \\notin S"}),": we have"," ",e.jsx(s,{math:"f(u, v) = c(u, v)"})," (else there would be residual capacity and ",e.jsx(s,{math:"v"})," would be reachable)."]}),e.jsxs("p",{className:"mt-2",children:["For edges ",e.jsx(s,{math:"(v, u)"})," with ",e.jsx(s,{math:"v \\notin S"})," ","and ",e.jsx(s,{math:"u \\in S"}),": we have ",e.jsx(s,{math:"f(v, u) = 0"})," ","(else there would be a backward edge and ",e.jsx(s,{math:"v"})," would be reachable)."]}),e.jsxs("p",{className:"mt-2",children:["Thus ",e.jsx(s,{math:"val(f) = cap(S, V - S)"}),". By weak duality,"," ",e.jsx(s,{math:"f"})," is maximum and ",e.jsx(s,{math:"(S, V - S)"})," ","is a minimum cut."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Termination:"})," With integer capacities, each augmentation increases ",e.jsx(s,{math:"val(f)"})," by at least 1. Since"," ",e.jsx(s,{math:"val(f) \\leq val(f^*)"}),", we have at most"," ",e.jsx(s,{math:"val(f^*)"})," augmentations."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Time:"})," Finding an augmenting path takes"," ",e.jsx(s,{math:"O(m)"})," (BFS/DFS). Total:"," ",e.jsx(s,{math:"O(m \\cdot val(f^*))"}),"."]})]})]})]}),e.jsx("h3",{children:"Improved Algorithms"}),e.jsx("p",{children:"By choosing augmenting paths more carefully, we can guarantee polynomial time:"}),e.jsxs(q,{title:"Edmonds-Karp Algorithm (1972)",children:[e.jsxs("p",{children:["Using BFS to find shortest augmenting paths, maximum flow can be computed in"," ",e.jsx(s,{math:"O(nm^2)"})," time."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Key lemma:"})," If we always augment along shortest paths (by number of edges), then for any vertex ",e.jsx(s,{math:"v"}),", the distance"," ",e.jsx(s,{math:"d(s, v)"})," in the residual network never decreases throughout the algorithm."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Proof of lemma:"})," Suppose ",e.jsx(s,{math:"d'(s, v) < d(s, v)"})," ","after an augmentation, where ",e.jsx(s,{math:"d'"})," is the new distance. Take the first such ",e.jsx(s,{math:"v"})," (minimum ",e.jsx(s,{math:"d'(s, v)"}),")."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{math:"u"})," be the predecessor of ",e.jsx(s,{math:"v"})," on a shortest ",e.jsx(s,{math:"s, v"}),"-path in ",e.jsx(s,{math:"N'_f"}),". Then ",e.jsx(s,{math:"d'(s, u) = d'(s, v) - 1"}),". By choice of"," ",e.jsx(s,{math:"v"}),", we have ",e.jsx(s,{math:"d(s, u) \\leq d'(s, u)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The edge ",e.jsx(s,{math:"(u, v)"})," is in ",e.jsx(s,{math:"N'_f"})," but either wasn't in ",e.jsx(s,{math:"N_f"})," (so we augmented along"," ",e.jsx(s,{math:"(v, u)"}),") or was. If we augmented along"," ",e.jsx(s,{math:"(v, u)"}),", then ",e.jsx(s,{math:"d(s, u) = d(s, v) + 1"}),", giving ",e.jsx(s,{math:"d'(s, v) \\geq d(s, v)"}),"  contradiction."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Augmentation count:"})," An edge ",e.jsx(s,{math:"(u, v)"})," ",'can be "critical" (bottleneck) at most ',e.jsx(s,{math:"n/2"})," times. Each time it's critical, ",e.jsx(s,{math:"d(s, u)"})," increases by at least 2. With ",e.jsx(s,{math:"m"})," edges, total augmentations are"," ",e.jsx(s,{math:"O(nm)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Each BFS takes ",e.jsx(s,{math:"O(m)"})," time. Total:"," ",e.jsx(s,{math:"O(nm \\cdot m) = O(nm^2)"}),"."]})]})]})]}),e.jsxs(q,{title:"Dinic's Algorithm (1970)",children:[e.jsxs("p",{children:["Using blocking flows in layered networks, maximum flow can be computed in"," ",e.jsx(s,{math:"O(n^2 m)"})," time, or"," ",e.jsx(s,{math:"O(m\\sqrt{n})"})," for unit capacity networks."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Layered network:"})," Build a BFS layer structure from"," ",e.jsx(s,{math:"s"})," in the residual network. Layer ",e.jsx(s,{math:"L_i"})," ","contains vertices at distance ",e.jsx(s,{math:"i"})," from"," ",e.jsx(s,{math:"s"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Blocking flow:"})," A flow in the layered network where every"," ",e.jsx(s,{math:"s, t"}),"-path has at least one saturated edge. Finding a blocking flow takes ",e.jsx(s,{math:"O(nm)"})," time via DFS."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Key insight:"})," After finding a blocking flow and updating, the distance from ",e.jsx(s,{math:"s"})," to ",e.jsx(s,{math:"t"})," in the new residual network strictly increases. Since"," ",e.jsx(s,{math:"d(s, t) \\leq n - 1"}),", at most ",e.jsx(s,{math:"n"})," ","phases are needed."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"General case:"})," ",e.jsx(s,{math:"n"})," phases, each taking"," ",e.jsx(s,{math:"O(nm)"})," time. Total: ",e.jsx(s,{math:"O(n^2 m)"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Unit capacity:"})," When all capacities are 1, each phase saturates at least ",e.jsx(s,{math:"\\sqrt{m}"})," edges, and the number of phases before distance exceeds ",e.jsx(s,{math:"\\sqrt{n}"})," is"," ",e.jsx(s,{math:"O(\\sqrt{n})"}),". Total: ",e.jsx(s,{math:"O(m\\sqrt{n})"}),"."]})]})]})]}),e.jsx("h2",{children:"Integrality Theorem"}),e.jsxs(q,{title:"Integrality Theorem (Theorem 4.3.11)",children:[e.jsx("p",{children:"If all capacities in a network are integers, then there exists a maximum flow that is integer-valued on all edges."}),e.jsx("p",{className:"mt-2 text-dark-300",children:"The Ford-Fulkerson algorithm automatically produces such an integer flow."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsx("p",{children:"We show the Ford-Fulkerson algorithm maintains integer flows throughout."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Base case:"})," The initial flow ",e.jsx(s,{math:"f \\equiv 0"})," ","is integer-valued."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Inductive step:"})," Suppose ",e.jsx(s,{math:"f"})," is integer-valued. The residual network ",e.jsx(s,{math:"N_f"})," has capacities:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["Forward edges: ",e.jsx(s,{math:"c(e) - f(e)"})," (integer minus integer)"]}),e.jsxs("li",{children:["Backward edges: ",e.jsx(s,{math:"f(e)"})," (integer)"]})]}),e.jsxs("p",{className:"mt-2",children:["All residual capacities are integers. The bottleneck"," ",e.jsx(s,{math:"\\delta"})," of any augmenting path is the minimum of integers, hence an integer."]}),e.jsx("p",{className:"mt-2",children:"After augmentation:"}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["Forward edges: ",e.jsx(s,{math:"f(e) + \\delta"})," (integer + integer)"]}),e.jsxs("li",{children:["Backward edges: ",e.jsx(s,{math:"f(e) - \\delta"})," (integer  integer)"]})]}),e.jsx("p",{className:"mt-2",children:"The new flow is integer-valued. By induction, the final maximum flow is integer-valued."})]})]})]}),e.jsx("p",{children:"This theorem has powerful consequences: many combinatorial problems can be modeled as integer flow problems."}),e.jsx("h2",{children:"Applications of Max-Flow"}),e.jsx("h3",{children:"Menger's Theorem from Max-Flow"}),e.jsxs(q,{title:"Corollary 4.3.13 (Menger from Max-Flow)",children:[e.jsx("p",{children:"Menger's Theorem (edge version) follows from the Max-Flow Min-Cut Theorem by setting all capacities to 1."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["In a network with unit capacities, by integrality, maximum flow is the number of edge-disjoint ",e.jsx(s,{math:"s, t"}),"-paths. Minimum cut capacity is the minimum number of edges separating"," ",e.jsx(s,{math:"s"})," from ",e.jsx(s,{math:"t"}),". Max-Flow Min-Cut gives Menger's Theorem."]})})]})]}),e.jsx("h3",{children:"Bipartite Matching"}),e.jsxs(q,{title:"Maximum Bipartite Matching via Flow (Corollary 4.3.14)",children:[e.jsxs("p",{children:["Maximum matching in a bipartite graph ",e.jsx(s,{math:"G"})," can be computed by:"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["Create network: Add source ",e.jsx(s,{math:"s"})," connected to all"," ",e.jsx(s,{math:"X"}),"-vertices; add sink ",e.jsx(s,{math:"t"})," ","connected from all ",e.jsx(s,{math:"Y"}),"-vertices."]}),e.jsxs("li",{children:["Direct all edges from ",e.jsx(s,{math:"X"})," to ",e.jsx(s,{math:"Y"}),"."]}),e.jsx("li",{children:"Set all capacities to 1."}),e.jsx("li",{children:"Maximum flow value = Maximum matching size."})]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Matching  Flow:"})," Given a matching ",e.jsx(s,{math:"M"}),", define flow: ",e.jsx(s,{math:"f(e) = 1"})," for edges in ",e.jsx(s,{math:"M"})," ","and their incident ",e.jsx(s,{math:"s"}),"- and ",e.jsx(s,{math:"t"}),"-edges;",e.jsx(s,{math:"f(e) = 0"})," otherwise."]}),e.jsxs("p",{className:"mt-2",children:["This is a valid flow: capacity constraints hold (all edges have capacity 1), and conservation holds (each matched vertex has one unit in, one unit out). Flow value = ",e.jsx(s,{math:"|M|"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Flow  Matching:"})," By integrality, there's an integer maximum flow. Since capacities are 1, flow values are 0 or 1. Edges from"," ",e.jsx(s,{math:"X"})," to ",e.jsx(s,{math:"Y"})," with flow 1 form a matching (conservation ensures each vertex is used at most once)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Optimality:"})," Maximum flow corresponds to maximum matching since both directions preserve size."]})]})]})]}),e.jsx("h3",{children:"Knig-Egervry from Max-Flow"}),e.jsx("p",{children:"The Knig-Egervry Theorem (maximum matching = minimum vertex cover in bipartite graphs) also follows from Max-Flow Min-Cut applied to the bipartite matching network."}),e.jsx("h3",{children:"Edge-Disjoint Paths"}),e.jsxs(re,{title:"Multi-Commodity Flow",children:[e.jsx("p",{children:"A company needs to route data between multiple source-destination pairs through a network. Each link has limited bandwidth. The multi-commodity flow problem asks: can we satisfy all demands simultaneously?"}),e.jsx("p",{className:"mt-2",children:"For single source-destination, this reduces to max-flow. For multiple pairs, the problem becomes NP-hard in general but has efficient approximations."})]}),e.jsx("h2",{children:"Circulations"}),e.jsxs(B,{title:"Circulation",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"circulation"})," in a network is a flow where"," ",e.jsx(s,{math:"s = t"})," (source equals sink), so conservation holds at every vertex."]}),e.jsx("p",{className:"mt-2",children:"Equivalently, a circulation is an assignment of flows to edges satisfying capacity constraints and conservation everywhere."})]}),e.jsxs(q,{title:"Circulation with Demands (Theorem 4.3.19)",children:[e.jsxs("p",{children:["A network with demands ",e.jsx(s,{math:"d(v)"})," at each vertex (positive for sources, negative for sinks) has a feasible circulation if and only if:"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside",children:[e.jsxs("li",{children:[e.jsx(s,{math:"\\sum_v d(v) = 0"})," (total demand is zero)"]}),e.jsxs("li",{children:["For every ",e.jsx(s,{math:"s, t"}),"-cut, the demand can be satisfied"]})]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Reduction to max-flow:"})," Create a standard network by adding a super-source ",e.jsx(s,{math:"s^*"})," and super-sink"," ",e.jsx(s,{math:"t^*"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For each vertex ",e.jsx(s,{math:"v"})," with ",e.jsx(s,{math:"d(v) > 0"})," ","(source), add edge ",e.jsx(s,{math:"(s^*, v)"})," with capacity"," ",e.jsx(s,{math:"d(v)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For each vertex ",e.jsx(s,{math:"v"})," with ",e.jsx(s,{math:"d(v) < 0"})," ","(sink), add edge ",e.jsx(s,{math:"(v, t^*)"})," with capacity"," ",e.jsx(s,{math:"-d(v)"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Equivalence:"})," A feasible circulation exists iff there's a flow that saturates all edges out of ",e.jsx(s,{math:"s^*"})," and into"," ",e.jsx(s,{math:"t^*"}),". This happens iff maximum flow value equals"," ",e.jsx(s,{math:"\\sum_{d(v) > 0} d(v)"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Condition 1:"})," Necessary for any flow to exist (what flows out must equal what flows in)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Condition 2:"})," By max-flow min-cut, max flow equals min cut. The condition ensures no cut is a bottleneck preventing demand satisfaction."]})]})]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Max-Flow Min-Cut:"})," The central theorem: maximum flow value equals minimum cut capacity."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Ford-Fulkerson:"})," Find max-flow by repeatedly augmenting along paths in the residual network."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Integrality:"})," With integer capacities, there's always an integer maximum flow."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Unifies Theory:"})," Menger's Theorem, Knig-Egervry, and Hall's Theorem all follow from Max-Flow Min-Cut."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Efficient Algorithms:"})," Edmonds-Karp"," ",e.jsx(s,{math:"O(nm^2)"}),", Dinic ",e.jsx(s,{math:"O(n^2 m)"}),", with better bounds for special cases."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Wide Applications:"})," Transportation, communication networks, bipartite matching, scheduling, and more."]})]})]})}function wG(){return e.jsxs(ze,{sectionId:14,children:[e.jsx("p",{children:'Graph coloring assigns labels ("colors") to graph elements subject to certain constraints. In vertex coloring, adjacent vertices must receive different colors. This models scheduling conflicts, register allocation in compilers, frequency assignment in wireless networks, and the famous map coloring problem. The central question: how many colors are needed?'}),e.jsx("h2",{children:"Chromatic Number"}),e.jsxs(B,{title:"Proper Coloring and Chromatic Number",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"proper k-coloring"})," of graph ",e.jsx(s,{math:"G"})," is a function ",e.jsx(s,{math:"c: V(G) \\to \\{1, 2, \\ldots, k\\}"})," such that"," ",e.jsx(s,{math:"c(u) \\neq c(v)"})," whenever ",e.jsx(s,{math:"uv \\in E(G)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["A graph is ",e.jsxs("strong",{children:[e.jsx(s,{math:"k"}),"-colorable"]})," ","if it has a proper ",e.jsx(s,{math:"k"}),"-coloring."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"chromatic number"})," ",e.jsx(s,{math:"\\chi(G)"})," is the minimum ",e.jsx(s,{math:"k"})," such that ",e.jsx(s,{math:"G"})," is"," ",e.jsx(s,{math:"k"}),"-colorable."]})]}),e.jsx(re,{title:"Chromatic Numbers of Basic Graphs",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(s,{math:"\\chi(K_n) = n"}),"  all vertices are adjacent"]}),e.jsxs("li",{children:[e.jsx(s,{math:"\\chi(C_n) = 2"})," if ",e.jsx(s,{math:"n"})," is even,"," ",e.jsx(s,{math:"3"})," if odd"]}),e.jsxs("li",{children:[e.jsx(s,{math:"\\chi(K_{m,n}) = 2"}),"  alternate colors between parts"]}),e.jsxs("li",{children:[e.jsx(s,{math:"\\chi(T) = 2"})," for any tree ",e.jsx(s,{math:"T"})," with at least one edge"]}),e.jsx("li",{children:e.jsx(s,{math:"\\chi(\\text{Petersen}) = 3"})})]})}),e.jsxs(q,{title:"Bipartite Characterization (Theorem 5.1.2)",children:[e.jsxs("p",{children:["A graph ",e.jsx(s,{math:"G"})," is bipartite if and only if"," ",e.jsx(s,{math:"\\chi(G) \\leq 2"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Equivalently, ",e.jsx(s,{math:"G"})," is bipartite iff"," ",e.jsx(s,{math:"G"})," has no odd cycle."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"() Bipartite implies 2-colorable:"})," If"," ",e.jsx(s,{math:"G"})," is bipartite with parts ",e.jsx(s,{math:"X, Y"}),", color all vertices in ",e.jsx(s,{math:"X"})," with color 1 and all vertices in ",e.jsx(s,{math:"Y"})," with color 2. Since edges only go between parts, this is a proper 2-coloring."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"() 2-colorable implies bipartite:"})," Given a proper 2-coloring, let ",e.jsx(s,{math:"X"})," be the vertices of color 1 and"," ",e.jsx(s,{math:"Y"})," be the vertices of color 2. Since adjacent vertices have different colors, there are no edges within ",e.jsx(s,{math:"X"})," or within ",e.jsx(s,{math:"Y"}),". Thus ",e.jsx(s,{math:"G"})," is bipartite."]}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"No odd cycle equivalence:"})}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"G"})," has an odd cycle ",e.jsx(s,{math:"C_{2k+1}"}),", trying to 2-color it alternates colors around the cycle, but after"," ",e.jsx(s,{math:"2k + 1"})," steps we return to the start vertex with the wrong color. So ",e.jsx(s,{math:"\\chi(G) \\geq 3"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Conversely, if ",e.jsx(s,{math:"G"})," has no odd cycle, use BFS to construct a 2-coloring: pick any root ",e.jsx(s,{math:"r"}),", color it 1, and color each vertex by ",e.jsx(s,{math:"1 + d(r, v) \\mod 2"}),". If two adjacent vertices have the same color, there would be an odd cyclecontradiction."]})]})]})]}),e.jsx(tG,{className:"my-8"}),e.jsx("h2",{children:"Greedy Coloring"}),e.jsxs(B,{title:"Greedy Coloring Algorithm",children:[e.jsxs("p",{children:["Given a vertex ordering ",e.jsx(s,{math:"v_1, v_2, \\ldots, v_n"}),":"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside",children:[e.jsxs("li",{children:["Color ",e.jsx(s,{math:"v_1"})," with color 1."]}),e.jsxs("li",{children:["For ",e.jsx(s,{math:"i = 2, \\ldots, n"}),": assign"," ",e.jsx(s,{math:"v_i"})," the smallest color not used by any neighbor of"," ",e.jsx(s,{math:"v_i"})," among"," ",e.jsx(s,{math:"\\{v_1, \\ldots, v_{i-1}\\}"}),"."]})]})]}),e.jsxs(q,{title:"Theorem 5.1.7 (Greedy Bound)",children:[e.jsxs("p",{children:["For any vertex ordering, greedy coloring uses at most"," ",e.jsx(s,{math:"\\Delta(G) + 1"})," colors. Thus:"]}),e.jsx(W,{math:"\\chi(G) \\leq \\Delta(G) + 1"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["When coloring ",e.jsx(s,{math:"v_i"}),", it has at most"," ",e.jsx(s,{math:"\\Delta(G)"})," neighbors. These neighbors use at most"," ",e.jsx(s,{math:"\\Delta(G)"})," colors, so color"," ",e.jsx(s,{math:"\\Delta(G) + 1"})," is always available."]})})]})]}),e.jsxs(re,{title:"Optimal vs. Poor Orderings",children:[e.jsxs("p",{children:["Consider ",e.jsx(s,{math:"K_3"})," with vertices ",e.jsx(s,{math:"a, b, c"}),". Any ordering uses 3 colors (optimal)."]}),e.jsxs("p",{className:"mt-2",children:["Consider ",e.jsx(s,{math:"K_{3,3}"})," with parts"," ",e.jsx(s,{math:"\\{a, b, c\\}"})," and ",e.jsx(s,{math:"\\{x, y, z\\}"}),"."]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["Ordering ",e.jsx(s,{math:"a, b, c, x, y, z"}),": uses 2 colors (optimal)"]}),e.jsxs("li",{children:["Ordering ",e.jsx(s,{math:"a, x, b, y, c, z"}),": uses 3 colors (suboptimal)"]})]})]}),e.jsxs(B,{title:"Degeneracy",children:[e.jsxs("p",{children:["A graph ",e.jsx(s,{math:"G"})," is ",e.jsxs("strong",{children:[e.jsx(s,{math:"k"}),"-degenerate"]})," ","if every subgraph has a vertex of degree at most ",e.jsx(s,{math:"k"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"degeneracy"})," of ",e.jsx(s,{math:"G"})," is the minimum"," ",e.jsx(s,{math:"k"})," for which ",e.jsx(s,{math:"G"})," is"," ",e.jsx(s,{math:"k"}),"-degenerate."]})]}),e.jsxs(q,{title:"Theorem 5.1.9 (Degeneracy Bound)",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," is ",e.jsx(s,{math:"k"}),"-degenerate, then"," ",e.jsx(s,{math:"\\chi(G) \\leq k + 1"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["Order vertices by repeatedly removing a vertex of minimum degree. In this ordering, each vertex has at most ",e.jsx(s,{math:"k"})," earlier neighbors. Greedy coloring uses at most ",e.jsx(s,{math:"k + 1"})," colors."]})})]})]}),e.jsx("h2",{children:"Cliques and Chromatic Number"}),e.jsx(B,{title:"Clique Number",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"clique number"})," ",e.jsx(s,{math:"\\omega(G)"})," is the size of the largest clique (complete subgraph) in ",e.jsx(s,{math:"G"}),"."]})}),e.jsxs(q,{title:"Clique Lower Bound",children:[e.jsxs("p",{children:["For any graph ",e.jsx(s,{math:"G"}),":"]}),e.jsx(W,{math:"\\chi(G) \\geq \\omega(G)"}),e.jsx("p",{className:"mt-2 text-dark-300",children:"Vertices in a clique must all have different colors."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"K"})," be a maximum clique in ",e.jsx(s,{math:"G"}),", so ",e.jsx(s,{math:"|K| = \\omega(G)"}),"."]}),e.jsx("p",{className:"mt-2",children:"In a clique, every pair of vertices is adjacent. In any proper coloring, adjacent vertices must receive different colors."}),e.jsxs("p",{className:"mt-2",children:["Therefore, the ",e.jsx(s,{math:"\\omega(G)"})," vertices of"," ",e.jsx(s,{math:"K"})," must all receive distinct colors. This requires at least ",e.jsx(s,{math:"\\omega(G)"})," colors."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{math:"\\chi(G)"})," is the minimum number of colors needed, we have ",e.jsx(s,{math:"\\chi(G) \\geq \\omega(G)"}),"."]})]})]})]}),e.jsxs(re,{title:"Gap Between  and ",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Mycielskian"})," construction produces triangle-free graphs (",e.jsx(s,{math:"\\omega = 2"}),") with arbitrarily large chromatic number."]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx(s,{math:"M_2 = K_2"}),": ",e.jsx(s,{math:"\\chi = 2"}),","," ",e.jsx(s,{math:"\\omega = 2"})]}),e.jsxs("li",{children:[e.jsx(s,{math:"M_3 = C_5"}),": ",e.jsx(s,{math:"\\chi = 3"}),","," ",e.jsx(s,{math:"\\omega = 2"})]}),e.jsxs("li",{children:[e.jsx(s,{math:"M_4"})," (Grtzsch graph): ",e.jsx(s,{math:"\\chi = 4"}),","," ",e.jsx(s,{math:"\\omega = 2"})]})]}),e.jsx("p",{className:"mt-2",children:"So the chromatic number can be arbitrarily larger than the clique number."})]}),e.jsx("h2",{children:"Brooks' Theorem"}),e.jsxs("p",{children:["The greedy bound ",e.jsx(s,{math:"\\chi(G) \\leq \\Delta(G) + 1"})," is achieved by complete graphs and odd cycles. Brooks' Theorem says these are the only cases."]}),e.jsxs(q,{title:"Brooks' Theorem (Theorem 5.1.22)",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," is a connected graph that is neither a complete graph nor an odd cycle, then:"]}),e.jsx(W,{math:"\\chi(G) \\leq \\Delta(G)"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Case 1:"})," ",e.jsx(s,{math:"G"})," is not regular. There exists a vertex ",e.jsx(s,{math:"v"})," with"," ",e.jsx(s,{math:"d(v) < \\Delta(G)"}),". Order vertices starting from the most distant from ",e.jsx(s,{math:"v"})," and ending at"," ",e.jsx(s,{math:"v"}),". Greedy coloring uses at most"," ",e.jsx(s,{math:"\\Delta(G)"})," colors."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Case 2:"})," ",e.jsx(s,{math:"G"})," is"," ",e.jsx(s,{math:"\\Delta"}),"-regular. If"," ",e.jsx(s,{math:"\\kappa(G) < \\Delta"}),", use a special ordering. If"," ",e.jsx(s,{math:"\\kappa(G) = \\Delta"}),", find non-adjacent vertices"," ",e.jsx(s,{math:"u, v"})," with a common neighbor"," ",e.jsx(s,{math:"w"}),". Color ",e.jsx(s,{math:"u, v"})," the same color first, then extend greedily."]})]})]})]}),e.jsx(re,{title:"Brooks' Theorem in Action",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(s,{math:"K_5"}),": ",e.jsx(s,{math:"\\Delta = 4"}),","," ",e.jsx(s,{math:"\\chi = 5 = \\Delta + 1"})," (complete graph exception)"]}),e.jsxs("li",{children:[e.jsx(s,{math:"C_7"}),": ",e.jsx(s,{math:"\\Delta = 2"}),","," ",e.jsx(s,{math:"\\chi = 3 = \\Delta + 1"})," (odd cycle exception)"]}),e.jsxs("li",{children:["Petersen graph: ",e.jsx(s,{math:"\\Delta = 3"}),","," ",e.jsx(s,{math:"\\chi = 3 = \\Delta"})," (Brooks applies)"]}),e.jsxs("li",{children:[e.jsx(s,{math:"K_{4,4}"}),": ",e.jsx(s,{math:"\\Delta = 4"}),","," ",e.jsx(s,{math:"\\chi = 2 \\ll \\Delta"})," (bipartite)"]})]})}),e.jsx("h2",{children:"Lower Bounds"}),e.jsxs(q,{title:"Independence Number Bound",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," has ",e.jsx(s,{math:"n"})," vertices and independence number ",e.jsx(s,{math:"\\alpha(G)"}),", then:"]}),e.jsx(W,{math:"\\chi(G) \\geq \\frac{n}{\\alpha(G)}"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["Each color class is an independent set, so has at most"," ",e.jsx(s,{math:"\\alpha(G)"})," vertices. To cover all"," ",e.jsx(s,{math:"n"})," vertices, we need at least"," ",e.jsx(s,{math:"n/\\alpha(G)"})," colors."]})})]})]}),e.jsxs(q,{title:"Szekeres-Wilf Theorem",children:[e.jsxs("p",{children:[e.jsx(s,{math:"\\chi(G) \\leq 1 + \\max_{H \\subseteq G} \\delta(H)"}),", where the maximum is over all induced subgraphs ",e.jsx(s,{math:"H"})," of"," ",e.jsx(s,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["This equals 1 + degeneracy of ",e.jsx(s,{math:"G"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"k = \\max_{H \\subseteq G} \\delta(H)"}),". We show"," ",e.jsx(s,{math:"G"})," is ",e.jsx(s,{math:"(k+1)"}),"-colorable."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Algorithm:"})," Construct a vertex ordering"," ",e.jsx(s,{math:"v_n, v_{n-1}, \\ldots, v_1"})," as follows:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["Let ",e.jsx(s,{math:"v_n"})," be a vertex of minimum degree in"," ",e.jsx(s,{math:"G"})," (degree at most ",e.jsx(s,{math:"k"}),")"]}),e.jsxs("li",{children:["Let ",e.jsx(s,{math:"v_{n-1}"})," be a vertex of minimum degree in"," ",e.jsx(s,{math:"G - v_n"})," (degree at most ",e.jsx(s,{math:"k"}),", since"," ",e.jsx(s,{math:"G - v_n"})," is an induced subgraph)"]}),e.jsx("li",{children:"Continue until all vertices are ordered"})]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Key property:"})," When vertex ",e.jsx(s,{math:"v_i"})," is selected, it has degree at most ",e.jsx(s,{math:"k"})," in the remaining graph ",e.jsx(s,{math:"G[\\{'{'}v_1, \\ldots, v_i{'}'}]"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Greedy coloring:"})," Color vertices in order"," ",e.jsx(s,{math:"v_1, v_2, \\ldots, v_n"}),". When coloring"," ",e.jsx(s,{math:"v_i"}),", its neighbors among"," ",e.jsx(s,{math:"\\{'{'}v_1, \\ldots, v_{i-1}{'}'}"})," are exactly its neighbors in ",e.jsx(s,{math:"G[\\{'{'}v_1, \\ldots, v_i{'}'}]"}),", which number at most"," ",e.jsx(s,{math:"k"}),"."]}),e.jsxs("p",{className:"mt-2",children:["These neighbors use at most ",e.jsx(s,{math:"k"})," colors, so color"," ",e.jsx(s,{math:"k + 1"})," is always available. Thus"," ",e.jsx(s,{math:"\\chi(G) \\leq k + 1"}),"."]})]})]})]}),e.jsx("h2",{children:"Interval Graphs"}),e.jsx(B,{title:"Interval Graph",children:e.jsxs("p",{children:["An ",e.jsx("strong",{children:"interval graph"})," is the intersection graph of a set of intervals on the real line. Vertices correspond to intervals; two vertices are adjacent iff their intervals intersect."]})}),e.jsxs(q,{title:"Theorem 5.1.21 (Interval Graph Coloring)",children:[e.jsxs("p",{children:["For interval graphs: ",e.jsx(s,{math:"\\chi(G) = \\omega(G)"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Process intervals left-to-right by left endpoint. When interval"," ",e.jsx(s,{math:"I"})," starts, assign it the smallest color not used by currently active (overlapping) intervals."]}),e.jsxs("p",{className:"mt-2",children:["If we need color ",e.jsx(s,{math:"k + 1"}),", then ",e.jsx(s,{math:"k"})," ","intervals are active and overlap with ",e.jsx(s,{math:"I"}),". Together with ",e.jsx(s,{math:"I"}),", these form a clique of size"," ",e.jsx(s,{math:"k + 1"}),". So"," ",e.jsx(s,{math:"\\chi(G) \\leq \\omega(G)"}),", and we already know"," ",e.jsx(s,{math:"\\chi(G) \\geq \\omega(G)"}),"."]})]})]})]}),e.jsxs(re,{title:"Scheduling with Interval Graphs",children:[e.jsx("p",{children:"A conference has talks with start and end times. How many rooms are needed? Model as an interval graph: talks are intervals, adjacent if they overlap."}),e.jsx("p",{className:"mt-2",children:"The chromatic number = rooms needed = maximum number of simultaneous talks."})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Chromatic Number:"})," Minimum colors for proper vertex coloring."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bounds:"})," ",e.jsx(s,{math:"\\omega(G) \\leq \\chi(G) \\leq \\Delta(G) + 1"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Brooks' Theorem:"})," ",e.jsx(s,{math:"\\chi(G) \\leq \\Delta(G)"})," unless ",e.jsx(s,{math:"G"})," is complete or an odd cycle."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Greedy Coloring:"})," Simple algorithm, quality depends on vertex ordering."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Degeneracy:"}),' Measure of "sparseness"; bounds chromatic number.']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Gap:"})," ",e.jsx(s,{math:"\\chi"})," can be arbitrarily larger than ",e.jsx(s,{math:"\\omega"})," (Mycielski construction)."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Interval Graphs:"})," ",e.jsx(s,{math:"\\chi = \\omega"})," always; arise in scheduling."]})]})]})}function NG(){return e.jsxs(ze,{sectionId:15,children:[e.jsx("p",{children:"What structure forces a graph to need many colors? The presence of a large clique is an obvious reason, but graphs can have high chromatic number without large cliques. We study extremal questions: how many edges can a graph have without containing certain subgraphs? Turn's Theorem answers this for complete subgraphs, and color-critical graphs reveal the minimal structures requiring a given number of colors."}),e.jsx("h2",{children:"Turn's Theorem"}),e.jsxs(B,{title:"Turn Graph",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Turn graph"})," ",e.jsx(s,{math:"T_{n,r}"})," is the complete ",e.jsx(s,{math:"r"}),"-partite graph on ",e.jsx(s,{math:"n"})," vertices with part sizes as equal as possible (differing by at most 1)."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"n = qr + s"})," where ",e.jsx(s,{math:"0 \\leq s < r"}),", then ",e.jsx(s,{math:"T_{n,r}"})," has ",e.jsx(s,{math:"s"})," parts of size"," ",e.jsx(s,{math:"q + 1"})," and ",e.jsx(s,{math:"r - s"})," parts of size"," ",e.jsx(s,{math:"q"}),"."]})]}),e.jsx(re,{title:"Turn Graphs",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(s,{math:"T_{6,2}"}),": two parts of 3 vertices ="," ",e.jsx(s,{math:"K_{3,3}"})," (9 edges)"]}),e.jsxs("li",{children:[e.jsx(s,{math:"T_{6,3}"}),": three parts of 2 vertices ="," ",e.jsx(s,{math:"K_{2,2,2}"})," (12 edges)"]}),e.jsxs("li",{children:[e.jsx(s,{math:"T_{7,3}"}),": parts of sizes 3, 2, 2 (15 edges)"]}),e.jsxs("li",{children:[e.jsx(s,{math:"T_{n,n-1}"}),": ",e.jsx(s,{math:"K_n"})," minus a perfect matching (if ",e.jsx(s,{math:"n"})," even)"]})]})}),e.jsxs(q,{title:"Turn's Theorem (Theorem 5.2.3)",children:[e.jsxs("p",{children:["Among ",e.jsx(s,{math:"n"}),"-vertex graphs with no"," ",e.jsx(s,{math:"K_{r+1}"})," subgraph, the unique graph with maximum edges is the Turn graph ",e.jsx(s,{math:"T_{n,r}"}),"."]}),e.jsx("p",{className:"mt-2",children:"The number of edges is:"}),e.jsx(W,{math:"e(T_{n,r}) = \\left(1 - \\frac{1}{r}\\right) \\frac{n^2}{2} - O(n)"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Step 1:"})," Among ",e.jsx(s,{math:"K_{r+1}"}),"-free graphs, complete multipartite graphs maximize edges (moving edges between non-adjacent vertices only helps)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Step 2:"})," A ",e.jsx(s,{math:"K_{r+1}"}),"-free complete multipartite graph has at most ",e.jsx(s,{math:"r"})," parts."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Step 3:"})," Among ",e.jsx(s,{math:"r"}),"-partite graphs, equal part sizes maximize edges (by convexity of"," ",e.jsx(s,{math:"x^2"}),")."]})]})]})]}),e.jsxs(q,{title:"Turn Edge Count (Corollary 5.2.4)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["By Turn's Theorem, the ",e.jsx(s,{math:"K_{r+1}"}),"-free graph with maximum edges is ",e.jsx(s,{math:"T_{n,r}"}),". We compute ",e.jsx(s,{math:"e(T_{n,r})"}),"."]}),e.jsxs("p",{className:"mt-2",children:["If the ",e.jsx(s,{math:"r"})," parts have sizes ",e.jsx(s,{math:"n_1, \\ldots, n_r"})," with"," ",e.jsx(s,{math:"\\sum n_i = n"}),", then:"]}),e.jsx(W,{math:"e(T_{n,r}) = \\sum_{i < j} n_i n_j = \\frac{1}{2}\\left[\\left(\\sum n_i\\right)^2 - \\sum n_i^2\\right] = \\frac{n^2 - \\sum n_i^2}{2}"}),e.jsxs("p",{className:"mt-2",children:["This is maximized when ",e.jsx(s,{math:"\\sum n_i^2"})," is minimized, which by convexity occurs when all ",e.jsx(s,{math:"n_i"})," are as equal as possible. With parts of size"," ",e.jsx(s,{math:"\\lfloor n/r \\rfloor"})," or ",e.jsx(s,{math:"\\lceil n/r \\rceil"}),":"]}),e.jsx(W,{math:"\\sum n_i^2 \\geq r \\cdot \\left(\\frac{n}{r}\\right)^2 = \\frac{n^2}{r}"}),e.jsx("p",{className:"mt-2",children:"Therefore:"}),e.jsx(W,{math:"e(G) \\leq e(T_{n,r}) \\leq \\frac{n^2 - n^2/r}{2} = \\left(1 - \\frac{1}{r}\\right)\\frac{n^2}{2}"})]}),children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," is ",e.jsx(s,{math:"K_{r+1}"}),"-free with"," ",e.jsx(s,{math:"n"})," vertices:"]}),e.jsx(W,{math:"e(G) \\leq \\left(1 - \\frac{1}{r}\\right) \\frac{n^2}{2}"})]}),e.jsxs(re,{title:"No Triangles",children:[e.jsxs("p",{children:["How many edges can an ",e.jsx(s,{math:"n"}),"-vertex triangle-free graph have?"]}),e.jsxs("p",{className:"mt-2",children:["By Turn (",e.jsx(s,{math:"r = 2"}),"):"," ",e.jsx(s,{math:"e(G) \\leq n^2/4"}),". The maximum is achieved by"," ",e.jsx(s,{math:"K_{\\lfloor n/2 \\rfloor, \\lceil n/2 \\rceil}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(s,{math:"n = 10"}),": at most 25 edges, achieved by"," ",e.jsx(s,{math:"K_{5,5}"}),"."]})]}),e.jsx("h2",{children:"Forbidding Subgraphs"}),e.jsx(B,{title:"Extremal Number",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"extremal number"})," ",e.jsx(s,{math:"ex(n, H)"})," is the maximum number of edges in an ",e.jsx(s,{math:"n"}),"-vertex graph containing no copy of ",e.jsx(s,{math:"H"})," as a subgraph."]})}),e.jsx(q,{title:"Turn Restated",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"This is a direct restatement of Turn's Theorem using the extremal number notation."}),e.jsxs("p",{className:"mt-2",children:["By definition, ",e.jsx(s,{math:"ex(n, K_{r+1})"})," is the maximum number of edges in an ",e.jsx(s,{math:"n"}),"-vertex graph containing no ",e.jsx(s,{math:"K_{r+1}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Turn's Theorem states that among all ",e.jsx(s,{math:"n"}),"-vertex"," ",e.jsx(s,{math:"K_{r+1}"}),"-free graphs, the Turn graph ",e.jsx(s,{math:"T_{n,r}"})," ","uniquely achieves the maximum edge count. Therefore"," ",e.jsx(s,{math:"ex(n, K_{r+1}) = e(T_{n,r})"}),"."]})]}),children:e.jsx("p",{children:e.jsx(s,{math:"ex(n, K_{r+1}) = e(T_{n,r})"})})}),e.jsxs(q,{title:"Kvri-Ss-Turn (Theorem 5.2.7)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"G"})," be a ",e.jsx(s,{math:"K_{r,s}"}),"-free graph with"," ",e.jsx(s,{math:"n"})," vertices and ",e.jsx(s,{math:"m"})," edges. We count pairs"," ",e.jsx(s,{math:"(S, v)"})," where ",e.jsx(s,{math:"S"})," is an ",e.jsx(s,{math:"r"}),"-subset of vertices and ",e.jsx(s,{math:"v"})," is a common neighbor of all vertices in"," ",e.jsx(s,{math:"S"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Upper bound:"})," Since ",e.jsx(s,{math:"G"})," is"," ",e.jsx(s,{math:"K_{r,s}"}),"-free, each ",e.jsx(s,{math:"r"}),"-set"," ",e.jsx(s,{math:"S"})," has fewer than ",e.jsx(s,{math:"s"})," common neighbors. Thus the count is at most ",e.jsx(s,{math:"(s-1)\\binom{'{'}n{'}'}{'{'}r{'}'}"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Lower bound:"})," Each vertex ",e.jsx(s,{math:"v"})," of degree"," ",e.jsx(s,{math:"d(v)"})," contributes ",e.jsx(s,{math:"\\binom{'{'}d(v){'}'}{'{'}r{'}'}"})," ","pairs (choosing ",e.jsx(s,{math:"r"})," neighbors of ",e.jsx(s,{math:"v"}),"). The total is"," ",e.jsx(s,{math:"\\sum_v \\binom{'{'}d(v){'}'}{'{'}r{'}'}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["By convexity of ",e.jsx(s,{math:"\\binom{'{'}x{'}'}{'{'}r{'}'}"}),", this sum is minimized when all degrees equal ",e.jsx(s,{math:"2m/n"}),":"]}),e.jsx(W,{math:"\\sum_v \\binom{d(v)}{r} \\geq n \\binom{2m/n}{r}"}),e.jsxs("p",{className:"mt-2",children:["Combining: ",e.jsx(s,{math:"n\\binom{'{'}2m/n{'}'}{'{'}r{'}'} \\leq (s-1)\\binom{'{'}n{'}'}{'{'}r{'}'}"}),". Solving for ",e.jsx(s,{math:"m"})," yields the bound."]})]}),children:[e.jsxs("p",{children:["For ",e.jsx(s,{math:"r \\leq s"}),":"]}),e.jsx(W,{math:"ex(n, K_{r,s}) \\leq \\frac{1}{2}(s-1)^{1/r} n^{2-1/r} + \\frac{r-1}{2}n"}),e.jsxs("p",{className:"mt-2",children:["In particular, ",e.jsx(s,{math:"ex(n, K_{r,s}) = O(n^{2-1/r})"}),"."]})]}),e.jsxs(re,{title:"No K,",children:[e.jsxs("p",{children:[e.jsx(s,{math:"K_{2,2} = C_4"}),". By Kvri-Ss-Turn:"," ",e.jsx(s,{math:"ex(n, C_4) = O(n^{3/2})"}),"."]}),e.jsxs("p",{className:"mt-2",children:["More precisely,"," ",e.jsx(s,{math:"ex(n, C_4) \\leq \\frac{1}{2}(1 + \\sqrt{4n-3})"}),"."]}),e.jsx("p",{className:"mt-2",children:"Projective plane constructions show this is tight up to lower-order terms."})]}),e.jsx("h2",{children:"Color-Critical Graphs"}),e.jsxs(B,{title:"Color-Critical Graph",children:[e.jsxs("p",{children:["A graph ",e.jsx(s,{math:"G"})," is ",e.jsxs("strong",{children:[e.jsx(s,{math:"k"}),"-critical"]})," ","(or ",e.jsxs("strong",{children:[e.jsx(s,{math:"k"}),"-color-critical"]}),") if ",e.jsx(s,{math:"\\chi(G) = k"})," but"," ",e.jsx(s,{math:"\\chi(G - v) < k"})," for every vertex"," ",e.jsx(s,{math:"v"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Equivalently, ",e.jsx(s,{math:"G"})," is ",e.jsx(s,{math:"k"}),"-critical if"," ",e.jsx(s,{math:"\\chi(G) = k"})," and deleting any vertex decreases the chromatic number."]})]}),e.jsx(re,{title:"Critical Graphs",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(s,{math:"K_n"})," is ",e.jsx(s,{math:"n"}),"-critical"]}),e.jsxs("li",{children:["Odd cycles ",e.jsx(s,{math:"C_{2k+1}"})," are 3-critical"]}),e.jsx("li",{children:"The Grtzsch graph (11 vertices, 20 edges) is 4-critical and triangle-free"}),e.jsxs("li",{children:["The only 2-critical graph is ",e.jsx(s,{math:"K_2"})]})]})}),e.jsx(q,{title:"Properties of Critical Graphs",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsxs("strong",{children:["(1) Every ",e.jsx(s,{math:"k"}),"-chromatic graph contains a"," ",e.jsx(s,{math:"k"}),"-critical subgraph:"]})}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{math:"G"})," have ",e.jsx(s,{math:"\\chi(G) = k"}),". If"," ",e.jsx(s,{math:"G"})," is not ",e.jsx(s,{math:"k"}),"-critical, there exists a vertex"," ",e.jsx(s,{math:"v"})," with ",e.jsx(s,{math:"\\chi(G - v) = k"}),". Repeat on"," ",e.jsx(s,{math:"G - v"}),". Since chromatic number cannot decrease below"," ",e.jsx(s,{math:"k"})," (removing vertices cannot increase ",e.jsx(s,{math:"\\chi"}),"), the process terminates with a ",e.jsx(s,{math:"k"}),"-critical subgraph."]}),e.jsx("p",{className:"mt-4",children:e.jsxs("strong",{children:["(2) A ",e.jsx(s,{math:"k"}),"-critical graph is"," ",e.jsx(s,{math:"(k-1)"}),"-edge-connected:"]})}),e.jsxs("p",{className:"mt-2",children:["Suppose ",e.jsx(s,{math:"G"})," is ",e.jsx(s,{math:"k"}),"-critical and has an edge cut"," ",e.jsx(s,{math:"F"})," with ",e.jsx(s,{math:"|F| \\leq k-2"}),". Let"," ",e.jsx(s,{math:"G_1, G_2"})," be the components of ",e.jsx(s,{math:"G - F"}),". Each"," ",e.jsx(s,{math:"G_i"})," (with cut edges reattached) has"," ",e.jsx(s,{math:"\\chi < k"}),", so has a ",e.jsx(s,{math:"(k-1)"}),"-coloring. With"," ",e.jsx(s,{math:"|F| \\leq k-2"})," edges between them, we can permute colors in one part to avoid conflicts across ",e.jsx(s,{math:"F"}),", giving a"," ",e.jsx(s,{math:"(k-1)"}),"-coloring of ",e.jsx(s,{math:"G"}),"contradiction."]}),e.jsx("p",{className:"mt-4",children:e.jsxs("strong",{children:["(3) Every vertex has degree at least"," ",e.jsx(s,{math:"k-1"}),":"]})}),e.jsx("p",{className:"mt-2",children:"This is proved separately as Theorem 5.2.12 below."})]}),children:e.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["Every ",e.jsx(s,{math:"k"}),"-chromatic graph contains a"," ",e.jsx(s,{math:"k"}),"-critical subgraph."]}),e.jsxs("li",{children:["A ",e.jsx(s,{math:"k"}),"-critical graph is"," ",e.jsx(s,{math:"(k-1)"}),"-edge-connected."]}),e.jsxs("li",{children:["Every vertex of a ",e.jsx(s,{math:"k"}),"-critical graph has degree at least ",e.jsx(s,{math:"k - 1"}),"."]})]})}),e.jsxs(q,{title:"Theorem 5.2.12 (Critical Graph Minimum Degree)",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," is ",e.jsx(s,{math:"k"}),"-critical, then"," ",e.jsx(s,{math:"\\delta(G) \\geq k - 1"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"v"})," be a vertex of minimum degree. Since"," ",e.jsx(s,{math:"G"})," is ",e.jsx(s,{math:"k"}),"-critical,"," ",e.jsx(s,{math:"G - v"})," has a ",e.jsx(s,{math:"(k-1)"}),"-coloring."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"d(v) \\leq k - 2"}),", then ",e.jsx(s,{math:"v"})," has at most ",e.jsx(s,{math:"k - 2"})," neighbors, so some color from"," ",e.jsx(s,{math:"\\{1, \\ldots, k-1\\}"})," is not used by neighbors of"," ",e.jsx(s,{math:"v"}),". We could extend to a"," ",e.jsx(s,{math:"(k-1)"}),"-coloring of ",e.jsx(s,{math:"G"}),", contradiction."]})]})]})]}),e.jsxs(q,{title:"Dirac's Theorem on Critical Graphs (Theorem 5.2.14)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["From Theorem 5.2.12, every vertex has degree at least ",e.jsx(s,{math:"k-1"}),". Thus ",e.jsx(s,{math:"\\sum_v d(v) \\geq (k-1)n"}),", giving"," ",e.jsx(s,{math:"e(G) \\geq (k-1)n/2"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For the stronger bound, we use that ",e.jsx(s,{math:"G"})," is"," ",e.jsx(s,{math:"(k-1)"}),"-edge-connected. By a result on edge-connectivity (Theorem 4.1.11), if ",e.jsx(s,{math:"G"})," is ",e.jsx(s,{math:"(k-1)"}),"-edge-connected with ",e.jsx(s,{math:"n"})," vertices:"]}),e.jsx(W,{math:"e(G) \\geq \\frac{(k-1)n}{2}"}),e.jsxs("p",{className:"mt-2",children:["Dirac's refinement shows that for ",e.jsx(s,{math:"k"}),"-critical graphs with"," ",e.jsx(s,{math:"k \\geq 4"}),", we can improve this to account for the structure of low-degree vertices. A ",e.jsx(s,{math:"k"}),"-critical graph cannot have too many vertices of degree exactly ",e.jsx(s,{math:"k-1"}),", and careful counting using the coloring constraints yields the improved bound:"]}),e.jsx(W,{math:"e(G) \\geq \\frac{(k-1)n - k + 3}{2}"})]}),children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," is ",e.jsx(s,{math:"k"}),"-critical with"," ",e.jsx(s,{math:"n"})," vertices, then:"]}),e.jsx(W,{math:"e(G) \\geq \\frac{(k-1)n - k + 3}{2}"}),e.jsxs("p",{className:"mt-2",children:["for ",e.jsx(s,{math:"k \\geq 4"}),"."]})]}),e.jsx("h2",{children:"Forcing Subdivisions"}),e.jsx(B,{title:"Subdivision",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"subdivision"})," of graph ",e.jsx(s,{math:"H"})," (or"," ",e.jsx(s,{math:"TH"}),', "topological ',e.jsx(s,{math:"H"}),'") is obtained by replacing edges with internally disjoint paths.']})}),e.jsx(q,{title:"Theorem 5.2.17 (Mader)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["We prove by induction on ",e.jsx(s,{math:"n"}),". For ",e.jsx(s,{math:"n \\leq 4"}),", a graph with at least ",e.jsx(s,{math:"2n - 3"})," edges is complete or nearly complete, and ",e.jsx(s,{math:"K_4"})," itself is a subdivision of ",e.jsx(s,{math:"K_4"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(s,{math:"n \\geq 5"}),", suppose ",e.jsx(s,{math:"G"})," has"," ",e.jsx(s,{math:"e(G) \\geq 2n - 3"})," edges but no ",e.jsx(s,{math:"TK_4"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Case 1:"})," ",e.jsx(s,{math:"G"})," has a vertex ",e.jsx(s,{math:"v"})," of degree at most 2. Then ",e.jsx(s,{math:"G - v"})," has at least"," ",e.jsx(s,{math:"(2n-3) - 2 = 2(n-1) - 3"})," edges. By induction,"," ",e.jsx(s,{math:"G - v"})," contains ",e.jsx(s,{math:"TK_4"}),", contradiction."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Case 2:"})," ",e.jsx(s,{math:"\\delta(G) \\geq 3"}),". Then"," ",e.jsx(s,{math:"G"})," has average degree at least 3. Such graphs are known to contain a ",e.jsx(s,{math:"TK_4"})," by Dirac's theorem on graphs with minimum degree 3: if ",e.jsx(s,{math:"\\delta(G) \\geq 3"}),", then ",e.jsx(s,{math:"G"})," ","contains a subdivision of ",e.jsx(s,{math:"K_4"})," (proved by examining neighborhoods and paths)."]})]}),children:e.jsxs("p",{children:["Every graph ",e.jsx(s,{math:"G"})," with"," ",e.jsx(s,{math:"e(G) \\geq 2n - 3"})," (where"," ",e.jsx(s,{math:"n = |V(G)|"}),") contains a subdivision of"," ",e.jsx(s,{math:"K_4"}),"."]})}),e.jsxs(q,{title:"High Average Degree Forces Subdivision (Theorem 5.2.18)",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsxs("strong",{children:["Mader's proof outline for ",e.jsx(s,{math:"c_k = 2^{'{'}k-2{'}'}"}),":"]})}),e.jsxs("p",{className:"mt-2",children:["Proceed by induction on ",e.jsx(s,{math:"k"}),". For ",e.jsx(s,{math:"k = 4"}),", Theorem 5.2.17 shows average degree 4 suffices (since"," ",e.jsx(s,{math:"e(G) \\geq 2n"})," implies average degree  4)."]}),e.jsxs("p",{className:"mt-2",children:["For the inductive step, given average degree at least ",e.jsx(s,{math:"2^{'{'}k-2{'}'}"}),", find a subgraph ",e.jsx(s,{math:"H"})," with minimum degree at least"," ",e.jsx(s,{math:"2^{'{'}k-3{'}'}"}),". By induction, ",e.jsx(s,{math:"H"})," contains"," ",e.jsx(s,{math:"TK_{'{'}k-1{'}'}"}),". The high minimum degree provides enough paths to extend this to ",e.jsx(s,{math:"TK_k"})," by finding a vertex with paths to all"," ",e.jsx(s,{math:"k-1"})," branch vertices."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Bollobs-Thomason improvement:"})," A probabilistic argument shows that graphs with average degree ",e.jsx(s,{math:"\\Omega(k^2)"})," contain"," ",e.jsx(s,{math:"K_k"})," topological minors. The key insight is that high average degree forces the existence of a highly connected subgraph, and Menger's theorem then provides the required disjoint paths."]})]}),children:[e.jsxs("p",{children:["For each ",e.jsx(s,{math:"k"}),", there exists a constant"," ",e.jsx(s,{math:"c_k"})," such that every graph with average degree at least"," ",e.jsx(s,{math:"c_k"})," contains a subdivision of"," ",e.jsx(s,{math:"K_k"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Mader proved ",e.jsx(s,{math:"c_k = 2^{k-2}"})," suffices. Bollobs and Thomason improved this to ",e.jsx(s,{math:"c_k = O(k^2)"}),"."]})]}),e.jsxs(q,{title:"Hajs Construction (Theorem 5.2.19)",children:[e.jsxs("p",{children:["Every ",e.jsx(s,{math:"k"}),"-chromatic graph contains a subdivision of"," ",e.jsx(s,{math:"K_k"}),"."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["This was conjectured by Hajs and proved to be false for large"," ",e.jsx(s,{math:"k"})," by Catlin (1979)."]})]}),e.jsx("h2",{children:"Minor-Based Characterizations"}),e.jsx(B,{title:"Minor",children:e.jsxs("p",{children:["Graph ",e.jsx(s,{math:"H"})," is a ",e.jsx("strong",{children:"minor"})," of"," ",e.jsx(s,{math:"G"})," (written ",e.jsx(s,{math:"H \\preceq G"}),") if"," ",e.jsx(s,{math:"H"})," can be obtained from ",e.jsx(s,{math:"G"})," by deleting vertices, deleting edges, and contracting edges."]})}),e.jsxs(q,{title:"Hadwiger's Conjecture",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"\\chi(G) \\geq k"}),", then ",e.jsx(s,{math:"G"})," has"," ",e.jsx(s,{math:"K_k"})," as a minor."]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx(s,{math:"k = 1, 2, 3"}),": Easy"]}),e.jsxs("li",{children:[e.jsx(s,{math:"k = 4"}),": Equivalent to planarity characterization"]}),e.jsxs("li",{children:[e.jsx(s,{math:"k = 5, 6"}),": Equivalent to the Four Color Theorem"]}),e.jsxs("li",{children:[e.jsx(s,{math:"k \\geq 7"}),": Open (major unsolved problem)"]})]})]}),e.jsx("h2",{children:"Chromatic Number vs. Density"}),e.jsx(B,{title:"Density",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"density"})," of graph ",e.jsx(s,{math:"G"})," is"," ",e.jsx(s,{math:"\\frac{e(G)}{\\binom{n}{2}}"}),", the fraction of possible edges present."]})}),e.jsxs(q,{title:"Dense Graphs Have Large Chromatic Number",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," has density greater than"," ",e.jsx(s,{math:"1 - \\frac{1}{r}"}),", then"," ",e.jsx(s,{math:"\\chi(G) > r"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["By Turn, a graph with density greater than"," ",e.jsx(s,{math:"1 - 1/r"})," must contain"," ",e.jsx(s,{math:"K_{r+1}"}),", so"," ",e.jsx(s,{math:"\\chi(G) \\geq r + 1"}),"."]})})]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Turn's Theorem:"})," Maximum"," ",e.jsx(s,{math:"K_{r+1}"}),"-free graph is the balanced complete"," ",e.jsx(s,{math:"r"}),"-partite graph."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Extremal Number:"})," ",e.jsx(s,{math:"ex(n, H)"})," = max edges avoiding ",e.jsx(s,{math:"H"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Color-Critical:"})," Graphs where every proper subgraph has smaller chromatic number."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Critical Properties:"})," ",e.jsx(s,{math:"\\delta(G) \\geq k - 1"})," and"," ",e.jsx(s,{math:"(k-1)"}),"-edge-connected."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"High Chromatic  Dense:"})," Large chromatic number forces many edges or specific structures."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Hadwiger's Conjecture:"})," Major open problem linking chromatic number to ",e.jsx(s,{math:"K_k"})," minors."]})]})]})}function TG(){return e.jsxs(ze,{sectionId:16,children:[e.jsxs("p",{children:["How many ways can we properly color a graph with ",e.jsx(s,{math:"k"})," colors? The answer is given by the chromatic polynomial, a powerful tool that encodes coloring information. We also study special graph classeschordal graphs and perfect graphswhere chromatic number equals clique number, providing a beautiful connection between local structure and global coloring properties."]}),e.jsx("h2",{children:"Chromatic Polynomials"}),e.jsxs(B,{title:"Chromatic Polynomial",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"chromatic polynomial"})," ",e.jsx(s,{math:"P(G, k)"})," (or ",e.jsx(s,{math:"\\chi(G, k)"}),") counts the number of proper ",e.jsx(s,{math:"k"}),"-colorings of graph"," ",e.jsx(s,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Remarkably, ",e.jsx(s,{math:"P(G, k)"})," is always a polynomial in"," ",e.jsx(s,{math:"k"}),"."]})]}),e.jsx(re,{title:"Basic Chromatic Polynomials",children:e.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[e.jsxs("li",{children:[e.jsxs("strong",{children:["Empty graph ",e.jsx(s,{math:"E_n"}),":"]})," ",e.jsx(s,{math:"P(E_n, k) = k^n"})," (each vertex can be any color)"]}),e.jsxs("li",{children:[e.jsxs("strong",{children:["Complete graph ",e.jsx(s,{math:"K_n"}),":"]})," ",e.jsx(s,{math:"P(K_n, k) = k(k-1)(k-2)\\cdots(k-n+1) = k^{\\underline{n}}"})]}),e.jsxs("li",{children:[e.jsxs("strong",{children:["Tree ",e.jsx(s,{math:"T_n"}),":"]})," ",e.jsx(s,{math:"P(T_n, k) = k(k-1)^{n-1}"})," (root has"," ",e.jsx(s,{math:"k"})," choices, each other vertex has"," ",e.jsx(s,{math:"k - 1"}),")"]}),e.jsxs("li",{children:[e.jsxs("strong",{children:["Cycle ",e.jsx(s,{math:"C_n"}),":"]})," ",e.jsx(s,{math:"P(C_n, k) = (k-1)^n + (-1)^n(k-1)"})]})]})}),e.jsxs(q,{title:"Deletion-Contraction (Theorem 5.3.1)",children:[e.jsxs("p",{children:["For any edge ",e.jsx(s,{math:"e = uv"})," of graph ",e.jsx(s,{math:"G"}),":"]}),e.jsx(W,{math:"P(G, k) = P(G - e, k) - P(G / e, k)"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(s,{math:"G - e"})," is edge deletion and"," ",e.jsx(s,{math:"G / e"})," is edge contraction."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx(s,{math:"P(G - e, k)"})," counts colorings where"," ",e.jsx(s,{math:"u, v"})," may have the same or different colors."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx(s,{math:"P(G / e, k)"})," counts colorings of"," ",e.jsx(s,{math:"G - e"})," where ",e.jsx(s,{math:"u, v"})," have the same color (they become one vertex after contraction)."]}),e.jsxs("p",{className:"mt-2",children:["Subtracting gives colorings of ",e.jsx(s,{math:"G - e"})," where"," ",e.jsx(s,{math:"u, v"})," have different colors = proper colorings of"," ",e.jsx(s,{math:"G"}),"."]})]})]})]}),e.jsxs(re,{title:"Computing P(C, k)",children:[e.jsx("p",{children:"Label vertices 1, 2, 3, 4 in order around the cycle."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Method 1:"})," Apply deletion-contraction on edge 1-4:"]}),e.jsx(W,{math:"P(C_4, k) = P(P_4, k) - P(C_3, k)"}),e.jsx("p",{children:e.jsx(s,{math:"= k(k-1)^3 - k(k-1)(k-2)"})}),e.jsx("p",{children:e.jsx(s,{math:"= k(k-1)[(k-1)^2 - (k-2)]"})}),e.jsx("p",{children:e.jsx(s,{math:"= k(k-1)(k^2 - 3k + 3)"})}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(s,{math:"k = 3"}),": ",e.jsx(s,{math:"P(C_4, 3) = 18"})," ","proper 3-colorings."]})]}),e.jsxs(q,{title:"Properties of Chromatic Polynomials (Theorem 5.3.5)",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsxs("strong",{children:["(1) Monic polynomial of degree ",e.jsx(s,{math:"n"}),":"]})}),e.jsxs("p",{className:"mt-2",children:["By induction using deletion-contraction. For ",e.jsx(s,{math:"E_n"})," (no edges),"," ",e.jsx(s,{math:"P(E_n, k) = k^n"}),". Each deletion-contraction step preserves that the leading term is ",e.jsx(s,{math:"k^n"})," (deletion keeps degree, contraction reduces it)."]}),e.jsx("p",{className:"mt-4",children:e.jsxs("strong",{children:["(2) Coefficient of ",e.jsx(s,{math:"k^{'{'}n-1{'}'}"})," is"," ",e.jsx(s,{math:"-m"}),":"]})}),e.jsxs("p",{className:"mt-2",children:["Again by induction. For ",e.jsx(s,{math:"E_n"}),", the coefficient of"," ",e.jsx(s,{math:"k^{'{'}n-1{'}'}"})," is 0 = ",e.jsx(s,{math:"-0"}),". For deletion-contraction on edge ",e.jsx(s,{math:"e"}),": ",e.jsx(s,{math:"P(G) = P(G-e) - P(G/e)"}),". The ",e.jsx(s,{math:"k^{'{'}n-1{'}'}"})," coefficient in ",e.jsx(s,{math:"P(G-e)"})," is"," ",e.jsx(s,{math:"-(m-1)"}),"; in ",e.jsx(s,{math:"P(G/e)"})," the leading term is"," ",e.jsx(s,{math:"k^{'{'}n-1{'}'}"}),". Thus coefficient is ",e.jsx(s,{math:"-(m-1) - 1 = -m"}),"."]}),e.jsx("p",{className:"mt-4",children:e.jsx("strong",{children:"(3) Alternating signs:"})}),e.jsxs("p",{className:"mt-2",children:["Follows from the deletion-contraction formula and induction. Both"," ",e.jsx(s,{math:"P(G-e)"})," and ",e.jsx(s,{math:"P(G/e)"})," have alternating signs by induction, and subtracting preserves this pattern."]}),e.jsx("p",{className:"mt-4",children:e.jsx("strong",{children:"(4) Constant term is 0:"})}),e.jsxs("p",{className:"mt-2",children:[e.jsx(s,{math:"P(G, 0) = 0"})," because there is no way to properly color any graph with 0 colors (when ",e.jsx(s,{math:"n \\geq 1"}),")."]}),e.jsx("p",{className:"mt-4",children:e.jsxs("strong",{children:["(5) ",e.jsx(s,{math:"\\chi(G)"})," is smallest"," ",e.jsx(s,{math:"k"})," with ",e.jsx(s,{math:"P(G,k) > 0"}),":"]})}),e.jsxs("p",{className:"mt-2",children:["By definition, ",e.jsx(s,{math:"\\chi(G)"})," is the smallest ",e.jsx(s,{math:"k"})," admitting a proper ",e.jsx(s,{math:"k"}),"-coloring. Thus ",e.jsx(s,{math:"P(G, k) = 0"})," for"," ",e.jsx(s,{math:"k < \\chi(G)"})," and ",e.jsx(s,{math:"P(G, \\chi(G)) \\geq 1 > 0"}),"."]})]}),children:[e.jsxs("p",{children:["For a connected graph ",e.jsx(s,{math:"G"})," with ",e.jsx(s,{math:"n"})," ","vertices and ",e.jsx(s,{math:"m"})," edges:"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(s,{math:"P(G, k)"})," is a monic polynomial of degree"," ",e.jsx(s,{math:"n"}),"."]}),e.jsxs("li",{children:["The coefficient of ",e.jsx(s,{math:"k^{n-1}"})," is"," ",e.jsx(s,{math:"-m"}),"."]}),e.jsx("li",{children:"All coefficients are integers with alternating signs."}),e.jsx("li",{children:"The constant term is 0 (no proper 0-colorings)."}),e.jsxs("li",{children:[e.jsx(s,{math:"\\chi(G)"})," is the smallest positive integer"," ",e.jsx(s,{math:"k"})," with ",e.jsx(s,{math:"P(G, k) > 0"}),"."]})]})]}),e.jsx("h2",{children:"Chordal Graphs"}),e.jsx(B,{title:"Chordal Graph",children:e.jsxs("p",{children:["A graph is ",e.jsx("strong",{children:"chordal"})," (or ",e.jsx("strong",{children:"triangulated"}),") if every cycle of length at least 4 has a ",e.jsx("strong",{children:"chord"}),": an edge joining two non-consecutive vertices on the cycle."]})}),e.jsxs(re,{title:"Chordal and Non-Chordal Graphs",children:[e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Chordal:"})," Trees, complete graphs, interval graphs, split graphs"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Not chordal:"})," ",e.jsx(s,{math:"C_n"})," for"," ",e.jsx(s,{math:"n \\geq 4"}),", grid graphs, Petersen graph"]})]}),e.jsxs("p",{className:"mt-2",children:["The cycle ",e.jsx(s,{math:"C_4"})," is the smallest non-chordal graph."]})]}),e.jsx(B,{title:"Simplicial Vertex",children:e.jsxs("p",{children:["A vertex ",e.jsx(s,{math:"v"})," is ",e.jsx("strong",{children:"simplicial"})," if its neighborhood ",e.jsx(s,{math:"N(v)"})," induces a clique."]})}),e.jsx(B,{title:"Perfect Elimination Order",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"perfect elimination order"})," (PEO) is an ordering"," ",e.jsx(s,{math:"v_1, v_2, \\ldots, v_n"})," such that for each"," ",e.jsx(s,{math:"i"}),", vertex ",e.jsx(s,{math:"v_i"})," is simplicial in the induced subgraph ",e.jsx(s,{math:"G[\\{v_i, v_{i+1}, \\ldots, v_n\\}]"}),"."]})}),e.jsxs(q,{title:"Chordal Characterization (Theorem 5.3.15)",children:[e.jsxs("p",{children:["A graph ",e.jsx(s,{math:"G"})," is chordal if and only if"," ",e.jsx(s,{math:"G"})," has a perfect elimination order."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"()"})," Every chordal graph has a simplicial vertex. Remove it and repeat inductively."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"()"})," If there's a chordless cycle, follow it through the ordering to find a contradiction with the PEO property."]})]})]})]}),e.jsxs(q,{title:"Theorem 5.3.16 (Greedy Coloring of Chordal Graphs)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"v_1, v_2, \\ldots, v_n"})," be a PEO of ",e.jsx(s,{math:"G"}),". We color in reverse order: ",e.jsx(s,{math:"v_n, v_{'{'}n-1{'}'}, \\ldots, v_1"}),"."]}),e.jsxs("p",{className:"mt-2",children:["When we color ",e.jsx(s,{math:"v_i"}),", its neighbors among"," ",e.jsx(s,{math:"\\{'{'}v_{'{'}i+1{'}'}, \\ldots, v_n{'}'}\\}"})," have already been colored. By the PEO property, these neighbors form a clique (since ",e.jsx(s,{math:"v_i"})," is simplicial in ",e.jsx(s,{math:"G[\\{'{'}v_i, \\ldots, v_n{'}'}\\}]"}),")."]}),e.jsxs("p",{className:"mt-2",children:["A clique of size ",e.jsx(s,{math:"d"})," uses exactly ",e.jsx(s,{math:"d"})," colors. So ",e.jsx(s,{math:"v_i"})," needs a color different from at most"," ",e.jsx(s,{math:"d_i"})," colors, where ",e.jsx(s,{math:"d_i"})," is the number of neighbors of ",e.jsx(s,{math:"v_i"})," in ",e.jsx(s,{math:"\\{'{'}v_{'{'}i+1{'}'}, \\ldots, v_n{'}'}\\}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The greedy algorithm uses at most ",e.jsx(s,{math:"\\max_i (d_i + 1)"})," colors. But ",e.jsx(s,{math:"d_i + 1"})," equals the clique size of"," ",e.jsx(s,{math:"v_i \\cup N(v_i) \\cap \\{'{'}v_{'{'}i+1{'}'}, \\ldots, v_n{'}'}\\}"}),". The maximum such clique size is ",e.jsx(s,{math:"\\omega(G)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{math:"\\chi(G) \\geq \\omega(G)"})," always, we have"," ",e.jsx(s,{math:"\\chi(G) = \\omega(G)"}),"."]})]}),children:[e.jsxs("p",{children:["For a chordal graph ",e.jsx(s,{math:"G"}),", greedy coloring using the reverse of any PEO is optimal:"]}),e.jsx(W,{math:"\\chi(G) = \\omega(G)"})]}),e.jsxs(re,{title:"Coloring a Chordal Graph",children:[e.jsxs("p",{children:["Consider a graph with vertices"," ",e.jsx(s,{math:"\\{a, b, c, d\\}"})," and edges forming a triangle"," ",e.jsx(s,{math:"abc"})," plus edge ",e.jsx(s,{math:"cd"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"PEO:"})," ",e.jsx(s,{math:"d, a, b, c"})," (each simplicial when removed)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Reverse order:"})," ",e.jsx(s,{math:"c, b, a, d"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Greedy coloring: ",e.jsx(s,{math:"c \\to 1"}),","," ",e.jsx(s,{math:"b \\to 2"}),", ",e.jsx(s,{math:"a \\to 3"}),","," ",e.jsx(s,{math:"d \\to 2"}),". Uses 3 colors = clique number (the triangle)."]})]}),e.jsx("h2",{children:"Perfect Graphs"}),e.jsxs(B,{title:"Perfect Graph",children:[e.jsxs("p",{children:["A graph ",e.jsx(s,{math:"G"})," is ",e.jsx("strong",{children:"perfect"})," if for every induced subgraph ",e.jsx(s,{math:"H"})," of ",e.jsx(s,{math:"G"}),":"]}),e.jsx(W,{math:"\\chi(H) = \\omega(H)"}),e.jsx("p",{className:"mt-2",children:"That is, the chromatic number equals the clique number for every induced subgraph."})]}),e.jsx(re,{title:"Perfect and Imperfect Graphs",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Perfect:"})," Bipartite graphs, chordal graphs, interval graphs, comparability graphs, co-comparability graphs"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Not perfect:"})," ",e.jsx(s,{math:"C_5"})," (has"," ",e.jsx(s,{math:"\\omega = 2"})," but ",e.jsx(s,{math:"\\chi = 3"}),")"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Not perfect:"})," ",e.jsx(s,{math:"C_7"})," (has"," ",e.jsx(s,{math:"\\omega = 2"})," but ",e.jsx(s,{math:"\\chi = 3"}),")"]})]})}),e.jsx(q,{title:"Perfect Graph Theorem (Lovsz, 1972)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Key observation:"})," Perfect graphs can be characterized using the",e.jsx("em",{children:" Lovsz theta function"})," ",e.jsx(s,{math:"\\vartheta(G)"}),", which satisfies:"]}),e.jsx(W,{math:"\\omega(G) \\leq \\vartheta(\\overline{G}) \\leq \\chi(G)"}),e.jsxs("p",{className:"mt-2",children:["For perfect graphs, ",e.jsx(s,{math:"\\omega(G) = \\chi(G)"}),", so"," ",e.jsx(s,{math:"\\vartheta(\\overline{G}) = \\omega(G) = \\chi(G)"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Main argument:"})," Lovsz proved that for any graph ",e.jsx(s,{math:"G"}),":"]}),e.jsx(W,{math:"\\vartheta(G) \\cdot \\vartheta(\\overline{G}) = n"}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"G"})," is perfect, then for any induced subgraph"," ",e.jsx(s,{math:"H"}),": ",e.jsx(s,{math:"\\chi(H) = \\omega(H)"}),", which implies"," ",e.jsx(s,{math:"\\vartheta(\\overline{H}) = \\omega(H)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Using the multiplicative property and Lovsz's Sandwich Theorem, this forces"," ",e.jsx(s,{math:"\\chi(\\overline{H}) = \\omega(\\overline{H})"})," for all induced"," ",e.jsx(s,{math:"H"}),", proving ",e.jsx(s,{math:"\\overline{G}"})," is perfect."]})]}),children:e.jsxs("p",{children:["A graph ",e.jsx(s,{math:"G"})," is perfect if and only if its complement"," ",e.jsx(s,{math:"\\overline{G}"})," is perfect."]})}),e.jsxs(q,{title:"Strong Perfect Graph Theorem (Chudnovsky et al., 2006)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Necessity:"})," Odd holes ",e.jsx(s,{math:"C_{'{'}2k+1{'}'}"})," with"," ",e.jsx(s,{math:"k \\geq 2"})," satisfy ",e.jsx(s,{math:"\\omega = 2"})," but"," ",e.jsx(s,{math:"\\chi = 3"}),", so they are imperfect. Similarly, odd antiholes"," ",e.jsx(s,{math:"\\overline{C_{'{'}2k+1{'}'}}"})," are imperfect. Any graph containing these as induced subgraphs is therefore not perfect."]}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Sufficiency (outline of the 150+ page proof):"})}),e.jsx("p",{className:"mt-2",children:'The proof proceeds by showing that a minimal imperfect graph (a "Berge graph" with no odd holes or antiholes, but not perfect) cannot exist. The argument uses the structure theory of Berge graphs:'}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsx("li",{children:'A Berge graph is either a "basic" graph (bipartite, complement of bipartite, line graph of bipartite, complement thereof, or double split graph), or'}),e.jsx("li",{children:"It admits one of several decompositions (2-join, M-join, balanced skew partition, or homogeneous pair)."})]}),e.jsx("p",{className:"mt-2",children:"Basic graphs are easily shown to be perfect. For graphs admitting decompositions, induction on the pieces preserves perfection. The deep technical core proves that every Berge graph falls into one of these cases."})]}),children:[e.jsxs("p",{children:["A graph ",e.jsx(s,{math:"G"})," is perfect if and only if neither"," ",e.jsx(s,{math:"G"})," nor ",e.jsx(s,{math:"\\overline{G}"})," contains an induced odd cycle of length at least 5."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["The forbidden induced subgraphs are ",e.jsx(s,{math:"C_{2k+1}"})," and"," ",e.jsx(s,{math:"\\overline{C_{2k+1}}"})," for ",e.jsx(s,{math:"k \\geq 2"}),". This was conjectured by Berge in 1961 and proved in 2002 (published 2006)."]})]}),e.jsxs(B,{title:"Odd Hole and Odd Antihole",children:[e.jsxs("p",{children:["An ",e.jsx("strong",{children:"odd hole"})," is an induced cycle"," ",e.jsx(s,{math:"C_{2k+1}"})," for ",e.jsx(s,{math:"k \\geq 2"}),"."]}),e.jsxs("p",{className:"mt-2",children:["An ",e.jsx("strong",{children:"odd antihole"})," is the complement of an odd hole:"," ",e.jsx(s,{math:"\\overline{C_{2k+1}}"})," for ",e.jsx(s,{math:"k \\geq 2"}),"."]})]}),e.jsxs(re,{title:"Why C and C Are Imperfect",children:[e.jsxs("p",{children:[e.jsxs("strong",{children:[e.jsx(s,{math:"C_5"}),":"]})," ",e.jsx(s,{math:"\\omega(C_5) = 2"})," (no triangle),"," ",e.jsx(s,{math:"\\chi(C_5) = 3"})," (odd cycle)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:[e.jsx(s,{math:"\\overline{C_5}"}),":"]})," ","This is also ",e.jsx(s,{math:"C_5"})," (self-complementary)!"]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(s,{math:"C_7"}),": ",e.jsx(s,{math:"\\omega = 2"}),","," ",e.jsx(s,{math:"\\chi = 3"}),". For ",e.jsx(s,{math:"\\overline{C_7}"}),":"," ",e.jsx(s,{math:"\\omega = 3"}),", ",e.jsx(s,{math:"\\chi = 4"}),"."]})]}),e.jsx("h2",{children:"Applications"}),e.jsx("h3",{children:"Clique Cover Number"}),e.jsx(B,{title:"Clique Cover",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"clique cover"})," of graph ",e.jsx(s,{math:"G"})," is a partition of ",e.jsx(s,{math:"V(G)"})," into cliques. The"," ",e.jsx("strong",{children:"clique cover number"})," ",e.jsx(s,{math:"\\theta(G)"})," is the minimum number of cliques needed."]})}),e.jsxs(q,{title:"Clique Cover and Chromatic Number",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsxs("strong",{children:[e.jsx(s,{math:"\\theta(G) = \\chi(\\overline{G})"}),":"]})}),e.jsxs("p",{className:"mt-2",children:["A clique cover of ",e.jsx(s,{math:"G"})," partitions ",e.jsx(s,{math:"V(G)"})," into cliques. In ",e.jsx(s,{math:"\\overline{G}"}),", a clique of ",e.jsx(s,{math:"G"})," becomes an independent set. So a clique cover of ",e.jsx(s,{math:"G"})," corresponds to a proper coloring of ",e.jsx(s,{math:"\\overline{G}"})," (each color class is independent in"," ",e.jsx(s,{math:"\\overline{G}"}),", hence a clique in ",e.jsx(s,{math:"G"}),")."]}),e.jsx("p",{className:"mt-2",children:e.jsxs("strong",{children:[e.jsx(s,{math:"\\omega(G) = \\alpha(\\overline{G})"}),":"]})}),e.jsxs("p",{className:"mt-2",children:["A clique in ",e.jsx(s,{math:"G"})," (set of pairwise adjacent vertices) becomes an independent set in ",e.jsx(s,{math:"\\overline{G}"})," (set of pairwise non-adjacent vertices). Thus maximum clique size in ",e.jsx(s,{math:"G"})," equals maximum independent set size in"," ",e.jsx(s,{math:"\\overline{G}"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:["For perfect ",e.jsx(s,{math:"G"}),":"]})," By the Perfect Graph Theorem,"," ",e.jsx(s,{math:"\\overline{G}"})," is also perfect. Thus"," ",e.jsx(s,{math:"\\chi(\\overline{G}) = \\omega(\\overline{G}) = \\alpha(G)"}),". Therefore ",e.jsx(s,{math:"\\theta(G) = \\chi(\\overline{G}) = \\alpha(G)"}),"."]})]}),children:[e.jsxs("p",{children:[e.jsx(s,{math:"\\theta(G) = \\chi(\\overline{G})"})," and"," ",e.jsx(s,{math:"\\omega(G) = \\alpha(\\overline{G})"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For perfect graphs:"," ",e.jsx(s,{math:"\\theta(G) = \\alpha(G)"})," (since"," ",e.jsx(s,{math:"\\chi(\\overline{G}) = \\omega(\\overline{G}) = \\alpha(G)"}),")."]})]}),e.jsx("h3",{children:"Shannon Capacity"}),e.jsxs(B,{title:"Shannon Capacity",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Shannon capacity"})," of graph ",e.jsx(s,{math:"G"})," is:"]}),e.jsx(W,{math:"\\Theta(G) = \\sup_k \\sqrt[k]{\\alpha(G^k)}"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(s,{math:"G^k"})," is the ",e.jsx(s,{math:"k"}),"-th power under the strong graph product."]}),e.jsx("p",{className:"mt-2",children:"This measures the zero-error capacity of a communication channel."})]}),e.jsxs(q,{title:"Shannon Capacity Bounds",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsxs("strong",{children:["Lower bound ",e.jsx(s,{math:"\\alpha(G) \\leq \\Theta(G)"}),":"]})}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(s,{math:"k = 1"}),", ",e.jsx(s,{math:"G^1 = G"}),", so"," ",e.jsx(s,{math:"\\Theta(G) \\geq \\alpha(G)^{'{'}1/1{'}'} = \\alpha(G)"}),"."]}),e.jsx("p",{className:"mt-2",children:e.jsxs("strong",{children:["Upper bound ",e.jsx(s,{math:"\\Theta(G) \\leq \\chi(\\overline{G})"}),":"]})}),e.jsxs("p",{className:"mt-2",children:["An independent set in ",e.jsx(s,{math:"G^k"})," is a set of vertices"," ",e.jsx(s,{math:"(v_1, \\ldots, v_k)"}),' pairwise "confusable". Any proper coloring of ',e.jsx(s,{math:"\\overline{G}"})," with ",e.jsx(s,{math:"c"})," colors can be extended to ",e.jsx(s,{math:"\\overline{G^k}"})," with ",e.jsx(s,{math:"c^k"})," colors (color tuples componentwise). Thus ",e.jsx(s,{math:"\\alpha(G^k) \\leq c^k"}),", giving"," ",e.jsx(s,{math:"\\Theta(G) \\leq c = \\chi(\\overline{G})"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Perfect graphs:"})," For perfect ",e.jsx(s,{math:"G"}),","," ",e.jsx(s,{math:"\\chi(\\overline{G}) = \\omega(\\overline{G}) = \\alpha(G)"}),". Combined with the lower bound: ",e.jsx(s,{math:"\\Theta(G) = \\alpha(G)"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:["For ",e.jsx(s,{math:"C_5"}),":"]})," Lovsz introduced the theta function"," ",e.jsx(s,{math:"\\vartheta(G)"})," satisfying ",e.jsx(s,{math:"\\alpha(G) \\leq \\vartheta(G) \\leq \\chi(\\overline{G})"})," ","and ",e.jsx(s,{math:"\\Theta(G) \\leq \\vartheta(G)"}),". Computing"," ",e.jsx(s,{math:"\\vartheta(C_5) = \\sqrt{'{'}5{'}'}"})," and showing"," ",e.jsx(s,{math:"\\alpha(C_5^2) = 5"})," proves ",e.jsx(s,{math:"\\Theta(C_5) = \\sqrt{'{'}5{'}'}"}),"."]})]}),children:[e.jsx("p",{children:e.jsx(s,{math:"\\alpha(G) \\leq \\Theta(G) \\leq \\chi(\\overline{G})"})}),e.jsxs("p",{className:"mt-2",children:["For perfect graphs: ",e.jsx(s,{math:"\\Theta(G) = \\alpha(G)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Lovsz (1979) proved ",e.jsx(s,{math:"\\Theta(C_5) = \\sqrt{5}"}),' using the "Lovsz theta function."']})]}),e.jsx("h2",{children:"Recognizing Perfect Graphs"}),e.jsxs(q,{title:"Polynomial Recognition",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["By the Strong Perfect Graph Theorem, a graph is perfect iff it contains no odd hole (",e.jsx(s,{math:"C_{'{'}2k+1{'}'}"}),") and no odd antihole (",e.jsx(s,{math:"\\overline{C_{'{'}2k+1{'}'}}"}),") as induced subgraphs, for ",e.jsx(s,{math:"k \\geq 2"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Detecting odd holes:"})," Chudnovsky et al. gave an"," ",e.jsx(s,{math:"O(n^9)"}),' algorithm. The key insight is that odd holes have special "cleaning" structure. By identifying "near-cleaners" and using the three-in-a-tree approach, we can systematically search for shortest odd holes.']}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Detecting odd antiholes:"})," An odd antihole"," ",e.jsx(s,{math:"\\overline{C_{'{'}2k+1{'}'}}"})," has specific neighborhood structure. The algorithm reduces antihole detection to checking certain path configurations in polynomial time."]}),e.jsxs("p",{className:"mt-2",children:["The overall complexity is polynomial (though initially"," ",e.jsx(s,{math:"O(n^9)"}),", later improvements reduced this)."]})]}),children:[e.jsx("p",{children:"Perfect graphs can be recognized in polynomial time (Chudnovsky et al., 2005)."}),e.jsx("p",{className:"mt-2",children:"The algorithm checks for odd holes and odd antiholes, both of which can be detected in polynomial time."})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Chromatic Polynomial:"})," ",e.jsx(s,{math:"P(G, k)"})," counts proper ",e.jsx(s,{math:"k"}),"-colorings. Computed via deletion-contraction."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Chordal Graphs:"})," No induced cycles 4. Have perfect elimination orders. ",e.jsx(s,{math:"\\chi = \\omega"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Perfect Graphs:"})," ",e.jsx(s,{math:"\\chi(H) = \\omega(H)"})," ","for all induced subgraphs ",e.jsx(s,{math:"H"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Perfect Graph Theorem:"})," ",e.jsx(s,{math:"G"})," perfect iff"," ",e.jsx(s,{math:"\\overline{G}"})," perfect."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Strong Perfect Graph Theorem:"})," Perfect iff no induced"," ",e.jsx(s,{math:"C_{2k+1}"})," or ",e.jsx(s,{math:"\\overline{C_{2k+1}}"})," ","for ",e.jsx(s,{math:"k \\geq 2"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Examples:"})," Bipartite, chordal, interval, comparability graphs are all perfect."]})]})]})}function kG(){return e.jsxs(ze,{sectionId:17,children:[e.jsx("p",{children:"Can a graph be drawn in the plane without edge crossings? This question about planar graphs connects graph theory to topology and has practical applications in circuit design and geographic mapping. Euler's formula relates the number of vertices, edges, and faces in any planar drawing, providing a powerful tool for proving impossibility results."}),e.jsx("h2",{children:"Planar Graphs and Embeddings"}),e.jsxs(B,{title:"Planar Graph",children:[e.jsxs("p",{children:["A graph ",e.jsx(s,{math:"G"})," is ",e.jsx("strong",{children:"planar"})," if it can be drawn in the plane ",e.jsx(s,{math:"\\mathbb{R}^2"})," such that:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsx("li",{children:"Vertices are distinct points"}),e.jsx("li",{children:"Edges are curves connecting their endpoints"}),e.jsx("li",{children:"Edges do not cross (except at shared endpoints)"})]}),e.jsxs("p",{className:"mt-2",children:["Such a drawing is called a ",e.jsx("strong",{children:"planar embedding"})," or"," ",e.jsx("strong",{children:"plane graph"}),"."]})]}),e.jsxs(re,{title:"Planar and Non-Planar Graphs",children:[e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Planar:"})," ",e.jsx(s,{math:"K_4"}),", all trees, all cycles,"," ",e.jsx(s,{math:"K_{2,n}"})," for any ",e.jsx(s,{math:"n"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Non-planar:"})," ",e.jsx(s,{math:"K_5"}),","," ",e.jsx(s,{math:"K_{3,3}"}),", Petersen graph"]})]}),e.jsx("p",{className:"mt-2",children:"A planar graph may have many different planar embeddings."})]}),e.jsxs(B,{title:"Faces",children:[e.jsxs("p",{children:["In a plane graph, the ",e.jsx("strong",{children:"faces"})," are the maximal connected regions of ",e.jsx(s,{math:"\\mathbb{R}^2 - G"})," (the plane minus the drawing)."]}),e.jsxs("p",{className:"mt-2",children:["Every plane graph has exactly one unbounded face called the"," ",e.jsx("strong",{children:"outer face"})," or ",e.jsx("strong",{children:"infinite face"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"boundary"})," of a face is the set of edges (and vertices) adjacent to it. A face is ",e.jsx("strong",{children:"incident"})," to the edges and vertices on its boundary."]})]}),e.jsxs(re,{title:"Faces of K",children:[e.jsxs("p",{children:["Draw ",e.jsx(s,{math:"K_4"})," as a triangle with one vertex inside."]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsx("li",{children:"4 faces: 3 small triangles + 1 outer face"}),e.jsx("li",{children:"Each triangular face is bounded by 3 edges"}),e.jsx("li",{children:"The outer face is bounded by the outer triangle"})]})]}),e.jsx(iG,{className:"my-8"}),e.jsx("h2",{children:"Euler's Formula"}),e.jsxs(q,{title:"Euler's Formula (Theorem 6.1.21)",children:[e.jsxs("p",{children:["For a connected plane graph ",e.jsx(s,{math:"G"})," with ",e.jsx(s,{math:"n"})," ","vertices, ",e.jsx(s,{math:"m"})," edges, and ",e.jsx(s,{math:"f"})," faces:"]}),e.jsx(W,{math:"n - m + f = 2"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Base case:"})," A tree has ",e.jsx(s,{math:"n"})," vertices,"," ",e.jsx(s,{math:"n - 1"})," edges, and 1 face."," ",e.jsx(s,{math:"n - (n-1) + 1 = 2"}),". "]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Inductive step:"})," If ",e.jsx(s,{math:"G"})," is not a tree, it has a cycle. Let ",e.jsx(s,{math:"e"})," be an edge on a cycle. Removing"," ",e.jsx(s,{math:"e"})," merges two faces into one."]}),e.jsxs("p",{className:"mt-2",children:["By induction on ",e.jsx(s,{math:"G - e"}),":"," ",e.jsx(s,{math:"n - (m-1) + (f-1) = 2"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(s,{math:"G"}),":"," ",e.jsx(s,{math:"n - m + f = n - (m-1) - 1 + (f-1) + 1 = 2"}),". "]})]})]})]}),e.jsx(re,{title:"Verifying Euler's Formula",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(s,{math:"K_4"}),": ",e.jsx(s,{math:"n = 4"}),","," ",e.jsx(s,{math:"m = 6"}),", ",e.jsx(s,{math:"f = 4"}),"."," ",e.jsx(s,{math:"4 - 6 + 4 = 2"})," "]}),e.jsxs("li",{children:[e.jsx(s,{math:"C_n"}),": ",e.jsx(s,{math:"n"})," vertices,"," ",e.jsx(s,{math:"n"})," edges, 2 faces."," ",e.jsx(s,{math:"n - n + 2 = 2"})," "]}),e.jsxs("li",{children:["Cube graph: ",e.jsx(s,{math:"n = 8"}),", ",e.jsx(s,{math:"m = 12"}),","," ",e.jsx(s,{math:"f = 6"}),". ",e.jsx(s,{math:"8 - 12 + 6 = 2"})," "]})]})}),e.jsxs(q,{title:"Corollary 6.1.22 (Edge Bound for Planar Graphs)",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," is a simple planar graph with"," ",e.jsx(s,{math:"n \\geq 3"})," vertices:"]}),e.jsx(W,{math:"m \\leq 3n - 6"}),e.jsxs("p",{className:"mt-2",children:["Equality holds if and only if every face is a triangle (a"," ",e.jsx("strong",{children:"maximal planar graph"})," or ",e.jsx("strong",{children:"triangulation"}),")."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsx("p",{children:"Each face is bounded by at least 3 edges. Counting edge-face incidences:"}),e.jsx(W,{math:"\\sum_{\\text{faces}} (\\text{boundary length}) \\geq 3f"}),e.jsxs("p",{className:"mt-2",children:["Each edge borders at most 2 faces, so the sum is at most"," ",e.jsx(s,{math:"2m"}),". Thus ",e.jsx(s,{math:"2m \\geq 3f"}),", giving"," ",e.jsx(s,{math:"f \\leq 2m/3"}),"."]}),e.jsxs("p",{className:"mt-2",children:["By Euler: ",e.jsx(s,{math:"2 = n - m + f \\leq n - m + 2m/3 = n - m/3"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Therefore ",e.jsx(s,{math:"m \\leq 3n - 6"}),"."]})]})]})]}),e.jsxs(q,{title:"K is Non-Planar (Corollary 6.1.23)",children:[e.jsxs("p",{children:[e.jsx(s,{math:"K_5"})," is not planar."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx(s,{math:"K_5"})," has ",e.jsx(s,{math:"n = 5"})," vertices and"," ",e.jsx(s,{math:"m = 10"})," edges."]}),e.jsxs("p",{className:"mt-2",children:["But ",e.jsx(s,{math:"3n - 6 = 3(5) - 6 = 9 < 10 = m"}),"."]}),e.jsxs("p",{className:"mt-2",children:["So ",e.jsx(s,{math:"K_5"})," violates the edge bound and cannot be planar."]})]})]})]}),e.jsxs(q,{title:"Corollary 6.1.24 (Triangle-Free Bound)",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," is a simple, triangle-free, planar graph with"," ",e.jsx(s,{math:"n \\geq 3"}),":"]}),e.jsx(W,{math:"m \\leq 2n - 4"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["With no triangles, each face is bounded by at least 4 edges. The same counting argument gives ",e.jsx(s,{math:"2m \\geq 4f"}),", so"," ",e.jsx(s,{math:"f \\leq m/2"}),"."]}),e.jsxs("p",{className:"mt-2",children:["By Euler: ",e.jsx(s,{math:"2 = n - m + f \\leq n - m + m/2 = n - m/2"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Therefore ",e.jsx(s,{math:"m \\leq 2n - 4"}),"."]})]})]})]}),e.jsxs(q,{title:"K, is Non-Planar (Corollary 6.1.25)",children:[e.jsxs("p",{children:[e.jsx(s,{math:"K_{3,3}"})," is not planar."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx(s,{math:"K_{3,3}"})," is bipartite, hence triangle-free. It has"," ",e.jsx(s,{math:"n = 6"})," and ",e.jsx(s,{math:"m = 9"}),"."]}),e.jsxs("p",{className:"mt-2",children:["But ",e.jsx(s,{math:"2n - 4 = 2(6) - 4 = 8 < 9 = m"}),"."]})]})]})]}),e.jsx("h2",{children:"The Dual Graph"}),e.jsxs(B,{title:"Dual Graph",children:[e.jsxs("p",{children:["Given a plane graph ",e.jsx(s,{math:"G"}),", its ",e.jsx("strong",{children:"dual"})," ",e.jsx(s,{math:"G^*"})," is constructed by:"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside",children:[e.jsxs("li",{children:["Place one vertex of ",e.jsx(s,{math:"G^*"})," in each face of ",e.jsx(s,{math:"G"})]}),e.jsxs("li",{children:["For each edge ",e.jsx(s,{math:"e"})," of ",e.jsx(s,{math:"G"}),", draw an edge of ",e.jsx(s,{math:"G^*"})," crossing ",e.jsx(s,{math:"e"})," and connecting the vertices in the two faces incident to ",e.jsx(s,{math:"e"})]})]})]}),e.jsx(re,{title:"Duals of Simple Graphs",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:["The dual of ",e.jsx(s,{math:"C_n"})," is ",e.jsx(s,{math:"C_n"})," ","(self-dual in a specific embedding)"]}),e.jsx("li",{children:"The dual of a tree is a single vertex (1 face)"}),e.jsxs("li",{children:["The dual of the tetrahedron graph (",e.jsx(s,{math:"K_4"}),") is"," ",e.jsx(s,{math:"K_4"})]}),e.jsx("li",{children:"The dual of the cube graph is the octahedron graph"})]})}),e.jsx(q,{title:"Properties of Duals (Theorem 6.1.15)",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsxs("strong",{children:["(1) ",e.jsx(s,{math:"(G^*)^* = G"}),":"]})}),e.jsxs("p",{className:"mt-2",children:["Each face of ",e.jsx(s,{math:"G"})," becomes a vertex of ",e.jsx(s,{math:"G^*"}),", and each face of ",e.jsx(s,{math:"G^*"})," corresponds to a vertex of ",e.jsx(s,{math:"G"}),". The dual of the dual recovers the original embedding (for connected graphs)."]}),e.jsx("p",{className:"mt-4",children:e.jsx("strong",{children:"(2) Connectivity equivalence:"})}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"G"})," is connected, there is exactly one face containing any two faces' boundary paths, allowing construction of paths in ",e.jsx(s,{math:"G^*"}),". Conversely, if ",e.jsx(s,{math:"G"})," is disconnected, the infinite face of"," ",e.jsx(s,{math:"G^*"}),' "separates" the components.']}),e.jsx("p",{className:"mt-4",children:e.jsx("strong",{children:"(3) Counting:"})}),e.jsxs("p",{className:"mt-2",children:["By construction: one vertex of ",e.jsx(s,{math:"G^*"})," per face of ",e.jsx(s,{math:"G"}),", one edge of ",e.jsx(s,{math:"G^*"})," per edge of ",e.jsx(s,{math:"G"})," (crossing it). By Euler: ",e.jsx(s,{math:"n - m + f = 2"})," for both ",e.jsx(s,{math:"G"})," and"," ",e.jsx(s,{math:"G^*"}),", giving ",e.jsx(s,{math:"f(G^*) = |V(G)|"}),"."]}),e.jsx("p",{className:"mt-4",children:e.jsx("strong",{children:"(4) Cycles  Bonds:"})}),e.jsxs("p",{className:"mt-2",children:["A cycle ",e.jsx(s,{math:"C"})," in ",e.jsx(s,{math:"G"})," separates the plane into inside and outside regions. The dual edges crossing ",e.jsx(s,{math:"C"})," form a minimal edge set disconnecting the faces inside from those outsideprecisely an edge cut (bond) in ",e.jsx(s,{math:"G^*"}),"."]})]}),children:e.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(s,{math:"(G^*)^* = G"})," (for connected ",e.jsx(s,{math:"G"}),")"]}),e.jsxs("li",{children:[e.jsx(s,{math:"G^*"})," is connected iff ",e.jsx(s,{math:"G"})," is connected"]}),e.jsxs("li",{children:[e.jsx(s,{math:"|V(G^*)| = f(G)"}),","," ",e.jsx(s,{math:"|E(G^*)| = |E(G)|"}),","," ",e.jsx(s,{math:"f(G^*) = |V(G)|"})]}),e.jsxs("li",{children:["Cycles in ",e.jsx(s,{math:"G"})," correspond to edge cuts (bonds) in"," ",e.jsx(s,{math:"G^*"})]})]})}),e.jsx("h2",{children:"Platonic Solids"}),e.jsx(B,{title:"Platonic Solid",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"Platonic solid"})," is a convex polyhedron where every face is the same regular polygon and the same number of faces meet at each vertex."]})}),e.jsxs(q,{title:"Only Five Platonic Solids (Theorem 6.1.28)",children:[e.jsx("p",{children:"There are exactly five Platonic solids:"}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Tetrahedron:"})," 4 triangular faces, 4 vertices, 6 edges"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cube:"})," 6 square faces, 8 vertices, 12 edges"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Octahedron:"})," 8 triangular faces, 6 vertices, 12 edges"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Dodecahedron:"})," 12 pentagonal faces, 20 vertices, 30 edges"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Icosahedron:"})," 20 triangular faces, 12 vertices, 30 edges"]})]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Let each face be a regular ",e.jsx(s,{math:"p"}),"-gon and let"," ",e.jsx(s,{math:"q"})," faces meet at each vertex. Then"," ",e.jsx(s,{math:"p, q \\geq 3"}),"."]}),e.jsxs("p",{className:"mt-2",children:["By Euler and counting: ",e.jsx(s,{math:"\\frac{1}{p} + \\frac{1}{q} > \\frac{1}{2}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The only solutions with ",e.jsx(s,{math:"p, q \\geq 3"})," are:"," ",e.jsx(s,{math:"(3,3), (3,4), (4,3), (3,5), (5,3)"}),"."]})]})]})]}),e.jsx("h2",{children:"Outerplanar Graphs"}),e.jsx(B,{title:"Outerplanar Graph",children:e.jsxs("p",{children:["A graph is ",e.jsx("strong",{children:"outerplanar"})," if it has a planar embedding where all vertices lie on the outer face."]})}),e.jsxs(q,{title:"Outerplanar Characterization (Theorem 6.1.31)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Necessity:"})," We show ",e.jsx(s,{math:"K_4"})," and"," ",e.jsx(s,{math:"K_{'{'}2,3{'}'}"})," are not outerplanar."]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(s,{math:"K_4"}),": if all 4 vertices were on the outer face (a convex quadrilateral), two edges would crosscontradiction."]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(s,{math:"K_{'{'}2,3{'}'}"}),": place the two vertices of the smaller part on the outer boundary; the three vertices of the larger part must each connect to both, requiring crossings."]}),e.jsxs("p",{className:"mt-2",children:["Since minors preserve outerplanarity (deleting/contracting edges cannot create outerplanar graphs from non-outerplanar ones), any graph with a"," ",e.jsx(s,{math:"K_4"})," or ",e.jsx(s,{math:"K_{'{'}2,3{'}'}"})," minor is not outerplanar."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Sufficiency:"})," Suppose ",e.jsx(s,{math:"G"})," has no"," ",e.jsx(s,{math:"K_4"})," or ",e.jsx(s,{math:"K_{'{'}2,3{'}'}"})," minor. We show"," ",e.jsx(s,{math:"G"})," is outerplanar by induction on ",e.jsx(s,{math:"n + m"}),". If ",e.jsx(s,{math:"G"})," is 2-connected, it has a vertex of degree 2 (by edge bound). Contracting or deleting this vertex preserves the minor-free property, and the embedding extends by placing the vertex on the outer face between its neighbors."]})]}),children:[e.jsxs("p",{children:["A graph is outerplanar if and only if it has no ",e.jsx(s,{math:"K_4"})," or"," ",e.jsx(s,{math:"K_{2,3}"})," minor."]}),e.jsx("p",{className:"mt-2",children:"Equivalently: outerplanar graphs are exactly the graphs embeddable on the plane with all vertices on a single face."})]}),e.jsxs(q,{title:"Theorem 6.1.30 (Outerplanar Edge Bound)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Consider an outerplanar embedding of ",e.jsx(s,{math:"G"})," with all vertices on the outer face. Add a new vertex ",e.jsx(s,{math:"v"})," inside the outer face and connect it to all ",e.jsx(s,{math:"n"})," vertices of ",e.jsx(s,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The resulting graph ",e.jsx(s,{math:"G'"})," is planar (all edges from"," ",e.jsx(s,{math:"v"})," can be drawn inside without crossings). It has"," ",e.jsx(s,{math:"n + 1"})," vertices and ",e.jsx(s,{math:"m + n"})," edges."]}),e.jsxs("p",{className:"mt-2",children:["By the planar edge bound: ",e.jsx(s,{math:"m + n \\leq 3(n + 1) - 6 = 3n - 3"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Therefore ",e.jsx(s,{math:"m \\leq 2n - 3"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Equality:"})," Achieved when ",e.jsx(s,{math:"G"}),' is a maximal outerplanar grapha triangulation with all vertices on the outer boundary (the "interior" is triangulated using chords of the outer cycle).']})]}),children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," is a simple outerplanar graph with"," ",e.jsx(s,{math:"n \\geq 2"})," vertices:"]}),e.jsx(W,{math:"m \\leq 2n - 3"})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Planar:"})," Can be drawn without edge crossings."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Euler's Formula:"})," ",e.jsx(s,{math:"n - m + f = 2"})," for connected plane graphs."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Edge Bounds:"})," ",e.jsx(s,{math:"m \\leq 3n - 6"})," for planar;"," ",e.jsx(s,{math:"m \\leq 2n - 4"})," if triangle-free."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Non-Planar:"})," ",e.jsx(s,{math:"K_5"})," and"," ",e.jsx(s,{math:"K_{3,3}"})," are the key non-planar graphs."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Dual Graph:"})," Vertices  faces; cycles  cuts."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Platonic Solids:"})," Only 5 exist, proved using Euler's formula."]})]})]})}function _G(){return e.jsxs(ze,{sectionId:18,children:[e.jsxs("p",{children:["When is a graph planar? We've seen that ",e.jsx(s,{math:"K_5"})," and"," ",e.jsx(s,{math:"K_{3,3}"}),` are non-planar. Kuratowski's remarkable theorem states that these are the only "essential" obstructionsa graph is planar if and only if it contains no subdivision of `,e.jsx(s,{math:"K_5"})," or"," ",e.jsx(s,{math:"K_{3,3}"}),". We also study efficient algorithms for testing planarity."]}),e.jsx("h2",{children:"Subdivisions and Minors"}),e.jsxs(B,{title:"Subdivision",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"subdivision"})," of graph ",e.jsx(s,{math:"H"})," is a graph obtained by replacing each edge of ",e.jsx(s,{math:"H"})," with a path of length at least 1."]}),e.jsxs("p",{className:"mt-2",children:["The vertices of ",e.jsx(s,{math:"H"})," are called"," ",e.jsx("strong",{children:"branch vertices"}),"; the new vertices on the paths are"," ",e.jsx("strong",{children:"subdivision vertices"}),"."]}),e.jsxs("p",{className:"mt-2",children:["We write ",e.jsx(s,{math:"TH"})," for a subdivision of ",e.jsx(s,{math:"H"})," ",'(T for "topological").']})]}),e.jsxs(re,{title:"Subdivisions of K",children:[e.jsxs("p",{children:[e.jsx(s,{math:"K_4"})," has 4 vertices and 6 edges. A subdivision of"," ",e.jsx(s,{math:"K_4"})," might replace each edge with a path of length 2, giving a graph with ",e.jsx(s,{math:"4 + 6 = 10"})," vertices and 12 edges."]}),e.jsxs("p",{className:"mt-2",children:["Any graph containing ",e.jsx(s,{math:"TK_4"}),' as a subgraph is "at least as complicated" as ',e.jsx(s,{math:"K_4"}),"."]})]}),e.jsxs(B,{title:"Minor",children:[e.jsxs("p",{children:["Graph ",e.jsx(s,{math:"H"})," is a ",e.jsx("strong",{children:"minor"})," of"," ",e.jsx(s,{math:"G"})," (written ",e.jsx(s,{math:"H \\preceq G"}),") if"," ",e.jsx(s,{math:"H"})," can be obtained from a subgraph of"," ",e.jsx(s,{math:"G"})," by contracting edges."]}),e.jsxs("p",{className:"mt-2",children:["Equivalently: we can assign each vertex of ",e.jsx(s,{math:"H"})," to a connected subgraph of ",e.jsx(s,{math:"G"})," (called a"," ",e.jsx("strong",{children:"branch set"}),"), with branch sets pairwise disjoint, such that for each edge of ",e.jsx(s,{math:"H"}),", there's an edge of"," ",e.jsx(s,{math:"G"})," between the corresponding branch sets."]})]}),e.jsxs(q,{title:"Lemma 6.2.2 (Subdivision implies Minor)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"G"})," contain ",e.jsx(s,{math:"TH"}),", a subdivision of"," ",e.jsx(s,{math:"H"}),". The branch vertices of ",e.jsx(s,{math:"TH"})," correspond to vertices of ",e.jsx(s,{math:"H"}),", and paths between them (through subdivision vertices) correspond to edges of ",e.jsx(s,{math:"H"}),"."]}),e.jsxs("p",{className:"mt-2",children:["To obtain ",e.jsx(s,{math:"H"})," as a minor:"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["Start with ",e.jsx(s,{math:"TH"})," as a subgraph of ",e.jsx(s,{math:"G"})]}),e.jsx("li",{children:"For each path of subdivision vertices connecting two branch vertices, contract all internal edges to collapse the path to a single edge"}),e.jsxs("li",{children:["After all contractions, the branch vertices become the vertices of"," ",e.jsx(s,{math:"H"}),", and the contracted paths become edges of"," ",e.jsx(s,{math:"H"})]})]}),e.jsxs("p",{className:"mt-2",children:["Thus ",e.jsx(s,{math:"H"})," is obtained from a subgraph of ",e.jsx(s,{math:"G"})," ","by edge contractions, so ",e.jsx(s,{math:"H \\preceq G"}),"."]})]}),children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," contains a subdivision of ",e.jsx(s,{math:"H"}),", then ",e.jsx(s,{math:"H"})," is a minor of ",e.jsx(s,{math:"G"}),"."]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"The converse is false for graphs with vertices of high degree."})]}),e.jsx("h2",{children:"Kuratowski's Theorem"}),e.jsxs(q,{title:"Kuratowski's Theorem (Theorem 6.2.3)",children:[e.jsxs("p",{children:["A graph ",e.jsx(s,{math:"G"})," is planar if and only if"," ",e.jsx(s,{math:"G"})," contains no subdivision of ",e.jsx(s,{math:"K_5"})," ","or ",e.jsx(s,{math:"K_{3,3}"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch (Necessity)"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Necessity:"})," Subdivisions preserve non-planarity. Since"," ",e.jsx(s,{math:"K_5"})," and ",e.jsx(s,{math:"K_{3,3}"})," are non-planar, so is any graph containing their subdivisions."]})})]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch (Sufficiency)"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Sufficiency:"})," Prove by induction on"," ",e.jsx(s,{math:"n + m"}),". Consider a non-planar graph"," ",e.jsx(s,{math:"G"})," with no ",e.jsx(s,{math:"TK_5"})," or"," ",e.jsx(s,{math:"TK_{3,3}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"G"})," has a cut vertex or is 1-edge-connected, reduce to smaller pieces. For 2-connected ",e.jsx(s,{math:"G"}),", analyze Tutte's wheel theorem and structure of 3-connected graphs to show"," ",e.jsx(s,{math:"TK_5"})," or ",e.jsx(s,{math:"TK_{3,3}"})," must exist."]})]})]})]}),e.jsx(B,{title:"Kuratowski Subgraph",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"Kuratowski subgraph"})," of ",e.jsx(s,{math:"G"})," is a subgraph that is a subdivision of ",e.jsx(s,{math:"K_5"})," or"," ",e.jsx(s,{math:"K_{3,3}"}),"."]})}),e.jsxs(re,{title:"Finding a Kuratowski Subgraph",children:[e.jsxs("p",{children:["The Petersen graph is non-planar. It contains ",e.jsx(s,{math:"TK_{3,3}"}),":"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsx("li",{children:"One partite set: vertices 0, 1, 2 (outer pentagon vertices at positions 0, 144, 288)"}),e.jsx("li",{children:"Other partite set: vertices 5, 6, 7 (inner star vertices opposite to 0, 1, 2)"}),e.jsx("li",{children:"Paths of length 2 connect these via the other vertices"})]})]}),e.jsx("h2",{children:"Wagner's Theorem (Minor Version)"}),e.jsx(q,{title:"Wagner's Theorem (Theorem 6.2.5)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Equivalence with Kuratowski:"})," We show that"," ",e.jsx(s,{math:"G"})," has a ",e.jsx(s,{math:"K_5"})," or"," ",e.jsx(s,{math:"K_{'{'}3,3{'}'}"})," minor iff ",e.jsx(s,{math:"G"})," contains"," ",e.jsx(s,{math:"TK_5"})," or ",e.jsx(s,{math:"TK_{'{'}3,3{'}'}"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"():"})," By Lemma 6.2.2, subdivision implies minor."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"():"})," Suppose ",e.jsx(s,{math:"G"})," has ",e.jsx(s,{math:"K_5"})," or"," ",e.jsx(s,{math:"K_{'{'}3,3{'}'}"})," as a minor. The branch sets form connected subgraphs with edges between them."]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(s,{math:"K_5"}),": each branch set contains a vertex (pick one from each), and paths through the branch sets provide the subdivision. A technical argument shows we can always route these paths to form ",e.jsx(s,{math:"TK_5"})," or"," ",e.jsx(s,{math:"TK_{'{'}3,3{'}'}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(s,{math:"K_{'{'}3,3{'}'}"})," minors, the low maximum degree (3) means the minor structure directly yields a subdivision."]}),e.jsx("p",{className:"mt-2",children:"Therefore, Wagner's forbidden minor characterization is equivalent to Kuratowski's forbidden subdivision characterization."})]}),children:e.jsxs("p",{children:["A graph ",e.jsx(s,{math:"G"})," is planar if and only if"," ",e.jsx(s,{math:"G"})," has neither ",e.jsx(s,{math:"K_5"})," nor"," ",e.jsx(s,{math:"K_{3,3}"})," as a minor."]})}),e.jsx("p",{children:"Wagner's formulation using minors is often more convenient because minors are closed under edge contraction, which subdivisions are not."}),e.jsxs(re,{title:"K vs K Minor",children:[e.jsxs("p",{children:["Adding a degree-2 vertex to ",e.jsx(s,{math:"K_5"})," gives"," ",e.jsx(s,{math:"TK_5"}),". This graph has ",e.jsx(s,{math:"K_5"})," as a minor (contract the added vertex) but is not isomorphic to"," ",e.jsx(s,{math:"K_5"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Wagner's theorem says: contract edges to find ",e.jsx(s,{math:"K_5"})," or"," ",e.jsx(s,{math:"K_{3,3}"})," as a minor."]})]}),e.jsx("h2",{children:"Testing Planarity"}),e.jsx("p",{children:"Kuratowski's theorem gives a characterization but doesn't immediately yield an efficient algorithm. Several linear-time planarity testing algorithms exist."}),e.jsxs(q,{title:"Linear-Time Planarity Testing",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Key insight:"})," By Euler's formula, a planar graph with"," ",e.jsx(s,{math:"n"})," vertices has at most ",e.jsx(s,{math:"3n - 6"})," edges, so"," ",e.jsx(s,{math:"m = O(n)"}),". This allows algorithms linear in"," ",e.jsx(s,{math:"n"}),"."]}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Hopcroft-Tarjan approach:"})}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["Compute a DFS tree ",e.jsx(s,{math:"T"})," of ",e.jsx(s,{math:"G"}),". Non-tree edges (back edges) form cycles with tree paths."]}),e.jsx("li",{children:"Process cycles in a specific order, maintaining partial embeddings."}),e.jsxs("li",{children:["At each step, determine which face(s) can accommodate the next path. Use stack-based bookkeeping to track constraints in ",e.jsx(s,{math:"O(1)"})," amortized time per edge."]}),e.jsx("li",{children:"If no valid placement exists at any step, the graph is non-planar; otherwise, construct the embedding."})]}),e.jsxs("p",{className:"mt-2",children:["Each edge is processed a constant number of times, yielding"," ",e.jsx(s,{math:"O(n)"})," total time."]})]}),children:[e.jsxs("p",{children:["Planarity can be tested in ",e.jsx(s,{math:"O(n)"})," time."]}),e.jsx("p",{className:"mt-2",children:"Key algorithms:"}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Hopcroft-Tarjan (1974):"})," Path addition method using DFS"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Lempel-Even-Cederbaum / PQ-trees (1976):"})," Vertex addition with PQ-tree data structure"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Boyer-Myrvold (2004):"})," Simplified edge addition method"]})]})]}),e.jsx("h3",{children:"Planarity Testing Overview"}),e.jsxs(B,{title:"Path Addition Method",children:[e.jsx("p",{children:"The Hopcroft-Tarjan algorithm builds an embedding incrementally:"}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"Compute a DFS tree and find the fundamental cycles."}),e.jsx("li",{children:"Add paths one at a time, maintaining a planar embedding."}),e.jsx("li",{children:"At each step, determine which side of the current drawing a new path must go."}),e.jsx("li",{children:"If no valid placement exists, the graph is non-planar."})]})]}),e.jsxs(B,{title:"Vertex Addition Method",children:[e.jsx("p",{children:"Process vertices in order (e.g., by a special numbering):"}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"Maintain a representation of all planar embeddings of the graph seen so far."}),e.jsx("li",{children:"When adding a new vertex, determine if it can be placed consistently."}),e.jsx("li",{children:"Use PQ-trees to efficiently represent and manipulate the valid orderings."})]})]}),e.jsx("h2",{children:"Properties of Planar Graphs"}),e.jsxs(q,{title:"Every Planar Graph has a Small-Degree Vertex",children:[e.jsx("p",{children:"Every simple planar graph has a vertex of degree at most 5."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["By ",e.jsx(s,{math:"m \\leq 3n - 6"}),":"," ",e.jsx(s,{math:"2m \\leq 6n - 12"}),", so"," ",e.jsx(s,{math:"\\sum d(v) = 2m < 6n"}),"."]}),e.jsxs("p",{className:"mt-2",children:["By averaging, some vertex has degree"," ",e.jsx(s,{math:"< 6"}),", hence ",e.jsx(s,{math:"\\leq 5"}),"."]})]})]})]}),e.jsxs(q,{title:"6-Colorability (Corollary)",children:[e.jsx("p",{children:"Every planar graph is 6-colorable."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["Induct on ",e.jsx(s,{math:"n"}),". Remove a vertex ",e.jsx(s,{math:"v"})," ","of degree 5. By induction, ",e.jsx(s,{math:"G - v"})," is 6-colorable. Since ",e.jsx(s,{math:"v"})," has at most 5 neighbors, some color is available for ",e.jsx(s,{math:"v"}),"."]})})]})]}),e.jsx("h2",{children:"Convex Embeddings"}),e.jsx(B,{title:"Convex Embedding",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"convex embedding"})," of a planar graph is a planar drawing where every face (including the outer face) is a convex polygon."]})}),e.jsxs(q,{title:"Tutte's Barycentric Embedding (Theorem 6.2.9)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"G"})," be 3-connected and planar. Choose a face"," ",e.jsx(s,{math:"F"})," to be the outer face and fix its boundary vertices on a convex polygon in the plane."]}),e.jsxs("p",{className:"mt-2",children:["For each interior vertex ",e.jsx(s,{math:"v"}),", require that its position"," ",e.jsx(s,{math:"p(v)"})," equals the average of its neighbors' positions:"]}),e.jsx(W,{math:"p(v) = \\frac{1}{d(v)} \\sum_{u \\in N(v)} p(u)"}),e.jsxs("p",{className:"mt-2",children:["This gives a system of linear equations. Since ",e.jsx(s,{math:"G"})," is 3-connected, the system has a unique solution (the matrix is invertible by the connection to electrical networks and Kirchhoff's laws)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Convexity:"})," The key lemma is that in the resulting drawing, edges do not cross. This follows because:"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"Each vertex is a strict convex combination of its neighbors (barycenter property)"}),e.jsx("li",{children:"By 3-connectivity, every face boundary is a simple cycle"}),e.jsx("li",{children:"A crossing would create a configuration violating the barycenter equations"})]}),e.jsx("p",{className:"mt-2",children:"Every face (not just the outer face) is convex in this embedding."})]}),children:[e.jsx("p",{children:"Every 3-connected planar graph has a convex embedding (with any face chosen as the outer face)."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Method:"})," Fix the outer face as a convex polygon. Place each interior vertex at the barycenter (average) of its neighbors' positions. The result is a convex embedding."]})]}),e.jsx("h2",{children:"Unique Embeddings"}),e.jsxs(q,{title:"Whitney's Theorem (Theorem 6.2.11)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["We show that the facial cycles (boundaries of faces) are uniquely determined by the graph structure when ",e.jsx(s,{math:"G"})," is 3-connected and planar."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Key observation:"})," A cycle ",e.jsx(s,{math:"C"})," in ",e.jsx(s,{math:"G"})," ","is a facial cycle in some embedding iff ",e.jsx(s,{math:"G - V(C)"})," is connected (for 3-connected graphs)."]}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Proof of uniqueness:"})}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["Since ",e.jsx(s,{math:"G"})," is 3-connected, every facial cycle is an induced cycle (no chords), and ",e.jsx(s,{math:"G - V(C)"})," remains connected."]}),e.jsxs("li",{children:["Conversely, any cycle with ",e.jsx(s,{math:"G - V(C)"})," connected must bound a face in any planar embedding."]}),e.jsxs("li",{children:["The set of facial cycles is therefore determined solely by ",e.jsx(s,{math:"G"}),"'s structure, not by any particular embedding."]})]}),e.jsx("p",{className:"mt-2",children:"Since facial cycles determine the embedding (up to reflection), and the facial cycles are uniquely determined, the embedding is unique."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Note:"})," For 2-connected graphs, different embeddings can have different facial cycles (e.g., ",e.jsx(s,{math:"C_n"})," can have either 2-face embedded differently)."]})]}),children:[e.jsx("p",{children:"A 3-connected planar graph has a unique embedding on the sphere (up to homeomorphism)."}),e.jsx("p",{className:"mt-2 text-dark-300",children:'"Unique" means the cyclic orderings of edges around each vertex are the same in any two embeddings (up to global reflection).'})]}),e.jsxs(re,{title:"Non-Unique Embedding",children:[e.jsxs("p",{children:["A cycle ",e.jsx(s,{math:"C_n"})," is only 2-connected. Its faces can be interchanged: what was inside becomes outside. This gives different embeddings in the plane (though the same on the sphere up to reflection)."]}),e.jsx("p",{className:"mt-2",children:"A graph with a cut-vertex has many embeddings: the parts can be rotated independently around the cut-vertex."})]}),e.jsx("h2",{children:"Planarity and Minors"}),e.jsxs(q,{title:"Robertson-Seymour Graph Minor Theorem",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"This is one of the deepest results in graph theory, proved over a series of 23 papers spanning 1983-2004. We outline the key ideas."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Well-quasi-ordering:"})," The theorem states that graphs under the minor relation form a well-quasi-order (WQO). A WQO has no infinite antichains (sets of pairwise incomparable elements) and no infinite descending chains."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Structure theorem:"})," The proof relies on a deep structure theorem for ",e.jsx(s,{math:"H"}),"-minor-free graphs. For any fixed graph"," ",e.jsx(s,{math:"H"}),", graphs with no ",e.jsx(s,{math:"H"})," minor can be built from bounded-treewidth pieces glued along bounded-size separators."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Consequence for forbidden minors:"})," If property"," ",e.jsx(s,{math:"\\mathcal{P}"})," is closed under minors (if"," ",e.jsx(s,{math:"G \\in \\mathcal{P}"})," and ",e.jsx(s,{math:"H \\preceq G"}),", then ",e.jsx(s,{math:"H \\in \\mathcal{P}"}),"), then the set of minimal graphs not in ",e.jsx(s,{math:"\\mathcal{P}"})," must be finite."]}),e.jsxs("p",{className:"mt-2",children:["For planarity, the minimal forbidden minors are exactly ",e.jsx(s,{math:"K_5"})," ","and ",e.jsx(s,{math:"K_{'{'}3,3{'}'}"})," (Wagner's theorem)."]})]}),children:[e.jsxs("p",{children:["In any infinite sequence of graphs ",e.jsx(s,{math:"G_1, G_2, G_3, \\ldots"}),", some ",e.jsx(s,{math:"G_i"})," is a minor of some ",e.jsx(s,{math:"G_j"})," ","with ",e.jsx(s,{math:"i < j"}),"."]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"This deep theorem implies that any minor-closed class of graphs (like planar graphs) can be characterized by a finite set of forbidden minors."})]}),e.jsxs("p",{children:["Wagner's theorem states that planar graphs are exactly those with no"," ",e.jsx(s,{math:"K_5"})," or ",e.jsx(s,{math:"K_{3,3}"})," minor. By Robertson-Seymour, such finite characterizations exist for many other graph classes (though the forbidden sets may be large)."]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Kuratowski's Theorem:"})," ",e.jsx(s,{math:"G"})," is planar iff it contains no ",e.jsx(s,{math:"TK_5"})," or ",e.jsx(s,{math:"TK_{3,3}"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Wagner's Theorem:"})," ",e.jsx(s,{math:"G"})," is planar iff it has no ",e.jsx(s,{math:"K_5"})," or ",e.jsx(s,{math:"K_{3,3}"})," minor."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Linear-Time Testing:"})," Planarity can be tested in"," ",e.jsx(s,{math:"O(n)"})," time (Hopcroft-Tarjan, Boyer-Myrvold)."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Degree Bound:"})," Every planar graph has"," ",e.jsx(s,{math:"\\delta \\leq 5"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"3-Connected:"})," Have unique spherical embeddings and admit convex drawings."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Robertson-Seymour:"})," Any minor-closed property has finite forbidden minors."]})]})]})}function SG(){return e.jsxs(ze,{sectionId:19,children:[e.jsx("p",{children:'Planar graphs have special coloring propertiesmost famously, the Four Color Theorem. We also explore "how far from planar" a graph is through the crossing number and thickness. Finally, we consider embeddings on surfaces of higher genus, generalizing planarity to toruses and other surfaces.'}),e.jsx("h2",{children:"Coloring Planar Graphs"}),e.jsxs(q,{title:"Five Color Theorem (Theorem 6.3.1)",children:[e.jsx("p",{children:"Every planar graph is 5-colorable."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof (Kempe's Argument)"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Induct on ",e.jsx(s,{math:"n"}),". Let ",e.jsx(s,{math:"v"})," be a vertex of degree at most 5 (exists in any planar graph)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Case 1:"})," ",e.jsx(s,{math:"d(v) \\leq 4"}),". By induction,"," ",e.jsx(s,{math:"G - v"})," is 5-colorable. At most 4 colors used by neighbors of ",e.jsx(s,{math:"v"}),", so one color is available."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Case 2:"})," ",e.jsx(s,{math:"d(v) = 5"})," and all 5 colors used by neighbors. Consider two non-adjacent neighbors (exist since they don't form ",e.jsx(s,{math:"K_5"}),"). Use Kempe chains: paths alternating between two colors. Recolor along a Kempe chain to free a color for"," ",e.jsx(s,{math:"v"}),"."]})]})]})]}),e.jsxs(q,{title:"Four Color Theorem (Theorem 6.3.2)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Proof structure (Appel-Haken):"})," The proof has two main parts:"]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"1. Discharging method:"}),` Assign charges to vertices based on degree. By Euler's formula, the total charge is positive. Redistribute charge according to rules such that every vertex ends with non-positive chargeunless it belongs to a "reducible configuration."`]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"2. Reducibility:"})," A configuration is ",e.jsx("em",{children:"reducible"})," if whenever it appears in a minimal counterexample, the graph can be 4-colored by reducing to a smaller graph, coloring it, then extending back."]}),e.jsx("p",{className:"mt-2",children:'Appel and Haken found an "unavoidable set" of 1,476 reducible configurations. Every planar graph must contain at least one of these. Since each is reducible, no minimal counterexample exists.'}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Computer verification:"})," Checking reducibility of each configuration required computer analysis (totaling ~1000 hours in 1976). Robertson, Sanders, Seymour, and Thomas (1997) reduced this to 633 configurations with simpler analysis. Gonthier (2005) gave a formal machine-checked proof in Coq."]})]}),children:[e.jsx("p",{children:"Every planar graph is 4-colorable."}),e.jsx("p",{className:"mt-2 text-dark-300",children:'Conjectured by Guthrie (1852). "Proved" by Kempe (1879), error found by Heawood (1890). First correct proof by Appel and Haken (1976) using computers to check ~2000 cases. Simplified proofs since (Robertson et al. 1997, Gonthier 2005 formal verification).'})]}),e.jsxs(re,{title:"Graphs Requiring 4 Colors",children:[e.jsxs("p",{children:[e.jsx(s,{math:"K_4"})," requires exactly 4 colors. Any planar graph containing ",e.jsx(s,{math:"K_4"})," (like the tetrahedron or wheel"," ",e.jsx(s,{math:"W_4"}),") needs 4 colors."]}),e.jsxs("p",{className:"mt-2",children:["The dodecahedron graph also requires 4 colors, though it contains no"," ",e.jsx(s,{math:"K_4"})," (it's triangle-free!). This shows"," ",e.jsx(s,{math:"\\chi = 4"})," doesn't require ",e.jsx(s,{math:"\\omega = 4"}),"."]})]}),e.jsxs(q,{title:"Grtzsch's Theorem (Theorem 6.3.5)",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"We prove a stronger statement: every triangle-free planar graph has a proper 3-coloring, and moreover, for any facial cycle of length at most 5 with a partial 3-coloring, the coloring extends to the whole graph."}),e.jsx("p",{className:"mt-2",children:e.jsxs("strong",{children:["Proof by induction on ",e.jsx(s,{math:"n"}),":"]})}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Base:"})," Small triangle-free planar graphs are easily 3-colorable."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Inductive step:"})," Let ",e.jsx(s,{math:"G"})," be triangle-free planar with ",e.jsx(s,{math:"n"})," vertices. Since ",e.jsx(s,{math:"G"})," has no triangles, faces have length at least 4. By the triangle-free edge bound"," ","(",e.jsx(s,{math:"m \\leq 2n - 4"}),"), the average degree is less than 4."]}),e.jsxs("p",{className:"mt-2",children:["Thus ",e.jsx(s,{math:"G"})," has a vertex ",e.jsx(s,{math:"v"})," of degree at most 3. If ",e.jsx(s,{math:"d(v) \\leq 2"}),", remove ",e.jsx(s,{math:"v"}),", 3-color by induction, and extend (at most 2 neighbors use at most 2 colors)."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"d(v) = 3"}),", the neighbors form an independent set (no triangles). A careful argument using Kempe chains shows we can always extend a 3-coloring of"," ",e.jsx(s,{math:"G - v"})," to ",e.jsx(s,{math:"G"}),"."]})]}),children:[e.jsx("p",{children:"Every triangle-free planar graph is 3-colorable."}),e.jsx("p",{className:"mt-2 text-dark-300",children:"This strengthens the Four Color Theorem for triangle-free graphs."})]}),e.jsx("h2",{children:"List Coloring"}),e.jsxs(B,{title:"List Coloring",children:[e.jsxs("p",{children:["Given a graph ",e.jsx(s,{math:"G"})," and a list ",e.jsx(s,{math:"L(v)"})," of available colors for each vertex ",e.jsx(s,{math:"v"}),", a"," ",e.jsx("strong",{children:"list coloring"})," (or ",e.jsxs("strong",{children:[e.jsx(s,{math:"L"}),"-coloring"]}),") assigns each vertex a color from its list such that adjacent vertices get different colors."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"choosability"})," (or ",e.jsx("strong",{children:"list chromatic number"}),")"," ",e.jsx(s,{math:"\\text{ch}(G)"})," is the minimum ",e.jsx(s,{math:"k"})," such that ",e.jsx(s,{math:"G"})," has an ",e.jsx(s,{math:"L"}),"-coloring whenever all lists have size at least ",e.jsx(s,{math:"k"}),"."]})]}),e.jsx(q,{title:"Thomassen's Theorem (Theorem 6.3.9)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["We prove a stronger statement for plane graphs with the outer face as a cycle"," ",e.jsx(s,{math:"C"}),":"]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Claim:"})," If ",e.jsx(s,{math:"G"})," is a plane graph bounded by cycle"," ",e.jsx(s,{math:"C"}),", and:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["Two adjacent vertices on ",e.jsx(s,{math:"C"})," are precolored"]}),e.jsxs("li",{children:["All other vertices on ",e.jsx(s,{math:"C"})," have lists of size  3"]}),e.jsx("li",{children:"All interior vertices have lists of size  5"})]}),e.jsxs("p",{className:"mt-2",children:["Then the precoloring extends to a valid list coloring of ",e.jsx(s,{math:"G"}),"."]}),e.jsx("p",{className:"mt-2",children:e.jsxs("strong",{children:["Proof by induction on ",e.jsx(s,{math:"|V(G)|"}),":"]})}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Base:"})," If ",e.jsx(s,{math:"G = C"}),", successively color vertices on"," ",e.jsx(s,{math:"C"})," (each has  3 colors,  2 colored neighbors)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Inductive step:"})," If there's a chord of ",e.jsx(s,{math:"C"}),", split into two smaller graphs and apply induction. Otherwise, let"," ",e.jsx(s,{math:"v"})," be a vertex adjacent to both precolored vertices. Then"," ",e.jsx(s,{math:"v"})," has a list of size 3 and only 2 colored neighbors, so we can color ",e.jsx(s,{math:"v"})," and remove it, reducing to a smaller case."]})]}),children:e.jsxs("p",{children:["Every planar graph is 5-choosable:"," ",e.jsx(s,{math:"\\text{ch}(G) \\leq 5"})," for planar ",e.jsx(s,{math:"G"}),"."]})}),e.jsxs(re,{title:"Choosability vs. Chromatic Number",children:[e.jsxs("p",{children:[e.jsx(s,{math:"K_{2,4}"})," has ",e.jsx(s,{math:"\\chi = 2"})," but"," ",e.jsx(s,{math:"\\text{ch} = 3"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Give vertices in one part lists ",e.jsx(s,{math:"\\{1, 2\\}"})," and"," ",e.jsx(s,{math:"\\{3, 4\\}"}),". Give vertices in the other part lists"," ",e.jsx(s,{math:"\\{1, 3\\}"}),", ",e.jsx(s,{math:"\\{1, 4\\}"}),","," ",e.jsx(s,{math:"\\{2, 3\\}"}),", ",e.jsx(s,{math:"\\{2, 4\\}"}),". No valid list coloring exists with these size-2 lists."]})]}),e.jsx("h2",{children:"Crossing Number"}),e.jsxs(B,{title:"Crossing Number",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"crossing number"})," ",e.jsx(s,{math:"\\text{cr}(G)"})," is the minimum number of edge crossings in any drawing of ",e.jsx(s,{math:"G"})," in the plane."]}),e.jsxs("p",{className:"mt-2",children:["A graph is planar iff ",e.jsx(s,{math:"\\text{cr}(G) = 0"}),"."]})]}),e.jsxs(q,{title:"Crossing Number Lower Bound (Theorem 6.3.18)",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsx("strong",{children:"Proof using the probabilistic method (Ajtai-Chvtal-Newborn-Szemerdi):"})}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{math:"G"})," have ",e.jsx(s,{math:"n"})," vertices,"," ",e.jsx(s,{math:"m"})," edges, and crossing number ",e.jsx(s,{math:"\\text{cr}(G)"}),". Fix an optimal drawing of ",e.jsx(s,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Choose a random subset ",e.jsx(s,{math:"S \\subseteq V(G)"})," by including each vertex independently with probability ",e.jsx(s,{math:"p"})," (to be determined). Let ",e.jsx(s,{math:"H = G[S]"})," be the induced subgraph."]}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Expected values:"})}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsx("li",{children:e.jsx(s,{math:"E[|V(H)|] = pn"})}),e.jsxs("li",{children:[e.jsx(s,{math:"E[|E(H)|] = p^2 m"})," (both endpoints must be selected)"]}),e.jsxs("li",{children:[e.jsx(s,{math:"E[\\text{cr}(H)] = p^4 \\cdot \\text{cr}(G)"})," (all 4 endpoints of crossing edges)"]})]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{math:"H"})," inherits the drawing from ",e.jsx(s,{math:"G"}),", and planar graphs have ",e.jsx(s,{math:"m \\leq 3n - 6"}),":"]}),e.jsx(W,{math:"E[\\text{cr}(H)] \\geq E[|E(H)|] - 3E[|V(H)|]"}),e.jsxs("p",{className:"mt-2",children:["Thus ",e.jsx(s,{math:"p^4 \\cdot \\text{cr}(G) \\geq p^2 m - 3pn"}),". Setting"," ",e.jsx(s,{math:"p = 4n/m"})," (valid when ",e.jsx(s,{math:"m > 4n"}),") and solving gives ",e.jsx(s,{math:"\\text{cr}(G) \\geq m^3 / (64n^2)"}),"."]})]}),children:[e.jsxs("p",{children:["For ",e.jsx(s,{math:"m > 7n"}),":"]}),e.jsx(W,{math:"\\text{cr}(G) \\geq \\frac{m^3}{64n^2}"})]}),e.jsxs(re,{title:"Crossing Numbers",children:[e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:e.jsx(s,{math:"\\text{cr}(K_5) = 1"})}),e.jsx("li",{children:e.jsx(s,{math:"\\text{cr}(K_6) = 3"})}),e.jsx("li",{children:e.jsx(s,{math:"\\text{cr}(K_{3,3}) = 1"})}),e.jsx("li",{children:e.jsx(s,{math:"\\text{cr}(K_{4,4}) = 4"})}),e.jsx("li",{children:e.jsx(s,{math:"\\text{cr}(\\text{Petersen}) = 2"})})]}),e.jsx("p",{className:"mt-2",children:"Computing crossing number is NP-complete in general, but polynomial for bounded crossing number."})]}),e.jsx("h3",{children:"Conjectures on Complete Graphs"}),e.jsxs(B,{title:"Zarankiewicz Crossing Number Conjecture",children:[e.jsx("p",{children:"For complete bipartite graphs:"}),e.jsx(W,{math:"\\text{cr}(K_{m,n}) = \\left\\lfloor \\frac{m}{2} \\right\\rfloor \\left\\lfloor \\frac{m-1}{2} \\right\\rfloor \\left\\lfloor \\frac{n}{2} \\right\\rfloor \\left\\lfloor \\frac{n-1}{2} \\right\\rfloor"}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["Known to be an upper bound. Proven for ",e.jsx(s,{math:"m \\leq 6"}),"."]})]}),e.jsxs(B,{title:"Guy's Crossing Number Conjecture",children:[e.jsx("p",{children:"For complete graphs:"}),e.jsx(W,{math:"\\text{cr}(K_n) = \\frac{1}{4} \\left\\lfloor \\frac{n}{2} \\right\\rfloor \\left\\lfloor \\frac{n-1}{2} \\right\\rfloor \\left\\lfloor \\frac{n-2}{2} \\right\\rfloor \\left\\lfloor \\frac{n-3}{2} \\right\\rfloor"}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["Known to be an upper bound. Proven for ",e.jsx(s,{math:"n \\leq 12"}),"."]})]}),e.jsx("h2",{children:"Thickness"}),e.jsxs(B,{title:"Thickness",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"thickness"})," ",e.jsx(s,{math:"\\text{th}(G)"})," is the minimum number of planar subgraphs whose union is ",e.jsx(s,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:["A graph is planar iff ",e.jsx(s,{math:"\\text{th}(G) = 1"}),"."]})]}),e.jsx(re,{title:"Thickness of Complete Graphs",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(s,{math:"\\text{th}(K_4) = 1"})," (planar)"]}),e.jsx("li",{children:e.jsx(s,{math:"\\text{th}(K_5) = 2"})}),e.jsx("li",{children:e.jsx(s,{math:"\\text{th}(K_8) = 2"})}),e.jsx("li",{children:e.jsx(s,{math:"\\text{th}(K_9) = 3"})}),e.jsxs("li",{children:[e.jsx(s,{math:"\\text{th}(K_n) = \\left\\lceil \\frac{n + 7}{6} \\right\\rceil"})," ","for ",e.jsx(s,{math:"n \\geq 3"})," except"," ",e.jsx(s,{math:"\\text{th}(K_9) = \\text{th}(K_{10}) = 3"})]})]})}),e.jsxs(q,{title:"Thickness Lower Bound",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["By definition, thickness ",e.jsx(s,{math:"\\text{th}(G)"})," is the minimum number of planar subgraphs whose union covers all edges of ",e.jsx(s,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Each planar subgraph ",e.jsx(s,{math:"H_i"})," on ",e.jsx(s,{math:"n"})," vertices (same vertex set as ",e.jsx(s,{math:"G"}),") has at most ",e.jsx(s,{math:"3n - 6"})," ","edges by the planar edge bound."]}),e.jsxs("p",{className:"mt-2",children:["If we decompose ",e.jsx(s,{math:"G"})," into ",e.jsx(s,{math:"k"})," planar subgraphs, the total number of edges covered is at most ",e.jsx(s,{math:"k(3n - 6)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Since we need to cover all ",e.jsx(s,{math:"m"})," edges:"]}),e.jsx(W,{math:"k(3n - 6) \\geq m \\implies k \\geq \\frac{m}{3n - 6}"}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{math:"k"})," must be an integer:"," ",e.jsx(s,{math:"\\text{th}(G) \\geq \\lceil m/(3n-6) \\rceil"}),"."]})]}),children:[e.jsxs("p",{children:[e.jsx(s,{math:"\\text{th}(G) \\geq \\lceil m / (3n - 6) \\rceil"})," for"," ",e.jsx(s,{math:"n \\geq 3"}),"."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["Each planar subgraph has at most ",e.jsx(s,{math:"3n - 6"})," edges."]})]}),e.jsx("h2",{children:"Higher Genus Surfaces"}),e.jsxs(B,{title:"Genus",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"genus"})," ",e.jsx(s,{math:"\\gamma(G)"})," of a graph is the minimum genus of a surface on which ",e.jsx(s,{math:"G"})," can be embedded without crossings."]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsx("li",{children:"Genus 0: Sphere (equivalent to plane for embedding)"}),e.jsx("li",{children:"Genus 1: Torus (donut shape)"}),e.jsxs("li",{children:["Genus ",e.jsx(s,{math:"g"}),": Sphere with ",e.jsx(s,{math:"g"})," handles"]})]}),e.jsxs("p",{className:"mt-2",children:[e.jsx(s,{math:"\\gamma(G) = 0"})," iff ",e.jsx(s,{math:"G"})," is planar."]})]}),e.jsxs(q,{title:"Euler's Formula for Higher Genus (Theorem 6.3.26)",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"The proof generalizes the planar case using the classification of surfaces."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Topological background:"})," A surface of genus ",e.jsx(s,{math:"g"})," ","(orientable) is a sphere with ",e.jsx(s,{math:"g"})," handles attached. The Euler characteristic ",e.jsx(s,{math:"\\chi_S = 2 - 2g"})," is a topological invariant."]}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Proof sketch:"})}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["For a tree embedded on any surface: ",e.jsx(s,{math:"n"})," vertices,"," ",e.jsx(s,{math:"n-1"})," edges, 1 face."," ",e.jsx(s,{math:"n - (n-1) + 1 = 2 = 2 - 2(0)"})," for the sphere."]}),e.jsxs("li",{children:["Adding an edge that doesn't disconnect a face doesn't change"," ",e.jsx(s,{math:"n - m + f"})," (adds 1 edge, creates 1 face)."]}),e.jsxs("li",{children:['Adding a handle to the surface allows one more edge to be added without creating a new face (the edge "wraps around" the handle). This decreases'," ",e.jsx(s,{math:"n - m + f"})," by 2."]})]}),e.jsxs("p",{className:"mt-2",children:["With ",e.jsx(s,{math:"g"})," handles: ",e.jsx(s,{math:"n - m + f = 2 - 2g"}),"."]})]}),children:[e.jsxs("p",{children:["For a graph embedded on a surface of genus ",e.jsx(s,{math:"g"}),":"]}),e.jsx(W,{math:"n - m + f = 2 - 2g"}),e.jsxs("p",{className:"mt-2",children:["The quantity ",e.jsx(s,{math:"2 - 2g"})," is the ",e.jsx("strong",{children:"Euler characteristic"})," ","of the surface."]})]}),e.jsx(re,{title:"Genus of Complete Graphs",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(s,{math:"\\gamma(K_n) = \\left\\lceil \\frac{(n-3)(n-4)}{12} \\right\\rceil"})," ","for ",e.jsx(s,{math:"n \\geq 3"})]}),e.jsxs("li",{children:[e.jsx(s,{math:"\\gamma(K_5) = 1"})," (embeds on torus)"]}),e.jsxs("li",{children:[e.jsx(s,{math:"\\gamma(K_7) = 1"})," (embeds on torus)"]}),e.jsx("li",{children:e.jsx(s,{math:"\\gamma(K_8) = 2"})})]})}),e.jsxs(q,{title:"Heawood's Formula (Theorem 6.3.28)",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsx("strong",{children:"Upper bound (Heawood 1890):"})}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{math:"G"})," be embeddable on a surface of genus ",e.jsx(s,{math:"g"}),". By the generalized Euler formula, ",e.jsx(s,{math:"m \\leq 3n + 6(g-1)"})," when"," ",e.jsx(s,{math:"n \\geq 3"}),"."]}),e.jsxs("p",{className:"mt-2",children:["This gives average degree ",e.jsx(s,{math:"\\frac{'{'}2m{'}'}{'{'}n{'}'} \\leq 6 + \\frac{'{'}12(g-1){'}'}{'{'}n{'}'}"}),". Thus ",e.jsx(s,{math:"G"})," has a vertex of degree at most"," ",e.jsx(s,{math:"\\lfloor 6 + 12(g-1)/n \\rfloor"}),"."]}),e.jsxs("p",{className:"mt-2",children:["By induction (greedy coloring from low-degree vertices), this bounds"," ",e.jsx(s,{math:"\\chi(G)"}),". Optimizing over ",e.jsx(s,{math:"n"})," gives the Heawood bound ",e.jsx(s,{math:"H(g)"}),"."]}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Tightness (Ringel-Youngs 1968):"})}),e.jsxs("p",{className:"mt-2",children:["For each ",e.jsx(s,{math:"g \\geq 1"}),", we must show ",e.jsx(s,{math:"K_{'{'}H(g){'}'}"})," ","embeds on the genus-",e.jsx(s,{math:"g"})," surface."]}),e.jsxs("p",{className:"mt-2",children:["This was proved by constructing explicit embeddings for each ",e.jsx(s,{math:"g"}),"a monumental effort requiring separate constructions for different residue classes of"," ",e.jsx(s,{math:"H(g) \\mod 12"}),'. The "Map Color Theorem" took 12 years to complete.']})]}),children:[e.jsxs("p",{children:["For a surface of genus ",e.jsx(s,{math:"g \\geq 1"}),", the maximum chromatic number of graphs embeddable on that surface is:"]}),e.jsx(W,{math:"H(g) = \\left\\lfloor \\frac{7 + \\sqrt{1 + 48g}}{2} \\right\\rfloor"}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["This is an upper bound (Heawood 1890) that was proved tight for all"," ",e.jsx(s,{math:"g \\geq 1"})," (Ringel-Youngs 1968)."]})]}),e.jsxs(re,{title:"Heawood Numbers",children:[e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:["Genus 0 (plane): ",e.jsx(s,{math:"H(0) = 4"})," (Four Color Theorem)"]}),e.jsxs("li",{children:["Genus 1 (torus): ",e.jsx(s,{math:"H(1) = 7"})]}),e.jsxs("li",{children:["Genus 2: ",e.jsx(s,{math:"H(2) = 8"})]}),e.jsxs("li",{children:["Genus 3: ",e.jsx(s,{math:"H(3) = 9"})]})]}),e.jsxs("p",{className:"mt-2",children:[e.jsx(s,{math:"K_7"})," embeds on the torus and needs 7 colors."]})]}),e.jsx("h2",{children:"Map Coloring"}),e.jsx("p",{children:"The original motivation for the Four Color Theorem was map coloring: can any map be colored with 4 colors such that adjacent countries have different colors?"}),e.jsxs(B,{title:"Map and Dual Graph",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"map"})," is a partition of a surface into connected regions (countries). The ",e.jsx("strong",{children:"dual graph"})," has one vertex per country and an edge between countries sharing a border."]}),e.jsx("p",{className:"mt-2",children:"Coloring the map is equivalent to coloring the dual graph."})]}),e.jsxs(q,{title:"Map Coloring Connection",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"The dual graph of a map has one vertex per country and edges between countries sharing a border. Coloring the map = coloring the dual graph."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Sphere/plane:"})," Dual graphs are planar. By the Four Color Theorem, 4 colors suffice. Tightness: maps with 4 mutually adjacent countries exist (e.g., four regions meeting at a point with shared borders)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Torus:"})," Dual graphs embed on the torus. By Heawood's formula,"," ",e.jsx(s,{math:"H(1) = 7"})," colors suffice. Tightness: ",e.jsx(s,{math:"K_7"})," ",'embeds on the torus (the "seven color map"), so 7 mutually adjacent countries can exist on a torus.']}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:["General genus ",e.jsx(s,{math:"g"}),":"]})," Dual graphs embed on the genus-",e.jsx(s,{math:"g"})," surface. The Heawood bound gives"," ",e.jsx(s,{math:"H(g)"})," colors. By Ringel-Youngs, ",e.jsx(s,{math:"K_{'{'}H(g){'}'}"})," ","embeds, showing tightness."]})]}),children:[e.jsx("p",{children:"For maps on surfaces:"}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Sphere/plane:"})," 4 colors suffice (Four Color Theorem)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Torus:"})," 7 colors suffice and are sometimes needed"]}),e.jsxs("li",{children:[e.jsxs("strong",{children:["Genus ",e.jsx(s,{math:"g"}),":"]})," ",e.jsx(s,{math:"H(g)"})," colors suffice"]})]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Four Color Theorem:"})," Every planar graph is 4-colorable."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Five Color Theorem:"})," Simpler proof using Kempe chains."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Grtzsch:"})," Triangle-free planar graphs are 3-colorable."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Choosability:"})," Planar graphs are 5-choosable."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Crossing Number:"})," Minimum crossings in any drawing."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Thickness:"})," Minimum planar subgraphs covering all edges."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Genus:"})," Minimum surface genus for crossing-free embedding. Euler: ",e.jsx(s,{math:"n - m + f = 2 - 2g"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Heawood:"})," Maximum chromatic number on genus-",e.jsx(s,{math:"g"})," surfaces."]})]})]})}function $G(){return e.jsxs(ze,{sectionId:20,children:[e.jsx("p",{children:"Instead of coloring vertices, we can color edgesassigning colors to edges such that edges sharing a vertex have different colors. This models problems like scheduling rounds of games or assigning time slots. Vizing's remarkable theorem shows that edge coloring needs at most one more color than the obvious lower bound. We also study line graphs, which transform edge problems into vertex problems."}),e.jsx("h2",{children:"Edge Coloring"}),e.jsxs(B,{title:"Edge Coloring and Edge Chromatic Number",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"proper edge coloring"})," (or ",e.jsx("strong",{children:"edge coloring"}),") of a graph ",e.jsx(s,{math:"G"})," assigns colors to edges such that edges sharing an endpoint have different colors."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"edge chromatic number"})," (or ",e.jsx("strong",{children:"chromatic index"}),")"," ",e.jsx(s,{math:"\\chi'(G)"})," is the minimum number of colors needed."]})]}),e.jsx(re,{title:"Edge Chromatic Numbers",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(s,{math:"\\chi'(K_n) = n - 1"})," if ",e.jsx(s,{math:"n"})," is even,"," ",e.jsx(s,{math:"n"})," if ",e.jsx(s,{math:"n"})," is odd"]}),e.jsx("li",{children:e.jsx(s,{math:"\\chi'(K_{n,n}) = n"})}),e.jsxs("li",{children:[e.jsx(s,{math:"\\chi'(C_n) = 2"})," if ",e.jsx(s,{math:"n"})," is even,"," ",e.jsx(s,{math:"3"})," if odd"]}),e.jsx("li",{children:e.jsx(s,{math:"\\chi'(\\text{Petersen}) = 4"})})]})}),e.jsxs(q,{title:"Lower Bound",children:[e.jsxs("p",{children:[e.jsx(s,{math:"\\chi'(G) \\geq \\Delta(G)"})," for every graph"," ",e.jsx(s,{math:"G"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["At any vertex ",e.jsx(s,{math:"v"})," of degree ",e.jsx(s,{math:"d(v)"}),", all ",e.jsx(s,{math:"d(v)"})," incident edges need different colors. Thus"," ",e.jsx(s,{math:"\\chi'(G) \\geq \\max_v d(v) = \\Delta(G)"}),"."]})})]})]}),e.jsx("h2",{children:"Vizing's Theorem"}),e.jsxs(q,{title:"Vizing's Theorem (Theorem 7.1.1)",children:[e.jsxs("p",{children:["For any simple graph ",e.jsx(s,{math:"G"}),":"]}),e.jsx(W,{math:"\\Delta(G) \\leq \\chi'(G) \\leq \\Delta(G) + 1"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["The lower bound is obvious. For the upper bound, color edges greedily. When an edge ",e.jsx(s,{math:"e = uv"})," can't be colored with"," ",e.jsx(s,{math:"\\Delta"}),' colors, use "Vizing fan" argument: construct alternating paths of colors (Kempe chains for edges) to recolor and make room for ',e.jsx(s,{math:"e"}),"."]})})]})]}),e.jsxs(B,{title:"Class 1 and Class 2",children:[e.jsxs("p",{children:["A graph is ",e.jsx("strong",{children:"Class 1"})," if"," ",e.jsx(s,{math:"\\chi'(G) = \\Delta(G)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["A graph is ",e.jsx("strong",{children:"Class 2"})," if"," ",e.jsx(s,{math:"\\chi'(G) = \\Delta(G) + 1"}),"."]})]}),e.jsx(re,{title:"Classification Examples",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Class 1:"})," All bipartite graphs, ",e.jsx(s,{math:"K_{2n}"}),", most planar graphs"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Class 2:"})," ",e.jsx(s,{math:"K_{2n+1}"}),","," ",e.jsx(s,{math:"C_{2n+1}"}),", Petersen graph"]})]})}),e.jsxs(q,{title:"Knig's Edge Coloring Theorem (Theorem 7.1.4)",children:[e.jsxs("p",{children:["Every bipartite graph is Class 1:"," ",e.jsx(s,{math:"\\chi'(G) = \\Delta(G)"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["Induct on ",e.jsx(s,{math:"m"}),". Given a ",e.jsx(s,{math:"\\Delta"}),"-edge-coloring of ",e.jsx(s,{math:"G - e"}),", extend to"," ",e.jsx(s,{math:"G"})," using Kempe chains of alternating colors. Since"," ",e.jsx(s,{math:"G"})," is bipartite, chains don't form odd cycles, so recoloring works."]})})]})]}),e.jsx("h2",{children:"Line Graphs"}),e.jsxs(B,{title:"Line Graph",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"line graph"})," ",e.jsx(s,{math:"L(G)"})," of graph"," ",e.jsx(s,{math:"G"})," has:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["Vertices: edges of ",e.jsx(s,{math:"G"})]}),e.jsxs("li",{children:["Edges: two vertices of ",e.jsx(s,{math:"L(G)"})," are adjacent iff the corresponding edges of ",e.jsx(s,{math:"G"})," share an endpoint"]})]})]}),e.jsx(re,{title:"Line Graph Examples",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(s,{math:"L(K_n) = T(n)"}),", the triangular graph (vertices are 2-subsets of ",e.jsx(s,{math:"[n]"}),", adjacent if they intersect)"]}),e.jsxs("li",{children:[e.jsx(s,{math:"L(K_{m,n}) = K_m \\square K_n"})," (Cartesian product)"]}),e.jsx("li",{children:e.jsx(s,{math:"L(C_n) = C_n"})}),e.jsx("li",{children:e.jsx(s,{math:"L(P_n) = P_{n-1}"})})]})}),e.jsxs(q,{title:"Edge Coloring via Line Graphs",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"This follows directly from the definitions of edge coloring and line graph."}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:["Edge coloring of ",e.jsx(s,{math:"G"}),":"]})," Assign colors to edges of"," ",e.jsx(s,{math:"G"})," such that edges sharing an endpoint have different colors."]}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:["Line graph ",e.jsx(s,{math:"L(G)"}),":"]})," Vertices of"," ",e.jsx(s,{math:"L(G)"})," are edges of ",e.jsx(s,{math:"G"}),". Two vertices of"," ",e.jsx(s,{math:"L(G)"})," are adjacent iff the corresponding edges of"," ",e.jsx(s,{math:"G"})," share an endpoint."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Equivalence:"})," A proper edge coloring of ",e.jsx(s,{math:"G"})," assigns different colors to adjacent edges = assigns different colors to adjacent vertices of"," ",e.jsx(s,{math:"L(G)"})," = proper vertex coloring of ",e.jsx(s,{math:"L(G)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The minimum number of colors is the same: ",e.jsx(s,{math:"\\chi'(G) = \\chi(L(G))"}),"."]})]}),children:[e.jsx("p",{children:e.jsx(s,{math:"\\chi'(G) = \\chi(L(G))"})}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["Edge coloring of ",e.jsx(s,{math:"G"})," = vertex coloring of"," ",e.jsx(s,{math:"L(G)"}),"."]})]}),e.jsxs(q,{title:"Line Graph Clique Number",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["A clique in ",e.jsx(s,{math:"L(G)"})," corresponds to a set of edges of"," ",e.jsx(s,{math:"G"})," that are pairwise adjacent (share endpoints)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Type 1 cliques:"})," All edges incident to a single vertex"," ",e.jsx(s,{math:"v"}),". These form a clique of size ",e.jsx(s,{math:"d(v)"})," in"," ",e.jsx(s,{math:"L(G)"}),". Maximum size: ",e.jsx(s,{math:"\\Delta(G)"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Type 2 cliques:"}),' Edges forming a "triangle" or more generally a clique in ',e.jsx(s,{math:"G"}),". A triangle ",e.jsx(s,{math:"K_3"})," in ",e.jsx(s,{math:"G"})," ","gives 3 pairwise adjacent edges, forming a clique of size 3 in ",e.jsx(s,{math:"L(G)"}),". This corresponds to ",e.jsx(s,{math:"\\omega'(G)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Every maximal clique in ",e.jsx(s,{math:"L(G)"})," is either all edges at a vertex (Type 1) or edges of a clique in ",e.jsx(s,{math:"G"})," (Type 2)."]}),e.jsxs("p",{className:"mt-2",children:["Therefore: ",e.jsx(s,{math:"\\omega(L(G)) = \\max(\\Delta(G), \\omega'(G))"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Note: For triangle-free graphs, ",e.jsx(s,{math:"\\omega'(G) \\leq 2"}),", so"," ",e.jsx(s,{math:"\\omega(L(G)) = \\Delta(G)"}),"."]})]}),children:[e.jsx("p",{children:e.jsx(s,{math:"\\omega(L(G)) = \\max(\\Delta(G), \\omega'(G))"})}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(s,{math:"\\omega'(G)"})," is the maximum number of edges pairwise sharing endpoints (triangle gives 3 mutually adjacent edges)."]})]}),e.jsx("h3",{children:"Characterizing Line Graphs"}),e.jsxs(q,{title:"Beineke's Characterization (Theorem 7.1.16)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Necessity:"})," We show line graphs cannot contain the forbidden subgraphs."]}),e.jsxs("p",{className:"mt-2",children:["The key forbidden graph is ",e.jsx(s,{math:"K_{'{'}1,3{'}'}"})," (claw): three edges sharing a common endpoint would require one vertex with three non-adjacent neighbors in"," ",e.jsx(s,{math:"L(G)"}),". But if edges ",e.jsx(s,{math:"e_1, e_2, e_3"})," all share endpoint ",e.jsx(s,{math:"v"}),", then in the original graph ",e.jsx(s,{math:"G"}),", the other endpoints are pairwise non-adjacent only if no two share a vertexbut this contradicts having a fourth edge adjacent to all three."]}),e.jsxs("p",{className:"mt-2",children:["Similar arguments exclude the other eight graphs in Beineke's list (including"," ",e.jsx(s,{math:"K_5 - e"}),", ",e.jsx(s,{math:"K_{'{'}2,3{'}'}"})," subdivisions, etc.)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Sufficiency:"})," If ",e.jsx(s,{math:"H"})," contains no forbidden subgraph, construct ",e.jsx(s,{math:"G"})," with ",e.jsx(s,{math:"L(G) = H"}),":"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"The claw-free property ensures each maximal clique has a specific structure"}),e.jsxs("li",{children:["Partition edges of ",e.jsx(s,{math:"H"})," into cliques (each from a vertex of"," ",e.jsx(s,{math:"G"}),")"]}),e.jsx("li",{children:"The other forbidden graphs ensure this partition gives a valid graph"})]})]}),children:[e.jsxs("p",{children:["A graph ",e.jsx(s,{math:"H"})," is a line graph if and only if"," ",e.jsx(s,{math:"H"})," has none of the nine forbidden induced subgraphs shown in Beineke's list."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["The forbidden graphs include ",e.jsx(s,{math:"K_{1,3}"})," (claw) and eight others."]})]}),e.jsxs(B,{title:"Claw-Free Graph",children:[e.jsxs("p",{children:["A graph is ",e.jsx("strong",{children:"claw-free"})," if it contains no induced"," ",e.jsx(s,{math:"K_{1,3}"}),"."]}),e.jsx("p",{className:"mt-2",children:"Every line graph is claw-free, but not conversely."})]}),e.jsx("h2",{children:"Multigraph Edge Coloring"}),e.jsx(B,{title:"Multigraph Edge Chromatic Number",children:e.jsxs("p",{children:["For multigraphs, ",e.jsx(s,{math:"\\chi'(G)"})," can exceed"," ",e.jsx(s,{math:"\\Delta(G) + 1"}),". The ",e.jsx("strong",{children:"multiplicity"})," ",e.jsx(s,{math:"\\mu(G)"})," is the maximum number of parallel edges between any pair of vertices."]})}),e.jsxs(q,{title:"Shannon's Theorem (Theorem 7.1.10)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["We prove by induction on ",e.jsx(s,{math:"m"})," that"," ",e.jsx(s,{math:"\\chi'(G) \\leq \\lfloor 3\\Delta/2 \\rfloor"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Base:"})," If ",e.jsx(s,{math:"m = 0"}),", trivially true."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Inductive step:"})," Remove an edge ",e.jsx(s,{math:"e = uv"}),". By induction,"," ",e.jsx(s,{math:"G - e"})," has a ",e.jsx(s,{math:"\\lfloor 3\\Delta/2 \\rfloor"}),"-edge-coloring."]}),e.jsxs("p",{className:"mt-2",children:["We need to color ",e.jsx(s,{math:"e"}),'. The colors "missing" at ',e.jsx(s,{math:"u"})," ","(not used by edges at ",e.jsx(s,{math:"u"}),") number at least"," ",e.jsx(s,{math:"\\lfloor 3\\Delta/2 \\rfloor - (d(u) - 1)"}),". Similarly for ",e.jsx(s,{math:"v"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Key counting:"})," Since ",e.jsx(s,{math:"d(u), d(v) \\leq \\Delta"}),", the number of missing colors at ",e.jsx(s,{math:"u"})," is at least"," ",e.jsx(s,{math:"\\lfloor 3\\Delta/2 \\rfloor - \\Delta + 1 = \\lceil \\Delta/2 \\rceil + 1"}),"."]}),e.jsxs("p",{className:"mt-2",children:["If the missing colors at ",e.jsx(s,{math:"u"})," and ",e.jsx(s,{math:"v"}),` have no color in common, we can still find an available color by a careful "fan" argument similar to Vizing's proof, using the fact that`," ",e.jsx(s,{math:"\\lfloor 3\\Delta/2 \\rfloor"})," colors provide enough slack."]})]}),children:[e.jsxs("p",{children:["For any multigraph ",e.jsx(s,{math:"G"}),":"]}),e.jsx(W,{math:"\\chi'(G) \\leq \\left\\lfloor \\frac{3\\Delta(G)}{2} \\right\\rfloor"})]}),e.jsx(q,{title:"Vizing's Theorem for Multigraphs",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"The proof extends Vizing's fan argument for simple graphs."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Setup:"})," Suppose we have a ",e.jsx(s,{math:"(\\Delta + \\mu)"}),"-edge-coloring of ",e.jsx(s,{math:"G - e"})," where ",e.jsx(s,{math:"e = uv"}),". We show"," ",e.jsx(s,{math:"e"})," can be colored."]}),e.jsxs("p",{className:"mt-2",children:["At vertex ",e.jsx(s,{math:"u"}),", the number of missing colors (not used by edges at"," ",e.jsx(s,{math:"u"}),") is at least ",e.jsx(s,{math:"(\\Delta + \\mu) - d(u) + 1 \\geq \\mu + 1"}),"."]}),e.jsxs("p",{className:"mt-2",children:["At vertex ",e.jsx(s,{math:"v"}),", similarly at least ",e.jsx(s,{math:"\\mu + 1"})," colors are missing."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Key insight:"})," Between ",e.jsx(s,{math:"u"})," and ",e.jsx(s,{math:"v"}),", there are at most ",e.jsx(s,{math:"\\mu - 1"})," edges in ",e.jsx(s,{math:"G - e"})," ","(since ",e.jsx(s,{math:"e"})," is one of the ",e.jsx(s,{math:"\\mu"})," parallel edges). These use at most ",e.jsx(s,{math:"\\mu - 1"})," colors at both ends."]}),e.jsxs("p",{className:"mt-2",children:["With ",e.jsx(s,{math:"\\geq \\mu + 1"})," colors missing at each of ",e.jsx(s,{math:"u, v"}),", and at most ",e.jsx(s,{math:"\\mu - 1"}),' colors "blocked" by parallel edges, by pigeonhole some color is available for ',e.jsx(s,{math:"e"}),"."]})]}),children:e.jsx("p",{children:e.jsx(s,{math:"\\chi'(G) \\leq \\Delta(G) + \\mu(G)"})})}),e.jsx("h2",{children:"Edge Coloring Algorithms"}),e.jsx(q,{title:"Misra-Gries Algorithm",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["The algorithm colors edges one at a time, maintaining a valid"," ",e.jsx(s,{math:"(\\Delta + 1)"}),"-edge-coloring."]}),e.jsx("p",{className:"mt-2",children:e.jsxs("strong",{children:["Algorithm for adding edge ",e.jsx(s,{math:"e = uv"}),":"]})}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["If some color ",e.jsx(s,{math:"c"})," is missing at both ",e.jsx(s,{math:"u"})," ","and ",e.jsx(s,{math:"v"}),", color ",e.jsx(s,{math:"e"})," with ",e.jsx(s,{math:"c"}),"."]}),e.jsxs("li",{children:['Otherwise, build a "Vizing fan": a sequence of edges at ',e.jsx(s,{math:"u"})," ","using colors missing at their other endpoints."]}),e.jsxs("li",{children:["Rotate colors along the fan, then either find a free color for ",e.jsx(s,{math:"e"}),", or find two edges using colors missing at ",e.jsx(s,{math:"u"})," and ",e.jsx(s,{math:"v"}),"."]}),e.jsx("li",{children:"In the latter case, swap colors along an alternating path (Kempe chain) to free a color."})]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Time analysis:"})," Building a fan takes ",e.jsx(s,{math:"O(\\Delta)"})," time. Swapping along a Kempe chain takes ",e.jsx(s,{math:"O(n)"})," time. Thus each edge takes"," ",e.jsx(s,{math:"O(n)"})," time, giving ",e.jsx(s,{math:"O(mn)"})," total."]})]}),children:e.jsxs("p",{children:["A ",e.jsx(s,{math:"(\\Delta + 1)"}),"-edge-coloring can be computed in"," ",e.jsx(s,{math:"O(mn)"})," time using Vizing fan rotations."]})}),e.jsxs(q,{title:"Complexity of Optimal Edge Coloring",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsx("strong",{children:"NP-completeness (Holyer, 1981):"})}),e.jsx("p",{className:"mt-2",children:"The reduction is from 3-SAT. Given a 3-SAT formula, construct a 3-regular graph where:"}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["The graph is Class 1 (",e.jsx(s,{math:"\\chi' = 3"}),") iff the formula is satisfiable"]}),e.jsxs("li",{children:["The graph is Class 2 (",e.jsx(s,{math:"\\chi' = 4"}),") iff the formula is unsatisfiable"]})]}),e.jsx("p",{className:"mt-2",children:"The construction uses gadgets that encode variable assignments (true/false corresponds to two different 3-edge-colorings of a subgraph) and clause satisfaction."}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Polynomial time for bipartite graphs:"})}),e.jsxs("p",{className:"mt-2",children:["By Knig's theorem, bipartite graphs are Class 1. A"," ",e.jsx(s,{math:"\\Delta"}),"-edge-coloring can be found by:"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"Reducing to bipartite matching: each color class is a matching"}),e.jsxs("li",{children:["Using Hall's theorem and augmenting paths to find"," ",e.jsx(s,{math:"\\Delta"})," disjoint matchings covering all edges"]})]}),e.jsxs("p",{className:"mt-2",children:["This can be done in ",e.jsx(s,{math:"O(m\\sqrt{'{'}n{'}'})"})," time using Hopcroft-Karp matching."]})]}),children:[e.jsxs("p",{children:["Determining whether a graph is Class 1 (i.e., whether"," ",e.jsx(s,{math:"\\chi' = \\Delta"}),") is NP-complete even for 3-regular graphs."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["However, for bipartite graphs, a ",e.jsx(s,{math:"\\Delta"}),"-edge-coloring can be found in polynomial time."]})]}),e.jsx("h2",{children:"Applications"}),e.jsx("h3",{children:"Round-Robin Tournaments"}),e.jsxs(re,{title:"Scheduling Tournaments",children:[e.jsxs("p",{children:["In a round-robin tournament with ",e.jsx(s,{math:"n"})," teams, each team plays every other team once. Model as ",e.jsx(s,{math:"K_n"}),": vertices are teams, edges are games."]}),e.jsxs("p",{className:"mt-2",children:["An edge coloring assigns rounds: all games of one color happen in one round."," ",e.jsx(s,{math:"\\chi'(K_n)"})," = minimum rounds needed."]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(s,{math:"n"})," even: ",e.jsx(s,{math:"n - 1"})," rounds suffice. For ",e.jsx(s,{math:"n"})," odd: ",e.jsx(s,{math:"n"})," rounds needed (one team has a bye each round)."]})]}),e.jsx("h3",{children:"Frequency Assignment"}),e.jsx(re,{title:"Radio Frequency Assignment",children:e.jsx("p",{children:"Transmitters that might interfere are connected by edges. Edge colors represent time slots or frequencies. An edge coloring ensures non-interfering transmission schedules."})}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Edge Chromatic Number:"})," ",e.jsx(s,{math:"\\chi'(G)"})," = minimum colors for proper edge coloring."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Vizing's Theorem:"})," ",e.jsx(s,{math:"\\Delta(G) \\leq \\chi'(G) \\leq \\Delta(G) + 1"})," for simple graphs."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Class 1 vs Class 2:"})," Class 1 achieves lower bound; Class 2 needs extra color."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Knig:"})," Bipartite graphs are Class 1."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Line Graph:"})," ",e.jsx(s,{math:"L(G)"})," converts edges to vertices; ",e.jsx(s,{math:"\\chi'(G) = \\chi(L(G))"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Multigraphs:"})," ",e.jsx(s,{math:"\\chi' \\leq \\Delta + \\mu"})," and"," ",e.jsx(s,{math:"\\chi' \\leq 3\\Delta/2"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Complexity:"})," Deciding Class 1 is NP-complete, but"," ",e.jsx(s,{math:"(\\Delta + 1)"}),"-coloring is polynomial."]})]})]})}function GG(){return e.jsxs(ze,{sectionId:21,children:[e.jsx("p",{children:"A Hamiltonian cycle visits every vertex exactly once and returns to startthe graph-theoretic version of the Traveling Salesman Problem. Unlike Eulerian circuits (which we characterized completely), there is no simple criterion for Hamiltonian cycles. We study sufficient conditions that guarantee existence and necessary conditions for specific graph families."}),e.jsx("h2",{children:"Hamiltonian Graphs"}),e.jsxs(B,{title:"Hamiltonian Path and Cycle",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"Hamiltonian path"})," is a path that visits every vertex exactly once."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"Hamiltonian cycle"})," is a cycle that visits every vertex exactly once."]}),e.jsxs("p",{className:"mt-2",children:["A graph is ",e.jsx("strong",{children:"Hamiltonian"})," if it has a Hamiltonian cycle."]})]}),e.jsx(re,{title:"Hamiltonian and Non-Hamiltonian Graphs",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Hamiltonian:"})," ",e.jsx(s,{math:"K_n"})," (",e.jsx(s,{math:"n \\geq 3"}),"), ",e.jsx(s,{math:"C_n"}),","," ",e.jsx(s,{math:"K_{n,n}"})," (",e.jsx(s,{math:"n \\geq 2"}),"), cube graph, dodecahedron"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Non-Hamiltonian:"})," ",e.jsx(s,{math:"K_{m,n}"})," (",e.jsx(s,{math:"m \\neq n"}),"), Petersen graph, any graph with a cut-vertex, bipartite graphs with unequal parts"]})]})}),e.jsx(lG,{className:"my-8"}),e.jsx("h2",{children:"Necessary Conditions"}),e.jsxs(q,{title:"Necessary Condition 1",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," is Hamiltonian and ",e.jsx(s,{math:"S"})," is a proper nonempty subset of ",e.jsx(s,{math:"V(G)"}),", then the number of components of ",e.jsx(s,{math:"G - S"})," is at most"," ",e.jsx(s,{math:"|S|"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["A Hamiltonian cycle visiting vertices of"," ",e.jsx(s,{math:"G - S"})," must pass through"," ",e.jsx(s,{math:"S"})," between consecutive components. Each transition uses at least one vertex of ",e.jsx(s,{math:"S"}),", so components "," ",e.jsx(s,{math:"|S|"}),"."]})})]})]}),e.jsxs(re,{title:"Petersen Graph is Non-Hamiltonian",children:[e.jsx("p",{children:"The Petersen graph has 10 vertices and is 3-regular. Remove the 5 vertices of the outer pentagon: the remaining 5 vertices (inner star) form an independent set5 isolated vertices!"}),e.jsxs("p",{className:"mt-2",children:["With ",e.jsx(s,{math:"|S| = 5"})," but 5 components, the necessary condition barely holds. A careful case analysis shows no Hamiltonian cycle exists."]})]}),e.jsxs(q,{title:"Bipartite Necessary Condition",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"A Hamiltonian cycle visits every vertex exactly once, alternating between the two parts of the bipartition."}),e.jsxs("p",{className:"mt-2",children:["In a bipartite graph ",e.jsx(s,{math:"G"})," with parts ",e.jsx(s,{math:"X"})," and"," ",e.jsx(s,{math:"Y"}),", every edge connects a vertex in ",e.jsx(s,{math:"X"})," to one in ",e.jsx(s,{math:"Y"}),"."]}),e.jsxs("p",{className:"mt-2",children:["A Hamiltonian cycle of length ",e.jsx(s,{math:"n = |X| + |Y|"})," must traverse edges alternating: ",e.jsx(s,{math:"x_1 - y_1 - x_2 - y_2 - \\cdots"})," and return to"," ",e.jsx(s,{math:"x_1"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For the cycle to close (return from ",e.jsx(s,{math:"Y"})," to"," ",e.jsx(s,{math:"x_1 \\in X"}),"), we need equal numbers of vertices in each part. After visiting ",e.jsx(s,{math:"|X|"})," vertices from ",e.jsx(s,{math:"X"}),", we must have visited exactly ",e.jsx(s,{math:"|X|"})," vertices from"," ",e.jsx(s,{math:"Y"})," to return."]}),e.jsxs("p",{className:"mt-2",children:["Therefore ",e.jsx(s,{math:"|X| = |Y|"})," is necessary."]})]}),children:[e.jsxs("p",{children:["A bipartite graph ",e.jsx(s,{math:"G"})," with bipartition"," ",e.jsx(s,{math:"(X, Y)"})," has a Hamiltonian cycle only if"," ",e.jsx(s,{math:"|X| = |Y|"}),"."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["The Hamiltonian cycle must alternate between ",e.jsx(s,{math:"X"})," and"," ",e.jsx(s,{math:"Y"}),"."]})]}),e.jsx("h2",{children:"Sufficient Conditions"}),e.jsxs(q,{title:"Dirac's Theorem (Theorem 7.2.1)",children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," is a simple graph with ",e.jsx(s,{math:"n \\geq 3"})," ","vertices and ",e.jsx(s,{math:"\\delta(G) \\geq n/2"}),", then"," ",e.jsx(s,{math:"G"})," is Hamiltonian."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"P = v_1 v_2 \\cdots v_k"})," be a longest path. If"," ",e.jsx(s,{math:"k < n"}),", all neighbors of ",e.jsx(s,{math:"v_1"})," and"," ",e.jsx(s,{math:"v_k"})," are on ",e.jsx(s,{math:"P"})," (else extend)."]}),e.jsxs("p",{className:"mt-2",children:["By pigeonhole with ",e.jsx(s,{math:"\\delta \\geq n/2"}),", there exists"," ",e.jsx(s,{math:"v_i"})," where ",e.jsx(s,{math:"v_1 v_{i+1}"})," and"," ",e.jsx(s,{math:"v_k v_i"})," are edges. This creates a cycle covering"," ",e.jsx(s,{math:"P"}),". Since ",e.jsx(s,{math:"k < n"}),", an uncovered vertex is adjacent to the cycle, giving a longer pathcontradiction."]})]})]})]}),e.jsx(re,{title:"Dirac's Theorem is Sharp",children:e.jsxs("p",{children:["Consider ",e.jsx(s,{math:"K_{n/2, n/2 + 1}"})," (with ",e.jsx(s,{math:"n"})," ","odd). This has ",e.jsx(s,{math:"\\delta = n/2"})," but is not Hamiltonian (unequal parts). So ",e.jsx(s,{math:"\\delta \\geq n/2"})," is best possible."]})}),e.jsxs(q,{title:"Ore's Theorem (Theorem 7.2.3)",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"The proof is similar to Dirac's, using the longest path argument."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Step 1:"})," Let ",e.jsx(s,{math:"P = v_1 v_2 \\cdots v_k"})," be a longest path in ",e.jsx(s,{math:"G"}),". If ",e.jsx(s,{math:"k < n"}),", all neighbors of"," ",e.jsx(s,{math:"v_1"})," and ",e.jsx(s,{math:"v_k"})," lie on ",e.jsx(s,{math:"P"})," ","(otherwise ",e.jsx(s,{math:"P"})," could be extended)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Step 2:"})," Form a cycle from ",e.jsx(s,{math:"P"}),". Let"," ",e.jsx(s,{math:"S = \\{'{'}i : v_1 v_{'{'}i+1{'}'} \\in E{'}'}"})," and"," ",e.jsx(s,{math:"T = \\{'{'}i : v_k v_i \\in E{'}'}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["We have ",e.jsx(s,{math:"|S| = d(v_1)"})," and ",e.jsx(s,{math:"|T| = d(v_k)"}),", both subsets of ",e.jsx(s,{math:"\\{'{'}1, \\ldots, k-1{'}'}"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Step 3:"})," If ",e.jsx(s,{math:"v_1"})," and ",e.jsx(s,{math:"v_k"})," ","are non-adjacent, then ",e.jsx(s,{math:"d(v_1) + d(v_k) \\geq n > k - 1"})," by Ore's condition. By pigeonhole, ",e.jsx(s,{math:"S \\cap T \\neq \\emptyset"}),": some"," ",e.jsx(s,{math:"i \\in S \\cap T"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Then ",e.jsx(s,{math:"v_1 v_{'{'}i+1{'}'} \\cdots v_k v_i \\cdots v_1"})," is a cycle covering ",e.jsx(s,{math:"P"}),". If ",e.jsx(s,{math:"k < n"}),", some vertex"," ",e.jsx(s,{math:"w \\notin P"})," is adjacent to the cycle, giving a longer pathcontradiction."]})]}),children:[e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," is a simple graph with ",e.jsx(s,{math:"n \\geq 3"})," ","vertices such that for every pair of non-adjacent vertices"," ",e.jsx(s,{math:"u, v"}),":"]}),e.jsx(W,{math:"d(u) + d(v) \\geq n"}),e.jsxs("p",{className:"mt-2",children:["then ",e.jsx(s,{math:"G"})," is Hamiltonian."]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"Ore's condition is weaker than Dirac's (allows low-degree vertices if they're adjacent to everything)."})]}),e.jsx(B,{title:"Closure",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"closure"})," ",e.jsx(s,{math:"cl(G)"})," of graph"," ",e.jsx(s,{math:"G"})," is obtained by repeatedly adding edges between non-adjacent vertices ",e.jsx(s,{math:"u, v"})," with"," ",e.jsx(s,{math:"d(u) + d(v) \\geq n"})," until no more can be added."]})}),e.jsxs(q,{title:"Bondy-Chvtal Theorem (Theorem 7.2.6)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"():"})," If ",e.jsx(s,{math:"cl(G)"})," is Hamiltonian, we show"," ",e.jsx(s,{math:"G"})," is Hamiltonian."]}),e.jsxs("p",{className:"mt-2",children:["Consider the last edge ",e.jsx(s,{math:"e = uv"})," added in forming"," ",e.jsx(s,{math:"cl(G)"})," from ",e.jsx(s,{math:"G"}),". Let"," ",e.jsx(s,{math:"H = cl(G) - e"}),". We had ",e.jsx(s,{math:"d_H(u) + d_H(v) \\geq n"}),"."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"cl(G)"})," has a Hamiltonian cycle ",e.jsx(s,{math:"C"})," using"," ",e.jsx(s,{math:"e"}),", the Ore-type argument (from the proof of Ore's theorem) shows",e.jsx(s,{math:"H"})," also has a Hamiltonian cycle (using the pigeonhole argument on the path ",e.jsx(s,{math:"C - e"}),")."]}),e.jsxs("p",{className:"mt-2",children:["By induction backward through the closure construction, ",e.jsx(s,{math:"G"})," is Hamiltonian."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"():"})," If ",e.jsx(s,{math:"G"})," is Hamiltonian, then"," ",e.jsx(s,{math:"cl(G) \\supseteq G"})," is also Hamiltonian (adding edges preserves Hamiltonian cycles)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Uniqueness:"})," The closure is the unique graph containing"," ",e.jsx(s,{math:"G"})," where no non-adjacent pair has degree sum ",e.jsx(s,{math:"\\geq n"}),"."]})]}),children:[e.jsxs("p",{children:["A graph ",e.jsx(s,{math:"G"})," is Hamiltonian if and only if"," ",e.jsx(s,{math:"cl(G)"})," is Hamiltonian."]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"The closure is unique (independent of order of edge additions)."})]}),e.jsx(re,{title:"Using Closure",children:e.jsxs("p",{children:["If ",e.jsx(s,{math:"cl(G) = K_n"}),", then ",e.jsx(s,{math:"G"})," is Hamiltonian. This gives a simple sufficient condition checkable in polynomial time."]})}),e.jsx("h2",{children:"Degree Sequences"}),e.jsx(B,{title:"Hamiltonian Degree Sequence",children:e.jsxs("p",{children:["A degree sequence is ",e.jsx("strong",{children:"forcibly Hamiltonian"})," if every simple graph with that degree sequence is Hamiltonian."]})}),e.jsxs(q,{title:"Chvtal's Theorem (Theorem 7.2.8)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["We show any graph ",e.jsx(s,{math:"G"})," with this degree sequence has closure"," ",e.jsx(s,{math:"K_n"}),", hence is Hamiltonian by Bondy-Chvtal."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Claim:"})," If ",e.jsx(s,{math:"G"})," has the given degree sequence and ",e.jsx(s,{math:"u, v"})," are non-adjacent with ",e.jsx(s,{math:"d(u) \\leq d(v)"}),", then ",e.jsx(s,{math:"d(u) + d(v) \\geq n"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Proof of claim:"})," Let ",e.jsx(s,{math:"d(u) = k"}),". Since"," ",e.jsx(s,{math:"u"})," is non-adjacent to ",e.jsx(s,{math:"v"}),","," ",e.jsx(s,{math:"u"})," has at most ",e.jsx(s,{math:"n - 2"})," neighbors."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"k < n/2"}),", then by the degree sequence condition, vertex ",e.jsx(s,{math:"v"})," (with ",e.jsx(s,{math:"d(v) \\geq d(u) = k"}),") has the property that the number of vertices with degree ",e.jsx(s,{math:"\\leq k"})," ","is at most ",e.jsx(s,{math:"k"}),". Thus ",e.jsx(s,{math:"d(v) \\geq n - k"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Therefore ",e.jsx(s,{math:"d(u) + d(v) \\geq k + (n-k) = n"}),"."]}),e.jsxs("p",{className:"mt-2",children:["This means the closure process adds edges until we reach ",e.jsx(s,{math:"K_n"}),", which is Hamiltonian."]})]}),children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"d_1 \\leq d_2 \\leq \\cdots \\leq d_n"})," be a degree sequence with ",e.jsx(s,{math:"n \\geq 3"}),". If for all"," ",e.jsx(s,{math:"k < n/2"}),":"]}),e.jsx(W,{math:"d_k \\leq k \\implies d_{n-k} \\geq n - k"}),e.jsx("p",{className:"mt-2",children:"then the sequence is forcibly Hamiltonian."})]}),e.jsx("h2",{children:"Hamiltonian Paths"}),e.jsx(q,{title:"Path Version of Dirac",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"We use a similar argument to Dirac's theorem for cycles."}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{math:"P = v_1 v_2 \\cdots v_k"})," be a longest path in"," ",e.jsx(s,{math:"G"}),". If ",e.jsx(s,{math:"k = n"}),", we're done."]}),e.jsxs("p",{className:"mt-2",children:["Suppose ",e.jsx(s,{math:"k < n"}),". All neighbors of ",e.jsx(s,{math:"v_1"})," ","and ",e.jsx(s,{math:"v_k"})," lie on ",e.jsx(s,{math:"P"})," (else"," ",e.jsx(s,{math:"P"})," could be extended)."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{math:"S = \\{'{'}i : v_1 v_{'{'}i+1{'}'} \\in E{'}'}"})," and"," ",e.jsx(s,{math:"T = \\{'{'}i : v_k v_i \\in E{'}'}"}),". Both are subsets of"," ",e.jsx(s,{math:"\\{'{'}1, \\ldots, k-1{'}'}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{math:"|S| \\geq (n-1)/2"})," and ",e.jsx(s,{math:"|T| \\geq (n-1)/2"}),", and ",e.jsx(s,{math:"k - 1 < n - 1"}),", we have"," ",e.jsx(s,{math:"|S| + |T| \\geq n - 1 > k - 1"}),"."]}),e.jsxs("p",{className:"mt-2",children:["By pigeonhole, some ",e.jsx(s,{math:"i \\in S \\cap T"}),". This creates a cycle covering"," ",e.jsx(s,{math:"P"}),". Since ",e.jsx(s,{math:"k < n"}),", some vertex outside"," ",e.jsx(s,{math:"P"})," is adjacent to this cycle, giving a longer pathcontradiction."]})]}),children:e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," has ",e.jsx(s,{math:"n \\geq 2"})," vertices and"," ",e.jsx(s,{math:"\\delta(G) \\geq (n-1)/2"}),", then ",e.jsx(s,{math:"G"})," has a Hamiltonian path."]})}),e.jsx(q,{title:"Theorem 7.2.10 (Hamiltonian Path Between Vertices)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Form a new graph ",e.jsx(s,{math:"G'"})," by adding a new vertex"," ",e.jsx(s,{math:"z"})," adjacent to all vertices of ",e.jsx(s,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:["In ",e.jsx(s,{math:"G'"}),", for any non-adjacent pair"," ",e.jsx(s,{math:"u, v \\in V(G)"}),":"]}),e.jsx(W,{math:"d_{G'}(u) + d_{G'}(v) = (d_G(u) + 1) + (d_G(v) + 1) = d_G(u) + d_G(v) + 2 \\geq n + 1 = |V(G')|"}),e.jsxs("p",{className:"mt-2",children:["By Ore's theorem, ",e.jsx(s,{math:"G'"})," is Hamiltonian. Let"," ",e.jsx(s,{math:"C"})," be a Hamiltonian cycle in ",e.jsx(s,{math:"G'"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Remove ",e.jsx(s,{math:"z"})," from ",e.jsx(s,{math:"C"}),": the remaining path visits all vertices of ",e.jsx(s,{math:"G"})," exactly once."]}),e.jsxs("p",{className:"mt-2",children:["This path is a Hamiltonian path in ",e.jsx(s,{math:"G"}),"."]})]}),children:e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," is simple with ",e.jsx(s,{math:"n \\geq 3"})," ","vertices, and for non-adjacent ",e.jsx(s,{math:"u, v"}),":"," ",e.jsx(s,{math:"d(u) + d(v) \\geq n - 1"}),", then there is a Hamiltonian path."]})}),e.jsx("h2",{children:"Special Graph Classes"}),e.jsx(q,{title:"Complete Bipartite Graphs",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"() Necessity:"})," If ",e.jsx(s,{math:"K_{'{'}m,n{'}'}"})," is Hamiltonian, then ",e.jsx(s,{math:"m = n"})," by the bipartite necessary condition."]}),e.jsxs("p",{className:"mt-2",children:["Also ",e.jsx(s,{math:"m, n \\geq 2"})," since a Hamiltonian cycle needs at least 3 vertices and the cycle must alternate between parts."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"() Sufficiency:"})," Let the parts be"," ",e.jsx(s,{math:"X = \\{'{'}x_1, \\ldots, x_n{'}'}"})," and"," ",e.jsx(s,{math:"Y = \\{'{'}y_1, \\ldots, y_n{'}'}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{math:"K_{'{'}n,n{'}'}"})," has every vertex in one part adjacent to every vertex in the other, the cycle:"]}),e.jsx(W,{math:"x_1 - y_1 - x_2 - y_2 - \\cdots - x_n - y_n - x_1"}),e.jsxs("p",{className:"mt-2",children:["visits all ",e.jsx(s,{math:"2n"})," vertices exactly once and returns to the start. This is a Hamiltonian cycle."]})]}),children:e.jsxs("p",{children:[e.jsx(s,{math:"K_{m,n}"})," is Hamiltonian if and only if"," ",e.jsx(s,{math:"m = n \\geq 2"}),"."]})}),e.jsxs(q,{title:"Hypercube is Hamiltonian",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["We prove by induction on ",e.jsx(s,{math:"n"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:["Base case (",e.jsx(s,{math:"n = 2"}),"):"]})," ",e.jsx(s,{math:"Q_2 = C_4"}),", which is a Hamiltonian cycle itself."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Inductive step:"})," Assume ",e.jsx(s,{math:"Q_{'{'}n-1{'}'}"})," is Hamiltonian. ",e.jsx(s,{math:"Q_n"})," consists of two copies of"," ",e.jsx(s,{math:"Q_{'{'}n-1{'}'}"})," (one with first bit 0, one with first bit 1), connected by edges between corresponding vertices."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{math:"H_0"})," and ",e.jsx(s,{math:"H_1"})," be Hamiltonian cycles in the two copies. Each vertex ",e.jsx(s,{math:"v"})," in ",e.jsx(s,{math:"H_0"}),' is connected to its "twin" in ',e.jsx(s,{math:"H_1"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Remove one edge ",e.jsx(s,{math:"uv"})," from ",e.jsx(s,{math:"H_0"})," and the corresponding edge ",e.jsx(s,{math:"u'v'"})," from ",e.jsx(s,{math:"H_1"}),". Connect"," ",e.jsx(s,{math:"u"})," to ",e.jsx(s,{math:"u'"})," and ",e.jsx(s,{math:"v"})," to"," ",e.jsx(s,{math:"v'"})," using the hypercube edges."]}),e.jsxs("p",{className:"mt-2",children:["The result is a Hamiltonian cycle in ",e.jsx(s,{math:"Q_n"}),"."]})]}),children:[e.jsxs("p",{children:["The ",e.jsx(s,{math:"n"}),"-dimensional hypercube"," ",e.jsx(s,{math:"Q_n"})," is Hamiltonian for ",e.jsx(s,{math:"n \\geq 2"}),"."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["In fact, ",e.jsx(s,{math:"Q_n"})," is Hamiltonian laceable: there's a Hamiltonian path between any two vertices of different parities."]})]}),e.jsx("h2",{children:"Complexity"}),e.jsxs(q,{title:"NP-Completeness (Karp, 1972)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"In NP:"})," A Hamiltonian cycle can be verified in polynomial time by checking that it visits each vertex exactly once and all edges are present."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"NP-hardness:"})," We reduce from 3-SAT."]}),e.jsxs("p",{className:"mt-2",children:["Given a 3-SAT formula with variables ",e.jsx(s,{math:"x_1, \\ldots, x_n"})," and clauses ",e.jsx(s,{math:"C_1, \\ldots, C_m"}),", construct a graph where:"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["Each variable ",e.jsx(s,{math:"x_i"}),' corresponds to a "variable gadget"a path that can be traversed in two directions (representing true/false)']}),e.jsxs("li",{children:["Each clause ",e.jsx(s,{math:"C_j"}),' corresponds to a "clause gadget" that can only be traversed if at least one of its literals is true']}),e.jsx("li",{children:"The gadgets are connected so that a Hamiltonian cycle exists iff the formula is satisfiable"})]}),e.jsx("p",{className:"mt-2",children:"The construction ensures that the direction of traversal through variable gadgets encodes a truth assignment, and clause gadgets force at least one true literal per clause."})]}),children:[e.jsx("p",{children:"Determining whether a graph has a Hamiltonian cycle is NP-complete."}),e.jsx("p",{className:"mt-2",children:"It remains NP-complete even for:"}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsx("li",{children:"Planar 3-connected cubic graphs"}),e.jsx("li",{children:"Bipartite graphs"}),e.jsx("li",{children:"Grid graphs"})]})]}),e.jsx("p",{children:"This contrasts sharply with Eulerian circuits, which can be found in linear time."}),e.jsx("h2",{children:"Traveling Salesman Problem"}),e.jsxs(B,{title:"TSP",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Traveling Salesman Problem"})," (TSP) asks: given a weighted complete graph, find a Hamiltonian cycle of minimum total weight."]}),e.jsx("p",{className:"mt-2",children:"The unweighted version (does a Hamiltonian cycle exist?) is a special case."})]}),e.jsxs(q,{title:"TSP Complexity",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"NP-hardness:"}),' TSP decision problem ("is there a tour of cost  k?") is NP-hard by reduction from Hamiltonian Cycle.']}),e.jsxs("p",{className:"mt-2",children:["Given graph ",e.jsx(s,{math:"G"}),", create a complete weighted graph: weight 1 for edges in ",e.jsx(s,{math:"G"}),", weight 2 for non-edges. ",e.jsx(s,{math:"G"})," has a Hamiltonian cycle iff there's a TSP tour of cost ",e.jsx(s,{math:"n"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Inapproximability:"})," For general TSP, suppose there's a polynomial",e.jsx(s,{math:"c"}),"-approximation. Given Hamiltonian Cycle instance"," ",e.jsx(s,{math:"G"}),", set non-edge weights to ",e.jsx(s,{math:"cn + 1"}),"."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"G"})," is Hamiltonian, OPT = ",e.jsx(s,{math:"n"}),", and approximation returns  ",e.jsx(s,{math:"cn"}),". If not Hamiltonian, OPT "," ",e.jsx(s,{math:"n - 1 + cn + 1 > cn"}),". This distinguishes the cases, solving NP-complete Hamiltonian Cycle."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Metric TSP:"})," When triangle inequality holds, non-edge weight tricks fail. Christofides: find MST, add minimum matching on odd-degree vertices, find Eulerian tour, shortcut. This gives ",e.jsx(s,{math:"3/2"}),"-approximation."]})]}),children:[e.jsx("p",{children:"TSP is NP-hard. The optimization version has no polynomial-time approximation scheme unless P=NP (in the general case)."}),e.jsx("p",{className:"mt-2",children:"For metric TSP (triangle inequality holds), the Christofides algorithm gives a 3/2-approximation."})]}),e.jsx("h2",{children:"Pancyclic Graphs"}),e.jsx(B,{title:"Pancyclic",children:e.jsxs("p",{children:["A graph ",e.jsx(s,{math:"G"})," is ",e.jsx("strong",{children:"pancyclic"})," if it contains cycles of every length from 3 to ",e.jsx(s,{math:"n"}),"."]})}),e.jsxs(q,{title:"Bondy's Meta-Conjecture",children:[e.jsx("p",{children:'"Almost any non-trivial condition implying that a graph is Hamiltonian also implies that it is pancyclic."'}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["For instance, if ",e.jsx(s,{math:"\\delta \\geq n/2"})," and"," ",e.jsx(s,{math:"G"})," is not bipartite, then ",e.jsx(s,{math:"G"})," is pancyclic or ",e.jsx(s,{math:"G = K_{n/2, n/2}"}),"."]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Hamiltonian:"})," Cycle visiting every vertex exactly once. Much harder than Eulerian."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Necessary:"})," Removing ",e.jsx(s,{math:"k"})," vertices leaves at most ",e.jsx(s,{math:"k"})," components."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Dirac:"})," ",e.jsx(s,{math:"\\delta \\geq n/2"})," implies Hamiltonian."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Ore:"})," ",e.jsx(s,{math:"d(u) + d(v) \\geq n"})," for all non-adjacent ",e.jsx(s,{math:"u, v"})," implies Hamiltonian."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Closure:"})," ",e.jsx(s,{math:"G"})," Hamiltonian iff"," ",e.jsx(s,{math:"cl(G)"})," Hamiltonian."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"NP-Complete:"})," No efficient algorithm known; contrasts with linear-time Eulerian."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"TSP:"})," Weighted version of Hamiltonian cycle; fundamental optimization problem."]})]})]})}function AG(){return e.jsxs(ze,{sectionId:22,children:[e.jsx("p",{children:"The interplay between planarity, coloring, and cycles reveals deep connections in graph theory. Tait showed that the Four Color Theorem is equivalent to edge-coloring cubic planar graphs. Grinberg's theorem provides a tool for proving graphs are non-Hamiltonian. Nowhere-zero flows generalize these ideas, connecting coloring to algebraic properties."}),e.jsx("h2",{children:"Tait's Theorem"}),e.jsx(B,{title:"Tait Coloring",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"Tait coloring"})," of a 3-regular (cubic) graph"," ",e.jsx(s,{math:"G"})," is a proper 3-edge-coloring."]})}),e.jsxs(q,{title:"Tait's Theorem (Theorem 7.3.2)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"(Hamiltonian implies 3-edge-colorable):"})," Let ",e.jsx(s,{math:"G"})," be a 2-edge-connected cubic planar graph with Hamiltonian cycle ",e.jsx(s,{math:"C"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The cycle ",e.jsx(s,{math:"C"})," uses exactly 2 edges at each vertex. Color the edges of ",e.jsx(s,{math:"C"})," alternately with colors 1 and 2. Since ",e.jsx(s,{math:"G"})," is cubic and ",e.jsx(s,{math:"C"})," uses 2 edges at each vertex, exactly one edge at each vertex is not in ",e.jsx(s,{math:"C"}),"."]}),e.jsx("p",{className:"mt-2",children:"These remaining edges form a perfect matching (each vertex is incident to exactly one such edge). Color all these edges with color 3. This gives a proper 3-edge-coloring."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"(3-edge-colorable implies 4-face-colorable for dual):"})," Given a Tait coloring with colors ",e.jsx(s,{math:"\\{'{'}1,2,3{'}'}"}),", the edges of colors 1 and 2 form a 2-regular spanning subgraph (a union of cycles). These cycles partition the faces into two classes. Combined with the similar partition from colors 1 and 3, we obtain 4 face classes, giving a 4-face-coloring."]})]}),children:[e.jsx("p",{children:"A planar graph is 4-face-colorable if and only if it is the dual of a bridgeless cubic planar graph that has a Tait coloring."}),e.jsx("p",{className:"mt-2",children:"More specifically: A 2-edge-connected cubic planar graph is 3-edge-colorable if and only if it is Hamiltonian."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Connection to Four Color Theorem"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsx("p",{children:"Tait (1880) tried to prove the Four Color Theorem by showing all bridgeless cubic planar graphs are Hamiltonian (which would give a Tait coloring). But the Tutte graph (1946) is a bridgeless cubic planar non-Hamiltonian graph!"}),e.jsx("p",{className:"mt-2",children:"Nevertheless, the Four Color Theorem implies all bridgeless cubic planar graphs are 3-edge-colorable (by a different argument)."})]})]})]}),e.jsx(re,{title:"Cube Graph",children:e.jsxs("p",{children:["The cube graph ",e.jsx(s,{math:"Q_3"}),' is cubic, planar, and Hamiltonian. The Hamiltonian cycle uses 8 edges, alternating in 2 colors. The remaining 4 edges (the "opposite" edges of each face) get the third color.']})}),e.jsx("h2",{children:"Grinberg's Theorem"}),e.jsx("p",{children:"Grinberg's theorem provides a necessary condition for planar graphs to be Hamiltonian, based on face sizes."}),e.jsxs(q,{title:"Grinberg's Theorem (Theorem 7.3.5)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"C"})," be the Hamiltonian cycle with ",e.jsx(s,{math:"n"})," vertices (and thus ",e.jsx(s,{math:"n"})," edges). Let ",e.jsx(s,{math:"G'"})," be the subgraph consisting of ",e.jsx(s,{math:"C"})," and all edges and vertices inside ",e.jsx(s,{math:"C"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(s,{math:"G'"}),": Let ",e.jsx(s,{math:"n'"})," be the number of vertices,"," ",e.jsx(s,{math:"m'"})," the edges, and ",e.jsx(s,{math:"f'"})," the faces (not counting the infinite face). Each face of size ",e.jsx(s,{math:"k"})," contributes"," ",e.jsx(s,{math:"k"})," to the sum of face sizes, and each edge is on exactly 2 face boundaries, so ",e.jsx(s,{math:"\\sum_k k \\cdot f'_k = 2m'"}),"."]}),e.jsxs("p",{className:"mt-2",children:["By Euler's formula for ",e.jsx(s,{math:"G'"}),": ",e.jsx(s,{math:"n' - m' + f' = 1"})," ","(the outer region is the unbounded face). Since ",e.jsx(s,{math:"C"})," has"," ",e.jsx(s,{math:"n"})," edges, and summing over face sizes:"]}),e.jsx(W,{math:"\\sum_k (k-2) f'_k = 2m' - 2f' = 2(m' - f') = 2(n' - 1) - 2 \\cdot 0 = n - 2"}),e.jsxs("p",{className:"mt-2",children:["Similarly, for faces outside: ",e.jsx(s,{math:"\\sum_k (k-2) f''_k = n - 2"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Subtracting: ",e.jsx(s,{math:"\\sum_k (k-2)(f'_k - f''_k) = (n-2) - (n-2) = 0"}),"."]})]}),children:[e.jsxs("p",{children:["If a plane graph ",e.jsx(s,{math:"G"})," has a Hamiltonian cycle"," ",e.jsx(s,{math:"C"}),", let ",e.jsx(s,{math:"f'_k"})," be the number of faces of size ",e.jsx(s,{math:"k"})," inside ",e.jsx(s,{math:"C"})," and"," ",e.jsx(s,{math:"f''_k"})," be the number outside. Then:"]}),e.jsx(W,{math:"\\sum_{k \\geq 3} (k - 2)(f'_k - f''_k) = 0"})]}),e.jsxs(re,{title:"Using Grinberg's Theorem",children:[e.jsx("p",{children:"Consider a plane graph with face sizes 5, 5, 5, 8 (4 faces). If Hamiltonian:"}),e.jsx(W,{math:"3(f'_5 - f''_5) + 6(f'_8 - f''_8) = 0"}),e.jsxs("p",{className:"mt-2",children:["With ",e.jsx(s,{math:"f'_5 + f''_5 = 3"})," and"," ",e.jsx(s,{math:"f'_8 + f''_8 = 1"}),", we need"," ",e.jsx(s,{math:"3(f'_5 - f''_5) + 6(\\pm 1) = 0"}),". This requires"," ",e.jsx(s,{math:"f'_5 - f''_5 = \\pm 2"}),", which is impossible since all values have the same parity."]})]}),e.jsxs(re,{title:"Tutte's Graph",children:[e.jsx("p",{children:"Tutte constructed a 3-connected cubic planar non-Hamiltonian graph in 1946. This disproved Tait's approach to the Four Color Theorem."}),e.jsx("p",{className:"mt-2",children:"The graph has 46 vertices and can be shown non-Hamiltonian using Grinberg's theorem."})]}),e.jsx("h2",{children:"Nowhere-Zero Flows"}),e.jsxs(B,{title:"Flow on a Graph",children:[e.jsxs("p",{children:["Given an orientation of graph ",e.jsx(s,{math:"G"})," and an abelian group"," ",e.jsx(s,{math:"\\Gamma"}),", a ",e.jsxs("strong",{children:[e.jsx(s,{math:"\\Gamma"}),"-flow"]})," ","assigns a group element to each edge such that at every vertex, the sum of incoming values equals the sum of outgoing values."]}),e.jsxs("p",{className:"mt-2",children:["A flow is ",e.jsx("strong",{children:"nowhere-zero"})," if no edge has value 0."]})]}),e.jsxs(B,{title:"k-Flow",children:[e.jsxs("p",{children:["A ",e.jsxs("strong",{children:["nowhere-zero ",e.jsx(s,{math:"k"}),"-flow"]})," is a nowhere-zero"," ",e.jsx(s,{math:"\\mathbb{Z}"}),"-flow where each edge value is in"," ",e.jsx(s,{math:"\\{-(k-1), \\ldots, -1, 1, \\ldots, k-1\\}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"flow number"})," ",e.jsx(s,{math:"\\phi(G)"})," is the minimum"," ",e.jsx(s,{math:"k"})," for which ",e.jsx(s,{math:"G"})," has a nowhere-zero"," ",e.jsx(s,{math:"k"}),"-flow."]})]}),e.jsxs(q,{title:"Duality: Flows and Colorings (Theorem 7.3.13)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Correspondence:"})," Orient ",e.jsx(s,{math:"G"})," arbitrarily. A proper ",e.jsx(s,{math:"k"}),"-coloring of ",e.jsx(s,{math:"G^*"})," assigns colors ",e.jsx(s,{math:"c_1, \\ldots, c_f \\in \\mathbb{Z}_k"})," to faces of"," ",e.jsx(s,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For each edge ",e.jsx(s,{math:"e"})," of ",e.jsx(s,{math:"G"})," separating faces with colors ",e.jsx(s,{math:"c_L"})," and ",e.jsx(s,{math:"c_R"})," ","(left and right relative to orientation), define the flow value"," ",e.jsx(s,{math:"f(e) = c_R - c_L \\pmod{k}"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Flow conservation:"})," At each vertex ",e.jsx(s,{math:"v"}),", the incident edges cycle around ",e.jsx(s,{math:"v"}),". The flow values telescope: incoming flow equals outgoing flow because we return to the same face after going around."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Nowhere-zero:"})," The coloring is proper iff adjacent faces have different colors iff ",e.jsx(s,{math:"c_R \\neq c_L"})," iff"," ",e.jsx(s,{math:"f(e) \\neq 0"})," for all edges."]}),e.jsxs("p",{className:"mt-2",children:["This bijection preserves the number of colors/flow values, so"," ",e.jsx(s,{math:"\\chi(G^*) = \\phi(G)"}),"."]})]}),children:[e.jsxs("p",{children:["For a planar graph ",e.jsx(s,{math:"G"})," and its dual"," ",e.jsx(s,{math:"G^*"}),":"]}),e.jsx(W,{math:"\\chi(G^*) = \\phi(G)"}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["Nowhere-zero flows in ",e.jsx(s,{math:"G"})," correspond to proper colorings of ",e.jsx(s,{math:"G^*"}),"."]})]}),e.jsxs(re,{title:"Four Color Theorem via Flows",children:[e.jsxs("p",{children:["For any planar graph ",e.jsx(s,{math:"G"}),", we have"," ",e.jsx(s,{math:"\\chi(G) \\leq 4"}),". By duality, the dual of any planar graph has a nowhere-zero 4-flow."]}),e.jsx("p",{className:"mt-2",children:"Equivalently: every bridgeless planar graph has a nowhere-zero 4-flow."})]}),e.jsx("h3",{children:"Flow Conjectures"}),e.jsx(q,{title:"Tutte's Flow Conjectures",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("em",{children:"These remain open conjectures."})," The conjectures are stated here for reference; their proofs (if they exist) are unknown."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Motivation:"})," By the duality theorem, proving the 5-Flow Conjecture would imply that every planar graph is 5-colorable (already known). The conjecture generalizes this to non-planar graphs where duality doesn't directly apply."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Evidence:"})," Seymour's 6-Flow Theorem (1981) shows every bridgeless graph has a nowhere-zero 6-flow, providing partial progress toward the 5-Flow Conjecture."]})]}),children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"5-Flow Conjecture:"})," Every bridgeless graph has a nowhere-zero 5-flow. (Open)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"4-Flow Conjecture:"})," Every bridgeless graph with no Petersen minor has a nowhere-zero 4-flow. (Open)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"3-Flow Conjecture:"})," Every 4-edge-connected graph has a nowhere-zero 3-flow. (Open)"]})]})}),e.jsx(q,{title:"Seymour's 6-Flow Theorem (1981)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("em",{children:"(Outline)"})," The proof uses structural decomposition."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Key idea:"})," Seymour proved that every bridgeless graph can be constructed from smaller graphs via certain operations (2-sums and 3-sums) starting from graphs that admit nowhere-zero 6-flows."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Base case:"})," Small bridgeless graphs (including"," ",e.jsx(s,{math:"K_4"})," and the Petersen graph) can be verified to have nowhere-zero 6-flows directly."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Induction:"})," When combining graphs via 2-sums or 3-sums, nowhere-zero 6-flows can be combined. The crucial insight is that"," ",e.jsx(s,{math:"\\mathbb{Z}_2 \\times \\mathbb{Z}_3 \\cong \\mathbb{Z}_6"}),", allowing separate flows modulo 2 and modulo 3 to combine into a flow modulo 6."]})]}),children:e.jsx("p",{children:"Every bridgeless graph has a nowhere-zero 6-flow."})}),e.jsx("h2",{children:"Cycle Double Covers"}),e.jsx(B,{title:"Cycle Double Cover",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"cycle double cover"})," of a graph is a collection of cycles such that each edge is in exactly two cycles."]})}),e.jsxs(q,{title:"Cycle Double Cover Conjecture",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsx("em",{children:"This remains an open conjecture."})}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Equivalence for cubic graphs:"})," For cubic graphs, the Cycle Double Cover Conjecture is equivalent to the 5-Flow Conjecture. If a cubic graph has a nowhere-zero 4-flow, the level sets of the flow (edges with each non-zero value) form a cycle double cover."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Partial results:"})," The conjecture is known to hold for planar graphs (the face boundaries form a cycle double cover) and for graphs with small crossing number."]})]}),children:[e.jsx("p",{children:"Every bridgeless graph has a cycle double cover."}),e.jsx("p",{className:"mt-2 text-dark-300",children:"Equivalent to the 5-flow conjecture for cubic graphs. Open since 1973."})]}),e.jsxs(re,{title:"Petersen Graph and Flows",children:[e.jsx("p",{children:'The Petersen graph is the smallest "obstruction" to nowhere-zero 4-flows. It has a nowhere-zero 5-flow but not a 4-flow.'}),e.jsx("p",{className:"mt-2",children:"The 4-Flow Conjecture says the Petersen graph is the essential obstruction."})]}),e.jsx("h2",{children:"Snarks"}),e.jsxs(B,{title:"Snark",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"snark"})," is a bridgeless cubic graph with chromatic index 4 (Class 2)."]}),e.jsx("p",{className:"mt-2",children:"Equivalently: a bridgeless cubic graph with no Tait coloring, or no nowhere-zero 4-flow."})]}),e.jsxs(re,{title:"Known Snarks",children:[e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"Petersen graph (10 vertices) - the smallest"}),e.jsx("li",{children:"Blanua snarks (18 vertices)"}),e.jsx("li",{children:"Flower snarks (20, 28, ... vertices)"}),e.jsx("li",{children:"Double-star snark (30 vertices)"})]}),e.jsx("p",{className:"mt-2",children:"Snarks are rare and difficult to construct. They play a crucial role in graph coloring theory."})]}),e.jsxs(q,{title:"Snarks and the Four Color Theorem",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"4CT implies no planar bridgeless snarks:"})," Suppose"," ",e.jsx(s,{math:"G"})," is a bridgeless cubic planar graph. By Tait's theorem equivalence, ",e.jsx(s,{math:"G"})," has a Tait coloring (3-edge-coloring) if and only if its dual ",e.jsx(s,{math:"G^*"})," is 4-face-colorable."]}),e.jsxs("p",{className:"mt-2",children:["The Four Color Theorem states every planar graph is 4-colorable, so"," ",e.jsx(s,{math:"G^*"})," is 4-face-colorable. Therefore ",e.jsx(s,{math:"G"})," ","has a Tait coloring, meaning ",e.jsx(s,{math:"\\chi'(G) = 3"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Thus ",e.jsx(s,{math:"G"})," is not a snark (which would require"," ",e.jsx(s,{math:"\\chi'(G) = 4"}),"). Hence no bridgeless cubic planar graph is a snark."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Converse:"})," If no planar bridgeless snark exists, then every bridgeless cubic planar graph is 3-edge-colorable, which by Tait's theorem implies 4-colorability of planar graphs."]})]}),children:[e.jsx("p",{children:"The Four Color Theorem is equivalent to: every planar snark has a bridge."}),e.jsx("p",{className:"mt-2",children:"Since planar bridgeless cubic graphs are 4-colorable, their duals have nowhere-zero 4-flows, hence are not snarks."})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Tait's Theorem:"})," Connects 4-coloring to Hamiltonian cycles in cubic planar graphs."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Grinberg's Theorem:"})," ",e.jsx(s,{math:"\\sum (k-2)(f'_k - f''_k) = 0"})," for Hamiltonian planar graphs."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Tutte's Graph:"})," Non-Hamiltonian bridgeless cubic planar graph; disproves Tait's approach."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Nowhere-Zero Flows:"})," Generalize colorings; flow number = chromatic number of dual."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Seymour:"})," Every bridgeless graph has a nowhere-zero 6-flow."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Tutte Conjectures:"})," 5-flow, 4-flow, 3-flow conjectures remain open."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Snarks:"})," Bridgeless cubic graphs that are Class 2; key structures in coloring theory."]})]})]})}function EG(){return e.jsxs(ze,{sectionId:23,children:[e.jsx("p",{children:"Perfect graphs are those where the chromatic number equals the clique number for every induced subgraph. This class includes many important graph families and has beautiful structural theory. The Strong Perfect Graph Theorem, proved in 2002, characterizes perfect graphs by forbidden induced subgraphs."}),e.jsx("h2",{children:"Perfect Graph Basics"}),e.jsxs(B,{title:"Perfect Graph",children:[e.jsxs("p",{children:["A graph ",e.jsx(s,{math:"G"})," is ",e.jsx("strong",{children:"perfect"})," if for every induced subgraph ",e.jsx(s,{math:"H"})," of ",e.jsx(s,{math:"G"}),":"]}),e.jsx(W,{math:"\\chi(H) = \\omega(H)"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(s,{math:"\\omega(H)"})," is the clique number and"," ",e.jsx(s,{math:"\\chi(H)"})," is the chromatic number."]})]}),e.jsx(re,{title:"Perfect Graph Classes",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Bipartite graphs:"})," ",e.jsx(s,{math:"\\omega = 2"}),","," ",e.jsx(s,{math:"\\chi = 2"})," (if has edges)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Chordal graphs:"})," No induced ",e.jsx(s,{math:"C_k"})," for"," ",e.jsx(s,{math:"k \\geq 4"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Interval graphs:"})," Intersection graphs of intervals"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Comparability graphs:"})," Transitively orientable graphs"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Split graphs:"})," Vertices partition into clique and independent set"]})]})}),e.jsx("h2",{children:"The Perfect Graph Theorem"}),e.jsxs(q,{title:"Weak Perfect Graph Theorem (Lovsz, 1972)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Key relationships:"})," For any graph ",e.jsx(s,{math:"G"}),":"," ",e.jsx(s,{math:"\\omega(\\overline{G}) = \\alpha(G)"})," and"," ",e.jsx(s,{math:"\\chi(\\overline{G}) = \\theta(G)"})," (clique cover number)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Lovsz's approach:"})," Define the theta function"," ",e.jsx(s,{math:"\\vartheta(G)"})," satisfying:"]}),e.jsx(W,{math:"\\alpha(G) \\leq \\vartheta(G) \\leq \\chi(\\overline{G})"}),e.jsxs("p",{className:"mt-2",children:["Lovsz showed ",e.jsx(s,{math:"\\vartheta(G) \\cdot \\vartheta(\\overline{G}) = n"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:["If ",e.jsx(s,{math:"G"})," is perfect:"]})," Then"," ",e.jsx(s,{math:"\\chi(H) = \\omega(H)"})," for all induced subgraphs"," ",e.jsx(s,{math:"H"}),". For the complement, we need"," ",e.jsx(s,{math:"\\chi(\\overline{H}) = \\omega(\\overline{H})"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Using ",e.jsx(s,{math:"\\omega(\\overline{H}) = \\alpha(H)"})," and the theta function inequalities, perfectness of ",e.jsx(s,{math:"G"})," implies the inequalities are tight for all induced subgraphs, which forces"," ",e.jsx(s,{math:"\\overline{G}"})," to also be perfect."]})]}),children:[e.jsxs("p",{children:["A graph ",e.jsx(s,{math:"G"})," is perfect if and only if its complement"," ",e.jsx(s,{math:"\\overline{G}"})," is perfect."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Key Insight"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["This is surprising because chromatic number and clique number behave very differently under complementation. Lovsz proved this using the"," ",e.jsx("strong",{children:"theta function"})," ",e.jsx(s,{math:"\\vartheta(G)"}),", which lies between ",e.jsx(s,{math:"\\alpha(G)"})," and"," ",e.jsx(s,{math:"\\chi(\\overline{G})"}),"."]})})]})]}),e.jsxs(B,{title:"Odd Holes and Antiholes",children:[e.jsxs("p",{children:["An ",e.jsx("strong",{children:"odd hole"})," is an induced cycle"," ",e.jsx(s,{math:"C_{2k+1}"})," with ",e.jsx(s,{math:"k \\geq 2"}),"."]}),e.jsxs("p",{className:"mt-2",children:["An ",e.jsx("strong",{children:"odd antihole"})," is the complement of an odd hole:"," ",e.jsx(s,{math:"\\overline{C_{2k+1}}"}),"."]})]}),e.jsxs(re,{title:"Why C and its Complement are Imperfect",children:[e.jsxs("p",{children:[e.jsx(s,{math:"C_5"}),": ",e.jsx(s,{math:"\\omega = 2"})," (no triangle), but ",e.jsx(s,{math:"\\chi = 3"})," (odd cycle). Not perfect."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx(s,{math:"\\overline{C_5}"}),": Also ",e.jsx(s,{math:"C_5"})," ","(self-complementary!). Also imperfect."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx(s,{math:"C_7"}),": ",e.jsx(s,{math:"\\omega = 2"}),","," ",e.jsx(s,{math:"\\chi = 3"}),". ",e.jsx(s,{math:"\\overline{C_7}"}),":"," ",e.jsx(s,{math:"\\omega = 3"}),", ",e.jsx(s,{math:"\\chi = 4"}),"."]})]}),e.jsxs(q,{title:"Strong Perfect Graph Theorem (Chudnovsky et al., 2006)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Necessity (easy direction):"})," Odd holes and antiholes are imperfect, so a perfect graph cannot contain them as induced subgraphs."]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(s,{math:"C_{2k+1}"})," with ",e.jsx(s,{math:"k \\geq 2"}),":"," ",e.jsx(s,{math:"\\omega(C_{2k+1}) = 2"})," (no triangles) but"," ",e.jsx(s,{math:"\\chi(C_{2k+1}) = 3"})," (odd cycles need 3 colors)."]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(s,{math:"\\overline{C_{2k+1}}"}),":"," ",e.jsx(s,{math:"\\omega(\\overline{C_{2k+1}}) = k"})," but"," ",e.jsx(s,{math:"\\chi(\\overline{C_{2k+1}}) = k+1"})," (can be verified)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Sufficiency (hard direction):"}),' The 179-page proof by Chudnovsky, Robertson, Seymour, and Thomas uses structural decomposition. They show that graphs without odd holes and antiholes can be decomposed via "2-joins" and "homogeneous pairs" into basic building blocks (bipartite graphs, line graphs of bipartite graphs, complements of these, and "double split graphs"), all of which are perfect.']})]}),children:[e.jsx("p",{children:"A graph is perfect if and only if it contains no odd hole and no odd antihole as an induced subgraph."}),e.jsx("p",{className:"mt-2 text-dark-300",children:"Conjectured by Claude Berge in 1961. Proved 40+ years later by Maria Chudnovsky, Neil Robertson, Paul Seymour, and Robin Thomas using a 179-page proof."})]}),e.jsx("h2",{children:"Recognition and Optimization"}),e.jsxs(q,{title:"Perfect Graph Recognition",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"By the Strong Perfect Graph Theorem, recognizing perfect graphs reduces to detecting odd holes and odd antiholes."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Odd hole detection:"})," Chudnovsky, Cornujols, Liu, Seymour, and Vukovi (2005) gave an ",e.jsx(s,{math:"O(n^9)"})," algorithm. The key insight is that shortest odd holes have special structure that can be exploited."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Odd antihole detection:"})," An odd antihole in"," ",e.jsx(s,{math:"G"})," is an odd hole in ",e.jsx(s,{math:"\\overline{G}"}),", so apply the same algorithm to the complement."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Combined:"})," Check both ",e.jsx(s,{math:"G"})," and"," ",e.jsx(s,{math:"\\overline{G}"})," for odd holes. The graph is perfect iff neither contains an odd hole."]})]}),children:[e.jsx("p",{children:"Perfect graphs can be recognized in polynomial time."}),e.jsx("p",{className:"mt-2",children:"The algorithm detects odd holes and antiholes using sophisticated structural decomposition (Chudnovsky et al., 2005)."})]}),e.jsxs(q,{title:"Polynomial Optimization on Perfect Graphs",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Via theta function:"})," Lovsz showed that"," ",e.jsx(s,{math:"\\vartheta(G)"})," can be computed in polynomial time using semidefinite programming."]}),e.jsx("p",{className:"mt-2",children:"For perfect graphs, the sandwich inequalities are tight:"}),e.jsx(W,{math:"\\omega(G) = \\vartheta(\\overline{G}) \\quad \\text{and} \\quad \\chi(G) = \\vartheta(\\overline{G})"}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Algorithm outline:"})}),e.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[e.jsxs("li",{children:["Compute ",e.jsx(s,{math:"\\vartheta(\\overline{G})"})," using the ellipsoid method or interior point methods."]}),e.jsxs("li",{children:["For perfect ",e.jsx(s,{math:"G"}),", this equals"," ",e.jsx(s,{math:"\\chi(G) = \\omega(G)"}),"."]}),e.jsx("li",{children:"Actual clique/coloring found by augmenting LP relaxations."})]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Independence number:"})," ",e.jsx(s,{math:"\\alpha(G) = \\omega(\\overline{G})"}),", so apply the above to ",e.jsx(s,{math:"\\overline{G}"}),"."]})]}),children:[e.jsx("p",{children:"For perfect graphs, the following problems can be solved in polynomial time:"}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Maximum clique:"})," Find ",e.jsx(s,{math:"\\omega(G)"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Maximum independent set:"})," Find ",e.jsx(s,{math:"\\alpha(G)"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Chromatic number:"})," Find ",e.jsx(s,{math:"\\chi(G)"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Clique cover:"})," Partition vertices into cliques"]})]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"These use the ellipsoid method and the Lovsz theta function."})]}),e.jsx("h2",{children:"Berge Graphs"}),e.jsxs(B,{title:"Berge Graph",children:[e.jsxs("p",{children:["A graph is ",e.jsx("strong",{children:"Berge"})," if it contains no odd hole and no odd antihole."]}),e.jsx("p",{className:"mt-2",children:"The Strong Perfect Graph Theorem says: Berge = Perfect."})]}),e.jsx("h2",{children:"Imperfect Graphs"}),e.jsxs(B,{title:"Imperfection Ratio",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"imperfection ratio"})," of ",e.jsx(s,{math:"G"})," is:"]}),e.jsx(W,{math:"\\text{imp}(G) = \\max_{H \\subseteq G} \\frac{\\chi(H)}{\\omega(H)}"}),e.jsxs("p",{className:"mt-2",children:[e.jsx(s,{math:"G"})," is perfect iff ",e.jsx(s,{math:"\\text{imp}(G) = 1"}),"."]})]}),e.jsxs(re,{title:"Imperfection of Odd Cycles",children:[e.jsxs("p",{children:["For ",e.jsx(s,{math:"C_{2k+1}"}),":"," ",e.jsx(s,{math:"\\text{imp}(C_{2k+1}) = \\frac{3}{2}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["As ",e.jsx(s,{math:"k \\to \\infty"}),", odd cycles approach"," ",e.jsx(s,{math:"\\text{imp} = 3/2"}),"."]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Perfect:"})," ",e.jsx(s,{math:"\\chi(H) = \\omega(H)"})," for all induced ",e.jsx(s,{math:"H"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Weak Perfect Graph Theorem:"})," ",e.jsx(s,{math:"G"})," perfect iff ",e.jsx(s,{math:"\\overline{G}"})," perfect."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Strong Perfect Graph Theorem:"})," Perfect = No odd holes or antiholes."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Perfect Families:"})," Bipartite, chordal, interval, comparability."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Imperfect:"})," ",e.jsx(s,{math:"C_{2k+1}"})," and"," ",e.jsx(s,{math:"\\overline{C_{2k+1}}"})," are minimal imperfect."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Algorithms:"})," Maximum clique, chromatic number solvable in polynomial time for perfect graphs."]})]})]})}function CG(){return e.jsxs(ze,{sectionId:24,children:[e.jsx("p",{children:"Matroids abstract the notion of linear independence from vector spaces and forests from graphs. They provide a unifying framework for many combinatorial optimization problems, explaining why greedy algorithms work for minimum spanning trees. The theory reveals deep connections between linear algebra, graph theory, and combinatorics."}),e.jsx("h2",{children:"Matroid Definition"}),e.jsxs(B,{title:"Matroid (Independence Axioms)",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"matroid"})," ",e.jsx(s,{math:"M = (E, \\mathcal{I})"})," consists of a finite set ",e.jsx(s,{math:"E"})," (the ",e.jsx("strong",{children:"ground set"}),") and a collection ",e.jsx(s,{math:"\\mathcal{I}"})," of subsets of"," ",e.jsx(s,{math:"E"})," (the ",e.jsx("strong",{children:"independent sets"}),") satisfying:"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"(I1)"})," ",e.jsx(s,{math:"\\emptyset \\in \\mathcal{I}"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"(I2)"})," If ",e.jsx(s,{math:"I \\in \\mathcal{I}"})," and"," ",e.jsx(s,{math:"J \\subseteq I"}),", then"," ",e.jsx(s,{math:"J \\in \\mathcal{I}"})," (hereditary)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"(I3)"})," If ",e.jsx(s,{math:"I, J \\in \\mathcal{I}"})," with"," ",e.jsx(s,{math:"|I| < |J|"}),", then"," ",e.jsx(s,{math:"\\exists e \\in J - I"})," with"," ",e.jsx(s,{math:"I \\cup \\{e\\} \\in \\mathcal{I}"})," (exchange property)"]})]})]}),e.jsxs(re,{title:"Graphic Matroid",children:[e.jsxs("p",{children:["For graph ",e.jsx(s,{math:"G"}),", let ",e.jsx(s,{math:"E = E(G)"})," and"," ",e.jsx(s,{math:"\\mathcal{I}"})," = sets of edges forming forests."]}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Verify axioms:"})}),e.jsxs("ul",{className:"list-disc list-inside",children:[e.jsx("li",{children:"(I1): Empty set is a forest. "}),e.jsx("li",{children:"(I2): Subsets of forests are forests. "}),e.jsxs("li",{children:["(I3): If forest ",e.jsx(s,{math:"J"})," has more edges than forest"," ",e.jsx(s,{math:"I"}),", some edge of ",e.jsx(s,{math:"J"})," can be added to ",e.jsx(s,{math:"I"})," without creating a cycle. "]})]})]}),e.jsxs(re,{title:"Vector Matroid",children:[e.jsxs("p",{children:["For a matrix ",e.jsx(s,{math:"A"})," with columns"," ",e.jsx(s,{math:"v_1, \\ldots, v_n"}),", let"," ",e.jsx(s,{math:"E = \\{1, \\ldots, n\\}"})," and"," ",e.jsx(s,{math:"I \\in \\mathcal{I}"})," iff"," ",e.jsx(s,{math:"\\{v_i : i \\in I\\}"})," is linearly independent."]}),e.jsx("p",{className:"mt-2",children:"The exchange property (I3) follows from the Steinitz exchange lemma."})]}),e.jsx("h2",{children:"Basic Matroid Terminology"}),e.jsx(B,{title:"Dependent Sets, Circuits, Bases",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Dependent:"})," A set not in ",e.jsx(s,{math:"\\mathcal{I}"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Circuit:"})," A minimal dependent set"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Base:"})," A maximal independent set"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Rank:"})," ",e.jsx(s,{math:"r(A)"})," = max size of independent subset of ",e.jsx(s,{math:"A"})]})]})}),e.jsxs(q,{title:"Base Properties",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Equal cardinality:"})," Suppose bases ",e.jsx(s,{math:"B_1"})," and"," ",e.jsx(s,{math:"B_2"})," have ",e.jsx(s,{math:"|B_1| < |B_2|"}),". By the exchange property (I3) applied to independent sets"," ",e.jsx(s,{math:"B_1"})," and ",e.jsx(s,{math:"B_2"}),", there exists"," ",e.jsx(s,{math:"e \\in B_2 - B_1"})," with ",e.jsx(s,{math:"B_1 \\cup \\{'{'}e{'}'}"})," ","independent. This contradicts maximality of ",e.jsx(s,{math:"B_1"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Base exchange:"})," Let ",e.jsx(s,{math:"e \\in B_1 - B_2"}),". The set ",e.jsx(s,{math:"B_1 - e"})," is independent with"," ",e.jsx(s,{math:"|B_1 - e| = |B_1| - 1 < |B_2|"}),"."]}),e.jsxs("p",{className:"mt-2",children:["By (I3), there exists ",e.jsx(s,{math:"f \\in B_2 - (B_1 - e) = B_2 - B_1 + e"})," ","such that ",e.jsx(s,{math:"(B_1 - e) \\cup \\{'{'}f{'}'}"})," is independent. Since ",e.jsx(s,{math:"e \\notin B_2"}),", we have"," ",e.jsx(s,{math:"f \\in B_2 - B_1"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The set ",e.jsx(s,{math:"B_1 - e + f"})," has size ",e.jsx(s,{math:"|B_1|"})," ","and is independent, hence a base."]})]}),children:[e.jsxs("p",{children:["All bases of a matroid have the same cardinality (the ",e.jsx("strong",{children:"rank"})," of the matroid)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Base exchange:"})," If ",e.jsx(s,{math:"B_1, B_2"})," are bases and ",e.jsx(s,{math:"e \\in B_1 - B_2"}),", then"," ",e.jsx(s,{math:"\\exists f \\in B_2 - B_1"})," such that"," ",e.jsx(s,{math:"B_1 - e + f"})," is a base."]})]}),e.jsxs(re,{title:"Graphic Matroid Terms",children:[e.jsxs("p",{children:["In graphic matroid ",e.jsx(s,{math:"M(G)"}),":"]}),e.jsxs("ul",{className:"list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Circuits:"})," Cycles of ",e.jsx(s,{math:"G"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bases:"})," Spanning forests (spanning trees if connected)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Rank:"})," ",e.jsx(s,{math:"n - c"})," where"," ",e.jsx(s,{math:"c"})," = components"]})]})]}),e.jsx("h2",{children:"Matroid Duality"}),e.jsxs(B,{title:"Dual Matroid",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"dual"})," ",e.jsx(s,{math:"M^*"})," of matroid"," ",e.jsx(s,{math:"M = (E, \\mathcal{I})"})," has:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["Ground set: ",e.jsx(s,{math:"E"})]}),e.jsxs("li",{children:["Bases: ",e.jsx(s,{math:"\\{E - B : B \\text{ is a base of } M\\}"})]})]}),e.jsxs("p",{className:"mt-2",children:["The dual of the dual is the original: ",e.jsx(s,{math:"(M^*)^* = M"}),"."]})]}),e.jsxs(re,{title:"Dual of Graphic Matroid",children:[e.jsxs("p",{children:["For a planar graph ",e.jsx(s,{math:"G"}),", the dual of"," ",e.jsx(s,{math:"M(G)"})," is ",e.jsx(s,{math:"M(G^*)"}),", where"," ",e.jsx(s,{math:"G^*"})," is the planar dual graph."]}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:["Circuits of ",e.jsx(s,{math:"M^*"}),":"]})," Minimal edge cuts (bonds) of ",e.jsx(s,{math:"G"}),"."]})]}),e.jsx("h2",{children:"Greedy Algorithm"}),e.jsxs(q,{title:"Greedy Algorithm for Matroids",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"B^*"})," be the greedy solution and"," ",e.jsx(s,{math:"B"})," be any base. We show"," ",e.jsx(s,{math:"w(B^*) \\geq w(B)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Order ",e.jsx(s,{math:"B^* = \\{'{'}e_1, \\ldots, e_r{'}'}"})," by decreasing weight and ",e.jsx(s,{math:"B = \\{'{'}f_1, \\ldots, f_r{'}'}"})," similarly. We claim ",e.jsx(s,{math:"w(e_i) \\geq w(f_i)"})," for all"," ",e.jsx(s,{math:"i"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"By contradiction:"})," Suppose ",e.jsx(s,{math:"i"})," is the first index with ",e.jsx(s,{math:"w(e_i) < w(f_i)"}),". Consider ",e.jsx(s,{math:"I = \\{'{'}e_1, \\ldots, e_{'{'}i-1{'}'}{'}'}"})," and"," ",e.jsx(s,{math:"J = \\{'{'}f_1, \\ldots, f_i{'}'}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["We have ",e.jsx(s,{math:"|I| < |J|"}),", so by (I3), some"," ",e.jsx(s,{math:"f_j \\in J - I"})," can be added to ",e.jsx(s,{math:"I"}),". Since ",e.jsx(s,{math:"w(f_j) \\geq w(f_i) > w(e_i)"}),", the greedy algorithm would have chosen ",e.jsx(s,{math:"f_j"})," before ",e.jsx(s,{math:"e_i"}),", contradiction."]}),e.jsxs("p",{className:"mt-2",children:["Thus ",e.jsx(s,{math:"w(B^*) = \\sum w(e_i) \\geq \\sum w(f_i) = w(B)"}),"."]})]}),children:[e.jsxs("p",{children:["Given a weighted matroid ",e.jsx(s,{math:"(E, \\mathcal{I}, w)"}),", the greedy algorithm finds a maximum-weight base:"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside",children:[e.jsxs("li",{children:["Sort elements by weight: ",e.jsx(s,{math:"w(e_1) \\geq \\cdots \\geq w(e_n)"})]}),e.jsxs("li",{children:["Initialize ",e.jsx(s,{math:"I = \\emptyset"})]}),e.jsxs("li",{children:["For each ",e.jsx(s,{math:"e_i"}),": if"," ",e.jsx(s,{math:"I \\cup \\{e_i\\} \\in \\mathcal{I}"}),", set"," ",e.jsx(s,{math:"I = I \\cup \\{e_i\\}"})]})]}),e.jsxs("p",{className:"mt-2",children:["This gives an ",e.jsx("strong",{children:"optimal"})," solution."]})]}),e.jsx(q,{title:"Characterization by Greedy",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"(Matroid  greedy works):"})," Proved above."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"(Greedy works  matroid):"})," Suppose"," ",e.jsx(s,{math:"(E, \\mathcal{I})"})," is hereditary but not a matroid. Then (I3) fails: there exist ",e.jsx(s,{math:"I, J \\in \\mathcal{I}"})," with"," ",e.jsx(s,{math:"|I| < |J|"})," but no element of ",e.jsx(s,{math:"J - I"})," ","can be added to ",e.jsx(s,{math:"I"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Construct bad weights:"})," Define:"]}),e.jsxs("ul",{className:"list-disc list-inside mt-2",children:[e.jsxs("li",{children:[e.jsx(s,{math:"w(e) = 1 + \\epsilon"})," for ",e.jsx(s,{math:"e \\in I"})]}),e.jsxs("li",{children:[e.jsx(s,{math:"w(e) = 1"})," for ",e.jsx(s,{math:"e \\in J - I"})]}),e.jsxs("li",{children:[e.jsx(s,{math:"w(e) = 0"})," otherwise"]})]}),e.jsxs("p",{className:"mt-2",children:["For small ",e.jsx(s,{math:"\\epsilon > 0"}),", greedy selects all of"," ",e.jsx(s,{math:"I"})," first (higher weight), then cannot add elements of ",e.jsx(s,{math:"J - I"}),". The greedy solution has weight"," ",e.jsx(s,{math:"|I|(1 + \\epsilon)"}),", but"," ",e.jsx(s,{math:"J"})," achieves ",e.jsx(s,{math:"|J| > |I|(1 + \\epsilon)"})," ","for small enough ",e.jsx(s,{math:"\\epsilon"}),". Greedy fails."]})]}),children:e.jsxs("p",{children:["A hereditary system ",e.jsx(s,{math:"(E, \\mathcal{I})"})," is a matroid if and only if the greedy algorithm produces a maximum-weight base for every weight function."]})}),e.jsxs(re,{title:"Kruskal's Algorithm",children:[e.jsx("p",{children:"Kruskal's algorithm for minimum spanning tree is the greedy algorithm on the graphic matroid with weights = negative edge weights."}),e.jsx("p",{className:"mt-2",children:"It works because graphic matroids are matroids!"})]}),e.jsx("h2",{children:"Matroid Intersection"}),e.jsx(B,{title:"Matroid Intersection",children:e.jsxs("p",{children:["Given matroids ",e.jsx(s,{math:"M_1 = (E, \\mathcal{I}_1)"})," and"," ",e.jsx(s,{math:"M_2 = (E, \\mathcal{I}_2)"})," on the same ground set, the"," ",e.jsx("strong",{children:"matroid intersection"})," problem asks for the largest set in"," ",e.jsx(s,{math:"\\mathcal{I}_1 \\cap \\mathcal{I}_2"}),"."]})}),e.jsxs(q,{title:"Matroid Intersection Theorem",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Upper bound (weak duality):"})," For any"," ",e.jsx(s,{math:"A \\subseteq E"})," and any common independent set"," ",e.jsx(s,{math:"I \\in \\mathcal{I}_1 \\cap \\mathcal{I}_2"}),":"]}),e.jsx(W,{math:"|I| = |I \\cap A| + |I \\cap (E-A)| \\leq r_1(A) + r_2(E-A)"}),e.jsxs("p",{className:"mt-2",children:["since ",e.jsx(s,{math:"I \\cap A"})," is independent in"," ",e.jsx(s,{math:"M_1"})," and ",e.jsx(s,{math:"I \\cap (E-A)"})," is independent in ",e.jsx(s,{math:"M_2"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Equality (strong duality):"})," The proof uses an augmenting path algorithm. Given a common independent set ",e.jsx(s,{math:"I"}),", construct an auxiliary directed bipartite graph where:"]}),e.jsxs("ul",{className:"list-disc list-inside mt-2",children:[e.jsxs("li",{children:["One part is ",e.jsx(s,{math:"I"}),", other part is ",e.jsx(s,{math:"E - I"})]}),e.jsx("li",{children:"Arcs encode which elements can be exchanged while preserving independence"})]}),e.jsxs("p",{className:"mt-2",children:["An augmenting path from ",e.jsx(s,{math:"E - I"})," to ",e.jsx(s,{math:"E - I"})," ","(through ",e.jsx(s,{math:"I"}),") allows increasing ",e.jsx(s,{math:"|I|"}),". When no augmenting path exists, ",e.jsx(s,{math:"I"})," is maximum and the partition ",e.jsx(s,{math:"A"})," achieving equality can be constructed from the reachable set."]})]}),children:[e.jsx("p",{children:"The maximum size of a common independent set equals:"}),e.jsx(W,{math:"\\max |I| = \\min_{A \\subseteq E} (r_1(A) + r_2(E - A))"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(s,{math:"r_1, r_2"})," are the rank functions."]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"This generalizes many min-max theorems (Knig, Menger, etc.)."})]}),e.jsxs(re,{title:"Bipartite Matching as Matroid Intersection",children:[e.jsxs("p",{children:["For bipartite graph ",e.jsx(s,{math:"G = (X \\cup Y, E)"}),", define:"]}),e.jsxs("ul",{className:"list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx(s,{math:"M_1"}),": Partition matroid on ",e.jsx(s,{math:"E"})," where edges incident to same ",e.jsx(s,{math:"x \\in X"})," are dependent"]}),e.jsxs("li",{children:[e.jsx(s,{math:"M_2"}),": Same for ",e.jsx(s,{math:"Y"})]})]}),e.jsx("p",{className:"mt-2",children:"Common independent sets = matchings. Max intersection = max matching."})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Matroid:"})," Hereditary system with exchange property; abstracts independence."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Examples:"})," Graphic (forests), vector (linear independence), partition, uniform."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Dual:"})," Bases complement to dual bases."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Greedy:"})," Greedy algorithm is optimal on matroids; this characterizes them."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Intersection:"})," Max common independent set has min-max formula; generalizes matching."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Unification:"})," Matroids explain why greedy works for MST but not for other problems."]})]})]})}function MG(){return e.jsxs(ze,{sectionId:25,children:[e.jsx("p",{children:'Ramsey theory studies the emergence of order in large structures. The fundamental principle: in any large enough system, some regular pattern must appear. For graphs, this means that sufficiently large complete graphs, when edge-colored, must contain monochromatic cliques. Ramsey numbers quantify "how large is large enough."'}),e.jsx("h2",{children:"The Party Problem"}),e.jsxs(re,{title:"The Party Problem",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Question:"})," How many people must attend a party so that either 3 mutual friends or 3 mutual strangers exist?"]}),e.jsxs("p",{className:"mt-2",children:["Model as ",e.jsx(s,{math:"K_n"})," with edges colored red (friends) or blue (strangers). We seek a monochromatic triangle."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Answer:"})," ",e.jsx(s,{math:"n = 6"})," people suffice."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Proof:"})," Pick any person ",e.jsx(s,{math:"v"}),". By pigeonhole,"," ",e.jsx(s,{math:"v"})," has at least 3 red edges or 3 blue edges. WLOG, say red edges to ",e.jsx(s,{math:"a, b, c"}),". If any edge among"," ",e.jsx(s,{math:"a, b, c"})," is red, we have a red triangle. Otherwise,"," ",e.jsx(s,{math:"abc"})," is a blue triangle."]})]}),e.jsx("h2",{children:"Ramsey Numbers"}),e.jsx(B,{title:"Ramsey Number R(s,t)",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Ramsey number"})," ",e.jsx(s,{math:"R(s, t)"})," is the minimum"," ",e.jsx(s,{math:"n"})," such that every red-blue edge-coloring of"," ",e.jsx(s,{math:"K_n"})," contains either a red ",e.jsx(s,{math:"K_s"})," or a blue ",e.jsx(s,{math:"K_t"}),"."]})}),e.jsx(q,{title:"Ramsey's Theorem (Graph Version)",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsx("strong",{children:"Base cases:"})}),e.jsxs("ul",{className:"list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx(s,{math:"R(1, t) = R(s, 1) = 1"}),": A single vertex trivially contains ",e.jsx(s,{math:"K_1"})," of any color."]}),e.jsxs("li",{children:[e.jsx(s,{math:"R(2, t) = t"}),": Need red edge or blue"," ",e.jsx(s,{math:"K_t"}),". With ",e.jsx(s,{math:"t"})," vertices, either some edge is red or all edges are blue."]})]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Inductive step:"})," We prove"," ",e.jsx(s,{math:"R(s,t) \\leq R(s-1,t) + R(s,t-1)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{math:"n = R(s-1,t) + R(s,t-1)"})," and consider any 2-coloring of ",e.jsx(s,{math:"K_n"}),". Pick any vertex ",e.jsx(s,{math:"v"}),". By pigeonhole, ",e.jsx(s,{math:"v"})," has at least ",e.jsx(s,{math:"R(s-1,t)"})," ","red neighbors or at least ",e.jsx(s,{math:"R(s,t-1)"})," blue neighbors."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Case 1:"})," ",e.jsx(s,{math:"v"})," has"," ",e.jsx(s,{math:"\\geq R(s-1,t)"})," red neighbors. By definition of"," ",e.jsx(s,{math:"R(s-1,t)"}),", these neighbors contain red"," ",e.jsx(s,{math:"K_{s-1}"})," or blue ",e.jsx(s,{math:"K_t"}),". If red"," ",e.jsx(s,{math:"K_{s-1}"}),", add ",e.jsx(s,{math:"v"})," to get red"," ",e.jsx(s,{math:"K_s"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Case 2:"})," Symmetric for blue neighbors."]})]}),children:e.jsxs("p",{children:[e.jsx(s,{math:"R(s, t)"})," exists for all ",e.jsx(s,{math:"s, t \\geq 1"}),"."]})}),e.jsxs(q,{title:"Upper Bound",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"By induction"})," using"," ",e.jsx(s,{math:"R(s,t) \\leq R(s-1,t) + R(s,t-1)"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Base:"})," ",e.jsx(s,{math:"R(s,1) = R(1,t) = 1 = \\binom{s-1}{s-1} = \\binom{t-1}{0}"}),"."]}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Inductive step:"})}),e.jsx(W,{math:"R(s,t) \\leq R(s-1,t) + R(s,t-1) \\leq \\binom{s+t-3}{s-2} + \\binom{s+t-3}{s-1}"}),e.jsx("p",{className:"mt-2",children:"By Pascal's identity:"}),e.jsx(W,{math:"= \\binom{s+t-2}{s-1}"}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Diagonal case:"})," For ",e.jsx(s,{math:"R(s,s)"}),":"]}),e.jsx(W,{math:"R(s,s) \\leq \\binom{2s-2}{s-1} \\sim \\frac{4^{s-1}}{\\sqrt{\\pi(s-1)}} = O(4^s/\\sqrt{s})"}),e.jsx("p",{className:"mt-2",children:"using Stirling's approximation."})]}),children:[e.jsx(W,{math:"R(s, t) \\leq \\binom{s + t - 2}{s - 1}"}),e.jsxs("p",{className:"mt-2",children:["In particular, ",e.jsx(s,{math:"R(s, s) \\leq \\binom{2s-2}{s-1} = O(4^s/\\sqrt{s})"}),"."]})]}),e.jsx(re,{title:"Known Ramsey Numbers",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:e.jsx(s,{math:"R(3, 3) = 6"})}),e.jsx("li",{children:e.jsx(s,{math:"R(3, 4) = 9"})}),e.jsx("li",{children:e.jsx(s,{math:"R(3, 5) = 14"})}),e.jsx("li",{children:e.jsx(s,{math:"R(4, 4) = 18"})}),e.jsx("li",{children:e.jsx(s,{math:"R(4, 5) = 25"})}),e.jsxs("li",{children:[e.jsx(s,{math:"R(5, 5)"}),": between 43 and 48 (exact value unknown!)"]})]})}),e.jsx("h2",{children:"Erds Lower Bound"}),e.jsx(q,{title:"Erds Probabilistic Lower Bound (1947)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Setup:"})," Color each edge of ",e.jsx(s,{math:"K_n"})," red or blue uniformly at random (independently)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Probability calculation:"})," For any ",e.jsx(s,{math:"s"}),"-set"," ",e.jsx(s,{math:"S"}),", the probability that all ",e.jsx(s,{math:"\\binom{s}{2}"})," ","edges in ",e.jsx(s,{math:"S"})," are the same color is"," ",e.jsx(s,{math:"2 \\cdot 2^{-\\binom{s}{2}} = 2^{1 - s(s-1)/2}"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Expected count:"})," Let ",e.jsx(s,{math:"X"})," count monochromatic ",e.jsx(s,{math:"K_s"})," subgraphs. By linearity of expectation:"]}),e.jsx(W,{math:"\\mathbb{E}[X] = \\binom{n}{s} \\cdot 2^{1-\\binom{s}{2}} < \\frac{n^s}{s!} \\cdot 2^{1 - s(s-1)/2}"}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"When is this less than 1?"})," If ",e.jsx(s,{math:"n < 2^{s/2}"}),", then ",e.jsx(s,{math:"n^s < 2^{s^2/2}"})," and:"]}),e.jsx(W,{math:"\\mathbb{E}[X] < \\frac{2^{s^2/2}}{s!} \\cdot 2^{1 - s^2/2 + s/2} = \\frac{2^{1 + s/2}}{s!} < 1"}),e.jsxs("p",{className:"mt-2",children:["for ",e.jsx(s,{math:"s \\geq 3"}),". Since ",e.jsx(s,{math:"\\mathbb{E}[X] < 1"}),", some coloring must have ",e.jsx(s,{math:"X = 0"}),", meaning no monochromatic"," ",e.jsx(s,{math:"K_s"}),". Thus ",e.jsx(s,{math:"R(s,s) > n \\geq 2^{s/2}"}),"."]})]}),children:e.jsx(W,{math:"R(s, s) > 2^{s/2}"})}),e.jsx("p",{children:"This was the first application of the probabilistic method in combinatorics, revolutionizing the field."}),e.jsx("h2",{children:"Graph Ramsey Theory"}),e.jsx(B,{title:"Graph Ramsey Number",children:e.jsxs("p",{children:["For graphs ",e.jsx(s,{math:"G"})," and ",e.jsx(s,{math:"H"}),", the"," ",e.jsx("strong",{children:"Ramsey number"})," ",e.jsx(s,{math:"R(G, H)"})," is the minimum"," ",e.jsx(s,{math:"n"})," such that every red-blue coloring of"," ",e.jsx(s,{math:"K_n"})," contains a red copy of ",e.jsx(s,{math:"G"})," or a blue copy of ",e.jsx(s,{math:"H"}),"."]})}),e.jsx(q,{title:"Ramsey Numbers for Paths and Cycles",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Path formula:"})," For ",e.jsx(s,{math:"R(P_n, P_n)"}),":"]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Upper bound:"})," In any 2-coloring of"," ",e.jsx(s,{math:"K_m"})," with ",e.jsx(s,{math:"m = \\lfloor 3(n-1)/2 \\rfloor + 1"}),", by a greedy path-finding argument, we can always extend a monochromatic path until reaching length ",e.jsx(s,{math:"n"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Lower bound:"})," Take ",e.jsx(s,{math:"K_{m-1}"})," as two disjoint cliques of sizes ",e.jsx(s,{math:"\\lfloor (n-1)/2 \\rfloor"})," and"," ",e.jsx(s,{math:"\\lceil (n-1)/2 \\rceil"})," plus another clique of size"," ",e.jsx(s,{math:"n-2"}),". Color appropriately to avoid monochromatic"," ",e.jsx(s,{math:"P_n"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Odd cycle formula:"})," For odd ",e.jsx(s,{math:"n \\geq 3"}),":"]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Lower bound:"})," Color ",e.jsx(s,{math:"K_{2n-2}"})," as two disjoint red ",e.jsx(s,{math:"K_{n-1}"}),". Each color class has no"," ",e.jsx(s,{math:"C_n"})," (needs ",e.jsx(s,{math:"n"})," vertices)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Upper bound:"})," With ",e.jsx(s,{math:"2n-1"})," vertices, either color has minimum degree ",e.jsx(s,{math:"\\geq n"}),", forcing"," ",e.jsx(s,{math:"C_n"})," by Dirac-type arguments."]})]}),children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:e.jsx(s,{math:"R(P_n, P_n) = \\lfloor 3(n-1)/2 \\rfloor + 1"})}),e.jsxs("li",{children:[e.jsx(s,{math:"R(C_n, C_n) = 2n - 1"})," for odd ",e.jsx(s,{math:"n \\geq 3"})]}),e.jsxs("li",{children:[e.jsx(s,{math:"R(C_n, C_n) = \\frac{3n}{2} - 1"})," for even"," ",e.jsx(s,{math:"n \\geq 4"})]})]})}),e.jsx("h2",{children:"Multi-Color Ramsey"}),e.jsx(B,{title:"k-Color Ramsey Number",children:e.jsxs("p",{children:[e.jsx(s,{math:"R_k(s_1, \\ldots, s_k)"})," is the minimum"," ",e.jsx(s,{math:"n"})," such that every ",e.jsx(s,{math:"k"}),"-coloring of"," ",e.jsx(s,{math:"K_n"})," contains a monochromatic"," ",e.jsx(s,{math:"K_{s_i}"})," in color ",e.jsx(s,{math:"i"})," for some"," ",e.jsx(s,{math:"i"}),"."]})}),e.jsx(re,{title:"3-Color Ramsey",children:e.jsxs("p",{children:[e.jsx(s,{math:"R_3(3, 3, 3) = 17"}),": every 3-coloring of"," ",e.jsx(s,{math:"K_{17}"})," has a monochromatic triangle."]})}),e.jsx(q,{title:"Schur's Theorem",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Reduction to Ramsey:"})," Consider a ",e.jsx(s,{math:"k"}),"-coloring of ",e.jsx(s,{math:"[n]"}),". Define a ",e.jsx(s,{math:"k"}),"-coloring of"," ",e.jsx(s,{math:"K_n"})," on vertex set ",e.jsx(s,{math:"[n]"})," by coloring edge ",e.jsx(s,{math:"\\{'{'}i,j{'}'}"})," with the color of"," ",e.jsx(s,{math:"|i - j|"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Monochromatic triangle implies Schur triple:"})," A monochromatic triangle on vertices ",e.jsx(s,{math:"a < b < c"})," means"," ",e.jsx(s,{math:"b - a"}),", ",e.jsx(s,{math:"c - b"}),", and"," ",e.jsx(s,{math:"c - a"})," all have the same color."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{math:"x = b - a"}),", ",e.jsx(s,{math:"y = c - b"}),","," ",e.jsx(s,{math:"z = c - a"}),". Then ",e.jsx(s,{math:"x + y = z"})," and all three have the same color."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Existence:"})," By the ",e.jsx(s,{math:"k"}),"-color Ramsey theorem, ",e.jsx(s,{math:"R_k(3, 3, \\ldots, 3)"})," exists, so for"," ",e.jsx(s,{math:"n \\geq R_k(3, \\ldots, 3)"}),", any ",e.jsx(s,{math:"k"}),"-coloring of ",e.jsx(s,{math:"K_n"})," contains a monochromatic triangle, giving a Schur triple in the original coloring."]})]}),children:e.jsxs("p",{children:["For any ",e.jsx(s,{math:"k"}),"-coloring of ",e.jsx(s,{math:"[n]"})," with"," ",e.jsx(s,{math:"n"})," large enough, there exist"," ",e.jsx(s,{math:"x, y, z"})," of the same color with"," ",e.jsx(s,{math:"x + y = z"}),"."]})}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Ramsey's Theorem:"})," Large structures contain ordered substructures. ",e.jsx(s,{math:"R(s,t)"})," always exists."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"R(3,3) = 6:"}),' The "party problem" answer.']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bounds:"})," ",e.jsx(s,{math:"2^{s/2} < R(s,s) \\leq 4^s"})," approximately."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Growth:"})," Ramsey numbers grow extremely fast; exact values known only for small cases."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Probabilistic Method:"})," Erds's proof initiated a powerful technique."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Graph Ramsey:"})," Generalized to arbitrary graphs, not just cliques."]})]})]})}function qG(){return e.jsxs(ze,{sectionId:26,children:[e.jsx("p",{children:"Extremal graph theory asks: what is the maximum or minimum value of a graph parameter subject to some constraint? Beyond Turn's theorem, many other extremal problems reveal deep structure. We explore bounds on circumference, list coloring, and the structure of trees, continuing the theme of finding optimal configurations."}),e.jsx("h2",{children:"Circumference"}),e.jsx(B,{title:"Circumference",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"circumference"})," ",e.jsx(s,{math:"c(G)"})," of a graph"," ",e.jsx(s,{math:"G"})," is the length of its longest cycle, or 0 if"," ",e.jsx(s,{math:"G"})," is acyclic."]})}),e.jsx(q,{title:"Circumference and Minimum Degree",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"C"})," be a longest cycle in ",e.jsx(s,{math:"G"}),". If ",e.jsx(s,{math:"|V(C)| = n"}),", we're done. Otherwise, assume"," ",e.jsx(s,{math:"|V(C)| < n"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Claim:"})," ",e.jsx(s,{math:"|V(C)| \\geq 2k"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{math:"G"})," is 2-connected and ",e.jsx(s,{math:"C"})," ","doesn't include all vertices, there exists a path ",e.jsx(s,{math:"P"})," ","from a vertex ",e.jsx(s,{math:"v \\notin V(C)"})," to ",e.jsx(s,{math:"C"})," ","with only the endpoint on ",e.jsx(s,{math:"C"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{math:"u"})," be the endpoint of ",e.jsx(s,{math:"P"})," on"," ",e.jsx(s,{math:"C"}),". Consider the neighbors of ",e.jsx(s,{math:"v"}),". If any neighbor ",e.jsx(s,{math:"w \\in V(C)"})," is not"," ",e.jsx(s,{math:"u"}),", we can form a longer cycle by going from"," ",e.jsx(s,{math:"v"})," to ",e.jsx(s,{math:"w"}),", around"," ",e.jsx(s,{math:"C"})," to just before ",e.jsx(s,{math:"u"}),", then via"," ",e.jsx(s,{math:"P"})," back to ",e.jsx(s,{math:"v"}),"."]}),e.jsxs("p",{className:"mt-2",children:["So all ",e.jsx(s,{math:"\\geq k"})," neighbors of ",e.jsx(s,{math:"v"})," ",'must be "blocked" by the maximality of ',e.jsx(s,{math:"C"}),". A careful analysis shows this requires ",e.jsx(s,{math:"|V(C)| \\geq 2k"}),"."]})]}),children:e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," is 2-connected with ",e.jsx(s,{math:"n"})," vertices and ",e.jsx(s,{math:"\\delta(G) \\geq k"}),", then"," ",e.jsx(s,{math:"c(G) \\geq \\min(2k, n)"}),"."]})}),e.jsx(q,{title:"Dirac's Theorem (Cycle Version)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["This follows from the previous theorem: If ",e.jsx(s,{math:"\\delta(G) \\geq n/2"}),", then ",e.jsx(s,{math:"k = n/2"})," and:"]}),e.jsx(W,{math:"c(G) \\geq \\min(2k, n) = \\min(n, n) = n"}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Alternative direct proof:"})," Suppose ",e.jsx(s,{math:"C"})," ","is a longest cycle with ",e.jsx(s,{math:"|V(C)| < n"}),". Let"," ",e.jsx(s,{math:"v \\notin V(C)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{math:"G"})," is connected,"," ",e.jsx(s,{math:"v"})," has a neighbor ",e.jsx(s,{math:"u"})," on a path to ",e.jsx(s,{math:"C"}),". Consider neighbors of ",e.jsx(s,{math:"v"})," ","on ",e.jsx(s,{math:"C"})," and their successors on ",e.jsx(s,{math:"C"}),"."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"v"})," has ",e.jsx(s,{math:"d"})," neighbors on"," ",e.jsx(s,{math:"C"}),', the "successor" vertices form a set of size'," ",e.jsx(s,{math:"d"}),". If any successor is also a neighbor of"," ",e.jsx(s,{math:"v"}),", we can extend ",e.jsx(s,{math:"C"}),". Since"," ",e.jsx(s,{math:"d \\geq n/2"})," and there are ",e.jsx(s,{math:"< n"})," ","vertices on ",e.jsx(s,{math:"C"}),", pigeonhole forces such an intersection."]})]}),children:e.jsxs("p",{children:["If ",e.jsx(s,{math:"G"})," is 2-connected with ",e.jsx(s,{math:"n"})," vertices and ",e.jsx(s,{math:"\\delta(G) \\geq n/2"}),", then"," ",e.jsx(s,{math:"c(G) = n"})," (Hamiltonian)."]})}),e.jsx(re,{title:"Sharp Examples",children:e.jsxs("p",{children:[e.jsx(s,{math:"K_{k,k+1}"})," has"," ",e.jsx(s,{math:"\\delta = k"})," and ",e.jsx(s,{math:"c = 2k"})," (longest cycle alternates between the two parts)."]})}),e.jsx("h2",{children:"Extremal Problems for Trees"}),e.jsxs(B,{title:"Wiener Index",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Wiener index"})," of a connected graph ",e.jsx(s,{math:"G"})," ","is the sum of all pairwise distances:"]}),e.jsx(W,{math:"W(G) = \\sum_{\\{u,v\\} \\subseteq V(G)} d(u, v)"})]}),e.jsxs(q,{title:"Wiener Index of Trees",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsxs("strong",{children:["Star ",e.jsx(s,{math:"K_{1,n-1}"})," achieves minimum:"]})}),e.jsxs("p",{className:"mt-2",children:["The center ",e.jsx(s,{math:"c"})," has distance 1 to all ",e.jsx(s,{math:"n-1"})," ","leaves. Each pair of leaves has distance 2. Thus:"]}),e.jsx(W,{math:"W(K_{1,n-1}) = (n-1) \\cdot 1 + \\binom{n-1}{2} \\cdot 2 = (n-1) + (n-1)(n-2) = (n-1)^2"}),e.jsxs("p",{className:"mt-2",children:["For minimality: among trees with ",e.jsx(s,{math:"n"})," vertices, the star minimizes eccentricities, hence minimizes total distance."]}),e.jsx("p",{className:"mt-2",children:e.jsxs("strong",{children:["Path ",e.jsx(s,{math:"P_n"})," achieves maximum:"]})}),e.jsxs("p",{className:"mt-2",children:["Label vertices ",e.jsx(s,{math:"1, 2, \\ldots, n"})," along the path. Distance ",e.jsx(s,{math:"d(i, j) = |i - j|"}),". The sum:"]}),e.jsx(W,{math:"W(P_n) = \\sum_{i < j} (j - i) = \\sum_{k=1}^{n-1} k(n-k) = \\binom{n+1}{3}"}),e.jsx("p",{className:"mt-2",children:'For maximality: the path maximizes average distance since vertices are "spread out" maximally; any tree with internal vertices has shortcuts.'})]}),children:[e.jsxs("p",{children:["Among all trees on ",e.jsx(s,{math:"n"})," vertices:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Minimum:"})," Star ",e.jsx(s,{math:"K_{1,n-1}"})," with"," ",e.jsx(s,{math:"W = (n-1)^2"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Maximum:"})," Path ",e.jsx(s,{math:"P_n"})," with"," ",e.jsx(s,{math:"W = \\binom{n+1}{3}"})]})]})]}),e.jsx("h2",{children:"List Coloring"}),e.jsx(B,{title:"List Chromatic Number",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"list chromatic number"})," (or ",e.jsx("strong",{children:"choosability"}),")"," ",e.jsx(s,{math:"\\text{ch}(G)"})," is the minimum ",e.jsx(s,{math:"k"})," such that ",e.jsx(s,{math:"G"})," is ",e.jsx(s,{math:"L"}),"-colorable whenever every vertex has a list of at least ",e.jsx(s,{math:"k"})," colors."]})}),e.jsxs(q,{title:"Choosability vs Chromatic Number",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsxs("strong",{children:[e.jsx(s,{math:"\\chi(G) \\leq \\text{ch}(G)"}),":"]})," If"," ",e.jsx(s,{math:"G"})," is ",e.jsx(s,{math:"L"}),"-colorable for all"," ",e.jsx(s,{math:"k"}),"-lists ",e.jsx(s,{math:"L"}),", then choosing"," ",e.jsx(s,{math:"L(v) = \\{'{'}1, \\ldots, k{'}'}"})," for all ",e.jsx(s,{math:"v"})," ","gives a proper ",e.jsx(s,{math:"k"}),"-coloring."]}),e.jsx("p",{className:"mt-2",children:e.jsxs("strong",{children:["Gap can be large (",e.jsx(s,{math:"K_{n,n}"})," example):"]})}),e.jsxs("p",{className:"mt-2",children:[e.jsx(s,{math:"\\chi(K_{n,n}) = 2"})," since bipartite. For choosability:"]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Lower bound construction:"})," Let ",e.jsx(s,{math:"k = \\lfloor \\log_2 n \\rfloor"}),". Take ",e.jsx(s,{math:"\\binom{2k}{k} \\leq n"})," colors and assign to each vertex in one part a distinct ",e.jsx(s,{math:"k"}),"-subset, and to each vertex in the other part the complementary ",e.jsx(s,{math:"k"}),"-subset."]}),e.jsxs("p",{className:"mt-2",children:["Any proper coloring must assign each edge endpoints different colors, but each ",e.jsx(s,{math:"k"}),"-subset and its complement share no elements, so there's no valid ",e.jsx(s,{math:"L"}),"-coloring."]}),e.jsxs("p",{className:"mt-2",children:["Thus ",e.jsx(s,{math:"\\text{ch}(K_{n,n}) \\geq k + 1 \\approx \\log_2 n"}),", while ",e.jsx(s,{math:"\\chi(K_{n,n}) = 2"}),"."]})]}),children:[e.jsxs("p",{children:[e.jsx(s,{math:"\\chi(G) \\leq \\text{ch}(G)"})," always, but the gap can be arbitrarily large."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx(s,{math:"K_{n,n}"})," has ",e.jsx(s,{math:"\\chi = 2"})," but"," ",e.jsx(s,{math:"\\text{ch}(K_{n,n}) = (1 + o(1)) \\log_2 n"}),"."]})]}),e.jsxs(q,{title:"Edge List Coloring",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsxs("strong",{children:[e.jsx(s,{math:"\\chi'(G) \\leq \\text{ch}'(G)"}),":"]})," Same argument as for vertex coloring - use identical lists."]}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Galvin's Theorem for bipartite graphs:"})}),e.jsxs("p",{className:"mt-2",children:[e.jsx("em",{children:"(Outline)"})," Galvin proved that for bipartite ",e.jsx(s,{math:"G"}),","," ",e.jsx(s,{math:"\\text{ch}'(G) = \\chi'(G) = \\Delta(G)"}),"."]}),e.jsxs("p",{className:"mt-2",children:['The proof uses a clever "kernel" argument. Orient the bipartite graph'," ",e.jsx(s,{math:"G"})," from one part to the other. For each vertex"," ",e.jsx(s,{math:"v"}),", the edges at ",e.jsx(s,{math:"v"})," can be totally ordered by some criterion."]}),e.jsxs("p",{className:"mt-2",children:['Galvin showed that choosing colors greedily in a specific order (based on "kernels" in an auxiliary graph) always succeeds when lists have size'," ",e.jsx(s,{math:"\\Delta(G)"}),"."]}),e.jsx("p",{className:"mt-2",children:"The List Coloring Conjecture asserts this holds for all graphs, not just bipartite ones."})]}),children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"list chromatic index"})," ",e.jsx(s,{math:"\\text{ch}'(G)"})," ","satisfies:"]}),e.jsx(W,{math:"\\chi'(G) \\leq \\text{ch}'(G)"}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"List Coloring Conjecture:"})," ",e.jsx(s,{math:"\\text{ch}'(G) = \\chi'(G)"})," for all graphs."]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"Proved for bipartite graphs (Galvin, 1995)."})]}),e.jsx("h2",{children:"Branchings and Arborescences"}),e.jsxs(B,{title:"Branching",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"branching"})," in a digraph is a set of arcs forming a forest where each vertex has in-degree at most 1."]}),e.jsxs("p",{className:"mt-2",children:["An ",e.jsx("strong",{children:"arborescence"})," (or ",e.jsx("strong",{children:"rooted tree"}),") is a branching where exactly one vertex (the root) has in-degree 0 and all other vertices have in-degree 1."]})]}),e.jsx(q,{title:"Edmonds' Branching Theorem",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Necessity:"})," If ",e.jsx(s,{math:"k"})," edge-disjoint spanning arborescences rooted at ",e.jsx(s,{math:"r"})," exist, then for any"," ",e.jsx(s,{math:"S \\subseteq V - \\{'{'}r{'}'}"}),", each arborescence must have at least one arc entering ",e.jsx(s,{math:"S"})," (since"," ",e.jsx(s,{math:"r \\notin S"})," and the arborescence spans"," ",e.jsx(s,{math:"S"}),"). Since the arborescences are edge-disjoint, at least ",e.jsx(s,{math:"k"})," arcs enter ",e.jsx(s,{math:"S"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Sufficiency (outline):"}),' Edmonds gave a polynomial-time algorithm using "contractions."']}),e.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[e.jsxs("li",{children:["Start with the empty branching. Greedily add arcs that don't create in-degree ",">"," 1."]}),e.jsxs("li",{children:['If stuck before spanning, find a "bad" set ',e.jsx(s,{math:"S"})," with insufficient entering arcs (would contradict the condition)."]}),e.jsx("li",{children:"Contract strongly connected components and recurse; uncontract to recover arborescences."})]}),e.jsxs("p",{className:"mt-2",children:["The cut condition ensures the algorithm never gets stuck, proving the",e.jsx(s,{math:"k"})," arborescences exist."]})]}),children:e.jsxs("p",{children:["A digraph ",e.jsx(s,{math:"D"})," contains ",e.jsx(s,{math:"k"})," edge-disjoint spanning arborescences rooted at ",e.jsx(s,{math:"r"})," if and only if for every non-empty ",e.jsx(s,{math:"S \\subseteq V - \\{r\\}"}),", the number of arcs entering ",e.jsx(s,{math:"S"})," is at least ",e.jsx(s,{math:"k"}),"."]})}),e.jsx("h2",{children:"Encodings and Counting"}),e.jsxs(B,{title:"Prfer Sequence",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"Prfer sequence"})," is a bijective encoding of labeled trees on"," ",e.jsx(s,{math:"[n]"})," as sequences in"," ",e.jsx(s,{math:"[n]^{n-2}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["This gives another proof of Cayley's formula:"," ",e.jsx(s,{math:"n^{n-2}"})," labeled trees."]})]}),e.jsxs(q,{title:"Counting Spanning Trees",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Matrix Tree Theorem:"})," Let ",e.jsx(s,{math:"L = D - A"})," ","be the Laplacian, where ",e.jsx(s,{math:"D"})," is diagonal with degrees and ",e.jsx(s,{math:"A"})," is the adjacency matrix."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Key insight:"})," ",e.jsx(s,{math:"L"})," is singular (rows sum to 0), but all cofactors of ",e.jsx(s,{math:"L"})," are equal and count spanning trees."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Proof outline:"})," Use the Cauchy-Binet formula. The determinant of ",e.jsx(s,{math:"L[v]"})," (delete row/column ",e.jsx(s,{math:"v"}),") can be written as a sum over subsets of edges:"]}),e.jsx(W,{math:"\\det(L[v]) = \\sum_{T} \\det(B_T[v])^2"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(s,{math:"B"})," is the incidence matrix and the sum is over edge sets ",e.jsx(s,{math:"T"})," of size ",e.jsx(s,{math:"n - 1"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The determinant ",e.jsx(s,{math:"\\det(B_T[v])^2 = 1"})," if"," ",e.jsx(s,{math:"T"})," is a spanning tree and ",e.jsx(s,{math:"0"})," ","otherwise (since the reduced incidence matrix of a tree is unimodular)."]})]}),children:[e.jsx("p",{children:"The Matrix Tree Theorem counts spanning trees using the determinant of a reduced Laplacian matrix:"}),e.jsx(W,{math:"\\tau(G) = \\det(L[v])"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(s,{math:"L"})," is the Laplacian matrix and"," ",e.jsx(s,{math:"L[v]"})," is ",e.jsx(s,{math:"L"})," with row and column"," ",e.jsx(s,{math:"v"})," removed."]})]}),e.jsx("h2",{children:"Extremal Problems for Bipartite Graphs"}),e.jsxs(q,{title:"Zarankiewicz Problem",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Kvri-Ss-Turn bound:"})," Let ",e.jsx(s,{math:"G"})," be a bipartite graph with parts ",e.jsx(s,{math:"X"})," (size ",e.jsx(s,{math:"m"}),") and ",e.jsx(s,{math:"Y"})," (size ",e.jsx(s,{math:"n"}),"), having"," ",e.jsx(s,{math:"e"})," edges and no ",e.jsx(s,{math:"K_{s,t}"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Counting pairs:"})," Count pairs ",e.jsx(s,{math:"(S, y)"})," ","where ",e.jsx(s,{math:"S \\subseteq X"})," is an ",e.jsx(s,{math:"s"}),"-set and ",e.jsx(s,{math:"y \\in Y"})," is adjacent to all of ",e.jsx(s,{math:"S"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Upper bound:"})," Since no ",e.jsx(s,{math:"K_{s,t}"})," exists, each ",e.jsx(s,{math:"s"}),"-set ",e.jsx(s,{math:"S"})," has fewer than"," ",e.jsx(s,{math:"t"})," common neighbors in ",e.jsx(s,{math:"Y"}),":"]}),e.jsx(W,{math:"\\sum_{S} |N(S)| \\leq \\binom{m}{s}(t-1)"}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Lower bound:"})," By convexity, if vertex"," ",e.jsx(s,{math:"y_i"})," has degree ",e.jsx(s,{math:"d_i"}),":"]}),e.jsx(W,{math:"\\sum_{y \\in Y} \\binom{d_y}{s} \\geq n \\binom{e/n}{s}"}),e.jsx("p",{className:"mt-2",children:"Combining and simplifying yields the stated bound."})]}),children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"z(m, n; s, t)"})," be the maximum edges in an"," ",e.jsx(s,{math:"m \\times n"})," bipartite graph with no"," ",e.jsx(s,{math:"K_{s,t}"})," subgraph."]}),e.jsx(W,{math:"z(m, n; s, t) \\leq \\frac{(t-1)^{1/s}}{2} n m^{1-1/s} + \\frac{s-1}{2}m"})]}),e.jsx("h2",{children:"Forbidden Subgraph Problems"}),e.jsx(B,{title:"Turn-Type Problems",children:e.jsxs("p",{children:["For a family ",e.jsx(s,{math:"\\mathcal{F}"})," of graphs, the"," ",e.jsx("strong",{children:"extremal number"})," ",e.jsx(s,{math:"ex(n, \\mathcal{F})"})," is the maximum edges in an ",e.jsx(s,{math:"n"}),"-vertex graph containing no member of ",e.jsx(s,{math:"\\mathcal{F}"})," as a subgraph."]})}),e.jsxs(q,{title:"Erds-Stone Theorem",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Lower bound:"})," The Turn graph"," ",e.jsx(s,{math:"T_{r-1}(n)"})," (complete ",e.jsx(s,{math:"(r-1)"}),"-partite with parts as equal as possible) has no ",e.jsx(s,{math:"K_r"}),", hence no ",e.jsx(s,{math:"H"})," with ",e.jsx(s,{math:"\\chi(H) = r"}),"."]}),e.jsx(W,{math:"|E(T_{r-1}(n))| = \\left(1 - \\frac{1}{r-1}\\right) \\binom{n}{2} + O(n)"}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Upper bound (Erds-Stone):"})," The key insight is that for any ",e.jsx(s,{math:"\\epsilon > 0"}),", if a graph on ",e.jsx(s,{math:"n"})," ","vertices has more than"," ",e.jsx(s,{math:"\\left(1 - \\frac{1}{r-1} + \\epsilon\\right)\\binom{n}{2}"})," ","edges, it contains ",e.jsx(s,{math:"K_r(t)"})," (complete"," ",e.jsx(s,{math:"r"}),"-partite with parts of size ",e.jsx(s,{math:"t"}),") for ",e.jsx(s,{math:"t = t(\\epsilon, r)"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Embedding H:"})," Since ",e.jsx(s,{math:"\\chi(H) = r"}),", the graph ",e.jsx(s,{math:"H"})," can be embedded in ",e.jsx(s,{math:"K_r(t)"})," ","for large enough ",e.jsx(s,{math:"t"}),". Thus graphs with too many edges must contain ",e.jsx(s,{math:"H"}),"."]}),e.jsx("p",{className:"mt-2",children:"The proof uses the regularity lemma or direct density arguments."})]}),children:[e.jsxs("p",{children:["For any graph ",e.jsx(s,{math:"H"})," with ",e.jsx(s,{math:"\\chi(H) = r \\geq 2"}),":"]}),e.jsx(W,{math:"ex(n, H) = \\left(1 - \\frac{1}{r-1} + o(1)\\right) \\binom{n}{2}"}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["This determines the asymptotic extremal number for all non-bipartite"," ",e.jsx(s,{math:"H"}),"."]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Circumference:"})," Longest cycle length; related to minimum degree and connectivity."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Wiener Index:"})," Sum of distances; extremized by star and path."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"List Coloring:"})," ",e.jsx(s,{math:"\\text{ch}(G) \\geq \\chi(G)"}),", can be much larger."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Branchings:"})," Directed forests; Edmonds' theorem characterizes edge-disjoint spanning arborescences."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Erds-Stone:"})," Asymptotic extremal number depends only on chromatic number."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Encodings:"})," Prfer sequences, Matrix Tree Theorem for counting."]})]})]})}function zG(){return e.jsxs(ze,{sectionId:27,children:[e.jsx("p",{children:"Random graph theory studies the typical properties of graphs when edges are chosen randomly. Introduced by Erds and Rnyi in 1959, this field reveals that graph properties often have sharp thresholds: small changes in edge probability cause dramatic transitions. Random graphs also provide existence proofs for graphs with specific properties through the probabilistic method."}),e.jsx("h2",{children:"Random Graph Models"}),e.jsx(B,{title:"Erds-Rnyi Model G(n,p)",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Erds-Rnyi random graph"})," ",e.jsx(s,{math:"G(n, p)"})," is a probability distribution on graphs with"," ",e.jsx(s,{math:"n"})," labeled vertices where each of the"," ",e.jsx(s,{math:"\\binom{n}{2}"})," possible edges appears independently with probability ",e.jsx(s,{math:"p"}),"."]})}),e.jsxs(B,{title:"Alternative Model G(n,m)",children:[e.jsxs("p",{children:[e.jsx(s,{math:"G(n, m)"})," is the uniform distribution on all graphs with"," ",e.jsx(s,{math:"n"})," vertices and exactly ",e.jsx(s,{math:"m"})," edges."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["When ",e.jsx(s,{math:"m \\approx p\\binom{n}{2}"}),", the models behave similarly."]})]}),e.jsx(oG,{className:"my-8"}),e.jsx("h2",{children:"Basic Properties"}),e.jsxs(q,{title:"Expected Number of Edges",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"X_e"})," be the indicator variable for edge"," ",e.jsx(s,{math:"e"})," being present. Then ",e.jsx(s,{math:"X_e = 1"})," ","with probability ",e.jsx(s,{math:"p"})," and ",e.jsx(s,{math:"X_e = 0"})," ","with probability ",e.jsx(s,{math:"1 - p"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The total number of edges is ",e.jsx(s,{math:"|E| = \\sum_e X_e"}),"."]}),e.jsx("p",{className:"mt-2",children:"By linearity of expectation:"}),e.jsx(W,{math:"\\mathbb{E}[|E|] = \\mathbb{E}\\left[\\sum_e X_e\\right] = \\sum_e \\mathbb{E}[X_e] = \\sum_e p = p \\cdot \\binom{n}{2}"}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{math:"\\binom{n}{2} = \\frac{n(n-1)}{2} \\approx \\frac{n^2}{2}"})," ","for large ",e.jsx(s,{math:"n"}),", we get"," ",e.jsx(s,{math:"\\mathbb{E}[|E|] \\approx \\frac{pn^2}{2}"}),"."]})]}),children:[e.jsxs("p",{children:["In ",e.jsx(s,{math:"G(n, p)"}),":"]}),e.jsx(W,{math:"\\mathbb{E}[|E|] = p \\binom{n}{2} \\approx \\frac{pn^2}{2}"})]}),e.jsx(q,{title:"Expected Number of Triangles",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"X_T"})," be the indicator variable for triangle"," ",e.jsx(s,{math:"T = \\{'{'}u, v, w{'}'}"})," being present (all three edges exist)."]}),e.jsxs("p",{className:"mt-2",children:["Since edges are independent, the probability that all three edges of"," ",e.jsx(s,{math:"T"})," exist is ",e.jsx(s,{math:"p^3"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The number of triangles is ",e.jsx(s,{math:"\\sum_T X_T"})," over all"," ",e.jsx(s,{math:"\\binom{n}{3}"})," triples."]}),e.jsx("p",{className:"mt-2",children:"By linearity of expectation:"}),e.jsx(W,{math:"\\mathbb{E}[\\#\\text{ triangles}] = \\sum_T \\mathbb{E}[X_T] = \\binom{n}{3} \\cdot p^3"}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(s,{math:"\\binom{n}{3} = \\frac{n(n-1)(n-2)}{6} \\approx \\frac{n^3}{6}"}),", we get approximately ",e.jsx(s,{math:"\\frac{n^3 p^3}{6}"}),"."]})]}),children:e.jsx(W,{math:"\\mathbb{E}[\\#\\text{ triangles}] = \\binom{n}{3} p^3 \\approx \\frac{n^3 p^3}{6}"})}),e.jsx(re,{title:"Sparse vs Dense Random Graphs",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(s,{math:"p = 1/n^2"}),": Very sparse, almost no edges"]}),e.jsxs("li",{children:[e.jsx(s,{math:"p = 1/n"}),": Average degree constant"]}),e.jsxs("li",{children:[e.jsx(s,{math:"p = \\log n / n"}),": Around connectivity threshold"]}),e.jsxs("li",{children:[e.jsx(s,{math:"p = 1/2"}),': Dense, "typical" random graph']})]})}),e.jsx("h2",{children:"Threshold Functions"}),e.jsxs(B,{title:"Threshold Function",children:[e.jsxs("p",{children:["A function ",e.jsx(s,{math:"t(n)"})," is a ",e.jsx("strong",{children:"threshold function"})," ","for property ",e.jsx(s,{math:"\\mathcal{P}"})," if:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsx("li",{children:e.jsx(s,{math:"p(n)/t(n) \\to 0 \\implies \\Pr[G(n,p) \\text{ has } \\mathcal{P}] \\to 0"})}),e.jsx("li",{children:e.jsx(s,{math:"p(n)/t(n) \\to \\infty \\implies \\Pr[G(n,p) \\text{ has } \\mathcal{P}] \\to 1"})})]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"sharp threshold"})," occurs when the transition happens over a small range of ",e.jsx(s,{math:"p"}),"."]})]}),e.jsxs(q,{title:"Threshold for Containing H",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Expected number of copies:"})," Let ",e.jsx(s,{math:"X"})," ","count copies of ",e.jsx(s,{math:"H"})," in ",e.jsx(s,{math:"G(n, p)"}),"."]}),e.jsx(W,{math:"\\mathbb{E}[X] = \\binom{n}{v} \\cdot v! \\cdot a(H) \\cdot p^e \\approx n^v p^e"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(s,{math:"a(H)"})," accounts for automorphisms."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Threshold intuition:"})," When ",e.jsx(s,{math:"p = n^{-v/e}"}),":"]}),e.jsx(W,{math:"\\mathbb{E}[X] \\approx n^v \\cdot (n^{-v/e})^e = n^v \\cdot n^{-v} = 1"}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Below threshold:"})," When ",e.jsx(s,{math:"p \\ll n^{-v/e}"}),", the expected number of copies ",e.jsx(s,{math:"\\to 0"}),", so by Markov's inequality, ",e.jsx(s,{math:"\\Pr[X \\geq 1] \\to 0"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Above threshold:"})," When ",e.jsx(s,{math:"p \\gg n^{-v/e}"}),", the expected number ",e.jsx(s,{math:"\\to \\infty"}),". For balanced"," ",e.jsx(s,{math:"H"}),", second moment methods show"," ",e.jsx(s,{math:"\\Pr[X \\geq 1] \\to 1"}),"."]})]}),children:[e.jsxs("p",{children:["For a graph ",e.jsx(s,{math:"H"})," with ",e.jsx(s,{math:"v"})," vertices and"," ",e.jsx(s,{math:"e"})," edges, the threshold for ",e.jsx(s,{math:"G(n, p)"})," ","to contain ",e.jsx(s,{math:"H"})," is:"]}),e.jsx(W,{math:"t(n) = n^{-v/e}"}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["More precisely, when ",e.jsx(s,{math:"H"}),' is "balanced": max density over all subgraphs equals density of ',e.jsx(s,{math:"H"}),"."]})]}),e.jsxs(re,{title:"Triangle Threshold",children:[e.jsxs("p",{children:["Triangle: ",e.jsx(s,{math:"v = 3"}),", ",e.jsx(s,{math:"e = 3"}),". Threshold:"," ",e.jsx(s,{math:"t(n) = n^{-1} = 1/n"}),"."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"p \\ll 1/n"}),": almost surely no triangles. If"," ",e.jsx(s,{math:"p \\gg 1/n"}),": almost surely many triangles."]})]}),e.jsx("h2",{children:"Connectivity"}),e.jsxs(q,{title:"Connectivity Threshold",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Key observation:"})," Near the threshold, the main obstruction to connectivity is isolated vertices."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Expected isolated vertices:"})," Let ",e.jsx(s,{math:"X"})," ","count isolated vertices. A vertex is isolated if all ",e.jsx(s,{math:"n - 1"})," ","potential edges to it are absent:"]}),e.jsx(W,{math:"\\mathbb{E}[X] = n(1-p)^{n-1}"}),e.jsxs("p",{className:"mt-2",children:["When ",e.jsx(s,{math:"p = \\frac{\\log n + c}{n}"}),":"]}),e.jsx(W,{math:"(1-p)^{n-1} \\approx e^{-p(n-1)} \\approx e^{-\\log n - c} = \\frac{e^{-c}}{n}"}),e.jsxs("p",{className:"mt-2",children:["So ",e.jsx(s,{math:"\\mathbb{E}[X] \\approx e^{-c}"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Poisson approximation:"})," The number of isolated vertices converges in distribution to ",e.jsx(s,{math:"\\text{Poisson}(e^{-c})"}),". The probability of no isolated vertices is"," ",e.jsx(s,{math:"e^{-e^{-c}}"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Connectivity:"})," Near the threshold, having no isolated vertices is asymptotically equivalent to connectivity (other disconnecting structures are rarer), giving the limiting probability."]})]}),children:[e.jsxs("p",{children:["The threshold for ",e.jsx(s,{math:"G(n, p)"})," to be connected is"," ",e.jsx(s,{math:"p = \\frac{\\log n}{n}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["More precisely: if"," ",e.jsx(s,{math:"p = \\frac{\\log n + c}{n}"})," for constant"," ",e.jsx(s,{math:"c"}),":"]}),e.jsx(W,{math:"\\Pr[G(n,p) \\text{ connected}] \\to e^{-e^{-c}}"}),e.jsx("p",{className:"mt-2 text-dark-300",children:"This is a sharp threshold with a specific limiting distribution."})]}),e.jsxs(q,{title:"Isolated Vertices",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"I_v"})," be the indicator that vertex"," ",e.jsx(s,{math:"v"})," is isolated (has degree 0)."]}),e.jsx(W,{math:"\\Pr[I_v = 1] = \\Pr[\\text{all } n-1 \\text{ edges to } v \\text{ absent}] = (1-p)^{n-1}"}),e.jsxs("p",{className:"mt-2",children:["The number of isolated vertices is ",e.jsx(s,{math:"\\sum_v I_v"}),". By linearity:"]}),e.jsx(W,{math:"\\mathbb{E}[\\text{isolated vertices}] = \\sum_v \\mathbb{E}[I_v] = n(1-p)^{n-1}"}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"At threshold:"})," When ",e.jsx(s,{math:"p = \\frac{\\log n}{n}"}),":"]}),e.jsx(W,{math:"(1-p)^{n-1} \\approx e^{-p(n-1)} = e^{-(1-1/n)\\log n} \\approx e^{-\\log n} = 1/n"}),e.jsxs("p",{className:"mt-2",children:["So ",e.jsx(s,{math:"\\mathbb{E}[\\text{isolated}] \\approx n \\cdot (1/n) = 1"}),"."]}),e.jsx("p",{className:"mt-2",children:"This shows the connectivity threshold is precisely where isolated vertices disappear on average."})]}),children:[e.jsxs("p",{children:["The expected number of isolated vertices in ",e.jsx(s,{math:"G(n, p)"})," is"," ",e.jsx(s,{math:"n(1-p)^{n-1}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["When ",e.jsx(s,{math:"p = \\frac{\\log n}{n}"}),", this equals approximately"," ",e.jsx(s,{math:"n \\cdot e^{-\\log n} = 1"}),". The graph becomes connected precisely when the last isolated vertex gets an edge."]})]}),e.jsx("h2",{children:"Evolution of Random Graphs"}),e.jsx(B,{title:"Giant Component",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"giant component"})," is a connected component containing a constant fraction of all vertices."]})}),e.jsxs(q,{title:"Phase Transition at p = 1/n",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Branching process heuristic:"})," Explore from a vertex by BFS. At step ",e.jsx(s,{math:"k"}),", a vertex has"," ",e.jsx(s,{math:"\\approx np - 1"})," unexplored neighbors on average."]}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:["Subcritical (",e.jsx(s,{math:"c < 1"}),"):"]})," With"," ",e.jsx(s,{math:"p = c/n"}),", average degree ",e.jsx(s,{math:"np = c < 1"}),". The exploration process is a subcritical branching process that dies out quickly. Component sizes are ",e.jsx(s,{math:"O(\\log n)"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:["Critical (",e.jsx(s,{math:"c = 1"}),"):"]})," Average degree is exactly 1. The branching process is critical; fluctuations create moderately large components of size ",e.jsx(s,{math:"O(n^{2/3})"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:["Supercritical (",e.jsx(s,{math:"c > 1"}),"):"]})," Average degree exceeds 1. With positive probability, the exploration never dies, creating a giant component. The fraction in the giant is approximately"," ",e.jsx(s,{math:"1 - e^{-cy}"})," where ",e.jsx(s,{math:"y"})," is the solution to ",e.jsx(s,{math:"y = 1 - e^{-cy}"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Uniqueness:"})," The giant is unique because once it exists, it absorbs any other large structure."]})]}),children:[e.jsxs("p",{children:["The random graph ",e.jsx(s,{math:"G(n, p)"})," undergoes a"," ",e.jsx("strong",{children:"phase transition"})," at ",e.jsx(s,{math:"p = 1/n"}),":"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(s,{math:"p = c/n"})," with ",e.jsx(s,{math:"c < 1"}),": All components have ",e.jsx(s,{math:"O(\\log n)"})," vertices."]}),e.jsxs("li",{children:[e.jsx(s,{math:"p = 1/n"}),": Largest component has"," ",e.jsx(s,{math:"O(n^{2/3})"})," vertices."]}),e.jsxs("li",{children:[e.jsx(s,{math:"p = c/n"})," with ",e.jsx(s,{math:"c > 1"}),": Unique giant component with ",e.jsx(s,{math:"\\Theta(n)"})," vertices; all others"," ",e.jsx(s,{math:"O(\\log n)"}),"."]})]})]}),e.jsx("h2",{children:"The Probabilistic Method"}),e.jsxs(q,{title:"Existence via Expectation",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"First moment method:"})," This follows from basic properties of expectation."]}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:["For ",e.jsx(s,{math:"X \\geq \\mu"}),":"]})," Suppose for contradiction that ",e.jsx(s,{math:"X < \\mu"})," for all outcomes. Then every term in the expectation is less than ",e.jsx(s,{math:"\\mu"}),", so"," ",e.jsx(s,{math:"\\mathbb{E}[X] < \\mu"}),", contradiction."]}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:["For ",e.jsx(s,{math:"X \\leq \\mu"}),":"]})," Symmetric argument. If ",e.jsx(s,{math:"X > \\mu"})," for all outcomes, then"," ",e.jsx(s,{math:"\\mathbb{E}[X] > \\mu"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Application:"})," To prove a graph with property"," ",e.jsx(s,{math:"P"})," exists, define ",e.jsx(s,{math:"X"}),' counting "bad" structures. If ',e.jsx(s,{math:"\\mathbb{E}[X] < 1"}),", some graph has ",e.jsx(s,{math:"X = 0"})," (no bad structures), hence has property"," ",e.jsx(s,{math:"P"}),"."]})]}),children:[e.jsxs("p",{children:["If the expected value of a random variable ",e.jsx(s,{math:"X"})," is"," ",e.jsx(s,{math:"\\mu"}),", then:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["There exists an outcome with ",e.jsx(s,{math:"X \\geq \\mu"})]}),e.jsxs("li",{children:["There exists an outcome with ",e.jsx(s,{math:"X \\leq \\mu"})]})]})]}),e.jsxs(re,{title:"Large Independent Sets",children:[e.jsx("p",{children:"We can prove existence of graphs with large independence number but small clique number using random graphs:"}),e.jsxs("p",{className:"mt-2",children:["In ",e.jsx(s,{math:"G(n, 1/2)"}),": expected clique number "," ",e.jsx(s,{math:"2\\log_2 n"}),". Expected independence number also "," ",e.jsx(s,{math:"2\\log_2 n"}),". So random graphs have"," ",e.jsx(s,{math:"\\chi \\approx n/(2\\log n)"})," but"," ",e.jsx(s,{math:"\\omega \\approx 2\\log n"}),"."]})]}),e.jsx("h2",{children:"Chromatic Number of Random Graphs"}),e.jsxs(q,{title:"Chromatic Number of G(n, 1/2)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Upper bound:"})," ",e.jsx(s,{math:"\\chi(G) \\leq n/\\alpha(G)"})," ","(greedy coloring using independent sets). For ",e.jsx(s,{math:"G(n, 1/2)"}),", the expected number of independent sets of size ",e.jsx(s,{math:"k"})," is:"]}),e.jsx(W,{math:"\\binom{n}{k} 2^{-\\binom{k}{2}}"}),e.jsxs("p",{className:"mt-2",children:["This is less than 1 when ",e.jsx(s,{math:"k > 2\\log_2 n + O(1)"}),", so"," ",e.jsx(s,{math:"\\alpha(G) \\leq (2 + o(1))\\log_2 n"})," almost surely."]}),e.jsxs("p",{className:"mt-2",children:["Thus ",e.jsx(s,{math:"\\chi(G) \\geq n/\\alpha(G) \\geq (1 - o(1)) \\frac{n}{2\\log_2 n}"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Lower bound:"})," The fractional chromatic number"," ",e.jsx(s,{math:"\\chi^*(G) \\geq n/\\alpha(G)"}),". Combined with greedy coloring analysis, we get:"]}),e.jsx(W,{math:"\\chi(G) \\leq (1 + o(1)) \\frac{n}{2\\log_2 n}"}),e.jsx("p",{className:"mt-2",children:"The matching upper and lower bounds give the asymptotic formula."})]}),children:[e.jsxs("p",{children:["For ",e.jsx(s,{math:"G \\sim G(n, 1/2)"}),":"]}),e.jsx(W,{math:"\\chi(G) = (1 + o(1)) \\frac{n}{2\\log_2 n}"}),e.jsx("p",{className:"mt-2",children:"almost surely."})]}),e.jsx(q,{title:"Concentration",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Edge exposure martingale:"})," Order the potential edges"," ",e.jsx(s,{math:"e_1, \\ldots, e_{\\binom{n}{2}}"}),". Define"," ",e.jsx(s,{math:"X_i = \\mathbb{E}[\\chi(G) | e_1, \\ldots, e_i]"}),"."]}),e.jsxs("p",{className:"mt-2",children:["This is a martingale with ",e.jsx(s,{math:"X_0 = \\mathbb{E}[\\chi(G)]"})," ","and ",e.jsx(s,{math:"X_m = \\chi(G)"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Bounded differences:"})," Each edge changes"," ",e.jsx(s,{math:"\\chi(G)"})," by at most 1, so"," ",e.jsx(s,{math:"|X_i - X_{i-1}| \\leq 1"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Azuma-Hoeffding:"})," By the Azuma-Hoeffding inequality:"]}),e.jsx(W,{math:"\\Pr[|\\chi(G) - \\mathbb{E}[\\chi(G)]| > t] \\leq 2\\exp\\left(-\\frac{t^2}{2m}\\right)"}),e.jsxs("p",{className:"mt-2",children:["With ",e.jsx(s,{math:"m = \\binom{n}{2} \\approx n^2/2"}),", setting"," ",e.jsx(s,{math:"t = c\\sqrt{n}"})," gives exponentially small probability, proving concentration in an ",e.jsx(s,{math:"O(\\sqrt{n})"})," interval."]}),e.jsx("p",{className:"mt-2",children:e.jsx("em",{children:"Sharp concentration (constant interval) remains open."})})]}),children:e.jsxs("p",{children:["The chromatic number of ",e.jsx(s,{math:"G(n, 1/2)"})," is concentrated in an interval of width ",e.jsx(s,{math:"O(\\sqrt{n})"}),". Sharper concentration is a major open problem."]})}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"G(n,p):"})," Each edge present independently with probability"," ",e.jsx(s,{math:"p"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Thresholds:"})," Many properties have sharp thresholds; small changes in ",e.jsx(s,{math:"p"})," cause dramatic transitions."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Connectivity:"})," Threshold at"," ",e.jsx(s,{math:"p = \\log n / n"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Giant Component:"})," Phase transition at"," ",e.jsx(s,{math:"p = 1/n"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Probabilistic Method:"})," Random graphs prove existence of extremal structures."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Chromatic Number:"})," Typically"," ",e.jsx(s,{math:"\\Theta(n/\\log n)"})," for ",e.jsx(s,{math:"G(n, 1/2)"}),"."]})]})]})}function DG(){return e.jsxs(ze,{sectionId:28,children:[e.jsx("p",{children:"Spectral graph theory studies graphs through the eigenvalues of associated matrices. The spectrum (multiset of eigenvalues) encodes surprising amounts of structural information. This algebraic perspective connects graph theory to linear algebra and provides powerful tools for bounding graph parameters."}),e.jsx("h2",{children:"Graph Matrices"}),e.jsxs(B,{title:"Adjacency Matrix",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"adjacency matrix"})," ",e.jsx(s,{math:"A(G)"})," of a graph"," ",e.jsx(s,{math:"G"})," with vertices ",e.jsx(s,{math:"v_1, \\ldots, v_n"})," ","is the ",e.jsx(s,{math:"n \\times n"})," matrix where"," ",e.jsx(s,{math:"A_{ij} = 1"})," if ",e.jsx(s,{math:"v_i v_j \\in E(G)"}),", else ",e.jsx(s,{math:"A_{ij} = 0"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For simple graphs, ",e.jsx(s,{math:"A"})," is symmetric with 0s on the diagonal."]})]}),e.jsxs(B,{title:"Laplacian Matrix",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Laplacian matrix"})," is ",e.jsx(s,{math:"L(G) = D(G) - A(G)"}),", where ",e.jsx(s,{math:"D(G)"})," is the diagonal degree matrix."]}),e.jsx(W,{math:"L_{ij} = \\begin{cases} d(v_i) & \\text{if } i = j \\\\ -1 & \\text{if } v_i v_j \\in E(G) \\\\ 0 & \\text{otherwise} \\end{cases}"})]}),e.jsxs(re,{title:"Matrices of K",children:[e.jsxs("p",{children:["For the triangle ",e.jsx(s,{math:"K_3"}),":"]}),e.jsx(W,{math:"A = \\begin{pmatrix} 0 & 1 & 1 \\\\ 1 & 0 & 1 \\\\ 1 & 1 & 0 \\end{pmatrix}, \\quad L = \\begin{pmatrix} 2 & -1 & -1 \\\\ -1 & 2 & -1 \\\\ -1 & -1 & 2 \\end{pmatrix}"})]}),e.jsx("h2",{children:"Eigenvalues and Spectrum"}),e.jsxs(B,{title:"Spectrum",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"spectrum"})," of ",e.jsx(s,{math:"G"})," is the multiset of eigenvalues of ",e.jsx(s,{math:"A(G)"}),", usually listed as"," ",e.jsx(s,{math:"\\lambda_1 \\geq \\lambda_2 \\geq \\cdots \\geq \\lambda_n"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"Laplacian spectrum"})," has eigenvalues"," ",e.jsx(s,{math:"0 = \\mu_1 \\leq \\mu_2 \\leq \\cdots \\leq \\mu_n"}),"."]})]}),e.jsx(q,{title:"Basic Spectral Properties",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Real eigenvalues:"})," ",e.jsx(s,{math:"A"})," is symmetric (",e.jsx(s,{math:"A = A^T"}),"), so by the spectral theorem for real symmetric matrices, all eigenvalues are real."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Trace formulas:"})," For any matrix,"," ",e.jsx(s,{math:"\\sum \\lambda_i = \\text{tr}(A)"}),"."]}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsxs("li",{children:[e.jsx(s,{math:"\\text{tr}(A) = \\sum A_{ii} = 0"})," (diagonal is all 0 for simple graphs)."]}),e.jsxs("li",{children:[e.jsx(s,{math:"\\text{tr}(A^2) = \\sum_i (A^2)_{ii} = \\sum_{i,j} A_{ij}A_{ji} = \\sum_{i,j} A_{ij}^2 = 2m"})," ","(counts edge pairs)."]}),e.jsxs("li",{children:[e.jsx(s,{math:"(A^3)_{ii}"})," counts closed walks of length 3 from"," ",e.jsx(s,{math:"i"})," to ",e.jsx(s,{math:"i"}),". Each triangle contributes 2 such walks at each vertex (clockwise and counterclockwise), giving ",e.jsx(s,{math:"\\text{tr}(A^3) = 6 \\times \\#\\text{triangles}"}),"."]})]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Laplacian zero eigenvalue:"})," ",e.jsx(s,{math:"L \\cdot \\mathbf{1} = (D - A)\\mathbf{1} = D\\mathbf{1} - A\\mathbf{1}"}),". Since row sums of ",e.jsx(s,{math:"D"})," and ",e.jsx(s,{math:"A"})," both equal degrees, ",e.jsx(s,{math:"L\\mathbf{1} = \\mathbf{0}"}),"."]})]}),children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"Adjacency eigenvalues are real (symmetric matrix)."}),e.jsxs("li",{children:[e.jsx(s,{math:"\\sum \\lambda_i = \\text{tr}(A) = 0"}),"."]}),e.jsxs("li",{children:[e.jsx(s,{math:"\\sum \\lambda_i^2 = \\text{tr}(A^2) = 2m"}),"."]}),e.jsxs("li",{children:[e.jsx(s,{math:"\\sum \\lambda_i^3 = \\text{tr}(A^3) = 6 \\times \\#\\text{triangles}"}),"."]}),e.jsxs("li",{children:["Laplacian always has eigenvalue 0 (eigenvector ",e.jsx(s,{math:"(1, \\ldots, 1)^T"}),")."]})]})}),e.jsxs(re,{title:"Spectrum of Complete Graph",children:[e.jsxs("p",{children:[e.jsx(s,{math:"K_n"})," has adjacency matrix ",e.jsx(s,{math:"J - I"})," ","where ",e.jsx(s,{math:"J"})," is all-ones matrix."]}),e.jsxs("p",{className:"mt-2",children:["Eigenvalues: ",e.jsx(s,{math:"n - 1"})," (multiplicity 1) and"," ",e.jsx(s,{math:"-1"})," (multiplicity ",e.jsx(s,{math:"n - 1"}),")."]})]}),e.jsxs(re,{title:"Spectrum of Cycle",children:[e.jsxs("p",{children:[e.jsx(s,{math:"C_n"})," has eigenvalues"," ",e.jsx(s,{math:"2\\cos(2\\pi k/n)"})," for ",e.jsx(s,{math:"k = 0, 1, \\ldots, n-1"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Largest eigenvalue: ",e.jsx(s,{math:"\\lambda_1 = 2"}),". Smallest:"," ",e.jsx(s,{math:"\\lambda_n = -2"})," if ",e.jsx(s,{math:"n"})," is even."]})]}),e.jsx("h2",{children:"Spectral Bounds"}),e.jsxs(q,{title:"Largest Eigenvalue Bounds",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsxs("strong",{children:["Upper bound ",e.jsx(s,{math:"\\lambda_1 \\leq \\Delta"}),":"]})," ","Let ",e.jsx(s,{math:"\\mathbf{x}"})," be the eigenvector for"," ",e.jsx(s,{math:"\\lambda_1"}),". Let ",e.jsx(s,{math:"i"})," be a vertex where ",e.jsx(s,{math:"|x_i|"})," is maximum."]}),e.jsx(W,{math:"\\lambda_1 |x_i| = |(\\lambda_1 \\mathbf{x})_i| = |(A\\mathbf{x})_i| = \\left|\\sum_j A_{ij} x_j\\right| \\leq \\sum_j A_{ij} |x_j| \\leq d_i |x_i| \\leq \\Delta |x_i|"}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:["Lower bound ",e.jsx(s,{math:"\\lambda_1 \\geq \\bar{d}"}),":"]})," ","Use the variational characterization"," ",e.jsx(s,{math:"\\lambda_1 = \\max_{\\mathbf{x} \\neq 0} \\frac{\\mathbf{x}^T A \\mathbf{x}}{\\mathbf{x}^T \\mathbf{x}}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Take ",e.jsx(s,{math:"\\mathbf{x} = \\mathbf{1}"})," (all ones):"]}),e.jsx(W,{math:"\\lambda_1 \\geq \\frac{\\mathbf{1}^T A \\mathbf{1}}{\\mathbf{1}^T \\mathbf{1}} = \\frac{\\sum_{i,j} A_{ij}}{n} = \\frac{2m}{n} = \\bar{d}"}),e.jsxs("p",{className:"mt-2",children:["Equality holds iff ",e.jsx(s,{math:"\\mathbf{1}"})," is an eigenvector, which occurs iff ",e.jsx(s,{math:"G"})," is regular."]})]}),children:[e.jsxs("p",{children:["For a graph ",e.jsx(s,{math:"G"})," with maximum degree"," ",e.jsx(s,{math:"\\Delta"})," and average degree ",e.jsx(s,{math:"\\bar{d}"}),":"]}),e.jsx(W,{math:"\\bar{d} \\leq \\lambda_1 \\leq \\Delta"}),e.jsxs("p",{className:"mt-2",children:["Equality on left iff ",e.jsx(s,{math:"G"})," is regular. Equality on right always for ",e.jsx(s,{math:"\\lambda_1"}),"."]})]}),e.jsxs(q,{title:"Chromatic Number Bound",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsxs("strong",{children:["Upper bound ",e.jsx(s,{math:"\\chi(G) \\leq 1 + \\lambda_1"}),":"]})," ","Since ",e.jsx(s,{math:"\\lambda_1 \\leq \\Delta"}),", this follows from"," ",e.jsx(s,{math:"\\chi(G) \\leq \\Delta + 1"})," (greedy coloring)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Hoffman's lower bound:"})," Consider a proper"," ",e.jsx(s,{math:"k"}),"-coloring. Let ",e.jsx(s,{math:"S_i"})," be color class ",e.jsx(s,{math:"i"}),", and define the"," ",e.jsx(s,{math:"n \\times k"})," matrix ",e.jsx(s,{math:"X"})," where"," ",e.jsx(s,{math:"X_{vj} = 1"})," if ",e.jsx(s,{math:"v \\in S_j"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Then ",e.jsx(s,{math:"X^T A X"})," is a ",e.jsx(s,{math:"k \\times k"})," ","matrix with 0 on diagonal (independent sets). Using eigenvalue interlacing and the fact that ",e.jsx(s,{math:"A"})," has ",e.jsx(s,{math:"n"})," ","eigenvalues with smallest ",e.jsx(s,{math:"\\lambda_n"}),":"]}),e.jsx(W,{math:"\\lambda_n \\leq \\text{smallest eigenvalue of } \\frac{1}{n}X^TAX"}),e.jsx("p",{className:"mt-2",children:"After algebraic manipulation (using properties of equitable partitions):"}),e.jsx(W,{math:"\\chi(G) = k \\geq 1 + \\frac{\\lambda_1}{-\\lambda_n}"})]}),children:[e.jsx(W,{math:"\\chi(G) \\leq 1 + \\lambda_1"}),e.jsxs("p",{className:"mt-2",children:["Also: ",e.jsx(s,{math:"\\chi(G) \\geq 1 + \\frac{\\lambda_1}{-\\lambda_n}"})," ","(Hoffman bound)."]})]}),e.jsx(q,{title:"Independence Number Bound (Hoffman)",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Let ",e.jsx(s,{math:"S"})," be an independent set of size"," ",e.jsx(s,{math:"\\alpha"}),". Define ",e.jsx(s,{math:"\\mathbf{x}"})," by"," ",e.jsx(s,{math:"x_i = 1"})," if ",e.jsx(s,{math:"i \\in S"})," and"," ",e.jsx(s,{math:"x_i = -\\alpha/(n - \\alpha)"})," otherwise."]}),e.jsxs("p",{className:"mt-2",children:["This ensures ",e.jsx(s,{math:"\\mathbf{1}^T \\mathbf{x} = 0"}),", so"," ",e.jsx(s,{math:"\\mathbf{x}"})," is orthogonal to the eigenvector for"," ",e.jsx(s,{math:"\\lambda_1"})," (which is ",e.jsx(s,{math:"\\mathbf{1}"})," ","for regular graphs, or approximately for general graphs)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Quadratic form:"})," Since ",e.jsx(s,{math:"S"})," is independent, ",e.jsx(s,{math:"\\mathbf{x}^T A \\mathbf{x}"})," has no contribution from pairs within ",e.jsx(s,{math:"S"}),":"]}),e.jsx(W,{math:"\\mathbf{x}^T A \\mathbf{x} = -2 \\cdot \\frac{\\alpha}{n-\\alpha} \\cdot |E(S, \\overline{S})| + \\left(\\frac{\\alpha}{n-\\alpha}\\right)^2 \\cdot 2|E(\\overline{S})|"}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Using eigenvalue bounds:"})," Since ",e.jsx(s,{math:"\\mathbf{x} \\perp \\mathbf{1}"}),", the Rayleigh quotient gives"," ",e.jsx(s,{math:"\\mathbf{x}^T A \\mathbf{x} / \\|\\mathbf{x}\\|^2 \\leq \\lambda_2 \\leq \\lambda_1"})," ","and ",e.jsx(s,{math:"\\geq \\lambda_n"}),"."]}),e.jsx("p",{className:"mt-2",children:"After simplification, this yields the stated bound."})]}),children:e.jsx(W,{math:"\\alpha(G) \\leq \\frac{n \\cdot (-\\lambda_n)}{\\lambda_1 - \\lambda_n}"})}),e.jsx("h2",{children:"Algebraic Connectivity"}),e.jsx(B,{title:"Algebraic Connectivity",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"algebraic connectivity"})," ",e.jsx(s,{math:"a(G) = \\mu_2"})," is the second-smallest Laplacian eigenvalue."]})}),e.jsx(q,{title:"Fiedler's Theorem",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsxs("strong",{children:[e.jsx(s,{math:"a(G) > 0"})," iff connected:"]})}),e.jsxs("p",{className:"mt-2",children:["The multiplicity of eigenvalue 0 in ",e.jsx(s,{math:"L"})," equals the number of connected components. This is because the null space of"," ",e.jsx(s,{math:"L"})," is spanned by indicator vectors of components."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(s,{math:"G"})," is connected, 0 has multiplicity 1, so"," ",e.jsx(s,{math:"\\mu_2 > 0"}),". If disconnected, 0 has multiplicity"," ",e.jsx(s,{math:"\\geq 2"}),", so ",e.jsx(s,{math:"\\mu_2 = 0"}),"."]}),e.jsx("p",{className:"mt-2",children:e.jsxs("strong",{children:[e.jsx(s,{math:"a(G) \\leq \\kappa'(G)"}),":"]})}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(s,{math:"S"})," be a minimum edge cut of size"," ",e.jsx(s,{math:"\\kappa'"})," separating ",e.jsx(s,{math:"G"})," into parts ",e.jsx(s,{math:"A"})," and ",e.jsx(s,{math:"B"})," with"," ",e.jsx(s,{math:"|A| = a"})," and ",e.jsx(s,{math:"|B| = b"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Define ",e.jsx(s,{math:"\\mathbf{x}"})," with"," ",e.jsx(s,{math:"x_i = b"})," for ",e.jsx(s,{math:"i \\in A"})," and"," ",e.jsx(s,{math:"x_i = -a"})," for ",e.jsx(s,{math:"i \\in B"}),". Then ",e.jsx(s,{math:"\\mathbf{1}^T \\mathbf{x} = 0"})," and:"]}),e.jsx(W,{math:"a(G) \\leq \\frac{\\mathbf{x}^T L \\mathbf{x}}{\\mathbf{x}^T \\mathbf{x}} = \\frac{(a+b)^2 \\cdot \\kappa'}{ab(a+b)} \\leq \\kappa'"}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:[e.jsx(s,{math:"a(G) \\leq \\kappa(G)"}),":"]})," Similar argument using a minimum vertex cut."]})]}),children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(s,{math:"a(G) > 0"})," iff ",e.jsx(s,{math:"G"})," is connected."]}),e.jsxs("li",{children:[e.jsx(s,{math:"a(G) \\leq \\kappa(G)"})," (vertex connectivity)."]}),e.jsxs("li",{children:[e.jsx(s,{math:"a(G) \\leq \\kappa'(G)"})," (edge connectivity)."]})]})}),e.jsx("h2",{children:"Strongly Regular Graphs"}),e.jsxs(B,{title:"Strongly Regular Graph",children:[e.jsxs("p",{children:["A graph is ",e.jsx("strong",{children:"strongly regular"})," with parameters"," ",e.jsx(s,{math:"(n, k, \\lambda, \\mu)"})," if:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx(s,{math:"n"})," vertices, ",e.jsx(s,{math:"k"}),"-regular"]}),e.jsxs("li",{children:["Every pair of adjacent vertices has exactly"," ",e.jsx(s,{math:"\\lambda"})," common neighbors"]}),e.jsxs("li",{children:["Every pair of non-adjacent vertices has exactly"," ",e.jsx(s,{math:"\\mu"})," common neighbors"]})]})]}),e.jsxs(re,{title:"Petersen Graph",children:[e.jsxs("p",{children:["The Petersen graph is strongly regular with parameters"," ",e.jsx(s,{math:"(10, 3, 0, 1)"}),":"]}),e.jsxs("ul",{className:"list-disc list-inside",children:[e.jsx("li",{children:"10 vertices, 3-regular"}),e.jsx("li",{children:"Adjacent vertices have 0 common neighbors (triangle-free)"}),e.jsx("li",{children:"Non-adjacent vertices have exactly 1 common neighbor"})]}),e.jsx("p",{className:"mt-2",children:"Eigenvalues: 3 (mult. 1), 1 (mult. 5), -2 (mult. 4)."})]}),e.jsxs(q,{title:"Eigenvalues of Strongly Regular Graphs",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Matrix equation:"})," For a strongly regular graph, the adjacency matrix satisfies:"]}),e.jsx(W,{math:"A^2 = kI + \\lambda A + \\mu(J - I - A)"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(s,{math:"J"})," is the all-ones matrix. This is because"," ",e.jsx(s,{math:"(A^2)_{ij}"})," counts walks of length 2 from"," ",e.jsx(s,{math:"i"})," to ",e.jsx(s,{math:"j"}),"."]}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Simplify:"})}),e.jsx(W,{math:"A^2 = (k - \\mu)I + (\\lambda - \\mu)A + \\mu J"}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:["Eigenvalue ",e.jsx(s,{math:"k"}),":"]})," The vector"," ",e.jsx(s,{math:"\\mathbf{1}"})," is an eigenvector with eigenvalue"," ",e.jsx(s,{math:"k"})," (row sum)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Other eigenvalues:"})," For eigenvectors"," ",e.jsx(s,{math:"\\mathbf{x} \\perp \\mathbf{1}"}),", we have"," ",e.jsx(s,{math:"J\\mathbf{x} = 0"}),", so:"]}),e.jsx(W,{math:"\\lambda^2 \\mathbf{x} = A^2 \\mathbf{x} = (k - \\mu)\\mathbf{x} + (\\lambda - \\mu)\\lambda \\mathbf{x}"}),e.jsxs("p",{className:"mt-2",children:["Thus ",e.jsx(s,{math:"\\lambda^2 - (\\lambda - \\mu)\\lambda - (k - \\mu) = 0"}),". The quadratic formula gives the two roots ",e.jsx(s,{math:"r"})," and"," ",e.jsx(s,{math:"s"}),"."]})]}),children:[e.jsxs("p",{children:["A strongly regular graph with parameters"," ",e.jsx(s,{math:"(n, k, \\lambda, \\mu)"})," has exactly 3 distinct eigenvalues:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx(s,{math:"k"})," (multiplicity 1)"]}),e.jsx("li",{children:e.jsx(s,{math:"r = \\frac{(\\lambda - \\mu) + \\sqrt{(\\lambda - \\mu)^2 + 4(k - \\mu)}}{2}"})}),e.jsx("li",{children:e.jsx(s,{math:"s = \\frac{(\\lambda - \\mu) - \\sqrt{(\\lambda - \\mu)^2 + 4(k - \\mu)}}{2}"})})]})]}),e.jsx("h2",{children:"Isospectral Graphs"}),e.jsx(B,{title:"Isospectral",children:e.jsxs("p",{children:["Two graphs are ",e.jsx("strong",{children:"isospectral"})," (or ",e.jsx("strong",{children:"cospectral"}),") if they have the same spectrum."]})}),e.jsxs(q,{title:"Spectrum Doesn't Determine Structure",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsx("strong",{children:"Smallest counterexample (5 vertices):"})}),e.jsxs("p",{className:"mt-2",children:["Consider ",e.jsx(s,{math:"G_1 = C_5"})," (the 5-cycle) and"," ",e.jsx(s,{math:"G_2 = K_{1,4}"})," with an added edge between two leaves. Actually, the smallest known examples are ",e.jsx(s,{math:"C_4 \\cup K_1"})," ","and ",e.jsx(s,{math:"K_{1,3} \\cup K_1"})," (disjoint unions)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Construction method:"})," One systematic way to create cospectral graphs uses Seidel switching: partition"," ",e.jsx(s,{math:"V(G)"})," into sets ",e.jsx(s,{math:"S"})," and"," ",e.jsx(s,{math:"T"}),", then swap edges and non-edges between them. Under certain conditions, this preserves the spectrum."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Almost all determined:"})," Let ",e.jsx(s,{math:"D(n)"})," be the fraction of ",e.jsx(s,{math:"n"}),"-vertex graphs determined by their spectrum. Probabilistic arguments (similar to Erds-style counting) show"," ",e.jsx(s,{math:"D(n) \\to 1"})," as ",e.jsx(s,{math:"n \\to \\infty"}),"."]}),e.jsx("p",{className:"mt-2",children:'The "typical" graph has no non-trivial automorphisms and is determined by its spectrum.'})]}),children:[e.jsx("p",{children:"Non-isomorphic graphs can be isospectral. The smallest example has 5 vertices."}),e.jsx("p",{className:"mt-2",children:"However, almost all graphs are determined by their spectrum (proved probabilistically)."})]}),e.jsx("h2",{children:"Applications"}),e.jsx("h3",{children:"Graph Partitioning"}),e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Fiedler vector"})," (eigenvector for ",e.jsx(s,{math:"\\mu_2"}),") provides a way to partition vertices into two sets with few edges between them (spectral partitioning)."]}),e.jsx("h3",{children:"Random Walks"}),e.jsxs("p",{children:["The mixing time of random walks on graphs is controlled by the spectral gap"," ",e.jsx(s,{math:"\\lambda_1 - \\lambda_2"})," of the adjacency matrix. Larger gap means faster mixing."]}),e.jsx("h3",{children:"Expander Graphs"}),e.jsxs(B,{title:"Expander",children:[e.jsxs("p",{children:["A ",e.jsx(s,{math:"k"}),"-regular graph is an"," ",e.jsx(s,{math:"(n, k, \\epsilon)"}),"-",e.jsx("strong",{children:"expander"})," if"," ",e.jsx(s,{math:"\\lambda_2 \\leq k - \\epsilon"}),"."]}),e.jsx("p",{className:"mt-2",children:"Expanders have excellent connectivity properties and are used in coding theory and derandomization."})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Spectrum:"})," Eigenvalues of adjacency matrix encode structural information."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bounds:"})," Spectral bounds on chromatic number, independence number, connectivity."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Laplacian:"})," Second eigenvalue measures algebraic connectivity."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Strongly Regular:"})," Exactly 3 distinct eigenvalues; highly symmetric."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Not Determined:"})," Spectrum doesn't uniquely determine the graph."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Applications:"})," Graph partitioning, random walks, expanders, network analysis."]})]})]})}const IG={1:cG,2:hG,3:dG,4:mG,5:uG,6:xG,7:pG,8:fG,9:gG,10:jG,11:vG,12:yG,13:bG,14:wG,15:NG,16:TG,17:kG,18:_G,19:SG,20:$G,21:GG,22:AG,23:EG,24:CG,25:MG,26:qG,27:zG,28:DG};function OG({children:t}){const[n,a]=$.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-dark-950",children:[e.jsx(Tu,{sidebarOpen:n,onToggleSidebar:()=>a(!n)}),e.jsx(ku,{isOpen:n,onClose:()=>a(!1)}),e.jsx("main",{className:"pt-16 lg:pl-72",children:t})]})}function RG(){const{id:t}=$f(),n=parseInt(t||"0",10),a=IG[n];return a?e.jsx(a,{}):e.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Section Not Found"}),e.jsx("p",{className:"text-dark-400",children:"This section is not yet implemented."})]})})}function LG(){return e.jsxs(e.Fragment,{children:[e.jsx(OG,{children:e.jsxs(a0,{children:[e.jsx(qa,{path:"/",element:e.jsx(yf,{})}),e.jsx(qa,{path:"/leaderboard",element:e.jsx(FS,{})}),e.jsx(qa,{path:"/theorems",element:e.jsx(w$,{})}),e.jsx(qa,{path:"/interactive",element:e.jsx(N$,{})}),e.jsx(qa,{path:"/section/:id",element:e.jsx(RG,{})}),e.jsx(qa,{path:"/quiz/section/:id",element:e.jsx(k$,{})}),e.jsx(qa,{path:"*",element:e.jsx(yf,{})})]})}),e.jsx(RS,{})]})}function HG(){return e.jsx(n0,{children:e.jsx(x_,{children:e.jsx(zS,{children:e.jsx(LG,{})})})})}K2.createRoot(document.getElementById("root")).render(e.jsx($.StrictMode,{children:e.jsx(HG,{})}));
