var pC=Object.defineProperty;var gC=(t,e,r)=>e in t?pC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var As=(t,e,r)=>gC(t,typeof e!="symbol"?e+"":e,r);function xC(t,e){for(var r=0;r<e.length;r++){const s=e[r];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(s,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function vC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var n8={exports:{}},zf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yC=Symbol.for("react.transitional.element"),bC=Symbol.for("react.fragment");function s8(t,e,r){var s=null;if(r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),"key"in e){r={};for(var i in e)i!=="key"&&(r[i]=e[i])}else r=e;return e=r.ref,{$$typeof:yC,type:t,key:s,ref:e!==void 0?e:null,props:r}}zf.Fragment=bC;zf.jsx=s8;zf.jsxs=s8;n8.exports=zf;var n=n8.exports,i8={exports:{}},rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q2=Symbol.for("react.transitional.element"),jC=Symbol.for("react.portal"),wC=Symbol.for("react.fragment"),SC=Symbol.for("react.strict_mode"),TC=Symbol.for("react.profiler"),kC=Symbol.for("react.consumer"),AC=Symbol.for("react.context"),NC=Symbol.for("react.forward_ref"),EC=Symbol.for("react.suspense"),CC=Symbol.for("react.memo"),a8=Symbol.for("react.lazy"),MC=Symbol.for("react.activity"),b5=Symbol.iterator;function _C(t){return t===null||typeof t!="object"?null:(t=b5&&t[b5]||t["@@iterator"],typeof t=="function"?t:null)}var o8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l8=Object.assign,c8={};function t0(t,e,r){this.props=t,this.context=e,this.refs=c8,this.updater=r||o8}t0.prototype.isReactComponent={};t0.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};t0.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function h8(){}h8.prototype=t0.prototype;function J2(t,e,r){this.props=t,this.context=e,this.refs=c8,this.updater=r||o8}var e4=J2.prototype=new h8;e4.constructor=J2;l8(e4,t0.prototype);e4.isPureReactComponent=!0;var j5=Array.isArray;function qg(){}var Pt={H:null,A:null,T:null,S:null},u8=Object.prototype.hasOwnProperty;function t4(t,e,r){var s=r.ref;return{$$typeof:Q2,type:t,key:e,ref:s!==void 0?s:null,props:r}}function $C(t,e){return t4(t.type,e,t.props)}function r4(t){return typeof t=="object"&&t!==null&&t.$$typeof===Q2}function zC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var w5=/\/+/g;function Pp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zC(""+t.key):e.toString(36)}function DC(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(qg,qg):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Jl(t,e,r,s,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(a){case"bigint":case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Q2:case jC:l=!0;break;case a8:return l=t._init,Jl(l(t._payload),e,r,s,i)}}if(l)return i=i(t),l=s===""?"."+Pp(t,0):s,j5(i)?(r="",l!=null&&(r=l.replace(w5,"$&/")+"/"),Jl(i,e,r,"",function(u){return u})):i!=null&&(r4(i)&&(i=$C(i,r+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(w5,"$&/")+"/")+l)),e.push(i)),1;l=0;var c=s===""?".":s+":";if(j5(t))for(var h=0;h<t.length;h++)s=t[h],a=c+Pp(s,h),l+=Jl(s,e,r,a,i);else if(h=_C(t),typeof h=="function")for(t=h.call(t),h=0;!(s=t.next()).done;)s=s.value,a=c+Pp(s,h++),l+=Jl(s,e,r,a,i);else if(a==="object"){if(typeof t.then=="function")return Jl(DC(t),e,r,s,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return l}function ed(t,e,r){if(t==null)return t;var s=[],i=0;return Jl(t,s,"","",function(a){return e.call(r,a,i++)}),s}function IC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var S5=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},RC={map:ed,forEach:function(t,e,r){ed(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ed(t,function(){e++}),e},toArray:function(t){return ed(t,function(e){return e})||[]},only:function(t){if(!r4(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};rt.Activity=MC;rt.Children=RC;rt.Component=t0;rt.Fragment=wC;rt.Profiler=TC;rt.PureComponent=J2;rt.StrictMode=SC;rt.Suspense=EC;rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Pt;rt.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Pt.H.useMemoCache(t)}};rt.cache=function(t){return function(){return t.apply(null,arguments)}};rt.cacheSignal=function(){return null};rt.cloneElement=function(t,e,r){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var s=l8({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!u8.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(s[a]=e[a]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}return t4(t.type,i,s)};rt.createContext=function(t){return t={$$typeof:AC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:kC,_context:t},t};rt.createElement=function(t,e,r){var s,i={},a=null;if(e!=null)for(s in e.key!==void 0&&(a=""+e.key),e)u8.call(e,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(i[s]=e[s]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)i[s]===void 0&&(i[s]=l[s]);return t4(t,a,i)};rt.createRef=function(){return{current:null}};rt.forwardRef=function(t){return{$$typeof:NC,render:t}};rt.isValidElement=r4;rt.lazy=function(t){return{$$typeof:a8,_payload:{_status:-1,_result:t},_init:IC}};rt.memo=function(t,e){return{$$typeof:CC,type:t,compare:e===void 0?null:e}};rt.startTransition=function(t){var e=Pt.T,r={};Pt.T=r;try{var s=t(),i=Pt.S;i!==null&&i(r,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(qg,S5)}catch(a){S5(a)}finally{e!==null&&r.types!==null&&(e.types=r.types),Pt.T=e}};rt.unstable_useCacheRefresh=function(){return Pt.H.useCacheRefresh()};rt.use=function(t){return Pt.H.use(t)};rt.useActionState=function(t,e,r){return Pt.H.useActionState(t,e,r)};rt.useCallback=function(t,e){return Pt.H.useCallback(t,e)};rt.useContext=function(t){return Pt.H.useContext(t)};rt.useDebugValue=function(){};rt.useDeferredValue=function(t,e){return Pt.H.useDeferredValue(t,e)};rt.useEffect=function(t,e){return Pt.H.useEffect(t,e)};rt.useEffectEvent=function(t){return Pt.H.useEffectEvent(t)};rt.useId=function(){return Pt.H.useId()};rt.useImperativeHandle=function(t,e,r){return Pt.H.useImperativeHandle(t,e,r)};rt.useInsertionEffect=function(t,e){return Pt.H.useInsertionEffect(t,e)};rt.useLayoutEffect=function(t,e){return Pt.H.useLayoutEffect(t,e)};rt.useMemo=function(t,e){return Pt.H.useMemo(t,e)};rt.useOptimistic=function(t,e){return Pt.H.useOptimistic(t,e)};rt.useReducer=function(t,e,r){return Pt.H.useReducer(t,e,r)};rt.useRef=function(t){return Pt.H.useRef(t)};rt.useState=function(t){return Pt.H.useState(t)};rt.useSyncExternalStore=function(t,e,r){return Pt.H.useSyncExternalStore(t,e,r)};rt.useTransition=function(){return Pt.H.useTransition()};rt.version="19.2.3";i8.exports=rt;var _=i8.exports;const GC=vC(_),OC=xC({__proto__:null,default:GC},[_]);var d8={exports:{}},Df={},m8={exports:{}},f8={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(oe,re){var F=oe.length;oe.push(re);e:for(;0<F;){var le=F-1>>>1,W=oe[le];if(0<i(W,re))oe[le]=re,oe[F]=W,F=le;else break e}}function r(oe){return oe.length===0?null:oe[0]}function s(oe){if(oe.length===0)return null;var re=oe[0],F=oe.pop();if(F!==re){oe[0]=F;e:for(var le=0,W=oe.length,te=W>>>1;le<te;){var U=2*(le+1)-1,Z=oe[U],ge=U+1,ee=oe[ge];if(0>i(Z,F))ge<W&&0>i(ee,Z)?(oe[le]=ee,oe[ge]=F,le=ge):(oe[le]=Z,oe[U]=F,le=U);else if(ge<W&&0>i(ee,F))oe[le]=ee,oe[ge]=F,le=ge;else break e}}return re}function i(oe,re){var F=oe.sortIndex-re.sortIndex;return F!==0?F:oe.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],u=[],m=1,f=null,p=3,g=!1,S=!1,N=!1,$=!1,w=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function I(oe){for(var re=r(u);re!==null;){if(re.callback===null)s(u);else if(re.startTime<=oe)s(u),re.sortIndex=re.expirationTime,e(h,re);else break;re=r(u)}}function B(oe){if(N=!1,I(oe),!S)if(r(h)!==null)S=!0,Q||(Q=!0,H());else{var re=r(u);re!==null&&de(B,re.startTime-oe)}}var Q=!1,D=-1,E=5,z=-1;function O(){return $?!0:!(t.unstable_now()-z<E)}function L(){if($=!1,Q){var oe=t.unstable_now();z=oe;var re=!0;try{e:{S=!1,N&&(N=!1,T(D),D=-1),g=!0;var F=p;try{t:{for(I(oe),f=r(h);f!==null&&!(f.expirationTime>oe&&O());){var le=f.callback;if(typeof le=="function"){f.callback=null,p=f.priorityLevel;var W=le(f.expirationTime<=oe);if(oe=t.unstable_now(),typeof W=="function"){f.callback=W,I(oe),re=!0;break t}f===r(h)&&s(h),I(oe)}else s(h);f=r(h)}if(f!==null)re=!0;else{var te=r(u);te!==null&&de(B,te.startTime-oe),re=!1}}break e}finally{f=null,p=F,g=!1}re=void 0}}finally{re?H():Q=!1}}}var H;if(typeof A=="function")H=function(){A(L)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ye=q.port2;q.port1.onmessage=L,H=function(){ye.postMessage(null)}}else H=function(){w(L,0)};function de(oe,re){D=w(function(){oe(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(oe){switch(p){case 1:case 2:case 3:var re=3;break;default:re=p}var F=p;p=re;try{return oe()}finally{p=F}},t.unstable_requestPaint=function(){$=!0},t.unstable_runWithPriority=function(oe,re){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var F=p;p=oe;try{return re()}finally{p=F}},t.unstable_scheduleCallback=function(oe,re,F){var le=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?le+F:le):F=le,oe){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=F+W,oe={id:m++,callback:re,priorityLevel:oe,startTime:F,expirationTime:W,sortIndex:-1},F>le?(oe.sortIndex=F,e(u,oe),r(h)===null&&oe===r(u)&&(N?(T(D),D=-1):N=!0,de(B,F-le))):(oe.sortIndex=W,e(h,oe),S||g||(S=!0,Q||(Q=!0,H()))),oe},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(oe){var re=p;return function(){var F=p;p=re;try{return oe.apply(this,arguments)}finally{p=F}}}})(f8);m8.exports=f8;var PC=m8.exports,p8={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LC=_;function g8(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Na(){}var ln={d:{f:Na,r:function(){throw Error(g8(522))},D:Na,C:Na,L:Na,m:Na,X:Na,S:Na,M:Na},p:0,findDOMNode:null},qC=Symbol.for("react.portal");function BC(t,e,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qC,key:s==null?null:""+s,children:t,containerInfo:e,implementation:r}}var lh=LC.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function If(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ln;gn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(g8(299));return BC(t,e,null,r)};gn.flushSync=function(t){var e=lh.T,r=ln.p;try{if(lh.T=null,ln.p=2,t)return t()}finally{lh.T=e,ln.p=r,ln.d.f()}};gn.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,ln.d.C(t,e))};gn.prefetchDNS=function(t){typeof t=="string"&&ln.d.D(t)};gn.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var r=e.as,s=If(r,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;r==="style"?ln.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:s,integrity:i,fetchPriority:a}):r==="script"&&ln.d.X(t,{crossOrigin:s,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};gn.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var r=If(e.as,e.crossOrigin);ln.d.M(t,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&ln.d.M(t)};gn.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var r=e.as,s=If(r,e.crossOrigin);ln.d.L(t,r,{crossOrigin:s,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};gn.preloadModule=function(t,e){if(typeof t=="string")if(e){var r=If(e.as,e.crossOrigin);ln.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else ln.d.m(t)};gn.requestFormReset=function(t){ln.d.r(t)};gn.unstable_batchedUpdates=function(t,e){return t(e)};gn.useFormState=function(t,e,r){return lh.H.useFormState(t,e,r)};gn.useFormStatus=function(){return lh.H.useHostTransitionStatus()};gn.version="19.2.3";function x8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x8)}catch(t){console.error(t)}}x8(),p8.exports=gn;var HC=p8.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $r=PC,v8=_,FC=HC;function be(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function y8(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function uu(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function b8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function j8(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function T5(t){if(uu(t)!==t)throw Error(be(188))}function UC(t){var e=t.alternate;if(!e){if(e=uu(t),e===null)throw Error(be(188));return e!==t?null:t}for(var r=t,s=e;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(s=i.return,s!==null){r=s;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return T5(i),t;if(a===s)return T5(i),e;a=a.sibling}throw Error(be(188))}if(r.return!==s.return)r=i,s=a;else{for(var l=!1,c=i.child;c;){if(c===r){l=!0,r=i,s=a;break}if(c===s){l=!0,s=i,r=a;break}c=c.sibling}if(!l){for(c=a.child;c;){if(c===r){l=!0,r=a,s=i;break}if(c===s){l=!0,s=a,r=i;break}c=c.sibling}if(!l)throw Error(be(189))}}if(r.alternate!==s)throw Error(be(190))}if(r.tag!==3)throw Error(be(188));return r.stateNode.current===r?t:e}function w8(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=w8(t),e!==null)return e;t=t.sibling}return null}var Lt=Object.assign,VC=Symbol.for("react.element"),td=Symbol.for("react.transitional.element"),J0=Symbol.for("react.portal"),rc=Symbol.for("react.fragment"),S8=Symbol.for("react.strict_mode"),Bg=Symbol.for("react.profiler"),T8=Symbol.for("react.consumer"),Gi=Symbol.for("react.context"),n4=Symbol.for("react.forward_ref"),Hg=Symbol.for("react.suspense"),Fg=Symbol.for("react.suspense_list"),s4=Symbol.for("react.memo"),Ia=Symbol.for("react.lazy"),Ug=Symbol.for("react.activity"),KC=Symbol.for("react.memo_cache_sentinel"),k5=Symbol.iterator;function P0(t){return t===null||typeof t!="object"?null:(t=k5&&t[k5]||t["@@iterator"],typeof t=="function"?t:null)}var WC=Symbol.for("react.client.reference");function Vg(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===WC?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case rc:return"Fragment";case Bg:return"Profiler";case S8:return"StrictMode";case Hg:return"Suspense";case Fg:return"SuspenseList";case Ug:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case J0:return"Portal";case Gi:return t.displayName||"Context";case T8:return(t._context.displayName||"Context")+".Consumer";case n4:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case s4:return e=t.displayName||null,e!==null?e:Vg(t.type)||"Memo";case Ia:e=t._payload,t=t._init;try{return Vg(t(e))}catch{}}return null}var eh=Array.isArray,et=v8.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vt=FC.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pl={pending:!1,data:null,method:null,action:null},Kg=[],nc=-1;function oi(t){return{current:t}}function qr(t){0>nc||(t.current=Kg[nc],Kg[nc]=null,nc--)}function $t(t,e){nc++,Kg[nc]=t.current,t.current=e}var ei=oi(null),$h=oi(null),eo=oi(null),wm=oi(null);function Sm(t,e){switch($t(eo,e),$t($h,t),$t(ei,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?_6(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=_6(e),t=Fw(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}qr(ei),$t(ei,t)}function Gc(){qr(ei),qr($h),qr(eo)}function Wg(t){t.memoizedState!==null&&$t(wm,t);var e=ei.current,r=Fw(e,t.type);e!==r&&($t($h,t),$t(ei,r))}function Tm(t){$h.current===t&&(qr(ei),qr($h)),wm.current===t&&(qr(wm),Hh._currentValue=pl)}var Lp,A5;function rl(t){if(Lp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Lp=e&&e[1]||"",A5=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lp+t+A5}var qp=!1;function Bp(t,e){if(!t||qp)return"";qp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(g){var p=g}Reflect.construct(t,[],f)}else{try{f.call()}catch(g){p=g}t.call(f.prototype)}}else{try{throw Error()}catch(g){p=g}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(g){if(g&&p&&typeof g.stack=="string")return[g.stack,p.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=s.DetermineComponentFrameRoot(),l=a[0],c=a[1];if(l&&c){var h=l.split(`
`),u=c.split(`
`);for(i=s=0;s<h.length&&!h[s].includes("DetermineComponentFrameRoot");)s++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(s===h.length||i===u.length)for(s=h.length-1,i=u.length-1;1<=s&&0<=i&&h[s]!==u[i];)i--;for(;1<=s&&0<=i;s--,i--)if(h[s]!==u[i]){if(s!==1||i!==1)do if(s--,i--,0>i||h[s]!==u[i]){var m=`
`+h[s].replace(" at new "," at ");return t.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",t.displayName)),m}while(1<=s&&0<=i);break}}}finally{qp=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?rl(r):""}function XC(t,e){switch(t.tag){case 26:case 27:case 5:return rl(t.type);case 16:return rl("Lazy");case 13:return t.child!==e&&e!==null?rl("Suspense Fallback"):rl("Suspense");case 19:return rl("SuspenseList");case 0:case 15:return Bp(t.type,!1);case 11:return Bp(t.type.render,!1);case 1:return Bp(t.type,!0);case 31:return rl("Activity");default:return""}}function N5(t){try{var e="",r=null;do e+=XC(t,r),r=t,t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Xg=Object.prototype.hasOwnProperty,i4=$r.unstable_scheduleCallback,Hp=$r.unstable_cancelCallback,YC=$r.unstable_shouldYield,ZC=$r.unstable_requestPaint,Bn=$r.unstable_now,QC=$r.unstable_getCurrentPriorityLevel,k8=$r.unstable_ImmediatePriority,A8=$r.unstable_UserBlockingPriority,km=$r.unstable_NormalPriority,JC=$r.unstable_LowPriority,N8=$r.unstable_IdlePriority,eM=$r.log,tM=$r.unstable_setDisableYieldValue,du=null,Hn=null;function Ua(t){if(typeof eM=="function"&&tM(t),Hn&&typeof Hn.setStrictMode=="function")try{Hn.setStrictMode(du,t)}catch{}}var Fn=Math.clz32?Math.clz32:sM,rM=Math.log,nM=Math.LN2;function sM(t){return t>>>=0,t===0?32:31-(rM(t)/nM|0)|0}var rd=256,nd=262144,sd=4194304;function nl(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Rf(t,e,r){var s=t.pendingLanes;if(s===0)return 0;var i=0,a=t.suspendedLanes,l=t.pingedLanes;t=t.warmLanes;var c=s&134217727;return c!==0?(s=c&~a,s!==0?i=nl(s):(l&=c,l!==0?i=nl(l):r||(r=c&~t,r!==0&&(i=nl(r))))):(c=s&~a,c!==0?i=nl(c):l!==0?i=nl(l):r||(r=s&~t,r!==0&&(i=nl(r)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,r=e&-e,a>=r||a===32&&(r&4194048)!==0)?e:i}function mu(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function iM(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E8(){var t=sd;return sd<<=1,!(sd&62914560)&&(sd=4194304),t}function Fp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function fu(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function aM(t,e,r,s,i,a){var l=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var c=t.entanglements,h=t.expirationTimes,u=t.hiddenUpdates;for(r=l&~r;0<r;){var m=31-Fn(r),f=1<<m;c[m]=0,h[m]=-1;var p=u[m];if(p!==null)for(u[m]=null,m=0;m<p.length;m++){var g=p[m];g!==null&&(g.lane&=-536870913)}r&=~f}s!==0&&C8(t,s,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(l&~e))}function C8(t,e,r){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-Fn(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|r&261930}function M8(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var s=31-Fn(r),i=1<<s;i&e|t[s]&e&&(t[s]|=e),r&=~i}}function _8(t,e){var r=e&-e;return r=r&42?1:a4(r),r&(t.suspendedLanes|e)?0:r}function a4(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function o4(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function $8(){var t=vt.p;return t!==0?t:(t=window.event,t===void 0?32:tS(t.type))}function E5(t,e){var r=vt.p;try{return vt.p=t,e()}finally{vt.p=r}}var _o=Math.random().toString(36).slice(2),Wr="__reactFiber$"+_o,Cn="__reactProps$"+_o,r0="__reactContainer$"+_o,Yg="__reactEvents$"+_o,oM="__reactListeners$"+_o,lM="__reactHandles$"+_o,C5="__reactResources$"+_o,pu="__reactMarker$"+_o;function l4(t){delete t[Wr],delete t[Cn],delete t[Yg],delete t[oM],delete t[lM]}function sc(t){var e=t[Wr];if(e)return e;for(var r=t.parentNode;r;){if(e=r[r0]||r[Wr]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=R6(t);t!==null;){if(r=t[Wr])return r;t=R6(t)}return e}t=r,r=t.parentNode}return null}function n0(t){if(t=t[Wr]||t[r0]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function th(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(be(33))}function wc(t){var e=t[C5];return e||(e=t[C5]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Lr(t){t[pu]=!0}var z8=new Set,D8={};function Ml(t,e){Oc(t,e),Oc(t+"Capture",e)}function Oc(t,e){for(D8[t]=e,t=0;t<e.length;t++)z8.add(e[t])}var cM=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),M5={},_5={};function hM(t){return Xg.call(_5,t)?!0:Xg.call(M5,t)?!1:cM.test(t)?_5[t]=!0:(M5[t]=!0,!1)}function Wd(t,e,r){if(hM(e))if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+r)}}function id(t,e,r){if(r===null)t.removeAttribute(e);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+r)}}function Ai(t,e,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(e,r,""+s)}}function ns(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function I8(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uM(t,e,r){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,a=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Zg(t){if(!t._valueTracker){var e=I8(t)?"checked":"value";t._valueTracker=uM(t,e,""+t[e])}}function R8(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),s="";return t&&(s=I8(t)?t.checked?"true":"false":t.value),t=s,t!==r?(e.setValue(t),!0):!1}function Am(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var dM=/[\n"\\]/g;function as(t){return t.replace(dM,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Qg(t,e,r,s,i,a,l,c){t.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.type=l:t.removeAttribute("type"),e!=null?l==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ns(e)):t.value!==""+ns(e)&&(t.value=""+ns(e)):l!=="submit"&&l!=="reset"||t.removeAttribute("value"),e!=null?Jg(t,l,ns(e)):r!=null?Jg(t,l,ns(r)):s!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?t.name=""+ns(c):t.removeAttribute("name")}function G8(t,e,r,s,i,a,l,c){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||r!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){Zg(t);return}r=r!=null?""+ns(r):"",e=e!=null?""+ns(e):r,c||e===t.value||(t.value=e),t.defaultValue=e}s=s??i,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=c?t.checked:!!s,t.defaultChecked=!!s,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(t.name=l),Zg(t)}function Jg(t,e,r){e==="number"&&Am(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Sc(t,e,r,s){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&s&&(t[r].defaultSelected=!0)}else{for(r=""+ns(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function O8(t,e,r){if(e!=null&&(e=""+ns(e),e!==t.value&&(t.value=e),r==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=r!=null?""+ns(r):""}function P8(t,e,r,s){if(e==null){if(s!=null){if(r!=null)throw Error(be(92));if(eh(s)){if(1<s.length)throw Error(be(93));s=s[0]}r=s}r==null&&(r=""),e=r}r=ns(e),t.defaultValue=r,s=t.textContent,s===r&&s!==""&&s!==null&&(t.value=s),Zg(t)}function Pc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var mM=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $5(t,e,r){var s=e.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,r):typeof r!="number"||r===0||mM.has(e)?e==="float"?t.cssFloat=r:t[e]=(""+r).trim():t[e]=r+"px"}function L8(t,e,r){if(e!=null&&typeof e!="object")throw Error(be(62));if(t=t.style,r!=null){for(var s in r)!r.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var i in e)s=e[i],e.hasOwnProperty(i)&&r[i]!==s&&$5(t,i,s)}else for(var a in e)e.hasOwnProperty(a)&&$5(t,a,e[a])}function c4(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fM=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pM=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xd(t){return pM.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Oi(){}var ex=null;function h4(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ic=null,Tc=null;function z5(t){var e=n0(t);if(e&&(t=e.stateNode)){var r=t[Cn]||null;e:switch(t=e.stateNode,e.type){case"input":if(Qg(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+as(""+e)+'"][type="radio"]'),e=0;e<r.length;e++){var s=r[e];if(s!==t&&s.form===t.form){var i=s[Cn]||null;if(!i)throw Error(be(90));Qg(s,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<r.length;e++)s=r[e],s.form===t.form&&R8(s)}break e;case"textarea":O8(t,r.value,r.defaultValue);break e;case"select":e=r.value,e!=null&&Sc(t,!!r.multiple,e,!1)}}}var Up=!1;function q8(t,e,r){if(Up)return t(e,r);Up=!0;try{var s=t(e);return s}finally{if(Up=!1,(ic!==null||Tc!==null)&&(Wf(),ic&&(e=ic,t=Tc,Tc=ic=null,z5(e),t)))for(e=0;e<t.length;e++)z5(t[e])}}function zh(t,e){var r=t.stateNode;if(r===null)return null;var s=r[Cn]||null;if(s===null)return null;r=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(be(231,e,typeof r));return r}var Zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tx=!1;if(Zi)try{var L0={};Object.defineProperty(L0,"passive",{get:function(){tx=!0}}),window.addEventListener("test",L0,L0),window.removeEventListener("test",L0,L0)}catch{tx=!1}var Va=null,u4=null,Yd=null;function B8(){if(Yd)return Yd;var t,e=u4,r=e.length,s,i="value"in Va?Va.value:Va.textContent,a=i.length;for(t=0;t<r&&e[t]===i[t];t++);var l=r-t;for(s=1;s<=l&&e[r-s]===i[a-s];s++);return Yd=i.slice(t,1<s?1-s:void 0)}function Zd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ad(){return!0}function D5(){return!1}function Mn(t){function e(r,s,i,a,l){this._reactName=r,this._targetInst=i,this.type=s,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(r=t[c],this[c]=r?r(a):a[c]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ad:D5,this.isPropagationStopped=D5,this}return Lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ad)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ad)},persist:function(){},isPersistent:ad}),e}var _l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gf=Mn(_l),gu=Lt({},_l,{view:0,detail:0}),gM=Mn(gu),Vp,Kp,q0,Of=Lt({},gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:d4,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==q0&&(q0&&t.type==="mousemove"?(Vp=t.screenX-q0.screenX,Kp=t.screenY-q0.screenY):Kp=Vp=0,q0=t),Vp)},movementY:function(t){return"movementY"in t?t.movementY:Kp}}),I5=Mn(Of),xM=Lt({},Of,{dataTransfer:0}),vM=Mn(xM),yM=Lt({},gu,{relatedTarget:0}),Wp=Mn(yM),bM=Lt({},_l,{animationName:0,elapsedTime:0,pseudoElement:0}),jM=Mn(bM),wM=Lt({},_l,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),SM=Mn(wM),TM=Lt({},_l,{data:0}),R5=Mn(TM),kM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function EM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=NM[t])?!!e[t]:!1}function d4(){return EM}var CM=Lt({},gu,{key:function(t){if(t.key){var e=kM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Zd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:d4,charCode:function(t){return t.type==="keypress"?Zd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Zd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),MM=Mn(CM),_M=Lt({},Of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G5=Mn(_M),$M=Lt({},gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:d4}),zM=Mn($M),DM=Lt({},_l,{propertyName:0,elapsedTime:0,pseudoElement:0}),IM=Mn(DM),RM=Lt({},Of,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GM=Mn(RM),OM=Lt({},_l,{newState:0,oldState:0}),PM=Mn(OM),LM=[9,13,27,32],m4=Zi&&"CompositionEvent"in window,ch=null;Zi&&"documentMode"in document&&(ch=document.documentMode);var qM=Zi&&"TextEvent"in window&&!ch,H8=Zi&&(!m4||ch&&8<ch&&11>=ch),O5=" ",P5=!1;function F8(t,e){switch(t){case"keyup":return LM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function U8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ac=!1;function BM(t,e){switch(t){case"compositionend":return U8(e);case"keypress":return e.which!==32?null:(P5=!0,O5);case"textInput":return t=e.data,t===O5&&P5?null:t;default:return null}}function HM(t,e){if(ac)return t==="compositionend"||!m4&&F8(t,e)?(t=B8(),Yd=u4=Va=null,ac=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return H8&&e.locale!=="ko"?null:e.data;default:return null}}var FM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!FM[t.type]:e==="textarea"}function V8(t,e,r,s){ic?Tc?Tc.push(s):Tc=[s]:ic=s,e=Fm(e,"onChange"),0<e.length&&(r=new Gf("onChange","change",null,r,s),t.push({event:r,listeners:e}))}var hh=null,Dh=null;function UM(t){qw(t,0)}function Pf(t){var e=th(t);if(R8(e))return t}function q5(t,e){if(t==="change")return e}var K8=!1;if(Zi){var Xp;if(Zi){var Yp="oninput"in document;if(!Yp){var B5=document.createElement("div");B5.setAttribute("oninput","return;"),Yp=typeof B5.oninput=="function"}Xp=Yp}else Xp=!1;K8=Xp&&(!document.documentMode||9<document.documentMode)}function H5(){hh&&(hh.detachEvent("onpropertychange",W8),Dh=hh=null)}function W8(t){if(t.propertyName==="value"&&Pf(Dh)){var e=[];V8(e,Dh,t,h4(t)),q8(UM,e)}}function VM(t,e,r){t==="focusin"?(H5(),hh=e,Dh=r,hh.attachEvent("onpropertychange",W8)):t==="focusout"&&H5()}function KM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pf(Dh)}function WM(t,e){if(t==="click")return Pf(e)}function XM(t,e){if(t==="input"||t==="change")return Pf(e)}function YM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Kn=typeof Object.is=="function"?Object.is:YM;function Ih(t,e){if(Kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var i=r[s];if(!Xg.call(e,i)||!Kn(t[i],e[i]))return!1}return!0}function F5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function U5(t,e){var r=F5(t);t=0;for(var s;r;){if(r.nodeType===3){if(s=t+r.textContent.length,t<=e&&s>=e)return{node:r,offset:e-t};t=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=F5(r)}}function X8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?X8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Y8(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Am(t.document);e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Am(t.document)}return e}function f4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var ZM=Zi&&"documentMode"in document&&11>=document.documentMode,oc=null,rx=null,uh=null,nx=!1;function V5(t,e,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;nx||oc==null||oc!==Am(s)||(s=oc,"selectionStart"in s&&f4(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),uh&&Ih(uh,s)||(uh=s,s=Fm(rx,"onSelect"),0<s.length&&(e=new Gf("onSelect","select",null,e,r),t.push({event:e,listeners:s}),e.target=oc)))}function Yo(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var lc={animationend:Yo("Animation","AnimationEnd"),animationiteration:Yo("Animation","AnimationIteration"),animationstart:Yo("Animation","AnimationStart"),transitionrun:Yo("Transition","TransitionRun"),transitionstart:Yo("Transition","TransitionStart"),transitioncancel:Yo("Transition","TransitionCancel"),transitionend:Yo("Transition","TransitionEnd")},Zp={},Z8={};Zi&&(Z8=document.createElement("div").style,"AnimationEvent"in window||(delete lc.animationend.animation,delete lc.animationiteration.animation,delete lc.animationstart.animation),"TransitionEvent"in window||delete lc.transitionend.transition);function $l(t){if(Zp[t])return Zp[t];if(!lc[t])return t;var e=lc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Z8)return Zp[t]=e[r];return t}var Q8=$l("animationend"),J8=$l("animationiteration"),e9=$l("animationstart"),QM=$l("transitionrun"),JM=$l("transitionstart"),e_=$l("transitioncancel"),t9=$l("transitionend"),r9=new Map,sx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sx.push("scrollEnd");function Ls(t,e){r9.set(t,e),Ml(e,[t])}var Nm=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},ts=[],cc=0,p4=0;function Lf(){for(var t=cc,e=p4=cc=0;e<t;){var r=ts[e];ts[e++]=null;var s=ts[e];ts[e++]=null;var i=ts[e];ts[e++]=null;var a=ts[e];if(ts[e++]=null,s!==null&&i!==null){var l=s.pending;l===null?i.next=i:(i.next=l.next,l.next=i),s.pending=i}a!==0&&n9(r,i,a)}}function qf(t,e,r,s){ts[cc++]=t,ts[cc++]=e,ts[cc++]=r,ts[cc++]=s,p4|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function g4(t,e,r,s){return qf(t,e,r,s),Em(t)}function zl(t,e){return qf(t,null,null,e),Em(t)}function n9(t,e,r){t.lanes|=r;var s=t.alternate;s!==null&&(s.lanes|=r);for(var i=!1,a=t.return;a!==null;)a.childLanes|=r,s=a.alternate,s!==null&&(s.childLanes|=r),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-Fn(r),t=a.hiddenUpdates,s=t[i],s===null?t[i]=[e]:s.push(e),e.lane=r|536870912),a):null}function Em(t){if(50<bh)throw bh=0,kx=null,Error(be(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var hc={};function t_(t,e,r,s){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,e,r,s){return new t_(t,e,r,s)}function x4(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,e){var r=t.alternate;return r===null?(r=On(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function s9(t,e){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Qd(t,e,r,s,i,a){var l=0;if(s=t,typeof t=="function")x4(t)&&(l=1);else if(typeof t=="string")l=a$(t,r,ei.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Ug:return t=On(31,r,e,i),t.elementType=Ug,t.lanes=a,t;case rc:return gl(r.children,i,a,e);case S8:l=8,i|=24;break;case Bg:return t=On(12,r,e,i|2),t.elementType=Bg,t.lanes=a,t;case Hg:return t=On(13,r,e,i),t.elementType=Hg,t.lanes=a,t;case Fg:return t=On(19,r,e,i),t.elementType=Fg,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gi:l=10;break e;case T8:l=9;break e;case n4:l=11;break e;case s4:l=14;break e;case Ia:l=16,s=null;break e}l=29,r=Error(be(130,t===null?"null":typeof t,"")),s=null}return e=On(l,r,e,i),e.elementType=t,e.type=s,e.lanes=a,e}function gl(t,e,r,s){return t=On(7,t,s,e),t.lanes=r,t}function Qp(t,e,r){return t=On(6,t,null,e),t.lanes=r,t}function i9(t){var e=On(18,null,null,0);return e.stateNode=t,e}function Jp(t,e,r){return e=On(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var K5=new WeakMap;function os(t,e){if(typeof t=="object"&&t!==null){var r=K5.get(t);return r!==void 0?r:(e={value:t,source:e,stack:N5(e)},K5.set(t,e),e)}return{value:t,source:e,stack:N5(e)}}var uc=[],dc=0,Cm=null,Rh=0,ss=[],is=0,go=null,Vs=1,Ks="";function Di(t,e){uc[dc++]=Rh,uc[dc++]=Cm,Cm=t,Rh=e}function a9(t,e,r){ss[is++]=Vs,ss[is++]=Ks,ss[is++]=go,go=t;var s=Vs;t=Ks;var i=32-Fn(s)-1;s&=~(1<<i),r+=1;var a=32-Fn(e)+i;if(30<a){var l=i-i%5;a=(s&(1<<l)-1).toString(32),s>>=l,i-=l,Vs=1<<32-Fn(e)+i|r<<i|s,Ks=a+t}else Vs=1<<a|r<<i|s,Ks=t}function v4(t){t.return!==null&&(Di(t,1),a9(t,1,0))}function y4(t){for(;t===Cm;)Cm=uc[--dc],uc[dc]=null,Rh=uc[--dc],uc[dc]=null;for(;t===go;)go=ss[--is],ss[is]=null,Ks=ss[--is],ss[is]=null,Vs=ss[--is],ss[is]=null}function o9(t,e){ss[is++]=Vs,ss[is++]=Ks,ss[is++]=go,Vs=e.id,Ks=e.overflow,go=t}var Xr=null,Ot=null,ht=!1,to=null,ls=!1,ix=Error(be(519));function xo(t){var e=Error(be(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Gh(os(e,t)),ix}function W5(t){var e=t.stateNode,r=t.type,s=t.memoizedProps;switch(e[Wr]=t,e[Cn]=s,r){case"dialog":ot("cancel",e),ot("close",e);break;case"iframe":case"object":case"embed":ot("load",e);break;case"video":case"audio":for(r=0;r<qh.length;r++)ot(qh[r],e);break;case"source":ot("error",e);break;case"img":case"image":case"link":ot("error",e),ot("load",e);break;case"details":ot("toggle",e);break;case"input":ot("invalid",e),G8(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ot("invalid",e);break;case"textarea":ot("invalid",e),P8(e,s.value,s.defaultValue,s.children)}r=s.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||e.textContent===""+r||s.suppressHydrationWarning===!0||Hw(e.textContent,r)?(s.popover!=null&&(ot("beforetoggle",e),ot("toggle",e)),s.onScroll!=null&&ot("scroll",e),s.onScrollEnd!=null&&ot("scrollend",e),s.onClick!=null&&(e.onclick=Oi),e=!0):e=!1,e||xo(t,!0)}function X5(t){for(Xr=t.return;Xr;)switch(Xr.tag){case 5:case 31:case 13:ls=!1;return;case 27:case 3:ls=!0;return;default:Xr=Xr.return}}function Xl(t){if(t!==Xr)return!1;if(!ht)return X5(t),ht=!0,!1;var e=t.tag,r;if((r=e!==3&&e!==27)&&((r=e===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Mx(t.type,t.memoizedProps)),r=!r),r&&Ot&&xo(t),X5(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(be(317));Ot=I6(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(be(317));Ot=I6(t)}else e===27?(e=Ot,$o(t.type)?(t=Dx,Dx=null,Ot=t):Ot=e):Ot=Xr?ms(t.stateNode.nextSibling):null;return!0}function wl(){Ot=Xr=null,ht=!1}function e1(){var t=to;return t!==null&&(kn===null?kn=t:kn.push.apply(kn,t),to=null),t}function Gh(t){to===null?to=[t]:to.push(t)}var ax=oi(null),Dl=null,Pi=null;function Ga(t,e,r){$t(ax,e._currentValue),e._currentValue=r}function Ui(t){t._currentValue=ax.current,qr(ax)}function ox(t,e,r){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===r)break;t=t.return}}function lx(t,e,r,s){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var l=i.child;a=a.firstContext;e:for(;a!==null;){var c=a;a=i;for(var h=0;h<e.length;h++)if(c.context===e[h]){a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),ox(a.return,r,t),s||(l=null);break e}a=c.next}}else if(i.tag===18){if(l=i.return,l===null)throw Error(be(341));l.lanes|=r,a=l.alternate,a!==null&&(a.lanes|=r),ox(l,r,t),l=null}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}}function s0(t,e,r,s){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var l=i.alternate;if(l===null)throw Error(be(387));if(l=l.memoizedProps,l!==null){var c=i.type;Kn(i.pendingProps.value,l.value)||(t!==null?t.push(c):t=[c])}}else if(i===wm.current){if(l=i.alternate,l===null)throw Error(be(387));l.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(Hh):t=[Hh])}i=i.return}t!==null&&lx(e,t,r,s),e.flags|=262144}function Mm(t){for(t=t.firstContext;t!==null;){if(!Kn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Sl(t){Dl=t,Pi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yr(t){return l9(Dl,t)}function od(t,e){return Dl===null&&Sl(t),l9(t,e)}function l9(t,e){var r=e._currentValue;if(e={context:e,memoizedValue:r,next:null},Pi===null){if(t===null)throw Error(be(308));Pi=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Pi=Pi.next=e;return r}var r_=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(r,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(r){return r()})}},n_=$r.unstable_scheduleCallback,s_=$r.unstable_NormalPriority,jr={$$typeof:Gi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function b4(){return{controller:new r_,data:new Map,refCount:0}}function xu(t){t.refCount--,t.refCount===0&&n_(s_,function(){t.controller.abort()})}var dh=null,cx=0,Lc=0,kc=null;function i_(t,e){if(dh===null){var r=dh=[];cx=0,Lc=U4(),kc={status:"pending",value:void 0,then:function(s){r.push(s)}}}return cx++,e.then(Y5,Y5),e}function Y5(){if(--cx===0&&dh!==null){kc!==null&&(kc.status="fulfilled");var t=dh;dh=null,Lc=0,kc=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function a_(t,e){var r=[],s={status:"pending",value:null,reason:null,then:function(i){r.push(i)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var i=0;i<r.length;i++)(0,r[i])(e)},function(i){for(s.status="rejected",s.reason=i,i=0;i<r.length;i++)(0,r[i])(void 0)}),s}var Z5=et.S;et.S=function(t,e){ww=Bn(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&i_(t,e),Z5!==null&&Z5(t,e)};var xl=oi(null);function j4(){var t=xl.current;return t!==null?t:Nt.pooledCache}function Jd(t,e){e===null?$t(xl,xl.current):$t(xl,e.pool)}function c9(){var t=j4();return t===null?null:{parent:jr._currentValue,pool:t}}var i0=Error(be(460)),w4=Error(be(474)),Bf=Error(be(542)),_m={then:function(){}};function Q5(t){return t=t.status,t==="fulfilled"||t==="rejected"}function h9(t,e,r){switch(r=t[r],r===void 0?t.push(e):r!==e&&(e.then(Oi,Oi),e=r),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,e6(t),t;default:if(typeof e.status=="string")e.then(Oi,Oi);else{if(t=Nt,t!==null&&100<t.shellSuspendCounter)throw Error(be(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=s}},function(s){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,e6(t),t}throw vl=e,i0}}function sl(t){try{var e=t._init;return e(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(vl=r,i0):r}}var vl=null;function J5(){if(vl===null)throw Error(be(459));var t=vl;return vl=null,t}function e6(t){if(t===i0||t===Bf)throw Error(be(483))}var Ac=null,Oh=0;function ld(t){var e=Oh;return Oh+=1,Ac===null&&(Ac=[]),h9(Ac,t,e)}function B0(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function cd(t,e){throw e.$$typeof===VC?Error(be(525)):(t=Object.prototype.toString.call(e),Error(be(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function u9(t){function e(w,T){if(t){var A=w.deletions;A===null?(w.deletions=[T],w.flags|=16):A.push(T)}}function r(w,T){if(!t)return null;for(;T!==null;)e(w,T),T=T.sibling;return null}function s(w){for(var T=new Map;w!==null;)w.key!==null?T.set(w.key,w):T.set(w.index,w),w=w.sibling;return T}function i(w,T){return w=Fi(w,T),w.index=0,w.sibling=null,w}function a(w,T,A){return w.index=A,t?(A=w.alternate,A!==null?(A=A.index,A<T?(w.flags|=67108866,T):A):(w.flags|=67108866,T)):(w.flags|=1048576,T)}function l(w){return t&&w.alternate===null&&(w.flags|=67108866),w}function c(w,T,A,I){return T===null||T.tag!==6?(T=Qp(A,w.mode,I),T.return=w,T):(T=i(T,A),T.return=w,T)}function h(w,T,A,I){var B=A.type;return B===rc?m(w,T,A.props.children,I,A.key):T!==null&&(T.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Ia&&sl(B)===T.type)?(T=i(T,A.props),B0(T,A),T.return=w,T):(T=Qd(A.type,A.key,A.props,null,w.mode,I),B0(T,A),T.return=w,T)}function u(w,T,A,I){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=Jp(A,w.mode,I),T.return=w,T):(T=i(T,A.children||[]),T.return=w,T)}function m(w,T,A,I,B){return T===null||T.tag!==7?(T=gl(A,w.mode,I,B),T.return=w,T):(T=i(T,A),T.return=w,T)}function f(w,T,A){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Qp(""+T,w.mode,A),T.return=w,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case td:return A=Qd(T.type,T.key,T.props,null,w.mode,A),B0(A,T),A.return=w,A;case J0:return T=Jp(T,w.mode,A),T.return=w,T;case Ia:return T=sl(T),f(w,T,A)}if(eh(T)||P0(T))return T=gl(T,w.mode,A,null),T.return=w,T;if(typeof T.then=="function")return f(w,ld(T),A);if(T.$$typeof===Gi)return f(w,od(w,T),A);cd(w,T)}return null}function p(w,T,A,I){var B=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return B!==null?null:c(w,T,""+A,I);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case td:return A.key===B?h(w,T,A,I):null;case J0:return A.key===B?u(w,T,A,I):null;case Ia:return A=sl(A),p(w,T,A,I)}if(eh(A)||P0(A))return B!==null?null:m(w,T,A,I,null);if(typeof A.then=="function")return p(w,T,ld(A),I);if(A.$$typeof===Gi)return p(w,T,od(w,A),I);cd(w,A)}return null}function g(w,T,A,I,B){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return w=w.get(A)||null,c(T,w,""+I,B);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case td:return w=w.get(I.key===null?A:I.key)||null,h(T,w,I,B);case J0:return w=w.get(I.key===null?A:I.key)||null,u(T,w,I,B);case Ia:return I=sl(I),g(w,T,A,I,B)}if(eh(I)||P0(I))return w=w.get(A)||null,m(T,w,I,B,null);if(typeof I.then=="function")return g(w,T,A,ld(I),B);if(I.$$typeof===Gi)return g(w,T,A,od(T,I),B);cd(T,I)}return null}function S(w,T,A,I){for(var B=null,Q=null,D=T,E=T=0,z=null;D!==null&&E<A.length;E++){D.index>E?(z=D,D=null):z=D.sibling;var O=p(w,D,A[E],I);if(O===null){D===null&&(D=z);break}t&&D&&O.alternate===null&&e(w,D),T=a(O,T,E),Q===null?B=O:Q.sibling=O,Q=O,D=z}if(E===A.length)return r(w,D),ht&&Di(w,E),B;if(D===null){for(;E<A.length;E++)D=f(w,A[E],I),D!==null&&(T=a(D,T,E),Q===null?B=D:Q.sibling=D,Q=D);return ht&&Di(w,E),B}for(D=s(D);E<A.length;E++)z=g(D,w,E,A[E],I),z!==null&&(t&&z.alternate!==null&&D.delete(z.key===null?E:z.key),T=a(z,T,E),Q===null?B=z:Q.sibling=z,Q=z);return t&&D.forEach(function(L){return e(w,L)}),ht&&Di(w,E),B}function N(w,T,A,I){if(A==null)throw Error(be(151));for(var B=null,Q=null,D=T,E=T=0,z=null,O=A.next();D!==null&&!O.done;E++,O=A.next()){D.index>E?(z=D,D=null):z=D.sibling;var L=p(w,D,O.value,I);if(L===null){D===null&&(D=z);break}t&&D&&L.alternate===null&&e(w,D),T=a(L,T,E),Q===null?B=L:Q.sibling=L,Q=L,D=z}if(O.done)return r(w,D),ht&&Di(w,E),B;if(D===null){for(;!O.done;E++,O=A.next())O=f(w,O.value,I),O!==null&&(T=a(O,T,E),Q===null?B=O:Q.sibling=O,Q=O);return ht&&Di(w,E),B}for(D=s(D);!O.done;E++,O=A.next())O=g(D,w,E,O.value,I),O!==null&&(t&&O.alternate!==null&&D.delete(O.key===null?E:O.key),T=a(O,T,E),Q===null?B=O:Q.sibling=O,Q=O);return t&&D.forEach(function(H){return e(w,H)}),ht&&Di(w,E),B}function $(w,T,A,I){if(typeof A=="object"&&A!==null&&A.type===rc&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case td:e:{for(var B=A.key;T!==null;){if(T.key===B){if(B=A.type,B===rc){if(T.tag===7){r(w,T.sibling),I=i(T,A.props.children),I.return=w,w=I;break e}}else if(T.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Ia&&sl(B)===T.type){r(w,T.sibling),I=i(T,A.props),B0(I,A),I.return=w,w=I;break e}r(w,T);break}else e(w,T);T=T.sibling}A.type===rc?(I=gl(A.props.children,w.mode,I,A.key),I.return=w,w=I):(I=Qd(A.type,A.key,A.props,null,w.mode,I),B0(I,A),I.return=w,w=I)}return l(w);case J0:e:{for(B=A.key;T!==null;){if(T.key===B)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){r(w,T.sibling),I=i(T,A.children||[]),I.return=w,w=I;break e}else{r(w,T);break}else e(w,T);T=T.sibling}I=Jp(A,w.mode,I),I.return=w,w=I}return l(w);case Ia:return A=sl(A),$(w,T,A,I)}if(eh(A))return S(w,T,A,I);if(P0(A)){if(B=P0(A),typeof B!="function")throw Error(be(150));return A=B.call(A),N(w,T,A,I)}if(typeof A.then=="function")return $(w,T,ld(A),I);if(A.$$typeof===Gi)return $(w,T,od(w,A),I);cd(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,T!==null&&T.tag===6?(r(w,T.sibling),I=i(T,A),I.return=w,w=I):(r(w,T),I=Qp(A,w.mode,I),I.return=w,w=I),l(w)):r(w,T)}return function(w,T,A,I){try{Oh=0;var B=$(w,T,A,I);return Ac=null,B}catch(D){if(D===i0||D===Bf)throw D;var Q=On(29,D,null,w.mode);return Q.lanes=I,Q.return=w,Q}finally{}}}var Tl=u9(!0),d9=u9(!1),Ra=!1;function S4(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ro(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function no(t,e,r){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,xt&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,e=Em(t),n9(t,null,r),e}return qf(t,s,e,r),Em(t)}function mh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,r|=s,e.lanes=r,M8(t,r)}}function t1(t,e){var r=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};a===null?i=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?i=a=e:a=a.next=e}else i=a=e;r={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:s.shared,callbacks:s.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}var ux=!1;function fh(){if(ux){var t=kc;if(t!==null)throw t}}function ph(t,e,r,s){ux=!1;var i=t.updateQueue;Ra=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var h=c,u=h.next;h.next=null,l===null?a=u:l.next=u,l=h;var m=t.alternate;m!==null&&(m=m.updateQueue,c=m.lastBaseUpdate,c!==l&&(c===null?m.firstBaseUpdate=u:c.next=u,m.lastBaseUpdate=h))}if(a!==null){var f=i.baseState;l=0,m=u=h=null,c=a;do{var p=c.lane&-536870913,g=p!==c.lane;if(g?(ct&p)===p:(s&p)===p){p!==0&&p===Lc&&(ux=!0),m!==null&&(m=m.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var S=t,N=c;p=e;var $=r;switch(N.tag){case 1:if(S=N.payload,typeof S=="function"){f=S.call($,f,p);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=N.payload,p=typeof S=="function"?S.call($,f,p):S,p==null)break e;f=Lt({},f,p);break e;case 2:Ra=!0}}p=c.callback,p!==null&&(t.flags|=64,g&&(t.flags|=8192),g=i.callbacks,g===null?i.callbacks=[p]:g.push(p))}else g={lane:p,tag:c.tag,payload:c.payload,callback:c.callback,next:null},m===null?(u=m=g,h=f):m=m.next=g,l|=p;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;g=c,c=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);m===null&&(h=f),i.baseState=h,i.firstBaseUpdate=u,i.lastBaseUpdate=m,a===null&&(i.shared.lanes=0),yo|=l,t.lanes=l,t.memoizedState=f}}function m9(t,e){if(typeof t!="function")throw Error(be(191,t));t.call(e)}function f9(t,e){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)m9(r[t],e)}var qc=oi(null),$m=oi(0);function t6(t,e){t=ta,$t($m,t),$t(qc,e),ta=t|e.baseLanes}function dx(){$t($m,ta),$t(qc,qc.current)}function T4(){ta=$m.current,qr(qc),qr($m)}var Wn=oi(null),ds=null;function Oa(t){var e=t.alternate;$t(mr,mr.current&1),$t(Wn,t),ds===null&&(e===null||qc.current!==null||e.memoizedState!==null)&&(ds=t)}function mx(t){$t(mr,mr.current),$t(Wn,t),ds===null&&(ds=t)}function p9(t){t.tag===22?($t(mr,mr.current),$t(Wn,t),ds===null&&(ds=t)):Pa()}function Pa(){$t(mr,mr.current),$t(Wn,Wn.current)}function Gn(t){qr(Wn),ds===t&&(ds=null),qr(mr)}var mr=oi(0);function zm(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||$x(r)||zx(r)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qi=0,nt=null,Tt=null,yr=null,Dm=!1,Nc=!1,kl=!1,Im=0,Ph=0,Ec=null,o_=0;function ar(){throw Error(be(321))}function k4(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Kn(t[r],e[r]))return!1;return!0}function A4(t,e,r,s,i,a){return Qi=a,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,et.H=t===null||t.memoizedState===null?V9:G4,kl=!1,a=r(s,i),kl=!1,Nc&&(a=x9(e,r,s,i)),g9(t),a}function g9(t){et.H=Lh;var e=Tt!==null&&Tt.next!==null;if(Qi=0,yr=Tt=nt=null,Dm=!1,Ph=0,Ec=null,e)throw Error(be(300));t===null||wr||(t=t.dependencies,t!==null&&Mm(t)&&(wr=!0))}function x9(t,e,r,s){nt=t;var i=0;do{if(Nc&&(Ec=null),Ph=0,Nc=!1,25<=i)throw Error(be(301));if(i+=1,yr=Tt=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}et.H=K9,a=e(r,s)}while(Nc);return a}function l_(){var t=et.H,e=t.useState()[0];return e=typeof e.then=="function"?vu(e):e,t=t.useState()[0],(Tt!==null?Tt.memoizedState:null)!==t&&(nt.flags|=1024),e}function N4(){var t=Im!==0;return Im=0,t}function E4(t,e,r){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r}function C4(t){if(Dm){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Dm=!1}Qi=0,yr=Tt=nt=null,Nc=!1,Ph=Im=0,Ec=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yr===null?nt.memoizedState=yr=t:yr=yr.next=t,yr}function gr(){if(Tt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=Tt.next;var e=yr===null?nt.memoizedState:yr.next;if(e!==null)yr=e,Tt=t;else{if(t===null)throw nt.alternate===null?Error(be(467)):Error(be(310));Tt=t,t={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},yr===null?nt.memoizedState=yr=t:yr=yr.next=t}return yr}function Hf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vu(t){var e=Ph;return Ph+=1,Ec===null&&(Ec=[]),t=h9(Ec,t,e),e=nt,(yr===null?e.memoizedState:yr.next)===null&&(e=e.alternate,et.H=e===null||e.memoizedState===null?V9:G4),t}function Ff(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vu(t);if(t.$$typeof===Gi)return Yr(t)}throw Error(be(438,String(t)))}function M4(t){var e=null,r=nt.updateQueue;if(r!==null&&(e=r.memoCache),e==null){var s=nt.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),r===null&&(r=Hf(),nt.updateQueue=r),r.memoCache=e,r=e.data[e.index],r===void 0)for(r=e.data[e.index]=Array(t),s=0;s<t;s++)r[s]=KC;return e.index++,r}function Ji(t,e){return typeof e=="function"?e(t):e}function em(t){var e=gr();return _4(e,Tt,t)}function _4(t,e,r){var s=t.queue;if(s===null)throw Error(be(311));s.lastRenderedReducer=r;var i=t.baseQueue,a=s.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}e.baseQueue=i=a,s.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var c=l=null,h=null,u=e,m=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(ct&f)===f:(Qi&f)===f){var p=u.revertLane;if(p===0)h!==null&&(h=h.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Lc&&(m=!0);else if((Qi&p)===p){u=u.next,p===Lc&&(m=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},h===null?(c=h=f,l=a):h=h.next=f,nt.lanes|=p,yo|=p;f=u.action,kl&&r(a,f),a=u.hasEagerState?u.eagerState:r(a,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},h===null?(c=h=p,l=a):h=h.next=p,nt.lanes|=f,yo|=f;u=u.next}while(u!==null&&u!==e);if(h===null?l=a:h.next=c,!Kn(a,t.memoizedState)&&(wr=!0,m&&(r=kc,r!==null)))throw r;t.memoizedState=a,t.baseState=l,t.baseQueue=h,s.lastRenderedState=a}return i===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function r1(t){var e=gr(),r=e.queue;if(r===null)throw Error(be(311));r.lastRenderedReducer=t;var s=r.dispatch,i=r.pending,a=e.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do a=t(a,l.action),l=l.next;while(l!==i);Kn(a,e.memoizedState)||(wr=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),r.lastRenderedState=a}return[a,s]}function v9(t,e,r){var s=nt,i=gr(),a=ht;if(a){if(r===void 0)throw Error(be(407));r=r()}else r=e();var l=!Kn((Tt||i).memoizedState,r);if(l&&(i.memoizedState=r,wr=!0),i=i.queue,$4(j9.bind(null,s,i,t),[t]),i.getSnapshot!==e||l||yr!==null&&yr.memoizedState.tag&1){if(s.flags|=2048,Bc(9,{destroy:void 0},b9.bind(null,s,i,r,e),null),Nt===null)throw Error(be(349));a||Qi&127||y9(s,e,r)}return r}function y9(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=nt.updateQueue,e===null?(e=Hf(),nt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function b9(t,e,r,s){e.value=r,e.getSnapshot=s,w9(e)&&S9(t)}function j9(t,e,r){return r(function(){w9(e)&&S9(t)})}function w9(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Kn(t,r)}catch{return!0}}function S9(t){var e=zl(t,2);e!==null&&En(e,t,2)}function fx(t){var e=on();if(typeof t=="function"){var r=t;if(t=r(),kl){Ua(!0);try{r()}finally{Ua(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},e}function T9(t,e,r,s){return t.baseState=r,_4(t,Tt,typeof s=="function"?s:Ji)}function c_(t,e,r,s,i){if(Vf(t))throw Error(be(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){a.listeners.push(l)}};et.T!==null?r(!0):a.isTransition=!1,s(a),r=e.pending,r===null?(a.next=e.pending=a,k9(e,a)):(a.next=r.next,e.pending=r.next=a)}}function k9(t,e){var r=e.action,s=e.payload,i=t.state;if(e.isTransition){var a=et.T,l={};et.T=l;try{var c=r(i,s),h=et.S;h!==null&&h(l,c),r6(t,e,c)}catch(u){px(t,e,u)}finally{a!==null&&l.types!==null&&(a.types=l.types),et.T=a}}else try{a=r(i,s),r6(t,e,a)}catch(u){px(t,e,u)}}function r6(t,e,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(s){n6(t,e,s)},function(s){return px(t,e,s)}):n6(t,e,r)}function n6(t,e,r){e.status="fulfilled",e.value=r,A9(e),t.state=r,e=t.pending,e!==null&&(r=e.next,r===e?t.pending=null:(r=r.next,e.next=r,k9(t,r)))}function px(t,e,r){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=r,A9(e),e=e.next;while(e!==s)}t.action=null}function A9(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function N9(t,e){return e}function s6(t,e){if(ht){var r=Nt.formState;if(r!==null){e:{var s=nt;if(ht){if(Ot){t:{for(var i=Ot,a=ls;i.nodeType!==8;){if(!a){i=null;break t}if(i=ms(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Ot=ms(i.nextSibling),s=i.data==="F!";break e}}xo(s)}s=!1}s&&(e=r[0])}}return r=on(),r.memoizedState=r.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:N9,lastRenderedState:e},r.queue=s,r=H9.bind(null,nt,s),s.dispatch=r,s=fx(!1),a=R4.bind(null,nt,!1,s.queue),s=on(),i={state:e,dispatch:null,action:t,pending:null},s.queue=i,r=c_.bind(null,nt,i,a,r),i.dispatch=r,s.memoizedState=t,[e,r,!1]}function i6(t){var e=gr();return E9(e,Tt,t)}function E9(t,e,r){if(e=_4(t,e,N9)[0],t=em(Ji)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=vu(e)}catch(l){throw l===i0?Bf:l}else s=e;e=gr();var i=e.queue,a=i.dispatch;return r!==e.memoizedState&&(nt.flags|=2048,Bc(9,{destroy:void 0},h_.bind(null,i,r),null)),[s,a,t]}function h_(t,e){t.action=e}function a6(t){var e=gr(),r=Tt;if(r!==null)return E9(e,r,t);gr(),e=e.memoizedState,r=gr();var s=r.queue.dispatch;return r.memoizedState=t,[e,s,!1]}function Bc(t,e,r,s){return t={tag:t,create:r,deps:s,inst:e,next:null},e=nt.updateQueue,e===null&&(e=Hf(),nt.updateQueue=e),r=e.lastEffect,r===null?e.lastEffect=t.next=t:(s=r.next,r.next=t,t.next=s,e.lastEffect=t),t}function C9(){return gr().memoizedState}function tm(t,e,r,s){var i=on();nt.flags|=t,i.memoizedState=Bc(1|e,{destroy:void 0},r,s===void 0?null:s)}function Uf(t,e,r,s){var i=gr();s=s===void 0?null:s;var a=i.memoizedState.inst;Tt!==null&&s!==null&&k4(s,Tt.memoizedState.deps)?i.memoizedState=Bc(e,a,r,s):(nt.flags|=t,i.memoizedState=Bc(1|e,a,r,s))}function o6(t,e){tm(8390656,8,t,e)}function $4(t,e){Uf(2048,8,t,e)}function u_(t){nt.flags|=4;var e=nt.updateQueue;if(e===null)e=Hf(),nt.updateQueue=e,e.events=[t];else{var r=e.events;r===null?e.events=[t]:r.push(t)}}function M9(t){var e=gr().memoizedState;return u_({ref:e,nextImpl:t}),function(){if(xt&2)throw Error(be(440));return e.impl.apply(void 0,arguments)}}function _9(t,e){return Uf(4,2,t,e)}function $9(t,e){return Uf(4,4,t,e)}function z9(t,e){if(typeof e=="function"){t=t();var r=e(t);return function(){typeof r=="function"?r():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function D9(t,e,r){r=r!=null?r.concat([t]):null,Uf(4,4,z9.bind(null,e,t),r)}function z4(){}function I9(t,e){var r=gr();e=e===void 0?null:e;var s=r.memoizedState;return e!==null&&k4(e,s[1])?s[0]:(r.memoizedState=[t,e],t)}function R9(t,e){var r=gr();e=e===void 0?null:e;var s=r.memoizedState;if(e!==null&&k4(e,s[1]))return s[0];if(s=t(),kl){Ua(!0);try{t()}finally{Ua(!1)}}return r.memoizedState=[s,e],s}function D4(t,e,r){return r===void 0||Qi&1073741824&&!(ct&261930)?t.memoizedState=e:(t.memoizedState=r,t=Tw(),nt.lanes|=t,yo|=t,r)}function G9(t,e,r,s){return Kn(r,e)?r:qc.current!==null?(t=D4(t,r,s),Kn(t,e)||(wr=!0),t):!(Qi&42)||Qi&1073741824&&!(ct&261930)?(wr=!0,t.memoizedState=r):(t=Tw(),nt.lanes|=t,yo|=t,e)}function O9(t,e,r,s,i){var a=vt.p;vt.p=a!==0&&8>a?a:8;var l=et.T,c={};et.T=c,R4(t,!1,e,r);try{var h=i(),u=et.S;if(u!==null&&u(c,h),h!==null&&typeof h=="object"&&typeof h.then=="function"){var m=a_(h,s);gh(t,e,m,Un(t))}else gh(t,e,s,Un(t))}catch(f){gh(t,e,{then:function(){},status:"rejected",reason:f},Un())}finally{vt.p=a,l!==null&&c.types!==null&&(l.types=c.types),et.T=l}}function d_(){}function gx(t,e,r,s){if(t.tag!==5)throw Error(be(476));var i=P9(t).queue;O9(t,i,e,pl,r===null?d_:function(){return L9(t),r(s)})}function P9(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:pl,baseState:pl,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:pl},next:null};var r={};return e.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:r},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function L9(t){var e=P9(t);e.next===null&&(e=t.alternate.memoizedState),gh(t,e.next.queue,{},Un())}function I4(){return Yr(Hh)}function q9(){return gr().memoizedState}function B9(){return gr().memoizedState}function m_(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var r=Un();t=ro(r);var s=no(e,t,r);s!==null&&(En(s,e,r),mh(s,e,r)),e={cache:b4()},t.payload=e;return}e=e.return}}function f_(t,e,r){var s=Un();r={lane:s,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Vf(t)?F9(e,r):(r=g4(t,e,r,s),r!==null&&(En(r,t,s),U9(r,e,s)))}function H9(t,e,r){var s=Un();gh(t,e,r,s)}function gh(t,e,r,s){var i={lane:s,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Vf(t))F9(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,c=a(l,r);if(i.hasEagerState=!0,i.eagerState=c,Kn(c,l))return qf(t,e,i,0),Nt===null&&Lf(),!1}catch{}finally{}if(r=g4(t,e,i,s),r!==null)return En(r,t,s),U9(r,e,s),!0}return!1}function R4(t,e,r,s){if(s={lane:2,revertLane:U4(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Vf(t)){if(e)throw Error(be(479))}else e=g4(t,r,s,2),e!==null&&En(e,t,2)}function Vf(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function F9(t,e){Nc=Dm=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function U9(t,e,r){if(r&4194048){var s=e.lanes;s&=t.pendingLanes,r|=s,e.lanes=r,M8(t,r)}}var Lh={readContext:Yr,use:Ff,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useLayoutEffect:ar,useInsertionEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useSyncExternalStore:ar,useId:ar,useHostTransitionStatus:ar,useFormState:ar,useActionState:ar,useOptimistic:ar,useMemoCache:ar,useCacheRefresh:ar};Lh.useEffectEvent=ar;var V9={readContext:Yr,use:Ff,useCallback:function(t,e){return on().memoizedState=[t,e===void 0?null:e],t},useContext:Yr,useEffect:o6,useImperativeHandle:function(t,e,r){r=r!=null?r.concat([t]):null,tm(4194308,4,z9.bind(null,e,t),r)},useLayoutEffect:function(t,e){return tm(4194308,4,t,e)},useInsertionEffect:function(t,e){tm(4,2,t,e)},useMemo:function(t,e){var r=on();e=e===void 0?null:e;var s=t();if(kl){Ua(!0);try{t()}finally{Ua(!1)}}return r.memoizedState=[s,e],s},useReducer:function(t,e,r){var s=on();if(r!==void 0){var i=r(e);if(kl){Ua(!0);try{r(e)}finally{Ua(!1)}}}else i=e;return s.memoizedState=s.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},s.queue=t,t=t.dispatch=f_.bind(null,nt,t),[s.memoizedState,t]},useRef:function(t){var e=on();return t={current:t},e.memoizedState=t},useState:function(t){t=fx(t);var e=t.queue,r=H9.bind(null,nt,e);return e.dispatch=r,[t.memoizedState,r]},useDebugValue:z4,useDeferredValue:function(t,e){var r=on();return D4(r,t,e)},useTransition:function(){var t=fx(!1);return t=O9.bind(null,nt,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,r){var s=nt,i=on();if(ht){if(r===void 0)throw Error(be(407));r=r()}else{if(r=e(),Nt===null)throw Error(be(349));ct&127||y9(s,e,r)}i.memoizedState=r;var a={value:r,getSnapshot:e};return i.queue=a,o6(j9.bind(null,s,a,t),[t]),s.flags|=2048,Bc(9,{destroy:void 0},b9.bind(null,s,a,r,e),null),r},useId:function(){var t=on(),e=Nt.identifierPrefix;if(ht){var r=Ks,s=Vs;r=(s&~(1<<32-Fn(s)-1)).toString(32)+r,e="_"+e+"R_"+r,r=Im++,0<r&&(e+="H"+r.toString(32)),e+="_"}else r=o_++,e="_"+e+"r_"+r.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:I4,useFormState:s6,useActionState:s6,useOptimistic:function(t){var e=on();e.memoizedState=e.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=r,e=R4.bind(null,nt,!0,r),r.dispatch=e,[t,e]},useMemoCache:M4,useCacheRefresh:function(){return on().memoizedState=m_.bind(null,nt)},useEffectEvent:function(t){var e=on(),r={impl:t};return e.memoizedState=r,function(){if(xt&2)throw Error(be(440));return r.impl.apply(void 0,arguments)}}},G4={readContext:Yr,use:Ff,useCallback:I9,useContext:Yr,useEffect:$4,useImperativeHandle:D9,useInsertionEffect:_9,useLayoutEffect:$9,useMemo:R9,useReducer:em,useRef:C9,useState:function(){return em(Ji)},useDebugValue:z4,useDeferredValue:function(t,e){var r=gr();return G9(r,Tt.memoizedState,t,e)},useTransition:function(){var t=em(Ji)[0],e=gr().memoizedState;return[typeof t=="boolean"?t:vu(t),e]},useSyncExternalStore:v9,useId:q9,useHostTransitionStatus:I4,useFormState:i6,useActionState:i6,useOptimistic:function(t,e){var r=gr();return T9(r,Tt,t,e)},useMemoCache:M4,useCacheRefresh:B9};G4.useEffectEvent=M9;var K9={readContext:Yr,use:Ff,useCallback:I9,useContext:Yr,useEffect:$4,useImperativeHandle:D9,useInsertionEffect:_9,useLayoutEffect:$9,useMemo:R9,useReducer:r1,useRef:C9,useState:function(){return r1(Ji)},useDebugValue:z4,useDeferredValue:function(t,e){var r=gr();return Tt===null?D4(r,t,e):G9(r,Tt.memoizedState,t,e)},useTransition:function(){var t=r1(Ji)[0],e=gr().memoizedState;return[typeof t=="boolean"?t:vu(t),e]},useSyncExternalStore:v9,useId:q9,useHostTransitionStatus:I4,useFormState:a6,useActionState:a6,useOptimistic:function(t,e){var r=gr();return Tt!==null?T9(r,Tt,t,e):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:M4,useCacheRefresh:B9};K9.useEffectEvent=M9;function n1(t,e,r,s){e=t.memoizedState,r=r(s,e),r=r==null?e:Lt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var xx={enqueueSetState:function(t,e,r){t=t._reactInternals;var s=Un(),i=ro(s);i.payload=e,r!=null&&(i.callback=r),e=no(t,i,s),e!==null&&(En(e,t,s),mh(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var s=Un(),i=ro(s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=no(t,i,s),e!==null&&(En(e,t,s),mh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Un(),s=ro(r);s.tag=2,e!=null&&(s.callback=e),e=no(t,s,r),e!==null&&(En(e,t,r),mh(e,t,r))}};function l6(t,e,r,s,i,a,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,a,l):e.prototype&&e.prototype.isPureReactComponent?!Ih(r,s)||!Ih(i,a):!0}function c6(t,e,r,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,s),e.state!==t&&xx.enqueueReplaceState(e,e.state,null)}function Al(t,e){var r=e;if("ref"in e){r={};for(var s in e)s!=="ref"&&(r[s]=e[s])}if(t=t.defaultProps){r===e&&(r=Lt({},r));for(var i in t)r[i]===void 0&&(r[i]=t[i])}return r}function W9(t){Nm(t)}function X9(t){console.error(t)}function Y9(t){Nm(t)}function Rm(t,e){try{var r=t.onUncaughtError;r(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function h6(t,e,r){try{var s=t.onCaughtError;s(r.value,{componentStack:r.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function vx(t,e,r){return r=ro(r),r.tag=3,r.payload={element:null},r.callback=function(){Rm(t,e)},r}function Z9(t){return t=ro(t),t.tag=3,t}function Q9(t,e,r,s){var i=r.type.getDerivedStateFromError;if(typeof i=="function"){var a=s.value;t.payload=function(){return i(a)},t.callback=function(){h6(e,r,s)}}var l=r.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(t.callback=function(){h6(e,r,s),typeof i!="function"&&(so===null?so=new Set([this]):so.add(this));var c=s.stack;this.componentDidCatch(s.value,{componentStack:c!==null?c:""})})}function p_(t,e,r,s,i){if(r.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=r.alternate,e!==null&&s0(e,r,i,!0),r=Wn.current,r!==null){switch(r.tag){case 31:case 13:return ds===null?qm():r.alternate===null&&lr===0&&(lr=3),r.flags&=-257,r.flags|=65536,r.lanes=i,s===_m?r.flags|=16384:(e=r.updateQueue,e===null?r.updateQueue=new Set([s]):e.add(s),f1(t,s,i)),!1;case 22:return r.flags|=65536,s===_m?r.flags|=16384:(e=r.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},r.updateQueue=e):(r=e.retryQueue,r===null?e.retryQueue=new Set([s]):r.add(s)),f1(t,s,i)),!1}throw Error(be(435,r.tag))}return f1(t,s,i),qm(),!1}if(ht)return e=Wn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,s!==ix&&(t=Error(be(422),{cause:s}),Gh(os(t,r)))):(s!==ix&&(e=Error(be(423),{cause:s}),Gh(os(e,r))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,s=os(s,r),i=vx(t.stateNode,s,i),t1(t,i),lr!==4&&(lr=2)),!1;var a=Error(be(520),{cause:s});if(a=os(a,r),yh===null?yh=[a]:yh.push(a),lr!==4&&(lr=2),e===null)return!0;s=os(s,r),r=e;do{switch(r.tag){case 3:return r.flags|=65536,t=i&-i,r.lanes|=t,t=vx(r.stateNode,s,t),t1(r,t),!1;case 1:if(e=r.type,a=r.stateNode,(r.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(so===null||!so.has(a))))return r.flags|=65536,i&=-i,r.lanes|=i,i=Z9(i),Q9(i,t,r,s),t1(r,i),!1}r=r.return}while(r!==null);return!1}var O4=Error(be(461)),wr=!1;function Vr(t,e,r,s){e.child=t===null?d9(e,null,r,s):Tl(e,t.child,r,s)}function u6(t,e,r,s,i){r=r.render;var a=e.ref;if("ref"in s){var l={};for(var c in s)c!=="ref"&&(l[c]=s[c])}else l=s;return Sl(e),s=A4(t,e,r,l,a,i),c=N4(),t!==null&&!wr?(E4(t,e,i),ea(t,e,i)):(ht&&c&&v4(e),e.flags|=1,Vr(t,e,s,i),e.child)}function d6(t,e,r,s,i){if(t===null){var a=r.type;return typeof a=="function"&&!x4(a)&&a.defaultProps===void 0&&r.compare===null?(e.tag=15,e.type=a,J9(t,e,a,s,i)):(t=Qd(r.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!P4(t,i)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:Ih,r(l,s)&&t.ref===e.ref)return ea(t,e,i)}return e.flags|=1,t=Fi(a,s),t.ref=e.ref,t.return=e,e.child=t}function J9(t,e,r,s,i){if(t!==null){var a=t.memoizedProps;if(Ih(a,s)&&t.ref===e.ref)if(wr=!1,e.pendingProps=s=a,P4(t,i))t.flags&131072&&(wr=!0);else return e.lanes=t.lanes,ea(t,e,i)}return yx(t,e,r,s,i)}function ew(t,e,r,s){var i=s.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|r:r,t!==null){for(s=e.child=t.child,i=0;s!==null;)i=i|s.lanes|s.childLanes,s=s.sibling;s=i&~a}else s=0,e.child=null;return m6(t,e,a,r,s)}if(r&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Jd(e,a!==null?a.cachePool:null),a!==null?t6(e,a):dx(),p9(e);else return s=e.lanes=536870912,m6(t,e,a!==null?a.baseLanes|r:r,r,s)}else a!==null?(Jd(e,a.cachePool),t6(e,a),Pa(),e.memoizedState=null):(t!==null&&Jd(e,null),dx(),Pa());return Vr(t,e,i,r),e.child}function rh(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function m6(t,e,r,s,i){var a=j4();return a=a===null?null:{parent:jr._currentValue,pool:a},e.memoizedState={baseLanes:r,cachePool:a},t!==null&&Jd(e,null),dx(),p9(e),t!==null&&s0(t,e,s,!0),e.childLanes=i,null}function rm(t,e){return e=Gm({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function f6(t,e,r){return Tl(e,t.child,null,r),t=rm(e,e.pendingProps),t.flags|=2,Gn(e),e.memoizedState=null,t}function g_(t,e,r){var s=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ht){if(s.mode==="hidden")return t=rm(e,s),e.lanes=536870912,rh(null,t);if(mx(e),(t=Ot)?(t=Vw(t,ls),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:go!==null?{id:Vs,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},r=i9(t),r.return=e,e.child=r,Xr=e,Ot=null)):t=null,t===null)throw xo(e);return e.lanes=536870912,null}return rm(e,s)}var a=t.memoizedState;if(a!==null){var l=a.dehydrated;if(mx(e),i)if(e.flags&256)e.flags&=-257,e=f6(t,e,r);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(be(558));else if(wr||s0(t,e,r,!1),i=(r&t.childLanes)!==0,wr||i){if(s=Nt,s!==null&&(l=_8(s,r),l!==0&&l!==a.retryLane))throw a.retryLane=l,zl(t,l),En(s,t,l),O4;qm(),e=f6(t,e,r)}else t=a.treeContext,Ot=ms(l.nextSibling),Xr=e,ht=!0,to=null,ls=!1,t!==null&&o9(e,t),e=rm(e,s),e.flags|=4096;return e}return t=Fi(t.child,{mode:s.mode,children:s.children}),t.ref=e.ref,e.child=t,t.return=e,t}function nm(t,e){var r=e.ref;if(r===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(be(284));(t===null||t.ref!==r)&&(e.flags|=4194816)}}function yx(t,e,r,s,i){return Sl(e),r=A4(t,e,r,s,void 0,i),s=N4(),t!==null&&!wr?(E4(t,e,i),ea(t,e,i)):(ht&&s&&v4(e),e.flags|=1,Vr(t,e,r,i),e.child)}function p6(t,e,r,s,i,a){return Sl(e),e.updateQueue=null,r=x9(e,s,r,i),g9(t),s=N4(),t!==null&&!wr?(E4(t,e,a),ea(t,e,a)):(ht&&s&&v4(e),e.flags|=1,Vr(t,e,r,a),e.child)}function g6(t,e,r,s,i){if(Sl(e),e.stateNode===null){var a=hc,l=r.contextType;typeof l=="object"&&l!==null&&(a=Yr(l)),a=new r(s,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=xx,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=s,a.state=e.memoizedState,a.refs={},S4(e),l=r.contextType,a.context=typeof l=="object"&&l!==null?Yr(l):hc,a.state=e.memoizedState,l=r.getDerivedStateFromProps,typeof l=="function"&&(n1(e,r,l,s),a.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(l=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),l!==a.state&&xx.enqueueReplaceState(a,a.state,null),ph(e,s,a,i),fh(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){a=e.stateNode;var c=e.memoizedProps,h=Al(r,c);a.props=h;var u=a.context,m=r.contextType;l=hc,typeof m=="object"&&m!==null&&(l=Yr(m));var f=r.getDerivedStateFromProps;m=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",c=e.pendingProps!==c,m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c||u!==l)&&c6(e,a,s,l),Ra=!1;var p=e.memoizedState;a.state=p,ph(e,s,a,i),fh(),u=e.memoizedState,c||p!==u||Ra?(typeof f=="function"&&(n1(e,r,f,s),u=e.memoizedState),(h=Ra||l6(e,r,h,s,p,u,l))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=u),a.props=s,a.state=u,a.context=l,s=h):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{a=e.stateNode,hx(t,e),l=e.memoizedProps,m=Al(r,l),a.props=m,f=e.pendingProps,p=a.context,u=r.contextType,h=hc,typeof u=="object"&&u!==null&&(h=Yr(u)),c=r.getDerivedStateFromProps,(u=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||p!==h)&&c6(e,a,s,h),Ra=!1,p=e.memoizedState,a.state=p,ph(e,s,a,i),fh();var g=e.memoizedState;l!==f||p!==g||Ra||t!==null&&t.dependencies!==null&&Mm(t.dependencies)?(typeof c=="function"&&(n1(e,r,c,s),g=e.memoizedState),(m=Ra||l6(e,r,m,s,p,g,h)||t!==null&&t.dependencies!==null&&Mm(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,g,h),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,g,h)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=g),a.props=s,a.state=g,a.context=h,s=m):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),s=!1)}return a=s,nm(t,e),s=(e.flags&128)!==0,a||s?(a=e.stateNode,r=s&&typeof r.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&s?(e.child=Tl(e,t.child,null,i),e.child=Tl(e,null,r,i)):Vr(t,e,r,i),e.memoizedState=a.state,t=e.child):t=ea(t,e,i),t}function x6(t,e,r,s){return wl(),e.flags|=256,Vr(t,e,r,s),e.child}var s1={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function i1(t){return{baseLanes:t,cachePool:c9()}}function a1(t,e,r){return t=t!==null?t.childLanes&~r:0,e&&(t|=qn),t}function tw(t,e,r){var s=e.pendingProps,i=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(mr.current&2)!==0),l&&(i=!0,e.flags&=-129),l=(e.flags&32)!==0,e.flags&=-33,t===null){if(ht){if(i?Oa(e):Pa(),(t=Ot)?(t=Vw(t,ls),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:go!==null?{id:Vs,overflow:Ks}:null,retryLane:536870912,hydrationErrors:null},r=i9(t),r.return=e,e.child=r,Xr=e,Ot=null)):t=null,t===null)throw xo(e);return zx(t)?e.lanes=32:e.lanes=536870912,null}var c=s.children;return s=s.fallback,i?(Pa(),i=e.mode,c=Gm({mode:"hidden",children:c},i),s=gl(s,i,r,null),c.return=e,s.return=e,c.sibling=s,e.child=c,s=e.child,s.memoizedState=i1(r),s.childLanes=a1(t,l,r),e.memoizedState=s1,rh(null,s)):(Oa(e),bx(e,c))}var h=t.memoizedState;if(h!==null&&(c=h.dehydrated,c!==null)){if(a)e.flags&256?(Oa(e),e.flags&=-257,e=o1(t,e,r)):e.memoizedState!==null?(Pa(),e.child=t.child,e.flags|=128,e=null):(Pa(),c=s.fallback,i=e.mode,s=Gm({mode:"visible",children:s.children},i),c=gl(c,i,r,null),c.flags|=2,s.return=e,c.return=e,s.sibling=c,e.child=s,Tl(e,t.child,null,r),s=e.child,s.memoizedState=i1(r),s.childLanes=a1(t,l,r),e.memoizedState=s1,e=rh(null,s));else if(Oa(e),zx(c)){if(l=c.nextSibling&&c.nextSibling.dataset,l)var u=l.dgst;l=u,s=Error(be(419)),s.stack="",s.digest=l,Gh({value:s,source:null,stack:null}),e=o1(t,e,r)}else if(wr||s0(t,e,r,!1),l=(r&t.childLanes)!==0,wr||l){if(l=Nt,l!==null&&(s=_8(l,r),s!==0&&s!==h.retryLane))throw h.retryLane=s,zl(t,s),En(l,t,s),O4;$x(c)||qm(),e=o1(t,e,r)}else $x(c)?(e.flags|=192,e.child=t.child,e=null):(t=h.treeContext,Ot=ms(c.nextSibling),Xr=e,ht=!0,to=null,ls=!1,t!==null&&o9(e,t),e=bx(e,s.children),e.flags|=4096);return e}return i?(Pa(),c=s.fallback,i=e.mode,h=t.child,u=h.sibling,s=Fi(h,{mode:"hidden",children:s.children}),s.subtreeFlags=h.subtreeFlags&65011712,u!==null?c=Fi(u,c):(c=gl(c,i,r,null),c.flags|=2),c.return=e,s.return=e,s.sibling=c,e.child=s,rh(null,s),s=e.child,c=t.child.memoizedState,c===null?c=i1(r):(i=c.cachePool,i!==null?(h=jr._currentValue,i=i.parent!==h?{parent:h,pool:h}:i):i=c9(),c={baseLanes:c.baseLanes|r,cachePool:i}),s.memoizedState=c,s.childLanes=a1(t,l,r),e.memoizedState=s1,rh(t.child,s)):(Oa(e),r=t.child,t=r.sibling,r=Fi(r,{mode:"visible",children:s.children}),r.return=e,r.sibling=null,t!==null&&(l=e.deletions,l===null?(e.deletions=[t],e.flags|=16):l.push(t)),e.child=r,e.memoizedState=null,r)}function bx(t,e){return e=Gm({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Gm(t,e){return t=On(22,t,null,e),t.lanes=0,t}function o1(t,e,r){return Tl(e,t.child,null,r),t=bx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function v6(t,e,r){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),ox(t.return,e,r)}function l1(t,e,r,s,i,a){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:i,treeForkCount:a}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=r,l.tailMode=i,l.treeForkCount=a)}function rw(t,e,r){var s=e.pendingProps,i=s.revealOrder,a=s.tail;s=s.children;var l=mr.current,c=(l&2)!==0;if(c?(l=l&1|2,e.flags|=128):l&=1,$t(mr,l),Vr(t,e,s,r),s=ht?Rh:0,!c&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&v6(t,r,e);else if(t.tag===19)v6(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&zm(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),l1(e,!1,i,r,a,s);break;case"backwards":case"unstable_legacy-backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zm(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}l1(e,!0,r,null,a,s);break;case"together":l1(e,!1,null,null,void 0,s);break;default:e.memoizedState=null}return e.child}function ea(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),yo|=e.lanes,!(r&e.childLanes))if(t!==null){if(s0(t,e,r,!1),(r&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(be(153));if(e.child!==null){for(t=e.child,r=Fi(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Fi(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function P4(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Mm(t)))}function x_(t,e,r){switch(e.tag){case 3:Sm(e,e.stateNode.containerInfo),Ga(e,jr,t.memoizedState.cache),wl();break;case 27:case 5:Wg(e);break;case 4:Sm(e,e.stateNode.containerInfo);break;case 10:Ga(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,mx(e),null;break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(Oa(e),e.flags|=128,null):r&e.child.childLanes?tw(t,e,r):(Oa(e),t=ea(t,e,r),t!==null?t.sibling:null);Oa(e);break;case 19:var i=(t.flags&128)!==0;if(s=(r&e.childLanes)!==0,s||(s0(t,e,r,!1),s=(r&e.childLanes)!==0),i){if(s)return rw(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$t(mr,mr.current),s)break;return null;case 22:return e.lanes=0,ew(t,e,r,e.pendingProps);case 24:Ga(e,jr,t.memoizedState.cache)}return ea(t,e,r)}function nw(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps)wr=!0;else{if(!P4(t,r)&&!(e.flags&128))return wr=!1,x_(t,e,r);wr=!!(t.flags&131072)}else wr=!1,ht&&e.flags&1048576&&a9(e,Rh,e.index);switch(e.lanes=0,e.tag){case 16:e:{var s=e.pendingProps;if(t=sl(e.elementType),e.type=t,typeof t=="function")x4(t)?(s=Al(t,s),e.tag=1,e=g6(null,e,t,s,r)):(e.tag=0,e=yx(null,e,t,s,r));else{if(t!=null){var i=t.$$typeof;if(i===n4){e.tag=11,e=u6(null,e,t,s,r);break e}else if(i===s4){e.tag=14,e=d6(null,e,t,s,r);break e}}throw e=Vg(t)||t,Error(be(306,e,""))}}return e;case 0:return yx(t,e,e.type,e.pendingProps,r);case 1:return s=e.type,i=Al(s,e.pendingProps),g6(t,e,s,i,r);case 3:e:{if(Sm(e,e.stateNode.containerInfo),t===null)throw Error(be(387));s=e.pendingProps;var a=e.memoizedState;i=a.element,hx(t,e),ph(e,s,null,r);var l=e.memoizedState;if(s=l.cache,Ga(e,jr,s),s!==a.cache&&lx(e,[jr],r,!0),fh(),s=l.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:l.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=x6(t,e,s,r);break e}else if(s!==i){i=os(Error(be(424)),e),Gh(i),e=x6(t,e,s,r);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ot=ms(t.firstChild),Xr=e,ht=!0,to=null,ls=!0,r=d9(e,null,s,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(wl(),s===i){e=ea(t,e,r);break e}Vr(t,e,s,r)}e=e.child}return e;case 26:return nm(t,e),t===null?(r=O6(e.type,null,e.pendingProps,null))?e.memoizedState=r:ht||(r=e.type,t=e.pendingProps,s=Um(eo.current).createElement(r),s[Wr]=e,s[Cn]=t,Zr(s,r,t),Lr(s),e.stateNode=s):e.memoizedState=O6(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Wg(e),t===null&&ht&&(s=e.stateNode=Kw(e.type,e.pendingProps,eo.current),Xr=e,ls=!0,i=Ot,$o(e.type)?(Dx=i,Ot=ms(s.firstChild)):Ot=i),Vr(t,e,e.pendingProps.children,r),nm(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ht&&((i=s=Ot)&&(s=K_(s,e.type,e.pendingProps,ls),s!==null?(e.stateNode=s,Xr=e,Ot=ms(s.firstChild),ls=!1,i=!0):i=!1),i||xo(e)),Wg(e),i=e.type,a=e.pendingProps,l=t!==null?t.memoizedProps:null,s=a.children,Mx(i,a)?s=null:l!==null&&Mx(i,l)&&(e.flags|=32),e.memoizedState!==null&&(i=A4(t,e,l_,null,null,r),Hh._currentValue=i),nm(t,e),Vr(t,e,s,r),e.child;case 6:return t===null&&ht&&((t=r=Ot)&&(r=W_(r,e.pendingProps,ls),r!==null?(e.stateNode=r,Xr=e,Ot=null,t=!0):t=!1),t||xo(e)),null;case 13:return tw(t,e,r);case 4:return Sm(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Tl(e,null,s,r):Vr(t,e,s,r),e.child;case 11:return u6(t,e,e.type,e.pendingProps,r);case 7:return Vr(t,e,e.pendingProps,r),e.child;case 8:return Vr(t,e,e.pendingProps.children,r),e.child;case 12:return Vr(t,e,e.pendingProps.children,r),e.child;case 10:return s=e.pendingProps,Ga(e,e.type,s.value),Vr(t,e,s.children,r),e.child;case 9:return i=e.type._context,s=e.pendingProps.children,Sl(e),i=Yr(i),s=s(i),e.flags|=1,Vr(t,e,s,r),e.child;case 14:return d6(t,e,e.type,e.pendingProps,r);case 15:return J9(t,e,e.type,e.pendingProps,r);case 19:return rw(t,e,r);case 31:return g_(t,e,r);case 22:return ew(t,e,r,e.pendingProps);case 24:return Sl(e),s=Yr(jr),t===null?(i=j4(),i===null&&(i=Nt,a=b4(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=r),i=a),e.memoizedState={parent:s,cache:i},S4(e),Ga(e,jr,i)):(t.lanes&r&&(hx(t,e),ph(e,null,null,r),fh()),i=t.memoizedState,a=e.memoizedState,i.parent!==s?(i={parent:s,cache:s},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Ga(e,jr,s)):(s=a.cache,Ga(e,jr,s),s!==i.cache&&lx(e,[jr],r,!0))),Vr(t,e,e.pendingProps.children,r),e.child;case 29:throw e.pendingProps}throw Error(be(156,e.tag))}function Ni(t){t.flags|=4}function c1(t,e,r,s,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(Nw())t.flags|=8192;else throw vl=_m,w4}else t.flags&=-16777217}function y6(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Yw(e))if(Nw())t.flags|=8192;else throw vl=_m,w4}function hd(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?E8():536870912,t.lanes|=e,Hc|=e)}function H0(t,e){if(!ht)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Gt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,s=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,s|=i.subtreeFlags&65011712,s|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=r,e}function v_(t,e,r){var s=e.pendingProps;switch(y4(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(e),null;case 1:return Gt(e),null;case 3:return r=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),Ui(jr),Gc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xl(e)?Ni(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,e1())),Gt(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(Ni(e),a!==null?(Gt(e),y6(e,a)):(Gt(e),c1(e,i,null,s,r))):a?a!==t.memoizedState?(Ni(e),Gt(e),y6(e,a)):(Gt(e),e.flags&=-16777217):(t=t.memoizedProps,t!==s&&Ni(e),Gt(e),c1(e,i,t,s,r)),null;case 27:if(Tm(e),r=eo.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Ni(e);else{if(!s){if(e.stateNode===null)throw Error(be(166));return Gt(e),null}t=ei.current,Xl(e)?W5(e):(t=Kw(i,s,r),e.stateNode=t,Ni(e))}return Gt(e),null;case 5:if(Tm(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&Ni(e);else{if(!s){if(e.stateNode===null)throw Error(be(166));return Gt(e),null}if(a=ei.current,Xl(e))W5(e);else{var l=Um(eo.current);switch(a){case 1:a=l.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=l.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=l.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=l.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=l.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof s.is=="string"?l.createElement("select",{is:s.is}):l.createElement("select"),s.multiple?a.multiple=!0:s.size&&(a.size=s.size);break;default:a=typeof s.is=="string"?l.createElement(i,{is:s.is}):l.createElement(i)}}a[Wr]=e,a[Cn]=s;e:for(l=e.child;l!==null;){if(l.tag===5||l.tag===6)a.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}e.stateNode=a;e:switch(Zr(a,i,s),i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Ni(e)}}return Gt(e),c1(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,r),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&Ni(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(be(166));if(t=eo.current,Xl(e)){if(t=e.stateNode,r=e.memoizedProps,s=null,i=Xr,i!==null)switch(i.tag){case 27:case 5:s=i.memoizedProps}t[Wr]=e,t=!!(t.nodeValue===r||s!==null&&s.suppressHydrationWarning===!0||Hw(t.nodeValue,r)),t||xo(e,!0)}else t=Um(t).createTextNode(s),t[Wr]=e,e.stateNode=t}return Gt(e),null;case 31:if(r=e.memoizedState,t===null||t.memoizedState!==null){if(s=Xl(e),r!==null){if(t===null){if(!s)throw Error(be(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(be(557));t[Wr]=e}else wl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),t=!1}else r=e1(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return e.flags&256?(Gn(e),e):(Gn(e),null);if(e.flags&128)throw Error(be(558))}return Gt(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Xl(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(be(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(be(317));i[Wr]=e}else wl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gt(e),i=!1}else i=e1(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(Gn(e),e):(Gn(e),null)}return Gn(e),e.flags&128?(e.lanes=r,e):(r=s!==null,t=t!==null&&t.memoizedState!==null,r&&(s=e.child,i=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(i=s.alternate.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==i&&(s.flags|=2048)),r!==t&&r&&(e.child.flags|=8192),hd(e,e.updateQueue),Gt(e),null);case 4:return Gc(),t===null&&V4(e.stateNode.containerInfo),Gt(e),null;case 10:return Ui(e.type),Gt(e),null;case 19:if(qr(mr),s=e.memoizedState,s===null)return Gt(e),null;if(i=(e.flags&128)!==0,a=s.rendering,a===null)if(i)H0(s,!1);else{if(lr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=zm(t),a!==null){for(e.flags|=128,H0(s,!1),t=a.updateQueue,e.updateQueue=t,hd(e,t),e.subtreeFlags=0,t=r,r=e.child;r!==null;)s9(r,t),r=r.sibling;return $t(mr,mr.current&1|2),ht&&Di(e,s.treeForkCount),e.child}t=t.sibling}s.tail!==null&&Bn()>Pm&&(e.flags|=128,i=!0,H0(s,!1),e.lanes=4194304)}else{if(!i)if(t=zm(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,hd(e,t),H0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ht)return Gt(e),null}else 2*Bn()-s.renderingStartTime>Pm&&r!==536870912&&(e.flags|=128,i=!0,H0(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Bn(),t.sibling=null,r=mr.current,$t(mr,i?r&1|2:r&1),ht&&Di(e,s.treeForkCount),t):(Gt(e),null);case 22:case 23:return Gn(e),T4(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?r&536870912&&!(e.flags&128)&&(Gt(e),e.subtreeFlags&6&&(e.flags|=8192)):Gt(e),r=e.updateQueue,r!==null&&hd(e,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==r&&(e.flags|=2048),t!==null&&qr(xl),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Ui(jr),Gt(e),null;case 25:return null;case 30:return null}throw Error(be(156,e.tag))}function y_(t,e){switch(y4(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ui(jr),Gc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Tm(e),null;case 31:if(e.memoizedState!==null){if(Gn(e),e.alternate===null)throw Error(be(340));wl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Gn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(be(340));wl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qr(mr),null;case 4:return Gc(),null;case 10:return Ui(e.type),null;case 22:case 23:return Gn(e),T4(),t!==null&&qr(xl),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ui(jr),null;case 25:return null;default:return null}}function sw(t,e){switch(y4(e),e.tag){case 3:Ui(jr),Gc();break;case 26:case 27:case 5:Tm(e);break;case 4:Gc();break;case 31:e.memoizedState!==null&&Gn(e);break;case 13:Gn(e);break;case 19:qr(mr);break;case 10:Ui(e.type);break;case 22:case 23:Gn(e),T4(),t!==null&&qr(xl);break;case 24:Ui(jr)}}function yu(t,e){try{var r=e.updateQueue,s=r!==null?r.lastEffect:null;if(s!==null){var i=s.next;r=i;do{if((r.tag&t)===t){s=void 0;var a=r.create,l=r.inst;s=a(),l.destroy=s}r=r.next}while(r!==i)}}catch(c){wt(e,e.return,c)}}function vo(t,e,r){try{var s=e.updateQueue,i=s!==null?s.lastEffect:null;if(i!==null){var a=i.next;s=a;do{if((s.tag&t)===t){var l=s.inst,c=l.destroy;if(c!==void 0){l.destroy=void 0,i=e;var h=r,u=c;try{u()}catch(m){wt(i,h,m)}}}s=s.next}while(s!==a)}}catch(m){wt(e,e.return,m)}}function iw(t){var e=t.updateQueue;if(e!==null){var r=t.stateNode;try{f9(e,r)}catch(s){wt(t,t.return,s)}}}function aw(t,e,r){r.props=Al(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(s){wt(t,e,s)}}function xh(t,e){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof r=="function"?t.refCleanup=r(s):r.current=s}}catch(i){wt(t,e,i)}}function Ws(t,e){var r=t.ref,s=t.refCleanup;if(r!==null)if(typeof s=="function")try{s()}catch(i){wt(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(i){wt(t,e,i)}else r.current=null}function ow(t){var e=t.type,r=t.memoizedProps,s=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":r.autoFocus&&s.focus();break e;case"img":r.src?s.src=r.src:r.srcSet&&(s.srcset=r.srcSet)}}catch(i){wt(t,t.return,i)}}function h1(t,e,r){try{var s=t.stateNode;q_(s,t.type,r,e),s[Cn]=e}catch(i){wt(t,t.return,i)}}function lw(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$o(t.type)||t.tag===4}function u1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$o(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jx(t,e,r){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,e):(e=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,e.appendChild(t),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Oi));else if(s!==4&&(s===27&&$o(t.type)&&(r=t.stateNode,e=null),t=t.child,t!==null))for(jx(t,e,r),t=t.sibling;t!==null;)jx(t,e,r),t=t.sibling}function Om(t,e,r){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(s!==4&&(s===27&&$o(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Om(t,e,r),t=t.sibling;t!==null;)Om(t,e,r),t=t.sibling}function cw(t){var e=t.stateNode,r=t.memoizedProps;try{for(var s=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Zr(e,s,r),e[Wr]=t,e[Cn]=r}catch(a){wt(t,t.return,a)}}var Ri=!1,br=!1,d1=!1,b6=typeof WeakSet=="function"?WeakSet:Set,Pr=null;function b_(t,e){if(t=t.containerInfo,Ex=Xm,t=Y8(t),f4(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var i=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,c=-1,h=-1,u=0,m=0,f=t,p=null;t:for(;;){for(var g;f!==r||i!==0&&f.nodeType!==3||(c=l+i),f!==a||s!==0&&f.nodeType!==3||(h=l+s),f.nodeType===3&&(l+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===r&&++u===i&&(c=l),p===a&&++m===s&&(h=l),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}r=c===-1||h===-1?null:{start:c,end:h}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cx={focusedElem:t,selectionRange:r},Xm=!1,Pr=e;Pr!==null;)if(e=Pr,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Pr=t;else for(;Pr!==null;){switch(e=Pr,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)i=t[r],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,r=e,i=a.memoizedProps,a=a.memoizedState,s=r.stateNode;try{var S=Al(r.type,i);t=s.getSnapshotBeforeUpdate(S,a),s.__reactInternalSnapshotBeforeUpdate=t}catch(N){wt(r,r.return,N)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,r=t.nodeType,r===9)_x(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_x(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(be(163))}if(t=e.sibling,t!==null){t.return=e.return,Pr=t;break}Pr=e.return}}function hw(t,e,r){var s=r.flags;switch(r.tag){case 0:case 11:case 15:Ci(t,r),s&4&&yu(5,r);break;case 1:if(Ci(t,r),s&4)if(t=r.stateNode,e===null)try{t.componentDidMount()}catch(l){wt(r,r.return,l)}else{var i=Al(r.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(l){wt(r,r.return,l)}}s&64&&iw(r),s&512&&xh(r,r.return);break;case 3:if(Ci(t,r),s&64&&(t=r.updateQueue,t!==null)){if(e=null,r.child!==null)switch(r.child.tag){case 27:case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}try{f9(t,e)}catch(l){wt(r,r.return,l)}}break;case 27:e===null&&s&4&&cw(r);case 26:case 5:Ci(t,r),e===null&&s&4&&ow(r),s&512&&xh(r,r.return);break;case 12:Ci(t,r);break;case 31:Ci(t,r),s&4&&mw(t,r);break;case 13:Ci(t,r),s&4&&fw(t,r),s&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=C_.bind(null,r),X_(t,r))));break;case 22:if(s=r.memoizedState!==null||Ri,!s){e=e!==null&&e.memoizedState!==null||br,i=Ri;var a=br;Ri=s,(br=e)&&!a?$i(t,r,(r.subtreeFlags&8772)!==0):Ci(t,r),Ri=i,br=a}break;case 30:break;default:Ci(t,r)}}function uw(t){var e=t.alternate;e!==null&&(t.alternate=null,uw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&l4(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var qt=null,wn=!1;function Ei(t,e,r){for(r=r.child;r!==null;)dw(t,e,r),r=r.sibling}function dw(t,e,r){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(du,r)}catch{}switch(r.tag){case 26:br||Ws(r,e),Ei(t,e,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:br||Ws(r,e);var s=qt,i=wn;$o(r.type)&&(qt=r.stateNode,wn=!1),Ei(t,e,r),jh(r.stateNode),qt=s,wn=i;break;case 5:br||Ws(r,e);case 6:if(s=qt,i=wn,qt=null,Ei(t,e,r),qt=s,wn=i,qt!==null)if(wn)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(r.stateNode)}catch(a){wt(r,e,a)}else try{qt.removeChild(r.stateNode)}catch(a){wt(r,e,a)}break;case 18:qt!==null&&(wn?(t=qt,z6(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Kc(t)):z6(qt,r.stateNode));break;case 4:s=qt,i=wn,qt=r.stateNode.containerInfo,wn=!0,Ei(t,e,r),qt=s,wn=i;break;case 0:case 11:case 14:case 15:vo(2,r,e),br||vo(4,r,e),Ei(t,e,r);break;case 1:br||(Ws(r,e),s=r.stateNode,typeof s.componentWillUnmount=="function"&&aw(r,e,s)),Ei(t,e,r);break;case 21:Ei(t,e,r);break;case 22:br=(s=br)||r.memoizedState!==null,Ei(t,e,r),br=s;break;default:Ei(t,e,r)}}function mw(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Kc(t)}catch(r){wt(e,e.return,r)}}}function fw(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Kc(t)}catch(r){wt(e,e.return,r)}}function j_(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new b6),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new b6),e;default:throw Error(be(435,t.tag))}}function ud(t,e){var r=j_(t);e.forEach(function(s){if(!r.has(s)){r.add(s);var i=M_.bind(null,t,s);s.then(i,i)}})}function bn(t,e){var r=e.deletions;if(r!==null)for(var s=0;s<r.length;s++){var i=r[s],a=t,l=e,c=l;e:for(;c!==null;){switch(c.tag){case 27:if($o(c.type)){qt=c.stateNode,wn=!1;break e}break;case 5:qt=c.stateNode,wn=!1;break e;case 3:case 4:qt=c.stateNode.containerInfo,wn=!0;break e}c=c.return}if(qt===null)throw Error(be(160));dw(a,l,i),qt=null,wn=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)pw(e,t),e=e.sibling}var _s=null;function pw(t,e){var r=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:bn(e,t),jn(t),s&4&&(vo(3,t,t.return),yu(3,t),vo(5,t,t.return));break;case 1:bn(e,t),jn(t),s&512&&(br||r===null||Ws(r,r.return)),s&64&&Ri&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?s:r.concat(s))));break;case 26:var i=_s;if(bn(e,t),jn(t),s&512&&(br||r===null||Ws(r,r.return)),s&4){var a=r!==null?r.memoizedState:null;if(s=t.memoizedState,r===null)if(s===null)if(t.stateNode===null){e:{s=t.type,r=t.memoizedProps,i=i.ownerDocument||i;t:switch(s){case"title":a=i.getElementsByTagName("title")[0],(!a||a[pu]||a[Wr]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(s),i.head.insertBefore(a,i.querySelector("head > title"))),Zr(a,s,r),a[Wr]=t,Lr(a),s=a;break e;case"link":var l=L6("link","href",i).get(s+(r.href||""));if(l){for(var c=0;c<l.length;c++)if(a=l[c],a.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&a.getAttribute("rel")===(r.rel==null?null:r.rel)&&a.getAttribute("title")===(r.title==null?null:r.title)&&a.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){l.splice(c,1);break t}}a=i.createElement(s),Zr(a,s,r),i.head.appendChild(a);break;case"meta":if(l=L6("meta","content",i).get(s+(r.content||""))){for(c=0;c<l.length;c++)if(a=l[c],a.getAttribute("content")===(r.content==null?null:""+r.content)&&a.getAttribute("name")===(r.name==null?null:r.name)&&a.getAttribute("property")===(r.property==null?null:r.property)&&a.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&a.getAttribute("charset")===(r.charSet==null?null:r.charSet)){l.splice(c,1);break t}}a=i.createElement(s),Zr(a,s,r),i.head.appendChild(a);break;default:throw Error(be(468,s))}a[Wr]=t,Lr(a),s=a}t.stateNode=s}else q6(i,t.type,t.stateNode);else t.stateNode=P6(i,s,t.memoizedProps);else a!==s?(a===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):a.count--,s===null?q6(i,t.type,t.stateNode):P6(i,s,t.memoizedProps)):s===null&&t.stateNode!==null&&h1(t,t.memoizedProps,r.memoizedProps)}break;case 27:bn(e,t),jn(t),s&512&&(br||r===null||Ws(r,r.return)),r!==null&&s&4&&h1(t,t.memoizedProps,r.memoizedProps);break;case 5:if(bn(e,t),jn(t),s&512&&(br||r===null||Ws(r,r.return)),t.flags&32){i=t.stateNode;try{Pc(i,"")}catch(S){wt(t,t.return,S)}}s&4&&t.stateNode!=null&&(i=t.memoizedProps,h1(t,i,r!==null?r.memoizedProps:i)),s&1024&&(d1=!0);break;case 6:if(bn(e,t),jn(t),s&4){if(t.stateNode===null)throw Error(be(162));s=t.memoizedProps,r=t.stateNode;try{r.nodeValue=s}catch(S){wt(t,t.return,S)}}break;case 3:if(am=null,i=_s,_s=Vm(e.containerInfo),bn(e,t),_s=i,jn(t),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Kc(e.containerInfo)}catch(S){wt(t,t.return,S)}d1&&(d1=!1,gw(t));break;case 4:s=_s,_s=Vm(t.stateNode.containerInfo),bn(e,t),jn(t),_s=s;break;case 12:bn(e,t),jn(t);break;case 31:bn(e,t),jn(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,ud(t,s)));break;case 13:bn(e,t),jn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Kf=Bn()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,ud(t,s)));break;case 22:i=t.memoizedState!==null;var h=r!==null&&r.memoizedState!==null,u=Ri,m=br;if(Ri=u||i,br=m||h,bn(e,t),br=m,Ri=u,jn(t),s&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(r===null||h||Ri||br||il(t)),r=null,e=t;;){if(e.tag===5||e.tag===26){if(r===null){h=r=e;try{if(a=h.stateNode,i)l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{c=h.stateNode;var f=h.memoizedProps.style,p=f!=null&&f.hasOwnProperty("display")?f.display:null;c.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(S){wt(h,h.return,S)}}}else if(e.tag===6){if(r===null){h=e;try{h.stateNode.nodeValue=i?"":h.memoizedProps}catch(S){wt(h,h.return,S)}}}else if(e.tag===18){if(r===null){h=e;try{var g=h.stateNode;i?D6(g,!0):D6(h.stateNode,!1)}catch(S){wt(h,h.return,S)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;r===e&&(r=null),e=e.return}r===e&&(r=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(r=s.retryQueue,r!==null&&(s.retryQueue=null,ud(t,r))));break;case 19:bn(e,t),jn(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,ud(t,s)));break;case 30:break;case 21:break;default:bn(e,t),jn(t)}}function jn(t){var e=t.flags;if(e&2){try{for(var r,s=t.return;s!==null;){if(lw(s)){r=s;break}s=s.return}if(r==null)throw Error(be(160));switch(r.tag){case 27:var i=r.stateNode,a=u1(t);Om(t,a,i);break;case 5:var l=r.stateNode;r.flags&32&&(Pc(l,""),r.flags&=-33);var c=u1(t);Om(t,c,l);break;case 3:case 4:var h=r.stateNode.containerInfo,u=u1(t);jx(t,u,h);break;default:throw Error(be(161))}}catch(m){wt(t,t.return,m)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function gw(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;gw(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Ci(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)hw(t,e.alternate,e),e=e.sibling}function il(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:vo(4,e,e.return),il(e);break;case 1:Ws(e,e.return);var r=e.stateNode;typeof r.componentWillUnmount=="function"&&aw(e,e.return,r),il(e);break;case 27:jh(e.stateNode);case 26:case 5:Ws(e,e.return),il(e);break;case 22:e.memoizedState===null&&il(e);break;case 30:il(e);break;default:il(e)}t=t.sibling}}function $i(t,e,r){for(r=r&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,i=t,a=e,l=a.flags;switch(a.tag){case 0:case 11:case 15:$i(i,a,r),yu(4,a);break;case 1:if($i(i,a,r),s=a,i=s.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){wt(s,s.return,u)}if(s=a,i=s.updateQueue,i!==null){var c=s.stateNode;try{var h=i.shared.hiddenCallbacks;if(h!==null)for(i.shared.hiddenCallbacks=null,i=0;i<h.length;i++)m9(h[i],c)}catch(u){wt(s,s.return,u)}}r&&l&64&&iw(a),xh(a,a.return);break;case 27:cw(a);case 26:case 5:$i(i,a,r),r&&s===null&&l&4&&ow(a),xh(a,a.return);break;case 12:$i(i,a,r);break;case 31:$i(i,a,r),r&&l&4&&mw(i,a);break;case 13:$i(i,a,r),r&&l&4&&fw(i,a);break;case 22:a.memoizedState===null&&$i(i,a,r),xh(a,a.return);break;case 30:break;default:$i(i,a,r)}e=e.sibling}}function L4(t,e){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&xu(r))}function q4(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&xu(t))}function Ns(t,e,r,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xw(t,e,r,s),e=e.sibling}function xw(t,e,r,s){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Ns(t,e,r,s),i&2048&&yu(9,e);break;case 1:Ns(t,e,r,s);break;case 3:Ns(t,e,r,s),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&xu(t)));break;case 12:if(i&2048){Ns(t,e,r,s),t=e.stateNode;try{var a=e.memoizedProps,l=a.id,c=a.onPostCommit;typeof c=="function"&&c(l,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(h){wt(e,e.return,h)}}else Ns(t,e,r,s);break;case 31:Ns(t,e,r,s);break;case 13:Ns(t,e,r,s);break;case 23:break;case 22:a=e.stateNode,l=e.alternate,e.memoizedState!==null?a._visibility&2?Ns(t,e,r,s):vh(t,e):a._visibility&2?Ns(t,e,r,s):(a._visibility|=2,ec(t,e,r,s,(e.subtreeFlags&10256)!==0||!1)),i&2048&&L4(l,e);break;case 24:Ns(t,e,r,s),i&2048&&q4(e.alternate,e);break;default:Ns(t,e,r,s)}}function ec(t,e,r,s,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,l=e,c=r,h=s,u=l.flags;switch(l.tag){case 0:case 11:case 15:ec(a,l,c,h,i),yu(8,l);break;case 23:break;case 22:var m=l.stateNode;l.memoizedState!==null?m._visibility&2?ec(a,l,c,h,i):vh(a,l):(m._visibility|=2,ec(a,l,c,h,i)),i&&u&2048&&L4(l.alternate,l);break;case 24:ec(a,l,c,h,i),i&&u&2048&&q4(l.alternate,l);break;default:ec(a,l,c,h,i)}e=e.sibling}}function vh(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var r=t,s=e,i=s.flags;switch(s.tag){case 22:vh(r,s),i&2048&&L4(s.alternate,s);break;case 24:vh(r,s),i&2048&&q4(s.alternate,s);break;default:vh(r,s)}e=e.sibling}}var nh=8192;function Yl(t,e,r){if(t.subtreeFlags&nh)for(t=t.child;t!==null;)vw(t,e,r),t=t.sibling}function vw(t,e,r){switch(t.tag){case 26:Yl(t,e,r),t.flags&nh&&t.memoizedState!==null&&o$(r,_s,t.memoizedState,t.memoizedProps);break;case 5:Yl(t,e,r);break;case 3:case 4:var s=_s;_s=Vm(t.stateNode.containerInfo),Yl(t,e,r),_s=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=nh,nh=16777216,Yl(t,e,r),nh=s):Yl(t,e,r));break;default:Yl(t,e,r)}}function yw(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function F0(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var r=0;r<e.length;r++){var s=e[r];Pr=s,jw(s,t)}yw(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bw(t),t=t.sibling}function bw(t){switch(t.tag){case 0:case 11:case 15:F0(t),t.flags&2048&&vo(9,t,t.return);break;case 3:F0(t);break;case 12:F0(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,sm(t)):F0(t);break;default:F0(t)}}function sm(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var r=0;r<e.length;r++){var s=e[r];Pr=s,jw(s,t)}yw(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:vo(8,e,e.return),sm(e);break;case 22:r=e.stateNode,r._visibility&2&&(r._visibility&=-3,sm(e));break;default:sm(e)}t=t.sibling}}function jw(t,e){for(;Pr!==null;){var r=Pr;switch(r.tag){case 0:case 11:case 15:vo(8,r,e);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var s=r.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:xu(r.memoizedState.cache)}if(s=r.child,s!==null)s.return=r,Pr=s;else e:for(r=t;Pr!==null;){s=Pr;var i=s.sibling,a=s.return;if(uw(s),s===r){Pr=null;break e}if(i!==null){i.return=a,Pr=i;break e}Pr=a}}}var w_={getCacheForType:function(t){var e=Yr(jr),r=e.data.get(t);return r===void 0&&(r=t(),e.data.set(t,r)),r},cacheSignal:function(){return Yr(jr).controller.signal}},S_=typeof WeakMap=="function"?WeakMap:Map,xt=0,Nt=null,lt=null,ct=0,bt=0,In=null,Ka=!1,a0=!1,B4=!1,ta=0,lr=0,yo=0,yl=0,H4=0,qn=0,Hc=0,yh=null,kn=null,wx=!1,Kf=0,ww=0,Pm=1/0,Lm=null,so=null,Er=0,io=null,Fc=null,Vi=0,Sx=0,Tx=null,Sw=null,bh=0,kx=null;function Un(){return xt&2&&ct!==0?ct&-ct:et.T!==null?U4():$8()}function Tw(){if(qn===0)if(!(ct&536870912)||ht){var t=nd;nd<<=1,!(nd&3932160)&&(nd=262144),qn=t}else qn=536870912;return t=Wn.current,t!==null&&(t.flags|=32),qn}function En(t,e,r){(t===Nt&&(bt===2||bt===9)||t.cancelPendingCommit!==null)&&(Uc(t,0),Wa(t,ct,qn,!1)),fu(t,r),(!(xt&2)||t!==Nt)&&(t===Nt&&(!(xt&2)&&(yl|=r),lr===4&&Wa(t,ct,qn,!1)),li(t))}function kw(t,e,r){if(xt&6)throw Error(be(327));var s=!r&&(e&127)===0&&(e&t.expiredLanes)===0||mu(t,e),i=s?A_(t,e):m1(t,e,!0),a=s;do{if(i===0){a0&&!s&&Wa(t,e,0,!1);break}else{if(r=t.current.alternate,a&&!T_(r)){i=m1(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var l=0;else l=t.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){e=l;e:{var c=t;i=yh;var h=c.current.memoizedState.isDehydrated;if(h&&(Uc(c,l).flags|=256),l=m1(c,l,!1),l!==2){if(B4&&!h){c.errorRecoveryDisabledLanes|=a,yl|=a,i=4;break e}a=kn,kn=i,a!==null&&(kn===null?kn=a:kn.push.apply(kn,a))}i=l}if(a=!1,i!==2)continue}}if(i===1){Uc(t,0),Wa(t,e,0,!0);break}e:{switch(s=t,a=i,a){case 0:case 1:throw Error(be(345));case 4:if((e&4194048)!==e)break;case 6:Wa(s,e,qn,!Ka);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(be(329))}if((e&62914560)===e&&(i=Kf+300-Bn(),10<i)){if(Wa(s,e,qn,!Ka),Rf(s,0,!0)!==0)break e;Vi=e,s.timeoutHandle=Uw(j6.bind(null,s,r,kn,Lm,wx,e,qn,yl,Hc,Ka,a,"Throttled",-0,0),i);break e}j6(s,r,kn,Lm,wx,e,qn,yl,Hc,Ka,a,null,-0,0)}}break}while(!0);li(t)}function j6(t,e,r,s,i,a,l,c,h,u,m,f,p,g){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Oi},vw(e,a,f);var S=(a&62914560)===a?Kf-Bn():(a&4194048)===a?ww-Bn():0;if(S=l$(f,S),S!==null){Vi=a,t.cancelPendingCommit=S(S6.bind(null,t,e,a,r,s,i,l,c,h,m,f,null,p,g)),Wa(t,a,l,!u);return}}S6(t,e,a,r,s,i,l,c,h)}function T_(t){for(var e=t;;){var r=e.tag;if((r===0||r===11||r===15)&&e.flags&16384&&(r=e.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var s=0;s<r.length;s++){var i=r[s],a=i.getSnapshot;i=i.value;try{if(!Kn(a(),i))return!1}catch{return!1}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wa(t,e,r,s){e&=~H4,e&=~yl,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var i=e;0<i;){var a=31-Fn(i),l=1<<a;s[a]=-1,i&=~l}r!==0&&C8(t,r,e)}function Wf(){return xt&6?!0:(bu(0),!1)}function F4(){if(lt!==null){if(bt===0)var t=lt.return;else t=lt,Pi=Dl=null,C4(t),Ac=null,Oh=0,t=lt;for(;t!==null;)sw(t.alternate,t),t=t.return;lt=null}}function Uc(t,e){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,F_(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Vi=0,F4(),Nt=t,lt=r=Fi(t.current,null),ct=e,bt=0,In=null,Ka=!1,a0=mu(t,e),B4=!1,Hc=qn=H4=yl=yo=lr=0,kn=yh=null,wx=!1,e&8&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var i=31-Fn(s),a=1<<i;e|=t[i],s&=~a}return ta=e,Lf(),r}function Aw(t,e){nt=null,et.H=Lh,e===i0||e===Bf?(e=J5(),bt=3):e===w4?(e=J5(),bt=4):bt=e===O4?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,In=e,lt===null&&(lr=1,Rm(t,os(e,t.current)))}function Nw(){var t=Wn.current;return t===null?!0:(ct&4194048)===ct?ds===null:(ct&62914560)===ct||ct&536870912?t===ds:!1}function Ew(){var t=et.H;return et.H=Lh,t===null?Lh:t}function Cw(){var t=et.A;return et.A=w_,t}function qm(){lr=4,Ka||(ct&4194048)!==ct&&Wn.current!==null||(a0=!0),!(yo&134217727)&&!(yl&134217727)||Nt===null||Wa(Nt,ct,qn,!1)}function m1(t,e,r){var s=xt;xt|=2;var i=Ew(),a=Cw();(Nt!==t||ct!==e)&&(Lm=null,Uc(t,e)),e=!1;var l=lr;e:do try{if(bt!==0&&lt!==null){var c=lt,h=In;switch(bt){case 8:F4(),l=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(e=!0);var u=bt;if(bt=0,In=null,mc(t,c,h,u),r&&a0){l=0;break e}break;default:u=bt,bt=0,In=null,mc(t,c,h,u)}}k_(),l=lr;break}catch(m){Aw(t,m)}while(!0);return e&&t.shellSuspendCounter++,Pi=Dl=null,xt=s,et.H=i,et.A=a,lt===null&&(Nt=null,ct=0,Lf()),l}function k_(){for(;lt!==null;)Mw(lt)}function A_(t,e){var r=xt;xt|=2;var s=Ew(),i=Cw();Nt!==t||ct!==e?(Lm=null,Pm=Bn()+500,Uc(t,e)):a0=mu(t,e);e:do try{if(bt!==0&&lt!==null){e=lt;var a=In;t:switch(bt){case 1:bt=0,In=null,mc(t,e,a,1);break;case 2:case 9:if(Q5(a)){bt=0,In=null,w6(e);break}e=function(){bt!==2&&bt!==9||Nt!==t||(bt=7),li(t)},a.then(e,e);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:Q5(a)?(bt=0,In=null,w6(e)):(bt=0,In=null,mc(t,e,a,7));break;case 5:var l=null;switch(lt.tag){case 26:l=lt.memoizedState;case 5:case 27:var c=lt;if(l?Yw(l):c.stateNode.complete){bt=0,In=null;var h=c.sibling;if(h!==null)lt=h;else{var u=c.return;u!==null?(lt=u,Xf(u)):lt=null}break t}}bt=0,In=null,mc(t,e,a,5);break;case 6:bt=0,In=null,mc(t,e,a,6);break;case 8:F4(),lr=6;break e;default:throw Error(be(462))}}N_();break}catch(m){Aw(t,m)}while(!0);return Pi=Dl=null,et.H=s,et.A=i,xt=r,lt!==null?0:(Nt=null,ct=0,Lf(),lr)}function N_(){for(;lt!==null&&!YC();)Mw(lt)}function Mw(t){var e=nw(t.alternate,t,ta);t.memoizedProps=t.pendingProps,e===null?Xf(t):lt=e}function w6(t){var e=t,r=e.alternate;switch(e.tag){case 15:case 0:e=p6(r,e,e.pendingProps,e.type,void 0,ct);break;case 11:e=p6(r,e,e.pendingProps,e.type.render,e.ref,ct);break;case 5:C4(e);default:sw(r,e),e=lt=s9(e,ta),e=nw(r,e,ta)}t.memoizedProps=t.pendingProps,e===null?Xf(t):lt=e}function mc(t,e,r,s){Pi=Dl=null,C4(e),Ac=null,Oh=0;var i=e.return;try{if(p_(t,i,e,r,ct)){lr=1,Rm(t,os(r,t.current)),lt=null;return}}catch(a){if(i!==null)throw lt=i,a;lr=1,Rm(t,os(r,t.current)),lt=null;return}e.flags&32768?(ht||s===1?t=!0:a0||ct&536870912?t=!1:(Ka=t=!0,(s===2||s===9||s===3||s===6)&&(s=Wn.current,s!==null&&s.tag===13&&(s.flags|=16384))),_w(e,t)):Xf(e)}function Xf(t){var e=t;do{if(e.flags&32768){_w(e,Ka);return}t=e.return;var r=v_(e.alternate,e,ta);if(r!==null){lt=r;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);lr===0&&(lr=5)}function _w(t,e){do{var r=y_(t.alternate,t);if(r!==null){r.flags&=32767,lt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!e&&(t=t.sibling,t!==null)){lt=t;return}lt=t=r}while(t!==null);lr=6,lt=null}function S6(t,e,r,s,i,a,l,c,h){t.cancelPendingCommit=null;do Yf();while(Er!==0);if(xt&6)throw Error(be(327));if(e!==null){if(e===t.current)throw Error(be(177));if(a=e.lanes|e.childLanes,a|=p4,aM(t,r,a,l,c,h),t===Nt&&(lt=Nt=null,ct=0),Fc=e,io=t,Vi=r,Sx=a,Tx=i,Sw=s,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,__(km,function(){return Rw(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=et.T,et.T=null,i=vt.p,vt.p=2,l=xt,xt|=4;try{b_(t,e,r)}finally{xt=l,vt.p=i,et.T=s}}Er=1,$w(),zw(),Dw()}}function $w(){if(Er===1){Er=0;var t=io,e=Fc,r=(e.flags&13878)!==0;if(e.subtreeFlags&13878||r){r=et.T,et.T=null;var s=vt.p;vt.p=2;var i=xt;xt|=4;try{pw(e,t);var a=Cx,l=Y8(t.containerInfo),c=a.focusedElem,h=a.selectionRange;if(l!==c&&c&&c.ownerDocument&&X8(c.ownerDocument.documentElement,c)){if(h!==null&&f4(c)){var u=h.start,m=h.end;if(m===void 0&&(m=u),"selectionStart"in c)c.selectionStart=u,c.selectionEnd=Math.min(m,c.value.length);else{var f=c.ownerDocument||document,p=f&&f.defaultView||window;if(p.getSelection){var g=p.getSelection(),S=c.textContent.length,N=Math.min(h.start,S),$=h.end===void 0?N:Math.min(h.end,S);!g.extend&&N>$&&(l=$,$=N,N=l);var w=U5(c,N),T=U5(c,$);if(w&&T&&(g.rangeCount!==1||g.anchorNode!==w.node||g.anchorOffset!==w.offset||g.focusNode!==T.node||g.focusOffset!==T.offset)){var A=f.createRange();A.setStart(w.node,w.offset),g.removeAllRanges(),N>$?(g.addRange(A),g.extend(T.node,T.offset)):(A.setEnd(T.node,T.offset),g.addRange(A))}}}}for(f=[],g=c;g=g.parentNode;)g.nodeType===1&&f.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<f.length;c++){var I=f[c];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}Xm=!!Ex,Cx=Ex=null}finally{xt=i,vt.p=s,et.T=r}}t.current=e,Er=2}}function zw(){if(Er===2){Er=0;var t=io,e=Fc,r=(e.flags&8772)!==0;if(e.subtreeFlags&8772||r){r=et.T,et.T=null;var s=vt.p;vt.p=2;var i=xt;xt|=4;try{hw(t,e.alternate,e)}finally{xt=i,vt.p=s,et.T=r}}Er=3}}function Dw(){if(Er===4||Er===3){Er=0,ZC();var t=io,e=Fc,r=Vi,s=Sw;e.subtreeFlags&10256||e.flags&10256?Er=5:(Er=0,Fc=io=null,Iw(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(so=null),o4(r),e=e.stateNode,Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(du,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=et.T,i=vt.p,vt.p=2,et.T=null;try{for(var a=t.onRecoverableError,l=0;l<s.length;l++){var c=s[l];a(c.value,{componentStack:c.stack})}}finally{et.T=e,vt.p=i}}Vi&3&&Yf(),li(t),i=t.pendingLanes,r&261930&&i&42?t===kx?bh++:(bh=0,kx=t):bh=0,bu(0)}}function Iw(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,xu(e)))}function Yf(){return $w(),zw(),Dw(),Rw()}function Rw(){if(Er!==5)return!1;var t=io,e=Sx;Sx=0;var r=o4(Vi),s=et.T,i=vt.p;try{vt.p=32>r?32:r,et.T=null,r=Tx,Tx=null;var a=io,l=Vi;if(Er=0,Fc=io=null,Vi=0,xt&6)throw Error(be(331));var c=xt;if(xt|=4,bw(a.current),xw(a,a.current,l,r),xt=c,bu(0,!1),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(du,a)}catch{}return!0}finally{vt.p=i,et.T=s,Iw(t,e)}}function T6(t,e,r){e=os(r,e),e=vx(t.stateNode,e,2),t=no(t,e,2),t!==null&&(fu(t,2),li(t))}function wt(t,e,r){if(t.tag===3)T6(t,t,r);else for(;e!==null;){if(e.tag===3){T6(e,t,r);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(so===null||!so.has(s))){t=os(r,t),r=Z9(2),s=no(e,r,2),s!==null&&(Q9(r,s,e,t),fu(s,2),li(s));break}}e=e.return}}function f1(t,e,r){var s=t.pingCache;if(s===null){s=t.pingCache=new S_;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(r)||(B4=!0,i.add(r),t=E_.bind(null,t,e,r),e.then(t,t))}function E_(t,e,r){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Nt===t&&(ct&r)===r&&(lr===4||lr===3&&(ct&62914560)===ct&&300>Bn()-Kf?!(xt&2)&&Uc(t,0):H4|=r,Hc===ct&&(Hc=0)),li(t)}function Gw(t,e){e===0&&(e=E8()),t=zl(t,e),t!==null&&(fu(t,e),li(t))}function C_(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Gw(t,r)}function M_(t,e){var r=0;switch(t.tag){case 31:case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(be(314))}s!==null&&s.delete(e),Gw(t,r)}function __(t,e){return i4(t,e)}var Bm=null,tc=null,Ax=!1,Hm=!1,p1=!1,Xa=0;function li(t){t!==tc&&t.next===null&&(tc===null?Bm=tc=t:tc=tc.next=t),Hm=!0,Ax||(Ax=!0,z_())}function bu(t,e){if(!p1&&Hm){p1=!0;do for(var r=!1,s=Bm;s!==null;){if(t!==0){var i=s.pendingLanes;if(i===0)var a=0;else{var l=s.suspendedLanes,c=s.pingedLanes;a=(1<<31-Fn(42|t)+1)-1,a&=i&~(l&~c),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(r=!0,k6(s,a))}else a=ct,a=Rf(s,s===Nt?a:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(a&3)||mu(s,a)||(r=!0,k6(s,a));s=s.next}while(r);p1=!1}}function $_(){Ow()}function Ow(){Hm=Ax=!1;var t=0;Xa!==0&&H_()&&(t=Xa);for(var e=Bn(),r=null,s=Bm;s!==null;){var i=s.next,a=Pw(s,e);a===0?(s.next=null,r===null?Bm=i:r.next=i,i===null&&(tc=r)):(r=s,(t!==0||a&3)&&(Hm=!0)),s=i}Er!==0&&Er!==5||bu(t),Xa!==0&&(Xa=0)}function Pw(t,e){for(var r=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var l=31-Fn(a),c=1<<l,h=i[l];h===-1?(!(c&r)||c&s)&&(i[l]=iM(c,e)):h<=e&&(t.expiredLanes|=c),a&=~c}if(e=Nt,r=ct,r=Rf(t,t===e?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,r===0||t===e&&(bt===2||bt===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&Hp(s),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||mu(t,r)){if(e=r&-r,e===t.callbackPriority)return e;switch(s!==null&&Hp(s),o4(r)){case 2:case 8:r=A8;break;case 32:r=km;break;case 268435456:r=N8;break;default:r=km}return s=Lw.bind(null,t),r=i4(r,s),t.callbackPriority=e,t.callbackNode=r,e}return s!==null&&s!==null&&Hp(s),t.callbackPriority=2,t.callbackNode=null,2}function Lw(t,e){if(Er!==0&&Er!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Yf()&&t.callbackNode!==r)return null;var s=ct;return s=Rf(t,t===Nt?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(kw(t,s,e),Pw(t,Bn()),t.callbackNode!=null&&t.callbackNode===r?Lw.bind(null,t):null)}function k6(t,e){if(Yf())return null;kw(t,e,!0)}function z_(){U_(function(){xt&6?i4(k8,$_):Ow()})}function U4(){if(Xa===0){var t=Lc;t===0&&(t=rd,rd<<=1,!(rd&261888)&&(rd=256)),Xa=t}return Xa}function A6(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xd(""+t)}function N6(t,e){var r=e.ownerDocument.createElement("input");return r.name=e.name,r.value=e.value,t.id&&r.setAttribute("form",t.id),e.parentNode.insertBefore(r,e),t=new FormData(t),r.parentNode.removeChild(r),t}function D_(t,e,r,s,i){if(e==="submit"&&r&&r.stateNode===i){var a=A6((i[Cn]||null).action),l=s.submitter;l&&(e=(e=l[Cn]||null)?A6(e.formAction):l.getAttribute("formAction"),e!==null&&(a=e,l=null));var c=new Gf("action","action",null,s,i);t.push({event:c,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Xa!==0){var h=l?N6(i,l):new FormData(i);gx(r,{pending:!0,data:h,method:i.method,action:a},null,h)}}else typeof a=="function"&&(c.preventDefault(),h=l?N6(i,l):new FormData(i),gx(r,{pending:!0,data:h,method:i.method,action:a},a,h))},currentTarget:i}]})}}for(var g1=0;g1<sx.length;g1++){var x1=sx[g1],I_=x1.toLowerCase(),R_=x1[0].toUpperCase()+x1.slice(1);Ls(I_,"on"+R_)}Ls(Q8,"onAnimationEnd");Ls(J8,"onAnimationIteration");Ls(e9,"onAnimationStart");Ls("dblclick","onDoubleClick");Ls("focusin","onFocus");Ls("focusout","onBlur");Ls(QM,"onTransitionRun");Ls(JM,"onTransitionStart");Ls(e_,"onTransitionCancel");Ls(t9,"onTransitionEnd");Oc("onMouseEnter",["mouseout","mouseover"]);Oc("onMouseLeave",["mouseout","mouseover"]);Oc("onPointerEnter",["pointerout","pointerover"]);Oc("onPointerLeave",["pointerout","pointerover"]);Ml("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ml("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ml("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ml("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ml("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ml("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qh));function qw(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var s=t[r],i=s.event;s=s.listeners;e:{var a=void 0;if(e)for(var l=s.length-1;0<=l;l--){var c=s[l],h=c.instance,u=c.currentTarget;if(c=c.listener,h!==a&&i.isPropagationStopped())break e;a=c,i.currentTarget=u;try{a(i)}catch(m){Nm(m)}i.currentTarget=null,a=h}else for(l=0;l<s.length;l++){if(c=s[l],h=c.instance,u=c.currentTarget,c=c.listener,h!==a&&i.isPropagationStopped())break e;a=c,i.currentTarget=u;try{a(i)}catch(m){Nm(m)}i.currentTarget=null,a=h}}}}function ot(t,e){var r=e[Yg];r===void 0&&(r=e[Yg]=new Set);var s=t+"__bubble";r.has(s)||(Bw(e,t,2,!1),r.add(s))}function v1(t,e,r){var s=0;e&&(s|=4),Bw(r,t,s,e)}var dd="_reactListening"+Math.random().toString(36).slice(2);function V4(t){if(!t[dd]){t[dd]=!0,z8.forEach(function(r){r!=="selectionchange"&&(G_.has(r)||v1(r,!1,t),v1(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dd]||(e[dd]=!0,v1("selectionchange",!1,e))}}function Bw(t,e,r,s){switch(tS(e)){case 2:var i=u$;break;case 8:i=d$;break;default:i=Y4}r=i.bind(null,e,r,t),i=void 0,!tx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function y1(t,e,r,s,i){var a=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var l=s.tag;if(l===3||l===4){var c=s.stateNode.containerInfo;if(c===i)break;if(l===4)for(l=s.return;l!==null;){var h=l.tag;if((h===3||h===4)&&l.stateNode.containerInfo===i)return;l=l.return}for(;c!==null;){if(l=sc(c),l===null)return;if(h=l.tag,h===5||h===6||h===26||h===27){s=a=l;continue e}c=c.parentNode}}s=s.return}q8(function(){var u=a,m=h4(r),f=[];e:{var p=r9.get(t);if(p!==void 0){var g=Gf,S=t;switch(t){case"keypress":if(Zd(r)===0)break e;case"keydown":case"keyup":g=MM;break;case"focusin":S="focus",g=Wp;break;case"focusout":S="blur",g=Wp;break;case"beforeblur":case"afterblur":g=Wp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=I5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=vM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=zM;break;case Q8:case J8:case e9:g=jM;break;case t9:g=IM;break;case"scroll":case"scrollend":g=gM;break;case"wheel":g=GM;break;case"copy":case"cut":case"paste":g=SM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=G5;break;case"toggle":case"beforetoggle":g=PM}var N=(e&4)!==0,$=!N&&(t==="scroll"||t==="scrollend"),w=N?p!==null?p+"Capture":null:p;N=[];for(var T=u,A;T!==null;){var I=T;if(A=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||A===null||w===null||(I=zh(T,w),I!=null&&N.push(Bh(T,I,A))),$)break;T=T.return}0<N.length&&(p=new g(p,S,null,r,m),f.push({event:p,listeners:N}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&r!==ex&&(S=r.relatedTarget||r.fromElement)&&(sc(S)||S[r0]))break e;if((g||p)&&(p=m.window===m?m:(p=m.ownerDocument)?p.defaultView||p.parentWindow:window,g?(S=r.relatedTarget||r.toElement,g=u,S=S?sc(S):null,S!==null&&($=uu(S),N=S.tag,S!==$||N!==5&&N!==27&&N!==6)&&(S=null)):(g=null,S=u),g!==S)){if(N=I5,I="onMouseLeave",w="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(N=G5,I="onPointerLeave",w="onPointerEnter",T="pointer"),$=g==null?p:th(g),A=S==null?p:th(S),p=new N(I,T+"leave",g,r,m),p.target=$,p.relatedTarget=A,I=null,sc(m)===u&&(N=new N(w,T+"enter",S,r,m),N.target=A,N.relatedTarget=$,I=N),$=I,g&&S)t:{for(N=O_,w=g,T=S,A=0,I=w;I;I=N(I))A++;I=0;for(var B=T;B;B=N(B))I++;for(;0<A-I;)w=N(w),A--;for(;0<I-A;)T=N(T),I--;for(;A--;){if(w===T||T!==null&&w===T.alternate){N=w;break t}w=N(w),T=N(T)}N=null}else N=null;g!==null&&E6(f,p,g,N,!1),S!==null&&$!==null&&E6(f,$,S,N,!0)}}e:{if(p=u?th(u):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var Q=q5;else if(L5(p))if(K8)Q=XM;else{Q=KM;var D=VM}else g=p.nodeName,!g||g.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?u&&c4(u.elementType)&&(Q=q5):Q=WM;if(Q&&(Q=Q(t,u))){V8(f,Q,r,m);break e}D&&D(t,p,u),t==="focusout"&&u&&p.type==="number"&&u.memoizedProps.value!=null&&Jg(p,"number",p.value)}switch(D=u?th(u):window,t){case"focusin":(L5(D)||D.contentEditable==="true")&&(oc=D,rx=u,uh=null);break;case"focusout":uh=rx=oc=null;break;case"mousedown":nx=!0;break;case"contextmenu":case"mouseup":case"dragend":nx=!1,V5(f,r,m);break;case"selectionchange":if(ZM)break;case"keydown":case"keyup":V5(f,r,m)}var E;if(m4)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else ac?F8(t,r)&&(z="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(z="onCompositionStart");z&&(H8&&r.locale!=="ko"&&(ac||z!=="onCompositionStart"?z==="onCompositionEnd"&&ac&&(E=B8()):(Va=m,u4="value"in Va?Va.value:Va.textContent,ac=!0)),D=Fm(u,z),0<D.length&&(z=new R5(z,t,null,r,m),f.push({event:z,listeners:D}),E?z.data=E:(E=U8(r),E!==null&&(z.data=E)))),(E=qM?BM(t,r):HM(t,r))&&(z=Fm(u,"onBeforeInput"),0<z.length&&(D=new R5("onBeforeInput","beforeinput",null,r,m),f.push({event:D,listeners:z}),D.data=E)),D_(f,t,u,r,m)}qw(f,e)})}function Bh(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Fm(t,e){for(var r=e+"Capture",s=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=zh(t,r),i!=null&&s.unshift(Bh(t,i,a)),i=zh(t,e),i!=null&&s.push(Bh(t,i,a))),t.tag===3)return s;t=t.return}return[]}function O_(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function E6(t,e,r,s,i){for(var a=e._reactName,l=[];r!==null&&r!==s;){var c=r,h=c.alternate,u=c.stateNode;if(c=c.tag,h!==null&&h===s)break;c!==5&&c!==26&&c!==27||u===null||(h=u,i?(u=zh(r,a),u!=null&&l.unshift(Bh(r,u,h))):i||(u=zh(r,a),u!=null&&l.push(Bh(r,u,h)))),r=r.return}l.length!==0&&t.push({event:e,listeners:l})}var P_=/\r\n?/g,L_=/\u0000|\uFFFD/g;function C6(t){return(typeof t=="string"?t:""+t).replace(P_,`
`).replace(L_,"")}function Hw(t,e){return e=C6(e),C6(t)===e}function St(t,e,r,s,i,a){switch(r){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||Pc(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&Pc(t,""+s);break;case"className":id(t,"class",s);break;case"tabIndex":id(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":id(t,r,s);break;case"style":L8(t,s,a);break;case"data":if(e!=="object"){id(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||r!=="href")){t.removeAttribute(r);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(r);break}s=Xd(""+s),t.setAttribute(r,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(r==="formAction"?(e!=="input"&&St(t,e,"name",i.name,i,null),St(t,e,"formEncType",i.formEncType,i,null),St(t,e,"formMethod",i.formMethod,i,null),St(t,e,"formTarget",i.formTarget,i,null)):(St(t,e,"encType",i.encType,i,null),St(t,e,"method",i.method,i,null),St(t,e,"target",i.target,i,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(r);break}s=Xd(""+s),t.setAttribute(r,s);break;case"onClick":s!=null&&(t.onclick=Oi);break;case"onScroll":s!=null&&ot("scroll",t);break;case"onScrollEnd":s!=null&&ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(be(61));if(r=s.__html,r!=null){if(i.children!=null)throw Error(be(60));t.innerHTML=r}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}r=Xd(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(r,""+s):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":s===!0?t.setAttribute(r,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(r,s):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(r,s):t.removeAttribute(r);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(r):t.setAttribute(r,s);break;case"popover":ot("beforetoggle",t),ot("toggle",t),Wd(t,"popover",s);break;case"xlinkActuate":Ai(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Ai(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Ai(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Ai(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Ai(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Ai(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Ai(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Ai(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Ai(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Wd(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=fM.get(r)||r,Wd(t,r,s))}}function Nx(t,e,r,s,i,a){switch(r){case"style":L8(t,s,a);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(be(61));if(r=s.__html,r!=null){if(i.children!=null)throw Error(be(60));t.innerHTML=r}}break;case"children":typeof s=="string"?Pc(t,s):(typeof s=="number"||typeof s=="bigint")&&Pc(t,""+s);break;case"onScroll":s!=null&&ot("scroll",t);break;case"onScrollEnd":s!=null&&ot("scrollend",t);break;case"onClick":s!=null&&(t.onclick=Oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!D8.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(i=r.endsWith("Capture"),e=r.slice(2,i?r.length-7:void 0),a=t[Cn]||null,a=a!=null?a[r]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof s=="function")){typeof a!="function"&&a!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(e,s,i);break e}r in t?t[r]=s:s===!0?t.setAttribute(r,""):Wd(t,r,s)}}}function Zr(t,e,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",t),ot("load",t);var s=!1,i=!1,a;for(a in r)if(r.hasOwnProperty(a)){var l=r[a];if(l!=null)switch(a){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(be(137,e));default:St(t,e,a,l,r,null)}}i&&St(t,e,"srcSet",r.srcSet,r,null),s&&St(t,e,"src",r.src,r,null);return;case"input":ot("invalid",t);var c=a=l=i=null,h=null,u=null;for(s in r)if(r.hasOwnProperty(s)){var m=r[s];if(m!=null)switch(s){case"name":i=m;break;case"type":l=m;break;case"checked":h=m;break;case"defaultChecked":u=m;break;case"value":a=m;break;case"defaultValue":c=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(be(137,e));break;default:St(t,e,s,m,r,null)}}G8(t,a,c,h,u,l,i,!1);return;case"select":ot("invalid",t),s=l=a=null;for(i in r)if(r.hasOwnProperty(i)&&(c=r[i],c!=null))switch(i){case"value":a=c;break;case"defaultValue":l=c;break;case"multiple":s=c;default:St(t,e,i,c,r,null)}e=a,r=l,t.multiple=!!s,e!=null?Sc(t,!!s,e,!1):r!=null&&Sc(t,!!s,r,!0);return;case"textarea":ot("invalid",t),a=i=s=null;for(l in r)if(r.hasOwnProperty(l)&&(c=r[l],c!=null))switch(l){case"value":s=c;break;case"defaultValue":i=c;break;case"children":a=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(be(91));break;default:St(t,e,l,c,r,null)}P8(t,s,i,a);return;case"option":for(h in r)if(r.hasOwnProperty(h)&&(s=r[h],s!=null))switch(h){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:St(t,e,h,s,r,null)}return;case"dialog":ot("beforetoggle",t),ot("toggle",t),ot("cancel",t),ot("close",t);break;case"iframe":case"object":ot("load",t);break;case"video":case"audio":for(s=0;s<qh.length;s++)ot(qh[s],t);break;case"image":ot("error",t),ot("load",t);break;case"details":ot("toggle",t);break;case"embed":case"source":case"link":ot("error",t),ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&(s=r[u],s!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(be(137,e));default:St(t,e,u,s,r,null)}return;default:if(c4(e)){for(m in r)r.hasOwnProperty(m)&&(s=r[m],s!==void 0&&Nx(t,e,m,s,r,void 0));return}}for(c in r)r.hasOwnProperty(c)&&(s=r[c],s!=null&&St(t,e,c,s,r,null))}function q_(t,e,r,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,l=null,c=null,h=null,u=null,m=null;for(g in r){var f=r[g];if(r.hasOwnProperty(g)&&f!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":h=f;default:s.hasOwnProperty(g)||St(t,e,g,null,s,f)}}for(var p in s){var g=s[p];if(f=r[p],s.hasOwnProperty(p)&&(g!=null||f!=null))switch(p){case"type":a=g;break;case"name":i=g;break;case"checked":u=g;break;case"defaultChecked":m=g;break;case"value":l=g;break;case"defaultValue":c=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(be(137,e));break;default:g!==f&&St(t,e,p,g,s,f)}}Qg(t,l,c,h,u,m,a,i);return;case"select":g=l=c=p=null;for(a in r)if(h=r[a],r.hasOwnProperty(a)&&h!=null)switch(a){case"value":break;case"multiple":g=h;default:s.hasOwnProperty(a)||St(t,e,a,null,s,h)}for(i in s)if(a=s[i],h=r[i],s.hasOwnProperty(i)&&(a!=null||h!=null))switch(i){case"value":p=a;break;case"defaultValue":c=a;break;case"multiple":l=a;default:a!==h&&St(t,e,i,a,s,h)}e=c,r=l,s=g,p!=null?Sc(t,!!r,p,!1):!!s!=!!r&&(e!=null?Sc(t,!!r,e,!0):Sc(t,!!r,r?[]:"",!1));return;case"textarea":g=p=null;for(c in r)if(i=r[c],r.hasOwnProperty(c)&&i!=null&&!s.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:St(t,e,c,null,s,i)}for(l in s)if(i=s[l],a=r[l],s.hasOwnProperty(l)&&(i!=null||a!=null))switch(l){case"value":p=i;break;case"defaultValue":g=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(be(91));break;default:i!==a&&St(t,e,l,i,s,a)}O8(t,p,g);return;case"option":for(var S in r)if(p=r[S],r.hasOwnProperty(S)&&p!=null&&!s.hasOwnProperty(S))switch(S){case"selected":t.selected=!1;break;default:St(t,e,S,null,s,p)}for(h in s)if(p=s[h],g=r[h],s.hasOwnProperty(h)&&p!==g&&(p!=null||g!=null))switch(h){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:St(t,e,h,p,s,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var N in r)p=r[N],r.hasOwnProperty(N)&&p!=null&&!s.hasOwnProperty(N)&&St(t,e,N,null,s,p);for(u in s)if(p=s[u],g=r[u],s.hasOwnProperty(u)&&p!==g&&(p!=null||g!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(be(137,e));break;default:St(t,e,u,p,s,g)}return;default:if(c4(e)){for(var $ in r)p=r[$],r.hasOwnProperty($)&&p!==void 0&&!s.hasOwnProperty($)&&Nx(t,e,$,void 0,s,p);for(m in s)p=s[m],g=r[m],!s.hasOwnProperty(m)||p===g||p===void 0&&g===void 0||Nx(t,e,m,p,s,g);return}}for(var w in r)p=r[w],r.hasOwnProperty(w)&&p!=null&&!s.hasOwnProperty(w)&&St(t,e,w,null,s,p);for(f in s)p=s[f],g=r[f],!s.hasOwnProperty(f)||p===g||p==null&&g==null||St(t,e,f,p,s,g)}function M6(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function B_(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,r=performance.getEntriesByType("resource"),s=0;s<r.length;s++){var i=r[s],a=i.transferSize,l=i.initiatorType,c=i.duration;if(a&&c&&M6(l)){for(l=0,c=i.responseEnd,s+=1;s<r.length;s++){var h=r[s],u=h.startTime;if(u>c)break;var m=h.transferSize,f=h.initiatorType;m&&M6(f)&&(h=h.responseEnd,l+=m*(h<c?1:(c-u)/(h-u)))}if(--s,e+=8*(a+l)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Ex=null,Cx=null;function Um(t){return t.nodeType===9?t:t.ownerDocument}function _6(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fw(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Mx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var b1=null;function H_(){var t=window.event;return t&&t.type==="popstate"?t===b1?!1:(b1=t,!0):(b1=null,!1)}var Uw=typeof setTimeout=="function"?setTimeout:void 0,F_=typeof clearTimeout=="function"?clearTimeout:void 0,$6=typeof Promise=="function"?Promise:void 0,U_=typeof queueMicrotask=="function"?queueMicrotask:typeof $6<"u"?function(t){return $6.resolve(null).then(t).catch(V_)}:Uw;function V_(t){setTimeout(function(){throw t})}function $o(t){return t==="head"}function z6(t,e){var r=e,s=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"||r==="/&"){if(s===0){t.removeChild(i),Kc(e);return}s--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")s++;else if(r==="html")jh(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,jh(r);for(var a=r.firstChild;a;){var l=a.nextSibling,c=a.nodeName;a[pu]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&a.rel.toLowerCase()==="stylesheet"||r.removeChild(a),a=l}}else r==="body"&&jh(t.ownerDocument.body);r=i}while(r);Kc(e)}function D6(t,e){var r=t;t=0;do{var s=r.nextSibling;if(r.nodeType===1?e?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(e?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=s}while(r)}function _x(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var r=e;switch(e=e.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":_x(r),l4(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function K_(t,e,r,s){for(;t.nodeType===1;){var i=r;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[pu])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=ms(t.nextSibling),t===null)break}return null}function W_(t,e,r){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=ms(t.nextSibling),t===null))return null;return t}function Vw(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=ms(t.nextSibling),t===null))return null;return t}function $x(t){return t.data==="$?"||t.data==="$~"}function zx(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function X_(t,e){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||r.readyState!=="loading")e();else{var s=function(){e(),r.removeEventListener("DOMContentLoaded",s)};r.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function ms(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Dx=null;function I6(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(e===0)return ms(t.nextSibling);e--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||e++}t=t.nextSibling}return null}function R6(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(e===0)return t;e--}else r!=="/$"&&r!=="/&"||e++}t=t.previousSibling}return null}function Kw(t,e,r){switch(e=Um(r),t){case"html":if(t=e.documentElement,!t)throw Error(be(452));return t;case"head":if(t=e.head,!t)throw Error(be(453));return t;case"body":if(t=e.body,!t)throw Error(be(454));return t;default:throw Error(be(451))}}function jh(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);l4(t)}var ps=new Map,G6=new Set;function Vm(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ma=vt.d;vt.d={f:Y_,r:Z_,D:Q_,C:J_,L:e$,m:t$,X:n$,S:r$,M:s$};function Y_(){var t=ma.f(),e=Wf();return t||e}function Z_(t){var e=n0(t);e!==null&&e.tag===5&&e.type==="form"?L9(e):ma.r(t)}var o0=typeof document>"u"?null:document;function Ww(t,e,r){var s=o0;if(s&&typeof e=="string"&&e){var i=as(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof r=="string"&&(i+='[crossorigin="'+r+'"]'),G6.has(i)||(G6.add(i),t={rel:t,crossOrigin:r,href:e},s.querySelector(i)===null&&(e=s.createElement("link"),Zr(e,"link",t),Lr(e),s.head.appendChild(e)))}}function Q_(t){ma.D(t),Ww("dns-prefetch",t,null)}function J_(t,e){ma.C(t,e),Ww("preconnect",t,e)}function e$(t,e,r){ma.L(t,e,r);var s=o0;if(s&&t&&e){var i='link[rel="preload"][as="'+as(e)+'"]';e==="image"&&r&&r.imageSrcSet?(i+='[imagesrcset="'+as(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(i+='[imagesizes="'+as(r.imageSizes)+'"]')):i+='[href="'+as(t)+'"]';var a=i;switch(e){case"style":a=Vc(t);break;case"script":a=l0(t)}ps.has(a)||(t=Lt({rel:"preload",href:e==="image"&&r&&r.imageSrcSet?void 0:t,as:e},r),ps.set(a,t),s.querySelector(i)!==null||e==="style"&&s.querySelector(ju(a))||e==="script"&&s.querySelector(wu(a))||(e=s.createElement("link"),Zr(e,"link",t),Lr(e),s.head.appendChild(e)))}}function t$(t,e){ma.m(t,e);var r=o0;if(r&&t){var s=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+as(s)+'"][href="'+as(t)+'"]',a=i;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=l0(t)}if(!ps.has(a)&&(t=Lt({rel:"modulepreload",href:t},e),ps.set(a,t),r.querySelector(i)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(wu(a)))return}s=r.createElement("link"),Zr(s,"link",t),Lr(s),r.head.appendChild(s)}}}function r$(t,e,r){ma.S(t,e,r);var s=o0;if(s&&t){var i=wc(s).hoistableStyles,a=Vc(t);e=e||"default";var l=i.get(a);if(!l){var c={loading:0,preload:null};if(l=s.querySelector(ju(a)))c.loading=5;else{t=Lt({rel:"stylesheet",href:t,"data-precedence":e},r),(r=ps.get(a))&&K4(t,r);var h=l=s.createElement("link");Lr(h),Zr(h,"link",t),h._p=new Promise(function(u,m){h.onload=u,h.onerror=m}),h.addEventListener("load",function(){c.loading|=1}),h.addEventListener("error",function(){c.loading|=2}),c.loading|=4,im(l,e,s)}l={type:"stylesheet",instance:l,count:1,state:c},i.set(a,l)}}}function n$(t,e){ma.X(t,e);var r=o0;if(r&&t){var s=wc(r).hoistableScripts,i=l0(t),a=s.get(i);a||(a=r.querySelector(wu(i)),a||(t=Lt({src:t,async:!0},e),(e=ps.get(i))&&W4(t,e),a=r.createElement("script"),Lr(a),Zr(a,"link",t),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},s.set(i,a))}}function s$(t,e){ma.M(t,e);var r=o0;if(r&&t){var s=wc(r).hoistableScripts,i=l0(t),a=s.get(i);a||(a=r.querySelector(wu(i)),a||(t=Lt({src:t,async:!0,type:"module"},e),(e=ps.get(i))&&W4(t,e),a=r.createElement("script"),Lr(a),Zr(a,"link",t),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},s.set(i,a))}}function O6(t,e,r,s){var i=(i=eo.current)?Vm(i):null;if(!i)throw Error(be(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(e=Vc(r.href),r=wc(i).hoistableStyles,s=r.get(e),s||(s={type:"style",instance:null,count:0,state:null},r.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=Vc(r.href);var a=wc(i).hoistableStyles,l=a.get(t);if(l||(i=i.ownerDocument||i,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,l),(a=i.querySelector(ju(t)))&&!a._p&&(l.instance=a,l.state.loading=5),ps.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},ps.set(t,r),a||i$(i,t,r,l.state))),e&&s===null)throw Error(be(528,""));return l}if(e&&s!==null)throw Error(be(529,""));return null;case"script":return e=r.async,r=r.src,typeof r=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=l0(r),r=wc(i).hoistableScripts,s=r.get(e),s||(s={type:"script",instance:null,count:0,state:null},r.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(be(444,t))}}function Vc(t){return'href="'+as(t)+'"'}function ju(t){return'link[rel="stylesheet"]['+t+"]"}function Xw(t){return Lt({},t,{"data-precedence":t.precedence,precedence:null})}function i$(t,e,r,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),Zr(e,"link",r),Lr(e),t.head.appendChild(e))}function l0(t){return'[src="'+as(t)+'"]'}function wu(t){return"script[async]"+t}function P6(t,e,r){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+as(r.href)+'"]');if(s)return e.instance=s,Lr(s),s;var i=Lt({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),Lr(s),Zr(s,"style",i),im(s,r.precedence,t),e.instance=s;case"stylesheet":i=Vc(r.href);var a=t.querySelector(ju(i));if(a)return e.state.loading|=4,e.instance=a,Lr(a),a;s=Xw(r),(i=ps.get(i))&&K4(s,i),a=(t.ownerDocument||t).createElement("link"),Lr(a);var l=a;return l._p=new Promise(function(c,h){l.onload=c,l.onerror=h}),Zr(a,"link",s),e.state.loading|=4,im(a,r.precedence,t),e.instance=a;case"script":return a=l0(r.src),(i=t.querySelector(wu(a)))?(e.instance=i,Lr(i),i):(s=r,(i=ps.get(a))&&(s=Lt({},r),W4(s,i)),t=t.ownerDocument||t,i=t.createElement("script"),Lr(i),Zr(i,"link",s),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(be(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,im(s,r.precedence,t));return e.instance}function im(t,e,r){for(var s=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=s.length?s[s.length-1]:null,a=i,l=0;l<s.length;l++){var c=s[l];if(c.dataset.precedence===e)a=c;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=r.nodeType===9?r.head:r,e.insertBefore(t,e.firstChild))}function K4(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function W4(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var am=null;function L6(t,e,r){if(am===null){var s=new Map,i=am=new Map;i.set(r,s)}else i=am,s=i.get(r),s||(s=new Map,i.set(r,s));if(s.has(t))return s;for(s.set(t,null),r=r.getElementsByTagName(t),i=0;i<r.length;i++){var a=r[i];if(!(a[pu]||a[Wr]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var l=a.getAttribute(e)||"";l=t+l;var c=s.get(l);c?c.push(a):s.set(l,[a])}}return s}function q6(t,e,r){t=t.ownerDocument||t,t.head.insertBefore(r,e==="title"?t.querySelector("head > title"):null)}function a$(t,e,r){if(r===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Yw(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function o$(t,e,r,s){if(r.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var i=Vc(s.href),a=e.querySelector(ju(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Km.bind(t),e.then(t,t)),r.state.loading|=4,r.instance=a,Lr(a);return}a=e.ownerDocument||e,s=Xw(s),(i=ps.get(i))&&K4(s,i),a=a.createElement("link"),Lr(a);var l=a;l._p=new Promise(function(c,h){l.onload=c,l.onerror=h}),Zr(a,"link",s),r.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,e),(e=r.state.preload)&&!(r.state.loading&3)&&(t.count++,r=Km.bind(t),e.addEventListener("load",r),e.addEventListener("error",r))}}var j1=0;function l$(t,e){return t.stylesheets&&t.count===0&&om(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var s=setTimeout(function(){if(t.stylesheets&&om(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&j1===0&&(j1=62500*B_());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&om(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>j1?50:800)+e);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(i)}}:null}function Km(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)om(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Wm=null;function om(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Wm=new Map,e.forEach(c$,t),Wm=null,Km.call(t))}function c$(t,e){if(!(e.state.loading&4)){var r=Wm.get(t);if(r)var s=r.get(null);else{r=new Map,Wm.set(t,r);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var l=i[a];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(r.set(l.dataset.precedence,l),s=l)}s&&r.set(null,s)}i=e.instance,l=i.getAttribute("data-precedence"),a=r.get(l)||s,a===s&&r.set(null,i),r.set(l,i),this.count++,s=Km.bind(this),i.addEventListener("load",s),i.addEventListener("error",s),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var Hh={$$typeof:Gi,Provider:null,Consumer:null,_currentValue:pl,_currentValue2:pl,_threadCount:0};function h$(t,e,r,s,i,a,l,c,h){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fp(0),this.hiddenUpdates=Fp(null),this.identifierPrefix=s,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=h,this.incompleteTransitions=new Map}function Zw(t,e,r,s,i,a,l,c,h,u,m,f){return t=new h$(t,e,r,l,h,u,m,f,c),e=1,a===!0&&(e|=24),a=On(3,null,null,e),t.current=a,a.stateNode=t,e=b4(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:s,isDehydrated:r,cache:e},S4(a),t}function Qw(t){return t?(t=hc,t):hc}function Jw(t,e,r,s,i,a){i=Qw(i),s.context===null?s.context=i:s.pendingContext=i,s=ro(e),s.payload={element:r},a=a===void 0?null:a,a!==null&&(s.callback=a),r=no(t,s,e),r!==null&&(En(r,t,e),mh(r,t,e))}function B6(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function X4(t,e){B6(t,e),(t=t.alternate)&&B6(t,e)}function eS(t){if(t.tag===13||t.tag===31){var e=zl(t,67108864);e!==null&&En(e,t,67108864),X4(t,67108864)}}function H6(t){if(t.tag===13||t.tag===31){var e=Un();e=a4(e);var r=zl(t,e);r!==null&&En(r,t,e),X4(t,e)}}var Xm=!0;function u$(t,e,r,s){var i=et.T;et.T=null;var a=vt.p;try{vt.p=2,Y4(t,e,r,s)}finally{vt.p=a,et.T=i}}function d$(t,e,r,s){var i=et.T;et.T=null;var a=vt.p;try{vt.p=8,Y4(t,e,r,s)}finally{vt.p=a,et.T=i}}function Y4(t,e,r,s){if(Xm){var i=Ix(s);if(i===null)y1(t,e,s,Ym,r),F6(t,s);else if(f$(i,t,e,r,s))s.stopPropagation();else if(F6(t,s),e&4&&-1<m$.indexOf(t)){for(;i!==null;){var a=n0(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var l=nl(a.pendingLanes);if(l!==0){var c=a;for(c.pendingLanes|=2,c.entangledLanes|=2;l;){var h=1<<31-Fn(l);c.entanglements[1]|=h,l&=~h}li(a),!(xt&6)&&(Pm=Bn()+500,bu(0))}}break;case 31:case 13:c=zl(a,2),c!==null&&En(c,a,2),Wf(),X4(a,2)}if(a=Ix(s),a===null&&y1(t,e,s,Ym,r),a===i)break;i=a}i!==null&&s.stopPropagation()}else y1(t,e,s,null,r)}}function Ix(t){return t=h4(t),Z4(t)}var Ym=null;function Z4(t){if(Ym=null,t=sc(t),t!==null){var e=uu(t);if(e===null)t=null;else{var r=e.tag;if(r===13){if(t=b8(e),t!==null)return t;t=null}else if(r===31){if(t=j8(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Ym=t,null}function tS(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(QC()){case k8:return 2;case A8:return 8;case km:case JC:return 32;case N8:return 268435456;default:return 32}default:return 32}}var Rx=!1,ao=null,oo=null,lo=null,Fh=new Map,Uh=new Map,La=[],m$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F6(t,e){switch(t){case"focusin":case"focusout":ao=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":Fh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Uh.delete(e.pointerId)}}function U0(t,e,r,s,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:r,eventSystemFlags:s,nativeEvent:a,targetContainers:[i]},e!==null&&(e=n0(e),e!==null&&eS(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function f$(t,e,r,s,i){switch(e){case"focusin":return ao=U0(ao,t,e,r,s,i),!0;case"dragenter":return oo=U0(oo,t,e,r,s,i),!0;case"mouseover":return lo=U0(lo,t,e,r,s,i),!0;case"pointerover":var a=i.pointerId;return Fh.set(a,U0(Fh.get(a)||null,t,e,r,s,i)),!0;case"gotpointercapture":return a=i.pointerId,Uh.set(a,U0(Uh.get(a)||null,t,e,r,s,i)),!0}return!1}function rS(t){var e=sc(t.target);if(e!==null){var r=uu(e);if(r!==null){if(e=r.tag,e===13){if(e=b8(r),e!==null){t.blockedOn=e,E5(t.priority,function(){H6(r)});return}}else if(e===31){if(e=j8(r),e!==null){t.blockedOn=e,E5(t.priority,function(){H6(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lm(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ix(t.nativeEvent);if(r===null){r=t.nativeEvent;var s=new r.constructor(r.type,r);ex=s,r.target.dispatchEvent(s),ex=null}else return e=n0(r),e!==null&&eS(e),t.blockedOn=r,!1;e.shift()}return!0}function U6(t,e,r){lm(t)&&r.delete(e)}function p$(){Rx=!1,ao!==null&&lm(ao)&&(ao=null),oo!==null&&lm(oo)&&(oo=null),lo!==null&&lm(lo)&&(lo=null),Fh.forEach(U6),Uh.forEach(U6)}function md(t,e){t.blockedOn===e&&(t.blockedOn=null,Rx||(Rx=!0,$r.unstable_scheduleCallback($r.unstable_NormalPriority,p$)))}var fd=null;function V6(t){fd!==t&&(fd=t,$r.unstable_scheduleCallback($r.unstable_NormalPriority,function(){fd===t&&(fd=null);for(var e=0;e<t.length;e+=3){var r=t[e],s=t[e+1],i=t[e+2];if(typeof s!="function"){if(Z4(s||r)===null)continue;break}var a=n0(r);a!==null&&(t.splice(e,3),e-=3,gx(a,{pending:!0,data:i,method:r.method,action:s},s,i))}}))}function Kc(t){function e(h){return md(h,t)}ao!==null&&md(ao,t),oo!==null&&md(oo,t),lo!==null&&md(lo,t),Fh.forEach(e),Uh.forEach(e);for(var r=0;r<La.length;r++){var s=La[r];s.blockedOn===t&&(s.blockedOn=null)}for(;0<La.length&&(r=La[0],r.blockedOn===null);)rS(r),r.blockedOn===null&&La.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(s=0;s<r.length;s+=3){var i=r[s],a=r[s+1],l=i[Cn]||null;if(typeof a=="function")l||V6(r);else if(l){var c=null;if(a&&a.hasAttribute("formAction")){if(i=a,l=a[Cn]||null)c=l.formAction;else if(Z4(i)!==null)continue}else c=l.action;typeof c=="function"?r[s+1]=c:(r.splice(s,3),s-=3),V6(r)}}}function nS(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(l){return i=l})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),s||setTimeout(r,20)}function r(){if(!s&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(r,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function Q4(t){this._internalRoot=t}Zf.prototype.render=Q4.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(be(409));var r=e.current,s=Un();Jw(r,s,t,e,null,null)};Zf.prototype.unmount=Q4.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Jw(t.current,2,null,t,null,null),Wf(),e[r0]=null}};function Zf(t){this._internalRoot=t}Zf.prototype.unstable_scheduleHydration=function(t){if(t){var e=$8();t={blockedOn:null,target:t,priority:e};for(var r=0;r<La.length&&e!==0&&e<La[r].priority;r++);La.splice(r,0,t),r===0&&rS(t)}};var K6=v8.version;if(K6!=="19.2.3")throw Error(be(527,K6,"19.2.3"));vt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(be(188)):(t=Object.keys(t).join(","),Error(be(268,t)));return t=UC(e),t=t!==null?w8(t):null,t=t===null?null:t.stateNode,t};var g$={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:et,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{du=pd.inject(g$),Hn=pd}catch{}}Df.createRoot=function(t,e){if(!y8(t))throw Error(be(299));var r=!1,s="",i=W9,a=X9,l=Y9;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(l=e.onRecoverableError)),e=Zw(t,1,!1,null,null,r,s,null,i,a,l,nS),t[r0]=e.current,V4(t),new Q4(e)};Df.hydrateRoot=function(t,e,r){if(!y8(t))throw Error(be(299));var s=!1,i="",a=W9,l=X9,c=Y9,h=null;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onUncaughtError!==void 0&&(a=r.onUncaughtError),r.onCaughtError!==void 0&&(l=r.onCaughtError),r.onRecoverableError!==void 0&&(c=r.onRecoverableError),r.formState!==void 0&&(h=r.formState)),e=Zw(t,1,!0,e,r??null,s,i,h,a,l,c,nS),e.context=Qw(null),r=e.current,s=Un(),s=a4(s),i=ro(s),i.callback=null,no(r,i,s),r=s,e.current.lanes=r,fu(e,r),li(e),t[r0]=e.current,V4(t),new Zf(e)};Df.version="19.2.3";function sS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sS)}catch(t){console.error(t)}}sS(),d8.exports=Df;var x$=d8.exports;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Vh.apply(this,arguments)}var Ya;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ya||(Ya={}));const W6="popstate";function v$(t){t===void 0&&(t={});function e(i,a){let{pathname:l="/",search:c="",hash:h=""}=Il(i.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Gx("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(i,a){let l=i.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let h=i.location.href,u=h.indexOf("#");c=u===-1?h:h.slice(0,u)}return c+"#"+(typeof a=="string"?a:Zm(a))}function s(i,a){Qf(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return b$(e,r,s,t)}function cr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function y$(){return Math.random().toString(36).substr(2,8)}function X6(t,e){return{usr:t.state,key:t.key,idx:e}}function Gx(t,e,r,s){return r===void 0&&(r=null),Vh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Il(e):e,{state:r,key:e&&e.key||s||y$()})}function Zm(t){let{pathname:e="/",search:r="",hash:s=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Il(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function b$(t,e,r,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:a=!1}=s,l=i.history,c=Ya.Pop,h=null,u=m();u==null&&(u=0,l.replaceState(Vh({},l.state,{idx:u}),""));function m(){return(l.state||{idx:null}).idx}function f(){c=Ya.Pop;let $=m(),w=$==null?null:$-u;u=$,h&&h({action:c,location:N.location,delta:w})}function p($,w){c=Ya.Push;let T=Gx(N.location,$,w);r&&r(T,$),u=m()+1;let A=X6(T,u),I=N.createHref(T);try{l.pushState(A,"",I)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(I)}a&&h&&h({action:c,location:N.location,delta:1})}function g($,w){c=Ya.Replace;let T=Gx(N.location,$,w);r&&r(T,$),u=m();let A=X6(T,u),I=N.createHref(T);l.replaceState(A,"",I),a&&h&&h({action:c,location:N.location,delta:0})}function S($){let w=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof $=="string"?$:Zm($);return T=T.replace(/ $/,"%20"),cr(w,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,w)}let N={get action(){return c},get location(){return t(i,l)},listen($){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(W6,f),h=$,()=>{i.removeEventListener(W6,f),h=null}},createHref($){return e(i,$)},createURL:S,encodeLocation($){let w=S($);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:g,go($){return l.go($)}};return N}var Y6;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Y6||(Y6={}));function j$(t,e,r){return r===void 0&&(r="/"),w$(t,e,r)}function w$(t,e,r,s){let i=typeof e=="string"?Il(e):e,a=Wc(i.pathname||"/",r);if(a==null)return null;let l=iS(t);S$(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let u=D$(a);c=$$(l[h],u)}return c}function iS(t,e,r,s){e===void 0&&(e=[]),r===void 0&&(r=[]),s===void 0&&(s="");let i=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(cr(h.relativePath.startsWith(s),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(s.length));let u=co([s,h.relativePath]),m=r.concat(h);a.children&&a.children.length>0&&(cr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),iS(a.children,e,m,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:M$(u,a.index),routesMeta:m})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,l);else for(let h of aS(a.path))i(a,l,h)}),e}function aS(t){let e=t.split("/");if(e.length===0)return[];let[r,...s]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(s.length===0)return i?[a,""]:[a];let l=aS(s.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),i&&c.push(...l),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function S$(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:_$(e.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const T$=/^:[\w-]+$/,k$=3,A$=2,N$=1,E$=10,C$=-2,Z6=t=>t==="*";function M$(t,e){let r=t.split("/"),s=r.length;return r.some(Z6)&&(s+=C$),e&&(s+=A$),r.filter(i=>!Z6(i)).reduce((i,a)=>i+(T$.test(a)?k$:a===""?N$:E$),s)}function _$(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function $$(t,e,r){let{routesMeta:s}=t,i={},a="/",l=[];for(let c=0;c<s.length;++c){let h=s[c],u=c===s.length-1,m=a==="/"?e:e.slice(a.length)||"/",f=Ox({path:h.relativePath,caseSensitive:h.caseSensitive,end:u},m),p=h.route;if(!f)return null;Object.assign(i,f.params),l.push({params:i,pathname:co([a,f.pathname]),pathnameBase:P$(co([a,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(a=co([a,f.pathnameBase]))}return l}function Ox(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,s]=z$(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:s.reduce((u,m,f)=>{let{paramName:p,isOptional:g}=m;if(p==="*"){let N=c[f]||"";l=a.slice(0,a.length-N.length).replace(/(.)\/+$/,"$1")}const S=c[f];return g&&!S?u[p]=void 0:u[p]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:l,pattern:t}}function z$(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Qf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(s.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function D$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Wc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,s=t.charAt(r);return s&&s!=="/"?null:t.slice(r)||"/"}const I$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R$=t=>I$.test(t);function G$(t,e){e===void 0&&(e="/");let{pathname:r,search:s="",hash:i=""}=typeof t=="string"?Il(t):t,a;if(r)if(R$(r))a=r;else{if(r.includes("//")){let l=r;r=r.replace(/\/\/+/g,"/"),Qf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+r))}r.startsWith("/")?a=Q6(r.substring(1),"/"):a=Q6(r,e)}else a=e;return{pathname:a,search:L$(s),hash:q$(i)}}function Q6(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function w1(t,e,r,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function O$(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function oS(t,e){let r=O$(t);return e?r.map((s,i)=>i===r.length-1?s.pathname:s.pathnameBase):r.map(s=>s.pathnameBase)}function lS(t,e,r,s){s===void 0&&(s=!1);let i;typeof t=="string"?i=Il(t):(i=Vh({},t),cr(!i.pathname||!i.pathname.includes("?"),w1("?","pathname","search",i)),cr(!i.pathname||!i.pathname.includes("#"),w1("#","pathname","hash",i)),cr(!i.search||!i.search.includes("#"),w1("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,c;if(l==null)c=r;else{let f=e.length-1;if(!s&&l.startsWith("..")){let p=l.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}c=f>=0?e[f]:"/"}let h=G$(i,c),u=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(u||m)&&(h.pathname+="/"),h}const co=t=>t.join("/").replace(/\/\/+/g,"/"),P$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),L$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,q$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function B$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const cS=["post","put","patch","delete"];new Set(cS);const H$=["get",...cS];new Set(H$);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Kh.apply(this,arguments)}const Jf=_.createContext(null),hS=_.createContext(null),zo=_.createContext(null),ep=_.createContext(null),Do=_.createContext({outlet:null,matches:[],isDataRoute:!1}),uS=_.createContext(null);function F$(t,e){let{relative:r}=e===void 0?{}:e;Su()||cr(!1);let{basename:s,navigator:i}=_.useContext(zo),{hash:a,pathname:l,search:c}=tp(t,{relative:r}),h=l;return s!=="/"&&(h=l==="/"?s:co([s,l])),i.createHref({pathname:h,search:c,hash:a})}function Su(){return _.useContext(ep)!=null}function Tu(){return Su()||cr(!1),_.useContext(ep).location}function dS(t){_.useContext(zo).static||_.useLayoutEffect(t)}function U$(){let{isDataRoute:t}=_.useContext(Do);return t?sz():V$()}function V$(){Su()||cr(!1);let t=_.useContext(Jf),{basename:e,future:r,navigator:s}=_.useContext(zo),{matches:i}=_.useContext(Do),{pathname:a}=Tu(),l=JSON.stringify(oS(i,r.v7_relativeSplatPath)),c=_.useRef(!1);return dS(()=>{c.current=!0}),_.useCallback(function(u,m){if(m===void 0&&(m={}),!c.current)return;if(typeof u=="number"){s.go(u);return}let f=lS(u,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:co([e,f.pathname])),(m.replace?s.replace:s.push)(f,m.state,m)},[e,s,l,a,t])}function mS(){let{matches:t}=_.useContext(Do),e=t[t.length-1];return e?e.params:{}}function tp(t,e){let{relative:r}=e===void 0?{}:e,{future:s}=_.useContext(zo),{matches:i}=_.useContext(Do),{pathname:a}=Tu(),l=JSON.stringify(oS(i,s.v7_relativeSplatPath));return _.useMemo(()=>lS(t,JSON.parse(l),a,r==="path"),[t,l,a,r])}function K$(t,e){return W$(t,e)}function W$(t,e,r,s){Su()||cr(!1);let{navigator:i}=_.useContext(zo),{matches:a}=_.useContext(Do),l=a[a.length-1],c=l?l.params:{};l&&l.pathname;let h=l?l.pathnameBase:"/";l&&l.route;let u=Tu(),m;if(e){var f;let $=typeof e=="string"?Il(e):e;h==="/"||(f=$.pathname)!=null&&f.startsWith(h)||cr(!1),m=$}else m=u;let p=m.pathname||"/",g=p;if(h!=="/"){let $=h.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice($.length).join("/")}let S=j$(t,{pathname:g}),N=J$(S&&S.map($=>Object.assign({},$,{params:Object.assign({},c,$.params),pathname:co([h,i.encodeLocation?i.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?h:co([h,i.encodeLocation?i.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),a,r,s);return e&&N?_.createElement(ep.Provider,{value:{location:Kh({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Ya.Pop}},N):N}function X$(){let t=nz(),e=B$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),r?_.createElement("pre",{style:i},r):null,null)}const Y$=_.createElement(X$,null);class Z$ extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?_.createElement(Do.Provider,{value:this.props.routeContext},_.createElement(uS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Q$(t){let{routeContext:e,match:r,children:s}=t,i=_.useContext(Jf);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(Do.Provider,{value:e},s)}function J$(t,e,r,s){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),s===void 0&&(s=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=s)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,c=(i=r)==null?void 0:i.errors;if(c!=null){let m=l.findIndex(f=>f.route.id&&(c==null?void 0:c[f.route.id])!==void 0);m>=0||cr(!1),l=l.slice(0,Math.min(l.length,m+1))}let h=!1,u=-1;if(r&&s&&s.v7_partialHydration)for(let m=0;m<l.length;m++){let f=l[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=m),f.route.id){let{loaderData:p,errors:g}=r,S=f.route.loader&&p[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||S){h=!0,u>=0?l=l.slice(0,u+1):l=[l[0]];break}}}return l.reduceRight((m,f,p)=>{let g,S=!1,N=null,$=null;r&&(g=c&&f.route.id?c[f.route.id]:void 0,N=f.route.errorElement||Y$,h&&(u<0&&p===0?(iz("route-fallback"),S=!0,$=null):u===p&&(S=!0,$=f.route.hydrateFallbackElement||null)));let w=e.concat(l.slice(0,p+1)),T=()=>{let A;return g?A=N:S?A=$:f.route.Component?A=_.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=m,_.createElement(Q$,{match:f,routeContext:{outlet:m,matches:w,isDataRoute:r!=null},children:A})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?_.createElement(Z$,{location:r.location,revalidation:r.revalidation,component:N,error:g,children:T(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):T()},null)}var fS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(fS||{}),pS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(pS||{});function ez(t){let e=_.useContext(Jf);return e||cr(!1),e}function tz(t){let e=_.useContext(hS);return e||cr(!1),e}function rz(t){let e=_.useContext(Do);return e||cr(!1),e}function gS(t){let e=rz(),r=e.matches[e.matches.length-1];return r.route.id||cr(!1),r.route.id}function nz(){var t;let e=_.useContext(uS),r=tz(),s=gS();return e!==void 0?e:(t=r.errors)==null?void 0:t[s]}function sz(){let{router:t}=ez(fS.UseNavigateStable),e=gS(pS.UseNavigateStable),r=_.useRef(!1);return dS(()=>{r.current=!0}),_.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Kh({fromRouteId:e},a)))},[t,e])}const J6={};function iz(t,e,r){J6[t]||(J6[t]=!0)}function az(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function za(t){cr(!1)}function oz(t){let{basename:e="/",children:r=null,location:s,navigationType:i=Ya.Pop,navigator:a,static:l=!1,future:c}=t;Su()&&cr(!1);let h=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:h,navigator:a,static:l,future:Kh({v7_relativeSplatPath:!1},c)}),[h,c,a,l]);typeof s=="string"&&(s=Il(s));let{pathname:m="/",search:f="",hash:p="",state:g=null,key:S="default"}=s,N=_.useMemo(()=>{let $=Wc(m,h);return $==null?null:{location:{pathname:$,search:f,hash:p,state:g,key:S},navigationType:i}},[h,m,f,p,g,S,i]);return N==null?null:_.createElement(zo.Provider,{value:u},_.createElement(ep.Provider,{children:r,value:N}))}function lz(t){let{children:e,location:r}=t;return K$(Px(e),r)}new Promise(()=>{});function Px(t,e){e===void 0&&(e=[]);let r=[];return _.Children.forEach(t,(s,i)=>{if(!_.isValidElement(s))return;let a=[...e,i];if(s.type===_.Fragment){r.push.apply(r,Px(s.props.children,a));return}s.type!==za&&cr(!1),!s.props.index||!s.props.children||cr(!1);let l={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=Px(s.props.children,a)),r.push(l)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qm(){return Qm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Qm.apply(this,arguments)}function xS(t,e){if(t==null)return{};var r={},s=Object.keys(t),i,a;for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function cz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hz(t,e){return t.button===0&&(!e||e==="_self")&&!cz(t)}const uz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],dz=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],mz="6";try{window.__reactRouterVersion=mz}catch{}const fz=_.createContext({isTransitioning:!1}),pz="startTransition",ey=OC[pz];function gz(t){let{basename:e,children:r,future:s,window:i}=t,a=_.useRef();a.current==null&&(a.current=v$({window:i,v5Compat:!0}));let l=a.current,[c,h]=_.useState({action:l.action,location:l.location}),{v7_startTransition:u}=s||{},m=_.useCallback(f=>{u&&ey?ey(()=>h(f)):h(f)},[h,u]);return _.useLayoutEffect(()=>l.listen(m),[l,m]),_.useEffect(()=>az(s),[s]),_.createElement(oz,{basename:e,children:r,location:c.location,navigationType:c.action,navigator:l,future:s})}const xz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cr=_.forwardRef(function(e,r){let{onClick:s,relative:i,reloadDocument:a,replace:l,state:c,target:h,to:u,preventScrollReset:m,viewTransition:f}=e,p=xS(e,uz),{basename:g}=_.useContext(zo),S,N=!1;if(typeof u=="string"&&vz.test(u)&&(S=u,xz))try{let A=new URL(window.location.href),I=u.startsWith("//")?new URL(A.protocol+u):new URL(u),B=Wc(I.pathname,g);I.origin===A.origin&&B!=null?u=B+I.search+I.hash:N=!0}catch{}let $=F$(u,{relative:i}),w=bz(u,{replace:l,state:c,target:h,preventScrollReset:m,relative:i,viewTransition:f});function T(A){s&&s(A),A.defaultPrevented||w(A)}return _.createElement("a",Qm({},p,{href:S||$,onClick:N||a?s:T,ref:r,target:h}))}),S1=_.forwardRef(function(e,r){let{"aria-current":s="page",caseSensitive:i=!1,className:a="",end:l=!1,style:c,to:h,viewTransition:u,children:m}=e,f=xS(e,dz),p=tp(h,{relative:f.relative}),g=Tu(),S=_.useContext(hS),{navigator:N,basename:$}=_.useContext(zo),w=S!=null&&jz(p)&&u===!0,T=N.encodeLocation?N.encodeLocation(p).pathname:p.pathname,A=g.pathname,I=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(A=A.toLowerCase(),I=I?I.toLowerCase():null,T=T.toLowerCase()),I&&$&&(I=Wc(I,$)||I);const B=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let Q=A===T||!l&&A.startsWith(T)&&A.charAt(B)==="/",D=I!=null&&(I===T||!l&&I.startsWith(T)&&I.charAt(T.length)==="/"),E={isActive:Q,isPending:D,isTransitioning:w},z=Q?s:void 0,O;typeof a=="function"?O=a(E):O=[a,Q?"active":null,D?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let L=typeof c=="function"?c(E):c;return _.createElement(Cr,Qm({},f,{"aria-current":z,className:O,ref:r,style:L,to:h,viewTransition:u}),typeof m=="function"?m(E):m)});var Lx;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Lx||(Lx={}));var ty;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ty||(ty={}));function yz(t){let e=_.useContext(Jf);return e||cr(!1),e}function bz(t,e){let{target:r,replace:s,state:i,preventScrollReset:a,relative:l,viewTransition:c}=e===void 0?{}:e,h=U$(),u=Tu(),m=tp(t,{relative:l});return _.useCallback(f=>{if(hz(f,r)){f.preventDefault();let p=s!==void 0?s:Zm(u)===Zm(m);h(t,{replace:p,state:i,preventScrollReset:a,relative:l,viewTransition:c})}},[u,h,m,s,i,r,t,a,l,c])}function jz(t,e){e===void 0&&(e={});let r=_.useContext(fz);r==null&&cr(!1);let{basename:s}=yz(Lx.useViewTransitionState),i=tp(t,{relative:e.relative});if(!r.isTransitioning)return!1;let a=Wc(r.currentLocation.pathname,s)||r.currentLocation.pathname,l=Wc(r.nextLocation.pathname,s)||r.nextLocation.pathname;return Ox(i.pathname,l)!=null||Ox(i.pathname,a)!=null}const Wh="west-graphs",J4="Introduction to Graph Theory",wz="An interactive course based on Douglas B. West's Introduction to Graph Theory",vS="",Sz="https://mathacademy-cyan.vercel.app";var ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=function(t){const e=[];let r=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},Tz=function(t){const e=[];let r=0,s=0;for(;r<t.length;){const i=t[r++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[s++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],l=t[r++],c=t[r++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[s++]=String.fromCharCode(55296+(h>>10)),e[s++]=String.fromCharCode(56320+(h&1023))}else{const a=t[r++],l=t[r++];e[s++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},bS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,c=l?t[i+1]:0,h=i+2<t.length,u=h?t[i+2]:0,m=a>>2,f=(a&3)<<4|c>>4;let p=(c&15)<<2|u>>6,g=u&63;h||(g=64,l||(p=64)),s.push(r[m],r[f],r[p],r[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Tz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],c=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||c==null||u==null||f==null)throw new kz;const p=a<<2|c>>4;if(s.push(p),u!==64){const g=c<<4&240|u>>2;if(s.push(g),f!==64){const S=u<<6&192|f;s.push(S)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Az=function(t){const e=yS(t);return bS.encodeByteArray(e,!0)},jS=function(t){return Az(t).replace(/\./g,"")},wS=function(t){try{return bS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez=()=>Nz().__FIREBASE_DEFAULTS__,Cz=()=>{if(typeof process>"u"||typeof ry>"u")return;const t=ry.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Mz=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wS(t[1]);return e&&JSON.parse(e)},ev=()=>{try{return Ez()||Cz()||Mz()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SS=t=>{var e,r;return(r=(e=ev())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},_z=t=>{const e=SS(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},TS=()=>{var t;return(t=ev())===null||t===void 0?void 0:t.config},kS=t=>{var e;return(e=ev())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zz(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function Dz(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Iz(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Rz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Gz(){const t=mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Oz(){try{return typeof indexedDB=="object"}catch{return!1}}function Pz(){return new Promise((t,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz="FirebaseError";class ci extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=Lz,Object.setPrototypeOf(this,ci.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ku.prototype.create)}}class ku{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?qz(a,s):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new ci(i,c,s)}}function qz(t,e){return t.replace(Bz,(r,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const Bz=/\{\$([^}]+)}/g;function Hz(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Jm(t,e){if(t===e)return!0;const r=Object.keys(t),s=Object.keys(e);for(const i of r){if(!s.includes(i))return!1;const a=t[i],l=e[i];if(ny(a)&&ny(l)){if(!Jm(a,l))return!1}else if(a!==l)return!1}for(const i of s)if(!r.includes(i))return!1;return!0}function ny(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t){const e=[];for(const[r,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Fz(t,e){const r=new Uz(t,e);return r.subscribe.bind(r)}class Uz{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,s){let i;if(e===void 0&&r===void 0&&s===void 0)throw new Error("Missing Observer.");Vz(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:s},i.next===void 0&&(i.next=T1),i.error===void 0&&(i.error=T1),i.complete===void 0&&(i.complete=T1);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Vz(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function T1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qs(t){return t&&t._delegate?t._delegate:t}class bo{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const al="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new $z;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xz(e))try{this.getOrInitializeService({instanceIdentifier:al})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});s.resolve(a)}catch{}}}}clearInstance(e=al){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=al){return this.instances.has(e)}getOptions(e=al){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);s===c&&l.resolve(i)}return i}onInit(e,r){var s;const i=this.normalizeInstanceIdentifier(r),a=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const i of s)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Wz(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=al){return this.component?this.component.multipleInstances?e:al:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wz(t){return t===al?void 0:t}function Xz(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Kz(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(jt||(jt={}));const Zz={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},Qz=jt.INFO,Jz={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},eD=(t,e,...r)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=Jz[e];if(i)console[i](`[${s}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tv{constructor(e){this.name=e,this._logLevel=Qz,this._logHandler=eD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in jt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...e),this._logHandler(this,jt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...e),this._logHandler(this,jt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...e),this._logHandler(this,jt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...e),this._logHandler(this,jt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...e),this._logHandler(this,jt.ERROR,...e)}}const tD=(t,e)=>e.some(r=>t instanceof r);let sy,iy;function rD(){return sy||(sy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nD(){return iy||(iy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const AS=new WeakMap,qx=new WeakMap,NS=new WeakMap,k1=new WeakMap,rv=new WeakMap;function sD(t){const e=new Promise((r,s)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{r(ho(t.result)),i()},l=()=>{s(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(r=>{r instanceof IDBCursor&&AS.set(r,t)}).catch(()=>{}),rv.set(e,t),e}function iD(t){if(qx.has(t))return;const e=new Promise((r,s)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{r(),i()},l=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});qx.set(t,e)}let Bx={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return qx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NS.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ho(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aD(t){Bx=t(Bx)}function oD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=t.call(A1(this),e,...r);return NS.set(s,e.sort?e.sort():[e]),ho(s)}:nD().includes(t)?function(...e){return t.apply(A1(this),e),ho(AS.get(this))}:function(...e){return ho(t.apply(A1(this),e))}}function lD(t){return typeof t=="function"?oD(t):(t instanceof IDBTransaction&&iD(t),tD(t,rD())?new Proxy(t,Bx):t)}function ho(t){if(t instanceof IDBRequest)return sD(t);if(k1.has(t))return k1.get(t);const e=lD(t);return e!==t&&(k1.set(t,e),rv.set(e,t)),e}const A1=t=>rv.get(t);function cD(t,e,{blocked:r,upgrade:s,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),c=ho(l);return s&&l.addEventListener("upgradeneeded",h=>{s(ho(l.result),h.oldVersion,h.newVersion,ho(l.transaction),h)}),r&&l.addEventListener("blocked",h=>r(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const hD=["get","getKey","getAll","getAllKeys","count"],uD=["put","add","delete","clear"],N1=new Map;function ay(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(N1.get(e))return N1.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,i=uD.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(i||hD.includes(r)))return;const a=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let u=h.store;return s&&(u=u.index(c.shift())),(await Promise.all([u[r](...c),i&&h.done]))[0]};return N1.set(e,a),a}aD(t=>({...t,get:(e,r,s)=>ay(e,r)||t.get(e,r,s),has:(e,r)=>!!ay(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(mD(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function mD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hx="@firebase/app",oy="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new tv("@firebase/app"),fD="@firebase/app-compat",pD="@firebase/analytics-compat",gD="@firebase/analytics",xD="@firebase/app-check-compat",vD="@firebase/app-check",yD="@firebase/auth",bD="@firebase/auth-compat",jD="@firebase/database",wD="@firebase/data-connect",SD="@firebase/database-compat",TD="@firebase/functions",kD="@firebase/functions-compat",AD="@firebase/installations",ND="@firebase/installations-compat",ED="@firebase/messaging",CD="@firebase/messaging-compat",MD="@firebase/performance",_D="@firebase/performance-compat",$D="@firebase/remote-config",zD="@firebase/remote-config-compat",DD="@firebase/storage",ID="@firebase/storage-compat",RD="@firebase/firestore",GD="@firebase/vertexai-preview",OD="@firebase/firestore-compat",PD="firebase",LD="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="[DEFAULT]",qD={[Hx]:"fire-core",[fD]:"fire-core-compat",[gD]:"fire-analytics",[pD]:"fire-analytics-compat",[vD]:"fire-app-check",[xD]:"fire-app-check-compat",[yD]:"fire-auth",[bD]:"fire-auth-compat",[jD]:"fire-rtdb",[wD]:"fire-data-connect",[SD]:"fire-rtdb-compat",[TD]:"fire-fn",[kD]:"fire-fn-compat",[AD]:"fire-iid",[ND]:"fire-iid-compat",[ED]:"fire-fcm",[CD]:"fire-fcm-compat",[MD]:"fire-perf",[_D]:"fire-perf-compat",[$D]:"fire-rc",[zD]:"fire-rc-compat",[DD]:"fire-gcs",[ID]:"fire-gcs-compat",[RD]:"fire-fst",[OD]:"fire-fst-compat",[GD]:"fire-vertex","fire-js":"fire-js",[PD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xh=new Map,BD=new Map,Ux=new Map;function ly(t,e){try{t.container.addComponent(e)}catch(r){ra.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Nl(t){const e=t.name;if(Ux.has(e))return ra.debug(`There were multiple attempts to register component ${e}.`),!1;Ux.set(e,t);for(const r of Xh.values())ly(r,t);for(const r of BD.values())ly(r,t);return!0}function nv(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Li(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},uo=new ku("app","Firebase",HD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,r,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw uo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=LD;function ES(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Fx,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw uo.create("bad-app-name",{appName:String(i)});if(r||(r=TS()),!r)throw uo.create("no-options");const a=Xh.get(i);if(a){if(Jm(r,a.options)&&Jm(s,a.config))return a;throw uo.create("duplicate-app",{appName:i})}const l=new Yz(i);for(const h of Ux.values())l.addComponent(h);const c=new FD(r,s,l);return Xh.set(i,c),c}function CS(t=Fx){const e=Xh.get(t);if(!e&&t===Fx&&TS())return ES();if(!e)throw uo.create("no-app",{appName:t});return e}function UD(){return Array.from(Xh.values())}function ti(t,e,r){var s;let i=(s=qD[t])!==null&&s!==void 0?s:t;r&&(i+=`-${r}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ra.warn(c.join(" "));return}Nl(new bo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD="firebase-heartbeat-database",KD=1,Yh="firebase-heartbeat-store";let E1=null;function MS(){return E1||(E1=cD(VD,KD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yh)}catch(r){console.warn(r)}}}}).catch(t=>{throw uo.create("idb-open",{originalErrorMessage:t.message})})),E1}async function WD(t){try{const r=(await MS()).transaction(Yh),s=await r.objectStore(Yh).get(_S(t));return await r.done,s}catch(e){if(e instanceof ci)ra.warn(e.message);else{const r=uo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ra.warn(r.message)}}}async function cy(t,e){try{const s=(await MS()).transaction(Yh,"readwrite");await s.objectStore(Yh).put(e,_S(t)),await s.done}catch(r){if(r instanceof ci)ra.warn(r.message);else{const s=uo.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ra.warn(s.message)}}}function _S(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=1024,YD=30*24*60*60*1e3;class ZD{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new JD(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=hy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=YD}),this._storage.overwrite(this._heartbeatsCache))}catch(s){ra.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=hy(),{heartbeatsToSend:s,unsentEntries:i}=QD(this._heartbeatsCache.heartbeats),a=jS(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(r){return ra.warn(r),""}}}function hy(){return new Date().toISOString().substring(0,10)}function QD(t,e=XD){const r=[];let s=t.slice();for(const i of t){const a=r.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),uy(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),uy(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class JD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Oz()?Pz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await WD(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return cy(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return cy(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function uy(t){return jS(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t){Nl(new bo("platform-logger",e=>new dD(e),"PRIVATE")),Nl(new bo("heartbeat",e=>new ZD(e),"PRIVATE")),ti(Hx,oy,t),ti(Hx,oy,"esm2017"),ti("fire-js","")}eI("");var tI="firebase",rI="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ti(tI,rI,"app");function sv(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(r[s[i]]=t[s[i]]);return r}function $S(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nI=$S,zS=new ku("auth","Firebase",$S());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new tv("@firebase/auth");function sI(t,...e){ef.logLevel<=jt.WARN&&ef.warn(`Auth (${c0}): ${t}`,...e)}function cm(t,...e){ef.logLevel<=jt.ERROR&&ef.error(`Auth (${c0}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(t,...e){throw iv(t,...e)}function ri(t,...e){return iv(t,...e)}function DS(t,e,r){const s=Object.assign(Object.assign({},nI()),{[e]:r});return new ku("auth","Firebase",s).create(e,{appName:t.name})}function mo(t){return DS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iv(t,...e){if(typeof t!="string"){const r=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(r,...s)}return zS.create(t,...e)}function tt(t,e,...r){if(!t)throw iv(e,...r)}function qi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cm(e),new Error(e)}function sa(t,e){t||qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function iI(){return dy()==="http:"||dy()==="https:"}function dy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iI()||Iz()||"connection"in navigator)?navigator.onLine:!0}function oI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,r){this.shortDelay=e,this.longDelay=r,sa(r>e,"Short delay should be less than long delay!"),this.isMobile=zz()||Rz()}get(){return aI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(t,e){sa(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{static initialize(e,r,s){this.fetchImpl=e,r&&(this.headersImpl=r),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=new Nu(3e4,6e4);function rp(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function h0(t,e,r,s,i={}){return RS(t,i,async()=>{let a={},l={};s&&(e==="GET"?l=s:a={body:JSON.stringify(s)});const c=Au(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:h},a);return Dz()||(u.referrerPolicy="no-referrer"),IS.fetch()(OS(t,t.config.apiHost,r,c),u)})}async function RS(t,e,r){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},lI),e);try{const i=new hI(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw gd(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,u]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw gd(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw gd(t,"user-disabled",l);const m=s[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw DS(t,m,u);na(t,m)}}catch(i){if(i instanceof ci)throw i;na(t,"network-request-failed",{message:String(i)})}}async function GS(t,e,r,s,i={}){const a=await h0(t,e,r,s,i);return"mfaPendingCredential"in a&&na(t,"multi-factor-auth-required",{_serverResponse:a}),a}function OS(t,e,r,s){const i=`${e}${r}?${s}`;return t.config.emulator?av(t.config,i):`${t.config.apiScheme}://${i}`}class hI{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,s)=>{this.timer=setTimeout(()=>s(ri(this.auth,"network-request-failed")),cI.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function gd(t,e,r){const s={appName:t.name};r.email&&(s.email=r.email),r.phoneNumber&&(s.phoneNumber=r.phoneNumber);const i=ri(t,e,s);return i.customData._tokenResponse=r,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(t,e){return h0(t,"POST","/v1/accounts:delete",e)}async function PS(t,e){return h0(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dI(t,e=!1){const r=qs(t),s=await r.getIdToken(e),i=ov(s);tt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:s,authTime:wh(C1(i.auth_time)),issuedAtTime:wh(C1(i.iat)),expirationTime:wh(C1(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function C1(t){return Number(t)*1e3}function ov(t){const[e,r,s]=t.split(".");if(e===void 0||r===void 0||s===void 0)return cm("JWT malformed, contained fewer than 3 sections"),null;try{const i=wS(r);return i?JSON.parse(i):(cm("Failed to decode base64 JWT payload"),null)}catch(i){return cm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function my(t){const e=ov(t);return tt(e,"internal-error"),tt(typeof e.exp<"u","internal-error"),tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zh(t,e,r=!1){if(r)return e;try{return await e}catch(s){throw s instanceof ci&&mI(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function mI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=wh(this.lastLoginAt),this.creationTime=wh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tf(t){var e;const r=t.auth,s=await t.getIdToken(),i=await Zh(t,PS(r,{idToken:s}));tt(i==null?void 0:i.users.length,r,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?LS(a.providerUserInfo):[],c=gI(t.providerData,l),h=t.isAnonymous,u=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),m=h?u:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Kx(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(t,f)}async function pI(t){const e=qs(t);await tf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gI(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function LS(t){return t.map(e=>{var{providerId:r}=e,s=sv(e,["providerId"]);return{providerId:r,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(t,e){const r=await RS(t,{},async()=>{const s=Au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=OS(t,i,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",IS.fetch()(l,{method:"POST",headers:c,body:s})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function vI(t,e){return h0(t,"POST","/v2/accounts:revokeToken",rp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){tt(e.idToken,"internal-error"),tt(typeof e.idToken<"u","internal-error"),tt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):my(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){tt(e.length!==0,"internal-error");const r=my(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:s,refreshToken:i,expiresIn:a}=await xI(e,r);this.updateTokensAndExpiration(s,i,Number(a))}updateTokensAndExpiration(e,r,s){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,r){const{refreshToken:s,accessToken:i,expirationTime:a}=r,l=new Cc;return s&&(tt(typeof s=="string","internal-error",{appName:e}),l.refreshToken=s),i&&(tt(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(tt(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cc,this.toJSON())}_performRefresh(){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(t,e){tt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Bi{constructor(e){var{uid:r,auth:s,stsTokenManager:i}=e,a=sv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Kx(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const r=await Zh(this,this.stsTokenManager.getToken(this.auth,e));return tt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return dI(this,e)}reload(){return pI(this)}_assign(e){this!==e&&(tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Bi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),r&&await tf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Li(this.auth.app))return Promise.reject(mo(this.auth));const e=await this.getIdToken();return await Zh(this,uI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var s,i,a,l,c,h,u,m;const f=(s=r.displayName)!==null&&s!==void 0?s:void 0,p=(i=r.email)!==null&&i!==void 0?i:void 0,g=(a=r.phoneNumber)!==null&&a!==void 0?a:void 0,S=(l=r.photoURL)!==null&&l!==void 0?l:void 0,N=(c=r.tenantId)!==null&&c!==void 0?c:void 0,$=(h=r._redirectEventId)!==null&&h!==void 0?h:void 0,w=(u=r.createdAt)!==null&&u!==void 0?u:void 0,T=(m=r.lastLoginAt)!==null&&m!==void 0?m:void 0,{uid:A,emailVerified:I,isAnonymous:B,providerData:Q,stsTokenManager:D}=r;tt(A&&D,e,"internal-error");const E=Cc.fromJSON(this.name,D);tt(typeof A=="string",e,"internal-error"),Ea(f,e.name),Ea(p,e.name),tt(typeof I=="boolean",e,"internal-error"),tt(typeof B=="boolean",e,"internal-error"),Ea(g,e.name),Ea(S,e.name),Ea(N,e.name),Ea($,e.name),Ea(w,e.name),Ea(T,e.name);const z=new Bi({uid:A,auth:e,email:p,emailVerified:I,displayName:f,isAnonymous:B,photoURL:S,phoneNumber:g,tenantId:N,stsTokenManager:E,createdAt:w,lastLoginAt:T});return Q&&Array.isArray(Q)&&(z.providerData=Q.map(O=>Object.assign({},O))),$&&(z._redirectEventId=$),z}static async _fromIdTokenResponse(e,r,s=!1){const i=new Cc;i.updateFromServerResponse(r);const a=new Bi({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await tf(a),a}static async _fromGetAccountInfoResponse(e,r,s){const i=r.users[0];tt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?LS(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),c=new Cc;c.updateFromIdToken(s);const h=new Bi({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Kx(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,u),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=new Map;function Hi(t){sa(t instanceof Function,"Expected a class definition");let e=fy.get(t);return e?(sa(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fy.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}qS.type="NONE";const py=qS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(t,e,r){return`firebase:${t}:${e}:${r}`}class Mc{constructor(e,r,s){this.persistence=e,this.auth=r,this.userKey=s;const{config:i,name:a}=this.auth;this.fullUserKey=hm(this.userKey,i.apiKey,a),this.fullPersistenceKey=hm("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Bi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,s="authUser"){if(!r.length)return new Mc(Hi(py),e,s);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=i[0]||Hi(py);const l=hm(s,e.config.apiKey,e.name);let c=null;for(const u of r)try{const m=await u._get(l);if(m){const f=Bi._fromJSON(e,m);u!==a&&(c=f),a=u;break}}catch{}const h=i.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Mc(a,e,s):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(r.map(async u=>{if(u!==a)try{await u._remove(l)}catch{}})),new Mc(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(US(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KS(e))return"Blackberry";if(WS(e))return"Webos";if(HS(e))return"Safari";if((e.includes("chrome/")||FS(e))&&!e.includes("edge/"))return"Chrome";if(VS(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(r);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function BS(t=mn()){return/firefox\//i.test(t)}function HS(t=mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function FS(t=mn()){return/crios\//i.test(t)}function US(t=mn()){return/iemobile/i.test(t)}function VS(t=mn()){return/android/i.test(t)}function KS(t=mn()){return/blackberry/i.test(t)}function WS(t=mn()){return/webos/i.test(t)}function lv(t=mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yI(t=mn()){var e;return lv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bI(){return Gz()&&document.documentMode===10}function XS(t=mn()){return lv(t)||VS(t)||WS(t)||KS(t)||/windows phone/i.test(t)||US(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t,e=[]){let r;switch(t){case"Browser":r=gy(mn());break;case"Worker":r=`${gy(mn())}-${t}`;break;default:r=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${c0}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const s=a=>new Promise((l,c)=>{try{const h=e(a);l(h)}catch(h){c(h)}});s.onAbort=r,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const s of this.queue)await s(e),s.onAbort&&r.push(s.onAbort)}catch(s){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(t,e={}){return h0(t,"GET","/v2/passwordPolicy",rp(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=6;class TI{constructor(e){var r,s,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=l.minPasswordLength)!==null&&r!==void 0?r:SI,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,s,i,a,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(r=h.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,r){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(r.meetsMinPasswordLength=e.length>=s),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,r,s,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,r,s,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xy(this),this.idTokenSubscription=new xy(this),this.beforeStateQueue=new jI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Hi(r)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await Mc.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await PS(this,{idToken:e}),s=await Bi._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(s)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Li(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let i=s,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await tf(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Li(this.app))return Promise.reject(mo(this));const r=e?qs(e):null;return r&&tt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Li(this.app)?Promise.reject(mo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Li(this.app)?Promise.reject(mo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wI(this),r=new TI(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ku("auth","Firebase",e())}onAuthStateChanged(e,r,s){return this.registerStateListener(this.authStateSubscription,e,r,s)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,s){return this.registerStateListener(this.idTokenSubscription,e,r,s)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(s.tenantId=this.tenantId),await vI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const s=await this.getOrInitRedirectPersistenceManager(r);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Hi(e)||this._popupRedirectResolver;tt(r,this,"argument-error"),this.redirectPersistenceManager=await Mc.create(this,[Hi(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,s;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,s,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(tt(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof r=="function"){const h=e.addObserver(r,s,i);return()=>{l=!0,h()}}else{const h=e.addObserver(r);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(r["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(r["X-Firebase-AppCheck"]=i),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&sI(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function np(t){return qs(t)}class xy{constructor(e){this.auth=e,this.observer=null,this.addObserver=Fz(r=>this.observer=r)}get next(){return tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AI(t){cv=t}function NI(t){return cv.loadJS(t)}function EI(){return cv.gapiScript}function CI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(t,e){const r=nv(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Jm(a,e??{}))return i;na(i,"already-initialized")}return r.initialize({options:e})}function _I(t,e){const r=(e==null?void 0:e.persistence)||[],s=(Array.isArray(r)?r:[r]).map(Hi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function $I(t,e,r){const s=np(t);tt(s._canInitEmulator,s,"emulator-config-failed"),tt(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,a=ZS(e),{host:l,port:c}=zI(e),h=c===null?"":`:${c}`;s.config.emulator={url:`${a}//${l}${h}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),DI()}function ZS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zI(t){const e=ZS(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const s=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const a=i[1];return{host:a,port:vy(s.substr(a.length+1))}}else{const[a,l]=s.split(":");return{host:a,port:vy(l)}}}function vy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function DI(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return qi("not implemented")}_getIdTokenResponse(e){return qi("not implemented")}_linkToIdToken(e,r){return qi("not implemented")}_getReauthenticationResolver(e){return qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(t,e){return GS(t,"POST","/v1/accounts:signInWithIdp",rp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="http://localhost";class El extends QS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new El(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):na("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=r,a=sv(r,["providerId","signInMethod"]);if(!s||!i)return null;const l=new El(s,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const r=this.buildRequest();return _c(e,r)}_linkToIdToken(e,r){const s=this.buildRequest();return s.idToken=r,_c(e,s)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,_c(e,r)}buildRequest(){const e={requestUri:II,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Au(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends JS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa extends Eu{constructor(){super("facebook.com")}static credential(e){return El._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qa.credential(e.oauthAccessToken)}catch{return null}}}qa.FACEBOOK_SIGN_IN_METHOD="facebook.com";qa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return El._fromParams({providerId:Ba.PROVIDER_ID,signInMethod:Ba.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ba.credentialFromTaggedObject(e)}static credentialFromError(e){return Ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:s}=e;if(!r&&!s)return null;try{return Ba.credential(r,s)}catch{return null}}}Ba.GOOGLE_SIGN_IN_METHOD="google.com";Ba.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends Eu{constructor(){super("github.com")}static credential(e){return El._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ha.credential(e.oauthAccessToken)}catch{return null}}}Ha.GITHUB_SIGN_IN_METHOD="github.com";Ha.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa extends Eu{constructor(){super("twitter.com")}static credential(e,r){return El._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Fa.credentialFromTaggedObject(e)}static credentialFromError(e){return Fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:s}=e;if(!r||!s)return null;try{return Fa.credential(r,s)}catch{return null}}}Fa.TWITTER_SIGN_IN_METHOD="twitter.com";Fa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,s,i=!1){const a=await Bi._fromIdTokenResponse(e,s,i),l=yy(s);return new Cl({user:a,providerId:l,_tokenResponse:s,operationType:r})}static async _forOperation(e,r,s){await e._updateTokensIfNecessary(s,!0);const i=yy(s);return new Cl({user:e,providerId:i,_tokenResponse:s,operationType:r})}}function yy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends ci{constructor(e,r,s,i){var a;super(r.code,r.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,rf.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:r.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,r,s,i){return new rf(e,r,s,i)}}function eT(t,e,r,s){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?rf._fromErrorAndOperation(t,a,e,s):a})}async function RI(t,e,r=!1){const s=await Zh(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Cl._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(t,e,r=!1){const{auth:s}=t;if(Li(s.app))return Promise.reject(mo(s));const i="reauthenticate";try{const a=await Zh(t,eT(s,i,e,t),r);tt(a.idToken,s,"internal-error");const l=ov(a.idToken);tt(l,s,"internal-error");const{sub:c}=l;return tt(t.uid===c,s,"user-mismatch"),Cl._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&na(s,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(t,e,r=!1){if(Li(t.app))return Promise.reject(mo(t));const s="signIn",i=await eT(t,s,e),a=await Cl._fromIdTokenResponse(t,s,i);return r||await t._updateCurrentUser(a.user),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI(t,e){return GS(t,"POST","/v1/accounts:signInWithCustomToken",rp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(t,e){if(Li(t.app))return Promise.reject(mo(t));const r=np(t),s=await PI(r,{token:e,returnSecureToken:!0}),i=await Cl._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(i.user),i}function qI(t,e,r,s){return qs(t).onIdTokenChanged(e,r,s)}function BI(t,e,r){return qs(t).beforeAuthStateChanged(e,r)}function HI(t,e,r,s){return qs(t).onAuthStateChanged(e,r,s)}function FI(t){return qs(t).signOut()}const nf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(nf,"1"),this.storage.removeItem(nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=1e3,VI=10;class rT extends tT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const s=this.storage.getItem(r),i=this.localCache[r];s!==i&&e(r,i,s)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const s=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(s);!r&&this.localCache[s]===l||this.notifyListeners(s,l)},a=this.storage.getItem(s);bI()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,VI):i()}notifyListeners(e,r){this.localCache[e]=r;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:s}),!0)})},UI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}rT.type="LOCAL";const KI=rT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT extends tT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}nT.type="SESSION";const sT=nT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const s=new sp(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:s,eventType:i,data:a}=r.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const c=Array.from(l).map(async u=>u(r.origin,a)),h=await WI(c);r.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:h})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(t="",e=10){let r="";for(let s=0;s<e;s++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const u=hv("",20);i.port1.start();const m=setTimeout(()=>{h(new Error("unsupported_event"))},s);l={messageChannel:i,onMessage(f){const p=f;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(m),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(p.data.response);break;default:clearTimeout(m),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function YI(t){ni().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function ZI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QI(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function JI(){return iT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="firebaseLocalStorageDb",eR=1,sf="firebaseLocalStorage",oT="fbase_key";class Cu{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function ip(t,e){return t.transaction([sf],e?"readwrite":"readonly").objectStore(sf)}function tR(){const t=indexedDB.deleteDatabase(aT);return new Cu(t).toPromise()}function Wx(){const t=indexedDB.open(aT,eR);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(sf,{keyPath:oT})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(sf)?e(s):(s.close(),await tR(),e(await Wx()))})})}async function by(t,e,r){const s=ip(t,!0).put({[oT]:e,value:r});return new Cu(s).toPromise()}async function rR(t,e){const r=ip(t,!1).get(e),s=await new Cu(r).toPromise();return s===void 0?null:s.value}function jy(t,e){const r=ip(t,!0).delete(e);return new Cu(r).toPromise()}const nR=800,sR=3;class lT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wx(),this.db)}async _withRetries(e){let r=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(r++>sR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sp._getInstance(JI()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await ZI(),!this.activeServiceWorker)return;this.sender=new XI(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((r=s[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||QI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wx();return await by(e,nf,"1"),await jy(e,nf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(s=>by(s,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(s=>rR(s,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>jy(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=ip(i,!1).getAll();return new Cu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lT.type="LOCAL";const iR=lT;new Nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t,e){return e?Hi(e):(tt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv extends QS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _c(e,this._buildIdpRequest())}_linkToIdToken(e,r){return _c(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return _c(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function oR(t){return OI(t.auth,new uv(t),t.bypassAuthState)}function lR(t){const{auth:e,user:r}=t;return tt(r,e,"internal-error"),GI(r,new uv(t),t.bypassAuthState)}async function cR(t){const{auth:e,user:r}=t;return tt(r,e,"internal-error"),RI(r,new uv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,r,s,i,a=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:s,postBody:i,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:r,sessionId:s,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return oR;case"linkViaPopup":case"linkViaRedirect":return cR;case"reauthViaPopup":case"reauthViaRedirect":return lR;default:na(this.auth,"internal-error")}}resolve(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=new Nu(2e3,1e4);class fc extends cT{constructor(e,r,s,i,a){super(e,r,i,a),this.provider=s,this.authWindow=null,this.pollId=null,fc.currentPopupAction&&fc.currentPopupAction.cancel(),fc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return tt(e,this.auth,"internal-error"),e}async onExecution(){sa(this.filter.length===1,"Popup operations only handle one event");const e=hv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,s;if(!((s=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hR.get())};e()}}fc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="pendingRedirect",um=new Map;class dR extends cT{constructor(e,r,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,s),this.eventId=null}async execute(){let e=um.get(this.auth._key());if(!e){try{const s=await mR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(r){e=()=>Promise.reject(r)}um.set(this.auth._key(),e)}return this.bypassAuthState||um.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mR(t,e){const r=gR(e),s=pR(t);if(!await s._isAvailable())return!1;const i=await s._get(r)==="true";return await s._remove(r),i}function fR(t,e){um.set(t._key(),e)}function pR(t){return Hi(t._redirectPersistence)}function gR(t){return hm(uR,t.config.apiKey,t.name)}async function xR(t,e,r=!1){if(Li(t.app))return Promise.reject(mo(t));const s=np(t),i=aR(s,e),l=await new dR(s,i,r).execute();return l&&!r&&(delete l.user._redirectEventId,await s._persistUserIfCurrent(l.user),await s._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=10*60*1e3;class yR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(r=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bR(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var s;if(e.error&&!hT(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";r.onError(ri(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const s=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vR&&this.cachedEventUids.clear(),this.cachedEventUids.has(wy(e))}saveEventToCache(e){this.cachedEventUids.add(wy(e)),this.lastProcessedEventTime=Date.now()}}function wy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(t,e={}){return h0(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SR=/^https?/;async function TR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await jR(t);for(const r of e)try{if(kR(r))return}catch{}na(t,"unauthorized-domain")}function kR(t){const e=Vx(),{protocol:r,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&s===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&l.hostname===s}if(!SR.test(r))return!1;if(wR.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=new Nu(3e4,6e4);function Sy(){const t=ni().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function NR(t){return new Promise((e,r)=>{var s,i,a;function l(){Sy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Sy(),r(ri(t,"network-request-failed"))},timeout:AR.get()})}if(!((i=(s=ni().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=ni().gapi)===null||a===void 0)&&a.load)l();else{const c=CI("iframefcb");return ni()[c]=()=>{gapi.load?l():r(ri(t,"network-request-failed"))},NI(`${EI()}?onload=${c}`).catch(h=>r(h))}}).catch(e=>{throw dm=null,e})}let dm=null;function ER(t){return dm=dm||NR(t),dm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR=new Nu(5e3,15e3),MR="__/auth/iframe",_R="emulator/auth/iframe",$R={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DR(t){const e=t.config;tt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?av(e,_R):`https://${t.config.authDomain}/${MR}`,s={apiKey:e.apiKey,appName:t.name,v:c0},i=zR.get(t.config.apiHost);i&&(s.eid=i);const a=t._getFrameworks();return a.length&&(s.fw=a.join(",")),`${r}?${Au(s).slice(1)}`}async function IR(t){const e=await ER(t),r=ni().gapi;return tt(r,t,"internal-error"),e.open({where:document.body,url:DR(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$R,dontclear:!0},s=>new Promise(async(i,a)=>{await s.restyle({setHideOnLeave:!1});const l=ri(t,"network-request-failed"),c=ni().setTimeout(()=>{a(l)},CR.get());function h(){ni().clearTimeout(c),i(s)}s.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GR=500,OR=600,PR="_blank",LR="http://localhost";class Ty{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qR(t,e,r,s=GR,i=OR){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-s)/2,0).toString();let c="";const h=Object.assign(Object.assign({},RR),{width:s.toString(),height:i.toString(),top:a,left:l}),u=mn().toLowerCase();r&&(c=FS(u)?PR:r),BS(u)&&(e=e||LR,h.scrollbars="yes");const m=Object.entries(h).reduce((p,[g,S])=>`${p}${g}=${S},`,"");if(yI(u)&&c!=="_self")return BR(e||"",c),new Ty(null);const f=window.open(e||"",c,m);tt(f,t,"popup-blocked");try{f.focus()}catch{}return new Ty(f)}function BR(t,e){const r=document.createElement("a");r.href=t,r.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="__/auth/handler",FR="emulator/auth/handler",UR=encodeURIComponent("fac");async function ky(t,e,r,s,i,a){tt(t.config.authDomain,t,"auth-domain-config-required"),tt(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:s,v:c0,eventId:i};if(e instanceof JS){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",Hz(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[m,f]of Object.entries({}))l[m]=f}if(e instanceof Eu){const m=e.getScopes().filter(f=>f!=="");m.length>0&&(l.scopes=m.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const m of Object.keys(c))c[m]===void 0&&delete c[m];const h=await t._getAppCheckToken(),u=h?`#${UR}=${encodeURIComponent(h)}`:"";return`${VR(t)}?${Au(c).slice(1)}${u}`}function VR({config:t}){return t.emulator?av(t,FR):`https://${t.authDomain}/${HR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="webStorageSupport";class KR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sT,this._completeRedirectFn=xR,this._overrideRedirectResult=fR}async _openPopup(e,r,s,i){var a;sa((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await ky(e,r,s,Vx(),i);return qR(e,l,hv())}async _openRedirect(e,r,s,i){await this._originValidation(e);const a=await ky(e,r,s,Vx(),i);return YI(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(sa(a,"If manager is not set, promise should be"),a)}const s=this.initAndGetManager(e);return this.eventManagers[r]={promise:s},s.catch(()=>{delete this.eventManagers[r]}),s}async initAndGetManager(e){const r=await IR(e),s=new yR(e);return r.register("authEvent",i=>(tt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=r,s}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(M1,{type:M1},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[M1];l!==void 0&&r(!!l),na(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=TR(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return XS()||HS()||lv()}}const WR=KR;var Ay="@firebase/auth",Ny="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZR(t){Nl(new bo("auth",(e,{options:r})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=s.options;tt(l&&!l.includes(":"),"invalid-api-key",{appName:s.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YS(t)},u=new kI(s,i,a,h);return _I(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,s)=>{e.getProvider("auth-internal").initialize()})),Nl(new bo("auth-internal",e=>{const r=np(e.getProvider("auth").getImmediate());return(s=>new XR(s))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ti(Ay,Ny,YR(t)),ti(Ay,Ny,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=5*60,JR=kS("authIdTokenMaxAge")||QR;let Ey=null;const eG=t=>async e=>{const r=e&&await e.getIdTokenResult(),s=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(s&&s>JR)return;const i=r==null?void 0:r.token;Ey!==i&&(Ey=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tG(t=CS()){const e=nv(t,"auth");if(e.isInitialized())return e.getImmediate();const r=MI(t,{popupRedirectResolver:WR,persistence:[iR,KI,sT]}),s=kS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(s,location.origin);if(location.origin===a.origin){const l=eG(a.toString());BI(r,l,()=>l(r.currentUser)),qI(r,c=>l(c))}}const i=SS("auth");return i&&$I(r,`http://${i}`),r}function rG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}AI({loadJS(t){return new Promise((e,r)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const a=ri("internal-error");a.customData=i,r(a)},s.type="text/javascript",s.charset="UTF-8",rG().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZR("Browser");var Cy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,E){function z(){}z.prototype=E.prototype,D.D=E.prototype,D.prototype=new z,D.prototype.constructor=D,D.C=function(O,L,H){for(var q=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)q[ye-2]=arguments[ye];return E.prototype[L].apply(O,q)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,r),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,E,z){z||(z=0);var O=Array(16);if(typeof E=="string")for(var L=0;16>L;++L)O[L]=E.charCodeAt(z++)|E.charCodeAt(z++)<<8|E.charCodeAt(z++)<<16|E.charCodeAt(z++)<<24;else for(L=0;16>L;++L)O[L]=E[z++]|E[z++]<<8|E[z++]<<16|E[z++]<<24;E=D.g[0],z=D.g[1],L=D.g[2];var H=D.g[3],q=E+(H^z&(L^H))+O[0]+3614090360&4294967295;E=z+(q<<7&4294967295|q>>>25),q=H+(L^E&(z^L))+O[1]+3905402710&4294967295,H=E+(q<<12&4294967295|q>>>20),q=L+(z^H&(E^z))+O[2]+606105819&4294967295,L=H+(q<<17&4294967295|q>>>15),q=z+(E^L&(H^E))+O[3]+3250441966&4294967295,z=L+(q<<22&4294967295|q>>>10),q=E+(H^z&(L^H))+O[4]+4118548399&4294967295,E=z+(q<<7&4294967295|q>>>25),q=H+(L^E&(z^L))+O[5]+1200080426&4294967295,H=E+(q<<12&4294967295|q>>>20),q=L+(z^H&(E^z))+O[6]+2821735955&4294967295,L=H+(q<<17&4294967295|q>>>15),q=z+(E^L&(H^E))+O[7]+4249261313&4294967295,z=L+(q<<22&4294967295|q>>>10),q=E+(H^z&(L^H))+O[8]+1770035416&4294967295,E=z+(q<<7&4294967295|q>>>25),q=H+(L^E&(z^L))+O[9]+2336552879&4294967295,H=E+(q<<12&4294967295|q>>>20),q=L+(z^H&(E^z))+O[10]+4294925233&4294967295,L=H+(q<<17&4294967295|q>>>15),q=z+(E^L&(H^E))+O[11]+2304563134&4294967295,z=L+(q<<22&4294967295|q>>>10),q=E+(H^z&(L^H))+O[12]+1804603682&4294967295,E=z+(q<<7&4294967295|q>>>25),q=H+(L^E&(z^L))+O[13]+4254626195&4294967295,H=E+(q<<12&4294967295|q>>>20),q=L+(z^H&(E^z))+O[14]+2792965006&4294967295,L=H+(q<<17&4294967295|q>>>15),q=z+(E^L&(H^E))+O[15]+1236535329&4294967295,z=L+(q<<22&4294967295|q>>>10),q=E+(L^H&(z^L))+O[1]+4129170786&4294967295,E=z+(q<<5&4294967295|q>>>27),q=H+(z^L&(E^z))+O[6]+3225465664&4294967295,H=E+(q<<9&4294967295|q>>>23),q=L+(E^z&(H^E))+O[11]+643717713&4294967295,L=H+(q<<14&4294967295|q>>>18),q=z+(H^E&(L^H))+O[0]+3921069994&4294967295,z=L+(q<<20&4294967295|q>>>12),q=E+(L^H&(z^L))+O[5]+3593408605&4294967295,E=z+(q<<5&4294967295|q>>>27),q=H+(z^L&(E^z))+O[10]+38016083&4294967295,H=E+(q<<9&4294967295|q>>>23),q=L+(E^z&(H^E))+O[15]+3634488961&4294967295,L=H+(q<<14&4294967295|q>>>18),q=z+(H^E&(L^H))+O[4]+3889429448&4294967295,z=L+(q<<20&4294967295|q>>>12),q=E+(L^H&(z^L))+O[9]+568446438&4294967295,E=z+(q<<5&4294967295|q>>>27),q=H+(z^L&(E^z))+O[14]+3275163606&4294967295,H=E+(q<<9&4294967295|q>>>23),q=L+(E^z&(H^E))+O[3]+4107603335&4294967295,L=H+(q<<14&4294967295|q>>>18),q=z+(H^E&(L^H))+O[8]+1163531501&4294967295,z=L+(q<<20&4294967295|q>>>12),q=E+(L^H&(z^L))+O[13]+2850285829&4294967295,E=z+(q<<5&4294967295|q>>>27),q=H+(z^L&(E^z))+O[2]+4243563512&4294967295,H=E+(q<<9&4294967295|q>>>23),q=L+(E^z&(H^E))+O[7]+1735328473&4294967295,L=H+(q<<14&4294967295|q>>>18),q=z+(H^E&(L^H))+O[12]+2368359562&4294967295,z=L+(q<<20&4294967295|q>>>12),q=E+(z^L^H)+O[5]+4294588738&4294967295,E=z+(q<<4&4294967295|q>>>28),q=H+(E^z^L)+O[8]+2272392833&4294967295,H=E+(q<<11&4294967295|q>>>21),q=L+(H^E^z)+O[11]+1839030562&4294967295,L=H+(q<<16&4294967295|q>>>16),q=z+(L^H^E)+O[14]+4259657740&4294967295,z=L+(q<<23&4294967295|q>>>9),q=E+(z^L^H)+O[1]+2763975236&4294967295,E=z+(q<<4&4294967295|q>>>28),q=H+(E^z^L)+O[4]+1272893353&4294967295,H=E+(q<<11&4294967295|q>>>21),q=L+(H^E^z)+O[7]+4139469664&4294967295,L=H+(q<<16&4294967295|q>>>16),q=z+(L^H^E)+O[10]+3200236656&4294967295,z=L+(q<<23&4294967295|q>>>9),q=E+(z^L^H)+O[13]+681279174&4294967295,E=z+(q<<4&4294967295|q>>>28),q=H+(E^z^L)+O[0]+3936430074&4294967295,H=E+(q<<11&4294967295|q>>>21),q=L+(H^E^z)+O[3]+3572445317&4294967295,L=H+(q<<16&4294967295|q>>>16),q=z+(L^H^E)+O[6]+76029189&4294967295,z=L+(q<<23&4294967295|q>>>9),q=E+(z^L^H)+O[9]+3654602809&4294967295,E=z+(q<<4&4294967295|q>>>28),q=H+(E^z^L)+O[12]+3873151461&4294967295,H=E+(q<<11&4294967295|q>>>21),q=L+(H^E^z)+O[15]+530742520&4294967295,L=H+(q<<16&4294967295|q>>>16),q=z+(L^H^E)+O[2]+3299628645&4294967295,z=L+(q<<23&4294967295|q>>>9),q=E+(L^(z|~H))+O[0]+4096336452&4294967295,E=z+(q<<6&4294967295|q>>>26),q=H+(z^(E|~L))+O[7]+1126891415&4294967295,H=E+(q<<10&4294967295|q>>>22),q=L+(E^(H|~z))+O[14]+2878612391&4294967295,L=H+(q<<15&4294967295|q>>>17),q=z+(H^(L|~E))+O[5]+4237533241&4294967295,z=L+(q<<21&4294967295|q>>>11),q=E+(L^(z|~H))+O[12]+1700485571&4294967295,E=z+(q<<6&4294967295|q>>>26),q=H+(z^(E|~L))+O[3]+2399980690&4294967295,H=E+(q<<10&4294967295|q>>>22),q=L+(E^(H|~z))+O[10]+4293915773&4294967295,L=H+(q<<15&4294967295|q>>>17),q=z+(H^(L|~E))+O[1]+2240044497&4294967295,z=L+(q<<21&4294967295|q>>>11),q=E+(L^(z|~H))+O[8]+1873313359&4294967295,E=z+(q<<6&4294967295|q>>>26),q=H+(z^(E|~L))+O[15]+4264355552&4294967295,H=E+(q<<10&4294967295|q>>>22),q=L+(E^(H|~z))+O[6]+2734768916&4294967295,L=H+(q<<15&4294967295|q>>>17),q=z+(H^(L|~E))+O[13]+1309151649&4294967295,z=L+(q<<21&4294967295|q>>>11),q=E+(L^(z|~H))+O[4]+4149444226&4294967295,E=z+(q<<6&4294967295|q>>>26),q=H+(z^(E|~L))+O[11]+3174756917&4294967295,H=E+(q<<10&4294967295|q>>>22),q=L+(E^(H|~z))+O[2]+718787259&4294967295,L=H+(q<<15&4294967295|q>>>17),q=z+(H^(L|~E))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+E&4294967295,D.g[1]=D.g[1]+(L+(q<<21&4294967295|q>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+H&4294967295}s.prototype.u=function(D,E){E===void 0&&(E=D.length);for(var z=E-this.blockSize,O=this.B,L=this.h,H=0;H<E;){if(L==0)for(;H<=z;)i(this,D,H),H+=this.blockSize;if(typeof D=="string"){for(;H<E;)if(O[L++]=D.charCodeAt(H++),L==this.blockSize){i(this,O),L=0;break}}else for(;H<E;)if(O[L++]=D[H++],L==this.blockSize){i(this,O),L=0;break}}this.h=L,this.o+=E},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var E=1;E<D.length-8;++E)D[E]=0;var z=8*this.o;for(E=D.length-8;E<D.length;++E)D[E]=z&255,z/=256;for(this.u(D),D=Array(16),E=z=0;4>E;++E)for(var O=0;32>O;O+=8)D[z++]=this.g[E]>>>O&255;return D};function a(D,E){var z=c;return Object.prototype.hasOwnProperty.call(z,D)?z[D]:z[D]=E(D)}function l(D,E){this.h=E;for(var z=[],O=!0,L=D.length-1;0<=L;L--){var H=D[L]|0;O&&H==E||(z[L]=H,O=!1)}this.g=z}var c={};function h(D){return-128<=D&&128>D?a(D,function(E){return new l([E|0],0>E?-1:0)}):new l([D|0],0>D?-1:0)}function u(D){if(isNaN(D)||!isFinite(D))return f;if(0>D)return $(u(-D));for(var E=[],z=1,O=0;D>=z;O++)E[O]=D/z|0,z*=4294967296;return new l(E,0)}function m(D,E){if(D.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(D.charAt(0)=="-")return $(m(D.substring(1),E));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var z=u(Math.pow(E,8)),O=f,L=0;L<D.length;L+=8){var H=Math.min(8,D.length-L),q=parseInt(D.substring(L,L+H),E);8>H?(H=u(Math.pow(E,H)),O=O.j(H).add(u(q))):(O=O.j(z),O=O.add(u(q)))}return O}var f=h(0),p=h(1),g=h(16777216);t=l.prototype,t.m=function(){if(N(this))return-$(this).m();for(var D=0,E=1,z=0;z<this.g.length;z++){var O=this.i(z);D+=(0<=O?O:4294967296+O)*E,E*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(N(this))return"-"+$(this).toString(D);for(var E=u(Math.pow(D,6)),z=this,O="";;){var L=I(z,E).g;z=w(z,L.j(E));var H=((0<z.g.length?z.g[0]:z.h)>>>0).toString(D);if(z=L,S(z))return H+O;for(;6>H.length;)H="0"+H;O=H+O}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var E=0;E<D.g.length;E++)if(D.g[E]!=0)return!1;return!0}function N(D){return D.h==-1}t.l=function(D){return D=w(this,D),N(D)?-1:S(D)?0:1};function $(D){for(var E=D.g.length,z=[],O=0;O<E;O++)z[O]=~D.g[O];return new l(z,~D.h).add(p)}t.abs=function(){return N(this)?$(this):this},t.add=function(D){for(var E=Math.max(this.g.length,D.g.length),z=[],O=0,L=0;L<=E;L++){var H=O+(this.i(L)&65535)+(D.i(L)&65535),q=(H>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);O=q>>>16,H&=65535,q&=65535,z[L]=q<<16|H}return new l(z,z[z.length-1]&-2147483648?-1:0)};function w(D,E){return D.add($(E))}t.j=function(D){if(S(this)||S(D))return f;if(N(this))return N(D)?$(this).j($(D)):$($(this).j(D));if(N(D))return $(this.j($(D)));if(0>this.l(g)&&0>D.l(g))return u(this.m()*D.m());for(var E=this.g.length+D.g.length,z=[],O=0;O<2*E;O++)z[O]=0;for(O=0;O<this.g.length;O++)for(var L=0;L<D.g.length;L++){var H=this.i(O)>>>16,q=this.i(O)&65535,ye=D.i(L)>>>16,de=D.i(L)&65535;z[2*O+2*L]+=q*de,T(z,2*O+2*L),z[2*O+2*L+1]+=H*de,T(z,2*O+2*L+1),z[2*O+2*L+1]+=q*ye,T(z,2*O+2*L+1),z[2*O+2*L+2]+=H*ye,T(z,2*O+2*L+2)}for(O=0;O<E;O++)z[O]=z[2*O+1]<<16|z[2*O];for(O=E;O<2*E;O++)z[O]=0;return new l(z,0)};function T(D,E){for(;(D[E]&65535)!=D[E];)D[E+1]+=D[E]>>>16,D[E]&=65535,E++}function A(D,E){this.g=D,this.h=E}function I(D,E){if(S(E))throw Error("division by zero");if(S(D))return new A(f,f);if(N(D))return E=I($(D),E),new A($(E.g),$(E.h));if(N(E))return E=I(D,$(E)),new A($(E.g),E.h);if(30<D.g.length){if(N(D)||N(E))throw Error("slowDivide_ only works with positive integers.");for(var z=p,O=E;0>=O.l(D);)z=B(z),O=B(O);var L=Q(z,1),H=Q(O,1);for(O=Q(O,2),z=Q(z,2);!S(O);){var q=H.add(O);0>=q.l(D)&&(L=L.add(z),H=q),O=Q(O,1),z=Q(z,1)}return E=w(D,L.j(E)),new A(L,E)}for(L=f;0<=D.l(E);){for(z=Math.max(1,Math.floor(D.m()/E.m())),O=Math.ceil(Math.log(z)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),H=u(z),q=H.j(E);N(q)||0<q.l(D);)z-=O,H=u(z),q=H.j(E);S(H)&&(H=p),L=L.add(H),D=w(D,q)}return new A(L,D)}t.A=function(D){return I(this,D).h},t.and=function(D){for(var E=Math.max(this.g.length,D.g.length),z=[],O=0;O<E;O++)z[O]=this.i(O)&D.i(O);return new l(z,this.h&D.h)},t.or=function(D){for(var E=Math.max(this.g.length,D.g.length),z=[],O=0;O<E;O++)z[O]=this.i(O)|D.i(O);return new l(z,this.h|D.h)},t.xor=function(D){for(var E=Math.max(this.g.length,D.g.length),z=[],O=0;O<E;O++)z[O]=this.i(O)^D.i(O);return new l(z,this.h^D.h)};function B(D){for(var E=D.g.length+1,z=[],O=0;O<E;O++)z[O]=D.i(O)<<1|D.i(O-1)>>>31;return new l(z,D.h)}function Q(D,E){var z=E>>5;E%=32;for(var O=D.g.length-z,L=[],H=0;H<O;H++)L[H]=0<E?D.i(H+z)>>>E|D.i(H+z+1)<<32-E:D.i(H+z);return new l(L,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=u,l.fromString=m,uT=l}).apply(typeof Cy<"u"?Cy:typeof self<"u"?self:typeof window<"u"?window:{});var xd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,k){return d==Array.prototype||d==Object.prototype||(d[y]=k.value),d};function r(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof xd=="object"&&xd];for(var y=0;y<d.length;++y){var k=d[y];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var s=r(this);function i(d,y){if(y)e:{var k=s;d=d.split(".");for(var P=0;P<d.length-1;P++){var ue=d[P];if(!(ue in k))break e;k=k[ue]}d=d[d.length-1],P=k[d],y=y(P),y!=P&&y!=null&&e(k,d,{configurable:!0,writable:!0,value:y})}}function a(d,y){d instanceof String&&(d+="");var k=0,P=!1,ue={next:function(){if(!P&&k<d.length){var xe=k++;return{value:y(xe,d[xe]),done:!1}}return P=!0,{done:!0,value:void 0}}};return ue[Symbol.iterator]=function(){return ue},ue}i("Array.prototype.values",function(d){return d||function(){return a(this,function(y,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function u(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function m(d,y,k){return d.call.apply(d.bind,arguments)}function f(d,y,k){if(!d)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var ue=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ue,P),d.apply(y,ue)}}return function(){return d.apply(y,arguments)}}function p(d,y,k){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:f,p.apply(null,arguments)}function g(d,y){var k=Array.prototype.slice.call(arguments,1);return function(){var P=k.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function S(d,y){function k(){}k.prototype=y.prototype,d.aa=y.prototype,d.prototype=new k,d.prototype.constructor=d,d.Qb=function(P,ue,xe){for(var Re=Array(arguments.length-2),At=2;At<arguments.length;At++)Re[At-2]=arguments[At];return y.prototype[ue].apply(P,Re)}}function N(d){const y=d.length;if(0<y){const k=Array(y);for(let P=0;P<y;P++)k[P]=d[P];return k}return[]}function $(d,y){for(let k=1;k<arguments.length;k++){const P=arguments[k];if(h(P)){const ue=d.length||0,xe=P.length||0;d.length=ue+xe;for(let Re=0;Re<xe;Re++)d[ue+Re]=P[Re]}else d.push(P)}}class w{constructor(y,k){this.i=y,this.j=k,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function T(d){return/^[\s\xa0]*$/.test(d)}function A(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function I(d){return I[" "](d),d}I[" "]=function(){};var B=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function Q(d,y,k){for(const P in d)y.call(k,d[P],P,d)}function D(d,y){for(const k in d)y.call(void 0,d[k],k,d)}function E(d){const y={};for(const k in d)y[k]=d[k];return y}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,y){let k,P;for(let ue=1;ue<arguments.length;ue++){P=arguments[ue];for(k in P)d[k]=P[k];for(let xe=0;xe<z.length;xe++)k=z[xe],Object.prototype.hasOwnProperty.call(P,k)&&(d[k]=P[k])}}function L(d){var y=1;d=d.split(":");const k=[];for(;0<y&&d.length;)k.push(d.shift()),y--;return d.length&&k.push(d.join(":")),k}function H(d){c.setTimeout(()=>{throw d},0)}function q(){var d=le;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class ye{constructor(){this.h=this.g=null}add(y,k){const P=de.get();P.set(y,k),this.h?this.h.next=P:this.g=P,this.h=P}}var de=new w(()=>new oe,d=>d.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,k){this.h=y,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let re,F=!1,le=new ye,W=()=>{const d=c.Promise.resolve(void 0);re=()=>{d.then(te)}};var te=()=>{for(var d;d=q();){try{d.h.call(d.g)}catch(k){H(k)}var y=de;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}F=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const k=()=>{};c.addEventListener("test",k,y),c.removeEventListener("test",k,y)}catch{}return d}();function ee(d,y){if(Z.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var k=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(B){e:{try{I(y.nodeName);var ue=!0;break e}catch{}ue=!1}ue||(y=null)}}else k=="mouseover"?y=d.fromElement:k=="mouseout"&&(y=d.toElement);this.relatedTarget=y,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ee.aa.h.call(this)}}S(ee,Z);var ae={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ae="closure_listenable_"+(1e6*Math.random()|0),pe=0;function he(d,y,k,P,ue){this.listener=d,this.proxy=null,this.src=y,this.type=k,this.capture=!!P,this.ha=ue,this.key=++pe,this.da=this.fa=!1}function ve(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function _e(d){this.src=d,this.g={},this.h=0}_e.prototype.add=function(d,y,k,P,ue){var xe=d.toString();d=this.g[xe],d||(d=this.g[xe]=[],this.h++);var Re=qe(d,y,P,ue);return-1<Re?(y=d[Re],k||(y.fa=!1)):(y=new he(y,this.src,xe,!!P,ue),y.fa=k,d.push(y)),y};function Se(d,y){var k=y.type;if(k in d.g){var P=d.g[k],ue=Array.prototype.indexOf.call(P,y,void 0),xe;(xe=0<=ue)&&Array.prototype.splice.call(P,ue,1),xe&&(ve(y),d.g[k].length==0&&(delete d.g[k],d.h--))}}function qe(d,y,k,P){for(var ue=0;ue<d.length;++ue){var xe=d[ue];if(!xe.da&&xe.listener==y&&xe.capture==!!k&&xe.ha==P)return ue}return-1}var Ue="closure_lm_"+(1e6*Math.random()|0),yt={};function Vt(d,y,k,P,ue){if(Array.isArray(y)){for(var xe=0;xe<y.length;xe++)Vt(d,y[xe],k,P,ue);return null}return k=ya(k),d&&d[Ae]?d.K(y,k,u(P)?!!P.capture:!1,ue):Hr(d,y,k,!1,P,ue)}function Hr(d,y,k,P,ue,xe){if(!y)throw Error("Invalid event type");var Re=u(ue)?!!ue.capture:!!ue,At=va(d);if(At||(d[Ue]=At=new _e(d)),k=At.add(y,k,P,Re,xe),k.proxy)return k;if(P=nr(),k.proxy=P,P.src=d,P.listener=k,d.addEventListener)ge||(ue=Re),ue===void 0&&(ue=!1),d.addEventListener(y.toString(),P,ue);else if(d.attachEvent)d.attachEvent(xa(y.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return k}function nr(){function d(k){return y.call(d.src,d.listener,k)}const y=Po;return d}function Kt(d,y,k,P,ue){if(Array.isArray(y))for(var xe=0;xe<y.length;xe++)Kt(d,y[xe],k,P,ue);else P=u(P)?!!P.capture:!!P,k=ya(k),d&&d[Ae]?(d=d.i,y=String(y).toString(),y in d.g&&(xe=d.g[y],k=qe(xe,k,P,ue),-1<k&&(ve(xe[k]),Array.prototype.splice.call(xe,k,1),xe.length==0&&(delete d.g[y],d.h--)))):d&&(d=va(d))&&(y=d.g[y.toString()],d=-1,y&&(d=qe(y,k,P,ue)),(k=-1<d?y[d]:null)&&ws(k))}function ws(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[Ae])Se(y.i,d);else{var k=d.type,P=d.proxy;y.removeEventListener?y.removeEventListener(k,P,d.capture):y.detachEvent?y.detachEvent(xa(k),P):y.addListener&&y.removeListener&&y.removeListener(P),(k=va(y))?(Se(k,d),k.h==0&&(k.src=null,y[Ue]=null)):ve(d)}}}function xa(d){return d in yt?yt[d]:yt[d]="on"+d}function Po(d,y){if(d.da)d=!0;else{y=new ee(y,this);var k=d.listener,P=d.ha||d.src;d.fa&&ws(d),d=k.call(P,y)}return d}function va(d){return d=d[Ue],d instanceof _e?d:null}var Lo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ya(d){return typeof d=="function"?d:(d[Lo]||(d[Lo]=function(y){return d.handleEvent(y)}),d[Lo])}function Wt(){U.call(this),this.i=new _e(this),this.M=this,this.F=null}S(Wt,U),Wt.prototype[Ae]=!0,Wt.prototype.removeEventListener=function(d,y,k,P){Kt(this,d,y,k,P)};function Mt(d,y){var k,P=d.F;if(P)for(k=[];P;P=P.F)k.push(P);if(d=d.M,P=y.type||y,typeof y=="string")y=new Z(y,d);else if(y instanceof Z)y.target=y.target||d;else{var ue=y;y=new Z(P,d),O(y,ue)}if(ue=!0,k)for(var xe=k.length-1;0<=xe;xe--){var Re=y.g=k[xe];ue=ba(Re,P,!0,y)&&ue}if(Re=y.g=d,ue=ba(Re,P,!0,y)&&ue,ue=ba(Re,P,!1,y)&&ue,k)for(xe=0;xe<k.length;xe++)Re=y.g=k[xe],ue=ba(Re,P,!1,y)&&ue}Wt.prototype.N=function(){if(Wt.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var k=d.g[y],P=0;P<k.length;P++)ve(k[P]);delete d.g[y],d.h--}}this.F=null},Wt.prototype.K=function(d,y,k,P){return this.i.add(String(d),y,!1,k,P)},Wt.prototype.L=function(d,y,k,P){return this.i.add(String(d),y,!0,k,P)};function ba(d,y,k,P){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var ue=!0,xe=0;xe<y.length;++xe){var Re=y[xe];if(Re&&!Re.da&&Re.capture==k){var At=Re.listener,Fr=Re.ha||Re.src;Re.fa&&Se(d.i,Re),ue=At.call(Fr,P)!==!1&&ue}}return ue&&!P.defaultPrevented}function j0(d,y,k){if(typeof d=="function")k&&(d=p(d,k));else if(d&&typeof d.handleEvent=="function")d=p(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(d,y||0)}function w0(d){d.g=j0(()=>{d.g=null,d.i&&(d.i=!1,w0(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class S0 extends U{constructor(y,k){super(),this.m=y,this.l=k,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:w0(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ja(d){U.call(this),this.h=d,this.g={}}S(ja,U);var qo=[];function Bo(d){Q(d.g,function(y,k){this.g.hasOwnProperty(k)&&ws(y)},d),d.g={}}ja.prototype.N=function(){ja.aa.N.call(this),Bo(this)},ja.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=c.JSON.stringify,wa=c.JSON.parse,T0=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Ho(){}Ho.prototype.h=null;function Lu(d){return d.h||(d.h=d.i())}function Hl(){}var Bs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function k0(){Z.call(this,"d")}S(k0,Z);function bi(){Z.call(this,"c")}S(bi,Z);var Sa={},qu=null;function Xt(){return qu=qu||new Wt}Sa.La="serverreachability";function ji(d){Z.call(this,Sa.La,d)}S(ji,Z);function Fo(d){const y=Xt();Mt(y,new ji(y))}Sa.STAT_EVENT="statevent";function A0(d,y){Z.call(this,Sa.STAT_EVENT,d),this.stat=y}S(A0,Z);function kr(d){const y=Xt();Mt(y,new A0(y,d))}Sa.Ma="timingevent";function N0(d,y){Z.call(this,Sa.Ma,d),this.size=y}S(N0,Z);function Ta(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function Uo(){this.g=!0}Uo.prototype.xa=function(){this.g=!1};function Qn(d,y,k,P,ue,xe){d.info(function(){if(d.g)if(xe)for(var Re="",At=xe.split("&"),Fr=0;Fr<At.length;Fr++){var ft=At[Fr].split("=");if(1<ft.length){var Qr=ft[0];ft=ft[1];var Jr=Qr.split("_");Re=2<=Jr.length&&Jr[1]=="type"?Re+(Qr+"="+ft+"&"):Re+(Qr+"=redacted&")}}else Re=null;else Re=xe;return"XMLHTTP REQ ("+P+") [attempt "+ue+"]: "+y+`
`+k+`
`+Re})}function wi(d,y,k,P,ue,xe,Re){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+ue+"]: "+y+`
`+k+`
`+xe+" "+Re})}function Si(d,y,k,P){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+E0(d,k)+(P?" "+P:"")})}function Bu(d,y){d.info(function(){return"TIMEOUT: "+y})}Uo.prototype.info=function(){};function E0(d,y){if(!d.g)return y;if(!y)return null;try{var k=JSON.parse(y);if(k){for(d=0;d<k.length;d++)if(Array.isArray(k[d])){var P=k[d];if(!(2>P.length)){var ue=P[1];if(Array.isArray(ue)&&!(1>ue.length)){var xe=ue[0];if(xe!="noop"&&xe!="stop"&&xe!="close")for(var Re=1;Re<ue.length;Re++)ue[Re]=""}}}}return Dn(k)}catch{return y}}var Fl={NO_ERROR:0,TIMEOUT:8},Ss={},Ul;function Vo(){}S(Vo,Ho),Vo.prototype.g=function(){return new XMLHttpRequest},Vo.prototype.i=function(){return{}},Ul=new Vo;function Ts(d,y,k,P){this.j=d,this.i=y,this.l=k,this.R=P||1,this.U=new ja(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new C0}function C0(){this.i=null,this.g="",this.h=!1}var Hu={},He={};function ne(d,y,k){d.L=1,d.v=Vu(Ti(y)),d.m=k,d.P=!0,Ce(d,null)}function Ce(d,y){d.F=Date.now(),ur(d),d.A=Ti(d.v);var k=d.A,P=d.R;Array.isArray(P)||(P=[String(P)]),Q3(k.i,"t",P),d.C=0,k=d.j.J,d.h=new C0,d.g=g5(d.j,k?y:null,!d.m),0<d.O&&(d.M=new S0(p(d.Y,d,d.g),d.O)),y=d.U,k=d.g,P=d.ca;var ue="readystatechange";Array.isArray(ue)||(ue&&(qo[0]=ue.toString()),ue=qo);for(var xe=0;xe<ue.length;xe++){var Re=Vt(k,ue[xe],P||y.handleEvent,!1,y.h||y);if(!Re)break;y.g[Re.key]=Re}y=d.H?E(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Fo(),Qn(d.i,d.u,d.A,d.l,d.R,d.m)}Ts.prototype.ca=function(d){d=d.target;const y=this.M;y&&ki(d)==3?y.j():this.Y(d)},Ts.prototype.Y=function(d){try{if(d==this.g)e:{const Jr=ki(this.g);var y=this.g.Ba();const Wl=this.g.Z();if(!(3>Jr)&&(Jr!=3||this.g&&(this.h.h||this.g.oa()||i5(this.g)))){this.J||Jr!=4||y==7||(y==8||0>=Wl?Fo(3):Fo(2)),Gr(this);var k=this.g.Z();this.X=k;t:if(Be(this)){var P=i5(this.g);d="";var ue=P.length,xe=ki(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yn(this),tn(this);var Re="";break t}this.h.i=new c.TextDecoder}for(y=0;y<ue;y++)this.h.h=!0,d+=this.h.i.decode(P[y],{stream:!(xe&&y==ue-1)});P.length=0,this.h.g+=d,this.C=0,Re=this.h.g}else Re=this.g.oa();if(this.o=k==200,wi(this.i,this.u,this.A,this.l,this.R,Jr,k),this.o){if(this.T&&!this.K){t:{if(this.g){var At,Fr=this.g;if((At=Fr.g?Fr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(At)){var ft=At;break t}}ft=null}if(k=ft)Si(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ko(this,k);else{this.o=!1,this.s=3,kr(12),yn(this),tn(this);break e}}if(this.P){k=!0;let ks;for(;!this.J&&this.C<Re.length;)if(ks=_t(this,Re),ks==He){Jr==4&&(this.s=4,kr(14),k=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if(ks==Hu){this.s=4,kr(15),Si(this.i,this.l,Re,"[Invalid Chunk]"),k=!1;break}else Si(this.i,this.l,ks,null),Ko(this,ks);if(Be(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jr!=4||Re.length!=0||this.h.h||(this.s=1,kr(16),k=!1),this.o=this.o&&k,!k)Si(this.i,this.l,Re,"[Invalid Chunked Response]"),yn(this),tn(this);else if(0<Re.length&&!this.W){this.W=!0;var Qr=this.j;Qr.g==this&&Qr.ba&&!Qr.M&&(Qr.j.info("Great, no buffering proxy detected. Bytes received: "+Re.length),Gp(Qr),Qr.M=!0,kr(11))}}else Si(this.i,this.l,Re,null),Ko(this,Re);Jr==4&&yn(this),this.o&&!this.J&&(Jr==4?d5(this.j,this):(this.o=!1,ur(this)))}else mC(this.g),k==400&&0<Re.indexOf("Unknown SID")?(this.s=3,kr(12)):(this.s=0,kr(13)),yn(this),tn(this)}}}catch{}finally{}};function Be(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function _t(d,y){var k=d.C,P=y.indexOf(`
`,k);return P==-1?He:(k=Number(y.substring(k,P)),isNaN(k)?Hu:(P+=1,P+k>y.length?He:(y=y.slice(P,P+k),d.C=P+k,y)))}Ts.prototype.cancel=function(){this.J=!0,yn(this)};function ur(d){d.S=Date.now()+d.I,Yt(d,d.I)}function Yt(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Ta(p(d.ba,d),y)}function Gr(d){d.B&&(c.clearTimeout(d.B),d.B=null)}Ts.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Bu(this.i,this.A),this.L!=2&&(Fo(),kr(17)),yn(this),this.s=2,tn(this)):Yt(this,this.S-d)};function tn(d){d.j.G==0||d.J||d5(d.j,d)}function yn(d){Gr(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Bo(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function Ko(d,y){try{var k=d.j;if(k.G!=0&&(k.g==d||$p(k.h,d))){if(!d.K&&$p(k.h,d)&&k.G==3){try{var P=k.Da.g.parse(y)}catch{P=null}if(Array.isArray(P)&&P.length==3){var ue=P;if(ue[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<d.F)Qu(k),Yu(k);else break e;Rp(k),kr(18)}}else k.za=ue[1],0<k.za-k.T&&37500>ue[2]&&k.F&&k.v==0&&!k.C&&(k.C=Ta(p(k.Za,k),6e3));if(1>=H3(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else Xo(k,11)}else if((d.K||k.g==d)&&Qu(k),!T(y))for(ue=k.Da.g.parse(y),y=0;y<ue.length;y++){let ft=ue[y];if(k.T=ft[0],ft=ft[1],k.G==2)if(ft[0]=="c"){k.K=ft[1],k.ia=ft[2];const Qr=ft[3];Qr!=null&&(k.la=Qr,k.j.info("VER="+k.la));const Jr=ft[4];Jr!=null&&(k.Aa=Jr,k.j.info("SVER="+k.Aa));const Wl=ft[5];Wl!=null&&typeof Wl=="number"&&0<Wl&&(P=1.5*Wl,k.L=P,k.j.info("backChannelRequestTimeoutMs_="+P)),P=k;const ks=d.g;if(ks){const Ju=ks.g?ks.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ju){var xe=P.h;xe.g||Ju.indexOf("spdy")==-1&&Ju.indexOf("quic")==-1&&Ju.indexOf("h2")==-1||(xe.j=xe.l,xe.g=new Set,xe.h&&(zp(xe,xe.h),xe.h=null))}if(P.D){const Op=ks.g?ks.g.getResponseHeader("X-HTTP-Session-Id"):null;Op&&(P.ya=Op,Rt(P.I,P.D,Op))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-d.F,k.j.info("Handshake RTT: "+k.R+"ms")),P=k;var Re=d;if(P.qa=p5(P,P.J?P.ia:null,P.W),Re.K){F3(P.h,Re);var At=Re,Fr=P.L;Fr&&(At.I=Fr),At.B&&(Gr(At),ur(At)),P.g=Re}else h5(P);0<k.i.length&&Zu(k)}else ft[0]!="stop"&&ft[0]!="close"||Xo(k,7);else k.G==3&&(ft[0]=="stop"||ft[0]=="close"?ft[0]=="stop"?Xo(k,7):Ip(k):ft[0]!="noop"&&k.l&&k.l.ta(ft),k.v=0)}}Fo(4)}catch{}}var Ar=class{constructor(d,y){this.g=d,this.map=y}};function M0(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _0(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function H3(d){return d.h?1:d.g?d.g.size:0}function $p(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function zp(d,y){d.g?d.g.add(y):d.h=y}function F3(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}M0.prototype.cancel=function(){if(this.i=U3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function U3(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const k of d.g.values())y=y.concat(k.D);return y}return N(d.i)}function QE(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var y=[],k=d.length,P=0;P<k;P++)y.push(d[P]);return y}y=[],k=0;for(P in d)y[k++]=d[P];return y}function JE(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var y=[];d=d.length;for(var k=0;k<d;k++)y.push(k);return y}y=[],k=0;for(const P in d)y[k++]=P;return y}}}function V3(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var k=JE(d),P=QE(d),ue=P.length,xe=0;xe<ue;xe++)y.call(void 0,P[xe],k&&k[xe],d)}var K3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eC(d,y){if(d){d=d.split("&");for(var k=0;k<d.length;k++){var P=d[k].indexOf("="),ue=null;if(0<=P){var xe=d[k].substring(0,P);ue=d[k].substring(P+1)}else xe=d[k];y(xe,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function Wo(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Wo){this.h=d.h,Fu(this,d.j),this.o=d.o,this.g=d.g,Uu(this,d.s),this.l=d.l;var y=d.i,k=new D0;k.i=y.i,y.g&&(k.g=new Map(y.g),k.h=y.h),W3(this,k),this.m=d.m}else d&&(y=String(d).match(K3))?(this.h=!1,Fu(this,y[1]||"",!0),this.o=$0(y[2]||""),this.g=$0(y[3]||"",!0),Uu(this,y[4]),this.l=$0(y[5]||"",!0),W3(this,y[6]||"",!0),this.m=$0(y[7]||"")):(this.h=!1,this.i=new D0(null,this.h))}Wo.prototype.toString=function(){var d=[],y=this.j;y&&d.push(z0(y,X3,!0),":");var k=this.g;return(k||y=="file")&&(d.push("//"),(y=this.o)&&d.push(z0(y,X3,!0),"@"),d.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&d.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&d.push("/"),d.push(z0(k,k.charAt(0)=="/"?nC:rC,!0))),(k=this.i.toString())&&d.push("?",k),(k=this.m)&&d.push("#",z0(k,iC)),d.join("")};function Ti(d){return new Wo(d)}function Fu(d,y,k){d.j=k?$0(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Uu(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function W3(d,y,k){y instanceof D0?(d.i=y,aC(d.i,d.h)):(k||(y=z0(y,sC)),d.i=new D0(y,d.h))}function Rt(d,y,k){d.i.set(y,k)}function Vu(d){return Rt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function $0(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function z0(d,y,k){return typeof d=="string"?(d=encodeURI(d).replace(y,tC),k&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function tC(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var X3=/[#\/\?@]/g,rC=/[#\?:]/g,nC=/[#\?]/g,sC=/[#\?@]/g,iC=/#/g;function D0(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function ka(d){d.g||(d.g=new Map,d.h=0,d.i&&eC(d.i,function(y,k){d.add(decodeURIComponent(y.replace(/\+/g," ")),k)}))}t=D0.prototype,t.add=function(d,y){ka(this),this.i=null,d=Vl(this,d);var k=this.g.get(d);return k||this.g.set(d,k=[]),k.push(y),this.h+=1,this};function Y3(d,y){ka(d),y=Vl(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Z3(d,y){return ka(d),y=Vl(d,y),d.g.has(y)}t.forEach=function(d,y){ka(this),this.g.forEach(function(k,P){k.forEach(function(ue){d.call(y,ue,P,this)},this)},this)},t.na=function(){ka(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),k=[];for(let P=0;P<y.length;P++){const ue=d[P];for(let xe=0;xe<ue.length;xe++)k.push(y[P])}return k},t.V=function(d){ka(this);let y=[];if(typeof d=="string")Z3(this,d)&&(y=y.concat(this.g.get(Vl(this,d))));else{d=Array.from(this.g.values());for(let k=0;k<d.length;k++)y=y.concat(d[k])}return y},t.set=function(d,y){return ka(this),this.i=null,d=Vl(this,d),Z3(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function Q3(d,y,k){Y3(d,y),0<k.length&&(d.i=null,d.g.set(Vl(d,y),N(k)),d.h+=k.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var k=0;k<y.length;k++){var P=y[k];const xe=encodeURIComponent(String(P)),Re=this.V(P);for(P=0;P<Re.length;P++){var ue=xe;Re[P]!==""&&(ue+="="+encodeURIComponent(String(Re[P]))),d.push(ue)}}return this.i=d.join("&")};function Vl(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function aC(d,y){y&&!d.j&&(ka(d),d.i=null,d.g.forEach(function(k,P){var ue=P.toLowerCase();P!=ue&&(Y3(this,P),Q3(this,ue,k))},d)),d.j=y}function oC(d,y){const k=new Uo;if(c.Image){const P=new Image;P.onload=g(Aa,k,"TestLoadImage: loaded",!0,y,P),P.onerror=g(Aa,k,"TestLoadImage: error",!1,y,P),P.onabort=g(Aa,k,"TestLoadImage: abort",!1,y,P),P.ontimeout=g(Aa,k,"TestLoadImage: timeout",!1,y,P),c.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else y(!1)}function lC(d,y){const k=new Uo,P=new AbortController,ue=setTimeout(()=>{P.abort(),Aa(k,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:P.signal}).then(xe=>{clearTimeout(ue),xe.ok?Aa(k,"TestPingServer: ok",!0,y):Aa(k,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(ue),Aa(k,"TestPingServer: error",!1,y)})}function Aa(d,y,k,P,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),P(k)}catch{}}function cC(){this.g=new T0}function hC(d,y,k){const P=k||"";try{V3(d,function(ue,xe){let Re=ue;u(ue)&&(Re=Dn(ue)),y.push(P+xe+"="+encodeURIComponent(Re))})}catch(ue){throw y.push(P+"type="+encodeURIComponent("_badmap")),ue}}function Ku(d){this.l=d.Ub||null,this.j=d.eb||!1}S(Ku,Ho),Ku.prototype.g=function(){return new Wu(this.l,this.j)},Ku.prototype.i=function(d){return function(){return d}}({});function Wu(d,y){Wt.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Wu,Wt),t=Wu.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,R0(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,I0(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,R0(this)),this.g&&(this.readyState=3,R0(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;J3(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function J3(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?I0(this):R0(this),this.readyState==3&&J3(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,I0(this))},t.Qa=function(d){this.g&&(this.response=d,I0(this))},t.ga=function(){this.g&&I0(this)};function I0(d){d.readyState=4,d.l=null,d.j=null,d.v=null,R0(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var k=y.next();!k.done;)k=k.value,d.push(k[0]+": "+k[1]),k=y.next();return d.join(`\r
`)};function R0(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Wu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function e5(d){let y="";return Q(d,function(k,P){y+=P,y+=":",y+=k,y+=`\r
`}),y}function Dp(d,y,k){e:{for(P in k){var P=!1;break e}P=!0}P||(k=e5(k),typeof d=="string"?k!=null&&encodeURIComponent(String(k)):Rt(d,y,k))}function dr(d){Wt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(dr,Wt);var uC=/^https?$/i,dC=["POST","PUT"];t=dr.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,k,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ul.g(),this.v=this.o?Lu(this.o):Lu(Ul),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(xe){t5(this,xe);return}if(d=k||"",k=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var ue in P)k.set(ue,P[ue]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const xe of P.keys())k.set(xe,P.get(xe));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(k.keys()).find(xe=>xe.toLowerCase()=="content-type"),ue=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(dC,y,void 0))||P||ue||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[xe,Re]of k)this.g.setRequestHeader(xe,Re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{s5(this),this.u=!0,this.g.send(d),this.u=!1}catch(xe){t5(this,xe)}};function t5(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,r5(d),Xu(d)}function r5(d){d.A||(d.A=!0,Mt(d,"complete"),Mt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Mt(this,"complete"),Mt(this,"abort"),Xu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xu(this,!0)),dr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?n5(this):this.bb())},t.bb=function(){n5(this)};function n5(d){if(d.h&&typeof l<"u"&&(!d.v[1]||ki(d)!=4||d.Z()!=2)){if(d.u&&ki(d)==4)j0(d.Ea,0,d);else if(Mt(d,"readystatechange"),ki(d)==4){d.h=!1;try{const Re=d.Z();e:switch(Re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var k;if(!(k=y)){var P;if(P=Re===0){var ue=String(d.D).match(K3)[1]||null;!ue&&c.self&&c.self.location&&(ue=c.self.location.protocol.slice(0,-1)),P=!uC.test(ue?ue.toLowerCase():"")}k=P}if(k)Mt(d,"complete"),Mt(d,"success");else{d.m=6;try{var xe=2<ki(d)?d.g.statusText:""}catch{xe=""}d.l=xe+" ["+d.Z()+"]",r5(d)}}finally{Xu(d)}}}}function Xu(d,y){if(d.g){s5(d);const k=d.g,P=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||Mt(d,"ready");try{k.onreadystatechange=P}catch{}}}function s5(d){d.I&&(c.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ki(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ki(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),wa(y)}};function i5(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function mC(d){const y={};d=(d.g&&2<=ki(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(T(d[P]))continue;var k=L(d[P]);const ue=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const xe=y[ue]||[];y[ue]=xe,xe.push(k)}D(y,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function G0(d,y,k){return k&&k.internalChannelParams&&k.internalChannelParams[d]||y}function a5(d){this.Aa=0,this.i=[],this.j=new Uo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=G0("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=G0("baseRetryDelayMs",5e3,d),this.cb=G0("retryDelaySeedMs",1e4,d),this.Wa=G0("forwardChannelMaxRetries",2,d),this.wa=G0("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new M0(d&&d.concurrentRequestLimit),this.Da=new cC,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=a5.prototype,t.la=8,t.G=1,t.connect=function(d,y,k,P){kr(0),this.W=d,this.H=y||{},k&&P!==void 0&&(this.H.OSID=k,this.H.OAID=P),this.F=this.X,this.I=p5(this,null,this.W),Zu(this)};function Ip(d){if(o5(d),d.G==3){var y=d.U++,k=Ti(d.I);if(Rt(k,"SID",d.K),Rt(k,"RID",y),Rt(k,"TYPE","terminate"),O0(d,k),y=new Ts(d,d.j,y),y.L=2,y.v=Vu(Ti(k)),k=!1,c.navigator&&c.navigator.sendBeacon)try{k=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!k&&c.Image&&(new Image().src=y.v,k=!0),k||(y.g=g5(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ur(y)}f5(d)}function Yu(d){d.g&&(Gp(d),d.g.cancel(),d.g=null)}function o5(d){Yu(d),d.u&&(c.clearTimeout(d.u),d.u=null),Qu(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function Zu(d){if(!_0(d.h)&&!d.s){d.s=!0;var y=d.Ga;re||W(),F||(re(),F=!0),le.add(y,d),d.B=0}}function fC(d,y){return H3(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Ta(p(d.Ga,d,y),m5(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const ue=new Ts(this,this.j,d);let xe=this.o;if(this.S&&(xe?(xe=E(xe),O(xe,this.S)):xe=this.S),this.m!==null||this.O||(ue.H=xe,xe=null),this.P)e:{for(var y=0,k=0;k<this.i.length;k++){t:{var P=this.i[k];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(y+=P,4096<y){y=k;break e}if(y===4096||k===this.i.length-1){y=k+1;break e}}y=1e3}else y=1e3;y=c5(this,ue,y),k=Ti(this.I),Rt(k,"RID",d),Rt(k,"CVER",22),this.D&&Rt(k,"X-HTTP-Session-Id",this.D),O0(this,k),xe&&(this.O?y="headers="+encodeURIComponent(String(e5(xe)))+"&"+y:this.m&&Dp(k,this.m,xe)),zp(this.h,ue),this.Ua&&Rt(k,"TYPE","init"),this.P?(Rt(k,"$req",y),Rt(k,"SID","null"),ue.T=!0,ne(ue,k,null)):ne(ue,k,y),this.G=2}}else this.G==3&&(d?l5(this,d):this.i.length==0||_0(this.h)||l5(this))};function l5(d,y){var k;y?k=y.l:k=d.U++;const P=Ti(d.I);Rt(P,"SID",d.K),Rt(P,"RID",k),Rt(P,"AID",d.T),O0(d,P),d.m&&d.o&&Dp(P,d.m,d.o),k=new Ts(d,d.j,k,d.B+1),d.m===null&&(k.H=d.o),y&&(d.i=y.D.concat(d.i)),y=c5(d,k,1e3),k.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),zp(d.h,k),ne(k,P,y)}function O0(d,y){d.H&&Q(d.H,function(k,P){Rt(y,P,k)}),d.l&&V3({},function(k,P){Rt(y,P,k)})}function c5(d,y,k){k=Math.min(d.i.length,k);var P=d.l?p(d.l.Na,d.l,d):null;e:{var ue=d.i;let xe=-1;for(;;){const Re=["count="+k];xe==-1?0<k?(xe=ue[0].g,Re.push("ofs="+xe)):xe=0:Re.push("ofs="+xe);let At=!0;for(let Fr=0;Fr<k;Fr++){let ft=ue[Fr].g;const Qr=ue[Fr].map;if(ft-=xe,0>ft)xe=Math.max(0,ue[Fr].g-100),At=!1;else try{hC(Qr,Re,"req"+ft+"_")}catch{P&&P(Qr)}}if(At){P=Re.join("&");break e}}}return d=d.i.splice(0,k),y.D=d,P}function h5(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;re||W(),F||(re(),F=!0),le.add(y,d),d.v=0}}function Rp(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Ta(p(d.Fa,d),m5(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,u5(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Ta(p(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kr(10),Yu(this),u5(this))};function Gp(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function u5(d){d.g=new Ts(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=Ti(d.qa);Rt(y,"RID","rpc"),Rt(y,"SID",d.K),Rt(y,"AID",d.T),Rt(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Rt(y,"TO",d.ja),Rt(y,"TYPE","xmlhttp"),O0(d,y),d.m&&d.o&&Dp(y,d.m,d.o),d.L&&(d.g.I=d.L);var k=d.g;d=d.ia,k.L=1,k.v=Vu(Ti(y)),k.m=null,k.P=!0,Ce(k,d)}t.Za=function(){this.C!=null&&(this.C=null,Yu(this),Rp(this),kr(19))};function Qu(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function d5(d,y){var k=null;if(d.g==y){Qu(d),Gp(d),d.g=null;var P=2}else if($p(d.h,y))k=y.D,F3(d.h,y),P=1;else return;if(d.G!=0){if(y.o)if(P==1){k=y.m?y.m.length:0,y=Date.now()-y.F;var ue=d.B;P=Xt(),Mt(P,new N0(P,k)),Zu(d)}else h5(d);else if(ue=y.s,ue==3||ue==0&&0<y.X||!(P==1&&fC(d,y)||P==2&&Rp(d)))switch(k&&0<k.length&&(y=d.h,y.i=y.i.concat(k)),ue){case 1:Xo(d,5);break;case 4:Xo(d,10);break;case 3:Xo(d,6);break;default:Xo(d,2)}}}function m5(d,y){let k=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(k*=2),k*y}function Xo(d,y){if(d.j.info("Error code "+y),y==2){var k=p(d.fb,d),P=d.Xa;const ue=!P;P=new Wo(P||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Fu(P,"https"),Vu(P),ue?oC(P.toString(),k):lC(P.toString(),k)}else kr(2);d.G=0,d.l&&d.l.sa(y),f5(d),o5(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),kr(2)):(this.j.info("Failed to ping google.com"),kr(1))};function f5(d){if(d.G=0,d.ka=[],d.l){const y=U3(d.h);(y.length!=0||d.i.length!=0)&&($(d.ka,y),$(d.ka,d.i),d.h.i.length=0,N(d.i),d.i.length=0),d.l.ra()}}function p5(d,y,k){var P=k instanceof Wo?Ti(k):new Wo(k);if(P.g!="")y&&(P.g=y+"."+P.g),Uu(P,P.s);else{var ue=c.location;P=ue.protocol,y=y?y+"."+ue.hostname:ue.hostname,ue=+ue.port;var xe=new Wo(null);P&&Fu(xe,P),y&&(xe.g=y),ue&&Uu(xe,ue),k&&(xe.l=k),P=xe}return k=d.D,y=d.ya,k&&y&&Rt(P,k,y),Rt(P,"VER",d.la),O0(d,P),P}function g5(d,y,k){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new dr(new Ku({eb:k})):new dr(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function x5(){}t=x5.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Jn(d,y){Wt.call(this),this.g=new a5(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!T(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!T(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Kl(this)}S(Jn,Wt),Jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jn.prototype.close=function(){Ip(this.g)},Jn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var k={};k.__data__=d,d=k}else this.u&&(k={},k.__data__=Dn(d),d=k);y.i.push(new Ar(y.Ya++,d)),y.G==3&&Zu(y)},Jn.prototype.N=function(){this.g.l=null,delete this.j,Ip(this.g),delete this.g,Jn.aa.N.call(this)};function v5(d){k0.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const k in y){d=k;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}S(v5,k0);function y5(){bi.call(this),this.status=1}S(y5,bi);function Kl(d){this.g=d}S(Kl,x5),Kl.prototype.ua=function(){Mt(this.g,"a")},Kl.prototype.ta=function(d){Mt(this.g,new v5(d))},Kl.prototype.sa=function(d){Mt(this.g,new y5)},Kl.prototype.ra=function(){Mt(this.g,"b")},Jn.prototype.send=Jn.prototype.o,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,Fl.NO_ERROR=0,Fl.TIMEOUT=8,Fl.HTTP_ERROR=6,Ss.COMPLETE="complete",Hl.EventType=Bs,Bs.OPEN="a",Bs.CLOSE="b",Bs.ERROR="c",Bs.MESSAGE="d",Wt.prototype.listen=Wt.prototype.K,dr.prototype.listenOnce=dr.prototype.L,dr.prototype.getLastError=dr.prototype.Ka,dr.prototype.getLastErrorCode=dr.prototype.Ba,dr.prototype.getStatus=dr.prototype.Z,dr.prototype.getResponseJson=dr.prototype.Oa,dr.prototype.getResponseText=dr.prototype.oa,dr.prototype.send=dr.prototype.ea,dr.prototype.setWithCredentials=dr.prototype.Ha}).apply(typeof xd<"u"?xd:typeof self<"u"?self:typeof window<"u"?window:{});const My="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rn.UNAUTHENTICATED=new Rn(null),Rn.GOOGLE_CREDENTIALS=new Rn("google-credentials-uid"),Rn.FIRST_PARTY=new Rn("first-party-uid"),Rn.MOCK_USER=new Rn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ap="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new tv("@firebase/firestore");function Gs(t,...e){if(af.logLevel<=jt.DEBUG){const r=e.map(mT);af.debug(`Firestore (${ap}): ${t}`,...r)}}function dT(t,...e){if(af.logLevel<=jt.ERROR){const r=e.map(mT);af.error(`Firestore (${ap}): ${t}`,...r)}}function mT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(t="Unexpected state"){const e=`FIRESTORE (${ap}) INTERNAL ASSERTION FAILED: `+t;throw dT(e),new Error(e)}function Sh(t,e){t||fT()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class Is extends ci{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nG{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Rn.UNAUTHENTICATED))}shutdown(){}}class iG{constructor(e){this.t=e,this.currentUser=Rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Sh(this.o===void 0);let s=this.i;const i=h=>this.i!==s?(s=this.i,r(h)):Promise.resolve();let a=new Th;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Th,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{Gs("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(Gs("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Th)}},0),l()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==e?(Gs("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Sh(typeof s.accessToken=="string"),new nG(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Sh(e===null||typeof e=="string"),new Rn(e)}}class aG{constructor(e,r,s){this.l=e,this.h=r,this.P=s,this.type="FirstParty",this.user=Rn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class oG{constructor(e,r,s){this.l=e,this.h=r,this.P=s}getToken(){return Promise.resolve(new aG(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Rn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cG{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Sh(this.o===void 0);const s=a=>{a.error!=null&&Gs("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,Gs("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};const i=a=>{Gs("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Gs("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Sh(typeof r.token=="string"),this.R=r.token,new lG(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hG(t){return t.name==="IndexedDbTransactionError"}class of{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new of("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof of&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _y,ut;(ut=_y||(_y={}))[ut.OK=0]="OK",ut[ut.CANCELLED=1]="CANCELLED",ut[ut.UNKNOWN=2]="UNKNOWN",ut[ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ut[ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ut[ut.NOT_FOUND=5]="NOT_FOUND",ut[ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",ut[ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",ut[ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",ut[ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ut[ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ut[ut.ABORTED=10]="ABORTED",ut[ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",ut[ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",ut[ut.INTERNAL=13]="INTERNAL",ut[ut.UNAVAILABLE=14]="UNAVAILABLE",ut[ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new uT([4294967295,4294967295],0);function _1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uG{constructor(e,r,s=1e3,i=1.5,a=6e4){this.ui=e,this.timerId=r,this.ko=s,this.qo=i,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-s);i>0&&Gs("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dv{constructor(e,r,s,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=i,this.removalCallback=a,this.deferred=new Th,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,i,a){const l=Date.now()+s,c=new dv(e,r,l,i,a);return c.start(s),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Is(Ds.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var $y,zy;(zy=$y||($y={})).ea="default",zy.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dG(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy=new Map;function mG(t,e,r,s){if(e===!0&&s===!0)throw new Is(Ds.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e){var r,s;if(e.host===void 0){if(e.ssl!==void 0)throw new Is(Ds.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Is(Ds.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dG((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Is(Ds.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Is(Ds.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Is(Ds.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fG{constructor(e,r,s,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Iy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Is(Ds.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Is(Ds.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Iy(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new sG;switch(s.type){case"firstParty":return new oG(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Is(Ds.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=Dy.get(r);s&&(Gs("ComponentProvider","Removing Datastore"),Dy.delete(r),s.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new uG(this,"async_queue_retry"),this.Vu=()=>{const s=_1();s&&Gs("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const r=_1();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=_1();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Th;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!hG(e))throw e;Gs("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(s=>{this.Eu=s,this.du=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(s);throw dT("INTERNAL UNHANDLED ERROR: ",i),s}).then(s=>(this.du=!1,s))));return this.mu=r,r}enqueueAfterDelay(e,r,s){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=dv.createAndSchedule(this,e,r,s,a=>this.yu(a));return this.Tu.push(i),i}fu(){this.Eu&&fT()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}class pG extends fG{constructor(e,r,s,i){super(e,r,s,i),this.type="firestore",this._queue=new Ry,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ry(e),this._firestoreClient=void 0,await e}}}(function(e,r=!0){(function(i){ap=i})(c0),Nl(new bo("firestore",(s,{instanceIdentifier:i,options:a})=>{const l=s.getProvider("app").getImmediate(),c=new pG(new iG(s.getProvider("auth-internal")),new cG(s.getProvider("app-check-internal")),function(u,m){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Is(Ds.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new of(u.options.projectId,m)}(l,i),l);return a=Object.assign({useFetchStreams:r},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),ti(My,"4.7.3",e),ti(My,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG="type.googleapis.com/google.protobuf.Int64Value",xG="type.googleapis.com/google.protobuf.UInt64Value";function pT(t,e){const r={};for(const s in t)t.hasOwnProperty(s)&&(r[s]=e(t[s]));return r}function Xx(t){if(t==null)return null;if(t instanceof Number&&(t=t.valueOf()),typeof t=="number"&&isFinite(t)||t===!0||t===!1||Object.prototype.toString.call(t)==="[object String]")return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map(e=>Xx(e));if(typeof t=="function"||typeof t=="object")return pT(t,e=>Xx(e));throw new Error("Data cannot be encoded in JSON: "+t)}function lf(t){if(t==null)return t;if(t["@type"])switch(t["@type"]){case gG:case xG:{const e=Number(t.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+t);return e}default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(e=>lf(e)):typeof t=="function"||typeof t=="object"?pT(t,e=>lf(e)):t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $c extends ci{constructor(e,r,s){super(`${mv}/${e}`,r||""),this.details=s}}function vG(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function yG(t,e){let r=vG(t),s=r,i;try{const a=e&&e.error;if(a){const l=a.status;if(typeof l=="string"){if(!Gy[l])return new $c("internal","internal");r=Gy[l],s=l}const c=a.message;typeof c=="string"&&(s=c),i=a.details,i!==void 0&&(i=lf(i))}}catch{}return r==="ok"?null:new $c(r,s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(e,r,s){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||r.get().then(i=>this.messaging=i,()=>{}),this.appCheck||s.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){const r=await this.getAuthToken(),s=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:r,messagingToken:s,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="us-central1";function jG(t){let e=null;return{promise:new Promise((r,s)=>{e=setTimeout(()=>{s(new $c("deadline-exceeded","deadline-exceeded"))},t)}),cancel:()=>{e&&clearTimeout(e)}}}class wG{constructor(e,r,s,i,a=Yx,l){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new bG(r,s,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(a);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=Yx}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}}function SG(t,e,r){t.emulatorOrigin=`http://${e}:${r}`}function TG(t,e,r){return s=>AG(t,e,s,{})}async function kG(t,e,r,s){r["Content-Type"]="application/json";let i;try{i=await s(t,{method:"POST",body:JSON.stringify(e),headers:r})}catch{return{status:0,json:null}}let a=null;try{a=await i.json()}catch{}return{status:i.status,json:a}}function AG(t,e,r,s){const i=t._url(e);return NG(t,i,r,s)}async function NG(t,e,r,s){r=Xx(r);const i={data:r},a={},l=await t.contextProvider.getContext(s.limitedUseAppCheckTokens);l.authToken&&(a.Authorization="Bearer "+l.authToken),l.messagingToken&&(a["Firebase-Instance-ID-Token"]=l.messagingToken),l.appCheckToken!==null&&(a["X-Firebase-AppCheck"]=l.appCheckToken);const c=s.timeout||7e4,h=jG(c),u=await Promise.race([kG(e,i,a,t.fetchImpl),h.promise,t.cancelAllRequests]);if(h.cancel(),!u)throw new $c("cancelled","Firebase Functions instance was deleted.");const m=yG(u.status,u.json);if(m)throw m;if(!u.json)throw new $c("internal","Response is not valid JSON object.");let f=u.json.data;if(typeof f>"u"&&(f=u.json.result),typeof f>"u")throw new $c("internal","Response is missing data field.");return{data:lf(f)}}const Oy="@firebase/functions",Py="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG="auth-internal",CG="app-check-internal",MG="messaging-internal";function _G(t,e){const r=(s,{instanceIdentifier:i})=>{const a=s.getProvider("app").getImmediate(),l=s.getProvider(EG),c=s.getProvider(MG),h=s.getProvider(CG);return new wG(a,l,c,h,i,t)};Nl(new bo(mv,r,"PUBLIC").setMultipleInstances(!0)),ti(Oy,Py,e),ti(Oy,Py,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $G(t=CS(),e=Yx){const s=nv(qs(t),mv).getImmediate({identifier:e}),i=_z("functions");return i&&gT(s,...i),s}function gT(t,e,r){SG(qs(t),e,r)}function Za(t,e,r){return TG(qs(t),e)}_G(fetch.bind(self));const Zx={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},zG=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1");let vd=null,$1=null,yd=null;function xT(){if(!vd){const t=UD();t.length>0?vd=t[0]:vd=ES(Zx)}return vd}function z1(){return $1||($1=tG(xT())),$1}function hl(){if(!yd&&(yd=$G(xT()),zG&&typeof window<"u"&&new URLSearchParams(window.location.search).get("emulator")==="true"))try{gT(yd,"localhost",5001)}catch{}return yd}function ul(){return!!Zx.apiKey&&Zx.apiKey!=="YOUR_API_KEY"}const DG=22242,IG=5e3,RG=2e3,GG=3e4,OG=3e4,PG=30*1e3,LG=2e3,qG=60*60*1e3,Qx=["wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net"];class BG{constructor(e="",r=!0){As(this,"prefix");As(this,"enabled");this.prefix=e?`[${e}]`:"",this.enabled=r}log(e,r,s){if(!this.enabled)return;const i=this.prefix?`${this.prefix} ${r}`:r;if(e==="debug"||e==="info")return;const a=console[e]||console.log;s!==void 0?a(i,s):a(i)}debug(e,r){this.log("debug",e,r)}info(e,r){this.log("info",e,r)}warn(e,r){this.log("warn",e,r)}error(e,r){this.log("error",e,r)}setEnabled(e){this.enabled=e}}const D1={};function hi(t){const e=t||"__default__";return D1[e]||(D1[e]=new BG(t)),D1[e]}const dl=hi("NostrUtils"),Jx="qpzry9x8gf2tvdw0s3jn54khce6mua7l",HG=[996825010,642813549,513874426,1027748829,705979059];function vT(t){let e=1;for(const r of t){const s=e>>25;e=(e&33554431)<<5^r;for(let i=0;i<5;i++)s>>i&1&&(e^=HG[i])}return e}function yT(t){const e=[];for(const r of t)e.push(r.charCodeAt(0)>>5);e.push(0);for(const r of t)e.push(r.charCodeAt(0)&31);return e}function FG(t,e){return vT([...yT(t),...e])===1}function UG(t,e){const r=[...yT(t),...e,0,0,0,0,0,0],s=vT(r)^1,i=[];for(let a=0;a<6;a++)i.push(s>>5*(5-a)&31);return i}function bT(t,e,r,s){let i=0,a=0;const l=[],c=(1<<r)-1;for(const h of t){if(h<0||h>>e)return null;for(i=i<<e|h,a+=e;a>=r;)a-=r,l.push(i>>a&c)}if(s)a>0&&l.push(i<<r-a&c);else if(a>=e||i<<r-a&c)return null;return l}function VG(t,e){const r=bT(e,8,5,!0);if(!r)throw new Error("Failed to convert data to 5-bit groups");const s=UG(t,r);let i=t+"1";for(const a of r)i+=Jx[a];for(const a of s)i+=Jx[a];return i}function KG(t){const e=t.toLowerCase(),r=t.toUpperCase();if(t!==e&&t!==r)return null;const s=e,i=s.lastIndexOf("1");if(i<1||i+7>s.length||s.length>90)return null;const a=s.slice(0,i),l=s.slice(i+1),c=[];for(const m of l){const f=Jx.indexOf(m);if(f===-1)return null;c.push(f)}if(!FG(a,c))return null;const h=c.slice(0,-6),u=bT(new Uint8Array(h),5,8,!1);return u?{hrp:a,data:new Uint8Array(u)}:null}function WG(t){if(t.length%2!==0)throw new Error("Hex string must have even length");const e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=parseInt(t.slice(r,r+2),16);return e}function XG(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}function YG(t){if(t.length!==64)throw new Error("Pubkey must be 32 bytes (64 hex characters)");const e=WG(t);return VG("npub",e)}function jT(t){const e=KG(t);if(!e||e.hrp!=="npub")throw new Error("Invalid npub");return XG(e.data)}function cf(t,e=8){return t.length<=e*2+3?t:`${t.slice(0,e)}...${t.slice(-e)}`}function hf(){return typeof window<"u"&&window.nostr!==void 0}function ZG(t=3e3){return new Promise(e=>{if(hf()){e(!0);return}const r=Date.now(),s=setInterval(()=>{hf()?(clearInterval(s),e(!0)):Date.now()-r>t&&(clearInterval(s),e(!1))},100)})}function wT(t,e){return new Promise(r=>{let s=!1,i=null,a=null;const l=()=>{s||(s=!0,a&&(clearTimeout(a),a=null),i&&i.readyState!==WebSocket.CLOSED&&i.close())};a=setTimeout(()=>{dl.debug(`WebSocket timeout for relay: ${t}`),l(),r(null)},IG);try{i=new WebSocket(t)}catch(h){dl.debug(`Failed to create WebSocket for relay ${t}:`,h),l(),r(null);return}const c=Math.random().toString(36).substring(2,15);i.onopen=()=>{if(s||!i)return;const h=JSON.stringify(["REQ",c,{kinds:[0],authors:[e],limit:1}]);i.send(h)},i.onmessage=h=>{if(!s)try{const u=JSON.parse(h.data);if(u[0]==="EVENT"&&u[1]===c){const m=JSON.parse(u[2].content);l(),r({name:m.name||m.display_name,display_name:m.display_name,nip05:m.nip05,picture:m.picture,about:m.about})}else u[0]==="EOSE"&&(l(),r(null))}catch(u){dl.debug(`Failed to parse WebSocket message from ${t}:`,u)}},i.onerror=h=>{dl.debug(`WebSocket error for relay ${t}:`,h),l(),r(null)},i.onclose=()=>{s||(l(),r(null))}})}async function QG(t){try{const e=jT(t);for(const r of Qx)try{const s=await wT(r,e);if(s)return s}catch(s){dl.debug(`Failed to fetch profile from relay ${r}:`,s)}return dl.debug(`No profile found for npub across ${Qx.length} relays`),null}catch(e){return dl.debug("Failed to convert npub to hex:",e),null}}async function JG(t){const e=new Map,r=10;for(let s=0;s<t.length;s+=r){const a=t.slice(s,s+r).map(async l=>{const c=await QG(l);c&&e.set(l,c)});await Promise.all(a)}return e}const eO=["ba","aa","crypto","linalg","advlinalg","template","islr","ra","calc1","calc_lib_art"];function tO(t){return eO.includes(t)}function je(t,e,r){function s(c,h){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:h,constr:l,traits:new Set},enumerable:!1}),c._zod.traits.has(t))return;c._zod.traits.add(t),e(c,h);const u=l.prototype,m=Object.keys(u);for(let f=0;f<m.length;f++){const p=m[f];p in c||(c[p]=u[p].bind(c))}}const i=(r==null?void 0:r.Parent)??Object;class a extends i{}Object.defineProperty(a,"name",{value:t});function l(c){var h;const u=r!=null&&r.Parent?new a:this;s(u,c),(h=u._zod).deferred??(h.deferred=[]);for(const m of u._zod.deferred)m();return u}return Object.defineProperty(l,"init",{value:s}),Object.defineProperty(l,Symbol.hasInstance,{value:c=>{var h,u;return r!=null&&r.Parent&&c instanceof r.Parent?!0:(u=(h=c==null?void 0:c._zod)==null?void 0:h.traits)==null?void 0:u.has(t)}}),Object.defineProperty(l,"name",{value:t}),l}class zc extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class ST extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const TT={};function jo(t){return TT}function kT(t){const e=Object.values(t).filter(s=>typeof s=="number");return Object.entries(t).filter(([s,i])=>e.indexOf(+s)===-1).map(([s,i])=>i)}function e2(t,e){return typeof e=="bigint"?e.toString():e}function fv(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function pv(t){return t==null}function gv(t){const e=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(e,r)}function rO(t,e){const r=(t.toString().split(".")[1]||"").length,s=e.toString();let i=(s.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(s)){const h=s.match(/\d?e-(\d?)/);h!=null&&h[1]&&(i=Number.parseInt(h[1]))}const a=r>i?r:i,l=Number.parseInt(t.toFixed(a).replace(".","")),c=Number.parseInt(e.toFixed(a).replace(".",""));return l%c/10**a}const Ly=Symbol("evaluating");function zt(t,e,r){let s;Object.defineProperty(t,e,{get(){if(s!==Ly)return s===void 0&&(s=Ly,s=r()),s},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function Rl(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Gl(...t){const e={};for(const r of t){const s=Object.getOwnPropertyDescriptors(r);Object.assign(e,s)}return Object.defineProperties({},e)}function qy(t){return JSON.stringify(t)}function nO(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const AT="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function uf(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const sO=fv(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Xc(t){if(uf(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const r=e.prototype;return!(uf(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function NT(t){return Xc(t)?{...t}:Array.isArray(t)?[...t]:t}const iO=new Set(["string","number","symbol"]);function op(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Io(t,e,r){const s=new t._zod.constr(e??t._zod.def);return(!e||r!=null&&r.parent)&&(s._zod.parent=t),s}function Fe(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function aO(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const oO={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function lO(t,e){const r=t._zod.def,s=Gl(t._zod.def,{get shape(){const i={};for(const a in e){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&(i[a]=r.shape[a])}return Rl(this,"shape",i),i},checks:[]});return Io(t,s)}function cO(t,e){const r=t._zod.def,s=Gl(t._zod.def,{get shape(){const i={...t._zod.def.shape};for(const a in e){if(!(a in r.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&delete i[a]}return Rl(this,"shape",i),i},checks:[]});return Io(t,s)}function hO(t,e){if(!Xc(e))throw new Error("Invalid input to extend: expected a plain object");const r=t._zod.def.checks;if(r&&r.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=Gl(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e};return Rl(this,"shape",a),a},checks:[]});return Io(t,i)}function uO(t,e){if(!Xc(e))throw new Error("Invalid input to safeExtend: expected a plain object");const r={...t._zod.def,get shape(){const s={...t._zod.def.shape,...e};return Rl(this,"shape",s),s},checks:t._zod.def.checks};return Io(t,r)}function dO(t,e){const r=Gl(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e._zod.def.shape};return Rl(this,"shape",s),s},get catchall(){return e._zod.def.catchall},checks:[]});return Io(t,r)}function mO(t,e,r){const s=Gl(e._zod.def,{get shape(){const i=e._zod.def.shape,a={...i};if(r)for(const l in r){if(!(l in i))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(a[l]=t?new t({type:"optional",innerType:i[l]}):i[l])}else for(const l in i)a[l]=t?new t({type:"optional",innerType:i[l]}):i[l];return Rl(this,"shape",a),a},checks:[]});return Io(e,s)}function fO(t,e,r){const s=Gl(e._zod.def,{get shape(){const i=e._zod.def.shape,a={...i};if(r)for(const l in r){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);r[l]&&(a[l]=new t({type:"nonoptional",innerType:i[l]}))}else for(const l in i)a[l]=new t({type:"nonoptional",innerType:i[l]});return Rl(this,"shape",a),a},checks:[]});return Io(e,s)}function pc(t,e=0){var r;if(t.aborted===!0)return!0;for(let s=e;s<t.issues.length;s++)if(((r=t.issues[s])==null?void 0:r.continue)!==!0)return!0;return!1}function gc(t,e){return e.map(r=>{var s;return(s=r).path??(s.path=[]),r.path.unshift(t),r})}function bd(t){return typeof t=="string"?t:t==null?void 0:t.message}function wo(t,e,r){var i,a,l,c,h,u;const s={...t,path:t.path??[]};if(!t.message){const m=bd((l=(a=(i=t.inst)==null?void 0:i._zod.def)==null?void 0:a.error)==null?void 0:l.call(a,t))??bd((c=e==null?void 0:e.error)==null?void 0:c.call(e,t))??bd((h=r.customError)==null?void 0:h.call(r,t))??bd((u=r.localeError)==null?void 0:u.call(r,t))??"Invalid input";s.message=m}return delete s.inst,delete s.continue,e!=null&&e.reportInput||delete s.input,s}function xv(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Qh(...t){const[e,r,s]=t;return typeof e=="string"?{message:e,code:"custom",input:r,inst:s}:{...e}}const ET=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,e2,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},CT=je("$ZodError",ET),MT=je("$ZodError",ET,{Parent:Error});function pO(t,e=r=>r.message){const r={},s=[];for(const i of t.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):s.push(e(i));return{formErrors:s,fieldErrors:r}}function gO(t,e=r=>r.message){const r={_errors:[]},s=i=>{for(const a of i.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(l=>s({issues:l}));else if(a.code==="invalid_key")s({issues:a.issues});else if(a.code==="invalid_element")s({issues:a.issues});else if(a.path.length===0)r._errors.push(e(a));else{let l=r,c=0;for(;c<a.path.length;){const h=a.path[c];c===a.path.length-1?(l[h]=l[h]||{_errors:[]},l[h]._errors.push(e(a))):l[h]=l[h]||{_errors:[]},l=l[h],c++}}};return s(t),r}const vv=t=>(e,r,s,i)=>{const a=s?Object.assign(s,{async:!1}):{async:!1},l=e._zod.run({value:r,issues:[]},a);if(l instanceof Promise)throw new zc;if(l.issues.length){const c=new((i==null?void 0:i.Err)??t)(l.issues.map(h=>wo(h,a,jo())));throw AT(c,i==null?void 0:i.callee),c}return l.value},yv=t=>async(e,r,s,i)=>{const a=s?Object.assign(s,{async:!0}):{async:!0};let l=e._zod.run({value:r,issues:[]},a);if(l instanceof Promise&&(l=await l),l.issues.length){const c=new((i==null?void 0:i.Err)??t)(l.issues.map(h=>wo(h,a,jo())));throw AT(c,i==null?void 0:i.callee),c}return l.value},lp=t=>(e,r,s)=>{const i=s?{...s,async:!1}:{async:!1},a=e._zod.run({value:r,issues:[]},i);if(a instanceof Promise)throw new zc;return a.issues.length?{success:!1,error:new(t??CT)(a.issues.map(l=>wo(l,i,jo())))}:{success:!0,data:a.value}},xO=lp(MT),cp=t=>async(e,r,s)=>{const i=s?Object.assign(s,{async:!0}):{async:!0};let a=e._zod.run({value:r,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new t(a.issues.map(l=>wo(l,i,jo())))}:{success:!0,data:a.value}},vO=cp(MT),yO=t=>(e,r,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return vv(t)(e,r,i)},bO=t=>(e,r,s)=>vv(t)(e,r,s),jO=t=>async(e,r,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return yv(t)(e,r,i)},wO=t=>async(e,r,s)=>yv(t)(e,r,s),SO=t=>(e,r,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return lp(t)(e,r,i)},TO=t=>(e,r,s)=>lp(t)(e,r,s),kO=t=>async(e,r,s)=>{const i=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return cp(t)(e,r,i)},AO=t=>async(e,r,s)=>cp(t)(e,r,s),NO=/^[cC][^\s-]{8,}$/,EO=/^[0-9a-z]+$/,CO=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,MO=/^[0-9a-vA-V]{20}$/,_O=/^[A-Za-z0-9]{27}$/,$O=/^[a-zA-Z0-9_-]{21}$/,zO=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,DO=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,By=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,IO=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,RO="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function GO(){return new RegExp(RO,"u")}const OO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,PO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,LO=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,qO=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,BO=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,_T=/^[A-Za-z0-9_-]*$/,HO=/^\+(?:[0-9]){6,14}[0-9]$/,$T="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",FO=new RegExp(`^${$T}$`);function zT(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function UO(t){return new RegExp(`^${zT(t)}$`)}function VO(t){const e=zT({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${e}(?:${r.join("|")})`;return new RegExp(`^${$T}T(?:${s})$`)}const KO=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},WO=/^-?\d+$/,XO=/^-?\d+(?:\.\d+)?/,YO=/^(?:true|false)$/i,ZO=/^[^A-Z]*$/,QO=/^[^a-z]*$/,_n=je("$ZodCheck",(t,e)=>{var r;t._zod??(t._zod={}),t._zod.def=e,(r=t._zod).onattach??(r.onattach=[])}),DT={number:"number",bigint:"bigint",object:"date"},IT=je("$ZodCheckLessThan",(t,e)=>{_n.init(t,e);const r=DT[typeof e.value];t._zod.onattach.push(s=>{const i=s._zod.bag,a=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<a&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=s=>{(e.inclusive?s.value<=e.value:s.value<e.value)||s.issues.push({origin:r,code:"too_big",maximum:e.value,input:s.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),RT=je("$ZodCheckGreaterThan",(t,e)=>{_n.init(t,e);const r=DT[typeof e.value];t._zod.onattach.push(s=>{const i=s._zod.bag,a=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>a&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=s=>{(e.inclusive?s.value>=e.value:s.value>e.value)||s.issues.push({origin:r,code:"too_small",minimum:e.value,input:s.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),JO=je("$ZodCheckMultipleOf",(t,e)=>{_n.init(t,e),t._zod.onattach.push(r=>{var s;(s=r._zod.bag).multipleOf??(s.multipleOf=e.value)}),t._zod.check=r=>{if(typeof r.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%e.value===BigInt(0):rO(r.value,e.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:e.value,input:r.value,inst:t,continue:!e.abort})}}),eP=je("$ZodCheckNumberFormat",(t,e)=>{var l;_n.init(t,e),e.format=e.format||"float64";const r=(l=e.format)==null?void 0:l.includes("int"),s=r?"int":"number",[i,a]=oO[e.format];t._zod.onattach.push(c=>{const h=c._zod.bag;h.format=e.format,h.minimum=i,h.maximum=a,r&&(h.pattern=WO)}),t._zod.check=c=>{const h=c.value;if(r){if(!Number.isInteger(h)){c.issues.push({expected:s,format:e.format,code:"invalid_type",continue:!1,input:h,inst:t});return}if(!Number.isSafeInteger(h)){h>0?c.issues.push({input:h,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:s,continue:!e.abort}):c.issues.push({input:h,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:s,continue:!e.abort});return}}h<i&&c.issues.push({origin:"number",input:h,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),h>a&&c.issues.push({origin:"number",input:h,code:"too_big",maximum:a,inst:t})}}),tP=je("$ZodCheckMaxLength",(t,e)=>{var r;_n.init(t,e),(r=t._zod.def).when??(r.when=s=>{const i=s.value;return!pv(i)&&i.length!==void 0}),t._zod.onattach.push(s=>{const i=s._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(s._zod.bag.maximum=e.maximum)}),t._zod.check=s=>{const i=s.value;if(i.length<=e.maximum)return;const l=xv(i);s.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),rP=je("$ZodCheckMinLength",(t,e)=>{var r;_n.init(t,e),(r=t._zod.def).when??(r.when=s=>{const i=s.value;return!pv(i)&&i.length!==void 0}),t._zod.onattach.push(s=>{const i=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(s._zod.bag.minimum=e.minimum)}),t._zod.check=s=>{const i=s.value;if(i.length>=e.minimum)return;const l=xv(i);s.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),nP=je("$ZodCheckLengthEquals",(t,e)=>{var r;_n.init(t,e),(r=t._zod.def).when??(r.when=s=>{const i=s.value;return!pv(i)&&i.length!==void 0}),t._zod.onattach.push(s=>{const i=s._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=s=>{const i=s.value,a=i.length;if(a===e.length)return;const l=xv(i),c=a>e.length;s.issues.push({origin:l,...c?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:s.value,inst:t,continue:!e.abort})}}),hp=je("$ZodCheckStringFormat",(t,e)=>{var r,s;_n.init(t,e),t._zod.onattach.push(i=>{const a=i._zod.bag;a.format=e.format,e.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(e.pattern))}),e.pattern?(r=t._zod).check??(r.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(s=t._zod).check??(s.check=()=>{})}),sP=je("$ZodCheckRegex",(t,e)=>{hp.init(t,e),t._zod.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),iP=je("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=ZO),hp.init(t,e)}),aP=je("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=QO),hp.init(t,e)}),oP=je("$ZodCheckIncludes",(t,e)=>{_n.init(t,e);const r=op(e.includes),s=new RegExp(typeof e.position=="number"?`^.{${e.position}}${r}`:r);e.pattern=s,t._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(s)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),lP=je("$ZodCheckStartsWith",(t,e)=>{_n.init(t,e);const r=new RegExp(`^${op(e.prefix)}.*`);e.pattern??(e.pattern=r),t._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=s=>{s.value.startsWith(e.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:s.value,inst:t,continue:!e.abort})}}),cP=je("$ZodCheckEndsWith",(t,e)=>{_n.init(t,e);const r=new RegExp(`.*${op(e.suffix)}$`);e.pattern??(e.pattern=r),t._zod.onattach.push(s=>{const i=s._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),t._zod.check=s=>{s.value.endsWith(e.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:s.value,inst:t,continue:!e.abort})}}),hP=je("$ZodCheckOverwrite",(t,e)=>{_n.init(t,e),t._zod.check=r=>{r.value=e.tx(r.value)}});class uP{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const s=e.split(`
`).filter(l=>l),i=Math.min(...s.map(l=>l.length-l.trimStart().length)),a=s.map(l=>l.slice(i)).map(l=>" ".repeat(this.indent*2)+l);for(const l of a)this.content.push(l)}compile(){const e=Function,r=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(a=>`  ${a}`)];return new e(...r,i.join(`
`))}}const dP={major:4,minor:2,patch:1},hr=je("$ZodType",(t,e)=>{var i;var r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=dP;const s=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&s.unshift(t);for(const a of s)for(const l of a._zod.onattach)l(t);if(s.length===0)(r=t._zod).deferred??(r.deferred=[]),(i=t._zod.deferred)==null||i.push(()=>{t._zod.run=t._zod.parse});else{const a=(c,h,u)=>{let m=pc(c),f;for(const p of h){if(p._zod.def.when){if(!p._zod.def.when(c))continue}else if(m)continue;const g=c.issues.length,S=p._zod.check(c);if(S instanceof Promise&&(u==null?void 0:u.async)===!1)throw new zc;if(f||S instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await S,c.issues.length!==g&&(m||(m=pc(c,g)))});else{if(c.issues.length===g)continue;m||(m=pc(c,g))}}return f?f.then(()=>c):c},l=(c,h,u)=>{if(pc(c))return c.aborted=!0,c;const m=a(h,s,u);if(m instanceof Promise){if(u.async===!1)throw new zc;return m.then(f=>t._zod.parse(f,u))}return t._zod.parse(m,u)};t._zod.run=(c,h)=>{if(h.skipChecks)return t._zod.parse(c,h);if(h.direction==="backward"){const m=t._zod.parse({value:c.value,issues:[]},{...h,skipChecks:!0});return m instanceof Promise?m.then(f=>l(f,c,h)):l(m,c,h)}const u=t._zod.parse(c,h);if(u instanceof Promise){if(h.async===!1)throw new zc;return u.then(m=>a(m,s,h))}return a(u,s,h)}}t["~standard"]={validate:a=>{var l;try{const c=xO(t,a);return c.success?{value:c.data}:{issues:(l=c.error)==null?void 0:l.issues}}catch{return vO(t,a).then(h=>{var u;return h.success?{value:h.data}:{issues:(u=h.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),bv=je("$ZodString",(t,e)=>{var r;hr.init(t,e),t._zod.pattern=[...((r=t==null?void 0:t._zod.bag)==null?void 0:r.patterns)??[]].pop()??KO(t._zod.bag),t._zod.parse=(s,i)=>{if(e.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:t}),s}}),Ht=je("$ZodStringFormat",(t,e)=>{hp.init(t,e),bv.init(t,e)}),mP=je("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=DO),Ht.init(t,e)}),fP=je("$ZodUUID",(t,e)=>{if(e.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(s===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=By(s))}else e.pattern??(e.pattern=By());Ht.init(t,e)}),pP=je("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=IO),Ht.init(t,e)}),gP=je("$ZodURL",(t,e)=>{Ht.init(t,e),t._zod.check=r=>{try{const s=r.value.trim(),i=new URL(s);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:r.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:r.value,inst:t,continue:!e.abort})),e.normalize?r.value=i.href:r.value=s;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!e.abort})}}}),xP=je("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=GO()),Ht.init(t,e)}),vP=je("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=$O),Ht.init(t,e)}),yP=je("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=NO),Ht.init(t,e)}),bP=je("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=EO),Ht.init(t,e)}),jP=je("$ZodULID",(t,e)=>{e.pattern??(e.pattern=CO),Ht.init(t,e)}),wP=je("$ZodXID",(t,e)=>{e.pattern??(e.pattern=MO),Ht.init(t,e)}),SP=je("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=_O),Ht.init(t,e)}),TP=je("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=VO(e)),Ht.init(t,e)}),kP=je("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=FO),Ht.init(t,e)}),AP=je("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=UO(e)),Ht.init(t,e)}),NP=je("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=zO),Ht.init(t,e)}),EP=je("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=OO),Ht.init(t,e),t._zod.bag.format="ipv4"}),CP=je("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=PO),Ht.init(t,e),t._zod.bag.format="ipv6",t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!e.abort})}}}),MP=je("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=LO),Ht.init(t,e)}),_P=je("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=qO),Ht.init(t,e),t._zod.check=r=>{const s=r.value.split("/");try{if(s.length!==2)throw new Error;const[i,a]=s;if(!a)throw new Error;const l=Number(a);if(`${l}`!==a)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${i}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!e.abort})}}});function GT(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const $P=je("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=BO),Ht.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=r=>{GT(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!e.abort})}});function zP(t){if(!_T.test(t))return!1;const e=t.replace(/[-_]/g,s=>s==="-"?"+":"/"),r=e.padEnd(Math.ceil(e.length/4)*4,"=");return GT(r)}const DP=je("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=_T),Ht.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=r=>{zP(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!e.abort})}}),IP=je("$ZodE164",(t,e)=>{e.pattern??(e.pattern=HO),Ht.init(t,e)});function RP(t,e=null){try{const r=t.split(".");if(r.length!==3)return!1;const[s]=r;if(!s)return!1;const i=JSON.parse(atob(s));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const GP=je("$ZodJWT",(t,e)=>{Ht.init(t,e),t._zod.check=r=>{RP(r.value,e.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!e.abort})}}),OT=je("$ZodNumber",(t,e)=>{hr.init(t,e),t._zod.pattern=t._zod.bag.pattern??XO,t._zod.parse=(r,s)=>{if(e.coerce)try{r.value=Number(r.value)}catch{}const i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;const a=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...a?{received:a}:{}}),r}}),OP=je("$ZodNumberFormat",(t,e)=>{eP.init(t,e),OT.init(t,e)}),PP=je("$ZodBoolean",(t,e)=>{hr.init(t,e),t._zod.pattern=YO,t._zod.parse=(r,s)=>{if(e.coerce)try{r.value=!!r.value}catch{}const i=r.value;return typeof i=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:t}),r}}),LP=je("$ZodUnknown",(t,e)=>{hr.init(t,e),t._zod.parse=r=>r}),qP=je("$ZodNever",(t,e)=>{hr.init(t,e),t._zod.parse=(r,s)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)});function Hy(t,e,r){t.issues.length&&e.issues.push(...gc(r,t.issues)),e.value[r]=t.value}const BP=je("$ZodArray",(t,e)=>{hr.init(t,e),t._zod.parse=(r,s)=>{const i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),r;r.value=Array(i.length);const a=[];for(let l=0;l<i.length;l++){const c=i[l],h=e.element._zod.run({value:c,issues:[]},s);h instanceof Promise?a.push(h.then(u=>Hy(u,r,l))):Hy(h,r,l)}return a.length?Promise.all(a).then(()=>r):r}});function df(t,e,r,s){t.issues.length&&e.issues.push(...gc(r,t.issues)),t.value===void 0?r in s&&(e.value[r]=void 0):e.value[r]=t.value}function PT(t){var s,i,a,l;const e=Object.keys(t.shape);for(const c of e)if(!((l=(a=(i=(s=t.shape)==null?void 0:s[c])==null?void 0:i._zod)==null?void 0:a.traits)!=null&&l.has("$ZodType")))throw new Error(`Invalid element at key "${c}": expected a Zod schema`);const r=aO(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(r)}}function LT(t,e,r,s,i,a){const l=[],c=i.keySet,h=i.catchall._zod,u=h.def.type;for(const m in e){if(c.has(m))continue;if(u==="never"){l.push(m);continue}const f=h.run({value:e[m],issues:[]},s);f instanceof Promise?t.push(f.then(p=>df(p,r,m,e))):df(f,r,m,e)}return l.length&&r.issues.push({code:"unrecognized_keys",keys:l,input:e,inst:a}),t.length?Promise.all(t).then(()=>r):r}const HP=je("$ZodObject",(t,e)=>{hr.init(t,e);const r=Object.getOwnPropertyDescriptor(e,"shape");if(!(r!=null&&r.get)){const c=e.shape;Object.defineProperty(e,"shape",{get:()=>{const h={...c};return Object.defineProperty(e,"shape",{value:h}),h}})}const s=fv(()=>PT(e));zt(t._zod,"propValues",()=>{const c=e.shape,h={};for(const u in c){const m=c[u]._zod;if(m.values){h[u]??(h[u]=new Set);for(const f of m.values)h[u].add(f)}}return h});const i=uf,a=e.catchall;let l;t._zod.parse=(c,h)=>{l??(l=s.value);const u=c.value;if(!i(u))return c.issues.push({expected:"object",code:"invalid_type",input:u,inst:t}),c;c.value={};const m=[],f=l.shape;for(const p of l.keys){const S=f[p]._zod.run({value:u[p],issues:[]},h);S instanceof Promise?m.push(S.then(N=>df(N,c,p,u))):df(S,c,p,u)}return a?LT(m,u,c,h,s.value,t):m.length?Promise.all(m).then(()=>c):c}}),FP=je("$ZodObjectJIT",(t,e)=>{HP.init(t,e);const r=t._zod.parse,s=fv(()=>PT(e)),i=p=>{const g=new uP(["shape","payload","ctx"]),S=s.value,N=A=>{const I=qy(A);return`shape[${I}]._zod.run({ value: input[${I}], issues: [] }, ctx)`};g.write("const input = payload.value;");const $=Object.create(null);let w=0;for(const A of S.keys)$[A]=`key_${w++}`;g.write("const newResult = {};");for(const A of S.keys){const I=$[A],B=qy(A);g.write(`const ${I} = ${N(A)};`),g.write(`
        if (${I}.issues.length) {
          payload.issues = payload.issues.concat(${I}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${B}, ...iss.path] : [${B}]
          })));
        }
        
        
        if (${I}.value === undefined) {
          if (${B} in input) {
            newResult[${B}] = undefined;
          }
        } else {
          newResult[${B}] = ${I}.value;
        }
        
      `)}g.write("payload.value = newResult;"),g.write("return payload;");const T=g.compile();return(A,I)=>T(p,A,I)};let a;const l=uf,c=!TT.jitless,u=c&&sO.value,m=e.catchall;let f;t._zod.parse=(p,g)=>{f??(f=s.value);const S=p.value;return l(S)?c&&u&&(g==null?void 0:g.async)===!1&&g.jitless!==!0?(a||(a=i(e.shape)),p=a(p,g),m?LT([],S,p,g,f,t):p):r(p,g):(p.issues.push({expected:"object",code:"invalid_type",input:S,inst:t}),p)}});function Fy(t,e,r,s){for(const a of t)if(a.issues.length===0)return e.value=a.value,e;const i=t.filter(a=>!pc(a));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(a=>a.issues.map(l=>wo(l,s,jo())))}),e)}const UP=je("$ZodUnion",(t,e)=>{hr.init(t,e),zt(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),zt(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),zt(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),zt(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(a=>a._zod.pattern);return new RegExp(`^(${i.map(a=>gv(a.source)).join("|")})$`)}});const r=e.options.length===1,s=e.options[0]._zod.run;t._zod.parse=(i,a)=>{if(r)return s(i,a);let l=!1;const c=[];for(const h of e.options){const u=h._zod.run({value:i.value,issues:[]},a);if(u instanceof Promise)c.push(u),l=!0;else{if(u.issues.length===0)return u;c.push(u)}}return l?Promise.all(c).then(h=>Fy(h,i,t,a)):Fy(c,i,t,a)}}),VP=je("$ZodIntersection",(t,e)=>{hr.init(t,e),t._zod.parse=(r,s)=>{const i=r.value,a=e.left._zod.run({value:i,issues:[]},s),l=e.right._zod.run({value:i,issues:[]},s);return a instanceof Promise||l instanceof Promise?Promise.all([a,l]).then(([h,u])=>Uy(r,h,u)):Uy(r,a,l)}});function t2(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Xc(t)&&Xc(e)){const r=Object.keys(e),s=Object.keys(t).filter(a=>r.indexOf(a)!==-1),i={...t,...e};for(const a of s){const l=t2(t[a],e[a]);if(!l.valid)return{valid:!1,mergeErrorPath:[a,...l.mergeErrorPath]};i[a]=l.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let s=0;s<t.length;s++){const i=t[s],a=e[s],l=t2(i,a);if(!l.valid)return{valid:!1,mergeErrorPath:[s,...l.mergeErrorPath]};r.push(l.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Uy(t,e,r){if(e.issues.length&&t.issues.push(...e.issues),r.issues.length&&t.issues.push(...r.issues),pc(t))return t;const s=t2(e.value,r.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return t.value=s.data,t}const KP=je("$ZodRecord",(t,e)=>{hr.init(t,e),t._zod.parse=(r,s)=>{const i=r.value;if(!Xc(i))return r.issues.push({expected:"record",code:"invalid_type",input:i,inst:t}),r;const a=[],l=e.keyType._zod.values;if(l){r.value={};const c=new Set;for(const u of l)if(typeof u=="string"||typeof u=="number"||typeof u=="symbol"){c.add(typeof u=="number"?u.toString():u);const m=e.valueType._zod.run({value:i[u],issues:[]},s);m instanceof Promise?a.push(m.then(f=>{f.issues.length&&r.issues.push(...gc(u,f.issues)),r.value[u]=f.value})):(m.issues.length&&r.issues.push(...gc(u,m.issues)),r.value[u]=m.value)}let h;for(const u in i)c.has(u)||(h=h??[],h.push(u));h&&h.length>0&&r.issues.push({code:"unrecognized_keys",input:i,inst:t,keys:h})}else{r.value={};for(const c of Reflect.ownKeys(i)){if(c==="__proto__")continue;const h=e.keyType._zod.run({value:c,issues:[]},s);if(h instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(h.issues.length){e.mode==="loose"?r.value[c]=i[c]:r.issues.push({code:"invalid_key",origin:"record",issues:h.issues.map(m=>wo(m,s,jo())),input:c,path:[c],inst:t});continue}const u=e.valueType._zod.run({value:i[c],issues:[]},s);u instanceof Promise?a.push(u.then(m=>{m.issues.length&&r.issues.push(...gc(c,m.issues)),r.value[h.value]=m.value})):(u.issues.length&&r.issues.push(...gc(c,u.issues)),r.value[h.value]=u.value)}}return a.length?Promise.all(a).then(()=>r):r}}),WP=je("$ZodEnum",(t,e)=>{hr.init(t,e);const r=kT(e.entries),s=new Set(r);t._zod.values=s,t._zod.pattern=new RegExp(`^(${r.filter(i=>iO.has(typeof i)).map(i=>typeof i=="string"?op(i):i.toString()).join("|")})$`),t._zod.parse=(i,a)=>{const l=i.value;return s.has(l)||i.issues.push({code:"invalid_value",values:r,input:l,inst:t}),i}}),XP=je("$ZodTransform",(t,e)=>{hr.init(t,e),t._zod.parse=(r,s)=>{if(s.direction==="backward")throw new ST(t.constructor.name);const i=e.transform(r.value,r);if(s.async)return(i instanceof Promise?i:Promise.resolve(i)).then(l=>(r.value=l,r));if(i instanceof Promise)throw new zc;return r.value=i,r}});function Vy(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const YP=je("$ZodOptional",(t,e)=>{hr.init(t,e),t._zod.optin="optional",t._zod.optout="optional",zt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),zt(t._zod,"pattern",()=>{const r=e.innerType._zod.pattern;return r?new RegExp(`^(${gv(r.source)})?$`):void 0}),t._zod.parse=(r,s)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(r,s);return i instanceof Promise?i.then(a=>Vy(a,r.value)):Vy(i,r.value)}return r.value===void 0?r:e.innerType._zod.run(r,s)}}),ZP=je("$ZodNullable",(t,e)=>{hr.init(t,e),zt(t._zod,"optin",()=>e.innerType._zod.optin),zt(t._zod,"optout",()=>e.innerType._zod.optout),zt(t._zod,"pattern",()=>{const r=e.innerType._zod.pattern;return r?new RegExp(`^(${gv(r.source)}|null)$`):void 0}),zt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(r,s)=>r.value===null?r:e.innerType._zod.run(r,s)}),QP=je("$ZodDefault",(t,e)=>{hr.init(t,e),t._zod.optin="optional",zt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,s)=>{if(s.direction==="backward")return e.innerType._zod.run(r,s);if(r.value===void 0)return r.value=e.defaultValue,r;const i=e.innerType._zod.run(r,s);return i instanceof Promise?i.then(a=>Ky(a,e)):Ky(i,e)}});function Ky(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const JP=je("$ZodPrefault",(t,e)=>{hr.init(t,e),t._zod.optin="optional",zt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,s)=>(s.direction==="backward"||r.value===void 0&&(r.value=e.defaultValue),e.innerType._zod.run(r,s))}),eL=je("$ZodNonOptional",(t,e)=>{hr.init(t,e),zt(t._zod,"values",()=>{const r=e.innerType._zod.values;return r?new Set([...r].filter(s=>s!==void 0)):void 0}),t._zod.parse=(r,s)=>{const i=e.innerType._zod.run(r,s);return i instanceof Promise?i.then(a=>Wy(a,t)):Wy(i,t)}});function Wy(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const tL=je("$ZodCatch",(t,e)=>{hr.init(t,e),zt(t._zod,"optin",()=>e.innerType._zod.optin),zt(t._zod,"optout",()=>e.innerType._zod.optout),zt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,s)=>{if(s.direction==="backward")return e.innerType._zod.run(r,s);const i=e.innerType._zod.run(r,s);return i instanceof Promise?i.then(a=>(r.value=a.value,a.issues.length&&(r.value=e.catchValue({...r,error:{issues:a.issues.map(l=>wo(l,s,jo()))},input:r.value}),r.issues=[]),r)):(r.value=i.value,i.issues.length&&(r.value=e.catchValue({...r,error:{issues:i.issues.map(a=>wo(a,s,jo()))},input:r.value}),r.issues=[]),r)}}),rL=je("$ZodPipe",(t,e)=>{hr.init(t,e),zt(t._zod,"values",()=>e.in._zod.values),zt(t._zod,"optin",()=>e.in._zod.optin),zt(t._zod,"optout",()=>e.out._zod.optout),zt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,s)=>{if(s.direction==="backward"){const a=e.out._zod.run(r,s);return a instanceof Promise?a.then(l=>jd(l,e.in,s)):jd(a,e.in,s)}const i=e.in._zod.run(r,s);return i instanceof Promise?i.then(a=>jd(a,e.out,s)):jd(i,e.out,s)}});function jd(t,e,r){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},r)}const nL=je("$ZodReadonly",(t,e)=>{hr.init(t,e),zt(t._zod,"propValues",()=>e.innerType._zod.propValues),zt(t._zod,"values",()=>e.innerType._zod.values),zt(t._zod,"optin",()=>{var r,s;return(s=(r=e.innerType)==null?void 0:r._zod)==null?void 0:s.optin}),zt(t._zod,"optout",()=>{var r,s;return(s=(r=e.innerType)==null?void 0:r._zod)==null?void 0:s.optout}),t._zod.parse=(r,s)=>{if(s.direction==="backward")return e.innerType._zod.run(r,s);const i=e.innerType._zod.run(r,s);return i instanceof Promise?i.then(Xy):Xy(i)}});function Xy(t){return t.value=Object.freeze(t.value),t}const sL=je("$ZodCustom",(t,e)=>{_n.init(t,e),hr.init(t,e),t._zod.parse=(r,s)=>r,t._zod.check=r=>{const s=r.value,i=e.fn(s);if(i instanceof Promise)return i.then(a=>Yy(a,r,s,t));Yy(i,r,s,t)}});function Yy(t,e,r,s){if(!t){const i={code:"custom",input:r,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(i.params=s._zod.def.params),e.issues.push(Qh(i))}}var Zy;class iL{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...r){const s=r[0];if(this._map.set(e,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const r=this._map.get(e);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(e),this}get(e){const r=e._zod.parent;if(r){const s={...this.get(r)??{}};delete s.id;const i={...s,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function aL(){return new iL}(Zy=globalThis).__zod_globalRegistry??(Zy.__zod_globalRegistry=aL());const sh=globalThis.__zod_globalRegistry;function oL(t,e){return new t({type:"string",...Fe(e)})}function lL(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Fe(e)})}function Qy(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Fe(e)})}function cL(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Fe(e)})}function hL(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Fe(e)})}function uL(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Fe(e)})}function dL(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Fe(e)})}function mL(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Fe(e)})}function fL(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Fe(e)})}function pL(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Fe(e)})}function gL(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Fe(e)})}function xL(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Fe(e)})}function vL(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Fe(e)})}function yL(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Fe(e)})}function bL(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Fe(e)})}function jL(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Fe(e)})}function wL(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Fe(e)})}function SL(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Fe(e)})}function TL(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Fe(e)})}function kL(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Fe(e)})}function AL(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Fe(e)})}function NL(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Fe(e)})}function EL(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Fe(e)})}function CL(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Fe(e)})}function ML(t,e){return new t({type:"string",format:"date",check:"string_format",...Fe(e)})}function _L(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Fe(e)})}function $L(t,e){return new t({type:"string",format:"duration",check:"string_format",...Fe(e)})}function zL(t,e){return new t({type:"number",checks:[],...Fe(e)})}function DL(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Fe(e)})}function IL(t,e){return new t({type:"boolean",...Fe(e)})}function RL(t){return new t({type:"unknown"})}function GL(t,e){return new t({type:"never",...Fe(e)})}function Jy(t,e){return new IT({check:"less_than",...Fe(e),value:t,inclusive:!1})}function I1(t,e){return new IT({check:"less_than",...Fe(e),value:t,inclusive:!0})}function e7(t,e){return new RT({check:"greater_than",...Fe(e),value:t,inclusive:!1})}function R1(t,e){return new RT({check:"greater_than",...Fe(e),value:t,inclusive:!0})}function t7(t,e){return new JO({check:"multiple_of",...Fe(e),value:t})}function qT(t,e){return new tP({check:"max_length",...Fe(e),maximum:t})}function mf(t,e){return new rP({check:"min_length",...Fe(e),minimum:t})}function BT(t,e){return new nP({check:"length_equals",...Fe(e),length:t})}function OL(t,e){return new sP({check:"string_format",format:"regex",...Fe(e),pattern:t})}function PL(t){return new iP({check:"string_format",format:"lowercase",...Fe(t)})}function LL(t){return new aP({check:"string_format",format:"uppercase",...Fe(t)})}function qL(t,e){return new oP({check:"string_format",format:"includes",...Fe(e),includes:t})}function BL(t,e){return new lP({check:"string_format",format:"starts_with",...Fe(e),prefix:t})}function HL(t,e){return new cP({check:"string_format",format:"ends_with",...Fe(e),suffix:t})}function u0(t){return new hP({check:"overwrite",tx:t})}function FL(t){return u0(e=>e.normalize(t))}function UL(){return u0(t=>t.trim())}function VL(){return u0(t=>t.toLowerCase())}function KL(){return u0(t=>t.toUpperCase())}function WL(){return u0(t=>nO(t))}function XL(t,e,r){return new t({type:"array",element:e,...Fe(r)})}function YL(t,e,r){return new t({type:"custom",check:"custom",fn:e,...Fe(r)})}function ZL(t){const e=QL(r=>(r.addIssue=s=>{if(typeof s=="string")r.issues.push(Qh(s,r.value,e._zod.def));else{const i=s;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),r.issues.push(Qh(i))}},t(r.value,r)));return e}function QL(t,e){const r=new _n({check:"custom",...Fe(e)});return r._zod.check=t,r}function HT(t){let e=(t==null?void 0:t.target)??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:(t==null?void 0:t.metadata)??sh,target:e,unrepresentable:(t==null?void 0:t.unrepresentable)??"throw",override:(t==null?void 0:t.override)??(()=>{}),io:(t==null?void 0:t.io)??"output",counter:0,seen:new Map,cycles:(t==null?void 0:t.cycles)??"ref",reused:(t==null?void 0:t.reused)??"inline",external:(t==null?void 0:t.external)??void 0}}function zr(t,e,r={path:[],schemaPath:[]}){var m,f;var s;const i=t._zod.def,a=e.seen.get(t);if(a)return a.count++,r.schemaPath.includes(t)&&(a.cycle=r.path),a.schema;const l={schema:{},count:1,cycle:void 0,path:r.path};e.seen.set(t,l);const c=(f=(m=t._zod).toJSONSchema)==null?void 0:f.call(m);if(c)l.schema=c;else{const p={...r,schemaPath:[...r.schemaPath,t],path:r.path},g=t._zod.parent;if(g)l.ref=g,zr(g,e,p),e.seen.get(g).isParent=!0;else if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,l.schema,p);else{const S=l.schema,N=e.processors[i.type];if(!N)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);N(t,e,S,p)}}const h=e.metadataRegistry.get(t);return h&&Object.assign(l.schema,h),e.io==="input"&&an(t)&&(delete l.schema.examples,delete l.schema.default),e.io==="input"&&l.schema._prefault&&((s=l.schema).default??(s.default=l.schema._prefault)),delete l.schema._prefault,e.seen.get(t).schema}function FT(t,e){var a,l,c;const r=t.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=h=>{var g;const u=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const S=(g=t.external.registry.get(h[0]))==null?void 0:g.id,N=t.external.uri??(w=>w);if(S)return{ref:N(S)};const $=h[1].defId??h[1].schema.id??`schema${t.counter++}`;return h[1].defId=$,{defId:$,ref:`${N("__shared")}#/${u}/${$}`}}if(h[1]===r)return{ref:"#"};const f=`#/${u}/`,p=h[1].schema.id??`__schema${t.counter++}`;return{defId:p,ref:f+p}},i=h=>{if(h[1].schema.$ref)return;const u=h[1],{ref:m,defId:f}=s(h);u.def={...u.schema},f&&(u.defId=f);const p=u.schema;for(const g in p)delete p[g];p.$ref=m};if(t.cycles==="throw")for(const h of t.seen.entries()){const u=h[1];if(u.cycle)throw new Error(`Cycle detected: #/${(a=u.cycle)==null?void 0:a.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const h of t.seen.entries()){const u=h[1];if(e===h[0]){i(h);continue}if(t.external){const f=(l=t.external.registry.get(h[0]))==null?void 0:l.id;if(e!==h[0]&&f){i(h);continue}}if((c=t.metadataRegistry.get(h[0]))==null?void 0:c.id){i(h);continue}if(u.cycle){i(h);continue}if(u.count>1&&t.reused==="ref"){i(h);continue}}}function UT(t,e){var l,c,h;const r=t.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=u=>{const m=t.seen.get(u),f=m.def??m.schema,p={...f};if(m.ref===null)return;const g=m.ref;if(m.ref=null,g){s(g);const S=t.seen.get(g).schema;S.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(f.allOf=f.allOf??[],f.allOf.push(S)):(Object.assign(f,S),Object.assign(f,p))}m.isParent||t.override({zodSchema:u,jsonSchema:f,path:m.path??[]})};for(const u of[...t.seen.entries()].reverse())s(u[0]);const i={};if(t.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":t.target,(l=t.external)!=null&&l.uri){const u=(c=t.external.registry.get(e))==null?void 0:c.id;if(!u)throw new Error("Schema is missing an `id` property");i.$id=t.external.uri(u)}Object.assign(i,r.def??r.schema);const a=((h=t.external)==null?void 0:h.defs)??{};for(const u of t.seen.entries()){const m=u[1];m.def&&m.defId&&(a[m.defId]=m.def)}t.external||Object.keys(a).length>0&&(t.target==="draft-2020-12"?i.$defs=a:i.definitions=a);try{const u=JSON.parse(JSON.stringify(i));return Object.defineProperty(u,"~standard",{value:{...e["~standard"],jsonSchema:{input:ff(e,"input"),output:ff(e,"output")}},enumerable:!1,writable:!1}),u}catch{throw new Error("Error converting schema to JSON.")}}function an(t,e){const r=e??{seen:new Set};if(r.seen.has(t))return!1;r.seen.add(t);const s=t._zod.def;if(s.type==="transform")return!0;if(s.type==="array")return an(s.element,r);if(s.type==="set")return an(s.valueType,r);if(s.type==="lazy")return an(s.getter(),r);if(s.type==="promise"||s.type==="optional"||s.type==="nonoptional"||s.type==="nullable"||s.type==="readonly"||s.type==="default"||s.type==="prefault")return an(s.innerType,r);if(s.type==="intersection")return an(s.left,r)||an(s.right,r);if(s.type==="record"||s.type==="map")return an(s.keyType,r)||an(s.valueType,r);if(s.type==="pipe")return an(s.in,r)||an(s.out,r);if(s.type==="object"){for(const i in s.shape)if(an(s.shape[i],r))return!0;return!1}if(s.type==="union"){for(const i of s.options)if(an(i,r))return!0;return!1}if(s.type==="tuple"){for(const i of s.items)if(an(i,r))return!0;return!!(s.rest&&an(s.rest,r))}return!1}const JL=(t,e={})=>r=>{const s=HT({...r,processors:e});return zr(t,s),FT(s,t),UT(s,t)},ff=(t,e)=>r=>{const{libraryOptions:s,target:i}=r??{},a=HT({...s??{},target:i,io:e,processors:{}});return zr(t,a),FT(a,t),UT(a,t)},eq={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},tq=(t,e,r,s)=>{const i=r;i.type="string";const{minimum:a,maximum:l,format:c,patterns:h,contentEncoding:u}=t._zod.bag;if(typeof a=="number"&&(i.minLength=a),typeof l=="number"&&(i.maxLength=l),c&&(i.format=eq[c]??c,i.format===""&&delete i.format),u&&(i.contentEncoding=u),h&&h.size>0){const m=[...h];m.length===1?i.pattern=m[0].source:m.length>1&&(i.allOf=[...m.map(f=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:f.source}))])}},rq=(t,e,r,s)=>{const i=r,{minimum:a,maximum:l,format:c,multipleOf:h,exclusiveMaximum:u,exclusiveMinimum:m}=t._zod.bag;typeof c=="string"&&c.includes("int")?i.type="integer":i.type="number",typeof m=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.minimum=m,i.exclusiveMinimum=!0):i.exclusiveMinimum=m),typeof a=="number"&&(i.minimum=a,typeof m=="number"&&e.target!=="draft-04"&&(m>=a?delete i.minimum:delete i.exclusiveMinimum)),typeof u=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.maximum=u,i.exclusiveMaximum=!0):i.exclusiveMaximum=u),typeof l=="number"&&(i.maximum=l,typeof u=="number"&&e.target!=="draft-04"&&(u<=l?delete i.maximum:delete i.exclusiveMaximum)),typeof h=="number"&&(i.multipleOf=h)},nq=(t,e,r,s)=>{r.type="boolean"},sq=(t,e,r,s)=>{r.not={}},iq=(t,e,r,s)=>{},aq=(t,e,r,s)=>{const i=t._zod.def,a=kT(i.entries);a.every(l=>typeof l=="number")&&(r.type="number"),a.every(l=>typeof l=="string")&&(r.type="string"),r.enum=a},oq=(t,e,r,s)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},lq=(t,e,r,s)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},cq=(t,e,r,s)=>{const i=r,a=t._zod.def,{minimum:l,maximum:c}=t._zod.bag;typeof l=="number"&&(i.minItems=l),typeof c=="number"&&(i.maxItems=c),i.type="array",i.items=zr(a.element,e,{...s,path:[...s.path,"items"]})},hq=(t,e,r,s)=>{var u;const i=r,a=t._zod.def;i.type="object",i.properties={};const l=a.shape;for(const m in l)i.properties[m]=zr(l[m],e,{...s,path:[...s.path,"properties",m]});const c=new Set(Object.keys(l)),h=new Set([...c].filter(m=>{const f=a.shape[m]._zod;return e.io==="input"?f.optin===void 0:f.optout===void 0}));h.size>0&&(i.required=Array.from(h)),((u=a.catchall)==null?void 0:u._zod.def.type)==="never"?i.additionalProperties=!1:a.catchall?a.catchall&&(i.additionalProperties=zr(a.catchall,e,{...s,path:[...s.path,"additionalProperties"]})):e.io==="output"&&(i.additionalProperties=!1)},uq=(t,e,r,s)=>{const i=t._zod.def,a=i.inclusive===!1,l=i.options.map((c,h)=>zr(c,e,{...s,path:[...s.path,a?"oneOf":"anyOf",h]}));a?r.oneOf=l:r.anyOf=l},dq=(t,e,r,s)=>{const i=t._zod.def,a=zr(i.left,e,{...s,path:[...s.path,"allOf",0]}),l=zr(i.right,e,{...s,path:[...s.path,"allOf",1]}),c=u=>"allOf"in u&&Object.keys(u).length===1,h=[...c(a)?a.allOf:[a],...c(l)?l.allOf:[l]];r.allOf=h},mq=(t,e,r,s)=>{const i=r,a=t._zod.def;i.type="object",(e.target==="draft-07"||e.target==="draft-2020-12")&&(i.propertyNames=zr(a.keyType,e,{...s,path:[...s.path,"propertyNames"]})),i.additionalProperties=zr(a.valueType,e,{...s,path:[...s.path,"additionalProperties"]})},fq=(t,e,r,s)=>{const i=t._zod.def,a=zr(i.innerType,e,s),l=e.seen.get(t);e.target==="openapi-3.0"?(l.ref=i.innerType,r.nullable=!0):r.anyOf=[a,{type:"null"}]},pq=(t,e,r,s)=>{const i=t._zod.def;zr(i.innerType,e,s);const a=e.seen.get(t);a.ref=i.innerType},gq=(t,e,r,s)=>{const i=t._zod.def;zr(i.innerType,e,s);const a=e.seen.get(t);a.ref=i.innerType,r.default=JSON.parse(JSON.stringify(i.defaultValue))},xq=(t,e,r,s)=>{const i=t._zod.def;zr(i.innerType,e,s);const a=e.seen.get(t);a.ref=i.innerType,e.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},vq=(t,e,r,s)=>{const i=t._zod.def;zr(i.innerType,e,s);const a=e.seen.get(t);a.ref=i.innerType;let l;try{l=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=l},yq=(t,e,r,s)=>{const i=t._zod.def,a=e.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;zr(a,e,s);const l=e.seen.get(t);l.ref=a},bq=(t,e,r,s)=>{const i=t._zod.def;zr(i.innerType,e,s);const a=e.seen.get(t);a.ref=i.innerType,r.readOnly=!0},jq=(t,e,r,s)=>{const i=t._zod.def;zr(i.innerType,e,s);const a=e.seen.get(t);a.ref=i.innerType},wq=je("ZodISODateTime",(t,e)=>{TP.init(t,e),rr.init(t,e)});function Sq(t){return CL(wq,t)}const Tq=je("ZodISODate",(t,e)=>{kP.init(t,e),rr.init(t,e)});function kq(t){return ML(Tq,t)}const Aq=je("ZodISOTime",(t,e)=>{AP.init(t,e),rr.init(t,e)});function Nq(t){return _L(Aq,t)}const Eq=je("ZodISODuration",(t,e)=>{NP.init(t,e),rr.init(t,e)});function Cq(t){return $L(Eq,t)}const Mq=(t,e)=>{CT.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>gO(t,r)},flatten:{value:r=>pO(t,r)},addIssue:{value:r=>{t.issues.push(r),t.message=JSON.stringify(t.issues,e2,2)}},addIssues:{value:r=>{t.issues.push(...r),t.message=JSON.stringify(t.issues,e2,2)}},isEmpty:{get(){return t.issues.length===0}}})},js=je("ZodError",Mq,{Parent:Error}),_q=vv(js),$q=yv(js),zq=lp(js),Dq=cp(js),Iq=yO(js),Rq=bO(js),Gq=jO(js),Oq=wO(js),Pq=SO(js),Lq=TO(js),qq=kO(js),Bq=AO(js),xr=je("ZodType",(t,e)=>(hr.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:ff(t,"input"),output:ff(t,"output")}}),t.toJSONSchema=JL(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...r)=>t.clone(Gl(e,{checks:[...e.checks??[],...r.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]})),t.clone=(r,s)=>Io(t,r,s),t.brand=()=>t,t.register=(r,s)=>(r.add(t,s),t),t.parse=(r,s)=>_q(t,r,s,{callee:t.parse}),t.safeParse=(r,s)=>zq(t,r,s),t.parseAsync=async(r,s)=>$q(t,r,s,{callee:t.parseAsync}),t.safeParseAsync=async(r,s)=>Dq(t,r,s),t.spa=t.safeParseAsync,t.encode=(r,s)=>Iq(t,r,s),t.decode=(r,s)=>Rq(t,r,s),t.encodeAsync=async(r,s)=>Gq(t,r,s),t.decodeAsync=async(r,s)=>Oq(t,r,s),t.safeEncode=(r,s)=>Pq(t,r,s),t.safeDecode=(r,s)=>Lq(t,r,s),t.safeEncodeAsync=async(r,s)=>qq(t,r,s),t.safeDecodeAsync=async(r,s)=>Bq(t,r,s),t.refine=(r,s)=>t.check(zB(r,s)),t.superRefine=r=>t.check(DB(r)),t.overwrite=r=>t.check(u0(r)),t.optional=()=>s7(t),t.nullable=()=>i7(t),t.nullish=()=>s7(i7(t)),t.nonoptional=r=>AB(t,r),t.array=()=>Yc(t),t.or=r=>WT([t,r]),t.and=r=>xB(t,r),t.transform=r=>a7(t,bB(r)),t.default=r=>SB(t,r),t.prefault=r=>kB(t,r),t.catch=r=>EB(t,r),t.pipe=r=>a7(t,r),t.readonly=()=>_B(t),t.describe=r=>{const s=t.clone();return sh.add(s,{description:r}),s},Object.defineProperty(t,"description",{get(){var r;return(r=sh.get(t))==null?void 0:r.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return sh.get(t);const s=t.clone();return sh.add(s,r[0]),s},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),VT=je("_ZodString",(t,e)=>{bv.init(t,e),xr.init(t,e),t._zod.processJSONSchema=(s,i,a)=>tq(t,s,i);const r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...s)=>t.check(OL(...s)),t.includes=(...s)=>t.check(qL(...s)),t.startsWith=(...s)=>t.check(BL(...s)),t.endsWith=(...s)=>t.check(HL(...s)),t.min=(...s)=>t.check(mf(...s)),t.max=(...s)=>t.check(qT(...s)),t.length=(...s)=>t.check(BT(...s)),t.nonempty=(...s)=>t.check(mf(1,...s)),t.lowercase=s=>t.check(PL(s)),t.uppercase=s=>t.check(LL(s)),t.trim=()=>t.check(UL()),t.normalize=(...s)=>t.check(FL(...s)),t.toLowerCase=()=>t.check(VL()),t.toUpperCase=()=>t.check(KL()),t.slugify=()=>t.check(WL())}),Hq=je("ZodString",(t,e)=>{bv.init(t,e),VT.init(t,e),t.email=r=>t.check(lL(Fq,r)),t.url=r=>t.check(mL(Uq,r)),t.jwt=r=>t.check(EL(aB,r)),t.emoji=r=>t.check(fL(Vq,r)),t.guid=r=>t.check(Qy(r7,r)),t.uuid=r=>t.check(cL(wd,r)),t.uuidv4=r=>t.check(hL(wd,r)),t.uuidv6=r=>t.check(uL(wd,r)),t.uuidv7=r=>t.check(dL(wd,r)),t.nanoid=r=>t.check(pL(Kq,r)),t.guid=r=>t.check(Qy(r7,r)),t.cuid=r=>t.check(gL(Wq,r)),t.cuid2=r=>t.check(xL(Xq,r)),t.ulid=r=>t.check(vL(Yq,r)),t.base64=r=>t.check(kL(nB,r)),t.base64url=r=>t.check(AL(sB,r)),t.xid=r=>t.check(yL(Zq,r)),t.ksuid=r=>t.check(bL(Qq,r)),t.ipv4=r=>t.check(jL(Jq,r)),t.ipv6=r=>t.check(wL(eB,r)),t.cidrv4=r=>t.check(SL(tB,r)),t.cidrv6=r=>t.check(TL(rB,r)),t.e164=r=>t.check(NL(iB,r)),t.datetime=r=>t.check(Sq(r)),t.date=r=>t.check(kq(r)),t.time=r=>t.check(Nq(r)),t.duration=r=>t.check(Cq(r))});function Mr(t){return oL(Hq,t)}const rr=je("ZodStringFormat",(t,e)=>{Ht.init(t,e),VT.init(t,e)}),Fq=je("ZodEmail",(t,e)=>{pP.init(t,e),rr.init(t,e)}),r7=je("ZodGUID",(t,e)=>{mP.init(t,e),rr.init(t,e)}),wd=je("ZodUUID",(t,e)=>{fP.init(t,e),rr.init(t,e)}),Uq=je("ZodURL",(t,e)=>{gP.init(t,e),rr.init(t,e)}),Vq=je("ZodEmoji",(t,e)=>{xP.init(t,e),rr.init(t,e)}),Kq=je("ZodNanoID",(t,e)=>{vP.init(t,e),rr.init(t,e)}),Wq=je("ZodCUID",(t,e)=>{yP.init(t,e),rr.init(t,e)}),Xq=je("ZodCUID2",(t,e)=>{bP.init(t,e),rr.init(t,e)}),Yq=je("ZodULID",(t,e)=>{jP.init(t,e),rr.init(t,e)}),Zq=je("ZodXID",(t,e)=>{wP.init(t,e),rr.init(t,e)}),Qq=je("ZodKSUID",(t,e)=>{SP.init(t,e),rr.init(t,e)}),Jq=je("ZodIPv4",(t,e)=>{EP.init(t,e),rr.init(t,e)}),eB=je("ZodIPv6",(t,e)=>{CP.init(t,e),rr.init(t,e)}),tB=je("ZodCIDRv4",(t,e)=>{MP.init(t,e),rr.init(t,e)}),rB=je("ZodCIDRv6",(t,e)=>{_P.init(t,e),rr.init(t,e)}),nB=je("ZodBase64",(t,e)=>{$P.init(t,e),rr.init(t,e)}),sB=je("ZodBase64URL",(t,e)=>{DP.init(t,e),rr.init(t,e)}),iB=je("ZodE164",(t,e)=>{IP.init(t,e),rr.init(t,e)}),aB=je("ZodJWT",(t,e)=>{GP.init(t,e),rr.init(t,e)}),KT=je("ZodNumber",(t,e)=>{OT.init(t,e),xr.init(t,e),t._zod.processJSONSchema=(s,i,a)=>rq(t,s,i),t.gt=(s,i)=>t.check(e7(s,i)),t.gte=(s,i)=>t.check(R1(s,i)),t.min=(s,i)=>t.check(R1(s,i)),t.lt=(s,i)=>t.check(Jy(s,i)),t.lte=(s,i)=>t.check(I1(s,i)),t.max=(s,i)=>t.check(I1(s,i)),t.int=s=>t.check(n7(s)),t.safe=s=>t.check(n7(s)),t.positive=s=>t.check(e7(0,s)),t.nonnegative=s=>t.check(R1(0,s)),t.negative=s=>t.check(Jy(0,s)),t.nonpositive=s=>t.check(I1(0,s)),t.multipleOf=(s,i)=>t.check(t7(s,i)),t.step=(s,i)=>t.check(t7(s,i)),t.finite=()=>t;const r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=!0,t.format=r.format??null});function Kr(t){return zL(KT,t)}const oB=je("ZodNumberFormat",(t,e)=>{OP.init(t,e),KT.init(t,e)});function n7(t){return DL(oB,t)}const lB=je("ZodBoolean",(t,e)=>{PP.init(t,e),xr.init(t,e),t._zod.processJSONSchema=(r,s,i)=>nq(t,r,s)});function cB(t){return IL(lB,t)}const hB=je("ZodUnknown",(t,e)=>{LP.init(t,e),xr.init(t,e),t._zod.processJSONSchema=(r,s,i)=>iq()});function r2(){return RL(hB)}const uB=je("ZodNever",(t,e)=>{qP.init(t,e),xr.init(t,e),t._zod.processJSONSchema=(r,s,i)=>sq(t,r,s)});function dB(t){return GL(uB,t)}const mB=je("ZodArray",(t,e)=>{BP.init(t,e),xr.init(t,e),t._zod.processJSONSchema=(r,s,i)=>cq(t,r,s,i),t.element=e.element,t.min=(r,s)=>t.check(mf(r,s)),t.nonempty=r=>t.check(mf(1,r)),t.max=(r,s)=>t.check(qT(r,s)),t.length=(r,s)=>t.check(BT(r,s)),t.unwrap=()=>t.element});function Yc(t,e){return XL(mB,t,e)}const fB=je("ZodObject",(t,e)=>{FP.init(t,e),xr.init(t,e),t._zod.processJSONSchema=(r,s,i)=>hq(t,r,s,i),zt(t,"shape",()=>e.shape),t.keyof=()=>s2(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:r2()}),t.loose=()=>t.clone({...t._zod.def,catchall:r2()}),t.strict=()=>t.clone({...t._zod.def,catchall:dB()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>hO(t,r),t.safeExtend=r=>uO(t,r),t.merge=r=>dO(t,r),t.pick=r=>lO(t,r),t.omit=r=>cO(t,r),t.partial=(...r)=>mO(YT,t,r[0]),t.required=(...r)=>fO(ZT,t,r[0])});function Os(t,e){const r={type:"object",shape:t??{},...Fe(e)};return new fB(r)}const pB=je("ZodUnion",(t,e)=>{UP.init(t,e),xr.init(t,e),t._zod.processJSONSchema=(r,s,i)=>uq(t,r,s,i),t.options=e.options});function WT(t,e){return new pB({type:"union",options:t,...Fe(e)})}const gB=je("ZodIntersection",(t,e)=>{VP.init(t,e),xr.init(t,e),t._zod.processJSONSchema=(r,s,i)=>dq(t,r,s,i)});function xB(t,e){return new gB({type:"intersection",left:t,right:e})}const vB=je("ZodRecord",(t,e)=>{KP.init(t,e),xr.init(t,e),t._zod.processJSONSchema=(r,s,i)=>mq(t,r,s,i),t.keyType=e.keyType,t.valueType=e.valueType});function XT(t,e,r){return new vB({type:"record",keyType:t,valueType:e,...Fe(r)})}const n2=je("ZodEnum",(t,e)=>{WP.init(t,e),xr.init(t,e),t._zod.processJSONSchema=(s,i,a)=>aq(t,s,i),t.enum=e.entries,t.options=Object.values(e.entries);const r=new Set(Object.keys(e.entries));t.extract=(s,i)=>{const a={};for(const l of s)if(r.has(l))a[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new n2({...e,checks:[],...Fe(i),entries:a})},t.exclude=(s,i)=>{const a={...e.entries};for(const l of s)if(r.has(l))delete a[l];else throw new Error(`Key ${l} not found in enum`);return new n2({...e,checks:[],...Fe(i),entries:a})}});function s2(t,e){const r=Array.isArray(t)?Object.fromEntries(t.map(s=>[s,s])):t;return new n2({type:"enum",entries:r,...Fe(e)})}const yB=je("ZodTransform",(t,e)=>{XP.init(t,e),xr.init(t,e),t._zod.processJSONSchema=(r,s,i)=>lq(t,r),t._zod.parse=(r,s)=>{if(s.direction==="backward")throw new ST(t.constructor.name);r.addIssue=a=>{if(typeof a=="string")r.issues.push(Qh(a,r.value,e));else{const l=a;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=r.value),l.inst??(l.inst=t),r.issues.push(Qh(l))}};const i=e.transform(r.value,r);return i instanceof Promise?i.then(a=>(r.value=a,r)):(r.value=i,r)}});function bB(t){return new yB({type:"transform",transform:t})}const YT=je("ZodOptional",(t,e)=>{YP.init(t,e),xr.init(t,e),t._zod.processJSONSchema=(r,s,i)=>jq(t,r,s,i),t.unwrap=()=>t._zod.def.innerType});function s7(t){return new YT({type:"optional",innerType:t})}const jB=je("ZodNullable",(t,e)=>{ZP.init(t,e),xr.init(t,e),t._zod.processJSONSchema=(r,s,i)=>fq(t,r,s,i),t.unwrap=()=>t._zod.def.innerType});function i7(t){return new jB({type:"nullable",innerType:t})}const wB=je("ZodDefault",(t,e)=>{QP.init(t,e),xr.init(t,e),t._zod.processJSONSchema=(r,s,i)=>gq(t,r,s,i),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function SB(t,e){return new wB({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():NT(e)}})}const TB=je("ZodPrefault",(t,e)=>{JP.init(t,e),xr.init(t,e),t._zod.processJSONSchema=(r,s,i)=>xq(t,r,s,i),t.unwrap=()=>t._zod.def.innerType});function kB(t,e){return new TB({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():NT(e)}})}const ZT=je("ZodNonOptional",(t,e)=>{eL.init(t,e),xr.init(t,e),t._zod.processJSONSchema=(r,s,i)=>pq(t,r,s,i),t.unwrap=()=>t._zod.def.innerType});function AB(t,e){return new ZT({type:"nonoptional",innerType:t,...Fe(e)})}const NB=je("ZodCatch",(t,e)=>{tL.init(t,e),xr.init(t,e),t._zod.processJSONSchema=(r,s,i)=>vq(t,r,s,i),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function EB(t,e){return new NB({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const CB=je("ZodPipe",(t,e)=>{rL.init(t,e),xr.init(t,e),t._zod.processJSONSchema=(r,s,i)=>yq(t,r,s,i),t.in=e.in,t.out=e.out});function a7(t,e){return new CB({type:"pipe",in:t,out:e})}const MB=je("ZodReadonly",(t,e)=>{nL.init(t,e),xr.init(t,e),t._zod.processJSONSchema=(r,s,i)=>bq(t,r,s,i),t.unwrap=()=>t._zod.def.innerType});function _B(t){return new MB({type:"readonly",innerType:t})}const $B=je("ZodCustom",(t,e)=>{sL.init(t,e),xr.init(t,e),t._zod.processJSONSchema=(r,s,i)=>oq(t,r)});function zB(t,e={}){return YL($B,t,e)}function DB(t){return ZL(t)}hi("Validation");const o7=Mr().min(1).max(100);Mr().regex(/^[a-fA-F0-9]{64}$/);const up=Mr().regex(/^npub1[1-9ac-hjk-np-z46-9]+$/),QT=Mr().min(1).max(50).regex(/^[a-zA-Z0-9\s\-\'\.]+$/);Mr().regex(/^[a-zA-Z0-9\.\-_]+(@[a-zA-Z0-9\.\-_]+\.[a-zA-Z]{2,})?$/);Os({challenge:Mr().min(10).max(200),expiresAt:Kr().int().positive()});Os({kind:Kr().int(),created_at:Kr().int().nonnegative(),tags:Yc(Yc(Mr())),content:Mr()});const IB=Os({npub:up,displayName:QT.nullable()}),JT=Os({visitedAt:Mr().nullable().optional(),completedAt:Mr().nullable().optional(),quizAttempts:Yc(Os({xpEarned:Kr().int().min(0).optional(),score:Kr().min(0).max(100).optional(),timestamp:Mr().optional(),difficulty:s2(["easy","medium","hard"]).optional(),correctAnswers:Kr().int().min(0).optional(),totalQuestions:Kr().int().min(1).optional()})).optional(),visualizationsInteracted:Yc(Mr().max(100)).optional(),masteryLevel:WT([Kr().int().min(0).max(3),s2(["none","learning","familiar","mastered"])]).nullable().optional(),sectionId:Mr().optional(),timeSpentSeconds:Kr().int().min(0).optional()});Os({user:Os({totalXP:Kr().int().min(0),level:Kr().int().min(1).max(10),sectionsCompleted:Yc(o7)}),sections:XT(o7,JT),dailyGoals:Os({lastResetDate:Mr().nullable(),currentStreak:Kr().int().min(0),xpEarned:Kr().int().min(0),xpGoal:Kr().int().min(0)}),lastUpdated:Kr().int().nonnegative()});Os({success:cB(),totalXP:Kr().int().min(0)});Os({npub:up,displayName:QT.nullable(),xp:Kr().int().min(0),lastSync:Mr()});Os({timestamp:Mr(),action:Mr(),targetNpub:up.nullable(),performedBy:Mr(),details:XT(Mr(),r2()).nullable()});function G1(t){return up.safeParse(t).success?{valid:!0}:{valid:!1,error:'Invalid npub format. Must start with "npub1" followed by bech32 characters.'}}function RB(t){const e=JT.safeParse(t);return e.success?{valid:!0,data:e.data}:{valid:!1,error:"Invalid section data format"}}function GB(t){const e=IB.safeParse(t);return e.success?{valid:!0,data:e.data}:{valid:!1,error:"Invalid auth state format"}}const dn={SECTION_VISIT:10,SECTION_COMPLETE:25,QUIZ_EASY:15,QUIZ_MEDIUM:25,QUIZ_HARD:40,QUIZ_PERFECT_BONUS:.5,VISUALIZATION_USE:5,PART_COMPLETE_BONUS:50,STREAK_DAILY_BONUS:5,STREAK_BONUS_CAP:50},kh=[0,100,250,500,850,1300,1900,2650,3550,4600],ek=50,pf=hi("SyncManager"),OB="magic-internet-math-progress";function l7(){try{const t=localStorage.getItem(OB);if(!t)return null;const e=JSON.parse(t);if(!(e!=null&&e.user)||!(e!=null&&e.sections))return null;const r={ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,template:0,islr:0,ra:0,calc1:0,calc_lib_art:0};for(const[s,i]of Object.entries(e.sections)){const[a]=s.split(":");if(!tO(a))continue;const l=a,c=RB(i);if(!c.valid||!c.data){pf.warn(`Invalid section data for ${s}, skipping`);continue}const h=c.data;if(h.quizAttempts)for(const u of h.quizAttempts)u.xpEarned&&(r[l]+=u.xpEarned);h.visitedAt&&(r[l]+=dn.SECTION_VISIT),h.completedAt&&(r[l]+=dn.SECTION_COMPLETE),h.visualizationsInteracted&&(r[l]+=h.visualizationsInteracted.length*dn.VISUALIZATION_USE)}return[{courseId:"ba",xp:r.ba},{courseId:"crypto",xp:r.crypto},{courseId:"aa",xp:r.aa},{courseId:"linalg",xp:r.linalg},{courseId:"advlinalg",xp:r.advlinalg},{courseId:"template",xp:r.template},{courseId:"islr",xp:r.islr},{courseId:"ra",xp:r.ra},{courseId:"calc1",xp:r.calc1},{courseId:"calc_lib_art",xp:r.calc_lib_art}]}catch(t){return pf.error("Error extracting scores from storage:",t),null}}class PB{constructor(){As(this,"syncInterval",null);As(this,"debounceTimeout",null);As(this,"lastSyncTime",0);As(this,"isAuthenticated",!1);As(this,"displayName",null);As(this,"handleVisibilityChange",()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.syncNow()})}setAuthenticated(e){this.isAuthenticated=e,e&&this.syncNow()}setDisplayName(e){this.displayName=e}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.syncNow()},PG),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(){this.isAuthenticated&&(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow()},LG))}async syncNow(){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!ul())return{success:!1,error:"Firebase not configured"};const e=Date.now();if(e-this.lastSyncTime<GG)return{success:!1,error:"Rate limited"};try{const r=l7();if(!r)return{success:!1,error:"No scores to sync"};const s=hl(),i=Za(s,"syncScores"),a={scores:r};this.displayName!==void 0&&(a.displayName=this.displayName);const l=await i(a);return this.lastSyncTime=e,{success:l.data.success,totalXP:l.data.totalXP}}catch(r){return pf.error("Sync failed:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async syncWithRetry(e=3){for(let r=0;r<e;r++){const s=await this.syncNow();if(s.success||s.error==="Not authenticated"||s.error==="No scores to sync"||s.error==="Firebase not configured")return s;if(r<e-1){const i=1e3*Math.pow(2,r);pf.debug(`Sync retry ${r+1}/${e} in ${i}ms`),await new Promise(a=>setTimeout(a,i)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}getLocalScores(){const e=l7();return e?e.reduce((r,s)=>(r[s.courseId]=s.xp,r),{ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,template:0,islr:0,ra:0,calc1:0,calc_lib_art:0}):null}}let O1=null;function cl(){return O1||(O1=new PB),O1}const Or=hi("NostrAuth"),tk=_.createContext(null),V0="magic-internet-math-nostr-auth";function LB({children:t}){const[e,r]=_.useState(!1),[s,i]=_.useState(null),[a,l]=_.useState(null),[c,h]=_.useState(null),[u,m]=_.useState(!1),[f,p]=_.useState(null),[g,S]=_.useState(!1),[N,$]=_.useState(!1),[w,T]=_.useState(null);_.useEffect(()=>{(async()=>{const O=await ZG(RG);S(O),$(!0)})()},[]);const A=_.useCallback(async z=>{for(const O of Qx)try{const L=await wT(O,z);if(L){L.nip05&&h(L.nip05);const H=L.display_name||L.name;if(H){l(H);const q=cl();q.setDisplayName(H),q.requestSync()}return}}catch(L){Or.warn(`Failed to fetch profile from ${O}:`,L)}},[]);_.useEffect(()=>{if(!ul())return;const z=z1(),O=HI(z,async L=>{if(T(L),L){i(L.uid);try{const q=await L.getIdTokenResult(!0);Or.debug("Token claims:",q.claims),m(q.claims.isAdmin===!0)}catch(q){Or.error("Error getting token:",q),m(!1)}try{const q=localStorage.getItem(V0);if(q){const ye=JSON.parse(q),de=GB(ye);if(!de.valid||!de.data){Or.warn("Invalid auth state in localStorage:",de.error),localStorage.removeItem(V0);return}de.data.npub===L.uid&&l(de.data.displayName)}}catch(q){Or.debug("Storage read error:",q)}const H=cl();H.setAuthenticated(!0),H.startPeriodicSync();try{const q=jT(L.uid);A(q)}catch(q){Or.debug("Npub conversion error:",q)}}else{i(null),h(null),m(!1),l(null);const H=cl();H.setAuthenticated(!1),H.stopPeriodicSync()}});return()=>O()},[A]);const I=_.useCallback(async()=>{if(Or.debug("connect() called"),Or.debug("isFirebaseConfigured:",ul()),Or.debug("hasNostrExtension:",hf()),!ul()){Or.info("Firebase not configured, cannot connect");return}if(!hf()){p("No Nostr extension found. Please install nos2x, Alby, or another NIP-07 extension."),Or.warn("No extension found, returning");return}r(!0),p(null),Or.info("Starting Nostr connection...");try{const z=window.nostr,O=hl(),L=await z.getPublicKey(),H=YG(L),ye=await Za(O,"createChallenge")({pubkeyHex:L}),{challenge:de}=ye.data,oe={kind:DG,created_at:Math.floor(Date.now()/1e3),tags:[["challenge",de]],content:de},re=await z.signEvent(oe),le=await Za(O,"verifyNostrAndCreateToken")({signedEvent:re,challenge:de}),W=z1();await LI(W,le.data.token);try{const U={npub:H,displayName:null};localStorage.setItem(V0,JSON.stringify(U))}catch(U){Or.warn("Failed to store auth state:",U)}cl().syncNow().catch(U=>{Or.warn("Initial sync failed:",U)})}catch(z){Or.error("Nostr connect error:",z),p(z instanceof Error?z.message:"Failed to connect. Please try again.")}finally{r(!1)}},[g]),B=_.useCallback(async()=>{try{if(ul()){const z=z1();await FI(z)}try{localStorage.removeItem(V0)}catch(z){Or.warn("Failed to clear auth state from storage:",z)}i(null),l(null),m(!1)}catch(z){Or.error("Disconnect error:",z),p(z instanceof Error?z.message:"Failed to disconnect")}},[]),Q=_.useCallback(z=>{if(l(z),s)try{localStorage.setItem(V0,JSON.stringify({npub:s,displayName:z}))}catch(L){Or.warn("Failed to update display name in storage:",L)}const O=cl();O.setDisplayName(z),O.requestSync()},[s]),D=_.useCallback(()=>{p(null)},[]),E=_.useMemo(()=>({isAuthenticated:!!w&&!!s,isConnecting:e,npub:s,displayName:a,nip05:c,isAdmin:u,error:f,hasExtension:g,extensionChecked:N,connect:I,disconnect:B,setDisplayName:Q,clearError:D}),[w,s,e,a,c,u,f,g,N,I,B,Q,D]);return n.jsx(tk.Provider,{value:E,children:t})}const qB={isAuthenticated:!1,isConnecting:!1,npub:null,displayName:null,nip05:null,isAdmin:!1,error:null,hasExtension:!1,extensionChecked:!0,connect:async()=>{},disconnect:async()=>{},setDisplayName:()=>{},clearError:()=>{}};function dp(){const t=_.useContext(tk);return t||qB}hi("ErrorContext");_.createContext(null);hi("ErrorBoundary");function c7({className:t="",showDisplayName:e=!0}){var p,g;const{isAuthenticated:r,isConnecting:s,npub:i,displayName:a,hasExtension:l,extensionChecked:c,error:h,connect:u,disconnect:m,clearError:f}=dp();return c?r?n.jsxs("div",{className:`flex items-center gap-3 ${t}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary-500 to-purple-500 flex items-center justify-center text-white text-xs font-bold",children:((p=a==null?void 0:a[0])==null?void 0:p.toUpperCase())||((g=i==null?void 0:i[5])==null?void 0:g.toUpperCase())||"?"}),n.jsxs("div",{className:"flex flex-col",children:[e&&a&&n.jsx("span",{className:"text-sm font-medium text-dark-100",children:a}),n.jsx("span",{className:"text-xs text-dark-400 font-mono",children:i?cf(i,6):"..."})]})]}),n.jsx("button",{onClick:m,className:"p-1.5 rounded-lg text-dark-400 hover:text-dark-200 hover:bg-dark-700/50 transition-colors",title:"Disconnect",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]}):n.jsxs("div",{className:`flex flex-col items-center gap-2 ${t}`,children:[n.jsx("button",{onClick:()=>{u()},disabled:s||!l,className:`
            flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm
            transition-all duration-200
            ${l?s?"bg-primary-600 text-white opacity-70 cursor-wait":"bg-primary-600 hover:bg-primary-500 text-white shadow-lg shadow-primary-600/25":"bg-dark-700 text-dark-400 cursor-not-allowed"}
          `,children:s?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Connecting..."]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Connect with Nostr"]})}),!l&&n.jsxs("p",{className:"text-xs text-dark-400 text-center max-w-xs",children:["Install a Nostr extension like"," ",n.jsx("a",{href:"https://github.com/nickytonline/nos2x",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 hover:underline",children:"nos2x"})," ","or"," ",n.jsx("a",{href:"https://getalby.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 hover:underline",children:"Alby"})," ","to connect"]}),h&&n.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-400",children:[n.jsx("span",{children:h}),n.jsx("button",{onClick:f,className:"text-dark-400 hover:text-dark-200",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}):n.jsxs("div",{className:`flex items-center gap-2 ${t}`,children:[n.jsx("div",{className:"w-4 h-4 border-2 border-dark-400 border-t-transparent rounded-full animate-spin"}),n.jsx("span",{className:"text-dark-400 text-sm",children:"Checking..."})]})}function BB(t){switch(t){case 1:return{emoji:"1st",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400",borderColor:"border-yellow-500/30"};case 2:return{emoji:"2nd",bgColor:"bg-gray-400/20",textColor:"text-gray-300",borderColor:"border-gray-400/30"};case 3:return{emoji:"3rd",bgColor:"bg-orange-500/20",textColor:"text-orange-400",borderColor:"border-orange-500/30"};default:return{emoji:`${t}`,bgColor:"bg-dark-700/50",textColor:"text-dark-300",borderColor:"border-dark-600/30"}}}function HB({entry:t,isCurrentUser:e}){var s,i,a;const r=BB(t.rank);return n.jsxs("div",{className:`
        flex items-center gap-4 p-3 rounded-xl transition-colors
        ${e?"bg-primary-500/10 border border-primary-500/30":"hover:bg-dark-700/30"}
      `,children:[n.jsx("div",{className:`
          w-10 h-10 rounded-lg ${r.bgColor} ${r.borderColor} border
          flex items-center justify-center font-bold ${r.textColor}
          ${t.rank<=3?"text-lg":"text-sm"}
        `,children:r.emoji}),n.jsx("div",{className:`
          w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-bold
          ${t.rank===1?"bg-gradient-to-br from-yellow-400 to-yellow-600":t.rank===2?"bg-gradient-to-br from-gray-300 to-gray-500":t.rank===3?"bg-gradient-to-br from-orange-400 to-orange-600":"bg-gradient-to-br from-primary-500 to-purple-500"}
        `,children:((i=(s=t.displayName)==null?void 0:s[0])==null?void 0:i.toUpperCase())||((a=t.npub[5])==null?void 0:a.toUpperCase())||"?"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:`font-medium truncate ${e?"text-primary-300":"text-dark-100"}`,children:t.displayName||cf(t.npub,8)}),e&&n.jsx("span",{className:"text-xs bg-primary-500/20 text-primary-300 px-1.5 py-0.5 rounded",children:"You"})]}),t.displayName&&n.jsx("span",{className:"text-xs text-dark-500 font-mono",children:cf(t.npub,6)})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-lg font-bold text-yellow-400",children:[t.xp.toLocaleString(),n.jsx("span",{className:"text-xs text-dark-400 ml-1",children:"XP"})]}),n.jsxs("div",{className:"text-xs text-dark-400",children:["Level ",t.level]})]})]})}function FB(){return n.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(t=>n.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl animate-pulse",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-dark-700"}),n.jsx("div",{className:"w-10 h-10 rounded-full bg-dark-700"}),n.jsxs("div",{className:"flex-1 space-y-2",children:[n.jsx("div",{className:"h-4 bg-dark-700 rounded w-32"}),n.jsx("div",{className:"h-3 bg-dark-700 rounded w-24"})]}),n.jsxs("div",{className:"space-y-2 text-right",children:[n.jsx("div",{className:"h-5 bg-dark-700 rounded w-16 ml-auto"}),n.jsx("div",{className:"h-3 bg-dark-700 rounded w-12 ml-auto"})]})]},t))})}function UB(){return n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"text-4xl mb-3",children:""}),n.jsx("p",{className:"text-dark-300 font-medium",children:"No rankings yet"}),n.jsx("p",{className:"text-dark-500 text-sm mt-1",children:"Be the first to join the leaderboard!"})]})}function VB({rankings:t,currentUserNpub:e,isLoading:r=!1}){return r?n.jsx(FB,{}):t.length===0?n.jsx(UB,{}):n.jsx("div",{className:"space-y-2",children:t.map(s=>n.jsx(HB,{entry:s,isCurrentUser:e===s.npub},s.npub))})}function KB({rank:t,totalXP:e,level:r,courseXP:s}){var m,f;const{npub:i,displayName:a,nip05:l}=dp(),[c,h]=_.useState(!1),u=_.useCallback(()=>{i&&(navigator.clipboard.writeText(i),h(!0),setTimeout(()=>h(!1),2e3))},[i]);return i?n.jsxs("div",{className:"p-5 rounded-2xl bg-gradient-to-br from-primary-500/10 to-purple-500/10 border border-primary-500/20 backdrop-blur",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-primary-500 to-purple-500 flex items-center justify-center text-white text-xl font-bold shadow-lg shadow-primary-500/25",children:((m=a==null?void 0:a[0])==null?void 0:m.toUpperCase())||((f=i[5])==null?void 0:f.toUpperCase())||"?"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[a&&n.jsx("div",{className:"font-semibold text-dark-100 truncate text-lg",children:a}),l&&n.jsxs("div",{className:"text-sm text-dark-300 flex items-center gap-1",children:[n.jsx("span",{className:"truncate",children:l}),n.jsx("svg",{className:"w-3.5 h-3.5 text-primary-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),n.jsxs("button",{onClick:u,className:"text-xs text-dark-400 font-mono break-all text-left hover:text-dark-200 transition-colors group",title:"Click to copy",children:[i,n.jsx("span",{className:"ml-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:c?"":""})]})]}),n.jsx("div",{className:"text-right",children:t!==null?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-3xl font-bold text-primary-400",children:["#",t]}),n.jsx("div",{className:"text-xs text-dark-400",children:"Global Rank"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-xl font-bold text-dark-400",children:"--"}),n.jsx("div",{className:"text-xs text-dark-500",children:"Not ranked"})]})})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700/50 grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:e.toLocaleString()}),n.jsx("div",{className:"text-xs text-dark-400",children:"Total XP"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:r}),n.jsx("div",{className:"text-xs text-dark-400",children:"Level"})]})]}),s&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700/50",children:[n.jsx("div",{className:"text-xs text-dark-400 mb-2",children:"XP by Course"}),n.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[n.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[n.jsx("div",{className:"text-sm font-bold text-blue-400",children:(s.ba||0).toLocaleString()}),n.jsx("div",{className:"text-xs text-dark-500",children:"Basic Algebra"})]}),n.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[n.jsx("div",{className:"text-sm font-bold text-green-400",children:(s.crypto||0).toLocaleString()}),n.jsx("div",{className:"text-xs text-dark-500",children:"Cryptography"})]}),n.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[n.jsx("div",{className:"text-sm font-bold text-purple-400",children:(s.aa||0).toLocaleString()}),n.jsx("div",{className:"text-xs text-dark-500",children:"Abstract Algebra"})]}),n.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[n.jsx("div",{className:"text-sm font-bold text-cyan-400",children:(s.linalg||0).toLocaleString()}),n.jsx("div",{className:"text-xs text-dark-500",children:"Linear Algebra"})]}),n.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[n.jsx("div",{className:"text-sm font-bold text-pink-400",children:(s.advlinalg||0).toLocaleString()}),n.jsx("div",{className:"text-xs text-dark-500",children:"Adv. Linear Alg."})]})]})]})]}):null}const WB=hi("AdminPanel");function XB({className:t=""}){const{isAdmin:e}=dp(),[r,s]=_.useState(""),[i,a]=_.useState(""),[l,c]=_.useState(!1),[h,u]=_.useState(null),[m,f]=_.useState([]),[p,g]=_.useState(!1),S=_.useCallback(async()=>{if(!(!ul()||!e))try{const A=hl(),B=await Za(A,"getAdminLogs")({limit:20});f(B.data.logs)}catch(A){WB.error("Failed to load admin logs:",A)}},[e]);_.useEffect(()=>{p&&S()},[p,S]);const N=async()=>{const A=r.trim();if(!A){u({type:"error",text:"Please enter an npub"});return}const I=G1(A);if(!I.valid){u({type:"error",text:I.error||"Invalid npub format"});return}c(!0),u(null);try{const B=hl();await Za(B,"banUser")({targetNpub:r.trim(),reason:i.trim()||void 0}),u({type:"success",text:"User banned successfully"}),s(""),a(""),p&&S()}catch(B){u({type:"error",text:B instanceof Error?B.message:"Failed to ban user"})}finally{c(!1)}},$=async()=>{const A=r.trim();if(!A){u({type:"error",text:"Please enter an npub"});return}const I=G1(A);if(!I.valid){u({type:"error",text:I.error||"Invalid npub format"});return}c(!0),u(null);try{const B=hl();await Za(B,"unbanUser")({targetNpub:r.trim()}),u({type:"success",text:"User unbanned successfully"}),s(""),p&&S()}catch(B){u({type:"error",text:B instanceof Error?B.message:"Failed to unban user"})}finally{c(!1)}},w=async()=>{const A=r.trim();if(!A){u({type:"error",text:"Please enter an npub"});return}const I=G1(A);if(!I.valid){u({type:"error",text:I.error||"Invalid npub format"});return}if(confirm("Are you sure you want to reset this user's scores? This cannot be undone.")){c(!0),u(null);try{const B=hl();await Za(B,"resetUserScores")({targetNpub:r.trim(),reason:i.trim()||void 0}),u({type:"success",text:"User scores reset successfully"}),s(""),a(""),p&&S()}catch(B){u({type:"error",text:B instanceof Error?B.message:"Failed to reset scores"})}finally{c(!1)}}},T=A=>new Date(A.seconds*1e3).toLocaleString();return e?n.jsxs("div",{className:`p-5 rounded-2xl bg-dark-800/60 border border-dark-700/50 ${t}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-semibold text-dark-100 flex items-center gap-2",children:[n.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"})}),"Admin Panel"]}),n.jsx("span",{className:"text-xs bg-yellow-500/20 text-yellow-400 px-2 py-0.5 rounded",children:"Admin"})]}),n.jsxs("div",{className:"space-y-3 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-dark-400 mb-1",children:"Target User (npub)"}),n.jsx("input",{type:"text",value:r,onChange:A=>s(A.target.value),placeholder:"npub1...",className:"w-full px-3 py-2 rounded-lg bg-dark-900 border border-dark-600 text-dark-100 text-sm font-mono focus:outline-none focus:border-primary-500"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs text-dark-400 mb-1",children:"Reason (optional)"}),n.jsx("input",{type:"text",value:i,onChange:A=>a(A.target.value),placeholder:"Reason for action",className:"w-full px-3 py-2 rounded-lg bg-dark-900 border border-dark-600 text-dark-100 text-sm focus:outline-none focus:border-primary-500"})]})]}),n.jsxs("div",{className:"flex gap-2 mb-4",children:[n.jsx("button",{onClick:N,disabled:l,className:"flex-1 px-3 py-2 rounded-lg bg-red-600/20 border border-red-500/30 text-red-400 text-sm font-medium hover:bg-red-600/30 transition-colors disabled:opacity-50",children:"Ban User"}),n.jsx("button",{onClick:$,disabled:l,className:"flex-1 px-3 py-2 rounded-lg bg-green-600/20 border border-green-500/30 text-green-400 text-sm font-medium hover:bg-green-600/30 transition-colors disabled:opacity-50",children:"Unban User"}),n.jsx("button",{onClick:w,disabled:l,className:"flex-1 px-3 py-2 rounded-lg bg-orange-600/20 border border-orange-500/30 text-orange-400 text-sm font-medium hover:bg-orange-600/30 transition-colors disabled:opacity-50",children:"Reset Scores"})]}),h&&n.jsx("div",{className:`p-3 rounded-lg text-sm mb-4 ${h.type==="success"?"bg-green-500/10 border border-green-500/30 text-green-400":"bg-red-500/10 border border-red-500/30 text-red-400"}`,children:h.text}),n.jsxs("button",{onClick:()=>g(!p),className:"w-full text-sm text-dark-400 hover:text-dark-200 transition-colors flex items-center justify-center gap-1",children:[p?"Hide":"Show"," Admin Logs",n.jsx("svg",{className:`w-4 h-4 transition-transform ${p?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p&&n.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700/50",children:[n.jsx("h4",{className:"text-sm font-medium text-dark-200 mb-2",children:"Recent Actions"}),m.length===0?n.jsx("p",{className:"text-xs text-dark-500",children:"No admin actions recorded"}):n.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:m.map(A=>n.jsxs("div",{className:"p-2 rounded-lg bg-dark-900/50 text-xs",children:[n.jsxs("div",{className:"flex items-center justify-between mb-1",children:[n.jsx("span",{className:`font-medium ${A.action==="ban"?"text-red-400":A.action==="unban"?"text-green-400":"text-orange-400"}`,children:A.action.toUpperCase()}),n.jsx("span",{className:"text-dark-500",children:T(A.timestamp)})]}),n.jsxs("div",{className:"text-dark-400",children:["Target: ",n.jsx("span",{className:"font-mono",children:cf(A.targetNpub,8)})]}),A.reason&&n.jsxs("div",{className:"text-dark-500 mt-1",children:["Reason: ",A.reason]})]},A.id))})]})]}):null}const YB=hi("Leaderboard"),rk="magic-internet-math-leaderboard-cache";function ZB(t){try{const e=localStorage.getItem(rk);if(!e)return null;const r=JSON.parse(e);return r.tab!==t||Date.now()-r.timestamp>qG?null:r}catch{return null}}function QB(t,e,r){try{const s={rankings:t,userRank:e,timestamp:Date.now(),tab:r};localStorage.setItem(rk,JSON.stringify(s))}catch{}}function h7(t){if(t instanceof Error){const e=t.message.toLowerCase();if(e.includes("unauthenticated")||e.includes("not authenticated"))return"Please connect your Nostr wallet to view the leaderboard.";if(e.includes("permission")||e.includes("denied"))return"You don't have permission to access this resource.";if(e.includes("not-found")||e.includes("not found"))return"The requested data was not found.";if(e.includes("network")||e.includes("fetch")||e.includes("failed to fetch"))return"Network error. Please check your connection and try again.";if(e.includes("timeout")||e.includes("deadline"))return"Request timed out. Please try again."}return"Failed to load leaderboard. Please try again."}const u7=[{id:"overall",label:"Overall",shortLabel:"All"},{id:"ba",label:"Basic Algebra",shortLabel:"BA"},{id:"crypto",label:"Cryptography",shortLabel:"Crypto"},{id:"aa",label:"Abstract Algebra",shortLabel:"AA"},{id:"linalg",label:"Linear Algebra",shortLabel:"LinAlg"},{id:"advlinalg",label:"Advanced Linear Algebra",shortLabel:"AdvLinAlg"},{id:"islr",label:"Statistical Learning",shortLabel:"ISLR"},{id:"ra",label:"Real Analysis",shortLabel:"RA"},{id:"calc1",label:"Calculus I",shortLabel:"Calc1"},{id:"calc_lib_art",label:"Calculus (Liberal Arts)",shortLabel:"CalcLA"},{id:"calc_easy",label:"Calculus Made Easy",shortLabel:"CalcEasy"}];function JB({className:t=""}){var L;const{isAuthenticated:e,npub:r,displayName:s,setDisplayName:i,isAdmin:a}=dp(),[l,c]=_.useState("overall"),[h,u]=_.useState([]),[m,f]=_.useState(null),[p,g]=_.useState(!0),[S,N]=_.useState(null),[$,w]=_.useState(!1),[T,A]=_.useState(s||""),I=_.useRef(new Map),B=_.useCallback(async()=>{if(!ul()){N("Firebase not configured"),g(!1);return}g(!0),N(null);try{const H=hl(),ye=await Za(H,"getLeaderboard")({courseId:l,limit:50});u(ye.data.rankings),f(ye.data.userRank),QB(ye.data.rankings,ye.data.userRank,l)}catch(H){YB.error("Failed to load leaderboard:",H);const q=ZB(l);q?(u(q.rankings),f(q.userRank),N("Showing cached data. "+h7(H))):N(h7(H))}finally{g(!1)}},[l]);_.useEffect(()=>{B()},[B]),_.useEffect(()=>{(async()=>{const q=h.filter(de=>!de.displayName&&!I.current.has(de.npub)).map(de=>de.npub);if(q.length===0)return;const ye=await JG(q);ye.forEach((de,oe)=>{I.current.set(oe,de)}),ye.size>0&&u(de=>de.map(oe=>{const re=I.current.get(oe.npub);return!oe.displayName&&re?{...oe,displayName:re.display_name||re.name||null}:oe}))})()},[h]),_.useEffect(()=>{const H=setInterval(B,OG);return()=>clearInterval(H)},[B]);const D=cl().getLocalScores(),E=D?Object.values(D).reduce((H,q)=>H+(q||0),0):0,z=Math.floor(Math.sqrt(E/100))+1,O=()=>{const H=T.trim().slice(0,30);i(H||null),w(!1)};return n.jsxs("div",{className:`max-w-2xl mx-auto ${t}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold text-dark-100",children:"Leaderboard"}),n.jsx("p",{className:"text-sm text-dark-400 mt-1",children:"Compete with other learners across all courses"})]}),n.jsx(c7,{showDisplayName:!1})]}),e&&n.jsxs("div",{className:"mb-6",children:[n.jsx(KB,{rank:m,totalXP:E,level:z,courseXP:D||void 0}),n.jsx("div",{className:"mt-3 flex items-center gap-2",children:$?n.jsxs(n.Fragment,{children:[n.jsx("input",{type:"text",value:T,onChange:H=>A(H.target.value),placeholder:"Enter display name",maxLength:30,className:"flex-1 px-3 py-1.5 rounded-lg bg-dark-800 border border-dark-600 text-dark-100 text-sm focus:outline-none focus:border-primary-500",autoFocus:!0,onKeyDown:H=>{H.key==="Enter"&&O(),H.key==="Escape"&&w(!1)}}),n.jsx("button",{onClick:O,className:"px-3 py-1.5 rounded-lg bg-primary-600 text-white text-sm hover:bg-primary-500 transition-colors",children:"Save"}),n.jsx("button",{onClick:()=>w(!1),className:"px-3 py-1.5 rounded-lg bg-dark-700 text-dark-300 text-sm hover:bg-dark-600 transition-colors",children:"Cancel"})]}):n.jsx("button",{onClick:()=>{A(s||""),w(!0)},className:"text-sm text-primary-400 hover:text-primary-300 transition-colors",children:s?"Edit display name":"Set display name"})})]}),!e&&n.jsxs("div",{className:"mb-6 p-6 rounded-2xl bg-dark-800/60 border border-dark-700/50 text-center",children:[n.jsx("div",{className:"text-4xl mb-3",children:""}),n.jsx("h3",{className:"text-lg font-semibold text-dark-100 mb-2",children:"Connect to Join the Leaderboard"}),n.jsx("p",{className:"text-sm text-dark-400 mb-4 max-w-sm mx-auto",children:"Link your Nostr identity to sync your progress and compete with other learners."}),n.jsx(c7,{})]}),n.jsx("div",{className:"flex gap-1 p-1 rounded-xl bg-dark-800/60 border border-dark-700/50 mb-4",children:u7.map(H=>n.jsxs("button",{onClick:()=>c(H.id),className:`
              flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors
              ${l===H.id?"bg-primary-600 text-white shadow-lg shadow-primary-600/25":"text-dark-300 hover:text-dark-100 hover:bg-dark-700/50"}
            `,children:[n.jsx("span",{className:"hidden sm:inline",children:H.label}),n.jsx("span",{className:"sm:hidden",children:H.shortLabel})]},H.id))}),S&&n.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 text-sm",children:[S,n.jsx("button",{onClick:B,className:"ml-2 underline hover:no-underline",children:"Retry"})]}),n.jsxs("div",{className:"p-4 rounded-2xl bg-dark-800/60 border border-dark-700/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h2",{className:"font-semibold text-dark-100",children:[(L=u7.find(H=>H.id===l))==null?void 0:L.label," Rankings"]}),n.jsx("button",{onClick:B,disabled:p,className:"text-xs text-dark-400 hover:text-dark-200 transition-colors disabled:opacity-50",children:p?"Loading...":"Refresh"})]}),n.jsx(VB,{rankings:h,currentUserNpub:r,isLoading:p})]}),a&&n.jsx(XB,{className:"mt-6"}),n.jsx("p",{className:"mt-4 text-xs text-dark-500 text-center",children:"Scores sync automatically when you're connected. Rankings update every few minutes."})]})}let rs=class nk{constructor(e,r,s){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=s}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new nk(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}},Ps=class sk{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new sk(r,rs.range(this,e))}},$e=class ik{constructor(e,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var s="KaTeX parse error: "+e,i,a,l=r&&r.loc;if(l&&l.start<=l.end){var c=l.lexer.input;i=l.start,a=l.end,i===c.length?s+=" at end of input: ":s+=" at position "+(i+1)+": ";var h=c.slice(i,a).replace(/[^]/g,"$&"),u;i>15?u=""+c.slice(i-15,i):u=c.slice(0,i);var m;a+15<c.length?m=c.slice(a,a+15)+"":m=c.slice(a),s+=u+h+m}var f=new Error(s);return f.name="ParseError",f.__proto__=ik.prototype,f.position=i,i!=null&&a!=null&&(f.length=a-i),f.rawMessage=e,f}};$e.prototype.__proto__=Error.prototype;var eH=function(e,r){return e===void 0?r:e},tH=/([A-Z])/g,rH=function(e){return e.replace(tH,"-$1").toLowerCase()},nH={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},sH=/[&><"']/g;function iH(t){return String(t).replace(sH,e=>nH[e])}var ak=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},aH=function(e){var r=ak(e);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},oH=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},lH=function(e){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},pt={deflt:eH,escape:iH,hyphenate:rH,getBaseElem:ak,isCharacterBox:aH,protocolFromUrl:lH},mm={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function cH(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}let jv=class{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in mm)if(mm.hasOwnProperty(r)){var s=mm[r];this[r]=e[r]!==void 0?s.processor?s.processor(e[r]):e[r]:cH(s)}}reportNonstrict(e,r,s){var i=this.strict;if(typeof i=="function"&&(i=i(e,r,s)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new $e("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),s);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,s){var i=this.strict;if(typeof i=="function")try{i=i(e,r,s)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var r=pt.protocolFromUrl(e.url);if(r==null)return!1;e.protocol=r}var s=typeof this.trust=="function"?this.trust(e):this.trust;return!!s}},Ca=class{constructor(e,r,s){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=s}sup(){return Fs[hH[this.id]]}sub(){return Fs[uH[this.id]]}fracNum(){return Fs[dH[this.id]]}fracDen(){return Fs[mH[this.id]]}cramp(){return Fs[fH[this.id]]}text(){return Fs[pH[this.id]]}isTight(){return this.size>=2}};var wv=0,gf=1,Dc=2,Ki=3,Jh=4,cs=5,Zc=6,cn=7,Fs=[new Ca(wv,0,!1),new Ca(gf,0,!0),new Ca(Dc,1,!1),new Ca(Ki,1,!0),new Ca(Jh,2,!1),new Ca(cs,2,!0),new Ca(Zc,3,!1),new Ca(cn,3,!0)],hH=[Jh,cs,Jh,cs,Zc,cn,Zc,cn],uH=[cs,cs,cs,cs,cn,cn,cn,cn],dH=[Dc,Ki,Jh,cs,Zc,cn,Zc,cn],mH=[Ki,Ki,cs,cs,cn,cn,cn,cn],fH=[gf,gf,Ki,Ki,cs,cs,cn,cn],pH=[wv,gf,Dc,Ki,Dc,Ki,Dc,Ki],Xe={DISPLAY:Fs[wv],TEXT:Fs[Dc],SCRIPT:Fs[Jh],SCRIPTSCRIPT:Fs[Zc]},i2=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function gH(t){for(var e=0;e<i2.length;e++)for(var r=i2[e],s=0;s<r.blocks.length;s++){var i=r.blocks[s];if(t>=i[0]&&t<=i[1])return r.name}return null}var fm=[];i2.forEach(t=>t.blocks.forEach(e=>fm.push(...e)));function ok(t){for(var e=0;e<fm.length;e+=2)if(t>=fm[e]&&t<=fm[e+1])return!0;return!1}var Zl=80,xH=function(e,r){return"M95,"+(622+e+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},vH=function(e,r){return"M263,"+(601+e+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},yH=function(e,r){return"M983 "+(10+e+r)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},bH=function(e,r){return"M424,"+(2398+e+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+r+`
h400000v`+(40+e)+"h-400000z"},jH=function(e,r){return"M473,"+(2713+e+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+r+"h400000v"+(40+e)+"H1017.7z"},wH=function(e){var r=e/2;return"M400000 "+e+" H0 L"+r+" 0 l65 45 L145 "+(e-80)+" H400000z"},SH=function(e,r,s){var i=s-54-r-e;return"M702 "+(e+r)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+e)+"H742z"},TH=function(e,r,s){r=1e3*r;var i="";switch(e){case"sqrtMain":i=xH(r,Zl);break;case"sqrtSize1":i=vH(r,Zl);break;case"sqrtSize2":i=yH(r,Zl);break;case"sqrtSize3":i=bH(r,Zl);break;case"sqrtSize4":i=jH(r,Zl);break;case"sqrtTall":i=SH(r,Zl,s)}return i},kH=function(e,r){switch(e){case"":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},d7={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},AH=function(e,r){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let Mu=class{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=r=>r.toText();return this.children.map(e).join("")}};var Xs={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Sd={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},m7={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function NH(t,e){Xs[t]=e}function Sv(t,e,r){if(!Xs[e])throw new Error("Font metrics not found for font: "+e+".");var s=t.charCodeAt(0),i=Xs[e][s];if(!i&&t[0]in m7&&(s=m7[t[0]].charCodeAt(0),i=Xs[e][s]),!i&&r==="text"&&ok(s)&&(i=Xs[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var P1={};function EH(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!P1[e]){var r=P1[e]={cssEmPerMu:Sd.quad[e]/18};for(var s in Sd)Sd.hasOwnProperty(s)&&(r[s]=Sd[s][e])}return P1[e]}var CH=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],f7=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],p7=function(e,r){return r.size<2?e:CH[e-1][r.size-1]};let lk=class ol{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||ol.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=f7[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var s in e)e.hasOwnProperty(s)&&(r[s]=e[s]);return new ol(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:p7(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:f7[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=p7(ol.BASESIZE,e);return this.size===r&&this.textSize===ol.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==ol.BASESIZE?["sizing","reset-size"+this.size,"size"+ol.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=EH(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}};lk.BASESIZE=6;var a2={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},MH={ex:!0,em:!0,mu:!0},ck=function(e){return typeof e!="string"&&(e=e.unit),e in a2||e in MH||e==="ex"},Jt=function(e,r){var s;if(e.unit in a2)s=a2[e.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(e.unit==="mu")s=r.fontMetrics().cssEmPerMu;else{var i;if(r.style.isTight()?i=r.havingStyle(r.style.text()):i=r,e.unit==="ex")s=i.fontMetrics().xHeight;else if(e.unit==="em")s=i.fontMetrics().quad;else throw new $e("Invalid unit: '"+e.unit+"'");i!==r&&(s*=i.sizeMultiplier/r.sizeMultiplier)}return Math.min(e.number*s,r.maxSize)},De=function(e){return+e.toFixed(4)+"em"},So=function(e){return e.filter(r=>r).join(" ")},hk=function(e,r,s){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=s||{},r){r.style.isTight()&&this.classes.push("mtight");var i=r.getColor();i&&(this.style.color=i)}},uk=function(e){var r=document.createElement(e);r.className=So(this.classes);for(var s in this.style)this.style.hasOwnProperty(s)&&(r.style[s]=this.style[s]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&r.setAttribute(i,this.attributes[i]);for(var a=0;a<this.children.length;a++)r.appendChild(this.children[a].toNode());return r},_H=/[\s"'>/=\x00-\x1f]/,dk=function(e){var r="<"+e;this.classes.length&&(r+=' class="'+pt.escape(So(this.classes))+'"');var s="";for(var i in this.style)this.style.hasOwnProperty(i)&&(s+=pt.hyphenate(i)+":"+this.style[i]+";");s&&(r+=' style="'+pt.escape(s)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(_H.test(a))throw new $e("Invalid attribute name '"+a+"'");r+=" "+a+'="'+pt.escape(this.attributes[a])+'"'}r+=">";for(var l=0;l<this.children.length;l++)r+=this.children[l].toMarkup();return r+="</"+e+">",r};let _u=class{constructor(e,r,s,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,hk.call(this,e,s,i),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return this.classes.includes(e)}toNode(){return uk.call(this,"span")}toMarkup(){return dk.call(this,"span")}},Tv=class{constructor(e,r,s,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,hk.call(this,r,i),this.children=s||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return this.classes.includes(e)}toNode(){return uk.call(this,"a")}toMarkup(){return dk.call(this,"a")}},$H=class{constructor(e,r,s){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=s}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e='<img src="'+pt.escape(this.src)+'"'+(' alt="'+pt.escape(this.alt)+'"'),r="";for(var s in this.style)this.style.hasOwnProperty(s)&&(r+=pt.hyphenate(s)+":"+this.style[s]+";");return r&&(e+=' style="'+pt.escape(r)+'"'),e+="'/>",e}};var zH={:"",:"",:"",:""};let gs=class{constructor(e,r,s,i,a,l,c,h){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=s||0,this.italic=i||0,this.skew=a||0,this.width=l||0,this.classes=c||[],this.style=h||{},this.maxFontSize=0;var u=gH(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=zH[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=De(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=So(this.classes));for(var s in this.style)this.style.hasOwnProperty(s)&&(r=r||document.createElement("span"),r.style[s]=this.style[s]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=pt.escape(So(this.classes)),r+='"');var s="";this.italic>0&&(s+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(s+=pt.hyphenate(i)+":"+this.style[i]+";");s&&(e=!0,r+=' style="'+pt.escape(s)+'"');var a=pt.escape(this.text);return e?(r+=">",r+=a,r+="</span>",r):a}},ia=class{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var s in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,s)&&r.setAttribute(s,this.attributes[s]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+pt.escape(this.attributes[r])+'"');e+=">";for(var s=0;s<this.children.length;s++)e+=this.children[s].toMarkup();return e+="</svg>",e}},To=class{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",d7[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+pt.escape(this.alternate)+'"/>':'<path d="'+pt.escape(d7[this.pathName])+'"/>'}},o2=class{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var s in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,s)&&r.setAttribute(s,this.attributes[s]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+pt.escape(this.attributes[r])+'"');return e+="/>",e}};function g7(t){if(t instanceof gs)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function DH(t){if(t instanceof _u)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var IH={bin:1,close:1,inner:1,open:1,punct:1,rel:1},RH={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Dt={math:{},text:{}};function x(t,e,r,s,i,a){Dt[t][i]={font:e,group:r,replace:s},a&&s&&(Dt[t][s]=Dt[t][i])}var b="math",Te="text",C="main",V="ams",Ft="accent-token",Pe="bin",xn="close",d0="inner",Ke="mathord",Sr="op-token",Yn="open",mp="punct",X="rel",fa="spacing",se="textord";x(b,C,X,"","\\equiv",!0);x(b,C,X,"","\\prec",!0);x(b,C,X,"","\\succ",!0);x(b,C,X,"","\\sim",!0);x(b,C,X,"","\\perp");x(b,C,X,"","\\preceq",!0);x(b,C,X,"","\\succeq",!0);x(b,C,X,"","\\simeq",!0);x(b,C,X,"","\\mid",!0);x(b,C,X,"","\\ll",!0);x(b,C,X,"","\\gg",!0);x(b,C,X,"","\\asymp",!0);x(b,C,X,"","\\parallel");x(b,C,X,"","\\bowtie",!0);x(b,C,X,"","\\smile",!0);x(b,C,X,"","\\sqsubseteq",!0);x(b,C,X,"","\\sqsupseteq",!0);x(b,C,X,"","\\doteq",!0);x(b,C,X,"","\\frown",!0);x(b,C,X,"","\\ni",!0);x(b,C,X,"","\\propto",!0);x(b,C,X,"","\\vdash",!0);x(b,C,X,"","\\dashv",!0);x(b,C,X,"","\\owns");x(b,C,mp,".","\\ldotp");x(b,C,mp,"","\\cdotp");x(b,C,se,"#","\\#");x(Te,C,se,"#","\\#");x(b,C,se,"&","\\&");x(Te,C,se,"&","\\&");x(b,C,se,"","\\aleph",!0);x(b,C,se,"","\\forall",!0);x(b,C,se,"","\\hbar",!0);x(b,C,se,"","\\exists",!0);x(b,C,se,"","\\nabla",!0);x(b,C,se,"","\\flat",!0);x(b,C,se,"","\\ell",!0);x(b,C,se,"","\\natural",!0);x(b,C,se,"","\\clubsuit",!0);x(b,C,se,"","\\wp",!0);x(b,C,se,"","\\sharp",!0);x(b,C,se,"","\\diamondsuit",!0);x(b,C,se,"","\\Re",!0);x(b,C,se,"","\\heartsuit",!0);x(b,C,se,"","\\Im",!0);x(b,C,se,"","\\spadesuit",!0);x(b,C,se,"","\\S",!0);x(Te,C,se,"","\\S");x(b,C,se,"","\\P",!0);x(Te,C,se,"","\\P");x(b,C,se,"","\\dag");x(Te,C,se,"","\\dag");x(Te,C,se,"","\\textdagger");x(b,C,se,"","\\ddag");x(Te,C,se,"","\\ddag");x(Te,C,se,"","\\textdaggerdbl");x(b,C,xn,"","\\rmoustache",!0);x(b,C,Yn,"","\\lmoustache",!0);x(b,C,xn,"","\\rgroup",!0);x(b,C,Yn,"","\\lgroup",!0);x(b,C,Pe,"","\\mp",!0);x(b,C,Pe,"","\\ominus",!0);x(b,C,Pe,"","\\uplus",!0);x(b,C,Pe,"","\\sqcap",!0);x(b,C,Pe,"","\\ast");x(b,C,Pe,"","\\sqcup",!0);x(b,C,Pe,"","\\bigcirc",!0);x(b,C,Pe,"","\\bullet",!0);x(b,C,Pe,"","\\ddagger");x(b,C,Pe,"","\\wr",!0);x(b,C,Pe,"","\\amalg");x(b,C,Pe,"&","\\And");x(b,C,X,"","\\longleftarrow",!0);x(b,C,X,"","\\Leftarrow",!0);x(b,C,X,"","\\Longleftarrow",!0);x(b,C,X,"","\\longrightarrow",!0);x(b,C,X,"","\\Rightarrow",!0);x(b,C,X,"","\\Longrightarrow",!0);x(b,C,X,"","\\leftrightarrow",!0);x(b,C,X,"","\\longleftrightarrow",!0);x(b,C,X,"","\\Leftrightarrow",!0);x(b,C,X,"","\\Longleftrightarrow",!0);x(b,C,X,"","\\mapsto",!0);x(b,C,X,"","\\longmapsto",!0);x(b,C,X,"","\\nearrow",!0);x(b,C,X,"","\\hookleftarrow",!0);x(b,C,X,"","\\hookrightarrow",!0);x(b,C,X,"","\\searrow",!0);x(b,C,X,"","\\leftharpoonup",!0);x(b,C,X,"","\\rightharpoonup",!0);x(b,C,X,"","\\swarrow",!0);x(b,C,X,"","\\leftharpoondown",!0);x(b,C,X,"","\\rightharpoondown",!0);x(b,C,X,"","\\nwarrow",!0);x(b,C,X,"","\\rightleftharpoons",!0);x(b,V,X,"","\\nless",!0);x(b,V,X,"","\\@nleqslant");x(b,V,X,"","\\@nleqq");x(b,V,X,"","\\lneq",!0);x(b,V,X,"","\\lneqq",!0);x(b,V,X,"","\\@lvertneqq");x(b,V,X,"","\\lnsim",!0);x(b,V,X,"","\\lnapprox",!0);x(b,V,X,"","\\nprec",!0);x(b,V,X,"","\\npreceq",!0);x(b,V,X,"","\\precnsim",!0);x(b,V,X,"","\\precnapprox",!0);x(b,V,X,"","\\nsim",!0);x(b,V,X,"","\\@nshortmid");x(b,V,X,"","\\nmid",!0);x(b,V,X,"","\\nvdash",!0);x(b,V,X,"","\\nvDash",!0);x(b,V,X,"","\\ntriangleleft");x(b,V,X,"","\\ntrianglelefteq",!0);x(b,V,X,"","\\subsetneq",!0);x(b,V,X,"","\\@varsubsetneq");x(b,V,X,"","\\subsetneqq",!0);x(b,V,X,"","\\@varsubsetneqq");x(b,V,X,"","\\ngtr",!0);x(b,V,X,"","\\@ngeqslant");x(b,V,X,"","\\@ngeqq");x(b,V,X,"","\\gneq",!0);x(b,V,X,"","\\gneqq",!0);x(b,V,X,"","\\@gvertneqq");x(b,V,X,"","\\gnsim",!0);x(b,V,X,"","\\gnapprox",!0);x(b,V,X,"","\\nsucc",!0);x(b,V,X,"","\\nsucceq",!0);x(b,V,X,"","\\succnsim",!0);x(b,V,X,"","\\succnapprox",!0);x(b,V,X,"","\\ncong",!0);x(b,V,X,"","\\@nshortparallel");x(b,V,X,"","\\nparallel",!0);x(b,V,X,"","\\nVDash",!0);x(b,V,X,"","\\ntriangleright");x(b,V,X,"","\\ntrianglerighteq",!0);x(b,V,X,"","\\@nsupseteqq");x(b,V,X,"","\\supsetneq",!0);x(b,V,X,"","\\@varsupsetneq");x(b,V,X,"","\\supsetneqq",!0);x(b,V,X,"","\\@varsupsetneqq");x(b,V,X,"","\\nVdash",!0);x(b,V,X,"","\\precneqq",!0);x(b,V,X,"","\\succneqq",!0);x(b,V,X,"","\\@nsubseteqq");x(b,V,Pe,"","\\unlhd");x(b,V,Pe,"","\\unrhd");x(b,V,X,"","\\nleftarrow",!0);x(b,V,X,"","\\nrightarrow",!0);x(b,V,X,"","\\nLeftarrow",!0);x(b,V,X,"","\\nRightarrow",!0);x(b,V,X,"","\\nleftrightarrow",!0);x(b,V,X,"","\\nLeftrightarrow",!0);x(b,V,X,"","\\vartriangle");x(b,V,se,"","\\hslash");x(b,V,se,"","\\triangledown");x(b,V,se,"","\\lozenge");x(b,V,se,"","\\circledS");x(b,V,se,"","\\circledR");x(Te,V,se,"","\\circledR");x(b,V,se,"","\\measuredangle",!0);x(b,V,se,"","\\nexists");x(b,V,se,"","\\mho");x(b,V,se,"","\\Finv",!0);x(b,V,se,"","\\Game",!0);x(b,V,se,"","\\backprime");x(b,V,se,"","\\blacktriangle");x(b,V,se,"","\\blacktriangledown");x(b,V,se,"","\\blacksquare");x(b,V,se,"","\\blacklozenge");x(b,V,se,"","\\bigstar");x(b,V,se,"","\\sphericalangle",!0);x(b,V,se,"","\\complement",!0);x(b,V,se,"","\\eth",!0);x(Te,C,se,"","");x(b,V,se,"","\\diagup");x(b,V,se,"","\\diagdown");x(b,V,se,"","\\square");x(b,V,se,"","\\Box");x(b,V,se,"","\\Diamond");x(b,V,se,"","\\yen",!0);x(Te,V,se,"","\\yen",!0);x(b,V,se,"","\\checkmark",!0);x(Te,V,se,"","\\checkmark");x(b,V,se,"","\\beth",!0);x(b,V,se,"","\\daleth",!0);x(b,V,se,"","\\gimel",!0);x(b,V,se,"","\\digamma",!0);x(b,V,se,"","\\varkappa");x(b,V,Yn,"","\\@ulcorner",!0);x(b,V,xn,"","\\@urcorner",!0);x(b,V,Yn,"","\\@llcorner",!0);x(b,V,xn,"","\\@lrcorner",!0);x(b,V,X,"","\\leqq",!0);x(b,V,X,"","\\leqslant",!0);x(b,V,X,"","\\eqslantless",!0);x(b,V,X,"","\\lesssim",!0);x(b,V,X,"","\\lessapprox",!0);x(b,V,X,"","\\approxeq",!0);x(b,V,Pe,"","\\lessdot");x(b,V,X,"","\\lll",!0);x(b,V,X,"","\\lessgtr",!0);x(b,V,X,"","\\lesseqgtr",!0);x(b,V,X,"","\\lesseqqgtr",!0);x(b,V,X,"","\\doteqdot");x(b,V,X,"","\\risingdotseq",!0);x(b,V,X,"","\\fallingdotseq",!0);x(b,V,X,"","\\backsim",!0);x(b,V,X,"","\\backsimeq",!0);x(b,V,X,"","\\subseteqq",!0);x(b,V,X,"","\\Subset",!0);x(b,V,X,"","\\sqsubset",!0);x(b,V,X,"","\\preccurlyeq",!0);x(b,V,X,"","\\curlyeqprec",!0);x(b,V,X,"","\\precsim",!0);x(b,V,X,"","\\precapprox",!0);x(b,V,X,"","\\vartriangleleft");x(b,V,X,"","\\trianglelefteq");x(b,V,X,"","\\vDash",!0);x(b,V,X,"","\\Vvdash",!0);x(b,V,X,"","\\smallsmile");x(b,V,X,"","\\smallfrown");x(b,V,X,"","\\bumpeq",!0);x(b,V,X,"","\\Bumpeq",!0);x(b,V,X,"","\\geqq",!0);x(b,V,X,"","\\geqslant",!0);x(b,V,X,"","\\eqslantgtr",!0);x(b,V,X,"","\\gtrsim",!0);x(b,V,X,"","\\gtrapprox",!0);x(b,V,Pe,"","\\gtrdot");x(b,V,X,"","\\ggg",!0);x(b,V,X,"","\\gtrless",!0);x(b,V,X,"","\\gtreqless",!0);x(b,V,X,"","\\gtreqqless",!0);x(b,V,X,"","\\eqcirc",!0);x(b,V,X,"","\\circeq",!0);x(b,V,X,"","\\triangleq",!0);x(b,V,X,"","\\thicksim");x(b,V,X,"","\\thickapprox");x(b,V,X,"","\\supseteqq",!0);x(b,V,X,"","\\Supset",!0);x(b,V,X,"","\\sqsupset",!0);x(b,V,X,"","\\succcurlyeq",!0);x(b,V,X,"","\\curlyeqsucc",!0);x(b,V,X,"","\\succsim",!0);x(b,V,X,"","\\succapprox",!0);x(b,V,X,"","\\vartriangleright");x(b,V,X,"","\\trianglerighteq");x(b,V,X,"","\\Vdash",!0);x(b,V,X,"","\\shortmid");x(b,V,X,"","\\shortparallel");x(b,V,X,"","\\between",!0);x(b,V,X,"","\\pitchfork",!0);x(b,V,X,"","\\varpropto");x(b,V,X,"","\\blacktriangleleft");x(b,V,X,"","\\therefore",!0);x(b,V,X,"","\\backepsilon");x(b,V,X,"","\\blacktriangleright");x(b,V,X,"","\\because",!0);x(b,V,X,"","\\llless");x(b,V,X,"","\\gggtr");x(b,V,Pe,"","\\lhd");x(b,V,Pe,"","\\rhd");x(b,V,X,"","\\eqsim",!0);x(b,C,X,"","\\Join");x(b,V,X,"","\\Doteq",!0);x(b,V,Pe,"","\\dotplus",!0);x(b,V,Pe,"","\\smallsetminus");x(b,V,Pe,"","\\Cap",!0);x(b,V,Pe,"","\\Cup",!0);x(b,V,Pe,"","\\doublebarwedge",!0);x(b,V,Pe,"","\\boxminus",!0);x(b,V,Pe,"","\\boxplus",!0);x(b,V,Pe,"","\\divideontimes",!0);x(b,V,Pe,"","\\ltimes",!0);x(b,V,Pe,"","\\rtimes",!0);x(b,V,Pe,"","\\leftthreetimes",!0);x(b,V,Pe,"","\\rightthreetimes",!0);x(b,V,Pe,"","\\curlywedge",!0);x(b,V,Pe,"","\\curlyvee",!0);x(b,V,Pe,"","\\circleddash",!0);x(b,V,Pe,"","\\circledast",!0);x(b,V,Pe,"","\\centerdot");x(b,V,Pe,"","\\intercal",!0);x(b,V,Pe,"","\\doublecap");x(b,V,Pe,"","\\doublecup");x(b,V,Pe,"","\\boxtimes",!0);x(b,V,X,"","\\dashrightarrow",!0);x(b,V,X,"","\\dashleftarrow",!0);x(b,V,X,"","\\leftleftarrows",!0);x(b,V,X,"","\\leftrightarrows",!0);x(b,V,X,"","\\Lleftarrow",!0);x(b,V,X,"","\\twoheadleftarrow",!0);x(b,V,X,"","\\leftarrowtail",!0);x(b,V,X,"","\\looparrowleft",!0);x(b,V,X,"","\\leftrightharpoons",!0);x(b,V,X,"","\\curvearrowleft",!0);x(b,V,X,"","\\circlearrowleft",!0);x(b,V,X,"","\\Lsh",!0);x(b,V,X,"","\\upuparrows",!0);x(b,V,X,"","\\upharpoonleft",!0);x(b,V,X,"","\\downharpoonleft",!0);x(b,C,X,"","\\origof",!0);x(b,C,X,"","\\imageof",!0);x(b,V,X,"","\\multimap",!0);x(b,V,X,"","\\leftrightsquigarrow",!0);x(b,V,X,"","\\rightrightarrows",!0);x(b,V,X,"","\\rightleftarrows",!0);x(b,V,X,"","\\twoheadrightarrow",!0);x(b,V,X,"","\\rightarrowtail",!0);x(b,V,X,"","\\looparrowright",!0);x(b,V,X,"","\\curvearrowright",!0);x(b,V,X,"","\\circlearrowright",!0);x(b,V,X,"","\\Rsh",!0);x(b,V,X,"","\\downdownarrows",!0);x(b,V,X,"","\\upharpoonright",!0);x(b,V,X,"","\\downharpoonright",!0);x(b,V,X,"","\\rightsquigarrow",!0);x(b,V,X,"","\\leadsto");x(b,V,X,"","\\Rrightarrow",!0);x(b,V,X,"","\\restriction");x(b,C,se,"","`");x(b,C,se,"$","\\$");x(Te,C,se,"$","\\$");x(Te,C,se,"$","\\textdollar");x(b,C,se,"%","\\%");x(Te,C,se,"%","\\%");x(b,C,se,"_","\\_");x(Te,C,se,"_","\\_");x(Te,C,se,"_","\\textunderscore");x(b,C,se,"","\\angle",!0);x(b,C,se,"","\\infty",!0);x(b,C,se,"","\\prime");x(b,C,se,"","\\triangle");x(b,C,se,"","\\Gamma",!0);x(b,C,se,"","\\Delta",!0);x(b,C,se,"","\\Theta",!0);x(b,C,se,"","\\Lambda",!0);x(b,C,se,"","\\Xi",!0);x(b,C,se,"","\\Pi",!0);x(b,C,se,"","\\Sigma",!0);x(b,C,se,"","\\Upsilon",!0);x(b,C,se,"","\\Phi",!0);x(b,C,se,"","\\Psi",!0);x(b,C,se,"","\\Omega",!0);x(b,C,se,"A","");x(b,C,se,"B","");x(b,C,se,"E","");x(b,C,se,"Z","");x(b,C,se,"H","");x(b,C,se,"I","");x(b,C,se,"K","");x(b,C,se,"M","");x(b,C,se,"N","");x(b,C,se,"O","");x(b,C,se,"P","");x(b,C,se,"T","");x(b,C,se,"X","");x(b,C,se,"","\\neg",!0);x(b,C,se,"","\\lnot");x(b,C,se,"","\\top");x(b,C,se,"","\\bot");x(b,C,se,"","\\emptyset");x(b,V,se,"","\\varnothing");x(b,C,Ke,"","\\alpha",!0);x(b,C,Ke,"","\\beta",!0);x(b,C,Ke,"","\\gamma",!0);x(b,C,Ke,"","\\delta",!0);x(b,C,Ke,"","\\epsilon",!0);x(b,C,Ke,"","\\zeta",!0);x(b,C,Ke,"","\\eta",!0);x(b,C,Ke,"","\\theta",!0);x(b,C,Ke,"","\\iota",!0);x(b,C,Ke,"","\\kappa",!0);x(b,C,Ke,"","\\lambda",!0);x(b,C,Ke,"","\\mu",!0);x(b,C,Ke,"","\\nu",!0);x(b,C,Ke,"","\\xi",!0);x(b,C,Ke,"","\\omicron",!0);x(b,C,Ke,"","\\pi",!0);x(b,C,Ke,"","\\rho",!0);x(b,C,Ke,"","\\sigma",!0);x(b,C,Ke,"","\\tau",!0);x(b,C,Ke,"","\\upsilon",!0);x(b,C,Ke,"","\\phi",!0);x(b,C,Ke,"","\\chi",!0);x(b,C,Ke,"","\\psi",!0);x(b,C,Ke,"","\\omega",!0);x(b,C,Ke,"","\\varepsilon",!0);x(b,C,Ke,"","\\vartheta",!0);x(b,C,Ke,"","\\varpi",!0);x(b,C,Ke,"","\\varrho",!0);x(b,C,Ke,"","\\varsigma",!0);x(b,C,Ke,"","\\varphi",!0);x(b,C,Pe,"","*",!0);x(b,C,Pe,"+","+");x(b,C,Pe,"","-",!0);x(b,C,Pe,"","\\cdot",!0);x(b,C,Pe,"","\\circ",!0);x(b,C,Pe,"","\\div",!0);x(b,C,Pe,"","\\pm",!0);x(b,C,Pe,"","\\times",!0);x(b,C,Pe,"","\\cap",!0);x(b,C,Pe,"","\\cup",!0);x(b,C,Pe,"","\\setminus",!0);x(b,C,Pe,"","\\land");x(b,C,Pe,"","\\lor");x(b,C,Pe,"","\\wedge",!0);x(b,C,Pe,"","\\vee",!0);x(b,C,se,"","\\surd");x(b,C,Yn,"","\\langle",!0);x(b,C,Yn,"","\\lvert");x(b,C,Yn,"","\\lVert");x(b,C,xn,"?","?");x(b,C,xn,"!","!");x(b,C,xn,"","\\rangle",!0);x(b,C,xn,"","\\rvert");x(b,C,xn,"","\\rVert");x(b,C,X,"=","=");x(b,C,X,":",":");x(b,C,X,"","\\approx",!0);x(b,C,X,"","\\cong",!0);x(b,C,X,"","\\ge");x(b,C,X,"","\\geq",!0);x(b,C,X,"","\\gets");x(b,C,X,">","\\gt",!0);x(b,C,X,"","\\in",!0);x(b,C,X,"","\\@not");x(b,C,X,"","\\subset",!0);x(b,C,X,"","\\supset",!0);x(b,C,X,"","\\subseteq",!0);x(b,C,X,"","\\supseteq",!0);x(b,V,X,"","\\nsubseteq",!0);x(b,V,X,"","\\nsupseteq",!0);x(b,C,X,"","\\models");x(b,C,X,"","\\leftarrow",!0);x(b,C,X,"","\\le");x(b,C,X,"","\\leq",!0);x(b,C,X,"<","\\lt",!0);x(b,C,X,"","\\rightarrow",!0);x(b,C,X,"","\\to");x(b,V,X,"","\\ngeq",!0);x(b,V,X,"","\\nleq",!0);x(b,C,fa,"","\\ ");x(b,C,fa,"","\\space");x(b,C,fa,"","\\nobreakspace");x(Te,C,fa,"","\\ ");x(Te,C,fa,""," ");x(Te,C,fa,"","\\space");x(Te,C,fa,"","\\nobreakspace");x(b,C,fa,null,"\\nobreak");x(b,C,fa,null,"\\allowbreak");x(b,C,mp,",",",");x(b,C,mp,";",";");x(b,V,Pe,"","\\barwedge",!0);x(b,V,Pe,"","\\veebar",!0);x(b,C,Pe,"","\\odot",!0);x(b,C,Pe,"","\\oplus",!0);x(b,C,Pe,"","\\otimes",!0);x(b,C,se,"","\\partial",!0);x(b,C,Pe,"","\\oslash",!0);x(b,V,Pe,"","\\circledcirc",!0);x(b,V,Pe,"","\\boxdot",!0);x(b,C,Pe,"","\\bigtriangleup");x(b,C,Pe,"","\\bigtriangledown");x(b,C,Pe,"","\\dagger");x(b,C,Pe,"","\\diamond");x(b,C,Pe,"","\\star");x(b,C,Pe,"","\\triangleleft");x(b,C,Pe,"","\\triangleright");x(b,C,Yn,"{","\\{");x(Te,C,se,"{","\\{");x(Te,C,se,"{","\\textbraceleft");x(b,C,xn,"}","\\}");x(Te,C,se,"}","\\}");x(Te,C,se,"}","\\textbraceright");x(b,C,Yn,"{","\\lbrace");x(b,C,xn,"}","\\rbrace");x(b,C,Yn,"[","\\lbrack",!0);x(Te,C,se,"[","\\lbrack",!0);x(b,C,xn,"]","\\rbrack",!0);x(Te,C,se,"]","\\rbrack",!0);x(b,C,Yn,"(","\\lparen",!0);x(b,C,xn,")","\\rparen",!0);x(Te,C,se,"<","\\textless",!0);x(Te,C,se,">","\\textgreater",!0);x(b,C,Yn,"","\\lfloor",!0);x(b,C,xn,"","\\rfloor",!0);x(b,C,Yn,"","\\lceil",!0);x(b,C,xn,"","\\rceil",!0);x(b,C,se,"\\","\\backslash");x(b,C,se,"","|");x(b,C,se,"","\\vert");x(Te,C,se,"|","\\textbar",!0);x(b,C,se,"","\\|");x(b,C,se,"","\\Vert");x(Te,C,se,"","\\textbardbl");x(Te,C,se,"~","\\textasciitilde");x(Te,C,se,"\\","\\textbackslash");x(Te,C,se,"^","\\textasciicircum");x(b,C,X,"","\\uparrow",!0);x(b,C,X,"","\\Uparrow",!0);x(b,C,X,"","\\downarrow",!0);x(b,C,X,"","\\Downarrow",!0);x(b,C,X,"","\\updownarrow",!0);x(b,C,X,"","\\Updownarrow",!0);x(b,C,Sr,"","\\coprod");x(b,C,Sr,"","\\bigvee");x(b,C,Sr,"","\\bigwedge");x(b,C,Sr,"","\\biguplus");x(b,C,Sr,"","\\bigcap");x(b,C,Sr,"","\\bigcup");x(b,C,Sr,"","\\int");x(b,C,Sr,"","\\intop");x(b,C,Sr,"","\\iint");x(b,C,Sr,"","\\iiint");x(b,C,Sr,"","\\prod");x(b,C,Sr,"","\\sum");x(b,C,Sr,"","\\bigotimes");x(b,C,Sr,"","\\bigoplus");x(b,C,Sr,"","\\bigodot");x(b,C,Sr,"","\\oint");x(b,C,Sr,"","\\oiint");x(b,C,Sr,"","\\oiiint");x(b,C,Sr,"","\\bigsqcup");x(b,C,Sr,"","\\smallint");x(Te,C,d0,"","\\textellipsis");x(b,C,d0,"","\\mathellipsis");x(Te,C,d0,"","\\ldots",!0);x(b,C,d0,"","\\ldots",!0);x(b,C,d0,"","\\@cdots",!0);x(b,C,d0,"","\\ddots",!0);x(b,C,se,"","\\varvdots");x(Te,C,se,"","\\varvdots");x(b,C,Ft,"","\\acute");x(b,C,Ft,"","\\grave");x(b,C,Ft,"","\\ddot");x(b,C,Ft,"~","\\tilde");x(b,C,Ft,"","\\bar");x(b,C,Ft,"","\\breve");x(b,C,Ft,"","\\check");x(b,C,Ft,"^","\\hat");x(b,C,Ft,"","\\vec");x(b,C,Ft,"","\\dot");x(b,C,Ft,"","\\mathring");x(b,C,Ke,"","\\@imath");x(b,C,Ke,"","\\@jmath");x(b,C,se,"","");x(b,C,se,"","");x(Te,C,se,"","\\i",!0);x(Te,C,se,"","\\j",!0);x(Te,C,se,"","\\ss",!0);x(Te,C,se,"","\\ae",!0);x(Te,C,se,"","\\oe",!0);x(Te,C,se,"","\\o",!0);x(Te,C,se,"","\\AE",!0);x(Te,C,se,"","\\OE",!0);x(Te,C,se,"","\\O",!0);x(Te,C,Ft,"","\\'");x(Te,C,Ft,"","\\`");x(Te,C,Ft,"","\\^");x(Te,C,Ft,"","\\~");x(Te,C,Ft,"","\\=");x(Te,C,Ft,"","\\u");x(Te,C,Ft,"","\\.");x(Te,C,Ft,"","\\c");x(Te,C,Ft,"","\\r");x(Te,C,Ft,"","\\v");x(Te,C,Ft,"",'\\"');x(Te,C,Ft,"","\\H");x(Te,C,Ft,"","\\textcircled");var mk={"--":!0,"---":!0,"``":!0,"''":!0};x(Te,C,se,"","--",!0);x(Te,C,se,"","\\textendash");x(Te,C,se,"","---",!0);x(Te,C,se,"","\\textemdash");x(Te,C,se,"","`",!0);x(Te,C,se,"","\\textquoteleft");x(Te,C,se,"","'",!0);x(Te,C,se,"","\\textquoteright");x(Te,C,se,"","``",!0);x(Te,C,se,"","\\textquotedblleft");x(Te,C,se,"","''",!0);x(Te,C,se,"","\\textquotedblright");x(b,C,se,"","\\degree",!0);x(Te,C,se,"","\\degree");x(Te,C,se,"","\\textdegree",!0);x(b,C,se,"","\\pounds");x(b,C,se,"","\\mathsterling",!0);x(Te,C,se,"","\\pounds");x(Te,C,se,"","\\textsterling",!0);x(b,V,se,"","\\maltese");x(Te,V,se,"","\\maltese");var x7='0123456789/@."';for(var L1=0;L1<x7.length;L1++){var v7=x7.charAt(L1);x(b,C,se,v7,v7)}var y7='0123456789!@*()-=+";:?/.,';for(var q1=0;q1<y7.length;q1++){var b7=y7.charAt(q1);x(Te,C,se,b7,b7)}var xf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var B1=0;B1<xf.length;B1++){var Td=xf.charAt(B1);x(b,C,Ke,Td,Td),x(Te,C,se,Td,Td)}x(b,V,se,"C","");x(Te,V,se,"C","");x(b,V,se,"H","");x(Te,V,se,"H","");x(b,V,se,"N","");x(Te,V,se,"N","");x(b,V,se,"P","");x(Te,V,se,"P","");x(b,V,se,"Q","");x(Te,V,se,"Q","");x(b,V,se,"R","");x(Te,V,se,"R","");x(b,V,se,"Z","");x(Te,V,se,"Z","");x(b,C,Ke,"h","");x(Te,C,Ke,"h","");var Ze="";for(var rn=0;rn<xf.length;rn++){var sr=xf.charAt(rn);Ze=String.fromCharCode(55349,56320+rn),x(b,C,Ke,sr,Ze),x(Te,C,se,sr,Ze),Ze=String.fromCharCode(55349,56372+rn),x(b,C,Ke,sr,Ze),x(Te,C,se,sr,Ze),Ze=String.fromCharCode(55349,56424+rn),x(b,C,Ke,sr,Ze),x(Te,C,se,sr,Ze),Ze=String.fromCharCode(55349,56580+rn),x(b,C,Ke,sr,Ze),x(Te,C,se,sr,Ze),Ze=String.fromCharCode(55349,56684+rn),x(b,C,Ke,sr,Ze),x(Te,C,se,sr,Ze),Ze=String.fromCharCode(55349,56736+rn),x(b,C,Ke,sr,Ze),x(Te,C,se,sr,Ze),Ze=String.fromCharCode(55349,56788+rn),x(b,C,Ke,sr,Ze),x(Te,C,se,sr,Ze),Ze=String.fromCharCode(55349,56840+rn),x(b,C,Ke,sr,Ze),x(Te,C,se,sr,Ze),Ze=String.fromCharCode(55349,56944+rn),x(b,C,Ke,sr,Ze),x(Te,C,se,sr,Ze),rn<26&&(Ze=String.fromCharCode(55349,56632+rn),x(b,C,Ke,sr,Ze),x(Te,C,se,sr,Ze),Ze=String.fromCharCode(55349,56476+rn),x(b,C,Ke,sr,Ze),x(Te,C,se,sr,Ze))}Ze="";x(b,C,Ke,"k",Ze);x(Te,C,se,"k",Ze);for(var Zo=0;Zo<10;Zo++){var Ma=Zo.toString();Ze=String.fromCharCode(55349,57294+Zo),x(b,C,Ke,Ma,Ze),x(Te,C,se,Ma,Ze),Ze=String.fromCharCode(55349,57314+Zo),x(b,C,Ke,Ma,Ze),x(Te,C,se,Ma,Ze),Ze=String.fromCharCode(55349,57324+Zo),x(b,C,Ke,Ma,Ze),x(Te,C,se,Ma,Ze),Ze=String.fromCharCode(55349,57334+Zo),x(b,C,Ke,Ma,Ze),x(Te,C,se,Ma,Ze)}var l2="";for(var H1=0;H1<l2.length;H1++){var kd=l2.charAt(H1);x(b,C,Ke,kd,kd),x(Te,C,se,kd,kd)}var Ad=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],j7=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],GH=function(e,r){var s=e.charCodeAt(0),i=e.charCodeAt(1),a=(s-55296)*1024+(i-56320)+65536,l=r==="math"?0:1;if(119808<=a&&a<120484){var c=Math.floor((a-119808)/26);return[Ad[c][2],Ad[c][l]]}else if(120782<=a&&a<=120831){var h=Math.floor((a-120782)/10);return[j7[h][2],j7[h][l]]}else{if(a===120485||a===120486)return[Ad[0][2],Ad[0][l]];if(120486<a&&a<120782)return["",""];throw new $e("Unsupported character: "+e)}},fp=function(e,r,s){return Dt[s][e]&&Dt[s][e].replace&&(e=Dt[s][e].replace),{value:e,metrics:Sv(e,r,s)}},$s=function(e,r,s,i,a){var l=fp(e,r,s),c=l.metrics;e=l.value;var h;if(c){var u=c.italic;(s==="text"||i&&i.font==="mathit")&&(u=0),h=new gs(e,c.height,c.depth,u,c.skew,c.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+r+"' and mode '"+s+"'")),h=new gs(e,0,0,0,0,0,a);if(i){h.maxFontSize=i.sizeMultiplier,i.style.isTight()&&h.classes.push("mtight");var m=i.getColor();m&&(h.style.color=m)}return h},OH=function(e,r,s,i){return i===void 0&&(i=[]),s.font==="boldsymbol"&&fp(e,"Main-Bold",r).metrics?$s(e,"Main-Bold",r,s,i.concat(["mathbf"])):e==="\\"||Dt[r][e].font==="main"?$s(e,"Main-Regular",r,s,i):$s(e,"AMS-Regular",r,s,i.concat(["amsrm"]))},PH=function(e,r,s,i,a){return a!=="textord"&&fp(e,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},LH=function(e,r,s){var i=e.mode,a=e.text,l=["mord"],c=i==="math"||i==="text"&&r.font,h=c?r.font:r.fontFamily,u="",m="";if(a.charCodeAt(0)===55349&&([u,m]=GH(a,i)),u.length>0)return $s(a,u,i,r,l.concat(m));if(h){var f,p;if(h==="boldsymbol"){var g=PH(a,i,r,l,s);f=g.fontName,p=[g.fontClass]}else c?(f=gk[h].fontName,p=[h]):(f=Nd(h,r.fontWeight,r.fontShape),p=[h,r.fontWeight,r.fontShape]);if(fp(a,f,i).metrics)return $s(a,f,i,r,l.concat(p));if(mk.hasOwnProperty(a)&&f.slice(0,10)==="Typewriter"){for(var S=[],N=0;N<a.length;N++)S.push($s(a[N],f,i,r,l.concat(p)));return pk(S)}}if(s==="mathord")return $s(a,"Math-Italic",i,r,l.concat(["mathnormal"]));if(s==="textord"){var $=Dt[i][a]&&Dt[i][a].font;if($==="ams"){var w=Nd("amsrm",r.fontWeight,r.fontShape);return $s(a,w,i,r,l.concat("amsrm",r.fontWeight,r.fontShape))}else if($==="main"||!$){var T=Nd("textrm",r.fontWeight,r.fontShape);return $s(a,T,i,r,l.concat(r.fontWeight,r.fontShape))}else{var A=Nd($,r.fontWeight,r.fontShape);return $s(a,A,i,r,l.concat(A,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+s+" in makeOrd")},qH=(t,e)=>{if(So(t.classes)!==So(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var s in t.style)if(t.style.hasOwnProperty(s)&&t.style[s]!==e.style[s])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},BH=t=>{for(var e=0;e<t.length-1;e++){var r=t[e],s=t[e+1];r instanceof gs&&s instanceof gs&&qH(r,s)&&(r.text+=s.text,r.height=Math.max(r.height,s.height),r.depth=Math.max(r.depth,s.depth),r.italic=s.italic,t.splice(e+1,1),e--)}return t},kv=function(e){for(var r=0,s=0,i=0,a=0;a<e.children.length;a++){var l=e.children[a];l.height>r&&(r=l.height),l.depth>s&&(s=l.depth),l.maxFontSize>i&&(i=l.maxFontSize)}e.height=r,e.depth=s,e.maxFontSize=i},Sn=function(e,r,s,i){var a=new _u(e,r,s,i);return kv(a),a},fk=(t,e,r,s)=>new _u(t,e,r,s),HH=function(e,r,s){var i=Sn([e],[],r);return i.height=Math.max(s||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),i.style.borderBottomWidth=De(i.height),i.maxFontSize=1,i},FH=function(e,r,s,i){var a=new Tv(e,r,s,i);return kv(a),a},pk=function(e){var r=new Mu(e);return kv(r),r},UH=function(e,r){return e instanceof Mu?Sn([],[e],r):e},VH=function(e){if(e.positionType==="individualShift"){for(var r=e.children,s=[r[0]],i=-r[0].shift-r[0].elem.depth,a=i,l=1;l<r.length;l++){var c=-r[l].shift-a-r[l].elem.depth,h=c-(r[l-1].elem.height+r[l-1].elem.depth);a=a+c,s.push({type:"kern",size:h}),s.push(r[l])}return{children:s,depth:i}}var u;if(e.positionType==="top"){for(var m=e.positionData,f=0;f<e.children.length;f++){var p=e.children[f];m-=p.type==="kern"?p.size:p.elem.height+p.elem.depth}u=m}else if(e.positionType==="bottom")u=-e.positionData;else{var g=e.children[0];if(g.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-g.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-g.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},KH=function(e,r){for(var{children:s,depth:i}=VH(e),a=0,l=0;l<s.length;l++){var c=s[l];if(c.type==="elem"){var h=c.elem;a=Math.max(a,h.maxFontSize,h.height)}}a+=2;var u=Sn(["pstrut"],[]);u.style.height=De(a);for(var m=[],f=i,p=i,g=i,S=0;S<s.length;S++){var N=s[S];if(N.type==="kern")g+=N.size;else{var $=N.elem,w=N.wrapperClasses||[],T=N.wrapperStyle||{},A=Sn(w,[u,$],void 0,T);A.style.top=De(-a-g-$.depth),N.marginLeft&&(A.style.marginLeft=N.marginLeft),N.marginRight&&(A.style.marginRight=N.marginRight),m.push(A),g+=$.height+$.depth}f=Math.min(f,g),p=Math.max(p,g)}var I=Sn(["vlist"],m);I.style.height=De(p);var B;if(f<0){var Q=Sn([],[]),D=Sn(["vlist"],[Q]);D.style.height=De(-f);var E=Sn(["vlist-s"],[new gs("")]);B=[Sn(["vlist-r"],[I,E]),Sn(["vlist-r"],[D])]}else B=[Sn(["vlist-r"],[I])];var z=Sn(["vlist-t"],B);return B.length===2&&z.classes.push("vlist-t2"),z.height=p,z.depth=-f,z},WH=(t,e)=>{var r=Sn(["mspace"],[],e),s=Jt(t,e);return r.style.marginRight=De(s),r},Nd=function(e,r,s){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var a;return r==="textbf"&&s==="textit"?a="BoldItalic":r==="textbf"?a="Bold":r==="textit"?a="Italic":a="Regular",i+"-"+a},gk={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},xk={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},XH=function(e,r){var[s,i,a]=xk[e],l=new To(s),c=new ia([l],{width:De(i),height:De(a),style:"width:"+De(i),viewBox:"0 0 "+1e3*i+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),h=fk(["overlay"],[c],r);return h.height=a,h.style.height=De(a),h.style.width=De(i),h},me={fontMap:gk,makeSymbol:$s,mathsym:OH,makeSpan:Sn,makeSvgSpan:fk,makeLineSpan:HH,makeAnchor:FH,makeFragment:pk,wrapFragment:UH,makeVList:KH,makeOrd:LH,makeGlue:WH,staticSvg:XH,svgData:xk,tryCombineChars:BH},Zt={number:3,unit:"mu"},Qo={number:4,unit:"mu"},Mi={number:5,unit:"mu"},YH={mord:{mop:Zt,mbin:Qo,mrel:Mi,minner:Zt},mop:{mord:Zt,mop:Zt,mrel:Mi,minner:Zt},mbin:{mord:Qo,mop:Qo,mopen:Qo,minner:Qo},mrel:{mord:Mi,mop:Mi,mopen:Mi,minner:Mi},mopen:{},mclose:{mop:Zt,mbin:Qo,mrel:Mi,minner:Zt},mpunct:{mord:Zt,mop:Zt,mrel:Mi,mopen:Zt,mclose:Zt,mpunct:Zt,minner:Zt},minner:{mord:Zt,mop:Zt,mbin:Qo,mrel:Mi,mopen:Zt,mpunct:Zt,minner:Zt}},ZH={mord:{mop:Zt},mop:{mord:Zt,mop:Zt},mbin:{},mrel:{},mopen:{},mclose:{mop:Zt},mpunct:{},minner:{mop:Zt}},vk={},vf={},yf={};function Ge(t){for(var{type:e,names:r,props:s,handler:i,htmlBuilder:a,mathmlBuilder:l}=t,c={type:e,numArgs:s.numArgs,argTypes:s.argTypes,allowedInArgument:!!s.allowedInArgument,allowedInText:!!s.allowedInText,allowedInMath:s.allowedInMath===void 0?!0:s.allowedInMath,numOptionalArgs:s.numOptionalArgs||0,infix:!!s.infix,primitive:!!s.primitive,handler:i},h=0;h<r.length;++h)vk[r[h]]=c;e&&(a&&(vf[e]=a),l&&(yf[e]=l))}function Ol(t){var{type:e,htmlBuilder:r,mathmlBuilder:s}=t;Ge({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:s})}var bf=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},fr=function(e){return e.type==="ordgroup"?e.body:[e]},aa=me.makeSpan,QH=["leftmost","mbin","mopen","mrel","mop","mpunct"],JH=["rightmost","mrel","mclose","mpunct"],eF={display:Xe.DISPLAY,text:Xe.TEXT,script:Xe.SCRIPT,scriptscript:Xe.SCRIPTSCRIPT},tF={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Dr=function(e,r,s,i){i===void 0&&(i=[null,null]);for(var a=[],l=0;l<e.length;l++){var c=dt(e[l],r);if(c instanceof Mu){var h=c.children;a.push(...h)}else a.push(c)}if(me.tryCombineChars(a),!s)return a;var u=r;if(e.length===1){var m=e[0];m.type==="sizing"?u=r.havingSize(m.size):m.type==="styling"&&(u=r.havingStyle(eF[m.style]))}var f=aa([i[0]||"leftmost"],[],r),p=aa([i[1]||"rightmost"],[],r),g=s==="root";return w7(a,(S,N)=>{var $=N.classes[0],w=S.classes[0];$==="mbin"&&JH.includes(w)?N.classes[0]="mord":w==="mbin"&&QH.includes($)&&(S.classes[0]="mord")},{node:f},p,g),w7(a,(S,N)=>{var $=c2(N),w=c2(S),T=$&&w?S.hasClass("mtight")?ZH[$][w]:YH[$][w]:null;if(T)return me.makeGlue(T,u)},{node:f},p,g),a},w7=function t(e,r,s,i,a){i&&e.push(i);for(var l=0;l<e.length;l++){var c=e[l],h=yk(c);if(h){t(h.children,r,s,null,a);continue}var u=!c.hasClass("mspace");if(u){var m=r(c,s.node);m&&(s.insertAfter?s.insertAfter(m):(e.unshift(m),l++))}u?s.node=c:a&&c.hasClass("newline")&&(s.node=aa(["leftmost"])),s.insertAfter=(f=>p=>{e.splice(f+1,0,p),l++})(l)}i&&e.pop()},yk=function(e){return e instanceof Mu||e instanceof Tv||e instanceof _u&&e.hasClass("enclosing")?e:null},rF=function t(e,r){var s=yk(e);if(s){var i=s.children;if(i.length){if(r==="right")return t(i[i.length-1],"right");if(r==="left")return t(i[0],"left")}}return e},c2=function(e,r){return e?(r&&(e=rF(e,r)),tF[e.classes[0]]||null):null},eu=function(e,r){var s=["nulldelimiter"].concat(e.baseSizingClasses());return aa(r.concat(s))},dt=function(e,r,s){if(!e)return aa();if(vf[e.type]){var i=vf[e.type](e,r);if(s&&r.size!==s.size){i=aa(r.sizingClasses(s),[i],r);var a=r.sizeMultiplier/s.sizeMultiplier;i.height*=a,i.depth*=a}return i}else throw new $e("Got group of unknown type: '"+e.type+"'")};function Ed(t,e){var r=aa(["base"],t,e),s=aa(["strut"]);return s.style.height=De(r.height+r.depth),r.depth&&(s.style.verticalAlign=De(-r.depth)),r.children.unshift(s),r}function h2(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var s=Dr(t,e,"root"),i;s.length===2&&s[1].hasClass("tag")&&(i=s.pop());for(var a=[],l=[],c=0;c<s.length;c++)if(l.push(s[c]),s[c].hasClass("mbin")||s[c].hasClass("mrel")||s[c].hasClass("allowbreak")){for(var h=!1;c<s.length-1&&s[c+1].hasClass("mspace")&&!s[c+1].hasClass("newline");)c++,l.push(s[c]),s[c].hasClass("nobreak")&&(h=!0);h||(a.push(Ed(l,e)),l=[])}else s[c].hasClass("newline")&&(l.pop(),l.length>0&&(a.push(Ed(l,e)),l=[]),a.push(s[c]));l.length>0&&a.push(Ed(l,e));var u;r?(u=Ed(Dr(r,e,!0)),u.classes=["tag"],a.push(u)):i&&a.push(i);var m=aa(["katex-html"],a);if(m.setAttribute("aria-hidden","true"),u){var f=u.children[0];f.style.height=De(m.height+m.depth),m.depth&&(f.style.verticalAlign=De(-m.depth))}return m}function bk(t){return new Mu(t)}let Pn=class{constructor(e,r,s){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=s||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=So(this.classes));for(var s=0;s<this.children.length;s++)if(this.children[s]instanceof Ys&&this.children[s+1]instanceof Ys){for(var i=this.children[s].toText()+this.children[++s].toText();this.children[s+1]instanceof Ys;)i+=this.children[++s].toText();e.appendChild(new Ys(i).toNode())}else e.appendChild(this.children[s].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=pt.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+pt.escape(So(this.classes))+'"'),e+=">";for(var s=0;s<this.children.length;s++)e+=this.children[s].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}},Ys=class{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return pt.escape(this.toText())}toText(){return this.text}},nF=class{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",De(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+De(this.width)+'"/>'}toText(){return this.character?this.character:" "}};var Ne={MathNode:Pn,TextNode:Ys,SpaceNode:nF,newDocumentFragment:bk},xs=function(e,r,s){return Dt[r][e]&&Dt[r][e].replace&&e.charCodeAt(0)!==55349&&!(mk.hasOwnProperty(e)&&s&&(s.fontFamily&&s.fontFamily.slice(4,6)==="tt"||s.font&&s.font.slice(4,6)==="tt"))&&(e=Dt[r][e].replace),new Ne.TextNode(e)},Av=function(e){return e.length===1?e[0]:new Ne.MathNode("mrow",e)},Nv=function(e,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var s=r.font;if(!s||s==="mathnormal")return null;var i=e.mode;if(s==="mathit")return"italic";if(s==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(s==="mathbf")return"bold";if(s==="mathbb")return"double-struck";if(s==="mathsfit")return"sans-serif-italic";if(s==="mathfrak")return"fraktur";if(s==="mathscr"||s==="mathcal")return"script";if(s==="mathsf")return"sans-serif";if(s==="mathtt")return"monospace";var a=e.text;if(["\\imath","\\jmath"].includes(a))return null;Dt[i][a]&&Dt[i][a].replace&&(a=Dt[i][a].replace);var l=me.fontMap[s].fontName;return Sv(a,l,i)?me.fontMap[s].variant:null};function F1(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Ys&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var r=t.children[0];return r instanceof Ys&&r.text===","}else return!1}var $n=function(e,r,s){if(e.length===1){var i=Et(e[0],r);return s&&i instanceof Pn&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var a=[],l,c=0;c<e.length;c++){var h=Et(e[c],r);if(h instanceof Pn&&l instanceof Pn){if(h.type==="mtext"&&l.type==="mtext"&&h.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...h.children);continue}else if(h.type==="mn"&&l.type==="mn"){l.children.push(...h.children);continue}else if(F1(h)&&l.type==="mn"){l.children.push(...h.children);continue}else if(h.type==="mn"&&F1(l))h.children=[...l.children,...h.children],a.pop();else if((h.type==="msup"||h.type==="msub")&&h.children.length>=1&&(l.type==="mn"||F1(l))){var u=h.children[0];u instanceof Pn&&u.type==="mn"&&(u.children=[...l.children,...u.children],a.pop())}else if(l.type==="mi"&&l.children.length===1){var m=l.children[0];if(m instanceof Ys&&m.text===""&&(h.type==="mo"||h.type==="mi"||h.type==="mn")){var f=h.children[0];f instanceof Ys&&f.text.length>0&&(f.text=f.text.slice(0,1)+""+f.text.slice(1),a.pop())}}}a.push(h),l=h}return a},ko=function(e,r,s){return Av($n(e,r,s))},Et=function(e,r){if(!e)return new Ne.MathNode("mrow");if(yf[e.type]){var s=yf[e.type](e,r);return s}else throw new $e("Got group of unknown type: '"+e.type+"'")};function S7(t,e,r,s,i){var a=$n(t,r),l;a.length===1&&a[0]instanceof Pn&&["mrow","mtable"].includes(a[0].type)?l=a[0]:l=new Ne.MathNode("mrow",a);var c=new Ne.MathNode("annotation",[new Ne.TextNode(e)]);c.setAttribute("encoding","application/x-tex");var h=new Ne.MathNode("semantics",[l,c]),u=new Ne.MathNode("math",[h]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),s&&u.setAttribute("display","block");var m=i?"katex":"katex-mathml";return me.makeSpan([m],[u])}var jk=function(e){return new lk({style:e.displayMode?Xe.DISPLAY:Xe.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},wk=function(e,r){if(r.displayMode){var s=["katex-display"];r.leqno&&s.push("leqno"),r.fleqn&&s.push("fleqn"),e=me.makeSpan(s,[e])}return e},sF=function(e,r,s){var i=jk(s),a;if(s.output==="mathml")return S7(e,r,i,s.displayMode,!0);if(s.output==="html"){var l=h2(e,i);a=me.makeSpan(["katex"],[l])}else{var c=S7(e,r,i,s.displayMode,!1),h=h2(e,i);a=me.makeSpan(["katex"],[c,h])}return wk(a,s)},iF=function(e,r,s){var i=jk(s),a=h2(e,i),l=me.makeSpan(["katex"],[a]);return wk(l,s)},aF={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},oF=function(e){var r=new Ne.MathNode("mo",[new Ne.TextNode(aF[e.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},lF={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},cF=function(e){return e.type==="ordgroup"?e.body.length:1},hF=function(e,r){function s(){var c=4e5,h=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(h)){var u=e,m=cF(u.base),f,p,g;if(m>5)h==="widehat"||h==="widecheck"?(f=420,c=2364,g=.42,p=h+"4"):(f=312,c=2340,g=.34,p="tilde4");else{var S=[1,1,2,2,3,3][m];h==="widehat"||h==="widecheck"?(c=[0,1062,2364,2364,2364][S],f=[0,239,300,360,420][S],g=[0,.24,.3,.3,.36,.42][S],p=h+S):(c=[0,600,1033,2339,2340][S],f=[0,260,286,306,312][S],g=[0,.26,.286,.3,.306,.34][S],p="tilde"+S)}var N=new To(p),$=new ia([N],{width:"100%",height:De(g),viewBox:"0 0 "+c+" "+f,preserveAspectRatio:"none"});return{span:me.makeSvgSpan([],[$],r),minWidth:0,height:g}}else{var w=[],T=lF[h],[A,I,B]=T,Q=B/1e3,D=A.length,E,z;if(D===1){var O=T[3];E=["hide-tail"],z=[O]}else if(D===2)E=["halfarrow-left","halfarrow-right"],z=["xMinYMin","xMaxYMin"];else if(D===3)E=["brace-left","brace-center","brace-right"],z=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+D+" children.");for(var L=0;L<D;L++){var H=new To(A[L]),q=new ia([H],{width:"400em",height:De(Q),viewBox:"0 0 "+c+" "+B,preserveAspectRatio:z[L]+" slice"}),ye=me.makeSvgSpan([E[L]],[q],r);if(D===1)return{span:ye,minWidth:I,height:Q};ye.style.height=De(Q),w.push(ye)}return{span:me.makeSpan(["stretchy"],w,r),minWidth:I,height:Q}}}var{span:i,minWidth:a,height:l}=s();return i.height=l,i.style.height=De(l),a>0&&(i.style.minWidth=De(a)),i},uF=function(e,r,s,i,a){var l,c=e.height+e.depth+s+i;if(/fbox|color|angl/.test(r)){if(l=me.makeSpan(["stretchy",r],[],a),r==="fbox"){var h=a.color&&a.getColor();h&&(l.style.borderColor=h)}}else{var u=[];/^[bx]cancel$/.test(r)&&u.push(new o2({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&u.push(new o2({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var m=new ia(u,{width:"100%",height:De(c)});l=me.makeSvgSpan([],[m],a)}return l.height=c,l.style.height=De(c),l},oa={encloseSpan:uF,mathMLnode:oF,svgSpan:hF};function st(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function Ev(t){var e=pp(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function pp(t){return t&&(t.type==="atom"||RH.hasOwnProperty(t.type))?t:null}var Cv=(t,e)=>{var r,s,i;t&&t.type==="supsub"?(s=st(t.base,"accent"),r=s.base,t.base=r,i=DH(dt(t,e)),t.base=s):(s=st(t,"accent"),r=s.base);var a=dt(r,e.havingCrampedStyle()),l=s.isShifty&&pt.isCharacterBox(r),c=0;if(l){var h=pt.getBaseElem(r),u=dt(h,e.havingCrampedStyle());c=g7(u).skew}var m=s.label==="\\c",f=m?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),p;if(s.isStretchy)p=oa.svgSpan(s,e),p=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:p,wrapperClasses:["svg-align"],wrapperStyle:c>0?{width:"calc(100% - "+De(2*c)+")",marginLeft:De(2*c)}:void 0}]},e);else{var g,S;s.label==="\\vec"?(g=me.staticSvg("vec",e),S=me.svgData.vec[1]):(g=me.makeOrd({mode:s.mode,text:s.label},e,"textord"),g=g7(g),g.italic=0,S=g.width,m&&(f+=g.depth)),p=me.makeSpan(["accent-body"],[g]);var N=s.label==="\\textcircled";N&&(p.classes.push("accent-full"),f=a.height);var $=c;N||($-=S/2),p.style.left=De($),s.label==="\\textcircled"&&(p.style.top=".2em"),p=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-f},{type:"elem",elem:p}]},e)}var w=me.makeSpan(["mord","accent"],[p],e);return i?(i.children[0]=w,i.height=Math.max(w.height,i.height),i.classes[0]="mord",i):w},Sk=(t,e)=>{var r=t.isStretchy?oa.mathMLnode(t.label):new Ne.MathNode("mo",[xs(t.label,t.mode)]),s=new Ne.MathNode("mover",[Et(t.base,e),r]);return s.setAttribute("accent","true"),s},dF=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Ge({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var r=bf(e[0]),s=!dF.test(t.funcName),i=!s||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:s,isShifty:i,base:r}},htmlBuilder:Cv,mathmlBuilder:Sk});Ge({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var r=e[0],s=t.parser.mode;return s==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),s="text"),{type:"accent",mode:s,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:Cv,mathmlBuilder:Sk});Ge({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:s}=t,i=e[0];return{type:"accentUnder",mode:r.mode,label:s,base:i}},htmlBuilder:(t,e)=>{var r=dt(t.base,e),s=oa.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,a=me.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:s,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},e);return me.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(t,e)=>{var r=oa.mathMLnode(t.label),s=new Ne.MathNode("munder",[Et(t.base,e),r]);return s.setAttribute("accentunder","true"),s}});var Cd=t=>{var e=new Ne.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Ge({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:s,funcName:i}=t;return{type:"xArrow",mode:s.mode,label:i,body:e[0],below:r[0]}},htmlBuilder(t,e){var r=e.style,s=e.havingStyle(r.sup()),i=me.wrapFragment(dt(t.body,s,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(a+"-arrow-pad");var l;t.below&&(s=e.havingStyle(r.sub()),l=me.wrapFragment(dt(t.below,s,e),e),l.classes.push(a+"-arrow-pad"));var c=oa.svgSpan(t,e),h=-e.fontMetrics().axisHeight+.5*c.height,u=-e.fontMetrics().axisHeight-.5*c.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(u-=i.depth);var m;if(l){var f=-e.fontMetrics().axisHeight+l.height+.5*c.height+.111;m=me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:c,shift:h},{type:"elem",elem:l,shift:f}]},e)}else m=me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:c,shift:h}]},e);return m.children[0].children[0].children[1].classes.push("svg-align"),me.makeSpan(["mrel","x-arrow"],[m],e)},mathmlBuilder(t,e){var r=oa.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var s;if(t.body){var i=Cd(Et(t.body,e));if(t.below){var a=Cd(Et(t.below,e));s=new Ne.MathNode("munderover",[r,a,i])}else s=new Ne.MathNode("mover",[r,i])}else if(t.below){var l=Cd(Et(t.below,e));s=new Ne.MathNode("munder",[r,l])}else s=Cd(),s=new Ne.MathNode("mover",[r,s]);return s}});var mF=me.makeSpan;function Tk(t,e){var r=Dr(t.body,e,!0);return mF([t.mclass],r,e)}function kk(t,e){var r,s=$n(t.body,e);return t.mclass==="minner"?r=new Ne.MathNode("mpadded",s):t.mclass==="mord"?t.isCharacterBox?(r=s[0],r.type="mi"):r=new Ne.MathNode("mi",s):(t.isCharacterBox?(r=s[0],r.type="mo"):r=new Ne.MathNode("mo",s),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}Ge({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:s}=t,i=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+s.slice(5),body:fr(i),isCharacterBox:pt.isCharacterBox(i)}},htmlBuilder:Tk,mathmlBuilder:kk});var gp=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Ge({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:gp(e[0]),body:fr(e[1]),isCharacterBox:pt.isCharacterBox(e[1])}}});Ge({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:r,funcName:s}=t,i=e[1],a=e[0],l;s!=="\\stackrel"?l=gp(i):l="mrel";var c={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:s!=="\\stackrel",body:fr(i)},h={type:"supsub",mode:a.mode,base:c,sup:s==="\\underset"?null:a,sub:s==="\\underset"?a:null};return{type:"mclass",mode:r.mode,mclass:l,body:[h],isCharacterBox:pt.isCharacterBox(h)}},htmlBuilder:Tk,mathmlBuilder:kk});Ge({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"pmb",mode:r.mode,mclass:gp(e[0]),body:fr(e[0])}},htmlBuilder(t,e){var r=Dr(t.body,e,!0),s=me.makeSpan([t.mclass],r,e);return s.style.textShadow="0.02em 0.01em 0.04px",s},mathmlBuilder(t,e){var r=$n(t.body,e),s=new Ne.MathNode("mstyle",r);return s.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),s}});var fF={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},T7=()=>({type:"styling",body:[],mode:"math",style:"display"}),k7=t=>t.type==="textord"&&t.text==="@",pF=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function gF(t,e,r){var s=fF[t];switch(s){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(s,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:s,mode:"math",family:"rel"},l=r.callFunction("\\Big",[a],[]),c=r.callFunction("\\\\cdright",[e[1]],[]),h={type:"ordgroup",mode:"math",body:[i,l,c]};return r.callFunction("\\\\cdparent",[h],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function xF(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new $e("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var s=[],i=[s],a=0;a<e.length;a++){for(var l=e[a],c=T7(),h=0;h<l.length;h++)if(!k7(l[h]))c.body.push(l[h]);else{s.push(c),h+=1;var u=Ev(l[h]).text,m=new Array(2);if(m[0]={type:"ordgroup",mode:"math",body:[]},m[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var f=0;f<2;f++){for(var p=!0,g=h+1;g<l.length;g++){if(pF(l[g],u)){p=!1,h=g;break}if(k7(l[g]))throw new $e("Missing a "+u+" character to complete a CD arrow.",l[g]);m[f].body.push(l[g])}if(p)throw new $e("Missing a "+u+" character to complete a CD arrow.",l[h])}else throw new $e('Expected one of "<>AV=|." after @',l[h]);var S=gF(u,m,t),N={type:"styling",body:[S],mode:"math",style:"display"};s.push(N),c=T7()}a%2===0?s.push(c):s.shift(),s=[],i.push(s)}t.gullet.endGroup(),t.gullet.endGroup();var $=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:$,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}Ge({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:s}=t;return{type:"cdlabel",mode:r.mode,side:s.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),s=me.wrapFragment(dt(t.label,r,e),e);return s.classes.push("cd-label-"+t.side),s.style.bottom=De(.8-s.depth),s.height=0,s.depth=0,s},mathmlBuilder(t,e){var r=new Ne.MathNode("mrow",[Et(t.label,e)]);return r=new Ne.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new Ne.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});Ge({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=me.wrapFragment(dt(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,e){return new Ne.MathNode("mrow",[Et(t.fragment,e)])}});Ge({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,s=st(e[0],"ordgroup"),i=s.body,a="",l=0;l<i.length;l++){var c=st(i[l],"textord");a+=c.text}var h=parseInt(a),u;if(isNaN(h))throw new $e("\\@char has non-numeric argument "+a);if(h<0||h>=1114111)throw new $e("\\@char with invalid code point "+a);return h<=65535?u=String.fromCharCode(h):(h-=65536,u=String.fromCharCode((h>>10)+55296,(h&1023)+56320)),{type:"textord",mode:r.mode,text:u}}});var Ak=(t,e)=>{var r=Dr(t.body,e.withColor(t.color),!1);return me.makeFragment(r)},Nk=(t,e)=>{var r=$n(t.body,e.withColor(t.color)),s=new Ne.MathNode("mstyle",r);return s.setAttribute("mathcolor",t.color),s};Ge({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,s=st(e[0],"color-token").color,i=e[1];return{type:"color",mode:r.mode,color:s,body:fr(i)}},htmlBuilder:Ak,mathmlBuilder:Nk});Ge({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:s}=t,i=st(e[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var a=r.parseExpression(!0,s);return{type:"color",mode:r.mode,color:i,body:a}},htmlBuilder:Ak,mathmlBuilder:Nk});Ge({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,r){var{parser:s}=t,i=s.gullet.future().text==="["?s.parseSizeGroup(!0):null,a=!s.settings.displayMode||!s.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:s.mode,newLine:a,size:i&&st(i,"size").value}},htmlBuilder(t,e){var r=me.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=De(Jt(t.size,e)))),r},mathmlBuilder(t,e){var r=new Ne.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",De(Jt(t.size,e)))),r}});var u2={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Ek=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new $e("Expected a control sequence",t);return e},vF=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},Ck=(t,e,r,s)=>{var i=t.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,i,s)};Ge({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var s=e.fetch();if(u2[s.text])return(r==="\\global"||r==="\\\\globallong")&&(s.text=u2[s.text]),st(e.parseFunction(),"internal");throw new $e("Invalid token after macro prefix",s)}});Ge({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,s=e.gullet.popToken(),i=s.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new $e("Expected a control sequence",s);for(var a=0,l,c=[[]];e.gullet.future().text!=="{";)if(s=e.gullet.popToken(),s.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),c[a].push("{");break}if(s=e.gullet.popToken(),!/^[1-9]$/.test(s.text))throw new $e('Invalid argument number "'+s.text+'"');if(parseInt(s.text)!==a+1)throw new $e('Argument number "'+s.text+'" out of order');a++,c.push([])}else{if(s.text==="EOF")throw new $e("Expected a macro definition");c[a].push(s.text)}var{tokens:h}=e.gullet.consumeArg();return l&&h.unshift(l),(r==="\\edef"||r==="\\xdef")&&(h=e.gullet.expandTokens(h),h.reverse()),e.gullet.macros.set(i,{tokens:h,numArgs:a,delimiters:c},r===u2[r]),{type:"internal",mode:e.mode}}});Ge({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,s=Ek(e.gullet.popToken());e.gullet.consumeSpaces();var i=vF(e);return Ck(e,s,i,r==="\\\\globallet"),{type:"internal",mode:e.mode}}});Ge({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,s=Ek(e.gullet.popToken()),i=e.gullet.popToken(),a=e.gullet.popToken();return Ck(e,s,a,r==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var ih=function(e,r,s){var i=Dt.math[e]&&Dt.math[e].replace,a=Sv(i||e,r,s);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+r+".");return a},Mv=function(e,r,s,i){var a=s.havingBaseStyle(r),l=me.makeSpan(i.concat(a.sizingClasses(s)),[e],s),c=a.sizeMultiplier/s.sizeMultiplier;return l.height*=c,l.depth*=c,l.maxFontSize=a.sizeMultiplier,l},Mk=function(e,r,s){var i=r.havingBaseStyle(s),a=(1-r.sizeMultiplier/i.sizeMultiplier)*r.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=De(a),e.height-=a,e.depth+=a},yF=function(e,r,s,i,a,l){var c=me.makeSymbol(e,"Main-Regular",a,i),h=Mv(c,r,i,l);return s&&Mk(h,i,r),h},bF=function(e,r,s,i){return me.makeSymbol(e,"Size"+r+"-Regular",s,i)},_k=function(e,r,s,i,a,l){var c=bF(e,r,a,i),h=Mv(me.makeSpan(["delimsizing","size"+r],[c],i),Xe.TEXT,i,l);return s&&Mk(h,i,Xe.TEXT),h},U1=function(e,r,s){var i;r==="Size1-Regular"?i="delim-size1":i="delim-size4";var a=me.makeSpan(["delimsizinginner",i],[me.makeSpan([],[me.makeSymbol(e,r,s)])]);return{type:"elem",elem:a}},V1=function(e,r,s){var i=Xs["Size4-Regular"][e.charCodeAt(0)]?Xs["Size4-Regular"][e.charCodeAt(0)][4]:Xs["Size1-Regular"][e.charCodeAt(0)][4],a=new To("inner",kH(e,Math.round(1e3*r))),l=new ia([a],{width:De(i),height:De(r),style:"width:"+De(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),c=me.makeSvgSpan([],[l],s);return c.height=r,c.style.height=De(r),c.style.width=De(i),{type:"elem",elem:c}},d2=.008,Md={type:"kern",size:-1*d2},jF=["|","\\lvert","\\rvert","\\vert"],wF=["\\|","\\lVert","\\rVert","\\Vert"],$k=function(e,r,s,i,a,l){var c,h,u,m,f="",p=0;c=u=m=e,h=null;var g="Size1-Regular";e==="\\uparrow"?u=m="":e==="\\Uparrow"?u=m="":e==="\\downarrow"?c=u="":e==="\\Downarrow"?c=u="":e==="\\updownarrow"?(c="\\uparrow",u="",m="\\downarrow"):e==="\\Updownarrow"?(c="\\Uparrow",u="",m="\\Downarrow"):jF.includes(e)?(u="",f="vert",p=333):wF.includes(e)?(u="",f="doublevert",p=556):e==="["||e==="\\lbrack"?(c="",u="",m="",g="Size4-Regular",f="lbrack",p=667):e==="]"||e==="\\rbrack"?(c="",u="",m="",g="Size4-Regular",f="rbrack",p=667):e==="\\lfloor"||e===""?(u=c="",m="",g="Size4-Regular",f="lfloor",p=667):e==="\\lceil"||e===""?(c="",u=m="",g="Size4-Regular",f="lceil",p=667):e==="\\rfloor"||e===""?(u=c="",m="",g="Size4-Regular",f="rfloor",p=667):e==="\\rceil"||e===""?(c="",u=m="",g="Size4-Regular",f="rceil",p=667):e==="("||e==="\\lparen"?(c="",u="",m="",g="Size4-Regular",f="lparen",p=875):e===")"||e==="\\rparen"?(c="",u="",m="",g="Size4-Regular",f="rparen",p=875):e==="\\{"||e==="\\lbrace"?(c="",h="",m="",u="",g="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(c="",h="",m="",u="",g="Size4-Regular"):e==="\\lgroup"||e===""?(c="",m="",u="",g="Size4-Regular"):e==="\\rgroup"||e===""?(c="",m="",u="",g="Size4-Regular"):e==="\\lmoustache"||e===""?(c="",m="",u="",g="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(c="",m="",u="",g="Size4-Regular");var S=ih(c,g,a),N=S.height+S.depth,$=ih(u,g,a),w=$.height+$.depth,T=ih(m,g,a),A=T.height+T.depth,I=0,B=1;if(h!==null){var Q=ih(h,g,a);I=Q.height+Q.depth,B=2}var D=N+A+I,E=Math.max(0,Math.ceil((r-D)/(B*w))),z=D+E*B*w,O=i.fontMetrics().axisHeight;s&&(O*=i.sizeMultiplier);var L=z/2-O,H=[];if(f.length>0){var q=z-N-A,ye=Math.round(z*1e3),de=AH(f,Math.round(q*1e3)),oe=new To(f,de),re=(p/1e3).toFixed(3)+"em",F=(ye/1e3).toFixed(3)+"em",le=new ia([oe],{width:re,height:F,viewBox:"0 0 "+p+" "+ye}),W=me.makeSvgSpan([],[le],i);W.height=ye/1e3,W.style.width=re,W.style.height=F,H.push({type:"elem",elem:W})}else{if(H.push(U1(m,g,a)),H.push(Md),h===null){var te=z-N-A+2*d2;H.push(V1(u,te,i))}else{var U=(z-N-A-I)/2+2*d2;H.push(V1(u,U,i)),H.push(Md),H.push(U1(h,g,a)),H.push(Md),H.push(V1(u,U,i))}H.push(Md),H.push(U1(c,g,a))}var Z=i.havingBaseStyle(Xe.TEXT),ge=me.makeVList({positionType:"bottom",positionData:L,children:H},Z);return Mv(me.makeSpan(["delimsizing","mult"],[ge],Z),Xe.TEXT,i,l)},K1=80,W1=.08,X1=function(e,r,s,i,a){var l=TH(e,i,s),c=new To(e,l),h=new ia([c],{width:"400em",height:De(r),viewBox:"0 0 400000 "+s,preserveAspectRatio:"xMinYMin slice"});return me.makeSvgSpan(["hide-tail"],[h],a)},SF=function(e,r){var s=r.havingBaseSizing(),i=Rk("\\surd",e*s.sizeMultiplier,Ik,s),a=s.sizeMultiplier,l=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),c,h=0,u=0,m=0,f;return i.type==="small"?(m=1e3+1e3*l+K1,e<1?a=1:e<1.4&&(a=.7),h=(1+l+W1)/a,u=(1+l)/a,c=X1("sqrtMain",h,m,l,r),c.style.minWidth="0.853em",f=.833/a):i.type==="large"?(m=(1e3+K1)*Ah[i.size],u=(Ah[i.size]+l)/a,h=(Ah[i.size]+l+W1)/a,c=X1("sqrtSize"+i.size,h,m,l,r),c.style.minWidth="1.02em",f=1/a):(h=e+l+W1,u=e+l,m=Math.floor(1e3*e+l)+K1,c=X1("sqrtTall",h,m,l,r),c.style.minWidth="0.742em",f=1.056),c.height=u,c.style.height=De(h),{span:c,advanceWidth:f,ruleWidth:(r.fontMetrics().sqrtRuleThickness+l)*a}},zk=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],TF=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],Dk=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Ah=[0,1.2,1.8,2.4,3],kF=function(e,r,s,i,a){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),zk.includes(e)||Dk.includes(e))return _k(e,r,!1,s,i,a);if(TF.includes(e))return $k(e,Ah[r],!1,s,i,a);throw new $e("Illegal delimiter: '"+e+"'")},AF=[{type:"small",style:Xe.SCRIPTSCRIPT},{type:"small",style:Xe.SCRIPT},{type:"small",style:Xe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],NF=[{type:"small",style:Xe.SCRIPTSCRIPT},{type:"small",style:Xe.SCRIPT},{type:"small",style:Xe.TEXT},{type:"stack"}],Ik=[{type:"small",style:Xe.SCRIPTSCRIPT},{type:"small",style:Xe.SCRIPT},{type:"small",style:Xe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],EF=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Rk=function(e,r,s,i){for(var a=Math.min(2,3-i.style.size),l=a;l<s.length&&s[l].type!=="stack";l++){var c=ih(e,EF(s[l]),"math"),h=c.height+c.depth;if(s[l].type==="small"){var u=i.havingBaseStyle(s[l].style);h*=u.sizeMultiplier}if(h>r)return s[l]}return s[s.length-1]},Gk=function(e,r,s,i,a,l){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var c;Dk.includes(e)?c=AF:zk.includes(e)?c=Ik:c=NF;var h=Rk(e,r,c,i);return h.type==="small"?yF(e,h.style,s,i,a,l):h.type==="large"?_k(e,h.size,s,i,a,l):$k(e,r,s,i,a,l)},CF=function(e,r,s,i,a,l){var c=i.fontMetrics().axisHeight*i.sizeMultiplier,h=901,u=5/i.fontMetrics().ptPerEm,m=Math.max(r-c,s+c),f=Math.max(m/500*h,2*m-u);return Gk(e,f,!0,i,a,l)},Wi={sqrtImage:SF,sizedDelim:kF,sizeToMaxHeight:Ah,customSizedDelim:Gk,leftRightDelim:CF},A7={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},MF=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function xp(t,e){var r=pp(t);if(r&&MF.includes(r.text))return r;throw r?new $e("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",t):new $e("Invalid delimiter type '"+t.type+"'",t)}Ge({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var r=xp(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:A7[t.funcName].size,mclass:A7[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,e)=>t.delim==="."?me.makeSpan([t.mclass]):Wi.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(xs(t.delim,t.mode));var r=new Ne.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var s=De(Wi.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",s),r.setAttribute("maxsize",s),r}});function N7(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ge({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new $e("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:xp(e[0],t).text,color:r}}});Ge({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=xp(e[0],t),s=t.parser;++s.leftrightDepth;var i=s.parseExpression(!1);--s.leftrightDepth,s.expect("\\right",!1);var a=st(s.parseFunction(),"leftright-right");return{type:"leftright",mode:s.mode,body:i,left:r.text,right:a.delim,rightColor:a.color}},htmlBuilder:(t,e)=>{N7(t);for(var r=Dr(t.body,e,!0,["mopen","mclose"]),s=0,i=0,a=!1,l=0;l<r.length;l++)r[l].isMiddle?a=!0:(s=Math.max(r[l].height,s),i=Math.max(r[l].depth,i));s*=e.sizeMultiplier,i*=e.sizeMultiplier;var c;if(t.left==="."?c=eu(e,["mopen"]):c=Wi.leftRightDelim(t.left,s,i,e,t.mode,["mopen"]),r.unshift(c),a)for(var h=1;h<r.length;h++){var u=r[h],m=u.isMiddle;m&&(r[h]=Wi.leftRightDelim(m.delim,s,i,m.options,t.mode,[]))}var f;if(t.right===".")f=eu(e,["mclose"]);else{var p=t.rightColor?e.withColor(t.rightColor):e;f=Wi.leftRightDelim(t.right,s,i,p,t.mode,["mclose"])}return r.push(f),me.makeSpan(["minner"],r,e)},mathmlBuilder:(t,e)=>{N7(t);var r=$n(t.body,e);if(t.left!=="."){var s=new Ne.MathNode("mo",[xs(t.left,t.mode)]);s.setAttribute("fence","true"),r.unshift(s)}if(t.right!=="."){var i=new Ne.MathNode("mo",[xs(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),r.push(i)}return Av(r)}});Ge({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=xp(e[0],t);if(!t.parser.leftrightDepth)throw new $e("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,e)=>{var r;if(t.delim===".")r=eu(e,[]);else{r=Wi.sizedDelim(t.delim,1,e,t.mode,[]);var s={delim:t.delim,options:e};r.isMiddle=s}return r},mathmlBuilder:(t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?xs("|","text"):xs(t.delim,t.mode),s=new Ne.MathNode("mo",[r]);return s.setAttribute("fence","true"),s.setAttribute("lspace","0.05em"),s.setAttribute("rspace","0.05em"),s}});var _v=(t,e)=>{var r=me.wrapFragment(dt(t.body,e),e),s=t.label.slice(1),i=e.sizeMultiplier,a,l=0,c=pt.isCharacterBox(t.body);if(s==="sout")a=me.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/i,l=-.5*e.fontMetrics().xHeight;else if(s==="phase"){var h=Jt({number:.6,unit:"pt"},e),u=Jt({number:.35,unit:"ex"},e),m=e.havingBaseSizing();i=i/m.sizeMultiplier;var f=r.height+r.depth+h+u;r.style.paddingLeft=De(f/2+h);var p=Math.floor(1e3*f*i),g=wH(p),S=new ia([new To("phase",g)],{width:"400em",height:De(p/1e3),viewBox:"0 0 400000 "+p,preserveAspectRatio:"xMinYMin slice"});a=me.makeSvgSpan(["hide-tail"],[S],e),a.style.height=De(f),l=r.depth+h+u}else{/cancel/.test(s)?c||r.classes.push("cancel-pad"):s==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var N=0,$=0,w=0;/box/.test(s)?(w=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),N=e.fontMetrics().fboxsep+(s==="colorbox"?0:w),$=N):s==="angl"?(w=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),N=4*w,$=Math.max(0,.25-r.depth)):(N=c?.2:0,$=N),a=oa.encloseSpan(r,s,N,$,e),/fbox|boxed|fcolorbox/.test(s)?(a.style.borderStyle="solid",a.style.borderWidth=De(w)):s==="angl"&&w!==.049&&(a.style.borderTopWidth=De(w),a.style.borderRightWidth=De(w)),l=r.depth+$,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var T;if(t.backgroundColor)T=me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:l},{type:"elem",elem:r,shift:0}]},e);else{var A=/cancel|phase/.test(s)?["svg-align"]:[];T=me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:a,shift:l,wrapperClasses:A}]},e)}return/cancel/.test(s)&&(T.height=r.height,T.depth=r.depth),/cancel/.test(s)&&!c?me.makeSpan(["mord","cancel-lap"],[T],e):me.makeSpan(["mord"],[T],e)},$v=(t,e)=>{var r=0,s=new Ne.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Et(t.body,e)]);switch(t.label){case"\\cancel":s.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":s.setAttribute("notation","downdiagonalstrike");break;case"\\phase":s.setAttribute("notation","phasorangle");break;case"\\sout":s.setAttribute("notation","horizontalstrike");break;case"\\fbox":s.setAttribute("notation","box");break;case"\\angl":s.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,s.setAttribute("width","+"+2*r+"pt"),s.setAttribute("height","+"+2*r+"pt"),s.setAttribute("lspace",r+"pt"),s.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);s.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":s.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&s.setAttribute("mathbackground",t.backgroundColor),s};Ge({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:s,funcName:i}=t,a=st(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:s.mode,label:i,backgroundColor:a,body:l}},htmlBuilder:_v,mathmlBuilder:$v});Ge({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:s,funcName:i}=t,a=st(e[0],"color-token").color,l=st(e[1],"color-token").color,c=e[2];return{type:"enclose",mode:s.mode,label:i,backgroundColor:l,borderColor:a,body:c}},htmlBuilder:_v,mathmlBuilder:$v});Ge({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}});Ge({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:s}=t,i=e[0];return{type:"enclose",mode:r.mode,label:s,body:i}},htmlBuilder:_v,mathmlBuilder:$v});Ge({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var Ok={};function ui(t){for(var{type:e,names:r,props:s,handler:i,htmlBuilder:a,mathmlBuilder:l}=t,c={type:e,numArgs:s.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},h=0;h<r.length;++h)Ok[r[h]]=c;a&&(vf[e]=a),l&&(yf[e]=l)}var Pk={};function R(t,e){Pk[t]=e}function E7(t){var e=[];t.consumeSpaces();var r=t.fetch().text;for(r==="\\relax"&&(t.consume(),t.consumeSpaces(),r=t.fetch().text);r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}var vp=t=>{var e=t.parser.settings;if(!e.displayMode)throw new $e("{"+t.envName+"} can be used only in display mode.")};function zv(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Ro(t,e,r){var{hskipBeforeAndAfter:s,addJot:i,cols:a,arraystretch:l,colSeparationType:c,autoTag:h,singleRow:u,emptySingleRow:m,maxNumCols:f,leqno:p}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!l){var g=t.gullet.expandMacroAsText("\\arraystretch");if(g==null)l=1;else if(l=parseFloat(g),!l||l<0)throw new $e("Invalid \\arraystretch: "+g)}t.gullet.beginGroup();var S=[],N=[S],$=[],w=[],T=h!=null?[]:void 0;function A(){h&&t.gullet.macros.set("\\@eqnsw","1",!0)}function I(){T&&(t.gullet.macros.get("\\df@tag")?(T.push(t.subparse([new Ps("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):T.push(!!h&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(A(),w.push(E7(t));;){var B=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),B={type:"ordgroup",mode:t.mode,body:B},r&&(B={type:"styling",mode:t.mode,style:r,body:[B]}),S.push(B);var Q=t.fetch().text;if(Q==="&"){if(f&&S.length===f){if(u||c)throw new $e("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(Q==="\\end"){I(),S.length===1&&B.type==="styling"&&B.body[0].body.length===0&&(N.length>1||!m)&&N.pop(),w.length<N.length+1&&w.push([]);break}else if(Q==="\\\\"){t.consume();var D=void 0;t.gullet.future().text!==" "&&(D=t.parseSizeGroup(!0)),$.push(D?D.value:null),I(),w.push(E7(t)),S=[],N.push(S),A()}else throw new $e("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:l,body:N,cols:a,rowGaps:$,hskipBeforeAndAfter:s,hLinesBeforeRow:w,colSeparationType:c,tags:T,leqno:p}}function Dv(t){return t.slice(0,1)==="d"?"display":"text"}var di=function(e,r){var s,i,a=e.body.length,l=e.hLinesBeforeRow,c=0,h=new Array(a),u=[],m=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),f=1/r.fontMetrics().ptPerEm,p=5*f;if(e.colSeparationType&&e.colSeparationType==="small"){var g=r.havingStyle(Xe.SCRIPT).sizeMultiplier;p=.2778*(g/r.sizeMultiplier)}var S=e.colSeparationType==="CD"?Jt({number:3,unit:"ex"},r):12*f,N=3*f,$=e.arraystretch*S,w=.7*$,T=.3*$,A=0;function I(nr){for(var Kt=0;Kt<nr.length;++Kt)Kt>0&&(A+=.25),u.push({pos:A,isDashed:nr[Kt]})}for(I(l[0]),s=0;s<e.body.length;++s){var B=e.body[s],Q=w,D=T;c<B.length&&(c=B.length);var E=new Array(B.length);for(i=0;i<B.length;++i){var z=dt(B[i],r);D<z.depth&&(D=z.depth),Q<z.height&&(Q=z.height),E[i]=z}var O=e.rowGaps[s],L=0;O&&(L=Jt(O,r),L>0&&(L+=T,D<L&&(D=L),L=0)),e.addJot&&(D+=N),E.height=Q,E.depth=D,A+=Q,E.pos=A,A+=D+L,h[s]=E,I(l[s+1])}var H=A/2+r.fontMetrics().axisHeight,q=e.cols||[],ye=[],de,oe,re=[];if(e.tags&&e.tags.some(nr=>nr))for(s=0;s<a;++s){var F=h[s],le=F.pos-H,W=e.tags[s],te=void 0;W===!0?te=me.makeSpan(["eqn-num"],[],r):W===!1?te=me.makeSpan([],[],r):te=me.makeSpan([],Dr(W,r,!0),r),te.depth=F.depth,te.height=F.height,re.push({type:"elem",elem:te,shift:le})}for(i=0,oe=0;i<c||oe<q.length;++i,++oe){for(var U=q[oe]||{},Z=!0;U.type==="separator";){if(Z||(de=me.makeSpan(["arraycolsep"],[]),de.style.width=De(r.fontMetrics().doubleRuleSep),ye.push(de)),U.separator==="|"||U.separator===":"){var ge=U.separator==="|"?"solid":"dashed",ee=me.makeSpan(["vertical-separator"],[],r);ee.style.height=De(A),ee.style.borderRightWidth=De(m),ee.style.borderRightStyle=ge,ee.style.margin="0 "+De(-m/2);var ae=A-H;ae&&(ee.style.verticalAlign=De(-ae)),ye.push(ee)}else throw new $e("Invalid separator type: "+U.separator);oe++,U=q[oe]||{},Z=!1}if(!(i>=c)){var Ae=void 0;(i>0||e.hskipBeforeAndAfter)&&(Ae=pt.deflt(U.pregap,p),Ae!==0&&(de=me.makeSpan(["arraycolsep"],[]),de.style.width=De(Ae),ye.push(de)));var pe=[];for(s=0;s<a;++s){var he=h[s],ve=he[i];if(ve){var _e=he.pos-H;ve.depth=he.depth,ve.height=he.height,pe.push({type:"elem",elem:ve,shift:_e})}}pe=me.makeVList({positionType:"individualShift",children:pe},r),pe=me.makeSpan(["col-align-"+(U.align||"c")],[pe]),ye.push(pe),(i<c-1||e.hskipBeforeAndAfter)&&(Ae=pt.deflt(U.postgap,p),Ae!==0&&(de=me.makeSpan(["arraycolsep"],[]),de.style.width=De(Ae),ye.push(de)))}}if(h=me.makeSpan(["mtable"],ye),u.length>0){for(var Se=me.makeLineSpan("hline",r,m),qe=me.makeLineSpan("hdashline",r,m),Ue=[{type:"elem",elem:h,shift:0}];u.length>0;){var yt=u.pop(),Vt=yt.pos-H;yt.isDashed?Ue.push({type:"elem",elem:qe,shift:Vt}):Ue.push({type:"elem",elem:Se,shift:Vt})}h=me.makeVList({positionType:"individualShift",children:Ue},r)}if(re.length===0)return me.makeSpan(["mord"],[h],r);var Hr=me.makeVList({positionType:"individualShift",children:re},r);return Hr=me.makeSpan(["tag"],[Hr],r),me.makeFragment([h,Hr])},_F={c:"center ",l:"left ",r:"right "},mi=function(e,r){for(var s=[],i=new Ne.MathNode("mtd",[],["mtr-glue"]),a=new Ne.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var c=e.body[l],h=[],u=0;u<c.length;u++)h.push(new Ne.MathNode("mtd",[Et(c[u],r)]));e.tags&&e.tags[l]&&(h.unshift(i),h.push(i),e.leqno?h.unshift(a):h.push(a)),s.push(new Ne.MathNode("mtr",h))}var m=new Ne.MathNode("mtable",s),f=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);m.setAttribute("rowspacing",De(f));var p="",g="";if(e.cols&&e.cols.length>0){var S=e.cols,N="",$=!1,w=0,T=S.length;S[0].type==="separator"&&(p+="top ",w=1),S[S.length-1].type==="separator"&&(p+="bottom ",T-=1);for(var A=w;A<T;A++)S[A].type==="align"?(g+=_F[S[A].align],$&&(N+="none "),$=!0):S[A].type==="separator"&&$&&(N+=S[A].separator==="|"?"solid ":"dashed ",$=!1);m.setAttribute("columnalign",g.trim()),/[sd]/.test(N)&&m.setAttribute("columnlines",N.trim())}if(e.colSeparationType==="align"){for(var I=e.cols||[],B="",Q=1;Q<I.length;Q++)B+=Q%2?"0em ":"1em ";m.setAttribute("columnspacing",B.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?m.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?m.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?m.setAttribute("columnspacing","0.5em"):m.setAttribute("columnspacing","1em");var D="",E=e.hLinesBeforeRow;p+=E[0].length>0?"left ":"",p+=E[E.length-1].length>0?"right ":"";for(var z=1;z<E.length-1;z++)D+=E[z].length===0?"none ":E[z][0]?"dashed ":"solid ";return/[sd]/.test(D)&&m.setAttribute("rowlines",D.trim()),p!==""&&(m=new Ne.MathNode("menclose",[m]),m.setAttribute("notation",p.trim())),e.arraystretch&&e.arraystretch<1&&(m=new Ne.MathNode("mstyle",[m]),m.setAttribute("scriptlevel","1")),m},Lk=function(e,r){e.envName.indexOf("ed")===-1&&vp(e);var s=[],i=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",l=Ro(e.parser,{cols:s,addJot:!0,autoTag:a?void 0:zv(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),c,h=0,u={type:"ordgroup",mode:e.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var m="",f=0;f<r[0].body.length;f++){var p=st(r[0].body[f],"textord");m+=p.text}c=Number(m),h=c*2}var g=!h;l.body.forEach(function(w){for(var T=1;T<w.length;T+=2){var A=st(w[T],"styling"),I=st(A.body[0],"ordgroup");I.body.unshift(u)}if(g)h<w.length&&(h=w.length);else{var B=w.length/2;if(c<B)throw new $e("Too many math in a row: "+("expected "+c+", but got "+B),w[0])}});for(var S=0;S<h;++S){var N="r",$=0;S%2===1?N="l":S>0&&g&&($=1),s[S]={type:"align",align:N,pregap:$,postgap:0}}return l.colSeparationType=g?"align":"alignat",l};ui({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=pp(e[0]),s=r?[e[0]]:st(e[0],"ordgroup").body,i=s.map(function(l){var c=Ev(l),h=c.text;if("lcr".indexOf(h)!==-1)return{type:"align",align:h};if(h==="|")return{type:"separator",separator:"|"};if(h===":")return{type:"separator",separator:":"};throw new $e("Unknown column alignment: "+h,l)}),a={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Ro(t.parser,a,Dv(t.envName))},htmlBuilder:di,mathmlBuilder:mi});ui({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",s={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new $e("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),s.cols=[{type:"align",align:r}]}}var a=Ro(t.parser,s,Dv(t.envName)),l=Math.max(0,...a.body.map(c=>c.length));return a.cols=new Array(l).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:di,mathmlBuilder:mi});ui({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},r=Ro(t.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:di,mathmlBuilder:mi});ui({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=pp(e[0]),s=r?[e[0]]:st(e[0],"ordgroup").body,i=s.map(function(l){var c=Ev(l),h=c.text;if("lc".indexOf(h)!==-1)return{type:"align",align:h};throw new $e("Unknown column alignment: "+h,l)});if(i.length>1)throw new $e("{subarray} can contain only one column");var a={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=Ro(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new $e("{subarray} can contain only one column");return a},htmlBuilder:di,mathmlBuilder:mi});ui({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=Ro(t.parser,e,Dv(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:di,mathmlBuilder:mi});ui({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Lk,htmlBuilder:di,mathmlBuilder:mi});ui({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&vp(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:zv(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Ro(t.parser,e,"display")},htmlBuilder:di,mathmlBuilder:mi});ui({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Lk,htmlBuilder:di,mathmlBuilder:mi});ui({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){vp(t);var e={autoTag:zv(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Ro(t.parser,e,"display")},htmlBuilder:di,mathmlBuilder:mi});ui({type:"array",names:["CD"],props:{numArgs:0},handler(t){return vp(t),xF(t.parser)},htmlBuilder:di,mathmlBuilder:mi});R("\\nonumber","\\gdef\\@eqnsw{0}");R("\\notag","\\nonumber");Ge({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new $e(t.funcName+" valid only within array environment")}});var C7=Ok;Ge({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:s}=t,i=e[0];if(i.type!=="ordgroup")throw new $e("Invalid environment name",i);for(var a="",l=0;l<i.body.length;++l)a+=st(i.body[l],"textord").text;if(s==="\\begin"){if(!C7.hasOwnProperty(a))throw new $e("No such environment: "+a,i);var c=C7[a],{args:h,optArgs:u}=r.parseArguments("\\begin{"+a+"}",c),m={mode:r.mode,envName:a,parser:r},f=c.handler(m,h,u);r.expect("\\end",!1);var p=r.nextToken,g=st(r.parseFunction(),"environment");if(g.name!==a)throw new $e("Mismatch: \\begin{"+a+"} matched by \\end{"+g.name+"}",p);return f}return{type:"environment",mode:r.mode,name:a,nameGroup:i}}});var qk=(t,e)=>{var r=t.font,s=e.withFont(r);return dt(t.body,s)},Bk=(t,e)=>{var r=t.font,s=e.withFont(r);return Et(t.body,s)},M7={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ge({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:s}=t,i=bf(e[0]),a=s;return a in M7&&(a=M7[a]),{type:"font",mode:r.mode,font:a.slice(1),body:i}},htmlBuilder:qk,mathmlBuilder:Bk});Ge({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:r}=t,s=e[0],i=pt.isCharacterBox(s);return{type:"mclass",mode:r.mode,mclass:gp(s),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:s}],isCharacterBox:i}}});Ge({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:s,breakOnTokenText:i}=t,{mode:a}=r,l=r.parseExpression(!0,i),c="math"+s.slice(1);return{type:"font",mode:a,font:c,body:{type:"ordgroup",mode:r.mode,body:l}}},htmlBuilder:qk,mathmlBuilder:Bk});var Hk=(t,e)=>{var r=e;return t==="display"?r=r.id>=Xe.SCRIPT.id?r.text():Xe.DISPLAY:t==="text"&&r.size===Xe.DISPLAY.size?r=Xe.TEXT:t==="script"?r=Xe.SCRIPT:t==="scriptscript"&&(r=Xe.SCRIPTSCRIPT),r},Iv=(t,e)=>{var r=Hk(t.size,e.style),s=r.fracNum(),i=r.fracDen(),a;a=e.havingStyle(s);var l=dt(t.numer,a,e);if(t.continued){var c=8.5/e.fontMetrics().ptPerEm,h=3.5/e.fontMetrics().ptPerEm;l.height=l.height<c?c:l.height,l.depth=l.depth<h?h:l.depth}a=e.havingStyle(i);var u=dt(t.denom,a,e),m,f,p;t.hasBarLine?(t.barSize?(f=Jt(t.barSize,e),m=me.makeLineSpan("frac-line",e,f)):m=me.makeLineSpan("frac-line",e),f=m.height,p=m.height):(m=null,f=0,p=e.fontMetrics().defaultRuleThickness);var g,S,N;r.size===Xe.DISPLAY.size||t.size==="display"?(g=e.fontMetrics().num1,f>0?S=3*p:S=7*p,N=e.fontMetrics().denom1):(f>0?(g=e.fontMetrics().num2,S=p):(g=e.fontMetrics().num3,S=3*p),N=e.fontMetrics().denom2);var $;if(m){var T=e.fontMetrics().axisHeight;g-l.depth-(T+.5*f)<S&&(g+=S-(g-l.depth-(T+.5*f))),T-.5*f-(u.height-N)<S&&(N+=S-(T-.5*f-(u.height-N)));var A=-(T-.5*f);$=me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:N},{type:"elem",elem:m,shift:A},{type:"elem",elem:l,shift:-g}]},e)}else{var w=g-l.depth-(u.height-N);w<S&&(g+=.5*(S-w),N+=.5*(S-w)),$=me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:N},{type:"elem",elem:l,shift:-g}]},e)}a=e.havingStyle(r),$.height*=a.sizeMultiplier/e.sizeMultiplier,$.depth*=a.sizeMultiplier/e.sizeMultiplier;var I;r.size===Xe.DISPLAY.size?I=e.fontMetrics().delim1:r.size===Xe.SCRIPTSCRIPT.size?I=e.havingStyle(Xe.SCRIPT).fontMetrics().delim2:I=e.fontMetrics().delim2;var B,Q;return t.leftDelim==null?B=eu(e,["mopen"]):B=Wi.customSizedDelim(t.leftDelim,I,!0,e.havingStyle(r),t.mode,["mopen"]),t.continued?Q=me.makeSpan([]):t.rightDelim==null?Q=eu(e,["mclose"]):Q=Wi.customSizedDelim(t.rightDelim,I,!0,e.havingStyle(r),t.mode,["mclose"]),me.makeSpan(["mord"].concat(a.sizingClasses(e)),[B,me.makeSpan(["mfrac"],[$]),Q],e)},Rv=(t,e)=>{var r=new Ne.MathNode("mfrac",[Et(t.numer,e),Et(t.denom,e)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var s=Jt(t.barSize,e);r.setAttribute("linethickness",De(s))}var i=Hk(t.size,e.style);if(i.size!==e.style.size){r=new Ne.MathNode("mstyle",[r]);var a=i.size===Xe.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",a),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var l=[];if(t.leftDelim!=null){var c=new Ne.MathNode("mo",[new Ne.TextNode(t.leftDelim.replace("\\",""))]);c.setAttribute("fence","true"),l.push(c)}if(l.push(r),t.rightDelim!=null){var h=new Ne.MathNode("mo",[new Ne.TextNode(t.rightDelim.replace("\\",""))]);h.setAttribute("fence","true"),l.push(h)}return Av(l)}return r};Ge({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:s}=t,i=e[0],a=e[1],l,c=null,h=null,u="auto";switch(s){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,c="(",h=")";break;case"\\\\bracefrac":l=!1,c="\\{",h="\\}";break;case"\\\\brackfrac":l=!1,c="[",h="]";break;default:throw new Error("Unrecognized genfrac command")}switch(s){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:a,hasBarLine:l,leftDelim:c,rightDelim:h,size:u,barSize:null}},htmlBuilder:Iv,mathmlBuilder:Rv});Ge({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:r,funcName:s}=t,i=e[0],a=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Ge({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:r,token:s}=t,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:s}}});var _7=["display","text","script","scriptscript"],$7=function(e){var r=null;return e.length>0&&(r=e,r=r==="."?null:r),r};Ge({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:r}=t,s=e[4],i=e[5],a=bf(e[0]),l=a.type==="atom"&&a.family==="open"?$7(a.text):null,c=bf(e[1]),h=c.type==="atom"&&c.family==="close"?$7(c.text):null,u=st(e[2],"size"),m,f=null;u.isBlank?m=!0:(f=u.value,m=f.number>0);var p="auto",g=e[3];if(g.type==="ordgroup"){if(g.body.length>0){var S=st(g.body[0],"textord");p=_7[Number(S.text)]}}else g=st(g,"textord"),p=_7[Number(g.text)];return{type:"genfrac",mode:r.mode,numer:s,denom:i,continued:!1,hasBarLine:m,barSize:f,leftDelim:l,rightDelim:h,size:p}},htmlBuilder:Iv,mathmlBuilder:Rv});Ge({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:s,token:i}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:st(e[0],"size").value,token:i}}});Ge({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:r,funcName:s}=t,i=e[0],a=oH(st(e[1],"infix").size),l=e[2],c=a.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:l,continued:!1,hasBarLine:c,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Iv,mathmlBuilder:Rv});var Fk=(t,e)=>{var r=e.style,s,i;t.type==="supsub"?(s=t.sup?dt(t.sup,e.havingStyle(r.sup()),e):dt(t.sub,e.havingStyle(r.sub()),e),i=st(t.base,"horizBrace")):i=st(t,"horizBrace");var a=dt(i.base,e.havingBaseStyle(Xe.DISPLAY)),l=oa.svgSpan(i,e),c;if(i.isOver?(c=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:l}]},e),c.children[0].children[0].children[1].classes.push("svg-align")):(c=me.makeVList({positionType:"bottom",positionData:a.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:a}]},e),c.children[0].children[0].children[0].classes.push("svg-align")),s){var h=me.makeSpan(["mord",i.isOver?"mover":"munder"],[c],e);i.isOver?c=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:h},{type:"kern",size:.2},{type:"elem",elem:s}]},e):c=me.makeVList({positionType:"bottom",positionData:h.depth+.2+s.height+s.depth,children:[{type:"elem",elem:s},{type:"kern",size:.2},{type:"elem",elem:h}]},e)}return me.makeSpan(["mord",i.isOver?"mover":"munder"],[c],e)},$F=(t,e)=>{var r=oa.mathMLnode(t.label);return new Ne.MathNode(t.isOver?"mover":"munder",[Et(t.base,e),r])};Ge({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:s}=t;return{type:"horizBrace",mode:r.mode,label:s,isOver:/^\\over/.test(s),base:e[0]}},htmlBuilder:Fk,mathmlBuilder:$F});Ge({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,s=e[1],i=st(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:fr(s)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var r=Dr(t.body,e,!1);return me.makeAnchor(t.href,[],r,e)},mathmlBuilder:(t,e)=>{var r=ko(t.body,e);return r instanceof Pn||(r=new Pn("mrow",[r])),r.setAttribute("href",t.href),r}});Ge({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,s=st(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:s}))return r.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<s.length;a++){var l=s[a];l==="~"&&(l="\\textasciitilde"),i.push({type:"textord",mode:"text",text:l})}var c={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:s,body:fr(c)}}});Ge({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:fr(e[0])}},htmlBuilder(t,e){var r=Dr(t.body,e,!1);return me.makeFragment(r)},mathmlBuilder(t,e){return new Ne.MathNode("mrow",$n(t.body,e))}});Ge({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:s,token:i}=t,a=st(e[0],"raw").string,l=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var c,h={};switch(s){case"\\htmlClass":h.class=a,c={command:"\\htmlClass",class:a};break;case"\\htmlId":h.id=a,c={command:"\\htmlId",id:a};break;case"\\htmlStyle":h.style=a,c={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var u=a.split(","),m=0;m<u.length;m++){var f=u[m],p=f.indexOf("=");if(p<0)throw new $e("\\htmlData key/value '"+f+"' missing equals sign");var g=f.slice(0,p),S=f.slice(p+1);h["data-"+g.trim()]=S}c={command:"\\htmlData",attributes:h};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(c)?{type:"html",mode:r.mode,attributes:h,body:fr(l)}:r.formatUnsupportedCmd(s)},htmlBuilder:(t,e)=>{var r=Dr(t.body,e,!1),s=["enclosing"];t.attributes.class&&s.push(...t.attributes.class.trim().split(/\s+/));var i=me.makeSpan(s,r,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&i.setAttribute(a,t.attributes[a]);return i},mathmlBuilder:(t,e)=>ko(t.body,e)});Ge({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:fr(e[0]),mathml:fr(e[1])}},htmlBuilder:(t,e)=>{var r=Dr(t.html,e,!1);return me.makeFragment(r)},mathmlBuilder:(t,e)=>ko(t.mathml,e)});var Y1=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!r)throw new $e("Invalid size: '"+e+"' in \\includegraphics");var s={number:+(r[1]+r[2]),unit:r[3]};if(!ck(s))throw new $e("Invalid unit: '"+s.unit+"' in \\includegraphics.");return s};Ge({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,r)=>{var{parser:s}=t,i={number:0,unit:"em"},a={number:.9,unit:"em"},l={number:0,unit:"em"},c="";if(r[0])for(var h=st(r[0],"raw").string,u=h.split(","),m=0;m<u.length;m++){var f=u[m].split("=");if(f.length===2){var p=f[1].trim();switch(f[0].trim()){case"alt":c=p;break;case"width":i=Y1(p);break;case"height":a=Y1(p);break;case"totalheight":l=Y1(p);break;default:throw new $e("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var g=st(e[0],"url").url;return c===""&&(c=g,c=c.replace(/^.*[\\/]/,""),c=c.substring(0,c.lastIndexOf("."))),s.settings.isTrusted({command:"\\includegraphics",url:g})?{type:"includegraphics",mode:s.mode,alt:c,width:i,height:a,totalheight:l,src:g}:s.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var r=Jt(t.height,e),s=0;t.totalheight.number>0&&(s=Jt(t.totalheight,e)-r);var i=0;t.width.number>0&&(i=Jt(t.width,e));var a={height:De(r+s)};i>0&&(a.width=De(i)),s>0&&(a.verticalAlign=De(-s));var l=new $H(t.src,t.alt,a);return l.height=r,l.depth=s,l},mathmlBuilder:(t,e)=>{var r=new Ne.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var s=Jt(t.height,e),i=0;if(t.totalheight.number>0&&(i=Jt(t.totalheight,e)-s,r.setAttribute("valign",De(-i))),r.setAttribute("height",De(s+i)),t.width.number>0){var a=Jt(t.width,e);r.setAttribute("width",De(a))}return r.setAttribute("src",t.src),r}});Ge({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:s}=t,i=st(e[0],"size");if(r.settings.strict){var a=s[1]==="m",l=i.value.unit==="mu";a?(l||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" works only in math mode")):l&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(t,e){return me.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var r=Jt(t.dimension,e);return new Ne.SpaceNode(r)}});Ge({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:s}=t,i=e[0];return{type:"lap",mode:r.mode,alignment:s.slice(5),body:i}},htmlBuilder:(t,e)=>{var r;t.alignment==="clap"?(r=me.makeSpan([],[dt(t.body,e)]),r=me.makeSpan(["inner"],[r],e)):r=me.makeSpan(["inner"],[dt(t.body,e)]);var s=me.makeSpan(["fix"],[]),i=me.makeSpan([t.alignment],[r,s],e),a=me.makeSpan(["strut"]);return a.style.height=De(i.height+i.depth),i.depth&&(a.style.verticalAlign=De(-i.depth)),i.children.unshift(a),i=me.makeSpan(["thinbox"],[i],e),me.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var r=new Ne.MathNode("mpadded",[Et(t.body,e)]);if(t.alignment!=="rlap"){var s=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",s+"width")}return r.setAttribute("width","0px"),r}});Ge({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:s}=t,i=s.mode;s.switchMode("math");var a=r==="\\("?"\\)":"$",l=s.parseExpression(!1,a);return s.expect(a),s.switchMode(i),{type:"styling",mode:s.mode,style:"text",body:l}}});Ge({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new $e("Mismatched "+t.funcName)}});var z7=(t,e)=>{switch(e.style.size){case Xe.DISPLAY.size:return t.display;case Xe.TEXT.size:return t.text;case Xe.SCRIPT.size:return t.script;case Xe.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Ge({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:fr(e[0]),text:fr(e[1]),script:fr(e[2]),scriptscript:fr(e[3])}},htmlBuilder:(t,e)=>{var r=z7(t,e),s=Dr(r,e,!1);return me.makeFragment(s)},mathmlBuilder:(t,e)=>{var r=z7(t,e);return ko(r,e)}});var Uk=(t,e,r,s,i,a,l)=>{t=me.makeSpan([],[t]);var c=r&&pt.isCharacterBox(r),h,u;if(e){var m=dt(e,s.havingStyle(i.sup()),s);u={elem:m,kern:Math.max(s.fontMetrics().bigOpSpacing1,s.fontMetrics().bigOpSpacing3-m.depth)}}if(r){var f=dt(r,s.havingStyle(i.sub()),s);h={elem:f,kern:Math.max(s.fontMetrics().bigOpSpacing2,s.fontMetrics().bigOpSpacing4-f.height)}}var p;if(u&&h){var g=s.fontMetrics().bigOpSpacing5+h.elem.height+h.elem.depth+h.kern+t.depth+l;p=me.makeVList({positionType:"bottom",positionData:g,children:[{type:"kern",size:s.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:De(-a)},{type:"kern",size:h.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:De(a)},{type:"kern",size:s.fontMetrics().bigOpSpacing5}]},s)}else if(h){var S=t.height-l;p=me.makeVList({positionType:"top",positionData:S,children:[{type:"kern",size:s.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:De(-a)},{type:"kern",size:h.kern},{type:"elem",elem:t}]},s)}else if(u){var N=t.depth+l;p=me.makeVList({positionType:"bottom",positionData:N,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:De(a)},{type:"kern",size:s.fontMetrics().bigOpSpacing5}]},s)}else return t;var $=[p];if(h&&a!==0&&!c){var w=me.makeSpan(["mspace"],[],s);w.style.marginRight=De(a),$.unshift(w)}return me.makeSpan(["mop","op-limits"],$,s)},Vk=["\\smallint"],m0=(t,e)=>{var r,s,i=!1,a;t.type==="supsub"?(r=t.sup,s=t.sub,a=st(t.base,"op"),i=!0):a=st(t,"op");var l=e.style,c=!1;l.size===Xe.DISPLAY.size&&a.symbol&&!Vk.includes(a.name)&&(c=!0);var h;if(a.symbol){var u=c?"Size2-Regular":"Size1-Regular",m="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(m=a.name.slice(1),a.name=m==="oiint"?"\\iint":"\\iiint"),h=me.makeSymbol(a.name,u,"math",e,["mop","op-symbol",c?"large-op":"small-op"]),m.length>0){var f=h.italic,p=me.staticSvg(m+"Size"+(c?"2":"1"),e);h=me.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:0},{type:"elem",elem:p,shift:c?.08:0}]},e),a.name="\\"+m,h.classes.unshift("mop"),h.italic=f}}else if(a.body){var g=Dr(a.body,e,!0);g.length===1&&g[0]instanceof gs?(h=g[0],h.classes[0]="mop"):h=me.makeSpan(["mop"],g,e)}else{for(var S=[],N=1;N<a.name.length;N++)S.push(me.mathsym(a.name[N],a.mode,e));h=me.makeSpan(["mop"],S,e)}var $=0,w=0;return(h instanceof gs||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&($=(h.height-h.depth)/2-e.fontMetrics().axisHeight,w=h.italic),i?Uk(h,r,s,e,l,w,$):($&&(h.style.position="relative",h.style.top=De($)),h)},$u=(t,e)=>{var r;if(t.symbol)r=new Pn("mo",[xs(t.name,t.mode)]),Vk.includes(t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new Pn("mo",$n(t.body,e));else{r=new Pn("mi",[new Ys(t.name.slice(1))]);var s=new Pn("mo",[xs("","text")]);t.parentIsSupSub?r=new Pn("mrow",[r,s]):r=bk([r,s])}return r},zF={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Ge({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:r,funcName:s}=t,i=s;return i.length===1&&(i=zF[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:m0,mathmlBuilder:$u});Ge({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:r}=t,s=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:fr(s)}},htmlBuilder:m0,mathmlBuilder:$u});var DF={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Ge({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:m0,mathmlBuilder:$u});Ge({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:m0,mathmlBuilder:$u});Ge({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:r}=t,s=r;return s.length===1&&(s=DF[s]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:s}},htmlBuilder:m0,mathmlBuilder:$u});var Kk=(t,e)=>{var r,s,i=!1,a;t.type==="supsub"?(r=t.sup,s=t.sub,a=st(t.base,"operatorname"),i=!0):a=st(t,"operatorname");var l;if(a.body.length>0){for(var c=a.body.map(f=>{var p=f.text;return typeof p=="string"?{type:"textord",mode:f.mode,text:p}:f}),h=Dr(c,e.withFont("mathrm"),!0),u=0;u<h.length;u++){var m=h[u];m instanceof gs&&(m.text=m.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=me.makeSpan(["mop"],h,e)}else l=me.makeSpan(["mop"],[],e);return i?Uk(l,r,s,e,e.style,0,0):l},IF=(t,e)=>{for(var r=$n(t.body,e.withFont("mathrm")),s=!0,i=0;i<r.length;i++){var a=r[i];if(!(a instanceof Ne.SpaceNode))if(a instanceof Ne.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=a.children[0];a.children.length===1&&l instanceof Ne.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):s=!1;break}default:s=!1}else s=!1}if(s){var c=r.map(m=>m.toText()).join("");r=[new Ne.TextNode(c)]}var h=new Ne.MathNode("mi",r);h.setAttribute("mathvariant","normal");var u=new Ne.MathNode("mo",[xs("","text")]);return t.parentIsSupSub?new Ne.MathNode("mrow",[h,u]):Ne.newDocumentFragment([h,u])};Ge({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:s}=t,i=e[0];return{type:"operatorname",mode:r.mode,body:fr(i),alwaysHandleSupSub:s==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Kk,mathmlBuilder:IF});R("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Ol({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?me.makeFragment(Dr(t.body,e,!1)):me.makeSpan(["mord"],Dr(t.body,e,!0),e)},mathmlBuilder(t,e){return ko(t.body,e,!0)}});Ge({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,s=e[0];return{type:"overline",mode:r.mode,body:s}},htmlBuilder(t,e){var r=dt(t.body,e.havingCrampedStyle()),s=me.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,a=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:s},{type:"kern",size:i}]},e);return me.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var r=new Ne.MathNode("mo",[new Ne.TextNode("")]);r.setAttribute("stretchy","true");var s=new Ne.MathNode("mover",[Et(t.body,e),r]);return s.setAttribute("accent","true"),s}});Ge({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,s=e[0];return{type:"phantom",mode:r.mode,body:fr(s)}},htmlBuilder:(t,e)=>{var r=Dr(t.body,e.withPhantom(),!1);return me.makeFragment(r)},mathmlBuilder:(t,e)=>{var r=$n(t.body,e);return new Ne.MathNode("mphantom",r)}});Ge({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,s=e[0];return{type:"hphantom",mode:r.mode,body:s}},htmlBuilder:(t,e)=>{var r=me.makeSpan([],[dt(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var s=0;s<r.children.length;s++)r.children[s].height=0,r.children[s].depth=0;return r=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),me.makeSpan(["mord"],[r],e)},mathmlBuilder:(t,e)=>{var r=$n(fr(t.body),e),s=new Ne.MathNode("mphantom",r),i=new Ne.MathNode("mpadded",[s]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});Ge({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,s=e[0];return{type:"vphantom",mode:r.mode,body:s}},htmlBuilder:(t,e)=>{var r=me.makeSpan(["inner"],[dt(t.body,e.withPhantom())]),s=me.makeSpan(["fix"],[]);return me.makeSpan(["mord","rlap"],[r,s],e)},mathmlBuilder:(t,e)=>{var r=$n(fr(t.body),e),s=new Ne.MathNode("mphantom",r),i=new Ne.MathNode("mpadded",[s]);return i.setAttribute("width","0px"),i}});Ge({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,s=st(e[0],"size").value,i=e[1];return{type:"raisebox",mode:r.mode,dy:s,body:i}},htmlBuilder(t,e){var r=dt(t.body,e),s=Jt(t.dy,e);return me.makeVList({positionType:"shift",positionData:-s,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new Ne.MathNode("mpadded",[Et(t.body,e)]),s=t.dy.number+t.dy.unit;return r.setAttribute("voffset",s),r}});Ge({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});Ge({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,r){var{parser:s}=t,i=r[0],a=st(e[0],"size"),l=st(e[1],"size");return{type:"rule",mode:s.mode,shift:i&&st(i,"size").value,width:a.value,height:l.value}},htmlBuilder(t,e){var r=me.makeSpan(["mord","rule"],[],e),s=Jt(t.width,e),i=Jt(t.height,e),a=t.shift?Jt(t.shift,e):0;return r.style.borderRightWidth=De(s),r.style.borderTopWidth=De(i),r.style.bottom=De(a),r.width=s,r.height=i+a,r.depth=-a,r.maxFontSize=i*1.125*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=Jt(t.width,e),s=Jt(t.height,e),i=t.shift?Jt(t.shift,e):0,a=e.color&&e.getColor()||"black",l=new Ne.MathNode("mspace");l.setAttribute("mathbackground",a),l.setAttribute("width",De(r)),l.setAttribute("height",De(s));var c=new Ne.MathNode("mpadded",[l]);return i>=0?c.setAttribute("height",De(i)):(c.setAttribute("height",De(i)),c.setAttribute("depth",De(-i))),c.setAttribute("voffset",De(i)),c}});function Wk(t,e,r){for(var s=Dr(t,e,!1),i=e.sizeMultiplier/r.sizeMultiplier,a=0;a<s.length;a++){var l=s[a].classes.indexOf("sizing");l<0?Array.prototype.push.apply(s[a].classes,e.sizingClasses(r)):s[a].classes[l+1]==="reset-size"+e.size&&(s[a].classes[l+1]="reset-size"+r.size),s[a].height*=i,s[a].depth*=i}return me.makeFragment(s)}var D7=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],RF=(t,e)=>{var r=e.havingSize(t.size);return Wk(t.body,r,e)};Ge({type:"sizing",names:D7,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:r,funcName:s,parser:i}=t,a=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:D7.indexOf(s)+1,body:a}},htmlBuilder:RF,mathmlBuilder:(t,e)=>{var r=e.havingSize(t.size),s=$n(t.body,r),i=new Ne.MathNode("mstyle",s);return i.setAttribute("mathsize",De(r.sizeMultiplier)),i}});Ge({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,r)=>{var{parser:s}=t,i=!1,a=!1,l=r[0]&&st(r[0],"ordgroup");if(l)for(var c="",h=0;h<l.body.length;++h){var u=l.body[h];if(c=u.text,c==="t")i=!0;else if(c==="b")a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;var m=e[0];return{type:"smash",mode:s.mode,body:m,smashHeight:i,smashDepth:a}},htmlBuilder:(t,e)=>{var r=me.makeSpan([],[dt(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var s=0;s<r.children.length;s++)r.children[s].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var a=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return me.makeSpan(["mord"],[a],e)},mathmlBuilder:(t,e)=>{var r=new Ne.MathNode("mpadded",[Et(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}});Ge({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:s}=t,i=r[0],a=e[0];return{type:"sqrt",mode:s.mode,body:a,index:i}},htmlBuilder(t,e){var r=dt(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=me.wrapFragment(r,e);var s=e.fontMetrics(),i=s.defaultRuleThickness,a=i;e.style.id<Xe.TEXT.id&&(a=e.fontMetrics().xHeight);var l=i+a/4,c=r.height+r.depth+l+i,{span:h,ruleWidth:u,advanceWidth:m}=Wi.sqrtImage(c,e),f=h.height-u;f>r.height+r.depth+l&&(l=(l+f-r.height-r.depth)/2);var p=h.height-r.height-l-u;r.style.paddingLeft=De(m);var g=me.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+p)},{type:"elem",elem:h},{type:"kern",size:u}]},e);if(t.index){var S=e.havingStyle(Xe.SCRIPTSCRIPT),N=dt(t.index,S,e),$=.6*(g.height-g.depth),w=me.makeVList({positionType:"shift",positionData:-$,children:[{type:"elem",elem:N}]},e),T=me.makeSpan(["root"],[w]);return me.makeSpan(["mord","sqrt"],[T,g],e)}else return me.makeSpan(["mord","sqrt"],[g],e)},mathmlBuilder(t,e){var{body:r,index:s}=t;return s?new Ne.MathNode("mroot",[Et(r,e),Et(s,e)]):new Ne.MathNode("msqrt",[Et(r,e)])}});var I7={display:Xe.DISPLAY,text:Xe.TEXT,script:Xe.SCRIPT,scriptscript:Xe.SCRIPTSCRIPT};Ge({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:s,parser:i}=t,a=i.parseExpression(!0,r),l=s.slice(1,s.length-5);return{type:"styling",mode:i.mode,style:l,body:a}},htmlBuilder(t,e){var r=I7[t.style],s=e.havingStyle(r).withFont("");return Wk(t.body,s,e)},mathmlBuilder(t,e){var r=I7[t.style],s=e.havingStyle(r),i=$n(t.body,s),a=new Ne.MathNode("mstyle",i),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},c=l[t.style];return a.setAttribute("scriptlevel",c[0]),a.setAttribute("displaystyle",c[1]),a}});var GF=function(e,r){var s=e.base;if(s)if(s.type==="op"){var i=s.limits&&(r.style.size===Xe.DISPLAY.size||s.alwaysHandleSupSub);return i?m0:null}else if(s.type==="operatorname"){var a=s.alwaysHandleSupSub&&(r.style.size===Xe.DISPLAY.size||s.limits);return a?Kk:null}else{if(s.type==="accent")return pt.isCharacterBox(s.base)?Cv:null;if(s.type==="horizBrace"){var l=!e.sub;return l===s.isOver?Fk:null}else return null}else return null};Ol({type:"supsub",htmlBuilder(t,e){var r=GF(t,e);if(r)return r(t,e);var{base:s,sup:i,sub:a}=t,l=dt(s,e),c,h,u=e.fontMetrics(),m=0,f=0,p=s&&pt.isCharacterBox(s);if(i){var g=e.havingStyle(e.style.sup());c=dt(i,g,e),p||(m=l.height-g.fontMetrics().supDrop*g.sizeMultiplier/e.sizeMultiplier)}if(a){var S=e.havingStyle(e.style.sub());h=dt(a,S,e),p||(f=l.depth+S.fontMetrics().subDrop*S.sizeMultiplier/e.sizeMultiplier)}var N;e.style===Xe.DISPLAY?N=u.sup1:e.style.cramped?N=u.sup3:N=u.sup2;var $=e.sizeMultiplier,w=De(.5/u.ptPerEm/$),T=null;if(h){var A=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(l instanceof gs||A)&&(T=De(-l.italic))}var I;if(c&&h){m=Math.max(m,N,c.depth+.25*u.xHeight),f=Math.max(f,u.sub2);var B=u.defaultRuleThickness,Q=4*B;if(m-c.depth-(h.height-f)<Q){f=Q-(m-c.depth)+h.height;var D=.8*u.xHeight-(m-c.depth);D>0&&(m+=D,f-=D)}var E=[{type:"elem",elem:h,shift:f,marginRight:w,marginLeft:T},{type:"elem",elem:c,shift:-m,marginRight:w}];I=me.makeVList({positionType:"individualShift",children:E},e)}else if(h){f=Math.max(f,u.sub1,h.height-.8*u.xHeight);var z=[{type:"elem",elem:h,marginLeft:T,marginRight:w}];I=me.makeVList({positionType:"shift",positionData:f,children:z},e)}else if(c)m=Math.max(m,N,c.depth+.25*u.xHeight),I=me.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:c,marginRight:w}]},e);else throw new Error("supsub must have either sup or sub.");var O=c2(l,"right")||"mord";return me.makeSpan([O],[l,me.makeSpan(["msupsub"],[I])],e)},mathmlBuilder(t,e){var r=!1,s,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(r=!0,s=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[Et(t.base,e)];t.sub&&a.push(Et(t.sub,e)),t.sup&&a.push(Et(t.sup,e));var l;if(r)l=s?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===Xe.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===Xe.DISPLAY||u.limits)?l="munderover":l="msubsup"}else{var h=t.base;h&&h.type==="op"&&h.limits&&(e.style===Xe.DISPLAY||h.alwaysHandleSupSub)||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(h.limits||e.style===Xe.DISPLAY)?l="munder":l="msub"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===Xe.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===Xe.DISPLAY)?l="mover":l="msup"}return new Ne.MathNode(l,a)}});Ol({type:"atom",htmlBuilder(t,e){return me.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var r=new Ne.MathNode("mo",[xs(t.text,t.mode)]);if(t.family==="bin"){var s=Nv(t,e);s==="bold-italic"&&r.setAttribute("mathvariant",s)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var Xk={mi:"italic",mn:"normal",mtext:"normal"};Ol({type:"mathord",htmlBuilder(t,e){return me.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var r=new Ne.MathNode("mi",[xs(t.text,t.mode,e)]),s=Nv(t,e)||"italic";return s!==Xk[r.type]&&r.setAttribute("mathvariant",s),r}});Ol({type:"textord",htmlBuilder(t,e){return me.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var r=xs(t.text,t.mode,e),s=Nv(t,e)||"normal",i;return t.mode==="text"?i=new Ne.MathNode("mtext",[r]):/[0-9]/.test(t.text)?i=new Ne.MathNode("mn",[r]):t.text==="\\prime"?i=new Ne.MathNode("mo",[r]):i=new Ne.MathNode("mi",[r]),s!==Xk[i.type]&&i.setAttribute("mathvariant",s),i}});var Z1={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Q1={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Ol({type:"spacing",htmlBuilder(t,e){if(Q1.hasOwnProperty(t.text)){var r=Q1[t.text].className||"";if(t.mode==="text"){var s=me.makeOrd(t,e,"textord");return s.classes.push(r),s}else return me.makeSpan(["mspace",r],[me.mathsym(t.text,t.mode,e)],e)}else{if(Z1.hasOwnProperty(t.text))return me.makeSpan(["mspace",Z1[t.text]],[],e);throw new $e('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var r;if(Q1.hasOwnProperty(t.text))r=new Ne.MathNode("mtext",[new Ne.TextNode("")]);else{if(Z1.hasOwnProperty(t.text))return new Ne.MathNode("mspace");throw new $e('Unknown type of space "'+t.text+'"')}return r}});var R7=()=>{var t=new Ne.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Ol({type:"tag",mathmlBuilder(t,e){var r=new Ne.MathNode("mtable",[new Ne.MathNode("mtr",[R7(),new Ne.MathNode("mtd",[ko(t.body,e)]),R7(),new Ne.MathNode("mtd",[ko(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});var G7={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},O7={"\\textbf":"textbf","\\textmd":"textmd"},OF={"\\textit":"textit","\\textup":"textup"},P7=(t,e)=>{var r=t.font;if(r){if(G7[r])return e.withTextFontFamily(G7[r]);if(O7[r])return e.withTextFontWeight(O7[r]);if(r==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(OF[r])};Ge({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:s}=t,i=e[0];return{type:"text",mode:r.mode,body:fr(i),font:s}},htmlBuilder(t,e){var r=P7(t,e),s=Dr(t.body,r,!0);return me.makeSpan(["mord","text"],s,r)},mathmlBuilder(t,e){var r=P7(t,e);return ko(t.body,r)}});Ge({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=dt(t.body,e),s=me.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,a=me.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:s},{type:"kern",size:3*i},{type:"elem",elem:r}]},e);return me.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var r=new Ne.MathNode("mo",[new Ne.TextNode("")]);r.setAttribute("stretchy","true");var s=new Ne.MathNode("munder",[Et(t.body,e),r]);return s.setAttribute("accentunder","true"),s}});Ge({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=dt(t.body,e),s=e.fontMetrics().axisHeight,i=.5*(r.height-s-(r.depth+s));return me.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){return new Ne.MathNode("mpadded",[Et(t.body,e)],["vcenter"])}});Ge({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new $e("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=L7(t),s=[],i=e.havingStyle(e.style.text()),a=0;a<r.length;a++){var l=r[a];l==="~"&&(l="\\textasciitilde"),s.push(me.makeSymbol(l,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return me.makeSpan(["mord","text"].concat(i.sizingClasses(e)),me.tryCombineChars(s),i)},mathmlBuilder(t,e){var r=new Ne.TextNode(L7(t)),s=new Ne.MathNode("mtext",[r]);return s.setAttribute("mathvariant","monospace"),s}});var L7=t=>t.body.replace(/ /g,t.star?"":""),Qa=vk,Yk=`[ \r
	]`,PF="\\\\[a-zA-Z@]+",LF="\\\\[^\uD800-\uDFFF]",qF="("+PF+")"+Yk+"*",BF=`\\\\(
|[ \r	]+
?)[ \r	]*`,m2="[-]",HF=new RegExp(m2+"+$"),FF="("+Yk+"+)|"+(BF+"|")+"([!-\\[\\]---]"+(m2+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(m2+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+qF)+("|"+LF+")");let q7=class{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(FF,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new Ps("EOF",new rs(this,r,r));var s=this.tokenRegex.exec(e);if(s===null||s.index!==r)throw new $e("Unexpected character: '"+e[r]+"'",new Ps(e[r],new rs(this,r,r+1)));var i=s[6]||s[3]||(s[2]?"\\ ":" ");if(this.catcodes[i]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new Ps(i,new rs(this,r,this.tokenRegex.lastIndex))}},UF=class{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new $e("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,s){if(s===void 0&&(s=!1),s){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}};var VF=Pk;R("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});R("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});R("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});R("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});R("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});R("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");R("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var B7={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};R("\\char",function(t){var e=t.popToken(),r,s="";if(e.text==="'")r=8,e=t.popToken();else if(e.text==='"')r=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")s=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new $e("\\char` missing argument");s=e.text.charCodeAt(0)}else r=10;if(r){if(s=B7[e.text],s==null||s>=r)throw new $e("Invalid base-"+r+" digit "+e.text);for(var i;(i=B7[t.future().text])!=null&&i<r;)s*=r,s+=i,t.popToken()}return"\\@char{"+s+"}"});var Gv=(t,e,r,s)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new $e("\\newcommand's first argument must be a macro name");var a=i[0].text,l=t.isDefined(a);if(l&&!e)throw new $e("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!l&&!r)throw new $e("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var c=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var h="",u=t.expandNextToken();u.text!=="]"&&u.text!=="EOF";)h+=u.text,u=t.expandNextToken();if(!h.match(/^\s*[0-9]+\s*$/))throw new $e("Invalid number of arguments: "+h);c=parseInt(h),i=t.consumeArg().tokens}return l&&s||t.macros.set(a,{tokens:i,numArgs:c}),""};R("\\newcommand",t=>Gv(t,!1,!0,!1));R("\\renewcommand",t=>Gv(t,!0,!1,!1));R("\\providecommand",t=>Gv(t,!0,!0,!0));R("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""});R("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""});R("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),Qa[r],Dt.math[r],Dt.text[r]),""});R("\\bgroup","{");R("\\egroup","}");R("~","\\nobreakspace");R("\\lq","`");R("\\rq","'");R("\\aa","\\r a");R("\\AA","\\r A");R("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");R("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");R("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");R("","\\mathscr{B}");R("","\\mathscr{E}");R("","\\mathscr{F}");R("","\\mathscr{H}");R("","\\mathscr{I}");R("","\\mathscr{L}");R("","\\mathscr{M}");R("","\\mathscr{R}");R("","\\mathfrak{C}");R("","\\mathfrak{H}");R("","\\mathfrak{Z}");R("\\Bbbk","\\Bbb{k}");R("","\\cdotp");R("\\llap","\\mathllap{\\textrm{#1}}");R("\\rlap","\\mathrlap{\\textrm{#1}}");R("\\clap","\\mathclap{\\textrm{#1}}");R("\\mathstrut","\\vphantom{(}");R("\\underbar","\\underline{\\text{#1}}");R("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');R("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");R("\\ne","\\neq");R("","\\neq");R("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");R("","\\notin");R("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");R("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");R("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");R("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");R("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");R("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");R("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");R("","\\perp");R("","\\mathclose{!\\mkern-0.8mu!}");R("","\\notni");R("","\\ulcorner");R("","\\urcorner");R("","\\llcorner");R("","\\lrcorner");R("","\\copyright");R("","\\textregistered");R("","\\textregistered");R("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');R("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');R("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');R("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');R("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");R("","\\vdots");R("\\varGamma","\\mathit{\\Gamma}");R("\\varDelta","\\mathit{\\Delta}");R("\\varTheta","\\mathit{\\Theta}");R("\\varLambda","\\mathit{\\Lambda}");R("\\varXi","\\mathit{\\Xi}");R("\\varPi","\\mathit{\\Pi}");R("\\varSigma","\\mathit{\\Sigma}");R("\\varUpsilon","\\mathit{\\Upsilon}");R("\\varPhi","\\mathit{\\Phi}");R("\\varPsi","\\mathit{\\Psi}");R("\\varOmega","\\mathit{\\Omega}");R("\\substack","\\begin{subarray}{c}#1\\end{subarray}");R("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");R("\\boxed","\\fbox{$\\displaystyle{#1}$}");R("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");R("\\implies","\\DOTSB\\;\\Longrightarrow\\;");R("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");R("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");R("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var H7={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};R("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in H7?e=H7[r]:(r.slice(0,4)==="\\not"||r in Dt.math&&["bin","rel"].includes(Dt.math[r].group))&&(e="\\dotsb"),e});var Ov={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};R("\\dotso",function(t){var e=t.future().text;return e in Ov?"\\ldots\\,":"\\ldots"});R("\\dotsc",function(t){var e=t.future().text;return e in Ov&&e!==","?"\\ldots\\,":"\\ldots"});R("\\cdots",function(t){var e=t.future().text;return e in Ov?"\\@cdots\\,":"\\@cdots"});R("\\dotsb","\\cdots");R("\\dotsm","\\cdots");R("\\dotsi","\\!\\cdots");R("\\dotsx","\\ldots\\,");R("\\DOTSI","\\relax");R("\\DOTSB","\\relax");R("\\DOTSX","\\relax");R("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");R("\\,","\\tmspace+{3mu}{.1667em}");R("\\thinspace","\\,");R("\\>","\\mskip{4mu}");R("\\:","\\tmspace+{4mu}{.2222em}");R("\\medspace","\\:");R("\\;","\\tmspace+{5mu}{.2777em}");R("\\thickspace","\\;");R("\\!","\\tmspace-{3mu}{.1667em}");R("\\negthinspace","\\!");R("\\negmedspace","\\tmspace-{4mu}{.2222em}");R("\\negthickspace","\\tmspace-{5mu}{.277em}");R("\\enspace","\\kern.5em ");R("\\enskip","\\hskip.5em\\relax");R("\\quad","\\hskip1em\\relax");R("\\qquad","\\hskip2em\\relax");R("\\tag","\\@ifstar\\tag@literal\\tag@paren");R("\\tag@paren","\\tag@literal{({#1})}");R("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new $e("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});R("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");R("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");R("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");R("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");R("\\newline","\\\\\\relax");R("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Zk=De(Xs["Main-Regular"][84][1]-.7*Xs["Main-Regular"][65][1]);R("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Zk+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");R("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Zk+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");R("\\hspace","\\@ifstar\\@hspacer\\@hspace");R("\\@hspace","\\hskip #1\\relax");R("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");R("\\ordinarycolon",":");R("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");R("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');R("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');R("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');R("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');R("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');R("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');R("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');R("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');R("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');R("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');R("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');R("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');R("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');R("","\\dblcolon");R("","\\eqcolon");R("","\\coloneqq");R("","\\eqqcolon");R("","\\Coloneqq");R("\\ratio","\\vcentcolon");R("\\coloncolon","\\dblcolon");R("\\colonequals","\\coloneqq");R("\\coloncolonequals","\\Coloneqq");R("\\equalscolon","\\eqqcolon");R("\\equalscoloncolon","\\Eqqcolon");R("\\colonminus","\\coloneq");R("\\coloncolonminus","\\Coloneq");R("\\minuscolon","\\eqcolon");R("\\minuscoloncolon","\\Eqcolon");R("\\coloncolonapprox","\\Colonapprox");R("\\coloncolonsim","\\Colonsim");R("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");R("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");R("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");R("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");R("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");R("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");R("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");R("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");R("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");R("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");R("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");R("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");R("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");R("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");R("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");R("\\ngeqq","\\html@mathml{\\@ngeqq}{}");R("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");R("\\nleqq","\\html@mathml{\\@nleqq}{}");R("\\nleqslant","\\html@mathml{\\@nleqslant}{}");R("\\nshortmid","\\html@mathml{\\@nshortmid}{}");R("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");R("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");R("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");R("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");R("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");R("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");R("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");R("\\imath","\\html@mathml{\\@imath}{}");R("\\jmath","\\html@mathml{\\@jmath}{}");R("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");R("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");R("","\\llbracket");R("","\\rrbracket");R("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");R("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");R("","\\lBrace");R("","\\rBrace");R("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");R("","\\minuso");R("\\darr","\\downarrow");R("\\dArr","\\Downarrow");R("\\Darr","\\Downarrow");R("\\lang","\\langle");R("\\rang","\\rangle");R("\\uarr","\\uparrow");R("\\uArr","\\Uparrow");R("\\Uarr","\\Uparrow");R("\\N","\\mathbb{N}");R("\\R","\\mathbb{R}");R("\\Z","\\mathbb{Z}");R("\\alef","\\aleph");R("\\alefsym","\\aleph");R("\\Alpha","\\mathrm{A}");R("\\Beta","\\mathrm{B}");R("\\bull","\\bullet");R("\\Chi","\\mathrm{X}");R("\\clubs","\\clubsuit");R("\\cnums","\\mathbb{C}");R("\\Complex","\\mathbb{C}");R("\\Dagger","\\ddagger");R("\\diamonds","\\diamondsuit");R("\\empty","\\emptyset");R("\\Epsilon","\\mathrm{E}");R("\\Eta","\\mathrm{H}");R("\\exist","\\exists");R("\\harr","\\leftrightarrow");R("\\hArr","\\Leftrightarrow");R("\\Harr","\\Leftrightarrow");R("\\hearts","\\heartsuit");R("\\image","\\Im");R("\\infin","\\infty");R("\\Iota","\\mathrm{I}");R("\\isin","\\in");R("\\Kappa","\\mathrm{K}");R("\\larr","\\leftarrow");R("\\lArr","\\Leftarrow");R("\\Larr","\\Leftarrow");R("\\lrarr","\\leftrightarrow");R("\\lrArr","\\Leftrightarrow");R("\\Lrarr","\\Leftrightarrow");R("\\Mu","\\mathrm{M}");R("\\natnums","\\mathbb{N}");R("\\Nu","\\mathrm{N}");R("\\Omicron","\\mathrm{O}");R("\\plusmn","\\pm");R("\\rarr","\\rightarrow");R("\\rArr","\\Rightarrow");R("\\Rarr","\\Rightarrow");R("\\real","\\Re");R("\\reals","\\mathbb{R}");R("\\Reals","\\mathbb{R}");R("\\Rho","\\mathrm{P}");R("\\sdot","\\cdot");R("\\sect","\\S");R("\\spades","\\spadesuit");R("\\sub","\\subset");R("\\sube","\\subseteq");R("\\supe","\\supseteq");R("\\Tau","\\mathrm{T}");R("\\thetasym","\\vartheta");R("\\weierp","\\wp");R("\\Zeta","\\mathrm{Z}");R("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");R("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");R("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");R("\\bra","\\mathinner{\\langle{#1}|}");R("\\ket","\\mathinner{|{#1}\\rangle}");R("\\braket","\\mathinner{\\langle{#1}\\rangle}");R("\\Bra","\\left\\langle#1\\right|");R("\\Ket","\\left|#1\\right\\rangle");var Qk=t=>e=>{var r=e.consumeArg().tokens,s=e.consumeArg().tokens,i=e.consumeArg().tokens,a=e.consumeArg().tokens,l=e.macros.get("|"),c=e.macros.get("\\|");e.macros.beginGroup();var h=f=>p=>{t&&(p.macros.set("|",l),i.length&&p.macros.set("\\|",c));var g=f;if(!f&&i.length){var S=p.future();S.text==="|"&&(p.popToken(),g=!0)}return{tokens:g?i:s,numArgs:0}};e.macros.set("|",h(!1)),i.length&&e.macros.set("\\|",h(!0));var u=e.consumeArg().tokens,m=e.expandTokens([...a,...u,...r]);return e.macros.endGroup(),{tokens:m.reverse(),numArgs:0}};R("\\bra@ket",Qk(!1));R("\\bra@set",Qk(!0));R("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");R("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");R("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");R("\\angln","{\\angl n}");R("\\blue","\\textcolor{##6495ed}{#1}");R("\\orange","\\textcolor{##ffa500}{#1}");R("\\pink","\\textcolor{##ff00af}{#1}");R("\\red","\\textcolor{##df0030}{#1}");R("\\green","\\textcolor{##28ae7b}{#1}");R("\\gray","\\textcolor{gray}{#1}");R("\\purple","\\textcolor{##9d38bd}{#1}");R("\\blueA","\\textcolor{##ccfaff}{#1}");R("\\blueB","\\textcolor{##80f6ff}{#1}");R("\\blueC","\\textcolor{##63d9ea}{#1}");R("\\blueD","\\textcolor{##11accd}{#1}");R("\\blueE","\\textcolor{##0c7f99}{#1}");R("\\tealA","\\textcolor{##94fff5}{#1}");R("\\tealB","\\textcolor{##26edd5}{#1}");R("\\tealC","\\textcolor{##01d1c1}{#1}");R("\\tealD","\\textcolor{##01a995}{#1}");R("\\tealE","\\textcolor{##208170}{#1}");R("\\greenA","\\textcolor{##b6ffb0}{#1}");R("\\greenB","\\textcolor{##8af281}{#1}");R("\\greenC","\\textcolor{##74cf70}{#1}");R("\\greenD","\\textcolor{##1fab54}{#1}");R("\\greenE","\\textcolor{##0d923f}{#1}");R("\\goldA","\\textcolor{##ffd0a9}{#1}");R("\\goldB","\\textcolor{##ffbb71}{#1}");R("\\goldC","\\textcolor{##ff9c39}{#1}");R("\\goldD","\\textcolor{##e07d10}{#1}");R("\\goldE","\\textcolor{##a75a05}{#1}");R("\\redA","\\textcolor{##fca9a9}{#1}");R("\\redB","\\textcolor{##ff8482}{#1}");R("\\redC","\\textcolor{##f9685d}{#1}");R("\\redD","\\textcolor{##e84d39}{#1}");R("\\redE","\\textcolor{##bc2612}{#1}");R("\\maroonA","\\textcolor{##ffbde0}{#1}");R("\\maroonB","\\textcolor{##ff92c6}{#1}");R("\\maroonC","\\textcolor{##ed5fa6}{#1}");R("\\maroonD","\\textcolor{##ca337c}{#1}");R("\\maroonE","\\textcolor{##9e034e}{#1}");R("\\purpleA","\\textcolor{##ddd7ff}{#1}");R("\\purpleB","\\textcolor{##c6b9fc}{#1}");R("\\purpleC","\\textcolor{##aa87ff}{#1}");R("\\purpleD","\\textcolor{##7854ab}{#1}");R("\\purpleE","\\textcolor{##543b78}{#1}");R("\\mintA","\\textcolor{##f5f9e8}{#1}");R("\\mintB","\\textcolor{##edf2df}{#1}");R("\\mintC","\\textcolor{##e0e5cc}{#1}");R("\\grayA","\\textcolor{##f6f7f7}{#1}");R("\\grayB","\\textcolor{##f0f1f2}{#1}");R("\\grayC","\\textcolor{##e3e5e6}{#1}");R("\\grayD","\\textcolor{##d6d8da}{#1}");R("\\grayE","\\textcolor{##babec2}{#1}");R("\\grayF","\\textcolor{##888d93}{#1}");R("\\grayG","\\textcolor{##626569}{#1}");R("\\grayH","\\textcolor{##3b3e40}{#1}");R("\\grayI","\\textcolor{##21242c}{#1}");R("\\kaBlue","\\textcolor{##314453}{#1}");R("\\kaGreen","\\textcolor{##71B307}{#1}");var Jk={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};let KF=class{constructor(e,r,s){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new UF(VF,r.macros),this.mode=s,this.stack=[]}feed(e){this.lexer=new q7(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,s,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:s}=this.consumeArg(["]"])}else({tokens:i,start:r,end:s}=this.consumeArg());return this.pushToken(new Ps("EOF",s.loc)),this.pushTokens(i),new Ps("",rs.range(r,s))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],s=e&&e.length>0;s||this.consumeSpaces();var i=this.future(),a,l=0,c=0;do{if(a=this.popToken(),r.push(a),a.text==="{")++l;else if(a.text==="}"){if(--l,l===-1)throw new $e("Extra }",a)}else if(a.text==="EOF")throw new $e("Unexpected end of input in a macro argument, expected '"+(e&&s?e[c]:"}")+"'",a);if(e&&s)if((l===0||l===1&&e[c]==="{")&&a.text===e[c]){if(++c,c===e.length){r.splice(-c,c);break}}else c=0}while(l!==0||s);return i.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:i,end:a}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new $e("The length of delimiters doesn't match the number of args!");for(var s=r[0],i=0;i<s.length;i++){var a=this.popToken();if(s[i]!==a.text)throw new $e("Use of the macro doesn't match its definition",a)}}for(var l=[],c=0;c<e;c++)l.push(this.consumeArg(r&&r[c+1]).tokens);return l}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new $e("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var r=this.popToken(),s=r.text,i=r.noexpand?null:this._getExpansion(s);if(i==null||e&&i.unexpandable){if(e&&i==null&&s[0]==="\\"&&!this.isDefined(s))throw new $e("Undefined control sequence: "+s);return this.pushToken(r),!1}this.countExpansion(1);var a=i.tokens,l=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){a=a.slice();for(var c=a.length-1;c>=0;--c){var h=a[c];if(h.text==="#"){if(c===0)throw new $e("Incomplete placeholder at end of macro body",h);if(h=a[--c],h.text==="#")a.splice(c+1,1);else if(/^[1-9]$/.test(h.text))a.splice(c,2,...l[+h.text-1]);else throw new $e("Not a valid argument number",h)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Ps(e)]):void 0}expandTokens(e){var r=[],s=this.stack.length;for(this.pushTokens(e);this.stack.length>s;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(i)}return this.countExpansion(r.length),r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(s=>s.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var s=this.lexer.catcodes[e];if(s!=null&&s!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var a=0;if(i.indexOf("#")!==-1)for(var l=i.replace(/##/g,"");l.indexOf("#"+(a+1))!==-1;)++a;for(var c=new q7(i,this.settings),h=[],u=c.lex();u.text!=="EOF";)h.push(u),u=c.lex();h.reverse();var m={tokens:h,numArgs:a};return m}return i}isDefined(e){return this.macros.has(e)||Qa.hasOwnProperty(e)||Dt.math.hasOwnProperty(e)||Dt.text.hasOwnProperty(e)||Jk.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Qa.hasOwnProperty(e)&&!Qa[e].primitive}};var F7=/^[]/,_d=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),J1={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},U7={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};let eA=class tA{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new KF(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new $e("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new Ps("}")),this.gullet.pushTokens(e);var s=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,s}parseExpression(e,r){for(var s=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(tA.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||e&&Qa[i.text]&&Qa[i.text].infix)break;var a=this.parseAtom(r);if(a){if(a.type==="internal")continue}else break;s.push(a)}return this.mode==="text"&&this.formLigatures(s),this.handleInfixNodes(s)}handleInfixNodes(e){for(var r=-1,s,i=0;i<e.length;i++)if(e[i].type==="infix"){if(r!==-1)throw new $e("only one infix operator per group",e[i].token);r=i,s=e[i].replaceWith}if(r!==-1&&s){var a,l,c=e.slice(0,r),h=e.slice(r+1);c.length===1&&c[0].type==="ordgroup"?a=c[0]:a={type:"ordgroup",mode:this.mode,body:c},h.length===1&&h[0].type==="ordgroup"?l=h[0]:l={type:"ordgroup",mode:this.mode,body:h};var u;return s==="\\\\abovefrac"?u=this.callFunction(s,[a,e[r],l],[]):u=this.callFunction(s,[a,l],[]),[u]}else return e}handleSupSubscript(e){var r=this.fetch(),s=r.text;this.consume(),this.consumeSpaces();var i;do{var a;i=this.parseGroup(e)}while(((a=i)==null?void 0:a.type)==="internal");if(!i)throw new $e("Expected group after '"+s+"'",r);return i}formatUnsupportedCmd(e){for(var r=[],s=0;s<e.length;s++)r.push({type:"textord",mode:"text",text:e[s]});var i={type:"text",mode:this.mode,body:r},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return a}parseAtom(e){var r=this.parseGroup("atom",e);if((r==null?void 0:r.type)==="internal"||this.mode==="text")return r;for(var s,i;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(r&&r.type==="op"){var l=a.text==="\\limits";r.limits=l,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=a.text==="\\limits");else throw new $e("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(s)throw new $e("Double superscript",a);s=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(i)throw new $e("Double subscript",a);i=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(s)throw new $e("Double superscript",a);var c={type:"textord",mode:this.mode,text:"\\prime"},h=[c];for(this.consume();this.fetch().text==="'";)h.push(c),this.consume();this.fetch().text==="^"&&h.push(this.handleSupSubscript("superscript")),s={type:"ordgroup",mode:this.mode,body:h}}else if(_d[a.text]){var u=F7.test(a.text),m=[];for(m.push(new Ps(_d[a.text])),this.consume();;){var f=this.fetch().text;if(!_d[f]||F7.test(f)!==u)break;m.unshift(new Ps(_d[f])),this.consume()}var p=this.subparse(m);u?i={type:"ordgroup",mode:"math",body:p}:s={type:"ordgroup",mode:"math",body:p}}else break}return s||i?{type:"supsub",mode:this.mode,base:r,sup:s,sub:i}:r}parseFunction(e,r){var s=this.fetch(),i=s.text,a=Qa[i];if(!a)return null;if(this.consume(),r&&r!=="atom"&&!a.allowedInArgument)throw new $e("Got function '"+i+"' with no arguments"+(r?" as "+r:""),s);if(this.mode==="text"&&!a.allowedInText)throw new $e("Can't use function '"+i+"' in text mode",s);if(this.mode==="math"&&a.allowedInMath===!1)throw new $e("Can't use function '"+i+"' in math mode",s);var{args:l,optArgs:c}=this.parseArguments(i,a);return this.callFunction(i,l,c,s,e)}callFunction(e,r,s,i,a){var l={funcName:e,parser:this,token:i,breakOnTokenText:a},c=Qa[e];if(c&&c.handler)return c.handler(l,r,s);throw new $e("No function handler for "+e)}parseArguments(e,r){var s=r.numArgs+r.numOptionalArgs;if(s===0)return{args:[],optArgs:[]};for(var i=[],a=[],l=0;l<s;l++){var c=r.argTypes&&r.argTypes[l],h=l<r.numOptionalArgs;(r.primitive&&c==null||r.type==="sqrt"&&l===1&&a[0]==null)&&(c="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",c,h);if(h)a.push(u);else if(u!=null)i.push(u);else throw new $e("Null argument, please report this as a bug")}return{args:i,optArgs:a}}parseGroupOfType(e,r,s){switch(r){case"color":return this.parseColorGroup(s);case"size":return this.parseSizeGroup(s);case"url":return this.parseUrlGroup(s);case"math":case"text":return this.parseArgumentGroup(s,r);case"hbox":{var i=this.parseArgumentGroup(s,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",s);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(s)throw new $e("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new $e("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(s);default:throw new $e("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var s=this.gullet.scanArgument(r);if(s==null)return null;for(var i="",a;(a=this.fetch()).text!=="EOF";)i+=a.text,this.consume();return this.consume(),s.text=i,s}parseRegexGroup(e,r){for(var s=this.fetch(),i=s,a="",l;(l=this.fetch()).text!=="EOF"&&e.test(a+l.text);)i=l,a+=i.text,this.consume();if(a==="")throw new $e("Invalid "+r+": '"+s.text+"'",s);return s.range(i,a)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var s=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!s)throw new $e("Invalid color: '"+r.text+"'",r);var i=s[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var r,s=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",s=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new $e("Invalid size: '"+r.text+"'",r);var a={number:+(i[1]+i[2]),unit:i[3]};if(!ck(a))throw new $e("Invalid unit: '"+a.unit+"'",r);return{type:"size",mode:this.mode,value:a,isBlank:s}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var s=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:s}}parseArgumentGroup(e,r){var s=this.gullet.scanArgument(e);if(s==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:s.loc,body:a};return r&&this.switchMode(i),l}parseGroup(e,r){var s=this.fetch(),i=s.text,a;if(i==="{"||i==="\\begingroup"){this.consume();var l=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var c=this.parseExpression(!1,l),h=this.fetch();this.expect(l),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:rs.range(s,h),body:c,semisimple:i==="\\begingroup"||void 0}}else if(a=this.parseFunction(r,e)||this.parseSymbol(),a==null&&i[0]==="\\"&&!Jk.hasOwnProperty(i)){if(this.settings.throwOnError)throw new $e("Undefined control sequence: "+i,s);a=this.formatUnsupportedCmd(i),this.consume()}return a}formLigatures(e){for(var r=e.length-1,s=0;s<r;++s){var i=e[s],a=i.text;a==="-"&&e[s+1].text==="-"&&(s+1<r&&e[s+2].text==="-"?(e.splice(s,3,{type:"textord",mode:"text",loc:rs.range(i,e[s+2]),text:"---"}),r-=2):(e.splice(s,2,{type:"textord",mode:"text",loc:rs.range(i,e[s+1]),text:"--"}),r-=1)),(a==="'"||a==="`")&&e[s+1].text===a&&(e.splice(s,2,{type:"textord",mode:"text",loc:rs.range(i,e[s+1]),text:a+a}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var s=r.slice(5),i=s.charAt(0)==="*";if(i&&(s=s.slice(1)),s.length<2||s.charAt(0)!==s.slice(-1))throw new $e(`\\verb assertion failed --
                    please report what input caused this bug`);return s=s.slice(1,-1),{type:"verb",mode:"text",body:s,star:i}}U7.hasOwnProperty(r[0])&&!Dt[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=U7[r[0]]+r.slice(1));var a=HF.exec(r);a&&(r=r.substring(0,a.index),r==="i"?r="":r==="j"&&(r=""));var l;if(Dt[this.mode][r]){this.settings.strict&&this.mode==="math"&&l2.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var c=Dt[this.mode][r].group,h=rs.range(e),u;if(IH.hasOwnProperty(c)){var m=c;u={type:"atom",mode:this.mode,family:m,loc:h,text:r}}else u={type:c,mode:this.mode,loc:h,text:r};l=u}else if(r.charCodeAt(0)>=128)this.settings.strict&&(ok(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:rs.range(e),text:r};else return null;if(this.consume(),a)for(var f=0;f<a[0].length;f++){var p=a[0][f];if(!J1[p])throw new $e("Unknown accent ' "+p+"'",e);var g=J1[p][this.mode]||J1[p].text;if(!g)throw new $e("Accent "+p+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:rs.range(e),label:g,isStretchy:!1,isShifty:!0,base:l}}return l}};eA.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Pv=function(e,r){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var s=new eA(e,r);delete s.gullet.macros.current["\\df@tag"];var i=s.parse();if(delete s.gullet.macros.current["\\current@color"],delete s.gullet.macros.current["\\color"],s.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new $e("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:s.subparse([new Ps("\\df@tag")])}]}return i},rA=function(e,r,s){r.textContent="";var i=Lv(e,s).toNode();r.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),rA=function(){throw new $e("KaTeX doesn't work in quirks mode.")});var WF=function(e,r){var s=Lv(e,r).toMarkup();return s},XF=function(e,r){var s=new jv(r);return Pv(e,s)},nA=function(e,r,s){if(s.throwOnError||!(e instanceof $e))throw e;var i=me.makeSpan(["katex-error"],[new gs(r)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+s.errorColor),i},Lv=function(e,r){var s=new jv(r);try{var i=Pv(e,s);return sF(i,e,s)}catch(a){return nA(a,e,s)}},YF=function(e,r){var s=new jv(r);try{var i=Pv(e,s);return iF(i,e,s)}catch(a){return nA(a,e,s)}},ZF="0.16.27",QF={Span:_u,Anchor:Tv,SymbolNode:gs,SvgNode:ia,PathNode:To,LineNode:o2},V7={version:ZF,render:rA,renderToString:WF,ParseError:$e,SETTINGS_SCHEMA:mm,__parse:XF,__renderToDomTree:Lv,__renderToHTMLTree:YF,__setFontMetrics:NH,__defineSymbol:x,__defineFunction:Ge,__defineMacro:R,__domTree:QF};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:sA,setPrototypeOf:K7,isFrozen:JF,getPrototypeOf:eU,getOwnPropertyDescriptor:tU}=Object;let{freeze:fn,seal:vs,create:f2}=Object,{apply:p2,construct:g2}=typeof Reflect<"u"&&Reflect;fn||(fn=function(e){return e});vs||(vs=function(e){return e});p2||(p2=function(e,r){for(var s=arguments.length,i=new Array(s>2?s-2:0),a=2;a<s;a++)i[a-2]=arguments[a];return e.apply(r,i)});g2||(g2=function(e){for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return new e(...s)});const $d=pn(Array.prototype.forEach),rU=pn(Array.prototype.lastIndexOf),W7=pn(Array.prototype.pop),K0=pn(Array.prototype.push),nU=pn(Array.prototype.splice),pm=pn(String.prototype.toLowerCase),eg=pn(String.prototype.toString),tg=pn(String.prototype.match),W0=pn(String.prototype.replace),sU=pn(String.prototype.indexOf),iU=pn(String.prototype.trim),Cs=pn(Object.prototype.hasOwnProperty),nn=pn(RegExp.prototype.test),X0=aU(TypeError);function pn(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,s=new Array(r>1?r-1:0),i=1;i<r;i++)s[i-1]=arguments[i];return p2(t,e,s)}}function aU(t){return function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return g2(t,r)}}function at(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:pm;K7&&K7(t,null);let s=e.length;for(;s--;){let i=e[s];if(typeof i=="string"){const a=r(i);a!==i&&(JF(e)||(e[s]=a),i=a)}t[i]=!0}return t}function oU(t){for(let e=0;e<t.length;e++)Cs(t,e)||(t[e]=null);return t}function Hs(t){const e=f2(null);for(const[r,s]of sA(t))Cs(t,r)&&(Array.isArray(s)?e[r]=oU(s):s&&typeof s=="object"&&s.constructor===Object?e[r]=Hs(s):e[r]=s);return e}function Y0(t,e){for(;t!==null;){const s=tU(t,e);if(s){if(s.get)return pn(s.get);if(typeof s.value=="function")return pn(s.value)}t=eU(t)}function r(){return null}return r}const X7=fn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),rg=fn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ng=fn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),lU=fn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),sg=fn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),cU=fn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Y7=fn(["#text"]),Z7=fn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ig=fn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Q7=fn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),zd=fn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),hU=vs(/\{\{[\w\W]*|[\w\W]*\}\}/gm),uU=vs(/<%[\w\W]*|[\w\W]*%>/gm),dU=vs(/\$\{[\w\W]*/gm),mU=vs(/^data-[\-\w.\u00B7-\uFFFF]+$/),fU=vs(/^aria-[\-\w]+$/),iA=vs(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),pU=vs(/^(?:\w+script|data):/i),gU=vs(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),aA=vs(/^html$/i),xU=vs(/^[a-z][.\w]*(-[.\w]+)+$/i);var J7=Object.freeze({__proto__:null,ARIA_ATTR:fU,ATTR_WHITESPACE:gU,CUSTOM_ELEMENT:xU,DATA_ATTR:mU,DOCTYPE_NAME:aA,ERB_EXPR:uU,IS_ALLOWED_URI:iA,IS_SCRIPT_OR_DATA:pU,MUSTACHE_EXPR:hU,TMPLIT_EXPR:dU});const Z0={element:1,text:3,progressingInstruction:7,comment:8,document:9},vU=function(){return typeof window>"u"?null:window},yU=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let s=null;const i="data-tt-policy-suffix";r&&r.hasAttribute(i)&&(s=r.getAttribute(i));const a="dompurify"+(s?"#"+s:"");try{return e.createPolicy(a,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},eb=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function oA(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vU();const e=He=>oA(He);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==Z0.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const s=r,i=s.currentScript,{DocumentFragment:a,HTMLTemplateElement:l,Node:c,Element:h,NodeFilter:u,NamedNodeMap:m=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:p,trustedTypes:g}=t,S=h.prototype,N=Y0(S,"cloneNode"),$=Y0(S,"remove"),w=Y0(S,"nextSibling"),T=Y0(S,"childNodes"),A=Y0(S,"parentNode");if(typeof l=="function"){const He=r.createElement("template");He.content&&He.content.ownerDocument&&(r=He.content.ownerDocument)}let I,B="";const{implementation:Q,createNodeIterator:D,createDocumentFragment:E,getElementsByTagName:z}=r,{importNode:O}=s;let L=eb();e.isSupported=typeof sA=="function"&&typeof A=="function"&&Q&&Q.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:H,ERB_EXPR:q,TMPLIT_EXPR:ye,DATA_ATTR:de,ARIA_ATTR:oe,IS_SCRIPT_OR_DATA:re,ATTR_WHITESPACE:F,CUSTOM_ELEMENT:le}=J7;let{IS_ALLOWED_URI:W}=J7,te=null;const U=at({},[...X7,...rg,...ng,...sg,...Y7]);let Z=null;const ge=at({},[...Z7,...ig,...Q7,...zd]);let ee=Object.seal(f2(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ae=null,Ae=null;const pe=Object.seal(f2(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let he=!0,ve=!0,_e=!1,Se=!0,qe=!1,Ue=!0,yt=!1,Vt=!1,Hr=!1,nr=!1,Kt=!1,ws=!1,xa=!0,Po=!1;const va="user-content-";let Lo=!0,ya=!1,Wt={},Mt=null;const ba=at({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let j0=null;const w0=at({},["audio","video","img","source","image","track"]);let S0=null;const ja=at({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qo="http://www.w3.org/1998/Math/MathML",Bo="http://www.w3.org/2000/svg",Dn="http://www.w3.org/1999/xhtml";let wa=Dn,T0=!1,Ho=null;const Lu=at({},[qo,Bo,Dn],eg);let Hl=at({},["mi","mo","mn","ms","mtext"]),Bs=at({},["annotation-xml"]);const k0=at({},["title","style","font","a","script"]);let bi=null;const Sa=["application/xhtml+xml","text/html"],qu="text/html";let Xt=null,ji=null;const Fo=r.createElement("form"),A0=function(ne){return ne instanceof RegExp||ne instanceof Function},kr=function(){let ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ji&&ji===ne)){if((!ne||typeof ne!="object")&&(ne={}),ne=Hs(ne),bi=Sa.indexOf(ne.PARSER_MEDIA_TYPE)===-1?qu:ne.PARSER_MEDIA_TYPE,Xt=bi==="application/xhtml+xml"?eg:pm,te=Cs(ne,"ALLOWED_TAGS")?at({},ne.ALLOWED_TAGS,Xt):U,Z=Cs(ne,"ALLOWED_ATTR")?at({},ne.ALLOWED_ATTR,Xt):ge,Ho=Cs(ne,"ALLOWED_NAMESPACES")?at({},ne.ALLOWED_NAMESPACES,eg):Lu,S0=Cs(ne,"ADD_URI_SAFE_ATTR")?at(Hs(ja),ne.ADD_URI_SAFE_ATTR,Xt):ja,j0=Cs(ne,"ADD_DATA_URI_TAGS")?at(Hs(w0),ne.ADD_DATA_URI_TAGS,Xt):w0,Mt=Cs(ne,"FORBID_CONTENTS")?at({},ne.FORBID_CONTENTS,Xt):ba,ae=Cs(ne,"FORBID_TAGS")?at({},ne.FORBID_TAGS,Xt):Hs({}),Ae=Cs(ne,"FORBID_ATTR")?at({},ne.FORBID_ATTR,Xt):Hs({}),Wt=Cs(ne,"USE_PROFILES")?ne.USE_PROFILES:!1,he=ne.ALLOW_ARIA_ATTR!==!1,ve=ne.ALLOW_DATA_ATTR!==!1,_e=ne.ALLOW_UNKNOWN_PROTOCOLS||!1,Se=ne.ALLOW_SELF_CLOSE_IN_ATTR!==!1,qe=ne.SAFE_FOR_TEMPLATES||!1,Ue=ne.SAFE_FOR_XML!==!1,yt=ne.WHOLE_DOCUMENT||!1,nr=ne.RETURN_DOM||!1,Kt=ne.RETURN_DOM_FRAGMENT||!1,ws=ne.RETURN_TRUSTED_TYPE||!1,Hr=ne.FORCE_BODY||!1,xa=ne.SANITIZE_DOM!==!1,Po=ne.SANITIZE_NAMED_PROPS||!1,Lo=ne.KEEP_CONTENT!==!1,ya=ne.IN_PLACE||!1,W=ne.ALLOWED_URI_REGEXP||iA,wa=ne.NAMESPACE||Dn,Hl=ne.MATHML_TEXT_INTEGRATION_POINTS||Hl,Bs=ne.HTML_INTEGRATION_POINTS||Bs,ee=ne.CUSTOM_ELEMENT_HANDLING||{},ne.CUSTOM_ELEMENT_HANDLING&&A0(ne.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ee.tagNameCheck=ne.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ne.CUSTOM_ELEMENT_HANDLING&&A0(ne.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ee.attributeNameCheck=ne.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ne.CUSTOM_ELEMENT_HANDLING&&typeof ne.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ee.allowCustomizedBuiltInElements=ne.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),qe&&(ve=!1),Kt&&(nr=!0),Wt&&(te=at({},Y7),Z=[],Wt.html===!0&&(at(te,X7),at(Z,Z7)),Wt.svg===!0&&(at(te,rg),at(Z,ig),at(Z,zd)),Wt.svgFilters===!0&&(at(te,ng),at(Z,ig),at(Z,zd)),Wt.mathMl===!0&&(at(te,sg),at(Z,Q7),at(Z,zd))),ne.ADD_TAGS&&(typeof ne.ADD_TAGS=="function"?pe.tagCheck=ne.ADD_TAGS:(te===U&&(te=Hs(te)),at(te,ne.ADD_TAGS,Xt))),ne.ADD_ATTR&&(typeof ne.ADD_ATTR=="function"?pe.attributeCheck=ne.ADD_ATTR:(Z===ge&&(Z=Hs(Z)),at(Z,ne.ADD_ATTR,Xt))),ne.ADD_URI_SAFE_ATTR&&at(S0,ne.ADD_URI_SAFE_ATTR,Xt),ne.FORBID_CONTENTS&&(Mt===ba&&(Mt=Hs(Mt)),at(Mt,ne.FORBID_CONTENTS,Xt)),ne.ADD_FORBID_CONTENTS&&(Mt===ba&&(Mt=Hs(Mt)),at(Mt,ne.ADD_FORBID_CONTENTS,Xt)),Lo&&(te["#text"]=!0),yt&&at(te,["html","head","body"]),te.table&&(at(te,["tbody"]),delete ae.tbody),ne.TRUSTED_TYPES_POLICY){if(typeof ne.TRUSTED_TYPES_POLICY.createHTML!="function")throw X0('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ne.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw X0('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');I=ne.TRUSTED_TYPES_POLICY,B=I.createHTML("")}else I===void 0&&(I=yU(g,i)),I!==null&&typeof B=="string"&&(B=I.createHTML(""));fn&&fn(ne),ji=ne}},N0=at({},[...rg,...ng,...lU]),Ta=at({},[...sg,...cU]),Uo=function(ne){let Ce=A(ne);(!Ce||!Ce.tagName)&&(Ce={namespaceURI:wa,tagName:"template"});const Be=pm(ne.tagName),_t=pm(Ce.tagName);return Ho[ne.namespaceURI]?ne.namespaceURI===Bo?Ce.namespaceURI===Dn?Be==="svg":Ce.namespaceURI===qo?Be==="svg"&&(_t==="annotation-xml"||Hl[_t]):!!N0[Be]:ne.namespaceURI===qo?Ce.namespaceURI===Dn?Be==="math":Ce.namespaceURI===Bo?Be==="math"&&Bs[_t]:!!Ta[Be]:ne.namespaceURI===Dn?Ce.namespaceURI===Bo&&!Bs[_t]||Ce.namespaceURI===qo&&!Hl[_t]?!1:!Ta[Be]&&(k0[Be]||!N0[Be]):!!(bi==="application/xhtml+xml"&&Ho[ne.namespaceURI]):!1},Qn=function(ne){K0(e.removed,{element:ne});try{A(ne).removeChild(ne)}catch{$(ne)}},wi=function(ne,Ce){try{K0(e.removed,{attribute:Ce.getAttributeNode(ne),from:Ce})}catch{K0(e.removed,{attribute:null,from:Ce})}if(Ce.removeAttribute(ne),ne==="is")if(nr||Kt)try{Qn(Ce)}catch{}else try{Ce.setAttribute(ne,"")}catch{}},Si=function(ne){let Ce=null,Be=null;if(Hr)ne="<remove></remove>"+ne;else{const Yt=tg(ne,/^[\r\n\t ]+/);Be=Yt&&Yt[0]}bi==="application/xhtml+xml"&&wa===Dn&&(ne='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ne+"</body></html>");const _t=I?I.createHTML(ne):ne;if(wa===Dn)try{Ce=new p().parseFromString(_t,bi)}catch{}if(!Ce||!Ce.documentElement){Ce=Q.createDocument(wa,"template",null);try{Ce.documentElement.innerHTML=T0?B:_t}catch{}}const ur=Ce.body||Ce.documentElement;return ne&&Be&&ur.insertBefore(r.createTextNode(Be),ur.childNodes[0]||null),wa===Dn?z.call(Ce,yt?"html":"body")[0]:yt?Ce.documentElement:ur},Bu=function(ne){return D.call(ne.ownerDocument||ne,ne,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},E0=function(ne){return ne instanceof f&&(typeof ne.nodeName!="string"||typeof ne.textContent!="string"||typeof ne.removeChild!="function"||!(ne.attributes instanceof m)||typeof ne.removeAttribute!="function"||typeof ne.setAttribute!="function"||typeof ne.namespaceURI!="string"||typeof ne.insertBefore!="function"||typeof ne.hasChildNodes!="function")},Fl=function(ne){return typeof c=="function"&&ne instanceof c};function Ss(He,ne,Ce){$d(He,Be=>{Be.call(e,ne,Ce,ji)})}const Ul=function(ne){let Ce=null;if(Ss(L.beforeSanitizeElements,ne,null),E0(ne))return Qn(ne),!0;const Be=Xt(ne.nodeName);if(Ss(L.uponSanitizeElement,ne,{tagName:Be,allowedTags:te}),Ue&&ne.hasChildNodes()&&!Fl(ne.firstElementChild)&&nn(/<[/\w!]/g,ne.innerHTML)&&nn(/<[/\w!]/g,ne.textContent)||ne.nodeType===Z0.progressingInstruction||Ue&&ne.nodeType===Z0.comment&&nn(/<[/\w]/g,ne.data))return Qn(ne),!0;if(!(pe.tagCheck instanceof Function&&pe.tagCheck(Be))&&(!te[Be]||ae[Be])){if(!ae[Be]&&Ts(Be)&&(ee.tagNameCheck instanceof RegExp&&nn(ee.tagNameCheck,Be)||ee.tagNameCheck instanceof Function&&ee.tagNameCheck(Be)))return!1;if(Lo&&!Mt[Be]){const _t=A(ne)||ne.parentNode,ur=T(ne)||ne.childNodes;if(ur&&_t){const Yt=ur.length;for(let Gr=Yt-1;Gr>=0;--Gr){const tn=N(ur[Gr],!0);tn.__removalCount=(ne.__removalCount||0)+1,_t.insertBefore(tn,w(ne))}}}return Qn(ne),!0}return ne instanceof h&&!Uo(ne)||(Be==="noscript"||Be==="noembed"||Be==="noframes")&&nn(/<\/no(script|embed|frames)/i,ne.innerHTML)?(Qn(ne),!0):(qe&&ne.nodeType===Z0.text&&(Ce=ne.textContent,$d([H,q,ye],_t=>{Ce=W0(Ce,_t," ")}),ne.textContent!==Ce&&(K0(e.removed,{element:ne.cloneNode()}),ne.textContent=Ce)),Ss(L.afterSanitizeElements,ne,null),!1)},Vo=function(ne,Ce,Be){if(xa&&(Ce==="id"||Ce==="name")&&(Be in r||Be in Fo))return!1;if(!(ve&&!Ae[Ce]&&nn(de,Ce))){if(!(he&&nn(oe,Ce))){if(!(pe.attributeCheck instanceof Function&&pe.attributeCheck(Ce,ne))){if(!Z[Ce]||Ae[Ce]){if(!(Ts(ne)&&(ee.tagNameCheck instanceof RegExp&&nn(ee.tagNameCheck,ne)||ee.tagNameCheck instanceof Function&&ee.tagNameCheck(ne))&&(ee.attributeNameCheck instanceof RegExp&&nn(ee.attributeNameCheck,Ce)||ee.attributeNameCheck instanceof Function&&ee.attributeNameCheck(Ce,ne))||Ce==="is"&&ee.allowCustomizedBuiltInElements&&(ee.tagNameCheck instanceof RegExp&&nn(ee.tagNameCheck,Be)||ee.tagNameCheck instanceof Function&&ee.tagNameCheck(Be))))return!1}else if(!S0[Ce]){if(!nn(W,W0(Be,F,""))){if(!((Ce==="src"||Ce==="xlink:href"||Ce==="href")&&ne!=="script"&&sU(Be,"data:")===0&&j0[ne])){if(!(_e&&!nn(re,W0(Be,F,"")))){if(Be)return!1}}}}}}}return!0},Ts=function(ne){return ne!=="annotation-xml"&&tg(ne,le)},C0=function(ne){Ss(L.beforeSanitizeAttributes,ne,null);const{attributes:Ce}=ne;if(!Ce||E0(ne))return;const Be={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Z,forceKeepAttr:void 0};let _t=Ce.length;for(;_t--;){const ur=Ce[_t],{name:Yt,namespaceURI:Gr,value:tn}=ur,yn=Xt(Yt),Ko=tn;let Ar=Yt==="value"?Ko:iU(Ko);if(Be.attrName=yn,Be.attrValue=Ar,Be.keepAttr=!0,Be.forceKeepAttr=void 0,Ss(L.uponSanitizeAttribute,ne,Be),Ar=Be.attrValue,Po&&(yn==="id"||yn==="name")&&(wi(Yt,ne),Ar=va+Ar),Ue&&nn(/((--!?|])>)|<\/(style|title|textarea)/i,Ar)){wi(Yt,ne);continue}if(yn==="attributename"&&tg(Ar,"href")){wi(Yt,ne);continue}if(Be.forceKeepAttr)continue;if(!Be.keepAttr){wi(Yt,ne);continue}if(!Se&&nn(/\/>/i,Ar)){wi(Yt,ne);continue}qe&&$d([H,q,ye],_0=>{Ar=W0(Ar,_0," ")});const M0=Xt(ne.nodeName);if(!Vo(M0,yn,Ar)){wi(Yt,ne);continue}if(I&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!Gr)switch(g.getAttributeType(M0,yn)){case"TrustedHTML":{Ar=I.createHTML(Ar);break}case"TrustedScriptURL":{Ar=I.createScriptURL(Ar);break}}if(Ar!==Ko)try{Gr?ne.setAttributeNS(Gr,Yt,Ar):ne.setAttribute(Yt,Ar),E0(ne)?Qn(ne):W7(e.removed)}catch{wi(Yt,ne)}}Ss(L.afterSanitizeAttributes,ne,null)},Hu=function He(ne){let Ce=null;const Be=Bu(ne);for(Ss(L.beforeSanitizeShadowDOM,ne,null);Ce=Be.nextNode();)Ss(L.uponSanitizeShadowNode,Ce,null),Ul(Ce),C0(Ce),Ce.content instanceof a&&He(Ce.content);Ss(L.afterSanitizeShadowDOM,ne,null)};return e.sanitize=function(He){let ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ce=null,Be=null,_t=null,ur=null;if(T0=!He,T0&&(He="<!-->"),typeof He!="string"&&!Fl(He))if(typeof He.toString=="function"){if(He=He.toString(),typeof He!="string")throw X0("dirty is not a string, aborting")}else throw X0("toString is not a function");if(!e.isSupported)return He;if(Vt||kr(ne),e.removed=[],typeof He=="string"&&(ya=!1),ya){if(He.nodeName){const tn=Xt(He.nodeName);if(!te[tn]||ae[tn])throw X0("root node is forbidden and cannot be sanitized in-place")}}else if(He instanceof c)Ce=Si("<!---->"),Be=Ce.ownerDocument.importNode(He,!0),Be.nodeType===Z0.element&&Be.nodeName==="BODY"||Be.nodeName==="HTML"?Ce=Be:Ce.appendChild(Be);else{if(!nr&&!qe&&!yt&&He.indexOf("<")===-1)return I&&ws?I.createHTML(He):He;if(Ce=Si(He),!Ce)return nr?null:ws?B:""}Ce&&Hr&&Qn(Ce.firstChild);const Yt=Bu(ya?He:Ce);for(;_t=Yt.nextNode();)Ul(_t),C0(_t),_t.content instanceof a&&Hu(_t.content);if(ya)return He;if(nr){if(Kt)for(ur=E.call(Ce.ownerDocument);Ce.firstChild;)ur.appendChild(Ce.firstChild);else ur=Ce;return(Z.shadowroot||Z.shadowrootmode)&&(ur=O.call(s,ur,!0)),ur}let Gr=yt?Ce.outerHTML:Ce.innerHTML;return yt&&te["!doctype"]&&Ce.ownerDocument&&Ce.ownerDocument.doctype&&Ce.ownerDocument.doctype.name&&nn(aA,Ce.ownerDocument.doctype.name)&&(Gr="<!DOCTYPE "+Ce.ownerDocument.doctype.name+`>
`+Gr),qe&&$d([H,q,ye],tn=>{Gr=W0(Gr,tn," ")}),I&&ws?I.createHTML(Gr):Gr},e.setConfig=function(){let He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};kr(He),Vt=!0},e.clearConfig=function(){ji=null,Vt=!1},e.isValidAttribute=function(He,ne,Ce){ji||kr({});const Be=Xt(He),_t=Xt(ne);return Vo(Be,_t,Ce)},e.addHook=function(He,ne){typeof ne=="function"&&K0(L[He],ne)},e.removeHook=function(He,ne){if(ne!==void 0){const Ce=rU(L[He],ne);return Ce===-1?void 0:nU(L[He],Ce,1)[0]}return W7(L[He])},e.removeHooks=function(He){L[He]=[]},e.removeAllHooks=function(){L=eb()},e}var bU=oA();function ag(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function jU(t){if(!t)return[];const e=[];let r=0;const s=[],i=/\$\$([^$]*?)\$\$/g;let a;for(;(a=i.exec(t))!==null;)s.push({type:"display",latex:a[1],start:a.index,end:a.index+a[0].length});const l=/\$([^$]+?)\$/g;let c;for(;(c=l.exec(t))!==null;)s.some(u=>c.index>=u.start&&c.index<u.end)||s.push({type:"inline",latex:c[1],start:c.index,end:c.index+c[0].length});return s.sort((h,u)=>h.start-u.start),s.forEach(h=>{const u=t.slice(r,h.start);u&&e.push({type:"text",content:u}),e.push({type:h.type==="display"?"display-math":"inline-math",content:h.latex}),r=h.end}),r<t.length&&e.push({type:"text",content:t.slice(r)}),e}function wU(t){if(!t)return"";const r=jU(t).map(s=>{if(s.type==="text")return ag(s.content);if(s.type==="inline-math")try{return V7.renderToString(s.content,{throwOnError:!1,displayMode:!1})}catch{return ag(s.content)}else if(s.type==="display-math")try{return V7.renderToString(s.content,{throwOnError:!1,displayMode:!0})}catch{return ag(s.content)}return""}).join("");return bU.sanitize(r,{ADD_TAGS:["semantics","mrow","mi","mo","mn","msup","msub","mfrac","mroot","msqrt","mtext","annotation"],ADD_ATTR:["encoding","mathvariant","stretchy","fence","separator","lspace","rspace"]})}function og(t){return typeof t=="string"?wU(t):t.map(e=>(e.type==="text",e.content)).join("")}const Rs=hi("Storage"),x2="magic-internet-math-progress",lg=2;function lA(){try{const t="__storage_test__";return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}function cA(t){if(t===null||typeof t!="object")return!1;const e=t;if(typeof e.version!="number"||typeof e.user!="object"||e.user===null||typeof e.sections!="object"||e.sections===null||typeof e.streak!="object"||e.streak===null)return!1;const r=e.user;if(typeof r.totalXP!="number"||typeof r.level!="number"||!Array.isArray(r.sectionsCompleted)||!Array.isArray(r.partsCompleted))return!1;const s=e.streak;return!(typeof s.currentStreak!="number"||typeof s.longestStreak!="number")}function yp(){if(!lA())return Rs.warn("localStorage is not available"),null;try{const t=localStorage.getItem(x2);if(!t)return null;const e=JSON.parse(t);return cA(e)?(e.version!==lg&&(Rs.info(`Migrating state from v${e.version} to v${lg}`),e.version=lg),e):(Rs.warn("Invalid gamification state structure in localStorage"),null)}catch(t){Rs.error("Failed to load gamification state:",t);try{localStorage.removeItem(x2),Rs.info("Cleared corrupted gamification state from localStorage")}catch{}return null}}function hA(t){if(!lA()){Rs.warn("localStorage is not available, state not saved");return}try{localStorage.setItem(x2,JSON.stringify(t))}catch(e){Rs.error("Failed to save gamification state:",e)}}const SU=1;function TU(){const t=yp();if(!t){Rs.warn("No progress data to export");return}const e={version:SU,exportedAt:new Date().toISOString(),source:window.location.hostname,state:t},r=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),s=URL.createObjectURL(r),i=document.createElement("a");i.href=s,i.download=`math-progress-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(s),Rs.info("Progress exported successfully")}function kU(t){if(t===null||typeof t!="object")return!1;const e=t;return!(typeof e.version!="number"||typeof e.exportedAt!="string"||typeof e.source!="string"||!cA(e.state))}async function AU(t){return new Promise(e=>{const r=new FileReader;r.onload=s=>{var i;try{const a=(i=s.target)==null?void 0:i.result;if(typeof a!="string"){e({success:!1,message:"Failed to read file"});return}const l=JSON.parse(a);if(!kU(l)){e({success:!1,message:"Invalid backup file format"});return}const c=yp(),h=(c==null?void 0:c.user.totalXP)??0,u=l.state.user.totalXP;if(h>u){e({success:!1,message:`Current progress (${h} XP) is higher than backup (${u} XP). Import cancelled.`});return}hA(l.state),Rs.info(`Progress imported: ${u} XP from backup dated ${l.exportedAt}`),e({success:!0,message:`Successfully restored ${u} XP!`,xpImported:u})}catch(a){Rs.error("Failed to parse backup file:",a),e({success:!1,message:"Failed to parse backup file. Please check the file format."})}},r.onerror=()=>{e({success:!1,message:"Failed to read file"})},r.readAsText(t)})}function NU(){const t=yp();return t?{totalXP:t.user.totalXP,level:t.user.level,sectionsCompleted:t.user.sectionsCompleted.length}:null}function uA(){const t=new Date().toISOString(),e=t.split("T")[0];return{version:2,user:{totalXP:0,level:1,sectionsCompleted:[],partsCompleted:[],quizzesTaken:0,perfectQuizzes:0,visualizationsUsed:0,totalTimeSpentMinutes:0,joinedAt:t},sections:{},achievements:EU(),streak:{currentStreak:0,longestStreak:0,lastActivityDate:null,freezesRemaining:2,freezeUsedToday:!1},dailyGoals:{date:e,xpEarned:0,xpGoal:ek,completed:!1},lastUpdated:t}}function EU(){return[{id:"first-section",unlockedAt:null,progress:0,target:1},{id:"ten-sections",unlockedAt:null,progress:0,target:10},{id:"half-course",unlockedAt:null,progress:0,target:50},{id:"course-complete",unlockedAt:null,progress:0,target:100},{id:"first-mastery",unlockedAt:null,progress:0,target:1},{id:"quiz-master",unlockedAt:null,progress:0,target:10},{id:"perfectionist",unlockedAt:null,progress:0,target:5},{id:"week-streak",unlockedAt:null,progress:0,target:7},{id:"month-streak",unlockedAt:null,progress:0,target:30},{id:"level-5",unlockedAt:null,progress:0,target:5},{id:"level-10",unlockedAt:null,progress:0,target:10},{id:"first-visualization",unlockedAt:null,progress:0,target:1},{id:"explorer",unlockedAt:null,progress:0,target:10}]}const CU=50;function tb(t){return Math.round(t/CU*100)}const MU=[{id:"first-section",title:"First Steps",description:"Complete your first section",category:"progress",xpReward:25,check:t=>t.user.sectionsCompleted.length,target:1},{id:"ten-sections",title:"Getting Started",description:"Complete 10 sections",category:"progress",xpReward:50,check:t=>t.user.sectionsCompleted.length,target:10},{id:"half-course",title:"Halfway There",description:"Complete 50% of the course",category:"progress",xpReward:100,check:t=>tb(t.user.sectionsCompleted.length),target:50},{id:"course-complete",title:"Course Complete",description:"Complete 100% of the course",category:"progress",xpReward:200,check:t=>tb(t.user.sectionsCompleted.length),target:100},{id:"first-mastery",title:"Master of One",description:"Master your first section",category:"mastery",xpReward:30,check:t=>Object.values(t.sections).filter(e=>e.masteryLevel==="mastered").length,target:1},{id:"quiz-master",title:"Quiz Master",description:"Complete 10 quizzes",category:"mastery",xpReward:50,check:t=>t.user.quizzesTaken,target:10},{id:"perfectionist",title:"Perfectionist",description:"Get 5 perfect quiz scores",category:"mastery",xpReward:75,check:t=>t.user.perfectQuizzes,target:5},{id:"week-streak",title:"Week Warrior",description:"Maintain a 7-day streak",category:"dedication",xpReward:50,check:t=>t.streak.longestStreak,target:7},{id:"month-streak",title:"Monthly Master",description:"Maintain a 30-day streak",category:"dedication",xpReward:150,check:t=>t.streak.longestStreak,target:30},{id:"level-5",title:"Level Up",description:"Reach level 5",category:"dedication",xpReward:50,check:t=>t.user.level,target:5},{id:"level-10",title:"Expert",description:"Reach level 10",category:"dedication",xpReward:100,check:t=>t.user.level,target:10},{id:"first-visualization",title:"Visual Learner",description:"Use your first interactive visualization",category:"exploration",xpReward:15,check:t=>t.user.visualizationsUsed,target:1},{id:"explorer",title:"Explorer",description:"Use 10 different visualizations",category:"exploration",xpReward:50,check:t=>t.user.visualizationsUsed,target:10}];function _U(t){const e=[];for(const r of MU){const s=t.achievements.find(a=>a.id===r.id);if(s!=null&&s.unlockedAt)continue;r.check(t)>=r.target&&e.push({id:r.id,title:r.title,description:r.description,category:r.category,xpReward:r.xpReward,timestamp:Date.now()})}return e}function bp(t){for(let e=kh.length-1;e>=0;e--)if(t>=kh[e])return e+1;return 1}function $U(t,e){if(e>=kh.length)return 100;const r=kh[e-1],s=kh[e],i=(t-r)/(s-r)*100;return Math.min(100,Math.max(0,i))}function dA(t,e){const r={easy:dn.QUIZ_EASY,medium:dn.QUIZ_MEDIUM,hard:dn.QUIZ_HARD}[t];return Math.round(r*(e/100))}const zU=1e3*60*60*24;function DU(t){const e=new Date,r=e.toISOString().split("T")[0],s=t.streak.lastActivityDate;if(t.dailyGoals.date!==r&&(t={...t,dailyGoals:{date:r,xpEarned:0,xpGoal:ek,completed:!1},streak:{...t.streak,freezeUsedToday:!1}}),!s)return{...t,streak:{...t.streak,currentStreak:1,longestStreak:Math.max(1,t.streak.longestStreak),lastActivityDate:r}};const i=new Date(s),a=Math.floor((e.getTime()-i.getTime())/zU);if(a===0)return t;if(a===1){const l=t.streak.currentStreak+1;return{...t,streak:{...t.streak,currentStreak:l,longestStreak:Math.max(l,t.streak.longestStreak),lastActivityDate:r}}}return a===2&&t.streak.freezesRemaining>0&&!t.streak.freezeUsedToday?{...t,streak:{...t.streak,freezesRemaining:t.streak.freezesRemaining-1,freezeUsedToday:!0,lastActivityDate:r}}:{...t,streak:{...t.streak,currentStreak:1,lastActivityDate:r}}}function mA(t){const{quizAttempts:e}=t;if(e.length===0)return"learning";const r=Math.max(...e.map(a=>a.score)),s=e.reduce((a,l)=>a+l.score,0)/e.length;return e.filter(a=>a.score>=100).length>=1||s>=90&&e.length>=3?"mastered":r>=80||s>=70&&e.length>=2?"familiar":"learning"}function IU(t){switch(t){case"mastered":return{label:"Mastered",color:"text-emerald-400",symbol:""};case"familiar":return{label:"Familiar",color:"text-yellow-400",symbol:""};case"learning":return{label:"Learning",color:"text-blue-400",symbol:""};case"none":default:return{label:"Not Started",color:"text-dark-600",symbol:""}}}const qv=hi("GamificationReducer");function RU(t,e,r){const s=t.sections[e];if(s!=null&&s.visitedAt)return t;const i=t.user.totalXP+dn.SECTION_VISIT;return{...t,user:{...t.user,totalXP:i,level:bp(i)},sections:{...t.sections,[e]:{sectionId:e,visitedAt:r,completedAt:(s==null?void 0:s.completedAt)??null,timeSpentSeconds:(s==null?void 0:s.timeSpentSeconds)??0,quizAttempts:(s==null?void 0:s.quizAttempts)??[],masteryLevel:(s==null?void 0:s.masteryLevel)??"learning",visualizationsInteracted:(s==null?void 0:s.visualizationsInteracted)??[]}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+dn.SECTION_VISIT},lastUpdated:r}}function GU(t,e,r){const s=t.sections[e];if(s!=null&&s.completedAt)return t;if(!s)return qv.warn(`Attempted to complete unvisited section: ${e}`),t;const i=t.user.totalXP+dn.SECTION_COMPLETE,a=[...t.user.sectionsCompleted,e];return{...t,user:{...t.user,totalXP:i,level:bp(i),sectionsCompleted:a},sections:{...t.sections,[e]:{...s,completedAt:r,masteryLevel:mA(s)}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+dn.SECTION_COMPLETE},lastUpdated:r}}function OU(t,e,r){const{sectionId:s,difficulty:i,score:a,correctAnswers:l,totalQuestions:c}=e,h=t.sections[s];if(!h)return qv.warn(`Section ${s} was not visited before quiz`),t;const u=dA(i,a),m=l===c,f=m?Math.round(u*(1+dn.QUIZ_PERFECT_BONUS)):u,p=t.user.totalXP+f,g={timestamp:r,difficulty:i,score:a,correctAnswers:l,totalQuestions:c,xpEarned:f},S=[...h.quizAttempts,g],N={...h,quizAttempts:S},$=mA(N),w=a>=80&&!h.completedAt,T=w&&!t.user.sectionsCompleted.includes(s),A=T?dn.SECTION_COMPLETE:0;return{...t,user:{...t.user,totalXP:p+A,level:bp(p+A),quizzesTaken:t.user.quizzesTaken+1,perfectQuizzes:m?t.user.perfectQuizzes+1:t.user.perfectQuizzes,sectionsCompleted:T?[...t.user.sectionsCompleted,s]:t.user.sectionsCompleted},sections:{...t.sections,[s]:{...N,masteryLevel:$,completedAt:w?h.completedAt||r:h.completedAt}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+f+A},lastUpdated:r}}function PU(t,e,r,s){const i=t.sections[e];if(i!=null&&i.visualizationsInteracted.includes(r))return t;if(!i)return qv.warn(`Section ${e} was not visited before visualization`),t;const a=t.user.totalXP+dn.VISUALIZATION_USE,l=[...i.visualizationsInteracted,r];return{...t,user:{...t.user,totalXP:a,level:bp(a),visualizationsUsed:t.user.visualizationsUsed+1},sections:{...t.sections,[e]:{...i,visualizationsInteracted:l}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+dn.VISUALIZATION_USE},lastUpdated:s}}function LU(t,e){const r=new Date().toISOString();switch(e.type){case"LOAD_STATE":return e.payload;case"VISIT_SECTION":return RU(t,e.payload.sectionId,r);case"COMPLETE_SECTION":return GU(t,e.payload.sectionId,r);case"RECORD_QUIZ":return OU(t,e.payload,r);case"USE_VISUALIZATION":return PU(t,e.payload.sectionId,e.payload.name,r);case"UPDATE_STREAK":return DU(t);case"RESET_PROGRESS":return uA();default:return t}}const qU=500,fA=_.createContext(null);function BU({children:t,courseId:e}){const[r,s]=_.useReducer(LU,uA()),[i,a]=_.useState(!0),[l,c]=_.useState([]),h=_.useRef(null),u=_.useCallback(w=>`${e}:${w}`,[e]);_.useEffect(()=>{const w=yp();w&&s({type:"LOAD_STATE",payload:w}),a(!1)},[]),_.useEffect(()=>{i||(hA(r),cl().requestSync())},[r,i]),_.useEffect(()=>{i||s({type:"UPDATE_STREAK"})},[i]),_.useEffect(()=>{if(!i)return h.current&&clearTimeout(h.current),h.current=setTimeout(()=>{const w=_U(r);w.length>0&&c(T=>[...T,...w])},qU),()=>{h.current&&clearTimeout(h.current)}},[r,i]);const m=_.useCallback(w=>{s({type:"VISIT_SECTION",payload:{sectionId:u(w)}})},[u]),f=_.useCallback(w=>{s({type:"COMPLETE_SECTION",payload:{sectionId:u(w)}})},[u]),p=_.useCallback((w,T,A,I,B)=>{s({type:"RECORD_QUIZ",payload:{sectionId:u(w),difficulty:T,score:A,correctAnswers:I,totalQuestions:B}})},[u]),g=_.useCallback((w,T)=>{s({type:"USE_VISUALIZATION",payload:{sectionId:u(w),name:T}})},[u]),S=_.useCallback(w=>{c(T=>T.filter(A=>A.id!==w))},[]),N=_.useCallback(()=>{s({type:"RESET_PROGRESS"})},[]),$=_.useMemo(()=>({state:r,isLoading:i,notifications:l,visitSection:m,completeSection:f,recordQuiz:p,useVisualization:g,dismissNotification:S,resetProgress:N}),[r,i,l,m,f,p,g,S,N]);return n.jsx(fA.Provider,{value:$,children:t})}function Pl(){const t=_.useContext(fA);if(!t)throw new Error("useGamification must be used within a GamificationProvider");return t}const HU=Wh;function FU(t){return`${HU}:${t}`}function UU({children:t}){return n.jsx(BU,{courseId:Wh,children:t})}const Bv=_.createContext({});function Hv(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const Fv=typeof window<"u",pA=Fv?_.useLayoutEffect:_.useEffect,jp=_.createContext(null);function Uv(t,e){t.indexOf(e)===-1&&t.push(e)}function Vv(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const la=(t,e,r)=>r>e?e:r<t?t:r;let Kv=()=>{};const ca={},gA=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function xA(t){return typeof t=="object"&&t!==null}const vA=t=>/^0[^.\s]+$/u.test(t);function Wv(t){let e;return()=>(e===void 0&&(e=t()),e)}const fs=t=>t,VU=(t,e)=>r=>e(t(r)),zu=(...t)=>t.reduce(VU),tu=(t,e,r)=>{const s=e-t;return s===0?1:(r-t)/s};class Xv{constructor(){this.subscriptions=[]}add(e){return Uv(this.subscriptions,e),()=>Vv(this.subscriptions,e)}notify(e,r,s){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,s);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(e,r,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const si=t=>t*1e3,hs=t=>t/1e3;function yA(t,e){return e?t*(1e3/e):0}const bA=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,KU=1e-7,WU=12;function XU(t,e,r,s,i){let a,l,c=0;do l=e+(r-e)/2,a=bA(l,s,i)-t,a>0?r=l:e=l;while(Math.abs(a)>KU&&++c<WU);return l}function Du(t,e,r,s){if(t===e&&r===s)return fs;const i=a=>XU(a,0,1,t,r);return a=>a===0||a===1?a:bA(i(a),e,s)}const jA=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,wA=t=>e=>1-t(1-e),SA=Du(.33,1.53,.69,.99),Yv=wA(SA),TA=jA(Yv),kA=t=>(t*=2)<1?.5*Yv(t):.5*(2-Math.pow(2,-10*(t-1))),Zv=t=>1-Math.sin(Math.acos(t)),AA=wA(Zv),NA=jA(Zv),YU=Du(.42,0,1,1),ZU=Du(0,0,.58,1),EA=Du(.42,0,.58,1),QU=t=>Array.isArray(t)&&typeof t[0]!="number",CA=t=>Array.isArray(t)&&typeof t[0]=="number",JU={linear:fs,easeIn:YU,easeInOut:EA,easeOut:ZU,circIn:Zv,circInOut:NA,circOut:AA,backIn:Yv,backInOut:TA,backOut:SA,anticipate:kA},eV=t=>typeof t=="string",rb=t=>{if(CA(t)){Kv(t.length===4);const[e,r,s,i]=t;return Du(e,r,s,i)}else if(eV(t))return JU[t];return t},Dd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function tV(t,e){let r=new Set,s=new Set,i=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(m){l.has(m)&&(u.schedule(m),t()),m(c)}const u={schedule:(m,f=!1,p=!1)=>{const S=p&&i?r:s;return f&&l.add(m),S.has(m)||S.add(m),m},cancel:m=>{s.delete(m),l.delete(m)},process:m=>{if(c=m,i){a=!0;return}i=!0,[r,s]=[s,r],r.forEach(h),r.clear(),i=!1,a&&(a=!1,u.process(m))}};return u}const rV=40;function MA(t,e){let r=!1,s=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,l=Dd.reduce((A,I)=>(A[I]=tV(a),A),{}),{setup:c,read:h,resolveKeyframes:u,preUpdate:m,update:f,preRender:p,render:g,postRender:S}=l,N=()=>{const A=ca.useManualTiming?i.timestamp:performance.now();r=!1,ca.useManualTiming||(i.delta=s?1e3/60:Math.max(Math.min(A-i.timestamp,rV),1)),i.timestamp=A,i.isProcessing=!0,c.process(i),h.process(i),u.process(i),m.process(i),f.process(i),p.process(i),g.process(i),S.process(i),i.isProcessing=!1,r&&e&&(s=!1,t(N))},$=()=>{r=!0,s=!0,i.isProcessing||t(N)};return{schedule:Dd.reduce((A,I)=>{const B=l[I];return A[I]=(Q,D=!1,E=!1)=>(r||$(),B.schedule(Q,D,E)),A},{}),cancel:A=>{for(let I=0;I<Dd.length;I++)l[Dd[I]].cancel(A)},state:i,steps:l}}const{schedule:Bt,cancel:Ao,state:Ur,steps:cg}=MA(typeof requestAnimationFrame<"u"?requestAnimationFrame:fs,!0);let gm;function nV(){gm=void 0}const Nn={now:()=>(gm===void 0&&Nn.set(Ur.isProcessing||ca.useManualTiming?Ur.timestamp:performance.now()),gm),set:t=>{gm=t,queueMicrotask(nV)}},_A=t=>e=>typeof e=="string"&&e.startsWith(t),$A=_A("--"),sV=_A("var(--"),Qv=t=>sV(t)?iV.test(t.split("/*")[0].trim()):!1,iV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,f0={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ru={...f0,transform:t=>la(0,1,t)},Id={...f0,default:1},Nh=t=>Math.round(t*1e5)/1e5,Jv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function aV(t){return t==null}const oV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,e3=(t,e)=>r=>!!(typeof r=="string"&&oV.test(r)&&r.startsWith(t)||e&&!aV(r)&&Object.prototype.hasOwnProperty.call(r,e)),zA=(t,e,r)=>s=>{if(typeof s!="string")return s;const[i,a,l,c]=s.match(Jv);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},lV=t=>la(0,255,t),hg={...f0,transform:t=>Math.round(lV(t))},ml={test:e3("rgb","red"),parse:zA("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:s=1})=>"rgba("+hg.transform(t)+", "+hg.transform(e)+", "+hg.transform(r)+", "+Nh(ru.transform(s))+")"};function cV(t){let e="",r="",s="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),s=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),s=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,s+=s,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(s,16),alpha:i?parseInt(i,16)/255:1}}const v2={test:e3("#"),parse:cV,transform:ml.transform},Iu=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Da=Iu("deg"),ii=Iu("%"),Je=Iu("px"),hV=Iu("vh"),uV=Iu("vw"),nb={...ii,parse:t=>ii.parse(t)/100,transform:t=>ii.transform(t*100)},xc={test:e3("hsl","hue"),parse:zA("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:s=1})=>"hsla("+Math.round(t)+", "+ii.transform(Nh(e))+", "+ii.transform(Nh(r))+", "+Nh(ru.transform(s))+")"},vr={test:t=>ml.test(t)||v2.test(t)||xc.test(t),parse:t=>ml.test(t)?ml.parse(t):xc.test(t)?xc.parse(t):v2.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ml.transform(t):xc.transform(t),getAnimatableNone:t=>{const e=vr.parse(t);return e.alpha=0,vr.transform(e)}},dV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mV(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Jv))==null?void 0:e.length)||0)+(((r=t.match(dV))==null?void 0:r.length)||0)>0}const DA="number",IA="color",fV="var",pV="var(",sb="${}",gV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nu(t){const e=t.toString(),r=[],s={color:[],number:[],var:[]},i=[];let a=0;const c=e.replace(gV,h=>(vr.test(h)?(s.color.push(a),i.push(IA),r.push(vr.parse(h))):h.startsWith(pV)?(s.var.push(a),i.push(fV),r.push(h)):(s.number.push(a),i.push(DA),r.push(parseFloat(h))),++a,sb)).split(sb);return{values:r,split:c,indexes:s,types:i}}function RA(t){return nu(t).values}function GA(t){const{split:e,types:r}=nu(t),s=e.length;return i=>{let a="";for(let l=0;l<s;l++)if(a+=e[l],i[l]!==void 0){const c=r[l];c===DA?a+=Nh(i[l]):c===IA?a+=vr.transform(i[l]):a+=i[l]}return a}}const xV=t=>typeof t=="number"?0:vr.test(t)?vr.getAnimatableNone(t):t;function vV(t){const e=RA(t);return GA(t)(e.map(xV))}const No={test:mV,parse:RA,createTransformer:GA,getAnimatableNone:vV};function ug(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function yV({hue:t,saturation:e,lightness:r,alpha:s}){t/=360,e/=100,r/=100;let i=0,a=0,l=0;if(!e)i=a=l=r;else{const c=r<.5?r*(1+e):r+e-r*e,h=2*r-c;i=ug(h,c,t+1/3),a=ug(h,c,t),l=ug(h,c,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:s}}function jf(t,e){return r=>r>0?e:t}const tr=(t,e,r)=>t+(e-t)*r,dg=(t,e,r)=>{const s=t*t,i=r*(e*e-s)+s;return i<0?0:Math.sqrt(i)},bV=[v2,ml,xc],jV=t=>bV.find(e=>e.test(t));function ib(t){const e=jV(t);if(!e)return!1;let r=e.parse(t);return e===xc&&(r=yV(r)),r}const ab=(t,e)=>{const r=ib(t),s=ib(e);if(!r||!s)return jf(t,e);const i={...r};return a=>(i.red=dg(r.red,s.red,a),i.green=dg(r.green,s.green,a),i.blue=dg(r.blue,s.blue,a),i.alpha=tr(r.alpha,s.alpha,a),ml.transform(i))},y2=new Set(["none","hidden"]);function wV(t,e){return y2.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function SV(t,e){return r=>tr(t,e,r)}function t3(t){return typeof t=="number"?SV:typeof t=="string"?Qv(t)?jf:vr.test(t)?ab:AV:Array.isArray(t)?OA:typeof t=="object"?vr.test(t)?ab:TV:jf}function OA(t,e){const r=[...t],s=r.length,i=t.map((a,l)=>t3(a)(a,e[l]));return a=>{for(let l=0;l<s;l++)r[l]=i[l](a);return r}}function TV(t,e){const r={...t,...e},s={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(s[i]=t3(t[i])(t[i],e[i]));return i=>{for(const a in s)r[a]=s[a](i);return r}}function kV(t,e){const r=[],s={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const a=e.types[i],l=t.indexes[a][s[a]],c=t.values[l]??0;r[i]=c,s[a]++}return r}const AV=(t,e)=>{const r=No.createTransformer(e),s=nu(t),i=nu(e);return s.indexes.var.length===i.indexes.var.length&&s.indexes.color.length===i.indexes.color.length&&s.indexes.number.length>=i.indexes.number.length?y2.has(t)&&!i.values.length||y2.has(e)&&!s.values.length?wV(t,e):zu(OA(kV(s,i),i.values),r):jf(t,e)};function PA(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?tr(t,e,r):t3(t)(t,e)}const NV=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Bt.update(e,r),stop:()=>Ao(e),now:()=>Ur.isProcessing?Ur.timestamp:Nn.now()}},LA=(t,e,r=10)=>{let s="";const i=Math.max(Math.round(e/r),2);for(let a=0;a<i;a++)s+=Math.round(t(a/(i-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},wf=2e4;function r3(t){let e=0;const r=50;let s=t.next(e);for(;!s.done&&e<wf;)e+=r,s=t.next(e);return e>=wf?1/0:e}function EV(t,e=100,r){const s=r({...t,keyframes:[0,e]}),i=Math.min(r3(s),wf);return{type:"keyframes",ease:a=>s.next(i*a).value/e,duration:hs(i)}}const CV=5;function qA(t,e,r){const s=Math.max(e-CV,0);return yA(r-t(s),e-s)}const or={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mg=.001;function MV({duration:t=or.duration,bounce:e=or.bounce,velocity:r=or.velocity,mass:s=or.mass}){let i,a,l=1-e;l=la(or.minDamping,or.maxDamping,l),t=la(or.minDuration,or.maxDuration,hs(t)),l<1?(i=u=>{const m=u*l,f=m*t,p=m-r,g=b2(u,l),S=Math.exp(-f);return mg-p/g*S},a=u=>{const f=u*l*t,p=f*r+r,g=Math.pow(l,2)*Math.pow(u,2)*t,S=Math.exp(-f),N=b2(Math.pow(u,2),l);return(-i(u)+mg>0?-1:1)*((p-g)*S)/N}):(i=u=>{const m=Math.exp(-u*t),f=(u-r)*t+1;return-mg+m*f},a=u=>{const m=Math.exp(-u*t),f=(r-u)*(t*t);return m*f});const c=5/t,h=$V(i,a,c);if(t=si(t),isNaN(h))return{stiffness:or.stiffness,damping:or.damping,duration:t};{const u=Math.pow(h,2)*s;return{stiffness:u,damping:l*2*Math.sqrt(s*u),duration:t}}}const _V=12;function $V(t,e,r){let s=r;for(let i=1;i<_V;i++)s=s-t(s)/e(s);return s}function b2(t,e){return t*Math.sqrt(1-e*e)}const zV=["duration","bounce"],DV=["stiffness","damping","mass"];function ob(t,e){return e.some(r=>t[r]!==void 0)}function IV(t){let e={velocity:or.velocity,stiffness:or.stiffness,damping:or.damping,mass:or.mass,isResolvedFromDuration:!1,...t};if(!ob(t,DV)&&ob(t,zV))if(t.visualDuration){const r=t.visualDuration,s=2*Math.PI/(r*1.2),i=s*s,a=2*la(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:or.mass,stiffness:i,damping:a}}else{const r=MV(t);e={...e,...r,mass:or.mass},e.isResolvedFromDuration=!0}return e}function Sf(t=or.visualDuration,e=or.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:i}=r;const a=r.keyframes[0],l=r.keyframes[r.keyframes.length-1],c={done:!1,value:a},{stiffness:h,damping:u,mass:m,duration:f,velocity:p,isResolvedFromDuration:g}=IV({...r,velocity:-hs(r.velocity||0)}),S=p||0,N=u/(2*Math.sqrt(h*m)),$=l-a,w=hs(Math.sqrt(h/m)),T=Math.abs($)<5;s||(s=T?or.restSpeed.granular:or.restSpeed.default),i||(i=T?or.restDelta.granular:or.restDelta.default);let A;if(N<1){const B=b2(w,N);A=Q=>{const D=Math.exp(-N*w*Q);return l-D*((S+N*w*$)/B*Math.sin(B*Q)+$*Math.cos(B*Q))}}else if(N===1)A=B=>l-Math.exp(-w*B)*($+(S+w*$)*B);else{const B=w*Math.sqrt(N*N-1);A=Q=>{const D=Math.exp(-N*w*Q),E=Math.min(B*Q,300);return l-D*((S+N*w*$)*Math.sinh(E)+B*$*Math.cosh(E))/B}}const I={calculatedDuration:g&&f||null,next:B=>{const Q=A(B);if(g)c.done=B>=f;else{let D=B===0?S:0;N<1&&(D=B===0?si(S):qA(A,B,Q));const E=Math.abs(D)<=s,z=Math.abs(l-Q)<=i;c.done=E&&z}return c.value=c.done?l:Q,c},toString:()=>{const B=Math.min(r3(I),wf),Q=LA(D=>I.next(B*D).value,B,30);return B+"ms "+Q},toTransition:()=>{}};return I}Sf.applyToOptions=t=>{const e=EV(t,100,Sf);return t.ease=e.ease,t.duration=si(e.duration),t.type="keyframes",t};function j2({keyframes:t,velocity:e=0,power:r=.8,timeConstant:s=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:h,restDelta:u=.5,restSpeed:m}){const f=t[0],p={done:!1,value:f},g=E=>c!==void 0&&E<c||h!==void 0&&E>h,S=E=>c===void 0?h:h===void 0||Math.abs(c-E)<Math.abs(h-E)?c:h;let N=r*e;const $=f+N,w=l===void 0?$:l($);w!==$&&(N=w-f);const T=E=>-N*Math.exp(-E/s),A=E=>w+T(E),I=E=>{const z=T(E),O=A(E);p.done=Math.abs(z)<=u,p.value=p.done?w:O};let B,Q;const D=E=>{g(p.value)&&(B=E,Q=Sf({keyframes:[p.value,S(p.value)],velocity:qA(A,E,p.value),damping:i,stiffness:a,restDelta:u,restSpeed:m}))};return D(0),{calculatedDuration:null,next:E=>{let z=!1;return!Q&&B===void 0&&(z=!0,I(E),D(E)),B!==void 0&&E>=B?Q.next(E-B):(!z&&I(E),p)}}}function RV(t,e,r){const s=[],i=r||ca.mix||PA,a=t.length-1;for(let l=0;l<a;l++){let c=i(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||fs:e;c=zu(h,c)}s.push(c)}return s}function GV(t,e,{clamp:r=!0,ease:s,mixer:i}={}){const a=t.length;if(Kv(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=RV(e,s,i),h=c.length,u=m=>{if(l&&m<t[0])return e[0];let f=0;if(h>1)for(;f<t.length-2&&!(m<t[f+1]);f++);const p=tu(t[f],t[f+1],m);return c[f](p)};return r?m=>u(la(t[0],t[a-1],m)):u}function OV(t,e){const r=t[t.length-1];for(let s=1;s<=e;s++){const i=tu(0,e,s);t.push(tr(r,1,i))}}function PV(t){const e=[0];return OV(e,t.length-1),e}function LV(t,e){return t.map(r=>r*e)}function qV(t,e){return t.map(()=>e||EA).splice(0,t.length-1)}function Eh({duration:t=300,keyframes:e,times:r,ease:s="easeInOut"}){const i=QU(s)?s.map(rb):rb(s),a={done:!1,value:e[0]},l=LV(r&&r.length===e.length?r:PV(e),t),c=GV(l,e,{ease:Array.isArray(i)?i:qV(e,i)});return{calculatedDuration:t,next:h=>(a.value=c(h),a.done=h>=t,a)}}const BV=t=>t!==null;function n3(t,{repeat:e,repeatType:r="loop"},s,i=1){const a=t.filter(BV),c=i<0||e&&r!=="loop"&&e%2===1?0:a.length-1;return!c||s===void 0?a[c]:s}const HV={decay:j2,inertia:j2,tween:Eh,keyframes:Eh,spring:Sf};function BA(t){typeof t.type=="string"&&(t.type=HV[t.type])}class s3{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const FV=t=>t/100;class i3 extends s3{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,i;const{motionValue:r}=this.options;r&&r.updatedAt!==Nn.now()&&this.tick(Nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(s=this.options).onStop)==null||i.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;BA(e);const{type:r=Eh,repeat:s=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=e;let{keyframes:c}=e;const h=r||Eh;h!==Eh&&typeof c[0]!="number"&&(this.mixKeyframes=zu(FV,PA(c[0],c[1])),c=[0,100]);const u=h({...e,keyframes:c});a==="mirror"&&(this.mirroredGenerator=h({...e,keyframes:[...c].reverse(),velocity:-l})),u.calculatedDuration===null&&(u.calculatedDuration=r3(u));const{calculatedDuration:m}=u;this.calculatedDuration=m,this.resolvedDuration=m+i,this.totalDuration=this.resolvedDuration*(s+1)-i,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:s,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:h}=this;if(this.startTime===null)return s.next(0);const{delay:u=0,keyframes:m,repeat:f,repeatType:p,repeatDelay:g,type:S,onUpdate:N,finalKeyframe:$}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const w=this.currentTime-u*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let A=this.currentTime,I=s;if(f){const E=Math.min(this.currentTime,i)/c;let z=Math.floor(E),O=E%1;!O&&E>=1&&(O=1),O===1&&z--,z=Math.min(z,f+1),!!(z%2)&&(p==="reverse"?(O=1-O,g&&(O-=g/c)):p==="mirror"&&(I=l)),A=la(0,1,O)*c}const B=T?{done:!1,value:m[0]}:I.next(A);a&&(B.value=a(B.value));let{done:Q}=B;!T&&h!==null&&(Q=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return D&&S!==j2&&(B.value=n3(m,this.options,$,this.speed)),N&&N(B.value),D&&this.finish(),B}then(e,r){return this.finished.then(e,r)}get duration(){return hs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hs(e)}get time(){return hs(this.currentTime)}set time(e){var r;e=si(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Nn.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=hs(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:e=NV,startTime:r}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(i=this.options).onPlay)==null||a.call(i);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=r??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function UV(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const fl=t=>t*180/Math.PI,w2=t=>{const e=fl(Math.atan2(t[1],t[0]));return S2(e)},VV={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:w2,rotateZ:w2,skewX:t=>fl(Math.atan(t[1])),skewY:t=>fl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},S2=t=>(t=t%360,t<0&&(t+=360),t),lb=w2,cb=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),hb=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),KV={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:cb,scaleY:hb,scale:t=>(cb(t)+hb(t))/2,rotateX:t=>S2(fl(Math.atan2(t[6],t[5]))),rotateY:t=>S2(fl(Math.atan2(-t[2],t[0]))),rotateZ:lb,rotate:lb,skewX:t=>fl(Math.atan(t[4])),skewY:t=>fl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function T2(t){return t.includes("scale")?1:0}function k2(t,e){if(!t||t==="none")return T2(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,i;if(r)s=KV,i=r;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=VV,i=c}if(!i)return T2(e);const a=s[e],l=i[1].split(",").map(XV);return typeof a=="function"?a(l):l[a]}const WV=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return k2(r,e)};function XV(t){return parseFloat(t.trim())}const p0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],g0=new Set(p0),ub=t=>t===f0||t===Je,YV=new Set(["x","y","z"]),ZV=p0.filter(t=>!YV.has(t));function QV(t){const e=[];return ZV.forEach(r=>{const s=t.getValue(r);s!==void 0&&(e.push([r,s.get()]),s.set(r.startsWith("scale")?1:0))}),e}const bl={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>k2(e,"x"),y:(t,{transform:e})=>k2(e,"y")};bl.translateX=bl.x;bl.translateY=bl.y;const jl=new Set;let A2=!1,N2=!1,E2=!1;function HA(){if(N2){const t=Array.from(jl).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),r=new Map;e.forEach(s=>{const i=QV(s);i.length&&(r.set(s,i),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const i=r.get(s);i&&i.forEach(([a,l])=>{var c;(c=s.getValue(a))==null||c.set(l)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}N2=!1,A2=!1,jl.forEach(t=>t.complete(E2)),jl.clear()}function FA(){jl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(N2=!0)})}function JV(){E2=!0,FA(),HA(),E2=!1}class a3{constructor(e,r,s,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=s,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(jl.add(this),A2||(A2=!0,Bt.read(FA),Bt.resolveKeyframes(HA))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:s,motionValue:i}=this;if(e[0]===null){const a=i==null?void 0:i.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&r){const c=s.readValue(r,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&a===void 0&&i.set(e[0])}UV(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),jl.delete(this)}cancel(){this.state==="scheduled"&&(jl.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const eK=t=>t.startsWith("--");function tK(t,e,r){eK(e)?t.style.setProperty(e,r):t.style[e]=r}const rK=Wv(()=>window.ScrollTimeline!==void 0),nK={};function sK(t,e){const r=Wv(t);return()=>nK[e]??r()}const UA=sK(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ah=([t,e,r,s])=>`cubic-bezier(${t}, ${e}, ${r}, ${s})`,db={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ah([0,.65,.55,1]),circOut:ah([.55,0,1,.45]),backIn:ah([.31,.01,.66,-.59]),backOut:ah([.33,1.53,.69,.99])};function VA(t,e){if(t)return typeof t=="function"?UA()?LA(t,e):"ease-out":CA(t)?ah(t):Array.isArray(t)?t.map(r=>VA(r,e)||db.easeOut):db[t]}function iK(t,e,r,{delay:s=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:c="easeOut",times:h}={},u=void 0){const m={[e]:r};h&&(m.offset=h);const f=VA(c,i);Array.isArray(f)&&(m.easing=f);const p={delay:s,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return u&&(p.pseudoElement=u),t.animate(m,p)}function KA(t){return typeof t=="function"&&"applyToOptions"in t}function aK({type:t,...e}){return KA(t)&&UA()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class oK extends s3{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:s,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:c,onComplete:h}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,Kv(typeof e.type!="string");const u=aK(e);this.animation=iK(r,s,i,u,a),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const m=n3(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):tK(r,s,m),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,s;const e=((s=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:s.call(r).duration)||0;return hs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+hs(e)}get time(){return hs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=si(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&rK()?(this.animation.timeline=e,fs):r(this)}}const WA={anticipate:kA,backInOut:TA,circInOut:NA};function lK(t){return t in WA}function cK(t){typeof t.ease=="string"&&lK(t.ease)&&(t.ease=WA[t.ease])}const mb=10;class hK extends oK{constructor(e){cK(e),BA(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:s,onComplete:i,element:a,...l}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const c=new i3({...l,autoplay:!1}),h=si(this.finishedTime??this.time);r.setWithVelocity(c.sample(h-mb).value,c.sample(h).value,mb),c.stop()}}const fb=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(No.test(t)||t==="0")&&!t.startsWith("url("));function uK(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function dK(t,e,r,s){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=fb(i,e),c=fb(a,e);return!l||!c?!1:uK(t)||(r==="spring"||KA(r))&&s}function C2(t){t.duration=0,t.type="keyframes"}const mK=new Set(["opacity","clipPath","filter","transform"]),fK=Wv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function pK(t){var m;const{motionValue:e,name:r,repeatDelay:s,repeatType:i,damping:a,type:l}=t;if(!(((m=e==null?void 0:e.owner)==null?void 0:m.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:u}=e.owner.getProps();return fK()&&r&&mK.has(r)&&(r!=="transform"||!u)&&!h&&!s&&i!=="mirror"&&a!==0&&l!=="inertia"}const gK=40;class xK extends s3{constructor({autoplay:e=!0,delay:r=0,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:c,name:h,motionValue:u,element:m,...f}){var S;super(),this.stop=()=>{var N,$;this._animation&&(this._animation.stop(),(N=this.stopTimeline)==null||N.call(this)),($=this.keyframeResolver)==null||$.cancel()},this.createdAt=Nn.now();const p={autoplay:e,delay:r,type:s,repeat:i,repeatDelay:a,repeatType:l,name:h,motionValue:u,element:m,...f},g=(m==null?void 0:m.KeyframeResolver)||a3;this.keyframeResolver=new g(c,(N,$,w)=>this.onKeyframesResolved(N,$,p,!w),h,u,m),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,r,s,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:c,delay:h,isHandoff:u,onUpdate:m}=s;this.resolvedAt=Nn.now(),dK(e,a,l,c)||((ca.instantAnimations||!h)&&(m==null||m(n3(e,s,r))),e[0]=e[e.length-1],C2(s),s.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>gK?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...s,keyframes:e},g=!u&&pK(p)?new hK({...p,element:p.motionValue.owner.current}):new i3(p);g.finished.then(()=>this.notifyFinished()).catch(fs),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),JV()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const vK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yK(t){const e=vK.exec(t);if(!e)return[,];const[,r,s,i]=e;return[`--${r??s}`,i]}function XA(t,e,r=1){const[s,i]=yK(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const l=a.trim();return gA(l)?parseFloat(l):l}return Qv(i)?XA(i,e,r+1):i}function o3(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const YA=new Set(["width","height","top","left","right","bottom",...p0]),bK={test:t=>t==="auto",parse:t=>t},ZA=t=>e=>e.test(t),QA=[f0,Je,ii,Da,uV,hV,bK],pb=t=>QA.find(ZA(t));function jK(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||vA(t):!0}const wK=new Set(["brightness","contrast","saturate","opacity"]);function SK(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=r.match(Jv)||[];if(!s)return t;const i=r.replace(s,"");let a=wK.has(e)?1:0;return s!==r&&(a*=100),e+"("+a+i+")"}const TK=/\b([a-z-]*)\(.*?\)/gu,M2={...No,getAnimatableNone:t=>{const e=t.match(TK);return e?e.map(SK).join(" "):t}},gb={...f0,transform:Math.round},kK={rotate:Da,rotateX:Da,rotateY:Da,rotateZ:Da,scale:Id,scaleX:Id,scaleY:Id,scaleZ:Id,skew:Da,skewX:Da,skewY:Da,distance:Je,translateX:Je,translateY:Je,translateZ:Je,x:Je,y:Je,z:Je,perspective:Je,transformPerspective:Je,opacity:ru,originX:nb,originY:nb,originZ:Je},l3={borderWidth:Je,borderTopWidth:Je,borderRightWidth:Je,borderBottomWidth:Je,borderLeftWidth:Je,borderRadius:Je,radius:Je,borderTopLeftRadius:Je,borderTopRightRadius:Je,borderBottomRightRadius:Je,borderBottomLeftRadius:Je,width:Je,maxWidth:Je,height:Je,maxHeight:Je,top:Je,right:Je,bottom:Je,left:Je,padding:Je,paddingTop:Je,paddingRight:Je,paddingBottom:Je,paddingLeft:Je,margin:Je,marginTop:Je,marginRight:Je,marginBottom:Je,marginLeft:Je,backgroundPositionX:Je,backgroundPositionY:Je,...kK,zIndex:gb,fillOpacity:ru,strokeOpacity:ru,numOctaves:gb},AK={...l3,color:vr,backgroundColor:vr,outlineColor:vr,fill:vr,stroke:vr,borderColor:vr,borderTopColor:vr,borderRightColor:vr,borderBottomColor:vr,borderLeftColor:vr,filter:M2,WebkitFilter:M2},JA=t=>AK[t];function eN(t,e){let r=JA(t);return r!==M2&&(r=No),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const NK=new Set(["auto","none","0"]);function EK(t,e,r){let s=0,i;for(;s<t.length&&!i;){const a=t[s];typeof a=="string"&&!NK.has(a)&&nu(a).values.length&&(i=t[s]),s++}if(i&&r)for(const a of e)t[a]=eN(r,i)}class CK extends a3{constructor(e,r,s,i,a){super(e,r,s,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:s}=this;if(!r||!r.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let u=e[h];if(typeof u=="string"&&(u=u.trim(),Qv(u))){const m=XA(u,r.current);m!==void 0&&(e[h]=m),h===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!YA.has(s)||e.length!==2)return;const[i,a]=e,l=pb(i),c=pb(a);if(l!==c)if(ub(l)&&ub(c))for(let h=0;h<e.length;h++){const u=e[h];typeof u=="string"&&(e[h]=parseFloat(u))}else bl[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,s=[];for(let i=0;i<e.length;i++)(e[i]===null||jK(e[i]))&&s.push(i);s.length&&EK(e,s,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bl[s](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(s,i).jump(i,!1)}measureEndState(){var c;const{element:e,name:r,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=s.length-1,l=s[a];s[a]=bl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([h,u])=>{e.getValue(h).set(u)}),this.resolveNoneKeyframes()}}function MK(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const i=(r==null?void 0:r[t])??s.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const tN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function rN(t){return xA(t)&&"offsetHeight"in t}const xb=30,_K=t=>!isNaN(parseFloat(t));class $K{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var a;const i=Nn.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Nn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=_K(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Xv);const s=this.events[e].add(r);return e==="change"?()=>{s(),Bt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,s){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xb)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,xb);return yA(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qc(t,e){return new $K(t,e)}const{schedule:c3}=MA(queueMicrotask,!1),Ms={x:!1,y:!1};function nN(){return Ms.x||Ms.y}function zK(t){return t==="x"||t==="y"?Ms[t]?null:(Ms[t]=!0,()=>{Ms[t]=!1}):Ms.x||Ms.y?null:(Ms.x=Ms.y=!0,()=>{Ms.x=Ms.y=!1})}function sN(t,e){const r=MK(t),s=new AbortController,i={passive:!0,...e,signal:s.signal};return[r,i,()=>s.abort()]}function vb(t){return!(t.pointerType==="touch"||nN())}function DK(t,e,r={}){const[s,i,a]=sN(t,r),l=c=>{if(!vb(c))return;const{target:h}=c,u=e(h,c);if(typeof u!="function"||!h)return;const m=f=>{vb(f)&&(u(f),h.removeEventListener("pointerleave",m))};h.addEventListener("pointerleave",m,i)};return s.forEach(c=>{c.addEventListener("pointerenter",l,i)}),a}const iN=(t,e)=>e?t===e?!0:iN(t,e.parentElement):!1,h3=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,IK=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function RK(t){return IK.has(t.tagName)||t.tabIndex!==-1}const xm=new WeakSet;function yb(t){return e=>{e.key==="Enter"&&t(e)}}function fg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const GK=(t,e)=>{const r=t.currentTarget;if(!r)return;const s=yb(()=>{if(xm.has(r))return;fg(r,"down");const i=yb(()=>{fg(r,"up")}),a=()=>fg(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",a,e)});r.addEventListener("keydown",s,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",s),e)};function bb(t){return h3(t)&&!nN()}function OK(t,e,r={}){const[s,i,a]=sN(t,r),l=c=>{const h=c.currentTarget;if(!bb(c))return;xm.add(h);const u=e(h,c),m=(g,S)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),xm.has(h)&&xm.delete(h),bb(g)&&typeof u=="function"&&u(g,{success:S})},f=g=>{m(g,h===window||h===document||r.useGlobalTarget||iN(h,g.target))},p=g=>{m(g,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",p,i)};return s.forEach(c=>{(r.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),rN(c)&&(c.addEventListener("focus",u=>GK(u,i)),!RK(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function aN(t){return xA(t)&&"ownerSVGElement"in t}function PK(t){return aN(t)&&t.tagName==="svg"}const en=t=>!!(t&&t.getVelocity),LK=[...QA,vr,No],qK=t=>LK.find(ZA(t)),u3=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function jb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function BK(...t){return e=>{let r=!1;const s=t.map(i=>{const a=jb(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<s.length;i++){const a=s[i];typeof a=="function"?a():jb(t[i],null)}}}}function HK(...t){return _.useCallback(BK(...t),t)}class FK extends _.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const s=r.offsetParent,i=rN(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function UK({children:t,isPresent:e,anchorX:r,root:s}){const i=_.useId(),a=_.useRef(null),l=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=_.useContext(u3),h=HK(a,t==null?void 0:t.ref);return _.useInsertionEffect(()=>{const{width:u,height:m,top:f,left:p,right:g}=l.current;if(e||!a.current||!u||!m)return;const S=r==="left"?`left: ${p}`:`right: ${g}`;a.current.dataset.motionPopId=i;const N=document.createElement("style");c&&(N.nonce=c);const $=s??document.head;return $.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${m}px !important;
            ${S}px !important;
            top: ${f}px !important;
          }
        `),()=>{$.contains(N)&&$.removeChild(N)}},[e]),n.jsx(FK,{isPresent:e,childRef:a,sizeRef:l,children:_.cloneElement(t,{ref:h})})}const VK=({children:t,initial:e,isPresent:r,onExitComplete:s,custom:i,presenceAffectsLayout:a,mode:l,anchorX:c,root:h})=>{const u=Hv(KK),m=_.useId();let f=!0,p=_.useMemo(()=>(f=!1,{id:m,initial:e,isPresent:r,custom:i,onExitComplete:g=>{u.set(g,!0);for(const S of u.values())if(!S)return;s&&s()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[r,u,s]);return a&&f&&(p={...p}),_.useMemo(()=>{u.forEach((g,S)=>u.set(S,!1))},[r]),_.useEffect(()=>{!r&&!u.size&&s&&s()},[r]),l==="popLayout"&&(t=n.jsx(UK,{isPresent:r,anchorX:c,root:h,children:t})),n.jsx(jp.Provider,{value:p,children:t})};function KK(){return new Map}function oN(t=!0){const e=_.useContext(jp);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:s,register:i}=e,a=_.useId();_.useEffect(()=>{if(t)return i(a)},[t]);const l=_.useCallback(()=>t&&s&&s(a),[a,s,t]);return!r&&s?[!1,l]:[!0]}const Rd=t=>t.key||"";function wb(t){const e=[];return _.Children.forEach(t,r=>{_.isValidElement(r)&&e.push(r)}),e}const su=({children:t,custom:e,initial:r=!0,onExitComplete:s,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:c="left",root:h})=>{const[u,m]=oN(l),f=_.useMemo(()=>wb(t),[t]),p=l&&!u?[]:f.map(Rd),g=_.useRef(!0),S=_.useRef(f),N=Hv(()=>new Map),[$,w]=_.useState(f),[T,A]=_.useState(f);pA(()=>{g.current=!1,S.current=f;for(let Q=0;Q<T.length;Q++){const D=Rd(T[Q]);p.includes(D)?N.delete(D):N.get(D)!==!0&&N.set(D,!1)}},[T,p.length,p.join("-")]);const I=[];if(f!==$){let Q=[...f];for(let D=0;D<T.length;D++){const E=T[D],z=Rd(E);p.includes(z)||(Q.splice(D,0,E),I.push(E))}return a==="wait"&&I.length&&(Q=I),A(wb(Q)),w(f),null}const{forceRender:B}=_.useContext(Bv);return n.jsx(n.Fragment,{children:T.map(Q=>{const D=Rd(Q),E=l&&!u?!1:f===T||p.includes(D),z=()=>{if(N.has(D))N.set(D,!0);else return;let O=!0;N.forEach(L=>{L||(O=!1)}),O&&(B==null||B(),A(S.current),l&&(m==null||m()),s&&s())};return n.jsx(VK,{isPresent:E,initial:!g.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,root:h,onExitComplete:E?void 0:z,anchorX:c,children:Q},D)})})},lN=_.createContext({strict:!1}),Sb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Jc={};for(const t in Sb)Jc[t]={isEnabled:e=>Sb[t].some(r=>!!e[r])};function WK(t){for(const e in t)Jc[e]={...Jc[e],...t[e]}}const XK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||XK.has(t)}let cN=t=>!Tf(t);function YK(t){typeof t=="function"&&(cN=e=>e.startsWith("on")?!Tf(e):t(e))}try{YK(require("@emotion/is-prop-valid").default)}catch{}function ZK(t,e,r){const s={};for(const i in t)i==="values"&&typeof t.values=="object"||(cN(i)||r===!0&&Tf(i)||!e&&!Tf(i)||t.draggable&&i.startsWith("onDrag"))&&(s[i]=t[i]);return s}const wp=_.createContext({});function Sp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function iu(t){return typeof t=="string"||Array.isArray(t)}const d3=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],m3=["initial",...d3];function Tp(t){return Sp(t.animate)||m3.some(e=>iu(t[e]))}function hN(t){return!!(Tp(t)||t.variants)}function QK(t,e){if(Tp(t)){const{initial:r,animate:s}=t;return{initial:r===!1||iu(r)?r:void 0,animate:iu(s)?s:void 0}}return t.inherit!==!1?e:{}}function JK(t){const{initial:e,animate:r}=QK(t,_.useContext(wp));return _.useMemo(()=>({initial:e,animate:r}),[Tb(e),Tb(r)])}function Tb(t){return Array.isArray(t)?t.join(" "):t}function kb(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Q0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Je.test(t))t=parseFloat(t);else return t;const r=kb(t,e.target.x),s=kb(t,e.target.y);return`${r}% ${s}%`}},eW={correct:(t,{treeScale:e,projectionDelta:r})=>{const s=t,i=No.parse(t);if(i.length>5)return s;const a=No.createTransformer(t),l=typeof i[0]!="number"?1:0,c=r.x.scale*e.x,h=r.y.scale*e.y;i[0+l]/=c,i[1+l]/=h;const u=tr(c,h,.5);return typeof i[2+l]=="number"&&(i[2+l]/=u),typeof i[3+l]=="number"&&(i[3+l]/=u),a(i)}},_2={borderRadius:{...Q0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Q0,borderTopRightRadius:Q0,borderBottomLeftRadius:Q0,borderBottomRightRadius:Q0,boxShadow:eW};function uN(t,{layout:e,layoutId:r}){return g0.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!_2[t]||t==="opacity")}const tW={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rW=p0.length;function nW(t,e,r){let s="",i=!0;for(let a=0;a<rW;a++){const l=p0[a],c=t[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||r){const u=tN(c,l3[l]);if(!h){i=!1;const m=tW[l]||l;s+=`${m}(${u}) `}r&&(e[l]=u)}}return s=s.trim(),r?s=r(e,i?"":s):i&&(s="none"),s}function f3(t,e,r){const{style:s,vars:i,transformOrigin:a}=t;let l=!1,c=!1;for(const h in e){const u=e[h];if(g0.has(h)){l=!0;continue}else if($A(h)){i[h]=u;continue}else{const m=tN(u,l3[h]);h.startsWith("origin")?(c=!0,a[h]=m):s[h]=m}}if(e.transform||(l||r?s.transform=nW(e,t.transform,r):s.transform&&(s.transform="none")),c){const{originX:h="50%",originY:u="50%",originZ:m=0}=a;s.transformOrigin=`${h} ${u} ${m}`}}const p3=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dN(t,e,r){for(const s in e)!en(e[s])&&!uN(s,r)&&(t[s]=e[s])}function sW({transformTemplate:t},e){return _.useMemo(()=>{const r=p3();return f3(r,e,t),Object.assign({},r.vars,r.style)},[e])}function iW(t,e){const r=t.style||{},s={};return dN(s,r,t),Object.assign(s,sW(t,e)),s}function aW(t,e){const r={},s=iW(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const oW={offset:"stroke-dashoffset",array:"stroke-dasharray"},lW={offset:"strokeDashoffset",array:"strokeDasharray"};function cW(t,e,r=1,s=0,i=!0){t.pathLength=1;const a=i?oW:lW;t[a.offset]=Je.transform(-s);const l=Je.transform(e),c=Je.transform(r);t[a.array]=`${l} ${c}`}function mN(t,{attrX:e,attrY:r,attrScale:s,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...c},h,u,m){if(f3(t,c,u),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(m==null?void 0:m.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),r!==void 0&&(f.y=r),s!==void 0&&(f.scale=s),i!==void 0&&cW(f,i,a,l,!1)}const fN=()=>({...p3(),attrs:{}}),pN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hW(t,e,r,s){const i=_.useMemo(()=>{const a=fN();return mN(a,e,pN(s),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};dN(a,t.style,t),i.style={...a,...i.style}}return i}const uW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function g3(t){return typeof t!="string"||t.includes("-")?!1:!!(uW.indexOf(t)>-1||/[A-Z]/u.test(t))}function dW(t,e,r,{latestValues:s},i,a=!1){const c=(g3(t)?hW:aW)(e,s,i,t),h=ZK(e,typeof t=="string",a),u=t!==_.Fragment?{...h,...c,ref:r}:{},{children:m}=e,f=_.useMemo(()=>en(m)?m.get():m,[m]);return _.createElement(t,{...u,children:f})}function Ab(t){const e=[{},{}];return t==null||t.values.forEach((r,s)=>{e[0][s]=r.get(),e[1][s]=r.getVelocity()}),e}function x3(t,e,r,s){if(typeof e=="function"){const[i,a]=Ab(s);e=e(r!==void 0?r:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=Ab(s);e=e(r!==void 0?r:t.custom,i,a)}return e}function vm(t){return en(t)?t.get():t}function mW({scrapeMotionValuesFromProps:t,createRenderState:e},r,s,i){return{latestValues:fW(r,s,i,t),renderState:e()}}function fW(t,e,r,s){const i={},a=s(t,{});for(const p in a)i[p]=vm(a[p]);let{initial:l,animate:c}=t;const h=Tp(t),u=hN(t);e&&u&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let m=r?r.initial===!1:!1;m=m||l===!1;const f=m?c:l;if(f&&typeof f!="boolean"&&!Sp(f)){const p=Array.isArray(f)?f:[f];for(let g=0;g<p.length;g++){const S=x3(t,p[g]);if(S){const{transitionEnd:N,transition:$,...w}=S;for(const T in w){let A=w[T];if(Array.isArray(A)){const I=m?A.length-1:0;A=A[I]}A!==null&&(i[T]=A)}for(const T in N)i[T]=N[T]}}}return i}const gN=t=>(e,r)=>{const s=_.useContext(wp),i=_.useContext(jp),a=()=>mW(t,e,s,i);return r?a():Hv(a)};function v3(t,e,r){var a;const{style:s}=t,i={};for(const l in s)(en(s[l])||e.style&&en(e.style[l])||uN(l,t)||((a=r==null?void 0:r.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(i[l]=s[l]);return i}const pW=gN({scrapeMotionValuesFromProps:v3,createRenderState:p3});function xN(t,e,r){const s=v3(t,e,r);for(const i in t)if(en(t[i])||en(e[i])){const a=p0.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;s[a]=t[i]}return s}const gW=gN({scrapeMotionValuesFromProps:xN,createRenderState:fN}),xW=Symbol.for("motionComponentSymbol");function vc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function vW(t,e,r){return _.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),r&&(typeof r=="function"?r(s):vc(r)&&(r.current=s))},[e])}const y3=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),yW="framerAppearId",vN="data-"+y3(yW),yN=_.createContext({});function bW(t,e,r,s,i){var N,$;const{visualElement:a}=_.useContext(wp),l=_.useContext(lN),c=_.useContext(jp),h=_.useContext(u3).reducedMotion,u=_.useRef(null);s=s||l.renderer,!u.current&&s&&(u.current=s(t,{visualState:e,parent:a,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const m=u.current,f=_.useContext(yN);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&jW(u.current,r,i,f);const p=_.useRef(!1);_.useInsertionEffect(()=>{m&&p.current&&m.update(r,c)});const g=r[vN],S=_.useRef(!!g&&!((N=window.MotionHandoffIsComplete)!=null&&N.call(window,g))&&(($=window.MotionHasOptimisedAnimation)==null?void 0:$.call(window,g)));return pA(()=>{m&&(p.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),S.current&&m.animationState&&m.animationState.animateChanges())}),_.useEffect(()=>{m&&(!S.current&&m.animationState&&m.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,g)}),S.current=!1),m.enteringChildren=void 0)}),m}function jW(t,e,r,s){const{layoutId:i,layout:a,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:u,layoutCrossfade:m}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:bN(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||c&&vc(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:m,layoutScroll:h,layoutRoot:u})}function bN(t){if(t)return t.options.allowProjection!==!1?t.projection:bN(t.parent)}function pg(t,{forwardMotionProps:e=!1}={},r,s){r&&WK(r);const i=g3(t)?gW:pW;function a(c,h){let u;const m={..._.useContext(u3),...c,layoutId:wW(c)},{isStatic:f}=m,p=JK(c),g=i(c,f);if(!f&&Fv){SW();const S=TW(m);u=S.MeasureLayout,p.visualElement=bW(t,g,m,s,S.ProjectionNode)}return n.jsxs(wp.Provider,{value:p,children:[u&&p.visualElement?n.jsx(u,{visualElement:p.visualElement,...m}):null,dW(t,c,vW(g,p.visualElement,h),g,f,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=_.forwardRef(a);return l[xW]=t,l}function wW({layoutId:t}){const e=_.useContext(Bv).id;return e&&t!==void 0?e+"-"+t:t}function SW(t,e){_.useContext(lN).strict}function TW(t){const{drag:e,layout:r}=Jc;if(!e&&!r)return{};const s={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function kW(t,e){if(typeof Proxy>"u")return pg;const r=new Map,s=(a,l)=>pg(a,l,t,e),i=(a,l)=>s(a,l);return new Proxy(i,{get:(a,l)=>l==="create"?s:(r.has(l)||r.set(l,pg(l,void 0,t,e)),r.get(l))})}function jN({top:t,left:e,right:r,bottom:s}){return{x:{min:e,max:r},y:{min:t,max:s}}}function AW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function NW(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:s.y,right:s.x}}function gg(t){return t===void 0||t===1}function $2({scale:t,scaleX:e,scaleY:r}){return!gg(t)||!gg(e)||!gg(r)}function ll(t){return $2(t)||wN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wN(t){return Nb(t.x)||Nb(t.y)}function Nb(t){return t&&t!=="0%"}function kf(t,e,r){const s=t-r,i=e*s;return r+i}function Eb(t,e,r,s,i){return i!==void 0&&(t=kf(t,i,s)),kf(t,r,s)+e}function z2(t,e=0,r=1,s,i){t.min=Eb(t.min,e,r,s,i),t.max=Eb(t.max,e,r,s,i)}function SN(t,{x:e,y:r}){z2(t.x,e.translate,e.scale,e.originPoint),z2(t.y,r.translate,r.scale,r.originPoint)}const Cb=.999999999999,Mb=1.0000000000001;function EW(t,e,r,s=!1){const i=r.length;if(!i)return;e.x=e.y=1;let a,l;for(let c=0;c<i;c++){a=r[c],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&bc(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,SN(t,l)),s&&ll(a.latestValues)&&bc(t,a.latestValues))}e.x<Mb&&e.x>Cb&&(e.x=1),e.y<Mb&&e.y>Cb&&(e.y=1)}function yc(t,e){t.min=t.min+e,t.max=t.max+e}function _b(t,e,r,s,i=.5){const a=tr(t.min,t.max,i);z2(t,e,r,a,s)}function bc(t,e){_b(t.x,e.x,e.scaleX,e.scale,e.originX),_b(t.y,e.y,e.scaleY,e.scale,e.originY)}function TN(t,e){return jN(NW(t.getBoundingClientRect(),e))}function CW(t,e,r){const s=TN(t,r),{scroll:i}=e;return i&&(yc(s.x,i.offset.x),yc(s.y,i.offset.y)),s}const $b=()=>({translate:0,scale:1,origin:0,originPoint:0}),jc=()=>({x:$b(),y:$b()}),zb=()=>({min:0,max:0}),Nr=()=>({x:zb(),y:zb()}),D2={current:null},kN={current:!1};function MW(){if(kN.current=!0,!!Fv)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>D2.current=t.matches;t.addEventListener("change",e),e()}else D2.current=!1}const _W=new WeakMap;function $W(t,e,r){for(const s in e){const i=e[s],a=r[s];if(en(i))t.addValue(s,i);else if(en(a))t.addValue(s,Qc(i,{owner:t}));else if(a!==i)if(t.hasValue(s)){const l=t.getValue(s);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=t.getStaticValue(s);t.addValue(s,Qc(l!==void 0?l:i,{owner:t}))}}for(const s in r)e[s]===void 0&&t.removeValue(s);return e}const Db=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class zW{scrapeMotionValuesFromProps(e,r,s){return{}}constructor({parent:e,props:r,presenceContext:s,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=a3,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Nn.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Bt.render(this.render,!1,!0))};const{latestValues:h,renderState:u}=l;this.latestValues=h,this.baseTarget={...h},this.initialValues=r.initial?{...h}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Tp(r),this.isVariantNode=hN(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in f){const g=f[p];h[p]!==void 0&&en(g)&&g.set(h[p])}}mount(e){var r;this.current=e,_W.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),kN.current||MW(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:D2.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ao(this.notifyUpdate),Ao(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const s=this.features[r];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=g0.has(e);s&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Bt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Jc){const r=Jc[e];if(!r)continue;const{isEnabled:s,Feature:i}=r;if(!this.features[e]&&i&&s(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Nr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let s=0;s<Db.length;s++){const i=Db[s];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=e[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=$W(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const s=this.values.get(e);r!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&r!==void 0&&(s=Qc(r===null?void 0:r,{owner:this}),this.addValue(e,s)),s}readValue(e,r){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(gA(s)||vA(s))?s=parseFloat(s):!qK(s)&&No.test(r)&&(s=eN(e,r)),this.setBaseTarget(e,en(s)?s.get():s)),en(s)?s.get():s}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var a;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=x3(this.props,r,(a=this.presenceContext)==null?void 0:a.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!en(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Xv),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){c3.render(this.render)}}class AN extends zW{constructor(){super(...arguments),this.KeyframeResolver=CK}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:s}){delete r[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;en(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function NN(t,{style:e,vars:r},s,i){const a=t.style;let l;for(l in e)a[l]=e[l];i==null||i.applyProjectionStyles(a,s);for(l in r)a.setProperty(l,r[l])}function DW(t){return window.getComputedStyle(t)}class IW extends AN{constructor(){super(...arguments),this.type="html",this.renderInstance=NN}readValueFromInstance(e,r){var s;if(g0.has(r))return(s=this.projection)!=null&&s.isProjecting?T2(r):WV(e,r);{const i=DW(e),a=($A(r)?i.getPropertyValue(r):i[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return TN(e,r)}build(e,r,s){f3(e,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,r,s){return v3(e,r,s)}}const EN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function RW(t,e,r,s){NN(t,e,void 0,s);for(const i in e.attrs)t.setAttribute(EN.has(i)?i:y3(i),e.attrs[i])}class GW extends AN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Nr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(g0.has(r)){const s=JA(r);return s&&s.default||0}return r=EN.has(r)?r:y3(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,s){return xN(e,r,s)}build(e,r,s){mN(e,r,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,r,s,i){RW(e,r,s,i)}mount(e){this.isSVGTag=pN(e.tagName),super.mount(e)}}const OW=(t,e)=>g3(t)?new GW(e):new IW(e,{allowProjection:t!==_.Fragment});function Ic(t,e,r){const s=t.getProps();return x3(s,e,r!==void 0?r:s.custom,t)}const I2=t=>Array.isArray(t);function PW(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Qc(r))}function LW(t){return I2(t)?t[t.length-1]||0:t}function qW(t,e){const r=Ic(t,e);let{transitionEnd:s={},transition:i={},...a}=r||{};a={...a,...s};for(const l in a){const c=LW(a[l]);PW(t,l,c)}}function BW(t){return!!(en(t)&&t.add)}function R2(t,e){const r=t.getValue("willChange");if(BW(r))return r.add(e);if(!r&&ca.WillChange){const s=new ca.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function CN(t){return t.props[vN]}const HW=t=>t!==null;function FW(t,{repeat:e,repeatType:r="loop"},s){const i=t.filter(HW),a=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[a]}const UW={type:"spring",stiffness:500,damping:25,restSpeed:10},VW=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),KW={type:"keyframes",duration:.8},WW={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XW=(t,{keyframes:e})=>e.length>2?KW:g0.has(t)?t.startsWith("scale")?VW(e[1]):UW:WW;function YW({when:t,delay:e,delayChildren:r,staggerChildren:s,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:c,from:h,elapsed:u,...m}){return!!Object.keys(m).length}const b3=(t,e,r,s={},i,a)=>l=>{const c=o3(s,t)||{},h=c.delay||s.delay||0;let{elapsed:u=0}=s;u=u-si(h);const m={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-u,onUpdate:p=>{e.set(p),c.onUpdate&&c.onUpdate(p)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:i};YW(c)||Object.assign(m,XW(t,m)),m.duration&&(m.duration=si(m.duration)),m.repeatDelay&&(m.repeatDelay=si(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let f=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(C2(m),m.delay===0&&(f=!0)),(ca.instantAnimations||ca.skipAnimations)&&(f=!0,C2(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,f&&!a&&e.get()!==void 0){const p=FW(m.keyframes,c);if(p!==void 0){Bt.update(()=>{m.onUpdate(p),m.onComplete()});return}}return c.isSync?new i3(m):new xK(m)};function ZW({protectedKeys:t,needsAnimating:e},r){const s=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,s}function MN(t,e,{delay:r=0,transitionOverride:s,type:i}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...c}=e;s&&(a=s);const h=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const m in c){const f=t.getValue(m,t.latestValues[m]??null),p=c[m];if(p===void 0||u&&ZW(u,m))continue;const g={delay:r,...o3(a||{},m)},S=f.get();if(S!==void 0&&!f.isAnimating&&!Array.isArray(p)&&p===S&&!g.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const w=CN(t);if(w){const T=window.MotionHandoffAnimation(w,m,Bt);T!==null&&(g.startTime=T,N=!0)}}R2(t,m),f.start(b3(m,f,p,t.shouldReduceMotion&&YA.has(m)?{type:!1}:g,t,N));const $=f.animation;$&&h.push($)}return l&&Promise.all(h).then(()=>{Bt.update(()=>{l&&qW(t,l)})}),h}function _N(t,e,r,s=0,i=1){const a=Array.from(t).sort((u,m)=>u.sortNodePosition(m)).indexOf(e),l=t.size,c=(l-1)*s;return typeof r=="function"?r(a,l):i===1?a*s:c-a*s}function G2(t,e,r={}){var h;const s=Ic(t,e,r.type==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(i=r.transitionOverride);const a=s?()=>Promise.all(MN(t,s,r)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:m=0,staggerChildren:f,staggerDirection:p}=i;return QW(t,e,u,m,f,p,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[u,m]=c==="beforeChildren"?[a,l]:[l,a];return u().then(()=>m())}else return Promise.all([a(),l(r.delay)])}function QW(t,e,r=0,s=0,i=0,a=1,l){const c=[];for(const h of t.variantChildren)h.notify("AnimationStart",e),c.push(G2(h,e,{...l,delay:r+(typeof s=="function"?0:s)+_N(t.variantChildren,h,s,i,a)}).then(()=>h.notify("AnimationComplete",e)));return Promise.all(c)}function JW(t,e,r={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const i=e.map(a=>G2(t,a,r));s=Promise.all(i)}else if(typeof e=="string")s=G2(t,e,r);else{const i=typeof e=="function"?Ic(t,e,r.custom):e;s=Promise.all(MN(t,i,r))}return s.then(()=>{t.notify("AnimationComplete",e)})}function $N(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let s=0;s<r;s++)if(e[s]!==t[s])return!1;return!0}const eX=m3.length;function zN(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?zN(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<eX;r++){const s=m3[r],i=t.props[s];(iu(i)||i===!1)&&(e[s]=i)}return e}const tX=[...d3].reverse(),rX=d3.length;function nX(t){return e=>Promise.all(e.map(({animation:r,options:s})=>JW(t,r,s)))}function sX(t){let e=nX(t),r=Ib(),s=!0;const i=h=>(u,m)=>{var p;const f=Ic(t,m,h==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:g,transitionEnd:S,...N}=f;u={...u,...N,...S}}return u};function a(h){e=h(t)}function l(h){const{props:u}=t,m=zN(t.parent)||{},f=[],p=new Set;let g={},S=1/0;for(let $=0;$<rX;$++){const w=tX[$],T=r[w],A=u[w]!==void 0?u[w]:m[w],I=iu(A),B=w===h?T.isActive:null;B===!1&&(S=$);let Q=A===m[w]&&A!==u[w]&&I;if(Q&&s&&t.manuallyAnimateOnMount&&(Q=!1),T.protectedKeys={...g},!T.isActive&&B===null||!A&&!T.prevProp||Sp(A)||typeof A=="boolean")continue;const D=iX(T.prevProp,A);let E=D||w===h&&T.isActive&&!Q&&I||$>S&&I,z=!1;const O=Array.isArray(A)?A:[A];let L=O.reduce(i(w),{});B===!1&&(L={});const{prevResolvedValues:H={}}=T,q={...H,...L},ye=re=>{E=!0,p.has(re)&&(z=!0,p.delete(re)),T.needsAnimating[re]=!0;const F=t.getValue(re);F&&(F.liveStyle=!1)};for(const re in q){const F=L[re],le=H[re];if(g.hasOwnProperty(re))continue;let W=!1;I2(F)&&I2(le)?W=!$N(F,le):W=F!==le,W?F!=null?ye(re):p.add(re):F!==void 0&&p.has(re)?ye(re):T.protectedKeys[re]=!0}T.prevProp=A,T.prevResolvedValues=L,T.isActive&&(g={...g,...L}),s&&t.blockInitialAnimation&&(E=!1);const de=Q&&D;E&&(!de||z)&&f.push(...O.map(re=>{const F={type:w};if(typeof re=="string"&&s&&!de&&t.manuallyAnimateOnMount&&t.parent){const{parent:le}=t,W=Ic(le,re);if(le.enteringChildren&&W){const{delayChildren:te}=W.transition||{};F.delay=_N(le.enteringChildren,t,te)}}return{animation:re,options:F}}))}if(p.size){const $={};if(typeof u.initial!="boolean"){const w=Ic(t,Array.isArray(u.initial)?u.initial[0]:u.initial);w&&w.transition&&($.transition=w.transition)}p.forEach(w=>{const T=t.getBaseTarget(w),A=t.getValue(w);A&&(A.liveStyle=!0),$[w]=T??null}),f.push({animation:$})}let N=!!f.length;return s&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(N=!1),s=!1,N?e(f):Promise.resolve()}function c(h,u){var f;if(r[h].isActive===u)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(p=>{var g;return(g=p.animationState)==null?void 0:g.setActive(h,u)}),r[h].isActive=u;const m=l(h);for(const p in r)r[p].protectedKeys={};return m}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>r,reset:()=>{r=Ib()}}}function iX(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!$N(e,t):!1}function Jo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ib(){return{animate:Jo(!0),whileInView:Jo(),whileHover:Jo(),whileTap:Jo(),whileDrag:Jo(),whileFocus:Jo(),exit:Jo()}}class Go{constructor(e){this.isMounted=!1,this.node=e}update(){}}class aX extends Go{constructor(e){super(e),e.animationState||(e.animationState=sX(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Sp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let oX=0;class lX extends Go{constructor(){super(...arguments),this.id=oX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const cX={animation:{Feature:aX},exit:{Feature:lX}};function au(t,e,r,s={passive:!0}){return t.addEventListener(e,r,s),()=>t.removeEventListener(e,r)}function Ru(t){return{point:{x:t.pageX,y:t.pageY}}}const hX=t=>e=>h3(e)&&t(e,Ru(e));function Ch(t,e,r,s){return au(t,e,hX(r),s)}const DN=1e-4,uX=1-DN,dX=1+DN,IN=.01,mX=0-IN,fX=0+IN;function hn(t){return t.max-t.min}function pX(t,e,r){return Math.abs(t-e)<=r}function Rb(t,e,r,s=.5){t.origin=s,t.originPoint=tr(e.min,e.max,t.origin),t.scale=hn(r)/hn(e),t.translate=tr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=uX&&t.scale<=dX||isNaN(t.scale))&&(t.scale=1),(t.translate>=mX&&t.translate<=fX||isNaN(t.translate))&&(t.translate=0)}function Mh(t,e,r,s){Rb(t.x,e.x,r.x,s?s.originX:void 0),Rb(t.y,e.y,r.y,s?s.originY:void 0)}function Gb(t,e,r){t.min=r.min+e.min,t.max=t.min+hn(e)}function gX(t,e,r){Gb(t.x,e.x,r.x),Gb(t.y,e.y,r.y)}function Ob(t,e,r){t.min=e.min-r.min,t.max=t.min+hn(e)}function Af(t,e,r){Ob(t.x,e.x,r.x),Ob(t.y,e.y,r.y)}function es(t){return[t("x"),t("y")]}const RN=({current:t})=>t?t.ownerDocument.defaultView:null,Pb=(t,e)=>Math.abs(t-e);function xX(t,e){const r=Pb(t.x,e.x),s=Pb(t.y,e.y);return Math.sqrt(r**2+s**2)}class GN{constructor(e,r,{transformPagePoint:s,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=vg(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,S=xX(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!S)return;const{point:N}=p,{timestamp:$}=Ur;this.history.push({...N,timestamp:$});const{onStart:w,onMove:T}=this.handlers;g||(w&&w(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=xg(g,this.transformPagePoint),Bt.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:S,onSessionEnd:N,resumeAnimation:$}=this.handlers;if(this.dragSnapToOrigin&&$&&$(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=vg(p.type==="pointercancel"?this.lastMoveEventInfo:xg(g,this.transformPagePoint),this.history);this.startEvent&&S&&S(p,w),N&&N(p,w)},!h3(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=s,this.distanceThreshold=l,this.contextWindow=i||window;const c=Ru(e),h=xg(c,this.transformPagePoint),{point:u}=h,{timestamp:m}=Ur;this.history=[{...u,timestamp:m}];const{onSessionStart:f}=r;f&&f(e,vg(h,this.history)),this.removeListeners=zu(Ch(this.contextWindow,"pointermove",this.handlePointerMove),Ch(this.contextWindow,"pointerup",this.handlePointerUp),Ch(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ao(this.updatePoint)}}function xg(t,e){return e?{point:e(t.point)}:t}function Lb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vg({point:t},e){return{point:t,delta:Lb(t,ON(e)),offset:Lb(t,vX(e)),velocity:yX(e,.1)}}function vX(t){return t[0]}function ON(t){return t[t.length-1]}function yX(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,s=null;const i=ON(t);for(;r>=0&&(s=t[r],!(i.timestamp-s.timestamp>si(e)));)r--;if(!s)return{x:0,y:0};const a=hs(i.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-s.x)/a,y:(i.y-s.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function bX(t,{min:e,max:r},s){return e!==void 0&&t<e?t=s?tr(e,t,s.min):Math.max(t,e):r!==void 0&&t>r&&(t=s?tr(r,t,s.max):Math.min(t,r)),t}function qb(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function jX(t,{top:e,left:r,bottom:s,right:i}){return{x:qb(t.x,r,i),y:qb(t.y,e,s)}}function Bb(t,e){let r=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,s]=[s,r]),{min:r,max:s}}function wX(t,e){return{x:Bb(t.x,e.x),y:Bb(t.y,e.y)}}function SX(t,e){let r=.5;const s=hn(t),i=hn(e);return i>s?r=tu(e.min,e.max-s,t.min):s>i&&(r=tu(t.min,t.max-i,e.min)),la(0,1,r)}function TX(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const O2=.35;function kX(t=O2){return t===!1?t=0:t===!0&&(t=O2),{x:Hb(t,"left","right"),y:Hb(t,"top","bottom")}}function Hb(t,e,r){return{min:Fb(t,e),max:Fb(t,r)}}function Fb(t,e){return typeof t=="number"?t:t[e]||0}const AX=new WeakMap;class NX{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Nr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:s}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ru(f).point)},l=(f,p)=>{const{drag:g,dragPropagation:S,onDragStart:N}=this.getProps();if(g&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zK(g),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),es(w=>{let T=this.getAxisMotionValue(w).get()||0;if(ii.test(T)){const{projection:A}=this.visualElement;if(A&&A.layout){const I=A.layout.layoutBox[w];I&&(T=hn(I)*(parseFloat(T)/100))}}this.originPoint[w]=T}),N&&Bt.postRender(()=>N(f,p)),R2(this.visualElement,"transform");const{animationState:$}=this.visualElement;$&&$.setActive("whileDrag",!0)},c=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:S,onDirectionLock:N,onDrag:$}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:w}=p;if(S&&this.currentDirection===null){this.currentDirection=EX(w),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",p.point,w),this.updateAxis("y",p.point,w),this.visualElement.render(),$&&$(f,p)},h=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>es(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)==null?void 0:p.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new GN(e,{onSessionStart:a,onStart:l,onMove:c,onSessionEnd:h,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:s,contextWindow:RN(this.visualElement)})}stop(e,r){const s=e||this.latestPointerEvent,i=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!s)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&Bt.postRender(()=>c(s,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,s){const{drag:i}=this.getProps();if(!s||!Gd(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(l=bX(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;e&&vc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=jX(s.layoutBox,e):this.constraints=!1,this.elastic=kX(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&es(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=TX(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!vc(e))return!1;const s=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=CW(s,i.root,this.visualElement.getTransformPagePoint());let l=wX(i.layout.layoutBox,a);if(r){const c=r(AW(l));this.hasMutatedConstraints=!!c,c&&(l=jN(c))}return l}startAnimation(e){const{drag:r,dragMomentum:s,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},u=es(m=>{if(!Gd(m,r,this.currentDirection))return;let f=h&&h[m]||{};l&&(f={min:0,max:0});const p=i?200:1e6,g=i?40:1e7,S={type:"inertia",velocity:s?e[m]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(m,S)});return Promise.all(u).then(c)}startAxisValueAnimation(e,r){const s=this.getAxisMotionValue(e);return R2(this.visualElement,e),s.start(b3(e,s,0,r,this.visualElement,!1))}stopAnimation(){es(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){es(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),i=s[r];return i||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){es(r=>{const{drag:s}=this.getProps();if(!Gd(r,s,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[r];a.set(e[r]-tr(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:s}=this.visualElement;if(!vc(r)||!s||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};es(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();i[l]=SX({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),es(l=>{if(!Gd(l,e,null))return;const c=this.getAxisMotionValue(l),{min:h,max:u}=this.constraints[l];c.set(tr(h,u,i[l]))})}addListeners(){if(!this.visualElement.current)return;AX.set(this.visualElement,this);const e=this.visualElement.current,r=Ch(e,"pointerdown",h=>{const{drag:u,dragListener:m=!0}=this.getProps();u&&m&&this.start(h)}),s=()=>{const{dragConstraints:h}=this.getProps();vc(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",s);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Bt.read(s);const l=au(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:u})=>{this.isDragging&&u&&(es(m=>{const f=this.getAxisMotionValue(m);f&&(this.originPoint[m]+=h[m].translate,f.set(f.get()+h[m].translate))}),this.visualElement.render())});return()=>{l(),r(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:s=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=O2,dragMomentum:c=!0}=e;return{...e,drag:r,dragDirectionLock:s,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function Gd(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function EX(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class CX extends Go{constructor(e){super(e),this.removeGroupControls=fs,this.removeListeners=fs,this.controls=new NX(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||fs}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ub=t=>(e,r)=>{t&&Bt.postRender(()=>t(e,r))};class MX extends Go{constructor(){super(...arguments),this.removePointerDownListener=fs}onPointerDown(e){this.session=new GN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:RN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:s,onPanEnd:i}=this.node.getProps();return{onSessionStart:Ub(e),onStart:Ub(r),onMove:s,onEnd:(a,l)=>{delete this.session,i&&Bt.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=Ch(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ym={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let yg=!1;class _X extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s,layoutId:i}=this.props,{projection:a}=e;a&&(r.group&&r.group.add(a),s&&s.register&&i&&s.register(a),yg&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),ym.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:s,drag:i,isPresent:a}=this.props,{projection:l}=s;return l&&(l.isPresent=a,yg=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Bt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),c3.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:s}=this.props,{projection:i}=e;yg=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),s&&s.deregister&&s.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function PN(t){const[e,r]=oN(),s=_.useContext(Bv);return n.jsx(_X,{...t,layoutGroup:s,switchLayoutGroup:_.useContext(yN),isPresent:e,safeToRemove:r})}function $X(t,e,r){const s=en(t)?t:Qc(t);return s.start(b3("",s,e,r)),s.animation}const zX=(t,e)=>t.depth-e.depth;class DX{constructor(){this.children=[],this.isDirty=!1}add(e){Uv(this.children,e),this.isDirty=!0}remove(e){Vv(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zX),this.isDirty=!1,this.children.forEach(e)}}function IX(t,e){const r=Nn.now(),s=({timestamp:i})=>{const a=i-r;a>=e&&(Ao(s),t(a-e))};return Bt.setup(s,!0),()=>Ao(s)}const LN=["TopLeft","TopRight","BottomLeft","BottomRight"],RX=LN.length,Vb=t=>typeof t=="string"?parseFloat(t):t,Kb=t=>typeof t=="number"||Je.test(t);function GX(t,e,r,s,i,a){i?(t.opacity=tr(0,r.opacity??1,OX(s)),t.opacityExit=tr(e.opacity??1,0,PX(s))):a&&(t.opacity=tr(e.opacity??1,r.opacity??1,s));for(let l=0;l<RX;l++){const c=`border${LN[l]}Radius`;let h=Wb(e,c),u=Wb(r,c);if(h===void 0&&u===void 0)continue;h||(h=0),u||(u=0),h===0||u===0||Kb(h)===Kb(u)?(t[c]=Math.max(tr(Vb(h),Vb(u),s),0),(ii.test(u)||ii.test(h))&&(t[c]+="%")):t[c]=u}(e.rotate||r.rotate)&&(t.rotate=tr(e.rotate||0,r.rotate||0,s))}function Wb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const OX=qN(0,.5,AA),PX=qN(.5,.95,fs);function qN(t,e,r){return s=>s<t?0:s>e?1:r(tu(t,e,s))}function Xb(t,e){t.min=e.min,t.max=e.max}function Es(t,e){Xb(t.x,e.x),Xb(t.y,e.y)}function Yb(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Zb(t,e,r,s,i){return t-=e,t=kf(t,1/r,s),i!==void 0&&(t=kf(t,1/i,s)),t}function LX(t,e=0,r=1,s=.5,i,a=t,l=t){if(ii.test(e)&&(e=parseFloat(e),e=tr(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=tr(a.min,a.max,s);t===a&&(c-=e),t.min=Zb(t.min,e,r,c,i),t.max=Zb(t.max,e,r,c,i)}function Qb(t,e,[r,s,i],a,l){LX(t,e[r],e[s],e[i],e.scale,a,l)}const qX=["x","scaleX","originX"],BX=["y","scaleY","originY"];function Jb(t,e,r,s){Qb(t.x,e,qX,r?r.x:void 0,s?s.x:void 0),Qb(t.y,e,BX,r?r.y:void 0,s?s.y:void 0)}function ej(t){return t.translate===0&&t.scale===1}function BN(t){return ej(t.x)&&ej(t.y)}function tj(t,e){return t.min===e.min&&t.max===e.max}function HX(t,e){return tj(t.x,e.x)&&tj(t.y,e.y)}function rj(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function HN(t,e){return rj(t.x,e.x)&&rj(t.y,e.y)}function nj(t){return hn(t.x)/hn(t.y)}function sj(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class FX{constructor(){this.members=[]}add(e){Uv(this.members,e),e.scheduleRender()}remove(e){if(Vv(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let s;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,r){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,r&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:s}=e;r.onExitComplete&&r.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UX(t,e,r){let s="";const i=t.x.translate/e.x,a=t.y.translate/e.y,l=(r==null?void 0:r.z)||0;if((i||a||l)&&(s=`translate3d(${i}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:m,rotateX:f,rotateY:p,skewX:g,skewY:S}=r;u&&(s=`perspective(${u}px) ${s}`),m&&(s+=`rotate(${m}deg) `),f&&(s+=`rotateX(${f}deg) `),p&&(s+=`rotateY(${p}deg) `),g&&(s+=`skewX(${g}deg) `),S&&(s+=`skewY(${S}deg) `)}const c=t.x.scale*e.x,h=t.y.scale*e.y;return(c!==1||h!==1)&&(s+=`scale(${c}, ${h})`),s||"none"}const bg=["","X","Y","Z"],VX=1e3;let KX=0;function jg(t,e,r,s){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),s&&(s[t]=0))}function FN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=CN(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Bt,!(i||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&FN(s)}function UN({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:s,resetTransform:i}){return class{constructor(l={},c=e==null?void 0:e()){this.id=KX++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(YX),this.nodes.forEach(eY),this.nodes.forEach(tY),this.nodes.forEach(ZX)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new DX)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Xv),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=aN(l)&&!PK(l),this.instance=l;const{layoutId:c,layout:h,visualElement:u}=this.options;if(u&&!u.current&&u.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||c)&&(this.isLayoutDirty=!0),t){let m,f=0;const p=()=>this.root.updateBlockedByResize=!1;Bt.read(()=>{f=window.innerWidth}),t(l,()=>{const g=window.innerWidth;g!==f&&(f=g,this.root.updateBlockedByResize=!0,m&&m(),m=IX(p,250),ym.hasAnimatedSinceResize&&(ym.hasAnimatedSinceResize=!1,this.nodes.forEach(oj)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||h)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||u.getDefaultTransition()||aY,{onLayoutAnimationStart:N,onLayoutAnimationComplete:$}=u.getProps(),w=!this.targetLayout||!HN(this.targetLayout,g),T=!f&&p;if(this.options.layoutRoot||this.resumeFrom||T||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...o3(S,"layout"),onPlay:N,onComplete:$};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(m,T)}else f||oj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ao(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(rY),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&FN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const f=this.path[m];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ij);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(aj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(JX),this.nodes.forEach(WX),this.nodes.forEach(XX)):this.nodes.forEach(aj),this.clearAllSnapshots();const c=Nn.now();Ur.delta=la(0,1e3/60,c-Ur.timestamp),Ur.timestamp=c,Ur.isProcessing=!0,cg.update.process(Ur),cg.preRender.process(Ur),cg.render.process(Ur),Ur.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,c3.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(QX),this.sharedNodes.forEach(nY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!hn(this.snapshot.measuredBox.x)&&!hn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Nr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const h=s(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!BN(this.projectionDelta),h=this.getTransformTemplate(),u=h?h(this.latestValues,""):void 0,m=u!==this.prevTransformTemplateValue;l&&this.instance&&(c||ll(this.latestValues)||m)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),oY(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:l}=this.options;if(!l)return Nr();const c=l.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(lY))){const{scroll:m}=this.root;m&&(yc(c.x,m.offset.x),yc(c.y,m.offset.y))}return c}removeElementScroll(l){var h;const c=Nr();if(Es(c,l),(h=this.scroll)!=null&&h.wasRoot)return c;for(let u=0;u<this.path.length;u++){const m=this.path[u],{scroll:f,options:p}=m;m!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Es(c,l),yc(c.x,f.offset.x),yc(c.y,f.offset.y))}return c}applyTransform(l,c=!1){const h=Nr();Es(h,l);for(let u=0;u<this.path.length;u++){const m=this.path[u];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&bc(h,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),ll(m.latestValues)&&bc(h,m.latestValues)}return ll(this.latestValues)&&bc(h,this.latestValues),h}removeTransform(l){const c=Nr();Es(c,l);for(let h=0;h<this.path.length;h++){const u=this.path[h];if(!u.instance||!ll(u.latestValues))continue;$2(u.latestValues)&&u.updateSnapshot();const m=Nr(),f=u.measurePageBox();Es(m,f),Jb(c,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,m)}return ll(this.latestValues)&&Jb(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ur.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var g;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(l||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:f}=this.options;if(!this.layout||!(m||f))return;this.resolvedRelativeTargetAt=Ur.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Nr(),this.targetWithTransforms=Nr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Es(this.target,this.layout.layoutBox),SN(this.target,this.targetDelta)):Es(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||$2(this.parent.latestValues)||wN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,c,h){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Nr(),this.relativeTargetOrigin=Nr(),Af(this.relativeTargetOrigin,c,h),Es(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var S;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let h=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Ur.timestamp&&(h=!1),h)return;const{layout:u,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||m))return;Es(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;EW(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Nr());const{target:g}=l;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Yb(this.prevProjectionDelta.x,this.projectionDelta.x),Yb(this.prevProjectionDelta.y,this.projectionDelta.y)),Mh(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!sj(this.projectionDelta.x,this.prevProjectionDelta.x)||!sj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=jc(),this.projectionDelta=jc(),this.projectionDeltaWithTransform=jc()}setAnimationOrigin(l,c=!1){const h=this.snapshot,u=h?h.latestValues:{},m={...this.latestValues},f=jc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const p=Nr(),g=h?h.source:void 0,S=this.layout?this.layout.source:void 0,N=g!==S,$=this.getStack(),w=!$||$.members.length<=1,T=!!(N&&!w&&this.options.crossfade===!0&&!this.path.some(iY));this.animationProgress=0;let A;this.mixTargetDelta=I=>{const B=I/1e3;lj(f.x,l.x,B),lj(f.y,l.y,B),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Af(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),sY(this.relativeTarget,this.relativeTargetOrigin,p,B),A&&HX(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=Nr()),Es(A,this.relativeTarget)),N&&(this.animationValues=m,GX(m,u,this.latestValues,B,T,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var c,h,u;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(u=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Ao(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bt.update(()=>{ym.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qc(0)),this.currentAnimation=$X(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:m=>{this.mixTargetDelta(m),l.onUpdate&&l.onUpdate(m)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(VX),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:u,latestValues:m}=l;if(!(!c||!h||!u)){if(this!==l&&this.layout&&u&&VN(this.options.animationType,this.layout.layoutBox,u.layoutBox)){h=this.target||Nr();const f=hn(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+f;const p=hn(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+p}Es(c,h),bc(c,m),Mh(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new FX),this.sharedNodes.get(l).add(c);const u=c.options.initialPromotionConfig;c.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const u=this.getStack();u&&u.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const u={};h.z&&jg("z",l,u,this.animationValues);for(let m=0;m<bg.length;m++)jg(`rotate${bg[m]}`,l,u,this.animationValues),jg(`skew${bg[m]}`,l,u,this.animationValues);l.render();for(const m in u)l.setStaticValue(m,u[m]),this.animationValues&&(this.animationValues[m]=u[m]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=vm(c==null?void 0:c.pointerEvents)||"",l.transform=h?h(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=vm(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!ll(this.latestValues)&&(l.transform=h?h({},""):"none",this.hasProjected=!1);return}l.visibility="";const m=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=UX(this.projectionDeltaWithTransform,this.treeScale,m);h&&(f=h(m,f)),l.transform=f;const{x:p,y:g}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,u.animationValues?l.opacity=u===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:l.opacity=u===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const S in _2){if(m[S]===void 0)continue;const{correct:N,applyTo:$,isCSSVariable:w}=_2[S],T=f==="none"?m[S]:N(m[S],u);if($){const A=$.length;for(let I=0;I<A;I++)l[$[I]]=T}else w?this.options.visualElement.renderState.vars[S]=T:l[S]=T}this.options.layoutId&&(l.pointerEvents=u===this?vm(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(ij),this.root.sharedNodes.clear()}}}function WX(t){t.updateLayout()}function XX(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?es(f=>{const p=l?e.measuredBox[f]:e.layoutBox[f],g=hn(p);p.min=s[f].min,p.max=p.min+g}):VN(a,e.layoutBox,s)&&es(f=>{const p=l?e.measuredBox[f]:e.layoutBox[f],g=hn(s[f]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const c=jc();Mh(c,s,e.layoutBox);const h=jc();l?Mh(h,t.applyTransform(i,!0),e.measuredBox):Mh(h,s,e.layoutBox);const u=!BN(c);let m=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:g}=f;if(p&&g){const S=Nr();Af(S,e.layoutBox,p.layoutBox);const N=Nr();Af(N,s,g.layoutBox),HN(S,N)||(m=!0),f.options.layoutRoot&&(t.relativeTarget=N,t.relativeTargetOrigin=S,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:u,hasRelativeLayoutChanged:m})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function YX(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ZX(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function QX(t){t.clearSnapshot()}function ij(t){t.clearMeasurements()}function aj(t){t.isLayoutDirty=!1}function JX(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function oj(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function eY(t){t.resolveTargetDelta()}function tY(t){t.calcProjection()}function rY(t){t.resetSkewAndRotation()}function nY(t){t.removeLeadSnapshot()}function lj(t,e,r){t.translate=tr(e.translate,0,r),t.scale=tr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function cj(t,e,r,s){t.min=tr(e.min,r.min,s),t.max=tr(e.max,r.max,s)}function sY(t,e,r,s){cj(t.x,e.x,r.x,s),cj(t.y,e.y,r.y,s)}function iY(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const aY={duration:.45,ease:[.4,0,.1,1]},hj=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),uj=hj("applewebkit/")&&!hj("chrome/")?Math.round:fs;function dj(t){t.min=uj(t.min),t.max=uj(t.max)}function oY(t){dj(t.x),dj(t.y)}function VN(t,e,r){return t==="position"||t==="preserve-aspect"&&!pX(nj(e),nj(r),.2)}function lY(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const cY=UN({attachResizeListener:(t,e)=>au(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wg={current:void 0},KN=UN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!wg.current){const t=new cY({});t.mount(window),t.setOptions({layoutScroll:!0}),wg.current=t}return wg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),hY={pan:{Feature:MX},drag:{Feature:CX,ProjectionNode:KN,MeasureLayout:PN}};function mj(t,e,r){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=s[i];a&&Bt.postRender(()=>a(e,Ru(e)))}class uY extends Go{mount(){const{current:e}=this.node;e&&(this.unmount=DK(e,(r,s)=>(mj(this.node,s,"Start"),i=>mj(this.node,i,"End"))))}unmount(){}}class dY extends Go{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zu(au(this.node.current,"focus",()=>this.onFocus()),au(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fj(t,e,r){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=s[i];a&&Bt.postRender(()=>a(e,Ru(e)))}class mY extends Go{mount(){const{current:e}=this.node;e&&(this.unmount=OK(e,(r,s)=>(fj(this.node,s,"Start"),(i,{success:a})=>fj(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const P2=new WeakMap,Sg=new WeakMap,fY=t=>{const e=P2.get(t.target);e&&e(t)},pY=t=>{t.forEach(fY)};function gY({root:t,...e}){const r=t||document;Sg.has(r)||Sg.set(r,{});const s=Sg.get(r),i=JSON.stringify(e);return s[i]||(s[i]=new IntersectionObserver(pY,{root:t,...e})),s[i]}function xY(t,e,r){const s=gY(e);return P2.set(t,r),s.observe(t),()=>{P2.delete(t),s.unobserve(t)}}const vY={some:0,all:1};class yY extends Go{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:s,amount:i="some",once:a}=e,l={root:r?r.current:void 0,rootMargin:s,threshold:typeof i=="number"?i:vY[i]},c=h=>{const{isIntersecting:u}=h;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:m,onViewportLeave:f}=this.node.getProps(),p=u?m:f;p&&p(h)};return xY(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(bY(e,r))&&this.startObserver()}unmount(){}}function bY({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const jY={inView:{Feature:yY},tap:{Feature:mY},focus:{Feature:dY},hover:{Feature:uY}},wY={layout:{ProjectionNode:KN,MeasureLayout:PN}},SY={...cX,...jY,...hY,...wY},Zs=kW(SY,OW);function WN({xp:t,level:e,compact:r=!1}){const s=$U(t,e);return r?n.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[n.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",e]}),n.jsxs("span",{className:"text-dark-400",children:[t," XP"]})]}):n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:n.jsx("span",{className:"text-sm font-bold text-white",children:e})}),n.jsxs("div",{className:"flex-1 min-w-[80px]",children:[n.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[n.jsxs("span",{className:"text-dark-400",children:["Level ",e]}),n.jsxs("span",{className:"text-primary-400 font-medium",children:[t," XP"]})]}),n.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:n.jsx(Zs.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${s}%`},transition:{duration:.5}})})]})]})}function XN({streak:t}){return t===0?null:n.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[n.jsx("span",{className:"text-orange-400",children:""}),n.jsx("span",{className:"text-sm font-medium text-orange-400",children:t})]})}function TY({level:t,showLabel:e=!1}){const{label:r,color:s,symbol:i}=IU(t);return n.jsxs("div",{className:`flex items-center gap-1.5 ${s}`,children:[n.jsx("span",{className:"text-sm",children:i}),e&&n.jsx("span",{className:"text-xs",children:r})]})}const kY={progress:"",mastery:"",dedication:"",exploration:""};function AY({notification:t,onDismiss:e}){return _.useEffect(()=>{const r=setTimeout(e,5e3);return()=>clearTimeout(r)},[e]),n.jsx(Zs.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"pointer-events-auto",children:n.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl bg-dark-800 border border-primary-500/30 shadow-xl shadow-primary-500/10",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:kY[t.category]||""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-xs text-primary-400 font-medium uppercase tracking-wider mb-0.5",children:"Achievement Unlocked!"}),n.jsx("div",{className:"text-dark-100 font-semibold",children:t.title}),n.jsx("div",{className:"text-sm text-dark-400",children:t.description})]}),n.jsxs("div",{className:"text-right",children:[n.jsxs("div",{className:"text-lg font-bold text-primary-400",children:["+",t.xpReward]}),n.jsx("div",{className:"text-xs text-dark-500",children:"XP"})]}),n.jsx("button",{onClick:e,className:"p-1 text-dark-500 hover:text-dark-300 transition-colors",children:n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function NY(){const{notifications:t,dismissNotification:e}=Pl();return n.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 pointer-events-none",children:n.jsx(su,{mode:"popLayout",children:t.map(r=>n.jsx(AY,{notification:r,onDismiss:()=>e(r.id)},r.id))})})}function EY({onImportSuccess:t}){const[e,r]=_.useState(!1),[s,i]=_.useState(null),[a,l]=_.useState(!1),c=_.useRef(null),h=NU(),u=()=>{TU(),i({type:"success",text:"Progress exported! Check your downloads folder."}),setTimeout(()=>i(null),3e3)},m=()=>{var p;(p=c.current)==null||p.click()},f=async p=>{var N;const g=(N=p.target.files)==null?void 0:N[0];if(!g)return;l(!0),i(null);const S=await AU(g);l(!1),i({type:S.success?"success":"error",text:S.message}),S.success&&(t==null||t(),setTimeout(()=>{window.location.reload()},1500)),c.current&&(c.current.value="")};return n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>r(!e),className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":"Backup & restore progress",title:"Backup & restore progress",children:n.jsx("svg",{className:"w-5 h-5 text-dark-400 hover:text-dark-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),e&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)}),n.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-dark-800 rounded-lg shadow-xl border border-dark-700 z-50 p-4",children:[n.jsx("h3",{className:"text-sm font-semibold text-dark-100 mb-3",children:"Progress Backup"}),h&&n.jsxs("div",{className:"mb-4 p-3 bg-dark-900 rounded-lg",children:[n.jsx("div",{className:"text-xs text-dark-400 mb-1",children:"Current Progress"}),n.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[n.jsxs("span",{className:"text-accent-400 font-semibold",children:[h.totalXP," XP"]}),n.jsxs("span",{className:"text-dark-300",children:["Level ",h.level]}),n.jsxs("span",{className:"text-dark-400",children:[h.sectionsCompleted," sections"]})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("button",{onClick:u,disabled:!h,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Progress"]}),n.jsxs("button",{onClick:m,disabled:a,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),a?"Importing...":"Import Backup"]}),n.jsx("input",{ref:c,type:"file",accept:".json",onChange:f,className:"hidden"})]}),s&&n.jsx("div",{className:`mt-3 p-2 rounded text-xs ${s.type==="success"?"bg-green-900/50 text-green-300 border border-green-700":"bg-red-900/50 text-red-300 border border-red-700"}`,children:s.text}),n.jsx("p",{className:"mt-3 text-xs text-dark-500",children:"Export your progress regularly to avoid losing your XP. Import to restore from a backup file."})]})]})]})}function j3({onToggleSidebar:t,sidebarOpen:e}){const s=Pl();return n.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800",children:n.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":e?"Close sidebar":"Open sidebar",children:n.jsx("svg",{className:"w-6 h-6 text-dark-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e?n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),n.jsxs(Cr,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[n.jsx("span",{className:"text-2xl",children:vS}),n.jsx("h1",{className:"text-lg font-semibold text-dark-100 hidden sm:block",children:J4})]})]}),n.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[n.jsx("a",{href:Sz,className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Hub"}),n.jsx(Cr,{to:"/",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Home"}),n.jsx(Cr,{to:"/theorems",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Theorems"}),n.jsx(Cr,{to:"/interactive",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Interactive"}),n.jsx(Cr,{to:"/leaderboard",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Leaderboard"})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[s&&n.jsxs(n.Fragment,{children:[n.jsx(XN,{streak:s.state.streak.currentStreak}),n.jsx(WN,{xp:s.state.user.totalXP,level:s.state.user.level})]}),n.jsx(EY,{})]})]})})}const Ll=[{id:1,title:"Fundamental Concepts",slug:"fundamental-concepts",sections:[{id:1,title:"1.1 What Is a Graph?",slug:"what-is-a-graph",description:"Definitions, graphs as models, matrices, isomorphism, and special graphs."},{id:2,title:"1.2 Paths, Cycles, and Trails",slug:"paths-cycles-trails",description:"Connection in graphs, bipartite graphs, and Eulerian circuits."},{id:3,title:"1.3 Vertex Degrees and Counting",slug:"vertex-degrees-counting",description:"Counting arguments, extremal problems, and graphic sequences."},{id:4,title:"1.4 Directed Graphs",slug:"directed-graphs",description:"Digraph definitions, vertex degrees, Eulerian digraphs, and tournaments."}]},{id:2,title:"Trees and Distance",slug:"trees-and-distance",sections:[{id:5,title:"2.1 Basic Properties",slug:"basic-properties-trees",description:"Properties of trees, distance in graphs, and spanning trees."},{id:6,title:"2.2 Spanning Trees and Enumeration",slug:"spanning-trees-enumeration",description:"Enumeration of trees, Cayley's formula, and the Matrix Tree Theorem."},{id:7,title:"2.3 Optimization and Trees",slug:"optimization-trees",description:"Minimum spanning trees, shortest paths, and Dijkstra's algorithm."}]},{id:3,title:"Matchings and Factors",slug:"matchings-and-factors",sections:[{id:8,title:"3.1 Matchings and Covers",slug:"matchings-covers",description:"Maximum matchings, Hall's theorem, and the Knig-Egervry theorem."},{id:9,title:"3.2 Algorithms and Applications",slug:"matching-algorithms",description:"Bipartite matching algorithms, weighted matching, and stable matchings."},{id:10,title:"3.3 Matchings in General Graphs",slug:"general-matchings",description:"Tutte's theorem, f-factors, and Edmonds' blossom algorithm."}]},{id:4,title:"Connectivity and Paths",slug:"connectivity-and-paths",sections:[{id:11,title:"4.1 Cuts and Connectivity",slug:"cuts-connectivity",description:"Vertex and edge connectivity, blocks, and cut-vertices."},{id:12,title:"4.2 k-connected Graphs",slug:"k-connected-graphs",description:"2-connected graphs, Menger's theorem, and ear decomposition."},{id:13,title:"4.3 Network Flow Problems",slug:"network-flow",description:"Maximum flow, min-cut max-flow theorem, and integral flows."}]},{id:5,title:"Coloring of Graphs",slug:"coloring-of-graphs",sections:[{id:14,title:"5.1 Vertex Colorings and Upper Bounds",slug:"vertex-colorings",description:"Chromatic number, greedy coloring, and Brooks' theorem."},{id:15,title:"5.2 Structure of k-chromatic Graphs",slug:"k-chromatic-structure",description:"Turn's theorem, color-critical graphs, and forced subdivisions."},{id:16,title:"5.3 Enumerative Aspects",slug:"enumerative-aspects",description:"Chromatic polynomials, chordal graphs, and perfect graphs."}]},{id:6,title:"Planar Graphs",slug:"planar-graphs",sections:[{id:17,title:"6.1 Embeddings and Euler's Formula",slug:"embeddings-euler",description:"Plane drawings, dual graphs, and Euler's formula."},{id:18,title:"6.2 Characterization of Planar Graphs",slug:"planar-characterization",description:"Kuratowski's theorem and planarity testing."},{id:19,title:"6.3 Parameters of Planarity",slug:"planarity-parameters",description:"Coloring planar graphs, crossing number, and higher genus surfaces."}]},{id:7,title:"Edges and Cycles",slug:"edges-and-cycles",sections:[{id:20,title:"7.1 Line Graphs and Edge-coloring",slug:"line-graphs-edge-coloring",description:"Edge chromatic number, Vizing's theorem, and line graph characterization."},{id:21,title:"7.2 Hamiltonian Cycles",slug:"hamiltonian-cycles",description:"Necessary and sufficient conditions for Hamiltonian cycles."},{id:22,title:"7.3 Planarity, Coloring, and Cycles",slug:"planarity-coloring-cycles",description:"Tait's theorem, Grinberg's theorem, and nowhere-zero flows."}]},{id:8,title:"Additional Topics",slug:"additional-topics",sections:[{id:23,title:"8.1 Perfect Graphs",slug:"perfect-graphs",description:"The perfect graph theorem, chordal graphs, and imperfect graphs."},{id:24,title:"8.2 Matroids",slug:"matroids",description:"Hereditary systems, matroid properties, duality, and intersection."},{id:25,title:"8.3 Ramsey Theory",slug:"ramsey-theory",description:"Ramsey's theorem, Ramsey numbers, and graph Ramsey theory."},{id:26,title:"8.4 More Extremal Problems",slug:"more-extremal-problems",description:"Encodings, branchings, list coloring, and circumference."},{id:27,title:"8.5 Random Graphs",slug:"random-graphs",description:"Existence and expectation, threshold functions, and evolution."},{id:28,title:"8.6 Eigenvalues of Graphs",slug:"eigenvalues-graphs",description:"Characteristic polynomial, eigenvalues, and strongly regular graphs."}]}];function YN(t){for(const e of Ll){const r=e.sections.find(s=>s.id===t);if(r)return r}}function ZN(t){return Ll.find(e=>e.sections.some(r=>r.id===t))}function CY(t){const e=Ll.flatMap(s=>s.sections),r=e.findIndex(s=>s.id===t);return{prev:r>0?e[r-1]:null,next:r<e.length-1?e[r+1]:null}}function QN(){return Ll.reduce((t,e)=>t+e.sections.length,0)}function MY(){return Ll.flatMap(t=>t.sections)}function _Y(t){return MY().findIndex(r=>r.id===t)}function w3({isOpen:t,onClose:e}){const[r,s]=_.useState(new Set([1])),a=Pl(),l=h=>{s(u=>{const m=new Set(u);return m.has(h)?m.delete(h):m.add(h),m})},c=h=>{var m;if(!a)return"none";const u=`${Wh}:${h}`;return((m=a.state.sections[u])==null?void 0:m.masteryLevel)??"none"};return n.jsxs(n.Fragment,{children:[n.jsx(su,{children:t&&n.jsx(Zs.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 z-40 lg:hidden"})}),n.jsx("aside",{className:`
          fixed top-16 left-0 bottom-0 z-40
          w-72 bg-dark-900 border-r border-dark-800
          transform transition-transform duration-300 ease-in-out
          ${t?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0
          overflow-y-auto
        `,children:n.jsxs("nav",{className:"p-4",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mb-2",children:[n.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center",children:n.jsx("span",{className:"text-xs font-bold text-amber-400",children:""})}),n.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-dark-500",children:"Reference"})]}),n.jsxs("ul",{className:"space-y-0.5",children:[n.jsx("li",{children:n.jsxs(S1,{to:"/theorems",className:({isActive:h})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${h?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[n.jsx("span",{className:"text-lg",children:""}),"Theorems"]})}),n.jsx("li",{children:n.jsxs(S1,{to:"/interactive",className:({isActive:h})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${h?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[n.jsx("span",{className:"text-lg",children:""}),"Interactive Modules"]})})]})]}),n.jsx("div",{className:"space-y-2",children:Ll.map(h=>n.jsxs("div",{children:[n.jsxs("button",{onClick:()=>l(h.id),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-dark-800 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:n.jsx("span",{className:"text-xs font-bold text-primary-400",children:h.id})}),n.jsx("span",{className:"text-sm font-medium text-dark-200",children:h.title})]}),n.jsx("svg",{className:`w-4 h-4 text-dark-500 transition-transform ${r.has(h.id)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n.jsx(su,{children:r.has(h.id)&&n.jsx(Zs.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"ml-4 mt-1 space-y-0.5 overflow-hidden",children:h.sections.map(u=>n.jsx("li",{children:n.jsxs(S1,{to:`/section/${u.id}`,onClick:()=>{window.innerWidth<1024&&e()},className:({isActive:m})=>`flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${m?"bg-primary-500/10 text-primary-400":"text-dark-400 hover:bg-dark-800 hover:text-dark-200"}`,children:[n.jsx("span",{className:"truncate",children:u.title}),n.jsx(TY,{level:c(u.id)})]})},u.id))})})]},h.id))})]})})]})}function pj(){const e=Pl(),r=QN(),s=e?e.state.user.sectionsCompleted.filter(a=>a.startsWith(Wh)).length:0,i=Math.round(s/r*100);return n.jsx("div",{className:"py-8 px-4",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("span",{className:"text-6xl mb-4 block",children:vS}),n.jsx("h1",{className:"text-4xl font-bold text-dark-100 mb-4",children:J4}),n.jsx("p",{className:"text-xl text-dark-400 max-w-2xl mx-auto",children:wz})]}),e&&n.jsxs("div",{className:"mb-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-lg font-semibold text-dark-100",children:"Your Progress"}),n.jsx(XN,{streak:e.state.streak.currentStreak})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsx("div",{children:n.jsx(WN,{xp:e.state.user.totalXP,level:e.state.user.level})}),n.jsxs("div",{className:"flex flex-col justify-center",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[n.jsx("span",{className:"text-dark-400",children:"Course Progress"}),n.jsxs("span",{className:"text-primary-400 font-medium",children:[i,"%"]})]}),n.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",style:{width:`${i}%`}})}),n.jsxs("div",{className:"text-xs text-dark-500 mt-1",children:[s," of ",r," sections"]})]}),n.jsxs("div",{className:"flex flex-col justify-center items-end",children:[n.jsx("div",{className:"text-2xl font-bold text-dark-100",children:e.state.user.quizzesTaken}),n.jsx("div",{className:"text-sm text-dark-400",children:"Quizzes Completed"})]})]})]}),n.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Course Content"}),n.jsx("div",{className:"space-y-4",children:Ll.map(a=>n.jsxs("div",{className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-dark-600/50 transition-colors",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:n.jsx("span",{className:"text-lg font-bold text-primary-400",children:a.id})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:a.title}),n.jsxs("p",{className:"text-sm text-dark-400",children:[a.sections.length," sections"]})]})]}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:a.sections.map(l=>{const c=`${Wh}:${l.id}`,h=e==null?void 0:e.state.user.sectionsCompleted.includes(c);return n.jsxs(Cr,{to:`/section/${l.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-dark-700/50 transition-colors group",children:[n.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${h?"bg-emerald-500/20 text-emerald-400":"bg-dark-700 text-dark-400"}`,children:h?n.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):n.jsx("span",{className:"text-xs",children:l.id})}),n.jsx("span",{className:"text-sm text-dark-300 group-hover:text-dark-100 transition-colors",children:l.title})]},l.id)})})]},a.id))})]})})}function $Y(){return n.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:n.jsx(JB,{})})}const zY=[{id:1,type:"multiple-choice",question:"A graph $G$ consists of a vertex set $V(G)$ and an edge set $E(G)$. What is true about a simple graph?",options:["It can have loops and multiple edges","It has no loops or multiple edges","It must be connected","It must have at least 3 vertices"],correctIndex:1,difficulty:"easy",explanation:"A simple graph has no loops (edges from a vertex to itself) and no multiple edges (more than one edge between the same pair of vertices)."},{id:2,type:"multiple-choice",question:"The complete graph $K_n$ has how many edges?",options:["$n$","$n^2$","$\\binom{n}{2} = \\frac{n(n-1)}{2}$","$2^n$"],correctIndex:2,difficulty:"easy",explanation:"In $K_n$, every pair of distinct vertices is connected by an edge. There are $\\binom{n}{2}$ ways to choose 2 vertices from $n$."},{id:3,type:"multiple-choice",question:"Two graphs $G$ and $H$ are isomorphic if and only if:",options:["They have the same number of vertices","They have the same number of edges","There exists a bijection $f: V(G) \\to V(H)$ preserving adjacency","They have the same maximum degree"],correctIndex:2,difficulty:"medium",explanation:"Graph isomorphism requires a bijection between vertex sets that preserves the edge relation: $uv \\in E(G)$ iff $f(u)f(v) \\in E(H)$."},{id:4,type:"numeric",question:"How many edges does the complete graph $K_5$ have?",correctAnswer:10,numericRange:{min:0,max:100,precision:0},difficulty:"medium",explanation:"$K_5$ has $\\binom{5}{2} = \\frac{5 \\cdot 4}{2} = 10$ edges."},{id:5,type:"multiple-choice",question:"The complete bipartite graph $K_{3,4}$ has how many edges?",options:["$7$","$12$","$21$","$24$"],correctIndex:1,difficulty:"hard",explanation:"$K_{m,n}$ has $m \\cdot n$ edges. So $K_{3,4}$ has $3 \\times 4 = 12$ edges."},{id:6,type:"multiple-choice",question:"Which statement about graph complements is TRUE?",options:["The complement of $K_n$ is $K_n$","The complement of $K_n$ has $\\binom{n}{2}$ edges","The complement of $K_n$ is the empty graph $\\overline{K_n}$","$G$ and $\\overline{G}$ always have the same number of edges"],correctIndex:2,difficulty:"hard",explanation:"The complement $\\overline{G}$ has an edge $uv$ iff $uv \\notin E(G)$. Since $K_n$ has all possible edges, $\\overline{K_n}$ has no edges."}],DY=[{id:1,type:"multiple-choice",question:"A walk in a graph is:",options:["A sequence of vertices where each consecutive pair is adjacent","A sequence of distinct vertices","A closed sequence of vertices","A sequence with no repeated edges"],correctIndex:0,difficulty:"easy",explanation:"A walk is a sequence $v_0, v_1, \\ldots, v_k$ where $v_{i-1}v_i \\in E(G)$ for all $i$. Vertices and edges may repeat."},{id:2,type:"multiple-choice",question:"What is the difference between a path and a trail?",options:["A path allows repeated vertices, a trail does not","A trail allows repeated vertices but not edges; a path allows neither","There is no difference","A path must be closed, a trail must be open"],correctIndex:1,difficulty:"easy",explanation:"A trail has no repeated edges. A path has no repeated vertices (and hence no repeated edges either)."},{id:3,type:"multiple-choice",question:"A graph $G$ has an Eulerian circuit if and only if:",options:["$G$ is connected and every vertex has even degree","$G$ is connected and every vertex has odd degree","$G$ is connected and has an even number of vertices","$G$ has an even number of edges"],correctIndex:0,difficulty:"medium",explanation:"A connected graph has an Eulerian circuit (closed trail using every edge exactly once) iff every vertex has even degree."},{id:4,type:"multiple-choice",question:"A connected graph $G$ has an Eulerian trail (but not circuit) if and only if:",options:["Every vertex has odd degree","Exactly two vertices have odd degree","At most two vertices have odd degree","The graph has an even number of edges"],correctIndex:1,difficulty:"medium",explanation:"An Eulerian trail exists iff $G$ is connected and has exactly 0 or 2 vertices of odd degree. With 0 odd-degree vertices, it is a circuit."},{id:5,type:"numeric",question:"In a cycle $C_6$, what is the length of the longest path?",correctAnswer:5,numericRange:{min:0,max:20,precision:0},difficulty:"hard",explanation:"In $C_6$, we can traverse 5 edges to visit all 6 vertices without repeating. The 6th edge would close the cycle."},{id:6,type:"multiple-choice",question:"The Knigsberg Bridge Problem asked whether there exists:",options:["A Hamiltonian cycle through 7 bridges","An Eulerian trail through 7 bridges","A spanning tree of 7 bridges","A perfect matching of 7 bridges"],correctIndex:1,difficulty:"hard",explanation:"Euler proved no Eulerian trail exists because more than 2 vertices have odd degree in the multigraph representing Knigsberg."}],IY=[{id:1,type:"multiple-choice",question:"The Handshaking Lemma states that:",options:["$\\sum_{v \\in V} d(v) = |E|$","$\\sum_{v \\in V} d(v) = 2|E|$","$\\sum_{v \\in V} d(v) = |V|$","$\\sum_{v \\in V} d(v) = |V| + |E|$"],correctIndex:1,difficulty:"easy",explanation:"Each edge contributes 2 to the sum of degrees (one for each endpoint), so $\\sum d(v) = 2|E|$."},{id:2,type:"multiple-choice",question:"In any graph, the number of vertices with odd degree is:",options:["Always zero","Always even","Always odd","Could be any number"],correctIndex:1,difficulty:"easy",explanation:"Since $\\sum d(v) = 2|E|$ is even, and odd numbers must pair up to sum to even, the count of odd-degree vertices must be even."},{id:3,type:"numeric",question:"A $k$-regular graph on $n$ vertices has how many edges? Express as $kn/2$. If $k=4$ and $n=10$, how many edges?",correctAnswer:20,numericRange:{min:0,max:100,precision:0},difficulty:"medium",explanation:"Sum of degrees $= kn$. By Handshaking Lemma, $|E| = kn/2 = (4)(10)/2 = 20$."},{id:4,type:"multiple-choice",question:"A simple graph $G$ with $n$ vertices and $m$ edges satisfies:",options:["$m \\leq n$","$m \\leq n^2$","$m \\leq \\binom{n}{2}$","$m \\leq n!$"],correctIndex:2,difficulty:"medium",explanation:"A simple graph has at most one edge per vertex pair. Maximum is $\\binom{n}{2} = n(n-1)/2$ edges (achieved by $K_n$)."},{id:5,type:"numeric",question:"If a simple graph has 6 vertices and 15 edges, what is the degree of each vertex?",correctAnswer:5,numericRange:{min:0,max:10,precision:0},difficulty:"hard",explanation:"$\\binom{6}{2} = 15$, so this is $K_6$. In $K_n$, each vertex has degree $n-1 = 5$."},{id:6,type:"multiple-choice",question:"A degree sequence $(d_1, \\ldots, d_n)$ is graphic (realizable by a simple graph) if and only if:",options:["All degrees are even","The sum is even and satisfies Erds-Gallai inequalities","All degrees are less than $n$","The sequence is non-increasing"],correctIndex:1,difficulty:"hard",explanation:"The Erds-Gallai theorem gives necessary and sufficient conditions: sum is even, and certain inequalities involving partial sums hold."}],RY=[{id:1,type:"multiple-choice",question:"In a directed graph (digraph), an arc from $u$ to $v$ contributes:",options:["1 to the degree of both $u$ and $v$","1 to the out-degree of $u$ and 1 to the in-degree of $v$","1 to the in-degree of $u$ and 1 to the out-degree of $v$","2 to the degree of $u$"],correctIndex:1,difficulty:"easy",explanation:"An arc $(u,v)$ goes out from $u$ (contributing to $d^+(u)$) and into $v$ (contributing to $d^-(v)$)."},{id:2,type:"multiple-choice",question:"A tournament is:",options:["A complete bipartite graph with orientation","An orientation of a complete graph","A directed cycle","A directed tree"],correctIndex:1,difficulty:"easy",explanation:"A tournament is $K_n$ where each edge is oriented in exactly one direction (every pair of vertices has exactly one arc between them)."},{id:3,type:"multiple-choice",question:"In any digraph $D$, the sum of all in-degrees equals:",options:["The number of vertices","The number of arcs","The sum of all out-degrees","Both the number of arcs and the sum of out-degrees"],correctIndex:3,difficulty:"medium",explanation:"Each arc contributes 1 to exactly one in-degree and one out-degree, so $\\sum d^-(v) = \\sum d^+(v) = |A|$."},{id:4,type:"multiple-choice",question:"A digraph is strongly connected if:",options:["The underlying undirected graph is connected","There is a directed path from every vertex to every other vertex","Every vertex has equal in-degree and out-degree","It has a directed Hamiltonian path"],correctIndex:1,difficulty:"medium",explanation:"Strong connectivity requires a directed path between every ordered pair of vertices."},{id:5,type:"numeric",question:"A tournament on 5 vertices has how many arcs?",correctAnswer:10,numericRange:{min:0,max:50,precision:0},difficulty:"hard",explanation:"A tournament orients $K_n$, which has $\\binom{n}{2}$ edges. So a tournament on 5 vertices has $\\binom{5}{2} = 10$ arcs."},{id:6,type:"multiple-choice",question:"Every tournament has:",options:["A directed Hamiltonian cycle","A directed Hamiltonian path","A vertex with in-degree 0","All vertices with equal in-degree"],correctIndex:1,difficulty:"hard",explanation:"Rdei's theorem: every tournament has a directed Hamiltonian path (vertices can be linearly ordered by the tournament)."}],GY=[{id:1,type:"multiple-choice",question:"A tree is a connected graph that:",options:["Has at least one cycle","Has no cycles","Is bipartite","Has maximum degree 2"],correctIndex:1,difficulty:"easy",explanation:"A tree is a connected acyclic graph. It has no cycles."},{id:2,type:"multiple-choice",question:"A tree on $n$ vertices has exactly how many edges?",options:["$n$","$n + 1$","$n - 1$","$2n - 2$"],correctIndex:2,difficulty:"easy",explanation:"Every tree on $n$ vertices has exactly $n-1$ edges. This is a fundamental characterization of trees."},{id:3,type:"multiple-choice",question:'Which is NOT equivalent to "$G$ is a tree"?',options:["$G$ is connected and has $n-1$ edges","$G$ has no cycles and has $n-1$ edges","Between any two vertices there is exactly one path","$G$ is connected and every edge is a bridge"],correctIndex:3,difficulty:"medium",explanation:"All four are equivalent characterizations of trees! The question is tricky - they are all valid."},{id:4,type:"numeric",question:"A forest with 10 vertices and 3 connected components has how many edges?",correctAnswer:7,numericRange:{min:0,max:20,precision:0},difficulty:"medium",explanation:"A forest with $n$ vertices and $k$ components has $n-k$ edges. Here: $10 - 3 = 7$ edges."},{id:5,type:"multiple-choice",question:"Every tree with at least 2 vertices has:",options:["A vertex of degree at least 3","At least two leaves (vertices of degree 1)","A perfect matching","An Eulerian trail"],correctIndex:1,difficulty:"hard",explanation:"A tree with $n \\geq 2$ vertices has at least 2 leaves. This follows from the degree sum being $2(n-1)$ with all degrees $\\geq 1$."},{id:6,type:"multiple-choice",question:"The center of a tree is:",options:["Always a single vertex","Either 1 or 2 adjacent vertices","The vertex with maximum degree","The set of all leaves"],correctIndex:1,difficulty:"hard",explanation:"The center of a tree (vertices minimizing eccentricity) consists of either one vertex or two adjacent vertices."}],OY=[{id:1,type:"multiple-choice",question:"A spanning tree of a connected graph $G$ is:",options:["Any subgraph that is a tree","A tree subgraph containing all vertices of $G$","The unique shortest path tree","A tree with maximum number of edges"],correctIndex:1,difficulty:"easy",explanation:"A spanning tree is a subgraph that is a tree and includes every vertex of $G$."},{id:2,type:"multiple-choice",question:"Cayley's Formula states that the number of labeled trees on $n$ vertices is:",options:["$n!$","$2^n$","$n^{n-2}$","$\\binom{2n-2}{n-1}$"],correctIndex:2,difficulty:"easy",explanation:"Cayley's Formula: there are exactly $n^{n-2}$ labeled trees on $n$ vertices."},{id:3,type:"numeric",question:"How many labeled trees are there on 4 vertices?",correctAnswer:16,numericRange:{min:0,max:100,precision:0},difficulty:"medium",explanation:"By Cayley's Formula: $4^{4-2} = 4^2 = 16$ labeled trees on 4 vertices."},{id:4,type:"multiple-choice",question:"The Matrix Tree Theorem computes the number of spanning trees using:",options:["The determinant of the adjacency matrix","The determinant of a cofactor of the Laplacian matrix","The trace of the adjacency matrix","The eigenvalues of the incidence matrix"],correctIndex:1,difficulty:"medium",explanation:"The Matrix Tree Theorem: $\\tau(G)$ equals any cofactor of the Laplacian $L = D - A$."},{id:5,type:"multiple-choice",question:"A Prfer sequence for a labeled tree on $n$ vertices has length:",options:["$n$","$n - 1$","$n - 2$","$2n - 2$"],correctIndex:2,difficulty:"hard",explanation:"Prfer sequences have length $n-2$. The bijection with $[n]^{n-2}$ proves Cayley's formula."},{id:6,type:"numeric",question:"How many spanning trees does the cycle $C_n$ have? If $n=5$, how many?",correctAnswer:5,numericRange:{min:0,max:20,precision:0},difficulty:"hard",explanation:"$C_n$ has exactly $n$ spanning trees (remove any one of the $n$ edges)."}],PY=[{id:1,type:"multiple-choice",question:"Kruskal's algorithm for minimum spanning tree works by:",options:["Starting from a root and adding nearest vertices","Adding edges in order of increasing weight, avoiding cycles","Removing edges in order of decreasing weight","Using matrix multiplication"],correctIndex:1,difficulty:"easy",explanation:"Kruskal's algorithm sorts edges by weight and greedily adds them if they don't create a cycle."},{id:2,type:"multiple-choice",question:"Prim's algorithm for MST differs from Kruskal's by:",options:["Growing a single tree from a starting vertex","Processing edges in decreasing weight order","Using depth-first search","Finding the longest path"],correctIndex:0,difficulty:"easy",explanation:"Prim's algorithm grows a single tree, always adding the minimum-weight edge connecting the tree to a new vertex."},{id:3,type:"multiple-choice",question:"The greedy algorithm gives an optimal solution for MST because:",options:["Trees are always optimal","The matroid structure of spanning trees allows greedy optimization","Edge weights are always positive","The graph is connected"],correctIndex:1,difficulty:"medium",explanation:"Graphic matroids (forests as independent sets) satisfy the greedy algorithm optimality property."},{id:4,type:"multiple-choice",question:"A shortest path tree rooted at $s$ contains:",options:["All edges of minimum weight","A shortest path from $s$ to every other vertex","The minimum number of edges possible","Only edges of weight 1"],correctIndex:1,difficulty:"medium",explanation:"An SPT rooted at $s$ gives shortest paths from $s$ to all vertices simultaneously."},{id:5,type:"multiple-choice",question:"Dijkstra's algorithm requires:",options:["Negative edge weights","Non-negative edge weights","All edge weights equal","A directed acyclic graph"],correctIndex:1,difficulty:"hard",explanation:"Dijkstra's algorithm requires non-negative weights. For negative weights, use Bellman-Ford."},{id:6,type:"multiple-choice",question:"The time complexity of Kruskal's algorithm with union-find is:",options:["$O(n^2)$","$O(m \\log n)$","$O(m \\log m)$","$O(n^3)$"],correctIndex:2,difficulty:"hard",explanation:"Sorting edges takes $O(m \\log m)$; union-find operations are nearly $O(m)$ with path compression."}],LY=[{id:1,type:"multiple-choice",question:"A matching in a graph is:",options:["A set of edges with no common vertices","A set of vertices with no common edges","A connected subgraph","A set of adjacent vertices"],correctIndex:0,difficulty:"easy",explanation:"A matching is a set of pairwise non-adjacent edges (no two share a vertex)."},{id:2,type:"multiple-choice",question:"A perfect matching in a graph $G$ covers:",options:["All edges of $G$","All vertices of $G$","Half the vertices of $G$","All cycles of $G$"],correctIndex:1,difficulty:"easy",explanation:"A perfect matching saturates (covers) every vertex of $G$."},{id:3,type:"multiple-choice",question:"Hall's Theorem states that a bipartite graph $G$ with parts $X, Y$ has a matching saturating $X$ iff:",options:["$|X| = |Y|$","$|N(S)| \\geq |S|$ for all $S \\subseteq X$","Every vertex in $X$ has degree at least 1","The graph is connected"],correctIndex:1,difficulty:"medium",explanation:"Hall's condition: for every subset $S$ of $X$, the neighborhood $N(S)$ in $Y$ satisfies $|N(S)| \\geq |S|$."},{id:4,type:"multiple-choice",question:"A vertex cover is:",options:["A set of vertices incident to every edge","A set of edges incident to every vertex","A spanning subgraph","A dominating set"],correctIndex:0,difficulty:"medium",explanation:"A vertex cover is a set $S$ such that every edge has at least one endpoint in $S$."},{id:5,type:"multiple-choice",question:"Knig's Theorem states that in bipartite graphs:",options:["Maximum matching equals minimum edge cover","Maximum matching equals minimum vertex cover","Chromatic number equals 2","Every vertex cover is a matching"],correctIndex:1,difficulty:"hard",explanation:"Knig-Egervry: in bipartite graphs, $\\nu(G) = \\tau(G)$ (max matching = min vertex cover)."},{id:6,type:"numeric",question:"In $K_{3,3}$, what is the size of a maximum matching?",correctAnswer:3,numericRange:{min:0,max:10,precision:0},difficulty:"hard",explanation:"$K_{3,3}$ is a bipartite graph with 3 vertices on each side. A perfect matching exists, matching all 3 pairs."}],qY=[{id:1,type:"multiple-choice",question:"An augmenting path with respect to a matching $M$ is:",options:["Any path in the graph","An $M$-alternating path between two $M$-unsaturated vertices","A path of maximum length","A path using only edges in $M$"],correctIndex:1,difficulty:"easy",explanation:"An augmenting path alternates between non-matching and matching edges, with unmatched endpoints."},{id:2,type:"multiple-choice",question:"The Hungarian algorithm finds:",options:["Shortest paths in weighted graphs","Maximum weighted matching in bipartite graphs","Minimum spanning trees","Graph colorings"],correctIndex:1,difficulty:"easy",explanation:"The Hungarian algorithm solves the assignment problem: maximum weight matching in bipartite graphs."},{id:3,type:"multiple-choice",question:"Berge's Theorem states that a matching $M$ is maximum iff:",options:["It is a perfect matching","There is no $M$-augmenting path","All vertices have degree at least 1","The graph is bipartite"],correctIndex:1,difficulty:"medium",explanation:"Berge's Theorem: $M$ is maximum $\\Leftrightarrow$ no augmenting path exists."},{id:4,type:"multiple-choice",question:"In the stable marriage problem, Gale-Shapley produces:",options:["A matching maximizing total preference","A stable matching (no blocking pairs)","A random matching","The unique optimal matching"],correctIndex:1,difficulty:"medium",explanation:"Gale-Shapley produces a stable matching: no unmatched pair would prefer each other over current partners."},{id:5,type:"multiple-choice",question:"The time complexity of the Hopcroft-Karp algorithm for maximum bipartite matching is:",options:["$O(n^2)$","$O(m \\sqrt{n})$","$O(n^3)$","$O(m \\cdot n)$"],correctIndex:1,difficulty:"hard",explanation:"Hopcroft-Karp achieves $O(m\\sqrt{n})$ by finding maximal sets of shortest augmenting paths."},{id:6,type:"multiple-choice",question:"A transversal (system of distinct representatives) corresponds to:",options:["A vertex cover","A matching in a bipartite graph","A Hamiltonian path","A spanning tree"],correctIndex:1,difficulty:"hard",explanation:"An SDR for sets $S_1, \\ldots, S_n$ exists iff the bipartite graph (sets vs elements) has a matching saturating all sets."}],BY=[{id:1,type:"multiple-choice",question:"Tutte's Theorem characterizes graphs with perfect matchings using:",options:["The number of edges","The number of odd components after removing any vertex set","The chromatic number","The maximum degree"],correctIndex:1,difficulty:"easy",explanation:"Tutte's condition: $G$ has a perfect matching iff $o(G-S) \\leq |S|$ for all $S \\subseteq V$."},{id:2,type:"multiple-choice",question:"An $f$-factor of a graph is:",options:["A subgraph where each vertex has degree exactly $f$","A spanning subgraph where vertex $v$ has degree $f(v)$","A collection of $f$ edge-disjoint matchings","A subgraph with $f$ edges"],correctIndex:1,difficulty:"easy",explanation:"An $f$-factor is a spanning subgraph where each vertex $v$ has degree exactly $f(v)$."},{id:3,type:"multiple-choice",question:"A 1-factor is the same as:",options:["A spanning tree","A Hamiltonian path","A perfect matching","A vertex cover"],correctIndex:2,difficulty:"medium",explanation:"A 1-factor is a spanning subgraph with all degrees equal to 1, which is exactly a perfect matching."},{id:4,type:"multiple-choice",question:"Edmonds' blossom algorithm handles:",options:["Only bipartite graphs","General graphs by shrinking odd cycles","Only regular graphs","Only planar graphs"],correctIndex:1,difficulty:"medium",explanation:"The blossom algorithm contracts odd cycles (blossoms) to find augmenting paths in general graphs."},{id:5,type:"multiple-choice",question:"The deficiency of a graph $G$ is:",options:["$|V| - 2\\nu(G)$","$|E| - |V|$","The number of isolated vertices","The minimum degree"],correctIndex:0,difficulty:"hard",explanation:"Deficiency $= n - 2\\nu(G)$ = number of vertices not covered by maximum matching."},{id:6,type:"multiple-choice",question:"Petersen's Theorem states that every:",options:["2-connected graph has a Hamiltonian path","Bridgeless cubic graph has a perfect matching","Planar graph is 4-colorable","Bipartite graph has a perfect matching"],correctIndex:1,difficulty:"hard",explanation:"Petersen: every bridgeless (2-edge-connected) 3-regular graph has a perfect matching."}],HY=[{id:1,type:"multiple-choice",question:"A cut vertex (articulation point) is:",options:["A vertex of maximum degree","A vertex whose removal increases the number of components","A vertex in a minimum vertex cover","A vertex of degree 1"],correctIndex:1,difficulty:"easy",explanation:"A cut vertex is one whose deletion disconnects the graph (increases component count)."},{id:2,type:"multiple-choice",question:"A bridge in a graph is:",options:["An edge in every spanning tree","An edge whose removal disconnects the graph","An edge between two cut vertices","The shortest edge"],correctIndex:1,difficulty:"easy",explanation:"A bridge (cut edge) is an edge whose deletion increases the number of components."},{id:3,type:"multiple-choice",question:"The vertex connectivity $\\kappa(G)$ is:",options:["The minimum number of vertices to remove to disconnect $G$","The number of cut vertices","The maximum degree","The number of components"],correctIndex:0,difficulty:"medium",explanation:"$\\kappa(G)$ is the minimum size of a vertex cut (or $n-1$ if $G = K_n$)."},{id:4,type:"multiple-choice",question:"For any graph $G$: $\\kappa(G) \\leq \\kappa'(G) \\leq \\delta(G)$. What are $\\kappa'$ and $\\delta$?",options:["Edge connectivity and average degree","Edge connectivity and minimum degree","Chromatic number and maximum degree","Independence number and minimum degree"],correctIndex:1,difficulty:"medium",explanation:"$\\kappa' =$ edge connectivity, $\\delta =$ minimum degree. Whitney's inequality."},{id:5,type:"multiple-choice",question:"A block of a graph is:",options:["A connected component","A maximal 2-connected subgraph or bridge or isolated vertex","A clique","A bipartite subgraph"],correctIndex:1,difficulty:"hard",explanation:"Blocks are the maximal subgraphs with no cut vertex. They partition the edges."},{id:6,type:"multiple-choice",question:"Tarjan's algorithm finds:",options:["Shortest paths","Strongly connected components in linear time","Maximum matchings","Chromatic numbers"],correctIndex:1,difficulty:"hard",explanation:"Tarjan's DFS-based algorithm finds SCCs (and blocks) in $O(n+m)$ time."}],FY=[{id:1,type:"multiple-choice",question:"A graph is $k$-connected if:",options:["It has at least $k$ vertices","It remains connected after removing any $k-1$ vertices","Every vertex has degree at least $k$","It has $k$ components"],correctIndex:1,difficulty:"easy",explanation:"$k$-connected means $\\kappa(G) \\geq k$: removing fewer than $k$ vertices leaves the graph connected."},{id:2,type:"multiple-choice",question:"Menger's Theorem (vertex version) states that the maximum number of internally disjoint $u$-$v$ paths equals:",options:["The degree of $u$","The minimum size of a $u$-$v$ vertex cut","The distance from $u$ to $v$","$\\kappa(G)$"],correctIndex:1,difficulty:"easy",explanation:"Menger: max internally disjoint paths = min vertex cut size separating $u$ from $v$."},{id:3,type:"multiple-choice",question:"An ear decomposition of a 2-connected graph starts with:",options:["A single vertex","A spanning tree","A cycle","A matching"],correctIndex:2,difficulty:"medium",explanation:'Ear decomposition starts with a cycle, then adds "ears" (paths connecting existing vertices).'},{id:4,type:"multiple-choice",question:"Whitney's Theorem states that $G$ is 2-connected iff:",options:["It has no cut vertices","Every pair of edges lies on a common cycle","It has a Hamiltonian cycle","It is planar"],correctIndex:1,difficulty:"medium",explanation:"Whitney: 2-connected $\\Leftrightarrow$ every two edges lie on a common cycle."},{id:5,type:"numeric",question:"What is the vertex connectivity $\\kappa(K_5)$?",correctAnswer:4,numericRange:{min:0,max:10,precision:0},difficulty:"hard",explanation:"In $K_n$, any $n-1$ vertices can be removed while keeping it connected, so $\\kappa(K_n) = n-1$. Thus $\\kappa(K_5) = 4$."},{id:6,type:"multiple-choice",question:"The edge version of Menger's Theorem relates to:",options:["Vertex connectivity","Edge-disjoint paths and edge cuts","Matchings","Chromatic number"],correctIndex:1,difficulty:"hard",explanation:"Edge Menger: max edge-disjoint paths = min edge cut size."}],UY=[{id:1,type:"multiple-choice",question:"In a network flow, the value of a flow is:",options:["The sum of all edge capacities","The net flow out of the source","The number of edges with positive flow","The maximum edge capacity"],correctIndex:1,difficulty:"easy",explanation:"Flow value = total flow leaving source = total flow entering sink."},{id:2,type:"multiple-choice",question:"The Max-Flow Min-Cut Theorem states:",options:["Maximum flow equals minimum number of edges","Maximum flow value equals minimum cut capacity","Every flow can be decomposed into paths","Flows are always integral"],correctIndex:1,difficulty:"easy",explanation:"The maximum flow value equals the minimum capacity of an $s$-$t$ cut."},{id:3,type:"multiple-choice",question:"Ford-Fulkerson finds augmenting paths in:",options:["The original graph","The residual graph","The line graph","A spanning tree"],correctIndex:1,difficulty:"medium",explanation:"Ford-Fulkerson repeatedly finds augmenting paths in the residual graph (forward and backward edges)."},{id:4,type:"multiple-choice",question:"If all capacities are integers, Ford-Fulkerson guarantees:",options:["Polynomial time always","An integral maximum flow","A unique maximum flow","No augmenting paths exist"],correctIndex:1,difficulty:"medium",explanation:"With integer capacities, Ford-Fulkerson produces an integral max flow (integrality theorem)."},{id:5,type:"multiple-choice",question:"Edmonds-Karp is Ford-Fulkerson with:",options:["Random path selection","BFS to find shortest augmenting paths","DFS to find longest augmenting paths","Minimum capacity paths"],correctIndex:1,difficulty:"hard",explanation:"Edmonds-Karp uses BFS for shortest augmenting paths, giving $O(VE^2)$ complexity."},{id:6,type:"multiple-choice",question:"Knig's theorem can be proved using:",options:["Induction on vertices","Max-flow min-cut theorem","The four-color theorem","Euler's formula"],correctIndex:1,difficulty:"hard",explanation:"Knig's theorem (bipartite matching = vertex cover) follows from max-flow min-cut applied to bipartite graphs."}],VY=[{id:1,type:"multiple-choice",question:"The chromatic number $\\chi(G)$ is:",options:["The number of edges","The minimum colors needed to properly color vertices","The maximum degree plus one","The number of components"],correctIndex:1,difficulty:"easy",explanation:"$\\chi(G)$ is the minimum $k$ such that $G$ has a proper $k$-coloring (adjacent vertices get different colors)."},{id:2,type:"multiple-choice",question:"A graph is bipartite if and only if:",options:["$\\chi(G) = 1$","$\\chi(G) \\leq 2$","$\\chi(G) = 3$","It has an even number of vertices"],correctIndex:1,difficulty:"easy",explanation:"Bipartite $\\Leftrightarrow$ 2-colorable $\\Leftrightarrow$ no odd cycles."},{id:3,type:"multiple-choice",question:"The greedy coloring algorithm colors vertices using at most:",options:["$\\chi(G)$ colors","$\\Delta(G)$ colors","$\\Delta(G) + 1$ colors","$n$ colors"],correctIndex:2,difficulty:"medium",explanation:"Greedy uses at most $\\Delta + 1$ colors (at each step, at most $\\Delta$ colors are forbidden)."},{id:4,type:"multiple-choice",question:"Brooks' Theorem states that $\\chi(G) \\leq \\Delta(G)$ unless:",options:["$G$ is bipartite","$G$ is a complete graph or odd cycle","$G$ is planar","$G$ is a tree"],correctIndex:1,difficulty:"medium",explanation:"Brooks: $\\chi(G) \\leq \\Delta$ for connected graphs except $K_n$ and odd cycles."},{id:5,type:"numeric",question:"What is $\\chi(K_6)$?",correctAnswer:6,numericRange:{min:0,max:20,precision:0},difficulty:"hard",explanation:"$K_n$ requires $n$ colors since every pair of vertices is adjacent."},{id:6,type:"multiple-choice",question:"The clique number $\\omega(G)$ satisfies:",options:["$\\omega(G) = \\chi(G)$ always","$\\omega(G) \\leq \\chi(G)$ always","$\\omega(G) \\geq \\chi(G)$ always","$\\omega(G) = \\Delta(G)$"],correctIndex:1,difficulty:"hard",explanation:"A clique of size $k$ needs $k$ colors, so $\\omega(G) \\leq \\chi(G)$. Equality holds for perfect graphs."}],KY=[{id:1,type:"multiple-choice",question:"Turn's Theorem gives the maximum edges in a graph with no:",options:["Cycles","$K_{r+1}$ subgraph","Perfect matching","Cut vertices"],correctIndex:1,difficulty:"easy",explanation:"Turn: $ex(n, K_{r+1})$ = max edges avoiding $(r+1)$-clique, achieved by $T(n,r)$."},{id:2,type:"multiple-choice",question:"The Turn graph $T(n,r)$ is:",options:["The complete graph $K_n$","A complete $r$-partite graph with parts as equal as possible","A tree on $n$ vertices","A cycle of length $n$"],correctIndex:1,difficulty:"easy",explanation:"$T(n,r)$ is complete $r$-partite with part sizes differing by at most 1."},{id:3,type:"multiple-choice",question:"A graph is $k$-critical if:",options:["$\\chi(G) = k$ and $G$ is connected","$\\chi(G) = k$ and $\\chi(G-e) < k$ for every edge $e$","$G$ has exactly $k$ edges","$G$ is $k$-regular"],correctIndex:1,difficulty:"medium",explanation:"A $k$-critical graph has $\\chi(G) = k$ but every proper subgraph has smaller chromatic number."},{id:4,type:"multiple-choice",question:"In a $k$-critical graph, every vertex has degree at least:",options:["$1$","$k - 1$","$k$","$2k - 2$"],correctIndex:1,difficulty:"medium",explanation:"In a $k$-critical graph, $\\delta(G) \\geq k-1$ (removing low-degree vertex reduces chromatic number)."},{id:5,type:"numeric",question:"How many edges does $T(6, 2)$ (Turn graph avoiding triangles) have?",correctAnswer:9,numericRange:{min:0,max:20,precision:0},difficulty:"hard",explanation:"$T(6,2) = K_{3,3}$ (complete bipartite with equal parts). Edges: $3 \\times 3 = 9$."},{id:6,type:"multiple-choice",question:"The degeneracy of a graph is:",options:["The minimum degree","The maximum $k$ such that every subgraph has a vertex of degree at most $k$","The chromatic number minus one","The connectivity"],correctIndex:1,difficulty:"hard",explanation:"Degeneracy $d$: every subgraph has a vertex of degree $\\leq d$. Implies $\\chi(G) \\leq d + 1$."}],WY=[{id:1,type:"multiple-choice",question:"The chromatic polynomial $P(G, k)$ counts:",options:["The number of edges using $k$ colors","The number of proper $k$-colorings","The chromatic number","The number of cliques of size $k$"],correctIndex:1,difficulty:"easy",explanation:"$P(G, k)$ = number of ways to properly color $G$ with at most $k$ colors."},{id:2,type:"multiple-choice",question:"The chromatic polynomial of $K_n$ is:",options:["$k^n$","$k(k-1)^{n-1}$","$k(k-1)(k-2)\\cdots(k-n+1)$","$(k-1)^n$"],correctIndex:2,difficulty:"easy",explanation:"For $K_n$: first vertex gets $k$ choices, second $k-1$, ..., giving $k(k-1)\\cdots(k-n+1)$."},{id:3,type:"multiple-choice",question:"The deletion-contraction formula for chromatic polynomials is:",options:["$P(G) = P(G-e) + P(G/e)$","$P(G) = P(G-e) - P(G/e)$","$P(G) = P(G-e) \\cdot P(G/e)$","$P(G) = P(G-e) / P(G/e)$"],correctIndex:1,difficulty:"medium",explanation:"For edge $e$: $P(G, k) = P(G-e, k) - P(G/e, k)$ (delete minus contract)."},{id:4,type:"multiple-choice",question:"A chordal graph is one where:",options:["Every vertex is in a triangle","Every cycle of length $\\geq 4$ has a chord","It has no triangles","It is planar"],correctIndex:1,difficulty:"medium",explanation:"Chordal = every cycle of length 4 or more has a chord (edge between non-consecutive vertices)."},{id:5,type:"numeric",question:"What is $P(C_4, 3)$ (3-colorings of the 4-cycle)?",correctAnswer:18,numericRange:{min:0,max:100,precision:0},difficulty:"hard",explanation:"$P(C_n, k) = (k-1)^n + (-1)^n(k-1)$. For $C_4$: $(3-1)^4 + (3-1) = 16 + 2 = 18$."},{id:6,type:"multiple-choice",question:"A graph is perfect if for every induced subgraph $H$:",options:["$\\chi(H) = \\Delta(H)$","$\\chi(H) = \\omega(H)$","$\\chi(H) = |V(H)|$","$H$ is bipartite"],correctIndex:1,difficulty:"hard",explanation:"Perfect: $\\chi(H) = \\omega(H)$ for every induced subgraph $H$."}],XY=[{id:1,type:"multiple-choice",question:"A planar graph is one that:",options:["Has at most 4 vertices","Can be drawn in the plane without edge crossings","Has no cycles","Is bipartite"],correctIndex:1,difficulty:"easy",explanation:"A planar graph admits a plane embedding (drawing with no edge crossings)."},{id:2,type:"multiple-choice",question:"Euler's Formula for connected plane graphs states:",options:["$n + m = f$","$n - m + f = 2$","$n + m + f = 2$","$n \\cdot m = f$"],correctIndex:1,difficulty:"easy",explanation:"Euler's Formula: $n - m + f = 2$ where $n$ = vertices, $m$ = edges, $f$ = faces."},{id:3,type:"numeric",question:"A connected plane graph has 6 vertices and 9 edges. How many faces?",correctAnswer:5,numericRange:{min:0,max:20,precision:0},difficulty:"medium",explanation:"By Euler: $f = 2 - n + m = 2 - 6 + 9 = 5$ faces."},{id:4,type:"multiple-choice",question:"The dual graph $G^*$ of a plane graph $G$ has:",options:["A vertex for each face of $G$ and edges crossing $G$'s edges","The same vertices as $G$","Complementary edges to $G$","Twice as many edges as $G$"],correctIndex:0,difficulty:"medium",explanation:"The dual has one vertex per face of $G$; two dual vertices are adjacent if the faces share an edge."},{id:5,type:"multiple-choice",question:"A simple planar graph with $n \\geq 3$ vertices has at most:",options:["$n$ edges","$2n - 4$ edges","$3n - 6$ edges","$n^2$ edges"],correctIndex:2,difficulty:"hard",explanation:"From Euler + each face bounded by $\\geq 3$ edges: $m \\leq 3n - 6$."},{id:6,type:"multiple-choice",question:"If $G$ is planar and triangle-free, then:",options:["$m \\leq n - 1$","$m \\leq 2n - 4$","$m \\leq 3n - 6$","$m \\leq 4n - 8$"],correctIndex:1,difficulty:"hard",explanation:"Triangle-free means each face has $\\geq 4$ edges, giving $m \\leq 2n - 4$."}],YY=[{id:1,type:"multiple-choice",question:"Kuratowski's Theorem states that $G$ is planar iff it has no:",options:["Cycles","Subdivision of $K_5$ or $K_{3,3}$","Cliques of size 4","Vertices of degree 5 or more"],correctIndex:1,difficulty:"easy",explanation:"Kuratowski: $G$ is planar $\\Leftrightarrow$ no subgraph is a subdivision of $K_5$ or $K_{3,3}$."},{id:2,type:"multiple-choice",question:"A subdivision of a graph $H$ is obtained by:",options:["Removing edges","Replacing edges with paths","Adding cliques","Contracting edges"],correctIndex:1,difficulty:"easy",explanation:"A subdivision replaces edges with internally disjoint paths (adds degree-2 vertices on edges)."},{id:3,type:"multiple-choice",question:"Wagner's Theorem characterizes planarity using:",options:["Subdivisions only","Minors (contractions and deletions)","Colorings","Matchings"],correctIndex:1,difficulty:"medium",explanation:"Wagner: $G$ is planar $\\Leftrightarrow$ no $K_5$ or $K_{3,3}$ minor."},{id:4,type:"multiple-choice",question:"$K_5$ is not planar because:",options:["It has too many vertices","It has $10 > 3(5) - 6 = 9$ edges","It is not connected","It has odd cycles"],correctIndex:1,difficulty:"medium",explanation:"$K_5$ has $\\binom{5}{2} = 10$ edges, but planar graphs on 5 vertices have at most $3(5)-6=9$."},{id:5,type:"multiple-choice",question:"$K_{3,3}$ is not planar because:",options:["It has too many vertices","It has $9 > 2(6) - 4 = 8$ edges and is triangle-free","It has a Hamiltonian cycle","It is bipartite"],correctIndex:1,difficulty:"hard",explanation:"$K_{3,3}$ is triangle-free with 9 edges, but triangle-free planar graphs on 6 vertices have $\\leq 2(6)-4=8$."},{id:6,type:"multiple-choice",question:"The Petersen graph is not planar because it contains:",options:["A subdivision of $K_5$","A $K_5$ minor","A subdivision of $K_{3,3}$","Both a $K_5$ minor and a $K_{3,3}$ subdivision"],correctIndex:3,difficulty:"hard",explanation:"The Petersen graph contains both a $K_5$ minor and a $K_{3,3}$ subdivision."}],ZY=[{id:1,type:"multiple-choice",question:"The Four Color Theorem states that every planar graph is:",options:["2-colorable","3-colorable","4-colorable","5-colorable"],correctIndex:2,difficulty:"easy",explanation:"Every planar graph can be properly vertex-colored with at most 4 colors."},{id:2,type:"multiple-choice",question:"The crossing number $cr(G)$ is:",options:["The number of edges","The minimum crossings in any drawing","The chromatic number","The genus"],correctIndex:1,difficulty:"easy",explanation:"The crossing number is the minimum number of edge crossings over all drawings of $G$."},{id:3,type:"multiple-choice",question:"A graph is planar if and only if:",options:["$cr(G) = 0$","$cr(G) \\leq 1$","The genus is 0","Both $cr(G) = 0$ and genus is 0"],correctIndex:3,difficulty:"medium",explanation:"Planarity $\\Leftrightarrow$ zero crossing number $\\Leftrightarrow$ embeds on the sphere (genus 0)."},{id:4,type:"multiple-choice",question:"The thickness of $K_9$ (minimum planar graphs to decompose edges) is:",options:["1","2","3","4"],correctIndex:2,difficulty:"medium",explanation:"$K_9$ has 36 edges; planar graphs on 9 vertices have $\\leq 3(9)-6=21$ edges. So thickness $\\geq \\lceil 36/21 \\rceil = 2$. Actually, thickness of $K_9$ is 3."},{id:5,type:"numeric",question:"What is $cr(K_5)$ (crossing number of $K_5$)?",correctAnswer:1,numericRange:{min:0,max:10,precision:0},difficulty:"hard",explanation:"$K_5$ needs exactly 1 crossing; it has $10 - 9 = 1$ extra edge over the planar threshold."},{id:6,type:"multiple-choice",question:"An outerplanar graph is one that:",options:["Has a plane drawing with all vertices on the outer face","Has no $K_4$ subgraph","Is a tree","Has chromatic number 2"],correctIndex:0,difficulty:"hard",explanation:"Outerplanar: can be drawn with all vertices on the boundary of the unbounded face."}],QY=[{id:1,type:"multiple-choice",question:"The line graph $L(G)$ has:",options:["Vertices for each vertex of $G$","Vertices for each edge of $G$, adjacent when edges share a vertex","The same number of edges as $G$","Complementary edges to $G$"],correctIndex:1,difficulty:"easy",explanation:"$L(G)$ has edges of $G$ as vertices; two are adjacent if the original edges share an endpoint."},{id:2,type:"multiple-choice",question:"The chromatic index $\\chi'(G)$ is:",options:["The vertex chromatic number","The minimum colors for proper edge-coloring","The number of edges","The maximum degree"],correctIndex:1,difficulty:"easy",explanation:"$\\chi'(G)$ = minimum colors to color edges so no two edges sharing a vertex have the same color."},{id:3,type:"multiple-choice",question:"Vizing's Theorem states that $\\chi'(G)$ is either:",options:["$\\Delta$ or $\\Delta - 1$","$\\Delta$ or $\\Delta + 1$","$\\Delta$ exactly","$2\\Delta$"],correctIndex:1,difficulty:"medium",explanation:"Vizing: $\\Delta(G) \\leq \\chi'(G) \\leq \\Delta(G) + 1$ (Class 1 or Class 2 graphs)."},{id:4,type:"multiple-choice",question:"A graph $G$ is Class 1 if:",options:["$\\chi'(G) = \\Delta(G) - 1$","$\\chi'(G) = \\Delta(G)$","$\\chi'(G) = \\Delta(G) + 1$","$\\chi'(G) = 2$"],correctIndex:1,difficulty:"medium",explanation:"Class 1: $\\chi' = \\Delta$. Class 2: $\\chi' = \\Delta + 1$."},{id:5,type:"numeric",question:"What is $\\chi'(K_5)$?",correctAnswer:5,numericRange:{min:0,max:10,precision:0},difficulty:"hard",explanation:"$K_n$ has $\\chi' = n$ if $n$ odd (Class 2), $\\chi' = n-1$ if $n$ even (Class 1). So $\\chi'(K_5) = 5$."},{id:6,type:"multiple-choice",question:"For bipartite graphs, Knig's edge-coloring theorem states:",options:["$\\chi'(G) = \\chi(G)$","$\\chi'(G) = \\Delta(G)$","$\\chi'(G) = 2$","$\\chi'(G) = n$"],correctIndex:1,difficulty:"hard",explanation:"Every bipartite graph is Class 1: $\\chi' = \\Delta$."}],JY=[{id:1,type:"multiple-choice",question:"A Hamiltonian cycle visits:",options:["Every edge exactly once","Every vertex exactly once","Every face exactly once","Some vertices multiple times"],correctIndex:1,difficulty:"easy",explanation:"A Hamiltonian cycle visits every vertex exactly once and returns to the start."},{id:2,type:"multiple-choice",question:"Determining if a graph is Hamiltonian is:",options:["Solvable in polynomial time","NP-complete","Undecidable","Always yes for connected graphs"],correctIndex:1,difficulty:"easy",explanation:"The Hamiltonian cycle problem is NP-complete (no known polynomial algorithm)."},{id:3,type:"multiple-choice",question:"Dirac's Theorem: If $G$ has $n \\geq 3$ vertices and $\\delta(G) \\geq n/2$, then:",options:["$G$ is connected","$G$ is Hamiltonian","$G$ is bipartite","$G$ is planar"],correctIndex:1,difficulty:"medium",explanation:"Dirac: minimum degree at least $n/2$ guarantees a Hamiltonian cycle."},{id:4,type:"multiple-choice",question:"Ore's Theorem strengthens Dirac's by requiring:",options:["$d(u) + d(v) \\geq n$ for all non-adjacent pairs","$\\Delta(G) \\geq n/2$","The graph be regular","$\\delta(G) \\geq n/2$"],correctIndex:0,difficulty:"medium",explanation:"Ore: if $d(u) + d(v) \\geq n$ for all non-adjacent $u, v$, then $G$ is Hamiltonian."},{id:5,type:"multiple-choice",question:"A tournament (orientation of $K_n$) always has:",options:["A directed Hamiltonian cycle","A directed Hamiltonian path","No directed cycles","Equal in-degrees and out-degrees"],correctIndex:1,difficulty:"hard",explanation:"Every tournament has a directed Hamiltonian path (Rdei's theorem). Cycles require strong connectivity."},{id:6,type:"multiple-choice",question:"The hypercube $Q_n$ is:",options:["Never Hamiltonian","Hamiltonian for all $n \\geq 2$","Hamiltonian only for even $n$","Hamiltonian only for prime $n$"],correctIndex:1,difficulty:"hard",explanation:"The hypercube $Q_n$ is Hamiltonian for $n \\geq 2$ (Gray code gives a Hamiltonian cycle)."}],eZ=[{id:1,type:"multiple-choice",question:"Tait's Theorem connects Hamiltonian cycles in planar graphs to:",options:["Vertex coloring","Proper 3-edge-coloring of cubic bridgeless planar graphs","Spanning trees","Perfect matchings"],correctIndex:1,difficulty:"easy",explanation:"Tait: a 3-connected cubic planar graph is Hamiltonian iff it's 3-edge-colorable."},{id:2,type:"multiple-choice",question:"The Grinberg condition is:",options:["Sufficient for Hamiltonicity","A necessary condition involving face sizes","Equivalent to planarity","Related to chromatic number"],correctIndex:1,difficulty:"easy",explanation:"Grinberg: if a plane graph has a Hamiltonian cycle, face sizes satisfy a specific equation."},{id:3,type:"multiple-choice",question:"A nowhere-zero $k$-flow assigns:",options:["Colors from $\\{1, \\ldots, k\\}$ to vertices","Non-zero values from a group to edges satisfying flow conservation","Orientations to edges","Weights to vertices"],correctIndex:1,difficulty:"medium",explanation:"A nowhere-zero flow assigns group elements (typically $\\mathbb{Z}_k$) to oriented edges with flow conservation."},{id:4,type:"multiple-choice",question:"Tutte's flow conjectures relate flows to:",options:["Matchings","Face colorings via duality","Spanning trees","Vertex connectivity"],correctIndex:1,difficulty:"medium",explanation:"Flows on planar graphs correspond to colorings of the dual; nowhere-zero $k$-flow dualizes to $k$-face-coloring."},{id:5,type:"multiple-choice",question:"The Four Color Theorem is equivalent to:",options:["Every planar graph has a nowhere-zero 4-flow","Every bridgeless planar graph has a nowhere-zero 4-flow","Every cubic planar graph has a Hamiltonian cycle","Every planar graph is 3-degenerate"],correctIndex:1,difficulty:"hard",explanation:"By flow-coloring duality, 4CT is equivalent to: bridgeless planar graphs have nowhere-zero 4-flows."},{id:6,type:"multiple-choice",question:"The 5-Flow Conjecture (Tutte) states:",options:["Every planar graph has a 5-flow","Every bridgeless graph has a nowhere-zero 5-flow","Every graph has chromatic number at most 5","Every 5-connected graph is Hamiltonian"],correctIndex:1,difficulty:"hard",explanation:"Tutte's 5-Flow Conjecture: every bridgeless graph has a nowhere-zero 5-flow. Still open!"}],tZ=[{id:1,type:"multiple-choice",question:"A graph $G$ is perfect if for every induced subgraph $H$:",options:["$\\alpha(H) = \\omega(H)$","$\\chi(H) = \\omega(H)$","$\\chi(H) = \\Delta(H)$","$H$ is bipartite"],correctIndex:1,difficulty:"easy",explanation:"Perfect: chromatic number equals clique number for all induced subgraphs."},{id:2,type:"multiple-choice",question:"The Perfect Graph Theorem (Lovsz) states that $G$ is perfect iff:",options:["$G$ is bipartite","$\\overline{G}$ is perfect","$G$ is chordal","$G$ is planar"],correctIndex:1,difficulty:"easy",explanation:"Weak Perfect Graph Theorem: $G$ perfect $\\Leftrightarrow$ $\\overline{G}$ perfect."},{id:3,type:"multiple-choice",question:"The Strong Perfect Graph Theorem characterizes perfect graphs by forbidden:",options:["Cliques","Odd holes and odd anti-holes","Triangles","Bridges"],correctIndex:1,difficulty:"medium",explanation:"SPGT: $G$ is perfect iff it has no odd hole or odd anti-hole as induced subgraph."},{id:4,type:"multiple-choice",question:"Which class of graphs is NOT perfect?",options:["Bipartite graphs","Chordal graphs","Odd cycles $C_{2k+1}$ for $k \\geq 2$","Comparability graphs"],correctIndex:2,difficulty:"medium",explanation:"Odd cycles $C_5, C_7, \\ldots$ are odd holes, which are imperfect."},{id:5,type:"numeric",question:"For the 5-cycle $C_5$: $\\omega(C_5) = 2$. What is $\\chi(C_5)$?",correctAnswer:3,numericRange:{min:0,max:10,precision:0},difficulty:"hard",explanation:"$C_5$ is an odd cycle, so $\\chi(C_5) = 3 > 2 = \\omega(C_5)$. Not perfect."},{id:6,type:"multiple-choice",question:"Interval graphs (intersection graphs of intervals) are:",options:["Never perfect","Perfect because they are chordal","Perfect only if connected","Not necessarily chordal"],correctIndex:1,difficulty:"hard",explanation:"Interval graphs are chordal, and chordal graphs are perfect."}],rZ=[{id:1,type:"multiple-choice",question:"A matroid is defined by a ground set $E$ and a collection $\\mathcal{I}$ of independent sets satisfying:",options:["Hereditary and exchange properties","Closure under union","All subsets are independent","Only singletons are independent"],correctIndex:0,difficulty:"easy",explanation:"Matroids: (I1) $\\emptyset \\in \\mathcal{I}$, (I2) hereditary: $I \\in \\mathcal{I}, J \\subseteq I \\Rightarrow J \\in \\mathcal{I}$, (I3) exchange axiom."},{id:2,type:"multiple-choice",question:"In the graphic matroid of graph $G$:",options:["Independent sets are matchings","Independent sets are forests (acyclic edge sets)","Independent sets are vertex covers","Independent sets are cliques"],correctIndex:1,difficulty:"easy",explanation:"Graphic matroid: ground set is edges, independent sets are forests (edge sets with no cycles)."},{id:3,type:"multiple-choice",question:"The rank of a set $S$ in a matroid is:",options:["The number of elements in $S$","The size of the largest independent subset of $S$","The number of bases containing $S$","The chromatic number"],correctIndex:1,difficulty:"medium",explanation:"Rank $r(S)$ = maximum size of an independent set contained in $S$."},{id:4,type:"multiple-choice",question:"The dual matroid $M^*$ has the same ground set but:",options:["Complementary bases","Same independent sets","Reversed rank function","No bases"],correctIndex:0,difficulty:"medium",explanation:"In $M^*$, bases are complements of bases in $M$: $B^* = E \\setminus B$ where $B$ is a basis of $M$."},{id:5,type:"multiple-choice",question:"The greedy algorithm solves maximum weight independent set problems for:",options:["All graphs","Only bipartite graphs","Matroids","Only trees"],correctIndex:2,difficulty:"hard",explanation:"Matroids are precisely the structures where greedy gives optimal weighted independent sets."},{id:6,type:"multiple-choice",question:"The dual of a graphic matroid (cycles in $G$) is:",options:["Another graphic matroid","The cographic matroid (bonds/cuts in $G$)","Not a matroid","The same matroid"],correctIndex:1,difficulty:"hard",explanation:"Dual of graphic matroid is cographic: independent sets are edge sets not containing cuts."}],nZ=[{id:1,type:"multiple-choice",question:"The Ramsey number $R(s,t)$ is the minimum $n$ such that every 2-coloring of $K_n$ contains:",options:["A monochromatic spanning tree","A red $K_s$ or blue $K_t$","A rainbow triangle","A monochromatic Hamiltonian path"],correctIndex:1,difficulty:"easy",explanation:"$R(s,t)$: any red-blue edge-coloring of $K_n$ has red $K_s$ or blue $K_t$."},{id:2,type:"numeric",question:'What is $R(3,3)$ (the "party problem" Ramsey number)?',correctAnswer:6,numericRange:{min:0,max:20,precision:0},difficulty:"easy",explanation:"$R(3,3) = 6$: any 2-coloring of $K_6$ has a monochromatic triangle."},{id:3,type:"multiple-choice",question:"The probabilistic method proof that $R(s,s) > 2^{s/2}$ uses:",options:["Induction on $s$","Random 2-coloring and expected monochromatic cliques","Explicit construction","The Lovsz Local Lemma"],correctIndex:1,difficulty:"medium",explanation:"Erds: randomly color edges; expected number of monochromatic $K_s$ is $< 1$ when $n < 2^{s/2}$."},{id:4,type:"multiple-choice",question:"The recurrence $R(s,t) \\leq R(s-1,t) + R(s,t-1)$ proves:",options:["$R(s,t)$ is always finite","$R(s,t) \\leq \\binom{s+t-2}{s-1}$","$R(s,t) = st$","Both that $R(s,t)$ is finite and the binomial bound"],correctIndex:3,difficulty:"medium",explanation:"This recurrence proves existence of $R(s,t)$ and gives upper bound $\\binom{s+t-2}{s-1}$."},{id:5,type:"numeric",question:"What is $R(3,4)$?",correctAnswer:9,numericRange:{min:0,max:20,precision:0},difficulty:"hard",explanation:"$R(3,4) = 9$: any 2-coloring of $K_9$ has red $K_3$ or blue $K_4$."},{id:6,type:"multiple-choice",question:"For $R(5,5)$, we currently know:",options:["$R(5,5) = 43$","$R(5,5) = 48$","$43 \\leq R(5,5) \\leq 48$ (exact value unknown)","$R(5,5) > 100$"],correctIndex:2,difficulty:"hard",explanation:"$R(5,5)$ is between 43 and 48; the exact value remains unknown despite decades of research."}],sZ=[{id:1,type:"multiple-choice",question:"The Erds-Stone theorem determines the asymptotic extremal number for:",options:["All graphs","Non-bipartite graphs","Only complete graphs","Only cycles"],correctIndex:1,difficulty:"easy",explanation:"Erds-Stone: $ex(n, H) = (1 - 1/(\\chi(H)-1) + o(1))\\binom{n}{2}$ for $\\chi(H) \\geq 2$."},{id:2,type:"multiple-choice",question:"The Wiener index of a connected graph is:",options:["The number of edges","The sum of all pairwise distances","The diameter","The chromatic number"],correctIndex:1,difficulty:"easy",explanation:"Wiener index $W(G) = \\sum_{\\{u,v\\}} d(u,v)$ over all vertex pairs."},{id:3,type:"multiple-choice",question:"Among $n$-vertex trees, the Wiener index is minimized by:",options:["The path $P_n$","The star $K_{1,n-1}$","A random tree","The binary tree"],correctIndex:1,difficulty:"medium",explanation:"Star minimizes Wiener index (center at distance 1 from all others)."},{id:4,type:"multiple-choice",question:"The list chromatic number $ch(G)$ satisfies:",options:["$ch(G) = \\chi(G)$ always","$ch(G) \\geq \\chi(G)$ always","$ch(G) \\leq \\chi(G)$ always","$ch(G) = \\Delta(G)$"],correctIndex:1,difficulty:"medium",explanation:"List coloring is at least as hard as ordinary coloring: $ch(G) \\geq \\chi(G)$."},{id:5,type:"multiple-choice",question:"The circumference $c(G)$ of a graph is:",options:["The number of cycles","The length of the longest cycle","The girth","The diameter"],correctIndex:1,difficulty:"hard",explanation:"Circumference is the maximum cycle length (0 if acyclic)."},{id:6,type:"multiple-choice",question:"For $K_{n,n}$, the list chromatic number is:",options:["$2$","$n$","$(1+o(1))\\log_2 n$","$n^2$"],correctIndex:2,difficulty:"hard",explanation:"$ch(K_{n,n}) \\approx \\log_2 n$, much larger than $\\chi(K_{n,n}) = 2$."}],iZ=[{id:1,type:"multiple-choice",question:"In the Erds-Rnyi model $G(n,p)$, each edge appears:",options:["With probability $1/n$","Independently with probability $p$","Deterministically","With probability $p^2$"],correctIndex:1,difficulty:"easy",explanation:"$G(n,p)$: each of the $\\binom{n}{2}$ possible edges appears independently with probability $p$."},{id:2,type:"multiple-choice",question:"The expected number of edges in $G(n,p)$ is:",options:["$np$","$p\\binom{n}{2}$","$n^2p$","$2np$"],correctIndex:1,difficulty:"easy",explanation:"Each of $\\binom{n}{2}$ edges appears with probability $p$, so $E[|E|] = p\\binom{n}{2}$."},{id:3,type:"multiple-choice",question:"The threshold function for connectivity in $G(n,p)$ is:",options:["$p = 1/n^2$","$p = 1/n$","$p = \\log n / n$","$p = 1/2$"],correctIndex:2,difficulty:"medium",explanation:"Connectivity threshold: $p = (\\log n)/n$. Below this, a.s. disconnected; above, a.s. connected."},{id:4,type:"multiple-choice",question:'The "giant component" phase transition occurs at:',options:["$p = 1/n^2$","$p = 1/n$","$p = \\log n / n$","$p = 1/2$"],correctIndex:1,difficulty:"medium",explanation:"At $p = c/n$: for $c < 1$, all components small; for $c > 1$, unique giant component emerges."},{id:5,type:"multiple-choice",question:"The chromatic number of $G(n, 1/2)$ is typically:",options:["$O(1)$","$O(\\log n)$","$\\Theta(n / \\log n)$","$\\Theta(n)$"],correctIndex:2,difficulty:"hard",explanation:"$\\chi(G(n,1/2)) \\approx n/(2\\log_2 n)$ almost surely."},{id:6,type:"multiple-choice",question:"The probabilistic method pioneered by Erds can prove:",options:["Only upper bounds on parameters","Existence of structures without explicit construction","Algorithm correctness","Only lower bounds on Ramsey numbers"],correctIndex:1,difficulty:"hard",explanation:"Probabilistic method: show random objects have desired property with positive probability, proving existence."}],aZ=[{id:1,type:"multiple-choice",question:"The spectrum of a graph $G$ is:",options:["Its degree sequence","The multiset of eigenvalues of its adjacency matrix","The chromatic number","The set of cycle lengths"],correctIndex:1,difficulty:"easy",explanation:"Spectrum = eigenvalues of the adjacency matrix $A(G)$, listed with multiplicities."},{id:2,type:"multiple-choice",question:"The Laplacian matrix of $G$ is:",options:["$A(G)$","$D(G) - A(G)$ where $D$ is the degree matrix","$A(G)^2$","The incidence matrix"],correctIndex:1,difficulty:"easy",explanation:"Laplacian $L = D - A$ where $D_{ii} = d(v_i)$ and $A$ is the adjacency matrix."},{id:3,type:"multiple-choice",question:"The smallest eigenvalue of the Laplacian is always:",options:["1","0","$-1$","$n$"],correctIndex:1,difficulty:"medium",explanation:"The all-ones vector $(1,\\ldots,1)^T$ is always a Laplacian eigenvector with eigenvalue 0."},{id:4,type:"multiple-choice",question:"The algebraic connectivity $a(G) = \\mu_2$ is:",options:["The largest eigenvalue","The second-smallest Laplacian eigenvalue","The determinant","The trace"],correctIndex:1,difficulty:"medium",explanation:"Algebraic connectivity = second-smallest Laplacian eigenvalue. $a(G) > 0$ iff $G$ connected."},{id:5,type:"multiple-choice",question:"A strongly regular graph with parameters $(n,k,\\lambda,\\mu)$ has:",options:["Exactly 2 distinct eigenvalues","Exactly 3 distinct eigenvalues","$n$ distinct eigenvalues","All equal eigenvalues"],correctIndex:1,difficulty:"hard",explanation:"Strongly regular graphs have exactly 3 distinct adjacency eigenvalues: $k$, $r$, and $s$."},{id:6,type:"multiple-choice",question:"The Hoffman bound uses eigenvalues to bound:",options:["The diameter","The independence number","The number of edges","The girth"],correctIndex:1,difficulty:"hard",explanation:"Hoffman: $\\alpha(G) \\leq n \\cdot (-\\lambda_n)/(\\lambda_1 - \\lambda_n)$ using extreme eigenvalues."}],oZ={1:zY,2:DY,3:IY,4:RY,5:GY,6:OY,7:PY,8:LY,9:qY,10:BY,11:HY,12:FY,13:UY,14:VY,15:KY,16:WY,17:XY,18:YY,19:ZY,20:QY,21:JY,22:eZ,23:tZ,24:rZ,25:nZ,26:sZ,27:iZ,28:aZ};function L2(t){return oZ[t]??null}function kt({sectionId:t,children:e}){const r=YN(t),s=ZN(t),{prev:i,next:a}=CY(t),l=QN(),c=_Y(t),u=Pl();_.useEffect(()=>{u&&u.visitSection(t)},[t,u]);const m=(u==null?void 0:u.state.user.sectionsCompleted.includes(FU(t)))??!1;if(!r||!s)return n.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:n.jsx("p",{className:"text-dark-400",children:"Section not found"})});const f=(c+1)/l*100,p=L2(t)&&L2(t).length>0;return n.jsxs("div",{className:"min-h-screen relative",children:[n.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-primary-500/[0.02] rounded-full blur-[150px] -translate-y-1/2 translate-x-1/2"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-cyan-500/[0.02] rounded-full blur-[120px] translate-y-1/2 -translate-x-1/2"})]}),n.jsx("div",{className:"sticky top-16 z-30 h-1 bg-dark-900/80 backdrop-blur",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-primary-600 via-primary-500 to-cyan-400 transition-all duration-500 ease-out",style:{width:`${f}%`}})}),n.jsx("div",{className:"relative py-4 px-6 border-b border-dark-800/50 bg-dark-950/50 backdrop-blur-sm",children:n.jsxs("nav",{className:"max-w-4xl mx-auto flex items-center gap-2 text-sm",children:[n.jsxs(Cr,{to:"/",className:"text-dark-500 hover:text-dark-300 transition-colors flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),n.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),n.jsxs("span",{className:"text-dark-500",children:["Part ",s.id]}),n.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),n.jsxs("span",{className:"text-dark-300 font-medium",children:["S",r.id]})]})}),n.jsxs("article",{className:"relative max-w-4xl mx-auto px-6 py-12",children:[n.jsxs("header",{className:"mb-14",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[n.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 text-sm font-semibold bg-gradient-to-r from-primary-500/20 to-primary-600/10 text-primary-400 rounded-full border border-primary-500/20",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-primary-400"}),"Section ",r.id]}),n.jsxs("span",{className:"text-dark-500 text-sm",children:["Part ",s.id,": ",s.title]})]}),n.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:n.jsx("span",{className:"text-gradient",children:r.title})}),n.jsx("p",{className:"text-xl text-dark-400 leading-relaxed max-w-3xl",children:r.description}),n.jsxs("div",{className:"mt-10 flex items-center gap-4",children:[n.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-500/50"}),n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-500/30"}),n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-500/10"})]}),n.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"})]})]}),n.jsx("div",{className:"prose prose-invert prose-lg max-w-none space-y-6",children:e})]}),n.jsxs("nav",{className:"relative max-w-4xl mx-auto px-6 py-12 border-t border-dark-800/50",children:[p&&n.jsx("div",{className:"mb-6",children:n.jsxs(Cr,{to:`/quiz/section/${t}`,className:"group flex items-center justify-center gap-3 p-5 rounded-2xl bg-gradient-to-r from-amber-600/20 to-amber-500/10 border border-amber-500/20 text-amber-400 hover:from-amber-600/30 hover:to-amber-500/20 transition-all duration-300",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),n.jsx("span",{className:"font-semibold",children:"Take Section Quiz"}),n.jsx("span",{className:"text-amber-300/70 text-sm",children:"Test your knowledge"})]})}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i?n.jsxs(Cr,{to:`/section/${i.id}`,className:"group flex items-center gap-4 p-5 rounded-2xl bg-dark-900/40 backdrop-blur border border-dark-700/40 hover:bg-dark-800/50 hover:border-dark-600/50 transition-all duration-300",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-dark-800/60 group-hover:bg-primary-500/20 transition-all duration-300",children:n.jsx("svg",{className:"w-5 h-5 text-dark-400 group-hover:text-primary-400 group-hover:-translate-x-0.5 transition-all duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-dark-500 mb-1",children:"Previous"}),n.jsx("p",{className:"text-dark-200 group-hover:text-primary-400 transition-colors font-medium truncate",children:i.title})]})]}):n.jsx("div",{}),a?n.jsxs(Cr,{to:`/section/${a.id}`,className:"group flex items-center gap-4 p-5 rounded-2xl bg-dark-900/40 backdrop-blur border border-dark-700/40 hover:bg-dark-800/50 hover:border-dark-600/50 transition-all duration-300 md:flex-row-reverse md:text-right",children:[n.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-dark-800/60 group-hover:bg-primary-500/20 transition-all duration-300",children:n.jsx("svg",{className:"w-5 h-5 text-dark-400 group-hover:text-primary-400 group-hover:translate-x-0.5 transition-all duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-dark-500 mb-1",children:"Next"}),n.jsx("p",{className:"text-dark-200 group-hover:text-primary-400 transition-colors font-medium truncate",children:a.title})]})]}):n.jsxs("div",{className:"flex flex-col gap-3",children:[!m&&n.jsxs("button",{onClick:()=>u==null?void 0:u.completeSection(t),className:"group flex items-center justify-center gap-3 p-5 rounded-2xl bg-gradient-to-r from-emerald-600 to-emerald-500 text-white font-semibold shadow-lg shadow-emerald-500/20 hover:shadow-xl hover:shadow-emerald-500/30 hover:scale-[1.02] transition-all duration-300",children:[n.jsx("span",{children:"Mark Complete"}),n.jsx("span",{className:"text-emerald-200 text-sm",children:"+25 XP"})]}),n.jsxs(Cr,{to:"/",className:`group flex items-center justify-center gap-3 p-5 rounded-2xl font-semibold transition-all duration-300 ${m?"bg-gradient-to-r from-primary-600 to-primary-500 text-white shadow-lg shadow-primary-500/20 hover:shadow-xl hover:shadow-primary-500/30 hover:scale-[1.02]":"bg-dark-800/60 text-dark-300 hover:bg-dark-700/60"}`,children:[n.jsx("span",{children:m?"Course Complete!":"Return Home"}),n.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:m?"M5 13l4 4L19 7":"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})]})]})]})]})]})}class An{constructor(e,r,s){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=r,this.end=s}static range(e,r){return r?!e||!e.loc||!r.loc||e.loc.lexer!==r.loc.lexer?null:new An(e.loc.lexer,e.loc.start,r.loc.end):e&&e.loc}}class Vn{constructor(e,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=r}range(e,r){return new Vn(r,An.range(this,e))}}class Me{constructor(e,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var s="KaTeX parse error: "+e,i,a,l=r&&r.loc;if(l&&l.start<=l.end){var c=l.lexer.input;i=l.start,a=l.end,i===c.length?s+=" at end of input: ":s+=" at position "+(i+1)+": ";var h=c.slice(i,a).replace(/[^]/g,"$&"),u;i>15?u=""+c.slice(i-15,i):u=c.slice(0,i);var m;a+15<c.length?m=c.slice(a,a+15)+"":m=c.slice(a),s+=u+h+m}var f=new Error(s);return f.name="ParseError",f.__proto__=Me.prototype,f.position=i,i!=null&&a!=null&&(f.length=a-i),f.rawMessage=e,f}}Me.prototype.__proto__=Error.prototype;var lZ=function(e,r){return e===void 0?r:e},cZ=/([A-Z])/g,hZ=function(e){return e.replace(cZ,"-$1").toLowerCase()},uZ={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},dZ=/[&><"']/g;function mZ(t){return String(t).replace(dZ,e=>uZ[e])}var JN=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},fZ=function(e){var r=JN(e);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},pZ=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},gZ=function(e){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},gt={deflt:lZ,escape:mZ,hyphenate:hZ,getBaseElem:JN,isCharacterBox:fZ,protocolFromUrl:gZ},bm={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function xZ(t){if(t.default)return t.default;var e=t.type,r=Array.isArray(e)?e[0]:e;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class S3{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var r in bm)if(bm.hasOwnProperty(r)){var s=bm[r];this[r]=e[r]!==void 0?s.processor?s.processor(e[r]):e[r]:xZ(s)}}reportNonstrict(e,r,s){var i=this.strict;if(typeof i=="function"&&(i=i(e,r,s)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Me("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+e+"]"),s);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]"))}}useStrictBehavior(e,r,s){var i=this.strict;if(typeof i=="function")try{i=i(e,r,s)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var r=gt.protocolFromUrl(e.url);if(r==null)return!1;e.protocol=r}var s=typeof this.trust=="function"?this.trust(e):this.trust;return!!s}}class _a{constructor(e,r,s){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=r,this.cramped=s}sup(){return Us[vZ[this.id]]}sub(){return Us[yZ[this.id]]}fracNum(){return Us[bZ[this.id]]}fracDen(){return Us[jZ[this.id]]}cramp(){return Us[wZ[this.id]]}text(){return Us[SZ[this.id]]}isTight(){return this.size>=2}}var T3=0,Nf=1,Rc=2,Xi=3,ou=4,us=5,e0=6,un=7,Us=[new _a(T3,0,!1),new _a(Nf,0,!0),new _a(Rc,1,!1),new _a(Xi,1,!0),new _a(ou,2,!1),new _a(us,2,!0),new _a(e0,3,!1),new _a(un,3,!0)],vZ=[ou,us,ou,us,e0,un,e0,un],yZ=[us,us,us,us,un,un,un,un],bZ=[Rc,Xi,ou,us,e0,un,e0,un],jZ=[Xi,Xi,us,us,un,un,un,un],wZ=[Nf,Nf,Xi,Xi,us,us,un,un],SZ=[T3,Nf,Rc,Xi,Rc,Xi,Rc,Xi],Ye={DISPLAY:Us[T3],TEXT:Us[Rc],SCRIPT:Us[ou],SCRIPTSCRIPT:Us[e0]},q2=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function TZ(t){for(var e=0;e<q2.length;e++)for(var r=q2[e],s=0;s<r.blocks.length;s++){var i=r.blocks[s];if(t>=i[0]&&t<=i[1])return r.name}return null}var jm=[];q2.forEach(t=>t.blocks.forEach(e=>jm.push(...e)));function eE(t){for(var e=0;e<jm.length;e+=2)if(t>=jm[e]&&t<=jm[e+1])return!0;return!1}var Ql=80,kZ=function(e,r){return"M95,"+(622+e+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},AZ=function(e,r){return"M263,"+(601+e+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},NZ=function(e,r){return"M983 "+(10+e+r)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+r+"h400000v"+(40+e)+"h-400000z"},EZ=function(e,r){return"M424,"+(2398+e+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+r+`
h400000v`+(40+e)+"h-400000z"},CZ=function(e,r){return"M473,"+(2713+e+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+r+"h400000v"+(40+e)+"H1017.7z"},MZ=function(e){var r=e/2;return"M400000 "+e+" H0 L"+r+" 0 l65 45 L145 "+(e-80)+" H400000z"},_Z=function(e,r,s){var i=s-54-r-e;return"M702 "+(e+r)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+e)+"H742z"},$Z=function(e,r,s){r=1e3*r;var i="";switch(e){case"sqrtMain":i=kZ(r,Ql);break;case"sqrtSize1":i=AZ(r,Ql);break;case"sqrtSize2":i=NZ(r,Ql);break;case"sqrtSize3":i=EZ(r,Ql);break;case"sqrtSize4":i=CZ(r,Ql);break;case"sqrtTall":i=_Z(r,Ql,s)}return i},zZ=function(e,r){switch(e){case"":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},gj={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},DZ=function(e,r){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Gu{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){for(var e="",r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e}toText(){var e=r=>r.toText();return this.children.map(e).join("")}}var Qs={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Od={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},xj={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function IZ(t,e){Qs[t]=e}function k3(t,e,r){if(!Qs[e])throw new Error("Font metrics not found for font: "+e+".");var s=t.charCodeAt(0),i=Qs[e][s];if(!i&&t[0]in xj&&(s=xj[t[0]].charCodeAt(0),i=Qs[e][s]),!i&&r==="text"&&eE(s)&&(i=Qs[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var Tg={};function RZ(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!Tg[e]){var r=Tg[e]={cssEmPerMu:Od.quad[e]/18};for(var s in Od)Od.hasOwnProperty(s)&&(r[s]=Od[s][e])}return Tg[e]}var GZ=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],vj=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],yj=function(e,r){return r.size<2?e:GZ[e-1][r.size-1]};class Ii{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Ii.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=vj[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var s in e)e.hasOwnProperty(s)&&(r[s]=e[s]);return new Ii(r)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:yj(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:vj[e-1]})}havingBaseStyle(e){e=e||this.style.text();var r=yj(Ii.BASESIZE,e);return this.size===r&&this.textSize===Ii.BASESIZE&&this.style===e?this:this.extend({style:e,size:r})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ii.BASESIZE?["sizing","reset-size"+this.size,"size"+Ii.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=RZ(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ii.BASESIZE=6;var B2={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},OZ={ex:!0,em:!0,mu:!0},tE=function(e){return typeof e!="string"&&(e=e.unit),e in B2||e in OZ||e==="ex"},er=function(e,r){var s;if(e.unit in B2)s=B2[e.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(e.unit==="mu")s=r.fontMetrics().cssEmPerMu;else{var i;if(r.style.isTight()?i=r.havingStyle(r.style.text()):i=r,e.unit==="ex")s=i.fontMetrics().xHeight;else if(e.unit==="em")s=i.fontMetrics().quad;else throw new Me("Invalid unit: '"+e.unit+"'");i!==r&&(s*=i.sizeMultiplier/r.sizeMultiplier)}return Math.min(e.number*s,r.maxSize)},Ie=function(e){return+e.toFixed(4)+"em"},Eo=function(e){return e.filter(r=>r).join(" ")},rE=function(e,r,s){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=s||{},r){r.style.isTight()&&this.classes.push("mtight");var i=r.getColor();i&&(this.style.color=i)}},nE=function(e){var r=document.createElement(e);r.className=Eo(this.classes);for(var s in this.style)this.style.hasOwnProperty(s)&&(r.style[s]=this.style[s]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&r.setAttribute(i,this.attributes[i]);for(var a=0;a<this.children.length;a++)r.appendChild(this.children[a].toNode());return r},PZ=/[\s"'>/=\x00-\x1f]/,sE=function(e){var r="<"+e;this.classes.length&&(r+=' class="'+gt.escape(Eo(this.classes))+'"');var s="";for(var i in this.style)this.style.hasOwnProperty(i)&&(s+=gt.hyphenate(i)+":"+this.style[i]+";");s&&(r+=' style="'+gt.escape(s)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(PZ.test(a))throw new Me("Invalid attribute name '"+a+"'");r+=" "+a+'="'+gt.escape(this.attributes[a])+'"'}r+=">";for(var l=0;l<this.children.length;l++)r+=this.children[l].toMarkup();return r+="</"+e+">",r};class Ou{constructor(e,r,s,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,rE.call(this,e,s,i),this.children=r||[]}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return this.classes.includes(e)}toNode(){return nE.call(this,"span")}toMarkup(){return sE.call(this,"span")}}class A3{constructor(e,r,s,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,rE.call(this,r,i),this.children=s||[],this.setAttribute("href",e)}setAttribute(e,r){this.attributes[e]=r}hasClass(e){return this.classes.includes(e)}toNode(){return nE.call(this,"a")}toMarkup(){return sE.call(this,"a")}}class LZ{constructor(e,r,s){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=e,this.classes=["mord"],this.style=s}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(e.style[r]=this.style[r]);return e}toMarkup(){var e='<img src="'+gt.escape(this.src)+'"'+(' alt="'+gt.escape(this.alt)+'"'),r="";for(var s in this.style)this.style.hasOwnProperty(s)&&(r+=gt.hyphenate(s)+":"+this.style[s]+";");return r&&(e+=' style="'+gt.escape(r)+'"'),e+="'/>",e}}var qZ={:"",:"",:"",:""};class ys{constructor(e,r,s,i,a,l,c,h){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=r||0,this.depth=s||0,this.italic=i||0,this.skew=a||0,this.width=l||0,this.classes=c||[],this.style=h||{},this.maxFontSize=0;var u=TZ(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=qZ[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=Ie(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=Eo(this.classes));for(var s in this.style)this.style.hasOwnProperty(s)&&(r=r||document.createElement("span"),r.style[s]=this.style[s]);return r?(r.appendChild(e),r):e}toMarkup(){var e=!1,r="<span";this.classes.length&&(e=!0,r+=' class="',r+=gt.escape(Eo(this.classes)),r+='"');var s="";this.italic>0&&(s+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(s+=gt.hyphenate(i)+":"+this.style[i]+";");s&&(e=!0,r+=' style="'+gt.escape(s)+'"');var a=gt.escape(this.text);return e?(r+=">",r+=a,r+="</span>",r):a}}class ha{constructor(e,r){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=r||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"svg");for(var s in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,s)&&r.setAttribute(s,this.attributes[s]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+gt.escape(this.attributes[r])+'"');e+=">";for(var s=0;s<this.children.length;s++)e+=this.children[s].toMarkup();return e+="</svg>",e}}class Co{constructor(e,r){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=r}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",gj[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+gt.escape(this.alternate)+'"/>':'<path d="'+gt.escape(gj[this.pathName])+'"/>'}}class H2{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",r=document.createElementNS(e,"line");for(var s in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,s)&&r.setAttribute(s,this.attributes[s]);return r}toMarkup(){var e="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="'+gt.escape(this.attributes[r])+'"');return e+="/>",e}}function bj(t){if(t instanceof ys)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function BZ(t){if(t instanceof Ou)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var HZ={bin:1,close:1,inner:1,open:1,punct:1,rel:1},FZ={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},It={math:{},text:{}};function v(t,e,r,s,i,a){It[t][i]={font:e,group:r,replace:s},a&&s&&(It[t][s]=It[t][i])}var j="math",ke="text",M="main",K="ams",Ut="accent-token",Le="bin",vn="close",x0="inner",We="mathord",Tr="op-token",Zn="open",kp="punct",Y="rel",pa="spacing",ie="textord";v(j,M,Y,"","\\equiv",!0);v(j,M,Y,"","\\prec",!0);v(j,M,Y,"","\\succ",!0);v(j,M,Y,"","\\sim",!0);v(j,M,Y,"","\\perp");v(j,M,Y,"","\\preceq",!0);v(j,M,Y,"","\\succeq",!0);v(j,M,Y,"","\\simeq",!0);v(j,M,Y,"","\\mid",!0);v(j,M,Y,"","\\ll",!0);v(j,M,Y,"","\\gg",!0);v(j,M,Y,"","\\asymp",!0);v(j,M,Y,"","\\parallel");v(j,M,Y,"","\\bowtie",!0);v(j,M,Y,"","\\smile",!0);v(j,M,Y,"","\\sqsubseteq",!0);v(j,M,Y,"","\\sqsupseteq",!0);v(j,M,Y,"","\\doteq",!0);v(j,M,Y,"","\\frown",!0);v(j,M,Y,"","\\ni",!0);v(j,M,Y,"","\\propto",!0);v(j,M,Y,"","\\vdash",!0);v(j,M,Y,"","\\dashv",!0);v(j,M,Y,"","\\owns");v(j,M,kp,".","\\ldotp");v(j,M,kp,"","\\cdotp");v(j,M,ie,"#","\\#");v(ke,M,ie,"#","\\#");v(j,M,ie,"&","\\&");v(ke,M,ie,"&","\\&");v(j,M,ie,"","\\aleph",!0);v(j,M,ie,"","\\forall",!0);v(j,M,ie,"","\\hbar",!0);v(j,M,ie,"","\\exists",!0);v(j,M,ie,"","\\nabla",!0);v(j,M,ie,"","\\flat",!0);v(j,M,ie,"","\\ell",!0);v(j,M,ie,"","\\natural",!0);v(j,M,ie,"","\\clubsuit",!0);v(j,M,ie,"","\\wp",!0);v(j,M,ie,"","\\sharp",!0);v(j,M,ie,"","\\diamondsuit",!0);v(j,M,ie,"","\\Re",!0);v(j,M,ie,"","\\heartsuit",!0);v(j,M,ie,"","\\Im",!0);v(j,M,ie,"","\\spadesuit",!0);v(j,M,ie,"","\\S",!0);v(ke,M,ie,"","\\S");v(j,M,ie,"","\\P",!0);v(ke,M,ie,"","\\P");v(j,M,ie,"","\\dag");v(ke,M,ie,"","\\dag");v(ke,M,ie,"","\\textdagger");v(j,M,ie,"","\\ddag");v(ke,M,ie,"","\\ddag");v(ke,M,ie,"","\\textdaggerdbl");v(j,M,vn,"","\\rmoustache",!0);v(j,M,Zn,"","\\lmoustache",!0);v(j,M,vn,"","\\rgroup",!0);v(j,M,Zn,"","\\lgroup",!0);v(j,M,Le,"","\\mp",!0);v(j,M,Le,"","\\ominus",!0);v(j,M,Le,"","\\uplus",!0);v(j,M,Le,"","\\sqcap",!0);v(j,M,Le,"","\\ast");v(j,M,Le,"","\\sqcup",!0);v(j,M,Le,"","\\bigcirc",!0);v(j,M,Le,"","\\bullet",!0);v(j,M,Le,"","\\ddagger");v(j,M,Le,"","\\wr",!0);v(j,M,Le,"","\\amalg");v(j,M,Le,"&","\\And");v(j,M,Y,"","\\longleftarrow",!0);v(j,M,Y,"","\\Leftarrow",!0);v(j,M,Y,"","\\Longleftarrow",!0);v(j,M,Y,"","\\longrightarrow",!0);v(j,M,Y,"","\\Rightarrow",!0);v(j,M,Y,"","\\Longrightarrow",!0);v(j,M,Y,"","\\leftrightarrow",!0);v(j,M,Y,"","\\longleftrightarrow",!0);v(j,M,Y,"","\\Leftrightarrow",!0);v(j,M,Y,"","\\Longleftrightarrow",!0);v(j,M,Y,"","\\mapsto",!0);v(j,M,Y,"","\\longmapsto",!0);v(j,M,Y,"","\\nearrow",!0);v(j,M,Y,"","\\hookleftarrow",!0);v(j,M,Y,"","\\hookrightarrow",!0);v(j,M,Y,"","\\searrow",!0);v(j,M,Y,"","\\leftharpoonup",!0);v(j,M,Y,"","\\rightharpoonup",!0);v(j,M,Y,"","\\swarrow",!0);v(j,M,Y,"","\\leftharpoondown",!0);v(j,M,Y,"","\\rightharpoondown",!0);v(j,M,Y,"","\\nwarrow",!0);v(j,M,Y,"","\\rightleftharpoons",!0);v(j,K,Y,"","\\nless",!0);v(j,K,Y,"","\\@nleqslant");v(j,K,Y,"","\\@nleqq");v(j,K,Y,"","\\lneq",!0);v(j,K,Y,"","\\lneqq",!0);v(j,K,Y,"","\\@lvertneqq");v(j,K,Y,"","\\lnsim",!0);v(j,K,Y,"","\\lnapprox",!0);v(j,K,Y,"","\\nprec",!0);v(j,K,Y,"","\\npreceq",!0);v(j,K,Y,"","\\precnsim",!0);v(j,K,Y,"","\\precnapprox",!0);v(j,K,Y,"","\\nsim",!0);v(j,K,Y,"","\\@nshortmid");v(j,K,Y,"","\\nmid",!0);v(j,K,Y,"","\\nvdash",!0);v(j,K,Y,"","\\nvDash",!0);v(j,K,Y,"","\\ntriangleleft");v(j,K,Y,"","\\ntrianglelefteq",!0);v(j,K,Y,"","\\subsetneq",!0);v(j,K,Y,"","\\@varsubsetneq");v(j,K,Y,"","\\subsetneqq",!0);v(j,K,Y,"","\\@varsubsetneqq");v(j,K,Y,"","\\ngtr",!0);v(j,K,Y,"","\\@ngeqslant");v(j,K,Y,"","\\@ngeqq");v(j,K,Y,"","\\gneq",!0);v(j,K,Y,"","\\gneqq",!0);v(j,K,Y,"","\\@gvertneqq");v(j,K,Y,"","\\gnsim",!0);v(j,K,Y,"","\\gnapprox",!0);v(j,K,Y,"","\\nsucc",!0);v(j,K,Y,"","\\nsucceq",!0);v(j,K,Y,"","\\succnsim",!0);v(j,K,Y,"","\\succnapprox",!0);v(j,K,Y,"","\\ncong",!0);v(j,K,Y,"","\\@nshortparallel");v(j,K,Y,"","\\nparallel",!0);v(j,K,Y,"","\\nVDash",!0);v(j,K,Y,"","\\ntriangleright");v(j,K,Y,"","\\ntrianglerighteq",!0);v(j,K,Y,"","\\@nsupseteqq");v(j,K,Y,"","\\supsetneq",!0);v(j,K,Y,"","\\@varsupsetneq");v(j,K,Y,"","\\supsetneqq",!0);v(j,K,Y,"","\\@varsupsetneqq");v(j,K,Y,"","\\nVdash",!0);v(j,K,Y,"","\\precneqq",!0);v(j,K,Y,"","\\succneqq",!0);v(j,K,Y,"","\\@nsubseteqq");v(j,K,Le,"","\\unlhd");v(j,K,Le,"","\\unrhd");v(j,K,Y,"","\\nleftarrow",!0);v(j,K,Y,"","\\nrightarrow",!0);v(j,K,Y,"","\\nLeftarrow",!0);v(j,K,Y,"","\\nRightarrow",!0);v(j,K,Y,"","\\nleftrightarrow",!0);v(j,K,Y,"","\\nLeftrightarrow",!0);v(j,K,Y,"","\\vartriangle");v(j,K,ie,"","\\hslash");v(j,K,ie,"","\\triangledown");v(j,K,ie,"","\\lozenge");v(j,K,ie,"","\\circledS");v(j,K,ie,"","\\circledR");v(ke,K,ie,"","\\circledR");v(j,K,ie,"","\\measuredangle",!0);v(j,K,ie,"","\\nexists");v(j,K,ie,"","\\mho");v(j,K,ie,"","\\Finv",!0);v(j,K,ie,"","\\Game",!0);v(j,K,ie,"","\\backprime");v(j,K,ie,"","\\blacktriangle");v(j,K,ie,"","\\blacktriangledown");v(j,K,ie,"","\\blacksquare");v(j,K,ie,"","\\blacklozenge");v(j,K,ie,"","\\bigstar");v(j,K,ie,"","\\sphericalangle",!0);v(j,K,ie,"","\\complement",!0);v(j,K,ie,"","\\eth",!0);v(ke,M,ie,"","");v(j,K,ie,"","\\diagup");v(j,K,ie,"","\\diagdown");v(j,K,ie,"","\\square");v(j,K,ie,"","\\Box");v(j,K,ie,"","\\Diamond");v(j,K,ie,"","\\yen",!0);v(ke,K,ie,"","\\yen",!0);v(j,K,ie,"","\\checkmark",!0);v(ke,K,ie,"","\\checkmark");v(j,K,ie,"","\\beth",!0);v(j,K,ie,"","\\daleth",!0);v(j,K,ie,"","\\gimel",!0);v(j,K,ie,"","\\digamma",!0);v(j,K,ie,"","\\varkappa");v(j,K,Zn,"","\\@ulcorner",!0);v(j,K,vn,"","\\@urcorner",!0);v(j,K,Zn,"","\\@llcorner",!0);v(j,K,vn,"","\\@lrcorner",!0);v(j,K,Y,"","\\leqq",!0);v(j,K,Y,"","\\leqslant",!0);v(j,K,Y,"","\\eqslantless",!0);v(j,K,Y,"","\\lesssim",!0);v(j,K,Y,"","\\lessapprox",!0);v(j,K,Y,"","\\approxeq",!0);v(j,K,Le,"","\\lessdot");v(j,K,Y,"","\\lll",!0);v(j,K,Y,"","\\lessgtr",!0);v(j,K,Y,"","\\lesseqgtr",!0);v(j,K,Y,"","\\lesseqqgtr",!0);v(j,K,Y,"","\\doteqdot");v(j,K,Y,"","\\risingdotseq",!0);v(j,K,Y,"","\\fallingdotseq",!0);v(j,K,Y,"","\\backsim",!0);v(j,K,Y,"","\\backsimeq",!0);v(j,K,Y,"","\\subseteqq",!0);v(j,K,Y,"","\\Subset",!0);v(j,K,Y,"","\\sqsubset",!0);v(j,K,Y,"","\\preccurlyeq",!0);v(j,K,Y,"","\\curlyeqprec",!0);v(j,K,Y,"","\\precsim",!0);v(j,K,Y,"","\\precapprox",!0);v(j,K,Y,"","\\vartriangleleft");v(j,K,Y,"","\\trianglelefteq");v(j,K,Y,"","\\vDash",!0);v(j,K,Y,"","\\Vvdash",!0);v(j,K,Y,"","\\smallsmile");v(j,K,Y,"","\\smallfrown");v(j,K,Y,"","\\bumpeq",!0);v(j,K,Y,"","\\Bumpeq",!0);v(j,K,Y,"","\\geqq",!0);v(j,K,Y,"","\\geqslant",!0);v(j,K,Y,"","\\eqslantgtr",!0);v(j,K,Y,"","\\gtrsim",!0);v(j,K,Y,"","\\gtrapprox",!0);v(j,K,Le,"","\\gtrdot");v(j,K,Y,"","\\ggg",!0);v(j,K,Y,"","\\gtrless",!0);v(j,K,Y,"","\\gtreqless",!0);v(j,K,Y,"","\\gtreqqless",!0);v(j,K,Y,"","\\eqcirc",!0);v(j,K,Y,"","\\circeq",!0);v(j,K,Y,"","\\triangleq",!0);v(j,K,Y,"","\\thicksim");v(j,K,Y,"","\\thickapprox");v(j,K,Y,"","\\supseteqq",!0);v(j,K,Y,"","\\Supset",!0);v(j,K,Y,"","\\sqsupset",!0);v(j,K,Y,"","\\succcurlyeq",!0);v(j,K,Y,"","\\curlyeqsucc",!0);v(j,K,Y,"","\\succsim",!0);v(j,K,Y,"","\\succapprox",!0);v(j,K,Y,"","\\vartriangleright");v(j,K,Y,"","\\trianglerighteq");v(j,K,Y,"","\\Vdash",!0);v(j,K,Y,"","\\shortmid");v(j,K,Y,"","\\shortparallel");v(j,K,Y,"","\\between",!0);v(j,K,Y,"","\\pitchfork",!0);v(j,K,Y,"","\\varpropto");v(j,K,Y,"","\\blacktriangleleft");v(j,K,Y,"","\\therefore",!0);v(j,K,Y,"","\\backepsilon");v(j,K,Y,"","\\blacktriangleright");v(j,K,Y,"","\\because",!0);v(j,K,Y,"","\\llless");v(j,K,Y,"","\\gggtr");v(j,K,Le,"","\\lhd");v(j,K,Le,"","\\rhd");v(j,K,Y,"","\\eqsim",!0);v(j,M,Y,"","\\Join");v(j,K,Y,"","\\Doteq",!0);v(j,K,Le,"","\\dotplus",!0);v(j,K,Le,"","\\smallsetminus");v(j,K,Le,"","\\Cap",!0);v(j,K,Le,"","\\Cup",!0);v(j,K,Le,"","\\doublebarwedge",!0);v(j,K,Le,"","\\boxminus",!0);v(j,K,Le,"","\\boxplus",!0);v(j,K,Le,"","\\divideontimes",!0);v(j,K,Le,"","\\ltimes",!0);v(j,K,Le,"","\\rtimes",!0);v(j,K,Le,"","\\leftthreetimes",!0);v(j,K,Le,"","\\rightthreetimes",!0);v(j,K,Le,"","\\curlywedge",!0);v(j,K,Le,"","\\curlyvee",!0);v(j,K,Le,"","\\circleddash",!0);v(j,K,Le,"","\\circledast",!0);v(j,K,Le,"","\\centerdot");v(j,K,Le,"","\\intercal",!0);v(j,K,Le,"","\\doublecap");v(j,K,Le,"","\\doublecup");v(j,K,Le,"","\\boxtimes",!0);v(j,K,Y,"","\\dashrightarrow",!0);v(j,K,Y,"","\\dashleftarrow",!0);v(j,K,Y,"","\\leftleftarrows",!0);v(j,K,Y,"","\\leftrightarrows",!0);v(j,K,Y,"","\\Lleftarrow",!0);v(j,K,Y,"","\\twoheadleftarrow",!0);v(j,K,Y,"","\\leftarrowtail",!0);v(j,K,Y,"","\\looparrowleft",!0);v(j,K,Y,"","\\leftrightharpoons",!0);v(j,K,Y,"","\\curvearrowleft",!0);v(j,K,Y,"","\\circlearrowleft",!0);v(j,K,Y,"","\\Lsh",!0);v(j,K,Y,"","\\upuparrows",!0);v(j,K,Y,"","\\upharpoonleft",!0);v(j,K,Y,"","\\downharpoonleft",!0);v(j,M,Y,"","\\origof",!0);v(j,M,Y,"","\\imageof",!0);v(j,K,Y,"","\\multimap",!0);v(j,K,Y,"","\\leftrightsquigarrow",!0);v(j,K,Y,"","\\rightrightarrows",!0);v(j,K,Y,"","\\rightleftarrows",!0);v(j,K,Y,"","\\twoheadrightarrow",!0);v(j,K,Y,"","\\rightarrowtail",!0);v(j,K,Y,"","\\looparrowright",!0);v(j,K,Y,"","\\curvearrowright",!0);v(j,K,Y,"","\\circlearrowright",!0);v(j,K,Y,"","\\Rsh",!0);v(j,K,Y,"","\\downdownarrows",!0);v(j,K,Y,"","\\upharpoonright",!0);v(j,K,Y,"","\\downharpoonright",!0);v(j,K,Y,"","\\rightsquigarrow",!0);v(j,K,Y,"","\\leadsto");v(j,K,Y,"","\\Rrightarrow",!0);v(j,K,Y,"","\\restriction");v(j,M,ie,"","`");v(j,M,ie,"$","\\$");v(ke,M,ie,"$","\\$");v(ke,M,ie,"$","\\textdollar");v(j,M,ie,"%","\\%");v(ke,M,ie,"%","\\%");v(j,M,ie,"_","\\_");v(ke,M,ie,"_","\\_");v(ke,M,ie,"_","\\textunderscore");v(j,M,ie,"","\\angle",!0);v(j,M,ie,"","\\infty",!0);v(j,M,ie,"","\\prime");v(j,M,ie,"","\\triangle");v(j,M,ie,"","\\Gamma",!0);v(j,M,ie,"","\\Delta",!0);v(j,M,ie,"","\\Theta",!0);v(j,M,ie,"","\\Lambda",!0);v(j,M,ie,"","\\Xi",!0);v(j,M,ie,"","\\Pi",!0);v(j,M,ie,"","\\Sigma",!0);v(j,M,ie,"","\\Upsilon",!0);v(j,M,ie,"","\\Phi",!0);v(j,M,ie,"","\\Psi",!0);v(j,M,ie,"","\\Omega",!0);v(j,M,ie,"A","");v(j,M,ie,"B","");v(j,M,ie,"E","");v(j,M,ie,"Z","");v(j,M,ie,"H","");v(j,M,ie,"I","");v(j,M,ie,"K","");v(j,M,ie,"M","");v(j,M,ie,"N","");v(j,M,ie,"O","");v(j,M,ie,"P","");v(j,M,ie,"T","");v(j,M,ie,"X","");v(j,M,ie,"","\\neg",!0);v(j,M,ie,"","\\lnot");v(j,M,ie,"","\\top");v(j,M,ie,"","\\bot");v(j,M,ie,"","\\emptyset");v(j,K,ie,"","\\varnothing");v(j,M,We,"","\\alpha",!0);v(j,M,We,"","\\beta",!0);v(j,M,We,"","\\gamma",!0);v(j,M,We,"","\\delta",!0);v(j,M,We,"","\\epsilon",!0);v(j,M,We,"","\\zeta",!0);v(j,M,We,"","\\eta",!0);v(j,M,We,"","\\theta",!0);v(j,M,We,"","\\iota",!0);v(j,M,We,"","\\kappa",!0);v(j,M,We,"","\\lambda",!0);v(j,M,We,"","\\mu",!0);v(j,M,We,"","\\nu",!0);v(j,M,We,"","\\xi",!0);v(j,M,We,"","\\omicron",!0);v(j,M,We,"","\\pi",!0);v(j,M,We,"","\\rho",!0);v(j,M,We,"","\\sigma",!0);v(j,M,We,"","\\tau",!0);v(j,M,We,"","\\upsilon",!0);v(j,M,We,"","\\phi",!0);v(j,M,We,"","\\chi",!0);v(j,M,We,"","\\psi",!0);v(j,M,We,"","\\omega",!0);v(j,M,We,"","\\varepsilon",!0);v(j,M,We,"","\\vartheta",!0);v(j,M,We,"","\\varpi",!0);v(j,M,We,"","\\varrho",!0);v(j,M,We,"","\\varsigma",!0);v(j,M,We,"","\\varphi",!0);v(j,M,Le,"","*",!0);v(j,M,Le,"+","+");v(j,M,Le,"","-",!0);v(j,M,Le,"","\\cdot",!0);v(j,M,Le,"","\\circ",!0);v(j,M,Le,"","\\div",!0);v(j,M,Le,"","\\pm",!0);v(j,M,Le,"","\\times",!0);v(j,M,Le,"","\\cap",!0);v(j,M,Le,"","\\cup",!0);v(j,M,Le,"","\\setminus",!0);v(j,M,Le,"","\\land");v(j,M,Le,"","\\lor");v(j,M,Le,"","\\wedge",!0);v(j,M,Le,"","\\vee",!0);v(j,M,ie,"","\\surd");v(j,M,Zn,"","\\langle",!0);v(j,M,Zn,"","\\lvert");v(j,M,Zn,"","\\lVert");v(j,M,vn,"?","?");v(j,M,vn,"!","!");v(j,M,vn,"","\\rangle",!0);v(j,M,vn,"","\\rvert");v(j,M,vn,"","\\rVert");v(j,M,Y,"=","=");v(j,M,Y,":",":");v(j,M,Y,"","\\approx",!0);v(j,M,Y,"","\\cong",!0);v(j,M,Y,"","\\ge");v(j,M,Y,"","\\geq",!0);v(j,M,Y,"","\\gets");v(j,M,Y,">","\\gt",!0);v(j,M,Y,"","\\in",!0);v(j,M,Y,"","\\@not");v(j,M,Y,"","\\subset",!0);v(j,M,Y,"","\\supset",!0);v(j,M,Y,"","\\subseteq",!0);v(j,M,Y,"","\\supseteq",!0);v(j,K,Y,"","\\nsubseteq",!0);v(j,K,Y,"","\\nsupseteq",!0);v(j,M,Y,"","\\models");v(j,M,Y,"","\\leftarrow",!0);v(j,M,Y,"","\\le");v(j,M,Y,"","\\leq",!0);v(j,M,Y,"<","\\lt",!0);v(j,M,Y,"","\\rightarrow",!0);v(j,M,Y,"","\\to");v(j,K,Y,"","\\ngeq",!0);v(j,K,Y,"","\\nleq",!0);v(j,M,pa,"","\\ ");v(j,M,pa,"","\\space");v(j,M,pa,"","\\nobreakspace");v(ke,M,pa,"","\\ ");v(ke,M,pa,""," ");v(ke,M,pa,"","\\space");v(ke,M,pa,"","\\nobreakspace");v(j,M,pa,null,"\\nobreak");v(j,M,pa,null,"\\allowbreak");v(j,M,kp,",",",");v(j,M,kp,";",";");v(j,K,Le,"","\\barwedge",!0);v(j,K,Le,"","\\veebar",!0);v(j,M,Le,"","\\odot",!0);v(j,M,Le,"","\\oplus",!0);v(j,M,Le,"","\\otimes",!0);v(j,M,ie,"","\\partial",!0);v(j,M,Le,"","\\oslash",!0);v(j,K,Le,"","\\circledcirc",!0);v(j,K,Le,"","\\boxdot",!0);v(j,M,Le,"","\\bigtriangleup");v(j,M,Le,"","\\bigtriangledown");v(j,M,Le,"","\\dagger");v(j,M,Le,"","\\diamond");v(j,M,Le,"","\\star");v(j,M,Le,"","\\triangleleft");v(j,M,Le,"","\\triangleright");v(j,M,Zn,"{","\\{");v(ke,M,ie,"{","\\{");v(ke,M,ie,"{","\\textbraceleft");v(j,M,vn,"}","\\}");v(ke,M,ie,"}","\\}");v(ke,M,ie,"}","\\textbraceright");v(j,M,Zn,"{","\\lbrace");v(j,M,vn,"}","\\rbrace");v(j,M,Zn,"[","\\lbrack",!0);v(ke,M,ie,"[","\\lbrack",!0);v(j,M,vn,"]","\\rbrack",!0);v(ke,M,ie,"]","\\rbrack",!0);v(j,M,Zn,"(","\\lparen",!0);v(j,M,vn,")","\\rparen",!0);v(ke,M,ie,"<","\\textless",!0);v(ke,M,ie,">","\\textgreater",!0);v(j,M,Zn,"","\\lfloor",!0);v(j,M,vn,"","\\rfloor",!0);v(j,M,Zn,"","\\lceil",!0);v(j,M,vn,"","\\rceil",!0);v(j,M,ie,"\\","\\backslash");v(j,M,ie,"","|");v(j,M,ie,"","\\vert");v(ke,M,ie,"|","\\textbar",!0);v(j,M,ie,"","\\|");v(j,M,ie,"","\\Vert");v(ke,M,ie,"","\\textbardbl");v(ke,M,ie,"~","\\textasciitilde");v(ke,M,ie,"\\","\\textbackslash");v(ke,M,ie,"^","\\textasciicircum");v(j,M,Y,"","\\uparrow",!0);v(j,M,Y,"","\\Uparrow",!0);v(j,M,Y,"","\\downarrow",!0);v(j,M,Y,"","\\Downarrow",!0);v(j,M,Y,"","\\updownarrow",!0);v(j,M,Y,"","\\Updownarrow",!0);v(j,M,Tr,"","\\coprod");v(j,M,Tr,"","\\bigvee");v(j,M,Tr,"","\\bigwedge");v(j,M,Tr,"","\\biguplus");v(j,M,Tr,"","\\bigcap");v(j,M,Tr,"","\\bigcup");v(j,M,Tr,"","\\int");v(j,M,Tr,"","\\intop");v(j,M,Tr,"","\\iint");v(j,M,Tr,"","\\iiint");v(j,M,Tr,"","\\prod");v(j,M,Tr,"","\\sum");v(j,M,Tr,"","\\bigotimes");v(j,M,Tr,"","\\bigoplus");v(j,M,Tr,"","\\bigodot");v(j,M,Tr,"","\\oint");v(j,M,Tr,"","\\oiint");v(j,M,Tr,"","\\oiiint");v(j,M,Tr,"","\\bigsqcup");v(j,M,Tr,"","\\smallint");v(ke,M,x0,"","\\textellipsis");v(j,M,x0,"","\\mathellipsis");v(ke,M,x0,"","\\ldots",!0);v(j,M,x0,"","\\ldots",!0);v(j,M,x0,"","\\@cdots",!0);v(j,M,x0,"","\\ddots",!0);v(j,M,ie,"","\\varvdots");v(ke,M,ie,"","\\varvdots");v(j,M,Ut,"","\\acute");v(j,M,Ut,"","\\grave");v(j,M,Ut,"","\\ddot");v(j,M,Ut,"~","\\tilde");v(j,M,Ut,"","\\bar");v(j,M,Ut,"","\\breve");v(j,M,Ut,"","\\check");v(j,M,Ut,"^","\\hat");v(j,M,Ut,"","\\vec");v(j,M,Ut,"","\\dot");v(j,M,Ut,"","\\mathring");v(j,M,We,"","\\@imath");v(j,M,We,"","\\@jmath");v(j,M,ie,"","");v(j,M,ie,"","");v(ke,M,ie,"","\\i",!0);v(ke,M,ie,"","\\j",!0);v(ke,M,ie,"","\\ss",!0);v(ke,M,ie,"","\\ae",!0);v(ke,M,ie,"","\\oe",!0);v(ke,M,ie,"","\\o",!0);v(ke,M,ie,"","\\AE",!0);v(ke,M,ie,"","\\OE",!0);v(ke,M,ie,"","\\O",!0);v(ke,M,Ut,"","\\'");v(ke,M,Ut,"","\\`");v(ke,M,Ut,"","\\^");v(ke,M,Ut,"","\\~");v(ke,M,Ut,"","\\=");v(ke,M,Ut,"","\\u");v(ke,M,Ut,"","\\.");v(ke,M,Ut,"","\\c");v(ke,M,Ut,"","\\r");v(ke,M,Ut,"","\\v");v(ke,M,Ut,"",'\\"');v(ke,M,Ut,"","\\H");v(ke,M,Ut,"","\\textcircled");var iE={"--":!0,"---":!0,"``":!0,"''":!0};v(ke,M,ie,"","--",!0);v(ke,M,ie,"","\\textendash");v(ke,M,ie,"","---",!0);v(ke,M,ie,"","\\textemdash");v(ke,M,ie,"","`",!0);v(ke,M,ie,"","\\textquoteleft");v(ke,M,ie,"","'",!0);v(ke,M,ie,"","\\textquoteright");v(ke,M,ie,"","``",!0);v(ke,M,ie,"","\\textquotedblleft");v(ke,M,ie,"","''",!0);v(ke,M,ie,"","\\textquotedblright");v(j,M,ie,"","\\degree",!0);v(ke,M,ie,"","\\degree");v(ke,M,ie,"","\\textdegree",!0);v(j,M,ie,"","\\pounds");v(j,M,ie,"","\\mathsterling",!0);v(ke,M,ie,"","\\pounds");v(ke,M,ie,"","\\textsterling",!0);v(j,K,ie,"","\\maltese");v(ke,K,ie,"","\\maltese");var jj='0123456789/@."';for(var kg=0;kg<jj.length;kg++){var wj=jj.charAt(kg);v(j,M,ie,wj,wj)}var Sj='0123456789!@*()-=+";:?/.,';for(var Ag=0;Ag<Sj.length;Ag++){var Tj=Sj.charAt(Ag);v(ke,M,ie,Tj,Tj)}var Ef="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Ng=0;Ng<Ef.length;Ng++){var Pd=Ef.charAt(Ng);v(j,M,We,Pd,Pd),v(ke,M,ie,Pd,Pd)}v(j,K,ie,"C","");v(ke,K,ie,"C","");v(j,K,ie,"H","");v(ke,K,ie,"H","");v(j,K,ie,"N","");v(ke,K,ie,"N","");v(j,K,ie,"P","");v(ke,K,ie,"P","");v(j,K,ie,"Q","");v(ke,K,ie,"Q","");v(j,K,ie,"R","");v(ke,K,ie,"R","");v(j,K,ie,"Z","");v(ke,K,ie,"Z","");v(j,M,We,"h","");v(ke,M,We,"h","");var Qe="";for(var sn=0;sn<Ef.length;sn++){var ir=Ef.charAt(sn);Qe=String.fromCharCode(55349,56320+sn),v(j,M,We,ir,Qe),v(ke,M,ie,ir,Qe),Qe=String.fromCharCode(55349,56372+sn),v(j,M,We,ir,Qe),v(ke,M,ie,ir,Qe),Qe=String.fromCharCode(55349,56424+sn),v(j,M,We,ir,Qe),v(ke,M,ie,ir,Qe),Qe=String.fromCharCode(55349,56580+sn),v(j,M,We,ir,Qe),v(ke,M,ie,ir,Qe),Qe=String.fromCharCode(55349,56684+sn),v(j,M,We,ir,Qe),v(ke,M,ie,ir,Qe),Qe=String.fromCharCode(55349,56736+sn),v(j,M,We,ir,Qe),v(ke,M,ie,ir,Qe),Qe=String.fromCharCode(55349,56788+sn),v(j,M,We,ir,Qe),v(ke,M,ie,ir,Qe),Qe=String.fromCharCode(55349,56840+sn),v(j,M,We,ir,Qe),v(ke,M,ie,ir,Qe),Qe=String.fromCharCode(55349,56944+sn),v(j,M,We,ir,Qe),v(ke,M,ie,ir,Qe),sn<26&&(Qe=String.fromCharCode(55349,56632+sn),v(j,M,We,ir,Qe),v(ke,M,ie,ir,Qe),Qe=String.fromCharCode(55349,56476+sn),v(j,M,We,ir,Qe),v(ke,M,ie,ir,Qe))}Qe="";v(j,M,We,"k",Qe);v(ke,M,ie,"k",Qe);for(var el=0;el<10;el++){var $a=el.toString();Qe=String.fromCharCode(55349,57294+el),v(j,M,We,$a,Qe),v(ke,M,ie,$a,Qe),Qe=String.fromCharCode(55349,57314+el),v(j,M,We,$a,Qe),v(ke,M,ie,$a,Qe),Qe=String.fromCharCode(55349,57324+el),v(j,M,We,$a,Qe),v(ke,M,ie,$a,Qe),Qe=String.fromCharCode(55349,57334+el),v(j,M,We,$a,Qe),v(ke,M,ie,$a,Qe)}var F2="";for(var Eg=0;Eg<F2.length;Eg++){var Ld=F2.charAt(Eg);v(j,M,We,Ld,Ld),v(ke,M,ie,Ld,Ld)}var qd=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],kj=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],UZ=function(e,r){var s=e.charCodeAt(0),i=e.charCodeAt(1),a=(s-55296)*1024+(i-56320)+65536,l=r==="math"?0:1;if(119808<=a&&a<120484){var c=Math.floor((a-119808)/26);return[qd[c][2],qd[c][l]]}else if(120782<=a&&a<=120831){var h=Math.floor((a-120782)/10);return[kj[h][2],kj[h][l]]}else{if(a===120485||a===120486)return[qd[0][2],qd[0][l]];if(120486<a&&a<120782)return["",""];throw new Me("Unsupported character: "+e)}},Ap=function(e,r,s){return It[s][e]&&It[s][e].replace&&(e=It[s][e].replace),{value:e,metrics:k3(e,r,s)}},zs=function(e,r,s,i,a){var l=Ap(e,r,s),c=l.metrics;e=l.value;var h;if(c){var u=c.italic;(s==="text"||i&&i.font==="mathit")&&(u=0),h=new ys(e,c.height,c.depth,u,c.skew,c.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+r+"' and mode '"+s+"'")),h=new ys(e,0,0,0,0,0,a);if(i){h.maxFontSize=i.sizeMultiplier,i.style.isTight()&&h.classes.push("mtight");var m=i.getColor();m&&(h.style.color=m)}return h},VZ=function(e,r,s,i){return i===void 0&&(i=[]),s.font==="boldsymbol"&&Ap(e,"Main-Bold",r).metrics?zs(e,"Main-Bold",r,s,i.concat(["mathbf"])):e==="\\"||It[r][e].font==="main"?zs(e,"Main-Regular",r,s,i):zs(e,"AMS-Regular",r,s,i.concat(["amsrm"]))},KZ=function(e,r,s,i,a){return a!=="textord"&&Ap(e,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},WZ=function(e,r,s){var i=e.mode,a=e.text,l=["mord"],c=i==="math"||i==="text"&&r.font,h=c?r.font:r.fontFamily,u="",m="";if(a.charCodeAt(0)===55349&&([u,m]=UZ(a,i)),u.length>0)return zs(a,u,i,r,l.concat(m));if(h){var f,p;if(h==="boldsymbol"){var g=KZ(a,i,r,l,s);f=g.fontName,p=[g.fontClass]}else c?(f=lE[h].fontName,p=[h]):(f=Bd(h,r.fontWeight,r.fontShape),p=[h,r.fontWeight,r.fontShape]);if(Ap(a,f,i).metrics)return zs(a,f,i,r,l.concat(p));if(iE.hasOwnProperty(a)&&f.slice(0,10)==="Typewriter"){for(var S=[],N=0;N<a.length;N++)S.push(zs(a[N],f,i,r,l.concat(p)));return oE(S)}}if(s==="mathord")return zs(a,"Math-Italic",i,r,l.concat(["mathnormal"]));if(s==="textord"){var $=It[i][a]&&It[i][a].font;if($==="ams"){var w=Bd("amsrm",r.fontWeight,r.fontShape);return zs(a,w,i,r,l.concat("amsrm",r.fontWeight,r.fontShape))}else if($==="main"||!$){var T=Bd("textrm",r.fontWeight,r.fontShape);return zs(a,T,i,r,l.concat(r.fontWeight,r.fontShape))}else{var A=Bd($,r.fontWeight,r.fontShape);return zs(a,A,i,r,l.concat(A,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+s+" in makeOrd")},XZ=(t,e)=>{if(Eo(t.classes)!==Eo(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var r=t.classes[0];if(r==="mbin"||r==="mord")return!1}for(var s in t.style)if(t.style.hasOwnProperty(s)&&t.style[s]!==e.style[s])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},YZ=t=>{for(var e=0;e<t.length-1;e++){var r=t[e],s=t[e+1];r instanceof ys&&s instanceof ys&&XZ(r,s)&&(r.text+=s.text,r.height=Math.max(r.height,s.height),r.depth=Math.max(r.depth,s.depth),r.italic=s.italic,t.splice(e+1,1),e--)}return t},N3=function(e){for(var r=0,s=0,i=0,a=0;a<e.children.length;a++){var l=e.children[a];l.height>r&&(r=l.height),l.depth>s&&(s=l.depth),l.maxFontSize>i&&(i=l.maxFontSize)}e.height=r,e.depth=s,e.maxFontSize=i},Tn=function(e,r,s,i){var a=new Ou(e,r,s,i);return N3(a),a},aE=(t,e,r,s)=>new Ou(t,e,r,s),ZZ=function(e,r,s){var i=Tn([e],[],r);return i.height=Math.max(s||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),i.style.borderBottomWidth=Ie(i.height),i.maxFontSize=1,i},QZ=function(e,r,s,i){var a=new A3(e,r,s,i);return N3(a),a},oE=function(e){var r=new Gu(e);return N3(r),r},JZ=function(e,r){return e instanceof Gu?Tn([],[e],r):e},eQ=function(e){if(e.positionType==="individualShift"){for(var r=e.children,s=[r[0]],i=-r[0].shift-r[0].elem.depth,a=i,l=1;l<r.length;l++){var c=-r[l].shift-a-r[l].elem.depth,h=c-(r[l-1].elem.height+r[l-1].elem.depth);a=a+c,s.push({type:"kern",size:h}),s.push(r[l])}return{children:s,depth:i}}var u;if(e.positionType==="top"){for(var m=e.positionData,f=0;f<e.children.length;f++){var p=e.children[f];m-=p.type==="kern"?p.size:p.elem.height+p.elem.depth}u=m}else if(e.positionType==="bottom")u=-e.positionData;else{var g=e.children[0];if(g.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-g.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-g.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},tQ=function(e,r){for(var{children:s,depth:i}=eQ(e),a=0,l=0;l<s.length;l++){var c=s[l];if(c.type==="elem"){var h=c.elem;a=Math.max(a,h.maxFontSize,h.height)}}a+=2;var u=Tn(["pstrut"],[]);u.style.height=Ie(a);for(var m=[],f=i,p=i,g=i,S=0;S<s.length;S++){var N=s[S];if(N.type==="kern")g+=N.size;else{var $=N.elem,w=N.wrapperClasses||[],T=N.wrapperStyle||{},A=Tn(w,[u,$],void 0,T);A.style.top=Ie(-a-g-$.depth),N.marginLeft&&(A.style.marginLeft=N.marginLeft),N.marginRight&&(A.style.marginRight=N.marginRight),m.push(A),g+=$.height+$.depth}f=Math.min(f,g),p=Math.max(p,g)}var I=Tn(["vlist"],m);I.style.height=Ie(p);var B;if(f<0){var Q=Tn([],[]),D=Tn(["vlist"],[Q]);D.style.height=Ie(-f);var E=Tn(["vlist-s"],[new ys("")]);B=[Tn(["vlist-r"],[I,E]),Tn(["vlist-r"],[D])]}else B=[Tn(["vlist-r"],[I])];var z=Tn(["vlist-t"],B);return B.length===2&&z.classes.push("vlist-t2"),z.height=p,z.depth=-f,z},rQ=(t,e)=>{var r=Tn(["mspace"],[],e),s=er(t,e);return r.style.marginRight=Ie(s),r},Bd=function(e,r,s){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var a;return r==="textbf"&&s==="textit"?a="BoldItalic":r==="textbf"?a="Bold":r==="textit"?a="Italic":a="Regular",i+"-"+a},lE={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},cE={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},nQ=function(e,r){var[s,i,a]=cE[e],l=new Co(s),c=new ha([l],{width:Ie(i),height:Ie(a),style:"width:"+Ie(i),viewBox:"0 0 "+1e3*i+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),h=aE(["overlay"],[c],r);return h.height=a,h.style.height=Ie(a),h.style.width=Ie(i),h},fe={fontMap:lE,makeSymbol:zs,mathsym:VZ,makeSpan:Tn,makeSvgSpan:aE,makeLineSpan:ZZ,makeAnchor:QZ,makeFragment:oE,wrapFragment:JZ,makeVList:tQ,makeOrd:WZ,makeGlue:rQ,staticSvg:nQ,svgData:cE,tryCombineChars:YZ},Qt={number:3,unit:"mu"},tl={number:4,unit:"mu"},_i={number:5,unit:"mu"},sQ={mord:{mop:Qt,mbin:tl,mrel:_i,minner:Qt},mop:{mord:Qt,mop:Qt,mrel:_i,minner:Qt},mbin:{mord:tl,mop:tl,mopen:tl,minner:tl},mrel:{mord:_i,mop:_i,mopen:_i,minner:_i},mopen:{},mclose:{mop:Qt,mbin:tl,mrel:_i,minner:Qt},mpunct:{mord:Qt,mop:Qt,mrel:_i,mopen:Qt,mclose:Qt,mpunct:Qt,minner:Qt},minner:{mord:Qt,mop:Qt,mbin:tl,mrel:_i,mopen:Qt,mpunct:Qt,minner:Qt}},iQ={mord:{mop:Qt},mop:{mord:Qt,mop:Qt},mbin:{},mrel:{},mopen:{},mclose:{mop:Qt},mpunct:{},minner:{mop:Qt}},hE={},Cf={},Mf={};function Oe(t){for(var{type:e,names:r,props:s,handler:i,htmlBuilder:a,mathmlBuilder:l}=t,c={type:e,numArgs:s.numArgs,argTypes:s.argTypes,allowedInArgument:!!s.allowedInArgument,allowedInText:!!s.allowedInText,allowedInMath:s.allowedInMath===void 0?!0:s.allowedInMath,numOptionalArgs:s.numOptionalArgs||0,infix:!!s.infix,primitive:!!s.primitive,handler:i},h=0;h<r.length;++h)hE[r[h]]=c;e&&(a&&(Cf[e]=a),l&&(Mf[e]=l))}function ql(t){var{type:e,htmlBuilder:r,mathmlBuilder:s}=t;Oe({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:s})}var _f=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},pr=function(e){return e.type==="ordgroup"?e.body:[e]},ua=fe.makeSpan,aQ=["leftmost","mbin","mopen","mrel","mop","mpunct"],oQ=["rightmost","mrel","mclose","mpunct"],lQ={display:Ye.DISPLAY,text:Ye.TEXT,script:Ye.SCRIPT,scriptscript:Ye.SCRIPTSCRIPT},cQ={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Ir=function(e,r,s,i){i===void 0&&(i=[null,null]);for(var a=[],l=0;l<e.length;l++){var c=mt(e[l],r);if(c instanceof Gu){var h=c.children;a.push(...h)}else a.push(c)}if(fe.tryCombineChars(a),!s)return a;var u=r;if(e.length===1){var m=e[0];m.type==="sizing"?u=r.havingSize(m.size):m.type==="styling"&&(u=r.havingStyle(lQ[m.style]))}var f=ua([i[0]||"leftmost"],[],r),p=ua([i[1]||"rightmost"],[],r),g=s==="root";return Aj(a,(S,N)=>{var $=N.classes[0],w=S.classes[0];$==="mbin"&&oQ.includes(w)?N.classes[0]="mord":w==="mbin"&&aQ.includes($)&&(S.classes[0]="mord")},{node:f},p,g),Aj(a,(S,N)=>{var $=U2(N),w=U2(S),T=$&&w?S.hasClass("mtight")?iQ[$][w]:sQ[$][w]:null;if(T)return fe.makeGlue(T,u)},{node:f},p,g),a},Aj=function t(e,r,s,i,a){i&&e.push(i);for(var l=0;l<e.length;l++){var c=e[l],h=uE(c);if(h){t(h.children,r,s,null,a);continue}var u=!c.hasClass("mspace");if(u){var m=r(c,s.node);m&&(s.insertAfter?s.insertAfter(m):(e.unshift(m),l++))}u?s.node=c:a&&c.hasClass("newline")&&(s.node=ua(["leftmost"])),s.insertAfter=(f=>p=>{e.splice(f+1,0,p),l++})(l)}i&&e.pop()},uE=function(e){return e instanceof Gu||e instanceof A3||e instanceof Ou&&e.hasClass("enclosing")?e:null},hQ=function t(e,r){var s=uE(e);if(s){var i=s.children;if(i.length){if(r==="right")return t(i[i.length-1],"right");if(r==="left")return t(i[0],"left")}}return e},U2=function(e,r){return e?(r&&(e=hQ(e,r)),cQ[e.classes[0]]||null):null},lu=function(e,r){var s=["nulldelimiter"].concat(e.baseSizingClasses());return ua(r.concat(s))},mt=function(e,r,s){if(!e)return ua();if(Cf[e.type]){var i=Cf[e.type](e,r);if(s&&r.size!==s.size){i=ua(r.sizingClasses(s),[i],r);var a=r.sizeMultiplier/s.sizeMultiplier;i.height*=a,i.depth*=a}return i}else throw new Me("Got group of unknown type: '"+e.type+"'")};function Hd(t,e){var r=ua(["base"],t,e),s=ua(["strut"]);return s.style.height=Ie(r.height+r.depth),r.depth&&(s.style.verticalAlign=Ie(-r.depth)),r.children.unshift(s),r}function V2(t,e){var r=null;t.length===1&&t[0].type==="tag"&&(r=t[0].tag,t=t[0].body);var s=Ir(t,e,"root"),i;s.length===2&&s[1].hasClass("tag")&&(i=s.pop());for(var a=[],l=[],c=0;c<s.length;c++)if(l.push(s[c]),s[c].hasClass("mbin")||s[c].hasClass("mrel")||s[c].hasClass("allowbreak")){for(var h=!1;c<s.length-1&&s[c+1].hasClass("mspace")&&!s[c+1].hasClass("newline");)c++,l.push(s[c]),s[c].hasClass("nobreak")&&(h=!0);h||(a.push(Hd(l,e)),l=[])}else s[c].hasClass("newline")&&(l.pop(),l.length>0&&(a.push(Hd(l,e)),l=[]),a.push(s[c]));l.length>0&&a.push(Hd(l,e));var u;r?(u=Hd(Ir(r,e,!0)),u.classes=["tag"],a.push(u)):i&&a.push(i);var m=ua(["katex-html"],a);if(m.setAttribute("aria-hidden","true"),u){var f=u.children[0];f.style.height=Ie(m.height+m.depth),m.depth&&(f.style.verticalAlign=Ie(-m.depth))}return m}function dE(t){return new Gu(t)}class Ln{constructor(e,r,s){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=r||[],this.classes=s||[]}setAttribute(e,r){this.attributes[e]=r}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&e.setAttribute(r,this.attributes[r]);this.classes.length>0&&(e.className=Eo(this.classes));for(var s=0;s<this.children.length;s++)if(this.children[s]instanceof Js&&this.children[s+1]instanceof Js){for(var i=this.children[s].toText()+this.children[++s].toText();this.children[s+1]instanceof Js;)i+=this.children[++s].toText();e.appendChild(new Js(i).toNode())}else e.appendChild(this.children[s].toNode());return e}toMarkup(){var e="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(e+=" "+r+'="',e+=gt.escape(this.attributes[r]),e+='"');this.classes.length>0&&(e+=' class ="'+gt.escape(Eo(this.classes))+'"'),e+=">";for(var s=0;s<this.children.length;s++)e+=this.children[s].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Js{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return gt.escape(this.toText())}toText(){return this.text}}class uQ{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Ie(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Ie(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var Ee={MathNode:Ln,TextNode:Js,SpaceNode:uQ,newDocumentFragment:dE},bs=function(e,r,s){return It[r][e]&&It[r][e].replace&&e.charCodeAt(0)!==55349&&!(iE.hasOwnProperty(e)&&s&&(s.fontFamily&&s.fontFamily.slice(4,6)==="tt"||s.font&&s.font.slice(4,6)==="tt"))&&(e=It[r][e].replace),new Ee.TextNode(e)},E3=function(e){return e.length===1?e[0]:new Ee.MathNode("mrow",e)},C3=function(e,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var s=r.font;if(!s||s==="mathnormal")return null;var i=e.mode;if(s==="mathit")return"italic";if(s==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(s==="mathbf")return"bold";if(s==="mathbb")return"double-struck";if(s==="mathsfit")return"sans-serif-italic";if(s==="mathfrak")return"fraktur";if(s==="mathscr"||s==="mathcal")return"script";if(s==="mathsf")return"sans-serif";if(s==="mathtt")return"monospace";var a=e.text;if(["\\imath","\\jmath"].includes(a))return null;It[i][a]&&It[i][a].replace&&(a=It[i][a].replace);var l=fe.fontMap[s].fontName;return k3(a,l,i)?fe.fontMap[s].variant:null};function Cg(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Js&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var r=t.children[0];return r instanceof Js&&r.text===","}else return!1}var zn=function(e,r,s){if(e.length===1){var i=Ct(e[0],r);return s&&i instanceof Ln&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var a=[],l,c=0;c<e.length;c++){var h=Ct(e[c],r);if(h instanceof Ln&&l instanceof Ln){if(h.type==="mtext"&&l.type==="mtext"&&h.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...h.children);continue}else if(h.type==="mn"&&l.type==="mn"){l.children.push(...h.children);continue}else if(Cg(h)&&l.type==="mn"){l.children.push(...h.children);continue}else if(h.type==="mn"&&Cg(l))h.children=[...l.children,...h.children],a.pop();else if((h.type==="msup"||h.type==="msub")&&h.children.length>=1&&(l.type==="mn"||Cg(l))){var u=h.children[0];u instanceof Ln&&u.type==="mn"&&(u.children=[...l.children,...u.children],a.pop())}else if(l.type==="mi"&&l.children.length===1){var m=l.children[0];if(m instanceof Js&&m.text===""&&(h.type==="mo"||h.type==="mi"||h.type==="mn")){var f=h.children[0];f instanceof Js&&f.text.length>0&&(f.text=f.text.slice(0,1)+""+f.text.slice(1),a.pop())}}}a.push(h),l=h}return a},Mo=function(e,r,s){return E3(zn(e,r,s))},Ct=function(e,r){if(!e)return new Ee.MathNode("mrow");if(Mf[e.type]){var s=Mf[e.type](e,r);return s}else throw new Me("Got group of unknown type: '"+e.type+"'")};function Nj(t,e,r,s,i){var a=zn(t,r),l;a.length===1&&a[0]instanceof Ln&&["mrow","mtable"].includes(a[0].type)?l=a[0]:l=new Ee.MathNode("mrow",a);var c=new Ee.MathNode("annotation",[new Ee.TextNode(e)]);c.setAttribute("encoding","application/x-tex");var h=new Ee.MathNode("semantics",[l,c]),u=new Ee.MathNode("math",[h]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),s&&u.setAttribute("display","block");var m=i?"katex":"katex-mathml";return fe.makeSpan([m],[u])}var mE=function(e){return new Ii({style:e.displayMode?Ye.DISPLAY:Ye.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},fE=function(e,r){if(r.displayMode){var s=["katex-display"];r.leqno&&s.push("leqno"),r.fleqn&&s.push("fleqn"),e=fe.makeSpan(s,[e])}return e},dQ=function(e,r,s){var i=mE(s),a;if(s.output==="mathml")return Nj(e,r,i,s.displayMode,!0);if(s.output==="html"){var l=V2(e,i);a=fe.makeSpan(["katex"],[l])}else{var c=Nj(e,r,i,s.displayMode,!1),h=V2(e,i);a=fe.makeSpan(["katex"],[c,h])}return fE(a,s)},mQ=function(e,r,s){var i=mE(s),a=V2(e,i),l=fe.makeSpan(["katex"],[a]);return fE(l,s)},fQ={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},pQ=function(e){var r=new Ee.MathNode("mo",[new Ee.TextNode(fQ[e.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},gQ={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},xQ=function(e){return e.type==="ordgroup"?e.body.length:1},vQ=function(e,r){function s(){var c=4e5,h=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(h)){var u=e,m=xQ(u.base),f,p,g;if(m>5)h==="widehat"||h==="widecheck"?(f=420,c=2364,g=.42,p=h+"4"):(f=312,c=2340,g=.34,p="tilde4");else{var S=[1,1,2,2,3,3][m];h==="widehat"||h==="widecheck"?(c=[0,1062,2364,2364,2364][S],f=[0,239,300,360,420][S],g=[0,.24,.3,.3,.36,.42][S],p=h+S):(c=[0,600,1033,2339,2340][S],f=[0,260,286,306,312][S],g=[0,.26,.286,.3,.306,.34][S],p="tilde"+S)}var N=new Co(p),$=new ha([N],{width:"100%",height:Ie(g),viewBox:"0 0 "+c+" "+f,preserveAspectRatio:"none"});return{span:fe.makeSvgSpan([],[$],r),minWidth:0,height:g}}else{var w=[],T=gQ[h],[A,I,B]=T,Q=B/1e3,D=A.length,E,z;if(D===1){var O=T[3];E=["hide-tail"],z=[O]}else if(D===2)E=["halfarrow-left","halfarrow-right"],z=["xMinYMin","xMaxYMin"];else if(D===3)E=["brace-left","brace-center","brace-right"],z=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+D+" children.");for(var L=0;L<D;L++){var H=new Co(A[L]),q=new ha([H],{width:"400em",height:Ie(Q),viewBox:"0 0 "+c+" "+B,preserveAspectRatio:z[L]+" slice"}),ye=fe.makeSvgSpan([E[L]],[q],r);if(D===1)return{span:ye,minWidth:I,height:Q};ye.style.height=Ie(Q),w.push(ye)}return{span:fe.makeSpan(["stretchy"],w,r),minWidth:I,height:Q}}}var{span:i,minWidth:a,height:l}=s();return i.height=l,i.style.height=Ie(l),a>0&&(i.style.minWidth=Ie(a)),i},yQ=function(e,r,s,i,a){var l,c=e.height+e.depth+s+i;if(/fbox|color|angl/.test(r)){if(l=fe.makeSpan(["stretchy",r],[],a),r==="fbox"){var h=a.color&&a.getColor();h&&(l.style.borderColor=h)}}else{var u=[];/^[bx]cancel$/.test(r)&&u.push(new H2({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&u.push(new H2({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var m=new ha(u,{width:"100%",height:Ie(c)});l=fe.makeSvgSpan([],[m],a)}return l.height=c,l.style.height=Ie(c),l},da={encloseSpan:yQ,mathMLnode:pQ,svgSpan:vQ};function it(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function M3(t){var e=Np(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function Np(t){return t&&(t.type==="atom"||FZ.hasOwnProperty(t.type))?t:null}var _3=(t,e)=>{var r,s,i;t&&t.type==="supsub"?(s=it(t.base,"accent"),r=s.base,t.base=r,i=BZ(mt(t,e)),t.base=s):(s=it(t,"accent"),r=s.base);var a=mt(r,e.havingCrampedStyle()),l=s.isShifty&&gt.isCharacterBox(r),c=0;if(l){var h=gt.getBaseElem(r),u=mt(h,e.havingCrampedStyle());c=bj(u).skew}var m=s.label==="\\c",f=m?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),p;if(s.isStretchy)p=da.svgSpan(s,e),p=fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:p,wrapperClasses:["svg-align"],wrapperStyle:c>0?{width:"calc(100% - "+Ie(2*c)+")",marginLeft:Ie(2*c)}:void 0}]},e);else{var g,S;s.label==="\\vec"?(g=fe.staticSvg("vec",e),S=fe.svgData.vec[1]):(g=fe.makeOrd({mode:s.mode,text:s.label},e,"textord"),g=bj(g),g.italic=0,S=g.width,m&&(f+=g.depth)),p=fe.makeSpan(["accent-body"],[g]);var N=s.label==="\\textcircled";N&&(p.classes.push("accent-full"),f=a.height);var $=c;N||($-=S/2),p.style.left=Ie($),s.label==="\\textcircled"&&(p.style.top=".2em"),p=fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-f},{type:"elem",elem:p}]},e)}var w=fe.makeSpan(["mord","accent"],[p],e);return i?(i.children[0]=w,i.height=Math.max(w.height,i.height),i.classes[0]="mord",i):w},pE=(t,e)=>{var r=t.isStretchy?da.mathMLnode(t.label):new Ee.MathNode("mo",[bs(t.label,t.mode)]),s=new Ee.MathNode("mover",[Ct(t.base,e),r]);return s.setAttribute("accent","true"),s},bQ=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Oe({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var r=_f(e[0]),s=!bQ.test(t.funcName),i=!s||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:s,isShifty:i,base:r}},htmlBuilder:_3,mathmlBuilder:pE});Oe({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var r=e[0],s=t.parser.mode;return s==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),s="text"),{type:"accent",mode:s,label:t.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:_3,mathmlBuilder:pE});Oe({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:s}=t,i=e[0];return{type:"accentUnder",mode:r.mode,label:s,base:i}},htmlBuilder:(t,e)=>{var r=mt(t.base,e),s=da.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,a=fe.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:s,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},e);return fe.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(t,e)=>{var r=da.mathMLnode(t.label),s=new Ee.MathNode("munder",[Ct(t.base,e),r]);return s.setAttribute("accentunder","true"),s}});var Fd=t=>{var e=new Ee.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Oe({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:s,funcName:i}=t;return{type:"xArrow",mode:s.mode,label:i,body:e[0],below:r[0]}},htmlBuilder(t,e){var r=e.style,s=e.havingStyle(r.sup()),i=fe.wrapFragment(mt(t.body,s,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(a+"-arrow-pad");var l;t.below&&(s=e.havingStyle(r.sub()),l=fe.wrapFragment(mt(t.below,s,e),e),l.classes.push(a+"-arrow-pad"));var c=da.svgSpan(t,e),h=-e.fontMetrics().axisHeight+.5*c.height,u=-e.fontMetrics().axisHeight-.5*c.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(u-=i.depth);var m;if(l){var f=-e.fontMetrics().axisHeight+l.height+.5*c.height+.111;m=fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:c,shift:h},{type:"elem",elem:l,shift:f}]},e)}else m=fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:c,shift:h}]},e);return m.children[0].children[0].children[1].classes.push("svg-align"),fe.makeSpan(["mrel","x-arrow"],[m],e)},mathmlBuilder(t,e){var r=da.mathMLnode(t.label);r.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var s;if(t.body){var i=Fd(Ct(t.body,e));if(t.below){var a=Fd(Ct(t.below,e));s=new Ee.MathNode("munderover",[r,a,i])}else s=new Ee.MathNode("mover",[r,i])}else if(t.below){var l=Fd(Ct(t.below,e));s=new Ee.MathNode("munder",[r,l])}else s=Fd(),s=new Ee.MathNode("mover",[r,s]);return s}});var jQ=fe.makeSpan;function gE(t,e){var r=Ir(t.body,e,!0);return jQ([t.mclass],r,e)}function xE(t,e){var r,s=zn(t.body,e);return t.mclass==="minner"?r=new Ee.MathNode("mpadded",s):t.mclass==="mord"?t.isCharacterBox?(r=s[0],r.type="mi"):r=new Ee.MathNode("mi",s):(t.isCharacterBox?(r=s[0],r.type="mo"):r=new Ee.MathNode("mo",s),t.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):t.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):t.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}Oe({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:r,funcName:s}=t,i=e[0];return{type:"mclass",mode:r.mode,mclass:"m"+s.slice(5),body:pr(i),isCharacterBox:gt.isCharacterBox(i)}},htmlBuilder:gE,mathmlBuilder:xE});var Ep=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Oe({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:r}=t;return{type:"mclass",mode:r.mode,mclass:Ep(e[0]),body:pr(e[1]),isCharacterBox:gt.isCharacterBox(e[1])}}});Oe({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:r,funcName:s}=t,i=e[1],a=e[0],l;s!=="\\stackrel"?l=Ep(i):l="mrel";var c={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:s!=="\\stackrel",body:pr(i)},h={type:"supsub",mode:a.mode,base:c,sup:s==="\\underset"?null:a,sub:s==="\\underset"?a:null};return{type:"mclass",mode:r.mode,mclass:l,body:[h],isCharacterBox:gt.isCharacterBox(h)}},htmlBuilder:gE,mathmlBuilder:xE});Oe({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"pmb",mode:r.mode,mclass:Ep(e[0]),body:pr(e[0])}},htmlBuilder(t,e){var r=Ir(t.body,e,!0),s=fe.makeSpan([t.mclass],r,e);return s.style.textShadow="0.02em 0.01em 0.04px",s},mathmlBuilder(t,e){var r=zn(t.body,e),s=new Ee.MathNode("mstyle",r);return s.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),s}});var wQ={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Ej=()=>({type:"styling",body:[],mode:"math",style:"display"}),Cj=t=>t.type==="textord"&&t.text==="@",SQ=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function TQ(t,e,r){var s=wQ[t];switch(s){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(s,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:s,mode:"math",family:"rel"},l=r.callFunction("\\Big",[a],[]),c=r.callFunction("\\\\cdright",[e[1]],[]),h={type:"ordgroup",mode:"math",body:[i,l,c]};return r.callFunction("\\\\cdparent",[h],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function kQ(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var r=t.fetch().text;if(r==="&"||r==="\\\\")t.consume();else if(r==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Me("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var s=[],i=[s],a=0;a<e.length;a++){for(var l=e[a],c=Ej(),h=0;h<l.length;h++)if(!Cj(l[h]))c.body.push(l[h]);else{s.push(c),h+=1;var u=M3(l[h]).text,m=new Array(2);if(m[0]={type:"ordgroup",mode:"math",body:[]},m[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var f=0;f<2;f++){for(var p=!0,g=h+1;g<l.length;g++){if(SQ(l[g],u)){p=!1,h=g;break}if(Cj(l[g]))throw new Me("Missing a "+u+" character to complete a CD arrow.",l[g]);m[f].body.push(l[g])}if(p)throw new Me("Missing a "+u+" character to complete a CD arrow.",l[h])}else throw new Me('Expected one of "<>AV=|." after @',l[h]);var S=TQ(u,m,t),N={type:"styling",body:[S],mode:"math",style:"display"};s.push(N),c=Ej()}a%2===0?s.push(c):s.shift(),s=[],i.push(s)}t.gullet.endGroup(),t.gullet.endGroup();var $=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:$,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}Oe({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:s}=t;return{type:"cdlabel",mode:r.mode,side:s.slice(4),label:e[0]}},htmlBuilder(t,e){var r=e.havingStyle(e.style.sup()),s=fe.wrapFragment(mt(t.label,r,e),e);return s.classes.push("cd-label-"+t.side),s.style.bottom=Ie(.8-s.depth),s.height=0,s.depth=0,s},mathmlBuilder(t,e){var r=new Ee.MathNode("mrow",[Ct(t.label,e)]);return r=new Ee.MathNode("mpadded",[r]),r.setAttribute("width","0"),t.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new Ee.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});Oe({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:r}=t;return{type:"cdlabelparent",mode:r.mode,fragment:e[0]}},htmlBuilder(t,e){var r=fe.wrapFragment(mt(t.fragment,e),e);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(t,e){return new Ee.MathNode("mrow",[Ct(t.fragment,e)])}});Oe({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:r}=t,s=it(e[0],"ordgroup"),i=s.body,a="",l=0;l<i.length;l++){var c=it(i[l],"textord");a+=c.text}var h=parseInt(a),u;if(isNaN(h))throw new Me("\\@char has non-numeric argument "+a);if(h<0||h>=1114111)throw new Me("\\@char with invalid code point "+a);return h<=65535?u=String.fromCharCode(h):(h-=65536,u=String.fromCharCode((h>>10)+55296,(h&1023)+56320)),{type:"textord",mode:r.mode,text:u}}});var vE=(t,e)=>{var r=Ir(t.body,e.withColor(t.color),!1);return fe.makeFragment(r)},yE=(t,e)=>{var r=zn(t.body,e.withColor(t.color)),s=new Ee.MathNode("mstyle",r);return s.setAttribute("mathcolor",t.color),s};Oe({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:r}=t,s=it(e[0],"color-token").color,i=e[1];return{type:"color",mode:r.mode,color:s,body:pr(i)}},htmlBuilder:vE,mathmlBuilder:yE});Oe({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:r,breakOnTokenText:s}=t,i=it(e[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var a=r.parseExpression(!0,s);return{type:"color",mode:r.mode,color:i,body:a}},htmlBuilder:vE,mathmlBuilder:yE});Oe({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,r){var{parser:s}=t,i=s.gullet.future().text==="["?s.parseSizeGroup(!0):null,a=!s.settings.displayMode||!s.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:s.mode,newLine:a,size:i&&it(i,"size").value}},htmlBuilder(t,e){var r=fe.makeSpan(["mspace"],[],e);return t.newLine&&(r.classes.push("newline"),t.size&&(r.style.marginTop=Ie(er(t.size,e)))),r},mathmlBuilder(t,e){var r=new Ee.MathNode("mspace");return t.newLine&&(r.setAttribute("linebreak","newline"),t.size&&r.setAttribute("height",Ie(er(t.size,e)))),r}});var K2={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},bE=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Me("Expected a control sequence",t);return e},AQ=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},jE=(t,e,r,s)=>{var i=t.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!t.gullet.isExpandable(r.text)}),t.gullet.macros.set(e,i,s)};Oe({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:r}=t;e.consumeSpaces();var s=e.fetch();if(K2[s.text])return(r==="\\global"||r==="\\\\globallong")&&(s.text=K2[s.text]),it(e.parseFunction(),"internal");throw new Me("Invalid token after macro prefix",s)}});Oe({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,s=e.gullet.popToken(),i=s.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Me("Expected a control sequence",s);for(var a=0,l,c=[[]];e.gullet.future().text!=="{";)if(s=e.gullet.popToken(),s.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),c[a].push("{");break}if(s=e.gullet.popToken(),!/^[1-9]$/.test(s.text))throw new Me('Invalid argument number "'+s.text+'"');if(parseInt(s.text)!==a+1)throw new Me('Argument number "'+s.text+'" out of order');a++,c.push([])}else{if(s.text==="EOF")throw new Me("Expected a macro definition");c[a].push(s.text)}var{tokens:h}=e.gullet.consumeArg();return l&&h.unshift(l),(r==="\\edef"||r==="\\xdef")&&(h=e.gullet.expandTokens(h),h.reverse()),e.gullet.macros.set(i,{tokens:h,numArgs:a,delimiters:c},r===K2[r]),{type:"internal",mode:e.mode}}});Oe({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,s=bE(e.gullet.popToken());e.gullet.consumeSpaces();var i=AQ(e);return jE(e,s,i,r==="\\\\globallet"),{type:"internal",mode:e.mode}}});Oe({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:r}=t,s=bE(e.gullet.popToken()),i=e.gullet.popToken(),a=e.gullet.popToken();return jE(e,s,a,r==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var oh=function(e,r,s){var i=It.math[e]&&It.math[e].replace,a=k3(i||e,r,s);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+r+".");return a},$3=function(e,r,s,i){var a=s.havingBaseStyle(r),l=fe.makeSpan(i.concat(a.sizingClasses(s)),[e],s),c=a.sizeMultiplier/s.sizeMultiplier;return l.height*=c,l.depth*=c,l.maxFontSize=a.sizeMultiplier,l},wE=function(e,r,s){var i=r.havingBaseStyle(s),a=(1-r.sizeMultiplier/i.sizeMultiplier)*r.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Ie(a),e.height-=a,e.depth+=a},NQ=function(e,r,s,i,a,l){var c=fe.makeSymbol(e,"Main-Regular",a,i),h=$3(c,r,i,l);return s&&wE(h,i,r),h},EQ=function(e,r,s,i){return fe.makeSymbol(e,"Size"+r+"-Regular",s,i)},SE=function(e,r,s,i,a,l){var c=EQ(e,r,a,i),h=$3(fe.makeSpan(["delimsizing","size"+r],[c],i),Ye.TEXT,i,l);return s&&wE(h,i,Ye.TEXT),h},Mg=function(e,r,s){var i;r==="Size1-Regular"?i="delim-size1":i="delim-size4";var a=fe.makeSpan(["delimsizinginner",i],[fe.makeSpan([],[fe.makeSymbol(e,r,s)])]);return{type:"elem",elem:a}},_g=function(e,r,s){var i=Qs["Size4-Regular"][e.charCodeAt(0)]?Qs["Size4-Regular"][e.charCodeAt(0)][4]:Qs["Size1-Regular"][e.charCodeAt(0)][4],a=new Co("inner",zZ(e,Math.round(1e3*r))),l=new ha([a],{width:Ie(i),height:Ie(r),style:"width:"+Ie(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),c=fe.makeSvgSpan([],[l],s);return c.height=r,c.style.height=Ie(r),c.style.width=Ie(i),{type:"elem",elem:c}},W2=.008,Ud={type:"kern",size:-1*W2},CQ=["|","\\lvert","\\rvert","\\vert"],MQ=["\\|","\\lVert","\\rVert","\\Vert"],TE=function(e,r,s,i,a,l){var c,h,u,m,f="",p=0;c=u=m=e,h=null;var g="Size1-Regular";e==="\\uparrow"?u=m="":e==="\\Uparrow"?u=m="":e==="\\downarrow"?c=u="":e==="\\Downarrow"?c=u="":e==="\\updownarrow"?(c="\\uparrow",u="",m="\\downarrow"):e==="\\Updownarrow"?(c="\\Uparrow",u="",m="\\Downarrow"):CQ.includes(e)?(u="",f="vert",p=333):MQ.includes(e)?(u="",f="doublevert",p=556):e==="["||e==="\\lbrack"?(c="",u="",m="",g="Size4-Regular",f="lbrack",p=667):e==="]"||e==="\\rbrack"?(c="",u="",m="",g="Size4-Regular",f="rbrack",p=667):e==="\\lfloor"||e===""?(u=c="",m="",g="Size4-Regular",f="lfloor",p=667):e==="\\lceil"||e===""?(c="",u=m="",g="Size4-Regular",f="lceil",p=667):e==="\\rfloor"||e===""?(u=c="",m="",g="Size4-Regular",f="rfloor",p=667):e==="\\rceil"||e===""?(c="",u=m="",g="Size4-Regular",f="rceil",p=667):e==="("||e==="\\lparen"?(c="",u="",m="",g="Size4-Regular",f="lparen",p=875):e===")"||e==="\\rparen"?(c="",u="",m="",g="Size4-Regular",f="rparen",p=875):e==="\\{"||e==="\\lbrace"?(c="",h="",m="",u="",g="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(c="",h="",m="",u="",g="Size4-Regular"):e==="\\lgroup"||e===""?(c="",m="",u="",g="Size4-Regular"):e==="\\rgroup"||e===""?(c="",m="",u="",g="Size4-Regular"):e==="\\lmoustache"||e===""?(c="",m="",u="",g="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(c="",m="",u="",g="Size4-Regular");var S=oh(c,g,a),N=S.height+S.depth,$=oh(u,g,a),w=$.height+$.depth,T=oh(m,g,a),A=T.height+T.depth,I=0,B=1;if(h!==null){var Q=oh(h,g,a);I=Q.height+Q.depth,B=2}var D=N+A+I,E=Math.max(0,Math.ceil((r-D)/(B*w))),z=D+E*B*w,O=i.fontMetrics().axisHeight;s&&(O*=i.sizeMultiplier);var L=z/2-O,H=[];if(f.length>0){var q=z-N-A,ye=Math.round(z*1e3),de=DZ(f,Math.round(q*1e3)),oe=new Co(f,de),re=(p/1e3).toFixed(3)+"em",F=(ye/1e3).toFixed(3)+"em",le=new ha([oe],{width:re,height:F,viewBox:"0 0 "+p+" "+ye}),W=fe.makeSvgSpan([],[le],i);W.height=ye/1e3,W.style.width=re,W.style.height=F,H.push({type:"elem",elem:W})}else{if(H.push(Mg(m,g,a)),H.push(Ud),h===null){var te=z-N-A+2*W2;H.push(_g(u,te,i))}else{var U=(z-N-A-I)/2+2*W2;H.push(_g(u,U,i)),H.push(Ud),H.push(Mg(h,g,a)),H.push(Ud),H.push(_g(u,U,i))}H.push(Ud),H.push(Mg(c,g,a))}var Z=i.havingBaseStyle(Ye.TEXT),ge=fe.makeVList({positionType:"bottom",positionData:L,children:H},Z);return $3(fe.makeSpan(["delimsizing","mult"],[ge],Z),Ye.TEXT,i,l)},$g=80,zg=.08,Dg=function(e,r,s,i,a){var l=$Z(e,i,s),c=new Co(e,l),h=new ha([c],{width:"400em",height:Ie(r),viewBox:"0 0 400000 "+s,preserveAspectRatio:"xMinYMin slice"});return fe.makeSvgSpan(["hide-tail"],[h],a)},_Q=function(e,r){var s=r.havingBaseSizing(),i=EE("\\surd",e*s.sizeMultiplier,NE,s),a=s.sizeMultiplier,l=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),c,h=0,u=0,m=0,f;return i.type==="small"?(m=1e3+1e3*l+$g,e<1?a=1:e<1.4&&(a=.7),h=(1+l+zg)/a,u=(1+l)/a,c=Dg("sqrtMain",h,m,l,r),c.style.minWidth="0.853em",f=.833/a):i.type==="large"?(m=(1e3+$g)*_h[i.size],u=(_h[i.size]+l)/a,h=(_h[i.size]+l+zg)/a,c=Dg("sqrtSize"+i.size,h,m,l,r),c.style.minWidth="1.02em",f=1/a):(h=e+l+zg,u=e+l,m=Math.floor(1e3*e+l)+$g,c=Dg("sqrtTall",h,m,l,r),c.style.minWidth="0.742em",f=1.056),c.height=u,c.style.height=Ie(h),{span:c,advanceWidth:f,ruleWidth:(r.fontMetrics().sqrtRuleThickness+l)*a}},kE=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],$Q=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],AE=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],_h=[0,1.2,1.8,2.4,3],zQ=function(e,r,s,i,a){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),kE.includes(e)||AE.includes(e))return SE(e,r,!1,s,i,a);if($Q.includes(e))return TE(e,_h[r],!1,s,i,a);throw new Me("Illegal delimiter: '"+e+"'")},DQ=[{type:"small",style:Ye.SCRIPTSCRIPT},{type:"small",style:Ye.SCRIPT},{type:"small",style:Ye.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],IQ=[{type:"small",style:Ye.SCRIPTSCRIPT},{type:"small",style:Ye.SCRIPT},{type:"small",style:Ye.TEXT},{type:"stack"}],NE=[{type:"small",style:Ye.SCRIPTSCRIPT},{type:"small",style:Ye.SCRIPT},{type:"small",style:Ye.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],RQ=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},EE=function(e,r,s,i){for(var a=Math.min(2,3-i.style.size),l=a;l<s.length&&s[l].type!=="stack";l++){var c=oh(e,RQ(s[l]),"math"),h=c.height+c.depth;if(s[l].type==="small"){var u=i.havingBaseStyle(s[l].style);h*=u.sizeMultiplier}if(h>r)return s[l]}return s[s.length-1]},CE=function(e,r,s,i,a,l){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var c;AE.includes(e)?c=DQ:kE.includes(e)?c=NE:c=IQ;var h=EE(e,r,c,i);return h.type==="small"?NQ(e,h.style,s,i,a,l):h.type==="large"?SE(e,h.size,s,i,a,l):TE(e,r,s,i,a,l)},GQ=function(e,r,s,i,a,l){var c=i.fontMetrics().axisHeight*i.sizeMultiplier,h=901,u=5/i.fontMetrics().ptPerEm,m=Math.max(r-c,s+c),f=Math.max(m/500*h,2*m-u);return CE(e,f,!0,i,a,l)},Yi={sqrtImage:_Q,sizedDelim:zQ,sizeToMaxHeight:_h,customSizedDelim:CE,leftRightDelim:GQ},Mj={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},OQ=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Cp(t,e){var r=Np(t);if(r&&OQ.includes(r.text))return r;throw r?new Me("Invalid delimiter '"+r.text+"' after '"+e.funcName+"'",t):new Me("Invalid delimiter type '"+t.type+"'",t)}Oe({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var r=Cp(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:Mj[t.funcName].size,mclass:Mj[t.funcName].mclass,delim:r.text}},htmlBuilder:(t,e)=>t.delim==="."?fe.makeSpan([t.mclass]):Yi.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(bs(t.delim,t.mode));var r=new Ee.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var s=Ie(Yi.sizeToMaxHeight[t.size]);return r.setAttribute("minsize",s),r.setAttribute("maxsize",s),r}});function _j(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Oe({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=t.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new Me("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:Cp(e[0],t).text,color:r}}});Oe({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=Cp(e[0],t),s=t.parser;++s.leftrightDepth;var i=s.parseExpression(!1);--s.leftrightDepth,s.expect("\\right",!1);var a=it(s.parseFunction(),"leftright-right");return{type:"leftright",mode:s.mode,body:i,left:r.text,right:a.delim,rightColor:a.color}},htmlBuilder:(t,e)=>{_j(t);for(var r=Ir(t.body,e,!0,["mopen","mclose"]),s=0,i=0,a=!1,l=0;l<r.length;l++)r[l].isMiddle?a=!0:(s=Math.max(r[l].height,s),i=Math.max(r[l].depth,i));s*=e.sizeMultiplier,i*=e.sizeMultiplier;var c;if(t.left==="."?c=lu(e,["mopen"]):c=Yi.leftRightDelim(t.left,s,i,e,t.mode,["mopen"]),r.unshift(c),a)for(var h=1;h<r.length;h++){var u=r[h],m=u.isMiddle;m&&(r[h]=Yi.leftRightDelim(m.delim,s,i,m.options,t.mode,[]))}var f;if(t.right===".")f=lu(e,["mclose"]);else{var p=t.rightColor?e.withColor(t.rightColor):e;f=Yi.leftRightDelim(t.right,s,i,p,t.mode,["mclose"])}return r.push(f),fe.makeSpan(["minner"],r,e)},mathmlBuilder:(t,e)=>{_j(t);var r=zn(t.body,e);if(t.left!=="."){var s=new Ee.MathNode("mo",[bs(t.left,t.mode)]);s.setAttribute("fence","true"),r.unshift(s)}if(t.right!=="."){var i=new Ee.MathNode("mo",[bs(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),r.push(i)}return E3(r)}});Oe({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var r=Cp(e[0],t);if(!t.parser.leftrightDepth)throw new Me("\\middle without preceding \\left",r);return{type:"middle",mode:t.parser.mode,delim:r.text}},htmlBuilder:(t,e)=>{var r;if(t.delim===".")r=lu(e,[]);else{r=Yi.sizedDelim(t.delim,1,e,t.mode,[]);var s={delim:t.delim,options:e};r.isMiddle=s}return r},mathmlBuilder:(t,e)=>{var r=t.delim==="\\vert"||t.delim==="|"?bs("|","text"):bs(t.delim,t.mode),s=new Ee.MathNode("mo",[r]);return s.setAttribute("fence","true"),s.setAttribute("lspace","0.05em"),s.setAttribute("rspace","0.05em"),s}});var z3=(t,e)=>{var r=fe.wrapFragment(mt(t.body,e),e),s=t.label.slice(1),i=e.sizeMultiplier,a,l=0,c=gt.isCharacterBox(t.body);if(s==="sout")a=fe.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/i,l=-.5*e.fontMetrics().xHeight;else if(s==="phase"){var h=er({number:.6,unit:"pt"},e),u=er({number:.35,unit:"ex"},e),m=e.havingBaseSizing();i=i/m.sizeMultiplier;var f=r.height+r.depth+h+u;r.style.paddingLeft=Ie(f/2+h);var p=Math.floor(1e3*f*i),g=MZ(p),S=new ha([new Co("phase",g)],{width:"400em",height:Ie(p/1e3),viewBox:"0 0 400000 "+p,preserveAspectRatio:"xMinYMin slice"});a=fe.makeSvgSpan(["hide-tail"],[S],e),a.style.height=Ie(f),l=r.depth+h+u}else{/cancel/.test(s)?c||r.classes.push("cancel-pad"):s==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var N=0,$=0,w=0;/box/.test(s)?(w=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),N=e.fontMetrics().fboxsep+(s==="colorbox"?0:w),$=N):s==="angl"?(w=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),N=4*w,$=Math.max(0,.25-r.depth)):(N=c?.2:0,$=N),a=da.encloseSpan(r,s,N,$,e),/fbox|boxed|fcolorbox/.test(s)?(a.style.borderStyle="solid",a.style.borderWidth=Ie(w)):s==="angl"&&w!==.049&&(a.style.borderTopWidth=Ie(w),a.style.borderRightWidth=Ie(w)),l=r.depth+$,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var T;if(t.backgroundColor)T=fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:l},{type:"elem",elem:r,shift:0}]},e);else{var A=/cancel|phase/.test(s)?["svg-align"]:[];T=fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:a,shift:l,wrapperClasses:A}]},e)}return/cancel/.test(s)&&(T.height=r.height,T.depth=r.depth),/cancel/.test(s)&&!c?fe.makeSpan(["mord","cancel-lap"],[T],e):fe.makeSpan(["mord"],[T],e)},D3=(t,e)=>{var r=0,s=new Ee.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ct(t.body,e)]);switch(t.label){case"\\cancel":s.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":s.setAttribute("notation","downdiagonalstrike");break;case"\\phase":s.setAttribute("notation","phasorangle");break;case"\\sout":s.setAttribute("notation","horizontalstrike");break;case"\\fbox":s.setAttribute("notation","box");break;case"\\angl":s.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,s.setAttribute("width","+"+2*r+"pt"),s.setAttribute("height","+"+2*r+"pt"),s.setAttribute("lspace",r+"pt"),s.setAttribute("voffset",r+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);s.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":s.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&s.setAttribute("mathbackground",t.backgroundColor),s};Oe({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,r){var{parser:s,funcName:i}=t,a=it(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:s.mode,label:i,backgroundColor:a,body:l}},htmlBuilder:z3,mathmlBuilder:D3});Oe({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,r){var{parser:s,funcName:i}=t,a=it(e[0],"color-token").color,l=it(e[1],"color-token").color,c=e[2];return{type:"enclose",mode:s.mode,label:i,backgroundColor:l,borderColor:a,body:c}},htmlBuilder:z3,mathmlBuilder:D3});Oe({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\fbox",body:e[0]}}});Oe({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:s}=t,i=e[0];return{type:"enclose",mode:r.mode,label:s,body:i}},htmlBuilder:z3,mathmlBuilder:D3});Oe({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"enclose",mode:r.mode,label:"\\angl",body:e[0]}}});var ME={};function fi(t){for(var{type:e,names:r,props:s,handler:i,htmlBuilder:a,mathmlBuilder:l}=t,c={type:e,numArgs:s.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},h=0;h<r.length;++h)ME[r[h]]=c;a&&(Cf[e]=a),l&&(Mf[e]=l)}var _E={};function G(t,e){_E[t]=e}function $j(t){var e=[];t.consumeSpaces();var r=t.fetch().text;for(r==="\\relax"&&(t.consume(),t.consumeSpaces(),r=t.fetch().text);r==="\\hline"||r==="\\hdashline";)t.consume(),e.push(r==="\\hdashline"),t.consumeSpaces(),r=t.fetch().text;return e}var Mp=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Me("{"+t.envName+"} can be used only in display mode.")};function I3(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function Oo(t,e,r){var{hskipBeforeAndAfter:s,addJot:i,cols:a,arraystretch:l,colSeparationType:c,autoTag:h,singleRow:u,emptySingleRow:m,maxNumCols:f,leqno:p}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!l){var g=t.gullet.expandMacroAsText("\\arraystretch");if(g==null)l=1;else if(l=parseFloat(g),!l||l<0)throw new Me("Invalid \\arraystretch: "+g)}t.gullet.beginGroup();var S=[],N=[S],$=[],w=[],T=h!=null?[]:void 0;function A(){h&&t.gullet.macros.set("\\@eqnsw","1",!0)}function I(){T&&(t.gullet.macros.get("\\df@tag")?(T.push(t.subparse([new Vn("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):T.push(!!h&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(A(),w.push($j(t));;){var B=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),B={type:"ordgroup",mode:t.mode,body:B},r&&(B={type:"styling",mode:t.mode,style:r,body:[B]}),S.push(B);var Q=t.fetch().text;if(Q==="&"){if(f&&S.length===f){if(u||c)throw new Me("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(Q==="\\end"){I(),S.length===1&&B.type==="styling"&&B.body[0].body.length===0&&(N.length>1||!m)&&N.pop(),w.length<N.length+1&&w.push([]);break}else if(Q==="\\\\"){t.consume();var D=void 0;t.gullet.future().text!==" "&&(D=t.parseSizeGroup(!0)),$.push(D?D.value:null),I(),w.push($j(t)),S=[],N.push(S),A()}else throw new Me("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:l,body:N,cols:a,rowGaps:$,hskipBeforeAndAfter:s,hLinesBeforeRow:w,colSeparationType:c,tags:T,leqno:p}}function R3(t){return t.slice(0,1)==="d"?"display":"text"}var pi=function(e,r){var s,i,a=e.body.length,l=e.hLinesBeforeRow,c=0,h=new Array(a),u=[],m=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),f=1/r.fontMetrics().ptPerEm,p=5*f;if(e.colSeparationType&&e.colSeparationType==="small"){var g=r.havingStyle(Ye.SCRIPT).sizeMultiplier;p=.2778*(g/r.sizeMultiplier)}var S=e.colSeparationType==="CD"?er({number:3,unit:"ex"},r):12*f,N=3*f,$=e.arraystretch*S,w=.7*$,T=.3*$,A=0;function I(nr){for(var Kt=0;Kt<nr.length;++Kt)Kt>0&&(A+=.25),u.push({pos:A,isDashed:nr[Kt]})}for(I(l[0]),s=0;s<e.body.length;++s){var B=e.body[s],Q=w,D=T;c<B.length&&(c=B.length);var E=new Array(B.length);for(i=0;i<B.length;++i){var z=mt(B[i],r);D<z.depth&&(D=z.depth),Q<z.height&&(Q=z.height),E[i]=z}var O=e.rowGaps[s],L=0;O&&(L=er(O,r),L>0&&(L+=T,D<L&&(D=L),L=0)),e.addJot&&(D+=N),E.height=Q,E.depth=D,A+=Q,E.pos=A,A+=D+L,h[s]=E,I(l[s+1])}var H=A/2+r.fontMetrics().axisHeight,q=e.cols||[],ye=[],de,oe,re=[];if(e.tags&&e.tags.some(nr=>nr))for(s=0;s<a;++s){var F=h[s],le=F.pos-H,W=e.tags[s],te=void 0;W===!0?te=fe.makeSpan(["eqn-num"],[],r):W===!1?te=fe.makeSpan([],[],r):te=fe.makeSpan([],Ir(W,r,!0),r),te.depth=F.depth,te.height=F.height,re.push({type:"elem",elem:te,shift:le})}for(i=0,oe=0;i<c||oe<q.length;++i,++oe){for(var U=q[oe]||{},Z=!0;U.type==="separator";){if(Z||(de=fe.makeSpan(["arraycolsep"],[]),de.style.width=Ie(r.fontMetrics().doubleRuleSep),ye.push(de)),U.separator==="|"||U.separator===":"){var ge=U.separator==="|"?"solid":"dashed",ee=fe.makeSpan(["vertical-separator"],[],r);ee.style.height=Ie(A),ee.style.borderRightWidth=Ie(m),ee.style.borderRightStyle=ge,ee.style.margin="0 "+Ie(-m/2);var ae=A-H;ae&&(ee.style.verticalAlign=Ie(-ae)),ye.push(ee)}else throw new Me("Invalid separator type: "+U.separator);oe++,U=q[oe]||{},Z=!1}if(!(i>=c)){var Ae=void 0;(i>0||e.hskipBeforeAndAfter)&&(Ae=gt.deflt(U.pregap,p),Ae!==0&&(de=fe.makeSpan(["arraycolsep"],[]),de.style.width=Ie(Ae),ye.push(de)));var pe=[];for(s=0;s<a;++s){var he=h[s],ve=he[i];if(ve){var _e=he.pos-H;ve.depth=he.depth,ve.height=he.height,pe.push({type:"elem",elem:ve,shift:_e})}}pe=fe.makeVList({positionType:"individualShift",children:pe},r),pe=fe.makeSpan(["col-align-"+(U.align||"c")],[pe]),ye.push(pe),(i<c-1||e.hskipBeforeAndAfter)&&(Ae=gt.deflt(U.postgap,p),Ae!==0&&(de=fe.makeSpan(["arraycolsep"],[]),de.style.width=Ie(Ae),ye.push(de)))}}if(h=fe.makeSpan(["mtable"],ye),u.length>0){for(var Se=fe.makeLineSpan("hline",r,m),qe=fe.makeLineSpan("hdashline",r,m),Ue=[{type:"elem",elem:h,shift:0}];u.length>0;){var yt=u.pop(),Vt=yt.pos-H;yt.isDashed?Ue.push({type:"elem",elem:qe,shift:Vt}):Ue.push({type:"elem",elem:Se,shift:Vt})}h=fe.makeVList({positionType:"individualShift",children:Ue},r)}if(re.length===0)return fe.makeSpan(["mord"],[h],r);var Hr=fe.makeVList({positionType:"individualShift",children:re},r);return Hr=fe.makeSpan(["tag"],[Hr],r),fe.makeFragment([h,Hr])},PQ={c:"center ",l:"left ",r:"right "},gi=function(e,r){for(var s=[],i=new Ee.MathNode("mtd",[],["mtr-glue"]),a=new Ee.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var c=e.body[l],h=[],u=0;u<c.length;u++)h.push(new Ee.MathNode("mtd",[Ct(c[u],r)]));e.tags&&e.tags[l]&&(h.unshift(i),h.push(i),e.leqno?h.unshift(a):h.push(a)),s.push(new Ee.MathNode("mtr",h))}var m=new Ee.MathNode("mtable",s),f=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);m.setAttribute("rowspacing",Ie(f));var p="",g="";if(e.cols&&e.cols.length>0){var S=e.cols,N="",$=!1,w=0,T=S.length;S[0].type==="separator"&&(p+="top ",w=1),S[S.length-1].type==="separator"&&(p+="bottom ",T-=1);for(var A=w;A<T;A++)S[A].type==="align"?(g+=PQ[S[A].align],$&&(N+="none "),$=!0):S[A].type==="separator"&&$&&(N+=S[A].separator==="|"?"solid ":"dashed ",$=!1);m.setAttribute("columnalign",g.trim()),/[sd]/.test(N)&&m.setAttribute("columnlines",N.trim())}if(e.colSeparationType==="align"){for(var I=e.cols||[],B="",Q=1;Q<I.length;Q++)B+=Q%2?"0em ":"1em ";m.setAttribute("columnspacing",B.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?m.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?m.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?m.setAttribute("columnspacing","0.5em"):m.setAttribute("columnspacing","1em");var D="",E=e.hLinesBeforeRow;p+=E[0].length>0?"left ":"",p+=E[E.length-1].length>0?"right ":"";for(var z=1;z<E.length-1;z++)D+=E[z].length===0?"none ":E[z][0]?"dashed ":"solid ";return/[sd]/.test(D)&&m.setAttribute("rowlines",D.trim()),p!==""&&(m=new Ee.MathNode("menclose",[m]),m.setAttribute("notation",p.trim())),e.arraystretch&&e.arraystretch<1&&(m=new Ee.MathNode("mstyle",[m]),m.setAttribute("scriptlevel","1")),m},$E=function(e,r){e.envName.indexOf("ed")===-1&&Mp(e);var s=[],i=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",l=Oo(e.parser,{cols:s,addJot:!0,autoTag:a?void 0:I3(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),c,h=0,u={type:"ordgroup",mode:e.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var m="",f=0;f<r[0].body.length;f++){var p=it(r[0].body[f],"textord");m+=p.text}c=Number(m),h=c*2}var g=!h;l.body.forEach(function(w){for(var T=1;T<w.length;T+=2){var A=it(w[T],"styling"),I=it(A.body[0],"ordgroup");I.body.unshift(u)}if(g)h<w.length&&(h=w.length);else{var B=w.length/2;if(c<B)throw new Me("Too many math in a row: "+("expected "+c+", but got "+B),w[0])}});for(var S=0;S<h;++S){var N="r",$=0;S%2===1?N="l":S>0&&g&&($=1),s[S]={type:"align",align:N,pregap:$,postgap:0}}return l.colSeparationType=g?"align":"alignat",l};fi({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var r=Np(e[0]),s=r?[e[0]]:it(e[0],"ordgroup").body,i=s.map(function(l){var c=M3(l),h=c.text;if("lcr".indexOf(h)!==-1)return{type:"align",align:h};if(h==="|")return{type:"separator",separator:"|"};if(h===":")return{type:"separator",separator:":"};throw new Me("Unknown column alignment: "+h,l)}),a={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Oo(t.parser,a,R3(t.envName))},htmlBuilder:pi,mathmlBuilder:gi});fi({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],r="c",s={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new Me("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),s.cols=[{type:"align",align:r}]}}var a=Oo(t.parser,s,R3(t.envName)),l=Math.max(0,...a.body.map(c=>c.length));return a.cols=new Array(l).fill({type:"align",align:r}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:pi,mathmlBuilder:gi});fi({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},r=Oo(t.parser,e,"script");return r.colSeparationType="small",r},htmlBuilder:pi,mathmlBuilder:gi});fi({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var r=Np(e[0]),s=r?[e[0]]:it(e[0],"ordgroup").body,i=s.map(function(l){var c=M3(l),h=c.text;if("lc".indexOf(h)!==-1)return{type:"align",align:h};throw new Me("Unknown column alignment: "+h,l)});if(i.length>1)throw new Me("{subarray} can contain only one column");var a={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=Oo(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new Me("{subarray} can contain only one column");return a},htmlBuilder:pi,mathmlBuilder:gi});fi({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=Oo(t.parser,e,R3(t.envName));return{type:"leftright",mode:t.mode,body:[r],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:pi,mathmlBuilder:gi});fi({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:$E,htmlBuilder:pi,mathmlBuilder:gi});fi({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&Mp(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:I3(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return Oo(t.parser,e,"display")},htmlBuilder:pi,mathmlBuilder:gi});fi({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:$E,htmlBuilder:pi,mathmlBuilder:gi});fi({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){Mp(t);var e={autoTag:I3(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return Oo(t.parser,e,"display")},htmlBuilder:pi,mathmlBuilder:gi});fi({type:"array",names:["CD"],props:{numArgs:0},handler(t){return Mp(t),kQ(t.parser)},htmlBuilder:pi,mathmlBuilder:gi});G("\\nonumber","\\gdef\\@eqnsw{0}");G("\\notag","\\nonumber");Oe({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Me(t.funcName+" valid only within array environment")}});var zj=ME;Oe({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:r,funcName:s}=t,i=e[0];if(i.type!=="ordgroup")throw new Me("Invalid environment name",i);for(var a="",l=0;l<i.body.length;++l)a+=it(i.body[l],"textord").text;if(s==="\\begin"){if(!zj.hasOwnProperty(a))throw new Me("No such environment: "+a,i);var c=zj[a],{args:h,optArgs:u}=r.parseArguments("\\begin{"+a+"}",c),m={mode:r.mode,envName:a,parser:r},f=c.handler(m,h,u);r.expect("\\end",!1);var p=r.nextToken,g=it(r.parseFunction(),"environment");if(g.name!==a)throw new Me("Mismatch: \\begin{"+a+"} matched by \\end{"+g.name+"}",p);return f}return{type:"environment",mode:r.mode,name:a,nameGroup:i}}});var zE=(t,e)=>{var r=t.font,s=e.withFont(r);return mt(t.body,s)},DE=(t,e)=>{var r=t.font,s=e.withFont(r);return Ct(t.body,s)},Dj={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Oe({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:s}=t,i=_f(e[0]),a=s;return a in Dj&&(a=Dj[a]),{type:"font",mode:r.mode,font:a.slice(1),body:i}},htmlBuilder:zE,mathmlBuilder:DE});Oe({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:r}=t,s=e[0],i=gt.isCharacterBox(s);return{type:"mclass",mode:r.mode,mclass:Ep(s),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:s}],isCharacterBox:i}}});Oe({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:s,breakOnTokenText:i}=t,{mode:a}=r,l=r.parseExpression(!0,i),c="math"+s.slice(1);return{type:"font",mode:a,font:c,body:{type:"ordgroup",mode:r.mode,body:l}}},htmlBuilder:zE,mathmlBuilder:DE});var IE=(t,e)=>{var r=e;return t==="display"?r=r.id>=Ye.SCRIPT.id?r.text():Ye.DISPLAY:t==="text"&&r.size===Ye.DISPLAY.size?r=Ye.TEXT:t==="script"?r=Ye.SCRIPT:t==="scriptscript"&&(r=Ye.SCRIPTSCRIPT),r},G3=(t,e)=>{var r=IE(t.size,e.style),s=r.fracNum(),i=r.fracDen(),a;a=e.havingStyle(s);var l=mt(t.numer,a,e);if(t.continued){var c=8.5/e.fontMetrics().ptPerEm,h=3.5/e.fontMetrics().ptPerEm;l.height=l.height<c?c:l.height,l.depth=l.depth<h?h:l.depth}a=e.havingStyle(i);var u=mt(t.denom,a,e),m,f,p;t.hasBarLine?(t.barSize?(f=er(t.barSize,e),m=fe.makeLineSpan("frac-line",e,f)):m=fe.makeLineSpan("frac-line",e),f=m.height,p=m.height):(m=null,f=0,p=e.fontMetrics().defaultRuleThickness);var g,S,N;r.size===Ye.DISPLAY.size||t.size==="display"?(g=e.fontMetrics().num1,f>0?S=3*p:S=7*p,N=e.fontMetrics().denom1):(f>0?(g=e.fontMetrics().num2,S=p):(g=e.fontMetrics().num3,S=3*p),N=e.fontMetrics().denom2);var $;if(m){var T=e.fontMetrics().axisHeight;g-l.depth-(T+.5*f)<S&&(g+=S-(g-l.depth-(T+.5*f))),T-.5*f-(u.height-N)<S&&(N+=S-(T-.5*f-(u.height-N)));var A=-(T-.5*f);$=fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:N},{type:"elem",elem:m,shift:A},{type:"elem",elem:l,shift:-g}]},e)}else{var w=g-l.depth-(u.height-N);w<S&&(g+=.5*(S-w),N+=.5*(S-w)),$=fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:N},{type:"elem",elem:l,shift:-g}]},e)}a=e.havingStyle(r),$.height*=a.sizeMultiplier/e.sizeMultiplier,$.depth*=a.sizeMultiplier/e.sizeMultiplier;var I;r.size===Ye.DISPLAY.size?I=e.fontMetrics().delim1:r.size===Ye.SCRIPTSCRIPT.size?I=e.havingStyle(Ye.SCRIPT).fontMetrics().delim2:I=e.fontMetrics().delim2;var B,Q;return t.leftDelim==null?B=lu(e,["mopen"]):B=Yi.customSizedDelim(t.leftDelim,I,!0,e.havingStyle(r),t.mode,["mopen"]),t.continued?Q=fe.makeSpan([]):t.rightDelim==null?Q=lu(e,["mclose"]):Q=Yi.customSizedDelim(t.rightDelim,I,!0,e.havingStyle(r),t.mode,["mclose"]),fe.makeSpan(["mord"].concat(a.sizingClasses(e)),[B,fe.makeSpan(["mfrac"],[$]),Q],e)},O3=(t,e)=>{var r=new Ee.MathNode("mfrac",[Ct(t.numer,e),Ct(t.denom,e)]);if(!t.hasBarLine)r.setAttribute("linethickness","0px");else if(t.barSize){var s=er(t.barSize,e);r.setAttribute("linethickness",Ie(s))}var i=IE(t.size,e.style);if(i.size!==e.style.size){r=new Ee.MathNode("mstyle",[r]);var a=i.size===Ye.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",a),r.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var l=[];if(t.leftDelim!=null){var c=new Ee.MathNode("mo",[new Ee.TextNode(t.leftDelim.replace("\\",""))]);c.setAttribute("fence","true"),l.push(c)}if(l.push(r),t.rightDelim!=null){var h=new Ee.MathNode("mo",[new Ee.TextNode(t.rightDelim.replace("\\",""))]);h.setAttribute("fence","true"),l.push(h)}return E3(l)}return r};Oe({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:r,funcName:s}=t,i=e[0],a=e[1],l,c=null,h=null,u="auto";switch(s){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,c="(",h=")";break;case"\\\\bracefrac":l=!1,c="\\{",h="\\}";break;case"\\\\brackfrac":l=!1,c="[",h="]";break;default:throw new Error("Unrecognized genfrac command")}switch(s){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:a,hasBarLine:l,leftDelim:c,rightDelim:h,size:u,barSize:null}},htmlBuilder:G3,mathmlBuilder:O3});Oe({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:r,funcName:s}=t,i=e[0],a=e[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Oe({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:r,token:s}=t,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:s}}});var Ij=["display","text","script","scriptscript"],Rj=function(e){var r=null;return e.length>0&&(r=e,r=r==="."?null:r),r};Oe({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:r}=t,s=e[4],i=e[5],a=_f(e[0]),l=a.type==="atom"&&a.family==="open"?Rj(a.text):null,c=_f(e[1]),h=c.type==="atom"&&c.family==="close"?Rj(c.text):null,u=it(e[2],"size"),m,f=null;u.isBlank?m=!0:(f=u.value,m=f.number>0);var p="auto",g=e[3];if(g.type==="ordgroup"){if(g.body.length>0){var S=it(g.body[0],"textord");p=Ij[Number(S.text)]}}else g=it(g,"textord"),p=Ij[Number(g.text)];return{type:"genfrac",mode:r.mode,numer:s,denom:i,continued:!1,hasBarLine:m,barSize:f,leftDelim:l,rightDelim:h,size:p}},htmlBuilder:G3,mathmlBuilder:O3});Oe({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:r,funcName:s,token:i}=t;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:it(e[0],"size").value,token:i}}});Oe({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:r,funcName:s}=t,i=e[0],a=pZ(it(e[1],"infix").size),l=e[2],c=a.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:l,continued:!1,hasBarLine:c,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:G3,mathmlBuilder:O3});var RE=(t,e)=>{var r=e.style,s,i;t.type==="supsub"?(s=t.sup?mt(t.sup,e.havingStyle(r.sup()),e):mt(t.sub,e.havingStyle(r.sub()),e),i=it(t.base,"horizBrace")):i=it(t,"horizBrace");var a=mt(i.base,e.havingBaseStyle(Ye.DISPLAY)),l=da.svgSpan(i,e),c;if(i.isOver?(c=fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:l}]},e),c.children[0].children[0].children[1].classes.push("svg-align")):(c=fe.makeVList({positionType:"bottom",positionData:a.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:a}]},e),c.children[0].children[0].children[0].classes.push("svg-align")),s){var h=fe.makeSpan(["mord",i.isOver?"mover":"munder"],[c],e);i.isOver?c=fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:h},{type:"kern",size:.2},{type:"elem",elem:s}]},e):c=fe.makeVList({positionType:"bottom",positionData:h.depth+.2+s.height+s.depth,children:[{type:"elem",elem:s},{type:"kern",size:.2},{type:"elem",elem:h}]},e)}return fe.makeSpan(["mord",i.isOver?"mover":"munder"],[c],e)},LQ=(t,e)=>{var r=da.mathMLnode(t.label);return new Ee.MathNode(t.isOver?"mover":"munder",[Ct(t.base,e),r])};Oe({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:r,funcName:s}=t;return{type:"horizBrace",mode:r.mode,label:s,isOver:/^\\over/.test(s),base:e[0]}},htmlBuilder:RE,mathmlBuilder:LQ});Oe({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,s=e[1],i=it(e[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:pr(s)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var r=Ir(t.body,e,!1);return fe.makeAnchor(t.href,[],r,e)},mathmlBuilder:(t,e)=>{var r=Mo(t.body,e);return r instanceof Ln||(r=new Ln("mrow",[r])),r.setAttribute("href",t.href),r}});Oe({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,s=it(e[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:s}))return r.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<s.length;a++){var l=s[a];l==="~"&&(l="\\textasciitilde"),i.push({type:"textord",mode:"text",text:l})}var c={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:s,body:pr(c)}}});Oe({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:r}=t;return{type:"hbox",mode:r.mode,body:pr(e[0])}},htmlBuilder(t,e){var r=Ir(t.body,e,!1);return fe.makeFragment(r)},mathmlBuilder(t,e){return new Ee.MathNode("mrow",zn(t.body,e))}});Oe({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:s,token:i}=t,a=it(e[0],"raw").string,l=e[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var c,h={};switch(s){case"\\htmlClass":h.class=a,c={command:"\\htmlClass",class:a};break;case"\\htmlId":h.id=a,c={command:"\\htmlId",id:a};break;case"\\htmlStyle":h.style=a,c={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var u=a.split(","),m=0;m<u.length;m++){var f=u[m],p=f.indexOf("=");if(p<0)throw new Me("\\htmlData key/value '"+f+"' missing equals sign");var g=f.slice(0,p),S=f.slice(p+1);h["data-"+g.trim()]=S}c={command:"\\htmlData",attributes:h};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(c)?{type:"html",mode:r.mode,attributes:h,body:pr(l)}:r.formatUnsupportedCmd(s)},htmlBuilder:(t,e)=>{var r=Ir(t.body,e,!1),s=["enclosing"];t.attributes.class&&s.push(...t.attributes.class.trim().split(/\s+/));var i=fe.makeSpan(s,r,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&i.setAttribute(a,t.attributes[a]);return i},mathmlBuilder:(t,e)=>Mo(t.body,e)});Oe({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"htmlmathml",mode:r.mode,html:pr(e[0]),mathml:pr(e[1])}},htmlBuilder:(t,e)=>{var r=Ir(t.html,e,!1);return fe.makeFragment(r)},mathmlBuilder:(t,e)=>Mo(t.mathml,e)});var Ig=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!r)throw new Me("Invalid size: '"+e+"' in \\includegraphics");var s={number:+(r[1]+r[2]),unit:r[3]};if(!tE(s))throw new Me("Invalid unit: '"+s.unit+"' in \\includegraphics.");return s};Oe({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,r)=>{var{parser:s}=t,i={number:0,unit:"em"},a={number:.9,unit:"em"},l={number:0,unit:"em"},c="";if(r[0])for(var h=it(r[0],"raw").string,u=h.split(","),m=0;m<u.length;m++){var f=u[m].split("=");if(f.length===2){var p=f[1].trim();switch(f[0].trim()){case"alt":c=p;break;case"width":i=Ig(p);break;case"height":a=Ig(p);break;case"totalheight":l=Ig(p);break;default:throw new Me("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var g=it(e[0],"url").url;return c===""&&(c=g,c=c.replace(/^.*[\\/]/,""),c=c.substring(0,c.lastIndexOf("."))),s.settings.isTrusted({command:"\\includegraphics",url:g})?{type:"includegraphics",mode:s.mode,alt:c,width:i,height:a,totalheight:l,src:g}:s.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var r=er(t.height,e),s=0;t.totalheight.number>0&&(s=er(t.totalheight,e)-r);var i=0;t.width.number>0&&(i=er(t.width,e));var a={height:Ie(r+s)};i>0&&(a.width=Ie(i)),s>0&&(a.verticalAlign=Ie(-s));var l=new LZ(t.src,t.alt,a);return l.height=r,l.depth=s,l},mathmlBuilder:(t,e)=>{var r=new Ee.MathNode("mglyph",[]);r.setAttribute("alt",t.alt);var s=er(t.height,e),i=0;if(t.totalheight.number>0&&(i=er(t.totalheight,e)-s,r.setAttribute("valign",Ie(-i))),r.setAttribute("height",Ie(s+i)),t.width.number>0){var a=er(t.width,e);r.setAttribute("width",Ie(a))}return r.setAttribute("src",t.src),r}});Oe({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:s}=t,i=it(e[0],"size");if(r.settings.strict){var a=s[1]==="m",l=i.value.unit==="mu";a?(l||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" works only in math mode")):l&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(t,e){return fe.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var r=er(t.dimension,e);return new Ee.SpaceNode(r)}});Oe({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r,funcName:s}=t,i=e[0];return{type:"lap",mode:r.mode,alignment:s.slice(5),body:i}},htmlBuilder:(t,e)=>{var r;t.alignment==="clap"?(r=fe.makeSpan([],[mt(t.body,e)]),r=fe.makeSpan(["inner"],[r],e)):r=fe.makeSpan(["inner"],[mt(t.body,e)]);var s=fe.makeSpan(["fix"],[]),i=fe.makeSpan([t.alignment],[r,s],e),a=fe.makeSpan(["strut"]);return a.style.height=Ie(i.height+i.depth),i.depth&&(a.style.verticalAlign=Ie(-i.depth)),i.children.unshift(a),i=fe.makeSpan(["thinbox"],[i],e),fe.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var r=new Ee.MathNode("mpadded",[Ct(t.body,e)]);if(t.alignment!=="rlap"){var s=t.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",s+"width")}return r.setAttribute("width","0px"),r}});Oe({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:r,parser:s}=t,i=s.mode;s.switchMode("math");var a=r==="\\("?"\\)":"$",l=s.parseExpression(!1,a);return s.expect(a),s.switchMode(i),{type:"styling",mode:s.mode,style:"text",body:l}}});Oe({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Me("Mismatched "+t.funcName)}});var Gj=(t,e)=>{switch(e.style.size){case Ye.DISPLAY.size:return t.display;case Ye.TEXT.size:return t.text;case Ye.SCRIPT.size:return t.script;case Ye.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Oe({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:r}=t;return{type:"mathchoice",mode:r.mode,display:pr(e[0]),text:pr(e[1]),script:pr(e[2]),scriptscript:pr(e[3])}},htmlBuilder:(t,e)=>{var r=Gj(t,e),s=Ir(r,e,!1);return fe.makeFragment(s)},mathmlBuilder:(t,e)=>{var r=Gj(t,e);return Mo(r,e)}});var GE=(t,e,r,s,i,a,l)=>{t=fe.makeSpan([],[t]);var c=r&&gt.isCharacterBox(r),h,u;if(e){var m=mt(e,s.havingStyle(i.sup()),s);u={elem:m,kern:Math.max(s.fontMetrics().bigOpSpacing1,s.fontMetrics().bigOpSpacing3-m.depth)}}if(r){var f=mt(r,s.havingStyle(i.sub()),s);h={elem:f,kern:Math.max(s.fontMetrics().bigOpSpacing2,s.fontMetrics().bigOpSpacing4-f.height)}}var p;if(u&&h){var g=s.fontMetrics().bigOpSpacing5+h.elem.height+h.elem.depth+h.kern+t.depth+l;p=fe.makeVList({positionType:"bottom",positionData:g,children:[{type:"kern",size:s.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:Ie(-a)},{type:"kern",size:h.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Ie(a)},{type:"kern",size:s.fontMetrics().bigOpSpacing5}]},s)}else if(h){var S=t.height-l;p=fe.makeVList({positionType:"top",positionData:S,children:[{type:"kern",size:s.fontMetrics().bigOpSpacing5},{type:"elem",elem:h.elem,marginLeft:Ie(-a)},{type:"kern",size:h.kern},{type:"elem",elem:t}]},s)}else if(u){var N=t.depth+l;p=fe.makeVList({positionType:"bottom",positionData:N,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Ie(a)},{type:"kern",size:s.fontMetrics().bigOpSpacing5}]},s)}else return t;var $=[p];if(h&&a!==0&&!c){var w=fe.makeSpan(["mspace"],[],s);w.style.marginRight=Ie(a),$.unshift(w)}return fe.makeSpan(["mop","op-limits"],$,s)},OE=["\\smallint"],v0=(t,e)=>{var r,s,i=!1,a;t.type==="supsub"?(r=t.sup,s=t.sub,a=it(t.base,"op"),i=!0):a=it(t,"op");var l=e.style,c=!1;l.size===Ye.DISPLAY.size&&a.symbol&&!OE.includes(a.name)&&(c=!0);var h;if(a.symbol){var u=c?"Size2-Regular":"Size1-Regular",m="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(m=a.name.slice(1),a.name=m==="oiint"?"\\iint":"\\iiint"),h=fe.makeSymbol(a.name,u,"math",e,["mop","op-symbol",c?"large-op":"small-op"]),m.length>0){var f=h.italic,p=fe.staticSvg(m+"Size"+(c?"2":"1"),e);h=fe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:0},{type:"elem",elem:p,shift:c?.08:0}]},e),a.name="\\"+m,h.classes.unshift("mop"),h.italic=f}}else if(a.body){var g=Ir(a.body,e,!0);g.length===1&&g[0]instanceof ys?(h=g[0],h.classes[0]="mop"):h=fe.makeSpan(["mop"],g,e)}else{for(var S=[],N=1;N<a.name.length;N++)S.push(fe.mathsym(a.name[N],a.mode,e));h=fe.makeSpan(["mop"],S,e)}var $=0,w=0;return(h instanceof ys||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&($=(h.height-h.depth)/2-e.fontMetrics().axisHeight,w=h.italic),i?GE(h,r,s,e,l,w,$):($&&(h.style.position="relative",h.style.top=Ie($)),h)},Pu=(t,e)=>{var r;if(t.symbol)r=new Ln("mo",[bs(t.name,t.mode)]),OE.includes(t.name)&&r.setAttribute("largeop","false");else if(t.body)r=new Ln("mo",zn(t.body,e));else{r=new Ln("mi",[new Js(t.name.slice(1))]);var s=new Ln("mo",[bs("","text")]);t.parentIsSupSub?r=new Ln("mrow",[r,s]):r=dE([r,s])}return r},qQ={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Oe({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:r,funcName:s}=t,i=s;return i.length===1&&(i=qQ[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:v0,mathmlBuilder:Pu});Oe({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:r}=t,s=e[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:pr(s)}},htmlBuilder:v0,mathmlBuilder:Pu});var BQ={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Oe({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:v0,mathmlBuilder:Pu});Oe({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:r}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:v0,mathmlBuilder:Pu});Oe({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:r}=t,s=r;return s.length===1&&(s=BQ[s]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:s}},htmlBuilder:v0,mathmlBuilder:Pu});var PE=(t,e)=>{var r,s,i=!1,a;t.type==="supsub"?(r=t.sup,s=t.sub,a=it(t.base,"operatorname"),i=!0):a=it(t,"operatorname");var l;if(a.body.length>0){for(var c=a.body.map(f=>{var p=f.text;return typeof p=="string"?{type:"textord",mode:f.mode,text:p}:f}),h=Ir(c,e.withFont("mathrm"),!0),u=0;u<h.length;u++){var m=h[u];m instanceof ys&&(m.text=m.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=fe.makeSpan(["mop"],h,e)}else l=fe.makeSpan(["mop"],[],e);return i?GE(l,r,s,e,e.style,0,0):l},HQ=(t,e)=>{for(var r=zn(t.body,e.withFont("mathrm")),s=!0,i=0;i<r.length;i++){var a=r[i];if(!(a instanceof Ee.SpaceNode))if(a instanceof Ee.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=a.children[0];a.children.length===1&&l instanceof Ee.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):s=!1;break}default:s=!1}else s=!1}if(s){var c=r.map(m=>m.toText()).join("");r=[new Ee.TextNode(c)]}var h=new Ee.MathNode("mi",r);h.setAttribute("mathvariant","normal");var u=new Ee.MathNode("mo",[bs("","text")]);return t.parentIsSupSub?new Ee.MathNode("mrow",[h,u]):Ee.newDocumentFragment([h,u])};Oe({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:r,funcName:s}=t,i=e[0];return{type:"operatorname",mode:r.mode,body:pr(i),alwaysHandleSupSub:s==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:PE,mathmlBuilder:HQ});G("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");ql({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?fe.makeFragment(Ir(t.body,e,!1)):fe.makeSpan(["mord"],Ir(t.body,e,!0),e)},mathmlBuilder(t,e){return Mo(t.body,e,!0)}});Oe({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:r}=t,s=e[0];return{type:"overline",mode:r.mode,body:s}},htmlBuilder(t,e){var r=mt(t.body,e.havingCrampedStyle()),s=fe.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,a=fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:s},{type:"kern",size:i}]},e);return fe.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var r=new Ee.MathNode("mo",[new Ee.TextNode("")]);r.setAttribute("stretchy","true");var s=new Ee.MathNode("mover",[Ct(t.body,e),r]);return s.setAttribute("accent","true"),s}});Oe({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,s=e[0];return{type:"phantom",mode:r.mode,body:pr(s)}},htmlBuilder:(t,e)=>{var r=Ir(t.body,e.withPhantom(),!1);return fe.makeFragment(r)},mathmlBuilder:(t,e)=>{var r=zn(t.body,e);return new Ee.MathNode("mphantom",r)}});Oe({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,s=e[0];return{type:"hphantom",mode:r.mode,body:s}},htmlBuilder:(t,e)=>{var r=fe.makeSpan([],[mt(t.body,e.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var s=0;s<r.children.length;s++)r.children[s].height=0,r.children[s].depth=0;return r=fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e),fe.makeSpan(["mord"],[r],e)},mathmlBuilder:(t,e)=>{var r=zn(pr(t.body),e),s=new Ee.MathNode("mphantom",r),i=new Ee.MathNode("mpadded",[s]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});Oe({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:r}=t,s=e[0];return{type:"vphantom",mode:r.mode,body:s}},htmlBuilder:(t,e)=>{var r=fe.makeSpan(["inner"],[mt(t.body,e.withPhantom())]),s=fe.makeSpan(["fix"],[]);return fe.makeSpan(["mord","rlap"],[r,s],e)},mathmlBuilder:(t,e)=>{var r=zn(pr(t.body),e),s=new Ee.MathNode("mphantom",r),i=new Ee.MathNode("mpadded",[s]);return i.setAttribute("width","0px"),i}});Oe({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:r}=t,s=it(e[0],"size").value,i=e[1];return{type:"raisebox",mode:r.mode,dy:s,body:i}},htmlBuilder(t,e){var r=mt(t.body,e),s=er(t.dy,e);return fe.makeVList({positionType:"shift",positionData:-s,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){var r=new Ee.MathNode("mpadded",[Ct(t.body,e)]),s=t.dy.number+t.dy.unit;return r.setAttribute("voffset",s),r}});Oe({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});Oe({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,r){var{parser:s}=t,i=r[0],a=it(e[0],"size"),l=it(e[1],"size");return{type:"rule",mode:s.mode,shift:i&&it(i,"size").value,width:a.value,height:l.value}},htmlBuilder(t,e){var r=fe.makeSpan(["mord","rule"],[],e),s=er(t.width,e),i=er(t.height,e),a=t.shift?er(t.shift,e):0;return r.style.borderRightWidth=Ie(s),r.style.borderTopWidth=Ie(i),r.style.bottom=Ie(a),r.width=s,r.height=i+a,r.depth=-a,r.maxFontSize=i*1.125*e.sizeMultiplier,r},mathmlBuilder(t,e){var r=er(t.width,e),s=er(t.height,e),i=t.shift?er(t.shift,e):0,a=e.color&&e.getColor()||"black",l=new Ee.MathNode("mspace");l.setAttribute("mathbackground",a),l.setAttribute("width",Ie(r)),l.setAttribute("height",Ie(s));var c=new Ee.MathNode("mpadded",[l]);return i>=0?c.setAttribute("height",Ie(i)):(c.setAttribute("height",Ie(i)),c.setAttribute("depth",Ie(-i))),c.setAttribute("voffset",Ie(i)),c}});function LE(t,e,r){for(var s=Ir(t,e,!1),i=e.sizeMultiplier/r.sizeMultiplier,a=0;a<s.length;a++){var l=s[a].classes.indexOf("sizing");l<0?Array.prototype.push.apply(s[a].classes,e.sizingClasses(r)):s[a].classes[l+1]==="reset-size"+e.size&&(s[a].classes[l+1]="reset-size"+r.size),s[a].height*=i,s[a].depth*=i}return fe.makeFragment(s)}var Oj=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],FQ=(t,e)=>{var r=e.havingSize(t.size);return LE(t.body,r,e)};Oe({type:"sizing",names:Oj,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:r,funcName:s,parser:i}=t,a=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:Oj.indexOf(s)+1,body:a}},htmlBuilder:FQ,mathmlBuilder:(t,e)=>{var r=e.havingSize(t.size),s=zn(t.body,r),i=new Ee.MathNode("mstyle",s);return i.setAttribute("mathsize",Ie(r.sizeMultiplier)),i}});Oe({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,r)=>{var{parser:s}=t,i=!1,a=!1,l=r[0]&&it(r[0],"ordgroup");if(l)for(var c="",h=0;h<l.body.length;++h){var u=l.body[h];if(c=u.text,c==="t")i=!0;else if(c==="b")a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;var m=e[0];return{type:"smash",mode:s.mode,body:m,smashHeight:i,smashDepth:a}},htmlBuilder:(t,e)=>{var r=fe.makeSpan([],[mt(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return r;if(t.smashHeight&&(r.height=0,r.children))for(var s=0;s<r.children.length;s++)r.children[s].height=0;if(t.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var a=fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},e);return fe.makeSpan(["mord"],[a],e)},mathmlBuilder:(t,e)=>{var r=new Ee.MathNode("mpadded",[Ct(t.body,e)]);return t.smashHeight&&r.setAttribute("height","0px"),t.smashDepth&&r.setAttribute("depth","0px"),r}});Oe({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,r){var{parser:s}=t,i=r[0],a=e[0];return{type:"sqrt",mode:s.mode,body:a,index:i}},htmlBuilder(t,e){var r=mt(t.body,e.havingCrampedStyle());r.height===0&&(r.height=e.fontMetrics().xHeight),r=fe.wrapFragment(r,e);var s=e.fontMetrics(),i=s.defaultRuleThickness,a=i;e.style.id<Ye.TEXT.id&&(a=e.fontMetrics().xHeight);var l=i+a/4,c=r.height+r.depth+l+i,{span:h,ruleWidth:u,advanceWidth:m}=Yi.sqrtImage(c,e),f=h.height-u;f>r.height+r.depth+l&&(l=(l+f-r.height-r.depth)/2);var p=h.height-r.height-l-u;r.style.paddingLeft=Ie(m);var g=fe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+p)},{type:"elem",elem:h},{type:"kern",size:u}]},e);if(t.index){var S=e.havingStyle(Ye.SCRIPTSCRIPT),N=mt(t.index,S,e),$=.6*(g.height-g.depth),w=fe.makeVList({positionType:"shift",positionData:-$,children:[{type:"elem",elem:N}]},e),T=fe.makeSpan(["root"],[w]);return fe.makeSpan(["mord","sqrt"],[T,g],e)}else return fe.makeSpan(["mord","sqrt"],[g],e)},mathmlBuilder(t,e){var{body:r,index:s}=t;return s?new Ee.MathNode("mroot",[Ct(r,e),Ct(s,e)]):new Ee.MathNode("msqrt",[Ct(r,e)])}});var Pj={display:Ye.DISPLAY,text:Ye.TEXT,script:Ye.SCRIPT,scriptscript:Ye.SCRIPTSCRIPT};Oe({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:r,funcName:s,parser:i}=t,a=i.parseExpression(!0,r),l=s.slice(1,s.length-5);return{type:"styling",mode:i.mode,style:l,body:a}},htmlBuilder(t,e){var r=Pj[t.style],s=e.havingStyle(r).withFont("");return LE(t.body,s,e)},mathmlBuilder(t,e){var r=Pj[t.style],s=e.havingStyle(r),i=zn(t.body,s),a=new Ee.MathNode("mstyle",i),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},c=l[t.style];return a.setAttribute("scriptlevel",c[0]),a.setAttribute("displaystyle",c[1]),a}});var UQ=function(e,r){var s=e.base;if(s)if(s.type==="op"){var i=s.limits&&(r.style.size===Ye.DISPLAY.size||s.alwaysHandleSupSub);return i?v0:null}else if(s.type==="operatorname"){var a=s.alwaysHandleSupSub&&(r.style.size===Ye.DISPLAY.size||s.limits);return a?PE:null}else{if(s.type==="accent")return gt.isCharacterBox(s.base)?_3:null;if(s.type==="horizBrace"){var l=!e.sub;return l===s.isOver?RE:null}else return null}else return null};ql({type:"supsub",htmlBuilder(t,e){var r=UQ(t,e);if(r)return r(t,e);var{base:s,sup:i,sub:a}=t,l=mt(s,e),c,h,u=e.fontMetrics(),m=0,f=0,p=s&&gt.isCharacterBox(s);if(i){var g=e.havingStyle(e.style.sup());c=mt(i,g,e),p||(m=l.height-g.fontMetrics().supDrop*g.sizeMultiplier/e.sizeMultiplier)}if(a){var S=e.havingStyle(e.style.sub());h=mt(a,S,e),p||(f=l.depth+S.fontMetrics().subDrop*S.sizeMultiplier/e.sizeMultiplier)}var N;e.style===Ye.DISPLAY?N=u.sup1:e.style.cramped?N=u.sup3:N=u.sup2;var $=e.sizeMultiplier,w=Ie(.5/u.ptPerEm/$),T=null;if(h){var A=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(l instanceof ys||A)&&(T=Ie(-l.italic))}var I;if(c&&h){m=Math.max(m,N,c.depth+.25*u.xHeight),f=Math.max(f,u.sub2);var B=u.defaultRuleThickness,Q=4*B;if(m-c.depth-(h.height-f)<Q){f=Q-(m-c.depth)+h.height;var D=.8*u.xHeight-(m-c.depth);D>0&&(m+=D,f-=D)}var E=[{type:"elem",elem:h,shift:f,marginRight:w,marginLeft:T},{type:"elem",elem:c,shift:-m,marginRight:w}];I=fe.makeVList({positionType:"individualShift",children:E},e)}else if(h){f=Math.max(f,u.sub1,h.height-.8*u.xHeight);var z=[{type:"elem",elem:h,marginLeft:T,marginRight:w}];I=fe.makeVList({positionType:"shift",positionData:f,children:z},e)}else if(c)m=Math.max(m,N,c.depth+.25*u.xHeight),I=fe.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:c,marginRight:w}]},e);else throw new Error("supsub must have either sup or sub.");var O=U2(l,"right")||"mord";return fe.makeSpan([O],[l,fe.makeSpan(["msupsub"],[I])],e)},mathmlBuilder(t,e){var r=!1,s,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(r=!0,s=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[Ct(t.base,e)];t.sub&&a.push(Ct(t.sub,e)),t.sup&&a.push(Ct(t.sup,e));var l;if(r)l=s?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===Ye.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===Ye.DISPLAY||u.limits)?l="munderover":l="msubsup"}else{var h=t.base;h&&h.type==="op"&&h.limits&&(e.style===Ye.DISPLAY||h.alwaysHandleSupSub)||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(h.limits||e.style===Ye.DISPLAY)?l="munder":l="msub"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===Ye.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===Ye.DISPLAY)?l="mover":l="msup"}return new Ee.MathNode(l,a)}});ql({type:"atom",htmlBuilder(t,e){return fe.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var r=new Ee.MathNode("mo",[bs(t.text,t.mode)]);if(t.family==="bin"){var s=C3(t,e);s==="bold-italic"&&r.setAttribute("mathvariant",s)}else t.family==="punct"?r.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&r.setAttribute("stretchy","false");return r}});var qE={mi:"italic",mn:"normal",mtext:"normal"};ql({type:"mathord",htmlBuilder(t,e){return fe.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var r=new Ee.MathNode("mi",[bs(t.text,t.mode,e)]),s=C3(t,e)||"italic";return s!==qE[r.type]&&r.setAttribute("mathvariant",s),r}});ql({type:"textord",htmlBuilder(t,e){return fe.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var r=bs(t.text,t.mode,e),s=C3(t,e)||"normal",i;return t.mode==="text"?i=new Ee.MathNode("mtext",[r]):/[0-9]/.test(t.text)?i=new Ee.MathNode("mn",[r]):t.text==="\\prime"?i=new Ee.MathNode("mo",[r]):i=new Ee.MathNode("mi",[r]),s!==qE[i.type]&&i.setAttribute("mathvariant",s),i}});var Rg={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Gg={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};ql({type:"spacing",htmlBuilder(t,e){if(Gg.hasOwnProperty(t.text)){var r=Gg[t.text].className||"";if(t.mode==="text"){var s=fe.makeOrd(t,e,"textord");return s.classes.push(r),s}else return fe.makeSpan(["mspace",r],[fe.mathsym(t.text,t.mode,e)],e)}else{if(Rg.hasOwnProperty(t.text))return fe.makeSpan(["mspace",Rg[t.text]],[],e);throw new Me('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var r;if(Gg.hasOwnProperty(t.text))r=new Ee.MathNode("mtext",[new Ee.TextNode("")]);else{if(Rg.hasOwnProperty(t.text))return new Ee.MathNode("mspace");throw new Me('Unknown type of space "'+t.text+'"')}return r}});var Lj=()=>{var t=new Ee.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};ql({type:"tag",mathmlBuilder(t,e){var r=new Ee.MathNode("mtable",[new Ee.MathNode("mtr",[Lj(),new Ee.MathNode("mtd",[Mo(t.body,e)]),Lj(),new Ee.MathNode("mtd",[Mo(t.tag,e)])])]);return r.setAttribute("width","100%"),r}});var qj={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Bj={"\\textbf":"textbf","\\textmd":"textmd"},VQ={"\\textit":"textit","\\textup":"textup"},Hj=(t,e)=>{var r=t.font;if(r){if(qj[r])return e.withTextFontFamily(qj[r]);if(Bj[r])return e.withTextFontWeight(Bj[r]);if(r==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(VQ[r])};Oe({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:r,funcName:s}=t,i=e[0];return{type:"text",mode:r.mode,body:pr(i),font:s}},htmlBuilder(t,e){var r=Hj(t,e),s=Ir(t.body,r,!0);return fe.makeSpan(["mord","text"],s,r)},mathmlBuilder(t,e){var r=Hj(t,e);return Mo(t.body,r)}});Oe({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:r}=t;return{type:"underline",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=mt(t.body,e),s=fe.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,a=fe.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:s},{type:"kern",size:3*i},{type:"elem",elem:r}]},e);return fe.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var r=new Ee.MathNode("mo",[new Ee.TextNode("")]);r.setAttribute("stretchy","true");var s=new Ee.MathNode("munder",[Ct(t.body,e),r]);return s.setAttribute("accentunder","true"),s}});Oe({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:r}=t;return{type:"vcenter",mode:r.mode,body:e[0]}},htmlBuilder(t,e){var r=mt(t.body,e),s=e.fontMetrics().axisHeight,i=.5*(r.height-s-(r.depth+s));return fe.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},e)},mathmlBuilder(t,e){return new Ee.MathNode("mpadded",[Ct(t.body,e)],["vcenter"])}});Oe({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,r){throw new Me("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var r=Fj(t),s=[],i=e.havingStyle(e.style.text()),a=0;a<r.length;a++){var l=r[a];l==="~"&&(l="\\textasciitilde"),s.push(fe.makeSymbol(l,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return fe.makeSpan(["mord","text"].concat(i.sizingClasses(e)),fe.tryCombineChars(s),i)},mathmlBuilder(t,e){var r=new Ee.TextNode(Fj(t)),s=new Ee.MathNode("mtext",[r]);return s.setAttribute("mathvariant","monospace"),s}});var Fj=t=>t.body.replace(/ /g,t.star?"":""),Ja=hE,BE=`[ \r
	]`,KQ="\\\\[a-zA-Z@]+",WQ="\\\\[^\uD800-\uDFFF]",XQ="("+KQ+")"+BE+"*",YQ=`\\\\(
|[ \r	]+
?)[ \r	]*`,X2="[-]",ZQ=new RegExp(X2+"+$"),QQ="("+BE+"+)|"+(YQ+"|")+"([!-\\[\\]---]"+(X2+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(X2+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+XQ)+("|"+WQ+")");class Uj{constructor(e,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=r,this.tokenRegex=new RegExp(QQ,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,r){this.catcodes[e]=r}lex(){var e=this.input,r=this.tokenRegex.lastIndex;if(r===e.length)return new Vn("EOF",new An(this,r,r));var s=this.tokenRegex.exec(e);if(s===null||s.index!==r)throw new Me("Unexpected character: '"+e[r]+"'",new Vn(e[r],new An(this,r,r+1)));var i=s[6]||s[3]||(s[2]?"\\ ":" ");if(this.catcodes[i]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new Vn(i,new An(this,r,this.tokenRegex.lastIndex))}}class JQ{constructor(e,r){e===void 0&&(e={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Me("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var r in e)e.hasOwnProperty(r)&&(e[r]==null?delete this.current[r]:this.current[r]=e[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,r,s){if(s===void 0&&(s=!1),s){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=r)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}r==null?delete this.current[e]:this.current[e]=r}}var eJ=_E;G("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});G("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});G("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});G("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});G("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var r=t.future();return e[0].length===1&&e[0][0].text===r.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});G("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");G("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var Vj={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};G("\\char",function(t){var e=t.popToken(),r,s="";if(e.text==="'")r=8,e=t.popToken();else if(e.text==='"')r=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")s=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Me("\\char` missing argument");s=e.text.charCodeAt(0)}else r=10;if(r){if(s=Vj[e.text],s==null||s>=r)throw new Me("Invalid base-"+r+" digit "+e.text);for(var i;(i=Vj[t.future().text])!=null&&i<r;)s*=r,s+=i,t.popToken()}return"\\@char{"+s+"}"});var P3=(t,e,r,s)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new Me("\\newcommand's first argument must be a macro name");var a=i[0].text,l=t.isDefined(a);if(l&&!e)throw new Me("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!l&&!r)throw new Me("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var c=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var h="",u=t.expandNextToken();u.text!=="]"&&u.text!=="EOF";)h+=u.text,u=t.expandNextToken();if(!h.match(/^\s*[0-9]+\s*$/))throw new Me("Invalid number of arguments: "+h);c=parseInt(h),i=t.consumeArg().tokens}return l&&s||t.macros.set(a,{tokens:i,numArgs:c}),""};G("\\newcommand",t=>P3(t,!1,!0,!1));G("\\renewcommand",t=>P3(t,!0,!1,!1));G("\\providecommand",t=>P3(t,!0,!0,!0));G("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(r=>r.text).join("")),""});G("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(r=>r.text).join("")),""});G("\\show",t=>{var e=t.popToken(),r=e.text;return console.log(e,t.macros.get(r),Ja[r],It.math[r],It.text[r]),""});G("\\bgroup","{");G("\\egroup","}");G("~","\\nobreakspace");G("\\lq","`");G("\\rq","'");G("\\aa","\\r a");G("\\AA","\\r A");G("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");G("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");G("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");G("","\\mathscr{B}");G("","\\mathscr{E}");G("","\\mathscr{F}");G("","\\mathscr{H}");G("","\\mathscr{I}");G("","\\mathscr{L}");G("","\\mathscr{M}");G("","\\mathscr{R}");G("","\\mathfrak{C}");G("","\\mathfrak{H}");G("","\\mathfrak{Z}");G("\\Bbbk","\\Bbb{k}");G("","\\cdotp");G("\\llap","\\mathllap{\\textrm{#1}}");G("\\rlap","\\mathrlap{\\textrm{#1}}");G("\\clap","\\mathclap{\\textrm{#1}}");G("\\mathstrut","\\vphantom{(}");G("\\underbar","\\underline{\\text{#1}}");G("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');G("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");G("\\ne","\\neq");G("","\\neq");G("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");G("","\\notin");G("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");G("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");G("","\\perp");G("","\\mathclose{!\\mkern-0.8mu!}");G("","\\notni");G("","\\ulcorner");G("","\\urcorner");G("","\\llcorner");G("","\\lrcorner");G("","\\copyright");G("","\\textregistered");G("","\\textregistered");G("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');G("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');G("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');G("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');G("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");G("","\\vdots");G("\\varGamma","\\mathit{\\Gamma}");G("\\varDelta","\\mathit{\\Delta}");G("\\varTheta","\\mathit{\\Theta}");G("\\varLambda","\\mathit{\\Lambda}");G("\\varXi","\\mathit{\\Xi}");G("\\varPi","\\mathit{\\Pi}");G("\\varSigma","\\mathit{\\Sigma}");G("\\varUpsilon","\\mathit{\\Upsilon}");G("\\varPhi","\\mathit{\\Phi}");G("\\varPsi","\\mathit{\\Psi}");G("\\varOmega","\\mathit{\\Omega}");G("\\substack","\\begin{subarray}{c}#1\\end{subarray}");G("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");G("\\boxed","\\fbox{$\\displaystyle{#1}$}");G("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");G("\\implies","\\DOTSB\\;\\Longrightarrow\\;");G("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");G("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");G("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var Kj={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};G("\\dots",function(t){var e="\\dotso",r=t.expandAfterFuture().text;return r in Kj?e=Kj[r]:(r.slice(0,4)==="\\not"||r in It.math&&["bin","rel"].includes(It.math[r].group))&&(e="\\dotsb"),e});var L3={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};G("\\dotso",function(t){var e=t.future().text;return e in L3?"\\ldots\\,":"\\ldots"});G("\\dotsc",function(t){var e=t.future().text;return e in L3&&e!==","?"\\ldots\\,":"\\ldots"});G("\\cdots",function(t){var e=t.future().text;return e in L3?"\\@cdots\\,":"\\@cdots"});G("\\dotsb","\\cdots");G("\\dotsm","\\cdots");G("\\dotsi","\\!\\cdots");G("\\dotsx","\\ldots\\,");G("\\DOTSI","\\relax");G("\\DOTSB","\\relax");G("\\DOTSX","\\relax");G("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");G("\\,","\\tmspace+{3mu}{.1667em}");G("\\thinspace","\\,");G("\\>","\\mskip{4mu}");G("\\:","\\tmspace+{4mu}{.2222em}");G("\\medspace","\\:");G("\\;","\\tmspace+{5mu}{.2777em}");G("\\thickspace","\\;");G("\\!","\\tmspace-{3mu}{.1667em}");G("\\negthinspace","\\!");G("\\negmedspace","\\tmspace-{4mu}{.2222em}");G("\\negthickspace","\\tmspace-{5mu}{.277em}");G("\\enspace","\\kern.5em ");G("\\enskip","\\hskip.5em\\relax");G("\\quad","\\hskip1em\\relax");G("\\qquad","\\hskip2em\\relax");G("\\tag","\\@ifstar\\tag@literal\\tag@paren");G("\\tag@paren","\\tag@literal{({#1})}");G("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Me("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});G("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");G("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");G("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");G("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");G("\\newline","\\\\\\relax");G("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var HE=Ie(Qs["Main-Regular"][84][1]-.7*Qs["Main-Regular"][65][1]);G("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+HE+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");G("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+HE+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");G("\\hspace","\\@ifstar\\@hspacer\\@hspace");G("\\@hspace","\\hskip #1\\relax");G("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");G("\\ordinarycolon",":");G("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");G("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');G("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');G("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');G("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');G("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');G("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');G("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');G("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');G("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');G("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');G("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');G("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');G("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');G("","\\dblcolon");G("","\\eqcolon");G("","\\coloneqq");G("","\\eqqcolon");G("","\\Coloneqq");G("\\ratio","\\vcentcolon");G("\\coloncolon","\\dblcolon");G("\\colonequals","\\coloneqq");G("\\coloncolonequals","\\Coloneqq");G("\\equalscolon","\\eqqcolon");G("\\equalscoloncolon","\\Eqqcolon");G("\\colonminus","\\coloneq");G("\\coloncolonminus","\\Coloneq");G("\\minuscolon","\\eqcolon");G("\\minuscoloncolon","\\Eqcolon");G("\\coloncolonapprox","\\Colonapprox");G("\\coloncolonsim","\\Colonsim");G("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");G("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");G("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");G("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");G("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");G("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");G("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");G("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");G("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");G("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");G("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");G("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");G("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");G("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");G("\\ngeqq","\\html@mathml{\\@ngeqq}{}");G("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");G("\\nleqq","\\html@mathml{\\@nleqq}{}");G("\\nleqslant","\\html@mathml{\\@nleqslant}{}");G("\\nshortmid","\\html@mathml{\\@nshortmid}{}");G("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");G("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");G("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");G("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");G("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");G("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");G("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");G("\\imath","\\html@mathml{\\@imath}{}");G("\\jmath","\\html@mathml{\\@jmath}{}");G("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");G("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");G("","\\llbracket");G("","\\rrbracket");G("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");G("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");G("","\\lBrace");G("","\\rBrace");G("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");G("","\\minuso");G("\\darr","\\downarrow");G("\\dArr","\\Downarrow");G("\\Darr","\\Downarrow");G("\\lang","\\langle");G("\\rang","\\rangle");G("\\uarr","\\uparrow");G("\\uArr","\\Uparrow");G("\\Uarr","\\Uparrow");G("\\N","\\mathbb{N}");G("\\R","\\mathbb{R}");G("\\Z","\\mathbb{Z}");G("\\alef","\\aleph");G("\\alefsym","\\aleph");G("\\Alpha","\\mathrm{A}");G("\\Beta","\\mathrm{B}");G("\\bull","\\bullet");G("\\Chi","\\mathrm{X}");G("\\clubs","\\clubsuit");G("\\cnums","\\mathbb{C}");G("\\Complex","\\mathbb{C}");G("\\Dagger","\\ddagger");G("\\diamonds","\\diamondsuit");G("\\empty","\\emptyset");G("\\Epsilon","\\mathrm{E}");G("\\Eta","\\mathrm{H}");G("\\exist","\\exists");G("\\harr","\\leftrightarrow");G("\\hArr","\\Leftrightarrow");G("\\Harr","\\Leftrightarrow");G("\\hearts","\\heartsuit");G("\\image","\\Im");G("\\infin","\\infty");G("\\Iota","\\mathrm{I}");G("\\isin","\\in");G("\\Kappa","\\mathrm{K}");G("\\larr","\\leftarrow");G("\\lArr","\\Leftarrow");G("\\Larr","\\Leftarrow");G("\\lrarr","\\leftrightarrow");G("\\lrArr","\\Leftrightarrow");G("\\Lrarr","\\Leftrightarrow");G("\\Mu","\\mathrm{M}");G("\\natnums","\\mathbb{N}");G("\\Nu","\\mathrm{N}");G("\\Omicron","\\mathrm{O}");G("\\plusmn","\\pm");G("\\rarr","\\rightarrow");G("\\rArr","\\Rightarrow");G("\\Rarr","\\Rightarrow");G("\\real","\\Re");G("\\reals","\\mathbb{R}");G("\\Reals","\\mathbb{R}");G("\\Rho","\\mathrm{P}");G("\\sdot","\\cdot");G("\\sect","\\S");G("\\spades","\\spadesuit");G("\\sub","\\subset");G("\\sube","\\subseteq");G("\\supe","\\supseteq");G("\\Tau","\\mathrm{T}");G("\\thetasym","\\vartheta");G("\\weierp","\\wp");G("\\Zeta","\\mathrm{Z}");G("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");G("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");G("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");G("\\bra","\\mathinner{\\langle{#1}|}");G("\\ket","\\mathinner{|{#1}\\rangle}");G("\\braket","\\mathinner{\\langle{#1}\\rangle}");G("\\Bra","\\left\\langle#1\\right|");G("\\Ket","\\left|#1\\right\\rangle");var FE=t=>e=>{var r=e.consumeArg().tokens,s=e.consumeArg().tokens,i=e.consumeArg().tokens,a=e.consumeArg().tokens,l=e.macros.get("|"),c=e.macros.get("\\|");e.macros.beginGroup();var h=f=>p=>{t&&(p.macros.set("|",l),i.length&&p.macros.set("\\|",c));var g=f;if(!f&&i.length){var S=p.future();S.text==="|"&&(p.popToken(),g=!0)}return{tokens:g?i:s,numArgs:0}};e.macros.set("|",h(!1)),i.length&&e.macros.set("\\|",h(!0));var u=e.consumeArg().tokens,m=e.expandTokens([...a,...u,...r]);return e.macros.endGroup(),{tokens:m.reverse(),numArgs:0}};G("\\bra@ket",FE(!1));G("\\bra@set",FE(!0));G("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");G("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");G("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");G("\\angln","{\\angl n}");G("\\blue","\\textcolor{##6495ed}{#1}");G("\\orange","\\textcolor{##ffa500}{#1}");G("\\pink","\\textcolor{##ff00af}{#1}");G("\\red","\\textcolor{##df0030}{#1}");G("\\green","\\textcolor{##28ae7b}{#1}");G("\\gray","\\textcolor{gray}{#1}");G("\\purple","\\textcolor{##9d38bd}{#1}");G("\\blueA","\\textcolor{##ccfaff}{#1}");G("\\blueB","\\textcolor{##80f6ff}{#1}");G("\\blueC","\\textcolor{##63d9ea}{#1}");G("\\blueD","\\textcolor{##11accd}{#1}");G("\\blueE","\\textcolor{##0c7f99}{#1}");G("\\tealA","\\textcolor{##94fff5}{#1}");G("\\tealB","\\textcolor{##26edd5}{#1}");G("\\tealC","\\textcolor{##01d1c1}{#1}");G("\\tealD","\\textcolor{##01a995}{#1}");G("\\tealE","\\textcolor{##208170}{#1}");G("\\greenA","\\textcolor{##b6ffb0}{#1}");G("\\greenB","\\textcolor{##8af281}{#1}");G("\\greenC","\\textcolor{##74cf70}{#1}");G("\\greenD","\\textcolor{##1fab54}{#1}");G("\\greenE","\\textcolor{##0d923f}{#1}");G("\\goldA","\\textcolor{##ffd0a9}{#1}");G("\\goldB","\\textcolor{##ffbb71}{#1}");G("\\goldC","\\textcolor{##ff9c39}{#1}");G("\\goldD","\\textcolor{##e07d10}{#1}");G("\\goldE","\\textcolor{##a75a05}{#1}");G("\\redA","\\textcolor{##fca9a9}{#1}");G("\\redB","\\textcolor{##ff8482}{#1}");G("\\redC","\\textcolor{##f9685d}{#1}");G("\\redD","\\textcolor{##e84d39}{#1}");G("\\redE","\\textcolor{##bc2612}{#1}");G("\\maroonA","\\textcolor{##ffbde0}{#1}");G("\\maroonB","\\textcolor{##ff92c6}{#1}");G("\\maroonC","\\textcolor{##ed5fa6}{#1}");G("\\maroonD","\\textcolor{##ca337c}{#1}");G("\\maroonE","\\textcolor{##9e034e}{#1}");G("\\purpleA","\\textcolor{##ddd7ff}{#1}");G("\\purpleB","\\textcolor{##c6b9fc}{#1}");G("\\purpleC","\\textcolor{##aa87ff}{#1}");G("\\purpleD","\\textcolor{##7854ab}{#1}");G("\\purpleE","\\textcolor{##543b78}{#1}");G("\\mintA","\\textcolor{##f5f9e8}{#1}");G("\\mintB","\\textcolor{##edf2df}{#1}");G("\\mintC","\\textcolor{##e0e5cc}{#1}");G("\\grayA","\\textcolor{##f6f7f7}{#1}");G("\\grayB","\\textcolor{##f0f1f2}{#1}");G("\\grayC","\\textcolor{##e3e5e6}{#1}");G("\\grayD","\\textcolor{##d6d8da}{#1}");G("\\grayE","\\textcolor{##babec2}{#1}");G("\\grayF","\\textcolor{##888d93}{#1}");G("\\grayG","\\textcolor{##626569}{#1}");G("\\grayH","\\textcolor{##3b3e40}{#1}");G("\\grayI","\\textcolor{##21242c}{#1}");G("\\kaBlue","\\textcolor{##314453}{#1}");G("\\kaGreen","\\textcolor{##71B307}{#1}");var UE={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class tJ{constructor(e,r,s){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(e),this.macros=new JQ(eJ,r.macros),this.mode=s,this.stack=[]}feed(e){this.lexer=new Uj(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var r,s,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:s}=this.consumeArg(["]"])}else({tokens:i,start:r,end:s}=this.consumeArg());return this.pushToken(new Vn("EOF",s.loc)),this.pushTokens(i),new Vn("",An.range(r,s))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var r=[],s=e&&e.length>0;s||this.consumeSpaces();var i=this.future(),a,l=0,c=0;do{if(a=this.popToken(),r.push(a),a.text==="{")++l;else if(a.text==="}"){if(--l,l===-1)throw new Me("Extra }",a)}else if(a.text==="EOF")throw new Me("Unexpected end of input in a macro argument, expected '"+(e&&s?e[c]:"}")+"'",a);if(e&&s)if((l===0||l===1&&e[c]==="{")&&a.text===e[c]){if(++c,c===e.length){r.splice(-c,c);break}}else c=0}while(l!==0||s);return i.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:i,end:a}}consumeArgs(e,r){if(r){if(r.length!==e+1)throw new Me("The length of delimiters doesn't match the number of args!");for(var s=r[0],i=0;i<s.length;i++){var a=this.popToken();if(s[i]!==a.text)throw new Me("Use of the macro doesn't match its definition",a)}}for(var l=[],c=0;c<e;c++)l.push(this.consumeArg(r&&r[c+1]).tokens);return l}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Me("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var r=this.popToken(),s=r.text,i=r.noexpand?null:this._getExpansion(s);if(i==null||e&&i.unexpandable){if(e&&i==null&&s[0]==="\\"&&!this.isDefined(s))throw new Me("Undefined control sequence: "+s);return this.pushToken(r),!1}this.countExpansion(1);var a=i.tokens,l=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){a=a.slice();for(var c=a.length-1;c>=0;--c){var h=a[c];if(h.text==="#"){if(c===0)throw new Me("Incomplete placeholder at end of macro body",h);if(h=a[--c],h.text==="#")a.splice(c+1,1);else if(/^[1-9]$/.test(h.text))a.splice(c,2,...l[+h.text-1]);else throw new Me("Not a valid argument number",h)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Vn(e)]):void 0}expandTokens(e){var r=[],s=this.stack.length;for(this.pushTokens(e);this.stack.length>s;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(i)}return this.countExpansion(r.length),r}expandMacroAsText(e){var r=this.expandMacro(e);return r&&r.map(s=>s.text).join("")}_getExpansion(e){var r=this.macros.get(e);if(r==null)return r;if(e.length===1){var s=this.lexer.catcodes[e];if(s!=null&&s!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var a=0;if(i.indexOf("#")!==-1)for(var l=i.replace(/##/g,"");l.indexOf("#"+(a+1))!==-1;)++a;for(var c=new Uj(i,this.settings),h=[],u=c.lex();u.text!=="EOF";)h.push(u),u=c.lex();h.reverse();var m={tokens:h,numArgs:a};return m}return i}isDefined(e){return this.macros.has(e)||Ja.hasOwnProperty(e)||It.math.hasOwnProperty(e)||It.text.hasOwnProperty(e)||UE.hasOwnProperty(e)}isExpandable(e){var r=this.macros.get(e);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:Ja.hasOwnProperty(e)&&!Ja[e].primitive}}var Wj=/^[]/,Vd=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Og={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},Xj={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class _p{constructor(e,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new tJ(e,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(e,r){if(r===void 0&&(r=!0),this.fetch().text!==e)throw new Me("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var r=this.nextToken;this.consume(),this.gullet.pushToken(new Vn("}")),this.gullet.pushTokens(e);var s=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,s}parseExpression(e,r){for(var s=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(_p.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||e&&Ja[i.text]&&Ja[i.text].infix)break;var a=this.parseAtom(r);if(a){if(a.type==="internal")continue}else break;s.push(a)}return this.mode==="text"&&this.formLigatures(s),this.handleInfixNodes(s)}handleInfixNodes(e){for(var r=-1,s,i=0;i<e.length;i++)if(e[i].type==="infix"){if(r!==-1)throw new Me("only one infix operator per group",e[i].token);r=i,s=e[i].replaceWith}if(r!==-1&&s){var a,l,c=e.slice(0,r),h=e.slice(r+1);c.length===1&&c[0].type==="ordgroup"?a=c[0]:a={type:"ordgroup",mode:this.mode,body:c},h.length===1&&h[0].type==="ordgroup"?l=h[0]:l={type:"ordgroup",mode:this.mode,body:h};var u;return s==="\\\\abovefrac"?u=this.callFunction(s,[a,e[r],l],[]):u=this.callFunction(s,[a,l],[]),[u]}else return e}handleSupSubscript(e){var r=this.fetch(),s=r.text;this.consume(),this.consumeSpaces();var i;do{var a;i=this.parseGroup(e)}while(((a=i)==null?void 0:a.type)==="internal");if(!i)throw new Me("Expected group after '"+s+"'",r);return i}formatUnsupportedCmd(e){for(var r=[],s=0;s<e.length;s++)r.push({type:"textord",mode:"text",text:e[s]});var i={type:"text",mode:this.mode,body:r},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return a}parseAtom(e){var r=this.parseGroup("atom",e);if((r==null?void 0:r.type)==="internal"||this.mode==="text")return r;for(var s,i;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(r&&r.type==="op"){var l=a.text==="\\limits";r.limits=l,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=a.text==="\\limits");else throw new Me("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(s)throw new Me("Double superscript",a);s=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(i)throw new Me("Double subscript",a);i=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(s)throw new Me("Double superscript",a);var c={type:"textord",mode:this.mode,text:"\\prime"},h=[c];for(this.consume();this.fetch().text==="'";)h.push(c),this.consume();this.fetch().text==="^"&&h.push(this.handleSupSubscript("superscript")),s={type:"ordgroup",mode:this.mode,body:h}}else if(Vd[a.text]){var u=Wj.test(a.text),m=[];for(m.push(new Vn(Vd[a.text])),this.consume();;){var f=this.fetch().text;if(!Vd[f]||Wj.test(f)!==u)break;m.unshift(new Vn(Vd[f])),this.consume()}var p=this.subparse(m);u?i={type:"ordgroup",mode:"math",body:p}:s={type:"ordgroup",mode:"math",body:p}}else break}return s||i?{type:"supsub",mode:this.mode,base:r,sup:s,sub:i}:r}parseFunction(e,r){var s=this.fetch(),i=s.text,a=Ja[i];if(!a)return null;if(this.consume(),r&&r!=="atom"&&!a.allowedInArgument)throw new Me("Got function '"+i+"' with no arguments"+(r?" as "+r:""),s);if(this.mode==="text"&&!a.allowedInText)throw new Me("Can't use function '"+i+"' in text mode",s);if(this.mode==="math"&&a.allowedInMath===!1)throw new Me("Can't use function '"+i+"' in math mode",s);var{args:l,optArgs:c}=this.parseArguments(i,a);return this.callFunction(i,l,c,s,e)}callFunction(e,r,s,i,a){var l={funcName:e,parser:this,token:i,breakOnTokenText:a},c=Ja[e];if(c&&c.handler)return c.handler(l,r,s);throw new Me("No function handler for "+e)}parseArguments(e,r){var s=r.numArgs+r.numOptionalArgs;if(s===0)return{args:[],optArgs:[]};for(var i=[],a=[],l=0;l<s;l++){var c=r.argTypes&&r.argTypes[l],h=l<r.numOptionalArgs;(r.primitive&&c==null||r.type==="sqrt"&&l===1&&a[0]==null)&&(c="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",c,h);if(h)a.push(u);else if(u!=null)i.push(u);else throw new Me("Null argument, please report this as a bug")}return{args:i,optArgs:a}}parseGroupOfType(e,r,s){switch(r){case"color":return this.parseColorGroup(s);case"size":return this.parseSizeGroup(s);case"url":return this.parseUrlGroup(s);case"math":case"text":return this.parseArgumentGroup(s,r);case"hbox":{var i=this.parseArgumentGroup(s,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",s);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(s)throw new Me("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new Me("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(s);default:throw new Me("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,r){var s=this.gullet.scanArgument(r);if(s==null)return null;for(var i="",a;(a=this.fetch()).text!=="EOF";)i+=a.text,this.consume();return this.consume(),s.text=i,s}parseRegexGroup(e,r){for(var s=this.fetch(),i=s,a="",l;(l=this.fetch()).text!=="EOF"&&e.test(a+l.text);)i=l,a+=i.text,this.consume();if(a==="")throw new Me("Invalid "+r+": '"+s.text+"'",s);return s.range(i,a)}parseColorGroup(e){var r=this.parseStringGroup("color",e);if(r==null)return null;var s=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!s)throw new Me("Invalid color: '"+r.text+"'",r);var i=s[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var r,s=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",e),!r)return null;!e&&r.text.length===0&&(r.text="0pt",s=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new Me("Invalid size: '"+r.text+"'",r);var a={number:+(i[1]+i[2]),unit:i[3]};if(!tE(a))throw new Me("Invalid unit: '"+a.unit+"'",r);return{type:"size",mode:this.mode,value:a,isBlank:s}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var s=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:s}}parseArgumentGroup(e,r){var s=this.gullet.scanArgument(e);if(s==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:s.loc,body:a};return r&&this.switchMode(i),l}parseGroup(e,r){var s=this.fetch(),i=s.text,a;if(i==="{"||i==="\\begingroup"){this.consume();var l=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var c=this.parseExpression(!1,l),h=this.fetch();this.expect(l),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:An.range(s,h),body:c,semisimple:i==="\\begingroup"||void 0}}else if(a=this.parseFunction(r,e)||this.parseSymbol(),a==null&&i[0]==="\\"&&!UE.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Me("Undefined control sequence: "+i,s);a=this.formatUnsupportedCmd(i),this.consume()}return a}formLigatures(e){for(var r=e.length-1,s=0;s<r;++s){var i=e[s],a=i.text;a==="-"&&e[s+1].text==="-"&&(s+1<r&&e[s+2].text==="-"?(e.splice(s,3,{type:"textord",mode:"text",loc:An.range(i,e[s+2]),text:"---"}),r-=2):(e.splice(s,2,{type:"textord",mode:"text",loc:An.range(i,e[s+1]),text:"--"}),r-=1)),(a==="'"||a==="`")&&e[s+1].text===a&&(e.splice(s,2,{type:"textord",mode:"text",loc:An.range(i,e[s+1]),text:a+a}),r-=1)}}parseSymbol(){var e=this.fetch(),r=e.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var s=r.slice(5),i=s.charAt(0)==="*";if(i&&(s=s.slice(1)),s.length<2||s.charAt(0)!==s.slice(-1))throw new Me(`\\verb assertion failed --
                    please report what input caused this bug`);return s=s.slice(1,-1),{type:"verb",mode:"text",body:s,star:i}}Xj.hasOwnProperty(r[0])&&!It[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',e),r=Xj[r[0]]+r.slice(1));var a=ZQ.exec(r);a&&(r=r.substring(0,a.index),r==="i"?r="":r==="j"&&(r=""));var l;if(It[this.mode][r]){this.settings.strict&&this.mode==="math"&&F2.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',e);var c=It[this.mode][r].group,h=An.range(e),u;if(HZ.hasOwnProperty(c)){var m=c;u={type:"atom",mode:this.mode,family:m,loc:h,text:r}}else u={type:c,mode:this.mode,loc:h,text:r};l=u}else if(r.charCodeAt(0)>=128)this.settings.strict&&(eE(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:An.range(e),text:r};else return null;if(this.consume(),a)for(var f=0;f<a[0].length;f++){var p=a[0][f];if(!Og[p])throw new Me("Unknown accent ' "+p+"'",e);var g=Og[p][this.mode]||Og[p].text;if(!g)throw new Me("Accent "+p+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:An.range(e),label:g,isStretchy:!1,isShifty:!0,base:l}}return l}}_p.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var q3=function(e,r){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var s=new _p(e,r);delete s.gullet.macros.current["\\df@tag"];var i=s.parse();if(delete s.gullet.macros.current["\\current@color"],delete s.gullet.macros.current["\\color"],s.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new Me("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:s.subparse([new Vn("\\df@tag")])}]}return i},VE=function(e,r,s){r.textContent="";var i=B3(e,s).toNode();r.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),VE=function(){throw new Me("KaTeX doesn't work in quirks mode.")});var rJ=function(e,r){var s=B3(e,r).toMarkup();return s},nJ=function(e,r){var s=new S3(r);return q3(e,s)},KE=function(e,r,s){if(s.throwOnError||!(e instanceof Me))throw e;var i=fe.makeSpan(["katex-error"],[new ys(r)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+s.errorColor),i},B3=function(e,r){var s=new S3(r);try{var i=q3(e,s);return dQ(i,e,s)}catch(a){return KE(a,e,s)}},sJ=function(e,r){var s=new S3(r);try{var i=q3(e,s);return mQ(i,e,s)}catch(a){return KE(a,e,s)}},iJ="0.16.27",aJ={Span:Ou,Anchor:A3,SymbolNode:ys,SvgNode:ha,PathNode:Co,LineNode:H2},WE={version:iJ,render:VE,renderToString:rJ,ParseError:Me,SETTINGS_SCHEMA:bm,__parse:nJ,__renderToDomTree:B3,__renderToHTMLTree:sJ,__setFontMetrics:IZ,__defineSymbol:v,__defineFunction:Oe,__defineMacro:G,__domTree:aJ};function o({children:t,className:e=""}){const r=_.useRef(null);return _.useEffect(()=>{r.current&&WE.render(t,r.current,{throwOnError:!1,displayMode:!1})},[t]),n.jsx("span",{ref:r,className:`inline-block ${e}`})}function ze({children:t,className:e=""}){const r=_.useRef(null);return _.useEffect(()=>{r.current&&WE.render(t,r.current,{throwOnError:!1,displayMode:!0})},[t]),n.jsx("div",{ref:r,className:`my-6 text-center text-lg overflow-x-auto ${e}`})}const $f=[{id:"def-graph",title:"Graph",statement:"A graph $G$ is a triple $(V(G), E(G), \\psi_G)$ where $V(G)$ is a set of vertices, $E(G)$ is a set of edges, and $\\psi_G$ associates each edge with an unordered pair of vertices. A simple graph has no loops or multiple edges.",sectionId:1,category:"Fundamental Concepts",type:"definition"},{id:"def-isomorphism",title:"Graph Isomorphism",statement:"Two graphs $G$ and $H$ are isomorphic ($G \\cong H$) if there exists a bijection $f: V(G) \\to V(H)$ such that $uv \\in E(G)$ if and only if $f(u)f(v) \\in E(H)$.",sectionId:1,category:"Fundamental Concepts",type:"definition"},{id:"thm-eulerian-circuit",title:"Eulerian Circuit Characterization",statement:"A connected graph $G$ has an Eulerian circuit if and only if every vertex of $G$ has even degree.",sectionId:2,category:"Fundamental Concepts",type:"theorem",hasProof:!0},{id:"thm-eulerian-trail",title:"Eulerian Trail Characterization",statement:"A connected graph $G$ has an Eulerian trail if and only if $G$ has exactly 0 or 2 vertices of odd degree.",sectionId:2,category:"Fundamental Concepts",type:"theorem",hasProof:!0},{id:"thm-handshaking",title:"Handshaking Lemma",statement:"For any graph $G$, $\\sum_{v \\in V(G)} d(v) = 2|E(G)|$.",sectionId:3,category:"Fundamental Concepts",type:"theorem",hasProof:!0,proof:"Each edge contributes exactly 2 to the sum of degrees (one for each endpoint)."},{id:"cor-odd-degree",title:"Odd Degree Corollary",statement:"Every graph has an even number of vertices with odd degree.",sectionId:3,category:"Fundamental Concepts",type:"corollary",hasProof:!0},{id:"thm-erdos-gallai",title:"Erds-Gallai Theorem",statement:"A non-increasing sequence $(d_1, \\ldots, d_n)$ of non-negative integers is graphic if and only if $\\sum d_i$ is even and for each $k \\in [n]$: $\\sum_{i=1}^k d_i \\leq k(k-1) + \\sum_{i=k+1}^n \\min(d_i, k)$.",sectionId:3,category:"Fundamental Concepts",type:"theorem"},{id:"thm-redei",title:"Rdei's Theorem",statement:"Every tournament has a directed Hamiltonian path.",sectionId:4,category:"Fundamental Concepts",type:"theorem",hasProof:!0},{id:"def-tree",title:"Tree",statement:"A tree is a connected acyclic graph. A forest is an acyclic graph (disjoint union of trees).",sectionId:5,category:"Trees and Distance",type:"definition"},{id:"thm-tree-characterization",title:"Tree Characterization Theorem",statement:"For a graph $G$ with $n$ vertices, the following are equivalent: (1) $G$ is a tree, (2) $G$ is connected with $n-1$ edges, (3) $G$ is acyclic with $n-1$ edges, (4) there is exactly one path between every pair of vertices, (5) $G$ is connected and every edge is a bridge.",sectionId:5,category:"Trees and Distance",type:"theorem",hasProof:!0},{id:"thm-tree-leaves",title:"Tree Leaves Theorem",statement:"Every tree with at least two vertices has at least two leaves (vertices of degree 1).",sectionId:5,category:"Trees and Distance",type:"theorem",hasProof:!0},{id:"thm-cayley",title:"Cayley's Formula",statement:"The number of labeled trees on $n$ vertices is $n^{n-2}$.",sectionId:6,category:"Trees and Distance",type:"theorem",hasProof:!0},{id:"thm-matrix-tree",title:"Matrix Tree Theorem",statement:"The number of spanning trees of a graph $G$ equals any cofactor of its Laplacian matrix $L = D - A$.",sectionId:6,category:"Trees and Distance",type:"theorem"},{id:"thm-kruskal",title:"Kruskal's Algorithm",statement:"Adding edges in order of non-decreasing weight while avoiding cycles produces a minimum spanning tree.",sectionId:7,category:"Trees and Distance",type:"theorem",hasProof:!0},{id:"def-matching",title:"Matching",statement:"A matching $M$ in graph $G$ is a set of pairwise non-adjacent edges (no two share a vertex). A perfect matching saturates every vertex.",sectionId:8,category:"Matchings and Factors",type:"definition"},{id:"thm-hall",title:"Hall's Marriage Theorem",statement:"A bipartite graph $G$ with bipartition $(X, Y)$ has a matching saturating $X$ if and only if $|N(S)| \\geq |S|$ for all $S \\subseteq X$.",sectionId:8,category:"Matchings and Factors",type:"theorem",hasProof:!0},{id:"thm-konig-egervary",title:"Knig-Egervry Theorem",statement:"In a bipartite graph, the maximum size of a matching equals the minimum size of a vertex cover.",sectionId:8,category:"Matchings and Factors",type:"theorem",hasProof:!0},{id:"thm-berge",title:"Berge's Theorem",statement:"A matching $M$ is maximum if and only if there is no $M$-augmenting path.",sectionId:9,category:"Matchings and Factors",type:"theorem",hasProof:!0},{id:"thm-tutte",title:"Tutte's Theorem",statement:"A graph $G$ has a perfect matching if and only if $o(G - S) \\leq |S|$ for all $S \\subseteq V(G)$, where $o(H)$ denotes the number of odd components of $H$.",sectionId:10,category:"Matchings and Factors",type:"theorem",hasProof:!0},{id:"thm-petersen-matching",title:"Petersen's Theorem",statement:"Every bridgeless cubic graph has a perfect matching.",sectionId:10,category:"Matchings and Factors",type:"theorem",hasProof:!0},{id:"def-connectivity",title:"Vertex and Edge Connectivity",statement:"The vertex connectivity $\\kappa(G)$ is the minimum size of a vertex cut (or $n-1$ if $G = K_n$). The edge connectivity $\\kappa'(G)$ is the minimum size of an edge cut.",sectionId:11,category:"Connectivity and Paths",type:"definition"},{id:"thm-whitney-inequality",title:"Whitney's Inequality",statement:"For any graph $G$: $\\kappa(G) \\leq \\kappa'(G) \\leq \\delta(G)$.",sectionId:11,category:"Connectivity and Paths",type:"theorem",hasProof:!0},{id:"thm-menger-vertex",title:"Menger's Theorem (Vertex Version)",statement:"The maximum number of internally disjoint $u$-$v$ paths equals the minimum size of a $u$-$v$ separating set.",sectionId:12,category:"Connectivity and Paths",type:"theorem",hasProof:!0},{id:"thm-menger-edge",title:"Menger's Theorem (Edge Version)",statement:"The maximum number of edge-disjoint $u$-$v$ paths equals the minimum size of an edge cut separating $u$ and $v$.",sectionId:12,category:"Connectivity and Paths",type:"theorem",hasProof:!0},{id:"thm-whitney-2connected",title:"Whitney's 2-Connectivity Theorem",statement:"A graph $G$ with at least 3 vertices is 2-connected if and only if every pair of edges lies on a common cycle.",sectionId:12,category:"Connectivity and Paths",type:"theorem",hasProof:!0},{id:"thm-max-flow-min-cut",title:"Max-Flow Min-Cut Theorem",statement:"In a network, the maximum value of a flow equals the minimum capacity of a cut separating source from sink.",sectionId:13,category:"Connectivity and Paths",type:"theorem",hasProof:!0},{id:"def-chromatic-number",title:"Chromatic Number",statement:"The chromatic number $\\chi(G)$ is the minimum number of colors needed to properly color the vertices of $G$ (adjacent vertices get different colors).",sectionId:14,category:"Coloring of Graphs",type:"definition"},{id:"thm-greedy-coloring",title:"Greedy Coloring Bound",statement:"Every graph $G$ satisfies $\\chi(G) \\leq \\Delta(G) + 1$.",sectionId:14,category:"Coloring of Graphs",type:"theorem",hasProof:!0},{id:"thm-brooks",title:"Brooks' Theorem",statement:"For a connected graph $G$ that is neither complete nor an odd cycle, $\\chi(G) \\leq \\Delta(G)$.",sectionId:14,category:"Coloring of Graphs",type:"theorem",hasProof:!0},{id:"thm-turan",title:"Turn's Theorem",statement:"The maximum number of edges in an $n$-vertex graph with no $(r+1)$-clique is achieved by the Turn graph $T(n,r)$, which is complete $r$-partite with parts as equal as possible.",sectionId:15,category:"Coloring of Graphs",type:"theorem",hasProof:!0},{id:"thm-chromatic-polynomial",title:"Chromatic Polynomial Properties",statement:"For any graph $G$ with $n$ vertices and $m$ edges: $P(G, k) = k^n - mk^{n-1} + \\ldots$ is a polynomial. For edge $e$: $P(G, k) = P(G-e, k) - P(G/e, k)$.",sectionId:16,category:"Coloring of Graphs",type:"theorem"},{id:"def-planar",title:"Planar Graph",statement:"A graph is planar if it can be drawn in the plane with no edge crossings. Such a drawing is called a plane embedding.",sectionId:17,category:"Planar Graphs",type:"definition"},{id:"thm-euler-formula",title:"Euler's Formula",statement:"For a connected plane graph with $n$ vertices, $m$ edges, and $f$ faces: $n - m + f = 2$.",sectionId:17,category:"Planar Graphs",type:"theorem",hasProof:!0},{id:"cor-planar-edges",title:"Planar Edge Bound",statement:"A simple planar graph with $n \\geq 3$ vertices has at most $3n - 6$ edges. If triangle-free, at most $2n - 4$ edges.",sectionId:17,category:"Planar Graphs",type:"corollary",hasProof:!0},{id:"thm-kuratowski",title:"Kuratowski's Theorem",statement:"A graph is planar if and only if it contains no subdivision of $K_5$ or $K_{3,3}$.",sectionId:18,category:"Planar Graphs",type:"theorem",hasProof:!0},{id:"thm-wagner",title:"Wagner's Theorem",statement:"A graph is planar if and only if it has no $K_5$ minor and no $K_{3,3}$ minor.",sectionId:18,category:"Planar Graphs",type:"theorem"},{id:"thm-four-color",title:"Four Color Theorem",statement:"Every planar graph is 4-colorable.",sectionId:19,category:"Planar Graphs",type:"theorem",hasProof:!0},{id:"thm-five-color",title:"Five Color Theorem",statement:"Every planar graph is 5-colorable.",sectionId:19,category:"Planar Graphs",type:"theorem",hasProof:!0},{id:"def-chromatic-index",title:"Chromatic Index",statement:"The chromatic index $\\chi'(G)$ is the minimum number of colors needed to properly edge-color $G$ (adjacent edges get different colors).",sectionId:20,category:"Edges and Cycles",type:"definition"},{id:"thm-vizing",title:"Vizing's Theorem",statement:"For any simple graph $G$: $\\Delta(G) \\leq \\chi'(G) \\leq \\Delta(G) + 1$.",sectionId:20,category:"Edges and Cycles",type:"theorem",hasProof:!0},{id:"thm-konig-edge-coloring",title:"Knig's Edge-Coloring Theorem",statement:"For bipartite graphs: $\\chi'(G) = \\Delta(G)$.",sectionId:20,category:"Edges and Cycles",type:"theorem",hasProof:!0},{id:"def-hamiltonian",title:"Hamiltonian Cycle",statement:"A Hamiltonian cycle is a cycle that visits every vertex exactly once. A graph with such a cycle is called Hamiltonian.",sectionId:21,category:"Edges and Cycles",type:"definition"},{id:"thm-dirac",title:"Dirac's Theorem",statement:"If $G$ has $n \\geq 3$ vertices and $\\delta(G) \\geq n/2$, then $G$ is Hamiltonian.",sectionId:21,category:"Edges and Cycles",type:"theorem",hasProof:!0},{id:"thm-ore",title:"Ore's Theorem",statement:"If $G$ has $n \\geq 3$ vertices and $d(u) + d(v) \\geq n$ for all non-adjacent pairs $u, v$, then $G$ is Hamiltonian.",sectionId:21,category:"Edges and Cycles",type:"theorem",hasProof:!0},{id:"thm-grinberg",title:"Grinberg's Theorem",statement:"If a plane graph has a Hamiltonian cycle, then $\\sum_{k \\geq 3} (k-2)(f_k' - f_k'') = 0$, where $f_k'$ and $f_k''$ are the numbers of $k$-faces inside and outside the cycle.",sectionId:22,category:"Edges and Cycles",type:"theorem"},{id:"def-perfect-graph",title:"Perfect Graph",statement:"A graph $G$ is perfect if $\\chi(H) = \\omega(H)$ for every induced subgraph $H$ of $G$.",sectionId:23,category:"Additional Topics",type:"definition"},{id:"thm-weak-perfect",title:"Weak Perfect Graph Theorem",statement:"A graph $G$ is perfect if and only if its complement $\\overline{G}$ is perfect.",sectionId:23,category:"Additional Topics",type:"theorem",hasProof:!0},{id:"thm-strong-perfect",title:"Strong Perfect Graph Theorem",statement:"A graph is perfect if and only if it contains no odd hole and no odd antihole as an induced subgraph.",sectionId:23,category:"Additional Topics",type:"theorem"},{id:"def-matroid",title:"Matroid",statement:"A matroid $M = (E, \\mathcal{I})$ consists of a ground set $E$ and a collection $\\mathcal{I}$ of independent sets satisfying: (1) $\\emptyset \\in \\mathcal{I}$, (2) if $I \\in \\mathcal{I}$ and $J \\subseteq I$, then $J \\in \\mathcal{I}$, (3) if $I, J \\in \\mathcal{I}$ with $|I| < |J|$, then $\\exists e \\in J \\setminus I$ with $I \\cup \\{e\\} \\in \\mathcal{I}$.",sectionId:24,category:"Additional Topics",type:"definition"},{id:"thm-matroid-greedy",title:"Matroid Greedy Algorithm",statement:"A set system $(E, \\mathcal{I})$ is a matroid if and only if the greedy algorithm finds a maximum-weight independent set for all weight functions.",sectionId:24,category:"Additional Topics",type:"theorem",hasProof:!0},{id:"thm-ramsey",title:"Ramsey's Theorem",statement:"For all positive integers $s, t$, there exists a minimum $R(s,t)$ such that every red-blue edge-coloring of $K_n$ with $n \\geq R(s,t)$ contains a red $K_s$ or a blue $K_t$.",sectionId:25,category:"Additional Topics",type:"theorem",hasProof:!0},{id:"thm-ramsey-bounds",title:"Ramsey Number Bounds",statement:"$R(s,t) \\leq \\binom{s+t-2}{s-1}$. In particular, $R(s,s) \\leq 4^s$ and $R(s,s) > 2^{s/2}$ (Erds probabilistic lower bound).",sectionId:25,category:"Additional Topics",type:"theorem",hasProof:!0},{id:"thm-erdos-stone",title:"Erds-Stone Theorem",statement:"For any graph $H$ with $\\chi(H) = r \\geq 2$: $ex(n, H) = \\left(1 - \\frac{1}{r-1} + o(1)\\right)\\binom{n}{2}$.",sectionId:26,category:"Additional Topics",type:"theorem"},{id:"thm-giant-component",title:"Giant Component Phase Transition",statement:"In $G(n, c/n)$: if $c < 1$, all components have $O(\\log n)$ vertices a.s. If $c > 1$, there is a unique giant component with $\\Theta(n)$ vertices a.s.",sectionId:27,category:"Additional Topics",type:"theorem"},{id:"thm-connectivity-threshold",title:"Connectivity Threshold",statement:"The threshold for $G(n,p)$ to be connected is $p = \\frac{\\log n}{n}$.",sectionId:27,category:"Additional Topics",type:"theorem"},{id:"def-spectrum",title:"Spectrum of a Graph",statement:"The spectrum of $G$ is the multiset of eigenvalues of its adjacency matrix $A(G)$, usually listed as $\\lambda_1 \\geq \\lambda_2 \\geq \\cdots \\geq \\lambda_n$.",sectionId:28,category:"Additional Topics",type:"definition"},{id:"thm-spectral-bounds",title:"Spectral Bounds",statement:"$\\bar{d} \\leq \\lambda_1 \\leq \\Delta$, where $\\bar{d}$ is average degree. Also: $\\chi(G) \\leq 1 + \\lambda_1$ and $\\alpha(G) \\leq \\frac{n(-\\lambda_n)}{\\lambda_1 - \\lambda_n}$ (Hoffman bound).",sectionId:28,category:"Additional Topics",type:"theorem"},{id:"thm-algebraic-connectivity",title:"Algebraic Connectivity",statement:"The second-smallest Laplacian eigenvalue $\\mu_2 = a(G)$ satisfies: $a(G) > 0$ iff $G$ is connected, and $a(G) \\leq \\kappa(G) \\leq \\kappa'(G)$.",sectionId:28,category:"Additional Topics",type:"theorem"}];function oJ(){return[...new Set($f.map(t=>t.category).filter(t=>!!t))]}function lJ(t){const e=t.toLowerCase();return $f.filter(r=>r.title.toLowerCase().includes(e)||r.statement.toLowerCase().includes(e))}function cJ(){const[t,e]=_.useState(!1),[r,s]=_.useState(""),[i,a]=_.useState(null),l=r?lJ(r):$f,c=r?[{category:"Search Results",items:l}]:oJ().map(m=>({category:m,items:$f.filter(f=>f.category===m)})),h=m=>{a(i===m?null:m)},u={theorem:"text-amber-400 bg-amber-500/10",definition:"text-blue-400 bg-blue-500/10",lemma:"text-purple-400 bg-purple-500/10",corollary:"text-green-400 bg-green-500/10",proposition:"text-cyan-400 bg-cyan-500/10"};return n.jsxs("div",{className:"min-h-screen bg-dark-950",children:[n.jsx(j3,{onToggleSidebar:()=>e(!t),sidebarOpen:t}),n.jsx(w3,{isOpen:t,onClose:()=>e(!1)}),n.jsx("main",{className:"pt-20 pb-12 px-4 lg:pl-80 lg:pr-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-2",children:"Theorems & Definitions"}),n.jsxs("p",{className:"text-dark-400 mb-8",children:["Quick reference for all theorems and definitions in ",J4]}),n.jsx("div",{className:"mb-8",children:n.jsx("input",{type:"text",placeholder:"Search theorems and definitions...",value:r,onChange:m=>s(m.target.value),className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors"})}),n.jsx("div",{className:"bg-gradient-to-br from-amber-500/10 to-dark-800/50 border border-amber-500/20 rounded-2xl p-4 mb-8",children:n.jsxs("p",{className:"text-amber-300 text-sm",children:[n.jsx("span",{className:"font-semibold",children:"Tip:"})," Click any theorem to go to its section. Many include expandable proofs with LaTeX!"]})}),n.jsx("div",{className:"space-y-8",children:c.map(({category:m,items:f})=>n.jsxs("div",{className:"space-y-3",children:[n.jsxs("h2",{className:"text-xl font-bold text-dark-200 border-b border-dark-700/50 pb-2 flex items-center gap-3",children:[n.jsx("span",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center text-sm font-bold text-amber-400",children:f.length}),m]}),n.jsx("div",{className:"space-y-2",children:f.map(p=>n.jsx(Cr,{to:`/section/${p.sectionId}`,className:"block group",children:n.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-dark-800/40 border border-dark-700/50 p-4 transition-all duration-200 hover:border-amber-500/30 hover:bg-dark-800/60",children:[n.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-amber-500 to-orange-600 opacity-40 group-hover:opacity-100 transition-opacity"}),n.jsxs("div",{className:"pl-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[p.type&&n.jsx("span",{className:`text-[10px] font-semibold uppercase tracking-wider px-2 py-0.5 rounded ${u[p.type]||"text-dark-400 bg-dark-700"}`,children:p.type}),n.jsxs("span",{className:"text-[10px] text-dark-500",children:["Section ",p.sectionId]}),p.sectionTitle&&n.jsx("span",{className:"text-[10px] text-dark-600",children:p.sectionTitle}),p.hasProof&&p.proof&&n.jsx("span",{onClick:g=>{g.preventDefault(),h(p.id)},className:"ml-auto text-[10px] text-amber-500/70 font-medium cursor-pointer hover:text-amber-400 transition-colors",children:i===p.id?"Hide Proof":"View Proof"})]}),n.jsx("h3",{className:"font-semibold text-amber-400 group-hover:text-amber-300 transition-colors",children:p.title}),n.jsx("p",{className:"text-sm text-dark-400 mt-1",children:p.statement}),p.hasProof&&p.proof&&n.jsx("div",{className:"mt-3",children:n.jsx(su,{children:i===p.id?n.jsx(Zs.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:n.jsxs("div",{className:"pt-4 border-t border-dark-700/50",children:[n.jsx("h4",{className:"text-sm font-semibold text-amber-400 mb-2",children:"Proof:"}),n.jsx(ze,{children:p.proof})]})}):null})})]})]})},p.id))})]},m))}),l.length===0&&n.jsx("div",{className:"text-center py-12 text-dark-400",children:"No theorems found matching your search."}),n.jsx("div",{className:"mt-12 pt-8 border-t border-dark-700/50 flex justify-between items-center",children:n.jsxs(Cr,{to:"/interactive",className:"text-primary-400 hover:text-primary-300 transition-colors flex items-center gap-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-5-9-5 5-2-9 0-9 5 5 9 12 19 19 2 12 0 0 0 9 5-2-9-5-9 0-9 5-9-5 5-2 9 0 9-5"})}),"Interactive Modules"]})})]})})]})}const Pg=[{id:"demo-1",title:"Example Demo",description:"An interactive demonstration of the concept.",sectionId:0,sectionTitle:"Welcome",category:"Basics",icon:""}];function hJ(){const[t,e]=_.useState(!1),[r,s]=_.useState(null),i=[...new Set(Pg.map(l=>l.category))],a=r?Pg.filter(l=>l.category===r):Pg;return n.jsxs("div",{className:"min-h-screen bg-dark-950",children:[n.jsx(j3,{onToggleSidebar:()=>e(!t),sidebarOpen:t}),n.jsx(w3,{isOpen:t,onClose:()=>e(!1)}),n.jsx("main",{className:"pt-20 pb-12 px-4 lg:pl-80 lg:pr-8",children:n.jsxs("div",{className:"max-w-4xl mx-auto",children:[n.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-2",children:"Interactive Modules"}),n.jsx("p",{className:"text-dark-400 mb-8",children:"Explore concepts through hands-on interactive visualizations"}),n.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[n.jsx("button",{onClick:()=>s(null),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r===null?"bg-primary-500 text-white":"bg-dark-800 text-dark-300 hover:bg-dark-700"}`,children:"All"}),i.map(l=>n.jsx("button",{onClick:()=>s(l),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r===l?"bg-primary-500 text-white":"bg-dark-800 text-dark-300 hover:bg-dark-700"}`,children:l},l))]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(l=>n.jsx(Cr,{to:`/section/${l.sectionId}`,className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-primary-500/30 transition-colors group",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:l.icon}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-dark-100 group-hover:text-primary-400 transition-colors",children:l.title}),n.jsx("p",{className:"text-sm text-dark-400 mt-1",children:l.description}),n.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[n.jsx("span",{className:"text-xs px-2 py-1 rounded bg-dark-700 text-dark-300",children:l.category}),n.jsxs("span",{className:"text-xs text-dark-500",children:["Section ",l.sectionId]})]})]})]})},l.id))}),a.length===0&&n.jsx("div",{className:"text-center py-12 text-dark-400",children:"No modules found in this category."})]})})]})}function uJ({sectionId:t,questions:e,title:r="Section Quiz"}){var F,le,W;const i=Pl(),[a,l]=_.useState(0),[c,h]=_.useState(null),[u,m]=_.useState(null),[f,p]=_.useState(""),[g,S]=_.useState(!1),[N,$]=_.useState(0),[w,T]=_.useState([]),[A,I]=_.useState(!1),[B,Q]=_.useState(""),[D,E]=_.useState(0),z=_.useMemo(()=>[...e].sort(()=>globalThis.Math.random()-.5).slice(0,5),[e]),O=z[a],L=z.length,H=(O==null?void 0:O.type)??"multiple-choice",q=te=>{if(c!==null)return;h(te);const U=te===O.correctIndex;U&&$(Z=>Z+1),T(Z=>[...Z,U]),S(!0)},ye=()=>{if(u===null||Number.isNaN(u)){Q("Please enter a number");return}const{min:te,max:U}=O.numericRange??{};if(te!==void 0&&u<te){Q(`Answer must be at least ${te}`);return}if(U!==void 0&&u>U){Q(`Answer must be at most ${U}`);return}Q("");const Z=u===O.correctAnswer;Z&&$(ge=>ge+1),T(ge=>[...ge,Z]),S(!0)},de=()=>{const te=f.trim();if(te==="")return;const U=te.toLowerCase()===String(O.correctAnswer??"").toLowerCase();U&&$(Z=>Z+1),T(Z=>[...Z,U]),S(!0)},oe=()=>{if(a<L-1)l(te=>te+1),h(null),m(null),p(""),S(!1),Q("");else{I(!0);const te=N+(g&&(H==="multiple-choice"&&c===O.correctIndex||H==="numeric"&&u===O.correctAnswer||H==="text"&&f.toLowerCase()===String(O.correctAnswer??"").toLowerCase())?1:0),U=globalThis.Math.round(te/L*100);let Z=dA(O.difficulty,U);U===100&&(Z=globalThis.Math.round(Z*(1+dn.QUIZ_PERFECT_BONUS))),E(Z),i&&i.recordQuiz(t,O.difficulty,U,te,L)}},re=()=>{l(0),h(null),m(null),p(""),S(!1),$(0),T([]),I(!1),Q(""),E(0)};if(A){const te=w.filter(Boolean).length,U=globalThis.Math.round(te/L*100);return n.jsx("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:U>=80?"":U>=60?"":""}),n.jsx("h3",{className:"text-2xl font-bold text-dark-100 mb-2",children:"Quiz Complete!"}),n.jsxs("p",{className:"text-dark-400 mb-4",children:["You scored ",te," out of ",L," (",U,"%)"]}),D>0&&n.jsxs(Zs.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-amber-500/20 border border-amber-500/30 mb-4",children:[n.jsx("span",{className:"text-2xl",children:""}),n.jsxs("span",{className:"text-amber-300 font-bold text-lg",children:["+",D," XP"]}),U===100&&n.jsx("span",{className:"text-amber-400 text-sm",children:"(Perfect bonus!)"})]}),n.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:w.map((Z,ge)=>n.jsx("div",{className:`w-3 h-3 rounded-full ${Z?"bg-emerald-500":"bg-red-500"}`},ge))}),n.jsx("button",{onClick:re,className:"px-6 py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:"Try Again"})]})})}return n.jsxs("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h3",{className:"text-xl font-semibold text-dark-100",children:r}),n.jsxs("span",{className:"text-sm text-dark-400",children:["Question ",a+1," of ",L]})]}),n.jsx("div",{className:"h-1 bg-dark-700 rounded-full mb-6 overflow-hidden",children:n.jsx(Zs.div,{className:"h-full bg-primary-500",initial:{width:0},animate:{width:`${(a+1)/L*100}%`}})}),n.jsx("div",{className:"mb-4",children:n.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${O.difficulty==="easy"?"bg-emerald-500/20 text-emerald-400":O.difficulty==="medium"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:O.difficulty.charAt(0).toUpperCase()+O.difficulty.slice(1)})}),n.jsx("p",{className:"text-lg text-dark-200 mb-6",children:n.jsx("span",{dangerouslySetInnerHTML:{__html:og(O.question)}})}),H==="multiple-choice"&&O.options&&n.jsx("div",{className:"space-y-3 mb-6",children:O.options.map((te,U)=>{const Z=c===U,ge=U===O.correctIndex,ee=g&&ge,ae=g&&Z&&!ge;return n.jsx("button",{onClick:()=>q(U),disabled:g,className:`w-full p-4 rounded-xl text-left transition-all ${ee?"bg-emerald-500/20 border-emerald-500/50 text-emerald-300":ae?"bg-red-500/20 border-red-500/50 text-red-300":Z?"bg-primary-500/20 border-primary-500/50 text-primary-300":"bg-dark-700/50 border-dark-600/50 text-dark-200 hover:bg-dark-700 hover:border-dark-500"} border`,children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:"w-6 h-6 rounded-full bg-dark-600 flex items-center justify-center text-sm font-medium",children:String.fromCharCode(65+U)}),n.jsx("span",{dangerouslySetInnerHTML:{__html:og(te)}})]})},U)})}),H==="numeric"&&n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsx("input",{type:"number",step:(F=O.numericRange)!=null&&F.precision?1/globalThis.Math.pow(10,O.numericRange.precision):1,min:(le=O.numericRange)==null?void 0:le.min,max:(W=O.numericRange)==null?void 0:W.max,value:u??"",onChange:te=>{const U=te.target.value;m(U===""?null:parseFloat(U))},disabled:g,className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors",placeholder:"Enter your answer..."}),B&&n.jsx("p",{className:"text-red-400 text-sm",children:B}),n.jsx("button",{onClick:ye,disabled:g||u===null||Number.isNaN(u),className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:bg-dark-600 disabled:cursor-not-allowed",children:"Check Answer"})]}),H==="text"&&n.jsxs("div",{className:"space-y-4 mb-6",children:[n.jsx("input",{type:"text",value:f,onChange:te=>p(te.target.value),disabled:g,className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors",placeholder:"Type your answer..."}),n.jsx("button",{onClick:de,disabled:g||!f.trim(),className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:bg-dark-600 disabled:cursor-not-allowed",children:"Check Answer"})]}),g&&O.explanation&&n.jsx(Zs.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-dark-700/50 border border-dark-600/50 mb-6",children:n.jsxs("p",{className:"text-sm text-dark-300",children:[n.jsx("span",{className:"font-medium text-dark-200",children:"Explanation: "}),n.jsx("span",{dangerouslySetInnerHTML:{__html:og(O.explanation)}})]})}),g&&n.jsx(Zs.button,{initial:{opacity:0},animate:{opacity:1},onClick:oe,className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:a<L-1?"Next Question":"See Results"})]})}function dJ(){const{id:t}=mS(),e=parseInt(t||"0",10),r=L2(e),s=YN(e),i=ZN(e),l=Pl();return _.useEffect(()=>{l&&l.visitSection(e)},[e,l]),!r||r.length===0?n.jsxs("div",{className:"min-h-screen relative",children:[n.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-primary-500/[0.02] rounded-full blur-[150px] -translate-y-1/2 translate-x-1/2"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-cyan-500/[0.02] rounded-full blur-[120px] translate-y-1/2 -translate-x-1/2"})]}),n.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 text-center",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 text-sm font-semibold bg-gradient-to-r from-dark-700/50 to-dark-800/30 text-dark-400 rounded-full border border-dark-700/50 mb-4",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-dark-500"}),"No Quiz Available"]}),n.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-4",children:"Quiz Not Found"}),n.jsx("p",{className:"text-dark-400 text-lg mb-8",children:"There is no quiz available for this section yet."})]}),n.jsxs(Cr,{to:`/section/${e}`,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-primary-500/10 text-primary-400 hover:bg-primary-500/20 transition-colors font-medium",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Return to Section"]})]})]}):n.jsxs("div",{className:"min-h-screen relative",children:[n.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-amber-500/[0.02] rounded-full blur-[150px] -translate-y-1/2 translate-x-1/2"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-primary-500/[0.02] rounded-full blur-[120px] translate-y-1/2 -translate-x-1/2"})]}),n.jsx("div",{className:"relative py-4 px-6 border-b border-dark-800/50 bg-dark-950/50 backdrop-blur-sm",children:n.jsxs("nav",{className:"max-w-4xl mx-auto flex items-center gap-2 text-sm",children:[n.jsxs(Cr,{to:"/",className:"text-dark-500 hover:text-dark-300 transition-colors flex items-center gap-1",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),n.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),n.jsxs(Cr,{to:`/section/${e}`,className:"text-dark-500 hover:text-dark-300 transition-colors",children:["Section ",e]}),n.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),n.jsx("span",{className:"text-amber-400 font-medium",children:"Quiz"})]})}),n.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[n.jsxs("header",{className:"mb-10",children:[n.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[n.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 text-sm font-semibold bg-gradient-to-r from-amber-500/20 to-amber-600/10 text-amber-400 rounded-full border border-amber-500/20",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),"Section Quiz"]}),i&&n.jsxs("span",{className:"text-dark-500 text-sm",children:["Part ",i.id,": ",i.title]})]}),n.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:n.jsx("span",{className:"text-gradient",children:s==null?void 0:s.title})}),n.jsxs("p",{className:"text-dark-400 text-lg",children:["Test your understanding of this section with ",r.length," question",r.length!==1?"s":"","."]}),n.jsxs("div",{className:"mt-8 flex items-center gap-4",children:[n.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500/50"}),n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500/30"}),n.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500/10"})]}),n.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"})]})]}),n.jsx(uJ,{sectionId:e,questions:r}),n.jsx("div",{className:"mt-12 pt-8 border-t border-dark-800/50",children:n.jsxs(Cr,{to:`/section/${e}`,className:"inline-flex items-center gap-2 text-dark-400 hover:text-dark-200 transition-colors",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Section ",e]})})]})]})}function ce({title:t,children:e,className:r=""}){return n.jsxs("div",{className:`my-6 p-6 rounded-2xl bg-gradient-to-br from-blue-500/10 to-blue-600/5 border border-blue-500/20 ${r}`,children:[n.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:n.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-semibold text-blue-400 uppercase tracking-wider",children:"Definition"}),n.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:t})]})]}),n.jsx("div",{className:"text-dark-300 pl-11",children:e})]})}function J({title:t,children:e,proof:r,className:s=""}){const[i,a]=_.useState(!1);return n.jsxs("div",{className:`my-6 p-6 rounded-2xl bg-gradient-to-br from-amber-500/10 to-amber-600/5 border border-amber-500/20 ${s}`,children:[n.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-500/20 flex items-center justify-center flex-shrink-0",children:n.jsx("svg",{className:"w-4 h-4 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-semibold text-amber-400 uppercase tracking-wider",children:"Theorem"}),n.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:t})]})]}),n.jsx("div",{className:"text-dark-300 pl-11",children:e}),r&&n.jsxs("div",{className:"mt-4 pl-11",children:[n.jsxs("button",{onClick:()=>a(!i),className:"flex items-center gap-2 text-sm text-amber-400 hover:text-amber-300 transition-colors",children:[n.jsx("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),i?"Hide Proof":"Show Proof"]}),n.jsx(su,{children:i&&n.jsx(Zs.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:n.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-dark-800/50 border border-dark-700/50 text-dark-300",children:[n.jsx("div",{className:"text-xs font-semibold text-dark-500 uppercase tracking-wider mb-2",children:"Proof"}),r,n.jsx("div",{className:"text-right mt-4 text-dark-500",children:""})]})})})]})]})}function we({title:t,children:e,className:r=""}){return n.jsxs("div",{className:`my-6 p-6 rounded-2xl bg-gradient-to-br from-emerald-500/10 to-emerald-600/5 border border-emerald-500/20 ${r}`,children:[n.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[n.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:n.jsx("svg",{className:"w-4 h-4 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsxs("div",{children:[n.jsx("span",{className:"text-xs font-semibold text-emerald-400 uppercase tracking-wider",children:"Example"}),n.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:t})]})]}),n.jsx("div",{className:"text-dark-300 pl-11",children:e})]})}const Ve={background:"#1e293b",grid:"#334155",node:"#60a5fa",nodeStroke:"#3b82f6",nodeSelected:"#f59e0b",nodeHighlight:"#22c55e",edge:"#64748b",edgeHighlight:"#22c55e",text:"#e2e8f0",textDark:"#94a3b8",path:"#10b981",cycle:"#f472b6",matching:"#a78bfa",flow:"#06b6d4"},fo={nodeRadius:16,nodeStrokeWidth:2,edgeWidth:2,fontSize:12};function xi(t,e,r,s=Ve.background){t.fillStyle=s,t.fillRect(0,0,e,r)}function vi(t,e,r,s=40){t.strokeStyle=Ve.grid,t.lineWidth=.5;for(let i=s;i<e;i+=s)t.beginPath(),t.moveTo(i,0),t.lineTo(i,r),t.stroke();for(let i=s;i<r;i+=s)t.beginPath(),t.moveTo(0,i),t.lineTo(e,i),t.stroke()}function yi(t,e,r={}){const{radius:s=fo.nodeRadius,fillColor:i=e.color??Ve.node,strokeColor:a=Ve.nodeStroke,strokeWidth:l=fo.nodeStrokeWidth,labelColor:c=Ve.text,fontSize:h=fo.fontSize,selected:u=!1,highlighted:m=!1}=r,f=u?Ve.nodeSelected:m?Ve.nodeHighlight:i,p=u?Ve.nodeSelected:m?Ve.nodeHighlight:a;t.beginPath(),t.arc(e.x,e.y,s,0,Math.PI*2),t.fillStyle=f,t.fill(),t.strokeStyle=p,t.lineWidth=l,t.stroke(),e.label&&(t.fillStyle=c,t.font=`bold ${h}px Inter, system-ui, sans-serif`,t.textAlign="center",t.textBaseline="middle",t.fillText(e.label,e.x,e.y))}function mJ(t,e,r=fo.nodeRadius+6){t.beginPath(),t.arc(e.x,e.y,r,0,Math.PI*2),t.strokeStyle=Ve.nodeSelected,t.lineWidth=2,t.setLineDash([4,4]),t.stroke(),t.setLineDash([])}function ga(t,e,r,s={}){const i=r.find(N=>N.id===e.source),a=r.find(N=>N.id===e.target);if(!i||!a)return;const{color:l=e.color??Ve.edge,width:c=fo.edgeWidth,dashed:h=!1,highlighted:u=e.highlighted??!1,showWeight:m=!1,showFlow:f=!1,curved:p=!1}=s,g=u?Ve.edgeHighlight:l,S=u?c+1:c;if(t.strokeStyle=g,t.lineWidth=S,h&&t.setLineDash([6,4]),p){const N=(i.x+a.x)/2,$=(i.y+a.y)/2,w=a.x-i.x,T=a.y-i.y,A=Math.sqrt(w*w+T*T),I=A*.2;t.beginPath(),t.moveTo(i.x,i.y),t.quadraticCurveTo(N-T*I/A,$+w*I/A,a.x,a.y),t.stroke()}else t.beginPath(),t.moveTo(i.x,i.y),t.lineTo(a.x,a.y),t.stroke();if(t.setLineDash([]),m&&e.weight!==void 0){const N=(i.x+a.x)/2,$=(i.y+a.y)/2;Yj(t,`${e.weight}`,N,$)}if(f&&e.flow!==void 0&&e.capacity!==void 0){const N=(i.x+a.x)/2,$=(i.y+a.y)/2;Yj(t,`${e.flow}/${e.capacity}`,N,$)}}function Yj(t,e,r,s){t.fillStyle=Ve.background;const i=t.measureText(e),a=4;t.fillRect(r-i.width/2-a,s-8-a,i.width+a*2,16+a*2),t.fillStyle=Ve.text,t.font=`${fo.fontSize}px Inter, system-ui, sans-serif`,t.textAlign="center",t.textBaseline="middle",t.fillText(e,r,s)}function cu(t,e,r,s=Ve.path){if(e.length<2)return;t.strokeStyle=s,t.lineWidth=4,t.lineCap="round",t.lineJoin="round",t.beginPath();const i=r.find(a=>a.id===e[0]);if(i){t.moveTo(i.x,i.y);for(let a=1;a<e.length;a++){const l=r.find(c=>c.id===e[a]);l&&t.lineTo(l.x,l.y)}t.stroke()}}function fJ(t,e,r,s=Ve.cycle){if(e.length<2)return;const i=[...e,e[0]];cu(t,i,r,s)}function pJ(t,e,r,s=fo.nodeRadius){const i=t-r.x,a=e-r.y;return i*i+a*a<=s*s}function Br(t,e,r,s=fo.nodeRadius){for(const i of r)if(pJ(t,e,i,s))return i;return null}function Rr(t,e){const r=e.getBoundingClientRect(),s=e.width/r.width,i=e.height/r.height;return{x:(t.clientX-r.left)*s,y:(t.clientY-r.top)*i}}function Xn(t){var r,s;const e=new Map;for(const i of t.nodes)e.set(i.id,[]);for(const i of t.edges)(r=e.get(i.source))==null||r.push(i.target),t.directed||(s=e.get(i.target))==null||s.push(i.source);return e}function gJ(t){const e=t.nodes.length,r=new Map(t.nodes.map((i,a)=>[i.id,a])),s=Array(e).fill(null).map(()=>Array(e).fill(0));for(const i of t.edges){const a=r.get(i.source),l=r.get(i.target),c=i.weight??1;s[a][l]=c,t.directed||(s[l][a]=c)}return s}function po(t,e){var s;return((s=Xn(t).get(e))==null?void 0:s.length)??0}function XE(t){const e=Xn(t);return t.nodes.map(r=>{var s;return((s=e.get(r.id))==null?void 0:s.length)??0}).sort((r,s)=>s-r)}function zi(t,e,r){return t.edges.some(s=>s.source===e&&s.target===r||!t.directed&&s.source===r&&s.target===e)}function xJ(t,e){const r=[],s=new Set,i=[e],a=Xn(t);for(s.add(e),r.push({node:e,action:"visit"});i.length>0;){const l=i.shift(),c=a.get(l)??[];for(const h of c)s.has(h)||(s.add(h),i.push(h),r.push({node:h,action:"visit",parent:l}))}return r}function vJ(t,e){const r=[],s=new Set,i=Xn(t);function a(l,c){s.add(l),r.push({node:l,action:"visit",parent:c});const h=i.get(l)??[];for(const u of h)s.has(u)||(r.push({node:u,action:"explore",parent:l}),a(u,l));r.push({node:l,action:"backtrack",parent:c})}return a(e),r}function Y2(t,e,r){if(e===r)return{path:[e],found:!0};const s=new Set,i=[e],a=new Map,l=Xn(t);for(s.add(e);i.length>0;){const c=i.shift(),h=l.get(c)??[];for(const u of h)if(!s.has(u)){if(s.add(u),a.set(u,c),u===r){const m=[r];let f=r;for(;a.has(f);)f=a.get(f),m.unshift(f);return{path:m,found:!0}}i.push(u)}}return{path:[],found:!1}}function YE(t,e){const r=Xn(t),s=new Set,i=[];function a(c,h){s.add(c),i.push(c);const u=r.get(c)??[];for(const m of u)if(s.has(m)){if(m!==h&&i.includes(m)){const f=i.indexOf(m);return i.slice(f)}}else{const f=a(m,c);if(f)return f}return i.pop(),null}const l=e?[e]:t.nodes.map(c=>c.id);for(const c of l)if(!s.has(c)){const h=a(c,null);if(h)return h}return null}function ai(t){if(t.nodes.length===0)return!0;const e=new Set,r=[t.nodes[0].id],s=Xn(t);for(e.add(t.nodes[0].id);r.length>0;){const i=r.shift(),a=s.get(i)??[];for(const l of a)e.has(l)||(e.add(l),r.push(l))}return e.size===t.nodes.length}function Z2(t){const e=t.nodes.length;return t.edges.length!==e-1?!1:ai(t)}function ZE(t){if(!ai(t))return!1;for(const e of t.nodes)if(po(t,e.id)%2!==0)return!1;return!0}function yJ(t){if(!ai(t))return!1;let e=0;for(const r of t.nodes)po(t,r.id)%2!==0&&e++;return e===0||e===2}function bJ(t){if(!ZE(t))return null;const e=new Map;for(const i of t.nodes)e.set(i.id,[]);for(const i of t.edges)e.get(i.source).push(i.target),t.directed||e.get(i.target).push(i.source);const r=[],s=[t.nodes[0].id];for(;s.length>0;){const i=s[s.length-1],a=e.get(i);if(a.length===0)r.push(s.pop());else{const l=a.pop();if(!t.directed){const c=e.get(l),h=c.indexOf(i);h!==-1&&c.splice(h,1)}s.push(l)}}return r.reverse()}function _r(t,e){switch(t){case"empty":return{nodes:[],edges:[]};case"K5":return Zj(5);case"K33":return Qj(3,3);case"petersen":return kJ();case"cycle":return jJ(6);case"path":return wJ(5);case"complete":return Zj(5);case"bipartite":return Qj(3,3);case"tree":return SJ(7);case"grid":return TJ(3,3);case"cube":return AJ();case"dodecahedron":return NJ();case"konigsberg":return EJ();default:return{nodes:[],edges:[]}}}function Zj(t){const e=[],r=[];for(let s=0;s<t;s++){const i=2*Math.PI*s/t-Math.PI/2;e.push({id:`${s}`,x:300+120*Math.cos(i),y:200+120*Math.sin(i),label:`${s+1}`})}for(let s=0;s<t;s++)for(let i=s+1;i<t;i++)r.push({source:`${s}`,target:`${i}`});return{nodes:e,edges:r}}function Qj(t,e){const r=[],s=[];for(let i=0;i<t;i++)r.push({id:`a${i}`,x:150,y:80+320/(t+1)*(i+1),label:`a${i+1}`,color:"#60a5fa"});for(let i=0;i<e;i++)r.push({id:`b${i}`,x:450,y:80+320/(e+1)*(i+1),label:`b${i+1}`,color:"#f472b6"});for(let i=0;i<t;i++)for(let a=0;a<e;a++)s.push({source:`a${i}`,target:`b${a}`});return{nodes:r,edges:s}}function jJ(t){const e=[],r=[];for(let s=0;s<t;s++){const i=2*Math.PI*s/t-Math.PI/2;e.push({id:`${s}`,x:300+120*Math.cos(i),y:200+120*Math.sin(i),label:`${s+1}`}),r.push({source:`${s}`,target:`${(s+1)%t}`})}return{nodes:e,edges:r}}function wJ(t){const e=[],r=[];for(let s=0;s<t;s++)e.push({id:`${s}`,x:100+400/(t-1)*s,y:200,label:`${s+1}`}),s>0&&r.push({source:`${s-1}`,target:`${s}`});return{nodes:e,edges:r}}function SJ(t){const e=[],r=[];for(let s=0;s<t;s++)e.push({id:`${s}`,x:100+Math.random()*400,y:80+Math.random()*320,label:`${s+1}`});for(let s=1;s<t;s++){const i=Math.floor(Math.random()*s);r.push({source:`${i}`,target:`${s}`})}return{nodes:e,edges:r}}function TJ(t,e){const r=[],s=[],i=Math.min(400/(e-1),320/(t-1)),a=(600-(e-1)*i)/2,l=(400-(t-1)*i)/2;for(let c=0;c<t;c++)for(let h=0;h<e;h++){const u=`${c}-${h}`;r.push({id:u,x:a+h*i,y:l+c*i}),h>0&&s.push({source:`${c}-${h-1}`,target:u}),c>0&&s.push({source:`${c-1}-${h}`,target:u})}return{nodes:r,edges:s}}function kJ(){const t=[],e=[];for(let r=0;r<5;r++){const s=2*Math.PI*r/5-Math.PI/2;t.push({id:`o${r}`,x:300+140*Math.cos(s),y:200+140*Math.sin(s),label:`${r+1}`})}for(let r=0;r<5;r++){const s=2*Math.PI*r/5-Math.PI/2;t.push({id:`i${r}`,x:300+60*Math.cos(s),y:200+60*Math.sin(s),label:`${r+6}`})}for(let r=0;r<5;r++)e.push({source:`o${r}`,target:`o${(r+1)%5}`});for(let r=0;r<5;r++)e.push({source:`i${r}`,target:`i${(r+2)%5}`});for(let r=0;r<5;r++)e.push({source:`o${r}`,target:`i${r}`});return{nodes:t,edges:e}}function AJ(){const t=[],e=[];return t.push({id:"0",x:160,y:60,label:"1"}),t.push({id:"1",x:440,y:60,label:"2"}),t.push({id:"2",x:440,y:340,label:"3"}),t.push({id:"3",x:160,y:340,label:"4"}),t.push({id:"4",x:240,y:140,label:"5"}),t.push({id:"5",x:360,y:140,label:"6"}),t.push({id:"6",x:360,y:260,label:"7"}),t.push({id:"7",x:240,y:260,label:"8"}),e.push({source:"0",target:"1"}),e.push({source:"1",target:"2"}),e.push({source:"2",target:"3"}),e.push({source:"3",target:"0"}),e.push({source:"4",target:"5"}),e.push({source:"5",target:"6"}),e.push({source:"6",target:"7"}),e.push({source:"7",target:"4"}),e.push({source:"0",target:"4"}),e.push({source:"1",target:"5"}),e.push({source:"2",target:"6"}),e.push({source:"3",target:"7"}),{nodes:t,edges:e}}function NJ(){const t=[],e=[];for(let a=0;a<5;a++){const l=2*Math.PI*a/5-Math.PI/2;t.push({id:`t${a}`,x:300+50*Math.cos(l),y:100,label:`${a+1}`})}for(let a=0;a<5;a++){const l=2*Math.PI*a/5-Math.PI/2+Math.PI/5;t.push({id:`u${a}`,x:300+130*Math.cos(l),y:150,label:`${a+6}`})}for(let a=0;a<5;a++){const l=2*Math.PI*a/5-Math.PI/2;t.push({id:`l${a}`,x:300+130*Math.cos(l),y:250,label:`${a+11}`})}for(let a=0;a<5;a++){const l=2*Math.PI*a/5-Math.PI/2+Math.PI/5;t.push({id:`b${a}`,x:300+50*Math.cos(l),y:300,label:`${a+16}`})}for(let a=0;a<5;a++)e.push({source:`t${a}`,target:`t${(a+1)%5}`});for(let a=0;a<5;a++)e.push({source:`b${a}`,target:`b${(a+1)%5}`});for(let a=0;a<5;a++)e.push({source:`t${a}`,target:`u${a}`}),e.push({source:`t${a}`,target:`u${(a+4)%5}`});for(let a=0;a<5;a++)e.push({source:`u${a}`,target:`l${a}`});for(let a=0;a<5;a++)e.push({source:`l${a}`,target:`b${a}`}),e.push({source:`l${a}`,target:`b${(a+1)%5}`});return{nodes:t,edges:e}}function EJ(){return{nodes:[{id:"A",x:300,y:100,label:"A"},{id:"B",x:150,y:250,label:"B"},{id:"C",x:450,y:250,label:"C"},{id:"D",x:300,y:350,label:"D"}],edges:[{source:"A",target:"B"},{source:"A",target:"B"},{source:"A",target:"C"},{source:"A",target:"C"},{source:"B",target:"D"},{source:"C",target:"D"},{source:"B",target:"C"}]}}function y0(t,e,r,s){const i=`n${Date.now()}`;return{...t,nodes:[...t.nodes,{id:i,x:e,y:r,label:s??`${t.nodes.length+1}`}]}}function hu(t,e){return{...t,nodes:t.nodes.filter(r=>r.id!==e),edges:t.edges.filter(r=>r.source!==e&&r.target!==e)}}function b0(t,e,r,s){return zi(t,e,r)?t:{...t,edges:[...t.edges,{source:e,target:r,weight:s}]}}function Bl(t,e,r,s){return{...t,nodes:t.nodes.map(i=>i.id===e?{...i,x:r,y:s}:i)}}const CJ=[{value:"empty",label:"Empty"},{value:"K5",label:"K (Complete)"},{value:"K33",label:"K, (Bipartite)"},{value:"petersen",label:"Petersen"},{value:"cycle",label:"Cycle (C)"},{value:"path",label:"Path (P)"},{value:"cube",label:"Cube (Q)"},{value:"grid",label:"Grid (33)"}];function MJ({className:t="",initialGraph:e,showMatrix:r=!0,showControls:s=!0,onGraphChange:i}){const a=_.useRef(null),[l,c]=_.useState(e??_r("empty")),[h,u]=_.useState("addNode"),[m,f]=_.useState(null),[p,g]=_.useState(null),[S,N]=_.useState(null),[$,w]=_.useState(null),T=600,A=400;_.useEffect(()=>{i==null||i(l)},[l,i]),_.useEffect(()=>{const de=a.current;if(!de)return;const oe=de.getContext("2d");if(oe){xi(oe,T,A),vi(oe,T,A);for(const re of l.edges)ga(oe,re,l.nodes,{highlighted:re.source===m||re.target===m});if(h==="addEdge"&&p){const re=l.nodes.find(F=>F.id===p);if(re&&$&&$!==p){const F=l.nodes.find(le=>le.id===$);F&&(oe.strokeStyle=Ve.nodeSelected,oe.lineWidth=2,oe.setLineDash([6,4]),oe.beginPath(),oe.moveTo(re.x,re.y),oe.lineTo(F.x,F.y),oe.stroke(),oe.setLineDash([]))}}for(const re of l.nodes)yi(oe,re,{selected:re.id===m,highlighted:re.id===$||re.id===p});if(m){const re=l.nodes.find(F=>F.id===m);re&&mJ(oe,re)}}},[l,h,m,p,$]);const I=_.useCallback(de=>{const oe=a.current;if(!oe)return;const{x:re,y:F}=Rr(de,oe),le=Br(re,F,l.nodes);switch(h){case"select":le?(f(le.id),N(le.id)):f(null);break;case"addNode":if(le)f(le.id);else{const W=y0(l,re,F);c(W)}break;case"addEdge":if(le){if(p===null)g(le.id);else if(le.id!==p){const W=b0(l,p,le.id);c(W),g(null)}}else g(null);break;case"delete":if(le){const W=hu(l,le.id);c(W),m===le.id&&f(null)}break}},[l,h,p,m]),B=_.useCallback(de=>{const oe=a.current;if(!oe)return;const{x:re,y:F}=Rr(de,oe),le=Br(re,F,l.nodes);if(w((le==null?void 0:le.id)??null),S){const W=Bl(l,S,re,F);c(W)}},[l,S]),Q=_.useCallback(()=>{N(null)},[]),D=_.useCallback(()=>{N(null),w(null)},[]),E=de=>{c(_r(de)),f(null),g(null)},z=()=>{c({nodes:[],edges:[]}),f(null),g(null)},O=()=>{m&&(c(hu(l,m)),f(null))},L=gJ(l),H=l.nodes.map(de=>de.label??de.id),q=XE(l),ye=()=>$?h==="delete"?"pointer":h==="select"||S?"grab":h==="addEdge"?"crosshair":"pointer":h==="addNode"?"crosshair":"default";return n.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${t}`,children:[n.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Interactive Graph Editor"}),n.jsx("p",{className:"text-dark-300 mb-6",children:"Create and manipulate graphs. Click to add vertices, select two vertices to add edges, or use the controls below."}),n.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("canvas",{ref:a,width:T,height:A,className:"rounded-xl border border-dark-600",style:{cursor:ye()},onMouseDown:I,onMouseMove:B,onMouseUp:Q,onMouseLeave:D}),s&&n.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:[{mode:"addNode",label:"Add Vertex",icon:""},{mode:"addEdge",label:"Add Edge",icon:""},{mode:"select",label:"Select/Move",icon:""},{mode:"delete",label:"Delete",icon:""}].map(({mode:de,label:oe,icon:re})=>n.jsxs("button",{onClick:()=>{u(de),g(null)},className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${h===de?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:[n.jsx("span",{className:"mr-1",children:re})," ",oe]},de))})]}),n.jsxs("div",{className:"flex-1 space-y-6 min-w-0",children:[s&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Load Preset Graph"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:CJ.map(({value:de,label:oe})=>n.jsx("button",{onClick:()=>E(de),className:"px-3 py-1.5 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600 transition-colors",children:oe},de))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-blue-400",children:l.nodes.length}),n.jsx("div",{className:"text-sm text-dark-300",children:"Vertices"})]}),n.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-green-400",children:l.edges.length}),n.jsx("div",{className:"text-sm text-dark-300",children:"Edges"})]})]}),l.nodes.length>0&&n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Degree Sequence"}),n.jsx("div",{className:"flex flex-wrap gap-1",children:q.map((de,oe)=>n.jsx("span",{className:"px-2 py-1 bg-dark-700 text-dark-200 rounded text-sm",children:de},oe))})]}),r&&l.nodes.length>0&&l.nodes.length<=8&&n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Adjacency Matrix"}),n.jsx("div",{className:"overflow-auto",children:n.jsxs("table",{className:"border-collapse text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{className:"w-8 h-8"}),H.map((de,oe)=>n.jsx("th",{className:"w-8 h-8 text-center text-dark-300 font-medium",children:de},oe))]})}),n.jsx("tbody",{children:L.map((de,oe)=>n.jsxs("tr",{children:[n.jsx("td",{className:"w-8 h-8 text-center text-dark-300 font-medium",children:H[oe]}),de.map((re,F)=>n.jsx("td",{className:`w-8 h-8 text-center border border-dark-600 ${re>0?"bg-blue-500/20 text-blue-300":"text-dark-500"}`,children:re},F))]},oe))})]})})]}),s&&n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:z,className:"px-4 py-2 bg-red-600/20 text-red-400 rounded-lg hover:bg-red-600/30 transition-colors",children:"Clear Graph"}),m&&n.jsx("button",{onClick:O,className:"px-4 py-2 bg-amber-600/20 text-amber-400 rounded-lg hover:bg-amber-600/30 transition-colors",children:"Delete Selected"})]}),n.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Add Vertex:"})," Click empty space"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Add Edge:"})," Click two vertices"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Move:"})," Select mode, then drag"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Delete:"})," Delete mode, then click"]})]})]})]})]})}const _J=[{value:"cycle",label:"Cycle (C)"},{value:"K5",label:"K"},{value:"cube",label:"Cube"},{value:"petersen",label:"Petersen"},{value:"konigsberg",label:"Knigsberg"}];function $J({className:t="",initialGraph:e}){const r=_.useRef(null),[s,i]=_.useState(e??_r("cycle")),[a,l]=_.useState("path"),[c,h]=_.useState(null),[u,m]=_.useState(null),[f,p]=_.useState([]),[g,S]=_.useState([]),[N,$]=_.useState([]),[w,T]=_.useState(0),[A,I]=_.useState(!1),[B,Q]=_.useState([]),[D,E]=_.useState(null),[z,O]=_.useState(null),[L,H]=_.useState("view"),[q,ye]=_.useState(null),de=600,oe=400;_.useEffect(()=>{if(!A)return;const pe=a==="eulerian"?N.length:B.length;if(w>=pe){I(!1);return}const he=setTimeout(()=>{T(ve=>ve+1)},500);return()=>clearTimeout(he)},[A,w,a,N.length,B.length]),_.useEffect(()=>{if(a==="path"&&c&&u){const pe=Y2(s,c,u);p(pe.found?pe.path:[])}},[s,a,c,u]),_.useEffect(()=>{const pe=r.current;if(!pe)return;const he=pe.getContext("2d");if(!he)return;xi(he,de,oe),vi(he,de,oe);let ve=new Set,_e=[];a==="path"&&f.length>1?_e=f:a==="cycle"&&g.length>0?_e=[...g,g[0]]:a==="eulerian"&&N.length>0&&(_e=N.slice(0,w+1));for(let Se=0;Se<_e.length-1;Se++){const qe=`${_e[Se]}-${_e[Se+1]}`,Ue=`${_e[Se+1]}-${_e[Se]}`;ve.add(qe),ve.add(Ue)}for(const Se of s.edges){const qe=`${Se.source}-${Se.target}`,Ue=`${Se.target}-${Se.source}`,yt=ve.has(qe)||ve.has(Ue);ga(he,Se,s.nodes,{highlighted:yt,color:yt?a==="cycle"?Ve.cycle:Ve.path:void 0})}a==="path"&&f.length>1?cu(he,f,s.nodes,Ve.path):a==="cycle"&&g.length>0?fJ(he,g,s.nodes,Ve.cycle):a==="eulerian"&&_e.length>1&&cu(he,_e,s.nodes,Ve.path);for(const Se of s.nodes){const qe=_e.includes(Se.id),Ue=Se.id===c||a==="eulerian"&&Se.id===N[0],yt=Se.id===u||a==="eulerian"&&w>0&&Se.id===N[w];yi(he,Se,{selected:Ue||yt,highlighted:qe||Se.id===D||Se.id===q,fillColor:Ue?Ve.path:yt?Ve.cycle:void 0})}},[s,a,f,g,N,w,c,u,D,q]);const re=_.useCallback(pe=>{const he=r.current;if(!he)return;const{x:ve,y:_e}=Rr(pe,he),Se=Br(ve,_e,s.nodes);if(L==="addNode"){if(!Se){const qe=y0(s,ve,_e);i(qe)}return}if(L==="addEdge"){if(Se){if(q===null)ye(Se.id);else if(Se.id!==q){const qe=b0(s,q,Se.id);i(qe),ye(null)}}else ye(null);return}if(Se){if(a==="path")c?!u&&Se.id!==c?m(Se.id):(h(Se.id),m(null),p([])):(h(Se.id),p([]));else if(a==="cycle"){const qe=YE(s,Se.id);S(qe??[])}O(Se.id)}},[s,a,L,c,u,q]),F=_.useCallback(pe=>{const he=r.current;if(!he)return;const{x:ve,y:_e}=Rr(pe,he),Se=Br(ve,_e,s.nodes);if(E((Se==null?void 0:Se.id)??null),z&&L==="view"){const qe=Bl(s,z,ve,_e);i(qe)}},[s,z,L]),le=_.useCallback(()=>{O(null)},[]),W=pe=>{i(_r(pe)),te()},te=()=>{h(null),m(null),p([]),S([]),$([]),T(0),I(!1),Q([]),ye(null)},U=()=>{const pe=bJ(s);pe&&($(pe),T(0),I(!0))},Z=pe=>{if(!c)return;const he=pe==="bfs"?xJ(s,c):vJ(s,c);Q(he.filter(ve=>ve.action==="visit").map(ve=>ve.node)),T(0),I(!0)},ge=ai(s),ee=ZE(s),ae=yJ(s),Ae=s.nodes.filter(pe=>po(s,pe.id)%2!==0);return n.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${t}`,children:[n.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Path Explorer"}),n.jsx("p",{className:"text-dark-300 mb-6",children:"Explore paths, cycles, and Eulerian circuits. Click vertices to find paths between them, or discover cycles in the graph."}),n.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("canvas",{ref:r,width:de,height:oe,className:"rounded-xl border border-dark-600",style:{cursor:D?"pointer":L==="addNode"?"crosshair":"default"},onMouseDown:re,onMouseMove:F,onMouseUp:le,onMouseLeave:()=>{O(null),E(null)}}),n.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:[{mode:"path",label:"Find Path"},{mode:"cycle",label:"Find Cycle"},{mode:"eulerian",label:"Eulerian"}].map(({mode:pe,label:he})=>n.jsx("button",{onClick:()=>{l(pe),te()},className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${a===pe?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:he},pe))})]}),n.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Load Graph"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:_J.map(({value:pe,label:he})=>n.jsx("button",{onClick:()=>W(pe),className:"px-3 py-1.5 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:he},pe))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Edit Graph"}),n.jsx("div",{className:"flex gap-2",children:[{mode:"view",label:"View"},{mode:"addNode",label:"+ Vertex"},{mode:"addEdge",label:"+ Edge"}].map(({mode:pe,label:he})=>n.jsx("button",{onClick:()=>{H(pe),ye(null)},className:`px-3 py-1.5 rounded-lg text-sm ${L===pe?"bg-green-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:he},pe))})]}),n.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-dark-300",children:"Connected:"}),n.jsx("span",{className:ge?"text-green-400":"text-red-400",children:ge?"Yes":"No"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-dark-300",children:"Eulerian Circuit:"}),n.jsx("span",{className:ee?"text-green-400":"text-red-400",children:ee?"Exists":"None"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-dark-300",children:"Eulerian Path:"}),n.jsx("span",{className:ae?"text-green-400":"text-red-400",children:ae?"Exists":"None"})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-dark-300",children:"Odd-degree vertices:"}),n.jsx("span",{className:"text-dark-100",children:Ae.length})]})]}),a==="path"&&n.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[n.jsx("div",{className:"text-sm text-dark-200 mb-2",children:c?u?f.length>0?`Path found: ${f.length} vertices`:"No path exists":"Click another vertex to set end":"Click a vertex to set start"}),c&&u&&n.jsxs("div",{className:"text-sm text-dark-400",children:["Path: ",f.join("  ")||"None"]}),c&&n.jsxs("div",{className:"mt-2 flex gap-2",children:[n.jsx("button",{onClick:()=>Z("bfs"),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700",children:"Run BFS"}),n.jsx("button",{onClick:()=>Z("dfs"),className:"px-3 py-1.5 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700",children:"Run DFS"})]})]}),a==="cycle"&&n.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[n.jsx("div",{className:"text-sm text-dark-200 mb-2",children:g.length>0?`Cycle found: ${g.length} vertices`:"Click a vertex to find a cycle through it"}),g.length>0&&n.jsxs("div",{className:"text-sm text-dark-400",children:["Cycle: ",g.join("  "),"  ",g[0]]})]}),a==="eulerian"&&n.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[n.jsx("button",{onClick:U,disabled:!ee||A,className:`w-full px-4 py-2 rounded-lg text-sm font-medium ${ee&&!A?"bg-green-600 text-white hover:bg-green-700":"bg-dark-600 text-dark-400 cursor-not-allowed"}`,children:A?"Animating...":"Find Eulerian Circuit"}),N.length>0&&n.jsxs("div",{className:"mt-2 text-sm text-dark-400",children:["Step ",w+1,"/",N.length]}),!ee&&n.jsx("p",{className:"mt-2 text-sm text-red-400",children:"No Eulerian circuit exists (need all vertices to have even degree)"})]}),n.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Path mode:"})," Click two vertices to find path"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Cycle mode:"})," Click vertex to find cycle"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Eulerian:"})," Find circuit visiting every edge once"]})]})]})]})]})}const zJ=[{value:"tree",label:"Random Tree"},{value:"path",label:"Path"},{value:"complete",label:"K (not tree)"},{value:"cycle",label:"Cycle (not tree)"}];function DJ({className:t="",initialGraph:e}){var Z,ge;const r=_.useRef(null),[s,i]=_.useState(e??_r("tree")),[a,l]=_.useState(null),[c,h]=_.useState(new Map),[u,m]=_.useState(new Map),[f,p]=_.useState(null),[g,S]=_.useState([]),[N,$]=_.useState(null),[w,T]=_.useState(null),[A,I]=_.useState("view"),[B,Q]=_.useState(null),[D,E]=_.useState(!1),z=600,O=400;_.useEffect(()=>{if(!a||!Z2(s)){h(new Map),m(new Map);return}const ee=new Map,ae=new Map,Ae=Xn(s),pe=[a];for(ee.set(a,0),ae.set(a,null);pe.length>0;){const he=pe.shift(),ve=ee.get(he),_e=Ae.get(he)??[];for(const Se of _e)ee.has(Se)||(ee.set(Se,ve+1),ae.set(Se,he),pe.push(Se))}h(ee),m(ae)},[s,a]),_.useEffect(()=>{if(!f||!a){S([]);return}const ee=Y2(s,f,a);S(ee.path)},[s,f,a]),_.useEffect(()=>{if(!D||!a||c.size===0)return;const ee=Math.max(...c.values()),ae=new Map;for(const[pe,he]of c)ae.has(he)||ae.set(he,[]),ae.get(he).push(pe);const Ae=s.nodes.map(pe=>{const he=c.get(pe.id);if(he===void 0)return pe;const ve=ae.get(he),_e=ve.indexOf(pe.id),Se=z/(ve.length+1);return{...pe,x:Se*(_e+1),y:60+he/(ee||1)*300}});i({...s,nodes:Ae})},[D,a,c]),_.useEffect(()=>{const ee=r.current;if(!ee)return;const ae=ee.getContext("2d");if(!ae)return;xi(ae,z,O),vi(ae,z,O);const Ae=new Set;for(let he=0;he<g.length-1;he++)Ae.add(`${g[he]}-${g[he+1]}`),Ae.add(`${g[he+1]}-${g[he]}`);for(const he of s.edges){const ve=Ae.has(`${he.source}-${he.target}`);ga(ae,he,s.nodes,{highlighted:ve,color:ve?Ve.path:void 0})}g.length>1&&cu(ae,g,s.nodes,Ve.path);const pe=["#60a5fa","#34d399","#fbbf24","#f87171","#a78bfa","#f472b6"];for(const he of s.nodes){const ve=c.get(he.id),_e=he.id===a,Se=he.id===f,qe=he.id===w;yi(ae,he,{fillColor:_e?Ve.path:ve!==void 0?pe[ve%pe.length]:Ve.node,selected:Se,highlighted:qe||he.id===B}),ve!==void 0&&!_e&&(ae.fillStyle=Ve.textDark,ae.font="10px Inter, system-ui, sans-serif",ae.textAlign="center",ae.fillText(`L${ve}`,he.x,he.y+28))}},[s,a,f,g,c,w,B]);const L=_.useCallback(ee=>{const ae=r.current;if(!ae)return;const{x:Ae,y:pe}=Rr(ee,ae),he=Br(Ae,pe,s.nodes);if(A==="addNode"&&!he){i(y0(s,Ae,pe));return}if(A==="addEdge"&&he){B?he.id!==B&&(i(b0(s,B,he.id)),Q(null)):Q(he.id);return}if(A==="delete"&&he){i(hu(s,he.id)),a===he.id&&l(null),f===he.id&&p(null);return}he&&(ee.shiftKey?(l(he.id),E(!1)):(p(he.id),$(he.id)))},[s,A,B,a,f]),H=_.useCallback(ee=>{var he;const ae=r.current;if(!ae)return;const{x:Ae,y:pe}=Rr(ee,ae);T(((he=Br(Ae,pe,s.nodes))==null?void 0:he.id)??null),N&&A==="view"&&(i(Bl(s,N,Ae,pe)),E(!1))},[s,N,A]),q=_.useCallback(()=>{$(null)},[]),ye=ee=>{i(_r(ee)),l(null),p(null),h(new Map),m(new Map),S([]),E(!1)},de=Z2(s),oe=ai(s),re=c.size>0?Math.max(...c.values()):0,F=s.nodes.filter(ee=>po(s,ee.id)===1),le=new Map;if(de)for(const ee of s.nodes){let ae=0;for(const Ae of s.nodes)if(ee.id!==Ae.id){const pe=Y2(s,ee.id,Ae.id);pe.found&&(ae=Math.max(ae,pe.path.length-1))}le.set(ee.id,ae)}const W=le.size>0?Math.min(...le.values()):0,te=le.size>0?Math.max(...le.values()):0,U=[...le.entries()].filter(([ee,ae])=>ae===W).map(([ee])=>ee);return n.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${t}`,children:[n.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Tree Visualizer"}),n.jsx("p",{className:"text-dark-300 mb-6",children:"Explore tree properties. Shift-click a vertex to set it as root and see the tree structure."}),n.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("canvas",{ref:r,width:z,height:O,className:"rounded-xl border border-dark-600",style:{cursor:A==="addNode"?"crosshair":w?"pointer":"default"},onMouseDown:L,onMouseMove:H,onMouseUp:q,onMouseLeave:()=>{$(null),T(null)}}),n.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:[{mode:"view",label:"View"},{mode:"addNode",label:"+ Vertex"},{mode:"addEdge",label:"+ Edge"},{mode:"delete",label:"Delete"}].map(({mode:ee,label:ae})=>n.jsx("button",{onClick:()=>{I(ee),Q(null)},className:`px-3 py-2 rounded-lg text-sm font-medium ${A===ee?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:ae},ee))})]}),n.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Load Graph"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:zJ.map(({value:ee,label:ae})=>n.jsx("button",{onClick:()=>ye(ee),className:"px-3 py-1.5 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:ae},ee))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:`p-3 rounded-lg ${de?"bg-green-900/30":"bg-red-900/30"}`,children:[n.jsx("div",{className:`text-lg font-bold ${de?"text-green-400":"text-red-400"}`,children:de?"Is a Tree":"Not a Tree"}),n.jsx("div",{className:"text-sm text-dark-300",children:oe?s.edges.length!==s.nodes.length-1?`${s.edges.length} edges (need ${s.nodes.length-1})`:"n-1 edges, connected":"Not connected"})]}),n.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[n.jsxs("div",{className:"text-lg font-bold text-dark-100",children:[s.nodes.length," vertices, ",s.edges.length," edges"]}),n.jsxs("div",{className:"text-sm text-dark-300",children:[F.length," leaves"]})]})]}),de&&n.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg space-y-2",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-dark-300",children:"Radius:"}),n.jsx("span",{className:"text-dark-100",children:W})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-dark-300",children:"Diameter:"}),n.jsx("span",{className:"text-dark-100",children:te})]}),n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-dark-300",children:"Center:"}),n.jsx("span",{className:"text-dark-100",children:U.map(ee=>{var ae;return((ae=s.nodes.find(Ae=>Ae.id===ee))==null?void 0:ae.label)??ee}).join(", ")})]}),a&&n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-dark-300",children:"Height (from root):"}),n.jsx("span",{className:"text-dark-100",children:re})]})]}),de&&n.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[n.jsxs("div",{className:"text-sm font-medium text-dark-200 mb-2",children:["Root: ",a?((Z=s.nodes.find(ee=>ee.id===a))==null?void 0:Z.label)??a:"None (Shift-click to set)"]}),a&&n.jsx("div",{className:"flex gap-2",children:n.jsx("button",{onClick:()=>E(!D),className:`px-3 py-1.5 rounded-lg text-sm ${D?"bg-green-600 text-white":"bg-dark-600 text-dark-200 hover:bg-dark-500"}`,children:D?"Hierarchical Layout On":"Apply Hierarchical Layout"})})]}),f&&de&&n.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[n.jsxs("div",{className:"text-sm font-medium text-dark-200 mb-2",children:["Selected: ",((ge=s.nodes.find(ee=>ee.id===f))==null?void 0:ge.label)??f]}),n.jsxs("div",{className:"text-sm text-dark-300 space-y-1",children:[n.jsxs("div",{children:["Level: ",c.get(f)??"N/A"]}),n.jsxs("div",{children:["Eccentricity: ",le.get(f)??"N/A"]}),g.length>1&&n.jsxs("div",{children:["Path to root: ",g.map(ee=>{var ae;return((ae=s.nodes.find(Ae=>Ae.id===ee))==null?void 0:ae.label)??ee}).join("  ")]})]})]}),n.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Shift-click:"})," Set vertex as root"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Click:"})," Select vertex to see path to root"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Drag:"})," Move vertices (in view mode)"]})]})]})]})]})}class IJ{constructor(e){As(this,"parent");As(this,"rank");this.parent=new Map,this.rank=new Map;for(const r of e)this.parent.set(r,r),this.rank.set(r,0)}find(e){return this.parent.get(e)!==e&&this.parent.set(e,this.find(this.parent.get(e))),this.parent.get(e)}union(e,r){const s=this.find(e),i=this.find(r);if(s===i)return!1;const a=this.rank.get(s),l=this.rank.get(i);return a<l?this.parent.set(s,i):a>l?this.parent.set(i,s):(this.parent.set(i,s),this.rank.set(s,a+1)),!0}}function RJ(){return{nodes:[{id:"A",x:150,y:100,label:"A"},{id:"B",x:300,y:80,label:"B"},{id:"C",x:450,y:120,label:"C"},{id:"D",x:100,y:250,label:"D"},{id:"E",x:250,y:220,label:"E"},{id:"F",x:400,y:260,label:"F"},{id:"G",x:500,y:320,label:"G"},{id:"H",x:200,y:350,label:"H"}],edges:[{source:"A",target:"B",weight:4},{source:"A",target:"D",weight:2},{source:"A",target:"E",weight:3},{source:"B",target:"C",weight:5},{source:"B",target:"E",weight:1},{source:"C",target:"F",weight:6},{source:"C",target:"G",weight:4},{source:"D",target:"E",weight:3},{source:"D",target:"H",weight:5},{source:"E",target:"F",weight:2},{source:"E",target:"H",weight:4},{source:"F",target:"G",weight:3},{source:"G",target:"H",weight:6}]}}function GJ({className:t=""}){const e=_.useRef(null),[r,s]=_.useState(RJ()),[i,a]=_.useState("kruskal"),[l,c]=_.useState([]),[h,u]=_.useState(-1),[m,f]=_.useState(!1),[p,g]=_.useState("medium"),[S,N]=_.useState(new Set),[$,w]=_.useState(null),[T,A]=_.useState(null),[I,B]=_.useState(null),[Q,D]=_.useState("view"),[E,z]=_.useState(null),[O,L]=_.useState(1),[H,q]=_.useState(null),ye=600,de=400,oe={slow:1500,medium:800,fast:300},re=he=>{const ve=[],_e=[...he.edges].sort((Ue,yt)=>(Ue.weight??0)-(yt.weight??0)),Se=new IJ(he.nodes.map(Ue=>Ue.id));let qe=0;for(const Ue of _e)ve.push({edge:Ue,action:"consider",totalWeight:qe}),Se.union(Ue.source,Ue.target)?(qe+=Ue.weight??0,ve.push({edge:Ue,action:"add",totalWeight:qe,reason:"Connects new component"})):ve.push({edge:Ue,action:"reject",totalWeight:qe,reason:"Would create cycle"});return ve},F=(he,ve)=>{const _e=[];Xn(he);const Se=new Set([ve]);let qe=0;for(;Se.size<he.nodes.length;){let Ue=null,yt=1/0;for(const Vt of he.edges){const Hr=Se.has(Vt.source),nr=Se.has(Vt.target);if(Hr!==nr){const Kt=Vt.weight??0;_e.push({edge:Vt,action:"consider",totalWeight:qe}),Kt<yt&&(yt=Kt,Ue=Vt)}}if(Ue){qe+=Ue.weight??0;const Vt=Se.has(Ue.source)?Ue.target:Ue.source;Se.add(Vt),_e.push({edge:Ue,action:"add",totalWeight:qe,reason:`Adds vertex ${Vt}`})}else break}return _e};_.useEffect(()=>{if(!m||h>=l.length-1){h>=l.length-1&&f(!1);return}const he=setTimeout(()=>{u(ve=>ve+1)},oe[p]);return()=>clearTimeout(he)},[m,h,l.length,p]),_.useEffect(()=>{if(h<0){N(new Set),w(null);return}const he=new Set;for(let _e=0;_e<=h;_e++){const Se=l[_e];Se.action==="add"&&(he.add(`${Se.edge.source}-${Se.edge.target}`),he.add(`${Se.edge.target}-${Se.edge.source}`)),Se.action==="consider"&&Se.edge}N(he);const ve=l[h];(ve==null?void 0:ve.action)==="consider"?w(ve.edge):w(null)},[h,l]),_.useEffect(()=>{const he=e.current;if(!he)return;const ve=he.getContext("2d");if(ve){xi(ve,ye,de),vi(ve,ye,de);for(const _e of r.edges){const Se=`${_e.source}-${_e.target}`,qe=S.has(Se),Ue=$&&(_e.source===$.source&&_e.target===$.target||_e.source===$.target&&_e.target===$.source);ga(ve,_e,r.nodes,{highlighted:qe,color:qe?Ve.path:Ue?Ve.nodeSelected:Ve.edge,width:qe?4:Ue?3:2,showWeight:!0})}if(Q==="addEdge"&&E&&I&&I!==E){const _e=r.nodes.find(qe=>qe.id===E),Se=r.nodes.find(qe=>qe.id===I);_e&&Se&&(ve.strokeStyle=Ve.nodeSelected,ve.lineWidth=2,ve.setLineDash([6,4]),ve.beginPath(),ve.moveTo(_e.x,_e.y),ve.lineTo(Se.x,Se.y),ve.stroke(),ve.setLineDash([]))}for(const _e of r.nodes){const Se=i==="prim"&&_e.id===H;yi(ve,_e,{selected:Se,highlighted:_e.id===I||_e.id===E,fillColor:Se?Ve.path:void 0})}}},[r,S,$,I,E,Q,i,H]);const le=_.useCallback(he=>{const ve=e.current;if(!ve)return;const{x:_e,y:Se}=Rr(he,ve),qe=Br(_e,Se,r.nodes);if(Q==="addNode"&&!qe){const Ue=String.fromCharCode(65+r.nodes.length);s(y0(r,_e,Se,Ue));return}if(Q==="addEdge"&&qe){E?qe.id!==E&&(s(b0(r,E,qe.id,O)),z(null)):z(qe.id);return}qe&&(he.shiftKey&&i==="prim"?q(qe.id):A(qe.id))},[r,Q,E,O,i]),W=_.useCallback(he=>{var qe;const ve=e.current;if(!ve)return;const{x:_e,y:Se}=Rr(he,ve);B(((qe=Br(_e,Se,r.nodes))==null?void 0:qe.id)??null),T&&Q==="view"&&s(Bl(r,T,_e,Se))},[r,T,Q]),te=_.useCallback(()=>{A(null)},[]),U=()=>{var he;if(i==="kruskal")c(re(r));else{const ve=H??((he=r.nodes[0])==null?void 0:he.id);ve&&(q(ve),c(F(r,ve)))}u(-1),N(new Set),f(!0)},Z=()=>{c([]),u(-1),N(new Set),w(null),f(!1)},ge=()=>{h<l.length-1&&u(he=>he+1)},ee=()=>{h>0&&u(he=>he-1)},ae=h>=0?l[h]:null,Ae=(ae==null?void 0:ae.totalWeight)??0,pe=ai(r);return n.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${t}`,children:[n.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Minimum Spanning Tree"}),n.jsx("p",{className:"text-dark-300 mb-6",children:"Watch Kruskal's or Prim's algorithm find the minimum spanning tree step by step."}),n.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("canvas",{ref:e,width:ye,height:de,className:"rounded-xl border border-dark-600",style:{cursor:Q==="addNode"?"crosshair":I?"pointer":"default"},onMouseDown:le,onMouseMove:W,onMouseUp:te,onMouseLeave:()=>{A(null),B(null)}}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[[{mode:"view",label:"View"},{mode:"addNode",label:"+ Vertex"},{mode:"addEdge",label:"+ Edge"}].map(({mode:he,label:ve})=>n.jsx("button",{onClick:()=>{D(he),z(null)},className:`px-3 py-2 rounded-lg text-sm font-medium ${Q===he?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:ve},he)),Q==="addEdge"&&n.jsx("input",{type:"number",min:"1",max:"99",value:O,onChange:he=>L(parseInt(he.target.value)||1),className:"w-16 px-2 py-2 bg-dark-700 text-dark-100 rounded-lg text-sm",placeholder:"Weight"})]})]}),n.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Algorithm"}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{a("kruskal"),Z()},className:`px-4 py-2 rounded-lg text-sm font-medium ${i==="kruskal"?"bg-green-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:"Kruskal's"}),n.jsx("button",{onClick:()=>{a("prim"),Z()},className:`px-4 py-2 rounded-lg text-sm font-medium ${i==="prim"?"bg-green-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:"Prim's"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Speed"}),n.jsx("div",{className:"flex gap-2",children:["slow","medium","fast"].map(he=>n.jsx("button",{onClick:()=>g(he),className:`px-3 py-1.5 rounded-lg text-sm capitalize ${p===he?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:he},he))})]}),n.jsxs("div",{className:"flex gap-2",children:[!m&&h<0&&n.jsx("button",{onClick:U,disabled:!pe,className:`px-4 py-2 rounded-lg text-sm font-medium ${pe?"bg-green-600 text-white hover:bg-green-700":"bg-dark-600 text-dark-400 cursor-not-allowed"}`,children:"Start Algorithm"}),(m||h>=0)&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>f(!m),className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700",children:m?"Pause":"Play"}),n.jsx("button",{onClick:ee,disabled:h<=0,className:"px-3 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600 disabled:opacity-50",children:" Step"}),n.jsx("button",{onClick:ge,disabled:h>=l.length-1,className:"px-3 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600 disabled:opacity-50",children:"Step "}),n.jsx("button",{onClick:Z,className:"px-4 py-2 bg-red-600/20 text-red-400 rounded-lg text-sm hover:bg-red-600/30",children:"Reset"})]})]}),ae&&n.jsxs("div",{className:`p-4 rounded-lg ${ae.action==="add"?"bg-green-900/30":ae.action==="reject"?"bg-red-900/30":"bg-yellow-900/30"}`,children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsxs("span",{className:"font-medium text-dark-100",children:["Step ",h+1,"/",l.length]}),n.jsx("span",{className:`text-sm ${ae.action==="add"?"text-green-400":ae.action==="reject"?"text-red-400":"text-yellow-400"}`,children:ae.action==="add"?"Added":ae.action==="reject"?"Rejected":"Considering"})]}),n.jsxs("div",{className:"text-sm text-dark-300",children:["Edge: ",ae.edge.source,"  ",ae.edge.target,"(weight: ",ae.edge.weight,")"]}),ae.reason&&n.jsx("div",{className:"text-sm text-dark-400 mt-1",children:ae.reason})]}),n.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{className:"text-dark-300",children:"Total MST Weight:"}),n.jsx("span",{className:"text-xl font-bold text-green-400",children:Ae})]}),n.jsxs("div",{className:"flex justify-between mt-2",children:[n.jsx("span",{className:"text-dark-300",children:"Edges in MST:"}),n.jsxs("span",{className:"text-dark-100",children:[S.size/2,"/",r.nodes.length-1]})]})]}),!pe&&n.jsx("div",{className:"p-3 bg-red-900/30 rounded-lg text-red-400 text-sm",children:"Graph is not connected. MST algorithms require a connected graph."}),n.jsx("div",{className:"text-sm text-dark-400 space-y-1",children:i==="kruskal"?n.jsxs(n.Fragment,{children:[n.jsx("p",{children:n.jsx("strong",{children:"Kruskal's Algorithm:"})}),n.jsx("p",{children:"1. Sort edges by weight"}),n.jsx("p",{children:"2. Add edges if they don't create a cycle"}),n.jsx("p",{children:"3. Stop when n-1 edges are added"})]}):n.jsxs(n.Fragment,{children:[n.jsx("p",{children:n.jsx("strong",{children:"Prim's Algorithm:"})}),n.jsx("p",{children:"1. Start from a vertex (Shift-click to set)"}),n.jsx("p",{children:"2. Add minimum weight edge to a new vertex"}),n.jsx("p",{children:"3. Repeat until all vertices are included"})]})})]})]})]})}function Kd(t,e,r){const s=[];for(let a=0;a<t;a++)s.push({id:`L${a}`,x:150,y:80+320/(t+1)*(a+1),label:`${a+1}`,color:"#60a5fa"});for(let a=0;a<e;a++)s.push({id:`R${a}`,x:450,y:80+320/(e+1)*(a+1),label:`${String.fromCharCode(65+a)}`,color:"#f472b6"});const i=r.map(([a,l])=>({source:`L${a}`,target:`R${l}`}));return{nodes:s,edges:i}}const Jj=[{name:"Job Assignment",graph:Kd(4,4,[[0,0],[0,1],[1,1],[1,2],[2,2],[2,3],[3,0],[3,3]])},{name:"Marriage Problem",graph:Kd(3,3,[[0,0],[0,1],[1,0],[1,1],[1,2],[2,1],[2,2]])},{name:"Hall's Counter",graph:Kd(3,2,[[0,0],[0,1],[1,0],[1,1],[2,0],[2,1]])},{name:"Perfect Matching",graph:Kd(4,4,[[0,0],[0,1],[1,1],[1,2],[2,2],[2,3],[3,3],[3,0]])}];function OJ({className:t=""}){var re;const e=_.useRef(null),[r,s]=_.useState(Jj[0].graph),[i,a]=_.useState(new Set),[l,c]=_.useState([]),[h,u]=_.useState(!1),[m,f]=_.useState(null),[p,g]=_.useState(null),[S,N]=_.useState(!1),[$,w]=_.useState(new Set),T=600,A=400;_.useCallback(()=>{const F=r.nodes.filter(U=>U.id.startsWith("L"));Xn(r);const le=F.find(U=>{for(const Z of r.edges)if((Z.source===U.id||Z.target===U.id)&&i.has(`${Z.source}-${Z.target}`))return!1;return!0});if(!le)return null;const W=[{node:le.id,path:[le.id]}],te=new Set([le.id]);for(;W.length>0;){const{node:U,path:Z}=W.shift(),ge=U.startsWith("L"),ee=[];for(const ae of r.edges)ae.source===U&&ee.push(ae.target),ae.target===U&&ee.push(ae.source);for(const ae of ee){if(te.has(ae))continue;const Ae=`${U}-${ae}`,pe=`${ae}-${U}`,he=i.has(Ae)||i.has(pe);if(ge&&!he){const ve=[...Z,ae];if(![...i].some(Se=>Se.includes(ae)))return ve;te.add(ae),W.push({node:ae,path:ve})}else!ge&&he&&(te.add(ae),W.push({node:ae,path:[...Z,ae]}))}}return null},[r,i]),_.useCallback(F=>{const le=new Set(i);for(let W=0;W<F.length-1;W++){const te=`${F[W]}-${F[W+1]}`,U=`${F[W+1]}-${F[W]}`;W%2===0?le.add(te):(le.delete(te),le.delete(U))}a(le)},[i]);const I=()=>{u(!0);let F=new Set;a(F),setTimeout(()=>{let W=!0;for(;W;){W=!1;const te=B(F);te&&(F=Q(F,te),W=!0)}a(F),u(!1)},100)},B=F=>{const le=r.nodes.filter(W=>W.id.startsWith("L"));for(const W of le){let te=!1;for(const ge of F)if(ge.includes(W.id)){te=!0;break}if(te)continue;const U=[{node:W.id,path:[W.id]}],Z=new Set([W.id]);for(;U.length>0;){const{node:ge,path:ee}=U.shift(),ae=ge.startsWith("L");for(const Ae of r.edges){let pe=null;if(Ae.source===ge&&(pe=Ae.target),Ae.target===ge&&(pe=Ae.source),!pe||Z.has(pe))continue;const he=`${ge}-${pe}`,ve=`${pe}-${ge}`,_e=F.has(he)||F.has(ve);if(ae&&!_e){const Se=[...ee,pe];if(![...F].some(Ue=>Ue.includes(pe)))return Se;Z.add(pe),U.push({node:pe,path:Se})}else!ae&&_e&&(Z.add(pe),U.push({node:pe,path:[...ee,pe]}))}}}return null},Q=(F,le)=>{const W=new Set(F);for(let te=0;te<le.length-1;te++){const U=`${le[te]}-${le[te+1]}`,Z=`${le[te+1]}-${le[te]}`;te%2===0?W.add(U):(W.delete(U),W.delete(Z))}return W};_.useEffect(()=>{if(!S){w(new Set);return}const F=new Set,le=new Set;for(const te of i){const[U,Z]=te.split("-");le.add(Z)}for(const te of le)F.add(te);const W=new Set;for(const te of i){const[U]=te.split("-");W.add(U)}for(const te of r.nodes.filter(U=>U.id.startsWith("L")))W.has(te.id)||r.edges.some(Z=>Z.source===te.id||Z.target===te.id)&&F.add(te.id);w(F)},[S,i,r]);const D=()=>{const F=r.nodes.filter(W=>W.id.startsWith("L")),le=F.length;for(let W=1;W<1<<le;W++){const te=F.filter((Z,ge)=>W&1<<ge),U=new Set;for(const Z of te)for(const ge of r.edges)ge.source===Z.id&&U.add(ge.target),ge.target===Z.id&&U.add(ge.source);if(U.size<te.length)return{satisfied:!1,violatingSet:te.map(Z=>Z.id)}}return{satisfied:!0}};_.useEffect(()=>{const F=e.current;if(!F)return;const le=F.getContext("2d");if(le){xi(le,T,A),vi(le,T,A),le.fillStyle=Ve.textDark,le.font="14px Inter, system-ui, sans-serif",le.textAlign="center",le.fillText("Workers",150,50),le.fillText("Jobs",450,50);for(const W of r.edges){const te=`${W.source}-${W.target}`,U=`${W.target}-${W.source}`,Z=i.has(te)||i.has(U),ge=l.length>0&&l.some((ee,ae)=>ae<l.length-1&&(l[ae]===W.source&&l[ae+1]===W.target||l[ae]===W.target&&l[ae+1]===W.source));ga(le,W,r.nodes,{highlighted:Z,color:Z?Ve.matching:ge?Ve.path:Ve.edge,width:Z?4:ge?3:2})}for(const W of r.nodes){const te=$.has(W.id),U=l.includes(W.id);yi(le,W,{highlighted:W.id===p||U,fillColor:te?Ve.nodeSelected:W.color,strokeWidth:te?3:2})}}},[r,i,l,p,$]);const E=_.useCallback(F=>{var U;const le=e.current;if(!le)return;const{x:W,y:te}=Rr(F,le);g(((U=Br(W,te,r.nodes))==null?void 0:U.id)??null)},[r]),z=_.useCallback(F=>{const le=e.current;if(!le)return;const{x:W,y:te}=Rr(F,le);for(const U of r.edges){const Z=r.nodes.find(pe=>pe.id===U.source),ge=r.nodes.find(pe=>pe.id===U.target);if(!Z||!ge)continue;const ee=(Z.x+ge.x)/2,ae=(Z.y+ge.y)/2;if(Math.sqrt((W-ee)**2+(te-ae)**2)<30){const pe=`${U.source}-${U.target}`,he=`${U.target}-${U.source}`,ve=new Set(i);ve.has(pe)||ve.has(he)?(ve.delete(pe),ve.delete(he)):[...ve].some(Se=>Se.includes(U.source)||Se.includes(U.target))||ve.add(pe),a(ve);return}}},[r,i]),O=F=>{s(F.graph),a(new Set),c([]),w(new Set)},L=()=>{a(new Set),c([])},H=i.size,q=r.nodes.filter(F=>F.id.startsWith("L")),ye=r.nodes.filter(F=>F.id.startsWith("R")),de=H===Math.min(q.length,ye.length),oe=D();return n.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${t}`,children:[n.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Matching Explorer"}),n.jsx("p",{className:"text-dark-300 mb-6",children:"Explore bipartite matchings. Click on edges to add/remove them from the matching, or use the algorithm to find a maximum matching."}),n.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("canvas",{ref:e,width:T,height:A,className:"rounded-xl border border-dark-600",style:{cursor:p?"pointer":"default"},onMouseMove:E,onClick:z,onMouseLeave:()=>g(null)}),n.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:Jj.map((F,le)=>n.jsx("button",{onClick:()=>O(F),className:"px-3 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:F.name},le))})]}),n.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-purple-400",children:H}),n.jsx("div",{className:"text-sm text-dark-300",children:"Matching Size"})]}),n.jsxs("div",{className:`p-3 rounded-lg ${de?"bg-green-900/30":"bg-dark-700/50"}`,children:[n.jsx("div",{className:`text-lg font-bold ${de?"text-green-400":"text-dark-300"}`,children:de?"Perfect":"Not Perfect"}),n.jsx("div",{className:"text-sm text-dark-300",children:"Matching Status"})]})]}),n.jsxs("div",{className:`p-4 rounded-lg ${oe.satisfied?"bg-green-900/30":"bg-red-900/30"}`,children:[n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsxs("span",{className:`font-medium ${oe.satisfied?"text-green-400":"text-red-400"}`,children:["Hall's Condition: ",oe.satisfied?"Satisfied":"Violated"]})}),n.jsx("div",{className:"text-sm text-dark-300",children:oe.satisfied?"For every subset S of the left partition, |N(S)|  |S|":`Violated by subset: {${(re=oe.violatingSet)==null?void 0:re.map(F=>{var le;return(le=r.nodes.find(W=>W.id===F))==null?void 0:le.label}).join(", ")}}`})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{onClick:I,disabled:h,className:"px-4 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 disabled:opacity-50",children:h?"Finding...":"Find Maximum Matching"}),n.jsx("button",{onClick:L,className:"px-4 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:"Clear Matching"}),n.jsxs("button",{onClick:()=>N(!S),className:`px-4 py-2 rounded-lg text-sm ${S?"bg-amber-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:[S?"Hide":"Show"," Vertex Cover"]})]}),S&&n.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[n.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Knig-Egervry Theorem"}),n.jsx("div",{className:"text-sm text-dark-300",children:"In a bipartite graph: max matching = min vertex cover"}),n.jsxs("div",{className:"mt-2 text-dark-100",children:["Vertex Cover Size: ",$.size]})]}),n.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Click edge:"})," Toggle in matching"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Purple edges:"})," Current matching"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Yellow vertices:"})," Vertex cover"]})]})]})]})]})}function e8(){return{nodes:[{id:"s",x:80,y:200,label:"s",color:"#22c55e"},{id:"a",x:200,y:100,label:"a"},{id:"b",x:200,y:300,label:"b"},{id:"c",x:350,y:100,label:"c"},{id:"d",x:350,y:300,label:"d"},{id:"t",x:520,y:200,label:"t",color:"#ef4444"}],edges:[{source:"s",target:"a",capacity:10,flow:0,directed:!0},{source:"s",target:"b",capacity:8,flow:0,directed:!0},{source:"a",target:"c",capacity:5,flow:0,directed:!0},{source:"a",target:"d",capacity:7,flow:0,directed:!0},{source:"b",target:"a",capacity:3,flow:0,directed:!0},{source:"b",target:"d",capacity:8,flow:0,directed:!0},{source:"c",target:"t",capacity:10,flow:0,directed:!0},{source:"d",target:"c",capacity:4,flow:0,directed:!0},{source:"d",target:"t",capacity:12,flow:0,directed:!0}],source:"s",sink:"t"}}function PJ(){return{nodes:[{id:"s",x:100,y:200,label:"s",color:"#22c55e"},{id:"a",x:250,y:100,label:"a"},{id:"b",x:250,y:300,label:"b"},{id:"t",x:500,y:200,label:"t",color:"#ef4444"}],edges:[{source:"s",target:"a",capacity:5,flow:0,directed:!0},{source:"s",target:"b",capacity:4,flow:0,directed:!0},{source:"a",target:"b",capacity:3,flow:0,directed:!0},{source:"a",target:"t",capacity:6,flow:0,directed:!0},{source:"b",target:"t",capacity:5,flow:0,directed:!0}],source:"s",sink:"t"}}function LJ({className:t=""}){const e=_.useRef(null),[r,s]=_.useState(e8()),[i,a]=_.useState([]),[l,c]=_.useState(-1),[h,u]=_.useState(!1),[m,f]=_.useState("medium"),[p,g]=_.useState([]),[S,N]=_.useState(!1),[$,w]=_.useState(new Set),[T,A]=_.useState(!1),[I,B]=_.useState(null),Q=600,D=400,E={slow:1500,medium:800,fast:300},z=re=>{const F=[{node:re.source,path:[re.source]}],le=new Set([re.source]);for(;F.length>0;){const{node:W,path:te}=F.shift();for(const U of re.edges){if(U.source===W&&!le.has(U.target)&&U.capacity-U.flow>0){const ge=[...te,U.target];if(U.target===re.sink){let ee=1/0;for(let ae=0;ae<ge.length-1;ae++){const Ae=re.edges.find(pe=>pe.source===ge[ae]&&pe.target===ge[ae+1]);Ae&&(ee=Math.min(ee,Ae.capacity-Ae.flow))}return{path:ge,bottleneck:ee}}le.add(U.target),F.push({node:U.target,path:ge})}if(U.target===W&&!le.has(U.source)&&U.flow>0){const Z=[...te,U.source];if(U.source===re.sink){let ge=U.flow;return{path:Z,bottleneck:ge}}le.add(U.source),F.push({node:U.source,path:Z})}}}return null},O=()=>{u(!0);const re=[],F=JSON.parse(JSON.stringify(r));for(const Z of F.edges)Z.flow=0;let le=z(F);for(;le;){const{path:Z,bottleneck:ge}=le;re.push({path:Z,flow:ge,action:"find_path"});for(let ee=0;ee<Z.length-1;ee++){const ae=F.edges.find(Ae=>Ae.source===Z[ee]&&Ae.target===Z[ee+1]);ae&&(ae.flow+=ge)}re.push({path:Z,flow:ge,action:"augment"}),le=z(F)}const W=F.edges.filter(Z=>Z.source===F.source).reduce((Z,ge)=>Z+ge.flow,0);re.push({path:[],flow:W,action:"complete"}),a(re),c(-1);const te=new Set([F.source]),U=[F.source];for(;U.length>0;){const Z=U.shift();for(const ge of F.edges)ge.source===Z&&!te.has(ge.target)&&ge.capacity-ge.flow>0&&(te.add(ge.target),U.push(ge.target))}w(te)};_.useEffect(()=>{if(!h||l>=i.length-1){if(l>=i.length-1&&i.length>0){u(!1);const F=JSON.parse(JSON.stringify(r));for(const le of F.edges)le.flow=0;for(let le=0;le<i.length;le++){const W=i[le];if(W.action==="augment")for(let te=0;te<W.path.length-1;te++){const U=F.edges.find(Z=>Z.source===W.path[te]&&Z.target===W.path[te+1]);U&&(U.flow+=W.flow)}}s(F)}return}const re=setTimeout(()=>{c(F=>F+1)},E[m]);return()=>clearTimeout(re)},[h,l,i.length,m]),_.useEffect(()=>{if(l<0){g([]);return}const re=i[l];if(re&&(g(re.path),re.action==="augment")){const F=JSON.parse(JSON.stringify(r));for(let le=0;le<=l;le++){const W=i[le];if(W.action==="augment")for(let te=0;te<W.path.length-1;te++){const U=F.edges.find(Z=>Z.source===W.path[te]&&Z.target===W.path[te+1]);U&&(U.flow+=W.flow)}}s(F)}},[l,i]),_.useEffect(()=>{const re=e.current;if(!re)return;const F=re.getContext("2d");if(!F)return;xi(F,Q,D),vi(F,Q,D);const le=new Set;for(let W=0;W<p.length-1;W++)le.add(`${p[W]}-${p[W+1]}`);for(const W of r.edges){const te=le.has(`${W.source}-${W.target}`),U=W.flow>=W.capacity,Z=r.nodes.find(ee=>ee.id===W.source),ge=r.nodes.find(ee=>ee.id===W.target);if(Z&&ge){const ee=(Z.x+ge.x)/2,ae=(Z.y+ge.y)/2;F.strokeStyle=te?Ve.flow:U?"#ef4444":W.flow>0?Ve.path:Ve.edge,F.lineWidth=te?4:W.flow>0?3:2;const Ae=ge.x-Z.x,pe=ge.y-Z.y,he=Math.sqrt(Ae*Ae+pe*pe),ve=Ae/he,_e=pe/he,Se=Z.x+ve*16,qe=Z.y+_e*16,Ue=ge.x-ve*26,yt=ge.y-_e*26;F.beginPath(),F.moveTo(Se,qe),F.lineTo(Ue,yt),F.stroke();const Vt=ge.x-ve*16,Hr=ge.y-_e*16,nr=Math.atan2(pe,Ae);F.fillStyle=F.strokeStyle,F.save(),F.translate(Vt,Hr),F.rotate(nr),F.beginPath(),F.moveTo(0,0),F.lineTo(-10,5),F.lineTo(-10,-5),F.closePath(),F.fill(),F.restore();const Kt=15,ws=-_e*Kt,xa=ve*Kt;F.fillStyle=Ve.background;const Po=`${W.flow}/${W.capacity}`,va=F.measureText(Po);F.fillRect(ee+ws-va.width/2-4,ae+xa-10,va.width+8,20),F.fillStyle=U?"#ef4444":Ve.text,F.font="12px Inter, system-ui, sans-serif",F.textAlign="center",F.textBaseline="middle",F.fillText(Po,ee+ws,ae+xa)}}if(T&&$.size>0){F.strokeStyle="#ef4444",F.lineWidth=3,F.setLineDash([8,4]);for(const W of r.edges)if($.has(W.source)&&!$.has(W.target)){const te=r.nodes.find(Z=>Z.id===W.source),U=r.nodes.find(Z=>Z.id===W.target);te&&U&&(F.beginPath(),F.moveTo(te.x,te.y),F.lineTo(U.x,U.y),F.stroke())}F.setLineDash([])}for(const W of r.nodes){const te=p.includes(W.id),U=T&&$.has(W.id);yi(F,W,{fillColor:W.color??(U?"#22c55e40":Ve.node),highlighted:te||W.id===I,strokeColor:U?"#22c55e":void 0,strokeWidth:U?3:2})}},[r,p,T,$,I]);const L=_.useCallback(re=>{var te;const F=e.current;if(!F)return;const{x:le,y:W}=Rr(re,F);B(((te=Br(le,W,r.nodes))==null?void 0:te.id)??null)},[r]),H=()=>{s(e8()),a([]),c(-1),g([]),w(new Set),u(!1)},q=()=>{s(PJ()),a([]),c(-1),g([]),w(new Set),u(!1)},ye=()=>{const re={...r};re.edges=re.edges.map(F=>({...F,flow:0})),s(re),a([]),c(-1),g([]),w(new Set)},de=r.edges.filter(re=>re.source===r.source).reduce((re,F)=>re+F.flow,0),oe=l>=0?i[l]:null;return n.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${t}`,children:[n.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Network Flow"}),n.jsx("p",{className:"text-dark-300 mb-6",children:"Visualize the Ford-Fulkerson algorithm finding maximum flow. Watch as augmenting paths are discovered and flow is pushed through the network."}),n.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("canvas",{ref:e,width:Q,height:D,className:"rounded-xl border border-dark-600",style:{cursor:I?"pointer":"default"},onMouseMove:L,onMouseLeave:()=>B(null)}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[n.jsx("button",{onClick:H,className:"px-3 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:"Complex Network"}),n.jsx("button",{onClick:q,className:"px-3 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:"Simple Network"})]})]}),n.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Animation Speed"}),n.jsx("div",{className:"flex gap-2",children:["slow","medium","fast"].map(re=>n.jsx("button",{onClick:()=>f(re),className:`px-3 py-1.5 rounded-lg text-sm capitalize ${m===re?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:re},re))})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{onClick:O,disabled:h,className:"px-4 py-2 bg-cyan-600 text-white rounded-lg text-sm font-medium hover:bg-cyan-700 disabled:opacity-50",children:h?"Running...":"Run Ford-Fulkerson"}),n.jsx("button",{onClick:ye,className:"px-4 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:"Clear Flows"}),n.jsxs("button",{onClick:()=>A(!T),disabled:$.size===0,className:`px-4 py-2 rounded-lg text-sm ${T?"bg-red-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600 disabled:opacity-50"}`,children:[T?"Hide":"Show"," Min-Cut"]})]}),oe&&n.jsxs("div",{className:`p-4 rounded-lg ${oe.action==="complete"?"bg-green-900/30":oe.action==="augment"?"bg-cyan-900/30":"bg-yellow-900/30"}`,children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"font-medium text-dark-100",children:oe.action==="complete"?"Complete!":oe.action==="augment"?"Augmenting...":"Found Path"}),n.jsxs("span",{className:"text-sm text-dark-300",children:["Step ",l+1,"/",i.length]})]}),oe.path.length>0&&n.jsxs("div",{className:"text-sm text-dark-300",children:["Path: ",oe.path.join("  ")]}),oe.action!=="complete"&&n.jsxs("div",{className:"text-sm text-cyan-400 mt-1",children:["Bottleneck: ",oe.flow]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:de}),n.jsx("div",{className:"text-sm text-dark-300",children:"Total Flow"})]}),n.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-dark-100",children:$.size>0?de:""}),n.jsx("div",{className:"text-sm text-dark-300",children:"Min-Cut Value"})]})]}),n.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[n.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Max-Flow Min-Cut Theorem"}),n.jsx("div",{className:"text-sm text-dark-300",children:"The maximum flow equals the minimum cut capacity. The green vertices show the source side of the minimum cut."})]}),n.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-green-400",children:""})," Source vertex"]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-red-400",children:""})," Sink vertex"]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-cyan-400",children:""})," Current augmenting path"]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-red-400",children:""})," Saturated edge (flow = capacity)"]})]})]})]})]})}const Lg=["#ef4444","#22c55e","#3b82f6","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#84cc16"],qJ=[{value:"petersen",label:"Petersen",expectedChromatic:3},{value:"K5",label:"K",expectedChromatic:5},{value:"cycle",label:"C (even)",expectedChromatic:2},{value:"cube",label:"Cube (Q)",expectedChromatic:2},{value:"K33",label:"K,",expectedChromatic:2},{value:"complete",label:"K",expectedChromatic:4}];function BJ({className:t=""}){const e=_.useRef(null),[r,s]=_.useState(_r("petersen")),[i,a]=_.useState(new Map),[l,c]=_.useState(new Set),[h,u]=_.useState([]),[m,f]=_.useState(-1),[p,g]=_.useState(!1),[S,N]=_.useState("medium"),[$,w]=_.useState(null),[T,A]=_.useState(null),[I,B]=_.useState("color"),[Q,D]=_.useState(null),[E,z]=_.useState(0),O=600,L=400,H={slow:1e3,medium:500,fast:200};_.useEffect(()=>{const ee=new Set,ae=Xn(r);for(const Ae of r.nodes){const pe=i.get(Ae.id);if(pe===void 0)continue;const he=ae.get(Ae.id)??[];for(const ve of he)i.get(ve)===pe&&(ee.add(Ae.id),ee.add(ve))}c(ee)},[r,i]);const q=()=>{const ee=[],ae=Xn(r),Ae=[...r.nodes].sort((he,ve)=>{var _e,Se;return(((_e=ae.get(ve.id))==null?void 0:_e.length)??0)-(((Se=ae.get(he.id))==null?void 0:Se.length)??0)}),pe=new Map;for(const he of Ae){const ve=new Set,_e=ae.get(he.id)??[];for(const qe of _e){const Ue=pe.get(qe);Ue!==void 0&&ve.add(Ue)}let Se=0;for(;ve.has(Se);)Se++;pe.set(he.id,Se),ee.push({node:he.id,color:Se,action:"color"})}return ee};_.useEffect(()=>{if(!p||m>=h.length-1){m>=h.length-1&&g(!1);return}const ee=setTimeout(()=>{f(ae=>ae+1)},H[S]);return()=>clearTimeout(ee)},[p,m,h.length,S]),_.useEffect(()=>{if(m<0)return;const ee=new Map;for(let ae=0;ae<=m;ae++){const Ae=h[ae];Ae.action==="color"&&ee.set(Ae.node,Ae.color)}a(ee)},[m,h]),_.useEffect(()=>{var Ae;const ee=e.current;if(!ee)return;const ae=ee.getContext("2d");if(ae){xi(ae,O,L),vi(ae,O,L);for(const pe of r.edges){const he=i.get(pe.source),ve=i.get(pe.target),_e=he!==void 0&&ve!==void 0&&he===ve;ga(ae,pe,r.nodes,{color:_e?"#ef4444":Ve.edge,width:_e?3:2})}if(I==="addEdge"&&Q&&$&&$!==Q){const pe=r.nodes.find(ve=>ve.id===Q),he=r.nodes.find(ve=>ve.id===$);pe&&he&&(ae.strokeStyle=Ve.nodeSelected,ae.lineWidth=2,ae.setLineDash([6,4]),ae.beginPath(),ae.moveTo(pe.x,pe.y),ae.lineTo(he.x,he.y),ae.stroke(),ae.setLineDash([]))}for(const pe of r.nodes){const he=i.get(pe.id),ve=l.has(pe.id),_e=((Ae=h[m])==null?void 0:Ae.node)===pe.id;yi(ae,pe,{fillColor:he!==void 0?Lg[he%Lg.length]:"#475569",highlighted:pe.id===$||pe.id===Q||_e,strokeColor:ve?"#ef4444":_e?"#fbbf24":void 0,strokeWidth:ve||_e?4:2})}}},[r,i,l,$,Q,I,h,m]);const ye=_.useCallback(ee=>{const ae=e.current;if(!ae)return;const{x:Ae,y:pe}=Rr(ee,ae),he=Br(Ae,pe,r.nodes);if(I==="addNode"&&!he){s(y0(r,Ae,pe));return}if(I==="addEdge"&&he){Q?he.id!==Q&&(s(b0(r,Q,he.id)),D(null)):D(he.id);return}if(I==="delete"&&he){s(hu(r,he.id));const ve=new Map(i);ve.delete(he.id),a(ve);return}if(I==="color"&&he){if(ee.shiftKey){const ve=new Map(i);ve.delete(he.id),a(ve)}else{const ve=new Map(i);ve.set(he.id,E),a(ve)}return}he&&A(he.id)},[r,i,I,Q,E]),de=_.useCallback(ee=>{var he;const ae=e.current;if(!ae)return;const{x:Ae,y:pe}=Rr(ee,ae);w(((he=Br(Ae,pe,r.nodes))==null?void 0:he.id)??null),T&&s(Bl(r,T,Ae,pe))},[r,T]),oe=_.useCallback(()=>{A(null)},[]),re=()=>{a(new Map),u(q()),f(-1),g(!0)},F=ee=>{s(_r(ee)),a(new Map),u([]),f(-1)},le=()=>{a(new Map),u([]),f(-1),g(!1)},te=new Set(i.values()).size,U=Math.max(...r.nodes.map(ee=>po(r,ee.id)),0),Z=l.size===0&&i.size===r.nodes.length,ge=te<=Math.max(U,1);return n.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${t}`,children:[n.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Graph Coloring"}),n.jsx("p",{className:"text-dark-300 mb-6",children:"Color vertices so no adjacent vertices share the same color. Click a vertex to assign the selected color, or run the greedy algorithm."}),n.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("canvas",{ref:e,width:O,height:L,className:"rounded-xl border border-dark-600",style:{cursor:I==="addNode"?"crosshair":$?"pointer":"default"},onMouseDown:ye,onMouseMove:de,onMouseUp:oe,onMouseLeave:()=>{A(null),w(null)}}),n.jsxs("div",{className:"mt-4",children:[n.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Color Palette"}),n.jsx("div",{className:"flex gap-2",children:Lg.slice(0,6).map((ee,ae)=>n.jsx("button",{onClick:()=>{z(ae),B("color")},className:`w-10 h-10 rounded-lg border-2 transition-all ${E===ae&&I==="color"?"border-white scale-110":"border-dark-600 hover:border-dark-400"}`,style:{backgroundColor:ee}},ae))})]}),n.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:[{mode:"color",label:"Color"},{mode:"addNode",label:"+ Vertex"},{mode:"addEdge",label:"+ Edge"},{mode:"delete",label:"Delete"}].map(({mode:ee,label:ae})=>n.jsx("button",{onClick:()=>{B(ee),D(null)},className:`px-3 py-2 rounded-lg text-sm font-medium ${I===ee?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:ae},ee))})]}),n.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Load Graph"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:qJ.map(({value:ee,label:ae})=>n.jsx("button",{onClick:()=>F(ee),className:"px-3 py-1.5 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:ae},ee))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Animation Speed"}),n.jsx("div",{className:"flex gap-2",children:["slow","medium","fast"].map(ee=>n.jsx("button",{onClick:()=>N(ee),className:`px-3 py-1.5 rounded-lg text-sm capitalize ${S===ee?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:ee},ee))})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx("button",{onClick:re,disabled:p,className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50",children:p?"Running...":"Run Greedy Algorithm"}),n.jsx("button",{onClick:le,className:"px-4 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:"Clear Colors"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:`p-3 rounded-lg ${Z?"bg-green-900/30":l.size>0?"bg-red-900/30":"bg-dark-700/50"}`,children:[n.jsx("div",{className:`text-2xl font-bold ${Z?"text-green-400":l.size>0?"text-red-400":"text-dark-100"}`,children:te}),n.jsx("div",{className:"text-sm text-dark-300",children:"Colors Used"})]}),n.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[n.jsx("div",{className:"text-2xl font-bold text-dark-100",children:U}),n.jsx("div",{className:"text-sm text-dark-300",children:"Max Degree ()"})]})]}),n.jsx("div",{className:`p-4 rounded-lg ${Z?"bg-green-900/30":l.size>0?"bg-red-900/30":"bg-dark-700/50"}`,children:n.jsx("div",{className:`font-medium ${Z?"text-green-400":l.size>0?"text-red-400":"text-dark-200"}`,children:Z?"Valid Coloring!":l.size>0?`${l.size} vertices in conflict`:`${r.nodes.length-i.size} vertices uncolored`})}),n.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[n.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Brooks' Theorem"}),n.jsx("div",{className:"text-sm text-dark-300",children:"For connected graphs (not complete or odd cycles): (G)  (G)"}),n.jsxs("div",{className:"mt-2 text-sm",children:[n.jsx("span",{className:"text-dark-300",children:"Current:"})," ",n.jsxs("span",{className:ge?"text-green-400":"text-amber-400",children:[te," colors   = ",U]})]})]}),n.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Click vertex:"})," Assign selected color"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Shift-click:"})," Remove color"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Red edges:"})," Adjacent same-color vertices"]})]})]})]})]})}const t8=[{name:"Tetrahedron (K)",graph:FJ()},{name:"Cube (Q)",graph:_r("cube")},{name:"Octahedron",graph:UJ()},{name:"Dodecahedron",graph:_r("dodecahedron")},{name:"K",graph:_r("complete")},{name:"Petersen",graph:_r("petersen")}],HJ=[{name:"K",graph:_r("K5")},{name:"K,",graph:_r("K33")}];function FJ(){return{nodes:[{id:"0",x:300,y:80,label:"1"},{id:"1",x:150,y:300,label:"2"},{id:"2",x:450,y:300,label:"3"},{id:"3",x:300,y:220,label:"4"}],edges:[{source:"0",target:"1"},{source:"0",target:"2"},{source:"0",target:"3"},{source:"1",target:"2"},{source:"1",target:"3"},{source:"2",target:"3"}]}}function UJ(){return{nodes:[{id:"0",x:300,y:60,label:"1"},{id:"1",x:150,y:200,label:"2"},{id:"2",x:300,y:200,label:"3"},{id:"3",x:450,y:200,label:"4"},{id:"4",x:225,y:340,label:"5"},{id:"5",x:375,y:340,label:"6"}],edges:[{source:"0",target:"1"},{source:"0",target:"2"},{source:"0",target:"3"},{source:"1",target:"2"},{source:"2",target:"3"},{source:"1",target:"4"},{source:"2",target:"4"},{source:"2",target:"5"},{source:"3",target:"5"},{source:"4",target:"5"},{source:"1",target:"5"},{source:"3",target:"4"}]}}function VJ({className:t=""}){const e=_.useRef(null),[r,s]=_.useState(t8[0].graph),[i,a]=_.useState(null),[l,c]=_.useState(null),[h,u]=_.useState("view"),[m,f]=_.useState(null),[p,g]=_.useState(!1),[S,N]=_.useState(0),$=600,w=400;_.useEffect(()=>{let ye=0;for(let de=0;de<r.edges.length;de++)for(let oe=de+1;oe<r.edges.length;oe++){const re=r.edges[de],F=r.edges[oe];if(re.source===F.source||re.source===F.target||re.target===F.source||re.target===F.target)continue;const le=r.nodes.find(Z=>Z.id===re.source),W=r.nodes.find(Z=>Z.id===re.target),te=r.nodes.find(Z=>Z.id===F.source),U=r.nodes.find(Z=>Z.id===F.target);le&&W&&te&&U&&T(le,W,te,U)&&ye++}N(ye)},[r]);function T(ye,de,oe,re){const F=A(oe,re,ye),le=A(oe,re,de),W=A(ye,de,oe),te=A(ye,de,re);return(F>0&&le<0||F<0&&le>0)&&(W>0&&te<0||W<0&&te>0)}function A(ye,de,oe){return(oe.x-ye.x)*(de.y-ye.y)-(de.x-ye.x)*(oe.y-ye.y)}const I=r.nodes.length,B=r.edges.length,Q=ai(r)&&S===0?2-I+B:null;_.useEffect(()=>{const ye=e.current;if(!ye)return;const de=ye.getContext("2d");if(!de)return;xi(de,$,w),vi(de,$,w);const oe=new Set;for(let re=0;re<r.edges.length;re++)for(let F=re+1;F<r.edges.length;F++){const le=r.edges[re],W=r.edges[F];if(le.source===W.source||le.source===W.target||le.target===W.source||le.target===W.target)continue;const te=r.nodes.find(ee=>ee.id===le.source),U=r.nodes.find(ee=>ee.id===le.target),Z=r.nodes.find(ee=>ee.id===W.source),ge=r.nodes.find(ee=>ee.id===W.target);te&&U&&Z&&ge&&T(te,U,Z,ge)&&(oe.add(re),oe.add(F))}if(r.edges.forEach((re,F)=>{const le=oe.has(F);ga(de,re,r.nodes,{color:le?"#ef4444":Ve.edge,width:le?3:2})}),S>0)for(let re=0;re<r.edges.length;re++)for(let F=re+1;F<r.edges.length;F++){const le=r.edges[re],W=r.edges[F];if(le.source===W.source||le.source===W.target||le.target===W.source||le.target===W.target)continue;const te=r.nodes.find(ee=>ee.id===le.source),U=r.nodes.find(ee=>ee.id===le.target),Z=r.nodes.find(ee=>ee.id===W.source),ge=r.nodes.find(ee=>ee.id===W.target);if(te&&U&&Z&&ge&&T(te,U,Z,ge)){const ee=D(te,U,Z,ge);ee&&(de.beginPath(),de.arc(ee.x,ee.y,6,0,Math.PI*2),de.fillStyle="#ef4444",de.fill())}}if(h==="addEdge"&&m&&i&&i!==m){const re=r.nodes.find(le=>le.id===m),F=r.nodes.find(le=>le.id===i);re&&F&&(de.strokeStyle=Ve.nodeSelected,de.lineWidth=2,de.setLineDash([6,4]),de.beginPath(),de.moveTo(re.x,re.y),de.lineTo(F.x,F.y),de.stroke(),de.setLineDash([]))}for(const re of r.nodes)yi(de,re,{highlighted:re.id===i||re.id===m})},[r,i,m,h,S]);function D(ye,de,oe,re){const F=ye.x,le=ye.y,W=de.x,te=de.y,U=oe.x,Z=oe.y,ge=re.x,ee=re.y,ae=(F-W)*(Z-ee)-(le-te)*(U-ge);if(Math.abs(ae)<1e-4)return null;const Ae=((F-U)*(Z-ee)-(le-Z)*(U-ge))/ae;return{x:F+Ae*(W-F),y:le+Ae*(te-le)}}const E=_.useCallback(ye=>{const de=e.current;if(!de)return;const{x:oe,y:re}=Rr(ye,de),F=Br(oe,re,r.nodes);if(h==="addNode"&&!F){s(y0(r,oe,re));return}if(h==="addEdge"&&F){m?F.id!==m&&(s(b0(r,m,F.id)),f(null)):f(F.id);return}if(h==="delete"&&F){s(hu(r,F.id));return}F&&c(F.id)},[r,h,m]),z=_.useCallback(ye=>{var F;const de=e.current;if(!de)return;const{x:oe,y:re}=Rr(ye,de);a(((F=Br(oe,re,r.nodes))==null?void 0:F.id)??null),l&&s(Bl(r,l,oe,re))},[r,l]),O=_.useCallback(()=>{c(null)},[]),L=ye=>{s(ye.graph),f(null)},H=S===0,q=I<=2||B<=3*I-6;return n.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${t}`,children:[n.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Planarity Tester"}),n.jsx("p",{className:"text-dark-300 mb-6",children:"Test graph planarity by dragging vertices to eliminate edge crossings. A planar embedding has no crossing edges."}),n.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("canvas",{ref:e,width:$,height:w,className:"rounded-xl border border-dark-600",style:{cursor:h==="addNode"?"crosshair":i?"grab":"default"},onMouseDown:E,onMouseMove:z,onMouseUp:O,onMouseLeave:()=>{c(null),a(null)}}),n.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:[{mode:"view",label:"View/Drag"},{mode:"addNode",label:"+ Vertex"},{mode:"addEdge",label:"+ Edge"},{mode:"delete",label:"Delete"}].map(({mode:ye,label:de})=>n.jsx("button",{onClick:()=>{u(ye),f(null)},className:`px-3 py-2 rounded-lg text-sm font-medium ${h===ye?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:de},ye))})]}),n.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Planar Graphs"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:t8.map((ye,de)=>n.jsx("button",{onClick:()=>L(ye),className:"px-3 py-1.5 bg-green-900/30 text-green-300 rounded-lg text-sm hover:bg-green-900/50",children:ye.name},de))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Non-Planar Graphs"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:HJ.map((ye,de)=>n.jsx("button",{onClick:()=>L(ye),className:"px-3 py-1.5 bg-red-900/30 text-red-300 rounded-lg text-sm hover:bg-red-900/50",children:ye.name},de))})]}),n.jsxs("div",{className:`p-4 rounded-lg ${H?"bg-green-900/30":"bg-red-900/30"}`,children:[n.jsx("div",{className:`text-xl font-bold ${H?"text-green-400":"text-red-400"}`,children:H?"Planar Embedding!":`${S} Edge Crossing${S!==1?"s":""}`}),n.jsx("div",{className:"text-sm text-dark-300 mt-1",children:H?"No edges cross in this drawing":"Drag vertices to try to eliminate crossings"})]}),n.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[n.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Euler's Formula: V - E + F = 2"}),n.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xl font-bold text-blue-400",children:I}),n.jsx("div",{className:"text-xs text-dark-400",children:"Vertices"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xl font-bold text-green-400",children:B}),n.jsx("div",{className:"text-xs text-dark-400",children:"Edges"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xl font-bold text-amber-400",children:Q??"?"}),n.jsx("div",{className:"text-xs text-dark-400",children:"Faces"})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xl font-bold text-dark-100",children:"= 2"}),n.jsx("div",{className:"text-xs text-dark-400",children:""})]})]}),Q!==null&&n.jsxs("div",{className:"mt-2 text-sm text-dark-300",children:[I," - ",B," + ",Q," = ",I-B+Q]})]}),n.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[n.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Planarity Bounds"}),n.jsx("div",{className:"text-sm text-dark-300 space-y-1",children:n.jsxs("div",{className:"flex justify-between",children:[n.jsx("span",{children:"E  3V - 6:"}),n.jsxs("span",{className:q?"text-green-400":"text-red-400",children:[B,"  ",3*I-6," (",q?"Possible":"Too many edges",")"]})]})})]}),n.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[n.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Kuratowski's Theorem"}),n.jsx("div",{className:"text-sm text-dark-300",children:"A graph is planar if and only if it contains no subdivision of K or K,."})]}),n.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Drag vertices:"})," Rearrange to eliminate crossings"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Red dots:"})," Edge crossing points"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Goal:"})," Find a planar embedding (0 crossings)"]})]})]})]})]})}function KJ(){return{nodes:[{id:"0",x:300,y:60,label:"1"},{id:"1",x:150,y:150,label:"2"},{id:"2",x:450,y:150,label:"3"},{id:"3",x:100,y:280,label:"4"},{id:"4",x:250,y:220,label:"5"},{id:"5",x:350,y:220,label:"6"},{id:"6",x:500,y:280,label:"7"},{id:"7",x:180,y:350,label:"8"},{id:"8",x:300,y:320,label:"9"},{id:"9",x:420,y:350,label:"10"},{id:"10",x:300,y:380,label:"11"}],edges:[{source:"0",target:"1"},{source:"0",target:"2"},{source:"1",target:"3"},{source:"1",target:"4"},{source:"2",target:"5"},{source:"2",target:"6"},{source:"3",target:"7"},{source:"3",target:"4"},{source:"4",target:"5"},{source:"4",target:"8"},{source:"5",target:"6"},{source:"5",target:"8"},{source:"6",target:"9"},{source:"7",target:"8"},{source:"7",target:"10"},{source:"8",target:"9"},{source:"8",target:"10"},{source:"9",target:"10"}]}}const r8=[{name:"Cube (Q)",graph:_r("cube"),hasHamilton:!0},{name:"Petersen",graph:_r("petersen"),hasHamilton:!1},{name:"Dodecahedron",graph:_r("dodecahedron"),hasHamilton:!0},{name:"K",graph:_r("K5"),hasHamilton:!0},{name:"Herschel",graph:KJ(),hasHamilton:!1},{name:"Cycle (C)",graph:_r("cycle"),hasHamilton:!0}];function WJ({className:t=""}){var le;const e=_.useRef(null),[r,s]=_.useState(r8[0].graph),[i,a]=_.useState([]),[l,c]=_.useState(!1),[h,u]=_.useState(null),[m,f]=_.useState(null),[p,g]=_.useState(null),[S,N]=_.useState("medium"),[$,w]=_.useState("manual"),[T,A]=_.useState(!0),I=600,B=400,Q={slow:300,medium:100,fast:20},D=Math.min(...r.nodes.map(W=>po(r,W.id))),E=D>=r.nodes.length/2,O=(()=>{const W=r.nodes.length;for(let te=0;te<r.nodes.length;te++)for(let U=te+1;U<r.nodes.length;U++){const Z=r.nodes[te].id,ge=r.nodes[U].id;if(!zi(r,Z,ge)&&po(r,Z)+po(r,ge)<W)return!1}return!0})();i.length===r.nodes.length&&i.length>2&&zi(r,i[i.length-1],i[0]);const H=async()=>{c(!0),u(null),a([]);const W=Xn(r),te=new Set;let U=!1,Z=[];const ge=async(ee,ae)=>{if(!l)return!1;if(ae.push(ee),te.add(ee),a([...ae]),await new Promise(pe=>setTimeout(pe,Q[S])),ae.length===r.nodes.length&&(!T||zi(r,ee,ae[0])))return Z=[...ae],!0;const Ae=W.get(ee)??[];for(const pe of Ae)if(!te.has(pe)&&await ge(pe,ae))return!0;return ae.pop(),te.delete(ee),a([...ae]),!1};for(const ee of r.nodes)if(te.clear(),await ge(ee.id,[])){U=!0;break}a(Z),u(U?"found":"none"),c(!1)},q=W=>{if(i.length===0){a([W]);return}const te=i[i.length-1];if(W===i[0]&&i.length>2&&zi(r,te,W)){u("found");return}if(!i.includes(W)&&zi(r,te,W)){const U=[...i,W];a(U),U.length===r.nodes.length&&(!T||zi(r,W,U[0]))&&u("found")}},ye=()=>{a([]),u(null),c(!1)};_.useEffect(()=>{const W=e.current;if(!W)return;const te=W.getContext("2d");if(!te)return;xi(te,I,B),vi(te,I,B);const U=new Set;for(let Z=0;Z<i.length-1;Z++)U.add(`${i[Z]}-${i[Z+1]}`),U.add(`${i[Z+1]}-${i[Z]}`);h==="found"&&i.length>2&&zi(r,i[i.length-1],i[0])&&(U.add(`${i[i.length-1]}-${i[0]}`),U.add(`${i[0]}-${i[i.length-1]}`));for(const Z of r.edges){const ge=U.has(`${Z.source}-${Z.target}`);ga(te,Z,r.nodes,{highlighted:ge,color:ge?Ve.path:Ve.edge,width:ge?4:2})}if(i.length>1){const Z=h==="found"&&T&&i.length>2&&zi(r,i[i.length-1],i[0])?[...i,i[0]]:i;cu(te,Z,r.nodes,Ve.path)}for(const Z of r.nodes){const ge=i.indexOf(Z.id),ee=ge===0,ae=ge===i.length-1&&i.length>0,Ae=ge>=0;yi(te,Z,{fillColor:ee?"#22c55e":ae?"#f59e0b":Ae?Ve.path:Ve.node,highlighted:Z.id===m,strokeWidth:Ae?3:2}),Ae&&(te.fillStyle="#ffffff",te.font="bold 10px Inter, system-ui, sans-serif",te.textAlign="center",te.textBaseline="middle",te.fillText(`${ge+1}`,Z.x,Z.y+26))}},[r,i,m,h,T]);const de=_.useCallback(W=>{const te=e.current;if(!te)return;const{x:U,y:Z}=Rr(W,te),ge=Br(U,Z,r.nodes);ge&&($==="manual"&&!l?q(ge.id):g(ge.id))},[r,$,l,i,T]),oe=_.useCallback(W=>{var ge;const te=e.current;if(!te)return;const{x:U,y:Z}=Rr(W,te);f(((ge=Br(U,Z,r.nodes))==null?void 0:ge.id)??null),p&&s(Bl(r,p,U,Z))},[r,p]),re=_.useCallback(()=>{g(null)},[]),F=W=>{s(W.graph),ye()};return n.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${t}`,children:[n.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Hamiltonian Finder"}),n.jsx("p",{className:"text-dark-300 mb-6",children:"Find Hamiltonian paths and cycles. Click vertices to build a path manually, or use the algorithm to search automatically."}),n.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("canvas",{ref:e,width:I,height:B,className:"rounded-xl border border-dark-600",style:{cursor:m?"pointer":"default"},onMouseDown:de,onMouseMove:oe,onMouseUp:re,onMouseLeave:()=>{g(null),f(null)}}),n.jsxs("div",{className:"mt-4 flex gap-2",children:[n.jsx("button",{onClick:()=>{w("manual"),ye()},className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium ${$==="manual"?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:"Manual Mode"}),n.jsx("button",{onClick:()=>{w("auto"),ye()},className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium ${$==="auto"?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:"Auto Search"})]})]}),n.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Load Graph"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:r8.map((W,te)=>n.jsx("button",{onClick:()=>F(W),className:`px-3 py-1.5 rounded-lg text-sm ${W.hasHamilton?"bg-green-900/30 text-green-300 hover:bg-green-900/50":"bg-red-900/30 text-red-300 hover:bg-red-900/50"}`,children:W.name},te))})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:T,onChange:W=>A(W.target.checked),className:"w-4 h-4 rounded"}),n.jsx("span",{className:"text-sm text-dark-200",children:"Find Cycle (not just path)"})]}),$==="auto"&&n.jsx("div",{className:"flex gap-2",children:["slow","medium","fast"].map(W=>n.jsx("button",{onClick:()=>N(W),className:`px-2 py-1 rounded text-xs capitalize ${S===W?"bg-blue-600 text-white":"bg-dark-700 text-dark-200"}`,children:W},W))})]}),n.jsxs("div",{className:"flex gap-2",children:[$==="auto"&&n.jsx("button",{onClick:H,disabled:l,className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50",children:l?"Searching...":`Find Hamiltonian ${T?"Cycle":"Path"}`}),n.jsx("button",{onClick:ye,className:"px-4 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:"Reset Path"})]}),n.jsxs("div",{className:`p-4 rounded-lg ${h==="found"?"bg-green-900/30":h==="none"?"bg-red-900/30":"bg-dark-700/50"}`,children:[n.jsx("div",{className:`font-medium ${h==="found"?"text-green-400":h==="none"?"text-red-400":"text-dark-200"}`,children:h==="found"?`Hamiltonian ${T?"Cycle":"Path"} Found!`:h==="none"?`No Hamiltonian ${T?"Cycle":"Path"} Exists`:`Path: ${i.length}/${r.nodes.length} vertices`}),i.length>0&&n.jsxs("div",{className:"text-sm text-dark-300 mt-1",children:[i.map(W=>{var te;return((te=r.nodes.find(U=>U.id===W))==null?void 0:te.label)??W}).join("  "),h==="found"&&T?`  ${((le=r.nodes.find(W=>W.id===i[0]))==null?void 0:le.label)??i[0]}`:""]})]}),n.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg space-y-3",children:[n.jsx("div",{className:"text-sm font-medium text-dark-200",children:"Sufficient Conditions"}),n.jsxs("div",{className:`text-sm ${E?"text-green-400":"text-dark-400"}`,children:[n.jsx("strong",{children:"Dirac's Theorem:"})," (G)  n/2",n.jsxs("div",{className:"text-dark-400",children:["Min degree: ",D,", n/2 = ",(r.nodes.length/2).toFixed(1),E&&"  Hamiltonian cycle exists"]})]}),n.jsxs("div",{className:`text-sm ${O?"text-green-400":"text-dark-400"}`,children:[n.jsx("strong",{children:"Ore's Theorem:"})," deg(u) + deg(v)  n for non-adjacent u,v",n.jsx("div",{className:"text-dark-400",children:O?" Condition satisfied - Hamiltonian cycle exists":" Condition not satisfied"})]})]}),n.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Green vertex:"})," Path start"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Amber vertex:"})," Current end"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Manual:"})," Click vertices to extend path"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Auto:"})," Backtracking search algorithm"]})]})]})]})]})}function XJ({className:t=""}){const e=_.useRef(null),[r,s]=_.useState(12),[i,a]=_.useState(.3),[l,c]=_.useState({nodes:[],edges:[]}),[h,u]=_.useState(!1),[m,f]=_.useState(0),[p,g]=_.useState(null),[S,N]=_.useState(null),[$,w]=_.useState([]),T=600,A=400,I=_.useCallback((U,Z)=>{const ge=[],ee=[];for(let ae=0;ae<U;ae++){const Ae=2*Math.PI*ae/U-Math.PI/2,pe=Math.min(T,A)*.35;ge.push({id:`${ae}`,x:T/2+pe*Math.cos(Ae),y:A/2+pe*Math.sin(Ae),label:`${ae+1}`})}for(let ae=0;ae<U;ae++)for(let Ae=ae+1;Ae<U;Ae++)Math.random()<Z&&ee.push({source:`${ae}`,target:`${Ae}`});return{nodes:ge,edges:ee}},[]),B=_.useCallback(()=>{const U=I(r,i);c(U);const Z=ai(U);w(ge=>[...ge.slice(-19),{p:i,connected:Z,edges:U.edges.length}])},[r,i,I]);_.useEffect(()=>{B()},[]);const Q=async()=>{u(!0),w([]);for(let U=0;U<=1.05;U+=.05){U>1&&(U=1),f(U);const Z=I(r,U);c(Z);const ge=ai(Z);w(ee=>[...ee,{p:U,connected:ge,edges:Z.edges.length}]),await new Promise(ee=>setTimeout(ee,200))}u(!1)},D=ai(l),E=XE(l),z=E.length>0?E.reduce((U,Z)=>U+Z,0)/E.length:0,O=YE(l)!==null,L=Z2(l),H=r*(r-1)/2*i,q=(r-1)*i,ye=Math.log(r)/r,de=1/r,oe=1/r,re=_.useCallback((U,Z,ge)=>{c(ee=>({...ee,nodes:ee.nodes.map(ae=>ae.id===U?{...ae,x:Z,y:ge}:ae)}))},[]);_.useEffect(()=>{const U=e.current;if(!U)return;const Z=U.getContext("2d");if(Z){xi(Z,T,A),vi(Z,T,A);for(const ge of l.edges)ga(Z,ge,l.nodes);for(const ge of l.nodes)yi(Z,ge,{highlighted:ge.id===p})}},[l,p]);const F=_.useCallback(U=>{const Z=e.current;if(!Z)return;const{x:ge,y:ee}=Rr(U,Z),ae=Br(ge,ee,l.nodes);ae&&N(ae.id)},[l]),le=_.useCallback(U=>{var ae;const Z=e.current;if(!Z)return;const{x:ge,y:ee}=Rr(U,Z);g(((ae=Br(ge,ee,l.nodes))==null?void 0:ae.id)??null),S&&re(S,ge,ee)},[l,S,re]),W=_.useCallback(()=>{N(null)},[]),te=$.filter(U=>U.connected).length;return $.length>0&&te/$.length,n.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${t}`,children:[n.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Random Graph Generator"}),n.jsx("p",{className:"text-dark-300 mb-6",children:"Generate Erds-Rnyi random graphs G(n,p). Each edge appears independently with probability p."}),n.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[n.jsxs("div",{className:"flex-shrink-0",children:[n.jsx("canvas",{ref:e,width:T,height:A,className:"rounded-xl border border-dark-600",style:{cursor:p?"grab":"default"},onMouseDown:F,onMouseMove:le,onMouseUp:W,onMouseLeave:()=>{N(null),g(null)}}),n.jsxs("div",{className:"mt-4 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:["Vertices (n): ",r]}),n.jsx("input",{type:"range",min:"4",max:"30",value:r,onChange:U=>s(parseInt(U.target.value)),className:"w-full",disabled:h})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:["Edge Probability (p): ",(h?m:i).toFixed(2)]}),n.jsx("input",{type:"range",min:"0",max:"100",value:i*100,onChange:U=>a(parseInt(U.target.value)/100),className:"w-full",disabled:h})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:B,disabled:h,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:"Generate"}),n.jsx("button",{onClick:Q,disabled:h,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 disabled:opacity-50",children:h?"Animating...":"Animate Evolution"})]})]})]}),n.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:`p-3 rounded-lg ${D?"bg-green-900/30":"bg-red-900/30"}`,children:[n.jsx("div",{className:`text-lg font-bold ${D?"text-green-400":"text-red-400"}`,children:D?"Connected":"Disconnected"}),n.jsx("div",{className:"text-sm text-dark-300",children:"Connectivity"})]}),n.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[n.jsx("div",{className:"text-lg font-bold text-blue-400",children:l.edges.length}),n.jsxs("div",{className:"text-sm text-dark-300",children:["Edges (E[m] = ",H.toFixed(1),")"]})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[n.jsx("div",{className:"text-lg font-bold text-dark-100",children:z.toFixed(2)}),n.jsxs("div",{className:"text-sm text-dark-300",children:["Avg Degree (E[d] = ",q.toFixed(2),")"]})]}),n.jsxs("div",{className:`p-3 rounded-lg ${O?"bg-amber-900/30":"bg-dark-700/50"}`,children:[n.jsx("div",{className:`text-lg font-bold ${O?"text-amber-400":L?"text-green-400":"text-dark-300"}`,children:L?"Tree":O?"Has Cycle":"Forest"}),n.jsx("div",{className:"text-sm text-dark-300",children:"Structure"})]})]}),n.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[n.jsx("div",{className:"text-sm font-medium text-dark-200 mb-3",children:"Threshold Probabilities"}),n.jsxs("div",{className:"space-y-2 text-sm",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-dark-300",children:"Cycle appears (p = 1/n):"}),n.jsxs("span",{className:i>=oe?"text-green-400":"text-dark-500",children:[oe.toFixed(3)," ",i>=oe?"":""]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-dark-300",children:"Giant component (p = 1/n):"}),n.jsxs("span",{className:i>=de?"text-green-400":"text-dark-500",children:[de.toFixed(3)," ",i>=de?"":""]})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-dark-300",children:"Connected (p = ln(n)/n):"}),n.jsxs("span",{className:i>=ye?"text-green-400":"text-dark-500",children:[ye.toFixed(3)," ",i>=ye?"":""]})]})]})]}),$.length>0&&n.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[n.jsxs("div",{className:"text-sm font-medium text-dark-200 mb-3",children:["Connectivity History (",te,"/",$.length," connected)"]}),n.jsx("div",{className:"flex gap-0.5 h-8",children:$.map((U,Z)=>n.jsx("div",{className:`flex-1 rounded-sm ${U.connected?"bg-green-500":"bg-red-500"}`,title:`p=${U.p.toFixed(2)}, ${U.edges} edges`},Z))}),n.jsxs("div",{className:"flex justify-between text-xs text-dark-400 mt-1",children:[n.jsx("span",{children:"p = 0"}),n.jsx("span",{children:"p = 1"})]})]}),n.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[n.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Erds-Rnyi Model G(n,p)"}),n.jsxs("div",{className:"text-sm text-dark-300 space-y-1",children:[n.jsx("p",{children:" Each of the (n choose 2) possible edges appears with probability p"}),n.jsx("p",{children:" Expected edges: E[m] = pn(n-1)/2"}),n.jsx("p",{children:" Phase transition at p = 1/n: giant component emerges"}),n.jsxs("p",{children:[" Graph is almost surely connected when p ",">"," ln(n)/n"]})]})]}),n.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Drag vertices:"})," Rearrange layout"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Generate:"})," Create new random graph"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Animate:"})," Watch evolution as p increases"]})]})]})]})]})}function YJ(){return n.jsxs(kt,{sectionId:1,children:[n.jsxs("p",{children:["How can we lay cable at minimum cost to make every telephone reachable from every other? What is the fastest route from the national capital to each state capital? How can"," ",n.jsx(o,{children:"n"})," jobs be filled by ",n.jsx(o,{children:"n"})," people with maximum total utility? Can we color the regions of every map using four colors so that neighboring regions receive different colors?"]}),n.jsxs("p",{children:["These and many other practical problems involve ",n.jsx("strong",{children:"graph theory"}),". In this course, we develop the theory of graphs and apply it to such problems. Our starting point is a historical problem that gave birth to the field."]}),n.jsx("h2",{children:"The Knigsberg Bridge Problem"}),n.jsxs(we,{title:"The Knigsberg Bridge Problem",className:"my-6",children:[n.jsx("p",{children:"The city of Knigsberg was located on the Pregel river in Prussia. The city occupied two islands plus areas on both banks. These regions were linked by seven bridges. The citizens wondered whether they could leave home, cross every bridge exactly once, and return home."}),n.jsxs("p",{className:"mt-2",children:["The problem reduces to traversing a figure with heavy dots representing land masses and curves representing bridges. Each time we enter and leave a land mass, we use two bridges ending at it. Thus existence of the desired traversal requires that each land mass be involved in an ",n.jsx("strong",{children:"even"})," number of bridges. This necessary condition did not hold in Knigsberg."]})]}),n.jsxs("p",{children:["The Knigsberg Bridge Problem suggests a general model for discussing such questions. We represent land masses as ",n.jsx("em",{children:"vertices"})," and bridges as ",n.jsx("em",{children:"edges"}),"."]}),n.jsx("h2",{children:"The Definition of a Graph"}),n.jsx(ce,{title:"Graph",className:"my-6",children:n.jsxs("p",{children:["A ",n.jsx("strong",{children:"graph"})," ",n.jsx(o,{children:"G"})," is a triple consisting of a"," ",n.jsx("strong",{children:"vertex set"})," ",n.jsx(o,{children:"V(G)"}),", an ",n.jsx("strong",{children:"edge set"})," ",n.jsx(o,{children:"E(G)"}),", and a relation that associates with each edge two vertices (not necessarily distinct) called its ",n.jsx("strong",{children:"endpoints"}),"."]})}),n.jsx("p",{children:"We draw a graph on paper by placing each vertex at a point and representing each edge by a curve joining the locations of its endpoints."}),n.jsxs(ce,{title:"Loop and Multiple Edges",className:"my-6",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"loop"})," is an edge whose endpoints are equal."," ",n.jsx("strong",{children:"Multiple edges"})," are edges having the same pair of endpoints."]}),n.jsxs("p",{className:"mt-2",children:["A ",n.jsx("strong",{children:"simple graph"})," is a graph having no loops or multiple edges. We specify a simple graph by its vertex set and edge set, treating the edge set as a set of unordered pairs of vertices and writing ",n.jsx(o,{children:"e = uv"})," (or"," ",n.jsx(o,{children:"e = vu"}),") for an edge ",n.jsx(o,{children:"e"})," with endpoints"," ",n.jsx(o,{children:"u"})," and ",n.jsx(o,{children:"v"}),"."]}),n.jsxs("p",{className:"mt-2",children:["When ",n.jsx(o,{children:"u"})," and ",n.jsx(o,{children:"v"})," are the endpoints of an edge, they are ",n.jsx("strong",{children:"adjacent"})," and are ",n.jsx("strong",{children:"neighbors"}),". We write"," ",n.jsx(o,{children:"u \\leftrightarrow v"}),' for "u is adjacent to v".']})]}),n.jsxs(we,{title:"A Simple Graph",className:"my-6",children:[n.jsxs("p",{children:["Consider a graph with vertex set ",n.jsx(o,{children:"\\{u, v, w, x, y\\}"})," and edge set ",n.jsx(o,{children:"\\{uv, uw, ux, vx, vw, xw, xy\\}"}),". This is a simple graph because no edge has the same vertex as both endpoints (no loops) and no two edges share the same pair of endpoints (no multiple edges)."]}),n.jsx("p",{className:"mt-2",children:'The terms "vertex" and "edge" arise from solid geometry. A cube has vertices and edges, and these form the vertex set and edge set of a graph.'})]}),n.jsx("h2",{children:"Graphs as Models"}),n.jsx("p",{children:"Graphs arise in many settings. The applications suggest useful concepts and terminology about the structure of graphs."}),n.jsxs(ce,{title:"Complement, Clique, and Independent Set",className:"my-6",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"complement"})," ",n.jsx(o,{children:"\\overline{G}"})," of a simple graph ",n.jsx(o,{children:"G"})," is the simple graph with vertex set"," ",n.jsx(o,{children:"V(G)"})," defined by"," ",n.jsx(o,{children:"uv \\in E(\\overline{G})"})," if and only if"," ",n.jsx(o,{children:"uv \\notin E(G)"}),"."]}),n.jsxs("p",{className:"mt-2",children:["A ",n.jsx("strong",{children:"clique"})," in a graph is a set of pairwise adjacent vertices."]}),n.jsxs("p",{className:"mt-2",children:["An ",n.jsx("strong",{children:"independent set"})," (or ",n.jsx("strong",{children:"stable set"}),") in a graph is a set of pairwise nonadjacent vertices."]})]}),n.jsxs("p",{children:["Cliques and independent sets swap roles under complementation: cliques in"," ",n.jsx(o,{children:"G"})," become independent sets in"," ",n.jsx(o,{children:"\\overline{G}"}),", and vice versa."]}),n.jsx(ce,{title:"Bipartite Graph",className:"my-6",children:n.jsxs("p",{children:["A graph ",n.jsx(o,{children:"G"})," is ",n.jsx("strong",{children:"bipartite"})," if"," ",n.jsx(o,{children:"V(G)"})," is the union of two disjoint (possibly empty) independent sets called ",n.jsx("strong",{children:"partite sets"})," of ",n.jsx(o,{children:"G"}),"."]})}),n.jsxs(we,{title:"Job Assignments",className:"my-6",children:[n.jsxs("p",{children:["We have ",n.jsx(o,{children:"m"})," jobs and ",n.jsx(o,{children:"n"})," people, but not all people are qualified for all jobs. Can we fill the jobs with qualified people?"]}),n.jsxs("p",{className:"mt-2",children:["We model this using a simple graph ",n.jsx(o,{children:"H"})," with vertices for the jobs and people; job ",n.jsx(o,{children:"j"})," is adjacent to person ",n.jsx(o,{children:"p"})," ","if ",n.jsx(o,{children:"p"})," can do ",n.jsx(o,{children:"j"}),". This is a bipartite graph where one partite set contains jobs and the other contains people."]})]}),n.jsx("h2",{children:"Chromatic Number and Coloring"}),n.jsxs(ce,{title:"Chromatic Number",className:"my-6",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"chromatic number"})," of a graph ",n.jsx(o,{children:"G"}),", written"," ",n.jsx(o,{children:"\\chi(G)"}),", is the minimum number of colors needed to label the vertices so that adjacent vertices receive different colors."]}),n.jsxs("p",{className:"mt-2",children:["A graph ",n.jsx(o,{children:"G"})," is ",n.jsx("strong",{children:"k-partite"})," if"," ",n.jsx(o,{children:"V(G)"})," can be expressed as the union of ",n.jsx(o,{children:"k"})," ","(possibly empty) independent sets."]})]}),n.jsxs("p",{children:["This generalizes the idea of bipartite graphs, which are 2-partite. Vertices given the same color must form an independent set, so ",n.jsx(o,{children:"\\chi(G)"})," is the minimum number of independent sets needed to partition ",n.jsx(o,{children:"V(G)"}),". A graph is k-partite if and only if its chromatic number is at most ",n.jsx(o,{children:"k"}),"."]}),n.jsx("h2",{children:"Paths and Cycles"}),n.jsxs(ce,{title:"Path and Cycle",className:"my-6",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"path"})," is a simple graph whose vertices can be ordered so that two vertices are adjacent if and only if they are consecutive in the list."]}),n.jsxs("p",{className:"mt-2",children:["A ",n.jsx("strong",{children:"cycle"})," is a graph with an equal number of vertices and edges whose vertices can be placed around a circle so that two vertices are adjacent if and only if they appear consecutively along the circle."]})]}),n.jsxs("p",{children:["Dropping one edge from a cycle produces a path. The path with ",n.jsx(o,{children:"n"})," ","vertices is denoted ",n.jsx(o,{children:"P_n"}),", and the cycle with"," ",n.jsx(o,{children:"n"})," vertices is denoted ",n.jsx(o,{children:"C_n"}),"."]}),n.jsxs(ce,{title:"Subgraph and Connected",className:"my-6",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"subgraph"})," of a graph ",n.jsx(o,{children:"G"})," is a graph"," ",n.jsx(o,{children:"H"})," such that ",n.jsx(o,{children:"V(H) \\subseteq V(G)"})," and"," ",n.jsx(o,{children:"E(H) \\subseteq E(G)"})," and the assignment of endpoints to edges in ",n.jsx(o,{children:"H"})," is the same as in ",n.jsx(o,{children:"G"}),". We write"," ",n.jsx(o,{children:"H \\subseteq G"}),' and say "G contains H".']}),n.jsxs("p",{className:"mt-2",children:["A graph ",n.jsx(o,{children:"G"})," is ",n.jsx("strong",{children:"connected"})," if each pair of vertices in ",n.jsx(o,{children:"G"})," belongs to a path; otherwise, ",n.jsx(o,{children:"G"})," is"," ",n.jsx("strong",{children:"disconnected"}),"."]})]}),n.jsx("h2",{children:"Interactive Graph Editor"}),n.jsx("p",{children:"Use the interactive tool below to explore graph concepts. Create vertices by clicking, connect them with edges, and observe properties like adjacency and degree sequences."}),n.jsx(MJ,{className:"my-8"}),n.jsx("h2",{children:"Matrices and Isomorphism"}),n.jsxs(ce,{title:"Adjacency and Incidence Matrices",className:"my-6",children:[n.jsxs("p",{children:["Let ",n.jsx(o,{children:"G"})," be a loopless graph with vertex set"," ",n.jsx(o,{children:"V(G) = \\{v_1, \\ldots, v_n\\}"})," and edge set"," ",n.jsx(o,{children:"E(G) = \\{e_1, \\ldots, e_m\\}"}),"."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"adjacency matrix"})," of ",n.jsx(o,{children:"G"}),", written"," ",n.jsx(o,{children:"A(G)"}),", is the ",n.jsx(o,{children:"n"}),"-by-",n.jsx(o,{children:"n"})," matrix in which entry ",n.jsx(o,{children:"a_{i,j}"})," is the number of edges in ",n.jsx(o,{children:"G"})," with endpoints"," ",n.jsx(o,{children:"\\{v_i, v_j\\}"}),"."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"incidence matrix"})," ",n.jsx(o,{children:"M(G)"})," is the"," ",n.jsx(o,{children:"n"}),"-by-",n.jsx(o,{children:"m"})," matrix in which entry"," ",n.jsx(o,{children:"m_{i,j}"})," is 1 if ",n.jsx(o,{children:"v_i"})," is an endpoint of ",n.jsx(o,{children:"e_j"})," and otherwise is 0."]}),n.jsxs("p",{className:"mt-2",children:["If vertex ",n.jsx(o,{children:"v"})," is an endpoint of edge ",n.jsx(o,{children:"e"}),", then ",n.jsx(o,{children:"v"})," and ",n.jsx(o,{children:"e"})," are"," ",n.jsx("strong",{children:"incident"}),". The ",n.jsx("strong",{children:"degree"})," of vertex"," ",n.jsx(o,{children:"v"})," (in a loopless graph) is the number of incident edges."]})]}),n.jsxs("p",{children:["An adjacency matrix is symmetric (",n.jsx(o,{children:"a_{i,j} = a_{j,i}"})," for all"," ",n.jsx(o,{children:"i, j"}),"). An adjacency matrix of a simple graph has entries 0 or 1, with 0s on the diagonal. The degree of ",n.jsx(o,{children:"v"})," is the sum of the entries in the row for ",n.jsx(o,{children:"v"})," in either ",n.jsx(o,{children:"A(G)"})," or"," ",n.jsx(o,{children:"M(G)"}),"."]}),n.jsxs(ce,{title:"Isomorphism",className:"my-6",children:[n.jsxs("p",{children:["An ",n.jsx("strong",{children:"isomorphism"})," from a simple graph ",n.jsx(o,{children:"G"})," to a simple graph ",n.jsx(o,{children:"H"})," is a bijection"," ",n.jsx(o,{children:"f: V(G) \\to V(H)"})," such that"," ",n.jsx(o,{children:"uv \\in E(G)"})," if and only if"," ",n.jsx(o,{children:"f(u)f(v) \\in E(H)"}),"."]}),n.jsxs("p",{className:"mt-2",children:['We say "G is ',n.jsx("strong",{children:"isomorphic"}),' to H", written'," ",n.jsx(o,{children:"G \\cong H"}),", if there is an isomorphism from"," ",n.jsx(o,{children:"G"})," to ",n.jsx(o,{children:"H"}),"."]})]}),n.jsx(J,{title:"Isomorphism is an Equivalence Relation",className:"my-6",proof:n.jsxs(n.Fragment,{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Reflexive:"})," The identity permutation on ",n.jsx(o,{children:"V(G)"})," ","is an isomorphism from ",n.jsx(o,{children:"G"})," to itself. Thus"," ",n.jsx(o,{children:"G \\cong G"}),"."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Symmetric:"})," If ",n.jsx(o,{children:"f: V(G) \\to V(H)"})," is an isomorphism from ",n.jsx(o,{children:"G"})," to ",n.jsx(o,{children:"H"}),", then"," ",n.jsx(o,{children:"f^{-1}"})," is an isomorphism from ",n.jsx(o,{children:"H"})," ","to ",n.jsx(o,{children:"G"}),". Thus ",n.jsx(o,{children:"G \\cong H"})," implies"," ",n.jsx(o,{children:"H \\cong G"}),"."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Transitive:"})," If ",n.jsx(o,{children:"f: V(F) \\to V(G)"})," and"," ",n.jsx(o,{children:"g: V(G) \\to V(H)"})," are isomorphisms, then the composition"," ",n.jsx(o,{children:"g \\circ f"})," is an isomorphism from"," ",n.jsx(o,{children:"F"})," to ",n.jsx(o,{children:"H"}),". Thus"," ",n.jsx(o,{children:"F \\cong G"})," and ",n.jsx(o,{children:"G \\cong H"})," ","together imply ",n.jsx(o,{children:"F \\cong H"}),"."]})]}),children:n.jsx("p",{children:"The isomorphism relation is an equivalence relation on the set of simple graphs."})}),n.jsx("h2",{children:"Special Graphs"}),n.jsxs(ce,{title:"Complete and Bipartite Graphs",className:"my-6",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"complete graph"})," is a simple graph whose vertices are pairwise adjacent. The complete graph with ",n.jsx(o,{children:"n"})," vertices is denoted"," ",n.jsx(o,{children:"K_n"}),"."]}),n.jsxs("p",{className:"mt-2",children:["A ",n.jsx("strong",{children:"complete bipartite graph"})," (or ",n.jsx("strong",{children:"biclique"}),") is a simple bipartite graph such that two vertices are adjacent if and only if they are in different partite sets. When the sets have sizes ",n.jsx(o,{children:"r"})," and"," ",n.jsx(o,{children:"s"}),", the biclique is denoted ",n.jsx(o,{children:"K_{r,s}"}),"."]})]}),n.jsxs(ce,{title:"The Petersen Graph",className:"my-6",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"Petersen graph"})," is the simple graph whose vertices are the 2-element subsets of a 5-element set, and whose edges are the pairs of disjoint 2-element subsets."]}),n.jsxs("p",{className:"mt-2",children:["Using ",n.jsx(o,{children:"\\{1, 2, 3, 4, 5\\}"})," as our 5-element set, we write the pair ",n.jsx(o,{children:"\\{a, b\\}"})," as ",n.jsx(o,{children:"ab"}),". Since 12 and 34 are disjoint, they are adjacent vertices. But 12 and 23 share element 2, so they are not adjacent."]})]}),n.jsxs("p",{children:["For each 2-set ",n.jsx(o,{children:"ab"}),", there are three ways to pick a 2-set from the remaining three elements, so every vertex in the Petersen graph has degree 3. The Petersen graph consists of two disjoint 5-cycles plus edges that pair up vertices on the two cycles."]}),n.jsx(ce,{title:"Girth",className:"my-6",children:n.jsxs("p",{children:["The ",n.jsx("strong",{children:"girth"})," of a graph with a cycle is the length of its shortest cycle. A graph with no cycle has infinite girth."]})}),n.jsx(J,{title:"Petersen Graph Has Girth 5",className:"my-6",children:n.jsx("p",{children:"The Petersen graph has girth 5."})}),n.jsx("p",{children:"The proof follows from several observations: the graph is simple (no 1-cycles or 2-cycles), a 3-cycle would require three pairwise-disjoint 2-sets (impossible among 5 elements), and a 4-cycle would require nonadjacent vertices with two common neighbors, which cannot happen because nonadjacent vertices in the Petersen graph share exactly one element and thus have exactly one common neighbor."}),n.jsx("h2",{children:"Key Ideas"}),n.jsx("div",{className:"bg-gradient-to-br from-primary-500/10 to-dark-800/50 rounded-xl p-6 my-6 border border-primary-500/20",children:n.jsxs("ul",{className:"space-y-3 text-dark-200",children:[n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-primary-400 font-bold",children:"1."}),n.jsxs("span",{children:["A ",n.jsx("strong",{children:"graph"})," consists of vertices and edges connecting pairs of vertices."]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-primary-400 font-bold",children:"2."}),n.jsxs("span",{children:["A ",n.jsx("strong",{children:"simple graph"})," has no loops (edges from a vertex to itself) or multiple edges (several edges between the same pair)."]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-primary-400 font-bold",children:"3."}),n.jsxs("span",{children:["The ",n.jsx("strong",{children:"complement"})," of a graph has the same vertices but exactly the opposite edges."]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-primary-400 font-bold",children:"4."}),n.jsxs("span",{children:[n.jsx("strong",{children:"Bipartite graphs"})," have vertices that can be split into two groups with edges only between groups."]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-primary-400 font-bold",children:"5."}),n.jsxs("span",{children:["Two graphs are ",n.jsx("strong",{children:"isomorphic"})," if one can be relabeled to become the other, preserving all adjacencies."]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-primary-400 font-bold",children:"6."}),n.jsxs("span",{children:["The ",n.jsx("strong",{children:"Petersen graph"})," is a fundamental example with 10 vertices, each of degree 3, and girth 5."]})]})]})})]})}function ZJ(){return n.jsxs(kt,{sectionId:2,children:[n.jsx("p",{children:"In this section we return to the Knigsberg Bridge Problem, determining when it is possible to traverse all the edges of a graph. We also develop useful properties of connection, paths, and cycles. These concepts are fundamental to understanding how graphs are structured and how we can move through them."}),n.jsx("h2",{children:"Walks, Trails, and Paths"}),n.jsxs("p",{children:["As defined earlier, paths and cycles are graphs; a path ",n.jsx("em",{children:"in"})," a graph"," ",n.jsx(o,{children:"G"})," is a subgraph of ",n.jsx(o,{children:"G"})," that is a path. We introduce further definitions to model other movements in graphs. A tourist wandering in a city may want to allow vertex repetitions but avoid edge repetitions. A mail carrier delivers mail to houses on both sides of the street and hence traverses each edge twice."]}),n.jsxs(ce,{title:"Walk, Trail, and Path",className:"my-6",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"walk"})," is a list"," ",n.jsx(o,{children:"v_0, e_1, v_1, \\ldots, e_k, v_k"})," of vertices and edges such that, for ",n.jsx(o,{children:"1 \\leq i \\leq k"}),", the edge"," ",n.jsx(o,{children:"e_i"})," has endpoints ",n.jsx(o,{children:"v_{i-1}"})," and"," ",n.jsx(o,{children:"v_i"}),"."]}),n.jsxs("p",{className:"mt-2",children:["A ",n.jsx("strong",{children:"trail"})," is a walk with no repeated edge."]}),n.jsxs("p",{className:"mt-2",children:["A ",n.jsx(o,{children:"u, v"}),"-",n.jsx("strong",{children:"walk"})," or"," ",n.jsx(o,{children:"u, v"}),"-",n.jsx("strong",{children:"trail"})," has first vertex"," ",n.jsx(o,{children:"u"})," and last vertex ",n.jsx(o,{children:"v"}),"; these are its"," ",n.jsx("strong",{children:"endpoints"}),"."]}),n.jsxs("p",{className:"mt-2",children:["A ",n.jsx(o,{children:"u, v"}),"-",n.jsx("strong",{children:"path"})," is a path whose vertices of degree 1 (its endpoints) are ",n.jsx(o,{children:"u"})," and ",n.jsx(o,{children:"v"}),"; the others are ",n.jsx("strong",{children:"internal vertices"}),"."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"length"})," of a walk, trail, path, or cycle is its number of edges. A walk or trail is ",n.jsx("strong",{children:"closed"})," if its endpoints are the same."]})]}),n.jsxs(we,{title:"Walks and Trails in the Knigsberg Graph",className:"my-6",children:[n.jsxs("p",{children:["In the Knigsberg graph, the list ",n.jsx(o,{children:"x, e_2, w, e_5, y, e_6, x, e_1, w, e_2, x"})," ","is a closed walk of length 5; it repeats edge ",n.jsx(o,{children:"e_2"})," and hence is not a trail."]}),n.jsxs("p",{className:"mt-2",children:["Deleting the last edge and vertex yields a trail of length 4; it repeats vertices but not edges. The subgraph consisting of edges ",n.jsx(o,{children:"e_1, e_5, e_6"})," ","and vertices ",n.jsx(o,{children:"x, w, y"})," is a cycle of length 3."]}),n.jsx("p",{className:"mt-2",children:"Two edges with the same endpoints form a cycle of length 2. A loop is a cycle of length 1."})]}),n.jsx("p",{children:"In a simple graph, a walk (or trail) is completely specified by its ordered list of vertices. We usually name a path, cycle, trail, or walk in a simple graph by listing only its vertices in order."}),n.jsx("h2",{children:"Every Walk Contains a Path"}),n.jsx(J,{title:"Every Walk Contains a Path",className:"my-6",proof:n.jsxs(n.Fragment,{children:[n.jsxs("p",{children:["We prove the statement by induction on the length ",n.jsx(o,{children:"l"})," of a"," ",n.jsx(o,{children:"u, v"}),"-walk ",n.jsx(o,{children:"W"}),"."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Basis step:"})," ",n.jsx(o,{children:"l = 0"}),". Having no edge,"," ",n.jsx(o,{children:"W"})," consists of a single vertex (",n.jsx(o,{children:"u = v"}),"). This vertex is a ",n.jsx(o,{children:"u, v"}),"-path of length 0."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Induction step:"})," ",n.jsx(o,{children:"l \\geq 1"}),". Suppose that the claim holds for walks of length less than ",n.jsx(o,{children:"l"}),". If"," ",n.jsx(o,{children:"W"})," has no repeated vertex, then its vertices and edges form a ",n.jsx(o,{children:"u, v"}),"-path."]}),n.jsxs("p",{className:"mt-2",children:["If ",n.jsx(o,{children:"W"})," has a repeated vertex ",n.jsx(o,{children:"w"}),", then deleting the edges and vertices between appearances of ",n.jsx(o,{children:"w"})," ","(leaving one copy of ",n.jsx(o,{children:"w"}),") yields a shorter"," ",n.jsx(o,{children:"u, v"}),"-walk ",n.jsx(o,{children:"W'"})," contained in"," ",n.jsx(o,{children:"W"}),". By the induction hypothesis, ",n.jsx(o,{children:"W'"})," ","contains a ",n.jsx(o,{children:"u, v"}),"-path ",n.jsx(o,{children:"P"}),", and this path ",n.jsx(o,{children:"P"})," is contained in ",n.jsx(o,{children:"W"}),"."]})]}),children:n.jsxs("p",{children:["Every ",n.jsx(o,{children:"u, v"}),"-walk contains a ",n.jsx(o,{children:"u, v"}),"-path."]})}),n.jsx("h2",{children:"Connection in Graphs"}),n.jsxs(ce,{title:"Connected Graph",className:"my-6",children:[n.jsxs("p",{children:["A graph ",n.jsx(o,{children:"G"})," is ",n.jsx("strong",{children:"connected"})," if it has a"," ",n.jsx(o,{children:"u, v"}),"-path whenever ",n.jsx(o,{children:"u, v \\in V(G)"})," ","(otherwise, ",n.jsx(o,{children:"G"})," is ",n.jsx("strong",{children:"disconnected"}),")."]}),n.jsxs("p",{className:"mt-2",children:["If ",n.jsx(o,{children:"G"})," has a ",n.jsx(o,{children:"u, v"}),"-path, then"," ",n.jsx(o,{children:"u"})," is ",n.jsx("strong",{children:"connected to"})," ",n.jsx(o,{children:"v"})," ","in ",n.jsx(o,{children:"G"}),". The ",n.jsx("strong",{children:"connection relation"})," on"," ",n.jsx(o,{children:"V(G)"})," consists of the ordered pairs"," ",n.jsx(o,{children:"(u, v)"})," such that ",n.jsx(o,{children:"u"})," is connected to"," ",n.jsx(o,{children:"v"}),"."]})]}),n.jsxs("p",{children:["It is important to distinguish between ",n.jsx("em",{children:"connection"})," and ",n.jsx("em",{children:"adjacency"}),":"]}),n.jsx("div",{className:"bg-dark-800/50 rounded-lg p-4 my-4 font-mono text-sm",children:n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-primary-400 mb-2",children:"Connection"}),n.jsxs("p",{children:[n.jsx(o,{children:"G"})," has a ",n.jsx(o,{children:"u, v"}),"-path"]}),n.jsxs("p",{children:[n.jsx(o,{children:"u"})," and ",n.jsx(o,{children:"v"})," are connected"]})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-primary-400 mb-2",children:"Adjacency"}),n.jsx("p",{children:n.jsx(o,{children:"uv \\in E(G)"})}),n.jsxs("p",{children:[n.jsx(o,{children:"u"})," and ",n.jsx(o,{children:"v"})," are adjacent"]})]})]})}),n.jsxs("p",{children:["The connection relation is an ",n.jsx("strong",{children:"equivalence relation"}),": it is reflexive (paths of length 0), symmetric (paths are reversible), and transitive (by the lemma above, if ",n.jsx(o,{children:"G"})," has a ",n.jsx(o,{children:"u, v"}),"-path and a"," ",n.jsx(o,{children:"v, w"}),"-path, then ",n.jsx(o,{children:"G"})," has a"," ",n.jsx(o,{children:"u, w"}),"-path)."]}),n.jsx(ce,{title:"Components",className:"my-6",children:n.jsxs("p",{children:["The ",n.jsx("strong",{children:"components"})," of a graph ",n.jsx(o,{children:"G"})," are its maximal connected subgraphs. A component (or graph) is ",n.jsx("strong",{children:"trivial"})," if it has no edges; otherwise it is ",n.jsx("strong",{children:"nontrivial"}),". An ",n.jsx("strong",{children:"isolated vertex"})," ","is a vertex of degree 0."]})}),n.jsxs("p",{children:["The equivalence classes of the connection relation on ",n.jsx(o,{children:"V(G)"})," are the vertex sets of the components of ",n.jsx(o,{children:"G"}),". An isolated vertex forms a trivial component, consisting of one vertex and no edge."]}),n.jsx(J,{title:"Lower Bound on Components",className:"my-6",children:n.jsxs("p",{children:["Every graph with ",n.jsx(o,{children:"n"})," vertices and ",n.jsx(o,{children:"k"})," ","edges has at least ",n.jsx(o,{children:"n - k"})," components."]})}),n.jsxs("p",{children:["The proof follows from the observation that an ",n.jsx(o,{children:"n"}),"-vertex graph with no edges has ",n.jsx(o,{children:"n"})," components, and each edge added reduces the number of components by at most 1."]}),n.jsx("h2",{children:"Cut-Edges and Cut-Vertices"}),n.jsxs(ce,{title:"Cut-Edge and Cut-Vertex",className:"my-6",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"cut-edge"})," or ",n.jsx("strong",{children:"cut-vertex"})," of a graph is an edge or vertex whose deletion increases the number of components."]}),n.jsxs("p",{className:"mt-2",children:["We write ",n.jsx(o,{children:"G - e"})," or ",n.jsx(o,{children:"G - M"})," for the subgraph of ",n.jsx(o,{children:"G"})," obtained by deleting an edge"," ",n.jsx(o,{children:"e"})," or set of edges ",n.jsx(o,{children:"M"}),"."]}),n.jsxs("p",{className:"mt-2",children:["We write ",n.jsx(o,{children:"G - v"})," or ",n.jsx(o,{children:"G - S"})," for the subgraph obtained by deleting a vertex ",n.jsx(o,{children:"v"})," or set of vertices ",n.jsx(o,{children:"S"}),"."]})]}),n.jsxs(ce,{title:"Induced Subgraph",className:"my-6",children:[n.jsxs("p",{children:["An ",n.jsx("strong",{children:"induced subgraph"})," is a subgraph obtained by deleting a set of vertices. We write ",n.jsx(o,{children:"G[T]"})," for"," ",n.jsx(o,{children:"G - \\overline{T}"}),", where"," ",n.jsx(o,{children:"\\overline{T} = V(G) - T"}),"; this is the subgraph of"," ",n.jsx(o,{children:"G"})," ",n.jsx("strong",{children:"induced by"})," ",n.jsx(o,{children:"T"}),"."]}),n.jsxs("p",{className:"mt-2",children:["When ",n.jsx(o,{children:"T \\subseteq V(G)"}),", the induced subgraph"," ",n.jsx(o,{children:"G[T]"})," consists of ",n.jsx(o,{children:"T"})," and all edges whose endpoints are contained in ",n.jsx(o,{children:"T"}),"."]})]}),n.jsx(J,{title:"Cut-Edge Characterization",className:"my-6",proof:n.jsxs(n.Fragment,{children:[n.jsxs("p",{children:["Let ",n.jsx(o,{children:"e"})," be an edge in a graph ",n.jsx(o,{children:"G"})," ","(with endpoints ",n.jsx(o,{children:"x, y"}),"), and let ",n.jsx(o,{children:"H"})," ","be the component containing ",n.jsx(o,{children:"e"}),". Since deletion of"," ",n.jsx(o,{children:"e"})," affects no other component, it suffices to prove that"," ",n.jsx(o,{children:"H - e"})," is connected if and only if"," ",n.jsx(o,{children:"e"})," belongs to a cycle."]}),n.jsxs("p",{className:"mt-2",children:["First suppose that ",n.jsx(o,{children:"H - e"})," is connected. This implies that ",n.jsx(o,{children:"H - e"})," contains an ",n.jsx(o,{children:"x, y"}),"-path, and this path completes a cycle with ",n.jsx(o,{children:"e"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Now suppose that ",n.jsx(o,{children:"e"})," lies in a cycle ",n.jsx(o,{children:"C"}),". Choose ",n.jsx(o,{children:"u, v \\in V(H)"}),". Since ",n.jsx(o,{children:"H"})," ","is connected, ",n.jsx(o,{children:"H"})," has a ",n.jsx(o,{children:"u, v"}),"-path"," ",n.jsx(o,{children:"P"}),". If ",n.jsx(o,{children:"P"})," does not contain"," ",n.jsx(o,{children:"e"}),", then ",n.jsx(o,{children:"P"})," exists in"," ",n.jsx(o,{children:"H - e"}),". If ",n.jsx(o,{children:"P"})," contains"," ",n.jsx(o,{children:"e"}),", we can route around ",n.jsx(o,{children:"e"})," using the rest of cycle ",n.jsx(o,{children:"C"}),". Thus"," ",n.jsx(o,{children:"H - e"})," is connected."]})]}),children:n.jsx("p",{children:"An edge is a cut-edge if and only if it belongs to no cycle."})}),n.jsx("h2",{children:"Bipartite Graph Characterization"}),n.jsx("p",{children:"Our next goal is to characterize bipartite graphs using cycles. Recall that a loop is a cycle of length 1, and two distinct edges with the same endpoints form a cycle of length 2."}),n.jsx(J,{title:"Closed Odd Walk Lemma",className:"my-6",proof:n.jsxs(n.Fragment,{children:[n.jsxs("p",{children:["We use induction on the length ",n.jsx(o,{children:"l"})," of a closed odd walk"," ",n.jsx(o,{children:"W"}),"."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Basis step:"})," ",n.jsx(o,{children:"l = 1"}),". A closed walk of length 1 traverses a cycle of length 1."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Induction step:"})," ",n.jsx(o,{children:"l > 1"}),". Assume the claim for closed odd walks shorter than ",n.jsx(o,{children:"W"}),". If"," ",n.jsx(o,{children:"W"})," has no repeated vertex (other than first = last), then"," ",n.jsx(o,{children:"W"})," itself forms a cycle of odd length."]}),n.jsxs("p",{className:"mt-2",children:["If vertex ",n.jsx(o,{children:"v"})," is repeated in ",n.jsx(o,{children:"W"}),", then we view ",n.jsx(o,{children:"W"})," as starting at ",n.jsx(o,{children:"v"})," ","and break ",n.jsx(o,{children:"W"})," into two ",n.jsx(o,{children:"v, v"}),"-walks. Since ",n.jsx(o,{children:"W"})," has odd length, one of these is odd and the other is even. The odd one is shorter than ",n.jsx(o,{children:"W"}),". By the induction hypothesis, it contains an odd cycle, and this cycle appears in order in"," ",n.jsx(o,{children:"W"}),"."]})]}),children:n.jsx("p",{children:"Every closed odd walk contains an odd cycle."})}),n.jsx(ce,{title:"Bipartition",className:"my-6",children:n.jsxs("p",{children:["A ",n.jsx("strong",{children:"bipartition"})," of ",n.jsx(o,{children:"G"})," is a specification of two disjoint independent sets in ",n.jsx(o,{children:"G"})," whose union is"," ",n.jsx(o,{children:"V(G)"}),'. The statement "Let ',n.jsx(o,{children:"G"})," be a bipartite graph with bipartition ",n.jsx(o,{children:"X, Y"}),'" specifies one such partition. An ',n.jsx(o,{children:"X, Y"}),"-",n.jsx("strong",{children:"bigraph"})," is a bipartite graph with bipartition ",n.jsx(o,{children:"X, Y"}),"."]})}),n.jsx(J,{title:"Knig's Characterization of Bipartite Graphs",className:"my-6",proof:n.jsxs(n.Fragment,{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Necessity:"})," Let ",n.jsx(o,{children:"G"})," be a bipartite graph. Every walk alternates between the two sets of a bipartition, so every return to the original partite set happens after an even number of steps. Hence"," ",n.jsx(o,{children:"G"})," has no odd cycle."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Sufficiency:"})," Let ",n.jsx(o,{children:"G"})," be a graph with no odd cycle. We prove that ",n.jsx(o,{children:"G"})," is bipartite by constructing a bipartition of each nontrivial component."]}),n.jsxs("p",{className:"mt-2",children:["Let ",n.jsx(o,{children:"u"})," be a vertex in a nontrivial component"," ",n.jsx(o,{children:"H"}),". For each ",n.jsx(o,{children:"v \\in V(H)"}),", let"," ",n.jsx(o,{children:"f(v)"})," be the minimum length of a"," ",n.jsx(o,{children:"u, v"}),"-path."]}),n.jsxs("p",{className:"mt-2",children:["Let ",n.jsx(o,{children:"X = \\{v \\in V(H): f(v) \\text{ is even}\\}"})," and"," ",n.jsx(o,{children:"Y = \\{v \\in V(H): f(v) \\text{ is odd}\\}"}),". An edge"," ",n.jsx(o,{children:"v, v'"})," within ",n.jsx(o,{children:"X"})," or"," ",n.jsx(o,{children:"Y"})," would create a closed odd walk using a shortest"," ",n.jsx(o,{children:"u, v"}),"-path, the edge ",n.jsx(o,{children:"vv'"}),", and the reverse of a shortest ",n.jsx(o,{children:"u, v'"}),"-path. By the Closed Odd Walk Lemma, such a walk must contain an odd cycle, which contradicts our hypothesis."]}),n.jsxs("p",{className:"mt-2",children:["Hence ",n.jsx(o,{children:"X"})," and ",n.jsx(o,{children:"Y"})," are independent sets. Also ",n.jsx(o,{children:"X \\cup Y = V(H)"}),", so"," ",n.jsx(o,{children:"H"})," is an ",n.jsx(o,{children:"X, Y"}),"-bigraph."]})]}),children:n.jsx("p",{children:"(Knig [1936]) A graph is bipartite if and only if it has no odd cycle."})}),n.jsxs("p",{children:["This theorem provides an efficient way to test whether a graph is bipartite: if it is not bipartite, we can prove this by presenting an odd cycle. When we want to prove that"," ",n.jsx(o,{children:"G"})," is bipartite, we define a bipartition and prove that the two sets are independent."]}),n.jsx("h2",{children:"Interactive Path Explorer"}),n.jsx("p",{children:"Use the interactive tool below to explore paths, cycles, and Eulerian circuits. Click vertices to find paths between them, detect cycles, or discover Eulerian circuits."}),n.jsx($J,{className:"my-8"}),n.jsx("h2",{children:"Eulerian Circuits"}),n.jsx("p",{children:"We return to our analysis of the Knigsberg Bridge Problem. What the people of Knigsberg wanted was a closed trail containing all the edges in a graph. As we observed, a necessary condition for existence of such a trail is that all vertex degrees be even. Also it is necessary that all edges belong to the same component."}),n.jsxs(ce,{title:"Eulerian Graph",className:"my-6",children:[n.jsxs("p",{children:["A graph is ",n.jsx("strong",{children:"Eulerian"})," if it has a closed trail containing all edges. We call a closed trail a ",n.jsx("strong",{children:"circuit"})," when we do not specify the first vertex but keep the list in cyclic order."]}),n.jsxs("p",{className:"mt-2",children:["An ",n.jsx("strong",{children:"Eulerian circuit"})," or ",n.jsx("strong",{children:"Eulerian trail"})," in a graph is a circuit or trail containing all the edges."]}),n.jsxs("p",{className:"mt-2",children:["An ",n.jsx("strong",{children:"even graph"})," is a graph with vertex degrees all even. A vertex is"," ",n.jsx("strong",{children:"odd"})," [",n.jsx("strong",{children:"even"}),"] when its degree is odd [even]."]})]}),n.jsx(J,{title:"Cycle Existence Lemma",className:"my-6",children:n.jsxs("p",{children:["If every vertex of a graph ",n.jsx(o,{children:"G"})," has degree at least 2, then"," ",n.jsx(o,{children:"G"})," contains a cycle."]})}),n.jsxs("p",{children:["The proof uses extremality: let ",n.jsx(o,{children:"P"})," be a maximal path in"," ",n.jsx(o,{children:"G"}),", and let ",n.jsx(o,{children:"u"})," be an endpoint of"," ",n.jsx(o,{children:"P"}),". Since ",n.jsx(o,{children:"P"})," cannot be extended, every neighbor of ",n.jsx(o,{children:"u"})," must already be a vertex of ",n.jsx(o,{children:"P"}),". Since ",n.jsx(o,{children:"u"})," has degree at least 2, it has a neighbor"," ",n.jsx(o,{children:"v"})," in ",n.jsx(o,{children:"V(P)"})," via an edge not in"," ",n.jsx(o,{children:"P"}),". The edge ",n.jsx(o,{children:"uv"})," completes a cycle with the portion of ",n.jsx(o,{children:"P"})," from ",n.jsx(o,{children:"v"})," to"," ",n.jsx(o,{children:"u"}),"."]}),n.jsx(J,{title:"Characterization of Eulerian Graphs",className:"my-6",proof:n.jsxs(n.Fragment,{children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Necessity:"})," Suppose that ",n.jsx(o,{children:"G"})," has an Eulerian circuit ",n.jsx(o,{children:"C"}),". Each passage of ",n.jsx(o,{children:"C"})," ","through a vertex uses two incident edges, and the first edge is paired with the last at the first vertex. Hence every vertex has even degree. Also, two edges can be in the same trail only when they lie in the same component, so there is at most one nontrivial component."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Sufficiency:"})," We use induction on the number of edges"," ",n.jsx(o,{children:"m"}),"."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("em",{children:"Basis step:"})," ",n.jsx(o,{children:"m = 0"}),". A closed trail consisting of one vertex suffices."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("em",{children:"Induction step:"})," ",n.jsx(o,{children:"m > 0"}),". With even degrees, each vertex in the nontrivial component of ",n.jsx(o,{children:"G"})," has degree at least 2. By the Cycle Existence Lemma, the nontrivial component has a cycle"," ",n.jsx(o,{children:"C"}),". Let ",n.jsx(o,{children:"G'"})," be the graph obtained from ",n.jsx(o,{children:"G"})," by deleting ",n.jsx(o,{children:"E(C)"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Since ",n.jsx(o,{children:"C"})," has 0 or 2 edges at each vertex, each component of ",n.jsx(o,{children:"G'"})," is also an even graph. Since each component is connected and has fewer than ",n.jsx(o,{children:"m"})," edges, we can apply the induction hypothesis to conclude that each component of ",n.jsx(o,{children:"G'"})," ","has an Eulerian circuit."]}),n.jsxs("p",{className:"mt-2",children:["To combine these into an Eulerian circuit of ",n.jsx(o,{children:"G"}),", we traverse"," ",n.jsx(o,{children:"C"}),", but when a component of ",n.jsx(o,{children:"G'"})," is entered for the first time we detour along an Eulerian circuit of that component. This circuit ends at the vertex where we began the detour. When we complete the traversal of ",n.jsx(o,{children:"C"}),", we have completed an Eulerian circuit of"," ",n.jsx(o,{children:"G"}),"."]})]}),children:n.jsxs("p",{children:["A graph ",n.jsx(o,{children:"G"})," is Eulerian if and only if it has at most one nontrivial component and its vertices all have even degree."]})}),n.jsx(J,{title:"Cycle Decomposition of Even Graphs",className:"my-6",children:n.jsx("p",{children:"Every even graph decomposes into cycles."})}),n.jsx("p",{children:"This follows from the proof of the Eulerian characterization: every even nontrivial graph has a cycle, and the deletion of a cycle leaves an even graph."}),n.jsx("h2",{children:"Decomposing Graphs into Trails"}),n.jsxs("p",{children:["When drawing a figure ",n.jsx(o,{children:"G"})," on paper, how many times must we stop and move the pen? Each visit to the paper contributes a trail, so we seek a decomposition of ",n.jsx(o,{children:"G"})," into the minimum number of trails."]}),n.jsx(J,{title:"Trail Decomposition Theorem",className:"my-6",proof:n.jsxs(n.Fragment,{children:[n.jsxs("p",{children:["A trail contributes even degree to every vertex, except that a non-closed trail contributes odd degree to its endpoints. Therefore, a partition of the edges into trails must have some non-closed trail ending at each odd vertex. Since each trail has only two ends, we must use at least ",n.jsx(o,{children:"k"})," trails to satisfy"," ",n.jsx(o,{children:"2k"})," odd vertices."]}),n.jsxs("p",{className:"mt-2",children:["We also need at least one trail since ",n.jsx(o,{children:"G"})," has an edge, and the Eulerian Characterization implies that one trail suffices when"," ",n.jsx(o,{children:"k = 0"}),"."]}),n.jsxs("p",{className:"mt-2",children:["It remains to prove that ",n.jsx(o,{children:"k"})," trails suffice when"," ",n.jsx(o,{children:"k > 0"}),". Given such a graph ",n.jsx(o,{children:"G"}),", we pair up the odd vertices (in any way) and form ",n.jsx(o,{children:"G'"})," by adding for each pair an edge joining its two vertices. The resulting graph"," ",n.jsx(o,{children:"G'"})," is connected and even, so it has an Eulerian circuit"," ",n.jsx(o,{children:"C"}),". As we traverse ",n.jsx(o,{children:"C"})," in"," ",n.jsx(o,{children:"G'"}),", we start a new trail in ",n.jsx(o,{children:"G"})," ","each time we traverse an edge of ",n.jsx(o,{children:"G' - E(G)"}),". This yields ",n.jsx(o,{children:"k"})," trails decomposing ",n.jsx(o,{children:"G"}),"."]})]}),children:n.jsxs("p",{children:["For a connected nontrivial graph with exactly ",n.jsx(o,{children:"2k"})," odd vertices, the minimum number of trails that decompose it is"," ",n.jsx(o,{children:"\\max\\{k, 1\\}"}),"."]})}),n.jsx("h2",{children:"Key Ideas"}),n.jsx("div",{className:"bg-gradient-to-br from-primary-500/10 to-dark-800/50 rounded-xl p-6 my-6 border border-primary-500/20",children:n.jsxs("ul",{className:"space-y-3 text-dark-200",children:[n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-primary-400 font-bold",children:"1."}),n.jsxs("span",{children:["A ",n.jsx("strong",{children:"walk"})," allows repeated vertices and edges; a ",n.jsx("strong",{children:"trail"})," ","allows no repeated edges; a ",n.jsx("strong",{children:"path"})," allows no repeated vertices."]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-primary-400 font-bold",children:"2."}),n.jsxs("span",{children:["Every ",n.jsx(o,{children:"u, v"}),"-walk contains a ",n.jsx(o,{children:"u, v"}),"-path (by removing loops when vertices repeat)."]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-primary-400 font-bold",children:"3."}),n.jsxs("span",{children:["The ",n.jsx("strong",{children:"components"})," of a graph are the equivalence classes under the connection relation."]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-primary-400 font-bold",children:"4."}),n.jsxs("span",{children:["An edge is a ",n.jsx("strong",{children:"cut-edge"})," if and only if it belongs to no cycle."]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-primary-400 font-bold",children:"5."}),n.jsxs("span",{children:["A graph is ",n.jsx("strong",{children:"bipartite"})," if and only if it has no odd cycle (Knig)."]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-primary-400 font-bold",children:"6."}),n.jsxs("span",{children:["A graph is ",n.jsx("strong",{children:"Eulerian"})," (has a circuit using all edges) if and only if it has at most one nontrivial component and all vertices have even degree."]})]}),n.jsxs("li",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-primary-400 font-bold",children:"7."}),n.jsx("span",{children:"Every even graph decomposes into cycles."})]})]})})]})}function QJ(){return n.jsxs(kt,{sectionId:3,children:[n.jsx("p",{children:"The degrees of the vertices are fundamental parameters of a graph. In this section, we explore how vertex degrees lead to powerful counting arguments, characterize important graph families, and solve extremal problems about graph structure."}),n.jsx("h2",{children:"Basic Definitions"}),n.jsxs(ce,{title:"Degree of a Vertex",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"degree"})," of vertex ",n.jsx(o,{math:"v"})," in a graph ",n.jsx(o,{math:"G"}),", written ",n.jsx(o,{math:"d_G(v)"})," or ",n.jsx(o,{math:"d(v)"}),", is the number of edges incident to ",n.jsx(o,{math:"v"}),", except that each loop at ",n.jsx(o,{math:"v"})," counts twice."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"maximum degree"})," is ",n.jsx(o,{math:"\\Delta(G)"}),", the ",n.jsx("strong",{children:"minimum degree"})," is"," ",n.jsx(o,{math:"\\delta(G)"}),", and ",n.jsx(o,{math:"G"})," is ",n.jsx("strong",{children:"regular"})," if"," ",n.jsx(o,{math:"\\Delta(G) = \\delta(G)"}),". It is ",n.jsx("strong",{children:"k-regular"})," if the common degree is"," ",n.jsx(o,{math:"k"}),"."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"neighborhood"})," of ",n.jsx(o,{math:"v"}),", written ",n.jsx(o,{math:"N_G(v)"})," or"," ",n.jsx(o,{math:"N(v)"}),", is the set of vertices adjacent to ",n.jsx(o,{math:"v"}),"."]})]}),n.jsxs(ce,{title:"Order and Size",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"order"})," of a graph ",n.jsx(o,{math:"G"}),", written ",n.jsx(o,{math:"n(G)"}),", is the number of vertices in ",n.jsx(o,{math:"G"}),". An ",n.jsx("strong",{children:"n-vertex graph"})," is a graph of order ",n.jsx(o,{math:"n"}),"."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"size"})," of a graph ",n.jsx(o,{math:"G"}),", written ",n.jsx(o,{math:"e(G)"}),", is the number of edges in ",n.jsx(o,{math:"G"}),"."]}),n.jsxs("p",{className:"mt-2",children:["For ",n.jsx(o,{math:"n \\in \\mathbb{N}"}),", the notation ",n.jsx(o,{math:"[n]"})," indicates the set ",n.jsx(o,{math:"\\{1, \\ldots, n\\}"}),"."]})]}),n.jsx("h2",{children:"The Degree-Sum Formula"}),n.jsx("p",{children:'The first counting problem about subgraphs is to count the edges using vertex degrees. The resulting formula is an essential tool of graph theory, sometimes called the "First Theorem of Graph Theory" or the "Handshaking Lemma."'}),n.jsxs(J,{title:"Degree-Sum Formula (Handshaking Lemma)",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," is a graph, then"]}),n.jsx(ze,{math:"\\sum_{v \\in V(G)} d(v) = 2e(G)."}),n.jsxs("details",{className:"mt-4",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsx("p",{children:"Summing the degrees counts each edge twice, since each edge has two ends and contributes to the degree at each endpoint."}),n.jsxs("p",{className:"mt-2",children:["The proof holds even when ",n.jsx(o,{math:"G"})," has loops, since a loop contributes 2 to the degree of its endpoint. For a loopless graph, the two sides of the formula count the set of pairs ",n.jsx(o,{math:"(v, e)"})," such that ",n.jsx(o,{math:"v"})," is an endpoint of ",n.jsx(o,{math:"e"}),", grouped by vertices or grouped by edges."]})]})]})]}),n.jsx("p",{children:'"Counting two ways" is an elegant technique for proving integer identities. The degree-sum formula has several immediate corollaries.'}),n.jsxs(J,{title:"Corollary: Average Degree",children:[n.jsxs("p",{children:["In a graph ",n.jsx(o,{math:"G"}),", the average vertex degree is"," ",n.jsx(o,{math:"\\frac{2e(G)}{n(G)}"}),", and hence"]}),n.jsx(ze,{math:"\\delta(G) \\leq \\frac{2e(G)}{n(G)} \\leq \\Delta(G)."})]}),n.jsx(J,{title:"Corollary: Odd Degree Vertices",children:n.jsxs("p",{children:["Every graph has an ",n.jsx("strong",{children:"even number of vertices of odd degree"}),". No graph of odd order is regular with odd degree."]})}),n.jsx(J,{title:"Corollary: Edges in Regular Graphs",children:n.jsxs("p",{children:["A ",n.jsx(o,{math:"k"}),"-regular graph with ",n.jsx(o,{math:"n"})," vertices has ",n.jsx(o,{math:"nk/2"})," edges."]})}),n.jsx("h2",{children:"Hypercubes"}),n.jsxs(ce,{title:"k-dimensional Cube (Hypercube)",children:[n.jsxs("p",{children:["The ",n.jsxs("strong",{children:[n.jsx(o,{math:"k"}),"-dimensional cube"]})," or ",n.jsx("strong",{children:"hypercube"})," ",n.jsx(o,{math:"Q_k"})," is the simple graph whose vertices are the ",n.jsx(o,{math:"k"}),"-tuples with entries in ",n.jsx(o,{math:"\\{0, 1\\}"})," and whose edges are the pairs of"," ",n.jsx(o,{math:"k"}),"-tuples that differ in exactly one position."]}),n.jsxs("p",{className:"mt-2",children:["A ",n.jsxs("strong",{children:[n.jsx(o,{math:"j"}),"-dimensional subcube"]})," of ",n.jsx(o,{math:"Q_k"})," is a subgraph of ",n.jsx(o,{math:"Q_k"})," isomorphic to ",n.jsx(o,{math:"Q_j"}),"."]})]}),n.jsxs(we,{title:"Structure of Hypercubes",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"parity"})," of a vertex in ",n.jsx(o,{math:"Q_k"})," is the parity of the number of 1s in its name (even or odd). Each edge of ",n.jsx(o,{math:"Q_k"})," has an even vertex and an odd vertex as endpoints. Hence:"]}),n.jsxs("ul",{className:"list-disc ml-6 mt-2 space-y-1",children:[n.jsx("li",{children:"The even vertices form an independent set, as do the odd vertices"}),n.jsxs("li",{children:[n.jsx(o,{math:"Q_k"})," is bipartite"]}),n.jsxs("li",{children:[n.jsx(o,{math:"n(Q_k) = 2^k"})," (each position can be 0 or 1)"]}),n.jsxs("li",{children:[n.jsx(o,{math:"Q_k"})," is ",n.jsx(o,{math:"k"}),"-regular (change any one position)"]}),n.jsxs("li",{children:["By Corollary 1.3.6, ",n.jsx(o,{math:"e(Q_k) = k \\cdot 2^{k-1}"})]})]}),n.jsxs("p",{className:"mt-3",children:[n.jsx("strong",{children:"Recursive description:"})," To form ",n.jsx(o,{math:"Q_k"}),", take two copies of ",n.jsx(o,{math:"Q_{k-1}"}),", append 0 to all vertex names in one copy and 1 in the other, then add edges joining vertices whose first ",n.jsx(o,{math:"k-1"})," coordinates are equal. The basis is the 1-vertex graph ",n.jsx(o,{math:"Q_0"}),"."]})]}),n.jsxs(J,{title:"Regular Bipartite Graphs",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"k > 0"}),", then a ",n.jsx(o,{math:"k"}),"-regular bipartite graph has the same number of vertices in each partite set."]}),n.jsxs("details",{className:"mt-4",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:n.jsxs("p",{children:["Let ",n.jsx(o,{math:"G"})," be an ",n.jsx(o,{math:"X, Y"}),"-bigraph. Counting the edges according to their endpoints in ",n.jsx(o,{math:"X"})," yields"," ",n.jsx(o,{math:"e(G) = k|X|"}),". Counting them by their endpoints in"," ",n.jsx(o,{math:"Y"})," yields ",n.jsx(o,{math:"e(G) = k|Y|"}),". Thus"," ",n.jsx(o,{math:"k|X| = k|Y|"}),", which yields ",n.jsx(o,{math:"|X| = |Y|"})," when"," ",n.jsx(o,{math:"k > 0"}),"."]})})]})]}),n.jsx("h2",{children:"Extremal Problems"}),n.jsxs("p",{children:["An ",n.jsx("strong",{children:"extremal problem"})," asks for the maximum or minimum value of a function over a class of objects. For example, the maximum number of edges in a simple graph with ",n.jsx(o,{math:"n"})," vertices is ",n.jsx(o,{math:"\\binom{n}{2}"}),"."]}),n.jsxs(J,{title:"Minimum Edges for Connectivity",children:[n.jsxs("p",{children:["The minimum number of edges in a connected graph with ",n.jsx(o,{math:"n"})," vertices is ",n.jsx(o,{math:"n - 1"}),"."]}),n.jsxs("details",{className:"mt-4",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["Every graph with ",n.jsx(o,{math:"n"})," vertices and ",n.jsx(o,{math:"k"})," edges has at least ",n.jsx(o,{math:"n - k"})," components. Hence every ",n.jsx(o,{math:"n"}),"-vertex graph with fewer than ",n.jsx(o,{math:"n - 1"})," edges has at least two components and is disconnected."]}),n.jsxs("p",{className:"mt-2",children:["The contrapositive is that every connected ",n.jsx(o,{math:"n"}),"-vertex graph has at least ",n.jsx(o,{math:"n - 1"})," edges. This lower bound is achieved by the path ",n.jsx(o,{math:"P_n"}),"."]})]})]})]}),n.jsxs(J,{title:"Minimum Degree for Connectivity",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," is a simple ",n.jsx(o,{math:"n"}),"-vertex graph with"," ",n.jsx(o,{math:"\\delta(G) \\geq (n-1)/2"}),", then ",n.jsx(o,{math:"G"})," is connected."]}),n.jsxs("details",{className:"mt-4",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["Choose ",n.jsx(o,{math:"u, v \\in V(G)"}),". It suffices to show that"," ",n.jsx(o,{math:"u, v"})," have a common neighbor if they are not adjacent. Since ",n.jsx(o,{math:"G"})," is simple, we have"," ",n.jsx(o,{math:"|N(u)| \\geq \\delta(G) \\geq (n-1)/2"}),", and similarly for"," ",n.jsx(o,{math:"v"}),"."]}),n.jsxs("p",{className:"mt-2",children:["When ",n.jsx(o,{math:"u \\not\\leftrightarrow v"}),", we have"," ",n.jsx(o,{math:"|N(u) \\cup N(v)| \\leq n - 2"}),", since ",n.jsx(o,{math:"u"})," and"," ",n.jsx(o,{math:"v"})," are not in the union. Thus:"]}),n.jsx(ze,{math:"|N(u) \\cap N(v)| = |N(u)| + |N(v)| - |N(u) \\cup N(v)| \\geq \\frac{n-1}{2} + \\frac{n-1}{2} - (n-2) = 1."})]})]})]}),n.jsxs(we,{title:"Sharpness of the Bound",children:[n.jsxs("p",{children:["The bound ",n.jsx(o,{math:"\\delta(G) \\geq (n-1)/2"})," is ",n.jsx("strong",{children:"sharp"}),". Let"," ",n.jsx(o,{math:"G"})," be the ",n.jsx(o,{math:"n"}),"-vertex graph with components isomorphic to ",n.jsx(o,{math:"K_{\\lfloor n/2 \\rfloor}"})," and"," ",n.jsx(o,{math:"K_{\\lceil n/2 \\rceil}"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Since ",n.jsx(o,{math:"\\delta(G) = \\lfloor n/2 \\rfloor - 1"})," and ",n.jsx(o,{math:"G"})," is disconnected, the inequality cannot be weakened."]})]}),n.jsxs(ce,{title:"Disjoint Union",children:[n.jsxs("p",{children:["The graph obtained by taking the union of graphs ",n.jsx(o,{math:"G"})," and"," ",n.jsx(o,{math:"H"})," with disjoint vertex sets is the ",n.jsx("strong",{children:"disjoint union"})," or"," ",n.jsx("strong",{children:"sum"}),", written ",n.jsx(o,{math:"G + H"}),"."]}),n.jsxs("p",{className:"mt-2",children:["In general, ",n.jsx(o,{math:"mG"})," is the graph consisting of ",n.jsx(o,{math:"m"})," pairwise disjoint copies of ",n.jsx(o,{math:"G"}),"."]})]}),n.jsx("h2",{children:"Large Bipartite Subgraphs"}),n.jsxs(J,{title:"Large Bipartite Subgraphs",children:[n.jsxs("p",{children:["Every loopless graph ",n.jsx(o,{math:"G"})," has a bipartite subgraph with at least ",n.jsx(o,{math:"e(G)/2"})," edges."]}),n.jsxs("details",{className:"mt-4",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof (Algorithmic)"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["Start with any partition of ",n.jsx(o,{math:"V(G)"})," into two sets"," ",n.jsx(o,{math:"X, Y"}),". Using the edges having one endpoint in each set yields a bipartite subgraph ",n.jsx(o,{math:"H"})," with bipartition ",n.jsx(o,{math:"X, Y"}),"."]}),n.jsxs("p",{className:"mt-2",children:["If ",n.jsx(o,{math:"H"})," contains fewer than half the edges of ",n.jsx(o,{math:"G"})," incident to a vertex ",n.jsx(o,{math:"v"}),", then ",n.jsx(o,{math:"v"})," has more edges to vertices in its own class than in the other class. Moving ",n.jsx(o,{math:"v"})," to the other class gains more edges than it loses."]}),n.jsxs("p",{className:"mt-2",children:["Each such switch increases the size of the subgraph, so the process must terminate. When it terminates, ",n.jsx(o,{math:"d_H(v) \\geq d_G(v)/2"})," for every"," ",n.jsx(o,{math:"v \\in V(G)"}),". Summing this and applying the degree-sum formula yields ",n.jsx(o,{math:"e(H) \\geq e(G)/2"}),"."]})]})]})]}),n.jsx("h2",{children:"Mantel's Theorem"}),n.jsx(ce,{title:"H-free Graphs",children:n.jsxs("p",{children:["A graph ",n.jsx(o,{math:"G"})," is ",n.jsxs("strong",{children:[n.jsx(o,{math:"H"}),"-free"]})," if"," ",n.jsx(o,{math:"G"})," has no induced subgraph isomorphic to ",n.jsx(o,{math:"H"}),"."]})}),n.jsxs(J,{title:"Mantel's Theorem (1907)",children:[n.jsxs("p",{children:["The maximum number of edges in an ",n.jsx(o,{math:"n"}),"-vertex triangle-free simple graph is ",n.jsx(o,{math:"\\lfloor n^2/4 \\rfloor"}),"."]}),n.jsxs("details",{className:"mt-4",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["Let ",n.jsx(o,{math:"G"})," be an ",n.jsx(o,{math:"n"}),"-vertex triangle-free simple graph. Let ",n.jsx(o,{math:"x"})," be a vertex of maximum degree, with"," ",n.jsx(o,{math:"k = d(x)"}),". Since ",n.jsx(o,{math:"G"})," has no triangles, there are no edges among neighbors of ",n.jsx(o,{math:"x"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Hence summing the degrees of ",n.jsx(o,{math:"x"})," and its non-neighbors counts at least one endpoint of every edge:"]}),n.jsx(ze,{math:"\\sum_{v \\notin N(x)} d(v) \\geq e(G)."}),n.jsxs("p",{className:"mt-2",children:["We sum over ",n.jsx(o,{math:"n - k"})," vertices, each having degree at most"," ",n.jsx(o,{math:"k"}),", so ",n.jsx(o,{math:"e(G) \\leq (n-k)k"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Since ",n.jsx(o,{math:"(n-k)k"})," counts the edges in ",n.jsx(o,{math:"K_{n-k,k}"}),", we have proved that ",n.jsx(o,{math:"e(G)"})," is bounded by the size of some biclique with ",n.jsx(o,{math:"n"})," vertices. The product ",n.jsx(o,{math:"(n-k)k"})," is maximized when ",n.jsx(o,{math:"k = \\lceil n/2 \\rceil"})," or ",n.jsx(o,{math:"k = \\lfloor n/2 \\rfloor"}),". Thus ",n.jsx(o,{math:"e(G) \\leq \\lfloor n^2/4 \\rfloor"}),"."]}),n.jsxs("p",{className:"mt-2",children:["To prove the bound is best possible, we exhibit a triangle-free graph with"," ",n.jsx(o,{math:"\\lfloor n^2/4 \\rfloor"})," edges:"," ",n.jsx(o,{math:"K_{\\lfloor n/2 \\rfloor, \\lceil n/2 \\rceil}"}),"."]})]})]})]}),n.jsx("h2",{children:"Graphic Sequences"}),n.jsx(ce,{title:"Degree Sequence",children:n.jsxs("p",{children:["The ",n.jsx("strong",{children:"degree sequence"})," of a graph is the list of vertex degrees, usually written in nonincreasing order, as ",n.jsx(o,{math:"d_1 \\geq \\cdots \\geq d_n"}),"."]})}),n.jsxs("p",{children:["Every graph has a degree sequence, but which sequences occur? The degree-sum formula implies that ",n.jsx(o,{math:"\\sum d_i"})," must be even. When we allow loops and multiple edges, this condition is sufficient:"]}),n.jsx(J,{title:"Realizability with Loops",children:n.jsxs("p",{children:["The nonnegative integers ",n.jsx(o,{math:"d_1, \\ldots, d_n"})," are the vertex degrees of some graph if and only if ",n.jsx(o,{math:"\\sum d_i"})," is even."]})}),n.jsx(ce,{title:"Graphic Sequence",children:n.jsxs("p",{children:["A ",n.jsx("strong",{children:"graphic sequence"})," is a list of nonnegative numbers that is the degree sequence of some simple graph. A simple graph with degree sequence ",n.jsx(o,{math:"d"})," ",'"realizes" ',n.jsx(o,{math:"d"}),"."]})}),n.jsxs(J,{title:"Havel-Hakimi Theorem (1955, 1962)",children:[n.jsxs("p",{children:["For ",n.jsx(o,{math:"n > 1"}),", an integer list ",n.jsx(o,{math:"d"})," of size"," ",n.jsx(o,{math:"n"})," is graphic if and only if ",n.jsx(o,{math:"d'"})," is graphic, where ",n.jsx(o,{math:"d'"})," is obtained from ",n.jsx(o,{math:"d"})," by deleting its largest element ",n.jsx(o,{math:"\\Delta"})," and subtracting 1 from its"," ",n.jsx(o,{math:"\\Delta"})," next largest elements."]}),n.jsxs("p",{className:"mt-2",children:["The only 1-element graphic sequence is ",n.jsx(o,{math:"d_1 = 0"}),"."]}),n.jsxs("details",{className:"mt-4",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Sufficiency:"})," Given a simple graph ",n.jsx(o,{math:"G'"})," with degree sequence ",n.jsx(o,{math:"d'"}),", add a new vertex adjacent to vertices with degrees"," ",n.jsx(o,{math:"d_2 - 1, \\ldots, d_{\\Delta+1} - 1"}),"."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Necessity:"})," Begin with a simple graph ",n.jsx(o,{math:"G"})," realizing"," ",n.jsx(o,{math:"d"}),". Using 2-switches (edge swaps that preserve degrees), we can transform ",n.jsx(o,{math:"G"})," so that a vertex of maximum degree is adjacent to vertices with the ",n.jsx(o,{math:"\\Delta"})," highest other degrees. Deleting this vertex yields a graph realizing ",n.jsx(o,{math:"d'"}),"."]})]})]})]}),n.jsxs(we,{title:"Testing Graphic Sequences",children:[n.jsxs("p",{children:["To test whether ",n.jsx(o,{math:"3, 3, 3, 3, 3, 2, 2, 1"})," is graphic:"]}),n.jsxs("ol",{className:"list-decimal ml-6 mt-2 space-y-1",children:[n.jsxs("li",{children:["Delete 3, subtract 1 from next 3 largest: ",n.jsx(o,{math:"2, 2, 2, 3, 2, 2, 1"})]}),n.jsxs("li",{children:["Reorder: ",n.jsx(o,{math:"3, 2, 2, 2, 2, 2, 1"})]}),n.jsxs("li",{children:["Delete 3, subtract 1 from next 3: ",n.jsx(o,{math:"1, 1, 1, 2, 2, 1"})]}),n.jsxs("li",{children:["Reorder: ",n.jsx(o,{math:"2, 2, 1, 1, 1, 1"})]}),n.jsxs("li",{children:["Continue until reaching ",n.jsx(o,{math:"1, 1, 1, 1, 0"})," or similar base case"]})]}),n.jsx("p",{className:"mt-2",children:"If we reach all zeros, the sequence is graphic. If we get negative numbers or cannot continue, it is not."})]}),n.jsx("h2",{children:"2-Switches"}),n.jsx(ce,{title:"2-Switch",children:n.jsxs("p",{children:["A ",n.jsx("strong",{children:"2-switch"})," is the replacement of a pair of edges ",n.jsx(o,{math:"xy"})," and"," ",n.jsx(o,{math:"zw"})," in a simple graph by the edges ",n.jsx(o,{math:"yz"})," and"," ",n.jsx(o,{math:"wx"}),", given that ",n.jsx(o,{math:"yz"})," and ",n.jsx(o,{math:"wx"})," did not appear in the graph originally."]})}),n.jsxs("p",{children:["A 2-switch preserves all vertex degrees. If ",n.jsx(o,{math:"y \\leftrightarrow z"})," or"," ",n.jsx(o,{math:"w \\leftrightarrow x"}),", then the 2-switch cannot be performed because the resulting graph would not be simple."]}),n.jsx(J,{title:"Berge's Theorem on 2-Switches",children:n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," and ",n.jsx(o,{math:"H"})," are two simple graphs with vertex set ",n.jsx(o,{math:"V"}),", then ",n.jsx(o,{math:"d_G(v) = d_H(v)"})," for every"," ",n.jsx(o,{math:"v \\in V"})," if and only if there is a sequence of 2-switches that transforms ",n.jsx(o,{math:"G"})," into ",n.jsx(o,{math:"H"}),"."]})}),n.jsx("p",{children:"This theorem shows that any two simple graphs with the same degree sequence are connected by a sequence of local edge-swapping operations."}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[n.jsxs("li",{children:["The ",n.jsx("strong",{children:"Degree-Sum Formula"})," ",n.jsx(o,{math:"\\sum d(v) = 2e(G)"})," is fundamental, implying that every graph has an even number of odd-degree vertices."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Hypercubes"})," ",n.jsx(o,{math:"Q_k"})," are ",n.jsx(o,{math:"k"}),"-regular bipartite graphs with ",n.jsx(o,{math:"2^k"})," vertices and ",n.jsx(o,{math:"k2^{k-1}"})," edges."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Extremal problems"})," ask for the maximum/minimum of a function over a class of graphs; proving sharpness requires both a bound and an achieving example."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Mantel's Theorem:"})," The maximum edges in a triangle-free"," ",n.jsx(o,{math:"n"}),"-vertex graph is ",n.jsx(o,{math:"\\lfloor n^2/4 \\rfloor"}),", achieved by ",n.jsx(o,{math:"K_{\\lfloor n/2 \\rfloor, \\lceil n/2 \\rceil}"}),"."]}),n.jsxs("li",{children:["The ",n.jsx("strong",{children:"Havel-Hakimi Theorem"})," provides a recursive algorithm to test whether a sequence of integers is graphic (realizable by a simple graph)."]})]})]})}function JJ(){return n.jsxs(kt,{sectionId:4,children:[n.jsxs("p",{children:["We have used graphs to model symmetric relations. Relations need not be symmetric; in general, a relation on ",n.jsx(o,{math:"S"})," can be any set of ordered pairs in ",n.jsx(o,{math:"S \\times S"}),". For such relations, we need a more general model:",n.jsx("strong",{children:" directed graphs"}),"."]}),n.jsx("h2",{children:"Definitions and Examples"}),n.jsxs(ce,{title:"Directed Graph (Digraph)",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"directed graph"})," or ",n.jsx("strong",{children:"digraph"})," ",n.jsx(o,{math:"G"})," is a triple consisting of a ",n.jsx("strong",{children:"vertex set"})," ",n.jsx(o,{math:"V(G)"}),", an"," ",n.jsx("strong",{children:"edge set"})," ",n.jsx(o,{math:"E(G)"}),", and a function assigning each edge an ordered pair of vertices."]}),n.jsxs("p",{className:"mt-2",children:["The first vertex of the ordered pair is the ",n.jsx("strong",{children:"tail"})," of the edge, and the second is the ",n.jsx("strong",{children:"head"}),"; together, they are the ",n.jsx("strong",{children:"endpoints"}),". We say that an edge is an edge ",n.jsx("em",{children:"from"})," its tail ",n.jsx("em",{children:"to"})," its head."]})]}),n.jsx("p",{children:'The terms "head" and "tail" come from the arrows used to draw digraphs. When drawing a digraph, we give each curve a direction from the tail to the head.'}),n.jsxs(ce,{title:"Simple Digraphs",children:[n.jsxs("p",{children:["In a digraph, a ",n.jsx("strong",{children:"loop"})," is an edge whose endpoints are equal."," ",n.jsx("strong",{children:"Multiple edges"})," are edges having the same ordered pair of endpoints."]}),n.jsxs("p",{className:"mt-2",children:["A digraph is ",n.jsx("strong",{children:"simple"})," if each ordered pair is the head and tail of at most one edge; one loop may be present at each vertex."]}),n.jsxs("p",{className:"mt-2",children:["In a simple digraph, we write ",n.jsx(o,{math:"uv"})," for an edge with tail"," ",n.jsx(o,{math:"u"})," and head ",n.jsx(o,{math:"v"}),". If there is an edge from"," ",n.jsx(o,{math:"u"})," to ",n.jsx(o,{math:"v"}),", then ",n.jsx(o,{math:"v"})," is a"," ",n.jsx("strong",{children:"successor"})," of ",n.jsx(o,{math:"u"}),", and ",n.jsx(o,{math:"u"})," is a"," ",n.jsx("strong",{children:"predecessor"})," of ",n.jsx(o,{math:"v"}),". We write"," ",n.jsx(o,{math:"u \\to v"}),' for "there is an edge from ',n.jsx(o,{math:"u"})," to"," ",n.jsx(o,{math:"v"}),'".']})]}),n.jsxs(we,{title:"Finite State Machines",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"finite state machine"}),' (also called finite automaton or discrete system) has a number of possible "states". Such a system can be modeled using a digraph in which vertices represent the states and edges represent the possible transitions between states.']}),n.jsx("p",{className:"mt-2",children:"Transitions inherently move in one direction, so digraphs provide the appropriate model. Labels on the edges can record the events that cause the transitions. When an event causes the system to remain in the same state, we have a loop."})]}),n.jsxs(we,{title:"Functional Digraphs",children:[n.jsxs("p",{children:["We can study a function ",n.jsx(o,{math:"f: A \\to A"})," using digraphs. The"," ",n.jsx("strong",{children:"functional digraph"})," of ",n.jsx(o,{math:"f"})," is the simple digraph with vertex set ",n.jsx(o,{math:"A"})," and edge set"," ",n.jsx(o,{math:"\\{(x, f(x)): x \\in A\\}"}),"."]}),n.jsxs("p",{className:"mt-2",children:["For each ",n.jsx(o,{math:"x"}),", the single edge with tail ",n.jsx(o,{math:"x"})," points to the image of ",n.jsx(o,{math:"x"})," under ",n.jsx(o,{math:"f"}),". Following a path corresponds to iterating the function."]}),n.jsxs("p",{className:"mt-2",children:["In a ",n.jsx("strong",{children:"permutation"}),", each element is the image of exactly one element, so the functional digraph has one head and one tail at each vertex. Hence the functional digraph of a permutation consists of disjoint cycles."]})]}),n.jsx("h2",{children:"Underlying Graphs and Connectivity"}),n.jsx(ce,{title:"Underlying Graph",children:n.jsxs("p",{children:["The ",n.jsx("strong",{children:"underlying graph"})," of a digraph ",n.jsx(o,{math:"D"})," is the graph ",n.jsx(o,{math:"G"})," obtained by treating the edges of ",n.jsx(o,{math:"D"})," as unordered pairs; the vertex set and edge set remain the same, and the endpoints of an edge are the same in ",n.jsx(o,{math:"G"})," as in ",n.jsx(o,{math:"D"}),", but in"," ",n.jsx(o,{math:"G"})," they become an unordered pair."]})}),n.jsxs(ce,{title:"Paths and Cycles in Digraphs",children:[n.jsxs("p",{children:["A digraph is a ",n.jsx("strong",{children:"path"})," if it is a simple digraph whose vertices can be linearly ordered so that there is an edge with tail ",n.jsx(o,{math:"u"})," and head"," ",n.jsx(o,{math:"v"})," if and only if ",n.jsx(o,{math:"v"})," immediately follows"," ",n.jsx(o,{math:"u"})," in the vertex ordering."]}),n.jsxs("p",{className:"mt-2",children:["A ",n.jsx("strong",{children:"cycle"})," is defined similarly using an ordering of the vertices on a circle."]})]}),n.jsxs(ce,{title:"Weak and Strong Connectivity",children:[n.jsxs("p",{children:["A digraph is ",n.jsx("strong",{children:"weakly connected"})," if its underlying graph is connected."]}),n.jsxs("p",{className:"mt-2",children:["A digraph is ",n.jsx("strong",{children:"strongly connected"})," or ",n.jsx("strong",{children:"strong"})," if for each ordered pair ",n.jsx(o,{math:"u, v"})," of vertices, there is a path from"," ",n.jsx(o,{math:"u"})," to ",n.jsx(o,{math:"v"}),"."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"strong components"})," of a digraph are its maximal strong subgraphs."]})]}),n.jsx(we,{title:"Strong Components",children:n.jsxs("p",{children:["The 2-vertex digraph consisting only of the edge ",n.jsx(o,{math:"xy"})," has an"," ",n.jsx(o,{math:"x, y"}),"-path but no ",n.jsx(o,{math:"y, x"}),"-path and is not strongly connected. As a digraph, an ",n.jsx(o,{math:"n"}),"-vertex path has"," ",n.jsx(o,{math:"n"})," strong components, but a cycle has only one."]})}),n.jsxs(ce,{title:"Matrices for Digraphs",children:[n.jsxs("p",{children:["In the ",n.jsx("strong",{children:"adjacency matrix"})," ",n.jsx(o,{math:"A(G)"})," of a digraph"," ",n.jsx(o,{math:"G"}),", the entry in position ",n.jsx(o,{math:"i, j"})," is the number of edges from ",n.jsx(o,{math:"v_i"})," to ",n.jsx(o,{math:"v_j"}),"."]}),n.jsxs("p",{className:"mt-2",children:["In the ",n.jsx("strong",{children:"incidence matrix"})," ",n.jsx(o,{math:"M(G)"})," of a loopless digraph"," ",n.jsx(o,{math:"G"}),", we set ",n.jsx(o,{math:"m_{i,j} = +1"})," if"," ",n.jsx(o,{math:"v_i"})," is the tail of ",n.jsx(o,{math:"e_j"})," and"," ",n.jsx(o,{math:"m_{i,j} = -1"})," if ",n.jsx(o,{math:"v_i"})," is the head of"," ",n.jsx(o,{math:"e_j"}),"."]})]}),n.jsx("h2",{children:"Vertex Degrees in Digraphs"}),n.jsxs(ce,{title:"Indegree and Outdegree",children:[n.jsxs("p",{children:["Let ",n.jsx(o,{math:"v"})," be a vertex in a digraph."]}),n.jsxs("ul",{className:"list-disc ml-6 mt-2 space-y-1",children:[n.jsxs("li",{children:["The ",n.jsx("strong",{children:"outdegree"})," ",n.jsx(o,{math:"d^+(v)"})," is the number of edges with tail ",n.jsx(o,{math:"v"}),"."]}),n.jsxs("li",{children:["The ",n.jsx("strong",{children:"indegree"})," ",n.jsx(o,{math:"d^-(v)"})," is the number of edges with head ",n.jsx(o,{math:"v"}),"."]}),n.jsxs("li",{children:["The ",n.jsx("strong",{children:"out-neighborhood"})," or ",n.jsx("strong",{children:"successor set"})," ",n.jsx(o,{math:"N^+(v) = \\{x \\in V(G): v \\to x\\}"}),"."]}),n.jsxs("li",{children:["The ",n.jsx("strong",{children:"in-neighborhood"})," or ",n.jsx("strong",{children:"predecessor set"})," ",n.jsx(o,{math:"N^-(v) = \\{x \\in V(G): x \\to v\\}"}),"."]})]}),n.jsxs("p",{className:"mt-2",children:["The minimum and maximum indegree are ",n.jsx(o,{math:"\\delta^-(G)"})," and"," ",n.jsx(o,{math:"\\Delta^-(G)"}),"; for outdegree we use ",n.jsx(o,{math:"\\delta^+(G)"})," ","and ",n.jsx(o,{math:"\\Delta^+(G)"}),"."]})]}),n.jsxs(J,{title:"Degree-Sum Formula for Digraphs",children:[n.jsxs("p",{children:["In a digraph ",n.jsx(o,{math:"G"}),","]}),n.jsx(ze,{math:"\\sum_{v \\in V(G)} d^+(v) = e(G) = \\sum_{v \\in V(G)} d^-(v)."}),n.jsxs("details",{className:"mt-4",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:n.jsx("p",{children:"Every edge has exactly one tail and exactly one head."})})]})]}),n.jsx("h2",{children:"Eulerian Digraphs"}),n.jsxs("p",{children:['The definitions of trail, walk, circuit, and the connection relation are the same in graphs and digraphs when we list edges as ordered pairs of vertices. In a digraph, the successive edges must "follow the arrows". In a walk'," ",n.jsx(o,{math:"v_0, e_1, \\ldots, e_k, v_k"}),", the edge ",n.jsx(o,{math:"e_i"})," has tail ",n.jsx(o,{math:"v_{i-1}"})," and head ",n.jsx(o,{math:"v_i"}),"."]}),n.jsx(ce,{title:"Eulerian Digraphs",children:n.jsxs("p",{children:["An ",n.jsx("strong",{children:"Eulerian trail"})," in a digraph (or graph) is a trail containing all edges. An ",n.jsx("strong",{children:"Eulerian circuit"})," is a closed trail containing all edges. A digraph is ",n.jsx("strong",{children:"Eulerian"})," if it has an Eulerian circuit."]})}),n.jsx(J,{title:"Characterization of Eulerian Digraphs",children:n.jsxs("p",{children:["A digraph is Eulerian if and only if ",n.jsx(o,{math:"d^+(v) = d^-(v)"})," for each vertex ",n.jsx(o,{math:"v"})," and the underlying graph has at most one nontrivial component."]})}),n.jsx("p",{children:"Every Eulerian digraph with no isolated vertices is strongly connected, although the characterization states that being weakly connected is sufficient."}),n.jsxs(we,{title:"de Bruijn Cycles",children:[n.jsxs("p",{children:["There are ",n.jsx(o,{math:"2^n"})," binary strings of length ",n.jsx(o,{math:"n"}),". Is there a cyclic arrangement of ",n.jsx(o,{math:"2^n"})," binary digits such that the"," ",n.jsx(o,{math:"2^n"})," strings of ",n.jsx(o,{math:"n"})," consecutive digits are all distinct?"]}),n.jsxs("p",{className:"mt-2",children:["For ",n.jsx(o,{math:"n = 4"}),", the sequence ",n.jsx("code",{children:"(0000111101100101)"})," works."]}),n.jsxs("p",{className:"mt-2",children:["Define a digraph ",n.jsx(o,{math:"D_n"})," whose vertices are the binary"," ",n.jsx(o,{math:"(n-1)"}),"-tuples. Put an edge from ",n.jsx(o,{math:"a"})," to"," ",n.jsx(o,{math:"b"})," if the last ",n.jsx(o,{math:"n-2"})," entries of"," ",n.jsx(o,{math:"a"})," agree with the first ",n.jsx(o,{math:"n-2"})," entries of"," ",n.jsx(o,{math:"b"}),". Label the edge with the last entry of ",n.jsx(o,{math:"b"}),"."]})]}),n.jsxs(J,{title:"de Bruijn Graphs are Eulerian",children:[n.jsxs("p",{children:["The digraph ",n.jsx(o,{math:"D_n"})," is Eulerian, and the edge labels on any Eulerian circuit of ",n.jsx(o,{math:"D_n"})," form a cyclic arrangement in which the"," ",n.jsx(o,{math:"2^n"})," consecutive segments of length ",n.jsx(o,{math:"n"})," are distinct."]}),n.jsxs("details",{className:"mt-4",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["Every vertex has outdegree 2 (append 0 or 1 to get a successor) and indegree 2 (prepend 0 or 1 in reverse). Also, ",n.jsx(o,{math:"D_n"})," is strongly connected because we can reach any vertex ",n.jsx(o,{math:"b = (b_1, \\ldots, b_{n-1})"})," from any vertex by following edges labeled ",n.jsx(o,{math:"b_1, \\ldots, b_{n-1}"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Since the ",n.jsx(o,{math:"2^{n-1}"})," vertex labels are distinct, and the two edges leaving each vertex have distinct labels, traversing each edge exactly once produces"," ",n.jsx(o,{math:"2^n"})," distinct strings of length ",n.jsx(o,{math:"n"}),"."]})]})]})]}),n.jsx("h2",{children:"Orientations and Tournaments"}),n.jsxs(ce,{title:"Orientations and Tournaments",children:[n.jsxs("p",{children:["An ",n.jsx("strong",{children:"orientation"})," of a graph ",n.jsx(o,{math:"G"})," is a digraph"," ",n.jsx(o,{math:"D"})," obtained from ",n.jsx(o,{math:"G"})," by choosing an orientation (",n.jsx(o,{math:"x \\to y"})," or ",n.jsx(o,{math:"y \\to x"}),") for each edge"," ",n.jsx(o,{math:"xy \\in E(G)"}),"."]}),n.jsxs("p",{className:"mt-2",children:["An ",n.jsx("strong",{children:"oriented graph"})," is an orientation of a simple graph."]}),n.jsxs("p",{className:"mt-2",children:["A ",n.jsx("strong",{children:"tournament"})," is an orientation of a complete graph."]})]}),n.jsxs("p",{children:["An oriented graph is the same thing as a loopless simple digraph. The number of oriented graphs with vertices ",n.jsx(o,{math:"v_1, \\ldots, v_n"})," is"," ",n.jsx(o,{math:"3^{\\binom{n}{2}}"}),"; the number of tournaments is"," ",n.jsx(o,{math:"2^{\\binom{n}{2}}"}),"."]}),n.jsxs(we,{title:"Round-Robin Tournaments",children:[n.jsxs("p",{children:['Orientations of complete graphs model "round-robin tournaments". Consider an'," ",n.jsx(o,{math:"n"}),"-team league where each team plays every other exactly once. For each pair ",n.jsx(o,{math:"u, v"}),", we include edge ",n.jsx(o,{math:"uv"})," if"," ",n.jsx(o,{math:"u"})," wins or ",n.jsx(o,{math:"vu"})," if ",n.jsx(o,{math:"v"})," wins."]}),n.jsxs("p",{className:"mt-2",children:['The "score" of a team is its outdegree, which equals its number of wins. We call the outdegree sequence of a tournament its ',n.jsx("strong",{children:"score sequence"}),"."]}),n.jsxs("p",{className:"mt-2",children:["The outdegrees determine the indegrees, since"," ",n.jsx(o,{math:"d^+(v) + d^-(v) = n - 1"})," for every vertex ",n.jsx(o,{math:"v"}),"."]})]}),n.jsx("h2",{children:"Kings in Tournaments"}),n.jsxs("p",{children:['A tournament may have more than one vertex with maximum outdegree, so there may be no clear "winner". Although there need not be a clear winner, we show next that there must always be a team ',n.jsx(o,{math:"x"})," such that, for every other team"," ",n.jsx(o,{math:"z"}),", either ",n.jsx(o,{math:"x"})," beats ",n.jsx(o,{math:"z"})," or"," ",n.jsx(o,{math:"x"})," beats some team that beats ",n.jsx(o,{math:"z"}),"."]}),n.jsx(ce,{title:"King",children:n.jsxs("p",{children:["In a digraph, a ",n.jsx("strong",{children:"king"})," is a vertex from which every vertex is reachable by a path of length at most 2."]})}),n.jsxs(J,{title:"Landau's Theorem (1953)",children:[n.jsx("p",{children:"Every tournament has a king."}),n.jsxs("details",{className:"mt-4",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["Let ",n.jsx(o,{math:"x"})," be a vertex in a tournament ",n.jsx(o,{math:"T"}),". If ",n.jsx(o,{math:"x"})," is not a king, then some vertex ",n.jsx(o,{math:"y"})," is not reachable from ",n.jsx(o,{math:"x"})," by a path of length at most 2."]}),n.jsxs("p",{className:"mt-2",children:["Hence no successor of ",n.jsx(o,{math:"x"})," is a predecessor of"," ",n.jsx(o,{math:"y"}),". Since ",n.jsx(o,{math:"T"})," is an orientation of a clique, every successor of ",n.jsx(o,{math:"x"})," must be a successor of"," ",n.jsx(o,{math:"y"}),". Also ",n.jsx(o,{math:"y \\to x"}),". Hence"," ",n.jsx(o,{math:"d^+(y) > d^+(x)"}),"."]}),n.jsxs("p",{className:"mt-2",children:["If ",n.jsx(o,{math:"y"})," is not a king, repeat the argument to find"," ",n.jsx(o,{math:"z"})," with yet larger outdegree. Since ",n.jsx(o,{math:"T"})," is finite, we cannot forever obtain vertices of successively higher outdegree. The procedure must terminate, and it can terminate only when we have found a king."]})]})]})]}),n.jsxs("p",{children:["In the language of extremality, we have proved that"," ",n.jsx("strong",{children:"every vertex of maximum outdegree in a tournament is a king"}),"."]}),n.jsx("h2",{children:"Kernels in Digraphs"}),n.jsx(ce,{title:"Kernel",children:n.jsxs("p",{children:["A ",n.jsx("strong",{children:"kernel"})," in the digraph ",n.jsx(o,{math:"D"})," is a set"," ",n.jsx(o,{math:"S \\subseteq V(D)"})," such that ",n.jsx(o,{math:"S"})," induces no edges and every vertex outside ",n.jsx(o,{math:"S"})," has a successor in ",n.jsx(o,{math:"S"}),"."]})}),n.jsx("p",{children:"A digraph that is an odd cycle has no kernel, but forbidding odd cycles as subdigraphs always yields a kernel."}),n.jsxs(J,{title:"Richardson's Theorem (1953)",children:[n.jsx("p",{children:"Every digraph having no odd cycle has a kernel."}),n.jsxs("details",{className:"mt-4",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["For a strongly connected digraph ",n.jsx(o,{math:"D"})," with no odd cycle: given an arbitrary vertex ",n.jsx(o,{math:"y \\in V(D)"}),", let ",n.jsx(o,{math:"S"})," be the set of vertices with even distance to ",n.jsx(o,{math:"y"}),". Every vertex with odd distance to ",n.jsx(o,{math:"y"})," has a successor in ",n.jsx(o,{math:"S"}),"."]}),n.jsxs("p",{className:"mt-2",children:["If vertices of ",n.jsx(o,{math:"S"})," were not pairwise nonadjacent, there would be an edge ",n.jsx(o,{math:"uv"})," with ",n.jsx(o,{math:"u, v \\in S"}),", leading to a closed odd walk, which contains an odd cyclea contradiction."]}),n.jsxs("p",{className:"mt-2",children:["For the general case, use induction on ",n.jsx(o,{math:"n(D)"}),", building the kernel from kernels of strong components."]})]})]})]}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[n.jsxs("li",{children:["A ",n.jsx("strong",{children:"digraph"})," has directed edges with a tail and head; it models asymmetric relations."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Indegree"})," ",n.jsx(o,{math:"d^-(v)"})," counts incoming edges;"," ",n.jsx("strong",{children:"outdegree"})," ",n.jsx(o,{math:"d^+(v)"})," counts outgoing edges. Their sums both equal ",n.jsx(o,{math:"e(G)"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Strongly connected"})," digraphs have paths between every ordered pair;"," ",n.jsx("strong",{children:"weakly connected"})," only requires the underlying graph to be connected."]}),n.jsxs("li",{children:["A digraph is ",n.jsx("strong",{children:"Eulerian"})," iff ",n.jsx(o,{math:"d^+(v) = d^-(v)"})," for all vertices and the underlying graph has at most one nontrivial component."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Tournaments"})," are orientations of complete graphs; every tournament has a ",n.jsx("strong",{children:"king"})," (a vertex reaching all others in at most 2 steps)."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"de Bruijn graphs"})," are Eulerian digraphs used to generate sequences where all ",n.jsx(o,{math:"n"}),"-substrings are distinct."]})]})]})}function eee(){return n.jsxs(kt,{sectionId:5,children:[n.jsx("p",{children:'The word "tree" suggests branching out from a root and never completing a cycle. Trees as graphs have many applications, especially in data storage, searching, and communication networks. In this section, we develop the fundamental properties of trees and introduce the important concept of distance in graphs.'}),n.jsx("h2",{children:"Interactive Tree Visualizer"}),n.jsx("p",{children:"Use the interactive tool below to explore tree properties. Select a root vertex to see the hierarchical structure, compute distances, and find the tree's center and radius."}),n.jsx(DJ,{className:"my-8"}),n.jsx("h2",{children:"Basic Definitions"}),n.jsxs(ce,{title:"Trees and Forests",children:[n.jsxs("p",{children:["A graph with no cycle is ",n.jsx("strong",{children:"acyclic"}),". A ",n.jsx("strong",{children:"forest"})," is an acyclic graph. A ",n.jsx("strong",{children:"tree"})," is a connected acyclic graph."]}),n.jsxs("p",{children:["A ",n.jsx("strong",{children:"leaf"})," (or ",n.jsx("strong",{children:"pendant vertex"}),") is a vertex of degree 1."]}),n.jsxs("p",{children:["A ",n.jsx("strong",{children:"spanning subgraph"})," of ",n.jsx(o,{math:"G"})," is a subgraph with vertex set ",n.jsx(o,{math:"V(G)"}),". A ",n.jsx("strong",{children:"spanning tree"})," is a spanning subgraph that is a tree."]})]}),n.jsxs(we,{title:"Trees and Forests",children:[n.jsx("p",{children:"A tree is a connected forest, and every component of a forest is a tree. Since a graph with no cycles has no odd cycles, trees and forests are bipartite."}),n.jsxs("p",{children:[n.jsx("strong",{children:"Paths are trees:"})," A tree is a path if and only if its maximum degree is 2."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Stars:"})," A ",n.jsx("em",{children:"star"})," is a tree consisting of one vertex adjacent to all the others. The ",n.jsx(o,{math:"n"}),"-vertex star is the biclique ",n.jsx(o,{math:"K_{1,n-1}"}),"."]}),n.jsxs("p",{children:["A graph that is a tree has exactly one spanning tree: the full graph itself. Note that a spanning subgraph of ",n.jsx(o,{math:"G"})," need not be connected, and a connected subgraph of ",n.jsx(o,{math:"G"})," need not be spanning."]})]}),n.jsx("h2",{children:"Properties of Trees"}),n.jsx("p",{children:"Trees have many equivalent characterizations, any of which could be taken as the definition. Such characterizations are useful because we need only verify that a graph satisfies any one of them to prove that it is a tree, after which we can use all the other properties."}),n.jsxs(J,{title:"Lemma (Leaves in Trees)",children:[n.jsxs("p",{children:["Every tree with at least two vertices has at least two leaves. Deleting a leaf from an ",n.jsx(o,{math:"n"}),"-vertex tree produces a tree with"," ",n.jsx(o,{math:"n-1"})," vertices."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsx("p",{children:"A connected graph with at least two vertices has an edge. In an acyclic graph, an endpoint of a maximal nontrivial path has no neighbor other than its neighbor on the path. Hence the endpoints of such a path are leaves."}),n.jsxs("p",{className:"mt-2",children:["Let ",n.jsx(o,{math:"v"})," be a leaf of a tree ",n.jsx(o,{math:"G"}),", and let ",n.jsx(o,{math:"G' = G - v"}),". A vertex of degree 1 belongs to no path connecting two other vertices. Therefore, for"," ",n.jsx(o,{math:"u, w \\in V(G')"}),", every ",n.jsx(o,{math:"u,w"}),"-path in ",n.jsx(o,{math:"G"})," is also in ",n.jsx(o,{math:"G'"}),". Hence"," ",n.jsx(o,{math:"G'"})," is connected. Since deleting a vertex cannot create a cycle, ",n.jsx(o,{math:"G'"})," is also acyclic. Thus"," ",n.jsx(o,{math:"G'"})," is a tree with ",n.jsx(o,{math:"n-1"})," vertices."]})]})]})]}),n.jsxs("p",{children:["This lemma implies that every tree with more than one vertex arises from a smaller tree by adding a vertex of degree 1. This rescues proofs from the induction trap: growing an ",n.jsx(o,{math:"(n+1)"}),"-vertex tree from an arbitrary"," ",n.jsx(o,{math:"n"}),"-vertex tree by adding a new neighbor at an arbitrary old vertex generates all trees with ",n.jsx(o,{math:"n+1"})," vertices."]}),n.jsxs(J,{title:"Theorem 2.1.4 (Characterizations of Trees)",children:[n.jsxs("p",{children:["For an ",n.jsx(o,{math:"n"}),"-vertex graph ",n.jsx(o,{math:"G"})," (with"," ",n.jsx(o,{math:"n \\geq 1"}),"), the following are equivalent and characterize the trees with ",n.jsx(o,{math:"n"})," vertices:"]}),n.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[n.jsxs("li",{children:[n.jsx(o,{math:"G"})," is connected and has no cycles."]}),n.jsxs("li",{children:[n.jsx(o,{math:"G"})," is connected and has ",n.jsx(o,{math:"n-1"})," edges."]}),n.jsxs("li",{children:[n.jsx(o,{math:"G"})," has ",n.jsx(o,{math:"n-1"})," edges and no cycles."]}),n.jsxs("li",{children:["For ",n.jsx(o,{math:"u, v \\in V(G)"}),", ",n.jsx(o,{math:"G"})," has exactly one ",n.jsx(o,{math:"u,v"}),"-path."]})]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["We demonstrate equivalence by proving that any two of ","{","connected, acyclic, ",n.jsx(o,{math:"n-1"})," edges","}"," together imply the third."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"(A)  (B), (C):"})," Use induction on"," ",n.jsx(o,{math:"n"}),". For ",n.jsx(o,{math:"n = 1"}),", an acyclic 1-vertex graph has no edge. For ",n.jsx(o,{math:"n > 1"}),", by the lemma, deleting a leaf gives a smaller tree with ",n.jsx(o,{math:"n-2"})," edges, so ",n.jsx(o,{math:"e(G) = n-1"}),"."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"(B)  (A), (C):"})," Delete edges from cycles one by one until acyclic. Since no edge of a cycle is a cut-edge, connectivity is preserved. Since ",n.jsx(o,{math:"e(G) = n-1"}),", no edges were deleted."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"(C)  (A), (B):"})," Let"," ",n.jsx(o,{math:"G_1, \\ldots, G_k"})," be the components. Each satisfies (A), so ",n.jsx(o,{math:"e(G_i) = n(G_i) - 1"}),". Summing gives"," ",n.jsx(o,{math:"e(G) = n - k"}),". Since"," ",n.jsx(o,{math:"e(G) = n - 1"}),", we have ",n.jsx(o,{math:"k = 1"}),"."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"(A)  (D):"})," Connectivity gives paths; acyclicity ensures uniqueness (otherwise two paths form a cycle)."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"(D)  (A):"})," Unique paths imply connectivity. If"," ",n.jsx(o,{math:"G"})," has a cycle, vertices on it have multiple paths."]})]})]})]}),n.jsxs(J,{title:"Corollary 2.1.5 (Properties of Trees)",children:[n.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[n.jsx("li",{children:"Every edge of a tree is a cut-edge."}),n.jsx("li",{children:"Adding one edge to a tree forms exactly one cycle."}),n.jsx("li",{children:"Every connected graph contains a spanning tree."})]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsx("p",{children:"(a) A tree has no cycles, so every edge is a cut-edge."}),n.jsx("p",{className:"mt-2",children:"(b) A tree has a unique path linking each pair of vertices, so joining two vertices by an edge creates exactly one cycle."}),n.jsx("p",{className:"mt-2",children:"(c) Iteratively deleting edges from cycles in a connected graph yields a connected acyclic subgraph (a spanning tree)."})]})]})]}),n.jsxs(J,{title:"Proposition 2.1.6 (Edge Exchange in Spanning Trees)",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"T"})," and ",n.jsx(o,{math:"T'"})," are spanning trees of a connected graph ",n.jsx(o,{math:"G"})," and"," ",n.jsx(o,{math:"e \\in E(T) - E(T')"}),", then there is an edge"," ",n.jsx(o,{math:"e' \\in E(T') - E(T)"})," such that"," ",n.jsx(o,{math:"T - e + e'"})," is a spanning tree of ",n.jsx(o,{math:"G"}),"."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:n.jsxs("p",{children:["Every edge of ",n.jsx(o,{math:"T"})," is a cut-edge. Let"," ",n.jsx(o,{math:"U"})," and ",n.jsx(o,{math:"U'"})," be the two components of ",n.jsx(o,{math:"T - e"}),". Since ",n.jsx(o,{math:"T'"})," is connected, ",n.jsx(o,{math:"T'"})," has an edge ",n.jsx(o,{math:"e'"})," ","with endpoints in ",n.jsx(o,{math:"U"})," and ",n.jsx(o,{math:"U'"}),". Now"," ",n.jsx(o,{math:"T - e + e'"})," is connected, has"," ",n.jsx(o,{math:"n(G) - 1"})," edges, and is a spanning tree of"," ",n.jsx(o,{math:"G"}),"."]})})]})]}),n.jsxs(J,{title:"Proposition 2.1.7 (Reverse Edge Exchange)",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"T"})," and ",n.jsx(o,{math:"T'"})," are spanning trees of a connected graph ",n.jsx(o,{math:"G"})," and"," ",n.jsx(o,{math:"e \\in E(T) - E(T')"}),", then there is an edge"," ",n.jsx(o,{math:"e' \\in E(T') - E(T)"})," such that"," ",n.jsx(o,{math:"T' + e - e'"})," is a spanning tree of ",n.jsx(o,{math:"G"}),"."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:n.jsxs("p",{children:["The graph ",n.jsx(o,{math:"T' + e"})," contains a unique cycle"," ",n.jsx(o,{math:"C"}),". Since ",n.jsx(o,{math:"T"})," is acyclic, there is an edge ",n.jsx(o,{math:"e' \\in E(C) - E(T)"}),". Deleting"," ",n.jsx(o,{math:"e'"})," breaks the only cycle in"," ",n.jsx(o,{math:"T' + e"}),". Now ",n.jsx(o,{math:"T' + e - e'"})," is connected and acyclic and is a spanning tree of ",n.jsx(o,{math:"G"}),"."]})})]})]}),n.jsxs(J,{title:"Proposition 2.1.8 (Trees as Subgraphs)",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"T"})," is a tree with ",n.jsx(o,{math:"k"})," edges and"," ",n.jsx(o,{math:"G"})," is a simple graph with"," ",n.jsx(o,{math:"\\delta(G) \\geq k"}),", then ",n.jsx(o,{math:"T"})," is a subgraph of ",n.jsx(o,{math:"G"}),"."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["Use induction on ",n.jsx(o,{math:"k"}),". For ",n.jsx(o,{math:"k = 0"}),", every simple graph contains ",n.jsx(o,{math:"K_1"}),"."]}),n.jsxs("p",{className:"mt-2",children:["For ",n.jsx(o,{math:"k > 0"}),", choose a leaf ",n.jsx(o,{math:"v"})," in"," ",n.jsx(o,{math:"T"})," with neighbor ",n.jsx(o,{math:"u"}),". Consider"," ",n.jsx(o,{math:"T' = T - v"}),". By the induction hypothesis,"," ",n.jsx(o,{math:"G"})," contains ",n.jsx(o,{math:"T'"})," as a subgraph since ",n.jsx(o,{math:"\\delta(G) \\geq k > k - 1"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Let ",n.jsx(o,{math:"x"})," be the vertex in this copy of"," ",n.jsx(o,{math:"T'"})," corresponding to ",n.jsx(o,{math:"u"}),". Because"," ",n.jsx(o,{math:"T'"})," has only ",n.jsx(o,{math:"k - 1"})," vertices other than ",n.jsx(o,{math:"u"})," and"," ",n.jsx(o,{math:"d_G(x) \\geq k"}),", ",n.jsx(o,{math:"x"})," has a neighbor"," ",n.jsx(o,{math:"y"})," in ",n.jsx(o,{math:"G"})," not in this copy. Adding edge ",n.jsx(o,{math:"xy"})," expands the copy to include"," ",n.jsx(o,{math:"T"}),"."]})]})]})]}),n.jsxs("p",{children:["The inequality in Proposition 2.1.8 is sharp: the complete graph"," ",n.jsx(o,{math:"K_k"})," has minimum degree ",n.jsx(o,{math:"k - 1"}),", but it contains no tree with ",n.jsx(o,{math:"k"})," edges."]}),n.jsx("h2",{children:"Distance in Trees and Graphs"}),n.jsx("p",{children:"When using graphs to model communication networks, we want vertices to be close together to avoid communication delays. We measure distance using lengths of paths."}),n.jsxs(ce,{title:"Distance and Diameter",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," has a ",n.jsx(o,{math:"u,v"}),"-path, then the"," ",n.jsx("strong",{children:"distance"})," from ",n.jsx(o,{math:"u"})," to"," ",n.jsx(o,{math:"v"}),", written ",n.jsx(o,{math:"d_G(u,v)"})," or simply"," ",n.jsx(o,{math:"d(u,v)"}),", is the least length of a"," ",n.jsx(o,{math:"u,v"}),"-path. If ",n.jsx(o,{math:"G"})," has no such path, then ",n.jsx(o,{math:"d(u,v) = \\infty"}),"."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"diameter"})," of ",n.jsx(o,{math:"G"}),", written"," ",n.jsx(o,{math:"\\text{diam } G"}),", is:"]}),n.jsx(ze,{math:"\\text{diam } G = \\max_{u,v \\in V(G)} d(u,v)"})]}),n.jsxs(ce,{title:"Eccentricity and Radius",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"eccentricity"})," of a vertex ",n.jsx(o,{math:"u"}),", written"," ",n.jsx(o,{math:"\\varepsilon(u)"}),", is:"]}),n.jsx(ze,{math:"\\varepsilon(u) = \\max_{v \\in V(G)} d(u,v)"}),n.jsxs("p",{children:["The ",n.jsx("strong",{children:"radius"})," of a graph ",n.jsx(o,{math:"G"}),", written"," ",n.jsx(o,{math:"\\text{rad } G"}),", is:"]}),n.jsx(ze,{math:"\\text{rad } G = \\min_{u \\in V(G)} \\varepsilon(u)"}),n.jsx("p",{children:"The diameter equals the maximum of the vertex eccentricities."})]}),n.jsxs(we,{title:"Distance in Special Graphs",children:[n.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Petersen graph:"})," Has diameter 2, since nonadjacent vertices have a common neighbor."]}),n.jsxs("li",{children:[n.jsxs("strong",{children:["Hypercube ",n.jsx(o,{math:"Q_k"}),":"]})," Has diameter"," ",n.jsx(o,{math:"k"}),", since it takes ",n.jsx(o,{math:"k"})," steps to change all ",n.jsx(o,{math:"k"})," coordinates."]}),n.jsxs("li",{children:[n.jsxs("strong",{children:["Cycle ",n.jsx(o,{math:"C_n"}),":"]})," Has diameter"," ",n.jsx(o,{math:"\\lfloor n/2 \\rfloor"}),"."]}),n.jsxs("li",{children:[n.jsxs("strong",{children:["Star ",n.jsx(o,{math:"K_{1,n-1}"}),":"]})," For"," ",n.jsx(o,{math:"n \\geq 3"}),", has diameter 2 and radius 1 (minimum diameter among ",n.jsx(o,{math:"n"}),"-vertex trees)."]}),n.jsxs("li",{children:[n.jsxs("strong",{children:["Path ",n.jsx(o,{math:"P_n"}),":"]})," Has diameter"," ",n.jsx(o,{math:"n - 1"})," and radius"," ",n.jsx(o,{math:"\\lceil (n-1)/2 \\rceil"})," (maximum diameter among"," ",n.jsx(o,{math:"n"}),"-vertex trees)."]})]}),n.jsx("p",{className:"mt-2",children:"Every path in a tree is the shortest (the only!) path between its endpoints, so the diameter of a tree is the length of its longest path."})]}),n.jsxs(J,{title:"Theorem 2.1.11 (Diameter of Complement)",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," is a simple graph, then:"]}),n.jsx(ze,{math:"\\text{diam } G \\geq 3 \\implies \\text{diam } \\overline{G} \\leq 3"}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["When ",n.jsx(o,{math:"\\text{diam } G \\geq 3"}),", there exist nonadjacent vertices ",n.jsx(o,{math:"u, v \\in V(G)"})," with no common neighbor. Hence every ",n.jsx(o,{math:"x \\in V(G) - \\{u, v\\}"})," has at least one of"," ",n.jsx(o,{math:"\\{u, v\\}"})," as a nonneighbor in ",n.jsx(o,{math:"G"}),"."]}),n.jsxs("p",{className:"mt-2",children:["This makes ",n.jsx(o,{math:"x"})," adjacent in"," ",n.jsx(o,{math:"\\overline{G}"})," to at least one of"," ",n.jsx(o,{math:"\\{u, v\\}"}),". Since also"," ",n.jsx(o,{math:"uv \\in E(\\overline{G})"}),", for every pair"," ",n.jsx(o,{math:"x, y"})," there is an ",n.jsx(o,{math:"x,y"}),"-path of length at most 3 in ",n.jsx(o,{math:"\\overline{G}"})," through"," ",n.jsx(o,{math:"\\{u, v\\}"}),"."]})]})]})]}),n.jsxs(ce,{title:"Center of a Graph",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"center"})," of a graph ",n.jsx(o,{math:"G"})," is the subgraph induced by the vertices of minimum eccentricity."]}),n.jsx("p",{className:"mt-2",children:"The center equals the full graph if and only if the radius and diameter are equal."})]}),n.jsxs(J,{title:"Jordan's Theorem (Center of a Tree)",children:[n.jsx("p",{children:"The center of a tree is a vertex or an edge."}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsx("p",{children:"Use induction on the number of vertices."}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Base case:"})," For ",n.jsx(o,{math:"n(T) \\leq 2"}),", the center is the entire tree."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Induction step:"})," For ",n.jsx(o,{math:"n(T) > 2"}),", form"," ",n.jsx(o,{math:"T'"})," by deleting every leaf of ",n.jsx(o,{math:"T"}),". By the lemma, ",n.jsx(o,{math:"T'"})," is a tree with at least one vertex."]}),n.jsxs("p",{className:"mt-2",children:["Every vertex at maximum distance from ",n.jsx(o,{math:"u \\in V(T)"})," is a leaf. Since all leaves are removed and no path between other vertices uses a leaf: ",n.jsx(o,{math:"\\varepsilon_{T'}(u) = \\varepsilon_T(u) - 1"})," for every ",n.jsx(o,{math:"u \\in V(T')"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Also, the eccentricity of a leaf in ",n.jsx(o,{math:"T"})," is greater than that of its neighbor. Hence the vertices minimizing"," ",n.jsx(o,{math:"\\varepsilon_T(u)"})," are the same as those minimizing"," ",n.jsx(o,{math:"\\varepsilon_{T'}(u)"}),"."]}),n.jsxs("p",{className:"mt-2",children:["So ",n.jsx(o,{math:"T"})," and ",n.jsx(o,{math:"T'"})," have the same center. By the induction hypothesis, this center is a vertex or an edge."]})]})]})]}),n.jsx("h2",{children:"The Wiener Index"}),n.jsx("p",{children:"In a communication network, large diameter may be acceptable if most pairs can communicate via short paths. This leads us to study the average distance instead of the maximum."}),n.jsxs(ce,{title:"Wiener Index",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"Wiener index"})," (also called the total distance) of a graph"," ",n.jsx(o,{math:"G"})," is:"]}),n.jsx(ze,{math:"D(G) = W(G) = \\sum_{u,v \\in V(G)} d_G(u,v)"}),n.jsx("p",{children:"Wiener used this to study the boiling point of paraffin. Molecules can be modeled by graphs with vertices for atoms and edges for bonds, and many chemical properties relate to the Wiener index."})]}),n.jsxs(J,{title:"Theorem 2.1.14 (Extreme Wiener Index for Trees)",children:[n.jsxs("p",{children:["Among trees with ",n.jsx(o,{math:"n"})," vertices, the Wiener index"," ",n.jsx(o,{math:"D(T) = \\sum_{u,v} d(u,v)"})," is:"]}),n.jsxs("ul",{className:"list-disc list-inside mt-2",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Minimized"})," by stars (uniquely), with value"," ",n.jsx(o,{math:"D(K_{1,n-1}) = (n-1)^2"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Maximized"})," by paths (uniquely), with value"," ",n.jsx(o,{math:"D(P_n) = \\binom{n+1}{3}"})]})]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Minimum:"})," A tree has ",n.jsx(o,{math:"n-1"})," edges, so"," ",n.jsx(o,{math:"n-1"})," pairs are at distance 1 and all other pairs have distance at least 2. The star achieves this lower bound. To show uniqueness, note that if all vertices have distance 2 from a leaf ",n.jsx(o,{math:"x"}),", they must all be neighbors of ",n.jsx(o,{math:"x"}),"'s neighbor, making"," ",n.jsx(o,{math:"T"})," a star."]}),n.jsx(ze,{math:"D(K_{1,n-1}) = (n-1) + 2\\binom{n-1}{2} = (n-1)^2"}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Maximum:"})," For the path,"," ",n.jsx(o,{math:"D(P_n) = D(P_{n-1}) + \\binom{n}{2}"})," by summing distances from an endpoint. By induction,"," ",n.jsx(o,{math:"D(P_n) = \\binom{n+1}{3}"}),"."]}),n.jsxs("p",{className:"mt-2",children:["To show ",n.jsx(o,{math:"P_n"})," is the unique maximizer, note that the distance list from a leaf in ",n.jsx(o,{math:"P_n"})," is"," ",n.jsx(o,{math:"1, 2, \\ldots, n-1"})," (all distinct). Any repetition in distance values makes the sum smaller, and repetitions occur when"," ",n.jsx(o,{math:"T"})," is not a path."]})]})]})]}),n.jsxs(J,{title:"Lemma 2.1.15 (Distance in Subgraphs)",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"H"})," is a subgraph of ",n.jsx(o,{math:"G"}),", then"," ",n.jsx(o,{math:"d_G(u,v) \\leq d_H(u,v)"}),"."]}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["Every ",n.jsx(o,{math:"u,v"}),"-path in ",n.jsx(o,{math:"H"})," appears also in"," ",n.jsx(o,{math:"G"}),", so the shortest path in ",n.jsx(o,{math:"G"})," is no longer than the shortest in ",n.jsx(o,{math:"H"}),"."]})]}),n.jsxs(J,{title:"Corollary 2.1.16",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," is a connected ",n.jsx(o,{math:"n"}),"-vertex graph, then ",n.jsx(o,{math:"D(G) \\leq D(P_n)"}),"."]}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["Let ",n.jsx(o,{math:"T"})," be a spanning tree of ",n.jsx(o,{math:"G"}),". By Lemma 2.1.15, ",n.jsx(o,{math:"D(G) \\leq D(T)"}),". By Theorem 2.1.14,"," ",n.jsx(o,{math:"D(T) \\leq D(P_n)"}),"."]})]}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Tree characterizations:"})," A graph is a tree iff it satisfies any of: connected + acyclic, connected + ",n.jsx(o,{math:"n-1"})," edges, acyclic +"," ",n.jsx(o,{math:"n-1"})," edges, or unique paths between all vertex pairs."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Leaves:"})," Every tree with ",n.jsx(o,{math:"n \\geq 2"})," vertices has at least two leaves, enabling inductive proofs."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Cut-edges:"})," Every edge in a tree is a cut-edge; adding any edge creates exactly one cycle."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Distance metrics:"})," Diameter is the maximum distance; radius is the minimum eccentricity; the center minimizes eccentricity."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Jordan's theorem:"})," The center of a tree is always a single vertex or a single edge."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Wiener index:"})," Among ",n.jsx(o,{math:"n"}),"-vertex trees, stars minimize total distance and paths maximize it."]})]})]})}function tee(){return n.jsxs(kt,{sectionId:6,children:[n.jsxs("p",{children:["There are ",n.jsx(o,{math:"2^{\\binom{n}{2}}"})," simple graphs with vertex set"," ",n.jsx(o,{math:"[n] = \\{1, \\ldots, n\\}"}),", since each pair may or may not form an edge. How many of these are trees? In this section, we solve this counting problem, count spanning trees in arbitrary graphs, and discuss several applications."]}),n.jsx("h2",{children:"Enumeration of Trees"}),n.jsxs("p",{children:["With one or two vertices, only one tree can be formed. With three vertices there is still only one isomorphism class, but the adjacency matrix is determined by which vertex is the center. Thus there are ",n.jsx("strong",{children:"three"})," trees with vertex set ",n.jsx(o,{math:"[3]"}),". With vertex set ",n.jsx(o,{math:"[4]"}),", there are 4 stars and 12 paths, yielding ",n.jsx("strong",{children:"16"})," trees. With vertex set ",n.jsx(o,{math:"[5]"}),", a careful study yields ",n.jsx("strong",{children:"125"})," trees."]}),n.jsxs("p",{children:["Now we may see a pattern: ",n.jsx(o,{math:"3 = 3^1"}),","," ",n.jsx(o,{math:"16 = 4^2"}),", ",n.jsx(o,{math:"125 = 5^3"}),". With vertex set"," ",n.jsx(o,{math:"[n]"}),", there are ",n.jsx(o,{math:"n^{n-2}"})," trees. This is"," ",n.jsx("strong",{children:"Cayley's Formula"}),"."]}),n.jsx("h3",{children:"The Prfer Code"}),n.jsxs("p",{children:["We present a bijective proof: establishing a one-to-one correspondence between the set of trees with vertex set ",n.jsx(o,{math:"[n]"})," and a set of known size. Given a set ",n.jsx(o,{math:"S"})," of ",n.jsx(o,{math:"n"})," numbers, there are exactly ",n.jsx(o,{math:"n^{n-2}"})," ways to form a list of length"," ",n.jsx(o,{math:"n-2"})," with entries in ",n.jsx(o,{math:"S"}),"."]}),n.jsxs(ce,{title:"Prfer Code Algorithm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Input:"})," A tree ",n.jsx(o,{math:"T"})," with vertex set"," ",n.jsx(o,{math:"S \\subseteq \\mathbb{N}"}),"."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Iteration:"})," At the ",n.jsx(o,{math:"i"}),"th step, delete the least remaining leaf, and let ",n.jsx(o,{math:"a_i"})," be the neighbor of this leaf."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Output:"})," The list"," ",n.jsx(o,{math:"f(T) = (a_1, \\ldots, a_{n-2})"}),"."]})]}),n.jsxs(we,{title:"Computing the Prfer Code",children:[n.jsxs("p",{children:["Consider a tree on vertices ",n.jsx(o,{math:"\\{1, 2, 3, 4, 5, 6, 7, 8\\}"})," ","with structure: ",n.jsx(o,{math:"2-7-1-8"})," as a path, with"," ",n.jsx(o,{math:"6"})," attached to ",n.jsx(o,{math:"7"}),","," ",n.jsx(o,{math:"4"})," attached to ",n.jsx(o,{math:"1"}),", and"," ",n.jsx(o,{math:"3, 5"})," attached to ",n.jsx(o,{math:"4"}),"."]}),n.jsxs("p",{children:["The least leaf is 2; we delete it and record 7. After deleting 3 and 5 and recording 4 each time, the least leaf in the remaining 5-vertex tree is 4. The full code is ",n.jsx(o,{math:"(7, 4, 4, 1, 7, 1)"}),", and the vertices remaining at the end are 1 and 8."]})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Recovering the tree from the code:"})," If we know the vertex set"," ",n.jsx(o,{math:"S"}),", we can retrieve the tree from the code"," ",n.jsx(o,{math:"a"}),". At each step, the least element of"," ",n.jsx(o,{math:"S"})," not appearing in the remaining code is the next leaf to add. We connect it to the next entry in the code."]}),n.jsxs(J,{title:"Cayley's Formula (Theorem 2.2.3)",children:[n.jsxs("p",{children:["For a set ",n.jsx(o,{math:"S \\subseteq \\mathbb{N}"})," of size"," ",n.jsx(o,{math:"n"}),", there are ",n.jsx(o,{math:"n^{n-2}"})," trees with vertex set ",n.jsx(o,{math:"S"}),"."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof (Prfer [1918])"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["This holds for ",n.jsx(o,{math:"n = 1"}),", so assume"," ",n.jsx(o,{math:"n \\geq 2"}),". We prove that the Prfer algorithm defines a bijection from the set of trees with vertex set ",n.jsx(o,{math:"S"})," ","to the set ",n.jsx(o,{math:"S^{n-2}"})," of lists of length"," ",n.jsx(o,{math:"n-2"})," from ",n.jsx(o,{math:"S"}),"."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Key observation:"})," Computing ",n.jsx(o,{math:"f(T)"})," ","reduces each vertex to degree 1 and then possibly deletes it. Thus every non-leaf vertex in ",n.jsx(o,{math:"T"})," appears in"," ",n.jsx(o,{math:"f(T)"}),". No leaf appears, because recording a leaf as a neighbor would require reducing the tree to one vertex. Hence the leaves of"," ",n.jsx(o,{math:"T"})," are the elements of ",n.jsx(o,{math:"S"})," not in"," ",n.jsx(o,{math:"f(T)"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Given ",n.jsx(o,{math:"a \\in S^{n-2}"}),", every tree with Prfer code"," ",n.jsx(o,{math:"a"})," has the same least leaf ",n.jsx(o,{math:"x"})," and has edge ",n.jsx(o,{math:"xa_1"}),". By induction on"," ",n.jsx(o,{math:"n"}),", there is exactly one tree with the remaining vertices and remaining code. Adding ",n.jsx(o,{math:"xa_1"})," yields exactly one tree with code ",n.jsx(o,{math:"a"}),"."]})]})]})]}),n.jsxs(J,{title:"Corollary 2.2.4 (Trees with Fixed Degrees)",children:[n.jsxs("p",{children:["Given positive integers ",n.jsx(o,{math:"d_1, \\ldots, d_n"})," summing to"," ",n.jsx(o,{math:"2n - 2"}),", there are exactly:"]}),n.jsx(ze,{math:"\\frac{(n-2)!}{\\prod_i (d_i - 1)!}"}),n.jsxs("p",{children:["trees with vertex set ",n.jsx(o,{math:"[n]"})," such that vertex"," ",n.jsx(o,{math:"i"})," has degree ",n.jsx(o,{math:"d_i"}),"."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["While constructing the Prfer code of a tree ",n.jsx(o,{math:"T"}),", we record ",n.jsx(o,{math:"x"})," each time we delete a neighbor of"," ",n.jsx(o,{math:"x"}),", until we delete ",n.jsx(o,{math:"x"})," itself or leave ",n.jsx(o,{math:"x"})," among the last two vertices. Thus each vertex"," ",n.jsx(o,{math:"x"})," appears ",n.jsx(o,{math:"d_T(x) - 1"})," times in the Prfer code."]}),n.jsxs("p",{className:"mt-2",children:["Therefore, we count trees with these vertex degrees by counting lists of length ",n.jsx(o,{math:"n - 2"})," that for each ",n.jsx(o,{math:"i"})," ","have ",n.jsx(o,{math:"d_i - 1"})," copies of ",n.jsx(o,{math:"i"}),". This is the multinomial coefficient"," ",n.jsx(o,{math:"\\frac{(n-2)!}{\\prod_i (d_i - 1)!}"}),"."]})]})]})]}),n.jsxs(we,{title:"Trees with Fixed Degrees",children:[n.jsxs("p",{children:["Consider trees with vertices ",n.jsx(o,{math:"\\{1, 2, 3, 4, 5, 6, 7\\}"})," that have degrees ",n.jsx(o,{math:"(3, 1, 2, 1, 3, 1, 1)"}),", respectively."]}),n.jsxs("p",{children:["We compute"," ",n.jsx(o,{math:"\\frac{5!}{2! \\cdot 0! \\cdot 1! \\cdot 0! \\cdot 2! \\cdot 0! \\cdot 0!} = \\frac{120}{2 \\cdot 1 \\cdot 1 \\cdot 2} = 30"})," ","trees."]}),n.jsxs("p",{children:["Only vertices ",n.jsx(o,{math:"\\{1, 3, 5\\}"})," are non-leaves. Deleting the leaves yields a subtree on ",n.jsx(o,{math:"\\{1, 3, 5\\}"}),". There are three such subtrees, determined by which vertex is in the middle. To complete each tree, we add the appropriate number of leaf neighbors for each non-leaf."]})]}),n.jsx("h2",{children:"Spanning Trees in Graphs"}),n.jsxs("p",{children:["Cayley's Formula counts spanning trees of ",n.jsx(o,{math:"K_n"}),". We now consider the more general problem of computing the number of spanning trees in any graph ",n.jsx(o,{math:"G"}),"."]}),n.jsxs(ce,{title:"Edge Contraction",children:[n.jsxs("p",{children:["In a graph ",n.jsx(o,{math:"G"}),", ",n.jsx("strong",{children:"contraction"})," of edge"," ",n.jsx(o,{math:"e"})," with endpoints ",n.jsx(o,{math:"u, v"})," is the replacement of ",n.jsx(o,{math:"u"})," and ",n.jsx(o,{math:"v"})," with a single vertex whose incident edges are the edges other than"," ",n.jsx(o,{math:"e"})," that were incident to ",n.jsx(o,{math:"u"})," or"," ",n.jsx(o,{math:"v"}),". The resulting graph ",n.jsx(o,{math:"G \\cdot e"})," ","has one less edge than ",n.jsx(o,{math:"G"}),"."]}),n.jsx("p",{className:"mt-2 text-dark-300",children:"In a drawing, contraction shrinks the edge to a single point. Contracting can produce multiple edges or loops."})]}),n.jsxs(J,{title:"Proposition 2.2.8 (Deletion-Contraction Recurrence)",children:[n.jsxs("p",{children:["Let ",n.jsx(o,{math:"\\tau(G)"})," denote the number of spanning trees of a graph ",n.jsx(o,{math:"G"}),". If ",n.jsx(o,{math:"e \\in E(G)"})," is not a loop, then:"]}),n.jsx(ze,{math:"\\tau(G) = \\tau(G - e) + \\tau(G \\cdot e)"}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["The spanning trees of ",n.jsx(o,{math:"G"})," that omit"," ",n.jsx(o,{math:"e"})," are precisely the spanning trees of"," ",n.jsx(o,{math:"G - e"}),"."]}),n.jsxs("p",{className:"mt-2",children:["To show that ",n.jsx(o,{math:"G"})," has"," ",n.jsx(o,{math:"\\tau(G \\cdot e)"})," spanning trees containing"," ",n.jsx(o,{math:"e"}),", we show that contraction of"," ",n.jsx(o,{math:"e"})," defines a bijection from spanning trees of"," ",n.jsx(o,{math:"G"})," containing ",n.jsx(o,{math:"e"})," to spanning trees of ",n.jsx(o,{math:"G \\cdot e"}),"."]}),n.jsxs("p",{className:"mt-2",children:["When we contract ",n.jsx(o,{math:"e"})," in a spanning tree containing"," ",n.jsx(o,{math:"e"}),", we obtain a spanning tree of"," ",n.jsx(o,{math:"G \\cdot e"})," (spanning, connected, right number of edges). The other edges maintain their identity, so no two trees map to the same tree. Each spanning tree of ",n.jsx(o,{math:"G \\cdot e"})," arises by expanding the contracted vertex back into ",n.jsx(o,{math:"e"}),"."]})]})]})]}),n.jsxs(we,{title:"The Kite Graph",children:[n.jsx("p",{children:'The "kite" graph (a 4-cycle with one diagonal) has 8 spanning trees. Four are paths around the outside cycle, and four use the diagonal edge. Using deletion-contraction:'}),n.jsxs("ul",{className:"list-disc list-inside mt-2",children:[n.jsxs("li",{children:[n.jsx(o,{math:"G - e"})," (diagonal removed) is"," ",n.jsx(o,{math:"C_4"}),", which has 4 spanning trees."]}),n.jsxs("li",{children:[n.jsx(o,{math:"G \\cdot e"})," (diagonal contracted) is a triangle with one doubled edge, which has 4 spanning trees."]}),n.jsxs("li",{children:["Total: ",n.jsx(o,{math:"4 + 4 = 8"}),"."]})]})]}),n.jsx("h3",{children:"The Matrix Tree Theorem"}),n.jsx("p",{children:"The deletion-contraction recurrence may require exponentially many terms. Kirchhoff discovered a much faster approach using determinants."}),n.jsxs(J,{title:"Matrix Tree Theorem (Theorem 2.2.12)",children:[n.jsxs("p",{children:["Given a loopless graph ",n.jsx(o,{math:"G"})," with vertex set"," ",n.jsx(o,{math:"v_1, \\ldots, v_n"}),", let ",n.jsx(o,{math:"a_{i,j}"})," be the number of edges with endpoints ",n.jsx(o,{math:"v_i"})," and"," ",n.jsx(o,{math:"v_j"}),". Define the ",n.jsx("strong",{children:"Laplacian matrix"})," ",n.jsx(o,{math:"Q"})," by:"]}),n.jsx(ze,{math:"Q_{i,j} = \\begin{cases} d(v_i) & \\text{if } i = j \\\\ -a_{i,j} & \\text{if } i \\neq j \\end{cases}"}),n.jsxs("p",{children:["If ",n.jsx(o,{math:"Q^*"})," is a matrix obtained by deleting row"," ",n.jsx(o,{math:"s"})," and column ",n.jsx(o,{math:"t"})," of"," ",n.jsx(o,{math:"Q"}),", then:"]}),n.jsx(ze,{math:"\\tau(G) = (-1)^{s+t} \\det Q^*"})]}),n.jsxs(we,{title:"Matrix Tree Computation",children:[n.jsx("p",{children:"For the kite graph with vertices labeled 1, 2, 3, 4:"}),n.jsx(ze,{math:"Q = \\begin{pmatrix} 3 & -1 & -1 & -1 \\\\ -1 & 3 & -1 & -1 \\\\ -1 & -1 & 2 & 0 \\\\ -1 & -1 & 0 & 2 \\end{pmatrix}"}),n.jsx("p",{children:"Deleting row 1 and column 1 gives:"}),n.jsx(ze,{math:"Q^* = \\begin{pmatrix} 3 & -1 & -1 \\\\ -1 & 2 & 0 \\\\ -1 & 0 & 2 \\end{pmatrix}"}),n.jsxs("p",{children:["Computing ",n.jsx(o,{math:"\\det Q^* = 3(4 - 0) - (-1)(-2 - 0) + (-1)(0 + 2) = 12 - 2 - 2 = 8"}),"."]})]}),n.jsx("h2",{children:"Graceful Labelings"}),n.jsxs("p",{children:["Can we decompose ",n.jsx(o,{math:"K_{2m+1}"})," into copies of a tree"," ",n.jsx(o,{math:"T"})," with ",n.jsx(o,{math:"m"})," edges? Graceful labelings provide a constructive approach."]}),n.jsxs(ce,{title:"Graceful Labeling",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"graceful labeling"})," of a graph ",n.jsx(o,{math:"G"})," with"," ",n.jsx(o,{math:"m"})," edges is a function"," ",n.jsx(o,{math:"f: V(G) \\to \\{0, \\ldots, m\\}"})," such that:"]}),n.jsxs("ol",{className:"list-decimal list-inside mt-2",children:[n.jsx("li",{children:"Distinct vertices receive distinct numbers."}),n.jsxs("li",{children:["The edge differences"," ",n.jsx(o,{math:"\\{|f(u) - f(v)|: uv \\in E(G)\\} = \\{1, \\ldots, m\\}"}),"."]})]}),n.jsxs("p",{className:"mt-2",children:["A graph is ",n.jsx("strong",{children:"graceful"})," if it has a graceful labeling."]})]}),n.jsxs(J,{title:"Ringel's Conjecture (Conjecture 2.2.13)",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"T"})," is a fixed tree with ",n.jsx(o,{math:"m"})," edges, then ",n.jsx(o,{math:"K_{2m+1}"})," decomposes into"," ",n.jsx(o,{math:"2m + 1"})," copies of ",n.jsx(o,{math:"T"}),"."]}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["This famous conjecture was proved in 2019 by Montgomery, Pokrovskiy, and Sudakov for sufficiently large ",n.jsx(o,{math:"m"}),"."]})]}),n.jsxs(J,{title:"Theorem 2.2.16 (Rosa [1967])",children:[n.jsxs("p",{children:["If a tree ",n.jsx(o,{math:"T"})," with ",n.jsx(o,{math:"m"})," edges has a graceful labeling, then ",n.jsx(o,{math:"K_{2m+1}"})," has a decomposition into"," ",n.jsx(o,{math:"2m + 1"})," copies of ",n.jsx(o,{math:"T"}),"."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["View vertices of ",n.jsx(o,{math:"K_{2m+1}"})," as congruence classes modulo ",n.jsx(o,{math:"2m + 1"}),", arranged circularly. Group edges by the difference between endpoints (differences"," ",n.jsx(o,{math:"1, 2, \\ldots, m"}),")."]}),n.jsxs("p",{className:"mt-2",children:["From a graceful labeling, define copies"," ",n.jsx(o,{math:"T_0, \\ldots, T_{2m}"}),". The vertices of"," ",n.jsx(o,{math:"T_k"})," are"," ",n.jsx(o,{math:"k, k+1, \\ldots, k+m \\pmod{2m+1}"}),", with"," ",n.jsx(o,{math:"k+i"})," adjacent to ",n.jsx(o,{math:"k+j"})," iff"," ",n.jsx(o,{math:"i"})," is adjacent to ",n.jsx(o,{math:"j"})," in the labeling."]}),n.jsxs("p",{className:"mt-2",children:["Each difference class has exactly one edge in each"," ",n.jsx(o,{math:"T_k"}),", so the copies decompose"," ",n.jsx(o,{math:"K_{2m+1}"}),"."]})]})]})]}),n.jsxs(J,{title:"Graceful Tree Conjecture (Conjecture 2.2.15)",children:[n.jsx("p",{children:n.jsx("em",{children:"Every tree has a graceful labeling."})}),n.jsx("p",{className:"mt-2 text-dark-300",children:"This conjecture, due to Kotzig and Ringel (1964), remains open. It is known for many special classes of trees."})]}),n.jsx("h2",{children:"Caterpillars"}),n.jsxs(ce,{title:"Caterpillar",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"caterpillar"})," is a tree in which a single path (the"," ",n.jsx("strong",{children:"spine"}),") is incident to (or contains) every edge."]}),n.jsx("p",{className:"mt-2",children:'Equivalently, deleting all leaves yields a path. The vertices not on the spine are called the "feet" and are all leaves.'})]}),n.jsxs(J,{title:"Theorem 2.2.19 (Caterpillar Characterization)",children:[n.jsxs("p",{children:["A tree is a caterpillar if and only if it does not contain the tree"," ",n.jsx(o,{math:"Y"})," (a vertex with three neighbors, each having another neighbor) as a subgraph."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["Let ",n.jsx(o,{math:"G'"})," be the tree obtained by deleting all leaves. Since all surviving vertices are non-leaves in ",n.jsx(o,{math:"G"}),","," ",n.jsx(o,{math:"G'"})," has a vertex of degree at least 3 iff"," ",n.jsx(o,{math:"Y"})," appears in ",n.jsx(o,{math:"G"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Hence ",n.jsx(o,{math:"G"})," has no copy of ",n.jsx(o,{math:"Y"})," iff"," ",n.jsx(o,{math:"\\Delta(G') \\leq 2"})," iff"," ",n.jsx(o,{math:"G'"})," is a path iff ",n.jsx(o,{math:"G"})," is a caterpillar."]})]})]})]}),n.jsxs(we,{title:"Graceful Caterpillars",children:[n.jsx("p",{children:"Every caterpillar is graceful. Stars and paths are special cases of caterpillars (paths have no feet; stars have spine of length 0)."}),n.jsxs("p",{className:"mt-2",children:['A graceful labeling for caterpillars uses an "up/down" pattern: there exists a critical value ',n.jsx(o,{math:"a"})," such that every edge joins vertices with labels above and below ",n.jsx(o,{math:"a"}),"."]})]}),n.jsx("h2",{children:"Branchings (Optional)"}),n.jsxs(ce,{title:"Branching (Out-tree)",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"branching"})," or ",n.jsx("strong",{children:"out-tree"})," is an orientation of a tree having:"]}),n.jsxs("ul",{className:"list-disc list-inside",children:[n.jsx("li",{children:"A root of indegree 0"}),n.jsx("li",{children:"All other vertices of indegree 1"})]}),n.jsxs("p",{className:"mt-2",children:["An ",n.jsx("strong",{children:"in-tree"})," is an out-tree with edges reversed."]}),n.jsxs("p",{className:"mt-2",children:["A branching with root ",n.jsx(o,{math:"v"})," is a union of paths from"," ",n.jsx(o,{math:"v"}),". Each vertex is reached by exactly one path."]})]}),n.jsxs(J,{title:"Directed Matrix Tree Theorem (Theorem 2.2.21)",children:[n.jsxs("p",{children:["Given a loopless digraph ",n.jsx(o,{math:"G"}),", let"," ",n.jsx(o,{math:"Q^- = D^- - A'"})," and"," ",n.jsx(o,{math:"Q^+ = D^+ - A'"}),", where ",n.jsx(o,{math:"D^-"})," and"," ",n.jsx(o,{math:"D^+"})," are diagonal matrices of indegrees and outdegrees, and entry ",n.jsx(o,{math:"(i,j)"})," of ",n.jsx(o,{math:"A'"})," is the number of edges from ",n.jsx(o,{math:"v_j"})," to ",n.jsx(o,{math:"v_i"}),"."]}),n.jsxs("p",{className:"mt-2",children:["The number of spanning out-trees (in-trees) rooted at"," ",n.jsx(o,{math:"v_i"})," is the value of each cofactor in the"," ",n.jsx(o,{math:"i"}),"th row of ",n.jsx(o,{math:"Q^-"})," (",n.jsx(o,{math:"i"}),"th column of ",n.jsx(o,{math:"Q^+"}),")."]})]}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Cayley's Formula:"})," There are ",n.jsx(o,{math:"n^{n-2}"})," ","labeled trees on ",n.jsx(o,{math:"n"})," vertices, proved via the Prfer code bijection."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Prfer code:"})," A bijection between ",n.jsx(o,{math:"n"}),"-vertex labeled trees and sequences of length ",n.jsx(o,{math:"n-2"})," from"," ",n.jsx(o,{math:"[n]"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Degree counting:"})," Each vertex appears"," ",n.jsx(o,{math:"d(v) - 1"})," times in its tree's Prfer code."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Deletion-contraction:"})," ",n.jsx(o,{math:"\\tau(G) = \\tau(G - e) + \\tau(G \\cdot e)"})," for non-loop"," ",n.jsx(o,{math:"e"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Matrix Tree Theorem:"})," Count spanning trees via the determinant of a cofactor of the Laplacian matrix."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Graceful labelings:"})," If a tree ",n.jsx(o,{math:"T"})," with"," ",n.jsx(o,{math:"m"})," edges is graceful, then ",n.jsx(o,{math:"K_{2m+1}"})," ","decomposes into copies of ",n.jsx(o,{math:"T"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Caterpillars:"})," Trees where deleting leaves yields a path; they are always graceful."]})]})]})}function ree(){return n.jsxs(kt,{sectionId:7,children:[n.jsxs("p",{children:['"The best spanning tree" may have various meanings. A ',n.jsx("strong",{children:"weighted graph"})," ","is a graph with numerical labels on the edges. When building links to connect locations, the costs of potential links yield a weighted graph. The minimum cost of connecting the system is the minimum total weight of its spanning trees."]}),n.jsxs("p",{children:["Alternatively, the weights may represent distances. In these cases we define the length of a path to be the sum of its edge weights. We may seek a spanning tree with small distances. When discussing weighted graphs,"," ",n.jsx("strong",{children:"we consider only nonnegative edge weights"}),"."]}),n.jsx("h2",{children:"Interactive MST Algorithm"}),n.jsx("p",{children:"Watch Kruskal's or Prim's algorithm find the minimum spanning tree step by step. See how each algorithm greedily selects edges to build the optimal solution."}),n.jsx(GJ,{className:"my-8"}),n.jsx("h2",{children:"Minimum Spanning Trees"}),n.jsxs("p",{children:["In a connected weighted graph of possible communication links, all spanning trees have ",n.jsx(o,{math:"n - 1"})," edges; we seek one that minimizes or maximizes the sum of the edge weights. For these problems, the most naive heuristic quickly produces an optimal solution."]}),n.jsxs(ce,{title:"Kruskal's Algorithm (Algorithm 2.3.1)",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Input:"})," A weighted connected graph."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Idea:"})," Maintain an acyclic spanning subgraph"," ",n.jsx(o,{math:"H"}),", enlarging it by edges with low weight to form a spanning tree. Consider edges in nondecreasing order of weight."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Initialization:"})," Set ",n.jsx(o,{math:"E(H) = \\emptyset"}),"."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Iteration:"})," If the next cheapest edge joins two components of"," ",n.jsx(o,{math:"H"}),", include it; otherwise, discard it. Terminate when"," ",n.jsx(o,{math:"H"})," is connected."]})]}),n.jsxs("p",{children:["Unsophisticated locally optimal heuristics are called"," ",n.jsx("strong",{children:"greedy algorithms"}),". They usually don't guarantee optimal solutions, but this one does!"]}),n.jsxs(we,{title:"Running Kruskal's Algorithm",children:[n.jsx("p",{children:"Choices in Kruskal's Algorithm depend only on the order of the weights, not on their values. Consider a graph where we've labeled edges with positive integers to emphasize the order of examination."}),n.jsx("p",{children:"The four cheapest edges might be selected, but then edges that complete cycles with the selected edges must be skipped. Edges of equal weight may be examined in any order; the resulting trees have the same cost."}),n.jsx("p",{children:"Each selected edge combines two components of the growing forest until we have a single spanning tree."})]}),n.jsxs(J,{title:"Theorem 2.3.3 (Kruskal [1956])",children:[n.jsxs("p",{children:["In a connected weighted graph ",n.jsx(o,{math:"G"}),", Kruskal's Algorithm constructs a minimum-weight spanning tree."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"The algorithm produces a tree:"})," It never chooses an edge that completes a cycle. If the final graph has more than one component, then we considered no edge joining two of them, but such an edge would be accepted. Since ",n.jsx(o,{math:"G"})," is connected, some such edge exists. Thus the final graph is connected and acyclic."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"The tree is optimal:"})," Let ",n.jsx(o,{math:"T"})," be the resulting tree, and let ",n.jsx(o,{math:"T^*"})," be a minimum-weight spanning tree. If ",n.jsx(o,{math:"T \\neq T^*"}),", let"," ",n.jsx(o,{math:"e"})," be the first edge chosen for ",n.jsx(o,{math:"T"})," ","that is not in ",n.jsx(o,{math:"T^*"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Adding ",n.jsx(o,{math:"e"})," to ",n.jsx(o,{math:"T^*"})," creates one cycle ",n.jsx(o,{math:"C"}),". Since ",n.jsx(o,{math:"T"})," has no cycle,"," ",n.jsx(o,{math:"C"})," has an edge"," ",n.jsx(o,{math:"e' \\notin E(T)"}),". Consider"," ",n.jsx(o,{math:"T^* + e - e'"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Since ",n.jsx(o,{math:"T^*"})," contains ",n.jsx(o,{math:"e'"})," and all edges of ",n.jsx(o,{math:"T"})," chosen before ",n.jsx(o,{math:"e"}),", both ",n.jsx(o,{math:"e'"})," and ",n.jsx(o,{math:"e"})," are available when the algorithm chooses ",n.jsx(o,{math:"e"}),", so"," ",n.jsx(o,{math:"w(e) \\leq w(e')"}),". Thus"," ",n.jsx(o,{math:"T^* + e - e'"})," is a spanning tree with weight at most"," ",n.jsx(o,{math:"T^*"})," that agrees with ",n.jsx(o,{math:"T"})," longer."]}),n.jsxs("p",{className:"mt-2",children:["Repeating this argument eventually yields a minimum-weight spanning tree that agrees completely with ",n.jsx(o,{math:"T"}),"."]})]})]})]}),n.jsxs(ce,{title:"Prim's Algorithm",children:[n.jsx("p",{children:"An alternative approach: grow a spanning tree from a single vertex by iteratively adding the cheapest edge that incorporates a new vertex."}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Initialization:"})," Start with any vertex ",n.jsx(o,{math:"v"}),". Set ",n.jsx(o,{math:"S = \\{v\\}"}),"."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Iteration:"})," Add the cheapest edge from a vertex in"," ",n.jsx(o,{math:"S"})," to a vertex outside ",n.jsx(o,{math:"S"}),". Add the new vertex to ",n.jsx(o,{math:"S"}),"."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Termination:"})," When ",n.jsx(o,{math:"S = V(G)"}),"."]})]}),n.jsx("h2",{children:"Shortest Paths"}),n.jsx("p",{children:"How can we find the shortest route from one location to another? How can we find the shortest routes from our home to every place in town? This requires finding shortest paths from one vertex to all other vertices in a weighted graph. Together, these paths form a spanning tree."}),n.jsx(ce,{title:"Distance in Weighted Graphs",children:n.jsxs("p",{children:["The ",n.jsx("strong",{children:"distance"})," ",n.jsx(o,{math:"d(u, z)"})," in a weighted graph is the minimum sum of the weights on the edges in a"," ",n.jsx(o,{math:"u, z"}),"-path. We consider only nonnegative weights."]})}),n.jsxs("p",{children:[n.jsx("strong",{children:"Dijkstra's Algorithm"})," solves this problem quickly, using the observation that the ",n.jsx(o,{math:"u, v"}),"-portion of a shortest"," ",n.jsx(o,{math:"u, z"}),"-path must be a shortest"," ",n.jsx(o,{math:"u, v"}),"-path. It finds optimal routes from"," ",n.jsx(o,{math:"u"})," to other vertices ",n.jsx(o,{math:"z"})," in increasing order of ",n.jsx(o,{math:"d(u, z)"}),"."]}),n.jsxs(ce,{title:"Dijkstra's Algorithm (Algorithm 2.3.5)",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Input:"})," A graph (or digraph) with nonnegative edge weights and a starting vertex ",n.jsx(o,{math:"u"}),". Let ",n.jsx(o,{math:"w(xy)"})," be the weight of edge ",n.jsx(o,{math:"xy"})," (or"," ",n.jsx(o,{math:"\\infty"})," if no edge)."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Idea:"})," Maintain the set ",n.jsx(o,{math:"S"})," of vertices to which a shortest path from ",n.jsx(o,{math:"u"})," is known. Also maintain a tentative distance ",n.jsx(o,{math:"t(z)"})," from ",n.jsx(o,{math:"u"})," to each ",n.jsx(o,{math:"z \\notin S"}),"."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Initialization:"})," Set ",n.jsx(o,{math:"S = \\{u\\}"}),";"," ",n.jsx(o,{math:"t(u) = 0"}),"; ",n.jsx(o,{math:"t(z) = w(uz)"})," for"," ",n.jsx(o,{math:"z \\neq u"}),"."]}),n.jsx("p",{className:"mt-2",children:n.jsx("strong",{children:"Iteration:"})}),n.jsxs("ol",{className:"list-decimal list-inside ml-4 space-y-1",children:[n.jsxs("li",{children:["Select a vertex ",n.jsx(o,{math:"v"})," outside ",n.jsx(o,{math:"S"})," such that ",n.jsx(o,{math:"t(v) = \\min_{z \\notin S} t(z)"}),"."]}),n.jsxs("li",{children:["Add ",n.jsx(o,{math:"v"})," to ",n.jsx(o,{math:"S"}),"."]}),n.jsxs("li",{children:["For each edge ",n.jsx(o,{math:"vz"})," with"," ",n.jsx(o,{math:"z \\notin S"}),", update"," ",n.jsx(o,{math:"t(z) \\leftarrow \\min\\{t(z), t(v) + w(vz)\\}"}),"."]})]}),n.jsxs("p",{className:"mt-2",children:["Continue until ",n.jsx(o,{math:"S = V(G)"})," or"," ",n.jsx(o,{math:"t(z) = \\infty"})," for all"," ",n.jsx(o,{math:"z \\notin S"}),"."]})]}),n.jsxs(we,{title:"Dijkstra's Algorithm",children:[n.jsxs("p",{children:["In a weighted graph, suppose we find shortest paths from vertex"," ",n.jsx(o,{math:"u"})," to vertices ",n.jsx(o,{math:"a, b, c, d, e"})," with distances ",n.jsx(o,{math:"1, 3, 5, 6, 8"}),", respectively."]}),n.jsxs("p",{className:"mt-2",children:["To reconstruct the paths, we only need the edge on which each shortest path arrives at its destination. The earlier portion of a shortest"," ",n.jsx(o,{math:"u, z"}),"-path that reaches ",n.jsx(o,{math:"z"})," on the edge ",n.jsx(o,{math:"vz"})," is a shortest ",n.jsx(o,{math:"u, v"}),"-path."]}),n.jsxs("p",{className:"mt-2",children:['The algorithm can maintain this by recording the "predecessor" vertex whenever the tentative distance is updated. The predecessors form the edges of a spanning tree rooted at ',n.jsx(o,{math:"u"}),"."]})]}),n.jsxs(J,{title:"Theorem 2.3.7 (Correctness of Dijkstra's Algorithm)",children:[n.jsxs("p",{children:["Given a (di)graph ",n.jsx(o,{math:"G"})," and a vertex"," ",n.jsx(o,{math:"u \\in V(G)"}),", Dijkstra's Algorithm computes"," ",n.jsx(o,{math:"d(u, z)"})," for every ",n.jsx(o,{math:"z \\in V(G)"}),"."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["We prove by induction on ",n.jsx(o,{math:"|S|"})," that at each iteration:"]}),n.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[n.jsxs("li",{children:["For ",n.jsx(o,{math:"z \\in S"}),","," ",n.jsx(o,{math:"t(z) = d(u, z)"}),"."]}),n.jsxs("li",{children:["For ",n.jsx(o,{math:"z \\notin S"}),", ",n.jsx(o,{math:"t(z)"})," is the least length of a ",n.jsx(o,{math:"u, z"}),"-path reaching"," ",n.jsx(o,{math:"z"})," directly from ",n.jsx(o,{math:"S"}),"."]})]}),n.jsxs("p",{className:"mt-2",children:["When we select ",n.jsx(o,{math:"v"})," (minimum"," ",n.jsx(o,{math:"t(v)"})," outside ",n.jsx(o,{math:"S"}),"), any path visiting vertices outside ",n.jsx(o,{math:"S"})," before reaching"," ",n.jsx(o,{math:"v"})," has length at least ",n.jsx(o,{math:"t(v)"}),". Hence ",n.jsx(o,{math:"d(u, v) = t(v)"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Updating tentative distances when adding ",n.jsx(o,{math:"v"})," to"," ",n.jsx(o,{math:"S"})," correctly considers all paths reaching"," ",n.jsx(o,{math:"z"})," directly from the new ",n.jsx(o,{math:"S"}),"."]})]})]})]}),n.jsx("h2",{children:"Breadth-First Search"}),n.jsxs("p",{children:["The special case of Dijkstra's Algorithm for ",n.jsx("strong",{children:"unweighted graphs"})," ","(all edges have weight 1) is Breadth-First Search (BFS)."]}),n.jsxs(ce,{title:"Breadth-First Search (Algorithm 2.3.8)",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Input:"})," An unweighted graph (or digraph) and start vertex"," ",n.jsx(o,{math:"u"}),"."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Idea:"})," Maintain a set ",n.jsx(o,{math:"R"})," of vertices reached but not searched, and a set ",n.jsx(o,{math:"S"})," of vertices searched. Use ",n.jsx(o,{math:"R"})," as a ",n.jsx("strong",{children:"queue"})," (First-In First-Out), so the first vertices found are the first explored."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Initialization:"})," ",n.jsx(o,{math:"R = \\{u\\}"}),","," ",n.jsx(o,{math:"S = \\emptyset"}),", ",n.jsx(o,{math:"d(u, u) = 0"}),"."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Iteration:"})," While ",n.jsx(o,{math:"R \\neq \\emptyset"}),", search from the first vertex ",n.jsx(o,{math:"v"})," of"," ",n.jsx(o,{math:"R"}),". Add neighbors of ",n.jsx(o,{math:"v"})," not in"," ",n.jsx(o,{math:"S \\cup R"})," to the back of ",n.jsx(o,{math:"R"})," and assign distance ",n.jsx(o,{math:"d(u, v) + 1"}),". Move"," ",n.jsx(o,{math:"v"})," from ",n.jsx(o,{math:"R"})," to"," ",n.jsx(o,{math:"S"}),"."]})]}),n.jsxs("p",{children:["The largest distance from a vertex ",n.jsx(o,{math:"u"})," to another vertex is the eccentricity ",n.jsx(o,{math:"\\varepsilon(u)"}),". Hence we can compute the"," ",n.jsx("strong",{children:"diameter"})," of a graph by running Breadth-First Search from each vertex."]}),n.jsxs("p",{children:["Like Dijkstra's Algorithm, BFS from ",n.jsx(o,{math:"u"})," yields a tree"," ",n.jsx(o,{math:"T"})," in which for each vertex ",n.jsx(o,{math:"v"}),", the"," ",n.jsx(o,{math:"u, v"}),"-path is a shortest ",n.jsx(o,{math:"u, v"}),"-path."]}),n.jsx("h2",{children:"The Chinese Postman Problem"}),n.jsxs(ce,{title:"Chinese Postman Problem",children:[n.jsxs("p",{children:["A mail carrier must traverse all edges in a road network, starting and ending at the Post Office. The edges have nonnegative weights representing distance or time. We seek a ",n.jsx("strong",{children:"closed walk"})," of minimum total length that uses all the edges."]}),n.jsx("p",{className:"mt-2 text-dark-300",children:"Named in honor of the Chinese mathematician Guan Meigu [1962], who proposed it."})]}),n.jsx("p",{children:"If every vertex has even degree, then the graph is Eulerian and the answer is the sum of the edge weights. Otherwise, we must repeat some edges."}),n.jsx("p",{children:"Every traversal is an Eulerian circuit of a graph obtained by duplicating edges. Finding the shortest traversal is equivalent to finding the minimum total weight of edges whose duplication will make all vertex degrees even."}),n.jsxs(we,{title:"Solving the Chinese Postman Problem",children:[n.jsx("p",{children:"Consider a graph with eight odd-degree vertices on its outer boundary. To make all degrees even, we must pair up the odd vertices with paths."}),n.jsx("p",{className:"mt-2",children:"If there are only two odd vertices, use Dijkstra's Algorithm to find the shortest path between them."}),n.jsxs("p",{className:"mt-2",children:["If there are ",n.jsx(o,{math:"2k"})," odd vertices, find shortest paths between all pairs using Dijkstra's Algorithm. Then find the minimum total weight of"," ",n.jsx(o,{math:"k"})," paths that pair up all odd vertices (a weighted matching problem)."]})]}),n.jsx("h2",{children:"Trees in Computer Science (Optional)"}),n.jsxs(ce,{title:"Rooted Trees",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"rooted tree"})," is a tree with one vertex ",n.jsx(o,{math:"r"}),"chosen as ",n.jsx("strong",{children:"root"}),". For each vertex ",n.jsx(o,{math:"v"}),", let"," ",n.jsx(o,{math:"P(v)"})," be the unique ",n.jsx(o,{math:"v, r"}),"-path."]}),n.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[n.jsxs("li",{children:["The ",n.jsx("strong",{children:"parent"})," of ",n.jsx(o,{math:"v"})," is its neighbor on"," ",n.jsx(o,{math:"P(v)"}),"."]}),n.jsxs("li",{children:["The ",n.jsx("strong",{children:"children"})," of ",n.jsx(o,{math:"v"})," are its other neighbors."]}),n.jsxs("li",{children:["The ",n.jsx("strong",{children:"ancestors"})," of ",n.jsx(o,{math:"v"})," are the vertices of"," ",n.jsx(o,{math:"P(v) - v"}),"."]}),n.jsxs("li",{children:["The ",n.jsx("strong",{children:"descendants"})," of ",n.jsx(o,{math:"v"})," are vertices"," ",n.jsx(o,{math:"u"})," such that ",n.jsx(o,{math:"P(u)"})," contains"," ",n.jsx(o,{math:"v"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Leaves"})," are vertices with no children."]})]})]}),n.jsxs(ce,{title:"Binary Trees",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"binary tree"})," is a rooted plane tree where each vertex has at most two children, and each child is designated as ",n.jsx("strong",{children:"left"})," or"," ",n.jsx("strong",{children:"right"}),"."]}),n.jsx("p",{className:"mt-2",children:"Binary trees permit storage of data for quick access. We store each item at a leaf and access it by following the path from the root (0 for left, 1 for right). The search time is the length of this code word."})]}),n.jsx("h3",{children:"Huffman's Algorithm"}),n.jsxs("p",{children:["Given access probabilities among ",n.jsx(o,{math:"n"})," items, we want to place them at the leaves of a binary tree to minimize expected search time. This is equivalent to optimal prefix-free coding."]}),n.jsxs(ce,{title:"Prefix-Free Code",children:[n.jsxs("p",{children:["A binary code is ",n.jsx("strong",{children:"prefix-free"})," if no code word is an initial portion of another. Then the current word ends as soon as the bits since the end of the previous word form a code word."]}),n.jsx("p",{className:"mt-2",children:"Prefix-free binary codes correspond to the leaves of a binary tree using left/right encoding (0 = left, 1 = right)."})]}),n.jsxs(ce,{title:"Huffman's Algorithm (Algorithm 2.3.13)",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Input:"})," Weights (frequencies or probabilities)"," ",n.jsx(o,{math:"p_1, \\ldots, p_n"}),"."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Output:"})," Prefix-free code (equivalently, a binary tree)."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Idea:"})," Infrequent items should have longer codes; put infrequent items deeper by combining them into parent nodes."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Base case:"})," When ",n.jsx(o,{math:"n = 2"}),", the optimal length is 1, with 0 and 1 as the codes."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Recursion:"})," When ",n.jsx(o,{math:"n > 2"}),", replace the two least likely items ",n.jsx(o,{math:"p, p'"})," with a single item"," ",n.jsx(o,{math:"q = p + p'"}),". Solve for ",n.jsx(o,{math:"n - 1"})," items. Then give children with weights ",n.jsx(o,{math:"p, p'"})," to the leaf with weight ",n.jsx(o,{math:"q"}),"."]})]}),n.jsxs(we,{title:"Huffman Coding",children:[n.jsx("p",{children:"Consider eight items with frequencies 5, 1, 1, 7, 8, 2, 3, 6. Algorithm 2.3.13 combines items from the bottom up:"}),n.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[n.jsx("li",{children:n.jsx(o,{math:"1 + 1 = 2"})}),n.jsx("li",{children:n.jsx(o,{math:"2 + 2 = 4"})}),n.jsx("li",{children:n.jsx(o,{math:"3 + 4 = 7"})}),n.jsx("li",{children:n.jsx(o,{math:"5 + 6 = 11"})}),n.jsx("li",{children:n.jsx(o,{math:"7 + 7 = 14"})}),n.jsx("li",{children:n.jsx(o,{math:"8 + 11 = 19"})}),n.jsx("li",{children:n.jsx(o,{math:"14 + 19 = 33"})})]}),n.jsxs("p",{className:"mt-2",children:["The expected code length is ",n.jsx(o,{math:"\\sum p_i l_i = 90/33 < 3"}),", which is less than using fixed-length 3-bit codes for eight items."]})]}),n.jsxs(J,{title:"Theorem 2.3.15 (Optimality of Huffman Coding)",children:[n.jsxs("p",{children:["Given a probability distribution ",n.jsx(o,{math:"\\{p_i\\}"})," on"," ",n.jsx(o,{math:"n"})," items, Huffman's Algorithm produces the prefix-free code with minimum expected length."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["Use induction on ",n.jsx(o,{math:"n"}),". Every optimal code has least likely messages at leaves of greatest depth. Since every leaf at maximum depth has a sibling, two least likely messages can be assumed to be siblings."]}),n.jsxs("p",{className:"mt-2",children:["Replacing these siblings with their parent (probability"," ",n.jsx(o,{math:"p_{n-1} + p_n"}),") reduces to an"," ",n.jsx(o,{math:"(n-1)"}),"-item problem. By the induction hypothesis, Huffman's Algorithm is optimal for this. Expanding back gives the optimal tree for ",n.jsx(o,{math:"n"})," items."]})]})]})]}),n.jsxs("p",{children:["Shannon [1948] proved that for every binary code, the expected length is at least the ",n.jsx("strong",{children:"entropy"})," of the distribution:"," ",n.jsx(o,{math:"-\\sum p_i \\log_2 p_i"}),". When each"," ",n.jsx(o,{math:"p_i"})," is a power of ",n.jsx(o,{math:"1/2"}),", the Huffman code achieves this bound exactly."]}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Kruskal's Algorithm:"})," Build a minimum spanning tree by greedily adding cheapest edges that don't create cycles."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Prim's Algorithm:"})," Grow a minimum spanning tree from a single vertex by iteratively adding the cheapest edge to a new vertex."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Dijkstra's Algorithm:"})," Find shortest paths from a source vertex by iteratively selecting the vertex with smallest tentative distance and updating neighbors."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Breadth-First Search:"})," Special case of Dijkstra for unweighted graphs; explores vertices in order of distance from the source."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Chinese Postman Problem:"})," Find minimum-weight walk covering all edges; reduces to matching odd-degree vertices optimally."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Huffman's Algorithm:"})," Builds optimal prefix-free codes by recursively combining least frequent items."]})]})]})}function nee(){return n.jsxs(kt,{sectionId:8,children:[n.jsx("p",{children:"Within a set of people, some pairs are compatible as roommates; under what conditions can we pair them all up? Many applications of graphs involve such pairings. In the job assignment problem, we want to pair jobs with qualified applicants. Bipartite graphs have a natural vertex partition, and we want to know whether the two sets can be paired using edges."}),n.jsx("h2",{children:"Interactive Matching Explorer"}),n.jsx("p",{children:"Explore bipartite matchings interactively. Click edges to build a matching, find maximum matchings, and verify Hall's condition for perfect matchings."}),n.jsx(OJ,{className:"my-8"}),n.jsx("h2",{children:"Matchings"}),n.jsxs(ce,{title:"Matching",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"matching"})," in a graph ",n.jsx(o,{math:"G"})," is a set of non-loop edges with no shared endpoints. The vertices incident to the edges of a matching ",n.jsx(o,{math:"M"})," are ",n.jsx("strong",{children:"saturated"})," by"," ",n.jsx(o,{math:"M"}),"; the others are ",n.jsx("strong",{children:"unsaturated"})," (we say"," ",n.jsx(o,{math:"M"}),"-saturated and ",n.jsx(o,{math:"M"}),"-unsaturated)."]}),n.jsxs("p",{className:"mt-2",children:["A ",n.jsx("strong",{children:"perfect matching"})," in a graph is a matching that saturates every vertex."]})]}),n.jsxs(we,{title:"Perfect Matchings in Complete Bipartite Graphs",children:[n.jsxs("p",{children:["Consider ",n.jsx(o,{math:"K_{n,n}"})," with partite sets"," ",n.jsx(o,{math:"X = \\{x_1, \\ldots, x_n\\}"})," and"," ",n.jsx(o,{math:"Y = \\{y_1, \\ldots, y_n\\}"}),". A perfect matching defines a bijection from ",n.jsx(o,{math:"X"})," to ",n.jsx(o,{math:"Y"}),". Successively finding mates for"," ",n.jsx(o,{math:"x_1, x_2, \\ldots"})," yields ",n.jsx(o,{math:"n!"})," perfect matchings."]}),n.jsxs("p",{className:"mt-2",children:["Each matching is represented by a permutation of ",n.jsx(o,{math:"[n]"}),", mapping ",n.jsx(o,{math:"i"})," to ",n.jsx(o,{math:"j"})," when"," ",n.jsx(o,{math:"x_i"})," is matched to ",n.jsx(o,{math:"y_j"}),"."]})]}),n.jsxs(we,{title:"Perfect Matchings in Complete Graphs",children:[n.jsxs("p",{children:["Since it has odd order, ",n.jsx(o,{math:"K_{2n+1}"})," has no perfect matching. The number ",n.jsx(o,{math:"f_n"})," of perfect matchings in"," ",n.jsx(o,{math:"K_{2n}"})," is the number of ways to pair up"," ",n.jsx(o,{math:"2n"})," distinct people."]}),n.jsxs("p",{className:"mt-2",children:["There are ",n.jsx(o,{math:"2n - 1"})," choices for the partner of"," ",n.jsx(o,{math:"v_{2n}"}),", and for each such choice there are"," ",n.jsx(o,{math:"f_{n-1}"})," ways to complete the matching. Hence:"]}),n.jsx(ze,{math:"f_n = (2n-1) \\cdot f_{n-1} = (2n-1) \\cdot (2n-3) \\cdots (1) = (2n-1)!!"}),n.jsxs("p",{children:["Equivalently, ",n.jsx(o,{math:"f_n = \\frac{(2n)!}{2^n n!}"})," (each matching is generated by ",n.jsx(o,{math:"2^n n!"})," orderings)."]})]}),n.jsx("h2",{children:"Maximum Matchings"}),n.jsxs("p",{children:["A matching is a set of edges, so its ",n.jsx("strong",{children:"size"})," is the number of edges. We can seek a large matching by iteratively selecting edges whose endpoints are not used by the edges already selected. This yields a"," ",n.jsx("em",{children:"maximal"})," matching but maybe not a ",n.jsx("em",{children:"maximum"})," matching."]}),n.jsxs(ce,{title:"Maximal vs. Maximum Matching",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"maximal matching"})," in a graph is a matching that cannot be enlarged by adding an edge."]}),n.jsxs("p",{className:"mt-2",children:["A ",n.jsx("strong",{children:"maximum matching"})," is a matching of maximum size among all matchings in the graph."]}),n.jsx("p",{className:"mt-2 text-dark-300",children:"Every maximum matching is maximal, but the converse need not hold."})]}),n.jsxs(we,{title:"Maximal  Maximum",children:[n.jsxs("p",{children:["The smallest graph having a maximal matching that is not a maximum matching is"," ",n.jsx(o,{math:"P_4"}),". If we take the middle edge, we can add no other, but the two end edges form a larger matching."]}),n.jsx("p",{className:"mt-2",children:"This illustrates that greedy selection doesn't always find the optimum."})]}),n.jsx("h3",{children:"Augmenting Paths"}),n.jsxs(ce,{title:"Alternating and Augmenting Paths",children:[n.jsxs("p",{children:["Given a matching ",n.jsx(o,{math:"M"}),", an"," ",n.jsxs("strong",{children:[n.jsx(o,{math:"M"}),"-alternating path"]})," ","is a path that alternates between edges in ",n.jsx(o,{math:"M"})," and edges not in ",n.jsx(o,{math:"M"}),"."]}),n.jsxs("p",{className:"mt-2",children:["An"," ",n.jsxs("strong",{children:[n.jsx(o,{math:"M"}),"-augmenting path"]})," ","is an ",n.jsx(o,{math:"M"}),"-alternating path whose endpoints are both unsaturated by ",n.jsx(o,{math:"M"}),"."]})]}),n.jsxs("p",{children:["Given an ",n.jsx(o,{math:"M"}),"-augmenting path ",n.jsx(o,{math:"P"}),", we can replace the edges of ",n.jsx(o,{math:"M"})," in ",n.jsx(o,{math:"P"})," with the other edges of ",n.jsx(o,{math:"P"})," to obtain a new matching"," ",n.jsx(o,{math:"M'"})," with one more edge. This operation is called"," ",n.jsx("strong",{children:"augmentation"}),"."]}),n.jsxs(ce,{title:"Symmetric Difference",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," and ",n.jsx(o,{math:"H"})," are graphs with vertex set ",n.jsx(o,{math:"V"}),", then the ",n.jsx("strong",{children:"symmetric difference"})," ",n.jsx(o,{math:"G \\triangle H"})," is the graph with vertex set"," ",n.jsx(o,{math:"V"})," whose edges are all those appearing in exactly one of"," ",n.jsx(o,{math:"G"})," and ",n.jsx(o,{math:"H"}),"."]}),n.jsxs("p",{className:"mt-2",children:["For matchings: ",n.jsx(o,{math:"M \\triangle M' = (M - M') \\cup (M' - M)"}),"."]})]}),n.jsxs(J,{title:"Lemma 3.1.9",children:[n.jsx("p",{children:"Every component of the symmetric difference of two matchings is a path or an even cycle."}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["Let ",n.jsx(o,{math:"M"})," and ",n.jsx(o,{math:"M'"})," be matchings, and let ",n.jsx(o,{math:"F = M \\triangle M'"}),". Since"," ",n.jsx(o,{math:"M"})," and ",n.jsx(o,{math:"M'"})," are matchings, every vertex has at most one incident edge from each. Thus"," ",n.jsx(o,{math:"F"})," has at most two edges at each vertex."]}),n.jsxs("p",{className:"mt-2",children:["Since ",n.jsx(o,{math:"\\Delta(F) \\leq 2"}),", every component of"," ",n.jsx(o,{math:"F"})," is a path or a cycle. Furthermore, every path or cycle alternates between edges of ",n.jsx(o,{math:"M - M'"})," and edges of"," ",n.jsx(o,{math:"M' - M"}),". Thus each cycle has even length."]})]})]})]}),n.jsxs(J,{title:"Berge's Theorem (Theorem 3.1.10)",children:[n.jsxs("p",{children:["A matching ",n.jsx(o,{math:"M"})," in a graph ",n.jsx(o,{math:"G"})," is a maximum matching in ",n.jsx(o,{math:"G"})," if and only if"," ",n.jsx(o,{math:"G"})," has no ",n.jsx(o,{math:"M"}),"-augmenting path."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["We prove the contrapositive of each direction: ",n.jsx(o,{math:"G"})," has a matching larger than ",n.jsx(o,{math:"M"})," if and only if"," ",n.jsx(o,{math:"G"})," has an ",n.jsx(o,{math:"M"}),"-augmenting path."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"()"})," An ",n.jsx(o,{math:"M"}),"-augmenting path can be used to produce a matching larger than ",n.jsx(o,{math:"M"}),"."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"()"})," Let ",n.jsx(o,{math:"M'"})," be a matching larger than"," ",n.jsx(o,{math:"M"}),". Let ",n.jsx(o,{math:"F = M \\triangle M'"}),". By Lemma 3.1.9, ",n.jsx(o,{math:"F"})," consists of paths and even cycles. The cycles have the same number of edges from ",n.jsx(o,{math:"M"})," and"," ",n.jsx(o,{math:"M'"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Since ",n.jsx(o,{math:"|M'| > |M|"}),", ",n.jsx(o,{math:"F"})," must have a component with more edges of ",n.jsx(o,{math:"M'"})," than of"," ",n.jsx(o,{math:"M"}),". Such a component can only be a path that starts and ends with an edge of ",n.jsx(o,{math:"M'"}),"; thus it is an"," ",n.jsx(o,{math:"M"}),"-augmenting path."]})]})]})]}),n.jsx("h2",{children:"Hall's Matching Condition"}),n.jsxs("p",{children:["When filling jobs with applicants, there may be many more applicants than jobs. We model this with an ",n.jsx(o,{math:"X, Y"}),"-bigraph and seek a matching that saturates ",n.jsx(o,{math:"X"}),"."]}),n.jsxs(ce,{title:"Hall's Condition",children:[n.jsxs("p",{children:["For a bipartite graph with bipartition ",n.jsx(o,{math:"X, Y"}),", let"," ",n.jsx(o,{math:"N(S)"})," denote the set of vertices having a neighbor in"," ",n.jsx(o,{math:"S"}),"."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Hall's Condition:"})," For all"," ",n.jsx(o,{math:"S \\subseteq X"}),","," ",n.jsx(o,{math:"|N(S)| \\geq |S|"}),"."]}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["This is obviously necessary: if a matching saturates ",n.jsx(o,{math:"X"}),", then for every ",n.jsx(o,{math:"S \\subseteq X"}),", there must be at least"," ",n.jsx(o,{math:"|S|"})," vertices to match to ",n.jsx(o,{math:"S"}),"."]})]}),n.jsxs(J,{title:"Hall's Theorem (Theorem 3.1.11)",children:[n.jsxs("p",{children:["An ",n.jsx(o,{math:"X, Y"}),"-bigraph ",n.jsx(o,{math:"G"})," has a matching that saturates ",n.jsx(o,{math:"X"})," if and only if"," ",n.jsx(o,{math:"|N(S)| \\geq |S|"})," for all"," ",n.jsx(o,{math:"S \\subseteq X"}),"."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Necessity:"})," The ",n.jsx(o,{math:"|S|"})," vertices matched to ",n.jsx(o,{math:"S"})," must lie in ",n.jsx(o,{math:"N(S)"}),"."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Sufficiency:"})," We prove the contrapositive. If"," ",n.jsx(o,{math:"M"})," is a maximum matching that doesn't saturate"," ",n.jsx(o,{math:"X"}),", we find ",n.jsx(o,{math:"S \\subseteq X"})," with"," ",n.jsx(o,{math:"|N(S)| < |S|"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Let ",n.jsx(o,{math:"u \\in X"})," be unsaturated. Among vertices reachable from ",n.jsx(o,{math:"u"})," by ",n.jsx(o,{math:"M"}),"-alternating paths, let ",n.jsx(o,{math:"S"})," be those in ",n.jsx(o,{math:"X"})," and"," ",n.jsx(o,{math:"T"})," be those in ",n.jsx(o,{math:"Y"}),"."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx(o,{math:"M"}),"-alternating paths from"," ",n.jsx(o,{math:"u"})," reach ",n.jsx(o,{math:"Y"})," along edges not in"," ",n.jsx(o,{math:"M"})," and return to ",n.jsx(o,{math:"X"})," along edges in ",n.jsx(o,{math:"M"}),". Hence ",n.jsx(o,{math:"M"})," matches"," ",n.jsx(o,{math:"T"})," with ",n.jsx(o,{math:"S - \\{u\\}"}),". Since there's no augmenting path, every vertex of ",n.jsx(o,{math:"T"})," is saturated, so ",n.jsx(o,{math:"T = N(S)"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Thus"," ",n.jsx(o,{math:"|N(S)| = |T| = |S - \\{u\\}| = |S| - 1 < |S|"}),"."]})]})]})]}),n.jsx("h2",{children:"Vertex Covers"}),n.jsx("p",{children:"We now connect matchings to another graph parameter."}),n.jsxs(ce,{title:"Vertex Cover",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"vertex cover"})," of a graph ",n.jsx(o,{math:"G"})," is a set"," ",n.jsx(o,{math:"Q \\subseteq V(G)"})," such that every edge of"," ",n.jsx(o,{math:"G"})," has at least one endpoint in ",n.jsx(o,{math:"Q"}),"."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"vertex cover number"})," ",n.jsx(o,{math:"\\beta(G)"})," is the minimum size of a vertex cover."]})]}),n.jsxs("p",{children:["Matchings and vertex covers are related: every vertex cover must contain at least one endpoint of each edge in a matching. Thus"," ",n.jsx(o,{math:"\\beta(G) \\geq |M|"})," for every matching"," ",n.jsx(o,{math:"M"}),"."]}),n.jsxs(J,{title:"Knig-Egervry Theorem (Theorem 3.1.16)",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," is a bipartite graph, then the maximum size of a matching in ",n.jsx(o,{math:"G"})," equals the minimum size of a vertex cover."]}),n.jsx(ze,{math:"\\alpha'(G) = \\beta(G)"}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["Here ",n.jsx(o,{math:"\\alpha'(G)"})," denotes the maximum matching size (the"," ",n.jsx("strong",{children:"matching number"}),")."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),n.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:n.jsxs("p",{children:["We always have ",n.jsx(o,{math:"\\alpha'(G) \\leq \\beta(G)"}),". For bipartite graphs, equality is achieved by constructing a vertex cover from a maximum matching using alternating paths, similar to the proof of Hall's Theorem."]})})]})]}),n.jsxs(we,{title:"Knig-Egervry in Practice",children:[n.jsxs("p",{children:["Consider ",n.jsx(o,{math:"K_{3,3}"}),". A maximum matching has size 3 (a perfect matching exists). A minimum vertex cover also has size 3 (we can take all vertices from one partite set)."]}),n.jsxs("p",{className:"mt-2",children:["For non-bipartite graphs, equality may fail. In a triangle"," ",n.jsx(o,{math:"K_3"}),", the maximum matching has size 1, but the minimum vertex cover has size 2."]})]}),n.jsx("h2",{children:"Independent Sets"}),n.jsxs(ce,{title:"Independent Set",children:[n.jsxs("p",{children:["An ",n.jsx("strong",{children:"independent set"})," in a graph ",n.jsx(o,{math:"G"})," is a set of pairwise non-adjacent vertices."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"independence number"})," ",n.jsx(o,{math:"\\alpha(G)"})," is the maximum size of an independent set."]})]}),n.jsxs(J,{title:"Gallai's Theorem",children:[n.jsxs("p",{children:["For any graph ",n.jsx(o,{math:"G"})," without isolated vertices:"]}),n.jsx(ze,{math:"\\alpha(G) + \\beta(G) = n(G)"}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["A set ",n.jsx(o,{math:"S"})," is independent if and only if its complement"," ",n.jsx(o,{math:"\\overline{S} = V(G) - S"})," is a vertex cover. Thus"," ",n.jsx(o,{math:"S"})," is a maximum independent set iff"," ",n.jsx(o,{math:"\\overline{S}"})," is a minimum vertex cover, and:"]}),n.jsx(ze,{math:"\\alpha(G) = n(G) - \\beta(G)"})]})]})]}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Matching:"})," A set of edges with no shared endpoints. Perfect matchings saturate all vertices."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Maximal vs. Maximum:"})," Maximal matchings can't be extended; maximum matchings have the most edges. They're not the same!"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Berge's Theorem:"})," A matching is maximum iff there is no augmenting path."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Hall's Theorem:"})," An ",n.jsx(o,{math:"X, Y"}),"-bigraph has a matching saturating ",n.jsx(o,{math:"X"})," iff"," ",n.jsx(o,{math:"|N(S)| \\geq |S|"})," for all"," ",n.jsx(o,{math:"S \\subseteq X"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Knig-Egervry:"})," In bipartite graphs, maximum matching size = minimum vertex cover size."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Gallai's Theorem:"})," ",n.jsx(o,{math:"\\alpha(G) + \\beta(G) = n(G)"})," for graphs without isolated vertices."]})]})]})}function see(){return n.jsxs(kt,{sectionId:9,children:[n.jsx("p",{children:"Now that we understand the structure of maximum matchings via Berge's Theorem, we can design algorithms to find them. In bipartite graphs, the augmenting path approach leads to efficient algorithms. We also consider weighted versions of matching problems and the stable matching problem, which has applications in job markets and organ donation."}),n.jsx("h2",{children:"The Augmenting Path Algorithm"}),n.jsxs("p",{children:["Berge's Theorem tells us that a matching ",n.jsx(o,{math:"M"})," is maximum if and only if there is no ",n.jsx(o,{math:"M"}),"-augmenting path. This suggests an algorithm: repeatedly find augmenting paths and use them to enlarge the matching until no augmenting path exists."]}),n.jsxs(ce,{title:"Augmenting Path Algorithm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Input:"})," An ",n.jsx(o,{math:"X, Y"}),"-bigraph"," ",n.jsx(o,{math:"G"}),"."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Idea:"})," Explore alternating paths from each unsaturated vertex in ",n.jsx(o,{math:"X"}),", seeking to reach an unsaturated vertex in"," ",n.jsx(o,{math:"Y"}),"."]}),n.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[n.jsxs("li",{children:["Start with any matching ",n.jsx(o,{math:"M"})," (possibly empty)."]}),n.jsxs("li",{children:["For each unsaturated vertex ",n.jsx(o,{math:"u \\in X"}),", use BFS/DFS to search for an ",n.jsx(o,{math:"M"}),"-augmenting path starting at"," ",n.jsx(o,{math:"u"}),"."]}),n.jsxs("li",{children:["From ",n.jsx(o,{math:"X"}),"-vertices, follow edges not in"," ",n.jsx(o,{math:"M"}),"."]}),n.jsxs("li",{children:["From ",n.jsx(o,{math:"Y"}),"-vertices, follow edges in"," ",n.jsx(o,{math:"M"}),"."]}),n.jsxs("li",{children:["If an unsaturated ",n.jsx(o,{math:"Y"}),"-vertex is reached, we've found an augmenting path. Augment ",n.jsx(o,{math:"M"})," and repeat."]}),n.jsxs("li",{children:["If no augmenting path exists, ",n.jsx(o,{math:"M"})," is maximum."]})]})]}),n.jsxs(J,{title:"Theorem 3.2.2 (Correctness and Running Time)",children:[n.jsxs("p",{children:["The augmenting path algorithm finds a maximum matching in an"," ",n.jsx(o,{math:"X, Y"}),"-bigraph ",n.jsx(o,{math:"G"}),". If"," ",n.jsx(o,{math:"n = |V(G)|"})," and ",n.jsx(o,{math:"m = |E(G)|"}),", the algorithm runs in ",n.jsx(o,{math:"O(mn)"})," time."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Correctness:"})," Berge's Theorem guarantees that when no augmenting path exists, we have a maximum matching."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Time analysis:"})," Each augmentation increases"," ",n.jsx(o,{math:"|M|"})," by 1. Since"," ",n.jsx(o,{math:"|M| \\leq n/2"}),", we perform at most"," ",n.jsx(o,{math:"O(n)"})," augmentations. Each search for an augmenting path visits each edge at most once, taking ",n.jsx(o,{math:"O(m)"})," ","time. Total: ",n.jsx(o,{math:"O(mn)"}),"."]})]})]})]}),n.jsxs(we,{title:"Applying the Algorithm",children:[n.jsxs("p",{children:["Consider a bipartite graph with ",n.jsx(o,{math:"X = \\{x_1, x_2, x_3\\}"})," ","and ",n.jsx(o,{math:"Y = \\{y_1, y_2, y_3\\}"})," with edges"," ",n.jsx(o,{math:"x_1y_1, x_1y_2, x_2y_1, x_2y_2, x_3y_2, x_3y_3"}),"."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Round 1:"})," Start with ",n.jsx(o,{math:"M = \\emptyset"}),". From ",n.jsx(o,{math:"x_1"}),", go to ",n.jsx(o,{math:"y_1"})," (unsaturated). Augment: ",n.jsx(o,{math:"M = \\{x_1y_1\\}"}),"."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Round 2:"})," From ",n.jsx(o,{math:"x_2"}),", try"," ",n.jsx(o,{math:"y_1"})," (saturated), follow matching edge to"," ",n.jsx(o,{math:"x_1"}),", try ",n.jsx(o,{math:"y_2"})," (unsaturated). Augment: ",n.jsx(o,{math:"M = \\{x_1y_2, x_2y_1\\}"}),"."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Round 3:"})," From ",n.jsx(o,{math:"x_3"}),", try"," ",n.jsx(o,{math:"y_2"})," (saturated), to ",n.jsx(o,{math:"x_1"}),", can't extend further from ",n.jsx(o,{math:"x_1"}),". Try ",n.jsx(o,{math:"y_3"})," ","(unsaturated). Augment: ",n.jsx(o,{math:"M = \\{x_1y_2, x_2y_1, x_3y_3\\}"}),"."]}),n.jsx("p",{className:"mt-2",children:"Final matching is perfect with size 3."})]}),n.jsx("h3",{children:"The Hopcroft-Karp Algorithm"}),n.jsx("p",{children:"By finding many augmenting paths in each phase (all of shortest length), the Hopcroft-Karp algorithm improves the running time."}),n.jsx(J,{title:"Hopcroft-Karp (1973)",children:n.jsxs("p",{children:["A maximum matching in a bipartite graph with ",n.jsx(o,{math:"n"})," vertices and ",n.jsx(o,{math:"m"})," edges can be found in"," ",n.jsx(o,{math:"O(m\\sqrt{n})"})," time."]})}),n.jsx("h2",{children:"Weighted Bipartite Matching"}),n.jsx("p",{children:"In many applications, not all matchings are equally valuable. When edges have weights (costs or profits), we seek a maximum matching of maximum (or minimum) total weight."}),n.jsxs(ce,{title:"Weighted Bipartite Matching",children:[n.jsxs("p",{children:["Given an ",n.jsx(o,{math:"X, Y"}),"-bigraph ",n.jsx(o,{math:"G"})," with edge weights ",n.jsx(o,{math:"w: E(G) \\to \\mathbb{R}"}),", the"," ",n.jsx("strong",{children:"weighted bipartite matching problem"})," seeks a maximum matching"," ",n.jsx(o,{math:"M"})," that maximizes (or minimizes)"," ",n.jsx(o,{math:"\\sum_{e \\in M} w(e)"}),"."]}),n.jsxs("p",{className:"mt-2",children:["When ",n.jsx(o,{math:"|X| = |Y| = n"})," and we seek a perfect matching, this is the ",n.jsx("strong",{children:"assignment problem"}),"."]})]}),n.jsxs(we,{title:"Farm Assignment Problem",children:[n.jsxs("p",{children:["A farm must assign ",n.jsx(o,{math:"n"})," workers to ",n.jsx(o,{math:"n"})," ","jobs. Let ",n.jsx(o,{math:"a_{ij}"})," be the profit when worker"," ",n.jsx(o,{math:"i"})," does job ",n.jsx(o,{math:"j"}),". We model this as"," ",n.jsx(o,{math:"K_{n,n}"})," with edge ",n.jsx(o,{math:"x_i y_j"})," having weight ",n.jsx(o,{math:"a_{ij}"}),"."]}),n.jsxs("p",{className:"mt-2",children:["We seek a perfect matching (assignment) maximizing total profit. The optimal assignment corresponds to a permutation ",n.jsx(o,{math:"\\sigma"})," ","maximizing ",n.jsx(o,{math:"\\sum_i a_{i,\\sigma(i)}"}),"."]})]}),n.jsx("h3",{children:"The Hungarian Algorithm"}),n.jsxs(ce,{title:"Vertex Labeling",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"feasible labeling"})," for weighted"," ",n.jsx(o,{math:"X, Y"}),"-bigraph ",n.jsx(o,{math:"G"})," is a function"," ",n.jsx(o,{math:"\\ell: V(G) \\to \\mathbb{R}"})," such that"," ",n.jsx(o,{math:"\\ell(x) + \\ell(y) \\geq w(xy)"})," for all edges"," ",n.jsx(o,{math:"xy"}),"."]}),n.jsxs("p",{className:"mt-2",children:["An edge ",n.jsx(o,{math:"xy"})," is ",n.jsx("strong",{children:"tight"})," if"," ",n.jsx(o,{math:"\\ell(x) + \\ell(y) = w(xy)"}),"."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"equality graph"})," ",n.jsx(o,{math:"G_\\ell"})," consists of all tight edges."]})]}),n.jsxs(J,{title:"Theorem 3.2.9",children:[n.jsxs("p",{children:["For a feasible labeling ",n.jsx(o,{math:"\\ell"})," on a weighted bipartite graph ",n.jsx(o,{math:"G"})," with ",n.jsx(o,{math:"|X| = |Y|"}),":"]}),n.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[n.jsxs("li",{children:["For any matching ",n.jsx(o,{math:"M"}),":"," ",n.jsx(o,{math:"w(M) \\leq \\sum_{v \\in V(G)} \\ell(v)"}),"."]}),n.jsxs("li",{children:["Equality holds if and only if ",n.jsx(o,{math:"M"})," is a perfect matching in ",n.jsx(o,{math:"G_\\ell"}),"."]})]}),n.jsxs("p",{className:"mt-2",children:["Thus, a perfect matching in ",n.jsx(o,{math:"G_\\ell"})," is a maximum-weight perfect matching in ",n.jsx(o,{math:"G"}),"."]})]}),n.jsxs(ce,{title:"Hungarian Algorithm",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Input:"})," Weighted ",n.jsx(o,{math:"X, Y"}),"-bigraph with"," ",n.jsx(o,{math:"|X| = |Y| = n"}),"."]}),n.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[n.jsxs("li",{children:["Initialize: ",n.jsx(o,{math:"\\ell(x) = \\max_y w(xy)"})," for"," ",n.jsx(o,{math:"x \\in X"}),", ",n.jsx(o,{math:"\\ell(y) = 0"})," for"," ",n.jsx(o,{math:"y \\in Y"}),"."]}),n.jsxs("li",{children:["Find a maximum matching ",n.jsx(o,{math:"M"})," in"," ",n.jsx(o,{math:"G_\\ell"}),"."]}),n.jsxs("li",{children:["If ",n.jsx(o,{math:"M"})," is perfect, return ",n.jsx(o,{math:"M"}),"."]}),n.jsxs("li",{children:["Otherwise, adjust labels to add edges to ",n.jsx(o,{math:"G_\\ell"})," ","(making more edges tight) and repeat."]})]}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["Running time: ",n.jsx(o,{math:"O(n^3)"}),"."]})]}),n.jsx("h2",{children:"Stable Matchings"}),n.jsx("p",{children:"In the stable matching problem, we have preferences rather than numeric weights. Each vertex ranks its potential partners, and we seek a matching where no two unmatched vertices would prefer each other over their current partners."}),n.jsxs(ce,{title:"Stable Matching",children:[n.jsxs("p",{children:["Given an ",n.jsx(o,{math:"X, Y"}),"-bigraph where each vertex ranks its neighbors, a matching ",n.jsx(o,{math:"M"})," is ",n.jsx("strong",{children:"unstable"})," if there exist ",n.jsx(o,{math:"x \\in X"})," and ",n.jsx(o,{math:"y \\in Y"})," ","such that:"]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:[n.jsx(o,{math:"xy \\notin M"})," (they are not matched to each other)"]}),n.jsxs("li",{children:[n.jsx(o,{math:"x"})," prefers ",n.jsx(o,{math:"y"})," to"," ",n.jsx(o,{math:"x"}),"'s partner in ",n.jsx(o,{math:"M"})," (or"," ",n.jsx(o,{math:"x"})," is unmatched)"]}),n.jsxs("li",{children:[n.jsx(o,{math:"y"})," prefers ",n.jsx(o,{math:"x"})," to"," ",n.jsx(o,{math:"y"}),"'s partner in ",n.jsx(o,{math:"M"})," (or"," ",n.jsx(o,{math:"y"})," is unmatched)"]})]}),n.jsxs("p",{className:"mt-2",children:["Such a pair ",n.jsx(o,{math:"(x, y)"})," is called a"," ",n.jsx("strong",{children:"blocking pair"}),". A matching is ",n.jsx("strong",{children:"stable"})," if it has no blocking pairs."]})]}),n.jsxs(we,{title:"The Roommate Problem",children:[n.jsx("p",{children:"Consider three people: Alice (A), Bob (B), and Carol (C). Suppose:"}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsx("li",{children:"A's preference: B > C"}),n.jsx("li",{children:"B's preference: C > A"}),n.jsx("li",{children:"C's preference: A > B"})]}),n.jsx("p",{className:"mt-2",children:"In any pairing, one person is left out. If we pair A-B, then C is alone, but B prefers C to A and C prefers B to being aloneblocking pair! Similarly for other pairings. No stable matching exists."}),n.jsx("p",{className:"mt-2 text-dark-300",children:"The bipartite version (with two disjoint groups) always has a stable matching."})]}),n.jsx(J,{title:"Gale-Shapley Theorem (Theorem 3.2.17)",children:n.jsx("p",{children:"Every bipartite preference system has a stable matching."})}),n.jsxs(ce,{title:"Gale-Shapley Algorithm (Proposal Algorithm)",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Input:"})," Bipartite preference system with sets"," ",n.jsx(o,{math:"X"})," (proposers) and ",n.jsx(o,{math:"Y"})," ","(receivers)."]}),n.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[n.jsx("li",{children:"All vertices are initially free."}),n.jsxs("li",{children:["While some ",n.jsx(o,{math:"x \\in X"})," is free and hasn't proposed to everyone:",n.jsxs("ul",{className:"ml-4 list-disc list-inside",children:[n.jsxs("li",{children:[n.jsx(o,{math:"x"})," proposes to their most-preferred"," ",n.jsx(o,{math:"y"})," not yet proposed to."]}),n.jsxs("li",{children:["If ",n.jsx(o,{math:"y"})," is free, tentatively match"," ",n.jsx(o,{math:"x"})," and ",n.jsx(o,{math:"y"}),"."]}),n.jsxs("li",{children:["If ",n.jsx(o,{math:"y"})," prefers ",n.jsx(o,{math:"x"})," to their current partner ",n.jsx(o,{math:"x'"}),", replace:"," ",n.jsx(o,{math:"x'"})," becomes free, ",n.jsx(o,{math:"x"})," and"," ",n.jsx(o,{math:"y"})," are matched."]}),n.jsxs("li",{children:["Otherwise, ",n.jsx(o,{math:"x"})," remains free."]})]})]}),n.jsx("li",{children:"Return the final matching."})]})]}),n.jsxs(J,{title:"Theorem 3.2.18 (Properties of Gale-Shapley)",children:[n.jsx("p",{children:"The Gale-Shapley algorithm:"}),n.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[n.jsxs("li",{children:["Always terminates with a stable matching in ",n.jsx(o,{math:"O(n^2)"})," ","time."]}),n.jsxs("li",{children:["Produces the ",n.jsx("strong",{children:"proposer-optimal"})," stable matching: each proposer gets their best partner among all stable matchings."]}),n.jsxs("li",{children:["Produces the ",n.jsx("strong",{children:"receiver-pessimal"})," stable matching: each receiver gets their worst partner among all stable matchings."]})]})]}),n.jsxs(we,{title:"Medical Residency Matching",children:[n.jsx("p",{children:"The National Resident Matching Program (NRMP) uses a variant of Gale-Shapley to match medical school graduates to residency programs. Each year, about 40,000 applicants and 30,000 positions are matched."}),n.jsx("p",{className:"mt-2",children:"Originally hospitals proposed (giving hospitals their optimal matching). Now applicants propose, giving applicants better outcomes on average."}),n.jsx("p",{className:"mt-2 text-dark-300",children:"Alvin Roth, Lloyd Shapley, and David Gale received the 2012 Nobel Prize in Economics partly for this work."})]}),n.jsx("h2",{children:"Min-Max Theorems"}),n.jsx("p",{children:'The Knig-Egervry Theorem shows that maximum matching equals minimum vertex cover in bipartite graphs. Such "min-max" relations are fundamental in combinatorial optimization.'}),n.jsx(ce,{title:"Min-Max Theorem",children:n.jsxs("p",{children:["A ",n.jsx("strong",{children:"min-max theorem"})," states that the maximum value of one optimization problem equals the minimum value of a related problem. Finding an optimal solution to either problem proves optimality for both."]})}),n.jsx("p",{children:"For matchings in bipartite graphs, several min-max relations hold:"}),n.jsxs(J,{title:"Summary of Min-Max Relations",children:[n.jsxs("p",{children:["For an ",n.jsx(o,{math:"X, Y"}),"-bigraph ",n.jsx(o,{math:"G"}),":"]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx(o,{math:"\\alpha'(G) = \\beta(G)"})," (Knig-Egervry)"]}),n.jsxs("li",{children:[n.jsx(o,{math:"\\alpha(G) = n(G) - \\beta(G)"})," (Gallai)"]}),n.jsx("li",{children:"Maximum matching = Minimum vertex cover"}),n.jsxs("li",{children:["Maximum independent set = ",n.jsx(o,{math:"n"}),"  Minimum vertex cover"]})]})]}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Augmenting Path Algorithm:"})," Finds maximum matching in"," ",n.jsx(o,{math:"O(mn)"})," by repeatedly finding and using augmenting paths."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Hopcroft-Karp:"})," Improves to"," ",n.jsx(o,{math:"O(m\\sqrt{n})"})," by finding multiple shortest augmenting paths per phase."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Weighted Matching:"})," The Hungarian algorithm solves the assignment problem in ",n.jsx(o,{math:"O(n^3)"})," using feasible labelings."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Stable Matching:"})," Gale-Shapley always finds a stable matching in bipartite systems. The proposing side gets their optimal outcome."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Applications:"})," Job assignment, organ donation, medical residency matching, online advertising, and more."]})]})]})}function iee(){return n.jsxs(kt,{sectionId:10,children:[n.jsxs("p",{children:["Hall's Theorem and the Knig-Egervry Theorem apply only to bipartite graphs. For general graphs, characterizing perfect matchings is more subtle. The key difficulty is the presence of odd cycles, which leads to Tutte's elegant characterization. We also study ",n.jsx(o,{math:"f"}),"-factors, which generalize matchings."]}),n.jsx("h2",{children:"Tutte's 1-Factor Theorem"}),n.jsxs("p",{children:["Recall that a perfect matching is also called a ",n.jsx("strong",{children:"1-factor"}),": a 1-regular spanning subgraph. When does a graph have a 1-factor?"]}),n.jsx(ce,{title:"Odd Components",children:n.jsxs("p",{children:["For a graph ",n.jsx(o,{math:"G"})," and vertex subset"," ",n.jsx(o,{math:"S \\subseteq V(G)"}),", let"," ",n.jsx(o,{math:"o(G - S)"})," denote the number of ",n.jsx("strong",{children:"odd components"})," ","of ",n.jsx(o,{math:"G - S"})," (components with an odd number of vertices)."]})}),n.jsxs("p",{children:["The key observation is that a perfect matching must match vertices within each component or match them to ",n.jsx(o,{math:"S"}),". In an odd component, at least one vertex must be matched to ",n.jsx(o,{math:"S"}),"."]}),n.jsxs(J,{title:"Tutte's 1-Factor Theorem (Theorem 3.3.3)",children:[n.jsxs("p",{children:["A graph ",n.jsx(o,{math:"G"})," has a 1-factor (perfect matching) if and only if for every ",n.jsx(o,{math:"S \\subseteq V(G)"}),":"]}),n.jsx(ze,{math:"o(G - S) \\leq |S|"}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["This is called ",n.jsx("strong",{children:"Tutte's Condition"}),"."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof (Necessity)"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," has a perfect matching ",n.jsx(o,{math:"M"}),", consider any ",n.jsx(o,{math:"S \\subseteq V(G)"}),". Each odd component of"," ",n.jsx(o,{math:"G - S"})," has an odd number of vertices, so in any matching of its vertices, at least one must match outside the component."]}),n.jsxs("p",{className:"mt-2",children:["Since vertices in odd components can only match to ",n.jsx(o,{math:"S"})," ","(they can't match to even components or other odd components), we need at least ",n.jsx(o,{math:"o(G - S)"})," vertices in ",n.jsx(o,{math:"S"}),". Thus ",n.jsx(o,{math:"o(G - S) \\leq |S|"}),"."]})]})]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof (Sufficiency - Sketch)"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["The sufficiency proof uses a clever argument. Assume Tutte's condition holds but ",n.jsx(o,{math:"G"})," has no perfect matching. Among all such graphs, consider one with the maximum number of edges (adding edges can only help create a matching)."]}),n.jsxs("p",{className:"mt-2",children:["Since ",n.jsx(o,{math:"G"})," is edge-maximal, for any non-edge"," ",n.jsx(o,{math:"uv"}),", the graph ",n.jsx(o,{math:"G + uv"})," has a perfect matching using ",n.jsx(o,{math:"uv"}),". This forces"," ",n.jsx(o,{math:"G"})," to be a union of complete graphs joined in a specific way, but then we can construct a perfect matchingcontradiction."]})]})]})]}),n.jsxs(we,{title:"Petersen Graph",children:[n.jsx("p",{children:"The Petersen graph has 10 vertices and is 3-regular. Does it have a perfect matching?"}),n.jsxs("p",{className:"mt-2",children:["We check Tutte's condition. By symmetry, it suffices to check a few cases. Taking ",n.jsx(o,{math:"S = \\emptyset"})," gives one component (connected graph) with 10 verticeseven, so ",n.jsx(o,{math:"o(G) = 0 \\leq 0"}),". "]}),n.jsx("p",{className:"mt-2",children:"After checking all relevant subsets (by symmetry arguments), Tutte's condition holds. The Petersen graph has a perfect matchingin fact, it has exactly 6 perfect matchings."})]}),n.jsx("h3",{children:"Deficiency and Maximum Matchings"}),n.jsxs(ce,{title:"Deficiency",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"deficiency"})," of graph ",n.jsx(o,{math:"G"})," is:"]}),n.jsx(ze,{math:"\\text{def}(G) = \\max_{S \\subseteq V(G)} \\left( o(G - S) - |S| \\right)"}),n.jsxs("p",{className:"mt-2",children:["By Tutte's condition, ",n.jsx(o,{math:"G"})," has a perfect matching iff"," ",n.jsx(o,{math:"\\text{def}(G) = 0"}),"."]})]}),n.jsxs(J,{title:"Berge-Tutte Formula (Theorem 3.3.17)",children:[n.jsxs("p",{children:["For any graph ",n.jsx(o,{math:"G"}),":"]}),n.jsx(ze,{math:"\\alpha'(G) = \\frac{1}{2}\\left( n(G) - \\text{def}(G) \\right)"}),n.jsxs("p",{className:"mt-2",children:["where ",n.jsx(o,{math:"\\alpha'(G)"})," is the maximum matching number."]}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["This generalizes both Hall's Theorem (for bipartite graphs) and Tutte's Theorem (when ",n.jsx(o,{math:"\\text{def}(G) = 0"}),")."]})]}),n.jsxs("h2",{children:["Factors and ",n.jsx(o,{math:"f"}),"-Factors"]}),n.jsx("p",{children:"A matching saturates each vertex at most once. What if we want to saturate each vertex a specified number of times?"}),n.jsxs(ce,{title:"f-Factor",children:[n.jsxs("p",{children:["Given a function ",n.jsx(o,{math:"f: V(G) \\to \\mathbb{Z}_{\\geq 0}"}),", an"," ",n.jsxs("strong",{children:[n.jsx(o,{math:"f"}),"-factor"]})," ","of graph ",n.jsx(o,{math:"G"})," is a spanning subgraph ",n.jsx(o,{math:"H"})," ","such that ",n.jsx(o,{math:"d_H(v) = f(v)"})," for every vertex"," ",n.jsx(o,{math:"v"}),"."]}),n.jsx("p",{className:"mt-2",children:"Special cases:"}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:["A ",n.jsx("strong",{children:"1-factor"})," is a perfect matching (",n.jsx(o,{math:"f \\equiv 1"}),")."]}),n.jsxs("li",{children:["A ",n.jsx("strong",{children:"2-factor"})," is a spanning union of cycles (",n.jsx(o,{math:"f \\equiv 2"}),")."]}),n.jsxs("li",{children:["A ",n.jsxs("strong",{children:[n.jsx(o,{math:"k"}),"-factor"]})," ","is a ",n.jsx(o,{math:"k"}),"-regular spanning subgraph (",n.jsx(o,{math:"f \\equiv k"}),")."]})]})]}),n.jsxs(J,{title:"2-Factor Theorem (Theorem 3.3.9)",children:[n.jsxs("p",{children:["Every ",n.jsx(o,{math:"k"}),"-regular bipartite graph has a 2-factor."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:n.jsxs("p",{children:["By the Knig-Egervry Theorem and Hall's Theorem, every regular bipartite graph has a perfect matching. Remove this matching to get a"," ",n.jsx(o,{math:"(k-1)"}),"-regular bipartite graph, which again has a perfect matching. The union of these two perfect matchings is a 2-factor."]})})]})]}),n.jsxs(J,{title:"Petersen's Theorem (Theorem 3.3.7)",children:[n.jsx("p",{children:"Every 3-regular graph with no cut-edge has a perfect matching."}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),n.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:n.jsxs("p",{children:["Verify Tutte's condition. For any ",n.jsx(o,{math:"S"}),", each odd component of ",n.jsx(o,{math:"G - S"})," has an odd total degree from"," ",n.jsx(o,{math:"S"})," (since internal degrees sum to even). Being 3-regular with no cut-edge provides enough connectivity to ensure"," ",n.jsx(o,{math:"o(G - S) \\leq |S|"}),"."]})})]})]}),n.jsxs("h3",{children:["General ",n.jsx(o,{math:"f"}),"-Factor Theorem"]}),n.jsxs(J,{title:"Tutte's f-Factor Theorem (Theorem 3.3.25)",children:[n.jsxs("p",{children:["Let ",n.jsx(o,{math:"f: V(G) \\to \\mathbb{Z}_{\\geq 0}"}),". The graph"," ",n.jsx(o,{math:"G"})," has an ",n.jsx(o,{math:"f"}),"-factor if and only if for every ",n.jsx(o,{math:"S, T \\subseteq V(G)"})," with"," ",n.jsx(o,{math:"S \\cap T = \\emptyset"}),":"]}),n.jsx(ze,{math:"\\sum_{v \\in S} f(v) + \\sum_{v \\in T} (d_G(v) - f(v)) - e_G(S, T) - q(S, T) \\geq 0"}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["Here ",n.jsx(o,{math:"e_G(S, T)"})," is the number of edges between"," ",n.jsx(o,{math:"S"})," and ",n.jsx(o,{math:"T"}),", and"," ",n.jsx(o,{math:"q(S, T)"}),' counts certain "bad" components of'," ",n.jsx(o,{math:"G - S - T"}),"."]})]}),n.jsx("h2",{children:"Edmonds' Matching Algorithm"}),n.jsx("p",{children:`For general (non-bipartite) graphs, finding maximum matchings is more complex due to odd cycles. Jack Edmonds' breakthrough "blossom algorithm" handles this.`}),n.jsxs(ce,{title:"Blossom",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"blossom"})," is an odd cycle in which every other edge (except one) belongs to the current matching. The cycle has"," ",n.jsx(o,{math:"2k + 1"})," vertices with ",n.jsx(o,{math:"k"})," matched edges."]}),n.jsxs("p",{className:"mt-2",children:["The key insight: a blossom can be ",n.jsx("strong",{children:"contracted"})," to a single vertex without affecting the existence of augmenting paths."]})]}),n.jsxs(we,{title:"A Simple Blossom",children:[n.jsxs("p",{children:["Consider a 5-cycle ",n.jsx(o,{math:"v_1, v_2, v_3, v_4, v_5"})," with matching"," ",n.jsx(o,{math:"M = \\{v_2v_3, v_4v_5\\}"}),". The vertex"," ",n.jsx(o,{math:"v_1"})," is unsaturated."]}),n.jsxs("p",{className:"mt-2",children:["If we're searching for an augmenting path and reach ",n.jsx(o,{math:"v_1"}),", we can enter the cycle through either ",n.jsx(o,{math:"v_2"})," or"," ",n.jsx(o,{math:"v_5"}),". By contracting the blossom, we simplify the search."]})]}),n.jsxs(ce,{title:"Edmonds' Blossom Algorithm",children:[n.jsx("p",{children:"The algorithm maintains:"}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:["A current matching ",n.jsx(o,{math:"M"})]}),n.jsx("li",{children:"A forest of alternating trees rooted at unsaturated vertices"})]}),n.jsx("p",{className:"mt-2",children:n.jsx("strong",{children:"Process:"})}),n.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[n.jsx("li",{children:"Build alternating trees from unsaturated vertices."}),n.jsxs("li",{children:["If two trees connect via a non-matching edge to an unsaturated vertex:"," ",n.jsx("strong",{children:"augmenting path found"}),"augment and restart."]}),n.jsxs("li",{children:["If two even-level vertices in the same tree are connected:"," ",n.jsx("strong",{children:"blossom detected"}),"contract it and continue."]}),n.jsxs("li",{children:["When no more growth possible, ",n.jsx(o,{math:"M"})," is maximum."]}),n.jsx("li",{children:"Expand blossoms to recover the actual matching."})]})]}),n.jsxs(J,{title:"Theorem 3.3.21 (Edmonds' Algorithm)",children:[n.jsxs("p",{children:["Edmonds' blossom algorithm correctly finds a maximum matching in any graph"," ",n.jsx(o,{math:"G"})," in ",n.jsx(o,{math:"O(n^2 m)"})," time."]}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["With better data structures (Micali-Vazirani), this improves to"," ",n.jsx(o,{math:"O(m\\sqrt{n})"}),"."]})]}),n.jsxs(we,{title:"Finding Maximum Matching",children:[n.jsxs("p",{children:["Consider a graph with vertices ",n.jsx(o,{math:"\\{1, 2, 3, 4, 5\\}"})," and edges forming a 5-cycle plus edge 1-3. Start with"," ",n.jsx(o,{math:"M = \\{2-3, 4-5\\}"}),"."]}),n.jsx("p",{className:"mt-2",children:"Build an alternating tree from vertex 1 (unsaturated). Vertices 2 and 5 are reached via non-matching edges. Following matching edges reaches 3 and 4. The edge 1-3 creates a blossom (odd cycle 1-2-3-1 through the 5-cycle)."}),n.jsxs("p",{className:"mt-2",children:["After contraction and expansion, we find"," ",n.jsx(o,{math:"M' = \\{1-2, 3-4\\}"})," leaves vertex 5 unsaturated. Maximum matching has size 2 for this 5-vertex graph."]})]}),n.jsx("h2",{children:"Applications"}),n.jsx("h3",{children:"Scheduling Problems"}),n.jsxs("p",{children:["Many scheduling problems reduce to matching. For example, scheduling"," ",n.jsx(o,{math:"n"})," tasks on ",n.jsx(o,{math:"m"})," machines where each task can only run on certain machines is bipartite matching. With time constraints, we may need general matching theory."]}),n.jsx("h3",{children:"Network Design"}),n.jsxs("p",{children:["Constructing networks where every node has exactly ",n.jsx(o,{math:"k"})," ","connections is a ",n.jsx(o,{math:"k"}),"-factor problem. This appears in designing reliable communication networks."]}),n.jsx("h3",{children:"Chemistry"}),n.jsx("p",{children:"In organic chemistry, molecular graphs represent atoms as vertices and bonds as edges. A perfect matching corresponds to a valid electron pairing (resonance structure). Benzenoid graphs always have perfect matchings by Tutte's theorem."}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Tutte's Condition:"})," A graph has a perfect matching iff"," ",n.jsx(o,{math:"o(G - S) \\leq |S|"})," for all"," ",n.jsx(o,{math:"S \\subseteq V(G)"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Berge-Tutte Formula:"})," ",n.jsx(o,{math:"\\alpha'(G) = \\frac{1}{2}(n(G) - \\text{def}(G))"})," gives maximum matching size."]}),n.jsxs("li",{children:[n.jsxs("strong",{children:[n.jsx(o,{math:"f"}),"-factors:"]})," ","Generalize matchings to specify degree at each vertex."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Petersen's Theorem:"})," 3-regular bridgeless graphs have perfect matchings."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Edmonds' Algorithm:"})," The blossom algorithm finds maximum matchings in general graphs by contracting odd cycles."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Key Difference from Bipartite:"})," Odd cycles create complications requiring the blossom contraction technique."]})]})]})}function aee(){return n.jsxs(kt,{sectionId:11,children:[n.jsx("p",{children:'How resilient is a network to failures? If we remove vertices or edges, does the graph remain connected? The study of connectivity measures how "well-connected" a graph is and identifies its vulnerable points. These concepts are fundamental to network reliability and algorithm design.'}),n.jsx("h2",{children:"Separating Sets and Connectivity"}),n.jsxs(ce,{title:"Separating Set and Cut",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"separating set"})," or ",n.jsx("strong",{children:"vertex cut"})," of a connected graph ",n.jsx(o,{math:"G"})," is a set ",n.jsx(o,{math:"S \\subseteq V(G)"})," ","such that ",n.jsx(o,{math:"G - S"})," has more than one component."]}),n.jsxs("p",{className:"mt-2",children:["A ",n.jsx("strong",{children:"disconnecting set"})," of edges is a set"," ",n.jsx(o,{math:"F \\subseteq E(G)"})," such that ",n.jsx(o,{math:"G - F"})," ","has more than one component. A disconnecting set is an"," ",n.jsx("strong",{children:"edge cut"})," if no proper subset is also disconnecting."]})]}),n.jsxs(ce,{title:"Connectivity Numbers",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"connectivity"})," (or ",n.jsx("strong",{children:"vertex connectivity"}),")"," ",n.jsx(o,{math:"\\kappa(G)"})," is the minimum size of a vertex cut, or"," ",n.jsx(o,{math:"n - 1"})," if ",n.jsx(o,{math:"G = K_n"}),"."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"edge-connectivity"})," ",n.jsx(o,{math:"\\kappa'(G)"})," is the minimum size of an edge cut (if ",n.jsx(o,{math:"G"})," is connected)."]}),n.jsxs("p",{className:"mt-2",children:["A graph is ",n.jsxs("strong",{children:[n.jsx(o,{math:"k"}),"-connected"]})," ","if ",n.jsx(o,{math:"\\kappa(G) \\geq k"}),", and"," ",n.jsxs("strong",{children:[n.jsx(o,{math:"k"}),"-edge-connected"]})," ","if ",n.jsx(o,{math:"\\kappa'(G) \\geq k"}),"."]})]}),n.jsx(we,{title:"Connectivity of Common Graphs",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx(o,{math:"K_n"}),": ",n.jsx(o,{math:"\\kappa = \\kappa' = n - 1"})]}),n.jsxs("li",{children:[n.jsx(o,{math:"K_{m,n}"})," (",n.jsx(o,{math:"m \\leq n"}),"):"," ",n.jsx(o,{math:"\\kappa = \\kappa' = m"})]}),n.jsxs("li",{children:[n.jsx(o,{math:"C_n"}),": ",n.jsx(o,{math:"\\kappa = \\kappa' = 2"})]}),n.jsxs("li",{children:[n.jsx(o,{math:"P_n"}),": ",n.jsx(o,{math:"\\kappa = \\kappa' = 1"})]}),n.jsxs("li",{children:["Petersen graph: ",n.jsx(o,{math:"\\kappa = \\kappa' = 3"})]})]})}),n.jsxs(J,{title:"Theorem 4.1.9 (Connectivity Bounds)",children:[n.jsxs("p",{children:["For any graph ",n.jsx(o,{math:"G"}),":"]}),n.jsx(ze,{math:"\\kappa(G) \\leq \\kappa'(G) \\leq \\delta(G)"}),n.jsxs("p",{className:"mt-2",children:["where ",n.jsx(o,{math:"\\delta(G)"})," is the minimum vertex degree."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:[n.jsxs("strong",{children:[n.jsx(o,{math:"\\kappa'(G) \\leq \\delta(G)"}),":"]})," ","Deleting all edges at a vertex of minimum degree disconnects the graph (isolating that vertex)."]}),n.jsxs("p",{className:"mt-2",children:[n.jsxs("strong",{children:[n.jsx(o,{math:"\\kappa(G) \\leq \\kappa'(G)"}),":"]})," ","Given a minimum edge cut ",n.jsx(o,{math:"[S, \\overline{S}]"}),", for each edge ",n.jsx(o,{math:"e"})," in the cut, include one endpoint in a vertex set ",n.jsx(o,{math:"T"}),". Then ",n.jsx(o,{math:"T"})," is a vertex cut with ",n.jsx(o,{math:"|T| \\leq \\kappa'(G)"}),"."]})]})]})]}),n.jsxs(we,{title:"Strict Inequalities",children:[n.jsxs("p",{children:['Consider a "bowtie" graph: two triangles sharing a vertex. We have'," ",n.jsx(o,{math:"\\delta = 2"}),", ",n.jsx(o,{math:"\\kappa' = 2"}),", but"," ",n.jsx(o,{math:"\\kappa = 1"})," (removing the shared vertex disconnects)."]}),n.jsxs("p",{className:"mt-2",children:["For ",n.jsx(o,{math:"K_{2,3}"}),": ",n.jsx(o,{math:"\\delta = 2"}),", but"," ",n.jsx(o,{math:"\\kappa = \\kappa' = 2"}),"."]})]}),n.jsx("h2",{children:"Cut-Vertices and Bridges"}),n.jsxs(ce,{title:"Cut-Vertex and Cut-Edge",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"cut-vertex"})," (or ",n.jsx("strong",{children:"articulation point"}),") of a connected graph ",n.jsx(o,{math:"G"})," is a vertex whose deletion increases the number of components."]}),n.jsxs("p",{className:"mt-2",children:["A ",n.jsx("strong",{children:"cut-edge"})," (or ",n.jsx("strong",{children:"bridge"}),") is an edge whose deletion increases the number of components."]})]}),n.jsxs(J,{title:"Theorem 4.1.3 (Cut-Edge Characterization)",children:[n.jsxs("p",{children:["An edge ",n.jsx(o,{math:"e"})," is a cut-edge if and only if"," ",n.jsx(o,{math:"e"})," belongs to no cycle."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"()"})," If ",n.jsx(o,{math:"e = uv"})," lies on a cycle, then any path using ",n.jsx(o,{math:"e"})," can be rerouted through the rest of the cycle. So ",n.jsx(o,{math:"G - e"})," is connected."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"()"})," If ",n.jsx(o,{math:"e = uv"})," lies on no cycle, then the unique ",n.jsx(o,{math:"u, v"}),"-path in ",n.jsx(o,{math:"G"})," uses"," ",n.jsx(o,{math:"e"}),". Deleting ",n.jsx(o,{math:"e"})," leaves no"," ",n.jsx(o,{math:"u, v"}),"-path."]})]})]})]}),n.jsx(J,{title:"Theorem 4.1.2 (Cut-Vertex Characterization)",children:n.jsxs("p",{children:["A vertex ",n.jsx(o,{math:"v"})," in a connected graph ",n.jsx(o,{math:"G"})," ","is a cut-vertex if and only if there exist vertices"," ",n.jsx(o,{math:"u, w \\neq v"})," such that every"," ",n.jsx(o,{math:"u, w"}),"-path passes through ",n.jsx(o,{math:"v"}),"."]})}),n.jsx("h2",{children:"Blocks"}),n.jsx("p",{children:"Graphs decompose naturally into pieces separated by cut-vertices."}),n.jsxs(ce,{title:"Block",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"block"})," of a graph ",n.jsx(o,{math:"G"})," is a maximal connected subgraph of ",n.jsx(o,{math:"G"})," that has no cut-vertex."]}),n.jsx("p",{className:"mt-2 text-dark-300",children:"Equivalently, a block is either a maximal 2-connected subgraph, or a cut-edge (with its endpoints), or an isolated vertex."})]}),n.jsx(J,{title:"Theorem 4.1.11 (Block Properties)",children:n.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[n.jsx("li",{children:"Every edge belongs to exactly one block."}),n.jsx("li",{children:"Two blocks share at most one vertex (which must be a cut-vertex)."}),n.jsxs("li",{children:["The blocks partition ",n.jsx(o,{math:"E(G)"}),"."]})]})}),n.jsxs(we,{title:"Finding Blocks",children:[n.jsxs("p",{children:["Consider a graph that is two triangles sharing a vertex ",n.jsx(o,{math:"v"}),". The graph has:"]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:["One cut-vertex: ",n.jsx(o,{math:"v"})]}),n.jsx("li",{children:"Two blocks: the two triangles"}),n.jsx("li",{children:n.jsx(o,{math:"\\kappa(G) = 1"})})]}),n.jsxs("p",{className:"mt-2",children:["A path ",n.jsx(o,{math:"P_n"})," has ",n.jsx(o,{math:"n - 1"})," blocks, each being a single edge."]})]}),n.jsx("h3",{children:"Block-Cutpoint Graph"}),n.jsxs(ce,{title:"Block-Cutpoint Graph",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"block-cutpoint graph"})," (or ",n.jsx("strong",{children:"BC-tree"}),") of a connected graph ",n.jsx(o,{math:"G"})," is a bipartite graph"," ",n.jsx(o,{math:"H"})," where:"]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:["One partite set consists of the blocks of ",n.jsx(o,{math:"G"})]}),n.jsxs("li",{children:["The other partite set consists of the cut-vertices of"," ",n.jsx(o,{math:"G"})]}),n.jsxs("li",{children:["Block ",n.jsx(o,{math:"B"})," is adjacent to cut-vertex"," ",n.jsx(o,{math:"v"})," iff ",n.jsx(o,{math:"v \\in V(B)"})]})]})]}),n.jsx(J,{title:"Theorem 4.1.12",children:n.jsx("p",{children:"The block-cutpoint graph of a connected graph is a tree."})}),n.jsx("h2",{children:"Edge Cuts and Bonds"}),n.jsx(ce,{title:"Bond",children:n.jsxs("p",{children:["A ",n.jsx("strong",{children:"bond"})," is a minimal nonempty edge cut. Equivalently, a bond is an edge cut ",n.jsx(o,{math:"[S, \\overline{S}]"})," such that both"," ",n.jsx(o,{math:"G[S]"})," and ",n.jsx(o,{math:"G[\\overline{S}]"})," are connected."]})}),n.jsx(J,{title:"Bond Characterization",children:n.jsx("p",{children:"An edge cut is a bond if and only if it is a minimal disconnecting set."})}),n.jsx(we,{title:"Bonds in a Cycle",children:n.jsxs("p",{children:["In ",n.jsx(o,{math:"C_n"}),", the bonds are exactly the edge sets of size 2 (removing two edges disconnects). Any single edge is not a bond because its removal leaves the graph connected."]})}),n.jsx("h2",{children:"Finding Cut-Vertices (DFS Algorithm)"}),n.jsx("p",{children:"Tarjan's algorithm uses depth-first search to find all cut-vertices and bridges in linear time."}),n.jsxs(ce,{title:"Tarjan's Algorithm",children:[n.jsxs("p",{children:["Key concepts for DFS from root ",n.jsx(o,{math:"r"}),":"]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:[n.jsx(o,{math:"\\text{disc}[v]"}),": discovery time of"," ",n.jsx(o,{math:"v"})]}),n.jsxs("li",{children:[n.jsx(o,{math:"\\text{low}[v]"}),": minimum discovery time reachable from subtree of ",n.jsx(o,{math:"v"})," via back edges"]})]}),n.jsx("p",{className:"mt-2",children:n.jsx("strong",{children:"Cut-vertex conditions:"})}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:["Root ",n.jsx(o,{math:"r"})," is a cut-vertex iff it has 2 children in DFS tree"]}),n.jsxs("li",{children:["Non-root ",n.jsx(o,{math:"v"})," is a cut-vertex iff some child"," ",n.jsx(o,{math:"u"})," has"," ",n.jsx(o,{math:"\\text{low}[u] \\geq \\text{disc}[v]"})]})]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Bridge condition:"})," Edge ",n.jsx(o,{math:"uv"})," (where"," ",n.jsx(o,{math:"v"})," is child of ",n.jsx(o,{math:"u"}),") is a bridge iff"," ",n.jsx(o,{math:"\\text{low}[v] > \\text{disc}[u]"}),"."]})]}),n.jsx(J,{title:"Tarjan's Algorithm Complexity",children:n.jsxs("p",{children:["All cut-vertices and bridges can be found in ",n.jsx(o,{math:"O(n + m)"})," ","time using DFS."]})}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Connectivity Hierarchy:"})," ",n.jsx(o,{math:"\\kappa(G) \\leq \\kappa'(G) \\leq \\delta(G)"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Cut-vertex:"})," A vertex whose removal disconnects the graph."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Bridge:"})," An edge whose removal disconnects; equivalently, an edge on no cycle."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Blocks:"})," Maximal 2-connected subgraphs; partition the edges and share at most cut-vertices."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"BC-tree:"})," The block-cutpoint graph is always a tree, revealing the hierarchical structure."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Efficiency:"})," All cut-vertices and bridges can be found in linear time using DFS."]})]})]})}function oee(){return n.jsxs(kt,{sectionId:12,children:[n.jsxs("p",{children:["We now study graphs with higher connectivity. The structure of 2-connected graphs is particularly elegantthey can be built by successively adding paths. Menger's Theorem provides a fundamental characterization of"," ",n.jsx(o,{math:"k"}),"-connectivity in terms of disjoint paths, connecting connectivity to the maximum flow problem."]}),n.jsx("h2",{children:"2-Connected Graphs"}),n.jsxs("p",{children:["A graph is 2-connected if ",n.jsx(o,{math:"\\kappa(G) \\geq 2"}),': removing any single vertex leaves it connected. This is a natural "robustness" requirement for networks.']}),n.jsxs(J,{title:"Lemma 4.2.1 (2-Connected Characterization)",children:[n.jsxs("p",{children:["For a graph ",n.jsx(o,{math:"G"})," with at least 3 vertices, TFAE:"]}),n.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx(o,{math:"G"})," is 2-connected."]}),n.jsxs("li",{children:["For every pair ",n.jsx(o,{math:"u, v \\in V(G)"}),", there exist two internally disjoint ",n.jsx(o,{math:"u, v"}),"-paths."]}),n.jsxs("li",{children:["For every pair ",n.jsx(o,{math:"u, v \\in V(G)"}),", there is a cycle containing both ",n.jsx(o,{math:"u"})," and ",n.jsx(o,{math:"v"}),"."]}),n.jsxs("li",{children:[n.jsx(o,{math:"\\delta(G) \\geq 1"})," and every pair of edges lies on a common cycle."]})]})]}),n.jsxs(we,{title:"2-Connected Examples",children:[n.jsxs("p",{children:[n.jsx(o,{math:"K_n"})," (",n.jsx(o,{math:"n \\geq 3"}),") is 2-connected: removing any vertex leaves ",n.jsx(o,{math:"K_{n-1}"}),", still connected."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx(o,{math:"C_n"})," is 2-connected: removing any vertex leaves a path"," ",n.jsx(o,{math:"P_{n-1}"}),", connected."]}),n.jsx("p",{className:"mt-2",children:"A tree with more than one edge is not 2-connected: every non-leaf vertex is a cut-vertex."})]}),n.jsx("h3",{children:"Ear Decomposition"}),n.jsxs(ce,{title:"Ear",children:[n.jsxs("p",{children:["An ",n.jsx("strong",{children:"ear"})," of a graph ",n.jsx(o,{math:"G"})," is a maximal path whose internal vertices have degree 2 in ",n.jsx(o,{math:"G"}),"."]}),n.jsxs("p",{className:"mt-2",children:["An ",n.jsx("strong",{children:"ear decomposition"})," of ",n.jsx(o,{math:"G"})," is a decomposition ",n.jsx(o,{math:"P_0, P_1, \\ldots, P_k"})," such that:"]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:[n.jsx(o,{math:"P_0"})," is a cycle"]}),n.jsxs("li",{children:["For ",n.jsx(o,{math:"i \\geq 1"}),", ",n.jsx(o,{math:"P_i"})," is an ear of"," ",n.jsx(o,{math:"P_0 \\cup P_1 \\cup \\cdots \\cup P_i"})," with endpoints (but no internal vertices) in"," ",n.jsx(o,{math:"P_0 \\cup \\cdots \\cup P_{i-1}"})]})]})]}),n.jsxs(J,{title:"Whitney's Ear Decomposition Theorem (Theorem 4.2.6)",children:[n.jsxs("p",{children:["A graph ",n.jsx(o,{math:"G"})," is 2-connected if and only if it has an ear decomposition."]}),n.jsx("p",{className:"mt-2",children:"Furthermore, every cycle in a 2-connected graph is the initial cycle of some ear decomposition."}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"()"})," Adding an ear preserves 2-connectivity: the new internal vertices have two disjoint paths to the old graph."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"()"})," Start with any cycle ",n.jsx(o,{math:"P_0"}),"(exists since 2-connected). While ",n.jsx(o,{math:"\\bigcup P_i \\neq G"}),", there's an edge ",n.jsx(o,{math:"e"})," with one endpoint in the union. Since ",n.jsx(o,{math:"G"})," is 2-connected, ",n.jsx(o,{math:"e"})," lies on a cycle, providing a new ear."]})]})]})]}),n.jsxs(we,{title:"Building K via Ears",children:[n.jsxs("p",{children:["Start with ",n.jsx(o,{math:"P_0 = (1, 2, 3, 1)"}),", a triangle."]}),n.jsxs("p",{className:"mt-2",children:["Add ear ",n.jsx(o,{math:"P_1 = (1, 4, 2)"}),": path from 1 to 2 through new vertex 4."]}),n.jsxs("p",{className:"mt-2",children:["Add ear ",n.jsx(o,{math:"P_2 = (3, 4)"}),": just an edge (an ear of length 1)."]}),n.jsxs("p",{className:"mt-2",children:["Result: ",n.jsx(o,{math:"K_4"})," with ear decomposition of 3 ears."]})]}),n.jsx("h2",{children:"Menger's Theorem"}),n.jsx("p",{children:"Menger's Theorem is one of the most important results in graph theory, characterizing connectivity in terms of disjoint paths. It has four versions (vertex/edge, global/local)."}),n.jsxs(ce,{title:"Disjoint Paths",children:[n.jsxs("p",{children:["Paths are ",n.jsx("strong",{children:"internally disjoint"})," if they share no internal vertices (may share endpoints)."]}),n.jsxs("p",{className:"mt-2",children:["Paths are ",n.jsx("strong",{children:"edge-disjoint"})," if they share no edges (may share vertices)."]})]}),n.jsx(J,{title:"Menger's Theorem - Vertex Version (Theorem 4.2.17)",children:n.jsxs("p",{children:["Let ",n.jsx(o,{math:"x"})," and ",n.jsx(o,{math:"y"})," be non-adjacent vertices in graph ",n.jsx(o,{math:"G"}),". The minimum size of an"," ",n.jsx(o,{math:"x, y"}),"-vertex cut equals the maximum number of pairwise internally disjoint ",n.jsx(o,{math:"x, y"}),"-paths."]})}),n.jsx(J,{title:"Menger's Theorem - Edge Version (Theorem 4.2.19)",children:n.jsxs("p",{children:["For any vertices ",n.jsx(o,{math:"x"})," and ",n.jsx(o,{math:"y"})," in graph"," ",n.jsx(o,{math:"G"}),", the minimum size of an"," ",n.jsx(o,{math:"x, y"}),"-edge cut equals the maximum number of pairwise edge-disjoint ",n.jsx(o,{math:"x, y"}),"-paths."]})}),n.jsxs(we,{title:"Applying Menger's Theorem",children:[n.jsxs("p",{children:["In the Petersen graph, any two vertices have at least 3 internally disjoint paths between them (since ",n.jsx(o,{math:"\\kappa = 3"}),")."]}),n.jsx("p",{className:"mt-2",children:"Consider vertices at distance 2. By Menger, there exist 3 internally disjoint paths. One path has length 2, and the other two go around different parts of the graph."})]}),n.jsx(J,{title:"Global Menger's Theorem (Theorem 4.2.21)",children:n.jsxs("p",{children:["A graph ",n.jsx(o,{math:"G"})," is ",n.jsx(o,{math:"k"}),"-connected if and only if for every pair ",n.jsx(o,{math:"x, y \\in V(G)"}),", there exist"," ",n.jsx(o,{math:"k"})," pairwise internally disjoint"," ",n.jsx(o,{math:"x, y"}),"-paths."]})}),n.jsx(J,{title:"Edge Version of Global Menger (Theorem 4.2.22)",children:n.jsxs("p",{children:["A graph ",n.jsx(o,{math:"G"})," is ",n.jsx(o,{math:"k"}),"-edge-connected if and only if for every pair ",n.jsx(o,{math:"x, y \\in V(G)"}),", there exist"," ",n.jsx(o,{math:"k"})," pairwise edge-disjoint"," ",n.jsx(o,{math:"x, y"}),"-paths."]})}),n.jsx("h3",{children:"Fan Lemma"}),n.jsx(ce,{title:"Fan",children:n.jsxs("p",{children:["An ",n.jsx(o,{math:"x, U"}),"-",n.jsx("strong",{children:"fan"})," is a collection of"," ",n.jsx(o,{math:"x, U"}),"-paths that pairwise share only"," ",n.jsx(o,{math:"x"})," (internally disjoint from ",n.jsx(o,{math:"x"})," to"," ",n.jsx(o,{math:"U"}),")."]})}),n.jsx(J,{title:"Fan Lemma (Lemma 4.2.24)",children:n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," is ",n.jsx(o,{math:"k"}),"-connected,"," ",n.jsx(o,{math:"x \\in V(G)"}),", and ",n.jsx(o,{math:"U \\subseteq V(G)"})," ","with ",n.jsx(o,{math:"|U| \\geq k"}),", then ",n.jsx(o,{math:"G"})," has an"," ",n.jsx(o,{math:"x, U"}),"-fan of size ",n.jsx(o,{math:"k"}),"."]})}),n.jsx("h2",{children:"Higher Connectivity"}),n.jsx(J,{title:"Expansion Lemma (Lemma 4.2.27)",children:n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," is a ",n.jsx(o,{math:"k"}),"-connected graph and"," ",n.jsx(o,{math:"G'"})," is obtained from ",n.jsx(o,{math:"G"})," by adding a new vertex ",n.jsx(o,{math:"y"})," with at least ",n.jsx(o,{math:"k"})," ","neighbors in ",n.jsx(o,{math:"G"}),", then ",n.jsx(o,{math:"G'"})," is"," ",n.jsx(o,{math:"k"}),"-connected."]})}),n.jsxs(J,{title:"Theorem 4.2.30 (Harary Graphs)",children:[n.jsxs("p",{children:["For ",n.jsx(o,{math:"k \\leq n - 1"}),", there exists a"," ",n.jsx(o,{math:"k"}),"-connected graph on ",n.jsx(o,{math:"n"})," vertices with exactly ",n.jsx(o,{math:"\\lceil kn/2 \\rceil"})," edges."]}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["This is the minimum number of edges needed for"," ",n.jsx(o,{math:"k"}),"-connectivity."]})]}),n.jsxs(ce,{title:"Harary Graph",children:[n.jsxs("p",{children:["The Harary graph ",n.jsx(o,{math:"H_{k,n}"})," achieves minimum edge count for"," ",n.jsx(o,{math:"k"}),"-connectivity on ",n.jsx(o,{math:"n"})," vertices."]}),n.jsxs("p",{className:"mt-2",children:["Construction: Place ",n.jsx(o,{math:"n"})," vertices on a circle. Connect each vertex to its ",n.jsx(o,{math:"\\lfloor k/2 \\rfloor"})," nearest neighbors on each side. If ",n.jsx(o,{math:"k"})," is odd and ",n.jsx(o,{math:"n"})," is even, add diametric edges."]})]}),n.jsx("h2",{children:"Subdivisions and Contractions"}),n.jsx("p",{children:"Connectivity behaves predictably under graph operations."}),n.jsxs(ce,{title:"Subdivision and Contraction",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Subdividing"})," an edge ",n.jsx(o,{math:"uv"})," means replacing it with a path ",n.jsx(o,{math:"u, w, v"})," through a new vertex"," ",n.jsx(o,{math:"w"}),"."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Contracting"})," an edge ",n.jsx(o,{math:"uv"})," means merging"," ",n.jsx(o,{math:"u"})," and ",n.jsx(o,{math:"v"})," into a single vertex."]})]}),n.jsx(J,{title:"Theorem 4.2.36 (Connectivity and Operations)",children:n.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[n.jsxs("li",{children:["Subdividing an edge preserves ",n.jsx(o,{math:"k"}),"-connectivity for"," ",n.jsx(o,{math:"k \\geq 2"}),"."]}),n.jsxs("li",{children:["Contracting an edge in a ",n.jsx(o,{math:"k"}),"-connected graph yields a graph that is at least ",n.jsx(o,{math:"(k-1)"}),"-connected."]})]})}),n.jsx(J,{title:"Tutte's Wheel Theorem (Theorem 4.2.37)",children:n.jsxs("p",{children:["The only 3-connected graphs that have no single edge whose contraction leaves a 3-connected graph are the wheels ",n.jsx(o,{math:"W_n"})," for"," ",n.jsx(o,{math:"n \\geq 3"}),"."]})}),n.jsx("h2",{children:"Disjoint Spanning Trees"}),n.jsxs(J,{title:"Theorem 4.2.25 (Edge-Disjoint Spanning Trees)",children:[n.jsxs("p",{children:["A graph ",n.jsx(o,{math:"G"})," has ",n.jsx(o,{math:"k"})," edge-disjoint spanning trees if and only if for every partition"," ",n.jsx(o,{math:"V_1, \\ldots, V_r"})," of ",n.jsx(o,{math:"V(G)"}),":"]}),n.jsx(ze,{math:"e(V_1, \\ldots, V_r) \\geq k(r - 1)"}),n.jsxs("p",{className:"mt-2",children:["where ",n.jsx(o,{math:"e(V_1, \\ldots, V_r)"})," counts edges between different parts."]})]}),n.jsx(J,{title:"Corollary 4.2.26",children:n.jsxs("p",{children:["A ",n.jsx(o,{math:"2k"}),"-edge-connected graph has ",n.jsx(o,{math:"k"})," ","edge-disjoint spanning trees."]})}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"2-Connected:"})," No cut-vertex; every pair of vertices lies on a cycle; has an ear decomposition."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Ear Decomposition:"})," Build 2-connected graphs by starting with a cycle and adding paths."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Menger's Theorem:"})," Min vertex cut = Max internally disjoint paths. Min edge cut = Max edge-disjoint paths."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Global Version:"})," ",n.jsx(o,{math:"G"})," is"," ",n.jsx(o,{math:"k"}),"-connected iff every vertex pair has"," ",n.jsx(o,{math:"k"})," internally disjoint paths."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Harary Graphs:"})," Achieve minimum edges for"," ",n.jsx(o,{math:"k"}),"-connectivity."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Operations:"})," Subdivision preserves connectivity; contraction may decrease it by 1."]})]})]})}function lee(){return n.jsxs(kt,{sectionId:13,children:[n.jsx("p",{children:`Network flow theory studies how to route "flow" through a network from a source to a sink, respecting capacity constraints. The Max-flow Min-cut Theorem is a cornerstone of combinatorial optimization, elegantly connecting Menger's Theorem to linear programming duality. Flow networks model transportation, communication, and many other systems.`}),n.jsx("h2",{children:"Interactive Flow Network"}),n.jsx("p",{children:"Watch the Ford-Fulkerson algorithm find maximum flow. See augmenting paths, observe flow being pushed through the network, and discover the minimum cut."}),n.jsx(LJ,{className:"my-8"}),n.jsx("h2",{children:"Networks and Flows"}),n.jsxs(ce,{title:"Network",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"network"})," is a digraph ",n.jsx(o,{math:"N"})," with:"]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:["A ",n.jsx("strong",{children:"source"})," ",n.jsx(o,{math:"s"})," with"," ",n.jsx(o,{math:"d^-(s) = 0"})," (no incoming edges)"]}),n.jsxs("li",{children:["A ",n.jsx("strong",{children:"sink"})," ",n.jsx(o,{math:"t"})," with"," ",n.jsx(o,{math:"d^+(t) = 0"})," (no outgoing edges)"]}),n.jsxs("li",{children:["A ",n.jsx("strong",{children:"capacity function"})," ",n.jsx(o,{math:"c: E(N) \\to \\mathbb{R}^+"})," assigning nonnegative capacities to edges"]})]})]}),n.jsxs(ce,{title:"Flow",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"flow"})," on network ",n.jsx(o,{math:"N"})," is a function"," ",n.jsx(o,{math:"f: E(N) \\to \\mathbb{R}^+"})," satisfying:"]}),n.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Capacity constraint:"})," ",n.jsx(o,{math:"0 \\leq f(e) \\leq c(e)"})," for all edges"," ",n.jsx(o,{math:"e"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Conservation:"})," For all ",n.jsx(o,{math:"v \\neq s, t"}),":",n.jsx(ze,{math:"f^-(v) = f^+(v)"}),"(flow in = flow out)"]})]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"value"})," of flow ",n.jsx(o,{math:"f"})," is"," ",n.jsx(o,{math:"val(f) = f^+(s)"})," (total flow leaving the source)."]})]}),n.jsx(we,{title:"Transportation Network",children:n.jsxs("p",{children:["A distribution company ships goods from factory ",n.jsx(o,{math:"s"})," to warehouse ",n.jsx(o,{math:"t"})," through intermediate cities. Each road has a maximum capacity (trucks per day). A flow assigns truck routes respecting capacities and ensuring that at intermediate cities, trucks entering equals trucks leaving."]})}),n.jsx("h2",{children:"Cuts in Networks"}),n.jsxs(ce,{title:"Source-Sink Cut",children:[n.jsxs("p",{children:["An ",n.jsx(o,{math:"s, t"}),"-",n.jsx("strong",{children:"cut"})," in network"," ",n.jsx(o,{math:"N"})," is a partition ",n.jsx(o,{math:"(S, T)"})," of"," ",n.jsx(o,{math:"V(N)"})," with ",n.jsx(o,{math:"s \\in S"})," and"," ",n.jsx(o,{math:"t \\in T"}),"."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"capacity"})," of cut ",n.jsx(o,{math:"(S, T)"})," is:"]}),n.jsx(ze,{math:"cap(S, T) = \\sum_{e \\in [S, T]} c(e)"}),n.jsxs("p",{className:"mt-2",children:["where ",n.jsx(o,{math:"[S, T]"})," denotes edges from ",n.jsx(o,{math:"S"})," ","to ",n.jsx(o,{math:"T"}),"."]})]}),n.jsxs(J,{title:"Lemma 4.3.4 (Weak Duality)",children:[n.jsxs("p",{children:["For any flow ",n.jsx(o,{math:"f"})," and any ",n.jsx(o,{math:"s, t"}),"-cut"," ",n.jsx(o,{math:"(S, T)"}),":"]}),n.jsx(ze,{math:"val(f) \\leq cap(S, T)"}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["Flow conservation means: for each ",n.jsx(o,{math:"v \\in S - \\{s\\}"}),", flow in equals flow out. Summing over all ",n.jsx(o,{math:"v \\in S"}),":"]}),n.jsx(ze,{math:"val(f) = f^+(S) - f^-(S) \\leq f^+(S) \\leq cap(S, T)"}),n.jsxs("p",{children:["where ",n.jsx(o,{math:"f^+(S)"})," is total flow leaving"," ",n.jsx(o,{math:"S"}),"."]})]})]})]}),n.jsx("h2",{children:"The Max-Flow Min-Cut Theorem"}),n.jsxs(J,{title:"Max-Flow Min-Cut Theorem (Theorem 4.3.9)",children:[n.jsxs("p",{children:["In any network, the maximum value of a flow equals the minimum capacity of an"," ",n.jsx(o,{math:"s, t"}),"-cut:"]}),n.jsx(ze,{math:"\\max_f val(f) = \\min_{(S,T)} cap(S, T)"}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch (Ford-Fulkerson)"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsx("p",{children:"We show that when no augmenting path exists, the current flow equals some cut's capacity. Define:"}),n.jsx(ze,{math:"S = \\{v : \\text{there is an augmenting path from } s \\text{ to } v\\}"}),n.jsxs("p",{className:"mt-2",children:["Since there's no augmenting path to ",n.jsx(o,{math:"t"}),","," ",n.jsx(o,{math:"t \\notin S"}),", so ",n.jsx(o,{math:"(S, T)"})," is a cut. For edges from ",n.jsx(o,{math:"S"})," to ",n.jsx(o,{math:"T"}),", flow equals capacity (else augmenting path exists). For edges from"," ",n.jsx(o,{math:"T"})," to ",n.jsx(o,{math:"S"}),", flow is 0. Thus"," ",n.jsx(o,{math:"val(f) = cap(S, T)"}),"."]})]})]})]}),n.jsxs(we,{title:"Computing Max-Flow",children:[n.jsxs("p",{children:["Consider a network with ",n.jsx(o,{math:"s \\to a \\to t"})," (capacity 3),"," ",n.jsx(o,{math:"s \\to b \\to t"})," (capacity 2), and"," ",n.jsx(o,{math:"a \\to b"})," (capacity 1)."]}),n.jsxs("p",{className:"mt-2",children:["Maximum flow: Send 3 through ",n.jsx(o,{math:"s \\to a \\to t"})," and 2 through ",n.jsx(o,{math:"s \\to b \\to t"}),". Total value = 5."]}),n.jsxs("p",{className:"mt-2",children:["Minimum cut: ",n.jsx(o,{math:"S = \\{s\\}"}),","," ",n.jsx(o,{math:"T = \\{a, b, t\\}"}),". Cut capacity = 3 + 2 = 5. "]})]}),n.jsx("h2",{children:"The Ford-Fulkerson Algorithm"}),n.jsxs(ce,{title:"Residual Network",children:[n.jsxs("p",{children:["Given network ",n.jsx(o,{math:"N"})," and flow ",n.jsx(o,{math:"f"}),", the"," ",n.jsx("strong",{children:"residual network"})," ",n.jsx(o,{math:"N_f"})," has:"]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Forward edges:"})," For each edge"," ",n.jsx(o,{math:"e = (u, v)"})," with ",n.jsx(o,{math:"f(e) < c(e)"}),", include ",n.jsx(o,{math:"(u, v)"})," with residual capacity"," ",n.jsx(o,{math:"c(e) - f(e)"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Backward edges:"})," For each edge"," ",n.jsx(o,{math:"e = (u, v)"})," with ",n.jsx(o,{math:"f(e) > 0"}),", include ",n.jsx(o,{math:"(v, u)"})," with residual capacity"," ",n.jsx(o,{math:"f(e)"}),"."]})]})]}),n.jsxs(ce,{title:"Augmenting Path",children:[n.jsxs("p",{children:["An ",n.jsx("strong",{children:"augmenting path"})," for flow ",n.jsx(o,{math:"f"})," is an"," ",n.jsx(o,{math:"s, t"}),"-path in the residual network"," ",n.jsx(o,{math:"N_f"}),"."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"bottleneck"})," of an augmenting path is the minimum residual capacity along the path."]})]}),n.jsx(ce,{title:"Ford-Fulkerson Algorithm",children:n.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[n.jsxs("li",{children:["Initialize ",n.jsx(o,{math:"f(e) = 0"})," for all edges."]}),n.jsxs("li",{children:["While there exists an augmenting path ",n.jsx(o,{math:"P"}),":",n.jsxs("ul",{className:"ml-4 list-disc list-inside",children:[n.jsxs("li",{children:["Find bottleneck ",n.jsx(o,{math:"\\delta = \\min_{e \\in P} c_f(e)"}),"."]}),n.jsxs("li",{children:["For each edge ",n.jsx(o,{math:"(u, v)"})," in ",n.jsx(o,{math:"P"}),":",n.jsxs("ul",{className:"ml-4 list-disc list-inside",children:[n.jsxs("li",{children:["If forward edge: increase ",n.jsx(o,{math:"f(u, v)"})," by"," ",n.jsx(o,{math:"\\delta"}),"."]}),n.jsxs("li",{children:["If backward edge: decrease ",n.jsx(o,{math:"f(v, u)"})," by"," ",n.jsx(o,{math:"\\delta"}),"."]})]})]})]})]}),n.jsxs("li",{children:["Return ",n.jsx(o,{math:"f"}),"."]})]})}),n.jsx(J,{title:"Ford-Fulkerson Correctness",children:n.jsxs("p",{children:["The Ford-Fulkerson algorithm terminates with a maximum flow when all capacities are rational. With integer capacities, running time is"," ",n.jsx(o,{math:"O(m \\cdot val(f^*))"})," where"," ",n.jsx(o,{math:"val(f^*)"})," is the maximum flow value."]})}),n.jsx("h3",{children:"Improved Algorithms"}),n.jsx("p",{children:"By choosing augmenting paths more carefully, we can guarantee polynomial time:"}),n.jsx(J,{title:"Edmonds-Karp Algorithm (1972)",children:n.jsxs("p",{children:["Using BFS to find shortest augmenting paths, maximum flow can be computed in"," ",n.jsx(o,{math:"O(nm^2)"})," time."]})}),n.jsx(J,{title:"Dinic's Algorithm (1970)",children:n.jsxs("p",{children:["Using blocking flows in layered networks, maximum flow can be computed in"," ",n.jsx(o,{math:"O(n^2 m)"})," time, or"," ",n.jsx(o,{math:"O(m\\sqrt{n})"})," for unit capacity networks."]})}),n.jsx("h2",{children:"Integrality Theorem"}),n.jsxs(J,{title:"Integrality Theorem (Theorem 4.3.11)",children:[n.jsx("p",{children:"If all capacities in a network are integers, then there exists a maximum flow that is integer-valued on all edges."}),n.jsx("p",{className:"mt-2 text-dark-300",children:"The Ford-Fulkerson algorithm automatically produces such an integer flow."})]}),n.jsx("p",{children:"This theorem has powerful consequences: many combinatorial problems can be modeled as integer flow problems."}),n.jsx("h2",{children:"Applications of Max-Flow"}),n.jsx("h3",{children:"Menger's Theorem from Max-Flow"}),n.jsxs(J,{title:"Corollary 4.3.13 (Menger from Max-Flow)",children:[n.jsx("p",{children:"Menger's Theorem (edge version) follows from the Max-Flow Min-Cut Theorem by setting all capacities to 1."}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:n.jsxs("p",{children:["In a network with unit capacities, by integrality, maximum flow is the number of edge-disjoint ",n.jsx(o,{math:"s, t"}),"-paths. Minimum cut capacity is the minimum number of edges separating"," ",n.jsx(o,{math:"s"})," from ",n.jsx(o,{math:"t"}),". Max-Flow Min-Cut gives Menger's Theorem."]})})]})]}),n.jsx("h3",{children:"Bipartite Matching"}),n.jsxs(J,{title:"Maximum Bipartite Matching via Flow (Corollary 4.3.14)",children:[n.jsxs("p",{children:["Maximum matching in a bipartite graph ",n.jsx(o,{math:"G"})," can be computed by:"]}),n.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[n.jsxs("li",{children:["Create network: Add source ",n.jsx(o,{math:"s"})," connected to all"," ",n.jsx(o,{math:"X"}),"-vertices; add sink ",n.jsx(o,{math:"t"})," ","connected from all ",n.jsx(o,{math:"Y"}),"-vertices."]}),n.jsxs("li",{children:["Direct all edges from ",n.jsx(o,{math:"X"})," to ",n.jsx(o,{math:"Y"}),"."]}),n.jsx("li",{children:"Set all capacities to 1."}),n.jsx("li",{children:"Maximum flow value = Maximum matching size."})]})]}),n.jsx("h3",{children:"Knig-Egervry from Max-Flow"}),n.jsx("p",{children:"The Knig-Egervry Theorem (maximum matching = minimum vertex cover in bipartite graphs) also follows from Max-Flow Min-Cut applied to the bipartite matching network."}),n.jsx("h3",{children:"Edge-Disjoint Paths"}),n.jsxs(we,{title:"Multi-Commodity Flow",children:[n.jsx("p",{children:"A company needs to route data between multiple source-destination pairs through a network. Each link has limited bandwidth. The multi-commodity flow problem asks: can we satisfy all demands simultaneously?"}),n.jsx("p",{className:"mt-2",children:"For single source-destination, this reduces to max-flow. For multiple pairs, the problem becomes NP-hard in general but has efficient approximations."})]}),n.jsx("h2",{children:"Circulations"}),n.jsxs(ce,{title:"Circulation",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"circulation"})," in a network is a flow where"," ",n.jsx(o,{math:"s = t"})," (source equals sink), so conservation holds at every vertex."]}),n.jsx("p",{className:"mt-2",children:"Equivalently, a circulation is an assignment of flows to edges satisfying capacity constraints and conservation everywhere."})]}),n.jsxs(J,{title:"Circulation with Demands (Theorem 4.3.19)",children:[n.jsxs("p",{children:["A network with demands ",n.jsx(o,{math:"d(v)"})," at each vertex (positive for sources, negative for sinks) has a feasible circulation if and only if:"]}),n.jsxs("ol",{className:"mt-2 list-decimal list-inside",children:[n.jsxs("li",{children:[n.jsx(o,{math:"\\sum_v d(v) = 0"})," (total demand is zero)"]}),n.jsxs("li",{children:["For every ",n.jsx(o,{math:"s, t"}),"-cut, the demand can be satisfied"]})]})]}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Max-Flow Min-Cut:"})," The central theorem: maximum flow value equals minimum cut capacity."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Ford-Fulkerson:"})," Find max-flow by repeatedly augmenting along paths in the residual network."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Integrality:"})," With integer capacities, there's always an integer maximum flow."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Unifies Theory:"})," Menger's Theorem, Knig-Egervry, and Hall's Theorem all follow from Max-Flow Min-Cut."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Efficient Algorithms:"})," Edmonds-Karp"," ",n.jsx(o,{math:"O(nm^2)"}),", Dinic ",n.jsx(o,{math:"O(n^2 m)"}),", with better bounds for special cases."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Wide Applications:"})," Transportation, communication networks, bipartite matching, scheduling, and more."]})]})]})}function cee(){return n.jsxs(kt,{sectionId:14,children:[n.jsx("p",{children:'Graph coloring assigns labels ("colors") to graph elements subject to certain constraints. In vertex coloring, adjacent vertices must receive different colors. This models scheduling conflicts, register allocation in compilers, frequency assignment in wireless networks, and the famous map coloring problem. The central question: how many colors are needed?'}),n.jsx("h2",{children:"Chromatic Number"}),n.jsxs(ce,{title:"Proper Coloring and Chromatic Number",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"proper k-coloring"})," of graph ",n.jsx(o,{math:"G"})," is a function ",n.jsx(o,{math:"c: V(G) \\to \\{1, 2, \\ldots, k\\}"})," such that"," ",n.jsx(o,{math:"c(u) \\neq c(v)"})," whenever ",n.jsx(o,{math:"uv \\in E(G)"}),"."]}),n.jsxs("p",{className:"mt-2",children:["A graph is ",n.jsxs("strong",{children:[n.jsx(o,{math:"k"}),"-colorable"]})," ","if it has a proper ",n.jsx(o,{math:"k"}),"-coloring."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"chromatic number"})," ",n.jsx(o,{math:"\\chi(G)"})," is the minimum ",n.jsx(o,{math:"k"})," such that ",n.jsx(o,{math:"G"})," is"," ",n.jsx(o,{math:"k"}),"-colorable."]})]}),n.jsx(we,{title:"Chromatic Numbers of Basic Graphs",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx(o,{math:"\\chi(K_n) = n"}),"  all vertices are adjacent"]}),n.jsxs("li",{children:[n.jsx(o,{math:"\\chi(C_n) = 2"})," if ",n.jsx(o,{math:"n"})," is even,"," ",n.jsx(o,{math:"3"})," if odd"]}),n.jsxs("li",{children:[n.jsx(o,{math:"\\chi(K_{m,n}) = 2"}),"  alternate colors between parts"]}),n.jsxs("li",{children:[n.jsx(o,{math:"\\chi(T) = 2"})," for any tree ",n.jsx(o,{math:"T"})," with at least one edge"]}),n.jsx("li",{children:n.jsx(o,{math:"\\chi(\\text{Petersen}) = 3"})})]})}),n.jsxs(J,{title:"Bipartite Characterization (Theorem 5.1.2)",children:[n.jsxs("p",{children:["A graph ",n.jsx(o,{math:"G"})," is bipartite if and only if"," ",n.jsx(o,{math:"\\chi(G) \\leq 2"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Equivalently, ",n.jsx(o,{math:"G"})," is bipartite iff"," ",n.jsx(o,{math:"G"})," has no odd cycle."]})]}),n.jsx(BJ,{className:"my-8"}),n.jsx("h2",{children:"Greedy Coloring"}),n.jsxs(ce,{title:"Greedy Coloring Algorithm",children:[n.jsxs("p",{children:["Given a vertex ordering ",n.jsx(o,{math:"v_1, v_2, \\ldots, v_n"}),":"]}),n.jsxs("ol",{className:"mt-2 list-decimal list-inside",children:[n.jsxs("li",{children:["Color ",n.jsx(o,{math:"v_1"})," with color 1."]}),n.jsxs("li",{children:["For ",n.jsx(o,{math:"i = 2, \\ldots, n"}),": assign"," ",n.jsx(o,{math:"v_i"})," the smallest color not used by any neighbor of"," ",n.jsx(o,{math:"v_i"})," among"," ",n.jsx(o,{math:"\\{v_1, \\ldots, v_{i-1}\\}"}),"."]})]})]}),n.jsxs(J,{title:"Theorem 5.1.7 (Greedy Bound)",children:[n.jsxs("p",{children:["For any vertex ordering, greedy coloring uses at most"," ",n.jsx(o,{math:"\\Delta(G) + 1"})," colors. Thus:"]}),n.jsx(ze,{math:"\\chi(G) \\leq \\Delta(G) + 1"}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:n.jsxs("p",{children:["When coloring ",n.jsx(o,{math:"v_i"}),", it has at most"," ",n.jsx(o,{math:"\\Delta(G)"})," neighbors. These neighbors use at most"," ",n.jsx(o,{math:"\\Delta(G)"})," colors, so color"," ",n.jsx(o,{math:"\\Delta(G) + 1"})," is always available."]})})]})]}),n.jsxs(we,{title:"Optimal vs. Poor Orderings",children:[n.jsxs("p",{children:["Consider ",n.jsx(o,{math:"K_3"})," with vertices ",n.jsx(o,{math:"a, b, c"}),". Any ordering uses 3 colors (optimal)."]}),n.jsxs("p",{className:"mt-2",children:["Consider ",n.jsx(o,{math:"K_{3,3}"})," with parts"," ",n.jsx(o,{math:"\\{a, b, c\\}"})," and ",n.jsx(o,{math:"\\{x, y, z\\}"}),"."]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:["Ordering ",n.jsx(o,{math:"a, b, c, x, y, z"}),": uses 2 colors (optimal)"]}),n.jsxs("li",{children:["Ordering ",n.jsx(o,{math:"a, x, b, y, c, z"}),": uses 3 colors (suboptimal)"]})]})]}),n.jsxs(ce,{title:"Degeneracy",children:[n.jsxs("p",{children:["A graph ",n.jsx(o,{math:"G"})," is ",n.jsxs("strong",{children:[n.jsx(o,{math:"k"}),"-degenerate"]})," ","if every subgraph has a vertex of degree at most ",n.jsx(o,{math:"k"}),"."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"degeneracy"})," of ",n.jsx(o,{math:"G"})," is the minimum"," ",n.jsx(o,{math:"k"})," for which ",n.jsx(o,{math:"G"})," is"," ",n.jsx(o,{math:"k"}),"-degenerate."]})]}),n.jsxs(J,{title:"Theorem 5.1.9 (Degeneracy Bound)",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," is ",n.jsx(o,{math:"k"}),"-degenerate, then"," ",n.jsx(o,{math:"\\chi(G) \\leq k + 1"}),"."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:n.jsxs("p",{children:["Order vertices by repeatedly removing a vertex of minimum degree. In this ordering, each vertex has at most ",n.jsx(o,{math:"k"})," earlier neighbors. Greedy coloring uses at most ",n.jsx(o,{math:"k + 1"})," colors."]})})]})]}),n.jsx("h2",{children:"Cliques and Chromatic Number"}),n.jsx(ce,{title:"Clique Number",children:n.jsxs("p",{children:["The ",n.jsx("strong",{children:"clique number"})," ",n.jsx(o,{math:"\\omega(G)"})," is the size of the largest clique (complete subgraph) in ",n.jsx(o,{math:"G"}),"."]})}),n.jsxs(J,{title:"Clique Lower Bound",children:[n.jsxs("p",{children:["For any graph ",n.jsx(o,{math:"G"}),":"]}),n.jsx(ze,{math:"\\chi(G) \\geq \\omega(G)"}),n.jsx("p",{className:"mt-2 text-dark-300",children:"Vertices in a clique must all have different colors."})]}),n.jsxs(we,{title:"Gap Between  and ",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"Mycielskian"})," construction produces triangle-free graphs (",n.jsx(o,{math:"\\omega = 2"}),") with arbitrarily large chromatic number."]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:[n.jsx(o,{math:"M_2 = K_2"}),": ",n.jsx(o,{math:"\\chi = 2"}),","," ",n.jsx(o,{math:"\\omega = 2"})]}),n.jsxs("li",{children:[n.jsx(o,{math:"M_3 = C_5"}),": ",n.jsx(o,{math:"\\chi = 3"}),","," ",n.jsx(o,{math:"\\omega = 2"})]}),n.jsxs("li",{children:[n.jsx(o,{math:"M_4"})," (Grtzsch graph): ",n.jsx(o,{math:"\\chi = 4"}),","," ",n.jsx(o,{math:"\\omega = 2"})]})]}),n.jsx("p",{className:"mt-2",children:"So the chromatic number can be arbitrarily larger than the clique number."})]}),n.jsx("h2",{children:"Brooks' Theorem"}),n.jsxs("p",{children:["The greedy bound ",n.jsx(o,{math:"\\chi(G) \\leq \\Delta(G) + 1"})," is achieved by complete graphs and odd cycles. Brooks' Theorem says these are the only cases."]}),n.jsxs(J,{title:"Brooks' Theorem (Theorem 5.1.22)",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," is a connected graph that is neither a complete graph nor an odd cycle, then:"]}),n.jsx(ze,{math:"\\chi(G) \\leq \\Delta(G)"}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Case 1:"})," ",n.jsx(o,{math:"G"})," is not regular. There exists a vertex ",n.jsx(o,{math:"v"})," with"," ",n.jsx(o,{math:"d(v) < \\Delta(G)"}),". Order vertices starting from the most distant from ",n.jsx(o,{math:"v"})," and ending at"," ",n.jsx(o,{math:"v"}),". Greedy coloring uses at most"," ",n.jsx(o,{math:"\\Delta(G)"})," colors."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Case 2:"})," ",n.jsx(o,{math:"G"})," is"," ",n.jsx(o,{math:"\\Delta"}),"-regular. If"," ",n.jsx(o,{math:"\\kappa(G) < \\Delta"}),", use a special ordering. If"," ",n.jsx(o,{math:"\\kappa(G) = \\Delta"}),", find non-adjacent vertices"," ",n.jsx(o,{math:"u, v"})," with a common neighbor"," ",n.jsx(o,{math:"w"}),". Color ",n.jsx(o,{math:"u, v"})," the same color first, then extend greedily."]})]})]})]}),n.jsx(we,{title:"Brooks' Theorem in Action",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx(o,{math:"K_5"}),": ",n.jsx(o,{math:"\\Delta = 4"}),","," ",n.jsx(o,{math:"\\chi = 5 = \\Delta + 1"})," (complete graph exception)"]}),n.jsxs("li",{children:[n.jsx(o,{math:"C_7"}),": ",n.jsx(o,{math:"\\Delta = 2"}),","," ",n.jsx(o,{math:"\\chi = 3 = \\Delta + 1"})," (odd cycle exception)"]}),n.jsxs("li",{children:["Petersen graph: ",n.jsx(o,{math:"\\Delta = 3"}),","," ",n.jsx(o,{math:"\\chi = 3 = \\Delta"})," (Brooks applies)"]}),n.jsxs("li",{children:[n.jsx(o,{math:"K_{4,4}"}),": ",n.jsx(o,{math:"\\Delta = 4"}),","," ",n.jsx(o,{math:"\\chi = 2 \\ll \\Delta"})," (bipartite)"]})]})}),n.jsx("h2",{children:"Lower Bounds"}),n.jsxs(J,{title:"Independence Number Bound",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," has ",n.jsx(o,{math:"n"})," vertices and independence number ",n.jsx(o,{math:"\\alpha(G)"}),", then:"]}),n.jsx(ze,{math:"\\chi(G) \\geq \\frac{n}{\\alpha(G)}"}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:n.jsxs("p",{children:["Each color class is an independent set, so has at most"," ",n.jsx(o,{math:"\\alpha(G)"})," vertices. To cover all"," ",n.jsx(o,{math:"n"})," vertices, we need at least"," ",n.jsx(o,{math:"n/\\alpha(G)"})," colors."]})})]})]}),n.jsxs(J,{title:"Szekeres-Wilf Theorem",children:[n.jsxs("p",{children:[n.jsx(o,{math:"\\chi(G) \\leq 1 + \\max_{H \\subseteq G} \\delta(H)"}),", where the maximum is over all induced subgraphs ",n.jsx(o,{math:"H"})," of"," ",n.jsx(o,{math:"G"}),"."]}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["This equals 1 + degeneracy of ",n.jsx(o,{math:"G"}),"."]})]}),n.jsx("h2",{children:"Interval Graphs"}),n.jsx(ce,{title:"Interval Graph",children:n.jsxs("p",{children:["An ",n.jsx("strong",{children:"interval graph"})," is the intersection graph of a set of intervals on the real line. Vertices correspond to intervals; two vertices are adjacent iff their intervals intersect."]})}),n.jsxs(J,{title:"Theorem 5.1.21 (Interval Graph Coloring)",children:[n.jsxs("p",{children:["For interval graphs: ",n.jsx(o,{math:"\\chi(G) = \\omega(G)"}),"."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["Process intervals left-to-right by left endpoint. When interval"," ",n.jsx(o,{math:"I"})," starts, assign it the smallest color not used by currently active (overlapping) intervals."]}),n.jsxs("p",{className:"mt-2",children:["If we need color ",n.jsx(o,{math:"k + 1"}),", then ",n.jsx(o,{math:"k"})," ","intervals are active and overlap with ",n.jsx(o,{math:"I"}),". Together with ",n.jsx(o,{math:"I"}),", these form a clique of size"," ",n.jsx(o,{math:"k + 1"}),". So"," ",n.jsx(o,{math:"\\chi(G) \\leq \\omega(G)"}),", and we already know"," ",n.jsx(o,{math:"\\chi(G) \\geq \\omega(G)"}),"."]})]})]})]}),n.jsxs(we,{title:"Scheduling with Interval Graphs",children:[n.jsx("p",{children:"A conference has talks with start and end times. How many rooms are needed? Model as an interval graph: talks are intervals, adjacent if they overlap."}),n.jsx("p",{className:"mt-2",children:"The chromatic number = rooms needed = maximum number of simultaneous talks."})]}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Chromatic Number:"})," Minimum colors for proper vertex coloring."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Bounds:"})," ",n.jsx(o,{math:"\\omega(G) \\leq \\chi(G) \\leq \\Delta(G) + 1"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Brooks' Theorem:"})," ",n.jsx(o,{math:"\\chi(G) \\leq \\Delta(G)"})," unless ",n.jsx(o,{math:"G"})," is complete or an odd cycle."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Greedy Coloring:"})," Simple algorithm, quality depends on vertex ordering."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Degeneracy:"}),' Measure of "sparseness"; bounds chromatic number.']}),n.jsxs("li",{children:[n.jsx("strong",{children:"Gap:"})," ",n.jsx(o,{math:"\\chi"})," can be arbitrarily larger than ",n.jsx(o,{math:"\\omega"})," (Mycielski construction)."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Interval Graphs:"})," ",n.jsx(o,{math:"\\chi = \\omega"})," always; arise in scheduling."]})]})]})}function hee(){return n.jsxs(kt,{sectionId:15,children:[n.jsx("p",{children:"What structure forces a graph to need many colors? The presence of a large clique is an obvious reason, but graphs can have high chromatic number without large cliques. We study extremal questions: how many edges can a graph have without containing certain subgraphs? Turn's Theorem answers this for complete subgraphs, and color-critical graphs reveal the minimal structures requiring a given number of colors."}),n.jsx("h2",{children:"Turn's Theorem"}),n.jsxs(ce,{title:"Turn Graph",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"Turn graph"})," ",n.jsx(o,{math:"T_{n,r}"})," is the complete ",n.jsx(o,{math:"r"}),"-partite graph on ",n.jsx(o,{math:"n"})," vertices with part sizes as equal as possible (differing by at most 1)."]}),n.jsxs("p",{className:"mt-2",children:["If ",n.jsx(o,{math:"n = qr + s"})," where ",n.jsx(o,{math:"0 \\leq s < r"}),", then ",n.jsx(o,{math:"T_{n,r}"})," has ",n.jsx(o,{math:"s"})," parts of size"," ",n.jsx(o,{math:"q + 1"})," and ",n.jsx(o,{math:"r - s"})," parts of size"," ",n.jsx(o,{math:"q"}),"."]})]}),n.jsx(we,{title:"Turn Graphs",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx(o,{math:"T_{6,2}"}),": two parts of 3 vertices ="," ",n.jsx(o,{math:"K_{3,3}"})," (9 edges)"]}),n.jsxs("li",{children:[n.jsx(o,{math:"T_{6,3}"}),": three parts of 2 vertices ="," ",n.jsx(o,{math:"K_{2,2,2}"})," (12 edges)"]}),n.jsxs("li",{children:[n.jsx(o,{math:"T_{7,3}"}),": parts of sizes 3, 2, 2 (15 edges)"]}),n.jsxs("li",{children:[n.jsx(o,{math:"T_{n,n-1}"}),": ",n.jsx(o,{math:"K_n"})," minus a perfect matching (if ",n.jsx(o,{math:"n"})," even)"]})]})}),n.jsxs(J,{title:"Turn's Theorem (Theorem 5.2.3)",children:[n.jsxs("p",{children:["Among ",n.jsx(o,{math:"n"}),"-vertex graphs with no"," ",n.jsx(o,{math:"K_{r+1}"})," subgraph, the unique graph with maximum edges is the Turn graph ",n.jsx(o,{math:"T_{n,r}"}),"."]}),n.jsx("p",{className:"mt-2",children:"The number of edges is:"}),n.jsx(ze,{math:"e(T_{n,r}) = \\left(1 - \\frac{1}{r}\\right) \\frac{n^2}{2} - O(n)"}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Step 1:"})," Among ",n.jsx(o,{math:"K_{r+1}"}),"-free graphs, complete multipartite graphs maximize edges (moving edges between non-adjacent vertices only helps)."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Step 2:"})," A ",n.jsx(o,{math:"K_{r+1}"}),"-free complete multipartite graph has at most ",n.jsx(o,{math:"r"})," parts."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Step 3:"})," Among ",n.jsx(o,{math:"r"}),"-partite graphs, equal part sizes maximize edges (by convexity of"," ",n.jsx(o,{math:"x^2"}),")."]})]})]})]}),n.jsxs(J,{title:"Turn Edge Count (Corollary 5.2.4)",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," is ",n.jsx(o,{math:"K_{r+1}"}),"-free with"," ",n.jsx(o,{math:"n"})," vertices:"]}),n.jsx(ze,{math:"e(G) \\leq \\left(1 - \\frac{1}{r}\\right) \\frac{n^2}{2}"})]}),n.jsxs(we,{title:"No Triangles",children:[n.jsxs("p",{children:["How many edges can an ",n.jsx(o,{math:"n"}),"-vertex triangle-free graph have?"]}),n.jsxs("p",{className:"mt-2",children:["By Turn (",n.jsx(o,{math:"r = 2"}),"):"," ",n.jsx(o,{math:"e(G) \\leq n^2/4"}),". The maximum is achieved by"," ",n.jsx(o,{math:"K_{\\lfloor n/2 \\rfloor, \\lceil n/2 \\rceil}"}),"."]}),n.jsxs("p",{className:"mt-2",children:["For ",n.jsx(o,{math:"n = 10"}),": at most 25 edges, achieved by"," ",n.jsx(o,{math:"K_{5,5}"}),"."]})]}),n.jsx("h2",{children:"Forbidding Subgraphs"}),n.jsx(ce,{title:"Extremal Number",children:n.jsxs("p",{children:["The ",n.jsx("strong",{children:"extremal number"})," ",n.jsx(o,{math:"ex(n, H)"})," is the maximum number of edges in an ",n.jsx(o,{math:"n"}),"-vertex graph containing no copy of ",n.jsx(o,{math:"H"})," as a subgraph."]})}),n.jsx(J,{title:"Turn Restated",children:n.jsx("p",{children:n.jsx(o,{math:"ex(n, K_{r+1}) = e(T_{n,r})"})})}),n.jsxs(J,{title:"Kvri-Ss-Turn (Theorem 5.2.7)",children:[n.jsxs("p",{children:["For ",n.jsx(o,{math:"r \\leq s"}),":"]}),n.jsx(ze,{math:"ex(n, K_{r,s}) \\leq \\frac{1}{2}(s-1)^{1/r} n^{2-1/r} + \\frac{r-1}{2}n"}),n.jsxs("p",{className:"mt-2",children:["In particular, ",n.jsx(o,{math:"ex(n, K_{r,s}) = O(n^{2-1/r})"}),"."]})]}),n.jsxs(we,{title:"No K,",children:[n.jsxs("p",{children:[n.jsx(o,{math:"K_{2,2} = C_4"}),". By Kvri-Ss-Turn:"," ",n.jsx(o,{math:"ex(n, C_4) = O(n^{3/2})"}),"."]}),n.jsxs("p",{className:"mt-2",children:["More precisely,"," ",n.jsx(o,{math:"ex(n, C_4) \\leq \\frac{1}{2}(1 + \\sqrt{4n-3})"}),"."]}),n.jsx("p",{className:"mt-2",children:"Projective plane constructions show this is tight up to lower-order terms."})]}),n.jsx("h2",{children:"Color-Critical Graphs"}),n.jsxs(ce,{title:"Color-Critical Graph",children:[n.jsxs("p",{children:["A graph ",n.jsx(o,{math:"G"})," is ",n.jsxs("strong",{children:[n.jsx(o,{math:"k"}),"-critical"]})," ","(or ",n.jsxs("strong",{children:[n.jsx(o,{math:"k"}),"-color-critical"]}),") if ",n.jsx(o,{math:"\\chi(G) = k"})," but"," ",n.jsx(o,{math:"\\chi(G - v) < k"})," for every vertex"," ",n.jsx(o,{math:"v"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Equivalently, ",n.jsx(o,{math:"G"})," is ",n.jsx(o,{math:"k"}),"-critical if"," ",n.jsx(o,{math:"\\chi(G) = k"})," and deleting any vertex decreases the chromatic number."]})]}),n.jsx(we,{title:"Critical Graphs",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx(o,{math:"K_n"})," is ",n.jsx(o,{math:"n"}),"-critical"]}),n.jsxs("li",{children:["Odd cycles ",n.jsx(o,{math:"C_{2k+1}"})," are 3-critical"]}),n.jsx("li",{children:"The Grtzsch graph (11 vertices, 20 edges) is 4-critical and triangle-free"}),n.jsxs("li",{children:["The only 2-critical graph is ",n.jsx(o,{math:"K_2"})]})]})}),n.jsx(J,{title:"Properties of Critical Graphs",children:n.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[n.jsxs("li",{children:["Every ",n.jsx(o,{math:"k"}),"-chromatic graph contains a"," ",n.jsx(o,{math:"k"}),"-critical subgraph."]}),n.jsxs("li",{children:["A ",n.jsx(o,{math:"k"}),"-critical graph is"," ",n.jsx(o,{math:"(k-1)"}),"-edge-connected."]}),n.jsxs("li",{children:["Every vertex of a ",n.jsx(o,{math:"k"}),"-critical graph has degree at least ",n.jsx(o,{math:"k - 1"}),"."]})]})}),n.jsxs(J,{title:"Theorem 5.2.12 (Critical Graph Minimum Degree)",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," is ",n.jsx(o,{math:"k"}),"-critical, then"," ",n.jsx(o,{math:"\\delta(G) \\geq k - 1"}),"."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["Let ",n.jsx(o,{math:"v"})," be a vertex of minimum degree. Since"," ",n.jsx(o,{math:"G"})," is ",n.jsx(o,{math:"k"}),"-critical,"," ",n.jsx(o,{math:"G - v"})," has a ",n.jsx(o,{math:"(k-1)"}),"-coloring."]}),n.jsxs("p",{className:"mt-2",children:["If ",n.jsx(o,{math:"d(v) \\leq k - 2"}),", then ",n.jsx(o,{math:"v"})," has at most ",n.jsx(o,{math:"k - 2"})," neighbors, so some color from"," ",n.jsx(o,{math:"\\{1, \\ldots, k-1\\}"})," is not used by neighbors of"," ",n.jsx(o,{math:"v"}),". We could extend to a"," ",n.jsx(o,{math:"(k-1)"}),"-coloring of ",n.jsx(o,{math:"G"}),", contradiction."]})]})]})]}),n.jsxs(J,{title:"Dirac's Theorem on Critical Graphs (Theorem 5.2.14)",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," is ",n.jsx(o,{math:"k"}),"-critical with"," ",n.jsx(o,{math:"n"})," vertices, then:"]}),n.jsx(ze,{math:"e(G) \\geq \\frac{(k-1)n - k + 3}{2}"}),n.jsxs("p",{className:"mt-2",children:["for ",n.jsx(o,{math:"k \\geq 4"}),"."]})]}),n.jsx("h2",{children:"Forcing Subdivisions"}),n.jsx(ce,{title:"Subdivision",children:n.jsxs("p",{children:["A ",n.jsx("strong",{children:"subdivision"})," of graph ",n.jsx(o,{math:"H"})," (or"," ",n.jsx(o,{math:"TH"}),', "topological ',n.jsx(o,{math:"H"}),'") is obtained by replacing edges with internally disjoint paths.']})}),n.jsx(J,{title:"Theorem 5.2.17 (Mader)",children:n.jsxs("p",{children:["Every graph ",n.jsx(o,{math:"G"})," with"," ",n.jsx(o,{math:"e(G) \\geq 2n - 3"})," (where"," ",n.jsx(o,{math:"n = |V(G)|"}),") contains a subdivision of"," ",n.jsx(o,{math:"K_4"}),"."]})}),n.jsxs(J,{title:"High Average Degree Forces Subdivision (Theorem 5.2.18)",children:[n.jsxs("p",{children:["For each ",n.jsx(o,{math:"k"}),", there exists a constant"," ",n.jsx(o,{math:"c_k"})," such that every graph with average degree at least"," ",n.jsx(o,{math:"c_k"})," contains a subdivision of"," ",n.jsx(o,{math:"K_k"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Mader proved ",n.jsx(o,{math:"c_k = 2^{k-2}"})," suffices. Bollobs and Thomason improved this to ",n.jsx(o,{math:"c_k = O(k^2)"}),"."]})]}),n.jsxs(J,{title:"Hajs Construction (Theorem 5.2.19)",children:[n.jsxs("p",{children:["Every ",n.jsx(o,{math:"k"}),"-chromatic graph contains a subdivision of"," ",n.jsx(o,{math:"K_k"}),"."]}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["This was conjectured by Hajs and proved to be false for large"," ",n.jsx(o,{math:"k"})," by Catlin (1979)."]})]}),n.jsx("h2",{children:"Minor-Based Characterizations"}),n.jsx(ce,{title:"Minor",children:n.jsxs("p",{children:["Graph ",n.jsx(o,{math:"H"})," is a ",n.jsx("strong",{children:"minor"})," of"," ",n.jsx(o,{math:"G"})," (written ",n.jsx(o,{math:"H \\preceq G"}),") if"," ",n.jsx(o,{math:"H"})," can be obtained from ",n.jsx(o,{math:"G"})," by deleting vertices, deleting edges, and contracting edges."]})}),n.jsxs(J,{title:"Hadwiger's Conjecture",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"\\chi(G) \\geq k"}),", then ",n.jsx(o,{math:"G"})," has"," ",n.jsx(o,{math:"K_k"})," as a minor."]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:[n.jsx(o,{math:"k = 1, 2, 3"}),": Easy"]}),n.jsxs("li",{children:[n.jsx(o,{math:"k = 4"}),": Equivalent to planarity characterization"]}),n.jsxs("li",{children:[n.jsx(o,{math:"k = 5, 6"}),": Equivalent to the Four Color Theorem"]}),n.jsxs("li",{children:[n.jsx(o,{math:"k \\geq 7"}),": Open (major unsolved problem)"]})]})]}),n.jsx("h2",{children:"Chromatic Number vs. Density"}),n.jsx(ce,{title:"Density",children:n.jsxs("p",{children:["The ",n.jsx("strong",{children:"density"})," of graph ",n.jsx(o,{math:"G"})," is"," ",n.jsx(o,{math:"\\frac{e(G)}{\\binom{n}{2}}"}),", the fraction of possible edges present."]})}),n.jsxs(J,{title:"Dense Graphs Have Large Chromatic Number",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," has density greater than"," ",n.jsx(o,{math:"1 - \\frac{1}{r}"}),", then"," ",n.jsx(o,{math:"\\chi(G) > r"}),"."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:n.jsxs("p",{children:["By Turn, a graph with density greater than"," ",n.jsx(o,{math:"1 - 1/r"})," must contain"," ",n.jsx(o,{math:"K_{r+1}"}),", so"," ",n.jsx(o,{math:"\\chi(G) \\geq r + 1"}),"."]})})]})]}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Turn's Theorem:"})," Maximum"," ",n.jsx(o,{math:"K_{r+1}"}),"-free graph is the balanced complete"," ",n.jsx(o,{math:"r"}),"-partite graph."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Extremal Number:"})," ",n.jsx(o,{math:"ex(n, H)"})," = max edges avoiding ",n.jsx(o,{math:"H"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Color-Critical:"})," Graphs where every proper subgraph has smaller chromatic number."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Critical Properties:"})," ",n.jsx(o,{math:"\\delta(G) \\geq k - 1"})," and"," ",n.jsx(o,{math:"(k-1)"}),"-edge-connected."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"High Chromatic  Dense:"})," Large chromatic number forces many edges or specific structures."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Hadwiger's Conjecture:"})," Major open problem linking chromatic number to ",n.jsx(o,{math:"K_k"})," minors."]})]})]})}function uee(){return n.jsxs(kt,{sectionId:16,children:[n.jsxs("p",{children:["How many ways can we properly color a graph with ",n.jsx(o,{math:"k"})," colors? The answer is given by the chromatic polynomial, a powerful tool that encodes coloring information. We also study special graph classeschordal graphs and perfect graphswhere chromatic number equals clique number, providing a beautiful connection between local structure and global coloring properties."]}),n.jsx("h2",{children:"Chromatic Polynomials"}),n.jsxs(ce,{title:"Chromatic Polynomial",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"chromatic polynomial"})," ",n.jsx(o,{math:"P(G, k)"})," (or ",n.jsx(o,{math:"\\chi(G, k)"}),") counts the number of proper ",n.jsx(o,{math:"k"}),"-colorings of graph"," ",n.jsx(o,{math:"G"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Remarkably, ",n.jsx(o,{math:"P(G, k)"})," is always a polynomial in"," ",n.jsx(o,{math:"k"}),"."]})]}),n.jsx(we,{title:"Basic Chromatic Polynomials",children:n.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[n.jsxs("li",{children:[n.jsxs("strong",{children:["Empty graph ",n.jsx(o,{math:"E_n"}),":"]})," ",n.jsx(o,{math:"P(E_n, k) = k^n"})," (each vertex can be any color)"]}),n.jsxs("li",{children:[n.jsxs("strong",{children:["Complete graph ",n.jsx(o,{math:"K_n"}),":"]})," ",n.jsx(o,{math:"P(K_n, k) = k(k-1)(k-2)\\cdots(k-n+1) = k^{\\underline{n}}"})]}),n.jsxs("li",{children:[n.jsxs("strong",{children:["Tree ",n.jsx(o,{math:"T_n"}),":"]})," ",n.jsx(o,{math:"P(T_n, k) = k(k-1)^{n-1}"})," (root has"," ",n.jsx(o,{math:"k"})," choices, each other vertex has"," ",n.jsx(o,{math:"k - 1"}),")"]}),n.jsxs("li",{children:[n.jsxs("strong",{children:["Cycle ",n.jsx(o,{math:"C_n"}),":"]})," ",n.jsx(o,{math:"P(C_n, k) = (k-1)^n + (-1)^n(k-1)"})]})]})}),n.jsxs(J,{title:"Deletion-Contraction (Theorem 5.3.1)",children:[n.jsxs("p",{children:["For any edge ",n.jsx(o,{math:"e = uv"})," of graph ",n.jsx(o,{math:"G"}),":"]}),n.jsx(ze,{math:"P(G, k) = P(G - e, k) - P(G / e, k)"}),n.jsxs("p",{className:"mt-2",children:["where ",n.jsx(o,{math:"G - e"})," is edge deletion and"," ",n.jsx(o,{math:"G / e"})," is edge contraction."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:[n.jsx(o,{math:"P(G - e, k)"})," counts colorings where"," ",n.jsx(o,{math:"u, v"})," may have the same or different colors."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx(o,{math:"P(G / e, k)"})," counts colorings of"," ",n.jsx(o,{math:"G - e"})," where ",n.jsx(o,{math:"u, v"})," have the same color (they become one vertex after contraction)."]}),n.jsxs("p",{className:"mt-2",children:["Subtracting gives colorings of ",n.jsx(o,{math:"G - e"})," where"," ",n.jsx(o,{math:"u, v"})," have different colors = proper colorings of"," ",n.jsx(o,{math:"G"}),"."]})]})]})]}),n.jsxs(we,{title:"Computing P(C, k)",children:[n.jsx("p",{children:"Label vertices 1, 2, 3, 4 in order around the cycle."}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Method 1:"})," Apply deletion-contraction on edge 1-4:"]}),n.jsx(ze,{math:"P(C_4, k) = P(P_4, k) - P(C_3, k)"}),n.jsx("p",{children:n.jsx(o,{math:"= k(k-1)^3 - k(k-1)(k-2)"})}),n.jsx("p",{children:n.jsx(o,{math:"= k(k-1)[(k-1)^2 - (k-2)]"})}),n.jsx("p",{children:n.jsx(o,{math:"= k(k-1)(k^2 - 3k + 3)"})}),n.jsxs("p",{className:"mt-2",children:["For ",n.jsx(o,{math:"k = 3"}),": ",n.jsx(o,{math:"P(C_4, 3) = 18"})," ","proper 3-colorings."]})]}),n.jsxs(J,{title:"Properties of Chromatic Polynomials (Theorem 5.3.5)",children:[n.jsxs("p",{children:["For a connected graph ",n.jsx(o,{math:"G"})," with ",n.jsx(o,{math:"n"})," ","vertices and ",n.jsx(o,{math:"m"})," edges:"]}),n.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx(o,{math:"P(G, k)"})," is a monic polynomial of degree"," ",n.jsx(o,{math:"n"}),"."]}),n.jsxs("li",{children:["The coefficient of ",n.jsx(o,{math:"k^{n-1}"})," is"," ",n.jsx(o,{math:"-m"}),"."]}),n.jsx("li",{children:"All coefficients are integers with alternating signs."}),n.jsx("li",{children:"The constant term is 0 (no proper 0-colorings)."}),n.jsxs("li",{children:[n.jsx(o,{math:"\\chi(G)"})," is the smallest positive integer"," ",n.jsx(o,{math:"k"})," with ",n.jsx(o,{math:"P(G, k) > 0"}),"."]})]})]}),n.jsx("h2",{children:"Chordal Graphs"}),n.jsx(ce,{title:"Chordal Graph",children:n.jsxs("p",{children:["A graph is ",n.jsx("strong",{children:"chordal"})," (or ",n.jsx("strong",{children:"triangulated"}),") if every cycle of length at least 4 has a ",n.jsx("strong",{children:"chord"}),": an edge joining two non-consecutive vertices on the cycle."]})}),n.jsxs(we,{title:"Chordal and Non-Chordal Graphs",children:[n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Chordal:"})," Trees, complete graphs, interval graphs, split graphs"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Not chordal:"})," ",n.jsx(o,{math:"C_n"})," for"," ",n.jsx(o,{math:"n \\geq 4"}),", grid graphs, Petersen graph"]})]}),n.jsxs("p",{className:"mt-2",children:["The cycle ",n.jsx(o,{math:"C_4"})," is the smallest non-chordal graph."]})]}),n.jsx(ce,{title:"Simplicial Vertex",children:n.jsxs("p",{children:["A vertex ",n.jsx(o,{math:"v"})," is ",n.jsx("strong",{children:"simplicial"})," if its neighborhood ",n.jsx(o,{math:"N(v)"})," induces a clique."]})}),n.jsx(ce,{title:"Perfect Elimination Order",children:n.jsxs("p",{children:["A ",n.jsx("strong",{children:"perfect elimination order"})," (PEO) is an ordering"," ",n.jsx(o,{math:"v_1, v_2, \\ldots, v_n"})," such that for each"," ",n.jsx(o,{math:"i"}),", vertex ",n.jsx(o,{math:"v_i"})," is simplicial in the induced subgraph ",n.jsx(o,{math:"G[\\{v_i, v_{i+1}, \\ldots, v_n\\}]"}),"."]})}),n.jsxs(J,{title:"Chordal Characterization (Theorem 5.3.15)",children:[n.jsxs("p",{children:["A graph ",n.jsx(o,{math:"G"})," is chordal if and only if"," ",n.jsx(o,{math:"G"})," has a perfect elimination order."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"()"})," Every chordal graph has a simplicial vertex. Remove it and repeat inductively."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"()"})," If there's a chordless cycle, follow it through the ordering to find a contradiction with the PEO property."]})]})]})]}),n.jsxs(J,{title:"Theorem 5.3.16 (Greedy Coloring of Chordal Graphs)",children:[n.jsxs("p",{children:["For a chordal graph ",n.jsx(o,{math:"G"}),", greedy coloring using the reverse of any PEO is optimal:"]}),n.jsx(ze,{math:"\\chi(G) = \\omega(G)"})]}),n.jsxs(we,{title:"Coloring a Chordal Graph",children:[n.jsxs("p",{children:["Consider a graph with vertices"," ",n.jsx(o,{math:"\\{a, b, c, d\\}"})," and edges forming a triangle"," ",n.jsx(o,{math:"abc"})," plus edge ",n.jsx(o,{math:"cd"}),"."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"PEO:"})," ",n.jsx(o,{math:"d, a, b, c"})," (each simplicial when removed)."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Reverse order:"})," ",n.jsx(o,{math:"c, b, a, d"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Greedy coloring: ",n.jsx(o,{math:"c \\to 1"}),","," ",n.jsx(o,{math:"b \\to 2"}),", ",n.jsx(o,{math:"a \\to 3"}),","," ",n.jsx(o,{math:"d \\to 2"}),". Uses 3 colors = clique number (the triangle)."]})]}),n.jsx("h2",{children:"Perfect Graphs"}),n.jsxs(ce,{title:"Perfect Graph",children:[n.jsxs("p",{children:["A graph ",n.jsx(o,{math:"G"})," is ",n.jsx("strong",{children:"perfect"})," if for every induced subgraph ",n.jsx(o,{math:"H"})," of ",n.jsx(o,{math:"G"}),":"]}),n.jsx(ze,{math:"\\chi(H) = \\omega(H)"}),n.jsx("p",{className:"mt-2",children:"That is, the chromatic number equals the clique number for every induced subgraph."})]}),n.jsx(we,{title:"Perfect and Imperfect Graphs",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Perfect:"})," Bipartite graphs, chordal graphs, interval graphs, comparability graphs, co-comparability graphs"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Not perfect:"})," ",n.jsx(o,{math:"C_5"})," (has"," ",n.jsx(o,{math:"\\omega = 2"})," but ",n.jsx(o,{math:"\\chi = 3"}),")"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Not perfect:"})," ",n.jsx(o,{math:"C_7"})," (has"," ",n.jsx(o,{math:"\\omega = 2"})," but ",n.jsx(o,{math:"\\chi = 3"}),")"]})]})}),n.jsx(J,{title:"Perfect Graph Theorem (Lovsz, 1972)",children:n.jsxs("p",{children:["A graph ",n.jsx(o,{math:"G"})," is perfect if and only if its complement"," ",n.jsx(o,{math:"\\overline{G}"})," is perfect."]})}),n.jsxs(J,{title:"Strong Perfect Graph Theorem (Chudnovsky et al., 2006)",children:[n.jsxs("p",{children:["A graph ",n.jsx(o,{math:"G"})," is perfect if and only if neither"," ",n.jsx(o,{math:"G"})," nor ",n.jsx(o,{math:"\\overline{G}"})," contains an induced odd cycle of length at least 5."]}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["The forbidden induced subgraphs are ",n.jsx(o,{math:"C_{2k+1}"})," and"," ",n.jsx(o,{math:"\\overline{C_{2k+1}}"})," for ",n.jsx(o,{math:"k \\geq 2"}),". This was conjectured by Berge in 1961 and proved in 2002 (published 2006)."]})]}),n.jsxs(ce,{title:"Odd Hole and Odd Antihole",children:[n.jsxs("p",{children:["An ",n.jsx("strong",{children:"odd hole"})," is an induced cycle"," ",n.jsx(o,{math:"C_{2k+1}"})," for ",n.jsx(o,{math:"k \\geq 2"}),"."]}),n.jsxs("p",{className:"mt-2",children:["An ",n.jsx("strong",{children:"odd antihole"})," is the complement of an odd hole:"," ",n.jsx(o,{math:"\\overline{C_{2k+1}}"})," for ",n.jsx(o,{math:"k \\geq 2"}),"."]})]}),n.jsxs(we,{title:"Why C and C Are Imperfect",children:[n.jsxs("p",{children:[n.jsxs("strong",{children:[n.jsx(o,{math:"C_5"}),":"]})," ",n.jsx(o,{math:"\\omega(C_5) = 2"})," (no triangle),"," ",n.jsx(o,{math:"\\chi(C_5) = 3"})," (odd cycle)."]}),n.jsxs("p",{className:"mt-2",children:[n.jsxs("strong",{children:[n.jsx(o,{math:"\\overline{C_5}"}),":"]})," ","This is also ",n.jsx(o,{math:"C_5"})," (self-complementary)!"]}),n.jsxs("p",{className:"mt-2",children:["For ",n.jsx(o,{math:"C_7"}),": ",n.jsx(o,{math:"\\omega = 2"}),","," ",n.jsx(o,{math:"\\chi = 3"}),". For ",n.jsx(o,{math:"\\overline{C_7}"}),":"," ",n.jsx(o,{math:"\\omega = 3"}),", ",n.jsx(o,{math:"\\chi = 4"}),"."]})]}),n.jsx("h2",{children:"Applications"}),n.jsx("h3",{children:"Clique Cover Number"}),n.jsx(ce,{title:"Clique Cover",children:n.jsxs("p",{children:["A ",n.jsx("strong",{children:"clique cover"})," of graph ",n.jsx(o,{math:"G"})," is a partition of ",n.jsx(o,{math:"V(G)"})," into cliques. The"," ",n.jsx("strong",{children:"clique cover number"})," ",n.jsx(o,{math:"\\theta(G)"})," is the minimum number of cliques needed."]})}),n.jsxs(J,{title:"Clique Cover and Chromatic Number",children:[n.jsxs("p",{children:[n.jsx(o,{math:"\\theta(G) = \\chi(\\overline{G})"})," and"," ",n.jsx(o,{math:"\\omega(G) = \\alpha(\\overline{G})"}),"."]}),n.jsxs("p",{className:"mt-2",children:["For perfect graphs:"," ",n.jsx(o,{math:"\\theta(G) = \\alpha(G)"})," (since"," ",n.jsx(o,{math:"\\chi(\\overline{G}) = \\omega(\\overline{G}) = \\alpha(G)"}),")."]})]}),n.jsx("h3",{children:"Shannon Capacity"}),n.jsxs(ce,{title:"Shannon Capacity",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"Shannon capacity"})," of graph ",n.jsx(o,{math:"G"})," is:"]}),n.jsx(ze,{math:"\\Theta(G) = \\sup_k \\sqrt[k]{\\alpha(G^k)}"}),n.jsxs("p",{className:"mt-2",children:["where ",n.jsx(o,{math:"G^k"})," is the ",n.jsx(o,{math:"k"}),"-th power under the strong graph product."]}),n.jsx("p",{className:"mt-2",children:"This measures the zero-error capacity of a communication channel."})]}),n.jsxs(J,{title:"Shannon Capacity Bounds",children:[n.jsx("p",{children:n.jsx(o,{math:"\\alpha(G) \\leq \\Theta(G) \\leq \\chi(\\overline{G})"})}),n.jsxs("p",{className:"mt-2",children:["For perfect graphs: ",n.jsx(o,{math:"\\Theta(G) = \\alpha(G)"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Lovsz (1979) proved ",n.jsx(o,{math:"\\Theta(C_5) = \\sqrt{5}"}),' using the "Lovsz theta function."']})]}),n.jsx("h2",{children:"Recognizing Perfect Graphs"}),n.jsxs(J,{title:"Polynomial Recognition",children:[n.jsx("p",{children:"Perfect graphs can be recognized in polynomial time (Chudnovsky et al., 2005)."}),n.jsx("p",{className:"mt-2",children:"The algorithm checks for odd holes and odd antiholes, both of which can be detected in polynomial time."})]}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Chromatic Polynomial:"})," ",n.jsx(o,{math:"P(G, k)"})," counts proper ",n.jsx(o,{math:"k"}),"-colorings. Computed via deletion-contraction."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Chordal Graphs:"})," No induced cycles 4. Have perfect elimination orders. ",n.jsx(o,{math:"\\chi = \\omega"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Perfect Graphs:"})," ",n.jsx(o,{math:"\\chi(H) = \\omega(H)"})," ","for all induced subgraphs ",n.jsx(o,{math:"H"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Perfect Graph Theorem:"})," ",n.jsx(o,{math:"G"})," perfect iff"," ",n.jsx(o,{math:"\\overline{G}"})," perfect."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Strong Perfect Graph Theorem:"})," Perfect iff no induced"," ",n.jsx(o,{math:"C_{2k+1}"})," or ",n.jsx(o,{math:"\\overline{C_{2k+1}}"})," ","for ",n.jsx(o,{math:"k \\geq 2"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Examples:"})," Bipartite, chordal, interval, comparability graphs are all perfect."]})]})]})}function dee(){return n.jsxs(kt,{sectionId:17,children:[n.jsx("p",{children:"Can a graph be drawn in the plane without edge crossings? This question about planar graphs connects graph theory to topology and has practical applications in circuit design and geographic mapping. Euler's formula relates the number of vertices, edges, and faces in any planar drawing, providing a powerful tool for proving impossibility results."}),n.jsx("h2",{children:"Planar Graphs and Embeddings"}),n.jsxs(ce,{title:"Planar Graph",children:[n.jsxs("p",{children:["A graph ",n.jsx(o,{math:"G"})," is ",n.jsx("strong",{children:"planar"})," if it can be drawn in the plane ",n.jsx(o,{math:"\\mathbb{R}^2"})," such that:"]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsx("li",{children:"Vertices are distinct points"}),n.jsx("li",{children:"Edges are curves connecting their endpoints"}),n.jsx("li",{children:"Edges do not cross (except at shared endpoints)"})]}),n.jsxs("p",{className:"mt-2",children:["Such a drawing is called a ",n.jsx("strong",{children:"planar embedding"})," or"," ",n.jsx("strong",{children:"plane graph"}),"."]})]}),n.jsxs(we,{title:"Planar and Non-Planar Graphs",children:[n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Planar:"})," ",n.jsx(o,{math:"K_4"}),", all trees, all cycles,"," ",n.jsx(o,{math:"K_{2,n}"})," for any ",n.jsx(o,{math:"n"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Non-planar:"})," ",n.jsx(o,{math:"K_5"}),","," ",n.jsx(o,{math:"K_{3,3}"}),", Petersen graph"]})]}),n.jsx("p",{className:"mt-2",children:"A planar graph may have many different planar embeddings."})]}),n.jsxs(ce,{title:"Faces",children:[n.jsxs("p",{children:["In a plane graph, the ",n.jsx("strong",{children:"faces"})," are the maximal connected regions of ",n.jsx(o,{math:"\\mathbb{R}^2 - G"})," (the plane minus the drawing)."]}),n.jsxs("p",{className:"mt-2",children:["Every plane graph has exactly one unbounded face called the"," ",n.jsx("strong",{children:"outer face"})," or ",n.jsx("strong",{children:"infinite face"}),"."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"boundary"})," of a face is the set of edges (and vertices) adjacent to it. A face is ",n.jsx("strong",{children:"incident"})," to the edges and vertices on its boundary."]})]}),n.jsxs(we,{title:"Faces of K",children:[n.jsxs("p",{children:["Draw ",n.jsx(o,{math:"K_4"})," as a triangle with one vertex inside."]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsx("li",{children:"4 faces: 3 small triangles + 1 outer face"}),n.jsx("li",{children:"Each triangular face is bounded by 3 edges"}),n.jsx("li",{children:"The outer face is bounded by the outer triangle"})]})]}),n.jsx(VJ,{className:"my-8"}),n.jsx("h2",{children:"Euler's Formula"}),n.jsxs(J,{title:"Euler's Formula (Theorem 6.1.21)",children:[n.jsxs("p",{children:["For a connected plane graph ",n.jsx(o,{math:"G"})," with ",n.jsx(o,{math:"n"})," ","vertices, ",n.jsx(o,{math:"m"})," edges, and ",n.jsx(o,{math:"f"})," faces:"]}),n.jsx(ze,{math:"n - m + f = 2"}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Base case:"})," A tree has ",n.jsx(o,{math:"n"})," vertices,"," ",n.jsx(o,{math:"n - 1"})," edges, and 1 face."," ",n.jsx(o,{math:"n - (n-1) + 1 = 2"}),". "]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Inductive step:"})," If ",n.jsx(o,{math:"G"})," is not a tree, it has a cycle. Let ",n.jsx(o,{math:"e"})," be an edge on a cycle. Removing"," ",n.jsx(o,{math:"e"})," merges two faces into one."]}),n.jsxs("p",{className:"mt-2",children:["By induction on ",n.jsx(o,{math:"G - e"}),":"," ",n.jsx(o,{math:"n - (m-1) + (f-1) = 2"}),"."]}),n.jsxs("p",{className:"mt-2",children:["For ",n.jsx(o,{math:"G"}),":"," ",n.jsx(o,{math:"n - m + f = n - (m-1) - 1 + (f-1) + 1 = 2"}),". "]})]})]})]}),n.jsx(we,{title:"Verifying Euler's Formula",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx(o,{math:"K_4"}),": ",n.jsx(o,{math:"n = 4"}),","," ",n.jsx(o,{math:"m = 6"}),", ",n.jsx(o,{math:"f = 4"}),"."," ",n.jsx(o,{math:"4 - 6 + 4 = 2"})," "]}),n.jsxs("li",{children:[n.jsx(o,{math:"C_n"}),": ",n.jsx(o,{math:"n"})," vertices,"," ",n.jsx(o,{math:"n"})," edges, 2 faces."," ",n.jsx(o,{math:"n - n + 2 = 2"})," "]}),n.jsxs("li",{children:["Cube graph: ",n.jsx(o,{math:"n = 8"}),", ",n.jsx(o,{math:"m = 12"}),","," ",n.jsx(o,{math:"f = 6"}),". ",n.jsx(o,{math:"8 - 12 + 6 = 2"})," "]})]})}),n.jsxs(J,{title:"Corollary 6.1.22 (Edge Bound for Planar Graphs)",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," is a simple planar graph with"," ",n.jsx(o,{math:"n \\geq 3"})," vertices:"]}),n.jsx(ze,{math:"m \\leq 3n - 6"}),n.jsxs("p",{className:"mt-2",children:["Equality holds if and only if every face is a triangle (a"," ",n.jsx("strong",{children:"maximal planar graph"})," or ",n.jsx("strong",{children:"triangulation"}),")."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsx("p",{children:"Each face is bounded by at least 3 edges. Counting edge-face incidences:"}),n.jsx(ze,{math:"\\sum_{\\text{faces}} (\\text{boundary length}) \\geq 3f"}),n.jsxs("p",{className:"mt-2",children:["Each edge borders at most 2 faces, so the sum is at most"," ",n.jsx(o,{math:"2m"}),". Thus ",n.jsx(o,{math:"2m \\geq 3f"}),", giving"," ",n.jsx(o,{math:"f \\leq 2m/3"}),"."]}),n.jsxs("p",{className:"mt-2",children:["By Euler: ",n.jsx(o,{math:"2 = n - m + f \\leq n - m + 2m/3 = n - m/3"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Therefore ",n.jsx(o,{math:"m \\leq 3n - 6"}),"."]})]})]})]}),n.jsxs(J,{title:"K is Non-Planar (Corollary 6.1.23)",children:[n.jsxs("p",{children:[n.jsx(o,{math:"K_5"})," is not planar."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:[n.jsx(o,{math:"K_5"})," has ",n.jsx(o,{math:"n = 5"})," vertices and"," ",n.jsx(o,{math:"m = 10"})," edges."]}),n.jsxs("p",{className:"mt-2",children:["But ",n.jsx(o,{math:"3n - 6 = 3(5) - 6 = 9 < 10 = m"}),"."]}),n.jsxs("p",{className:"mt-2",children:["So ",n.jsx(o,{math:"K_5"})," violates the edge bound and cannot be planar."]})]})]})]}),n.jsxs(J,{title:"Corollary 6.1.24 (Triangle-Free Bound)",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," is a simple, triangle-free, planar graph with"," ",n.jsx(o,{math:"n \\geq 3"}),":"]}),n.jsx(ze,{math:"m \\leq 2n - 4"}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["With no triangles, each face is bounded by at least 4 edges. The same counting argument gives ",n.jsx(o,{math:"2m \\geq 4f"}),", so"," ",n.jsx(o,{math:"f \\leq m/2"}),"."]}),n.jsxs("p",{className:"mt-2",children:["By Euler: ",n.jsx(o,{math:"2 = n - m + f \\leq n - m + m/2 = n - m/2"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Therefore ",n.jsx(o,{math:"m \\leq 2n - 4"}),"."]})]})]})]}),n.jsxs(J,{title:"K, is Non-Planar (Corollary 6.1.25)",children:[n.jsxs("p",{children:[n.jsx(o,{math:"K_{3,3}"})," is not planar."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:[n.jsx(o,{math:"K_{3,3}"})," is bipartite, hence triangle-free. It has"," ",n.jsx(o,{math:"n = 6"})," and ",n.jsx(o,{math:"m = 9"}),"."]}),n.jsxs("p",{className:"mt-2",children:["But ",n.jsx(o,{math:"2n - 4 = 2(6) - 4 = 8 < 9 = m"}),"."]})]})]})]}),n.jsx("h2",{children:"The Dual Graph"}),n.jsxs(ce,{title:"Dual Graph",children:[n.jsxs("p",{children:["Given a plane graph ",n.jsx(o,{math:"G"}),", its ",n.jsx("strong",{children:"dual"})," ",n.jsx(o,{math:"G^*"})," is constructed by:"]}),n.jsxs("ol",{className:"mt-2 list-decimal list-inside",children:[n.jsxs("li",{children:["Place one vertex of ",n.jsx(o,{math:"G^*"})," in each face of ",n.jsx(o,{math:"G"})]}),n.jsxs("li",{children:["For each edge ",n.jsx(o,{math:"e"})," of ",n.jsx(o,{math:"G"}),", draw an edge of ",n.jsx(o,{math:"G^*"})," crossing ",n.jsx(o,{math:"e"})," and connecting the vertices in the two faces incident to ",n.jsx(o,{math:"e"})]})]})]}),n.jsx(we,{title:"Duals of Simple Graphs",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:["The dual of ",n.jsx(o,{math:"C_n"})," is ",n.jsx(o,{math:"C_n"})," ","(self-dual in a specific embedding)"]}),n.jsx("li",{children:"The dual of a tree is a single vertex (1 face)"}),n.jsxs("li",{children:["The dual of the tetrahedron graph (",n.jsx(o,{math:"K_4"}),") is"," ",n.jsx(o,{math:"K_4"})]}),n.jsx("li",{children:"The dual of the cube graph is the octahedron graph"})]})}),n.jsx(J,{title:"Properties of Duals (Theorem 6.1.15)",children:n.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx(o,{math:"(G^*)^* = G"})," (for connected ",n.jsx(o,{math:"G"}),")"]}),n.jsxs("li",{children:[n.jsx(o,{math:"G^*"})," is connected iff ",n.jsx(o,{math:"G"})," is connected"]}),n.jsxs("li",{children:[n.jsx(o,{math:"|V(G^*)| = f(G)"}),","," ",n.jsx(o,{math:"|E(G^*)| = |E(G)|"}),","," ",n.jsx(o,{math:"f(G^*) = |V(G)|"})]}),n.jsxs("li",{children:["Cycles in ",n.jsx(o,{math:"G"})," correspond to edge cuts (bonds) in"," ",n.jsx(o,{math:"G^*"})]})]})}),n.jsx("h2",{children:"Platonic Solids"}),n.jsx(ce,{title:"Platonic Solid",children:n.jsxs("p",{children:["A ",n.jsx("strong",{children:"Platonic solid"})," is a convex polyhedron where every face is the same regular polygon and the same number of faces meet at each vertex."]})}),n.jsxs(J,{title:"Only Five Platonic Solids (Theorem 6.1.28)",children:[n.jsx("p",{children:"There are exactly five Platonic solids:"}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Tetrahedron:"})," 4 triangular faces, 4 vertices, 6 edges"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Cube:"})," 6 square faces, 8 vertices, 12 edges"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Octahedron:"})," 8 triangular faces, 6 vertices, 12 edges"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Dodecahedron:"})," 12 pentagonal faces, 20 vertices, 30 edges"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Icosahedron:"})," 20 triangular faces, 12 vertices, 30 edges"]})]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["Let each face be a regular ",n.jsx(o,{math:"p"}),"-gon and let"," ",n.jsx(o,{math:"q"})," faces meet at each vertex. Then"," ",n.jsx(o,{math:"p, q \\geq 3"}),"."]}),n.jsxs("p",{className:"mt-2",children:["By Euler and counting: ",n.jsx(o,{math:"\\frac{1}{p} + \\frac{1}{q} > \\frac{1}{2}"}),"."]}),n.jsxs("p",{className:"mt-2",children:["The only solutions with ",n.jsx(o,{math:"p, q \\geq 3"})," are:"," ",n.jsx(o,{math:"(3,3), (3,4), (4,3), (3,5), (5,3)"}),"."]})]})]})]}),n.jsx("h2",{children:"Outerplanar Graphs"}),n.jsx(ce,{title:"Outerplanar Graph",children:n.jsxs("p",{children:["A graph is ",n.jsx("strong",{children:"outerplanar"})," if it has a planar embedding where all vertices lie on the outer face."]})}),n.jsxs(J,{title:"Outerplanar Characterization (Theorem 6.1.31)",children:[n.jsxs("p",{children:["A graph is outerplanar if and only if it has no ",n.jsx(o,{math:"K_4"})," or"," ",n.jsx(o,{math:"K_{2,3}"})," minor."]}),n.jsx("p",{className:"mt-2",children:"Equivalently: outerplanar graphs are exactly the graphs embeddable on the plane with all vertices on a single face."})]}),n.jsxs(J,{title:"Theorem 6.1.30 (Outerplanar Edge Bound)",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," is a simple outerplanar graph with"," ",n.jsx(o,{math:"n \\geq 2"})," vertices:"]}),n.jsx(ze,{math:"m \\leq 2n - 3"})]}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Planar:"})," Can be drawn without edge crossings."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Euler's Formula:"})," ",n.jsx(o,{math:"n - m + f = 2"})," for connected plane graphs."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Edge Bounds:"})," ",n.jsx(o,{math:"m \\leq 3n - 6"})," for planar;"," ",n.jsx(o,{math:"m \\leq 2n - 4"})," if triangle-free."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Non-Planar:"})," ",n.jsx(o,{math:"K_5"})," and"," ",n.jsx(o,{math:"K_{3,3}"})," are the key non-planar graphs."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Dual Graph:"})," Vertices  faces; cycles  cuts."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Platonic Solids:"})," Only 5 exist, proved using Euler's formula."]})]})]})}function mee(){return n.jsxs(kt,{sectionId:18,children:[n.jsxs("p",{children:["When is a graph planar? We've seen that ",n.jsx(o,{math:"K_5"})," and"," ",n.jsx(o,{math:"K_{3,3}"}),` are non-planar. Kuratowski's remarkable theorem states that these are the only "essential" obstructionsa graph is planar if and only if it contains no subdivision of `,n.jsx(o,{math:"K_5"})," or"," ",n.jsx(o,{math:"K_{3,3}"}),". We also study efficient algorithms for testing planarity."]}),n.jsx("h2",{children:"Subdivisions and Minors"}),n.jsxs(ce,{title:"Subdivision",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"subdivision"})," of graph ",n.jsx(o,{math:"H"})," is a graph obtained by replacing each edge of ",n.jsx(o,{math:"H"})," with a path of length at least 1."]}),n.jsxs("p",{className:"mt-2",children:["The vertices of ",n.jsx(o,{math:"H"})," are called"," ",n.jsx("strong",{children:"branch vertices"}),"; the new vertices on the paths are"," ",n.jsx("strong",{children:"subdivision vertices"}),"."]}),n.jsxs("p",{className:"mt-2",children:["We write ",n.jsx(o,{math:"TH"})," for a subdivision of ",n.jsx(o,{math:"H"})," ",'(T for "topological").']})]}),n.jsxs(we,{title:"Subdivisions of K",children:[n.jsxs("p",{children:[n.jsx(o,{math:"K_4"})," has 4 vertices and 6 edges. A subdivision of"," ",n.jsx(o,{math:"K_4"})," might replace each edge with a path of length 2, giving a graph with ",n.jsx(o,{math:"4 + 6 = 10"})," vertices and 12 edges."]}),n.jsxs("p",{className:"mt-2",children:["Any graph containing ",n.jsx(o,{math:"TK_4"}),' as a subgraph is "at least as complicated" as ',n.jsx(o,{math:"K_4"}),"."]})]}),n.jsxs(ce,{title:"Minor",children:[n.jsxs("p",{children:["Graph ",n.jsx(o,{math:"H"})," is a ",n.jsx("strong",{children:"minor"})," of"," ",n.jsx(o,{math:"G"})," (written ",n.jsx(o,{math:"H \\preceq G"}),") if"," ",n.jsx(o,{math:"H"})," can be obtained from a subgraph of"," ",n.jsx(o,{math:"G"})," by contracting edges."]}),n.jsxs("p",{className:"mt-2",children:["Equivalently: we can assign each vertex of ",n.jsx(o,{math:"H"})," to a connected subgraph of ",n.jsx(o,{math:"G"})," (called a"," ",n.jsx("strong",{children:"branch set"}),"), with branch sets pairwise disjoint, such that for each edge of ",n.jsx(o,{math:"H"}),", there's an edge of"," ",n.jsx(o,{math:"G"})," between the corresponding branch sets."]})]}),n.jsxs(J,{title:"Lemma 6.2.2 (Subdivision implies Minor)",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," contains a subdivision of ",n.jsx(o,{math:"H"}),", then ",n.jsx(o,{math:"H"})," is a minor of ",n.jsx(o,{math:"G"}),"."]}),n.jsx("p",{className:"mt-2 text-dark-300",children:"The converse is false for graphs with vertices of high degree."})]}),n.jsx("h2",{children:"Kuratowski's Theorem"}),n.jsxs(J,{title:"Kuratowski's Theorem (Theorem 6.2.3)",children:[n.jsxs("p",{children:["A graph ",n.jsx(o,{math:"G"})," is planar if and only if"," ",n.jsx(o,{math:"G"})," contains no subdivision of ",n.jsx(o,{math:"K_5"})," ","or ",n.jsx(o,{math:"K_{3,3}"}),"."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch (Necessity)"}),n.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:n.jsxs("p",{children:[n.jsx("strong",{children:"Necessity:"})," Subdivisions preserve non-planarity. Since"," ",n.jsx(o,{math:"K_5"})," and ",n.jsx(o,{math:"K_{3,3}"})," are non-planar, so is any graph containing their subdivisions."]})})]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch (Sufficiency)"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Sufficiency:"})," Prove by induction on"," ",n.jsx(o,{math:"n + m"}),". Consider a non-planar graph"," ",n.jsx(o,{math:"G"})," with no ",n.jsx(o,{math:"TK_5"})," or"," ",n.jsx(o,{math:"TK_{3,3}"}),"."]}),n.jsxs("p",{className:"mt-2",children:["If ",n.jsx(o,{math:"G"})," has a cut vertex or is 1-edge-connected, reduce to smaller pieces. For 2-connected ",n.jsx(o,{math:"G"}),", analyze Tutte's wheel theorem and structure of 3-connected graphs to show"," ",n.jsx(o,{math:"TK_5"})," or ",n.jsx(o,{math:"TK_{3,3}"})," must exist."]})]})]})]}),n.jsx(ce,{title:"Kuratowski Subgraph",children:n.jsxs("p",{children:["A ",n.jsx("strong",{children:"Kuratowski subgraph"})," of ",n.jsx(o,{math:"G"})," is a subgraph that is a subdivision of ",n.jsx(o,{math:"K_5"})," or"," ",n.jsx(o,{math:"K_{3,3}"}),"."]})}),n.jsxs(we,{title:"Finding a Kuratowski Subgraph",children:[n.jsxs("p",{children:["The Petersen graph is non-planar. It contains ",n.jsx(o,{math:"TK_{3,3}"}),":"]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsx("li",{children:"One partite set: vertices 0, 1, 2 (outer pentagon vertices at positions 0, 144, 288)"}),n.jsx("li",{children:"Other partite set: vertices 5, 6, 7 (inner star vertices opposite to 0, 1, 2)"}),n.jsx("li",{children:"Paths of length 2 connect these via the other vertices"})]})]}),n.jsx("h2",{children:"Wagner's Theorem (Minor Version)"}),n.jsx(J,{title:"Wagner's Theorem (Theorem 6.2.5)",children:n.jsxs("p",{children:["A graph ",n.jsx(o,{math:"G"})," is planar if and only if"," ",n.jsx(o,{math:"G"})," has neither ",n.jsx(o,{math:"K_5"})," nor"," ",n.jsx(o,{math:"K_{3,3}"})," as a minor."]})}),n.jsx("p",{children:"Wagner's formulation using minors is often more convenient because minors are closed under edge contraction, which subdivisions are not."}),n.jsxs(we,{title:"K vs K Minor",children:[n.jsxs("p",{children:["Adding a degree-2 vertex to ",n.jsx(o,{math:"K_5"})," gives"," ",n.jsx(o,{math:"TK_5"}),". This graph has ",n.jsx(o,{math:"K_5"})," as a minor (contract the added vertex) but is not isomorphic to"," ",n.jsx(o,{math:"K_5"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Wagner's theorem says: contract edges to find ",n.jsx(o,{math:"K_5"})," or"," ",n.jsx(o,{math:"K_{3,3}"})," as a minor."]})]}),n.jsx("h2",{children:"Testing Planarity"}),n.jsx("p",{children:"Kuratowski's theorem gives a characterization but doesn't immediately yield an efficient algorithm. Several linear-time planarity testing algorithms exist."}),n.jsxs(J,{title:"Linear-Time Planarity Testing",children:[n.jsxs("p",{children:["Planarity can be tested in ",n.jsx(o,{math:"O(n)"})," time."]}),n.jsx("p",{className:"mt-2",children:"Key algorithms:"}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Hopcroft-Tarjan (1974):"})," Path addition method using DFS"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Lempel-Even-Cederbaum / PQ-trees (1976):"})," Vertex addition with PQ-tree data structure"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Boyer-Myrvold (2004):"})," Simplified edge addition method"]})]})]}),n.jsx("h3",{children:"Planarity Testing Overview"}),n.jsxs(ce,{title:"Path Addition Method",children:[n.jsx("p",{children:"The Hopcroft-Tarjan algorithm builds an embedding incrementally:"}),n.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[n.jsx("li",{children:"Compute a DFS tree and find the fundamental cycles."}),n.jsx("li",{children:"Add paths one at a time, maintaining a planar embedding."}),n.jsx("li",{children:"At each step, determine which side of the current drawing a new path must go."}),n.jsx("li",{children:"If no valid placement exists, the graph is non-planar."})]})]}),n.jsxs(ce,{title:"Vertex Addition Method",children:[n.jsx("p",{children:"Process vertices in order (e.g., by a special numbering):"}),n.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[n.jsx("li",{children:"Maintain a representation of all planar embeddings of the graph seen so far."}),n.jsx("li",{children:"When adding a new vertex, determine if it can be placed consistently."}),n.jsx("li",{children:"Use PQ-trees to efficiently represent and manipulate the valid orderings."})]})]}),n.jsx("h2",{children:"Properties of Planar Graphs"}),n.jsxs(J,{title:"Every Planar Graph has a Small-Degree Vertex",children:[n.jsx("p",{children:"Every simple planar graph has a vertex of degree at most 5."}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["By ",n.jsx(o,{math:"m \\leq 3n - 6"}),":"," ",n.jsx(o,{math:"2m \\leq 6n - 12"}),", so"," ",n.jsx(o,{math:"\\sum d(v) = 2m < 6n"}),"."]}),n.jsxs("p",{className:"mt-2",children:["By averaging, some vertex has degree"," ",n.jsx(o,{math:"< 6"}),", hence ",n.jsx(o,{math:"\\leq 5"}),"."]})]})]})]}),n.jsxs(J,{title:"6-Colorability (Corollary)",children:[n.jsx("p",{children:"Every planar graph is 6-colorable."}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:n.jsxs("p",{children:["Induct on ",n.jsx(o,{math:"n"}),". Remove a vertex ",n.jsx(o,{math:"v"})," ","of degree 5. By induction, ",n.jsx(o,{math:"G - v"})," is 6-colorable. Since ",n.jsx(o,{math:"v"})," has at most 5 neighbors, some color is available for ",n.jsx(o,{math:"v"}),"."]})})]})]}),n.jsx("h2",{children:"Convex Embeddings"}),n.jsx(ce,{title:"Convex Embedding",children:n.jsxs("p",{children:["A ",n.jsx("strong",{children:"convex embedding"})," of a planar graph is a planar drawing where every face (including the outer face) is a convex polygon."]})}),n.jsxs(J,{title:"Tutte's Barycentric Embedding (Theorem 6.2.9)",children:[n.jsx("p",{children:"Every 3-connected planar graph has a convex embedding (with any face chosen as the outer face)."}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Method:"})," Fix the outer face as a convex polygon. Place each interior vertex at the barycenter (average) of its neighbors' positions. The result is a convex embedding."]})]}),n.jsx("h2",{children:"Unique Embeddings"}),n.jsxs(J,{title:"Whitney's Theorem (Theorem 6.2.11)",children:[n.jsx("p",{children:"A 3-connected planar graph has a unique embedding on the sphere (up to homeomorphism)."}),n.jsx("p",{className:"mt-2 text-dark-300",children:'"Unique" means the cyclic orderings of edges around each vertex are the same in any two embeddings (up to global reflection).'})]}),n.jsxs(we,{title:"Non-Unique Embedding",children:[n.jsxs("p",{children:["A cycle ",n.jsx(o,{math:"C_n"})," is only 2-connected. Its faces can be interchanged: what was inside becomes outside. This gives different embeddings in the plane (though the same on the sphere up to reflection)."]}),n.jsx("p",{className:"mt-2",children:"A graph with a cut-vertex has many embeddings: the parts can be rotated independently around the cut-vertex."})]}),n.jsx("h2",{children:"Planarity and Minors"}),n.jsxs(J,{title:"Robertson-Seymour Graph Minor Theorem",children:[n.jsxs("p",{children:["In any infinite sequence of graphs ",n.jsx(o,{math:"G_1, G_2, G_3, \\ldots"}),", some ",n.jsx(o,{math:"G_i"})," is a minor of some ",n.jsx(o,{math:"G_j"})," ","with ",n.jsx(o,{math:"i < j"}),"."]}),n.jsx("p",{className:"mt-2 text-dark-300",children:"This deep theorem implies that any minor-closed class of graphs (like planar graphs) can be characterized by a finite set of forbidden minors."})]}),n.jsxs("p",{children:["Wagner's theorem states that planar graphs are exactly those with no"," ",n.jsx(o,{math:"K_5"})," or ",n.jsx(o,{math:"K_{3,3}"})," minor. By Robertson-Seymour, such finite characterizations exist for many other graph classes (though the forbidden sets may be large)."]}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Kuratowski's Theorem:"})," ",n.jsx(o,{math:"G"})," is planar iff it contains no ",n.jsx(o,{math:"TK_5"})," or ",n.jsx(o,{math:"TK_{3,3}"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Wagner's Theorem:"})," ",n.jsx(o,{math:"G"})," is planar iff it has no ",n.jsx(o,{math:"K_5"})," or ",n.jsx(o,{math:"K_{3,3}"})," minor."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Linear-Time Testing:"})," Planarity can be tested in"," ",n.jsx(o,{math:"O(n)"})," time (Hopcroft-Tarjan, Boyer-Myrvold)."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Degree Bound:"})," Every planar graph has"," ",n.jsx(o,{math:"\\delta \\leq 5"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"3-Connected:"})," Have unique spherical embeddings and admit convex drawings."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Robertson-Seymour:"})," Any minor-closed property has finite forbidden minors."]})]})]})}function fee(){return n.jsxs(kt,{sectionId:19,children:[n.jsx("p",{children:'Planar graphs have special coloring propertiesmost famously, the Four Color Theorem. We also explore "how far from planar" a graph is through the crossing number and thickness. Finally, we consider embeddings on surfaces of higher genus, generalizing planarity to toruses and other surfaces.'}),n.jsx("h2",{children:"Coloring Planar Graphs"}),n.jsxs(J,{title:"Five Color Theorem (Theorem 6.3.1)",children:[n.jsx("p",{children:"Every planar graph is 5-colorable."}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof (Kempe's Argument)"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["Induct on ",n.jsx(o,{math:"n"}),". Let ",n.jsx(o,{math:"v"})," be a vertex of degree at most 5 (exists in any planar graph)."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Case 1:"})," ",n.jsx(o,{math:"d(v) \\leq 4"}),". By induction,"," ",n.jsx(o,{math:"G - v"})," is 5-colorable. At most 4 colors used by neighbors of ",n.jsx(o,{math:"v"}),", so one color is available."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Case 2:"})," ",n.jsx(o,{math:"d(v) = 5"})," and all 5 colors used by neighbors. Consider two non-adjacent neighbors (exist since they don't form ",n.jsx(o,{math:"K_5"}),"). Use Kempe chains: paths alternating between two colors. Recolor along a Kempe chain to free a color for"," ",n.jsx(o,{math:"v"}),"."]})]})]})]}),n.jsxs(J,{title:"Four Color Theorem (Theorem 6.3.2)",children:[n.jsx("p",{children:"Every planar graph is 4-colorable."}),n.jsx("p",{className:"mt-2 text-dark-300",children:'Conjectured by Guthrie (1852). "Proved" by Kempe (1879), error found by Heawood (1890). First correct proof by Appel and Haken (1976) using computers to check ~2000 cases. Simplified proofs since (Robertson et al. 1997, Gonthier 2005 formal verification).'})]}),n.jsxs(we,{title:"Graphs Requiring 4 Colors",children:[n.jsxs("p",{children:[n.jsx(o,{math:"K_4"})," requires exactly 4 colors. Any planar graph containing ",n.jsx(o,{math:"K_4"})," (like the tetrahedron or wheel"," ",n.jsx(o,{math:"W_4"}),") needs 4 colors."]}),n.jsxs("p",{className:"mt-2",children:["The dodecahedron graph also requires 4 colors, though it contains no"," ",n.jsx(o,{math:"K_4"})," (it's triangle-free!). This shows"," ",n.jsx(o,{math:"\\chi = 4"})," doesn't require ",n.jsx(o,{math:"\\omega = 4"}),"."]})]}),n.jsxs(J,{title:"Grtzsch's Theorem (Theorem 6.3.5)",children:[n.jsx("p",{children:"Every triangle-free planar graph is 3-colorable."}),n.jsx("p",{className:"mt-2 text-dark-300",children:"This strengthens the Four Color Theorem for triangle-free graphs."})]}),n.jsx("h2",{children:"List Coloring"}),n.jsxs(ce,{title:"List Coloring",children:[n.jsxs("p",{children:["Given a graph ",n.jsx(o,{math:"G"})," and a list ",n.jsx(o,{math:"L(v)"})," of available colors for each vertex ",n.jsx(o,{math:"v"}),", a"," ",n.jsx("strong",{children:"list coloring"})," (or ",n.jsxs("strong",{children:[n.jsx(o,{math:"L"}),"-coloring"]}),") assigns each vertex a color from its list such that adjacent vertices get different colors."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"choosability"})," (or ",n.jsx("strong",{children:"list chromatic number"}),")"," ",n.jsx(o,{math:"\\text{ch}(G)"})," is the minimum ",n.jsx(o,{math:"k"})," such that ",n.jsx(o,{math:"G"})," has an ",n.jsx(o,{math:"L"}),"-coloring whenever all lists have size at least ",n.jsx(o,{math:"k"}),"."]})]}),n.jsx(J,{title:"Thomassen's Theorem (Theorem 6.3.9)",children:n.jsxs("p",{children:["Every planar graph is 5-choosable:"," ",n.jsx(o,{math:"\\text{ch}(G) \\leq 5"})," for planar ",n.jsx(o,{math:"G"}),"."]})}),n.jsxs(we,{title:"Choosability vs. Chromatic Number",children:[n.jsxs("p",{children:[n.jsx(o,{math:"K_{2,4}"})," has ",n.jsx(o,{math:"\\chi = 2"})," but"," ",n.jsx(o,{math:"\\text{ch} = 3"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Give vertices in one part lists ",n.jsx(o,{math:"\\{1, 2\\}"})," and"," ",n.jsx(o,{math:"\\{3, 4\\}"}),". Give vertices in the other part lists"," ",n.jsx(o,{math:"\\{1, 3\\}"}),", ",n.jsx(o,{math:"\\{1, 4\\}"}),","," ",n.jsx(o,{math:"\\{2, 3\\}"}),", ",n.jsx(o,{math:"\\{2, 4\\}"}),". No valid list coloring exists with these size-2 lists."]})]}),n.jsx("h2",{children:"Crossing Number"}),n.jsxs(ce,{title:"Crossing Number",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"crossing number"})," ",n.jsx(o,{math:"\\text{cr}(G)"})," is the minimum number of edge crossings in any drawing of ",n.jsx(o,{math:"G"})," in the plane."]}),n.jsxs("p",{className:"mt-2",children:["A graph is planar iff ",n.jsx(o,{math:"\\text{cr}(G) = 0"}),"."]})]}),n.jsxs(J,{title:"Crossing Number Lower Bound (Theorem 6.3.18)",children:[n.jsxs("p",{children:["For ",n.jsx(o,{math:"m > 7n"}),":"]}),n.jsx(ze,{math:"\\text{cr}(G) \\geq \\frac{m^3}{64n^2}"})]}),n.jsxs(we,{title:"Crossing Numbers",children:[n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:n.jsx(o,{math:"\\text{cr}(K_5) = 1"})}),n.jsx("li",{children:n.jsx(o,{math:"\\text{cr}(K_6) = 3"})}),n.jsx("li",{children:n.jsx(o,{math:"\\text{cr}(K_{3,3}) = 1"})}),n.jsx("li",{children:n.jsx(o,{math:"\\text{cr}(K_{4,4}) = 4"})}),n.jsx("li",{children:n.jsx(o,{math:"\\text{cr}(\\text{Petersen}) = 2"})})]}),n.jsx("p",{className:"mt-2",children:"Computing crossing number is NP-complete in general, but polynomial for bounded crossing number."})]}),n.jsx("h3",{children:"Conjectures on Complete Graphs"}),n.jsxs(ce,{title:"Zarankiewicz Crossing Number Conjecture",children:[n.jsx("p",{children:"For complete bipartite graphs:"}),n.jsx(ze,{math:"\\text{cr}(K_{m,n}) = \\left\\lfloor \\frac{m}{2} \\right\\rfloor \\left\\lfloor \\frac{m-1}{2} \\right\\rfloor \\left\\lfloor \\frac{n}{2} \\right\\rfloor \\left\\lfloor \\frac{n-1}{2} \\right\\rfloor"}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["Known to be an upper bound. Proven for ",n.jsx(o,{math:"m \\leq 6"}),"."]})]}),n.jsxs(ce,{title:"Guy's Crossing Number Conjecture",children:[n.jsx("p",{children:"For complete graphs:"}),n.jsx(ze,{math:"\\text{cr}(K_n) = \\frac{1}{4} \\left\\lfloor \\frac{n}{2} \\right\\rfloor \\left\\lfloor \\frac{n-1}{2} \\right\\rfloor \\left\\lfloor \\frac{n-2}{2} \\right\\rfloor \\left\\lfloor \\frac{n-3}{2} \\right\\rfloor"}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["Known to be an upper bound. Proven for ",n.jsx(o,{math:"n \\leq 12"}),"."]})]}),n.jsx("h2",{children:"Thickness"}),n.jsxs(ce,{title:"Thickness",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"thickness"})," ",n.jsx(o,{math:"\\text{th}(G)"})," is the minimum number of planar subgraphs whose union is ",n.jsx(o,{math:"G"}),"."]}),n.jsxs("p",{className:"mt-2",children:["A graph is planar iff ",n.jsx(o,{math:"\\text{th}(G) = 1"}),"."]})]}),n.jsx(we,{title:"Thickness of Complete Graphs",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx(o,{math:"\\text{th}(K_4) = 1"})," (planar)"]}),n.jsx("li",{children:n.jsx(o,{math:"\\text{th}(K_5) = 2"})}),n.jsx("li",{children:n.jsx(o,{math:"\\text{th}(K_8) = 2"})}),n.jsx("li",{children:n.jsx(o,{math:"\\text{th}(K_9) = 3"})}),n.jsxs("li",{children:[n.jsx(o,{math:"\\text{th}(K_n) = \\left\\lceil \\frac{n + 7}{6} \\right\\rceil"})," ","for ",n.jsx(o,{math:"n \\geq 3"})," except"," ",n.jsx(o,{math:"\\text{th}(K_9) = \\text{th}(K_{10}) = 3"})]})]})}),n.jsxs(J,{title:"Thickness Lower Bound",children:[n.jsxs("p",{children:[n.jsx(o,{math:"\\text{th}(G) \\geq \\lceil m / (3n - 6) \\rceil"})," for"," ",n.jsx(o,{math:"n \\geq 3"}),"."]}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["Each planar subgraph has at most ",n.jsx(o,{math:"3n - 6"})," edges."]})]}),n.jsx("h2",{children:"Higher Genus Surfaces"}),n.jsxs(ce,{title:"Genus",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"genus"})," ",n.jsx(o,{math:"\\gamma(G)"})," of a graph is the minimum genus of a surface on which ",n.jsx(o,{math:"G"})," can be embedded without crossings."]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsx("li",{children:"Genus 0: Sphere (equivalent to plane for embedding)"}),n.jsx("li",{children:"Genus 1: Torus (donut shape)"}),n.jsxs("li",{children:["Genus ",n.jsx(o,{math:"g"}),": Sphere with ",n.jsx(o,{math:"g"})," handles"]})]}),n.jsxs("p",{className:"mt-2",children:[n.jsx(o,{math:"\\gamma(G) = 0"})," iff ",n.jsx(o,{math:"G"})," is planar."]})]}),n.jsxs(J,{title:"Euler's Formula for Higher Genus (Theorem 6.3.26)",children:[n.jsxs("p",{children:["For a graph embedded on a surface of genus ",n.jsx(o,{math:"g"}),":"]}),n.jsx(ze,{math:"n - m + f = 2 - 2g"}),n.jsxs("p",{className:"mt-2",children:["The quantity ",n.jsx(o,{math:"2 - 2g"})," is the ",n.jsx("strong",{children:"Euler characteristic"})," ","of the surface."]})]}),n.jsx(we,{title:"Genus of Complete Graphs",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx(o,{math:"\\gamma(K_n) = \\left\\lceil \\frac{(n-3)(n-4)}{12} \\right\\rceil"})," ","for ",n.jsx(o,{math:"n \\geq 3"})]}),n.jsxs("li",{children:[n.jsx(o,{math:"\\gamma(K_5) = 1"})," (embeds on torus)"]}),n.jsxs("li",{children:[n.jsx(o,{math:"\\gamma(K_7) = 1"})," (embeds on torus)"]}),n.jsx("li",{children:n.jsx(o,{math:"\\gamma(K_8) = 2"})})]})}),n.jsxs(J,{title:"Heawood's Formula (Theorem 6.3.28)",children:[n.jsxs("p",{children:["For a surface of genus ",n.jsx(o,{math:"g \\geq 1"}),", the maximum chromatic number of graphs embeddable on that surface is:"]}),n.jsx(ze,{math:"H(g) = \\left\\lfloor \\frac{7 + \\sqrt{1 + 48g}}{2} \\right\\rfloor"}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["This is an upper bound (Heawood 1890) that was proved tight for all"," ",n.jsx(o,{math:"g \\geq 1"})," (Ringel-Youngs 1968)."]})]}),n.jsxs(we,{title:"Heawood Numbers",children:[n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:["Genus 0 (plane): ",n.jsx(o,{math:"H(0) = 4"})," (Four Color Theorem)"]}),n.jsxs("li",{children:["Genus 1 (torus): ",n.jsx(o,{math:"H(1) = 7"})]}),n.jsxs("li",{children:["Genus 2: ",n.jsx(o,{math:"H(2) = 8"})]}),n.jsxs("li",{children:["Genus 3: ",n.jsx(o,{math:"H(3) = 9"})]})]}),n.jsxs("p",{className:"mt-2",children:[n.jsx(o,{math:"K_7"})," embeds on the torus and needs 7 colors."]})]}),n.jsx("h2",{children:"Map Coloring"}),n.jsx("p",{children:"The original motivation for the Four Color Theorem was map coloring: can any map be colored with 4 colors such that adjacent countries have different colors?"}),n.jsxs(ce,{title:"Map and Dual Graph",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"map"})," is a partition of a surface into connected regions (countries). The ",n.jsx("strong",{children:"dual graph"})," has one vertex per country and an edge between countries sharing a border."]}),n.jsx("p",{className:"mt-2",children:"Coloring the map is equivalent to coloring the dual graph."})]}),n.jsxs(J,{title:"Map Coloring Connection",children:[n.jsx("p",{children:"For maps on surfaces:"}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Sphere/plane:"})," 4 colors suffice (Four Color Theorem)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Torus:"})," 7 colors suffice and are sometimes needed"]}),n.jsxs("li",{children:[n.jsxs("strong",{children:["Genus ",n.jsx(o,{math:"g"}),":"]})," ",n.jsx(o,{math:"H(g)"})," colors suffice"]})]})]}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Four Color Theorem:"})," Every planar graph is 4-colorable."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Five Color Theorem:"})," Simpler proof using Kempe chains."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Grtzsch:"})," Triangle-free planar graphs are 3-colorable."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Choosability:"})," Planar graphs are 5-choosable."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Crossing Number:"})," Minimum crossings in any drawing."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Thickness:"})," Minimum planar subgraphs covering all edges."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Genus:"})," Minimum surface genus for crossing-free embedding. Euler: ",n.jsx(o,{math:"n - m + f = 2 - 2g"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Heawood:"})," Maximum chromatic number on genus-",n.jsx(o,{math:"g"})," surfaces."]})]})]})}function pee(){return n.jsxs(kt,{sectionId:20,children:[n.jsx("p",{children:"Instead of coloring vertices, we can color edgesassigning colors to edges such that edges sharing a vertex have different colors. This models problems like scheduling rounds of games or assigning time slots. Vizing's remarkable theorem shows that edge coloring needs at most one more color than the obvious lower bound. We also study line graphs, which transform edge problems into vertex problems."}),n.jsx("h2",{children:"Edge Coloring"}),n.jsxs(ce,{title:"Edge Coloring and Edge Chromatic Number",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"proper edge coloring"})," (or ",n.jsx("strong",{children:"edge coloring"}),") of a graph ",n.jsx(o,{math:"G"})," assigns colors to edges such that edges sharing an endpoint have different colors."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"edge chromatic number"})," (or ",n.jsx("strong",{children:"chromatic index"}),")"," ",n.jsx(o,{math:"\\chi'(G)"})," is the minimum number of colors needed."]})]}),n.jsx(we,{title:"Edge Chromatic Numbers",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx(o,{math:"\\chi'(K_n) = n - 1"})," if ",n.jsx(o,{math:"n"})," is even,"," ",n.jsx(o,{math:"n"})," if ",n.jsx(o,{math:"n"})," is odd"]}),n.jsx("li",{children:n.jsx(o,{math:"\\chi'(K_{n,n}) = n"})}),n.jsxs("li",{children:[n.jsx(o,{math:"\\chi'(C_n) = 2"})," if ",n.jsx(o,{math:"n"})," is even,"," ",n.jsx(o,{math:"3"})," if odd"]}),n.jsx("li",{children:n.jsx(o,{math:"\\chi'(\\text{Petersen}) = 4"})})]})}),n.jsxs(J,{title:"Lower Bound",children:[n.jsxs("p",{children:[n.jsx(o,{math:"\\chi'(G) \\geq \\Delta(G)"})," for every graph"," ",n.jsx(o,{math:"G"}),"."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:n.jsxs("p",{children:["At any vertex ",n.jsx(o,{math:"v"})," of degree ",n.jsx(o,{math:"d(v)"}),", all ",n.jsx(o,{math:"d(v)"})," incident edges need different colors. Thus"," ",n.jsx(o,{math:"\\chi'(G) \\geq \\max_v d(v) = \\Delta(G)"}),"."]})})]})]}),n.jsx("h2",{children:"Vizing's Theorem"}),n.jsxs(J,{title:"Vizing's Theorem (Theorem 7.1.1)",children:[n.jsxs("p",{children:["For any simple graph ",n.jsx(o,{math:"G"}),":"]}),n.jsx(ze,{math:"\\Delta(G) \\leq \\chi'(G) \\leq \\Delta(G) + 1"}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),n.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:n.jsxs("p",{children:["The lower bound is obvious. For the upper bound, color edges greedily. When an edge ",n.jsx(o,{math:"e = uv"})," can't be colored with"," ",n.jsx(o,{math:"\\Delta"}),' colors, use "Vizing fan" argument: construct alternating paths of colors (Kempe chains for edges) to recolor and make room for ',n.jsx(o,{math:"e"}),"."]})})]})]}),n.jsxs(ce,{title:"Class 1 and Class 2",children:[n.jsxs("p",{children:["A graph is ",n.jsx("strong",{children:"Class 1"})," if"," ",n.jsx(o,{math:"\\chi'(G) = \\Delta(G)"}),"."]}),n.jsxs("p",{className:"mt-2",children:["A graph is ",n.jsx("strong",{children:"Class 2"})," if"," ",n.jsx(o,{math:"\\chi'(G) = \\Delta(G) + 1"}),"."]})]}),n.jsx(we,{title:"Classification Examples",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Class 1:"})," All bipartite graphs, ",n.jsx(o,{math:"K_{2n}"}),", most planar graphs"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Class 2:"})," ",n.jsx(o,{math:"K_{2n+1}"}),","," ",n.jsx(o,{math:"C_{2n+1}"}),", Petersen graph"]})]})}),n.jsxs(J,{title:"Knig's Edge Coloring Theorem (Theorem 7.1.4)",children:[n.jsxs("p",{children:["Every bipartite graph is Class 1:"," ",n.jsx(o,{math:"\\chi'(G) = \\Delta(G)"}),"."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),n.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:n.jsxs("p",{children:["Induct on ",n.jsx(o,{math:"m"}),". Given a ",n.jsx(o,{math:"\\Delta"}),"-edge-coloring of ",n.jsx(o,{math:"G - e"}),", extend to"," ",n.jsx(o,{math:"G"})," using Kempe chains of alternating colors. Since"," ",n.jsx(o,{math:"G"})," is bipartite, chains don't form odd cycles, so recoloring works."]})})]})]}),n.jsx("h2",{children:"Line Graphs"}),n.jsxs(ce,{title:"Line Graph",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"line graph"})," ",n.jsx(o,{math:"L(G)"})," of graph"," ",n.jsx(o,{math:"G"})," has:"]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:["Vertices: edges of ",n.jsx(o,{math:"G"})]}),n.jsxs("li",{children:["Edges: two vertices of ",n.jsx(o,{math:"L(G)"})," are adjacent iff the corresponding edges of ",n.jsx(o,{math:"G"})," share an endpoint"]})]})]}),n.jsx(we,{title:"Line Graph Examples",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx(o,{math:"L(K_n) = T(n)"}),", the triangular graph (vertices are 2-subsets of ",n.jsx(o,{math:"[n]"}),", adjacent if they intersect)"]}),n.jsxs("li",{children:[n.jsx(o,{math:"L(K_{m,n}) = K_m \\square K_n"})," (Cartesian product)"]}),n.jsx("li",{children:n.jsx(o,{math:"L(C_n) = C_n"})}),n.jsx("li",{children:n.jsx(o,{math:"L(P_n) = P_{n-1}"})})]})}),n.jsxs(J,{title:"Edge Coloring via Line Graphs",children:[n.jsx("p",{children:n.jsx(o,{math:"\\chi'(G) = \\chi(L(G))"})}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["Edge coloring of ",n.jsx(o,{math:"G"})," = vertex coloring of"," ",n.jsx(o,{math:"L(G)"}),"."]})]}),n.jsxs(J,{title:"Line Graph Clique Number",children:[n.jsx("p",{children:n.jsx(o,{math:"\\omega(L(G)) = \\max(\\Delta(G), \\omega'(G))"})}),n.jsxs("p",{className:"mt-2",children:["where ",n.jsx(o,{math:"\\omega'(G)"})," is the maximum number of edges pairwise sharing endpoints (triangle gives 3 mutually adjacent edges)."]})]}),n.jsx("h3",{children:"Characterizing Line Graphs"}),n.jsxs(J,{title:"Beineke's Characterization (Theorem 7.1.16)",children:[n.jsxs("p",{children:["A graph ",n.jsx(o,{math:"H"})," is a line graph if and only if"," ",n.jsx(o,{math:"H"})," has none of the nine forbidden induced subgraphs shown in Beineke's list."]}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["The forbidden graphs include ",n.jsx(o,{math:"K_{1,3}"})," (claw) and eight others."]})]}),n.jsxs(ce,{title:"Claw-Free Graph",children:[n.jsxs("p",{children:["A graph is ",n.jsx("strong",{children:"claw-free"})," if it contains no induced"," ",n.jsx(o,{math:"K_{1,3}"}),"."]}),n.jsx("p",{className:"mt-2",children:"Every line graph is claw-free, but not conversely."})]}),n.jsx("h2",{children:"Multigraph Edge Coloring"}),n.jsx(ce,{title:"Multigraph Edge Chromatic Number",children:n.jsxs("p",{children:["For multigraphs, ",n.jsx(o,{math:"\\chi'(G)"})," can exceed"," ",n.jsx(o,{math:"\\Delta(G) + 1"}),". The ",n.jsx("strong",{children:"multiplicity"})," ",n.jsx(o,{math:"\\mu(G)"})," is the maximum number of parallel edges between any pair of vertices."]})}),n.jsxs(J,{title:"Shannon's Theorem (Theorem 7.1.10)",children:[n.jsxs("p",{children:["For any multigraph ",n.jsx(o,{math:"G"}),":"]}),n.jsx(ze,{math:"\\chi'(G) \\leq \\left\\lfloor \\frac{3\\Delta(G)}{2} \\right\\rfloor"})]}),n.jsx(J,{title:"Vizing's Theorem for Multigraphs",children:n.jsx("p",{children:n.jsx(o,{math:"\\chi'(G) \\leq \\Delta(G) + \\mu(G)"})})}),n.jsx("h2",{children:"Edge Coloring Algorithms"}),n.jsx(J,{title:"Misra-Gries Algorithm",children:n.jsxs("p",{children:["A ",n.jsx(o,{math:"(\\Delta + 1)"}),"-edge-coloring can be computed in"," ",n.jsx(o,{math:"O(mn)"})," time using Vizing fan rotations."]})}),n.jsxs(J,{title:"Complexity of Optimal Edge Coloring",children:[n.jsxs("p",{children:["Determining whether a graph is Class 1 (i.e., whether"," ",n.jsx(o,{math:"\\chi' = \\Delta"}),") is NP-complete even for 3-regular graphs."]}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["However, for bipartite graphs, a ",n.jsx(o,{math:"\\Delta"}),"-edge-coloring can be found in polynomial time."]})]}),n.jsx("h2",{children:"Applications"}),n.jsx("h3",{children:"Round-Robin Tournaments"}),n.jsxs(we,{title:"Scheduling Tournaments",children:[n.jsxs("p",{children:["In a round-robin tournament with ",n.jsx(o,{math:"n"})," teams, each team plays every other team once. Model as ",n.jsx(o,{math:"K_n"}),": vertices are teams, edges are games."]}),n.jsxs("p",{className:"mt-2",children:["An edge coloring assigns rounds: all games of one color happen in one round."," ",n.jsx(o,{math:"\\chi'(K_n)"})," = minimum rounds needed."]}),n.jsxs("p",{className:"mt-2",children:["For ",n.jsx(o,{math:"n"})," even: ",n.jsx(o,{math:"n - 1"})," rounds suffice. For ",n.jsx(o,{math:"n"})," odd: ",n.jsx(o,{math:"n"})," rounds needed (one team has a bye each round)."]})]}),n.jsx("h3",{children:"Frequency Assignment"}),n.jsx(we,{title:"Radio Frequency Assignment",children:n.jsx("p",{children:"Transmitters that might interfere are connected by edges. Edge colors represent time slots or frequencies. An edge coloring ensures non-interfering transmission schedules."})}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Edge Chromatic Number:"})," ",n.jsx(o,{math:"\\chi'(G)"})," = minimum colors for proper edge coloring."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Vizing's Theorem:"})," ",n.jsx(o,{math:"\\Delta(G) \\leq \\chi'(G) \\leq \\Delta(G) + 1"})," for simple graphs."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Class 1 vs Class 2:"})," Class 1 achieves lower bound; Class 2 needs extra color."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Knig:"})," Bipartite graphs are Class 1."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Line Graph:"})," ",n.jsx(o,{math:"L(G)"})," converts edges to vertices; ",n.jsx(o,{math:"\\chi'(G) = \\chi(L(G))"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Multigraphs:"})," ",n.jsx(o,{math:"\\chi' \\leq \\Delta + \\mu"})," and"," ",n.jsx(o,{math:"\\chi' \\leq 3\\Delta/2"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Complexity:"})," Deciding Class 1 is NP-complete, but"," ",n.jsx(o,{math:"(\\Delta + 1)"}),"-coloring is polynomial."]})]})]})}function gee(){return n.jsxs(kt,{sectionId:21,children:[n.jsx("p",{children:"A Hamiltonian cycle visits every vertex exactly once and returns to startthe graph-theoretic version of the Traveling Salesman Problem. Unlike Eulerian circuits (which we characterized completely), there is no simple criterion for Hamiltonian cycles. We study sufficient conditions that guarantee existence and necessary conditions for specific graph families."}),n.jsx("h2",{children:"Hamiltonian Graphs"}),n.jsxs(ce,{title:"Hamiltonian Path and Cycle",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"Hamiltonian path"})," is a path that visits every vertex exactly once."]}),n.jsxs("p",{className:"mt-2",children:["A ",n.jsx("strong",{children:"Hamiltonian cycle"})," is a cycle that visits every vertex exactly once."]}),n.jsxs("p",{className:"mt-2",children:["A graph is ",n.jsx("strong",{children:"Hamiltonian"})," if it has a Hamiltonian cycle."]})]}),n.jsx(we,{title:"Hamiltonian and Non-Hamiltonian Graphs",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Hamiltonian:"})," ",n.jsx(o,{math:"K_n"})," (",n.jsx(o,{math:"n \\geq 3"}),"), ",n.jsx(o,{math:"C_n"}),","," ",n.jsx(o,{math:"K_{n,n}"})," (",n.jsx(o,{math:"n \\geq 2"}),"), cube graph, dodecahedron"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Non-Hamiltonian:"})," ",n.jsx(o,{math:"K_{m,n}"})," (",n.jsx(o,{math:"m \\neq n"}),"), Petersen graph, any graph with a cut-vertex, bipartite graphs with unequal parts"]})]})}),n.jsx(WJ,{className:"my-8"}),n.jsx("h2",{children:"Necessary Conditions"}),n.jsxs(J,{title:"Necessary Condition 1",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," is Hamiltonian and ",n.jsx(o,{math:"S"})," is a proper nonempty subset of ",n.jsx(o,{math:"V(G)"}),", then the number of components of ",n.jsx(o,{math:"G - S"})," is at most"," ",n.jsx(o,{math:"|S|"}),"."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:n.jsxs("p",{children:["A Hamiltonian cycle visiting vertices of"," ",n.jsx(o,{math:"G - S"})," must pass through"," ",n.jsx(o,{math:"S"})," between consecutive components. Each transition uses at least one vertex of ",n.jsx(o,{math:"S"}),", so components "," ",n.jsx(o,{math:"|S|"}),"."]})})]})]}),n.jsxs(we,{title:"Petersen Graph is Non-Hamiltonian",children:[n.jsx("p",{children:"The Petersen graph has 10 vertices and is 3-regular. Remove the 5 vertices of the outer pentagon: the remaining 5 vertices (inner star) form an independent set5 isolated vertices!"}),n.jsxs("p",{className:"mt-2",children:["With ",n.jsx(o,{math:"|S| = 5"})," but 5 components, the necessary condition barely holds. A careful case analysis shows no Hamiltonian cycle exists."]})]}),n.jsxs(J,{title:"Bipartite Necessary Condition",children:[n.jsxs("p",{children:["A bipartite graph ",n.jsx(o,{math:"G"})," with bipartition"," ",n.jsx(o,{math:"(X, Y)"})," has a Hamiltonian cycle only if"," ",n.jsx(o,{math:"|X| = |Y|"}),"."]}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["The Hamiltonian cycle must alternate between ",n.jsx(o,{math:"X"})," and"," ",n.jsx(o,{math:"Y"}),"."]})]}),n.jsx("h2",{children:"Sufficient Conditions"}),n.jsxs(J,{title:"Dirac's Theorem (Theorem 7.2.1)",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," is a simple graph with ",n.jsx(o,{math:"n \\geq 3"})," ","vertices and ",n.jsx(o,{math:"\\delta(G) \\geq n/2"}),", then"," ",n.jsx(o,{math:"G"})," is Hamiltonian."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["Let ",n.jsx(o,{math:"P = v_1 v_2 \\cdots v_k"})," be a longest path. If"," ",n.jsx(o,{math:"k < n"}),", all neighbors of ",n.jsx(o,{math:"v_1"})," and"," ",n.jsx(o,{math:"v_k"})," are on ",n.jsx(o,{math:"P"})," (else extend)."]}),n.jsxs("p",{className:"mt-2",children:["By pigeonhole with ",n.jsx(o,{math:"\\delta \\geq n/2"}),", there exists"," ",n.jsx(o,{math:"v_i"})," where ",n.jsx(o,{math:"v_1 v_{i+1}"})," and"," ",n.jsx(o,{math:"v_k v_i"})," are edges. This creates a cycle covering"," ",n.jsx(o,{math:"P"}),". Since ",n.jsx(o,{math:"k < n"}),", an uncovered vertex is adjacent to the cycle, giving a longer pathcontradiction."]})]})]})]}),n.jsx(we,{title:"Dirac's Theorem is Sharp",children:n.jsxs("p",{children:["Consider ",n.jsx(o,{math:"K_{n/2, n/2 + 1}"})," (with ",n.jsx(o,{math:"n"})," ","odd). This has ",n.jsx(o,{math:"\\delta = n/2"})," but is not Hamiltonian (unequal parts). So ",n.jsx(o,{math:"\\delta \\geq n/2"})," is best possible."]})}),n.jsxs(J,{title:"Ore's Theorem (Theorem 7.2.3)",children:[n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," is a simple graph with ",n.jsx(o,{math:"n \\geq 3"})," ","vertices such that for every pair of non-adjacent vertices"," ",n.jsx(o,{math:"u, v"}),":"]}),n.jsx(ze,{math:"d(u) + d(v) \\geq n"}),n.jsxs("p",{className:"mt-2",children:["then ",n.jsx(o,{math:"G"})," is Hamiltonian."]}),n.jsx("p",{className:"mt-2 text-dark-300",children:"Ore's condition is weaker than Dirac's (allows low-degree vertices if they're adjacent to everything)."})]}),n.jsx(ce,{title:"Closure",children:n.jsxs("p",{children:["The ",n.jsx("strong",{children:"closure"})," ",n.jsx(o,{math:"cl(G)"})," of graph"," ",n.jsx(o,{math:"G"})," is obtained by repeatedly adding edges between non-adjacent vertices ",n.jsx(o,{math:"u, v"})," with"," ",n.jsx(o,{math:"d(u) + d(v) \\geq n"})," until no more can be added."]})}),n.jsxs(J,{title:"Bondy-Chvtal Theorem (Theorem 7.2.6)",children:[n.jsxs("p",{children:["A graph ",n.jsx(o,{math:"G"})," is Hamiltonian if and only if"," ",n.jsx(o,{math:"cl(G)"})," is Hamiltonian."]}),n.jsx("p",{className:"mt-2 text-dark-300",children:"The closure is unique (independent of order of edge additions)."})]}),n.jsx(we,{title:"Using Closure",children:n.jsxs("p",{children:["If ",n.jsx(o,{math:"cl(G) = K_n"}),", then ",n.jsx(o,{math:"G"})," is Hamiltonian. This gives a simple sufficient condition checkable in polynomial time."]})}),n.jsx("h2",{children:"Degree Sequences"}),n.jsx(ce,{title:"Hamiltonian Degree Sequence",children:n.jsxs("p",{children:["A degree sequence is ",n.jsx("strong",{children:"forcibly Hamiltonian"})," if every simple graph with that degree sequence is Hamiltonian."]})}),n.jsxs(J,{title:"Chvtal's Theorem (Theorem 7.2.8)",children:[n.jsxs("p",{children:["Let ",n.jsx(o,{math:"d_1 \\leq d_2 \\leq \\cdots \\leq d_n"})," be a degree sequence with ",n.jsx(o,{math:"n \\geq 3"}),". If for all"," ",n.jsx(o,{math:"k < n/2"}),":"]}),n.jsx(ze,{math:"d_k \\leq k \\implies d_{n-k} \\geq n - k"}),n.jsx("p",{className:"mt-2",children:"then the sequence is forcibly Hamiltonian."})]}),n.jsx("h2",{children:"Hamiltonian Paths"}),n.jsx(J,{title:"Path Version of Dirac",children:n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," has ",n.jsx(o,{math:"n \\geq 2"})," vertices and"," ",n.jsx(o,{math:"\\delta(G) \\geq (n-1)/2"}),", then ",n.jsx(o,{math:"G"})," has a Hamiltonian path."]})}),n.jsx(J,{title:"Theorem 7.2.10 (Hamiltonian Path Between Vertices)",children:n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," is simple with ",n.jsx(o,{math:"n \\geq 3"})," ","vertices, and for non-adjacent ",n.jsx(o,{math:"u, v"}),":"," ",n.jsx(o,{math:"d(u) + d(v) \\geq n - 1"}),", then there is a Hamiltonian path."]})}),n.jsx("h2",{children:"Special Graph Classes"}),n.jsx(J,{title:"Complete Bipartite Graphs",children:n.jsxs("p",{children:[n.jsx(o,{math:"K_{m,n}"})," is Hamiltonian if and only if"," ",n.jsx(o,{math:"m = n \\geq 2"}),"."]})}),n.jsxs(J,{title:"Hypercube is Hamiltonian",children:[n.jsxs("p",{children:["The ",n.jsx(o,{math:"n"}),"-dimensional hypercube"," ",n.jsx(o,{math:"Q_n"})," is Hamiltonian for ",n.jsx(o,{math:"n \\geq 2"}),"."]}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["In fact, ",n.jsx(o,{math:"Q_n"})," is Hamiltonian laceable: there's a Hamiltonian path between any two vertices of different parities."]})]}),n.jsx("h2",{children:"Complexity"}),n.jsxs(J,{title:"NP-Completeness (Karp, 1972)",children:[n.jsx("p",{children:"Determining whether a graph has a Hamiltonian cycle is NP-complete."}),n.jsx("p",{className:"mt-2",children:"It remains NP-complete even for:"}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsx("li",{children:"Planar 3-connected cubic graphs"}),n.jsx("li",{children:"Bipartite graphs"}),n.jsx("li",{children:"Grid graphs"})]})]}),n.jsx("p",{children:"This contrasts sharply with Eulerian circuits, which can be found in linear time."}),n.jsx("h2",{children:"Traveling Salesman Problem"}),n.jsxs(ce,{title:"TSP",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"Traveling Salesman Problem"})," (TSP) asks: given a weighted complete graph, find a Hamiltonian cycle of minimum total weight."]}),n.jsx("p",{className:"mt-2",children:"The unweighted version (does a Hamiltonian cycle exist?) is a special case."})]}),n.jsxs(J,{title:"TSP Complexity",children:[n.jsx("p",{children:"TSP is NP-hard. The optimization version has no polynomial-time approximation scheme unless P=NP (in the general case)."}),n.jsx("p",{className:"mt-2",children:"For metric TSP (triangle inequality holds), the Christofides algorithm gives a 3/2-approximation."})]}),n.jsx("h2",{children:"Pancyclic Graphs"}),n.jsx(ce,{title:"Pancyclic",children:n.jsxs("p",{children:["A graph ",n.jsx(o,{math:"G"})," is ",n.jsx("strong",{children:"pancyclic"})," if it contains cycles of every length from 3 to ",n.jsx(o,{math:"n"}),"."]})}),n.jsxs(J,{title:"Bondy's Meta-Conjecture",children:[n.jsx("p",{children:'"Almost any non-trivial condition implying that a graph is Hamiltonian also implies that it is pancyclic."'}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["For instance, if ",n.jsx(o,{math:"\\delta \\geq n/2"})," and"," ",n.jsx(o,{math:"G"})," is not bipartite, then ",n.jsx(o,{math:"G"})," is pancyclic or ",n.jsx(o,{math:"G = K_{n/2, n/2}"}),"."]})]}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Hamiltonian:"})," Cycle visiting every vertex exactly once. Much harder than Eulerian."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Necessary:"})," Removing ",n.jsx(o,{math:"k"})," vertices leaves at most ",n.jsx(o,{math:"k"})," components."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Dirac:"})," ",n.jsx(o,{math:"\\delta \\geq n/2"})," implies Hamiltonian."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Ore:"})," ",n.jsx(o,{math:"d(u) + d(v) \\geq n"})," for all non-adjacent ",n.jsx(o,{math:"u, v"})," implies Hamiltonian."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Closure:"})," ",n.jsx(o,{math:"G"})," Hamiltonian iff"," ",n.jsx(o,{math:"cl(G)"})," Hamiltonian."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"NP-Complete:"})," No efficient algorithm known; contrasts with linear-time Eulerian."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"TSP:"})," Weighted version of Hamiltonian cycle; fundamental optimization problem."]})]})]})}function xee(){return n.jsxs(kt,{sectionId:22,children:[n.jsx("p",{children:"The interplay between planarity, coloring, and cycles reveals deep connections in graph theory. Tait showed that the Four Color Theorem is equivalent to edge-coloring cubic planar graphs. Grinberg's theorem provides a tool for proving graphs are non-Hamiltonian. Nowhere-zero flows generalize these ideas, connecting coloring to algebraic properties."}),n.jsx("h2",{children:"Tait's Theorem"}),n.jsx(ce,{title:"Tait Coloring",children:n.jsxs("p",{children:["A ",n.jsx("strong",{children:"Tait coloring"})," of a 3-regular (cubic) graph"," ",n.jsx(o,{math:"G"})," is a proper 3-edge-coloring."]})}),n.jsxs(J,{title:"Tait's Theorem (Theorem 7.3.2)",children:[n.jsx("p",{children:"A planar graph is 4-face-colorable if and only if it is the dual of a bridgeless cubic planar graph that has a Tait coloring."}),n.jsx("p",{className:"mt-2",children:"More specifically: A 2-edge-connected cubic planar graph is 3-edge-colorable if and only if it is Hamiltonian."}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Connection to Four Color Theorem"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsx("p",{children:"Tait (1880) tried to prove the Four Color Theorem by showing all bridgeless cubic planar graphs are Hamiltonian (which would give a Tait coloring). But the Tutte graph (1946) is a bridgeless cubic planar non-Hamiltonian graph!"}),n.jsx("p",{className:"mt-2",children:"Nevertheless, the Four Color Theorem implies all bridgeless cubic planar graphs are 3-edge-colorable (by a different argument)."})]})]})]}),n.jsx(we,{title:"Cube Graph",children:n.jsxs("p",{children:["The cube graph ",n.jsx(o,{math:"Q_3"}),' is cubic, planar, and Hamiltonian. The Hamiltonian cycle uses 8 edges, alternating in 2 colors. The remaining 4 edges (the "opposite" edges of each face) get the third color.']})}),n.jsx("h2",{children:"Grinberg's Theorem"}),n.jsx("p",{children:"Grinberg's theorem provides a necessary condition for planar graphs to be Hamiltonian, based on face sizes."}),n.jsxs(J,{title:"Grinberg's Theorem (Theorem 7.3.5)",children:[n.jsxs("p",{children:["If a plane graph ",n.jsx(o,{math:"G"})," has a Hamiltonian cycle"," ",n.jsx(o,{math:"C"}),", let ",n.jsx(o,{math:"f'_k"})," be the number of faces of size ",n.jsx(o,{math:"k"})," inside ",n.jsx(o,{math:"C"})," and"," ",n.jsx(o,{math:"f''_k"})," be the number outside. Then:"]}),n.jsx(ze,{math:"\\sum_{k \\geq 3} (k - 2)(f'_k - f''_k) = 0"}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["Let ",n.jsx(o,{math:"C"})," have ",n.jsx(o,{math:"n"})," edges. For faces inside: ",n.jsx(o,{math:"\\sum k \\cdot f'_k = n + 2(\\text{edges inside})"})," ","and ",n.jsx(o,{math:"\\sum f'_k = 1 + \\text{faces inside}"}),"."]}),n.jsxs("p",{className:"mt-2",children:["By Euler's formula applied to the inside subgraph:"," ",n.jsx(o,{math:"\\sum (k-2) f'_k = n - 2"}),". Similarly for outside. Subtracting gives the result."]})]})]})]}),n.jsxs(we,{title:"Using Grinberg's Theorem",children:[n.jsx("p",{children:"Consider a plane graph with face sizes 5, 5, 5, 8 (4 faces). If Hamiltonian:"}),n.jsx(ze,{math:"3(f'_5 - f''_5) + 6(f'_8 - f''_8) = 0"}),n.jsxs("p",{className:"mt-2",children:["With ",n.jsx(o,{math:"f'_5 + f''_5 = 3"})," and"," ",n.jsx(o,{math:"f'_8 + f''_8 = 1"}),", we need"," ",n.jsx(o,{math:"3(f'_5 - f''_5) + 6(\\pm 1) = 0"}),". This requires"," ",n.jsx(o,{math:"f'_5 - f''_5 = \\pm 2"}),", which is impossible since all values have the same parity."]})]}),n.jsxs(we,{title:"Tutte's Graph",children:[n.jsx("p",{children:"Tutte constructed a 3-connected cubic planar non-Hamiltonian graph in 1946. This disproved Tait's approach to the Four Color Theorem."}),n.jsx("p",{className:"mt-2",children:"The graph has 46 vertices and can be shown non-Hamiltonian using Grinberg's theorem."})]}),n.jsx("h2",{children:"Nowhere-Zero Flows"}),n.jsxs(ce,{title:"Flow on a Graph",children:[n.jsxs("p",{children:["Given an orientation of graph ",n.jsx(o,{math:"G"})," and an abelian group"," ",n.jsx(o,{math:"\\Gamma"}),", a ",n.jsxs("strong",{children:[n.jsx(o,{math:"\\Gamma"}),"-flow"]})," ","assigns a group element to each edge such that at every vertex, the sum of incoming values equals the sum of outgoing values."]}),n.jsxs("p",{className:"mt-2",children:["A flow is ",n.jsx("strong",{children:"nowhere-zero"})," if no edge has value 0."]})]}),n.jsxs(ce,{title:"k-Flow",children:[n.jsxs("p",{children:["A ",n.jsxs("strong",{children:["nowhere-zero ",n.jsx(o,{math:"k"}),"-flow"]})," is a nowhere-zero"," ",n.jsx(o,{math:"\\mathbb{Z}"}),"-flow where each edge value is in"," ",n.jsx(o,{math:"\\{-(k-1), \\ldots, -1, 1, \\ldots, k-1\\}"}),"."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"flow number"})," ",n.jsx(o,{math:"\\phi(G)"})," is the minimum"," ",n.jsx(o,{math:"k"})," for which ",n.jsx(o,{math:"G"})," has a nowhere-zero"," ",n.jsx(o,{math:"k"}),"-flow."]})]}),n.jsxs(J,{title:"Duality: Flows and Colorings (Theorem 7.3.13)",children:[n.jsxs("p",{children:["For a planar graph ",n.jsx(o,{math:"G"})," and its dual"," ",n.jsx(o,{math:"G^*"}),":"]}),n.jsx(ze,{math:"\\chi(G^*) = \\phi(G)"}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["Nowhere-zero flows in ",n.jsx(o,{math:"G"})," correspond to proper colorings of ",n.jsx(o,{math:"G^*"}),"."]})]}),n.jsxs(we,{title:"Four Color Theorem via Flows",children:[n.jsxs("p",{children:["For any planar graph ",n.jsx(o,{math:"G"}),", we have"," ",n.jsx(o,{math:"\\chi(G) \\leq 4"}),". By duality, the dual of any planar graph has a nowhere-zero 4-flow."]}),n.jsx("p",{className:"mt-2",children:"Equivalently: every bridgeless planar graph has a nowhere-zero 4-flow."})]}),n.jsx("h3",{children:"Flow Conjectures"}),n.jsx(J,{title:"Tutte's Flow Conjectures",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"5-Flow Conjecture:"})," Every bridgeless graph has a nowhere-zero 5-flow. (Open)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"4-Flow Conjecture:"})," Every bridgeless graph with no Petersen minor has a nowhere-zero 4-flow. (Open)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"3-Flow Conjecture:"})," Every 4-edge-connected graph has a nowhere-zero 3-flow. (Open)"]})]})}),n.jsx(J,{title:"Seymour's 6-Flow Theorem (1981)",children:n.jsx("p",{children:"Every bridgeless graph has a nowhere-zero 6-flow."})}),n.jsx("h2",{children:"Cycle Double Covers"}),n.jsx(ce,{title:"Cycle Double Cover",children:n.jsxs("p",{children:["A ",n.jsx("strong",{children:"cycle double cover"})," of a graph is a collection of cycles such that each edge is in exactly two cycles."]})}),n.jsxs(J,{title:"Cycle Double Cover Conjecture",children:[n.jsx("p",{children:"Every bridgeless graph has a cycle double cover."}),n.jsx("p",{className:"mt-2 text-dark-300",children:"Equivalent to the 5-flow conjecture for cubic graphs. Open since 1973."})]}),n.jsxs(we,{title:"Petersen Graph and Flows",children:[n.jsx("p",{children:'The Petersen graph is the smallest "obstruction" to nowhere-zero 4-flows. It has a nowhere-zero 5-flow but not a 4-flow.'}),n.jsx("p",{className:"mt-2",children:"The 4-Flow Conjecture says the Petersen graph is the essential obstruction."})]}),n.jsx("h2",{children:"Snarks"}),n.jsxs(ce,{title:"Snark",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"snark"})," is a bridgeless cubic graph with chromatic index 4 (Class 2)."]}),n.jsx("p",{className:"mt-2",children:"Equivalently: a bridgeless cubic graph with no Tait coloring, or no nowhere-zero 4-flow."})]}),n.jsxs(we,{title:"Known Snarks",children:[n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Petersen graph (10 vertices) - the smallest"}),n.jsx("li",{children:"Blanua snarks (18 vertices)"}),n.jsx("li",{children:"Flower snarks (20, 28, ... vertices)"}),n.jsx("li",{children:"Double-star snark (30 vertices)"})]}),n.jsx("p",{className:"mt-2",children:"Snarks are rare and difficult to construct. They play a crucial role in graph coloring theory."})]}),n.jsxs(J,{title:"Snarks and the Four Color Theorem",children:[n.jsx("p",{children:"The Four Color Theorem is equivalent to: every planar snark has a bridge."}),n.jsx("p",{className:"mt-2",children:"Since planar bridgeless cubic graphs are 4-colorable, their duals have nowhere-zero 4-flows, hence are not snarks."})]}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Tait's Theorem:"})," Connects 4-coloring to Hamiltonian cycles in cubic planar graphs."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Grinberg's Theorem:"})," ",n.jsx(o,{math:"\\sum (k-2)(f'_k - f''_k) = 0"})," for Hamiltonian planar graphs."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Tutte's Graph:"})," Non-Hamiltonian bridgeless cubic planar graph; disproves Tait's approach."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Nowhere-Zero Flows:"})," Generalize colorings; flow number = chromatic number of dual."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Seymour:"})," Every bridgeless graph has a nowhere-zero 6-flow."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Tutte Conjectures:"})," 5-flow, 4-flow, 3-flow conjectures remain open."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Snarks:"})," Bridgeless cubic graphs that are Class 2; key structures in coloring theory."]})]})]})}function vee(){return n.jsxs(kt,{sectionId:23,children:[n.jsx("p",{children:"Perfect graphs are those where the chromatic number equals the clique number for every induced subgraph. This class includes many important graph families and has beautiful structural theory. The Strong Perfect Graph Theorem, proved in 2002, characterizes perfect graphs by forbidden induced subgraphs."}),n.jsx("h2",{children:"Perfect Graph Basics"}),n.jsxs(ce,{title:"Perfect Graph",children:[n.jsxs("p",{children:["A graph ",n.jsx(o,{math:"G"})," is ",n.jsx("strong",{children:"perfect"})," if for every induced subgraph ",n.jsx(o,{math:"H"})," of ",n.jsx(o,{math:"G"}),":"]}),n.jsx(ze,{math:"\\chi(H) = \\omega(H)"}),n.jsxs("p",{className:"mt-2",children:["where ",n.jsx(o,{math:"\\omega(H)"})," is the clique number and"," ",n.jsx(o,{math:"\\chi(H)"})," is the chromatic number."]})]}),n.jsx(we,{title:"Perfect Graph Classes",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Bipartite graphs:"})," ",n.jsx(o,{math:"\\omega = 2"}),","," ",n.jsx(o,{math:"\\chi = 2"})," (if has edges)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Chordal graphs:"})," No induced ",n.jsx(o,{math:"C_k"})," for"," ",n.jsx(o,{math:"k \\geq 4"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Interval graphs:"})," Intersection graphs of intervals"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Comparability graphs:"})," Transitively orientable graphs"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Split graphs:"})," Vertices partition into clique and independent set"]})]})}),n.jsx("h2",{children:"The Perfect Graph Theorem"}),n.jsxs(J,{title:"Weak Perfect Graph Theorem (Lovsz, 1972)",children:[n.jsxs("p",{children:["A graph ",n.jsx(o,{math:"G"})," is perfect if and only if its complement"," ",n.jsx(o,{math:"\\overline{G}"})," is perfect."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Key Insight"}),n.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:n.jsxs("p",{children:["This is surprising because chromatic number and clique number behave very differently under complementation. Lovsz proved this using the"," ",n.jsx("strong",{children:"theta function"})," ",n.jsx(o,{math:"\\vartheta(G)"}),", which lies between ",n.jsx(o,{math:"\\alpha(G)"})," and"," ",n.jsx(o,{math:"\\chi(\\overline{G})"}),"."]})})]})]}),n.jsxs(ce,{title:"Odd Holes and Antiholes",children:[n.jsxs("p",{children:["An ",n.jsx("strong",{children:"odd hole"})," is an induced cycle"," ",n.jsx(o,{math:"C_{2k+1}"})," with ",n.jsx(o,{math:"k \\geq 2"}),"."]}),n.jsxs("p",{className:"mt-2",children:["An ",n.jsx("strong",{children:"odd antihole"})," is the complement of an odd hole:"," ",n.jsx(o,{math:"\\overline{C_{2k+1}}"}),"."]})]}),n.jsxs(we,{title:"Why C and its Complement are Imperfect",children:[n.jsxs("p",{children:[n.jsx(o,{math:"C_5"}),": ",n.jsx(o,{math:"\\omega = 2"})," (no triangle), but ",n.jsx(o,{math:"\\chi = 3"})," (odd cycle). Not perfect."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx(o,{math:"\\overline{C_5}"}),": Also ",n.jsx(o,{math:"C_5"})," ","(self-complementary!). Also imperfect."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx(o,{math:"C_7"}),": ",n.jsx(o,{math:"\\omega = 2"}),","," ",n.jsx(o,{math:"\\chi = 3"}),". ",n.jsx(o,{math:"\\overline{C_7}"}),":"," ",n.jsx(o,{math:"\\omega = 3"}),", ",n.jsx(o,{math:"\\chi = 4"}),"."]})]}),n.jsxs(J,{title:"Strong Perfect Graph Theorem (Chudnovsky et al., 2006)",children:[n.jsx("p",{children:"A graph is perfect if and only if it contains no odd hole and no odd antihole as an induced subgraph."}),n.jsx("p",{className:"mt-2 text-dark-300",children:"Conjectured by Claude Berge in 1961. Proved 40+ years later by Maria Chudnovsky, Neil Robertson, Paul Seymour, and Robin Thomas using a 179-page proof."})]}),n.jsx("h2",{children:"Recognition and Optimization"}),n.jsxs(J,{title:"Perfect Graph Recognition",children:[n.jsx("p",{children:"Perfect graphs can be recognized in polynomial time."}),n.jsx("p",{className:"mt-2",children:"The algorithm detects odd holes and antiholes using sophisticated structural decomposition (Chudnovsky et al., 2005)."})]}),n.jsxs(J,{title:"Polynomial Optimization on Perfect Graphs",children:[n.jsx("p",{children:"For perfect graphs, the following problems can be solved in polynomial time:"}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Maximum clique:"})," Find ",n.jsx(o,{math:"\\omega(G)"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Maximum independent set:"})," Find ",n.jsx(o,{math:"\\alpha(G)"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Chromatic number:"})," Find ",n.jsx(o,{math:"\\chi(G)"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Clique cover:"})," Partition vertices into cliques"]})]}),n.jsx("p",{className:"mt-2 text-dark-300",children:"These use the ellipsoid method and the Lovsz theta function."})]}),n.jsx("h2",{children:"Berge Graphs"}),n.jsxs(ce,{title:"Berge Graph",children:[n.jsxs("p",{children:["A graph is ",n.jsx("strong",{children:"Berge"})," if it contains no odd hole and no odd antihole."]}),n.jsx("p",{className:"mt-2",children:"The Strong Perfect Graph Theorem says: Berge = Perfect."})]}),n.jsx("h2",{children:"Imperfect Graphs"}),n.jsxs(ce,{title:"Imperfection Ratio",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"imperfection ratio"})," of ",n.jsx(o,{math:"G"})," is:"]}),n.jsx(ze,{math:"\\text{imp}(G) = \\max_{H \\subseteq G} \\frac{\\chi(H)}{\\omega(H)}"}),n.jsxs("p",{className:"mt-2",children:[n.jsx(o,{math:"G"})," is perfect iff ",n.jsx(o,{math:"\\text{imp}(G) = 1"}),"."]})]}),n.jsxs(we,{title:"Imperfection of Odd Cycles",children:[n.jsxs("p",{children:["For ",n.jsx(o,{math:"C_{2k+1}"}),":"," ",n.jsx(o,{math:"\\text{imp}(C_{2k+1}) = \\frac{3}{2}"}),"."]}),n.jsxs("p",{className:"mt-2",children:["As ",n.jsx(o,{math:"k \\to \\infty"}),", odd cycles approach"," ",n.jsx(o,{math:"\\text{imp} = 3/2"}),"."]})]}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Perfect:"})," ",n.jsx(o,{math:"\\chi(H) = \\omega(H)"})," for all induced ",n.jsx(o,{math:"H"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Weak Perfect Graph Theorem:"})," ",n.jsx(o,{math:"G"})," perfect iff ",n.jsx(o,{math:"\\overline{G}"})," perfect."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Strong Perfect Graph Theorem:"})," Perfect = No odd holes or antiholes."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Perfect Families:"})," Bipartite, chordal, interval, comparability."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Imperfect:"})," ",n.jsx(o,{math:"C_{2k+1}"})," and"," ",n.jsx(o,{math:"\\overline{C_{2k+1}}"})," are minimal imperfect."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Algorithms:"})," Maximum clique, chromatic number solvable in polynomial time for perfect graphs."]})]})]})}function yee(){return n.jsxs(kt,{sectionId:24,children:[n.jsx("p",{children:"Matroids abstract the notion of linear independence from vector spaces and forests from graphs. They provide a unifying framework for many combinatorial optimization problems, explaining why greedy algorithms work for minimum spanning trees. The theory reveals deep connections between linear algebra, graph theory, and combinatorics."}),n.jsx("h2",{children:"Matroid Definition"}),n.jsxs(ce,{title:"Matroid (Independence Axioms)",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"matroid"})," ",n.jsx(o,{math:"M = (E, \\mathcal{I})"})," consists of a finite set ",n.jsx(o,{math:"E"})," (the ",n.jsx("strong",{children:"ground set"}),") and a collection ",n.jsx(o,{math:"\\mathcal{I}"})," of subsets of"," ",n.jsx(o,{math:"E"})," (the ",n.jsx("strong",{children:"independent sets"}),") satisfying:"]}),n.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"(I1)"})," ",n.jsx(o,{math:"\\emptyset \\in \\mathcal{I}"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"(I2)"})," If ",n.jsx(o,{math:"I \\in \\mathcal{I}"})," and"," ",n.jsx(o,{math:"J \\subseteq I"}),", then"," ",n.jsx(o,{math:"J \\in \\mathcal{I}"})," (hereditary)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"(I3)"})," If ",n.jsx(o,{math:"I, J \\in \\mathcal{I}"})," with"," ",n.jsx(o,{math:"|I| < |J|"}),", then"," ",n.jsx(o,{math:"\\exists e \\in J - I"})," with"," ",n.jsx(o,{math:"I \\cup \\{e\\} \\in \\mathcal{I}"})," (exchange property)"]})]})]}),n.jsxs(we,{title:"Graphic Matroid",children:[n.jsxs("p",{children:["For graph ",n.jsx(o,{math:"G"}),", let ",n.jsx(o,{math:"E = E(G)"})," and"," ",n.jsx(o,{math:"\\mathcal{I}"})," = sets of edges forming forests."]}),n.jsx("p",{className:"mt-2",children:n.jsx("strong",{children:"Verify axioms:"})}),n.jsxs("ul",{className:"list-disc list-inside",children:[n.jsx("li",{children:"(I1): Empty set is a forest. "}),n.jsx("li",{children:"(I2): Subsets of forests are forests. "}),n.jsxs("li",{children:["(I3): If forest ",n.jsx(o,{math:"J"})," has more edges than forest"," ",n.jsx(o,{math:"I"}),", some edge of ",n.jsx(o,{math:"J"})," can be added to ",n.jsx(o,{math:"I"})," without creating a cycle. "]})]})]}),n.jsxs(we,{title:"Vector Matroid",children:[n.jsxs("p",{children:["For a matrix ",n.jsx(o,{math:"A"})," with columns"," ",n.jsx(o,{math:"v_1, \\ldots, v_n"}),", let"," ",n.jsx(o,{math:"E = \\{1, \\ldots, n\\}"})," and"," ",n.jsx(o,{math:"I \\in \\mathcal{I}"})," iff"," ",n.jsx(o,{math:"\\{v_i : i \\in I\\}"})," is linearly independent."]}),n.jsx("p",{className:"mt-2",children:"The exchange property (I3) follows from the Steinitz exchange lemma."})]}),n.jsx("h2",{children:"Basic Matroid Terminology"}),n.jsx(ce,{title:"Dependent Sets, Circuits, Bases",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Dependent:"})," A set not in ",n.jsx(o,{math:"\\mathcal{I}"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Circuit:"})," A minimal dependent set"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Base:"})," A maximal independent set"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Rank:"})," ",n.jsx(o,{math:"r(A)"})," = max size of independent subset of ",n.jsx(o,{math:"A"})]})]})}),n.jsxs(J,{title:"Base Properties",children:[n.jsxs("p",{children:["All bases of a matroid have the same cardinality (the ",n.jsx("strong",{children:"rank"})," of the matroid)."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Base exchange:"})," If ",n.jsx(o,{math:"B_1, B_2"})," are bases and ",n.jsx(o,{math:"e \\in B_1 - B_2"}),", then"," ",n.jsx(o,{math:"\\exists f \\in B_2 - B_1"})," such that"," ",n.jsx(o,{math:"B_1 - e + f"})," is a base."]})]}),n.jsxs(we,{title:"Graphic Matroid Terms",children:[n.jsxs("p",{children:["In graphic matroid ",n.jsx(o,{math:"M(G)"}),":"]}),n.jsxs("ul",{className:"list-disc list-inside",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Circuits:"})," Cycles of ",n.jsx(o,{math:"G"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Bases:"})," Spanning forests (spanning trees if connected)"]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Rank:"})," ",n.jsx(o,{math:"n - c"})," where"," ",n.jsx(o,{math:"c"})," = components"]})]})]}),n.jsx("h2",{children:"Matroid Duality"}),n.jsxs(ce,{title:"Dual Matroid",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"dual"})," ",n.jsx(o,{math:"M^*"})," of matroid"," ",n.jsx(o,{math:"M = (E, \\mathcal{I})"})," has:"]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:["Ground set: ",n.jsx(o,{math:"E"})]}),n.jsxs("li",{children:["Bases: ",n.jsx(o,{math:"\\{E - B : B \\text{ is a base of } M\\}"})]})]}),n.jsxs("p",{className:"mt-2",children:["The dual of the dual is the original: ",n.jsx(o,{math:"(M^*)^* = M"}),"."]})]}),n.jsxs(we,{title:"Dual of Graphic Matroid",children:[n.jsxs("p",{children:["For a planar graph ",n.jsx(o,{math:"G"}),", the dual of"," ",n.jsx(o,{math:"M(G)"})," is ",n.jsx(o,{math:"M(G^*)"}),", where"," ",n.jsx(o,{math:"G^*"})," is the planar dual graph."]}),n.jsxs("p",{className:"mt-2",children:[n.jsxs("strong",{children:["Circuits of ",n.jsx(o,{math:"M^*"}),":"]})," Minimal edge cuts (bonds) of ",n.jsx(o,{math:"G"}),"."]})]}),n.jsx("h2",{children:"Greedy Algorithm"}),n.jsxs(J,{title:"Greedy Algorithm for Matroids",children:[n.jsxs("p",{children:["Given a weighted matroid ",n.jsx(o,{math:"(E, \\mathcal{I}, w)"}),", the greedy algorithm finds a maximum-weight base:"]}),n.jsxs("ol",{className:"mt-2 list-decimal list-inside",children:[n.jsxs("li",{children:["Sort elements by weight: ",n.jsx(o,{math:"w(e_1) \\geq \\cdots \\geq w(e_n)"})]}),n.jsxs("li",{children:["Initialize ",n.jsx(o,{math:"I = \\emptyset"})]}),n.jsxs("li",{children:["For each ",n.jsx(o,{math:"e_i"}),": if"," ",n.jsx(o,{math:"I \\cup \\{e_i\\} \\in \\mathcal{I}"}),", set"," ",n.jsx(o,{math:"I = I \\cup \\{e_i\\}"})]})]}),n.jsxs("p",{className:"mt-2",children:["This gives an ",n.jsx("strong",{children:"optimal"})," solution."]})]}),n.jsx(J,{title:"Characterization by Greedy",children:n.jsxs("p",{children:["A hereditary system ",n.jsx(o,{math:"(E, \\mathcal{I})"})," is a matroid if and only if the greedy algorithm produces a maximum-weight base for every weight function."]})}),n.jsxs(we,{title:"Kruskal's Algorithm",children:[n.jsx("p",{children:"Kruskal's algorithm for minimum spanning tree is the greedy algorithm on the graphic matroid with weights = negative edge weights."}),n.jsx("p",{className:"mt-2",children:"It works because graphic matroids are matroids!"})]}),n.jsx("h2",{children:"Matroid Intersection"}),n.jsx(ce,{title:"Matroid Intersection",children:n.jsxs("p",{children:["Given matroids ",n.jsx(o,{math:"M_1 = (E, \\mathcal{I}_1)"})," and"," ",n.jsx(o,{math:"M_2 = (E, \\mathcal{I}_2)"})," on the same ground set, the"," ",n.jsx("strong",{children:"matroid intersection"})," problem asks for the largest set in"," ",n.jsx(o,{math:"\\mathcal{I}_1 \\cap \\mathcal{I}_2"}),"."]})}),n.jsxs(J,{title:"Matroid Intersection Theorem",children:[n.jsx("p",{children:"The maximum size of a common independent set equals:"}),n.jsx(ze,{math:"\\max |I| = \\min_{A \\subseteq E} (r_1(A) + r_2(E - A))"}),n.jsxs("p",{className:"mt-2",children:["where ",n.jsx(o,{math:"r_1, r_2"})," are the rank functions."]}),n.jsx("p",{className:"mt-2 text-dark-300",children:"This generalizes many min-max theorems (Knig, Menger, etc.)."})]}),n.jsxs(we,{title:"Bipartite Matching as Matroid Intersection",children:[n.jsxs("p",{children:["For bipartite graph ",n.jsx(o,{math:"G = (X \\cup Y, E)"}),", define:"]}),n.jsxs("ul",{className:"list-disc list-inside",children:[n.jsxs("li",{children:[n.jsx(o,{math:"M_1"}),": Partition matroid on ",n.jsx(o,{math:"E"})," where edges incident to same ",n.jsx(o,{math:"x \\in X"})," are dependent"]}),n.jsxs("li",{children:[n.jsx(o,{math:"M_2"}),": Same for ",n.jsx(o,{math:"Y"})]})]}),n.jsx("p",{className:"mt-2",children:"Common independent sets = matchings. Max intersection = max matching."})]}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Matroid:"})," Hereditary system with exchange property; abstracts independence."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Examples:"})," Graphic (forests), vector (linear independence), partition, uniform."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Dual:"})," Bases complement to dual bases."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Greedy:"})," Greedy algorithm is optimal on matroids; this characterizes them."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Intersection:"})," Max common independent set has min-max formula; generalizes matching."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Unification:"})," Matroids explain why greedy works for MST but not for other problems."]})]})]})}function bee(){return n.jsxs(kt,{sectionId:25,children:[n.jsx("p",{children:'Ramsey theory studies the emergence of order in large structures. The fundamental principle: in any large enough system, some regular pattern must appear. For graphs, this means that sufficiently large complete graphs, when edge-colored, must contain monochromatic cliques. Ramsey numbers quantify "how large is large enough."'}),n.jsx("h2",{children:"The Party Problem"}),n.jsxs(we,{title:"The Party Problem",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Question:"})," How many people must attend a party so that either 3 mutual friends or 3 mutual strangers exist?"]}),n.jsxs("p",{className:"mt-2",children:["Model as ",n.jsx(o,{math:"K_n"})," with edges colored red (friends) or blue (strangers). We seek a monochromatic triangle."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Answer:"})," ",n.jsx(o,{math:"n = 6"})," people suffice."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"Proof:"})," Pick any person ",n.jsx(o,{math:"v"}),". By pigeonhole,"," ",n.jsx(o,{math:"v"})," has at least 3 red edges or 3 blue edges. WLOG, say red edges to ",n.jsx(o,{math:"a, b, c"}),". If any edge among"," ",n.jsx(o,{math:"a, b, c"})," is red, we have a red triangle. Otherwise,"," ",n.jsx(o,{math:"abc"})," is a blue triangle."]})]}),n.jsx("h2",{children:"Ramsey Numbers"}),n.jsx(ce,{title:"Ramsey Number R(s,t)",children:n.jsxs("p",{children:["The ",n.jsx("strong",{children:"Ramsey number"})," ",n.jsx(o,{math:"R(s, t)"})," is the minimum"," ",n.jsx(o,{math:"n"})," such that every red-blue edge-coloring of"," ",n.jsx(o,{math:"K_n"})," contains either a red ",n.jsx(o,{math:"K_s"})," or a blue ",n.jsx(o,{math:"K_t"}),"."]})}),n.jsxs(J,{title:"Ramsey's Theorem (Graph Version)",children:[n.jsxs("p",{children:[n.jsx(o,{math:"R(s, t)"})," exists for all ",n.jsx(o,{math:"s, t \\geq 1"}),"."]}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof (Induction)"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["Base: ",n.jsx(o,{math:"R(1, t) = R(s, 1) = 1"})," and"," ",n.jsx(o,{math:"R(2, t) = t"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Inductive step: Show ",n.jsx(o,{math:"R(s,t) \\leq R(s-1,t) + R(s,t-1)"}),"."]}),n.jsxs("p",{className:"mt-2",children:["In ",n.jsx(o,{math:"K_n"})," with ",n.jsx(o,{math:"n = R(s-1,t) + R(s,t-1)"}),", pick vertex ",n.jsx(o,{math:"v"}),". Either ",n.jsx(o,{math:"R(s-1,t)"})," ","red neighbors (giving red ",n.jsx(o,{math:"K_{s-1}"})," or blue"," ",n.jsx(o,{math:"K_t"}),"; extend red clique with ",n.jsx(o,{math:"v"}),") or ",n.jsx(o,{math:"R(s,t-1)"})," blue neighbors (symmetric)."]})]})]})]}),n.jsxs(J,{title:"Upper Bound",children:[n.jsx(ze,{math:"R(s, t) \\leq \\binom{s + t - 2}{s - 1}"}),n.jsxs("p",{className:"mt-2",children:["In particular, ",n.jsx(o,{math:"R(s, s) \\leq \\binom{2s-2}{s-1} = O(4^s/\\sqrt{s})"}),"."]})]}),n.jsx(we,{title:"Known Ramsey Numbers",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:n.jsx(o,{math:"R(3, 3) = 6"})}),n.jsx("li",{children:n.jsx(o,{math:"R(3, 4) = 9"})}),n.jsx("li",{children:n.jsx(o,{math:"R(3, 5) = 14"})}),n.jsx("li",{children:n.jsx(o,{math:"R(4, 4) = 18"})}),n.jsx("li",{children:n.jsx(o,{math:"R(4, 5) = 25"})}),n.jsxs("li",{children:[n.jsx(o,{math:"R(5, 5)"}),": between 43 and 48 (exact value unknown!)"]})]})}),n.jsx("h2",{children:"Erds Lower Bound"}),n.jsxs(J,{title:"Erds Probabilistic Lower Bound (1947)",children:[n.jsx(ze,{math:"R(s, s) > 2^{s/2}"}),n.jsxs("details",{className:"mt-3",children:[n.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof (Probabilistic Method)"}),n.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[n.jsxs("p",{children:["Color each edge of ",n.jsx(o,{math:"K_n"})," red or blue uniformly at random."]}),n.jsxs("p",{className:"mt-2",children:["For any ",n.jsx(o,{math:"s"}),"-set ",n.jsx(o,{math:"S"}),", probability that ",n.jsx(o,{math:"S"})," is monochromatic ="," ",n.jsx(o,{math:"2 \\cdot 2^{-\\binom{s}{2}}"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Expected number of monochromatic ",n.jsx(o,{math:"K_s"}),":"," ",n.jsx(o,{math:"\\binom{n}{s} \\cdot 2^{1-\\binom{s}{2}}"}),"."]}),n.jsxs("p",{className:"mt-2",children:["If ",n.jsx(o,{math:"n < 2^{s/2}"}),", this expectation is"," ",n.jsx(o,{math:"< 1"}),", so some coloring has no monochromatic"," ",n.jsx(o,{math:"K_s"}),"."]})]})]})]}),n.jsx("p",{children:"This was the first application of the probabilistic method in combinatorics, revolutionizing the field."}),n.jsx("h2",{children:"Graph Ramsey Theory"}),n.jsx(ce,{title:"Graph Ramsey Number",children:n.jsxs("p",{children:["For graphs ",n.jsx(o,{math:"G"})," and ",n.jsx(o,{math:"H"}),", the"," ",n.jsx("strong",{children:"Ramsey number"})," ",n.jsx(o,{math:"R(G, H)"})," is the minimum"," ",n.jsx(o,{math:"n"})," such that every red-blue coloring of"," ",n.jsx(o,{math:"K_n"})," contains a red copy of ",n.jsx(o,{math:"G"})," or a blue copy of ",n.jsx(o,{math:"H"}),"."]})}),n.jsx(J,{title:"Ramsey Numbers for Paths and Cycles",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:n.jsx(o,{math:"R(P_n, P_n) = \\lfloor 3(n-1)/2 \\rfloor + 1"})}),n.jsxs("li",{children:[n.jsx(o,{math:"R(C_n, C_n) = 2n - 1"})," for odd ",n.jsx(o,{math:"n \\geq 3"})]}),n.jsxs("li",{children:[n.jsx(o,{math:"R(C_n, C_n) = \\frac{3n}{2} - 1"})," for even"," ",n.jsx(o,{math:"n \\geq 4"})]})]})}),n.jsx("h2",{children:"Multi-Color Ramsey"}),n.jsx(ce,{title:"k-Color Ramsey Number",children:n.jsxs("p",{children:[n.jsx(o,{math:"R_k(s_1, \\ldots, s_k)"})," is the minimum"," ",n.jsx(o,{math:"n"})," such that every ",n.jsx(o,{math:"k"}),"-coloring of"," ",n.jsx(o,{math:"K_n"})," contains a monochromatic"," ",n.jsx(o,{math:"K_{s_i}"})," in color ",n.jsx(o,{math:"i"})," for some"," ",n.jsx(o,{math:"i"}),"."]})}),n.jsx(we,{title:"3-Color Ramsey",children:n.jsxs("p",{children:[n.jsx(o,{math:"R_3(3, 3, 3) = 17"}),": every 3-coloring of"," ",n.jsx(o,{math:"K_{17}"})," has a monochromatic triangle."]})}),n.jsx(J,{title:"Schur's Theorem",children:n.jsxs("p",{children:["For any ",n.jsx(o,{math:"k"}),"-coloring of ",n.jsx(o,{math:"[n]"})," with"," ",n.jsx(o,{math:"n"})," large enough, there exist"," ",n.jsx(o,{math:"x, y, z"})," of the same color with"," ",n.jsx(o,{math:"x + y = z"}),"."]})}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Ramsey's Theorem:"})," Large structures contain ordered substructures. ",n.jsx(o,{math:"R(s,t)"})," always exists."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"R(3,3) = 6:"}),' The "party problem" answer.']}),n.jsxs("li",{children:[n.jsx("strong",{children:"Bounds:"})," ",n.jsx(o,{math:"2^{s/2} < R(s,s) \\leq 4^s"})," approximately."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Growth:"})," Ramsey numbers grow extremely fast; exact values known only for small cases."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Probabilistic Method:"})," Erds's proof initiated a powerful technique."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Graph Ramsey:"})," Generalized to arbitrary graphs, not just cliques."]})]})]})}function jee(){return n.jsxs(kt,{sectionId:26,children:[n.jsx("p",{children:"Extremal graph theory asks: what is the maximum or minimum value of a graph parameter subject to some constraint? Beyond Turn's theorem, many other extremal problems reveal deep structure. We explore bounds on circumference, list coloring, and the structure of trees, continuing the theme of finding optimal configurations."}),n.jsx("h2",{children:"Circumference"}),n.jsx(ce,{title:"Circumference",children:n.jsxs("p",{children:["The ",n.jsx("strong",{children:"circumference"})," ",n.jsx(o,{math:"c(G)"})," of a graph"," ",n.jsx(o,{math:"G"})," is the length of its longest cycle, or 0 if"," ",n.jsx(o,{math:"G"})," is acyclic."]})}),n.jsx(J,{title:"Circumference and Minimum Degree",children:n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," is 2-connected with ",n.jsx(o,{math:"n"})," vertices and ",n.jsx(o,{math:"\\delta(G) \\geq k"}),", then"," ",n.jsx(o,{math:"c(G) \\geq \\min(2k, n)"}),"."]})}),n.jsx(J,{title:"Dirac's Theorem (Cycle Version)",children:n.jsxs("p",{children:["If ",n.jsx(o,{math:"G"})," is 2-connected with ",n.jsx(o,{math:"n"})," vertices and ",n.jsx(o,{math:"\\delta(G) \\geq n/2"}),", then"," ",n.jsx(o,{math:"c(G) = n"})," (Hamiltonian)."]})}),n.jsx(we,{title:"Sharp Examples",children:n.jsxs("p",{children:[n.jsx(o,{math:"K_{k,k+1}"})," has"," ",n.jsx(o,{math:"\\delta = k"})," and ",n.jsx(o,{math:"c = 2k"})," (longest cycle alternates between the two parts)."]})}),n.jsx("h2",{children:"Extremal Problems for Trees"}),n.jsxs(ce,{title:"Wiener Index",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"Wiener index"})," of a connected graph ",n.jsx(o,{math:"G"})," ","is the sum of all pairwise distances:"]}),n.jsx(ze,{math:"W(G) = \\sum_{\\{u,v\\} \\subseteq V(G)} d(u, v)"})]}),n.jsxs(J,{title:"Wiener Index of Trees",children:[n.jsxs("p",{children:["Among all trees on ",n.jsx(o,{math:"n"})," vertices:"]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Minimum:"})," Star ",n.jsx(o,{math:"K_{1,n-1}"})," with"," ",n.jsx(o,{math:"W = (n-1)^2"})]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Maximum:"})," Path ",n.jsx(o,{math:"P_n"})," with"," ",n.jsx(o,{math:"W = \\binom{n+1}{3}"})]})]})]}),n.jsx("h2",{children:"List Coloring"}),n.jsx(ce,{title:"List Chromatic Number",children:n.jsxs("p",{children:["The ",n.jsx("strong",{children:"list chromatic number"})," (or ",n.jsx("strong",{children:"choosability"}),")"," ",n.jsx(o,{math:"\\text{ch}(G)"})," is the minimum ",n.jsx(o,{math:"k"})," such that ",n.jsx(o,{math:"G"})," is ",n.jsx(o,{math:"L"}),"-colorable whenever every vertex has a list of at least ",n.jsx(o,{math:"k"})," colors."]})}),n.jsxs(J,{title:"Choosability vs Chromatic Number",children:[n.jsxs("p",{children:[n.jsx(o,{math:"\\chi(G) \\leq \\text{ch}(G)"})," always, but the gap can be arbitrarily large."]}),n.jsxs("p",{className:"mt-2",children:[n.jsx(o,{math:"K_{n,n}"})," has ",n.jsx(o,{math:"\\chi = 2"})," but"," ",n.jsx(o,{math:"\\text{ch}(K_{n,n}) = (1 + o(1)) \\log_2 n"}),"."]})]}),n.jsxs(J,{title:"Edge List Coloring",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"list chromatic index"})," ",n.jsx(o,{math:"\\text{ch}'(G)"})," ","satisfies:"]}),n.jsx(ze,{math:"\\chi'(G) \\leq \\text{ch}'(G)"}),n.jsxs("p",{className:"mt-2",children:[n.jsx("strong",{children:"List Coloring Conjecture:"})," ",n.jsx(o,{math:"\\text{ch}'(G) = \\chi'(G)"})," for all graphs."]}),n.jsx("p",{className:"mt-2 text-dark-300",children:"Proved for bipartite graphs (Galvin, 1995)."})]}),n.jsx("h2",{children:"Branchings and Arborescences"}),n.jsxs(ce,{title:"Branching",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"branching"})," in a digraph is a set of arcs forming a forest where each vertex has in-degree at most 1."]}),n.jsxs("p",{className:"mt-2",children:["An ",n.jsx("strong",{children:"arborescence"})," (or ",n.jsx("strong",{children:"rooted tree"}),") is a branching where exactly one vertex (the root) has in-degree 0 and all other vertices have in-degree 1."]})]}),n.jsx(J,{title:"Edmonds' Branching Theorem",children:n.jsxs("p",{children:["A digraph ",n.jsx(o,{math:"D"})," contains ",n.jsx(o,{math:"k"})," edge-disjoint spanning arborescences rooted at ",n.jsx(o,{math:"r"})," if and only if for every non-empty ",n.jsx(o,{math:"S \\subseteq V - \\{r\\}"}),", the number of arcs entering ",n.jsx(o,{math:"S"})," is at least ",n.jsx(o,{math:"k"}),"."]})}),n.jsx("h2",{children:"Encodings and Counting"}),n.jsxs(ce,{title:"Prfer Sequence",children:[n.jsxs("p",{children:["A ",n.jsx("strong",{children:"Prfer sequence"})," is a bijective encoding of labeled trees on"," ",n.jsx(o,{math:"[n]"})," as sequences in"," ",n.jsx(o,{math:"[n]^{n-2}"}),"."]}),n.jsxs("p",{className:"mt-2",children:["This gives another proof of Cayley's formula:"," ",n.jsx(o,{math:"n^{n-2}"})," labeled trees."]})]}),n.jsxs(J,{title:"Counting Spanning Trees",children:[n.jsx("p",{children:"The Matrix Tree Theorem counts spanning trees using the determinant of a reduced Laplacian matrix:"}),n.jsx(ze,{math:"\\tau(G) = \\det(L[v])"}),n.jsxs("p",{className:"mt-2",children:["where ",n.jsx(o,{math:"L"})," is the Laplacian matrix and"," ",n.jsx(o,{math:"L[v]"})," is ",n.jsx(o,{math:"L"})," with row and column"," ",n.jsx(o,{math:"v"})," removed."]})]}),n.jsx("h2",{children:"Extremal Problems for Bipartite Graphs"}),n.jsxs(J,{title:"Zarankiewicz Problem",children:[n.jsxs("p",{children:["Let ",n.jsx(o,{math:"z(m, n; s, t)"})," be the maximum edges in an"," ",n.jsx(o,{math:"m \\times n"})," bipartite graph with no"," ",n.jsx(o,{math:"K_{s,t}"})," subgraph."]}),n.jsx(ze,{math:"z(m, n; s, t) \\leq \\frac{(t-1)^{1/s}}{2} n m^{1-1/s} + \\frac{s-1}{2}m"})]}),n.jsx("h2",{children:"Forbidden Subgraph Problems"}),n.jsx(ce,{title:"Turn-Type Problems",children:n.jsxs("p",{children:["For a family ",n.jsx(o,{math:"\\mathcal{F}"})," of graphs, the"," ",n.jsx("strong",{children:"extremal number"})," ",n.jsx(o,{math:"ex(n, \\mathcal{F})"})," is the maximum edges in an ",n.jsx(o,{math:"n"}),"-vertex graph containing no member of ",n.jsx(o,{math:"\\mathcal{F}"})," as a subgraph."]})}),n.jsxs(J,{title:"Erds-Stone Theorem",children:[n.jsxs("p",{children:["For any graph ",n.jsx(o,{math:"H"})," with ",n.jsx(o,{math:"\\chi(H) = r \\geq 2"}),":"]}),n.jsx(ze,{math:"ex(n, H) = \\left(1 - \\frac{1}{r-1} + o(1)\\right) \\binom{n}{2}"}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["This determines the asymptotic extremal number for all non-bipartite"," ",n.jsx(o,{math:"H"}),"."]})]}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Circumference:"})," Longest cycle length; related to minimum degree and connectivity."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Wiener Index:"})," Sum of distances; extremized by star and path."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"List Coloring:"})," ",n.jsx(o,{math:"\\text{ch}(G) \\geq \\chi(G)"}),", can be much larger."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Branchings:"})," Directed forests; Edmonds' theorem characterizes edge-disjoint spanning arborescences."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Erds-Stone:"})," Asymptotic extremal number depends only on chromatic number."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Encodings:"})," Prfer sequences, Matrix Tree Theorem for counting."]})]})]})}function wee(){return n.jsxs(kt,{sectionId:27,children:[n.jsx("p",{children:"Random graph theory studies the typical properties of graphs when edges are chosen randomly. Introduced by Erds and Rnyi in 1959, this field reveals that graph properties often have sharp thresholds: small changes in edge probability cause dramatic transitions. Random graphs also provide existence proofs for graphs with specific properties through the probabilistic method."}),n.jsx("h2",{children:"Random Graph Models"}),n.jsx(ce,{title:"Erds-Rnyi Model G(n,p)",children:n.jsxs("p",{children:["The ",n.jsx("strong",{children:"Erds-Rnyi random graph"})," ",n.jsx(o,{math:"G(n, p)"})," is a probability distribution on graphs with"," ",n.jsx(o,{math:"n"})," labeled vertices where each of the"," ",n.jsx(o,{math:"\\binom{n}{2}"})," possible edges appears independently with probability ",n.jsx(o,{math:"p"}),"."]})}),n.jsxs(ce,{title:"Alternative Model G(n,m)",children:[n.jsxs("p",{children:[n.jsx(o,{math:"G(n, m)"})," is the uniform distribution on all graphs with"," ",n.jsx(o,{math:"n"})," vertices and exactly ",n.jsx(o,{math:"m"})," edges."]}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["When ",n.jsx(o,{math:"m \\approx p\\binom{n}{2}"}),", the models behave similarly."]})]}),n.jsx(XJ,{className:"my-8"}),n.jsx("h2",{children:"Basic Properties"}),n.jsxs(J,{title:"Expected Number of Edges",children:[n.jsxs("p",{children:["In ",n.jsx(o,{math:"G(n, p)"}),":"]}),n.jsx(ze,{math:"\\mathbb{E}[|E|] = p \\binom{n}{2} \\approx \\frac{pn^2}{2}"})]}),n.jsx(J,{title:"Expected Number of Triangles",children:n.jsx(ze,{math:"\\mathbb{E}[\\#\\text{ triangles}] = \\binom{n}{3} p^3 \\approx \\frac{n^3 p^3}{6}"})}),n.jsx(we,{title:"Sparse vs Dense Random Graphs",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx(o,{math:"p = 1/n^2"}),": Very sparse, almost no edges"]}),n.jsxs("li",{children:[n.jsx(o,{math:"p = 1/n"}),": Average degree constant"]}),n.jsxs("li",{children:[n.jsx(o,{math:"p = \\log n / n"}),": Around connectivity threshold"]}),n.jsxs("li",{children:[n.jsx(o,{math:"p = 1/2"}),': Dense, "typical" random graph']})]})}),n.jsx("h2",{children:"Threshold Functions"}),n.jsxs(ce,{title:"Threshold Function",children:[n.jsxs("p",{children:["A function ",n.jsx(o,{math:"t(n)"})," is a ",n.jsx("strong",{children:"threshold function"})," ","for property ",n.jsx(o,{math:"\\mathcal{P}"})," if:"]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsx("li",{children:n.jsx(o,{math:"p(n)/t(n) \\to 0 \\implies \\Pr[G(n,p) \\text{ has } \\mathcal{P}] \\to 0"})}),n.jsx("li",{children:n.jsx(o,{math:"p(n)/t(n) \\to \\infty \\implies \\Pr[G(n,p) \\text{ has } \\mathcal{P}] \\to 1"})})]}),n.jsxs("p",{className:"mt-2",children:["A ",n.jsx("strong",{children:"sharp threshold"})," occurs when the transition happens over a small range of ",n.jsx(o,{math:"p"}),"."]})]}),n.jsxs(J,{title:"Threshold for Containing H",children:[n.jsxs("p",{children:["For a graph ",n.jsx(o,{math:"H"})," with ",n.jsx(o,{math:"v"})," vertices and"," ",n.jsx(o,{math:"e"})," edges, the threshold for ",n.jsx(o,{math:"G(n, p)"})," ","to contain ",n.jsx(o,{math:"H"})," is:"]}),n.jsx(ze,{math:"t(n) = n^{-v/e}"}),n.jsxs("p",{className:"mt-2 text-dark-300",children:["More precisely, when ",n.jsx(o,{math:"H"}),' is "balanced": max density over all subgraphs equals density of ',n.jsx(o,{math:"H"}),"."]})]}),n.jsxs(we,{title:"Triangle Threshold",children:[n.jsxs("p",{children:["Triangle: ",n.jsx(o,{math:"v = 3"}),", ",n.jsx(o,{math:"e = 3"}),". Threshold:"," ",n.jsx(o,{math:"t(n) = n^{-1} = 1/n"}),"."]}),n.jsxs("p",{className:"mt-2",children:["If ",n.jsx(o,{math:"p \\ll 1/n"}),": almost surely no triangles. If"," ",n.jsx(o,{math:"p \\gg 1/n"}),": almost surely many triangles."]})]}),n.jsx("h2",{children:"Connectivity"}),n.jsxs(J,{title:"Connectivity Threshold",children:[n.jsxs("p",{children:["The threshold for ",n.jsx(o,{math:"G(n, p)"})," to be connected is"," ",n.jsx(o,{math:"p = \\frac{\\log n}{n}"}),"."]}),n.jsxs("p",{className:"mt-2",children:["More precisely: if"," ",n.jsx(o,{math:"p = \\frac{\\log n + c}{n}"})," for constant"," ",n.jsx(o,{math:"c"}),":"]}),n.jsx(ze,{math:"\\Pr[G(n,p) \\text{ connected}] \\to e^{-e^{-c}}"}),n.jsx("p",{className:"mt-2 text-dark-300",children:"This is a sharp threshold with a specific limiting distribution."})]}),n.jsxs(J,{title:"Isolated Vertices",children:[n.jsxs("p",{children:["The expected number of isolated vertices in ",n.jsx(o,{math:"G(n, p)"})," is"," ",n.jsx(o,{math:"n(1-p)^{n-1}"}),"."]}),n.jsxs("p",{className:"mt-2",children:["When ",n.jsx(o,{math:"p = \\frac{\\log n}{n}"}),", this equals approximately"," ",n.jsx(o,{math:"n \\cdot e^{-\\log n} = 1"}),". The graph becomes connected precisely when the last isolated vertex gets an edge."]})]}),n.jsx("h2",{children:"Evolution of Random Graphs"}),n.jsx(ce,{title:"Giant Component",children:n.jsxs("p",{children:["A ",n.jsx("strong",{children:"giant component"})," is a connected component containing a constant fraction of all vertices."]})}),n.jsxs(J,{title:"Phase Transition at p = 1/n",children:[n.jsxs("p",{children:["The random graph ",n.jsx(o,{math:"G(n, p)"})," undergoes a"," ",n.jsx("strong",{children:"phase transition"})," at ",n.jsx(o,{math:"p = 1/n"}),":"]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx(o,{math:"p = c/n"})," with ",n.jsx(o,{math:"c < 1"}),": All components have ",n.jsx(o,{math:"O(\\log n)"})," vertices."]}),n.jsxs("li",{children:[n.jsx(o,{math:"p = 1/n"}),": Largest component has"," ",n.jsx(o,{math:"O(n^{2/3})"})," vertices."]}),n.jsxs("li",{children:[n.jsx(o,{math:"p = c/n"})," with ",n.jsx(o,{math:"c > 1"}),": Unique giant component with ",n.jsx(o,{math:"\\Theta(n)"})," vertices; all others"," ",n.jsx(o,{math:"O(\\log n)"}),"."]})]})]}),n.jsx("h2",{children:"The Probabilistic Method"}),n.jsxs(J,{title:"Existence via Expectation",children:[n.jsxs("p",{children:["If the expected value of a random variable ",n.jsx(o,{math:"X"})," is"," ",n.jsx(o,{math:"\\mu"}),", then:"]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:["There exists an outcome with ",n.jsx(o,{math:"X \\geq \\mu"})]}),n.jsxs("li",{children:["There exists an outcome with ",n.jsx(o,{math:"X \\leq \\mu"})]})]})]}),n.jsxs(we,{title:"Large Independent Sets",children:[n.jsx("p",{children:"We can prove existence of graphs with large independence number but small clique number using random graphs:"}),n.jsxs("p",{className:"mt-2",children:["In ",n.jsx(o,{math:"G(n, 1/2)"}),": expected clique number "," ",n.jsx(o,{math:"2\\log_2 n"}),". Expected independence number also "," ",n.jsx(o,{math:"2\\log_2 n"}),". So random graphs have"," ",n.jsx(o,{math:"\\chi \\approx n/(2\\log n)"})," but"," ",n.jsx(o,{math:"\\omega \\approx 2\\log n"}),"."]})]}),n.jsx("h2",{children:"Chromatic Number of Random Graphs"}),n.jsxs(J,{title:"Chromatic Number of G(n, 1/2)",children:[n.jsxs("p",{children:["For ",n.jsx(o,{math:"G \\sim G(n, 1/2)"}),":"]}),n.jsx(ze,{math:"\\chi(G) = (1 + o(1)) \\frac{n}{2\\log_2 n}"}),n.jsx("p",{className:"mt-2",children:"almost surely."})]}),n.jsx(J,{title:"Concentration",children:n.jsxs("p",{children:["The chromatic number of ",n.jsx(o,{math:"G(n, 1/2)"})," is concentrated in an interval of width ",n.jsx(o,{math:"O(\\sqrt{n})"}),". Sharper concentration is a major open problem."]})}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"G(n,p):"})," Each edge present independently with probability"," ",n.jsx(o,{math:"p"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Thresholds:"})," Many properties have sharp thresholds; small changes in ",n.jsx(o,{math:"p"})," cause dramatic transitions."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Connectivity:"})," Threshold at"," ",n.jsx(o,{math:"p = \\log n / n"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Giant Component:"})," Phase transition at"," ",n.jsx(o,{math:"p = 1/n"}),"."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Probabilistic Method:"})," Random graphs prove existence of extremal structures."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Chromatic Number:"})," Typically"," ",n.jsx(o,{math:"\\Theta(n/\\log n)"})," for ",n.jsx(o,{math:"G(n, 1/2)"}),"."]})]})]})}function See(){return n.jsxs(kt,{sectionId:28,children:[n.jsx("p",{children:"Spectral graph theory studies graphs through the eigenvalues of associated matrices. The spectrum (multiset of eigenvalues) encodes surprising amounts of structural information. This algebraic perspective connects graph theory to linear algebra and provides powerful tools for bounding graph parameters."}),n.jsx("h2",{children:"Graph Matrices"}),n.jsxs(ce,{title:"Adjacency Matrix",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"adjacency matrix"})," ",n.jsx(o,{math:"A(G)"})," of a graph"," ",n.jsx(o,{math:"G"})," with vertices ",n.jsx(o,{math:"v_1, \\ldots, v_n"})," ","is the ",n.jsx(o,{math:"n \\times n"})," matrix where"," ",n.jsx(o,{math:"A_{ij} = 1"})," if ",n.jsx(o,{math:"v_i v_j \\in E(G)"}),", else ",n.jsx(o,{math:"A_{ij} = 0"}),"."]}),n.jsxs("p",{className:"mt-2",children:["For simple graphs, ",n.jsx(o,{math:"A"})," is symmetric with 0s on the diagonal."]})]}),n.jsxs(ce,{title:"Laplacian Matrix",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"Laplacian matrix"})," is ",n.jsx(o,{math:"L(G) = D(G) - A(G)"}),", where ",n.jsx(o,{math:"D(G)"})," is the diagonal degree matrix."]}),n.jsx(ze,{math:"L_{ij} = \\begin{cases} d(v_i) & \\text{if } i = j \\\\ -1 & \\text{if } v_i v_j \\in E(G) \\\\ 0 & \\text{otherwise} \\end{cases}"})]}),n.jsxs(we,{title:"Matrices of K",children:[n.jsxs("p",{children:["For the triangle ",n.jsx(o,{math:"K_3"}),":"]}),n.jsx(ze,{math:"A = \\begin{pmatrix} 0 & 1 & 1 \\\\ 1 & 0 & 1 \\\\ 1 & 1 & 0 \\end{pmatrix}, \\quad L = \\begin{pmatrix} 2 & -1 & -1 \\\\ -1 & 2 & -1 \\\\ -1 & -1 & 2 \\end{pmatrix}"})]}),n.jsx("h2",{children:"Eigenvalues and Spectrum"}),n.jsxs(ce,{title:"Spectrum",children:[n.jsxs("p",{children:["The ",n.jsx("strong",{children:"spectrum"})," of ",n.jsx(o,{math:"G"})," is the multiset of eigenvalues of ",n.jsx(o,{math:"A(G)"}),", usually listed as"," ",n.jsx(o,{math:"\\lambda_1 \\geq \\lambda_2 \\geq \\cdots \\geq \\lambda_n"}),"."]}),n.jsxs("p",{className:"mt-2",children:["The ",n.jsx("strong",{children:"Laplacian spectrum"})," has eigenvalues"," ",n.jsx(o,{math:"0 = \\mu_1 \\leq \\mu_2 \\leq \\cdots \\leq \\mu_n"}),"."]})]}),n.jsx(J,{title:"Basic Spectral Properties",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsx("li",{children:"Adjacency eigenvalues are real (symmetric matrix)."}),n.jsxs("li",{children:[n.jsx(o,{math:"\\sum \\lambda_i = \\text{tr}(A) = 0"}),"."]}),n.jsxs("li",{children:[n.jsx(o,{math:"\\sum \\lambda_i^2 = \\text{tr}(A^2) = 2m"}),"."]}),n.jsxs("li",{children:[n.jsx(o,{math:"\\sum \\lambda_i^3 = \\text{tr}(A^3) = 6 \\times \\#\\text{triangles}"}),"."]}),n.jsxs("li",{children:["Laplacian always has eigenvalue 0 (eigenvector ",n.jsx(o,{math:"(1, \\ldots, 1)^T"}),")."]})]})}),n.jsxs(we,{title:"Spectrum of Complete Graph",children:[n.jsxs("p",{children:[n.jsx(o,{math:"K_n"})," has adjacency matrix ",n.jsx(o,{math:"J - I"})," ","where ",n.jsx(o,{math:"J"})," is all-ones matrix."]}),n.jsxs("p",{className:"mt-2",children:["Eigenvalues: ",n.jsx(o,{math:"n - 1"})," (multiplicity 1) and"," ",n.jsx(o,{math:"-1"})," (multiplicity ",n.jsx(o,{math:"n - 1"}),")."]})]}),n.jsxs(we,{title:"Spectrum of Cycle",children:[n.jsxs("p",{children:[n.jsx(o,{math:"C_n"})," has eigenvalues"," ",n.jsx(o,{math:"2\\cos(2\\pi k/n)"})," for ",n.jsx(o,{math:"k = 0, 1, \\ldots, n-1"}),"."]}),n.jsxs("p",{className:"mt-2",children:["Largest eigenvalue: ",n.jsx(o,{math:"\\lambda_1 = 2"}),". Smallest:"," ",n.jsx(o,{math:"\\lambda_n = -2"})," if ",n.jsx(o,{math:"n"})," is even."]})]}),n.jsx("h2",{children:"Spectral Bounds"}),n.jsxs(J,{title:"Largest Eigenvalue Bounds",children:[n.jsxs("p",{children:["For a graph ",n.jsx(o,{math:"G"})," with maximum degree"," ",n.jsx(o,{math:"\\Delta"})," and average degree ",n.jsx(o,{math:"\\bar{d}"}),":"]}),n.jsx(ze,{math:"\\bar{d} \\leq \\lambda_1 \\leq \\Delta"}),n.jsxs("p",{className:"mt-2",children:["Equality on left iff ",n.jsx(o,{math:"G"})," is regular. Equality on right always for ",n.jsx(o,{math:"\\lambda_1"}),"."]})]}),n.jsxs(J,{title:"Chromatic Number Bound",children:[n.jsx(ze,{math:"\\chi(G) \\leq 1 + \\lambda_1"}),n.jsxs("p",{className:"mt-2",children:["Also: ",n.jsx(o,{math:"\\chi(G) \\geq 1 + \\frac{\\lambda_1}{-\\lambda_n}"})," ","(Hoffman bound)."]})]}),n.jsx(J,{title:"Independence Number Bound (Hoffman)",children:n.jsx(ze,{math:"\\alpha(G) \\leq \\frac{n \\cdot (-\\lambda_n)}{\\lambda_1 - \\lambda_n}"})}),n.jsx("h2",{children:"Algebraic Connectivity"}),n.jsx(ce,{title:"Algebraic Connectivity",children:n.jsxs("p",{children:["The ",n.jsx("strong",{children:"algebraic connectivity"})," ",n.jsx(o,{math:"a(G) = \\mu_2"})," is the second-smallest Laplacian eigenvalue."]})}),n.jsx(J,{title:"Fiedler's Theorem",children:n.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[n.jsxs("li",{children:[n.jsx(o,{math:"a(G) > 0"})," iff ",n.jsx(o,{math:"G"})," is connected."]}),n.jsxs("li",{children:[n.jsx(o,{math:"a(G) \\leq \\kappa(G)"})," (vertex connectivity)."]}),n.jsxs("li",{children:[n.jsx(o,{math:"a(G) \\leq \\kappa'(G)"})," (edge connectivity)."]})]})}),n.jsx("h2",{children:"Strongly Regular Graphs"}),n.jsxs(ce,{title:"Strongly Regular Graph",children:[n.jsxs("p",{children:["A graph is ",n.jsx("strong",{children:"strongly regular"})," with parameters"," ",n.jsx(o,{math:"(n, k, \\lambda, \\mu)"})," if:"]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:[n.jsx(o,{math:"n"})," vertices, ",n.jsx(o,{math:"k"}),"-regular"]}),n.jsxs("li",{children:["Every pair of adjacent vertices has exactly"," ",n.jsx(o,{math:"\\lambda"})," common neighbors"]}),n.jsxs("li",{children:["Every pair of non-adjacent vertices has exactly"," ",n.jsx(o,{math:"\\mu"})," common neighbors"]})]})]}),n.jsxs(we,{title:"Petersen Graph",children:[n.jsxs("p",{children:["The Petersen graph is strongly regular with parameters"," ",n.jsx(o,{math:"(10, 3, 0, 1)"}),":"]}),n.jsxs("ul",{className:"list-disc list-inside",children:[n.jsx("li",{children:"10 vertices, 3-regular"}),n.jsx("li",{children:"Adjacent vertices have 0 common neighbors (triangle-free)"}),n.jsx("li",{children:"Non-adjacent vertices have exactly 1 common neighbor"})]}),n.jsx("p",{className:"mt-2",children:"Eigenvalues: 3 (mult. 1), 1 (mult. 5), -2 (mult. 4)."})]}),n.jsxs(J,{title:"Eigenvalues of Strongly Regular Graphs",children:[n.jsxs("p",{children:["A strongly regular graph with parameters"," ",n.jsx(o,{math:"(n, k, \\lambda, \\mu)"})," has exactly 3 distinct eigenvalues:"]}),n.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[n.jsxs("li",{children:[n.jsx(o,{math:"k"})," (multiplicity 1)"]}),n.jsx("li",{children:n.jsx(o,{math:"r = \\frac{(\\lambda - \\mu) + \\sqrt{(\\lambda - \\mu)^2 + 4(k - \\mu)}}{2}"})}),n.jsx("li",{children:n.jsx(o,{math:"s = \\frac{(\\lambda - \\mu) - \\sqrt{(\\lambda - \\mu)^2 + 4(k - \\mu)}}{2}"})})]})]}),n.jsx("h2",{children:"Isospectral Graphs"}),n.jsx(ce,{title:"Isospectral",children:n.jsxs("p",{children:["Two graphs are ",n.jsx("strong",{children:"isospectral"})," (or ",n.jsx("strong",{children:"cospectral"}),") if they have the same spectrum."]})}),n.jsxs(J,{title:"Spectrum Doesn't Determine Structure",children:[n.jsx("p",{children:"Non-isomorphic graphs can be isospectral. The smallest example has 5 vertices."}),n.jsx("p",{className:"mt-2",children:"However, almost all graphs are determined by their spectrum (proved probabilistically)."})]}),n.jsx("h2",{children:"Applications"}),n.jsx("h3",{children:"Graph Partitioning"}),n.jsxs("p",{children:["The ",n.jsx("strong",{children:"Fiedler vector"})," (eigenvector for ",n.jsx(o,{math:"\\mu_2"}),") provides a way to partition vertices into two sets with few edges between them (spectral partitioning)."]}),n.jsx("h3",{children:"Random Walks"}),n.jsxs("p",{children:["The mixing time of random walks on graphs is controlled by the spectral gap"," ",n.jsx(o,{math:"\\lambda_1 - \\lambda_2"})," of the adjacency matrix. Larger gap means faster mixing."]}),n.jsx("h3",{children:"Expander Graphs"}),n.jsxs(ce,{title:"Expander",children:[n.jsxs("p",{children:["A ",n.jsx(o,{math:"k"}),"-regular graph is an"," ",n.jsx(o,{math:"(n, k, \\epsilon)"}),"-",n.jsx("strong",{children:"expander"})," if"," ",n.jsx(o,{math:"\\lambda_2 \\leq k - \\epsilon"}),"."]}),n.jsx("p",{className:"mt-2",children:"Expanders have excellent connectivity properties and are used in coding theory and derandomization."})]}),n.jsx("h2",{children:"Key Takeaways"}),n.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[n.jsxs("li",{children:[n.jsx("strong",{children:"Spectrum:"})," Eigenvalues of adjacency matrix encode structural information."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Bounds:"})," Spectral bounds on chromatic number, independence number, connectivity."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Laplacian:"})," Second eigenvalue measures algebraic connectivity."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Strongly Regular:"})," Exactly 3 distinct eigenvalues; highly symmetric."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Not Determined:"})," Spectrum doesn't uniquely determine the graph."]}),n.jsxs("li",{children:[n.jsx("strong",{children:"Applications:"})," Graph partitioning, random walks, expanders, network analysis."]})]})]})}const Tee={1:YJ,2:ZJ,3:QJ,4:JJ,5:eee,6:tee,7:ree,8:nee,9:see,10:iee,11:aee,12:oee,13:lee,14:cee,15:hee,16:uee,17:dee,18:mee,19:fee,20:pee,21:gee,22:xee,23:vee,24:yee,25:bee,26:jee,27:wee,28:See};function kee({children:t}){const[e,r]=_.useState(!1);return n.jsxs("div",{className:"min-h-screen bg-dark-950",children:[n.jsx(j3,{sidebarOpen:e,onToggleSidebar:()=>r(!e)}),n.jsx(w3,{isOpen:e,onClose:()=>r(!1)}),n.jsx("main",{className:"pt-16 lg:pl-72",children:t})]})}function Aee(){const{id:t}=mS(),e=parseInt(t||"0",10),r=Tee[e];return r?n.jsx(r,{}):n.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Section Not Found"}),n.jsx("p",{className:"text-dark-400",children:"This section is not yet implemented."})]})})}function Nee(){return n.jsxs(n.Fragment,{children:[n.jsx(kee,{children:n.jsxs(lz,{children:[n.jsx(za,{path:"/",element:n.jsx(pj,{})}),n.jsx(za,{path:"/leaderboard",element:n.jsx($Y,{})}),n.jsx(za,{path:"/theorems",element:n.jsx(cJ,{})}),n.jsx(za,{path:"/interactive",element:n.jsx(hJ,{})}),n.jsx(za,{path:"/section/:id",element:n.jsx(Aee,{})}),n.jsx(za,{path:"/quiz/section/:id",element:n.jsx(dJ,{})}),n.jsx(za,{path:"*",element:n.jsx(pj,{})})]})}),n.jsx(NY,{})]})}function Eee(){return n.jsx(gz,{children:n.jsx(LB,{children:n.jsx(UU,{children:n.jsx(Nee,{})})})})}x$.createRoot(document.getElementById("root")).render(n.jsx(_.StrictMode,{children:n.jsx(Eee,{})}));
