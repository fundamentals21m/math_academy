var n6=Object.defineProperty;var r6=(s,t,n)=>t in s?n6(s,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[t]=n;var wn=(s,t,n)=>r6(s,typeof t!="symbol"?t+"":t,n);import{j as e,m as Rn,A as ac}from"./vendor-animation-CmxkKU9r.js";import{r as D,a as i6,L as ts,N as Ju,u as Xv,H as a6,R as l6,b as la}from"./vendor-react-DamxDR2H.js";import{k as Yv}from"./vendor-math-p018AHG0.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=n(i);fetch(i.href,l)}})();var Wv={exports:{}},cu={},Qv={exports:{}},Jv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(s){function t(J,Q){var O=J.length;J.push(Q);e:for(;0<O;){var ee=O-1>>>1,B=J[ee];if(0<i(B,Q))J[ee]=Q,J[O]=B,O=ee;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var Q=J[0],O=J.pop();if(O!==Q){J[0]=O;e:for(var ee=0,B=J.length,Z=B>>>1;ee<Z;){var P=2*(ee+1)-1,H=J[P],le=P+1,V=J[le];if(0>i(H,O))le<B&&0>i(V,H)?(J[ee]=V,J[le]=O,ee=le):(J[ee]=H,J[P]=O,ee=P);else if(le<B&&0>i(V,O))J[ee]=V,J[le]=O,ee=le;else break e}}return Q}function i(J,Q){var O=J.sortIndex-Q.sortIndex;return O!==0?O:J.id-Q.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var o=Date,c=o.now();s.unstable_now=function(){return o.now()-c}}var d=[],u=[],p=1,g=null,v=3,y=!1,M=!1,L=!1,F=!1,T=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function z(J){for(var Q=n(u);Q!==null;){if(Q.callback===null)r(u);else if(Q.startTime<=J)r(u),Q.sortIndex=Q.expirationTime,t(d,Q);else break;Q=n(u)}}function Y(J){if(L=!1,z(J),!M)if(n(d)!==null)M=!0,ie||(ie=!0,I());else{var Q=n(u);Q!==null&&ae(Y,Q.startTime-J)}}var ie=!1,_=-1,k=5,N=-1;function C(){return F?!0:!(s.unstable_now()-N<k)}function G(){if(F=!1,ie){var J=s.unstable_now();N=J;var Q=!0;try{e:{M=!1,L&&(L=!1,w(_),_=-1),y=!0;var O=v;try{t:{for(z(J),g=n(d);g!==null&&!(g.expirationTime>J&&C());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,v=g.priorityLevel;var B=ee(g.expirationTime<=J);if(J=s.unstable_now(),typeof B=="function"){g.callback=B,z(J),Q=!0;break t}g===n(d)&&r(d),z(J)}else r(d);g=n(d)}if(g!==null)Q=!0;else{var Z=n(u);Z!==null&&ae(Y,Z.startTime-J),Q=!1}}break e}finally{g=null,v=O,y=!1}Q=void 0}}finally{Q?I():ie=!1}}}var I;if(typeof A=="function")I=function(){A(G)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,fe=$.port2;$.port1.onmessage=G,I=function(){fe.postMessage(null)}}else I=function(){T(G,0)};function ae(J,Q){_=T(function(){J(s.unstable_now())},Q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(J){J.callback=null},s.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<J?Math.floor(1e3/J):5},s.unstable_getCurrentPriorityLevel=function(){return v},s.unstable_next=function(J){switch(v){case 1:case 2:case 3:var Q=3;break;default:Q=v}var O=v;v=Q;try{return J()}finally{v=O}},s.unstable_requestPaint=function(){F=!0},s.unstable_runWithPriority=function(J,Q){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var O=v;v=J;try{return Q()}finally{v=O}},s.unstable_scheduleCallback=function(J,Q,O){var ee=s.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?ee+O:ee):O=ee,J){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=O+B,J={id:p++,callback:Q,priorityLevel:J,startTime:O,expirationTime:B,sortIndex:-1},O>ee?(J.sortIndex=O,t(u,J),n(d)===null&&J===n(u)&&(L?(w(_),_=-1):L=!0,ae(Y,O-ee))):(J.sortIndex=B,t(d,J),M||y||(M=!0,ie||(ie=!0,I()))),J},s.unstable_shouldYield=C,s.unstable_wrapCallback=function(J){var Q=v;return function(){var O=v;v=Q;try{return J.apply(this,arguments)}finally{v=O}}}})(Jv);Qv.exports=Jv;var o6=Qv.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vt=o6,ej=D,c6=i6;function de(s){var t="https://react.dev/errors/"+s;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+s+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function tj(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Cc(s){var t=s,n=s;if(s.alternate)for(;t.return;)t=t.return;else{s=t;do t=s,t.flags&4098&&(n=t.return),s=t.return;while(s)}return t.tag===3?n:null}function sj(s){if(s.tag===13){var t=s.memoizedState;if(t===null&&(s=s.alternate,s!==null&&(t=s.memoizedState)),t!==null)return t.dehydrated}return null}function nj(s){if(s.tag===31){var t=s.memoizedState;if(t===null&&(s=s.alternate,s!==null&&(t=s.memoizedState)),t!==null)return t.dehydrated}return null}function gg(s){if(Cc(s)!==s)throw Error(de(188))}function h6(s){var t=s.alternate;if(!t){if(t=Cc(s),t===null)throw Error(de(188));return t!==s?null:s}for(var n=s,r=t;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return gg(i),s;if(l===r)return gg(i),t;l=l.sibling}throw Error(de(188))}if(n.return!==r.return)n=i,r=l;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=l;break}if(c===r){o=!0,r=i,n=l;break}c=c.sibling}if(!o){for(c=l.child;c;){if(c===n){o=!0,n=l,r=i;break}if(c===r){o=!0,r=l,n=i;break}c=c.sibling}if(!o)throw Error(de(189))}}if(n.alternate!==r)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?s:t}function rj(s){var t=s.tag;if(t===5||t===26||t===27||t===6)return s;for(s=s.child;s!==null;){if(t=rj(s),t!==null)return t;s=s.sibling}return null}var pt=Object.assign,d6=Symbol.for("react.element"),hh=Symbol.for("react.transitional.element"),Io=Symbol.for("react.portal"),tl=Symbol.for("react.fragment"),ij=Symbol.for("react.strict_mode"),km=Symbol.for("react.profiler"),aj=Symbol.for("react.consumer"),yr=Symbol.for("react.context"),Jf=Symbol.for("react.forward_ref"),Tm=Symbol.for("react.suspense"),Sm=Symbol.for("react.suspense_list"),ep=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),Nm=Symbol.for("react.activity"),u6=Symbol.for("react.memo_cache_sentinel"),vg=Symbol.iterator;function wo(s){return s===null||typeof s!="object"?null:(s=vg&&s[vg]||s["@@iterator"],typeof s=="function"?s:null)}var m6=Symbol.for("react.client.reference");function Am(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===m6?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case tl:return"Fragment";case km:return"Profiler";case ij:return"StrictMode";case Tm:return"Suspense";case Sm:return"SuspenseList";case Nm:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case Io:return"Portal";case yr:return s.displayName||"Context";case aj:return(s._context.displayName||"Context")+".Consumer";case Jf:var t=s.render;return s=s.displayName,s||(s=t.displayName||t.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ep:return t=s.displayName||null,t!==null?t:Am(s.type)||"Memo";case ii:t=s._payload,s=s._init;try{return Am(s(t))}catch{}}return null}var Do=Array.isArray,De=ej.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ye=c6.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ya={pending:!1,data:null,method:null,action:null},_m=[],sl=-1;function Zn(s){return{current:s}}function ss(s){0>sl||(s.current=_m[sl],_m[sl]=null,sl--)}function ct(s,t){sl++,_m[sl]=s.current,s.current=t}var Hn=Zn(null),lc=Zn(null),wi=Zn(null),ud=Zn(null);function md(s,t){switch(ct(wi,t),ct(lc,s),ct(Hn,null),t.nodeType){case 9:case 11:s=(s=t.documentElement)&&(s=s.namespaceURI)?T1(s):0;break;default:if(s=t.tagName,t=t.namespaceURI)t=T1(t),s=Ny(t,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}ss(Hn),ct(Hn,s)}function El(){ss(Hn),ss(lc),ss(wi)}function Em(s){s.memoizedState!==null&&ct(ud,s);var t=Hn.current,n=Ny(t,s.type);t!==n&&(ct(lc,s),ct(Hn,n))}function fd(s){lc.current===s&&(ss(Hn),ss(lc)),ud.current===s&&(ss(ud),vc._currentValue=ya)}var e0,jg;function da(s){if(e0===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);e0=t&&t[1]||"",jg=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+e0+s+jg}var t0=!1;function s0(s,t){if(!s||t0)return"";t0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var g=function(){throw Error()};if(Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(y){var v=y}Reflect.construct(s,[],g)}else{try{g.call()}catch(y){v=y}s.call(g.prototype)}}else{try{throw Error()}catch(y){v=y}(g=s())&&typeof g.catch=="function"&&g.catch(function(){})}}catch(y){if(y&&v&&typeof y.stack=="string")return[y.stack,v.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=r.DetermineComponentFrameRoot(),o=l[0],c=l[1];if(o&&c){var d=o.split(`
`),u=c.split(`
`);for(i=r=0;r<d.length&&!d[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===d.length||i===u.length)for(r=d.length-1,i=u.length-1;1<=r&&0<=i&&d[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(d[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||d[r]!==u[i]){var p=`
`+d[r].replace(" at new "," at ");return s.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",s.displayName)),p}while(1<=r&&0<=i);break}}}finally{t0=!1,Error.prepareStackTrace=n}return(n=s?s.displayName||s.name:"")?da(n):""}function f6(s,t){switch(s.tag){case 26:case 27:case 5:return da(s.type);case 16:return da("Lazy");case 13:return s.child!==t&&t!==null?da("Suspense Fallback"):da("Suspense");case 19:return da("SuspenseList");case 0:case 15:return s0(s.type,!1);case 11:return s0(s.type.render,!1);case 1:return s0(s.type,!0);case 31:return da("Activity");default:return""}}function yg(s){try{var t="",n=null;do t+=f6(s,n),n=s,s=s.return;while(s);return t}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var Cm=Object.prototype.hasOwnProperty,tp=Vt.unstable_scheduleCallback,n0=Vt.unstable_cancelCallback,p6=Vt.unstable_shouldYield,x6=Vt.unstable_requestPaint,Fs=Vt.unstable_now,g6=Vt.unstable_getCurrentPriorityLevel,lj=Vt.unstable_ImmediatePriority,oj=Vt.unstable_UserBlockingPriority,pd=Vt.unstable_NormalPriority,v6=Vt.unstable_LowPriority,cj=Vt.unstable_IdlePriority,j6=Vt.log,y6=Vt.unstable_setDisableYieldValue,Mc=null,Vs=null;function pi(s){if(typeof j6=="function"&&y6(s),Vs&&typeof Vs.setStrictMode=="function")try{Vs.setStrictMode(Mc,s)}catch{}}var Ks=Math.clz32?Math.clz32:k6,b6=Math.log,w6=Math.LN2;function k6(s){return s>>>=0,s===0?32:31-(b6(s)/w6|0)|0}var dh=256,uh=262144,mh=4194304;function ua(s){var t=s&42;if(t!==0)return t;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function hu(s,t,n){var r=s.pendingLanes;if(r===0)return 0;var i=0,l=s.suspendedLanes,o=s.pingedLanes;s=s.warmLanes;var c=r&134217727;return c!==0?(r=c&~l,r!==0?i=ua(r):(o&=c,o!==0?i=ua(o):n||(n=c&~s,n!==0&&(i=ua(n))))):(c=r&~l,c!==0?i=ua(c):o!==0?i=ua(o):n||(n=r&~s,n!==0&&(i=ua(n)))),i===0?0:t!==0&&t!==i&&!(t&l)&&(l=i&-i,n=t&-t,l>=n||l===32&&(n&4194048)!==0)?t:i}function $c(s,t){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&t)===0}function T6(s,t){switch(s){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hj(){var s=mh;return mh<<=1,!(mh&62914560)&&(mh=4194304),s}function r0(s){for(var t=[],n=0;31>n;n++)t.push(s);return t}function Gc(s,t){s.pendingLanes|=t,t!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function S6(s,t,n,r,i,l){var o=s.pendingLanes;s.pendingLanes=n,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=n,s.entangledLanes&=n,s.errorRecoveryDisabledLanes&=n,s.shellSuspendCounter=0;var c=s.entanglements,d=s.expirationTimes,u=s.hiddenUpdates;for(n=o&~n;0<n;){var p=31-Ks(n),g=1<<p;c[p]=0,d[p]=-1;var v=u[p];if(v!==null)for(u[p]=null,p=0;p<v.length;p++){var y=v[p];y!==null&&(y.lane&=-536870913)}n&=~g}r!==0&&dj(s,r,0),l!==0&&i===0&&s.tag!==0&&(s.suspendedLanes|=l&~(o&~t))}function dj(s,t,n){s.pendingLanes|=t,s.suspendedLanes&=~t;var r=31-Ks(t);s.entangledLanes|=t,s.entanglements[r]=s.entanglements[r]|1073741824|n&261930}function uj(s,t){var n=s.entangledLanes|=t;for(s=s.entanglements;n;){var r=31-Ks(n),i=1<<r;i&t|s[r]&t&&(s[r]|=t),n&=~i}}function mj(s,t){var n=t&-t;return n=n&42?1:sp(n),n&(s.suspendedLanes|t)?0:n}function sp(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function np(s){return s&=-s,2<s?8<s?s&134217727?32:268435456:8:2}function fj(){var s=Ye.p;return s!==0?s:(s=window.event,s===void 0?32:Ry(s.type))}function bg(s,t){var n=Ye.p;try{return Ye.p=s,t()}finally{Ye.p=n}}var Vi=Math.random().toString(36).slice(2),os="__reactFiber$"+Vi,Gs="__reactProps$"+Vi,Hl="__reactContainer$"+Vi,Mm="__reactEvents$"+Vi,N6="__reactListeners$"+Vi,A6="__reactHandles$"+Vi,wg="__reactResources$"+Vi,zc="__reactMarker$"+Vi;function rp(s){delete s[os],delete s[Gs],delete s[Mm],delete s[N6],delete s[A6]}function nl(s){var t=s[os];if(t)return t;for(var n=s.parentNode;n;){if(t=n[Hl]||n[os]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(s=E1(s);s!==null;){if(n=s[os])return n;s=E1(s)}return t}s=n,n=s.parentNode}return null}function Ul(s){if(s=s[os]||s[Hl]){var t=s.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return s}return null}function Ro(s){var t=s.tag;if(t===5||t===26||t===27||t===6)return s.stateNode;throw Error(de(33))}function xl(s){var t=s[wg];return t||(t=s[wg]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function es(s){s[zc]=!0}var pj=new Set,xj={};function Ga(s,t){Cl(s,t),Cl(s+"Capture",t)}function Cl(s,t){for(xj[s]=t,s=0;s<t.length;s++)pj.add(t[s])}var _6=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kg={},Tg={};function E6(s){return Cm.call(Tg,s)?!0:Cm.call(kg,s)?!1:_6.test(s)?Tg[s]=!0:(kg[s]=!0,!1)}function Uh(s,t,n){if(E6(t))if(n===null)s.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":s.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){s.removeAttribute(t);return}}s.setAttribute(t,""+n)}}function fh(s,t,n){if(n===null)s.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(t);return}s.setAttribute(t,""+n)}}function hr(s,t,n,r){if(r===null)s.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(n);return}s.setAttributeNS(t,n,""+r)}}function nn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function gj(s){var t=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function C6(s,t,n){var r=Object.getOwnPropertyDescriptor(s.constructor.prototype,t);if(!s.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,l=r.set;return Object.defineProperty(s,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,l.call(this,o)}}),Object.defineProperty(s,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){s._valueTracker=null,delete s[t]}}}}function $m(s){if(!s._valueTracker){var t=gj(s)?"checked":"value";s._valueTracker=C6(s,t,""+s[t])}}function vj(s){if(!s)return!1;var t=s._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return s&&(r=gj(s)?s.checked?"true":"false":s.value),s=r,s!==n?(t.setValue(s),!0):!1}function xd(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var M6=/[\n"\\]/g;function ln(s){return s.replace(M6,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Gm(s,t,n,r,i,l,o,c){s.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?s.type=o:s.removeAttribute("type"),t!=null?o==="number"?(t===0&&s.value===""||s.value!=t)&&(s.value=""+nn(t)):s.value!==""+nn(t)&&(s.value=""+nn(t)):o!=="submit"&&o!=="reset"||s.removeAttribute("value"),t!=null?zm(s,o,nn(t)):n!=null?zm(s,o,nn(n)):r!=null&&s.removeAttribute("value"),i==null&&l!=null&&(s.defaultChecked=!!l),i!=null&&(s.checked=i&&typeof i!="function"&&typeof i!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?s.name=""+nn(c):s.removeAttribute("name")}function jj(s,t,n,r,i,l,o,c){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(s.type=l),t!=null||n!=null){if(!(l!=="submit"&&l!=="reset"||t!=null)){$m(s);return}n=n!=null?""+nn(n):"",t=t!=null?""+nn(t):n,c||t===s.value||(s.value=t),s.defaultValue=t}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,s.checked=c?s.checked:!!r,s.defaultChecked=!!r,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(s.name=o),$m(s)}function zm(s,t,n){t==="number"&&xd(s.ownerDocument)===s||s.defaultValue===""+n||(s.defaultValue=""+n)}function gl(s,t,n,r){if(s=s.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<s.length;n++)i=t.hasOwnProperty("$"+s[n].value),s[n].selected!==i&&(s[n].selected=i),i&&r&&(s[n].defaultSelected=!0)}else{for(n=""+nn(n),t=null,i=0;i<s.length;i++){if(s[i].value===n){s[i].selected=!0,r&&(s[i].defaultSelected=!0);return}t!==null||s[i].disabled||(t=s[i])}t!==null&&(t.selected=!0)}}function yj(s,t,n){if(t!=null&&(t=""+nn(t),t!==s.value&&(s.value=t),n==null)){s.defaultValue!==t&&(s.defaultValue=t);return}s.defaultValue=n!=null?""+nn(n):""}function bj(s,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(de(92));if(Do(r)){if(1<r.length)throw Error(de(93));r=r[0]}n=r}n==null&&(n=""),t=n}n=nn(t),s.defaultValue=n,r=s.textContent,r===n&&r!==""&&r!==null&&(s.value=r),$m(s)}function Ml(s,t){if(t){var n=s.firstChild;if(n&&n===s.lastChild&&n.nodeType===3){n.nodeValue=t;return}}s.textContent=t}var $6=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sg(s,t,n){var r=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?s.setProperty(t,""):t==="float"?s.cssFloat="":s[t]="":r?s.setProperty(t,n):typeof n!="number"||n===0||$6.has(t)?t==="float"?s.cssFloat=n:s[t]=(""+n).trim():s[t]=n+"px"}function wj(s,t,n){if(t!=null&&typeof t!="object")throw Error(de(62));if(s=s.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Sg(s,i,r)}else for(var l in t)t.hasOwnProperty(l)&&Sg(s,l,t[l])}function ip(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G6=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),z6=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fh(s){return z6.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function br(){}var Im=null;function ap(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var rl=null,vl=null;function Ng(s){var t=Ul(s);if(t&&(s=t.stateNode)){var n=s[Gs]||null;e:switch(s=t.stateNode,t.type){case"input":if(Gm(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=s;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ln(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==s&&r.form===s.form){var i=r[Gs]||null;if(!i)throw Error(de(90));Gm(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===s.form&&vj(r)}break e;case"textarea":yj(s,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&gl(s,!!n.multiple,t,!1)}}}var i0=!1;function kj(s,t,n){if(i0)return s(t,n);i0=!0;try{var r=s(t);return r}finally{if(i0=!1,(rl!==null||vl!==null)&&(wu(),rl&&(t=rl,s=vl,vl=rl=null,Ng(t),s)))for(t=0;t<s.length;t++)Ng(s[t])}}function oc(s,t){var n=s.stateNode;if(n===null)return null;var r=n[Gs]||null;if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(s=s.type,r=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!r;break e;default:s=!1}if(s)return null;if(n&&typeof n!="function")throw Error(de(231,t,typeof n));return n}var $r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Dm=!1;if($r)try{var ko={};Object.defineProperty(ko,"passive",{get:function(){Dm=!0}}),window.addEventListener("test",ko,ko),window.removeEventListener("test",ko,ko)}catch{Dm=!1}var xi=null,lp=null,Vh=null;function Tj(){if(Vh)return Vh;var s,t=lp,n=t.length,r,i="value"in xi?xi.value:xi.textContent,l=i.length;for(s=0;s<n&&t[s]===i[s];s++);var o=n-s;for(r=1;r<=o&&t[n-r]===i[l-r];r++);return Vh=i.slice(s,1<r?1-r:void 0)}function Kh(s){var t=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&t===13&&(s=13)):s=t,s===10&&(s=13),32<=s||s===13?s:0}function ph(){return!0}function Ag(){return!1}function zs(s){function t(n,r,i,l,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var c in s)s.hasOwnProperty(c)&&(n=s[c],this[c]=n?n(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ph:Ag,this.isPropagationStopped=Ag,this}return pt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ph)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ph)},persist:function(){},isPersistent:ph}),t}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},du=zs(za),Ic=pt({},za,{view:0,detail:0}),I6=zs(Ic),a0,l0,To,uu=pt({},Ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:op,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==To&&(To&&s.type==="mousemove"?(a0=s.screenX-To.screenX,l0=s.screenY-To.screenY):l0=a0=0,To=s),a0)},movementY:function(s){return"movementY"in s?s.movementY:l0}}),_g=zs(uu),D6=pt({},uu,{dataTransfer:0}),R6=zs(D6),O6=pt({},Ic,{relatedTarget:0}),o0=zs(O6),q6=pt({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),L6=zs(q6),P6=pt({},za,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),B6=zs(P6),H6=pt({},za,{data:0}),Eg=zs(H6),U6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},V6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function K6(s){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(s):(s=V6[s])?!!t[s]:!1}function op(){return K6}var Z6=pt({},Ic,{key:function(s){if(s.key){var t=U6[s.key]||s.key;if(t!=="Unidentified")return t}return s.type==="keypress"?(s=Kh(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?F6[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:op,charCode:function(s){return s.type==="keypress"?Kh(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Kh(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),X6=zs(Z6),Y6=pt({},uu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cg=zs(Y6),W6=pt({},Ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:op}),Q6=zs(W6),J6=pt({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),e7=zs(J6),t7=pt({},uu,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),s7=zs(t7),n7=pt({},za,{newState:0,oldState:0}),r7=zs(n7),i7=[9,13,27,32],cp=$r&&"CompositionEvent"in window,Bo=null;$r&&"documentMode"in document&&(Bo=document.documentMode);var a7=$r&&"TextEvent"in window&&!Bo,Sj=$r&&(!cp||Bo&&8<Bo&&11>=Bo),Mg=" ",$g=!1;function Nj(s,t){switch(s){case"keyup":return i7.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Aj(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var il=!1;function l7(s,t){switch(s){case"compositionend":return Aj(t);case"keypress":return t.which!==32?null:($g=!0,Mg);case"textInput":return s=t.data,s===Mg&&$g?null:s;default:return null}}function o7(s,t){if(il)return s==="compositionend"||!cp&&Nj(s,t)?(s=Tj(),Vh=lp=xi=null,il=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Sj&&t.locale!=="ko"?null:t.data;default:return null}}var c7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gg(s){var t=s&&s.nodeName&&s.nodeName.toLowerCase();return t==="input"?!!c7[s.type]:t==="textarea"}function _j(s,t,n,r){rl?vl?vl.push(r):vl=[r]:rl=r,t=zd(t,"onChange"),0<t.length&&(n=new du("onChange","change",null,n,r),s.push({event:n,listeners:t}))}var Ho=null,cc=null;function h7(s){ky(s,0)}function mu(s){var t=Ro(s);if(vj(t))return s}function zg(s,t){if(s==="change")return t}var Ej=!1;if($r){var c0;if($r){var h0="oninput"in document;if(!h0){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),h0=typeof Ig.oninput=="function"}c0=h0}else c0=!1;Ej=c0&&(!document.documentMode||9<document.documentMode)}function Dg(){Ho&&(Ho.detachEvent("onpropertychange",Cj),cc=Ho=null)}function Cj(s){if(s.propertyName==="value"&&mu(cc)){var t=[];_j(t,cc,s,ap(s)),kj(h7,t)}}function d7(s,t,n){s==="focusin"?(Dg(),Ho=t,cc=n,Ho.attachEvent("onpropertychange",Cj)):s==="focusout"&&Dg()}function u7(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return mu(cc)}function m7(s,t){if(s==="click")return mu(t)}function f7(s,t){if(s==="input"||s==="change")return mu(t)}function p7(s,t){return s===t&&(s!==0||1/s===1/t)||s!==s&&t!==t}var Ys=typeof Object.is=="function"?Object.is:p7;function hc(s,t){if(Ys(s,t))return!0;if(typeof s!="object"||s===null||typeof t!="object"||t===null)return!1;var n=Object.keys(s),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cm.call(t,i)||!Ys(s[i],t[i]))return!1}return!0}function Rg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Og(s,t){var n=Rg(s);s=0;for(var r;n;){if(n.nodeType===3){if(r=s+n.textContent.length,s<=t&&r>=t)return{node:n,offset:t-s};s=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rg(n)}}function Mj(s,t){return s&&t?s===t?!0:s&&s.nodeType===3?!1:t&&t.nodeType===3?Mj(s,t.parentNode):"contains"in s?s.contains(t):s.compareDocumentPosition?!!(s.compareDocumentPosition(t)&16):!1:!1}function $j(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var t=xd(s.document);t instanceof s.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)s=t.contentWindow;else break;t=xd(s.document)}return t}function hp(s){var t=s&&s.nodeName&&s.nodeName.toLowerCase();return t&&(t==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||t==="textarea"||s.contentEditable==="true")}var x7=$r&&"documentMode"in document&&11>=document.documentMode,al=null,Rm=null,Uo=null,Om=!1;function qg(s,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Om||al==null||al!==xd(r)||(r=al,"selectionStart"in r&&hp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uo&&hc(Uo,r)||(Uo=r,r=zd(Rm,"onSelect"),0<r.length&&(t=new du("onSelect","select",null,t,n),s.push({event:t,listeners:r}),t.target=al)))}function oa(s,t){var n={};return n[s.toLowerCase()]=t.toLowerCase(),n["Webkit"+s]="webkit"+t,n["Moz"+s]="moz"+t,n}var ll={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},d0={},Gj={};$r&&(Gj=document.createElement("div").style,"AnimationEvent"in window||(delete ll.animationend.animation,delete ll.animationiteration.animation,delete ll.animationstart.animation),"TransitionEvent"in window||delete ll.transitionend.transition);function Ia(s){if(d0[s])return d0[s];if(!ll[s])return s;var t=ll[s],n;for(n in t)if(t.hasOwnProperty(n)&&n in Gj)return d0[s]=t[n];return s}var zj=Ia("animationend"),Ij=Ia("animationiteration"),Dj=Ia("animationstart"),g7=Ia("transitionrun"),v7=Ia("transitionstart"),j7=Ia("transitioncancel"),Rj=Ia("transitionend"),Oj=new Map,qm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qm.push("scrollEnd");function $n(s,t){Oj.set(s,t),Ga(t,[s])}var gd=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},sn=[],ol=0,dp=0;function fu(){for(var s=ol,t=dp=ol=0;t<s;){var n=sn[t];sn[t++]=null;var r=sn[t];sn[t++]=null;var i=sn[t];sn[t++]=null;var l=sn[t];if(sn[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}l!==0&&qj(n,i,l)}}function pu(s,t,n,r){sn[ol++]=s,sn[ol++]=t,sn[ol++]=n,sn[ol++]=r,dp|=r,s.lanes|=r,s=s.alternate,s!==null&&(s.lanes|=r)}function up(s,t,n,r){return pu(s,t,n,r),vd(s)}function Da(s,t){return pu(s,null,null,t),vd(s)}function qj(s,t,n){s.lanes|=n;var r=s.alternate;r!==null&&(r.lanes|=n);for(var i=!1,l=s.return;l!==null;)l.childLanes|=n,r=l.alternate,r!==null&&(r.childLanes|=n),l.tag===22&&(s=l.stateNode,s===null||s._visibility&1||(i=!0)),s=l,l=l.return;return s.tag===3?(l=s.stateNode,i&&t!==null&&(i=31-Ks(n),s=l.hiddenUpdates,r=s[i],r===null?s[i]=[t]:r.push(t),t.lane=n|536870912),l):null}function vd(s){if(50<Jo)throw Jo=0,lf=null,Error(de(185));for(var t=s.return;t!==null;)s=t,t=s.return;return s.tag===3?s.stateNode:null}var cl={};function y7(s,t,n,r){this.tag=s,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bs(s,t,n,r){return new y7(s,t,n,r)}function mp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ar(s,t){var n=s.alternate;return n===null?(n=Bs(s.tag,t,s.key,s.mode),n.elementType=s.elementType,n.type=s.type,n.stateNode=s.stateNode,n.alternate=s,s.alternate=n):(n.pendingProps=t,n.type=s.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=s.flags&65011712,n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,t=s.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=s.sibling,n.index=s.index,n.ref=s.ref,n.refCleanup=s.refCleanup,n}function Lj(s,t){s.flags&=65011714;var n=s.alternate;return n===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,s.type=n.type,t=n.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),s}function Zh(s,t,n,r,i,l){var o=0;if(r=s,typeof s=="function")mp(s)&&(o=1);else if(typeof s=="string")o=Sw(s,n,Hn.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case Nm:return s=Bs(31,n,t,i),s.elementType=Nm,s.lanes=l,s;case tl:return ba(n.children,i,l,t);case ij:o=8,i|=24;break;case km:return s=Bs(12,n,t,i|2),s.elementType=km,s.lanes=l,s;case Tm:return s=Bs(13,n,t,i),s.elementType=Tm,s.lanes=l,s;case Sm:return s=Bs(19,n,t,i),s.elementType=Sm,s.lanes=l,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case yr:o=10;break e;case aj:o=9;break e;case Jf:o=11;break e;case ep:o=14;break e;case ii:o=16,r=null;break e}o=29,n=Error(de(130,s===null?"null":typeof s,"")),r=null}return t=Bs(o,n,t,i),t.elementType=s,t.type=r,t.lanes=l,t}function ba(s,t,n,r){return s=Bs(7,s,r,t),s.lanes=n,s}function u0(s,t,n){return s=Bs(6,s,null,t),s.lanes=n,s}function Pj(s){var t=Bs(18,null,null,0);return t.stateNode=s,t}function m0(s,t,n){return t=Bs(4,s.children!==null?s.children:[],s.key,t),t.lanes=n,t.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},t}var Lg=new WeakMap;function on(s,t){if(typeof s=="object"&&s!==null){var n=Lg.get(s);return n!==void 0?n:(t={value:s,source:t,stack:yg(t)},Lg.set(s,t),t)}return{value:s,source:t,stack:yg(t)}}var hl=[],dl=0,jd=null,dc=0,rn=[],an=0,Di=null,On=1,qn="";function gr(s,t){hl[dl++]=dc,hl[dl++]=jd,jd=s,dc=t}function Bj(s,t,n){rn[an++]=On,rn[an++]=qn,rn[an++]=Di,Di=s;var r=On;s=qn;var i=32-Ks(r)-1;r&=~(1<<i),n+=1;var l=32-Ks(t)+i;if(30<l){var o=i-i%5;l=(r&(1<<o)-1).toString(32),r>>=o,i-=o,On=1<<32-Ks(t)+i|n<<i|r,qn=l+s}else On=1<<l|n<<i|r,qn=s}function fp(s){s.return!==null&&(gr(s,1),Bj(s,1,0))}function pp(s){for(;s===jd;)jd=hl[--dl],hl[dl]=null,dc=hl[--dl],hl[dl]=null;for(;s===Di;)Di=rn[--an],rn[an]=null,qn=rn[--an],rn[an]=null,On=rn[--an],rn[an]=null}function Hj(s,t){rn[an++]=On,rn[an++]=qn,rn[an++]=Di,On=t.id,qn=t.overflow,Di=s}var cs=null,ft=null,Ue=!1,ki=null,cn=!1,Lm=Error(de(519));function Ri(s){var t=Error(de(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw uc(on(t,s)),Lm}function Pg(s){var t=s.stateNode,n=s.type,r=s.memoizedProps;switch(t[os]=s,t[Gs]=r,n){case"dialog":Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":case"embed":Pe("load",t);break;case"video":case"audio":for(n=0;n<xc.length;n++)Pe(xc[n],t);break;case"source":Pe("error",t);break;case"img":case"image":case"link":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"input":Pe("invalid",t),jj(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Pe("invalid",t);break;case"textarea":Pe("invalid",t),bj(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||r.suppressHydrationWarning===!0||Sy(t.textContent,n)?(r.popover!=null&&(Pe("beforetoggle",t),Pe("toggle",t)),r.onScroll!=null&&Pe("scroll",t),r.onScrollEnd!=null&&Pe("scrollend",t),r.onClick!=null&&(t.onclick=br),t=!0):t=!1,t||Ri(s,!0)}function Bg(s){for(cs=s.return;cs;)switch(cs.tag){case 5:case 31:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:cs=cs.return}}function Ya(s){if(s!==cs)return!1;if(!Ue)return Bg(s),Ue=!0,!1;var t=s.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=s.type,n=!(n!=="form"&&n!=="button")||uf(s.type,s.memoizedProps)),n=!n),n&&ft&&Ri(s),Bg(s),t===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(de(317));ft=_1(s)}else if(t===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(de(317));ft=_1(s)}else t===27?(t=ft,Ki(s.type)?(s=xf,xf=null,ft=s):ft=t):ft=cs?un(s.stateNode.nextSibling):null;return!0}function Sa(){ft=cs=null,Ue=!1}function f0(){var s=ki;return s!==null&&(Cs===null?Cs=s:Cs.push.apply(Cs,s),ki=null),s}function uc(s){ki===null?ki=[s]:ki.push(s)}var Pm=Zn(null),Ra=null,wr=null;function li(s,t,n){ct(Pm,t._currentValue),t._currentValue=n}function _r(s){s._currentValue=Pm.current,ss(Pm)}function Bm(s,t,n){for(;s!==null;){var r=s.alternate;if((s.childLanes&t)!==t?(s.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),s===n)break;s=s.return}}function Hm(s,t,n,r){var i=s.child;for(i!==null&&(i.return=s);i!==null;){var l=i.dependencies;if(l!==null){var o=i.child;l=l.firstContext;e:for(;l!==null;){var c=l;l=i;for(var d=0;d<t.length;d++)if(c.context===t[d]){l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),Bm(l.return,n,s),r||(o=null);break e}l=c.next}}else if(i.tag===18){if(o=i.return,o===null)throw Error(de(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Bm(o,n,s),o=null}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===s){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}}function Fl(s,t,n,r){s=null;for(var i=t,l=!1;i!==null;){if(!l){if(i.flags&524288)l=!0;else if(i.flags&262144)break}if(i.tag===10){var o=i.alternate;if(o===null)throw Error(de(387));if(o=o.memoizedProps,o!==null){var c=i.type;Ys(i.pendingProps.value,o.value)||(s!==null?s.push(c):s=[c])}}else if(i===ud.current){if(o=i.alternate,o===null)throw Error(de(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(s!==null?s.push(vc):s=[vc])}i=i.return}s!==null&&Hm(t,s,n,r),t.flags|=262144}function yd(s){for(s=s.firstContext;s!==null;){if(!Ys(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Na(s){Ra=s,wr=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function hs(s){return Uj(Ra,s)}function xh(s,t){return Ra===null&&Na(s),Uj(s,t)}function Uj(s,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},wr===null){if(s===null)throw Error(de(308));wr=t,s.dependencies={lanes:0,firstContext:t},s.flags|=524288}else wr=wr.next=t;return n}var b7=typeof AbortController<"u"?AbortController:function(){var s=[],t=this.signal={aborted:!1,addEventListener:function(n,r){s.push(r)}};this.abort=function(){t.aborted=!0,s.forEach(function(n){return n()})}},w7=Vt.unstable_scheduleCallback,k7=Vt.unstable_NormalPriority,Ot={$$typeof:yr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xp(){return{controller:new b7,data:new Map,refCount:0}}function Dc(s){s.refCount--,s.refCount===0&&w7(k7,function(){s.controller.abort()})}var Fo=null,Um=0,$l=0,jl=null;function T7(s,t){if(Fo===null){var n=Fo=[];Um=0,$l=Pp(),jl={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Um++,t.then(Hg,Hg),t}function Hg(){if(--Um===0&&Fo!==null){jl!==null&&(jl.status="fulfilled");var s=Fo;Fo=null,$l=0,jl=null;for(var t=0;t<s.length;t++)(0,s[t])()}}function S7(s,t){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return s.then(function(){r.status="fulfilled",r.value=t;for(var i=0;i<n.length;i++)(0,n[i])(t)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var Ug=De.S;De.S=function(s,t){ry=Fs(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&T7(s,t),Ug!==null&&Ug(s,t)};var wa=Zn(null);function gp(){var s=wa.current;return s!==null?s:it.pooledCache}function Xh(s,t){t===null?ct(wa,wa.current):ct(wa,t.pool)}function Fj(){var s=gp();return s===null?null:{parent:Ot._currentValue,pool:s}}var Vl=Error(de(460)),vp=Error(de(474)),xu=Error(de(542)),bd={then:function(){}};function Fg(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Vj(s,t,n){switch(n=s[n],n===void 0?s.push(t):n!==t&&(t.then(br,br),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw s=t.reason,Kg(s),s;default:if(typeof t.status=="string")t.then(br,br);else{if(s=it,s!==null&&100<s.shellSuspendCounter)throw Error(de(482));s=t,s.status="pending",s.then(function(r){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=r}},function(r){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw s=t.reason,Kg(s),s}throw ka=t,Vl}}function ma(s){try{var t=s._init;return t(s._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ka=n,Vl):n}}var ka=null;function Vg(){if(ka===null)throw Error(de(459));var s=ka;return ka=null,s}function Kg(s){if(s===Vl||s===xu)throw Error(de(483))}var yl=null,mc=0;function gh(s){var t=mc;return mc+=1,yl===null&&(yl=[]),Vj(yl,s,t)}function So(s,t){t=t.props.ref,s.ref=t!==void 0?t:null}function vh(s,t){throw t.$$typeof===d6?Error(de(525)):(s=Object.prototype.toString.call(t),Error(de(31,s==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":s)))}function Kj(s){function t(T,w){if(s){var A=T.deletions;A===null?(T.deletions=[w],T.flags|=16):A.push(w)}}function n(T,w){if(!s)return null;for(;w!==null;)t(T,w),w=w.sibling;return null}function r(T){for(var w=new Map;T!==null;)T.key!==null?w.set(T.key,T):w.set(T.index,T),T=T.sibling;return w}function i(T,w){return T=Ar(T,w),T.index=0,T.sibling=null,T}function l(T,w,A){return T.index=A,s?(A=T.alternate,A!==null?(A=A.index,A<w?(T.flags|=67108866,w):A):(T.flags|=67108866,w)):(T.flags|=1048576,w)}function o(T){return s&&T.alternate===null&&(T.flags|=67108866),T}function c(T,w,A,z){return w===null||w.tag!==6?(w=u0(A,T.mode,z),w.return=T,w):(w=i(w,A),w.return=T,w)}function d(T,w,A,z){var Y=A.type;return Y===tl?p(T,w,A.props.children,z,A.key):w!==null&&(w.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===ii&&ma(Y)===w.type)?(w=i(w,A.props),So(w,A),w.return=T,w):(w=Zh(A.type,A.key,A.props,null,T.mode,z),So(w,A),w.return=T,w)}function u(T,w,A,z){return w===null||w.tag!==4||w.stateNode.containerInfo!==A.containerInfo||w.stateNode.implementation!==A.implementation?(w=m0(A,T.mode,z),w.return=T,w):(w=i(w,A.children||[]),w.return=T,w)}function p(T,w,A,z,Y){return w===null||w.tag!==7?(w=ba(A,T.mode,z,Y),w.return=T,w):(w=i(w,A),w.return=T,w)}function g(T,w,A){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=u0(""+w,T.mode,A),w.return=T,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case hh:return A=Zh(w.type,w.key,w.props,null,T.mode,A),So(A,w),A.return=T,A;case Io:return w=m0(w,T.mode,A),w.return=T,w;case ii:return w=ma(w),g(T,w,A)}if(Do(w)||wo(w))return w=ba(w,T.mode,A,null),w.return=T,w;if(typeof w.then=="function")return g(T,gh(w),A);if(w.$$typeof===yr)return g(T,xh(T,w),A);vh(T,w)}return null}function v(T,w,A,z){var Y=w!==null?w.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return Y!==null?null:c(T,w,""+A,z);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case hh:return A.key===Y?d(T,w,A,z):null;case Io:return A.key===Y?u(T,w,A,z):null;case ii:return A=ma(A),v(T,w,A,z)}if(Do(A)||wo(A))return Y!==null?null:p(T,w,A,z,null);if(typeof A.then=="function")return v(T,w,gh(A),z);if(A.$$typeof===yr)return v(T,w,xh(T,A),z);vh(T,A)}return null}function y(T,w,A,z,Y){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return T=T.get(A)||null,c(w,T,""+z,Y);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case hh:return T=T.get(z.key===null?A:z.key)||null,d(w,T,z,Y);case Io:return T=T.get(z.key===null?A:z.key)||null,u(w,T,z,Y);case ii:return z=ma(z),y(T,w,A,z,Y)}if(Do(z)||wo(z))return T=T.get(A)||null,p(w,T,z,Y,null);if(typeof z.then=="function")return y(T,w,A,gh(z),Y);if(z.$$typeof===yr)return y(T,w,A,xh(w,z),Y);vh(w,z)}return null}function M(T,w,A,z){for(var Y=null,ie=null,_=w,k=w=0,N=null;_!==null&&k<A.length;k++){_.index>k?(N=_,_=null):N=_.sibling;var C=v(T,_,A[k],z);if(C===null){_===null&&(_=N);break}s&&_&&C.alternate===null&&t(T,_),w=l(C,w,k),ie===null?Y=C:ie.sibling=C,ie=C,_=N}if(k===A.length)return n(T,_),Ue&&gr(T,k),Y;if(_===null){for(;k<A.length;k++)_=g(T,A[k],z),_!==null&&(w=l(_,w,k),ie===null?Y=_:ie.sibling=_,ie=_);return Ue&&gr(T,k),Y}for(_=r(_);k<A.length;k++)N=y(_,T,k,A[k],z),N!==null&&(s&&N.alternate!==null&&_.delete(N.key===null?k:N.key),w=l(N,w,k),ie===null?Y=N:ie.sibling=N,ie=N);return s&&_.forEach(function(G){return t(T,G)}),Ue&&gr(T,k),Y}function L(T,w,A,z){if(A==null)throw Error(de(151));for(var Y=null,ie=null,_=w,k=w=0,N=null,C=A.next();_!==null&&!C.done;k++,C=A.next()){_.index>k?(N=_,_=null):N=_.sibling;var G=v(T,_,C.value,z);if(G===null){_===null&&(_=N);break}s&&_&&G.alternate===null&&t(T,_),w=l(G,w,k),ie===null?Y=G:ie.sibling=G,ie=G,_=N}if(C.done)return n(T,_),Ue&&gr(T,k),Y;if(_===null){for(;!C.done;k++,C=A.next())C=g(T,C.value,z),C!==null&&(w=l(C,w,k),ie===null?Y=C:ie.sibling=C,ie=C);return Ue&&gr(T,k),Y}for(_=r(_);!C.done;k++,C=A.next())C=y(_,T,k,C.value,z),C!==null&&(s&&C.alternate!==null&&_.delete(C.key===null?k:C.key),w=l(C,w,k),ie===null?Y=C:ie.sibling=C,ie=C);return s&&_.forEach(function(I){return t(T,I)}),Ue&&gr(T,k),Y}function F(T,w,A,z){if(typeof A=="object"&&A!==null&&A.type===tl&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case hh:e:{for(var Y=A.key;w!==null;){if(w.key===Y){if(Y=A.type,Y===tl){if(w.tag===7){n(T,w.sibling),z=i(w,A.props.children),z.return=T,T=z;break e}}else if(w.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===ii&&ma(Y)===w.type){n(T,w.sibling),z=i(w,A.props),So(z,A),z.return=T,T=z;break e}n(T,w);break}else t(T,w);w=w.sibling}A.type===tl?(z=ba(A.props.children,T.mode,z,A.key),z.return=T,T=z):(z=Zh(A.type,A.key,A.props,null,T.mode,z),So(z,A),z.return=T,T=z)}return o(T);case Io:e:{for(Y=A.key;w!==null;){if(w.key===Y)if(w.tag===4&&w.stateNode.containerInfo===A.containerInfo&&w.stateNode.implementation===A.implementation){n(T,w.sibling),z=i(w,A.children||[]),z.return=T,T=z;break e}else{n(T,w);break}else t(T,w);w=w.sibling}z=m0(A,T.mode,z),z.return=T,T=z}return o(T);case ii:return A=ma(A),F(T,w,A,z)}if(Do(A))return M(T,w,A,z);if(wo(A)){if(Y=wo(A),typeof Y!="function")throw Error(de(150));return A=Y.call(A),L(T,w,A,z)}if(typeof A.then=="function")return F(T,w,gh(A),z);if(A.$$typeof===yr)return F(T,w,xh(T,A),z);vh(T,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,w!==null&&w.tag===6?(n(T,w.sibling),z=i(w,A),z.return=T,T=z):(n(T,w),z=u0(A,T.mode,z),z.return=T,T=z),o(T)):n(T,w)}return function(T,w,A,z){try{mc=0;var Y=F(T,w,A,z);return yl=null,Y}catch(_){if(_===Vl||_===xu)throw _;var ie=Bs(29,_,null,T.mode);return ie.lanes=z,ie.return=T,ie}finally{}}}var Aa=Kj(!0),Zj=Kj(!1),ai=!1;function jp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fm(s,t){s=s.updateQueue,t.updateQueue===s&&(t.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ti(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Si(s,t,n){var r=s.updateQueue;if(r===null)return null;if(r=r.shared,Xe&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=vd(s),qj(s,null,n),t}return pu(s,r,t,n),vd(s)}function Vo(s,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var r=t.lanes;r&=s.pendingLanes,n|=r,t.lanes=n,uj(s,n)}}function p0(s,t){var n=s.updateQueue,r=s.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};l===null?i=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?i=l=t:l=l.next=t}else i=l=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,callbacks:r.callbacks},s.updateQueue=n;return}s=n.lastBaseUpdate,s===null?n.firstBaseUpdate=t:s.next=t,n.lastBaseUpdate=t}var Vm=!1;function Ko(){if(Vm){var s=jl;if(s!==null)throw s}}function Zo(s,t,n,r){Vm=!1;var i=s.updateQueue;ai=!1;var l=i.firstBaseUpdate,o=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var d=c,u=d.next;d.next=null,o===null?l=u:o.next=u,o=d;var p=s.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==o&&(c===null?p.firstBaseUpdate=u:c.next=u,p.lastBaseUpdate=d))}if(l!==null){var g=i.baseState;o=0,p=u=d=null,c=l;do{var v=c.lane&-536870913,y=v!==c.lane;if(y?(He&v)===v:(r&v)===v){v!==0&&v===$l&&(Vm=!0),p!==null&&(p=p.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var M=s,L=c;v=t;var F=n;switch(L.tag){case 1:if(M=L.payload,typeof M=="function"){g=M.call(F,g,v);break e}g=M;break e;case 3:M.flags=M.flags&-65537|128;case 0:if(M=L.payload,v=typeof M=="function"?M.call(F,g,v):M,v==null)break e;g=pt({},g,v);break e;case 2:ai=!0}}v=c.callback,v!==null&&(s.flags|=64,y&&(s.flags|=8192),y=i.callbacks,y===null?i.callbacks=[v]:y.push(v))}else y={lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(u=p=y,d=g):p=p.next=y,o|=v;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;y=c,c=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);p===null&&(d=g),i.baseState=d,i.firstBaseUpdate=u,i.lastBaseUpdate=p,l===null&&(i.shared.lanes=0),qi|=o,s.lanes=o,s.memoizedState=g}}function Xj(s,t){if(typeof s!="function")throw Error(de(191,s));s.call(t)}function Yj(s,t){var n=s.callbacks;if(n!==null)for(s.callbacks=null,s=0;s<n.length;s++)Xj(n[s],t)}var Gl=Zn(null),wd=Zn(0);function Zg(s,t){s=Dr,ct(wd,s),ct(Gl,t),Dr=s|t.baseLanes}function Km(){ct(wd,Dr),ct(Gl,Gl.current)}function yp(){Dr=wd.current,ss(Gl),ss(wd)}var Ws=Zn(null),dn=null;function oi(s){var t=s.alternate;ct(Mt,Mt.current&1),ct(Ws,s),dn===null&&(t===null||Gl.current!==null||t.memoizedState!==null)&&(dn=s)}function Zm(s){ct(Mt,Mt.current),ct(Ws,s),dn===null&&(dn=s)}function Wj(s){s.tag===22?(ct(Mt,Mt.current),ct(Ws,s),dn===null&&(dn=s)):ci()}function ci(){ct(Mt,Mt.current),ct(Ws,Ws.current)}function Ps(s){ss(Ws),dn===s&&(dn=null),ss(Mt)}var Mt=Zn(0);function kd(s){for(var t=s;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||ff(n)||pf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break;for(;t.sibling===null;){if(t.return===null||t.return===s)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Gr=0,Oe=null,tt=null,Dt=null,Td=!1,bl=!1,_a=!1,Sd=0,fc=0,wl=null,N7=0;function Nt(){throw Error(de(321))}function bp(s,t){if(t===null)return!1;for(var n=0;n<t.length&&n<s.length;n++)if(!Ys(s[n],t[n]))return!1;return!0}function wp(s,t,n,r,i,l){return Gr=l,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,De.H=s===null||s.memoizedState===null?_4:Gp,_a=!1,l=n(r,i),_a=!1,bl&&(l=Jj(t,n,r,i)),Qj(s),l}function Qj(s){De.H=pc;var t=tt!==null&&tt.next!==null;if(Gr=0,Dt=tt=Oe=null,Td=!1,fc=0,wl=null,t)throw Error(de(300));s===null||qt||(s=s.dependencies,s!==null&&yd(s)&&(qt=!0))}function Jj(s,t,n,r){Oe=s;var i=0;do{if(bl&&(wl=null),fc=0,bl=!1,25<=i)throw Error(de(301));if(i+=1,Dt=tt=null,s.updateQueue!=null){var l=s.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}De.H=E4,l=t(n,r)}while(bl);return l}function A7(){var s=De.H,t=s.useState()[0];return t=typeof t.then=="function"?Rc(t):t,s=s.useState()[0],(tt!==null?tt.memoizedState:null)!==s&&(Oe.flags|=1024),t}function kp(){var s=Sd!==0;return Sd=0,s}function Tp(s,t,n){t.updateQueue=s.updateQueue,t.flags&=-2053,s.lanes&=~n}function Sp(s){if(Td){for(s=s.memoizedState;s!==null;){var t=s.queue;t!==null&&(t.pending=null),s=s.next}Td=!1}Gr=0,Dt=tt=Oe=null,bl=!1,fc=Sd=0,wl=null}function vs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Oe.memoizedState=Dt=s:Dt=Dt.next=s,Dt}function Gt(){if(tt===null){var s=Oe.alternate;s=s!==null?s.memoizedState:null}else s=tt.next;var t=Dt===null?Oe.memoizedState:Dt.next;if(t!==null)Dt=t,tt=s;else{if(s===null)throw Oe.alternate===null?Error(de(467)):Error(de(310));tt=s,s={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Dt===null?Oe.memoizedState=Dt=s:Dt=Dt.next=s}return Dt}function gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rc(s){var t=fc;return fc+=1,wl===null&&(wl=[]),s=Vj(wl,s,t),t=Oe,(Dt===null?t.memoizedState:Dt.next)===null&&(t=t.alternate,De.H=t===null||t.memoizedState===null?_4:Gp),s}function vu(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Rc(s);if(s.$$typeof===yr)return hs(s)}throw Error(de(438,String(s)))}function Np(s){var t=null,n=Oe.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=Oe.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=gu(),Oe.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(s),r=0;r<s;r++)n[r]=u6;return t.index++,n}function zr(s,t){return typeof t=="function"?t(s):t}function Yh(s){var t=Gt();return Ap(t,tt,s)}function Ap(s,t,n){var r=s.queue;if(r===null)throw Error(de(311));r.lastRenderedReducer=n;var i=s.baseQueue,l=r.pending;if(l!==null){if(i!==null){var o=i.next;i.next=l.next,l.next=o}t.baseQueue=i=l,r.pending=null}if(l=s.baseState,i===null)s.memoizedState=l;else{t=i.next;var c=o=null,d=null,u=t,p=!1;do{var g=u.lane&-536870913;if(g!==u.lane?(He&g)===g:(Gr&g)===g){var v=u.revertLane;if(v===0)d!==null&&(d=d.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),g===$l&&(p=!0);else if((Gr&v)===v){u=u.next,v===$l&&(p=!0);continue}else g={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},d===null?(c=d=g,o=l):d=d.next=g,Oe.lanes|=v,qi|=v;g=u.action,_a&&n(l,g),l=u.hasEagerState?u.eagerState:n(l,g)}else v={lane:g,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},d===null?(c=d=v,o=l):d=d.next=v,Oe.lanes|=g,qi|=g;u=u.next}while(u!==null&&u!==t);if(d===null?o=l:d.next=c,!Ys(l,s.memoizedState)&&(qt=!0,p&&(n=jl,n!==null)))throw n;s.memoizedState=l,s.baseState=o,s.baseQueue=d,r.lastRenderedState=l}return i===null&&(r.lanes=0),[s.memoizedState,r.dispatch]}function x0(s){var t=Gt(),n=t.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=s;var r=n.dispatch,i=n.pending,l=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do l=s(l,o.action),o=o.next;while(o!==i);Ys(l,t.memoizedState)||(qt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function e4(s,t,n){var r=Oe,i=Gt(),l=Ue;if(l){if(n===void 0)throw Error(de(407));n=n()}else n=t();var o=!Ys((tt||i).memoizedState,n);if(o&&(i.memoizedState=n,qt=!0),i=i.queue,_p(n4.bind(null,r,i,s),[s]),i.getSnapshot!==t||o||Dt!==null&&Dt.memoizedState.tag&1){if(r.flags|=2048,zl(9,{destroy:void 0},s4.bind(null,r,i,n,t),null),it===null)throw Error(de(349));l||Gr&127||t4(r,t,n)}return n}function t4(s,t,n){s.flags|=16384,s={getSnapshot:t,value:n},t=Oe.updateQueue,t===null?(t=gu(),Oe.updateQueue=t,t.stores=[s]):(n=t.stores,n===null?t.stores=[s]:n.push(s))}function s4(s,t,n,r){t.value=n,t.getSnapshot=r,r4(t)&&i4(s)}function n4(s,t,n){return n(function(){r4(t)&&i4(s)})}function r4(s){var t=s.getSnapshot;s=s.value;try{var n=t();return!Ys(s,n)}catch{return!0}}function i4(s){var t=Da(s,2);t!==null&&$s(t,s,2)}function Xm(s){var t=vs();if(typeof s=="function"){var n=s;if(s=n(),_a){pi(!0);try{n()}finally{pi(!1)}}}return t.memoizedState=t.baseState=s,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:s},t}function a4(s,t,n,r){return s.baseState=n,Ap(s,tt,typeof r=="function"?r:zr)}function _7(s,t,n,r,i){if(yu(s))throw Error(de(485));if(s=t.action,s!==null){var l={payload:i,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){l.listeners.push(o)}};De.T!==null?n(!0):l.isTransition=!1,r(l),n=t.pending,n===null?(l.next=t.pending=l,l4(t,l)):(l.next=n.next,t.pending=n.next=l)}}function l4(s,t){var n=t.action,r=t.payload,i=s.state;if(t.isTransition){var l=De.T,o={};De.T=o;try{var c=n(i,r),d=De.S;d!==null&&d(o,c),Xg(s,t,c)}catch(u){Ym(s,t,u)}finally{l!==null&&o.types!==null&&(l.types=o.types),De.T=l}}else try{l=n(i,r),Xg(s,t,l)}catch(u){Ym(s,t,u)}}function Xg(s,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Yg(s,t,r)},function(r){return Ym(s,t,r)}):Yg(s,t,n)}function Yg(s,t,n){t.status="fulfilled",t.value=n,o4(t),s.state=n,t=s.pending,t!==null&&(n=t.next,n===t?s.pending=null:(n=n.next,t.next=n,l4(s,n)))}function Ym(s,t,n){var r=s.pending;if(s.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=n,o4(t),t=t.next;while(t!==r)}s.action=null}function o4(s){s=s.listeners;for(var t=0;t<s.length;t++)(0,s[t])()}function c4(s,t){return t}function Wg(s,t){if(Ue){var n=it.formState;if(n!==null){e:{var r=Oe;if(Ue){if(ft){t:{for(var i=ft,l=cn;i.nodeType!==8;){if(!l){i=null;break t}if(i=un(i.nextSibling),i===null){i=null;break t}}l=i.data,i=l==="F!"||l==="F"?i:null}if(i){ft=un(i.nextSibling),r=i.data==="F!";break e}}Ri(r)}r=!1}r&&(t=n[0])}}return n=vs(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c4,lastRenderedState:t},n.queue=r,n=S4.bind(null,Oe,r),r.dispatch=n,r=Xm(!1),l=$p.bind(null,Oe,!1,r.queue),r=vs(),i={state:t,dispatch:null,action:s,pending:null},r.queue=i,n=_7.bind(null,Oe,i,l,n),i.dispatch=n,r.memoizedState=s,[t,n,!1]}function Qg(s){var t=Gt();return h4(t,tt,s)}function h4(s,t,n){if(t=Ap(s,t,c4)[0],s=Yh(zr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=Rc(t)}catch(o){throw o===Vl?xu:o}else r=t;t=Gt();var i=t.queue,l=i.dispatch;return n!==t.memoizedState&&(Oe.flags|=2048,zl(9,{destroy:void 0},E7.bind(null,i,n),null)),[r,l,s]}function E7(s,t){s.action=t}function Jg(s){var t=Gt(),n=tt;if(n!==null)return h4(t,n,s);Gt(),t=t.memoizedState,n=Gt();var r=n.queue.dispatch;return n.memoizedState=s,[t,r,!1]}function zl(s,t,n,r){return s={tag:s,create:n,deps:r,inst:t,next:null},t=Oe.updateQueue,t===null&&(t=gu(),Oe.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=s.next=s:(r=n.next,n.next=s,s.next=r,t.lastEffect=s),s}function d4(){return Gt().memoizedState}function Wh(s,t,n,r){var i=vs();Oe.flags|=s,i.memoizedState=zl(1|t,{destroy:void 0},n,r===void 0?null:r)}function ju(s,t,n,r){var i=Gt();r=r===void 0?null:r;var l=i.memoizedState.inst;tt!==null&&r!==null&&bp(r,tt.memoizedState.deps)?i.memoizedState=zl(t,l,n,r):(Oe.flags|=s,i.memoizedState=zl(1|t,l,n,r))}function e1(s,t){Wh(8390656,8,s,t)}function _p(s,t){ju(2048,8,s,t)}function C7(s){Oe.flags|=4;var t=Oe.updateQueue;if(t===null)t=gu(),Oe.updateQueue=t,t.events=[s];else{var n=t.events;n===null?t.events=[s]:n.push(s)}}function u4(s){var t=Gt().memoizedState;return C7({ref:t,nextImpl:s}),function(){if(Xe&2)throw Error(de(440));return t.impl.apply(void 0,arguments)}}function m4(s,t){return ju(4,2,s,t)}function f4(s,t){return ju(4,4,s,t)}function p4(s,t){if(typeof t=="function"){s=s();var n=t(s);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return s=s(),t.current=s,function(){t.current=null}}function x4(s,t,n){n=n!=null?n.concat([s]):null,ju(4,4,p4.bind(null,t,s),n)}function Ep(){}function g4(s,t){var n=Gt();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&bp(t,r[1])?r[0]:(n.memoizedState=[s,t],s)}function v4(s,t){var n=Gt();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&bp(t,r[1]))return r[0];if(r=s(),_a){pi(!0);try{s()}finally{pi(!1)}}return n.memoizedState=[r,t],r}function Cp(s,t,n){return n===void 0||Gr&1073741824&&!(He&261930)?s.memoizedState=t:(s.memoizedState=n,s=ay(),Oe.lanes|=s,qi|=s,n)}function j4(s,t,n,r){return Ys(n,t)?n:Gl.current!==null?(s=Cp(s,n,r),Ys(s,t)||(qt=!0),s):!(Gr&42)||Gr&1073741824&&!(He&261930)?(qt=!0,s.memoizedState=n):(s=ay(),Oe.lanes|=s,qi|=s,t)}function y4(s,t,n,r,i){var l=Ye.p;Ye.p=l!==0&&8>l?l:8;var o=De.T,c={};De.T=c,$p(s,!1,t,n);try{var d=i(),u=De.S;if(u!==null&&u(c,d),d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=S7(d,r);Xo(s,t,p,Zs(s))}else Xo(s,t,r,Zs(s))}catch(g){Xo(s,t,{then:function(){},status:"rejected",reason:g},Zs())}finally{Ye.p=l,o!==null&&c.types!==null&&(o.types=c.types),De.T=o}}function M7(){}function Wm(s,t,n,r){if(s.tag!==5)throw Error(de(476));var i=b4(s).queue;y4(s,i,t,ya,n===null?M7:function(){return w4(s),n(r)})}function b4(s){var t=s.memoizedState;if(t!==null)return t;t={memoizedState:ya,baseState:ya,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:ya},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:n},next:null},s.memoizedState=t,s=s.alternate,s!==null&&(s.memoizedState=t),t}function w4(s){var t=b4(s);t.next===null&&(t=s.alternate.memoizedState),Xo(s,t.next.queue,{},Zs())}function Mp(){return hs(vc)}function k4(){return Gt().memoizedState}function T4(){return Gt().memoizedState}function $7(s){for(var t=s.return;t!==null;){switch(t.tag){case 24:case 3:var n=Zs();s=Ti(n);var r=Si(t,s,n);r!==null&&($s(r,t,n),Vo(r,t,n)),t={cache:xp()},s.payload=t;return}t=t.return}}function G7(s,t,n){var r=Zs();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},yu(s)?N4(t,n):(n=up(s,t,n,r),n!==null&&($s(n,s,r),A4(n,t,r)))}function S4(s,t,n){var r=Zs();Xo(s,t,n,r)}function Xo(s,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(yu(s))N4(t,i);else{var l=s.alternate;if(s.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,c=l(o,n);if(i.hasEagerState=!0,i.eagerState=c,Ys(c,o))return pu(s,t,i,0),it===null&&fu(),!1}catch{}finally{}if(n=up(s,t,i,r),n!==null)return $s(n,s,r),A4(n,t,r),!0}return!1}function $p(s,t,n,r){if(r={lane:2,revertLane:Pp(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},yu(s)){if(t)throw Error(de(479))}else t=up(s,n,r,2),t!==null&&$s(t,s,2)}function yu(s){var t=s.alternate;return s===Oe||t!==null&&t===Oe}function N4(s,t){bl=Td=!0;var n=s.pending;n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t}function A4(s,t,n){if(n&4194048){var r=t.lanes;r&=s.pendingLanes,n|=r,t.lanes=n,uj(s,n)}}var pc={readContext:hs,use:vu,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};pc.useEffectEvent=Nt;var _4={readContext:hs,use:vu,useCallback:function(s,t){return vs().memoizedState=[s,t===void 0?null:t],s},useContext:hs,useEffect:e1,useImperativeHandle:function(s,t,n){n=n!=null?n.concat([s]):null,Wh(4194308,4,p4.bind(null,t,s),n)},useLayoutEffect:function(s,t){return Wh(4194308,4,s,t)},useInsertionEffect:function(s,t){Wh(4,2,s,t)},useMemo:function(s,t){var n=vs();t=t===void 0?null:t;var r=s();if(_a){pi(!0);try{s()}finally{pi(!1)}}return n.memoizedState=[r,t],r},useReducer:function(s,t,n){var r=vs();if(n!==void 0){var i=n(t);if(_a){pi(!0);try{n(t)}finally{pi(!1)}}}else i=t;return r.memoizedState=r.baseState=i,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},r.queue=s,s=s.dispatch=G7.bind(null,Oe,s),[r.memoizedState,s]},useRef:function(s){var t=vs();return s={current:s},t.memoizedState=s},useState:function(s){s=Xm(s);var t=s.queue,n=S4.bind(null,Oe,t);return t.dispatch=n,[s.memoizedState,n]},useDebugValue:Ep,useDeferredValue:function(s,t){var n=vs();return Cp(n,s,t)},useTransition:function(){var s=Xm(!1);return s=y4.bind(null,Oe,s.queue,!0,!1),vs().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,t,n){var r=Oe,i=vs();if(Ue){if(n===void 0)throw Error(de(407));n=n()}else{if(n=t(),it===null)throw Error(de(349));He&127||t4(r,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,e1(n4.bind(null,r,l,s),[s]),r.flags|=2048,zl(9,{destroy:void 0},s4.bind(null,r,l,n,t),null),n},useId:function(){var s=vs(),t=it.identifierPrefix;if(Ue){var n=qn,r=On;n=(r&~(1<<32-Ks(r)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Sd++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=N7++,t="_"+t+"r_"+n.toString(32)+"_";return s.memoizedState=t},useHostTransitionStatus:Mp,useFormState:Wg,useActionState:Wg,useOptimistic:function(s){var t=vs();t.memoizedState=t.baseState=s;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=$p.bind(null,Oe,!0,n),n.dispatch=t,[s,t]},useMemoCache:Np,useCacheRefresh:function(){return vs().memoizedState=$7.bind(null,Oe)},useEffectEvent:function(s){var t=vs(),n={impl:s};return t.memoizedState=n,function(){if(Xe&2)throw Error(de(440));return n.impl.apply(void 0,arguments)}}},Gp={readContext:hs,use:vu,useCallback:g4,useContext:hs,useEffect:_p,useImperativeHandle:x4,useInsertionEffect:m4,useLayoutEffect:f4,useMemo:v4,useReducer:Yh,useRef:d4,useState:function(){return Yh(zr)},useDebugValue:Ep,useDeferredValue:function(s,t){var n=Gt();return j4(n,tt.memoizedState,s,t)},useTransition:function(){var s=Yh(zr)[0],t=Gt().memoizedState;return[typeof s=="boolean"?s:Rc(s),t]},useSyncExternalStore:e4,useId:k4,useHostTransitionStatus:Mp,useFormState:Qg,useActionState:Qg,useOptimistic:function(s,t){var n=Gt();return a4(n,tt,s,t)},useMemoCache:Np,useCacheRefresh:T4};Gp.useEffectEvent=u4;var E4={readContext:hs,use:vu,useCallback:g4,useContext:hs,useEffect:_p,useImperativeHandle:x4,useInsertionEffect:m4,useLayoutEffect:f4,useMemo:v4,useReducer:x0,useRef:d4,useState:function(){return x0(zr)},useDebugValue:Ep,useDeferredValue:function(s,t){var n=Gt();return tt===null?Cp(n,s,t):j4(n,tt.memoizedState,s,t)},useTransition:function(){var s=x0(zr)[0],t=Gt().memoizedState;return[typeof s=="boolean"?s:Rc(s),t]},useSyncExternalStore:e4,useId:k4,useHostTransitionStatus:Mp,useFormState:Jg,useActionState:Jg,useOptimistic:function(s,t){var n=Gt();return tt!==null?a4(n,tt,s,t):(n.baseState=s,[s,n.queue.dispatch])},useMemoCache:Np,useCacheRefresh:T4};E4.useEffectEvent=u4;function g0(s,t,n,r){t=s.memoizedState,n=n(r,t),n=n==null?t:pt({},t,n),s.memoizedState=n,s.lanes===0&&(s.updateQueue.baseState=n)}var Qm={enqueueSetState:function(s,t,n){s=s._reactInternals;var r=Zs(),i=Ti(r);i.payload=t,n!=null&&(i.callback=n),t=Si(s,i,r),t!==null&&($s(t,s,r),Vo(t,s,r))},enqueueReplaceState:function(s,t,n){s=s._reactInternals;var r=Zs(),i=Ti(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Si(s,i,r),t!==null&&($s(t,s,r),Vo(t,s,r))},enqueueForceUpdate:function(s,t){s=s._reactInternals;var n=Zs(),r=Ti(n);r.tag=2,t!=null&&(r.callback=t),t=Si(s,r,n),t!==null&&($s(t,s,n),Vo(t,s,n))}};function t1(s,t,n,r,i,l,o){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(r,l,o):t.prototype&&t.prototype.isPureReactComponent?!hc(n,r)||!hc(i,l):!0}function s1(s,t,n,r){s=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==s&&Qm.enqueueReplaceState(t,t.state,null)}function Ea(s,t){var n=t;if("ref"in t){n={};for(var r in t)r!=="ref"&&(n[r]=t[r])}if(s=s.defaultProps){n===t&&(n=pt({},n));for(var i in s)n[i]===void 0&&(n[i]=s[i])}return n}function C4(s){gd(s)}function M4(s){console.error(s)}function $4(s){gd(s)}function Nd(s,t){try{var n=s.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function n1(s,t,n){try{var r=s.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Jm(s,t,n){return n=Ti(n),n.tag=3,n.payload={element:null},n.callback=function(){Nd(s,t)},n}function G4(s){return s=Ti(s),s.tag=3,s}function z4(s,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var l=r.value;s.payload=function(){return i(l)},s.callback=function(){n1(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(s.callback=function(){n1(t,n,r),typeof i!="function"&&(Ni===null?Ni=new Set([this]):Ni.add(this));var c=r.stack;this.componentDidCatch(r.value,{componentStack:c!==null?c:""})})}function z7(s,t,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=n.alternate,t!==null&&Fl(t,n,i,!0),n=Ws.current,n!==null){switch(n.tag){case 31:case 13:return dn===null?Md():n.alternate===null&&At===0&&(At=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===bd?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),_0(s,r,i)),!1;case 22:return n.flags|=65536,r===bd?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),_0(s,r,i)),!1}throw Error(de(435,n.tag))}return _0(s,r,i),Md(),!1}if(Ue)return t=Ws.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==Lm&&(s=Error(de(422),{cause:r}),uc(on(s,n)))):(r!==Lm&&(t=Error(de(423),{cause:r}),uc(on(t,n))),s=s.current.alternate,s.flags|=65536,i&=-i,s.lanes|=i,r=on(r,n),i=Jm(s.stateNode,r,i),p0(s,i),At!==4&&(At=2)),!1;var l=Error(de(520),{cause:r});if(l=on(l,n),Qo===null?Qo=[l]:Qo.push(l),At!==4&&(At=2),t===null)return!0;r=on(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,s=i&-i,n.lanes|=s,s=Jm(n.stateNode,r,s),p0(n,s),!1;case 1:if(t=n.type,l=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(Ni===null||!Ni.has(l))))return n.flags|=65536,i&=-i,n.lanes|=i,i=G4(i),z4(i,s,n,r),p0(n,i),!1}n=n.return}while(n!==null);return!1}var zp=Error(de(461)),qt=!1;function as(s,t,n,r){t.child=s===null?Zj(t,null,n,r):Aa(t,s.child,n,r)}function r1(s,t,n,r,i){n=n.render;var l=t.ref;if("ref"in r){var o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}else o=r;return Na(t),r=wp(s,t,n,o,l,i),c=kp(),s!==null&&!qt?(Tp(s,t,i),Ir(s,t,i)):(Ue&&c&&fp(t),t.flags|=1,as(s,t,r,i),t.child)}function i1(s,t,n,r,i){if(s===null){var l=n.type;return typeof l=="function"&&!mp(l)&&l.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=l,I4(s,t,l,r,i)):(s=Zh(n.type,null,r,t,t.mode,i),s.ref=t.ref,s.return=t,t.child=s)}if(l=s.child,!Ip(s,i)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:hc,n(o,r)&&s.ref===t.ref)return Ir(s,t,i)}return t.flags|=1,s=Ar(l,r),s.ref=t.ref,s.return=t,t.child=s}function I4(s,t,n,r,i){if(s!==null){var l=s.memoizedProps;if(hc(l,r)&&s.ref===t.ref)if(qt=!1,t.pendingProps=r=l,Ip(s,i))s.flags&131072&&(qt=!0);else return t.lanes=s.lanes,Ir(s,t,i)}return ef(s,t,n,r,i)}function D4(s,t,n,r){var i=r.children,l=s!==null?s.memoizedState:null;if(s===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(t.flags&128){if(l=l!==null?l.baseLanes|n:n,s!==null){for(r=t.child=s.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~l}else r=0,t.child=null;return a1(s,t,l,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},s!==null&&Xh(t,l!==null?l.cachePool:null),l!==null?Zg(t,l):Km(),Wj(t);else return r=t.lanes=536870912,a1(s,t,l!==null?l.baseLanes|n:n,n,r)}else l!==null?(Xh(t,l.cachePool),Zg(t,l),ci(),t.memoizedState=null):(s!==null&&Xh(t,null),Km(),ci());return as(s,t,i,n),t.child}function Oo(s,t){return s!==null&&s.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function a1(s,t,n,r,i){var l=gp();return l=l===null?null:{parent:Ot._currentValue,pool:l},t.memoizedState={baseLanes:n,cachePool:l},s!==null&&Xh(t,null),Km(),Wj(t),s!==null&&Fl(s,t,r,!0),t.childLanes=i,null}function Qh(s,t){return t=Ad({mode:t.mode,children:t.children},s.mode),t.ref=s.ref,s.child=t,t.return=s,t}function l1(s,t,n){return Aa(t,s.child,null,n),s=Qh(t,t.pendingProps),s.flags|=2,Ps(t),t.memoizedState=null,s}function I7(s,t,n){var r=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,s===null){if(Ue){if(r.mode==="hidden")return s=Qh(t,r),t.lanes=536870912,Oo(null,s);if(Zm(t),(s=ft)?(s=_y(s,cn),s=s!==null&&s.data==="&"?s:null,s!==null&&(t.memoizedState={dehydrated:s,treeContext:Di!==null?{id:On,overflow:qn}:null,retryLane:536870912,hydrationErrors:null},n=Pj(s),n.return=t,t.child=n,cs=t,ft=null)):s=null,s===null)throw Ri(t);return t.lanes=536870912,null}return Qh(t,r)}var l=s.memoizedState;if(l!==null){var o=l.dehydrated;if(Zm(t),i)if(t.flags&256)t.flags&=-257,t=l1(s,t,n);else if(t.memoizedState!==null)t.child=s.child,t.flags|=128,t=null;else throw Error(de(558));else if(qt||Fl(s,t,n,!1),i=(n&s.childLanes)!==0,qt||i){if(r=it,r!==null&&(o=mj(r,n),o!==0&&o!==l.retryLane))throw l.retryLane=o,Da(s,o),$s(r,s,o),zp;Md(),t=l1(s,t,n)}else s=l.treeContext,ft=un(o.nextSibling),cs=t,Ue=!0,ki=null,cn=!1,s!==null&&Hj(t,s),t=Qh(t,r),t.flags|=4096;return t}return s=Ar(s.child,{mode:r.mode,children:r.children}),s.ref=t.ref,t.child=s,s.return=t,s}function Jh(s,t){var n=t.ref;if(n===null)s!==null&&s.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(de(284));(s===null||s.ref!==n)&&(t.flags|=4194816)}}function ef(s,t,n,r,i){return Na(t),n=wp(s,t,n,r,void 0,i),r=kp(),s!==null&&!qt?(Tp(s,t,i),Ir(s,t,i)):(Ue&&r&&fp(t),t.flags|=1,as(s,t,n,i),t.child)}function o1(s,t,n,r,i,l){return Na(t),t.updateQueue=null,n=Jj(t,r,n,i),Qj(s),r=kp(),s!==null&&!qt?(Tp(s,t,l),Ir(s,t,l)):(Ue&&r&&fp(t),t.flags|=1,as(s,t,n,l),t.child)}function c1(s,t,n,r,i){if(Na(t),t.stateNode===null){var l=cl,o=n.contextType;typeof o=="object"&&o!==null&&(l=hs(o)),l=new n(r,l),t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Qm,t.stateNode=l,l._reactInternals=t,l=t.stateNode,l.props=r,l.state=t.memoizedState,l.refs={},jp(t),o=n.contextType,l.context=typeof o=="object"&&o!==null?hs(o):cl,l.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(g0(t,n,o,r),l.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(o=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),o!==l.state&&Qm.enqueueReplaceState(l,l.state,null),Zo(t,r,l,i),Ko(),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(s===null){l=t.stateNode;var c=t.memoizedProps,d=Ea(n,c);l.props=d;var u=l.context,p=n.contextType;o=cl,typeof p=="object"&&p!==null&&(o=hs(p));var g=n.getDerivedStateFromProps;p=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function",c=t.pendingProps!==c,p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c||u!==o)&&s1(t,l,r,o),ai=!1;var v=t.memoizedState;l.state=v,Zo(t,r,l,i),Ko(),u=t.memoizedState,c||v!==u||ai?(typeof g=="function"&&(g0(t,n,g,r),u=t.memoizedState),(d=ai||t1(t,n,d,r,v,u,o))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),l.props=r,l.state=u,l.context=o,r=d):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Fm(s,t),o=t.memoizedProps,p=Ea(n,o),l.props=p,g=t.pendingProps,v=l.context,u=n.contextType,d=cl,typeof u=="object"&&u!==null&&(d=hs(u)),c=n.getDerivedStateFromProps,(u=typeof c=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==g||v!==d)&&s1(t,l,r,d),ai=!1,v=t.memoizedState,l.state=v,Zo(t,r,l,i),Ko();var y=t.memoizedState;o!==g||v!==y||ai||s!==null&&s.dependencies!==null&&yd(s.dependencies)?(typeof c=="function"&&(g0(t,n,c,r),y=t.memoizedState),(p=ai||t1(t,n,p,r,v,y,d)||s!==null&&s.dependencies!==null&&yd(s.dependencies))?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,y,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,y,d)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===s.memoizedProps&&v===s.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===s.memoizedProps&&v===s.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),l.props=r,l.state=y,l.context=d,r=p):(typeof l.componentDidUpdate!="function"||o===s.memoizedProps&&v===s.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===s.memoizedProps&&v===s.memoizedState||(t.flags|=1024),r=!1)}return l=r,Jh(s,t),r=(t.flags&128)!==0,l||r?(l=t.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:l.render(),t.flags|=1,s!==null&&r?(t.child=Aa(t,s.child,null,i),t.child=Aa(t,null,n,i)):as(s,t,n,i),t.memoizedState=l.state,s=t.child):s=Ir(s,t,i),s}function h1(s,t,n,r){return Sa(),t.flags|=256,as(s,t,n,r),t.child}var v0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function j0(s){return{baseLanes:s,cachePool:Fj()}}function y0(s,t,n){return s=s!==null?s.childLanes&~n:0,t&&(s|=Us),s}function R4(s,t,n){var r=t.pendingProps,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=s!==null&&s.memoizedState===null?!1:(Mt.current&2)!==0),o&&(i=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,s===null){if(Ue){if(i?oi(t):ci(),(s=ft)?(s=_y(s,cn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(t.memoizedState={dehydrated:s,treeContext:Di!==null?{id:On,overflow:qn}:null,retryLane:536870912,hydrationErrors:null},n=Pj(s),n.return=t,t.child=n,cs=t,ft=null)):s=null,s===null)throw Ri(t);return pf(s)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,i?(ci(),i=t.mode,c=Ad({mode:"hidden",children:c},i),r=ba(r,i,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=j0(n),r.childLanes=y0(s,o,n),t.memoizedState=v0,Oo(null,r)):(oi(t),tf(t,c))}var d=s.memoizedState;if(d!==null&&(c=d.dehydrated,c!==null)){if(l)t.flags&256?(oi(t),t.flags&=-257,t=b0(s,t,n)):t.memoizedState!==null?(ci(),t.child=s.child,t.flags|=128,t=null):(ci(),c=r.fallback,i=t.mode,r=Ad({mode:"visible",children:r.children},i),c=ba(c,i,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Aa(t,s.child,null,n),r=t.child,r.memoizedState=j0(n),r.childLanes=y0(s,o,n),t.memoizedState=v0,t=Oo(null,r));else if(oi(t),pf(c)){if(o=c.nextSibling&&c.nextSibling.dataset,o)var u=o.dgst;o=u,r=Error(de(419)),r.stack="",r.digest=o,uc({value:r,source:null,stack:null}),t=b0(s,t,n)}else if(qt||Fl(s,t,n,!1),o=(n&s.childLanes)!==0,qt||o){if(o=it,o!==null&&(r=mj(o,n),r!==0&&r!==d.retryLane))throw d.retryLane=r,Da(s,r),$s(o,s,r),zp;ff(c)||Md(),t=b0(s,t,n)}else ff(c)?(t.flags|=192,t.child=s.child,t=null):(s=d.treeContext,ft=un(c.nextSibling),cs=t,Ue=!0,ki=null,cn=!1,s!==null&&Hj(t,s),t=tf(t,r.children),t.flags|=4096);return t}return i?(ci(),c=r.fallback,i=t.mode,d=s.child,u=d.sibling,r=Ar(d,{mode:"hidden",children:r.children}),r.subtreeFlags=d.subtreeFlags&65011712,u!==null?c=Ar(u,c):(c=ba(c,i,n,null),c.flags|=2),c.return=t,r.return=t,r.sibling=c,t.child=r,Oo(null,r),r=t.child,c=s.child.memoizedState,c===null?c=j0(n):(i=c.cachePool,i!==null?(d=Ot._currentValue,i=i.parent!==d?{parent:d,pool:d}:i):i=Fj(),c={baseLanes:c.baseLanes|n,cachePool:i}),r.memoizedState=c,r.childLanes=y0(s,o,n),t.memoizedState=v0,Oo(s.child,r)):(oi(t),n=s.child,s=n.sibling,n=Ar(n,{mode:"visible",children:r.children}),n.return=t,n.sibling=null,s!==null&&(o=t.deletions,o===null?(t.deletions=[s],t.flags|=16):o.push(s)),t.child=n,t.memoizedState=null,n)}function tf(s,t){return t=Ad({mode:"visible",children:t},s.mode),t.return=s,s.child=t}function Ad(s,t){return s=Bs(22,s,null,t),s.lanes=0,s}function b0(s,t,n){return Aa(t,s.child,null,n),s=tf(t,t.pendingProps.children),s.flags|=2,t.memoizedState=null,s}function d1(s,t,n){s.lanes|=t;var r=s.alternate;r!==null&&(r.lanes|=t),Bm(s.return,t,n)}function w0(s,t,n,r,i,l){var o=s.memoizedState;o===null?s.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=l)}function O4(s,t,n){var r=t.pendingProps,i=r.revealOrder,l=r.tail;r=r.children;var o=Mt.current,c=(o&2)!==0;if(c?(o=o&1|2,t.flags|=128):o&=1,ct(Mt,o),as(s,t,r,n),r=Ue?dc:0,!c&&s!==null&&s.flags&128)e:for(s=t.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&d1(s,n,t);else if(s.tag===19)d1(s,n,t);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(i){case"forwards":for(n=t.child,i=null;n!==null;)s=n.alternate,s!==null&&kd(s)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),w0(t,!1,i,n,l,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(s=i.alternate,s!==null&&kd(s)===null){t.child=i;break}s=i.sibling,i.sibling=n,n=i,i=s}w0(t,!0,n,null,l,r);break;case"together":w0(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Ir(s,t,n){if(s!==null&&(t.dependencies=s.dependencies),qi|=t.lanes,!(n&t.childLanes))if(s!==null){if(Fl(s,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(s!==null&&t.child!==s.child)throw Error(de(153));if(t.child!==null){for(s=t.child,n=Ar(s,s.pendingProps),t.child=n,n.return=t;s.sibling!==null;)s=s.sibling,n=n.sibling=Ar(s,s.pendingProps),n.return=t;n.sibling=null}return t.child}function Ip(s,t){return s.lanes&t?!0:(s=s.dependencies,!!(s!==null&&yd(s)))}function D7(s,t,n){switch(t.tag){case 3:md(t,t.stateNode.containerInfo),li(t,Ot,s.memoizedState.cache),Sa();break;case 27:case 5:Em(t);break;case 4:md(t,t.stateNode.containerInfo);break;case 10:li(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Zm(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(oi(t),t.flags|=128,null):n&t.child.childLanes?R4(s,t,n):(oi(t),s=Ir(s,t,n),s!==null?s.sibling:null);oi(t);break;case 19:var i=(s.flags&128)!==0;if(r=(n&t.childLanes)!==0,r||(Fl(s,t,n,!1),r=(n&t.childLanes)!==0),i){if(r)return O4(s,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ct(Mt,Mt.current),r)break;return null;case 22:return t.lanes=0,D4(s,t,n,t.pendingProps);case 24:li(t,Ot,s.memoizedState.cache)}return Ir(s,t,n)}function q4(s,t,n){if(s!==null)if(s.memoizedProps!==t.pendingProps)qt=!0;else{if(!Ip(s,n)&&!(t.flags&128))return qt=!1,D7(s,t,n);qt=!!(s.flags&131072)}else qt=!1,Ue&&t.flags&1048576&&Bj(t,dc,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(s=ma(t.elementType),t.type=s,typeof s=="function")mp(s)?(r=Ea(s,r),t.tag=1,t=c1(null,t,s,r,n)):(t.tag=0,t=ef(null,t,s,r,n));else{if(s!=null){var i=s.$$typeof;if(i===Jf){t.tag=11,t=r1(null,t,s,r,n);break e}else if(i===ep){t.tag=14,t=i1(null,t,s,r,n);break e}}throw t=Am(s)||s,Error(de(306,t,""))}}return t;case 0:return ef(s,t,t.type,t.pendingProps,n);case 1:return r=t.type,i=Ea(r,t.pendingProps),c1(s,t,r,i,n);case 3:e:{if(md(t,t.stateNode.containerInfo),s===null)throw Error(de(387));r=t.pendingProps;var l=t.memoizedState;i=l.element,Fm(s,t),Zo(t,r,null,n);var o=t.memoizedState;if(r=o.cache,li(t,Ot,r),r!==l.cache&&Hm(t,[Ot],n,!0),Ko(),r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){t=h1(s,t,r,n);break e}else if(r!==i){i=on(Error(de(424)),t),uc(i),t=h1(s,t,r,n);break e}else{switch(s=t.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ft=un(s.firstChild),cs=t,Ue=!0,ki=null,cn=!0,n=Zj(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Sa(),r===i){t=Ir(s,t,n);break e}as(s,t,r,n)}t=t.child}return t;case 26:return Jh(s,t),s===null?(n=M1(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ue||(n=t.type,s=t.pendingProps,r=Id(wi.current).createElement(n),r[os]=t,r[Gs]=s,ds(r,n,s),es(r),t.stateNode=r):t.memoizedState=M1(t.type,s.memoizedProps,t.pendingProps,s.memoizedState),null;case 27:return Em(t),s===null&&Ue&&(r=t.stateNode=Ey(t.type,t.pendingProps,wi.current),cs=t,cn=!0,i=ft,Ki(t.type)?(xf=i,ft=un(r.firstChild)):ft=i),as(s,t,t.pendingProps.children,n),Jh(s,t),s===null&&(t.flags|=4194304),t.child;case 5:return s===null&&Ue&&((i=r=ft)&&(r=uw(r,t.type,t.pendingProps,cn),r!==null?(t.stateNode=r,cs=t,ft=un(r.firstChild),cn=!1,i=!0):i=!1),i||Ri(t)),Em(t),i=t.type,l=t.pendingProps,o=s!==null?s.memoizedProps:null,r=l.children,uf(i,l)?r=null:o!==null&&uf(i,o)&&(t.flags|=32),t.memoizedState!==null&&(i=wp(s,t,A7,null,null,n),vc._currentValue=i),Jh(s,t),as(s,t,r,n),t.child;case 6:return s===null&&Ue&&((s=n=ft)&&(n=mw(n,t.pendingProps,cn),n!==null?(t.stateNode=n,cs=t,ft=null,s=!0):s=!1),s||Ri(t)),null;case 13:return R4(s,t,n);case 4:return md(t,t.stateNode.containerInfo),r=t.pendingProps,s===null?t.child=Aa(t,null,r,n):as(s,t,r,n),t.child;case 11:return r1(s,t,t.type,t.pendingProps,n);case 7:return as(s,t,t.pendingProps,n),t.child;case 8:return as(s,t,t.pendingProps.children,n),t.child;case 12:return as(s,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,li(t,t.type,r.value),as(s,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Na(t),i=hs(i),r=r(i),t.flags|=1,as(s,t,r,n),t.child;case 14:return i1(s,t,t.type,t.pendingProps,n);case 15:return I4(s,t,t.type,t.pendingProps,n);case 19:return O4(s,t,n);case 31:return I7(s,t,n);case 22:return D4(s,t,n,t.pendingProps);case 24:return Na(t),r=hs(Ot),s===null?(i=gp(),i===null&&(i=it,l=xp(),i.pooledCache=l,l.refCount++,l!==null&&(i.pooledCacheLanes|=n),i=l),t.memoizedState={parent:r,cache:i},jp(t),li(t,Ot,i)):(s.lanes&n&&(Fm(s,t),Zo(t,null,null,n),Ko()),i=s.memoizedState,l=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),li(t,Ot,r)):(r=l.cache,li(t,Ot,r),r!==i.cache&&Hm(t,[Ot],n,!0))),as(s,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(de(156,t.tag))}function dr(s){s.flags|=4}function k0(s,t,n,r,i){if((t=(s.mode&32)!==0)&&(t=!1),t){if(s.flags|=16777216,(i&335544128)===i)if(s.stateNode.complete)s.flags|=8192;else if(cy())s.flags|=8192;else throw ka=bd,vp}else s.flags&=-16777217}function u1(s,t){if(t.type!=="stylesheet"||t.state.loading&4)s.flags&=-16777217;else if(s.flags|=16777216,!$y(t))if(cy())s.flags|=8192;else throw ka=bd,vp}function jh(s,t){t!==null&&(s.flags|=4),s.flags&16384&&(t=s.tag!==22?hj():536870912,s.lanes|=t,Il|=t)}function No(s,t){if(!Ue)switch(s.tailMode){case"hidden":t=s.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?s.tail=null:n.sibling=null;break;case"collapsed":n=s.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||s.tail===null?s.tail=null:s.tail.sibling=null:r.sibling=null}}function mt(s){var t=s.alternate!==null&&s.alternate.child===s.child,n=0,r=0;if(t)for(var i=s.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=s,i=i.sibling;else for(i=s.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=s,i=i.sibling;return s.subtreeFlags|=r,s.childLanes=n,t}function R7(s,t,n){var r=t.pendingProps;switch(pp(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(t),null;case 1:return mt(t),null;case 3:return n=t.stateNode,r=null,s!==null&&(r=s.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),_r(Ot),El(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(s===null||s.child===null)&&(Ya(t)?dr(t):s===null||s.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,f0())),mt(t),null;case 26:var i=t.type,l=t.memoizedState;return s===null?(dr(t),l!==null?(mt(t),u1(t,l)):(mt(t),k0(t,i,null,r,n))):l?l!==s.memoizedState?(dr(t),mt(t),u1(t,l)):(mt(t),t.flags&=-16777217):(s=s.memoizedProps,s!==r&&dr(t),mt(t),k0(t,i,s,r,n)),null;case 27:if(fd(t),n=wi.current,i=t.type,s!==null&&t.stateNode!=null)s.memoizedProps!==r&&dr(t);else{if(!r){if(t.stateNode===null)throw Error(de(166));return mt(t),null}s=Hn.current,Ya(t)?Pg(t):(s=Ey(i,r,n),t.stateNode=s,dr(t))}return mt(t),null;case 5:if(fd(t),i=t.type,s!==null&&t.stateNode!=null)s.memoizedProps!==r&&dr(t);else{if(!r){if(t.stateNode===null)throw Error(de(166));return mt(t),null}if(l=Hn.current,Ya(t))Pg(t);else{var o=Id(wi.current);switch(l){case 1:l=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:l=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":l=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":l=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":l=o.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild);break;case"select":l=typeof r.is=="string"?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?l.multiple=!0:r.size&&(l.size=r.size);break;default:l=typeof r.is=="string"?o.createElement(i,{is:r.is}):o.createElement(i)}}l[os]=t,l[Gs]=r;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)l.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=l;e:switch(ds(l,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&dr(t)}}return mt(t),k0(t,t.type,s===null?null:s.memoizedProps,t.pendingProps,n),null;case 6:if(s&&t.stateNode!=null)s.memoizedProps!==r&&dr(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(de(166));if(s=wi.current,Ya(t)){if(s=t.stateNode,n=t.memoizedProps,r=null,i=cs,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}s[os]=t,s=!!(s.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||Sy(s.nodeValue,n)),s||Ri(t,!0)}else s=Id(s).createTextNode(r),s[os]=t,t.stateNode=s}return mt(t),null;case 31:if(n=t.memoizedState,s===null||s.memoizedState!==null){if(r=Ya(t),n!==null){if(s===null){if(!r)throw Error(de(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(de(557));s[os]=t}else Sa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mt(t),s=!1}else n=f0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=n),s=!0;if(!s)return t.flags&256?(Ps(t),t):(Ps(t),null);if(t.flags&128)throw Error(de(558))}return mt(t),null;case 13:if(r=t.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(i=Ya(t),r!==null&&r.dehydrated!==null){if(s===null){if(!i)throw Error(de(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(de(317));i[os]=t}else Sa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;mt(t),i=!1}else i=f0(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(Ps(t),t):(Ps(t),null)}return Ps(t),t.flags&128?(t.lanes=n,t):(n=r!==null,s=s!==null&&s.memoizedState!==null,n&&(r=t.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==i&&(r.flags|=2048)),n!==s&&n&&(t.child.flags|=8192),jh(t,t.updateQueue),mt(t),null);case 4:return El(),s===null&&Bp(t.stateNode.containerInfo),mt(t),null;case 10:return _r(t.type),mt(t),null;case 19:if(ss(Mt),r=t.memoizedState,r===null)return mt(t),null;if(i=(t.flags&128)!==0,l=r.rendering,l===null)if(i)No(r,!1);else{if(At!==0||s!==null&&s.flags&128)for(s=t.child;s!==null;){if(l=kd(s),l!==null){for(t.flags|=128,No(r,!1),s=l.updateQueue,t.updateQueue=s,jh(t,s),t.subtreeFlags=0,s=n,n=t.child;n!==null;)Lj(n,s),n=n.sibling;return ct(Mt,Mt.current&1|2),Ue&&gr(t,r.treeForkCount),t.child}s=s.sibling}r.tail!==null&&Fs()>Ed&&(t.flags|=128,i=!0,No(r,!1),t.lanes=4194304)}else{if(!i)if(s=kd(l),s!==null){if(t.flags|=128,i=!0,s=s.updateQueue,t.updateQueue=s,jh(t,s),No(r,!0),r.tail===null&&r.tailMode==="hidden"&&!l.alternate&&!Ue)return mt(t),null}else 2*Fs()-r.renderingStartTime>Ed&&n!==536870912&&(t.flags|=128,i=!0,No(r,!1),t.lanes=4194304);r.isBackwards?(l.sibling=t.child,t.child=l):(s=r.last,s!==null?s.sibling=l:t.child=l,r.last=l)}return r.tail!==null?(s=r.tail,r.rendering=s,r.tail=s.sibling,r.renderingStartTime=Fs(),s.sibling=null,n=Mt.current,ct(Mt,i?n&1|2:n&1),Ue&&gr(t,r.treeForkCount),s):(mt(t),null);case 22:case 23:return Ps(t),yp(),r=t.memoizedState!==null,s!==null?s.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(mt(t),t.subtreeFlags&6&&(t.flags|=8192)):mt(t),n=t.updateQueue,n!==null&&jh(t,n.retryQueue),n=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),s!==null&&ss(wa),null;case 24:return n=null,s!==null&&(n=s.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_r(Ot),mt(t),null;case 25:return null;case 30:return null}throw Error(de(156,t.tag))}function O7(s,t){switch(pp(t),t.tag){case 1:return s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 3:return _r(Ot),El(),s=t.flags,s&65536&&!(s&128)?(t.flags=s&-65537|128,t):null;case 26:case 27:case 5:return fd(t),null;case 31:if(t.memoizedState!==null){if(Ps(t),t.alternate===null)throw Error(de(340));Sa()}return s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 13:if(Ps(t),s=t.memoizedState,s!==null&&s.dehydrated!==null){if(t.alternate===null)throw Error(de(340));Sa()}return s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 19:return ss(Mt),null;case 4:return El(),null;case 10:return _r(t.type),null;case 22:case 23:return Ps(t),yp(),s!==null&&ss(wa),s=t.flags,s&65536?(t.flags=s&-65537|128,t):null;case 24:return _r(Ot),null;case 25:return null;default:return null}}function L4(s,t){switch(pp(t),t.tag){case 3:_r(Ot),El();break;case 26:case 27:case 5:fd(t);break;case 4:El();break;case 31:t.memoizedState!==null&&Ps(t);break;case 13:Ps(t);break;case 19:ss(Mt);break;case 10:_r(t.type);break;case 22:case 23:Ps(t),yp(),s!==null&&ss(wa);break;case 24:_r(Ot)}}function Oc(s,t){try{var n=t.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&s)===s){r=void 0;var l=n.create,o=n.inst;r=l(),o.destroy=r}n=n.next}while(n!==i)}}catch(c){Je(t,t.return,c)}}function Oi(s,t,n){try{var r=t.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var l=i.next;r=l;do{if((r.tag&s)===s){var o=r.inst,c=o.destroy;if(c!==void 0){o.destroy=void 0,i=t;var d=n,u=c;try{u()}catch(p){Je(i,d,p)}}}r=r.next}while(r!==l)}}catch(p){Je(t,t.return,p)}}function P4(s){var t=s.updateQueue;if(t!==null){var n=s.stateNode;try{Yj(t,n)}catch(r){Je(s,s.return,r)}}}function B4(s,t,n){n.props=Ea(s.type,s.memoizedProps),n.state=s.memoizedState;try{n.componentWillUnmount()}catch(r){Je(s,t,r)}}function Yo(s,t){try{var n=s.ref;if(n!==null){switch(s.tag){case 26:case 27:case 5:var r=s.stateNode;break;case 30:r=s.stateNode;break;default:r=s.stateNode}typeof n=="function"?s.refCleanup=n(r):n.current=r}}catch(i){Je(s,t,i)}}function Ln(s,t){var n=s.ref,r=s.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Je(s,t,i)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Je(s,t,i)}else n.current=null}function H4(s){var t=s.type,n=s.memoizedProps,r=s.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Je(s,s.return,i)}}function T0(s,t,n){try{var r=s.stateNode;aw(r,s.type,n,t),r[Gs]=t}catch(i){Je(s,s.return,i)}}function U4(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ki(s.type)||s.tag===4}function S0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||U4(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ki(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function sf(s,t,n){var r=s.tag;if(r===5||r===6)s=s.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(s,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(s),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=br));else if(r!==4&&(r===27&&Ki(s.type)&&(n=s.stateNode,t=null),s=s.child,s!==null))for(sf(s,t,n),s=s.sibling;s!==null;)sf(s,t,n),s=s.sibling}function _d(s,t,n){var r=s.tag;if(r===5||r===6)s=s.stateNode,t?n.insertBefore(s,t):n.appendChild(s);else if(r!==4&&(r===27&&Ki(s.type)&&(n=s.stateNode),s=s.child,s!==null))for(_d(s,t,n),s=s.sibling;s!==null;)_d(s,t,n),s=s.sibling}function F4(s){var t=s.stateNode,n=s.memoizedProps;try{for(var r=s.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ds(t,r,n),t[os]=s,t[Gs]=n}catch(l){Je(s,s.return,l)}}var jr=!1,Rt=!1,N0=!1,m1=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function q7(s,t){if(s=s.containerInfo,hf=qd,s=$j(s),hp(s)){if("selectionStart"in s)var n={start:s.selectionStart,end:s.selectionEnd};else e:{n=(n=s.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,c=-1,d=-1,u=0,p=0,g=s,v=null;t:for(;;){for(var y;g!==n||i!==0&&g.nodeType!==3||(c=o+i),g!==l||r!==0&&g.nodeType!==3||(d=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(y=g.firstChild)!==null;)v=g,g=y;for(;;){if(g===s)break t;if(v===n&&++u===i&&(c=o),v===l&&++p===r&&(d=o),(y=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=y}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(df={focusedElem:s,selectionRange:n},qd=!1,Jt=t;Jt!==null;)if(t=Jt,s=t.child,(t.subtreeFlags&1028)!==0&&s!==null)s.return=t,Jt=s;else for(;Jt!==null;){switch(t=Jt,l=t.alternate,s=t.flags,t.tag){case 0:if(s&4&&(s=t.updateQueue,s=s!==null?s.events:null,s!==null))for(n=0;n<s.length;n++)i=s[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(s&1024&&l!==null){s=void 0,n=t,i=l.memoizedProps,l=l.memoizedState,r=n.stateNode;try{var M=Ea(n.type,i);s=r.getSnapshotBeforeUpdate(M,l),r.__reactInternalSnapshotBeforeUpdate=s}catch(L){Je(n,n.return,L)}}break;case 3:if(s&1024){if(s=t.stateNode.containerInfo,n=s.nodeType,n===9)mf(s);else if(n===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":mf(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(s&1024)throw Error(de(163))}if(s=t.sibling,s!==null){s.return=t.return,Jt=s;break}Jt=t.return}}function V4(s,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:mr(s,n),r&4&&Oc(5,n);break;case 1:if(mr(s,n),r&4)if(s=n.stateNode,t===null)try{s.componentDidMount()}catch(o){Je(n,n.return,o)}else{var i=Ea(n.type,t.memoizedProps);t=t.memoizedState;try{s.componentDidUpdate(i,t,s.__reactInternalSnapshotBeforeUpdate)}catch(o){Je(n,n.return,o)}}r&64&&P4(n),r&512&&Yo(n,n.return);break;case 3:if(mr(s,n),r&64&&(s=n.updateQueue,s!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Yj(s,t)}catch(o){Je(n,n.return,o)}}break;case 27:t===null&&r&4&&F4(n);case 26:case 5:mr(s,n),t===null&&r&4&&H4(n),r&512&&Yo(n,n.return);break;case 12:mr(s,n);break;case 31:mr(s,n),r&4&&X4(s,n);break;case 13:mr(s,n),r&4&&Y4(s,n),r&64&&(s=n.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(n=Z7.bind(null,n),fw(s,n))));break;case 22:if(r=n.memoizedState!==null||jr,!r){t=t!==null&&t.memoizedState!==null||Rt,i=jr;var l=Rt;jr=r,(Rt=t)&&!l?pr(s,n,(n.subtreeFlags&8772)!==0):mr(s,n),jr=i,Rt=l}break;case 30:break;default:mr(s,n)}}function K4(s){var t=s.alternate;t!==null&&(s.alternate=null,K4(t)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(t=s.stateNode,t!==null&&rp(t)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var xt=null,_s=!1;function ur(s,t,n){for(n=n.child;n!==null;)Z4(s,t,n),n=n.sibling}function Z4(s,t,n){if(Vs&&typeof Vs.onCommitFiberUnmount=="function")try{Vs.onCommitFiberUnmount(Mc,n)}catch{}switch(n.tag){case 26:Rt||Ln(n,t),ur(s,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Rt||Ln(n,t);var r=xt,i=_s;Ki(n.type)&&(xt=n.stateNode,_s=!1),ur(s,t,n),ec(n.stateNode),xt=r,_s=i;break;case 5:Rt||Ln(n,t);case 6:if(r=xt,i=_s,xt=null,ur(s,t,n),xt=r,_s=i,xt!==null)if(_s)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(n.stateNode)}catch(l){Je(n,t,l)}else try{xt.removeChild(n.stateNode)}catch(l){Je(n,t,l)}break;case 18:xt!==null&&(_s?(s=xt,N1(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.stateNode),ql(s)):N1(xt,n.stateNode));break;case 4:r=xt,i=_s,xt=n.stateNode.containerInfo,_s=!0,ur(s,t,n),xt=r,_s=i;break;case 0:case 11:case 14:case 15:Oi(2,n,t),Rt||Oi(4,n,t),ur(s,t,n);break;case 1:Rt||(Ln(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"&&B4(n,t,r)),ur(s,t,n);break;case 21:ur(s,t,n);break;case 22:Rt=(r=Rt)||n.memoizedState!==null,ur(s,t,n),Rt=r;break;default:ur(s,t,n)}}function X4(s,t){if(t.memoizedState===null&&(s=t.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ql(s)}catch(n){Je(t,t.return,n)}}}function Y4(s,t){if(t.memoizedState===null&&(s=t.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ql(s)}catch(n){Je(t,t.return,n)}}function L7(s){switch(s.tag){case 31:case 13:case 19:var t=s.stateNode;return t===null&&(t=s.stateNode=new m1),t;case 22:return s=s.stateNode,t=s._retryCache,t===null&&(t=s._retryCache=new m1),t;default:throw Error(de(435,s.tag))}}function yh(s,t){var n=L7(s);t.forEach(function(r){if(!n.has(r)){n.add(r);var i=X7.bind(null,s,r);r.then(i,i)}})}function Ns(s,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],l=s,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 27:if(Ki(c.type)){xt=c.stateNode,_s=!1;break e}break;case 5:xt=c.stateNode,_s=!1;break e;case 3:case 4:xt=c.stateNode.containerInfo,_s=!0;break e}c=c.return}if(xt===null)throw Error(de(160));Z4(l,o,i),xt=null,_s=!1,l=i.alternate,l!==null&&(l.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)W4(t,s),t=t.sibling}var Sn=null;function W4(s,t){var n=s.alternate,r=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ns(t,s),As(s),r&4&&(Oi(3,s,s.return),Oc(3,s),Oi(5,s,s.return));break;case 1:Ns(t,s),As(s),r&512&&(Rt||n===null||Ln(n,n.return)),r&64&&jr&&(s=s.updateQueue,s!==null&&(r=s.callbacks,r!==null&&(n=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Sn;if(Ns(t,s),As(s),r&512&&(Rt||n===null||Ln(n,n.return)),r&4){var l=n!==null?n.memoizedState:null;if(r=s.memoizedState,n===null)if(r===null)if(s.stateNode===null){e:{r=s.type,n=s.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":l=i.getElementsByTagName("title")[0],(!l||l[zc]||l[os]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=i.createElement(r),i.head.insertBefore(l,i.querySelector("head > title"))),ds(l,r,n),l[os]=s,es(l),r=l;break e;case"link":var o=G1("link","href",i).get(r+(n.href||""));if(o){for(var c=0;c<o.length;c++)if(l=o[c],l.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&l.getAttribute("rel")===(n.rel==null?null:n.rel)&&l.getAttribute("title")===(n.title==null?null:n.title)&&l.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(c,1);break t}}l=i.createElement(r),ds(l,r,n),i.head.appendChild(l);break;case"meta":if(o=G1("meta","content",i).get(r+(n.content||""))){for(c=0;c<o.length;c++)if(l=o[c],l.getAttribute("content")===(n.content==null?null:""+n.content)&&l.getAttribute("name")===(n.name==null?null:n.name)&&l.getAttribute("property")===(n.property==null?null:n.property)&&l.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&l.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(c,1);break t}}l=i.createElement(r),ds(l,r,n),i.head.appendChild(l);break;default:throw Error(de(468,r))}l[os]=s,es(l),r=l}s.stateNode=r}else z1(i,s.type,s.stateNode);else s.stateNode=$1(i,r,s.memoizedProps);else l!==r?(l===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):l.count--,r===null?z1(i,s.type,s.stateNode):$1(i,r,s.memoizedProps)):r===null&&s.stateNode!==null&&T0(s,s.memoizedProps,n.memoizedProps)}break;case 27:Ns(t,s),As(s),r&512&&(Rt||n===null||Ln(n,n.return)),n!==null&&r&4&&T0(s,s.memoizedProps,n.memoizedProps);break;case 5:if(Ns(t,s),As(s),r&512&&(Rt||n===null||Ln(n,n.return)),s.flags&32){i=s.stateNode;try{Ml(i,"")}catch(M){Je(s,s.return,M)}}r&4&&s.stateNode!=null&&(i=s.memoizedProps,T0(s,i,n!==null?n.memoizedProps:i)),r&1024&&(N0=!0);break;case 6:if(Ns(t,s),As(s),r&4){if(s.stateNode===null)throw Error(de(162));r=s.memoizedProps,n=s.stateNode;try{n.nodeValue=r}catch(M){Je(s,s.return,M)}}break;case 3:if(sd=null,i=Sn,Sn=Dd(t.containerInfo),Ns(t,s),Sn=i,As(s),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ql(t.containerInfo)}catch(M){Je(s,s.return,M)}N0&&(N0=!1,Q4(s));break;case 4:r=Sn,Sn=Dd(s.stateNode.containerInfo),Ns(t,s),As(s),Sn=r;break;case 12:Ns(t,s),As(s);break;case 31:Ns(t,s),As(s),r&4&&(r=s.updateQueue,r!==null&&(s.updateQueue=null,yh(s,r)));break;case 13:Ns(t,s),As(s),s.child.flags&8192&&s.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(bu=Fs()),r&4&&(r=s.updateQueue,r!==null&&(s.updateQueue=null,yh(s,r)));break;case 22:i=s.memoizedState!==null;var d=n!==null&&n.memoizedState!==null,u=jr,p=Rt;if(jr=u||i,Rt=p||d,Ns(t,s),Rt=p,jr=u,As(s),r&8192)e:for(t=s.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(n===null||d||jr||Rt||fa(s)),n=null,t=s;;){if(t.tag===5||t.tag===26){if(n===null){d=n=t;try{if(l=d.stateNode,i)o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{c=d.stateNode;var g=d.memoizedProps.style,v=g!=null&&g.hasOwnProperty("display")?g.display:null;c.style.display=v==null||typeof v=="boolean"?"":(""+v).trim()}}catch(M){Je(d,d.return,M)}}}else if(t.tag===6){if(n===null){d=t;try{d.stateNode.nodeValue=i?"":d.memoizedProps}catch(M){Je(d,d.return,M)}}}else if(t.tag===18){if(n===null){d=t;try{var y=d.stateNode;i?A1(y,!0):A1(d.stateNode,!1)}catch(M){Je(d,d.return,M)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===s)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=s.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,yh(s,n))));break;case 19:Ns(t,s),As(s),r&4&&(r=s.updateQueue,r!==null&&(s.updateQueue=null,yh(s,r)));break;case 30:break;case 21:break;default:Ns(t,s),As(s)}}function As(s){var t=s.flags;if(t&2){try{for(var n,r=s.return;r!==null;){if(U4(r)){n=r;break}r=r.return}if(n==null)throw Error(de(160));switch(n.tag){case 27:var i=n.stateNode,l=S0(s);_d(s,l,i);break;case 5:var o=n.stateNode;n.flags&32&&(Ml(o,""),n.flags&=-33);var c=S0(s);_d(s,c,o);break;case 3:case 4:var d=n.stateNode.containerInfo,u=S0(s);sf(s,u,d);break;default:throw Error(de(161))}}catch(p){Je(s,s.return,p)}s.flags&=-3}t&4096&&(s.flags&=-4097)}function Q4(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var t=s;Q4(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),s=s.sibling}}function mr(s,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)V4(s,t.alternate,t),t=t.sibling}function fa(s){for(s=s.child;s!==null;){var t=s;switch(t.tag){case 0:case 11:case 14:case 15:Oi(4,t,t.return),fa(t);break;case 1:Ln(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&B4(t,t.return,n),fa(t);break;case 27:ec(t.stateNode);case 26:case 5:Ln(t,t.return),fa(t);break;case 22:t.memoizedState===null&&fa(t);break;case 30:fa(t);break;default:fa(t)}s=s.sibling}}function pr(s,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,i=s,l=t,o=l.flags;switch(l.tag){case 0:case 11:case 15:pr(i,l,n),Oc(4,l);break;case 1:if(pr(i,l,n),r=l,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){Je(r,r.return,u)}if(r=l,i=r.updateQueue,i!==null){var c=r.stateNode;try{var d=i.shared.hiddenCallbacks;if(d!==null)for(i.shared.hiddenCallbacks=null,i=0;i<d.length;i++)Xj(d[i],c)}catch(u){Je(r,r.return,u)}}n&&o&64&&P4(l),Yo(l,l.return);break;case 27:F4(l);case 26:case 5:pr(i,l,n),n&&r===null&&o&4&&H4(l),Yo(l,l.return);break;case 12:pr(i,l,n);break;case 31:pr(i,l,n),n&&o&4&&X4(i,l);break;case 13:pr(i,l,n),n&&o&4&&Y4(i,l);break;case 22:l.memoizedState===null&&pr(i,l,n),Yo(l,l.return);break;case 30:break;default:pr(i,l,n)}t=t.sibling}}function Dp(s,t){var n=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(s!=null&&s.refCount++,n!=null&&Dc(n))}function Rp(s,t){s=null,t.alternate!==null&&(s=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==s&&(t.refCount++,s!=null&&Dc(s))}function kn(s,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)J4(s,t,n,r),t=t.sibling}function J4(s,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:kn(s,t,n,r),i&2048&&Oc(9,t);break;case 1:kn(s,t,n,r);break;case 3:kn(s,t,n,r),i&2048&&(s=null,t.alternate!==null&&(s=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==s&&(t.refCount++,s!=null&&Dc(s)));break;case 12:if(i&2048){kn(s,t,n,r),s=t.stateNode;try{var l=t.memoizedProps,o=l.id,c=l.onPostCommit;typeof c=="function"&&c(o,t.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(d){Je(t,t.return,d)}}else kn(s,t,n,r);break;case 31:kn(s,t,n,r);break;case 13:kn(s,t,n,r);break;case 23:break;case 22:l=t.stateNode,o=t.alternate,t.memoizedState!==null?l._visibility&2?kn(s,t,n,r):Wo(s,t):l._visibility&2?kn(s,t,n,r):(l._visibility|=2,Ja(s,t,n,r,(t.subtreeFlags&10256)!==0||!1)),i&2048&&Dp(o,t);break;case 24:kn(s,t,n,r),i&2048&&Rp(t.alternate,t);break;default:kn(s,t,n,r)}}function Ja(s,t,n,r,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var l=s,o=t,c=n,d=r,u=o.flags;switch(o.tag){case 0:case 11:case 15:Ja(l,o,c,d,i),Oc(8,o);break;case 23:break;case 22:var p=o.stateNode;o.memoizedState!==null?p._visibility&2?Ja(l,o,c,d,i):Wo(l,o):(p._visibility|=2,Ja(l,o,c,d,i)),i&&u&2048&&Dp(o.alternate,o);break;case 24:Ja(l,o,c,d,i),i&&u&2048&&Rp(o.alternate,o);break;default:Ja(l,o,c,d,i)}t=t.sibling}}function Wo(s,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=s,r=t,i=r.flags;switch(r.tag){case 22:Wo(n,r),i&2048&&Dp(r.alternate,r);break;case 24:Wo(n,r),i&2048&&Rp(r.alternate,r);break;default:Wo(n,r)}t=t.sibling}}var qo=8192;function Wa(s,t,n){if(s.subtreeFlags&qo)for(s=s.child;s!==null;)ey(s,t,n),s=s.sibling}function ey(s,t,n){switch(s.tag){case 26:Wa(s,t,n),s.flags&qo&&s.memoizedState!==null&&Nw(n,Sn,s.memoizedState,s.memoizedProps);break;case 5:Wa(s,t,n);break;case 3:case 4:var r=Sn;Sn=Dd(s.stateNode.containerInfo),Wa(s,t,n),Sn=r;break;case 22:s.memoizedState===null&&(r=s.alternate,r!==null&&r.memoizedState!==null?(r=qo,qo=16777216,Wa(s,t,n),qo=r):Wa(s,t,n));break;default:Wa(s,t,n)}}function ty(s){var t=s.alternate;if(t!==null&&(s=t.child,s!==null)){t.child=null;do t=s.sibling,s.sibling=null,s=t;while(s!==null)}}function Ao(s){var t=s.deletions;if(s.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Jt=r,ny(r,s)}ty(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)sy(s),s=s.sibling}function sy(s){switch(s.tag){case 0:case 11:case 15:Ao(s),s.flags&2048&&Oi(9,s,s.return);break;case 3:Ao(s);break;case 12:Ao(s);break;case 22:var t=s.stateNode;s.memoizedState!==null&&t._visibility&2&&(s.return===null||s.return.tag!==13)?(t._visibility&=-3,ed(s)):Ao(s);break;default:Ao(s)}}function ed(s){var t=s.deletions;if(s.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Jt=r,ny(r,s)}ty(s)}for(s=s.child;s!==null;){switch(t=s,t.tag){case 0:case 11:case 15:Oi(8,t,t.return),ed(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,ed(t));break;default:ed(t)}s=s.sibling}}function ny(s,t){for(;Jt!==null;){var n=Jt;switch(n.tag){case 0:case 11:case 15:Oi(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Dc(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Jt=r;else e:for(n=s;Jt!==null;){r=Jt;var i=r.sibling,l=r.return;if(K4(r),r===n){Jt=null;break e}if(i!==null){i.return=l,Jt=i;break e}Jt=l}}}var P7={getCacheForType:function(s){var t=hs(Ot),n=t.data.get(s);return n===void 0&&(n=s(),t.data.set(s,n)),n},cacheSignal:function(){return hs(Ot).controller.signal}},B7=typeof WeakMap=="function"?WeakMap:Map,Xe=0,it=null,Be=null,He=0,We=0,qs=null,gi=!1,Kl=!1,Op=!1,Dr=0,At=0,qi=0,Ta=0,qp=0,Us=0,Il=0,Qo=null,Cs=null,nf=!1,bu=0,ry=0,Ed=1/0,Cd=null,Ni=null,Ht=0,Ai=null,Dl=null,Er=0,rf=0,af=null,iy=null,Jo=0,lf=null;function Zs(){return Xe&2&&He!==0?He&-He:De.T!==null?Pp():fj()}function ay(){if(Us===0)if(!(He&536870912)||Ue){var s=uh;uh<<=1,!(uh&3932160)&&(uh=262144),Us=s}else Us=536870912;return s=Ws.current,s!==null&&(s.flags|=32),Us}function $s(s,t,n){(s===it&&(We===2||We===9)||s.cancelPendingCommit!==null)&&(Rl(s,0),vi(s,He,Us,!1)),Gc(s,n),(!(Xe&2)||s!==it)&&(s===it&&(!(Xe&2)&&(Ta|=n),At===4&&vi(s,He,Us,!1)),Xn(s))}function ly(s,t,n){if(Xe&6)throw Error(de(327));var r=!n&&(t&127)===0&&(t&s.expiredLanes)===0||$c(s,t),i=r?F7(s,t):A0(s,t,!0),l=r;do{if(i===0){Kl&&!r&&vi(s,t,0,!1);break}else{if(n=s.current.alternate,l&&!H7(n)){i=A0(s,t,!1),l=!1;continue}if(i===2){if(l=t,s.errorRecoveryDisabledLanes&l)var o=0;else o=s.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var c=s;i=Qo;var d=c.current.memoizedState.isDehydrated;if(d&&(Rl(c,o).flags|=256),o=A0(c,o,!1),o!==2){if(Op&&!d){c.errorRecoveryDisabledLanes|=l,Ta|=l,i=4;break e}l=Cs,Cs=i,l!==null&&(Cs===null?Cs=l:Cs.push.apply(Cs,l))}i=o}if(l=!1,i!==2)continue}}if(i===1){Rl(s,0),vi(s,t,0,!0);break}e:{switch(r=s,l=i,l){case 0:case 1:throw Error(de(345));case 4:if((t&4194048)!==t)break;case 6:vi(r,t,Us,!gi);break e;case 2:Cs=null;break;case 3:case 5:break;default:throw Error(de(329))}if((t&62914560)===t&&(i=bu+300-Fs(),10<i)){if(vi(r,t,Us,!gi),hu(r,0,!0)!==0)break e;Er=t,r.timeoutHandle=Ay(f1.bind(null,r,n,Cs,Cd,nf,t,Us,Ta,Il,gi,l,"Throttled",-0,0),i);break e}f1(r,n,Cs,Cd,nf,t,Us,Ta,Il,gi,l,null,-0,0)}}break}while(!0);Xn(s)}function f1(s,t,n,r,i,l,o,c,d,u,p,g,v,y){if(s.timeoutHandle=-1,g=t.subtreeFlags,g&8192||(g&16785408)===16785408){g={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:br},ey(t,l,g);var M=(l&62914560)===l?bu-Fs():(l&4194048)===l?ry-Fs():0;if(M=Aw(g,M),M!==null){Er=l,s.cancelPendingCommit=M(x1.bind(null,s,t,l,n,r,i,o,c,d,p,g,null,v,y)),vi(s,l,o,!u);return}}x1(s,t,l,n,r,i,o,c,d)}function H7(s){for(var t=s;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],l=i.getSnapshot;i=i.value;try{if(!Ys(l(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===s)break;for(;t.sibling===null;){if(t.return===null||t.return===s)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vi(s,t,n,r){t&=~qp,t&=~Ta,s.suspendedLanes|=t,s.pingedLanes&=~t,r&&(s.warmLanes|=t),r=s.expirationTimes;for(var i=t;0<i;){var l=31-Ks(i),o=1<<l;r[l]=-1,i&=~o}n!==0&&dj(s,n,t)}function wu(){return Xe&6?!0:(qc(0),!1)}function Lp(){if(Be!==null){if(We===0)var s=Be.return;else s=Be,wr=Ra=null,Sp(s),yl=null,mc=0,s=Be;for(;s!==null;)L4(s.alternate,s),s=s.return;Be=null}}function Rl(s,t){var n=s.timeoutHandle;n!==-1&&(s.timeoutHandle=-1,cw(n)),n=s.cancelPendingCommit,n!==null&&(s.cancelPendingCommit=null,n()),Er=0,Lp(),it=s,Be=n=Ar(s.current,null),He=t,We=0,qs=null,gi=!1,Kl=$c(s,t),Op=!1,Il=Us=qp=Ta=qi=At=0,Cs=Qo=null,nf=!1,t&8&&(t|=t&32);var r=s.entangledLanes;if(r!==0)for(s=s.entanglements,r&=t;0<r;){var i=31-Ks(r),l=1<<i;t|=s[i],r&=~l}return Dr=t,fu(),n}function oy(s,t){Oe=null,De.H=pc,t===Vl||t===xu?(t=Vg(),We=3):t===vp?(t=Vg(),We=4):We=t===zp?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,qs=t,Be===null&&(At=1,Nd(s,on(t,s.current)))}function cy(){var s=Ws.current;return s===null?!0:(He&4194048)===He?dn===null:(He&62914560)===He||He&536870912?s===dn:!1}function hy(){var s=De.H;return De.H=pc,s===null?pc:s}function dy(){var s=De.A;return De.A=P7,s}function Md(){At=4,gi||(He&4194048)!==He&&Ws.current!==null||(Kl=!0),!(qi&134217727)&&!(Ta&134217727)||it===null||vi(it,He,Us,!1)}function A0(s,t,n){var r=Xe;Xe|=2;var i=hy(),l=dy();(it!==s||He!==t)&&(Cd=null,Rl(s,t)),t=!1;var o=At;e:do try{if(We!==0&&Be!==null){var c=Be,d=qs;switch(We){case 8:Lp(),o=6;break e;case 3:case 2:case 9:case 6:Ws.current===null&&(t=!0);var u=We;if(We=0,qs=null,ul(s,c,d,u),n&&Kl){o=0;break e}break;default:u=We,We=0,qs=null,ul(s,c,d,u)}}U7(),o=At;break}catch(p){oy(s,p)}while(!0);return t&&s.shellSuspendCounter++,wr=Ra=null,Xe=r,De.H=i,De.A=l,Be===null&&(it=null,He=0,fu()),o}function U7(){for(;Be!==null;)uy(Be)}function F7(s,t){var n=Xe;Xe|=2;var r=hy(),i=dy();it!==s||He!==t?(Cd=null,Ed=Fs()+500,Rl(s,t)):Kl=$c(s,t);e:do try{if(We!==0&&Be!==null){t=Be;var l=qs;t:switch(We){case 1:We=0,qs=null,ul(s,t,l,1);break;case 2:case 9:if(Fg(l)){We=0,qs=null,p1(t);break}t=function(){We!==2&&We!==9||it!==s||(We=7),Xn(s)},l.then(t,t);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:Fg(l)?(We=0,qs=null,p1(t)):(We=0,qs=null,ul(s,t,l,7));break;case 5:var o=null;switch(Be.tag){case 26:o=Be.memoizedState;case 5:case 27:var c=Be;if(o?$y(o):c.stateNode.complete){We=0,qs=null;var d=c.sibling;if(d!==null)Be=d;else{var u=c.return;u!==null?(Be=u,ku(u)):Be=null}break t}}We=0,qs=null,ul(s,t,l,5);break;case 6:We=0,qs=null,ul(s,t,l,6);break;case 8:Lp(),At=6;break e;default:throw Error(de(462))}}V7();break}catch(p){oy(s,p)}while(!0);return wr=Ra=null,De.H=r,De.A=i,Xe=n,Be!==null?0:(it=null,He=0,fu(),At)}function V7(){for(;Be!==null&&!p6();)uy(Be)}function uy(s){var t=q4(s.alternate,s,Dr);s.memoizedProps=s.pendingProps,t===null?ku(s):Be=t}function p1(s){var t=s,n=t.alternate;switch(t.tag){case 15:case 0:t=o1(n,t,t.pendingProps,t.type,void 0,He);break;case 11:t=o1(n,t,t.pendingProps,t.type.render,t.ref,He);break;case 5:Sp(t);default:L4(n,t),t=Be=Lj(t,Dr),t=q4(n,t,Dr)}s.memoizedProps=s.pendingProps,t===null?ku(s):Be=t}function ul(s,t,n,r){wr=Ra=null,Sp(t),yl=null,mc=0;var i=t.return;try{if(z7(s,i,t,n,He)){At=1,Nd(s,on(n,s.current)),Be=null;return}}catch(l){if(i!==null)throw Be=i,l;At=1,Nd(s,on(n,s.current)),Be=null;return}t.flags&32768?(Ue||r===1?s=!0:Kl||He&536870912?s=!1:(gi=s=!0,(r===2||r===9||r===3||r===6)&&(r=Ws.current,r!==null&&r.tag===13&&(r.flags|=16384))),my(t,s)):ku(t)}function ku(s){var t=s;do{if(t.flags&32768){my(t,gi);return}s=t.return;var n=R7(t.alternate,t,Dr);if(n!==null){Be=n;return}if(t=t.sibling,t!==null){Be=t;return}Be=t=s}while(t!==null);At===0&&(At=5)}function my(s,t){do{var n=O7(s.alternate,s);if(n!==null){n.flags&=32767,Be=n;return}if(n=s.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(s=s.sibling,s!==null)){Be=s;return}Be=s=n}while(s!==null);At=6,Be=null}function x1(s,t,n,r,i,l,o,c,d){s.cancelPendingCommit=null;do Tu();while(Ht!==0);if(Xe&6)throw Error(de(327));if(t!==null){if(t===s.current)throw Error(de(177));if(l=t.lanes|t.childLanes,l|=dp,S6(s,n,l,o,c,d),s===it&&(Be=it=null,He=0),Dl=t,Ai=s,Er=n,rf=l,af=i,iy=r,t.subtreeFlags&10256||t.flags&10256?(s.callbackNode=null,s.callbackPriority=0,Y7(pd,function(){return vy(),null})):(s.callbackNode=null,s.callbackPriority=0),r=(t.flags&13878)!==0,t.subtreeFlags&13878||r){r=De.T,De.T=null,i=Ye.p,Ye.p=2,o=Xe,Xe|=4;try{q7(s,t,n)}finally{Xe=o,Ye.p=i,De.T=r}}Ht=1,fy(),py(),xy()}}function fy(){if(Ht===1){Ht=0;var s=Ai,t=Dl,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=De.T,De.T=null;var r=Ye.p;Ye.p=2;var i=Xe;Xe|=4;try{W4(t,s);var l=df,o=$j(s.containerInfo),c=l.focusedElem,d=l.selectionRange;if(o!==c&&c&&c.ownerDocument&&Mj(c.ownerDocument.documentElement,c)){if(d!==null&&hp(c)){var u=d.start,p=d.end;if(p===void 0&&(p=u),"selectionStart"in c)c.selectionStart=u,c.selectionEnd=Math.min(p,c.value.length);else{var g=c.ownerDocument||document,v=g&&g.defaultView||window;if(v.getSelection){var y=v.getSelection(),M=c.textContent.length,L=Math.min(d.start,M),F=d.end===void 0?L:Math.min(d.end,M);!y.extend&&L>F&&(o=F,F=L,L=o);var T=Og(c,L),w=Og(c,F);if(T&&w&&(y.rangeCount!==1||y.anchorNode!==T.node||y.anchorOffset!==T.offset||y.focusNode!==w.node||y.focusOffset!==w.offset)){var A=g.createRange();A.setStart(T.node,T.offset),y.removeAllRanges(),L>F?(y.addRange(A),y.extend(w.node,w.offset)):(A.setEnd(w.node,w.offset),y.addRange(A))}}}}for(g=[],y=c;y=y.parentNode;)y.nodeType===1&&g.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<g.length;c++){var z=g[c];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}qd=!!hf,df=hf=null}finally{Xe=i,Ye.p=r,De.T=n}}s.current=t,Ht=2}}function py(){if(Ht===2){Ht=0;var s=Ai,t=Dl,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=De.T,De.T=null;var r=Ye.p;Ye.p=2;var i=Xe;Xe|=4;try{V4(s,t.alternate,t)}finally{Xe=i,Ye.p=r,De.T=n}}Ht=3}}function xy(){if(Ht===4||Ht===3){Ht=0,x6();var s=Ai,t=Dl,n=Er,r=iy;t.subtreeFlags&10256||t.flags&10256?Ht=5:(Ht=0,Dl=Ai=null,gy(s,s.pendingLanes));var i=s.pendingLanes;if(i===0&&(Ni=null),np(n),t=t.stateNode,Vs&&typeof Vs.onCommitFiberRoot=="function")try{Vs.onCommitFiberRoot(Mc,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=De.T,i=Ye.p,Ye.p=2,De.T=null;try{for(var l=s.onRecoverableError,o=0;o<r.length;o++){var c=r[o];l(c.value,{componentStack:c.stack})}}finally{De.T=t,Ye.p=i}}Er&3&&Tu(),Xn(s),i=s.pendingLanes,n&261930&&i&42?s===lf?Jo++:(Jo=0,lf=s):Jo=0,qc(0)}}function gy(s,t){(s.pooledCacheLanes&=t)===0&&(t=s.pooledCache,t!=null&&(s.pooledCache=null,Dc(t)))}function Tu(){return fy(),py(),xy(),vy()}function vy(){if(Ht!==5)return!1;var s=Ai,t=rf;rf=0;var n=np(Er),r=De.T,i=Ye.p;try{Ye.p=32>n?32:n,De.T=null,n=af,af=null;var l=Ai,o=Er;if(Ht=0,Dl=Ai=null,Er=0,Xe&6)throw Error(de(331));var c=Xe;if(Xe|=4,sy(l.current),J4(l,l.current,o,n),Xe=c,qc(0,!1),Vs&&typeof Vs.onPostCommitFiberRoot=="function")try{Vs.onPostCommitFiberRoot(Mc,l)}catch{}return!0}finally{Ye.p=i,De.T=r,gy(s,t)}}function g1(s,t,n){t=on(n,t),t=Jm(s.stateNode,t,2),s=Si(s,t,2),s!==null&&(Gc(s,2),Xn(s))}function Je(s,t,n){if(s.tag===3)g1(s,s,n);else for(;t!==null;){if(t.tag===3){g1(t,s,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ni===null||!Ni.has(r))){s=on(n,s),n=G4(2),r=Si(t,n,2),r!==null&&(z4(n,r,t,s),Gc(r,2),Xn(r));break}}t=t.return}}function _0(s,t,n){var r=s.pingCache;if(r===null){r=s.pingCache=new B7;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Op=!0,i.add(n),s=K7.bind(null,s,t,n),t.then(s,s))}function K7(s,t,n){var r=s.pingCache;r!==null&&r.delete(t),s.pingedLanes|=s.suspendedLanes&n,s.warmLanes&=~n,it===s&&(He&n)===n&&(At===4||At===3&&(He&62914560)===He&&300>Fs()-bu?!(Xe&2)&&Rl(s,0):qp|=n,Il===He&&(Il=0)),Xn(s)}function jy(s,t){t===0&&(t=hj()),s=Da(s,t),s!==null&&(Gc(s,t),Xn(s))}function Z7(s){var t=s.memoizedState,n=0;t!==null&&(n=t.retryLane),jy(s,n)}function X7(s,t){var n=0;switch(s.tag){case 31:case 13:var r=s.stateNode,i=s.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=s.stateNode;break;case 22:r=s.stateNode._retryCache;break;default:throw Error(de(314))}r!==null&&r.delete(t),jy(s,n)}function Y7(s,t){return tp(s,t)}var $d=null,el=null,of=!1,Gd=!1,E0=!1,ji=0;function Xn(s){s!==el&&s.next===null&&(el===null?$d=el=s:el=el.next=s),Gd=!0,of||(of=!0,Q7())}function qc(s,t){if(!E0&&Gd){E0=!0;do for(var n=!1,r=$d;r!==null;){if(s!==0){var i=r.pendingLanes;if(i===0)var l=0;else{var o=r.suspendedLanes,c=r.pingedLanes;l=(1<<31-Ks(42|s)+1)-1,l&=i&~(o&~c),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(n=!0,v1(r,l))}else l=He,l=hu(r,r===it?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(l&3)||$c(r,l)||(n=!0,v1(r,l));r=r.next}while(n);E0=!1}}function W7(){yy()}function yy(){Gd=of=!1;var s=0;ji!==0&&ow()&&(s=ji);for(var t=Fs(),n=null,r=$d;r!==null;){var i=r.next,l=by(r,t);l===0?(r.next=null,n===null?$d=i:n.next=i,i===null&&(el=n)):(n=r,(s!==0||l&3)&&(Gd=!0)),r=i}Ht!==0&&Ht!==5||qc(s),ji!==0&&(ji=0)}function by(s,t){for(var n=s.suspendedLanes,r=s.pingedLanes,i=s.expirationTimes,l=s.pendingLanes&-62914561;0<l;){var o=31-Ks(l),c=1<<o,d=i[o];d===-1?(!(c&n)||c&r)&&(i[o]=T6(c,t)):d<=t&&(s.expiredLanes|=c),l&=~c}if(t=it,n=He,n=hu(s,s===t?n:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),r=s.callbackNode,n===0||s===t&&(We===2||We===9)||s.cancelPendingCommit!==null)return r!==null&&r!==null&&n0(r),s.callbackNode=null,s.callbackPriority=0;if(!(n&3)||$c(s,n)){if(t=n&-n,t===s.callbackPriority)return t;switch(r!==null&&n0(r),np(n)){case 2:case 8:n=oj;break;case 32:n=pd;break;case 268435456:n=cj;break;default:n=pd}return r=wy.bind(null,s),n=tp(n,r),s.callbackPriority=t,s.callbackNode=n,t}return r!==null&&r!==null&&n0(r),s.callbackPriority=2,s.callbackNode=null,2}function wy(s,t){if(Ht!==0&&Ht!==5)return s.callbackNode=null,s.callbackPriority=0,null;var n=s.callbackNode;if(Tu()&&s.callbackNode!==n)return null;var r=He;return r=hu(s,s===it?r:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),r===0?null:(ly(s,r,t),by(s,Fs()),s.callbackNode!=null&&s.callbackNode===n?wy.bind(null,s):null)}function v1(s,t){if(Tu())return null;ly(s,t,!0)}function Q7(){hw(function(){Xe&6?tp(lj,W7):yy()})}function Pp(){if(ji===0){var s=$l;s===0&&(s=dh,dh<<=1,!(dh&261888)&&(dh=256)),ji=s}return ji}function j1(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Fh(""+s)}function y1(s,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,s.id&&n.setAttribute("form",s.id),t.parentNode.insertBefore(n,t),s=new FormData(s),n.parentNode.removeChild(n),s}function J7(s,t,n,r,i){if(t==="submit"&&n&&n.stateNode===i){var l=j1((i[Gs]||null).action),o=r.submitter;o&&(t=(t=o[Gs]||null)?j1(t.formAction):o.getAttribute("formAction"),t!==null&&(l=t,o=null));var c=new du("action","action",null,r,i);s.push({event:c,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ji!==0){var d=o?y1(i,o):new FormData(i);Wm(n,{pending:!0,data:d,method:i.method,action:l},null,d)}}else typeof l=="function"&&(c.preventDefault(),d=o?y1(i,o):new FormData(i),Wm(n,{pending:!0,data:d,method:i.method,action:l},l,d))},currentTarget:i}]})}}for(var C0=0;C0<qm.length;C0++){var M0=qm[C0],ew=M0.toLowerCase(),tw=M0[0].toUpperCase()+M0.slice(1);$n(ew,"on"+tw)}$n(zj,"onAnimationEnd");$n(Ij,"onAnimationIteration");$n(Dj,"onAnimationStart");$n("dblclick","onDoubleClick");$n("focusin","onFocus");$n("focusout","onBlur");$n(g7,"onTransitionRun");$n(v7,"onTransitionStart");$n(j7,"onTransitionCancel");$n(Rj,"onTransitionEnd");Cl("onMouseEnter",["mouseout","mouseover"]);Cl("onMouseLeave",["mouseout","mouseover"]);Cl("onPointerEnter",["pointerout","pointerover"]);Cl("onPointerLeave",["pointerout","pointerover"]);Ga("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ga("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ga("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ga("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ga("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xc));function ky(s,t){t=(t&4)!==0;for(var n=0;n<s.length;n++){var r=s[n],i=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var c=r[o],d=c.instance,u=c.currentTarget;if(c=c.listener,d!==l&&i.isPropagationStopped())break e;l=c,i.currentTarget=u;try{l(i)}catch(p){gd(p)}i.currentTarget=null,l=d}else for(o=0;o<r.length;o++){if(c=r[o],d=c.instance,u=c.currentTarget,c=c.listener,d!==l&&i.isPropagationStopped())break e;l=c,i.currentTarget=u;try{l(i)}catch(p){gd(p)}i.currentTarget=null,l=d}}}}function Pe(s,t){var n=t[Mm];n===void 0&&(n=t[Mm]=new Set);var r=s+"__bubble";n.has(r)||(Ty(t,s,2,!1),n.add(r))}function $0(s,t,n){var r=0;t&&(r|=4),Ty(n,s,r,t)}var bh="_reactListening"+Math.random().toString(36).slice(2);function Bp(s){if(!s[bh]){s[bh]=!0,pj.forEach(function(n){n!=="selectionchange"&&(sw.has(n)||$0(n,!1,s),$0(n,!0,s))});var t=s.nodeType===9?s:s.ownerDocument;t===null||t[bh]||(t[bh]=!0,$0("selectionchange",!1,t))}}function Ty(s,t,n,r){switch(Ry(t)){case 2:var i=Cw;break;case 8:i=Mw;break;default:i=Vp}n=i.bind(null,t,n,s),i=void 0,!Dm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?s.addEventListener(t,n,{capture:!0,passive:i}):s.addEventListener(t,n,!0):i!==void 0?s.addEventListener(t,n,{passive:i}):s.addEventListener(t,n,!1)}function G0(s,t,n,r,i){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===i)break;if(o===4)for(o=r.return;o!==null;){var d=o.tag;if((d===3||d===4)&&o.stateNode.containerInfo===i)return;o=o.return}for(;c!==null;){if(o=nl(c),o===null)return;if(d=o.tag,d===5||d===6||d===26||d===27){r=l=o;continue e}c=c.parentNode}}r=r.return}kj(function(){var u=l,p=ap(n),g=[];e:{var v=Oj.get(s);if(v!==void 0){var y=du,M=s;switch(s){case"keypress":if(Kh(n)===0)break e;case"keydown":case"keyup":y=X6;break;case"focusin":M="focus",y=o0;break;case"focusout":M="blur",y=o0;break;case"beforeblur":case"afterblur":y=o0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=_g;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=R6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Q6;break;case zj:case Ij:case Dj:y=L6;break;case Rj:y=e7;break;case"scroll":case"scrollend":y=I6;break;case"wheel":y=s7;break;case"copy":case"cut":case"paste":y=B6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Cg;break;case"toggle":case"beforetoggle":y=r7}var L=(t&4)!==0,F=!L&&(s==="scroll"||s==="scrollend"),T=L?v!==null?v+"Capture":null:v;L=[];for(var w=u,A;w!==null;){var z=w;if(A=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||A===null||T===null||(z=oc(w,T),z!=null&&L.push(gc(w,z,A))),F)break;w=w.return}0<L.length&&(v=new y(v,M,null,n,p),g.push({event:v,listeners:L}))}}if(!(t&7)){e:{if(v=s==="mouseover"||s==="pointerover",y=s==="mouseout"||s==="pointerout",v&&n!==Im&&(M=n.relatedTarget||n.fromElement)&&(nl(M)||M[Hl]))break e;if((y||v)&&(v=p.window===p?p:(v=p.ownerDocument)?v.defaultView||v.parentWindow:window,y?(M=n.relatedTarget||n.toElement,y=u,M=M?nl(M):null,M!==null&&(F=Cc(M),L=M.tag,M!==F||L!==5&&L!==27&&L!==6)&&(M=null)):(y=null,M=u),y!==M)){if(L=_g,z="onMouseLeave",T="onMouseEnter",w="mouse",(s==="pointerout"||s==="pointerover")&&(L=Cg,z="onPointerLeave",T="onPointerEnter",w="pointer"),F=y==null?v:Ro(y),A=M==null?v:Ro(M),v=new L(z,w+"leave",y,n,p),v.target=F,v.relatedTarget=A,z=null,nl(p)===u&&(L=new L(T,w+"enter",M,n,p),L.target=A,L.relatedTarget=F,z=L),F=z,y&&M)t:{for(L=nw,T=y,w=M,A=0,z=T;z;z=L(z))A++;z=0;for(var Y=w;Y;Y=L(Y))z++;for(;0<A-z;)T=L(T),A--;for(;0<z-A;)w=L(w),z--;for(;A--;){if(T===w||w!==null&&T===w.alternate){L=T;break t}T=L(T),w=L(w)}L=null}else L=null;y!==null&&b1(g,v,y,L,!1),M!==null&&F!==null&&b1(g,F,M,L,!0)}}e:{if(v=u?Ro(u):window,y=v.nodeName&&v.nodeName.toLowerCase(),y==="select"||y==="input"&&v.type==="file")var ie=zg;else if(Gg(v))if(Ej)ie=f7;else{ie=u7;var _=d7}else y=v.nodeName,!y||y.toLowerCase()!=="input"||v.type!=="checkbox"&&v.type!=="radio"?u&&ip(u.elementType)&&(ie=zg):ie=m7;if(ie&&(ie=ie(s,u))){_j(g,ie,n,p);break e}_&&_(s,v,u),s==="focusout"&&u&&v.type==="number"&&u.memoizedProps.value!=null&&zm(v,"number",v.value)}switch(_=u?Ro(u):window,s){case"focusin":(Gg(_)||_.contentEditable==="true")&&(al=_,Rm=u,Uo=null);break;case"focusout":Uo=Rm=al=null;break;case"mousedown":Om=!0;break;case"contextmenu":case"mouseup":case"dragend":Om=!1,qg(g,n,p);break;case"selectionchange":if(x7)break;case"keydown":case"keyup":qg(g,n,p)}var k;if(cp)e:{switch(s){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else il?Nj(s,n)&&(N="onCompositionEnd"):s==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(Sj&&n.locale!=="ko"&&(il||N!=="onCompositionStart"?N==="onCompositionEnd"&&il&&(k=Tj()):(xi=p,lp="value"in xi?xi.value:xi.textContent,il=!0)),_=zd(u,N),0<_.length&&(N=new Eg(N,s,null,n,p),g.push({event:N,listeners:_}),k?N.data=k:(k=Aj(n),k!==null&&(N.data=k)))),(k=a7?l7(s,n):o7(s,n))&&(N=zd(u,"onBeforeInput"),0<N.length&&(_=new Eg("onBeforeInput","beforeinput",null,n,p),g.push({event:_,listeners:N}),_.data=k)),J7(g,s,u,n,p)}ky(g,t)})}function gc(s,t,n){return{instance:s,listener:t,currentTarget:n}}function zd(s,t){for(var n=t+"Capture",r=[];s!==null;){var i=s,l=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||l===null||(i=oc(s,n),i!=null&&r.unshift(gc(s,i,l)),i=oc(s,t),i!=null&&r.push(gc(s,i,l))),s.tag===3)return r;s=s.return}return[]}function nw(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function b1(s,t,n,r,i){for(var l=t._reactName,o=[];n!==null&&n!==r;){var c=n,d=c.alternate,u=c.stateNode;if(c=c.tag,d!==null&&d===r)break;c!==5&&c!==26&&c!==27||u===null||(d=u,i?(u=oc(n,l),u!=null&&o.unshift(gc(n,u,d))):i||(u=oc(n,l),u!=null&&o.push(gc(n,u,d)))),n=n.return}o.length!==0&&s.push({event:t,listeners:o})}var rw=/\r\n?/g,iw=/\u0000|\uFFFD/g;function w1(s){return(typeof s=="string"?s:""+s).replace(rw,`
`).replace(iw,"")}function Sy(s,t){return t=w1(t),w1(s)===t}function et(s,t,n,r,i,l){switch(n){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||Ml(s,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&Ml(s,""+r);break;case"className":fh(s,"class",r);break;case"tabIndex":fh(s,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":fh(s,n,r);break;case"style":wj(s,r,l);break;case"data":if(t!=="object"){fh(s,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||n!=="href")){s.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){s.removeAttribute(n);break}r=Fh(""+r),s.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){s.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(n==="formAction"?(t!=="input"&&et(s,t,"name",i.name,i,null),et(s,t,"formEncType",i.formEncType,i,null),et(s,t,"formMethod",i.formMethod,i,null),et(s,t,"formTarget",i.formTarget,i,null)):(et(s,t,"encType",i.encType,i,null),et(s,t,"method",i.method,i,null),et(s,t,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){s.removeAttribute(n);break}r=Fh(""+r),s.setAttribute(n,r);break;case"onClick":r!=null&&(s.onclick=br);break;case"onScroll":r!=null&&Pe("scroll",s);break;case"onScrollEnd":r!=null&&Pe("scrollend",s);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(de(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(de(60));s.innerHTML=n}}break;case"multiple":s.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":s.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){s.removeAttribute("xlink:href");break}n=Fh(""+r),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?s.setAttribute(n,""+r):s.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?s.setAttribute(n,""):s.removeAttribute(n);break;case"capture":case"download":r===!0?s.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?s.setAttribute(n,r):s.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?s.setAttribute(n,r):s.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?s.removeAttribute(n):s.setAttribute(n,r);break;case"popover":Pe("beforetoggle",s),Pe("toggle",s),Uh(s,"popover",r);break;case"xlinkActuate":hr(s,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":hr(s,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":hr(s,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":hr(s,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":hr(s,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":hr(s,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":hr(s,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":hr(s,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":hr(s,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Uh(s,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=G6.get(n)||n,Uh(s,n,r))}}function cf(s,t,n,r,i,l){switch(n){case"style":wj(s,r,l);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(de(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(de(60));s.innerHTML=n}}break;case"children":typeof r=="string"?Ml(s,r):(typeof r=="number"||typeof r=="bigint")&&Ml(s,""+r);break;case"onScroll":r!=null&&Pe("scroll",s);break;case"onScrollEnd":r!=null&&Pe("scrollend",s);break;case"onClick":r!=null&&(s.onclick=br);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xj.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),l=s[Gs]||null,l=l!=null?l[n]:null,typeof l=="function"&&s.removeEventListener(t,l,i),typeof r=="function")){typeof l!="function"&&l!==null&&(n in s?s[n]=null:s.hasAttribute(n)&&s.removeAttribute(n)),s.addEventListener(t,r,i);break e}n in s?s[n]=r:r===!0?s.setAttribute(n,""):Uh(s,n,r)}}}function ds(s,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",s),Pe("load",s);var r=!1,i=!1,l;for(l in n)if(n.hasOwnProperty(l)){var o=n[l];if(o!=null)switch(l){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(de(137,t));default:et(s,t,l,o,n,null)}}i&&et(s,t,"srcSet",n.srcSet,n,null),r&&et(s,t,"src",n.src,n,null);return;case"input":Pe("invalid",s);var c=l=o=i=null,d=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var p=n[r];if(p!=null)switch(r){case"name":i=p;break;case"type":o=p;break;case"checked":d=p;break;case"defaultChecked":u=p;break;case"value":l=p;break;case"defaultValue":c=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(de(137,t));break;default:et(s,t,r,p,n,null)}}jj(s,l,c,d,u,o,i,!1);return;case"select":Pe("invalid",s),r=o=l=null;for(i in n)if(n.hasOwnProperty(i)&&(c=n[i],c!=null))switch(i){case"value":l=c;break;case"defaultValue":o=c;break;case"multiple":r=c;default:et(s,t,i,c,n,null)}t=l,n=o,s.multiple=!!r,t!=null?gl(s,!!r,t,!1):n!=null&&gl(s,!!r,n,!0);return;case"textarea":Pe("invalid",s),l=i=r=null;for(o in n)if(n.hasOwnProperty(o)&&(c=n[o],c!=null))switch(o){case"value":r=c;break;case"defaultValue":i=c;break;case"children":l=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(de(91));break;default:et(s,t,o,c,n,null)}bj(s,r,i,l);return;case"option":for(d in n)if(n.hasOwnProperty(d)&&(r=n[d],r!=null))switch(d){case"selected":s.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:et(s,t,d,r,n,null)}return;case"dialog":Pe("beforetoggle",s),Pe("toggle",s),Pe("cancel",s),Pe("close",s);break;case"iframe":case"object":Pe("load",s);break;case"video":case"audio":for(r=0;r<xc.length;r++)Pe(xc[r],s);break;case"image":Pe("error",s),Pe("load",s);break;case"details":Pe("toggle",s);break;case"embed":case"source":case"link":Pe("error",s),Pe("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(de(137,t));default:et(s,t,u,r,n,null)}return;default:if(ip(t)){for(p in n)n.hasOwnProperty(p)&&(r=n[p],r!==void 0&&cf(s,t,p,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&et(s,t,c,r,n,null))}function aw(s,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,l=null,o=null,c=null,d=null,u=null,p=null;for(y in n){var g=n[y];if(n.hasOwnProperty(y)&&g!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":d=g;default:r.hasOwnProperty(y)||et(s,t,y,null,r,g)}}for(var v in r){var y=r[v];if(g=n[v],r.hasOwnProperty(v)&&(y!=null||g!=null))switch(v){case"type":l=y;break;case"name":i=y;break;case"checked":u=y;break;case"defaultChecked":p=y;break;case"value":o=y;break;case"defaultValue":c=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(de(137,t));break;default:y!==g&&et(s,t,v,y,r,g)}}Gm(s,o,c,d,u,p,l,i);return;case"select":y=o=c=v=null;for(l in n)if(d=n[l],n.hasOwnProperty(l)&&d!=null)switch(l){case"value":break;case"multiple":y=d;default:r.hasOwnProperty(l)||et(s,t,l,null,r,d)}for(i in r)if(l=r[i],d=n[i],r.hasOwnProperty(i)&&(l!=null||d!=null))switch(i){case"value":v=l;break;case"defaultValue":c=l;break;case"multiple":o=l;default:l!==d&&et(s,t,i,l,r,d)}t=c,n=o,r=y,v!=null?gl(s,!!n,v,!1):!!r!=!!n&&(t!=null?gl(s,!!n,t,!0):gl(s,!!n,n?[]:"",!1));return;case"textarea":y=v=null;for(c in n)if(i=n[c],n.hasOwnProperty(c)&&i!=null&&!r.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:et(s,t,c,null,r,i)}for(o in r)if(i=r[o],l=n[o],r.hasOwnProperty(o)&&(i!=null||l!=null))switch(o){case"value":v=i;break;case"defaultValue":y=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(de(91));break;default:i!==l&&et(s,t,o,i,r,l)}yj(s,v,y);return;case"option":for(var M in n)if(v=n[M],n.hasOwnProperty(M)&&v!=null&&!r.hasOwnProperty(M))switch(M){case"selected":s.selected=!1;break;default:et(s,t,M,null,r,v)}for(d in r)if(v=r[d],y=n[d],r.hasOwnProperty(d)&&v!==y&&(v!=null||y!=null))switch(d){case"selected":s.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:et(s,t,d,v,r,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var L in n)v=n[L],n.hasOwnProperty(L)&&v!=null&&!r.hasOwnProperty(L)&&et(s,t,L,null,r,v);for(u in r)if(v=r[u],y=n[u],r.hasOwnProperty(u)&&v!==y&&(v!=null||y!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(de(137,t));break;default:et(s,t,u,v,r,y)}return;default:if(ip(t)){for(var F in n)v=n[F],n.hasOwnProperty(F)&&v!==void 0&&!r.hasOwnProperty(F)&&cf(s,t,F,void 0,r,v);for(p in r)v=r[p],y=n[p],!r.hasOwnProperty(p)||v===y||v===void 0&&y===void 0||cf(s,t,p,v,r,y);return}}for(var T in n)v=n[T],n.hasOwnProperty(T)&&v!=null&&!r.hasOwnProperty(T)&&et(s,t,T,null,r,v);for(g in r)v=r[g],y=n[g],!r.hasOwnProperty(g)||v===y||v==null&&y==null||et(s,t,g,v,r,y)}function k1(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lw(){if(typeof performance.getEntriesByType=="function"){for(var s=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],l=i.transferSize,o=i.initiatorType,c=i.duration;if(l&&c&&k1(o)){for(o=0,c=i.responseEnd,r+=1;r<n.length;r++){var d=n[r],u=d.startTime;if(u>c)break;var p=d.transferSize,g=d.initiatorType;p&&k1(g)&&(d=d.responseEnd,o+=p*(d<c?1:(c-u)/(d-u)))}if(--r,t+=8*(l+o)/(i.duration/1e3),s++,10<s)break}}if(0<s)return t/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var hf=null,df=null;function Id(s){return s.nodeType===9?s:s.ownerDocument}function T1(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ny(s,t){if(s===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&t==="foreignObject"?0:s}function uf(s,t){return s==="textarea"||s==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var z0=null;function ow(){var s=window.event;return s&&s.type==="popstate"?s===z0?!1:(z0=s,!0):(z0=null,!1)}var Ay=typeof setTimeout=="function"?setTimeout:void 0,cw=typeof clearTimeout=="function"?clearTimeout:void 0,S1=typeof Promise=="function"?Promise:void 0,hw=typeof queueMicrotask=="function"?queueMicrotask:typeof S1<"u"?function(s){return S1.resolve(null).then(s).catch(dw)}:Ay;function dw(s){setTimeout(function(){throw s})}function Ki(s){return s==="head"}function N1(s,t){var n=t,r=0;do{var i=n.nextSibling;if(s.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){s.removeChild(i),ql(t);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")ec(s.ownerDocument.documentElement);else if(n==="head"){n=s.ownerDocument.head,ec(n);for(var l=n.firstChild;l;){var o=l.nextSibling,c=l.nodeName;l[zc]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&l.rel.toLowerCase()==="stylesheet"||n.removeChild(l),l=o}}else n==="body"&&ec(s.ownerDocument.body);n=i}while(n);ql(t)}function A1(s,t){var n=s;s=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(s===0)break;s--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||s++;n=r}while(n)}function mf(s){var t=s.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":mf(n),rp(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}s.removeChild(n)}}function uw(s,t,n,r){for(;s.nodeType===1;){var i=n;if(s.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(r){if(!s[zc])switch(t){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(l=s.getAttribute("rel"),l==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(l!==i.rel||s.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||s.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||s.getAttribute("title")!==(i.title==null?null:i.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(l=s.getAttribute("src"),(l!==(i.src==null?null:i.src)||s.getAttribute("type")!==(i.type==null?null:i.type)||s.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&l&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(t==="input"&&s.type==="hidden"){var l=i.name==null?null:""+i.name;if(i.type==="hidden"&&s.getAttribute("name")===l)return s}else return s;if(s=un(s.nextSibling),s===null)break}return null}function mw(s,t,n){if(t==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!n||(s=un(s.nextSibling),s===null))return null;return s}function _y(s,t){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!t||(s=un(s.nextSibling),s===null))return null;return s}function ff(s){return s.data==="$?"||s.data==="$~"}function pf(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function fw(s,t){var n=s.ownerDocument;if(s.data==="$~")s._reactRetry=t;else if(s.data!=="$?"||n.readyState!=="loading")t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),s._reactRetry=r}}function un(s){for(;s!=null;s=s.nextSibling){var t=s.nodeType;if(t===1||t===3)break;if(t===8){if(t=s.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return s}var xf=null;function _1(s){s=s.nextSibling;for(var t=0;s;){if(s.nodeType===8){var n=s.data;if(n==="/$"||n==="/&"){if(t===0)return un(s.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}s=s.nextSibling}return null}function E1(s){s=s.previousSibling;for(var t=0;s;){if(s.nodeType===8){var n=s.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return s;t--}else n!=="/$"&&n!=="/&"||t++}s=s.previousSibling}return null}function Ey(s,t,n){switch(t=Id(n),s){case"html":if(s=t.documentElement,!s)throw Error(de(452));return s;case"head":if(s=t.head,!s)throw Error(de(453));return s;case"body":if(s=t.body,!s)throw Error(de(454));return s;default:throw Error(de(451))}}function ec(s){for(var t=s.attributes;t.length;)s.removeAttributeNode(t[0]);rp(s)}var mn=new Map,C1=new Set;function Dd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Hr=Ye.d;Ye.d={f:pw,r:xw,D:gw,C:vw,L:jw,m:yw,X:ww,S:bw,M:kw};function pw(){var s=Hr.f(),t=wu();return s||t}function xw(s){var t=Ul(s);t!==null&&t.tag===5&&t.type==="form"?w4(t):Hr.r(s)}var Zl=typeof document>"u"?null:document;function Cy(s,t,n){var r=Zl;if(r&&typeof t=="string"&&t){var i=ln(t);i='link[rel="'+s+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),C1.has(i)||(C1.add(i),s={rel:s,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement("link"),ds(t,"link",s),es(t),r.head.appendChild(t)))}}function gw(s){Hr.D(s),Cy("dns-prefetch",s,null)}function vw(s,t){Hr.C(s,t),Cy("preconnect",s,t)}function jw(s,t,n){Hr.L(s,t,n);var r=Zl;if(r&&s&&t){var i='link[rel="preload"][as="'+ln(t)+'"]';t==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+ln(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+ln(n.imageSizes)+'"]')):i+='[href="'+ln(s)+'"]';var l=i;switch(t){case"style":l=Ol(s);break;case"script":l=Xl(s)}mn.has(l)||(s=pt({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:s,as:t},n),mn.set(l,s),r.querySelector(i)!==null||t==="style"&&r.querySelector(Lc(l))||t==="script"&&r.querySelector(Pc(l))||(t=r.createElement("link"),ds(t,"link",s),es(t),r.head.appendChild(t)))}}function yw(s,t){Hr.m(s,t);var n=Zl;if(n&&s){var r=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+ln(r)+'"][href="'+ln(s)+'"]',l=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Xl(s)}if(!mn.has(l)&&(s=pt({rel:"modulepreload",href:s},t),mn.set(l,s),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Pc(l)))return}r=n.createElement("link"),ds(r,"link",s),es(r),n.head.appendChild(r)}}}function bw(s,t,n){Hr.S(s,t,n);var r=Zl;if(r&&s){var i=xl(r).hoistableStyles,l=Ol(s);t=t||"default";var o=i.get(l);if(!o){var c={loading:0,preload:null};if(o=r.querySelector(Lc(l)))c.loading=5;else{s=pt({rel:"stylesheet",href:s,"data-precedence":t},n),(n=mn.get(l))&&Hp(s,n);var d=o=r.createElement("link");es(d),ds(d,"link",s),d._p=new Promise(function(u,p){d.onload=u,d.onerror=p}),d.addEventListener("load",function(){c.loading|=1}),d.addEventListener("error",function(){c.loading|=2}),c.loading|=4,td(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:c},i.set(l,o)}}}function ww(s,t){Hr.X(s,t);var n=Zl;if(n&&s){var r=xl(n).hoistableScripts,i=Xl(s),l=r.get(i);l||(l=n.querySelector(Pc(i)),l||(s=pt({src:s,async:!0},t),(t=mn.get(i))&&Up(s,t),l=n.createElement("script"),es(l),ds(l,"link",s),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},r.set(i,l))}}function kw(s,t){Hr.M(s,t);var n=Zl;if(n&&s){var r=xl(n).hoistableScripts,i=Xl(s),l=r.get(i);l||(l=n.querySelector(Pc(i)),l||(s=pt({src:s,async:!0,type:"module"},t),(t=mn.get(i))&&Up(s,t),l=n.createElement("script"),es(l),ds(l,"link",s),n.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},r.set(i,l))}}function M1(s,t,n,r){var i=(i=wi.current)?Dd(i):null;if(!i)throw Error(de(446));switch(s){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ol(n.href),n=xl(i).hoistableStyles,r=n.get(t),r||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){s=Ol(n.href);var l=xl(i).hoistableStyles,o=l.get(s);if(o||(i=i.ownerDocument||i,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(s,o),(l=i.querySelector(Lc(s)))&&!l._p&&(o.instance=l,o.state.loading=5),mn.has(s)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},mn.set(s,n),l||Tw(i,s,n,o.state))),t&&r===null)throw Error(de(528,""));return o}if(t&&r!==null)throw Error(de(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Xl(n),n=xl(i).hoistableScripts,r=n.get(t),r||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(de(444,s))}}function Ol(s){return'href="'+ln(s)+'"'}function Lc(s){return'link[rel="stylesheet"]['+s+"]"}function My(s){return pt({},s,{"data-precedence":s.precedence,precedence:null})}function Tw(s,t,n,r){s.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=s.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),ds(t,"link",n),es(t),s.head.appendChild(t))}function Xl(s){return'[src="'+ln(s)+'"]'}function Pc(s){return"script[async]"+s}function $1(s,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var r=s.querySelector('style[data-href~="'+ln(n.href)+'"]');if(r)return t.instance=r,es(r),r;var i=pt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(s.ownerDocument||s).createElement("style"),es(r),ds(r,"style",i),td(r,n.precedence,s),t.instance=r;case"stylesheet":i=Ol(n.href);var l=s.querySelector(Lc(i));if(l)return t.state.loading|=4,t.instance=l,es(l),l;r=My(n),(i=mn.get(i))&&Hp(r,i),l=(s.ownerDocument||s).createElement("link"),es(l);var o=l;return o._p=new Promise(function(c,d){o.onload=c,o.onerror=d}),ds(l,"link",r),t.state.loading|=4,td(l,n.precedence,s),t.instance=l;case"script":return l=Xl(n.src),(i=s.querySelector(Pc(l)))?(t.instance=i,es(i),i):(r=n,(i=mn.get(l))&&(r=pt({},n),Up(r,i)),s=s.ownerDocument||s,i=s.createElement("script"),es(i),ds(i,"link",r),s.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(de(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,td(r,n.precedence,s));return t.instance}function td(s,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,l=i,o=0;o<r.length;o++){var c=r[o];if(c.dataset.precedence===t)l=c;else if(l!==i)break}l?l.parentNode.insertBefore(s,l.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(s,t.firstChild))}function Hp(s,t){s.crossOrigin==null&&(s.crossOrigin=t.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=t.referrerPolicy),s.title==null&&(s.title=t.title)}function Up(s,t){s.crossOrigin==null&&(s.crossOrigin=t.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=t.referrerPolicy),s.integrity==null&&(s.integrity=t.integrity)}var sd=null;function G1(s,t,n){if(sd===null){var r=new Map,i=sd=new Map;i.set(n,r)}else i=sd,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(s))return r;for(r.set(s,null),n=n.getElementsByTagName(s),i=0;i<n.length;i++){var l=n[i];if(!(l[zc]||l[os]||s==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var o=l.getAttribute(t)||"";o=s+o;var c=r.get(o);c?c.push(l):r.set(o,[l])}}return r}function z1(s,t,n){s=s.ownerDocument||s,s.head.insertBefore(n,t==="title"?s.querySelector("head > title"):null)}function Sw(s,t,n){if(n===1||t.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return s=t.disabled,typeof t.precedence=="string"&&s==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function $y(s){return!(s.type==="stylesheet"&&!(s.state.loading&3))}function Nw(s,t,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Ol(r.href),l=t.querySelector(Lc(i));if(l){t=l._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(s.count++,s=Rd.bind(s),t.then(s,s)),n.state.loading|=4,n.instance=l,es(l);return}l=t.ownerDocument||t,r=My(r),(i=mn.get(i))&&Hp(r,i),l=l.createElement("link"),es(l);var o=l;o._p=new Promise(function(c,d){o.onload=c,o.onerror=d}),ds(l,"link",r),n.instance=l}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(s.count++,n=Rd.bind(s),t.addEventListener("load",n),t.addEventListener("error",n))}}var I0=0;function Aw(s,t){return s.stylesheets&&s.count===0&&nd(s,s.stylesheets),0<s.count||0<s.imgCount?function(n){var r=setTimeout(function(){if(s.stylesheets&&nd(s,s.stylesheets),s.unsuspend){var l=s.unsuspend;s.unsuspend=null,l()}},6e4+t);0<s.imgBytes&&I0===0&&(I0=62500*lw());var i=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&nd(s,s.stylesheets),s.unsuspend)){var l=s.unsuspend;s.unsuspend=null,l()}},(s.imgBytes>I0?50:800)+t);return s.unsuspend=n,function(){s.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Rd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Od=null;function nd(s,t){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Od=new Map,t.forEach(_w,s),Od=null,Rd.call(s))}function _w(s,t){if(!(t.state.loading&4)){var n=Od.get(s);if(n)var r=n.get(null);else{n=new Map,Od.set(s,n);for(var i=s.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<i.length;l++){var o=i[l];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute("data-precedence"),l=n.get(o)||r,l===r&&n.set(null,i),n.set(o,i),this.count++,r=Rd.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),l?l.parentNode.insertBefore(i,l.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(i,s.firstChild)),t.state.loading|=4}}var vc={$$typeof:yr,Provider:null,Consumer:null,_currentValue:ya,_currentValue2:ya,_threadCount:0};function Ew(s,t,n,r,i,l,o,c,d){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=r0(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=r0(0),this.hiddenUpdates=r0(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=l,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=d,this.incompleteTransitions=new Map}function Gy(s,t,n,r,i,l,o,c,d,u,p,g){return s=new Ew(s,t,n,o,d,u,p,g,c),t=1,l===!0&&(t|=24),l=Bs(3,null,null,t),s.current=l,l.stateNode=s,t=xp(),t.refCount++,s.pooledCache=t,t.refCount++,l.memoizedState={element:r,isDehydrated:n,cache:t},jp(l),s}function zy(s){return s?(s=cl,s):cl}function Iy(s,t,n,r,i,l){i=zy(i),r.context===null?r.context=i:r.pendingContext=i,r=Ti(t),r.payload={element:n},l=l===void 0?null:l,l!==null&&(r.callback=l),n=Si(s,r,t),n!==null&&($s(n,s,t),Vo(n,s,t))}function I1(s,t){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var n=s.retryLane;s.retryLane=n!==0&&n<t?n:t}}function Fp(s,t){I1(s,t),(s=s.alternate)&&I1(s,t)}function Dy(s){if(s.tag===13||s.tag===31){var t=Da(s,67108864);t!==null&&$s(t,s,67108864),Fp(s,67108864)}}function D1(s){if(s.tag===13||s.tag===31){var t=Zs();t=sp(t);var n=Da(s,t);n!==null&&$s(n,s,t),Fp(s,t)}}var qd=!0;function Cw(s,t,n,r){var i=De.T;De.T=null;var l=Ye.p;try{Ye.p=2,Vp(s,t,n,r)}finally{Ye.p=l,De.T=i}}function Mw(s,t,n,r){var i=De.T;De.T=null;var l=Ye.p;try{Ye.p=8,Vp(s,t,n,r)}finally{Ye.p=l,De.T=i}}function Vp(s,t,n,r){if(qd){var i=gf(r);if(i===null)G0(s,t,r,Ld,n),R1(s,r);else if(Gw(i,s,t,n,r))r.stopPropagation();else if(R1(s,r),t&4&&-1<$w.indexOf(s)){for(;i!==null;){var l=Ul(i);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var o=ua(l.pendingLanes);if(o!==0){var c=l;for(c.pendingLanes|=2,c.entangledLanes|=2;o;){var d=1<<31-Ks(o);c.entanglements[1]|=d,o&=~d}Xn(l),!(Xe&6)&&(Ed=Fs()+500,qc(0))}}break;case 31:case 13:c=Da(l,2),c!==null&&$s(c,l,2),wu(),Fp(l,2)}if(l=gf(r),l===null&&G0(s,t,r,Ld,n),l===i)break;i=l}i!==null&&r.stopPropagation()}else G0(s,t,r,null,n)}}function gf(s){return s=ap(s),Kp(s)}var Ld=null;function Kp(s){if(Ld=null,s=nl(s),s!==null){var t=Cc(s);if(t===null)s=null;else{var n=t.tag;if(n===13){if(s=sj(t),s!==null)return s;s=null}else if(n===31){if(s=nj(t),s!==null)return s;s=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;s=null}else t!==s&&(s=null)}}return Ld=s,null}function Ry(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(g6()){case lj:return 2;case oj:return 8;case pd:case v6:return 32;case cj:return 268435456;default:return 32}default:return 32}}var vf=!1,_i=null,Ei=null,Ci=null,jc=new Map,yc=new Map,hi=[],$w="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R1(s,t){switch(s){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":jc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yc.delete(t.pointerId)}}function _o(s,t,n,r,i,l){return s===null||s.nativeEvent!==l?(s={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[i]},t!==null&&(t=Ul(t),t!==null&&Dy(t)),s):(s.eventSystemFlags|=r,t=s.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),s)}function Gw(s,t,n,r,i){switch(t){case"focusin":return _i=_o(_i,s,t,n,r,i),!0;case"dragenter":return Ei=_o(Ei,s,t,n,r,i),!0;case"mouseover":return Ci=_o(Ci,s,t,n,r,i),!0;case"pointerover":var l=i.pointerId;return jc.set(l,_o(jc.get(l)||null,s,t,n,r,i)),!0;case"gotpointercapture":return l=i.pointerId,yc.set(l,_o(yc.get(l)||null,s,t,n,r,i)),!0}return!1}function Oy(s){var t=nl(s.target);if(t!==null){var n=Cc(t);if(n!==null){if(t=n.tag,t===13){if(t=sj(n),t!==null){s.blockedOn=t,bg(s.priority,function(){D1(n)});return}}else if(t===31){if(t=nj(n),t!==null){s.blockedOn=t,bg(s.priority,function(){D1(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){s.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}s.blockedOn=null}function rd(s){if(s.blockedOn!==null)return!1;for(var t=s.targetContainers;0<t.length;){var n=gf(s.nativeEvent);if(n===null){n=s.nativeEvent;var r=new n.constructor(n.type,n);Im=r,n.target.dispatchEvent(r),Im=null}else return t=Ul(n),t!==null&&Dy(t),s.blockedOn=n,!1;t.shift()}return!0}function O1(s,t,n){rd(s)&&n.delete(t)}function zw(){vf=!1,_i!==null&&rd(_i)&&(_i=null),Ei!==null&&rd(Ei)&&(Ei=null),Ci!==null&&rd(Ci)&&(Ci=null),jc.forEach(O1),yc.forEach(O1)}function wh(s,t){s.blockedOn===t&&(s.blockedOn=null,vf||(vf=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,zw)))}var kh=null;function q1(s){kh!==s&&(kh=s,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,function(){kh===s&&(kh=null);for(var t=0;t<s.length;t+=3){var n=s[t],r=s[t+1],i=s[t+2];if(typeof r!="function"){if(Kp(r||n)===null)continue;break}var l=Ul(n);l!==null&&(s.splice(t,3),t-=3,Wm(l,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function ql(s){function t(d){return wh(d,s)}_i!==null&&wh(_i,s),Ei!==null&&wh(Ei,s),Ci!==null&&wh(Ci,s),jc.forEach(t),yc.forEach(t);for(var n=0;n<hi.length;n++){var r=hi[n];r.blockedOn===s&&(r.blockedOn=null)}for(;0<hi.length&&(n=hi[0],n.blockedOn===null);)Oy(n),n.blockedOn===null&&hi.shift();if(n=(s.ownerDocument||s).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],l=n[r+1],o=i[Gs]||null;if(typeof l=="function")o||q1(n);else if(o){var c=null;if(l&&l.hasAttribute("formAction")){if(i=l,o=l[Gs]||null)c=o.formAction;else if(Kp(i)!==null)continue}else c=o.action;typeof c=="function"?n[r+1]=c:(n.splice(r,3),r-=3),q1(n)}}}function qy(){function s(l){l.canIntercept&&l.info==="react-transition"&&l.intercept({handler:function(){return new Promise(function(o){return i=o})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var l=navigation.currentEntry;l&&l.url!=null&&navigation.navigate(l.url,{state:l.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function Zp(s){this._internalRoot=s}Su.prototype.render=Zp.prototype.render=function(s){var t=this._internalRoot;if(t===null)throw Error(de(409));var n=t.current,r=Zs();Iy(n,r,s,t,null,null)};Su.prototype.unmount=Zp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var t=s.containerInfo;Iy(s.current,2,null,s,null,null),wu(),t[Hl]=null}};function Su(s){this._internalRoot=s}Su.prototype.unstable_scheduleHydration=function(s){if(s){var t=fj();s={blockedOn:null,target:s,priority:t};for(var n=0;n<hi.length&&t!==0&&t<hi[n].priority;n++);hi.splice(n,0,s),n===0&&Oy(s)}};var L1=ej.version;if(L1!=="19.2.3")throw Error(de(527,L1,"19.2.3"));Ye.findDOMNode=function(s){var t=s._reactInternals;if(t===void 0)throw typeof s.render=="function"?Error(de(188)):(s=Object.keys(s).join(","),Error(de(268,s)));return s=h6(t),s=s!==null?rj(s):null,s=s===null?null:s.stateNode,s};var Iw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:De,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{Mc=Th.inject(Iw),Vs=Th}catch{}}cu.createRoot=function(s,t){if(!tj(s))throw Error(de(299));var n=!1,r="",i=C4,l=M4,o=$4;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(l=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Gy(s,1,!1,null,null,n,r,null,i,l,o,qy),s[Hl]=t.current,Bp(s),new Zp(t)};cu.hydrateRoot=function(s,t,n){if(!tj(s))throw Error(de(299));var r=!1,i="",l=C4,o=M4,c=$4,d=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(l=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(c=n.onRecoverableError),n.formState!==void 0&&(d=n.formState)),t=Gy(s,1,!0,t,n??null,r,i,d,l,o,c,qy),t.context=zy(null),n=t.current,r=Zs(),r=sp(r),i=Ti(r),i.callback=null,Si(n,i,r),n=r,t.current.lanes=n,Gc(t,n),Xn(t),s[Hl]=t.current,Bp(s),new Su(t)};cu.version="19.2.3";function Ly(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ly)}catch(s){console.error(s)}}Ly(),Wv.exports=cu;var Dw=Wv.exports;const bc="west_graphs",Xp="Introduction to Graph Theory",Rw="An interactive course based on Douglas B. West's Introduction to Graph Theory",Py="",Ow="https://mathacademy-cyan.vercel.app";var P1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let i=s.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},qw=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const i=s[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const l=s[n++];t[r++]=String.fromCharCode((i&31)<<6|l&63)}else if(i>239&&i<365){const l=s[n++],o=s[n++],c=s[n++],d=((i&7)<<18|(l&63)<<12|(o&63)<<6|c&63)-65536;t[r++]=String.fromCharCode(55296+(d>>10)),t[r++]=String.fromCharCode(56320+(d&1023))}else{const l=s[n++],o=s[n++];t[r++]=String.fromCharCode((i&15)<<12|(l&63)<<6|o&63)}}return t.join("")},Hy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<s.length;i+=3){const l=s[i],o=i+1<s.length,c=o?s[i+1]:0,d=i+2<s.length,u=d?s[i+2]:0,p=l>>2,g=(l&3)<<4|c>>4;let v=(c&15)<<2|u>>6,y=u&63;d||(y=64,o||(v=64)),r.push(n[p],n[g],n[v],n[y])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(By(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):qw(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<s.length;){const l=n[s.charAt(i++)],c=i<s.length?n[s.charAt(i)]:0;++i;const u=i<s.length?n[s.charAt(i)]:64;++i;const g=i<s.length?n[s.charAt(i)]:64;if(++i,l==null||c==null||u==null||g==null)throw new Lw;const v=l<<2|c>>4;if(r.push(v),u!==64){const y=c<<4&240|u>>2;if(r.push(y),g!==64){const M=u<<6&192|g;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Lw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pw=function(s){const t=By(s);return Hy.encodeByteArray(t,!0)},Uy=function(s){return Pw(s).replace(/\./g,"")},Fy=function(s){try{return Hy.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=()=>Bw().__FIREBASE_DEFAULTS__,Uw=()=>{if(typeof process>"u"||typeof P1>"u")return;const s=P1.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Fw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Fy(s[1]);return t&&JSON.parse(t)},Yp=()=>{try{return Hw()||Uw()||Fw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Vy=s=>{var t,n;return(n=(t=Yp())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[s]},Vw=s=>{const t=Vy(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ky=()=>{var s;return(s=Yp())===null||s===void 0?void 0:s.config},Zy=s=>{var t;return(t=Yp())===null||t===void 0?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bs())}function Xw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Yw(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Ww(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qw(){const s=bs();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Jw(){try{return typeof indexedDB=="object"}catch{return!1}}function e8(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var l;t(((l=i.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t8="FirebaseError";class Yn extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=t8,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bc.prototype.create)}}class Bc{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,l=this.errors[t],o=l?s8(l,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new Yn(i,c,r)}}function s8(s,t){return s.replace(n8,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const n8=/\{\$([^}]+)}/g;function r8(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Pd(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const l=s[i],o=t[i];if(B1(l)&&B1(o)){if(!Pd(l,o))return!1}else if(l!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function B1(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function i8(s,t){const n=new a8(s,t);return n.subscribe.bind(n)}class a8{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");l8(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=D0),i.error===void 0&&(i.error=D0),i.complete===void 0&&(i.complete=D0);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function l8(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function D0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(s){return s&&s._delegate?s._delegate:s}class Li{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Kw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(i)return null;throw l}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(h8(t))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:i});r.resolve(l)}catch{}}}}clearInstance(t=pa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=pa){return this.instances.has(t)}getOptions(t=pa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,o]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(l);r===c&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;l.add(t),this.onInitCallbacks.set(i,l);const o=this.instances.get(i);return o&&t(o,i),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:c8(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=pa){return this.component?this.component.multipleInstances?t:pa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function c8(s){return s===pa?void 0:s}function h8(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new o8(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Qe||(Qe={}));const u8={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},m8=Qe.INFO,f8={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},p8=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),i=f8[t];if(i)console[i](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Wp{constructor(t){this.name=t,this._logLevel=m8,this._logHandler=p8,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Qe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?u8[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...t),this._logHandler(this,Qe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...t),this._logHandler(this,Qe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...t),this._logHandler(this,Qe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...t),this._logHandler(this,Qe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...t),this._logHandler(this,Qe.ERROR,...t)}}const x8=(s,t)=>t.some(n=>s instanceof n);let H1,U1;function g8(){return H1||(H1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v8(){return U1||(U1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xy=new WeakMap,jf=new WeakMap,Yy=new WeakMap,R0=new WeakMap,Qp=new WeakMap;function j8(s){const t=new Promise((n,r)=>{const i=()=>{s.removeEventListener("success",l),s.removeEventListener("error",o)},l=()=>{n(Mi(s.result)),i()},o=()=>{r(s.error),i()};s.addEventListener("success",l),s.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Xy.set(n,s)}).catch(()=>{}),Qp.set(t,s),t}function y8(s){if(jf.has(s))return;const t=new Promise((n,r)=>{const i=()=>{s.removeEventListener("complete",l),s.removeEventListener("error",o),s.removeEventListener("abort",o)},l=()=>{n(),i()},o=()=>{r(s.error||new DOMException("AbortError","AbortError")),i()};s.addEventListener("complete",l),s.addEventListener("error",o),s.addEventListener("abort",o)});jf.set(s,t)}let yf={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return jf.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Yy.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Mi(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function b8(s){yf=s(yf)}function w8(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(O0(this),t,...n);return Yy.set(r,t.sort?t.sort():[t]),Mi(r)}:v8().includes(s)?function(...t){return s.apply(O0(this),t),Mi(Xy.get(this))}:function(...t){return Mi(s.apply(O0(this),t))}}function k8(s){return typeof s=="function"?w8(s):(s instanceof IDBTransaction&&y8(s),x8(s,g8())?new Proxy(s,yf):s)}function Mi(s){if(s instanceof IDBRequest)return j8(s);if(R0.has(s))return R0.get(s);const t=k8(s);return t!==s&&(R0.set(s,t),Qp.set(t,s)),t}const O0=s=>Qp.get(s);function T8(s,t,{blocked:n,upgrade:r,blocking:i,terminated:l}={}){const o=indexedDB.open(s,t),c=Mi(o);return r&&o.addEventListener("upgradeneeded",d=>{r(Mi(o.result),d.oldVersion,d.newVersion,Mi(o.transaction),d)}),n&&o.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{l&&d.addEventListener("close",()=>l()),i&&d.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}const S8=["get","getKey","getAll","getAllKeys","count"],N8=["put","add","delete","clear"],q0=new Map;function F1(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(q0.get(t))return q0.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=N8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||S8.includes(n)))return;const l=async function(o,...c){const d=this.transaction(o,i?"readwrite":"readonly");let u=d.store;return r&&(u=u.index(c.shift())),(await Promise.all([u[n](...c),i&&d.done]))[0]};return q0.set(t,l),l}b8(s=>({...s,get:(t,n,r)=>F1(t,n)||s.get(t,n,r),has:(t,n)=>!!F1(t,n)||s.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A8{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(_8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function _8(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const bf="@firebase/app",V1="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr=new Wp("@firebase/app"),E8="@firebase/app-compat",C8="@firebase/analytics-compat",M8="@firebase/analytics",$8="@firebase/app-check-compat",G8="@firebase/app-check",z8="@firebase/auth",I8="@firebase/auth-compat",D8="@firebase/database",R8="@firebase/data-connect",O8="@firebase/database-compat",q8="@firebase/functions",L8="@firebase/functions-compat",P8="@firebase/installations",B8="@firebase/installations-compat",H8="@firebase/messaging",U8="@firebase/messaging-compat",F8="@firebase/performance",V8="@firebase/performance-compat",K8="@firebase/remote-config",Z8="@firebase/remote-config-compat",X8="@firebase/storage",Y8="@firebase/storage-compat",W8="@firebase/firestore",Q8="@firebase/vertexai-preview",J8="@firebase/firestore-compat",e9="firebase",t9="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="[DEFAULT]",s9={[bf]:"fire-core",[E8]:"fire-core-compat",[M8]:"fire-analytics",[C8]:"fire-analytics-compat",[G8]:"fire-app-check",[$8]:"fire-app-check-compat",[z8]:"fire-auth",[I8]:"fire-auth-compat",[D8]:"fire-rtdb",[R8]:"fire-data-connect",[O8]:"fire-rtdb-compat",[q8]:"fire-fn",[L8]:"fire-fn-compat",[P8]:"fire-iid",[B8]:"fire-iid-compat",[H8]:"fire-fcm",[U8]:"fire-fcm-compat",[F8]:"fire-perf",[V8]:"fire-perf-compat",[K8]:"fire-rc",[Z8]:"fire-rc-compat",[X8]:"fire-gcs",[Y8]:"fire-gcs-compat",[W8]:"fire-fst",[J8]:"fire-fst-compat",[Q8]:"fire-vertex","fire-js":"fire-js",[e9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=new Map,n9=new Map,kf=new Map;function K1(s,t){try{s.container.addComponent(t)}catch(n){Rr.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function Ca(s){const t=s.name;if(kf.has(t))return Rr.debug(`There were multiple attempts to register component ${t}.`),!1;kf.set(t,s);for(const n of wc.values())K1(n,s);for(const n of n9.values())K1(n,s);return!0}function Jp(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function kr(s){return s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$i=new Bc("app","Firebase",r9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Li("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw $i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=t9;function Wy(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r=Object.assign({name:wf,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw $i.create("bad-app-name",{appName:String(i)});if(n||(n=Ky()),!n)throw $i.create("no-options");const l=wc.get(i);if(l){if(Pd(n,l.options)&&Pd(r,l.config))return l;throw $i.create("duplicate-app",{appName:i})}const o=new d8(i);for(const d of kf.values())o.addComponent(d);const c=new i9(n,r,o);return wc.set(i,c),c}function Qy(s=wf){const t=wc.get(s);if(!t&&s===wf&&Ky())return Wy();if(!t)throw $i.create("no-app",{appName:s});return t}function a9(){return Array.from(wc.values())}function Un(s,t,n){var r;let i=(r=s9[s])!==null&&r!==void 0?r:s;n&&(i+=`-${n}`);const l=i.match(/\s|\//),o=t.match(/\s|\//);if(l||o){const c=[`Unable to register library "${i}" with version "${t}":`];l&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),l&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Rr.warn(c.join(" "));return}Ca(new Li(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l9="firebase-heartbeat-database",o9=1,kc="firebase-heartbeat-store";let L0=null;function Jy(){return L0||(L0=T8(l9,o9,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(kc)}catch(n){console.warn(n)}}}}).catch(s=>{throw $i.create("idb-open",{originalErrorMessage:s.message})})),L0}async function c9(s){try{const n=(await Jy()).transaction(kc),r=await n.objectStore(kc).get(eb(s));return await n.done,r}catch(t){if(t instanceof Yn)Rr.warn(t.message);else{const n=$i.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Rr.warn(n.message)}}}async function Z1(s,t){try{const r=(await Jy()).transaction(kc,"readwrite");await r.objectStore(kc).put(t,eb(s)),await r.done}catch(n){if(n instanceof Yn)Rr.warn(n.message);else{const r=$i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rr.warn(r.message)}}}function eb(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9=1024,d9=30*24*60*60*1e3;class u9{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new f9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=X1();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(o=>o.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const c=new Date(o.date).valueOf();return Date.now()-c<=d9}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Rr.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=X1(),{heartbeatsToSend:r,unsentEntries:i}=m9(this._heartbeatsCache.heartbeats),l=Uy(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Rr.warn(n),""}}}function X1(){return new Date().toISOString().substring(0,10)}function m9(s,t=h9){const n=[];let r=s.slice();for(const i of s){const l=n.find(o=>o.agent===i.agent);if(l){if(l.dates.push(i.date),Y1(n)>t){l.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Y1(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class f9{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jw()?e8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await c9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Z1(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Z1(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Y1(s){return Uy(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(s){Ca(new Li("platform-logger",t=>new A8(t),"PRIVATE")),Ca(new Li("heartbeat",t=>new u9(t),"PRIVATE")),Un(bf,V1,s),Un(bf,V1,"esm2017"),Un("fire-js","")}p9("");var x9="firebase",g9="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un(x9,g9,"app");function ex(s,t){var n={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.indexOf(r)<0&&(n[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(s);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(s,r[i])&&(n[r[i]]=s[r[i]]);return n}function tb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const v9=tb,sb=new Bc("auth","Firebase",tb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=new Wp("@firebase/auth");function j9(s,...t){Bd.logLevel<=Qe.WARN&&Bd.warn(`Auth (${Yl}): ${s}`,...t)}function id(s,...t){Bd.logLevel<=Qe.ERROR&&Bd.error(`Auth (${Yl}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(s,...t){throw tx(s,...t)}function Fn(s,...t){return tx(s,...t)}function nb(s,t,n){const r=Object.assign(Object.assign({},v9()),{[t]:n});return new Bc("auth","Firebase",r).create(t,{appName:s.name})}function Gi(s){return nb(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tx(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return sb.create(s,...t)}function Re(s,t,...n){if(!s)throw tx(t,...n)}function Tr(s){const t="INTERNAL ASSERTION FAILED: "+s;throw id(t),new Error(t)}function qr(s,t){s||Tr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function y9(){return W1()==="http:"||W1()==="https:"}function W1(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(y9()||Yw()||"connection"in navigator)?navigator.onLine:!0}function w9(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(t,n){this.shortDelay=t,this.longDelay=n,qr(n>t,"Short delay should be less than long delay!"),this.isMobile=Zw()||Ww()}get(){return b9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(s,t){qr(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T9=new Uc(3e4,6e4);function Nu(s,t){return s.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:s.tenantId}):t}async function Wl(s,t,n,r,i={}){return ib(s,i,async()=>{let l={},o={};r&&(t==="GET"?o=r:l={body:JSON.stringify(r)});const c=Hc(Object.assign({key:s.config.apiKey},o)).slice(1),d=await s._getAdditionalHeaders();d["Content-Type"]="application/json",s.languageCode&&(d["X-Firebase-Locale"]=s.languageCode);const u=Object.assign({method:t,headers:d},l);return Xw()||(u.referrerPolicy="no-referrer"),rb.fetch()(lb(s,s.config.apiHost,n,c),u)})}async function ib(s,t,n){s._canInitEmulator=!1;const r=Object.assign(Object.assign({},k9),t);try{const i=new S9(s),l=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await l.json();if("needConfirmation"in o)throw Sh(s,"account-exists-with-different-credential",o);if(l.ok&&!("errorMessage"in o))return o;{const c=l.ok?o.errorMessage:o.error.message,[d,u]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sh(s,"credential-already-in-use",o);if(d==="EMAIL_EXISTS")throw Sh(s,"email-already-in-use",o);if(d==="USER_DISABLED")throw Sh(s,"user-disabled",o);const p=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw nb(s,p,u);Or(s,p)}}catch(i){if(i instanceof Yn)throw i;Or(s,"network-request-failed",{message:String(i)})}}async function ab(s,t,n,r,i={}){const l=await Wl(s,t,n,r,i);return"mfaPendingCredential"in l&&Or(s,"multi-factor-auth-required",{_serverResponse:l}),l}function lb(s,t,n,r){const i=`${t}${n}?${r}`;return s.config.emulator?sx(s.config,i):`${s.config.apiScheme}://${i}`}class S9{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fn(this.auth,"network-request-failed")),T9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sh(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fn(s,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N9(s,t){return Wl(s,"POST","/v1/accounts:delete",t)}async function ob(s,t){return Wl(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function A9(s,t=!1){const n=Gn(s),r=await n.getIdToken(t),i=nx(r);Re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const l=typeof i.firebase=="object"?i.firebase:void 0,o=l==null?void 0:l.sign_in_provider;return{claims:i,token:r,authTime:tc(P0(i.auth_time)),issuedAtTime:tc(P0(i.iat)),expirationTime:tc(P0(i.exp)),signInProvider:o||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function P0(s){return Number(s)*1e3}function nx(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return id("JWT malformed, contained fewer than 3 sections"),null;try{const i=Fy(n);return i?JSON.parse(i):(id("Failed to decode base64 JWT payload"),null)}catch(i){return id("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Q1(s){const t=nx(s);return Re(t,"internal-error"),Re(typeof t.exp<"u","internal-error"),Re(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Yn&&_9(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function _9({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E9{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hd(s){var t;const n=s.auth,r=await s.getIdToken(),i=await Tc(s,ob(n,{idToken:r}));Re(i==null?void 0:i.users.length,n,"internal-error");const l=i.users[0];s._notifyReloadListener(l);const o=!((t=l.providerUserInfo)===null||t===void 0)&&t.length?cb(l.providerUserInfo):[],c=M9(s.providerData,o),d=s.isAnonymous,u=!(s.email&&l.passwordHash)&&!(c!=null&&c.length),p=d?u:!1,g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Sf(l.createdAt,l.lastLoginAt),isAnonymous:p};Object.assign(s,g)}async function C9(s){const t=Gn(s);await Hd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function M9(s,t){return[...s.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function cb(s){return s.map(t=>{var{providerId:n}=t,r=ex(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $9(s,t){const n=await ib(s,{},async()=>{const r=Hc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:l}=s.config,o=lb(s,i,"/v1/token",`key=${l}`),c=await s._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",rb.fetch()(o,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G9(s,t){return Wl(s,"POST","/v2/accounts:revokeToken",Nu(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Re(t.idToken,"internal-error"),Re(typeof t.idToken<"u","internal-error"),Re(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Q1(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Re(t.length!==0,"internal-error");const n=Q1(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:l}=await $9(t,n);this.updateTokensAndExpiration(r,i,Number(l))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:l}=n,o=new kl;return r&&(Re(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Re(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),l&&(Re(typeof l=="number","internal-error",{appName:t}),o.expirationTime=l),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new kl,this.toJSON())}_performRefresh(){return Tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(s,t){Re(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Sr{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,l=ex(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new E9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Sf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Tc(this,this.stsTokenManager.getToken(this.auth,t));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return A9(this,t)}reload(){return C9(this)}_assign(t){this!==t&&(Re(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Sr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Hd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kr(this.auth.app))return Promise.reject(Gi(this.auth));const t=await this.getIdToken();return await Tc(this,N9(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,l,o,c,d,u,p;const g=(r=n.displayName)!==null&&r!==void 0?r:void 0,v=(i=n.email)!==null&&i!==void 0?i:void 0,y=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,M=(o=n.photoURL)!==null&&o!==void 0?o:void 0,L=(c=n.tenantId)!==null&&c!==void 0?c:void 0,F=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,T=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:A,emailVerified:z,isAnonymous:Y,providerData:ie,stsTokenManager:_}=n;Re(A&&_,t,"internal-error");const k=kl.fromJSON(this.name,_);Re(typeof A=="string",t,"internal-error"),si(g,t.name),si(v,t.name),Re(typeof z=="boolean",t,"internal-error"),Re(typeof Y=="boolean",t,"internal-error"),si(y,t.name),si(M,t.name),si(L,t.name),si(F,t.name),si(T,t.name),si(w,t.name);const N=new Sr({uid:A,auth:t,email:v,emailVerified:z,displayName:g,isAnonymous:Y,photoURL:M,phoneNumber:y,tenantId:L,stsTokenManager:k,createdAt:T,lastLoginAt:w});return ie&&Array.isArray(ie)&&(N.providerData=ie.map(C=>Object.assign({},C))),F&&(N._redirectEventId=F),N}static async _fromIdTokenResponse(t,n,r=!1){const i=new kl;i.updateFromServerResponse(n);const l=new Sr({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await Hd(l),l}static async _fromGetAccountInfoResponse(t,n,r){const i=n.users[0];Re(i.localId!==void 0,"internal-error");const l=i.providerUserInfo!==void 0?cb(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(l!=null&&l.length),c=new kl;c.updateFromIdToken(r);const d=new Sr({uid:i.localId,auth:t,stsTokenManager:c,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Sf(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,u),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=new Map;function Nr(s){qr(s instanceof Function,"Expected a class definition");let t=J1.get(s);return t?(qr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,J1.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}hb.type="NONE";const e2=hb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(s,t,n){return`firebase:${s}:${t}:${n}`}class Tl{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:l}=this.auth;this.fullUserKey=ad(this.userKey,i.apiKey,l),this.fullPersistenceKey=ad("persistence",i.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Sr._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Tl(Nr(e2),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let l=i[0]||Nr(e2);const o=ad(r,t.config.apiKey,t.name);let c=null;for(const u of n)try{const p=await u._get(o);if(p){const g=Sr._fromJSON(t,p);u!==l&&(c=g),l=u;break}}catch{}const d=i.filter(u=>u._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new Tl(l,t,r):(l=d[0],c&&await l._set(o,c.toJSON()),await Promise.all(n.map(async u=>{if(u!==l)try{await u._remove(o)}catch{}})),new Tl(l,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(db(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(xb(t))return"Blackberry";if(gb(t))return"Webos";if(ub(t))return"Safari";if((t.includes("chrome/")||mb(t))&&!t.includes("edge/"))return"Chrome";if(pb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function db(s=bs()){return/firefox\//i.test(s)}function ub(s=bs()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function mb(s=bs()){return/crios\//i.test(s)}function fb(s=bs()){return/iemobile/i.test(s)}function pb(s=bs()){return/android/i.test(s)}function xb(s=bs()){return/blackberry/i.test(s)}function gb(s=bs()){return/webos/i.test(s)}function rx(s=bs()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function z9(s=bs()){var t;return rx(s)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function I9(){return Qw()&&document.documentMode===10}function vb(s=bs()){return rx(s)||pb(s)||gb(s)||xb(s)||/windows phone/i.test(s)||fb(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(s,t=[]){let n;switch(s){case"Browser":n=t2(bs());break;case"Worker":n=`${t2(bs())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D9{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=l=>new Promise((o,c)=>{try{const d=t(l);o(d)}catch(d){c(d)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R9(s,t={}){return Wl(s,"GET","/v2/passwordPolicy",Nu(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=6;class q9{constructor(t){var n,r,i,l;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:O9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=t.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(l=t.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,r,i,l,o,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,d),this.validatePasswordCharacterOptions(t,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(i=d.containsLowercaseLetter)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(o=d.containsNumericCharacter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,i,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L9{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new s2(this),this.idTokenSubscription=new s2(this),this.beforeStateQueue=new D9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Nr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Tl.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ob(this,{idToken:t}),r=await Sr._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(kr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i==null?void 0:i._redirectEventId,d=await this.tryRedirectSignIn(t);(!o||o===c)&&(d!=null&&d.user)&&(i=d.user,l=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Hd(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=w9()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(kr(this.app))return Promise.reject(Gi(this));const n=t?Gn(t):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Re(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return kr(this.app)?Promise.reject(Gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return kr(this.app)?Promise.reject(Gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await R9(this),n=new q9(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Bc("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await G9(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Nr(t)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Tl.create(this,[Nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let o=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(c,this,"internal-error"),c.then(()=>{o||l(this.currentUser)}),typeof n=="function"){const d=t.addObserver(n,r,i);return()=>{o=!0,d()}}else{const d=t.addObserver(n);return()=>{o=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=jb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&j9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Au(s){return Gn(s)}class s2{constructor(t){this.auth=t,this.observer=null,this.addObserver=i8(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ix={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function P9(s){ix=s}function B9(s){return ix.loadJS(s)}function H9(){return ix.gapiScript}function U9(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F9(s,t){const n=Jp(s,"auth");if(n.isInitialized()){const i=n.getImmediate(),l=n.getOptions();if(Pd(l,t??{}))return i;Or(i,"already-initialized")}return n.initialize({options:t})}function V9(s,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Nr);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function K9(s,t,n){const r=Au(s);Re(r._canInitEmulator,r,"emulator-config-failed"),Re(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!1,l=yb(t),{host:o,port:c}=Z9(t),d=c===null?"":`:${c}`;r.config.emulator={url:`${l}//${o}${d}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:i})}),X9()}function yb(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Z9(s){const t=yb(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const l=i[1];return{host:l,port:n2(r.substr(l.length+1))}}else{const[l,o]=r.split(":");return{host:l,port:n2(o)}}}function n2(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function X9(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Tr("not implemented")}_getIdTokenResponse(t){return Tr("not implemented")}_linkToIdToken(t,n){return Tr("not implemented")}_getReauthenticationResolver(t){return Tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(s,t){return ab(s,"POST","/v1/accounts:signInWithIdp",Nu(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9="http://localhost";class Ma extends bb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ma(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Or("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,l=ex(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ma(r,i);return o.idToken=l.idToken||void 0,o.accessToken=l.accessToken||void 0,o.secret=l.secret,o.nonce=l.nonce,o.pendingToken=l.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Sl(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Sl(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Sl(t,n)}buildRequest(){const t={requestUri:Y9,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Hc(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc extends wb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di extends Fc{constructor(){super("facebook.com")}static credential(t){return Ma._fromParams({providerId:di.PROVIDER_ID,signInMethod:di.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return di.credentialFromTaggedObject(t)}static credentialFromError(t){return di.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return di.credential(t.oauthAccessToken)}catch{return null}}}di.FACEBOOK_SIGN_IN_METHOD="facebook.com";di.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends Fc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ma._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ui.credentialFromTaggedObject(t)}static credentialFromError(t){return ui.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.GOOGLE_SIGN_IN_METHOD="google.com";ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Fc{constructor(){super("github.com")}static credential(t){return Ma._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mi.credentialFromTaggedObject(t)}static credentialFromError(t){return mi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mi.credential(t.oauthAccessToken)}catch{return null}}}mi.GITHUB_SIGN_IN_METHOD="github.com";mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi extends Fc{constructor(){super("twitter.com")}static credential(t,n){return Ma._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return fi.credentialFromTaggedObject(t)}static credentialFromError(t){return fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return fi.credential(n,r)}catch{return null}}}fi.TWITTER_SIGN_IN_METHOD="twitter.com";fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const l=await Sr._fromIdTokenResponse(t,r,i),o=r2(r);return new $a({user:l,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=r2(r);return new $a({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function r2(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud extends Yn{constructor(t,n,r,i){var l;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ud.prototype),this.customData={appName:t.name,tenantId:(l=t.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new Ud(t,n,r,i)}}function kb(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Ud._fromErrorAndOperation(s,l,t,r):l})}async function W9(s,t,n=!1){const r=await Tc(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return $a._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q9(s,t,n=!1){const{auth:r}=s;if(kr(r.app))return Promise.reject(Gi(r));const i="reauthenticate";try{const l=await Tc(s,kb(r,i,t,s),n);Re(l.idToken,r,"internal-error");const o=nx(l.idToken);Re(o,r,"internal-error");const{sub:c}=o;return Re(s.uid===c,r,"user-mismatch"),$a._forOperation(s,i,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Or(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J9(s,t,n=!1){if(kr(s.app))return Promise.reject(Gi(s));const r="signIn",i=await kb(s,r,t),l=await $a._fromIdTokenResponse(s,r,i);return n||await s._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ek(s,t){return ab(s,"POST","/v1/accounts:signInWithCustomToken",Nu(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tk(s,t){if(kr(s.app))return Promise.reject(Gi(s));const n=Au(s),r=await ek(n,{token:t,returnSecureToken:!0}),i=await $a._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}function sk(s,t,n,r){return Gn(s).onIdTokenChanged(t,n,r)}function nk(s,t,n){return Gn(s).beforeAuthStateChanged(t,n)}function rk(s,t,n,r){return Gn(s).onAuthStateChanged(t,n,r)}function ik(s){return Gn(s).signOut()}const Fd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Fd,"1"),this.storage.removeItem(Fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=1e3,lk=10;class Sb extends Tb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,c,d)=>{this.notifyListeners(o,d)});return}const r=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},l=this.storage.getItem(r);I9()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,lk):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},ak)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Sb.type="LOCAL";const ok=Sb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb extends Tb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Nb.type="SESSION";const Ab=Nb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new _u(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:l}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(o).map(async u=>u(n.origin,l)),d=await ck(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:d})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_u.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let l,o;return new Promise((c,d)=>{const u=ax("",20);i.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){const v=g;if(v.data.eventId===u)switch(v.data.status){case"ack":clearTimeout(p),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),c(v.data.response);break;default:clearTimeout(p),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return window}function dk(s){Vn().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}async function uk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mk(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function fk(){return _b()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="firebaseLocalStorageDb",pk=1,Vd="firebaseLocalStorage",Cb="fbase_key";class Vc{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Eu(s,t){return s.transaction([Vd],t?"readwrite":"readonly").objectStore(Vd)}function xk(){const s=indexedDB.deleteDatabase(Eb);return new Vc(s).toPromise()}function Nf(){const s=indexedDB.open(Eb,pk);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Vd,{keyPath:Cb})}catch(i){n(i)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Vd)?t(r):(r.close(),await xk(),t(await Nf()))})})}async function i2(s,t,n){const r=Eu(s,!0).put({[Cb]:t,value:n});return new Vc(r).toPromise()}async function gk(s,t){const n=Eu(s,!1).get(t),r=await new Vc(n).toPromise();return r===void 0?null:r.value}function a2(s,t){const n=Eu(s,!0).delete(t);return new Vc(n).toPromise()}const vk=800,jk=3;class Mb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nf(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>jk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _b()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_u._getInstance(fk()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await uk(),!this.activeServiceWorker)return;this.sender=new hk(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||mk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Nf();return await i2(t,Fd,"1"),await a2(t,Fd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>i2(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>gk(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>a2(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const l=Eu(i,!1).getAll();return new Vc(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:i,value:l}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(l)&&(this.notifyListeners(i,l),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mb.type="LOCAL";const yk=Mb;new Uc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(s,t){return t?Nr(t):(Re(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx extends bb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Sl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Sl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Sl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function wk(s){return J9(s.auth,new lx(s),s.bypassAuthState)}function kk(s){const{auth:t,user:n}=s;return Re(n,t,"internal-error"),Q9(n,new lx(s),s.bypassAuthState)}async function Tk(s){const{auth:t,user:n}=s;return Re(n,t,"internal-error"),W9(n,new lx(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(t,n,r,i,l=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:l,error:o,type:c}=t;if(o){this.reject(o);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return wk;case"linkViaPopup":case"linkViaRedirect":return Tk;case"reauthViaPopup":case"reauthViaRedirect":return kk;default:Or(this.auth,"internal-error")}}resolve(t){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=new Uc(2e3,1e4);class ml extends $b{constructor(t,n,r,i,l){super(t,n,i,l),this.provider=r,this.authWindow=null,this.pollId=null,ml.currentPopupAction&&ml.currentPopupAction.cancel(),ml.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Re(t,this.auth,"internal-error"),t}async onExecution(){qr(this.filter.length===1,"Popup operations only handle one event");const t=ax();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ml.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Sk.get())};t()}}ml.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk="pendingRedirect",ld=new Map;class Ak extends $b{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=ld.get(this.auth._key());if(!t){try{const r=await _k(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}ld.set(this.auth._key(),t)}return this.bypassAuthState||ld.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _k(s,t){const n=Mk(t),r=Ck(s);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Ek(s,t){ld.set(s._key(),t)}function Ck(s){return Nr(s._redirectPersistence)}function Mk(s){return ad(Nk,s.config.apiKey,s.name)}async function $k(s,t,n=!1){if(kr(s.app))return Promise.reject(Gi(s));const r=Au(s),i=bk(r,t),o=await new Ak(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=10*60*1e3;class zk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Ik(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Gb(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fn(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Gk&&this.cachedEventUids.clear(),this.cachedEventUids.has(l2(t))}saveEventToCache(t){this.cachedEventUids.add(l2(t)),this.lastProcessedEventTime=Date.now()}}function l2(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function Gb({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Ik(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gb(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dk(s,t={}){return Wl(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ok=/^https?/;async function qk(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Dk(s);for(const n of t)try{if(Lk(n))return}catch{}Or(s,"unauthorized-domain")}function Lk(s){const t=Tf(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const o=new URL(s);return o.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Ok.test(n))return!1;if(Rk.test(s))return r===s;const i=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk=new Uc(3e4,6e4);function o2(){const s=Vn().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function Bk(s){return new Promise((t,n)=>{var r,i,l;function o(){o2(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{o2(),n(Fn(s,"network-request-failed"))},timeout:Pk.get()})}if(!((i=(r=Vn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((l=Vn().gapi)===null||l===void 0)&&l.load)o();else{const c=U9("iframefcb");return Vn()[c]=()=>{gapi.load?o():n(Fn(s,"network-request-failed"))},B9(`${H9()}?onload=${c}`).catch(d=>n(d))}}).catch(t=>{throw od=null,t})}let od=null;function Hk(s){return od=od||Bk(s),od}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=new Uc(5e3,15e3),Fk="__/auth/iframe",Vk="emulator/auth/iframe",Kk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xk(s){const t=s.config;Re(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?sx(t,Vk):`https://${s.config.authDomain}/${Fk}`,r={apiKey:t.apiKey,appName:s.name,v:Yl},i=Zk.get(s.config.apiHost);i&&(r.eid=i);const l=s._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Hc(r).slice(1)}`}async function Yk(s){const t=await Hk(s),n=Vn().gapi;return Re(n,s,"internal-error"),t.open({where:document.body,url:Xk(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kk,dontclear:!0},r=>new Promise(async(i,l)=>{await r.restyle({setHideOnLeave:!1});const o=Fn(s,"network-request-failed"),c=Vn().setTimeout(()=>{l(o)},Uk.get());function d(){Vn().clearTimeout(c),i(r)}r.ping(d).then(d,()=>{l(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Qk=500,Jk=600,eT="_blank",tT="http://localhost";class c2{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sT(s,t,n,r=Qk,i=Jk){const l=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const d=Object.assign(Object.assign({},Wk),{width:r.toString(),height:i.toString(),top:l,left:o}),u=bs().toLowerCase();n&&(c=mb(u)?eT:n),db(u)&&(t=t||tT,d.scrollbars="yes");const p=Object.entries(d).reduce((v,[y,M])=>`${v}${y}=${M},`,"");if(z9(u)&&c!=="_self")return nT(t||"",c),new c2(null);const g=window.open(t||"",c,p);Re(g,s,"popup-blocked");try{g.focus()}catch{}return new c2(g)}function nT(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="__/auth/handler",iT="emulator/auth/handler",aT=encodeURIComponent("fac");async function h2(s,t,n,r,i,l){Re(s.config.authDomain,s,"auth-domain-config-required"),Re(s.config.apiKey,s,"invalid-api-key");const o={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:Yl,eventId:i};if(t instanceof wb){t.setDefaultLanguage(s.languageCode),o.providerId=t.providerId||"",r8(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,g]of Object.entries({}))o[p]=g}if(t instanceof Fc){const p=t.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}s.tenantId&&(o.tid=s.tenantId);const c=o;for(const p of Object.keys(c))c[p]===void 0&&delete c[p];const d=await s._getAppCheckToken(),u=d?`#${aT}=${encodeURIComponent(d)}`:"";return`${lT(s)}?${Hc(c).slice(1)}${u}`}function lT({config:s}){return s.emulator?sx(s,iT):`https://${s.authDomain}/${rT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0="webStorageSupport";class oT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ab,this._completeRedirectFn=$k,this._overrideRedirectResult=Ek}async _openPopup(t,n,r,i){var l;qr((l=this.eventManagers[t._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const o=await h2(t,n,r,Tf(),i);return sT(t,o,ax())}async _openRedirect(t,n,r,i){await this._originValidation(t);const l=await h2(t,n,r,Tf(),i);return dk(l),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:l}=this.eventManagers[n];return i?Promise.resolve(i):(qr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await Yk(t),r=new zk(t);return n.register("authEvent",i=>(Re(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(B0,{type:B0},i=>{var l;const o=(l=i==null?void 0:i[0])===null||l===void 0?void 0:l[B0];o!==void 0&&n(!!o),Or(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qk(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return vb()||ub()||rx()}}const cT=oT;var d2="@firebase/auth",u2="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uT(s){Ca(new Li("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;Re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:o,authDomain:c,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jb(s)},u=new L9(r,i,l,d);return V9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),Ca(new Li("auth-internal",t=>{const n=Au(t.getProvider("auth").getImmediate());return(r=>new hT(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Un(d2,u2,dT(s)),Un(d2,u2,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=5*60,fT=Zy("authIdTokenMaxAge")||mT;let m2=null;const pT=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>fT)return;const i=n==null?void 0:n.token;m2!==i&&(m2=i,await fetch(s,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function xT(s=Qy()){const t=Jp(s,"auth");if(t.isInitialized())return t.getImmediate();const n=F9(s,{popupRedirectResolver:cT,persistence:[yk,ok,Ab]}),r=Zy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const o=pT(l.toString());nk(n,o,()=>o(n.currentUser)),sk(n,c=>o(c))}}const i=Vy("auth");return i&&K9(n,`http://${i}`),n}function gT(){var s,t;return(t=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&t!==void 0?t:document}P9({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=i=>{const l=Fn("internal-error");l.customData=i,n(l)},r.type="text/javascript",r.charset="UTF-8",gT().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uT("Browser");var f2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zb;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(_,k){function N(){}N.prototype=k.prototype,_.D=k.prototype,_.prototype=new N,_.prototype.constructor=_,_.C=function(C,G,I){for(var $=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)$[fe-2]=arguments[fe];return k.prototype[G].apply(C,$)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(_,k,N){N||(N=0);var C=Array(16);if(typeof k=="string")for(var G=0;16>G;++G)C[G]=k.charCodeAt(N++)|k.charCodeAt(N++)<<8|k.charCodeAt(N++)<<16|k.charCodeAt(N++)<<24;else for(G=0;16>G;++G)C[G]=k[N++]|k[N++]<<8|k[N++]<<16|k[N++]<<24;k=_.g[0],N=_.g[1],G=_.g[2];var I=_.g[3],$=k+(I^N&(G^I))+C[0]+3614090360&4294967295;k=N+($<<7&4294967295|$>>>25),$=I+(G^k&(N^G))+C[1]+3905402710&4294967295,I=k+($<<12&4294967295|$>>>20),$=G+(N^I&(k^N))+C[2]+606105819&4294967295,G=I+($<<17&4294967295|$>>>15),$=N+(k^G&(I^k))+C[3]+3250441966&4294967295,N=G+($<<22&4294967295|$>>>10),$=k+(I^N&(G^I))+C[4]+4118548399&4294967295,k=N+($<<7&4294967295|$>>>25),$=I+(G^k&(N^G))+C[5]+1200080426&4294967295,I=k+($<<12&4294967295|$>>>20),$=G+(N^I&(k^N))+C[6]+2821735955&4294967295,G=I+($<<17&4294967295|$>>>15),$=N+(k^G&(I^k))+C[7]+4249261313&4294967295,N=G+($<<22&4294967295|$>>>10),$=k+(I^N&(G^I))+C[8]+1770035416&4294967295,k=N+($<<7&4294967295|$>>>25),$=I+(G^k&(N^G))+C[9]+2336552879&4294967295,I=k+($<<12&4294967295|$>>>20),$=G+(N^I&(k^N))+C[10]+4294925233&4294967295,G=I+($<<17&4294967295|$>>>15),$=N+(k^G&(I^k))+C[11]+2304563134&4294967295,N=G+($<<22&4294967295|$>>>10),$=k+(I^N&(G^I))+C[12]+1804603682&4294967295,k=N+($<<7&4294967295|$>>>25),$=I+(G^k&(N^G))+C[13]+4254626195&4294967295,I=k+($<<12&4294967295|$>>>20),$=G+(N^I&(k^N))+C[14]+2792965006&4294967295,G=I+($<<17&4294967295|$>>>15),$=N+(k^G&(I^k))+C[15]+1236535329&4294967295,N=G+($<<22&4294967295|$>>>10),$=k+(G^I&(N^G))+C[1]+4129170786&4294967295,k=N+($<<5&4294967295|$>>>27),$=I+(N^G&(k^N))+C[6]+3225465664&4294967295,I=k+($<<9&4294967295|$>>>23),$=G+(k^N&(I^k))+C[11]+643717713&4294967295,G=I+($<<14&4294967295|$>>>18),$=N+(I^k&(G^I))+C[0]+3921069994&4294967295,N=G+($<<20&4294967295|$>>>12),$=k+(G^I&(N^G))+C[5]+3593408605&4294967295,k=N+($<<5&4294967295|$>>>27),$=I+(N^G&(k^N))+C[10]+38016083&4294967295,I=k+($<<9&4294967295|$>>>23),$=G+(k^N&(I^k))+C[15]+3634488961&4294967295,G=I+($<<14&4294967295|$>>>18),$=N+(I^k&(G^I))+C[4]+3889429448&4294967295,N=G+($<<20&4294967295|$>>>12),$=k+(G^I&(N^G))+C[9]+568446438&4294967295,k=N+($<<5&4294967295|$>>>27),$=I+(N^G&(k^N))+C[14]+3275163606&4294967295,I=k+($<<9&4294967295|$>>>23),$=G+(k^N&(I^k))+C[3]+4107603335&4294967295,G=I+($<<14&4294967295|$>>>18),$=N+(I^k&(G^I))+C[8]+1163531501&4294967295,N=G+($<<20&4294967295|$>>>12),$=k+(G^I&(N^G))+C[13]+2850285829&4294967295,k=N+($<<5&4294967295|$>>>27),$=I+(N^G&(k^N))+C[2]+4243563512&4294967295,I=k+($<<9&4294967295|$>>>23),$=G+(k^N&(I^k))+C[7]+1735328473&4294967295,G=I+($<<14&4294967295|$>>>18),$=N+(I^k&(G^I))+C[12]+2368359562&4294967295,N=G+($<<20&4294967295|$>>>12),$=k+(N^G^I)+C[5]+4294588738&4294967295,k=N+($<<4&4294967295|$>>>28),$=I+(k^N^G)+C[8]+2272392833&4294967295,I=k+($<<11&4294967295|$>>>21),$=G+(I^k^N)+C[11]+1839030562&4294967295,G=I+($<<16&4294967295|$>>>16),$=N+(G^I^k)+C[14]+4259657740&4294967295,N=G+($<<23&4294967295|$>>>9),$=k+(N^G^I)+C[1]+2763975236&4294967295,k=N+($<<4&4294967295|$>>>28),$=I+(k^N^G)+C[4]+1272893353&4294967295,I=k+($<<11&4294967295|$>>>21),$=G+(I^k^N)+C[7]+4139469664&4294967295,G=I+($<<16&4294967295|$>>>16),$=N+(G^I^k)+C[10]+3200236656&4294967295,N=G+($<<23&4294967295|$>>>9),$=k+(N^G^I)+C[13]+681279174&4294967295,k=N+($<<4&4294967295|$>>>28),$=I+(k^N^G)+C[0]+3936430074&4294967295,I=k+($<<11&4294967295|$>>>21),$=G+(I^k^N)+C[3]+3572445317&4294967295,G=I+($<<16&4294967295|$>>>16),$=N+(G^I^k)+C[6]+76029189&4294967295,N=G+($<<23&4294967295|$>>>9),$=k+(N^G^I)+C[9]+3654602809&4294967295,k=N+($<<4&4294967295|$>>>28),$=I+(k^N^G)+C[12]+3873151461&4294967295,I=k+($<<11&4294967295|$>>>21),$=G+(I^k^N)+C[15]+530742520&4294967295,G=I+($<<16&4294967295|$>>>16),$=N+(G^I^k)+C[2]+3299628645&4294967295,N=G+($<<23&4294967295|$>>>9),$=k+(G^(N|~I))+C[0]+4096336452&4294967295,k=N+($<<6&4294967295|$>>>26),$=I+(N^(k|~G))+C[7]+1126891415&4294967295,I=k+($<<10&4294967295|$>>>22),$=G+(k^(I|~N))+C[14]+2878612391&4294967295,G=I+($<<15&4294967295|$>>>17),$=N+(I^(G|~k))+C[5]+4237533241&4294967295,N=G+($<<21&4294967295|$>>>11),$=k+(G^(N|~I))+C[12]+1700485571&4294967295,k=N+($<<6&4294967295|$>>>26),$=I+(N^(k|~G))+C[3]+2399980690&4294967295,I=k+($<<10&4294967295|$>>>22),$=G+(k^(I|~N))+C[10]+4293915773&4294967295,G=I+($<<15&4294967295|$>>>17),$=N+(I^(G|~k))+C[1]+2240044497&4294967295,N=G+($<<21&4294967295|$>>>11),$=k+(G^(N|~I))+C[8]+1873313359&4294967295,k=N+($<<6&4294967295|$>>>26),$=I+(N^(k|~G))+C[15]+4264355552&4294967295,I=k+($<<10&4294967295|$>>>22),$=G+(k^(I|~N))+C[6]+2734768916&4294967295,G=I+($<<15&4294967295|$>>>17),$=N+(I^(G|~k))+C[13]+1309151649&4294967295,N=G+($<<21&4294967295|$>>>11),$=k+(G^(N|~I))+C[4]+4149444226&4294967295,k=N+($<<6&4294967295|$>>>26),$=I+(N^(k|~G))+C[11]+3174756917&4294967295,I=k+($<<10&4294967295|$>>>22),$=G+(k^(I|~N))+C[2]+718787259&4294967295,G=I+($<<15&4294967295|$>>>17),$=N+(I^(G|~k))+C[9]+3951481745&4294967295,_.g[0]=_.g[0]+k&4294967295,_.g[1]=_.g[1]+(G+($<<21&4294967295|$>>>11))&4294967295,_.g[2]=_.g[2]+G&4294967295,_.g[3]=_.g[3]+I&4294967295}r.prototype.u=function(_,k){k===void 0&&(k=_.length);for(var N=k-this.blockSize,C=this.B,G=this.h,I=0;I<k;){if(G==0)for(;I<=N;)i(this,_,I),I+=this.blockSize;if(typeof _=="string"){for(;I<k;)if(C[G++]=_.charCodeAt(I++),G==this.blockSize){i(this,C),G=0;break}}else for(;I<k;)if(C[G++]=_[I++],G==this.blockSize){i(this,C),G=0;break}}this.h=G,this.o+=k},r.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var k=1;k<_.length-8;++k)_[k]=0;var N=8*this.o;for(k=_.length-8;k<_.length;++k)_[k]=N&255,N/=256;for(this.u(_),_=Array(16),k=N=0;4>k;++k)for(var C=0;32>C;C+=8)_[N++]=this.g[k]>>>C&255;return _};function l(_,k){var N=c;return Object.prototype.hasOwnProperty.call(N,_)?N[_]:N[_]=k(_)}function o(_,k){this.h=k;for(var N=[],C=!0,G=_.length-1;0<=G;G--){var I=_[G]|0;C&&I==k||(N[G]=I,C=!1)}this.g=N}var c={};function d(_){return-128<=_&&128>_?l(_,function(k){return new o([k|0],0>k?-1:0)}):new o([_|0],0>_?-1:0)}function u(_){if(isNaN(_)||!isFinite(_))return g;if(0>_)return F(u(-_));for(var k=[],N=1,C=0;_>=N;C++)k[C]=_/N|0,N*=4294967296;return new o(k,0)}function p(_,k){if(_.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(_.charAt(0)=="-")return F(p(_.substring(1),k));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=u(Math.pow(k,8)),C=g,G=0;G<_.length;G+=8){var I=Math.min(8,_.length-G),$=parseInt(_.substring(G,G+I),k);8>I?(I=u(Math.pow(k,I)),C=C.j(I).add(u($))):(C=C.j(N),C=C.add(u($)))}return C}var g=d(0),v=d(1),y=d(16777216);s=o.prototype,s.m=function(){if(L(this))return-F(this).m();for(var _=0,k=1,N=0;N<this.g.length;N++){var C=this.i(N);_+=(0<=C?C:4294967296+C)*k,k*=4294967296}return _},s.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(M(this))return"0";if(L(this))return"-"+F(this).toString(_);for(var k=u(Math.pow(_,6)),N=this,C="";;){var G=z(N,k).g;N=T(N,G.j(k));var I=((0<N.g.length?N.g[0]:N.h)>>>0).toString(_);if(N=G,M(N))return I+C;for(;6>I.length;)I="0"+I;C=I+C}},s.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function M(_){if(_.h!=0)return!1;for(var k=0;k<_.g.length;k++)if(_.g[k]!=0)return!1;return!0}function L(_){return _.h==-1}s.l=function(_){return _=T(this,_),L(_)?-1:M(_)?0:1};function F(_){for(var k=_.g.length,N=[],C=0;C<k;C++)N[C]=~_.g[C];return new o(N,~_.h).add(v)}s.abs=function(){return L(this)?F(this):this},s.add=function(_){for(var k=Math.max(this.g.length,_.g.length),N=[],C=0,G=0;G<=k;G++){var I=C+(this.i(G)&65535)+(_.i(G)&65535),$=(I>>>16)+(this.i(G)>>>16)+(_.i(G)>>>16);C=$>>>16,I&=65535,$&=65535,N[G]=$<<16|I}return new o(N,N[N.length-1]&-2147483648?-1:0)};function T(_,k){return _.add(F(k))}s.j=function(_){if(M(this)||M(_))return g;if(L(this))return L(_)?F(this).j(F(_)):F(F(this).j(_));if(L(_))return F(this.j(F(_)));if(0>this.l(y)&&0>_.l(y))return u(this.m()*_.m());for(var k=this.g.length+_.g.length,N=[],C=0;C<2*k;C++)N[C]=0;for(C=0;C<this.g.length;C++)for(var G=0;G<_.g.length;G++){var I=this.i(C)>>>16,$=this.i(C)&65535,fe=_.i(G)>>>16,ae=_.i(G)&65535;N[2*C+2*G]+=$*ae,w(N,2*C+2*G),N[2*C+2*G+1]+=I*ae,w(N,2*C+2*G+1),N[2*C+2*G+1]+=$*fe,w(N,2*C+2*G+1),N[2*C+2*G+2]+=I*fe,w(N,2*C+2*G+2)}for(C=0;C<k;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=k;C<2*k;C++)N[C]=0;return new o(N,0)};function w(_,k){for(;(_[k]&65535)!=_[k];)_[k+1]+=_[k]>>>16,_[k]&=65535,k++}function A(_,k){this.g=_,this.h=k}function z(_,k){if(M(k))throw Error("division by zero");if(M(_))return new A(g,g);if(L(_))return k=z(F(_),k),new A(F(k.g),F(k.h));if(L(k))return k=z(_,F(k)),new A(F(k.g),k.h);if(30<_.g.length){if(L(_)||L(k))throw Error("slowDivide_ only works with positive integers.");for(var N=v,C=k;0>=C.l(_);)N=Y(N),C=Y(C);var G=ie(N,1),I=ie(C,1);for(C=ie(C,2),N=ie(N,2);!M(C);){var $=I.add(C);0>=$.l(_)&&(G=G.add(N),I=$),C=ie(C,1),N=ie(N,1)}return k=T(_,G.j(k)),new A(G,k)}for(G=g;0<=_.l(k);){for(N=Math.max(1,Math.floor(_.m()/k.m())),C=Math.ceil(Math.log(N)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),I=u(N),$=I.j(k);L($)||0<$.l(_);)N-=C,I=u(N),$=I.j(k);M(I)&&(I=v),G=G.add(I),_=T(_,$)}return new A(G,_)}s.A=function(_){return z(this,_).h},s.and=function(_){for(var k=Math.max(this.g.length,_.g.length),N=[],C=0;C<k;C++)N[C]=this.i(C)&_.i(C);return new o(N,this.h&_.h)},s.or=function(_){for(var k=Math.max(this.g.length,_.g.length),N=[],C=0;C<k;C++)N[C]=this.i(C)|_.i(C);return new o(N,this.h|_.h)},s.xor=function(_){for(var k=Math.max(this.g.length,_.g.length),N=[],C=0;C<k;C++)N[C]=this.i(C)^_.i(C);return new o(N,this.h^_.h)};function Y(_){for(var k=_.g.length+1,N=[],C=0;C<k;C++)N[C]=_.i(C)<<1|_.i(C-1)>>>31;return new o(N,_.h)}function ie(_,k){var N=k>>5;k%=32;for(var C=_.g.length-N,G=[],I=0;I<C;I++)G[I]=0<k?_.i(I+N)>>>k|_.i(I+N+1)<<32-k:_.i(I+N);return new o(G,_.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=p,zb=o}).apply(typeof f2<"u"?f2:typeof self<"u"?self:typeof window<"u"?window:{});var Nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var s,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,f,j){return h==Array.prototype||h==Object.prototype||(h[f]=j.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nh=="object"&&Nh];for(var f=0;f<h.length;++f){var j=h[f];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=n(this);function i(h,f){if(f)e:{var j=r;h=h.split(".");for(var E=0;E<h.length-1;E++){var ne=h[E];if(!(ne in j))break e;j=j[ne]}h=h[h.length-1],E=j[h],f=f(E),f!=E&&f!=null&&t(j,h,{configurable:!0,writable:!0,value:f})}}function l(h,f){h instanceof String&&(h+="");var j=0,E=!1,ne={next:function(){if(!E&&j<h.length){var ce=j++;return{value:f(ce,h[ce]),done:!1}}return E=!0,{done:!0,value:void 0}}};return ne[Symbol.iterator]=function(){return ne},ne}i("Array.prototype.values",function(h){return h||function(){return l(this,function(f,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function d(h){var f=typeof h;return f=f!="object"?f:h?Array.isArray(h)?"array":f:"null",f=="array"||f=="object"&&typeof h.length=="number"}function u(h){var f=typeof h;return f=="object"&&h!=null||f=="function"}function p(h,f,j){return h.call.apply(h.bind,arguments)}function g(h,f,j){if(!h)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var ne=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ne,E),h.apply(f,ne)}}return function(){return h.apply(f,arguments)}}function v(h,f,j){return v=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,v.apply(null,arguments)}function y(h,f){var j=Array.prototype.slice.call(arguments,1);return function(){var E=j.slice();return E.push.apply(E,arguments),h.apply(this,E)}}function M(h,f){function j(){}j.prototype=f.prototype,h.aa=f.prototype,h.prototype=new j,h.prototype.constructor=h,h.Qb=function(E,ne,ce){for(var Te=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)Te[rt-2]=arguments[rt];return f.prototype[ne].apply(E,Te)}}function L(h){const f=h.length;if(0<f){const j=Array(f);for(let E=0;E<f;E++)j[E]=h[E];return j}return[]}function F(h,f){for(let j=1;j<arguments.length;j++){const E=arguments[j];if(d(E)){const ne=h.length||0,ce=E.length||0;h.length=ne+ce;for(let Te=0;Te<ce;Te++)h[ne+Te]=E[Te]}else h.push(E)}}class T{constructor(f,j){this.i=f,this.j=j,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function w(h){return/^[\s\xa0]*$/.test(h)}function A(){var h=c.navigator;return h&&(h=h.userAgent)?h:""}function z(h){return z[" "](h),h}z[" "]=function(){};var Y=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function ie(h,f,j){for(const E in h)f.call(j,h[E],E,h)}function _(h,f){for(const j in h)f.call(void 0,h[j],j,h)}function k(h){const f={};for(const j in h)f[j]=h[j];return f}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(h,f){let j,E;for(let ne=1;ne<arguments.length;ne++){E=arguments[ne];for(j in E)h[j]=E[j];for(let ce=0;ce<N.length;ce++)j=N[ce],Object.prototype.hasOwnProperty.call(E,j)&&(h[j]=E[j])}}function G(h){var f=1;h=h.split(":");const j=[];for(;0<f&&h.length;)j.push(h.shift()),f--;return h.length&&j.push(h.join(":")),j}function I(h){c.setTimeout(()=>{throw h},0)}function $(){var h=ee;let f=null;return h.g&&(f=h.g,h.g=h.g.next,h.g||(h.h=null),f.next=null),f}class fe{constructor(){this.h=this.g=null}add(f,j){const E=ae.get();E.set(f,j),this.h?this.h.next=E:this.g=E,this.h=E}}var ae=new T(()=>new J,h=>h.reset());class J{constructor(){this.next=this.g=this.h=null}set(f,j){this.h=f,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,O=!1,ee=new fe,B=()=>{const h=c.Promise.resolve(void 0);Q=()=>{h.then(Z)}};var Z=()=>{for(var h;h=$();){try{h.h.call(h.g)}catch(j){I(j)}var f=ae;f.j(h),100>f.h&&(f.h++,h.next=f.g,f.g=h)}O=!1};function P(){this.s=this.s,this.C=this.C}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(h,f){this.type=h,this.g=this.target=f,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,f=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const j=()=>{};c.addEventListener("test",j,f),c.removeEventListener("test",j,f)}catch{}return h}();function V(h,f){if(H.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var j=this.type=h.type,E=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=f,f=h.relatedTarget){if(Y){e:{try{z(f.nodeName);var ne=!0;break e}catch{}ne=!1}ne||(f=null)}}else j=="mouseover"?f=h.fromElement:j=="mouseout"&&(f=h.toElement);this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:W[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&V.aa.h.call(this)}}M(V,H);var W={2:"touch",3:"pen",4:"mouse"};V.prototype.h=function(){V.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),oe=0;function se(h,f,j,E,ne){this.listener=h,this.proxy=null,this.src=f,this.type=j,this.capture=!!E,this.ha=ne,this.key=++oe,this.da=this.fa=!1}function he(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function be(h){this.src=h,this.g={},this.h=0}be.prototype.add=function(h,f,j,E,ne){var ce=h.toString();h=this.g[ce],h||(h=this.g[ce]=[],this.h++);var Te=_e(h,f,E,ne);return-1<Te?(f=h[Te],j||(f.fa=!1)):(f=new se(f,this.src,ce,!!E,ne),f.fa=j,h.push(f)),f};function pe(h,f){var j=f.type;if(j in h.g){var E=h.g[j],ne=Array.prototype.indexOf.call(E,f,void 0),ce;(ce=0<=ne)&&Array.prototype.splice.call(E,ne,1),ce&&(he(f),h.g[j].length==0&&(delete h.g[j],h.h--))}}function _e(h,f,j,E){for(var ne=0;ne<h.length;++ne){var ce=h[ne];if(!ce.da&&ce.listener==f&&ce.capture==!!j&&ce.ha==E)return ne}return-1}var ze="closure_lm_"+(1e6*Math.random()|0),nt={};function It(h,f,j,E,ne){if(Array.isArray(f)){for(var ce=0;ce<f.length;ce++)It(h,f[ce],j,E,ne);return null}return j=Zr(j),h&&h[ve]?h.K(f,j,u(E)?!!E.capture:!1,ne):Rs(h,f,j,!1,E,ne)}function Rs(h,f,j,E,ne,ce){if(!f)throw Error("Invalid event type");var Te=u(ne)?!!ne.capture:!!ne,rt=Kr(h);if(rt||(h[ze]=rt=new be(h)),j=rt.add(f,j,E,Te,ce),j.proxy)return j;if(E=rs(),j.proxy=E,E.src=h,E.listener=j,h.addEventListener)le||(ne=Te),ne===void 0&&(ne=!1),h.addEventListener(f.toString(),E,ne);else if(h.attachEvent)h.attachEvent(Vr(f.toString()),E);else if(h.addListener&&h.removeListener)h.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return j}function rs(){function h(j){return f.call(h.src,h.listener,j)}const f=Yi;return h}function Yt(h,f,j,E,ne){if(Array.isArray(f))for(var ce=0;ce<f.length;ce++)Yt(h,f[ce],j,E,ne);else E=u(E)?!!E.capture:!!E,j=Zr(j),h&&h[ve]?(h=h.i,f=String(f).toString(),f in h.g&&(ce=h.g[f],j=_e(ce,j,E,ne),-1<j&&(he(ce[j]),Array.prototype.splice.call(ce,j,1),ce.length==0&&(delete h.g[f],h.h--)))):h&&(h=Kr(h))&&(f=h.g[f.toString()],h=-1,f&&(h=_e(f,j,E,ne)),(j=-1<h?f[h]:null)&&vn(j))}function vn(h){if(typeof h!="number"&&h&&!h.da){var f=h.src;if(f&&f[ve])pe(f.i,h);else{var j=h.type,E=h.proxy;f.removeEventListener?f.removeEventListener(j,E,h.capture):f.detachEvent?f.detachEvent(Vr(j),E):f.addListener&&f.removeListener&&f.removeListener(E),(j=Kr(f))?(pe(j,h),j.h==0&&(j.src=null,f[ze]=null)):he(h)}}}function Vr(h){return h in nt?nt[h]:nt[h]="on"+h}function Yi(h,f){if(h.da)h=!0;else{f=new V(f,this);var j=h.listener,E=h.ha||h.src;h.fa&&vn(h),h=j.call(E,f)}return h}function Kr(h){return h=h[ze],h instanceof be?h:null}var Wi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zr(h){return typeof h=="function"?h:(h[Wi]||(h[Wi]=function(f){return h.handleEvent(f)}),h[Wi])}function jt(){P.call(this),this.i=new be(this),this.M=this,this.F=null}M(jt,P),jt.prototype[ve]=!0,jt.prototype.removeEventListener=function(h,f,j,E){Yt(this,h,f,j,E)};function lt(h,f){var j,E=h.F;if(E)for(j=[];E;E=E.F)j.push(E);if(h=h.M,E=f.type||f,typeof f=="string")f=new H(f,h);else if(f instanceof H)f.target=f.target||h;else{var ne=f;f=new H(E,h),C(f,ne)}if(ne=!0,j)for(var ce=j.length-1;0<=ce;ce--){var Te=f.g=j[ce];ne=Xr(Te,E,!0,f)&&ne}if(Te=f.g=h,ne=Xr(Te,E,!0,f)&&ne,ne=Xr(Te,E,!1,f)&&ne,j)for(ce=0;ce<j.length;ce++)Te=f.g=j[ce],ne=Xr(Te,E,!1,f)&&ne}jt.prototype.N=function(){if(jt.aa.N.call(this),this.i){var h=this.i,f;for(f in h.g){for(var j=h.g[f],E=0;E<j.length;E++)he(j[E]);delete h.g[f],h.h--}}this.F=null},jt.prototype.K=function(h,f,j,E){return this.i.add(String(h),f,!1,j,E)},jt.prototype.L=function(h,f,j,E){return this.i.add(String(h),f,!0,j,E)};function Xr(h,f,j,E){if(f=h.i.g[String(f)],!f)return!0;f=f.concat();for(var ne=!0,ce=0;ce<f.length;++ce){var Te=f[ce];if(Te&&!Te.da&&Te.capture==j){var rt=Te.listener,is=Te.ha||Te.src;Te.fa&&pe(h.i,Te),ne=rt.call(is,E)!==!1&&ne}}return ne&&!E.defaultPrevented}function no(h,f,j){if(typeof h=="function")j&&(h=v(h,j));else if(h&&typeof h.handleEvent=="function")h=v(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:c.setTimeout(h,f||0)}function ro(h){h.g=no(()=>{h.g=null,h.i&&(h.i=!1,ro(h))},h.l);const f=h.h;h.h=null,h.m.apply(null,f)}class io extends P{constructor(f,j){super(),this.m=f,this.l=j,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ro(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(h){P.call(this),this.h=h,this.g={}}M(Yr,P);var Qi=[];function Ji(h){ie(h.g,function(f,j){this.g.hasOwnProperty(j)&&vn(f)},h),h.g={}}Yr.prototype.N=function(){Yr.aa.N.call(this),Ji(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Os=c.JSON.stringify,Wr=c.JSON.parse,ao=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function ea(){}ea.prototype.h=null;function Yc(h){return h.h||(h.h=h.i())}function Ua(){}var zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function lo(){H.call(this,"d")}M(lo,H);function rr(){H.call(this,"c")}M(rr,H);var Qr={},Wc=null;function yt(){return Wc=Wc||new jt}Qr.La="serverreachability";function ir(h){H.call(this,Qr.La,h)}M(ir,H);function ta(h){const f=yt();lt(f,new ir(f))}Qr.STAT_EVENT="statevent";function oo(h,f){H.call(this,Qr.STAT_EVENT,h),this.stat=f}M(oo,H);function Pt(h){const f=yt();lt(f,new oo(f,h))}Qr.Ma="timingevent";function co(h,f){H.call(this,Qr.Ma,h),this.size=f}M(co,H);function Jr(h,f){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},f)}function sa(){this.g=!0}sa.prototype.xa=function(){this.g=!1};function en(h,f,j,E,ne,ce){h.info(function(){if(h.g)if(ce)for(var Te="",rt=ce.split("&"),is=0;is<rt.length;is++){var Ke=rt[is].split("=");if(1<Ke.length){var us=Ke[0];Ke=Ke[1];var ms=us.split("_");Te=2<=ms.length&&ms[1]=="type"?Te+(us+"="+Ke+"&"):Te+(us+"=redacted&")}}else Te=null;else Te=ce;return"XMLHTTP REQ ("+E+") [attempt "+ne+"]: "+f+`
`+j+`
`+Te})}function ar(h,f,j,E,ne,ce,Te){h.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+ne+"]: "+f+`
`+j+`
`+ce+" "+Te})}function lr(h,f,j,E){h.info(function(){return"XMLHTTP TEXT ("+f+"): "+ho(h,j)+(E?" "+E:"")})}function Qc(h,f){h.info(function(){return"TIMEOUT: "+f})}sa.prototype.info=function(){};function ho(h,f){if(!h.g)return f;if(!f)return null;try{var j=JSON.parse(f);if(j){for(h=0;h<j.length;h++)if(Array.isArray(j[h])){var E=j[h];if(!(2>E.length)){var ne=E[1];if(Array.isArray(ne)&&!(1>ne.length)){var ce=ne[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(var Te=1;Te<ne.length;Te++)ne[Te]=""}}}}return Os(j)}catch{return f}}var Fa={NO_ERROR:0,TIMEOUT:8},jn={},Va;function na(){}M(na,ea),na.prototype.g=function(){return new XMLHttpRequest},na.prototype.i=function(){return{}},Va=new na;function yn(h,f,j,E){this.j=h,this.i=f,this.l=j,this.R=E||1,this.U=new Yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new uo}function uo(){this.i=null,this.g="",this.h=!1}var Jc={},Ee={};function K(h,f,j){h.L=1,h.v=sh(or(f)),h.m=j,h.P=!0,je(h,null)}function je(h,f){h.F=Date.now(),Et(h),h.A=or(h.v);var j=h.A,E=h.R;Array.isArray(E)||(E=[String(E)]),Xx(j.i,"t",E),h.C=0,j=h.j.J,h.h=new uo,h.g=mg(h.j,j?f:null,!h.m),0<h.O&&(h.M=new io(v(h.Y,h,h.g),h.O)),f=h.U,j=h.g,E=h.ca;var ne="readystatechange";Array.isArray(ne)||(ne&&(Qi[0]=ne.toString()),ne=Qi);for(var ce=0;ce<ne.length;ce++){var Te=It(j,ne[ce],E||f.handleEvent,!1,f.h||f);if(!Te)break;f.g[Te.key]=Te}f=h.H?k(h.H):{},h.m?(h.u||(h.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,f)):(h.u="GET",h.g.ea(h.A,h.u,null,f)),ta(),en(h.i,h.u,h.A,h.l,h.R,h.m)}yn.prototype.ca=function(h){h=h.target;const f=this.M;f&&cr(h)==3?f.j():this.Y(h)},yn.prototype.Y=function(h){try{if(h==this.g)e:{const ms=cr(this.g);var f=this.g.Ba();const Xa=this.g.Z();if(!(3>ms)&&(ms!=3||this.g&&(this.h.h||this.g.oa()||sg(this.g)))){this.J||ms!=4||f==7||(f==8||0>=Xa?ta(3):ta(2)),Wt(this);var j=this.g.Z();this.X=j;t:if(Ae(this)){var E=sg(this.g);h="";var ne=E.length,ce=cr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ss(this),fs(this);var Te="";break t}this.h.i=new c.TextDecoder}for(f=0;f<ne;f++)this.h.h=!0,h+=this.h.i.decode(E[f],{stream:!(ce&&f==ne-1)});E.length=0,this.h.g+=h,this.C=0,Te=this.h.g}else Te=this.g.oa();if(this.o=j==200,ar(this.i,this.u,this.A,this.l,this.R,ms,j),this.o){if(this.T&&!this.K){t:{if(this.g){var rt,is=this.g;if((rt=is.g?is.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(rt)){var Ke=rt;break t}}Ke=null}if(j=Ke)lr(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ra(this,j);else{this.o=!1,this.s=3,Pt(12),Ss(this),fs(this);break e}}if(this.P){j=!0;let bn;for(;!this.J&&this.C<Te.length;)if(bn=ot(this,Te),bn==Ee){ms==4&&(this.s=4,Pt(14),j=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(bn==Jc){this.s=4,Pt(15),lr(this.i,this.l,Te,"[Invalid Chunk]"),j=!1;break}else lr(this.i,this.l,bn,null),ra(this,bn);if(Ae(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ms!=4||Te.length!=0||this.h.h||(this.s=1,Pt(16),j=!1),this.o=this.o&&j,!j)lr(this.i,this.l,Te,"[Invalid Chunked Response]"),Ss(this),fs(this);else if(0<Te.length&&!this.W){this.W=!0;var us=this.j;us.g==this&&us.ba&&!us.M&&(us.j.info("Great, no buffering proxy detected. Bytes received: "+Te.length),Wu(us),us.M=!0,Pt(11))}}else lr(this.i,this.l,Te,null),ra(this,Te);ms==4&&Ss(this),this.o&&!this.J&&(ms==4?cg(this.j,this):(this.o=!1,Et(this)))}else t6(this.g),j==400&&0<Te.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Ss(this),fs(this)}}}catch{}finally{}};function Ae(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function ot(h,f){var j=h.C,E=f.indexOf(`
`,j);return E==-1?Ee:(j=Number(f.substring(j,E)),isNaN(j)?Jc:(E+=1,E+j>f.length?Ee:(f=f.slice(E,E+j),h.C=E+j,f)))}yn.prototype.cancel=function(){this.J=!0,Ss(this)};function Et(h){h.S=Date.now()+h.I,bt(h,h.I)}function bt(h,f){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Jr(v(h.ba,h),f)}function Wt(h){h.B&&(c.clearTimeout(h.B),h.B=null)}yn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Qc(this.i,this.A),this.L!=2&&(ta(),Pt(17)),Ss(this),this.s=2,fs(this)):bt(this,this.S-h)};function fs(h){h.j.G==0||h.J||cg(h.j,h)}function Ss(h){Wt(h);var f=h.M;f&&typeof f.ma=="function"&&f.ma(),h.M=null,Ji(h.U),h.g&&(f=h.g,h.g=null,f.abort(),f.ma())}function ra(h,f){try{var j=h.j;if(j.G!=0&&(j.g==h||Vu(j.h,h))){if(!h.K&&Vu(j.h,h)&&j.G==3){try{var E=j.Da.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var ne=E;if(ne[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<h.F)oh(j),ah(j);else break e;Yu(j),Pt(18)}}else j.za=ne[1],0<j.za-j.T&&37500>ne[2]&&j.F&&j.v==0&&!j.C&&(j.C=Jr(v(j.Za,j),6e3));if(1>=Lx(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else aa(j,11)}else if((h.K||j.g==h)&&oh(j),!w(f))for(ne=j.Da.g.parse(f),f=0;f<ne.length;f++){let Ke=ne[f];if(j.T=Ke[0],Ke=Ke[1],j.G==2)if(Ke[0]=="c"){j.K=Ke[1],j.ia=Ke[2];const us=Ke[3];us!=null&&(j.la=us,j.j.info("VER="+j.la));const ms=Ke[4];ms!=null&&(j.Aa=ms,j.j.info("SVER="+j.Aa));const Xa=Ke[5];Xa!=null&&typeof Xa=="number"&&0<Xa&&(E=1.5*Xa,j.L=E,j.j.info("backChannelRequestTimeoutMs_="+E)),E=j;const bn=h.g;if(bn){const ch=bn.g?bn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ch){var ce=E.h;ce.g||ch.indexOf("spdy")==-1&&ch.indexOf("quic")==-1&&ch.indexOf("h2")==-1||(ce.j=ce.l,ce.g=new Set,ce.h&&(Ku(ce,ce.h),ce.h=null))}if(E.D){const Qu=bn.g?bn.g.getResponseHeader("X-HTTP-Session-Id"):null;Qu&&(E.ya=Qu,ut(E.I,E.D,Qu))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-h.F,j.j.info("Handshake RTT: "+j.R+"ms")),E=j;var Te=h;if(E.qa=ug(E,E.J?E.ia:null,E.W),Te.K){Px(E.h,Te);var rt=Te,is=E.L;is&&(rt.I=is),rt.B&&(Wt(rt),Et(rt)),E.g=Te}else lg(E);0<j.i.length&&lh(j)}else Ke[0]!="stop"&&Ke[0]!="close"||aa(j,7);else j.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?aa(j,7):Xu(j):Ke[0]!="noop"&&j.l&&j.l.ta(Ke),j.v=0)}}ta(4)}catch{}}var Bt=class{constructor(h,f){this.g=h,this.map=f}};function mo(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fo(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Lx(h){return h.h?1:h.g?h.g.size:0}function Vu(h,f){return h.h?h.h==f:h.g?h.g.has(f):!1}function Ku(h,f){h.g?h.g.add(f):h.h=f}function Px(h,f){h.h&&h.h==f?h.h=null:h.g&&h.g.has(f)&&h.g.delete(f)}mo.prototype.cancel=function(){if(this.i=Bx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Bx(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let f=h.i;for(const j of h.g.values())f=f.concat(j.D);return f}return L(h.i)}function L5(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(d(h)){for(var f=[],j=h.length,E=0;E<j;E++)f.push(h[E]);return f}f=[],j=0;for(E in h)f[j++]=h[E];return f}function P5(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(d(h)||typeof h=="string"){var f=[];h=h.length;for(var j=0;j<h;j++)f.push(j);return f}f=[],j=0;for(const E in h)f[j++]=E;return f}}}function Hx(h,f){if(h.forEach&&typeof h.forEach=="function")h.forEach(f,void 0);else if(d(h)||typeof h=="string")Array.prototype.forEach.call(h,f,void 0);else for(var j=P5(h),E=L5(h),ne=E.length,ce=0;ce<ne;ce++)f.call(void 0,E[ce],j&&j[ce],h)}var Ux=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function B5(h,f){if(h){h=h.split("&");for(var j=0;j<h.length;j++){var E=h[j].indexOf("="),ne=null;if(0<=E){var ce=h[j].substring(0,E);ne=h[j].substring(E+1)}else ce=h[j];f(ce,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function ia(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof ia){this.h=h.h,eh(this,h.j),this.o=h.o,this.g=h.g,th(this,h.s),this.l=h.l;var f=h.i,j=new go;j.i=f.i,f.g&&(j.g=new Map(f.g),j.h=f.h),Fx(this,j),this.m=h.m}else h&&(f=String(h).match(Ux))?(this.h=!1,eh(this,f[1]||"",!0),this.o=po(f[2]||""),this.g=po(f[3]||"",!0),th(this,f[4]),this.l=po(f[5]||"",!0),Fx(this,f[6]||"",!0),this.m=po(f[7]||"")):(this.h=!1,this.i=new go(null,this.h))}ia.prototype.toString=function(){var h=[],f=this.j;f&&h.push(xo(f,Vx,!0),":");var j=this.g;return(j||f=="file")&&(h.push("//"),(f=this.o)&&h.push(xo(f,Vx,!0),"@"),h.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&h.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&h.push("/"),h.push(xo(j,j.charAt(0)=="/"?F5:U5,!0))),(j=this.i.toString())&&h.push("?",j),(j=this.m)&&h.push("#",xo(j,K5)),h.join("")};function or(h){return new ia(h)}function eh(h,f,j){h.j=j?po(f,!0):f,h.j&&(h.j=h.j.replace(/:$/,""))}function th(h,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);h.s=f}else h.s=null}function Fx(h,f,j){f instanceof go?(h.i=f,Z5(h.i,h.h)):(j||(f=xo(f,V5)),h.i=new go(f,h.h))}function ut(h,f,j){h.i.set(f,j)}function sh(h){return ut(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function po(h,f){return h?f?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function xo(h,f,j){return typeof h=="string"?(h=encodeURI(h).replace(f,H5),j&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function H5(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Vx=/[#\/\?@]/g,U5=/[#\?:]/g,F5=/[#\?]/g,V5=/[#\?@]/g,K5=/#/g;function go(h,f){this.h=this.g=null,this.i=h||null,this.j=!!f}function ei(h){h.g||(h.g=new Map,h.h=0,h.i&&B5(h.i,function(f,j){h.add(decodeURIComponent(f.replace(/\+/g," ")),j)}))}s=go.prototype,s.add=function(h,f){ei(this),this.i=null,h=Ka(this,h);var j=this.g.get(h);return j||this.g.set(h,j=[]),j.push(f),this.h+=1,this};function Kx(h,f){ei(h),f=Ka(h,f),h.g.has(f)&&(h.i=null,h.h-=h.g.get(f).length,h.g.delete(f))}function Zx(h,f){return ei(h),f=Ka(h,f),h.g.has(f)}s.forEach=function(h,f){ei(this),this.g.forEach(function(j,E){j.forEach(function(ne){h.call(f,ne,E,this)},this)},this)},s.na=function(){ei(this);const h=Array.from(this.g.values()),f=Array.from(this.g.keys()),j=[];for(let E=0;E<f.length;E++){const ne=h[E];for(let ce=0;ce<ne.length;ce++)j.push(f[E])}return j},s.V=function(h){ei(this);let f=[];if(typeof h=="string")Zx(this,h)&&(f=f.concat(this.g.get(Ka(this,h))));else{h=Array.from(this.g.values());for(let j=0;j<h.length;j++)f=f.concat(h[j])}return f},s.set=function(h,f){return ei(this),this.i=null,h=Ka(this,h),Zx(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[f]),this.h+=1,this},s.get=function(h,f){return h?(h=this.V(h),0<h.length?String(h[0]):f):f};function Xx(h,f,j){Kx(h,f),0<j.length&&(h.i=null,h.g.set(Ka(h,f),L(j)),h.h+=j.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],f=Array.from(this.g.keys());for(var j=0;j<f.length;j++){var E=f[j];const ce=encodeURIComponent(String(E)),Te=this.V(E);for(E=0;E<Te.length;E++){var ne=ce;Te[E]!==""&&(ne+="="+encodeURIComponent(String(Te[E]))),h.push(ne)}}return this.i=h.join("&")};function Ka(h,f){return f=String(f),h.j&&(f=f.toLowerCase()),f}function Z5(h,f){f&&!h.j&&(ei(h),h.i=null,h.g.forEach(function(j,E){var ne=E.toLowerCase();E!=ne&&(Kx(this,E),Xx(this,ne,j))},h)),h.j=f}function X5(h,f){const j=new sa;if(c.Image){const E=new Image;E.onload=y(ti,j,"TestLoadImage: loaded",!0,f,E),E.onerror=y(ti,j,"TestLoadImage: error",!1,f,E),E.onabort=y(ti,j,"TestLoadImage: abort",!1,f,E),E.ontimeout=y(ti,j,"TestLoadImage: timeout",!1,f,E),c.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=h}else f(!1)}function Y5(h,f){const j=new sa,E=new AbortController,ne=setTimeout(()=>{E.abort(),ti(j,"TestPingServer: timeout",!1,f)},1e4);fetch(h,{signal:E.signal}).then(ce=>{clearTimeout(ne),ce.ok?ti(j,"TestPingServer: ok",!0,f):ti(j,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(ne),ti(j,"TestPingServer: error",!1,f)})}function ti(h,f,j,E,ne){try{ne&&(ne.onload=null,ne.onerror=null,ne.onabort=null,ne.ontimeout=null),E(j)}catch{}}function W5(){this.g=new ao}function Q5(h,f,j){const E=j||"";try{Hx(h,function(ne,ce){let Te=ne;u(ne)&&(Te=Os(ne)),f.push(E+ce+"="+encodeURIComponent(Te))})}catch(ne){throw f.push(E+"type="+encodeURIComponent("_badmap")),ne}}function nh(h){this.l=h.Ub||null,this.j=h.eb||!1}M(nh,ea),nh.prototype.g=function(){return new rh(this.l,this.j)},nh.prototype.i=function(h){return function(){return h}}({});function rh(h,f){jt.call(this),this.D=h,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(rh,jt),s=rh.prototype,s.open=function(h,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=f,this.readyState=1,jo(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(f.body=h),(this.D||c).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vo(this)),this.readyState=0},s.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,jo(this)),this.g&&(this.readyState=3,jo(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yx(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yx(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}s.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var f=h.value?h.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!h.done}))&&(this.response=this.responseText+=f)}h.done?vo(this):jo(this),this.readyState==3&&Yx(this)}},s.Ra=function(h){this.g&&(this.response=this.responseText=h,vo(this))},s.Qa=function(h){this.g&&(this.response=h,vo(this))},s.ga=function(){this.g&&vo(this)};function vo(h){h.readyState=4,h.l=null,h.j=null,h.v=null,jo(h)}s.setRequestHeader=function(h,f){this.u.append(h,f)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],f=this.h.entries();for(var j=f.next();!j.done;)j=j.value,h.push(j[0]+": "+j[1]),j=f.next();return h.join(`\r
`)};function jo(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(rh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Wx(h){let f="";return ie(h,function(j,E){f+=E,f+=":",f+=j,f+=`\r
`}),f}function Zu(h,f,j){e:{for(E in j){var E=!1;break e}E=!0}E||(j=Wx(j),typeof h=="string"?j!=null&&encodeURIComponent(String(j)):ut(h,f,j))}function Ct(h){jt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ct,jt);var J5=/^https?$/i,e6=["POST","PUT"];s=Ct.prototype,s.Ha=function(h){this.J=h},s.ea=function(h,f,j,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);f=f?f.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Va.g(),this.v=this.o?Yc(this.o):Yc(Va),this.g.onreadystatechange=v(this.Ea,this);try{this.B=!0,this.g.open(f,String(h),!0),this.B=!1}catch(ce){Qx(this,ce);return}if(h=j||"",j=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var ne in E)j.set(ne,E[ne]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const ce of E.keys())j.set(ce,E.get(ce));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(j.keys()).find(ce=>ce.toLowerCase()=="content-type"),ne=c.FormData&&h instanceof c.FormData,!(0<=Array.prototype.indexOf.call(e6,f,void 0))||E||ne||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ce,Te]of j)this.g.setRequestHeader(ce,Te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tg(this),this.u=!0,this.g.send(h),this.u=!1}catch(ce){Qx(this,ce)}};function Qx(h,f){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=f,h.m=5,Jx(h),ih(h)}function Jx(h){h.A||(h.A=!0,lt(h,"complete"),lt(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,lt(this,"complete"),lt(this,"abort"),ih(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ih(this,!0)),Ct.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?eg(this):this.bb())},s.bb=function(){eg(this)};function eg(h){if(h.h&&typeof o<"u"&&(!h.v[1]||cr(h)!=4||h.Z()!=2)){if(h.u&&cr(h)==4)no(h.Ea,0,h);else if(lt(h,"readystatechange"),cr(h)==4){h.h=!1;try{const Te=h.Z();e:switch(Te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var j;if(!(j=f)){var E;if(E=Te===0){var ne=String(h.D).match(Ux)[1]||null;!ne&&c.self&&c.self.location&&(ne=c.self.location.protocol.slice(0,-1)),E=!J5.test(ne?ne.toLowerCase():"")}j=E}if(j)lt(h,"complete"),lt(h,"success");else{h.m=6;try{var ce=2<cr(h)?h.g.statusText:""}catch{ce=""}h.l=ce+" ["+h.Z()+"]",Jx(h)}}finally{ih(h)}}}}function ih(h,f){if(h.g){tg(h);const j=h.g,E=h.v[0]?()=>{}:null;h.g=null,h.v=null,f||lt(h,"ready");try{j.onreadystatechange=E}catch{}}}function tg(h){h.I&&(c.clearTimeout(h.I),h.I=null)}s.isActive=function(){return!!this.g};function cr(h){return h.g?h.g.readyState:0}s.Z=function(){try{return 2<cr(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(h){if(this.g){var f=this.g.responseText;return h&&f.indexOf(h)==0&&(f=f.substring(h.length)),Wr(f)}};function sg(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function t6(h){const f={};h=(h.g&&2<=cr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<h.length;E++){if(w(h[E]))continue;var j=G(h[E]);const ne=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const ce=f[ne]||[];f[ne]=ce,ce.push(j)}_(f,function(E){return E.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yo(h,f,j){return j&&j.internalChannelParams&&j.internalChannelParams[h]||f}function ng(h){this.Aa=0,this.i=[],this.j=new sa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yo("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yo("baseRetryDelayMs",5e3,h),this.cb=yo("retryDelaySeedMs",1e4,h),this.Wa=yo("forwardChannelMaxRetries",2,h),this.wa=yo("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new mo(h&&h.concurrentRequestLimit),this.Da=new W5,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ng.prototype,s.la=8,s.G=1,s.connect=function(h,f,j,E){Pt(0),this.W=h,this.H=f||{},j&&E!==void 0&&(this.H.OSID=j,this.H.OAID=E),this.F=this.X,this.I=ug(this,null,this.W),lh(this)};function Xu(h){if(rg(h),h.G==3){var f=h.U++,j=or(h.I);if(ut(j,"SID",h.K),ut(j,"RID",f),ut(j,"TYPE","terminate"),bo(h,j),f=new yn(h,h.j,f),f.L=2,f.v=sh(or(j)),j=!1,c.navigator&&c.navigator.sendBeacon)try{j=c.navigator.sendBeacon(f.v.toString(),"")}catch{}!j&&c.Image&&(new Image().src=f.v,j=!0),j||(f.g=mg(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Et(f)}dg(h)}function ah(h){h.g&&(Wu(h),h.g.cancel(),h.g=null)}function rg(h){ah(h),h.u&&(c.clearTimeout(h.u),h.u=null),oh(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&c.clearTimeout(h.s),h.s=null)}function lh(h){if(!fo(h.h)&&!h.s){h.s=!0;var f=h.Ga;Q||B(),O||(Q(),O=!0),ee.add(f,h),h.B=0}}function s6(h,f){return Lx(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=f.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Jr(v(h.Ga,h,f),hg(h,h.B)),h.B++,!0)}s.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const ne=new yn(this,this.j,h);let ce=this.o;if(this.S&&(ce?(ce=k(ce),C(ce,this.S)):ce=this.S),this.m!==null||this.O||(ne.H=ce,ce=null),this.P)e:{for(var f=0,j=0;j<this.i.length;j++){t:{var E=this.i[j];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,4096<f){f=j;break e}if(f===4096||j===this.i.length-1){f=j+1;break e}}f=1e3}else f=1e3;f=ag(this,ne,f),j=or(this.I),ut(j,"RID",h),ut(j,"CVER",22),this.D&&ut(j,"X-HTTP-Session-Id",this.D),bo(this,j),ce&&(this.O?f="headers="+encodeURIComponent(String(Wx(ce)))+"&"+f:this.m&&Zu(j,this.m,ce)),Ku(this.h,ne),this.Ua&&ut(j,"TYPE","init"),this.P?(ut(j,"$req",f),ut(j,"SID","null"),ne.T=!0,K(ne,j,null)):K(ne,j,f),this.G=2}}else this.G==3&&(h?ig(this,h):this.i.length==0||fo(this.h)||ig(this))};function ig(h,f){var j;f?j=f.l:j=h.U++;const E=or(h.I);ut(E,"SID",h.K),ut(E,"RID",j),ut(E,"AID",h.T),bo(h,E),h.m&&h.o&&Zu(E,h.m,h.o),j=new yn(h,h.j,j,h.B+1),h.m===null&&(j.H=h.o),f&&(h.i=f.D.concat(h.i)),f=ag(h,j,1e3),j.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ku(h.h,j),K(j,E,f)}function bo(h,f){h.H&&ie(h.H,function(j,E){ut(f,E,j)}),h.l&&Hx({},function(j,E){ut(f,E,j)})}function ag(h,f,j){j=Math.min(h.i.length,j);var E=h.l?v(h.l.Na,h.l,h):null;e:{var ne=h.i;let ce=-1;for(;;){const Te=["count="+j];ce==-1?0<j?(ce=ne[0].g,Te.push("ofs="+ce)):ce=0:Te.push("ofs="+ce);let rt=!0;for(let is=0;is<j;is++){let Ke=ne[is].g;const us=ne[is].map;if(Ke-=ce,0>Ke)ce=Math.max(0,ne[is].g-100),rt=!1;else try{Q5(us,Te,"req"+Ke+"_")}catch{E&&E(us)}}if(rt){E=Te.join("&");break e}}}return h=h.i.splice(0,j),f.D=h,E}function lg(h){if(!h.g&&!h.u){h.Y=1;var f=h.Fa;Q||B(),O||(Q(),O=!0),ee.add(f,h),h.v=0}}function Yu(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Jr(v(h.Fa,h),hg(h,h.v)),h.v++,!0)}s.Fa=function(){if(this.u=null,og(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Jr(v(this.ab,this),h)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),ah(this),og(this))};function Wu(h){h.A!=null&&(c.clearTimeout(h.A),h.A=null)}function og(h){h.g=new yn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var f=or(h.qa);ut(f,"RID","rpc"),ut(f,"SID",h.K),ut(f,"AID",h.T),ut(f,"CI",h.F?"0":"1"),!h.F&&h.ja&&ut(f,"TO",h.ja),ut(f,"TYPE","xmlhttp"),bo(h,f),h.m&&h.o&&Zu(f,h.m,h.o),h.L&&(h.g.I=h.L);var j=h.g;h=h.ia,j.L=1,j.v=sh(or(f)),j.m=null,j.P=!0,je(j,h)}s.Za=function(){this.C!=null&&(this.C=null,ah(this),Yu(this),Pt(19))};function oh(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function cg(h,f){var j=null;if(h.g==f){oh(h),Wu(h),h.g=null;var E=2}else if(Vu(h.h,f))j=f.D,Px(h.h,f),E=1;else return;if(h.G!=0){if(f.o)if(E==1){j=f.m?f.m.length:0,f=Date.now()-f.F;var ne=h.B;E=yt(),lt(E,new co(E,j)),lh(h)}else lg(h);else if(ne=f.s,ne==3||ne==0&&0<f.X||!(E==1&&s6(h,f)||E==2&&Yu(h)))switch(j&&0<j.length&&(f=h.h,f.i=f.i.concat(j)),ne){case 1:aa(h,5);break;case 4:aa(h,10);break;case 3:aa(h,6);break;default:aa(h,2)}}}function hg(h,f){let j=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(j*=2),j*f}function aa(h,f){if(h.j.info("Error code "+f),f==2){var j=v(h.fb,h),E=h.Xa;const ne=!E;E=new ia(E||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||eh(E,"https"),sh(E),ne?X5(E.toString(),j):Y5(E.toString(),j)}else Pt(2);h.G=0,h.l&&h.l.sa(f),dg(h),rg(h)}s.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function dg(h){if(h.G=0,h.ka=[],h.l){const f=Bx(h.h);(f.length!=0||h.i.length!=0)&&(F(h.ka,f),F(h.ka,h.i),h.h.i.length=0,L(h.i),h.i.length=0),h.l.ra()}}function ug(h,f,j){var E=j instanceof ia?or(j):new ia(j);if(E.g!="")f&&(E.g=f+"."+E.g),th(E,E.s);else{var ne=c.location;E=ne.protocol,f=f?f+"."+ne.hostname:ne.hostname,ne=+ne.port;var ce=new ia(null);E&&eh(ce,E),f&&(ce.g=f),ne&&th(ce,ne),j&&(ce.l=j),E=ce}return j=h.D,f=h.ya,j&&f&&ut(E,j,f),ut(E,"VER",h.la),bo(h,E),E}function mg(h,f,j){if(f&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=h.Ca&&!h.pa?new Ct(new nh({eb:j})):new Ct(h.pa),f.Ha(h.J),f}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function fg(){}s=fg.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function tn(h,f){jt.call(this),this.g=new ng(f),this.l=h,this.h=f&&f.messageUrlParams||null,h=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(h?h["X-WebChannel-Content-Type"]=f.messageContentType:h={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(h?h["X-WebChannel-Client-Profile"]=f.va:h={"X-WebChannel-Client-Profile":f.va}),this.g.S=h,(h=f&&f.Sb)&&!w(h)&&(this.g.m=h),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!w(f)&&(this.g.D=f,h=this.h,h!==null&&f in h&&(h=this.h,f in h&&delete h[f])),this.j=new Za(this)}M(tn,jt),tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Xu(this.g)},tn.prototype.o=function(h){var f=this.g;if(typeof h=="string"){var j={};j.__data__=h,h=j}else this.u&&(j={},j.__data__=Os(h),h=j);f.i.push(new Bt(f.Ya++,h)),f.G==3&&lh(f)},tn.prototype.N=function(){this.g.l=null,delete this.j,Xu(this.g),delete this.g,tn.aa.N.call(this)};function pg(h){lo.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var f=h.__sm__;if(f){e:{for(const j in f){h=j;break e}h=void 0}(this.i=h)&&(h=this.i,f=f!==null&&h in f?f[h]:void 0),this.data=f}else this.data=h}M(pg,lo);function xg(){rr.call(this),this.status=1}M(xg,rr);function Za(h){this.g=h}M(Za,fg),Za.prototype.ua=function(){lt(this.g,"a")},Za.prototype.ta=function(h){lt(this.g,new pg(h))},Za.prototype.sa=function(h){lt(this.g,new xg)},Za.prototype.ra=function(){lt(this.g,"b")},tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,Fa.NO_ERROR=0,Fa.TIMEOUT=8,Fa.HTTP_ERROR=6,jn.COMPLETE="complete",Ua.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",jt.prototype.listen=jt.prototype.K,Ct.prototype.listenOnce=Ct.prototype.L,Ct.prototype.getLastError=Ct.prototype.Ka,Ct.prototype.getLastErrorCode=Ct.prototype.Ba,Ct.prototype.getStatus=Ct.prototype.Z,Ct.prototype.getResponseJson=Ct.prototype.Oa,Ct.prototype.getResponseText=Ct.prototype.oa,Ct.prototype.send=Ct.prototype.ea,Ct.prototype.setWithCredentials=Ct.prototype.Ha}).apply(typeof Nh<"u"?Nh:typeof self<"u"?self:typeof window<"u"?window:{});const p2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ls.UNAUTHENTICATED=new Ls(null),Ls.GOOGLE_CREDENTIALS=new Ls("google-credentials-uid"),Ls.FIRST_PARTY=new Ls("first-party-uid"),Ls.MOCK_USER=new Ls("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=new Wp("@firebase/firestore");function Cn(s,...t){if(Kd.logLevel<=Qe.DEBUG){const n=t.map(Db);Kd.debug(`Firestore (${Cu}): ${s}`,...n)}}function Ib(s,...t){if(Kd.logLevel<=Qe.ERROR){const n=t.map(Db);Kd.error(`Firestore (${Cu}): ${s}`,...n)}}function Db(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(s="Unexpected state"){const t=`FIRESTORE (${Cu}) INTERNAL ASSERTION FAILED: `+s;throw Ib(t),new Error(t)}function sc(s,t){s||Rb()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class _n extends Yn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class jT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ls.UNAUTHENTICATED))}shutdown(){}}class yT{constructor(t){this.t=t,this.currentUser=Ls.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){sc(this.o===void 0);let r=this.i;const i=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let l=new nc;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new nc,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const d=l;t.enqueueRetryable(async()=>{await d.promise,await i(this.currentUser)})},c=d=>{Cn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(d=>c(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(Cn("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new nc)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(Cn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(sc(typeof r.accessToken=="string"),new vT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return sc(t===null||typeof t=="string"),new Ls(t)}}class bT{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Ls.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class wT{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new bT(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ls.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TT{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,n){sc(this.o===void 0);const r=l=>{l.error!=null&&Cn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const o=l.token!==this.R;return this.R=l.token,Cn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>r(l))};const i=l=>{Cn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?i(l):Cn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(sc(typeof n.token=="string"),this.R=n.token,new kT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ST(s){return s.name==="IndexedDbTransactionError"}class Zd{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new Zd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof Zd&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x2,Fe;(Fe=x2||(x2={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new zb([4294967295,4294967295],0);function H0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(t,n,r=1e3,i=1.5,l=6e4){this.ui=t,this.timerId=n,this.ko=r,this.qo=i,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Cn("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(t,n,r,i,l){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new nc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,l){const o=Date.now()+r,c=new ox(t,n,o,i,l);return c.start(r),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _n(An.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var g2,v2;(v2=g2||(g2={})).ea="default",v2.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new Map;function _T(s,t,n,r){if(t===!0&&r===!0)throw new _n(An.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new _n(An.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new _n(An.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}_T("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=AT((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _n(An.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _n(An.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _n(An.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ET{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _n(An.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new _n(An.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y2(t),t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jT;switch(r.type){case"firstParty":return new wT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _n(An.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=j2.get(n);r&&(Cn("ComponentProvider","Removing Datastore"),j2.delete(n),r.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new NT(this,"async_queue_retry"),this.Vu=()=>{const r=H0();r&&Cn("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=t;const n=H0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;const n=H0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new nc;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!ST(t))throw t;Cn("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(t){const n=this.mu.then(()=>(this.du=!0,t().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(r);throw Ib("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(t,n,r){this.fu(),this.Ru.indexOf(t)>-1&&(n=0);const i=ox.createAndSchedule(this,t,n,r,l=>this.yu(l));return this.Tu.push(i),i}fu(){this.Eu&&Rb()}verifyOperationInProgress(){}async wu(){let t;do t=this.mu,await t;while(t!==this.mu)}Su(t){for(const n of this.Tu)if(n.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){const n=this.Tu.indexOf(t);this.Tu.splice(n,1)}}class CT extends ET{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new b2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new b2(t),this._firestoreClient=void 0,await t}}}(function(t,n=!0){(function(i){Cu=i})(Yl),Ca(new Li("firestore",(r,{instanceIdentifier:i,options:l})=>{const o=r.getProvider("app").getImmediate(),c=new CT(new yT(r.getProvider("auth-internal")),new TT(r.getProvider("app-check-internal")),function(u,p){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new _n(An.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zd(u.options.projectId,p)}(o,i),o);return l=Object.assign({useFetchStreams:n},l),c._setSettings(l),c},"PUBLIC").setMultipleInstances(!0)),Un(p2,"4.7.3",t),Un(p2,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="type.googleapis.com/google.protobuf.Int64Value",$T="type.googleapis.com/google.protobuf.UInt64Value";function Ob(s,t){const n={};for(const r in s)s.hasOwnProperty(r)&&(n[r]=t(s[r]));return n}function Af(s){if(s==null)return null;if(s instanceof Number&&(s=s.valueOf()),typeof s=="number"&&isFinite(s)||s===!0||s===!1||Object.prototype.toString.call(s)==="[object String]")return s;if(s instanceof Date)return s.toISOString();if(Array.isArray(s))return s.map(t=>Af(t));if(typeof s=="function"||typeof s=="object")return Ob(s,t=>Af(t));throw new Error("Data cannot be encoded in JSON: "+s)}function Xd(s){if(s==null)return s;if(s["@type"])switch(s["@type"]){case MT:case $T:{const t=Number(s.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+s);return t}default:throw new Error("Data cannot be decoded from JSON: "+s)}return Array.isArray(s)?s.map(t=>Xd(t)):typeof s=="function"||typeof s=="object"?Ob(s,t=>Xd(t)):s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nl extends Yn{constructor(t,n,r){super(`${cx}/${t}`,n||""),this.details=r}}function GT(s){if(s>=200&&s<300)return"ok";switch(s){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function zT(s,t){let n=GT(s),r=n,i;try{const l=t&&t.error;if(l){const o=l.status;if(typeof o=="string"){if(!w2[o])return new Nl("internal","internal");n=w2[o],r=o}const c=l.message;typeof c=="string"&&(r=c),i=l.details,i!==void 0&&(i=Xd(i))}}catch{}return n==="ok"?null:new Nl(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(t,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="us-central1";function DT(s){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new Nl("deadline-exceeded","deadline-exceeded"))},s)}),cancel:()=>{t&&clearTimeout(t)}}}class RT{constructor(t,n,r,i,l=_f,o){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new IT(n,r,i),this.cancelAllRequests=new Promise(c=>{this.deleteService=()=>Promise.resolve(c())});try{const c=new URL(l);this.customDomain=c.origin+(c.pathname==="/"?"":c.pathname),this.region=_f}catch{this.customDomain=null,this.region=l}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function OT(s,t,n){s.emulatorOrigin=`http://${t}:${n}`}function qT(s,t,n){return r=>PT(s,t,r,{})}async function LT(s,t,n,r){n["Content-Type"]="application/json";let i;try{i=await r(s,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let l=null;try{l=await i.json()}catch{}return{status:i.status,json:l}}function PT(s,t,n,r){const i=s._url(t);return BT(s,i,n,r)}async function BT(s,t,n,r){n=Af(n);const i={data:n},l={},o=await s.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(l.Authorization="Bearer "+o.authToken),o.messagingToken&&(l["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(l["X-Firebase-AppCheck"]=o.appCheckToken);const c=r.timeout||7e4,d=DT(c),u=await Promise.race([LT(t,i,l,s.fetchImpl),d.promise,s.cancelAllRequests]);if(d.cancel(),!u)throw new Nl("cancelled","Firebase Functions instance was deleted.");const p=zT(u.status,u.json);if(p)throw p;if(!u.json)throw new Nl("internal","Response is not valid JSON object.");let g=u.json.data;if(typeof g>"u"&&(g=u.json.result),typeof g>"u")throw new Nl("internal","Response is missing data field.");return{data:Xd(g)}}const k2="@firebase/functions",T2="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="auth-internal",UT="app-check-internal",FT="messaging-internal";function VT(s,t){const n=(r,{instanceIdentifier:i})=>{const l=r.getProvider("app").getImmediate(),o=r.getProvider(HT),c=r.getProvider(FT),d=r.getProvider(UT);return new RT(l,o,c,d,i,s)};Ca(new Li(cx,n,"PUBLIC").setMultipleInstances(!0)),Un(k2,T2,t),Un(k2,T2,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(s=Qy(),t=_f){const r=Jp(Gn(s),cx).getImmediate({identifier:t}),i=Vw("functions");return i&&qb(r,...i),r}function qb(s,t,n){OT(Gn(s),t,n)}function yi(s,t,n){return qT(Gn(s),t)}VT(fetch.bind(self));const Ef={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},ZT=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1");let Ah=null,U0=null,_h=null;function Lb(){if(!Ah){const s=a9();s.length>0?Ah=s[0]:Ah=Wy(Ef)}return Ah}function F0(){return U0||(U0=xT(Lb())),U0}function ga(){if(!_h&&(_h=KT(Lb()),ZT&&typeof window<"u"&&new URLSearchParams(window.location.search).get("emulator")==="true"))try{qb(_h,"localhost",5001)}catch{}return _h}function va(){return!!Ef.apiKey&&Ef.apiKey!=="YOUR_API_KEY"}const XT=22242,YT=5e3,WT=2e3,QT=3e4,JT=3e4,eS=30*1e3,tS=2e3,sS=60*60*1e3,Cf=["wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net"];class nS{constructor(t="",n=!0){wn(this,"prefix");wn(this,"enabled");this.prefix=t?`[${t}]`:"",this.enabled=n}log(t,n,r){if(!this.enabled)return;const i=this.prefix?`${this.prefix} ${n}`:n;if(t==="debug"||t==="info")return;const l=console[t]||console.log;r!==void 0?l(i,r):l(i)}debug(t,n){this.log("debug",t,n)}info(t,n){this.log("info",t,n)}warn(t,n){this.log("warn",t,n)}error(t,n){this.log("error",t,n)}setEnabled(t){this.enabled=t}}const V0={};function Wn(s){const t=s||"__default__";return V0[t]||(V0[t]=new nS(s)),V0[t]}const ja=Wn("NostrUtils"),Mf="qpzry9x8gf2tvdw0s3jn54khce6mua7l",rS=[996825010,642813549,513874426,1027748829,705979059];function Pb(s){let t=1;for(const n of s){const r=t>>25;t=(t&33554431)<<5^n;for(let i=0;i<5;i++)r>>i&1&&(t^=rS[i])}return t}function Bb(s){const t=[];for(const n of s)t.push(n.charCodeAt(0)>>5);t.push(0);for(const n of s)t.push(n.charCodeAt(0)&31);return t}function iS(s,t){return Pb([...Bb(s),...t])===1}function aS(s,t){const n=[...Bb(s),...t,0,0,0,0,0,0],r=Pb(n)^1,i=[];for(let l=0;l<6;l++)i.push(r>>5*(5-l)&31);return i}function Hb(s,t,n,r){let i=0,l=0;const o=[],c=(1<<n)-1;for(const d of s){if(d<0||d>>t)return null;for(i=i<<t|d,l+=t;l>=n;)l-=n,o.push(i>>l&c)}if(r)l>0&&o.push(i<<n-l&c);else if(l>=t||i<<n-l&c)return null;return o}function lS(s,t){const n=Hb(t,8,5,!0);if(!n)throw new Error("Failed to convert data to 5-bit groups");const r=aS(s,n);let i=s+"1";for(const l of n)i+=Mf[l];for(const l of r)i+=Mf[l];return i}function oS(s){const t=s.toLowerCase(),n=s.toUpperCase();if(s!==t&&s!==n)return null;const r=t,i=r.lastIndexOf("1");if(i<1||i+7>r.length||r.length>90)return null;const l=r.slice(0,i),o=r.slice(i+1),c=[];for(const p of o){const g=Mf.indexOf(p);if(g===-1)return null;c.push(g)}if(!iS(l,c))return null;const d=c.slice(0,-6),u=Hb(new Uint8Array(d),5,8,!1);return u?{hrp:l,data:new Uint8Array(u)}:null}function cS(s){if(s.length%2!==0)throw new Error("Hex string must have even length");const t=new Uint8Array(s.length/2);for(let n=0;n<s.length;n+=2)t[n/2]=parseInt(s.slice(n,n+2),16);return t}function hS(s){return Array.from(s).map(t=>t.toString(16).padStart(2,"0")).join("")}function dS(s){if(s.length!==64)throw new Error("Pubkey must be 32 bytes (64 hex characters)");const t=cS(s);return lS("npub",t)}function Ub(s){const t=oS(s);if(!t||t.hrp!=="npub")throw new Error("Invalid npub");return hS(t.data)}function Yd(s,t=8){return s.length<=t*2+3?s:`${s.slice(0,t)}...${s.slice(-t)}`}function Wd(){return typeof window<"u"&&window.nostr!==void 0}function uS(s=3e3){return new Promise(t=>{if(Wd()){t(!0);return}const n=Date.now(),r=setInterval(()=>{Wd()?(clearInterval(r),t(!0)):Date.now()-n>s&&(clearInterval(r),t(!1))},100)})}function Fb(s,t){return new Promise(n=>{let r=!1,i=null,l=null;const o=()=>{r||(r=!0,l&&(clearTimeout(l),l=null),i&&i.readyState!==WebSocket.CLOSED&&i.close())};l=setTimeout(()=>{ja.debug(`WebSocket timeout for relay: ${s}`),o(),n(null)},YT);try{i=new WebSocket(s)}catch(d){ja.debug(`Failed to create WebSocket for relay ${s}:`,d),o(),n(null);return}const c=Math.random().toString(36).substring(2,15);i.onopen=()=>{if(r||!i)return;const d=JSON.stringify(["REQ",c,{kinds:[0],authors:[t],limit:1}]);i.send(d)},i.onmessage=d=>{if(!r)try{const u=JSON.parse(d.data);if(u[0]==="EVENT"&&u[1]===c){const p=JSON.parse(u[2].content);o(),n({name:p.name||p.display_name,display_name:p.display_name,nip05:p.nip05,picture:p.picture,about:p.about})}else u[0]==="EOSE"&&(o(),n(null))}catch(u){ja.debug(`Failed to parse WebSocket message from ${s}:`,u)}},i.onerror=d=>{ja.debug(`WebSocket error for relay ${s}:`,d),o(),n(null)},i.onclose=()=>{r||(o(),n(null))}})}async function mS(s){try{const t=Ub(s);for(const n of Cf)try{const r=await Fb(n,t);if(r)return r}catch(r){ja.debug(`Failed to fetch profile from relay ${n}:`,r)}return ja.debug(`No profile found for npub across ${Cf.length} relays`),null}catch(t){return ja.debug("Failed to convert npub to hex:",t),null}}async function fS(s){const t=new Map,n=10;for(let r=0;r<s.length;r+=n){const l=s.slice(r,r+n).map(async o=>{const c=await mS(o);c&&t.set(o,c)});await Promise.all(l)}return t}const pS=["ba","aa","crypto","linalg","advlinalg","template","islr","ra","calc1","calc_lib_art","west_graphs"];function xS(s){return pS.includes(s)}function ue(s,t,n){function r(c,d){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:d,constr:o,traits:new Set},enumerable:!1}),c._zod.traits.has(s))return;c._zod.traits.add(s),t(c,d);const u=o.prototype,p=Object.keys(u);for(let g=0;g<p.length;g++){const v=p[g];v in c||(c[v]=u[v].bind(c))}}const i=(n==null?void 0:n.Parent)??Object;class l extends i{}Object.defineProperty(l,"name",{value:s});function o(c){var d;const u=n!=null&&n.Parent?new l:this;r(u,c),(d=u._zod).deferred??(d.deferred=[]);for(const p of u._zod.deferred)p();return u}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:c=>{var d,u;return n!=null&&n.Parent&&c instanceof n.Parent?!0:(u=(d=c==null?void 0:c._zod)==null?void 0:d.traits)==null?void 0:u.has(s)}}),Object.defineProperty(o,"name",{value:s}),o}class Al extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Vb extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Kb={};function Pi(s){return Kb}function Zb(s){const t=Object.values(s).filter(r=>typeof r=="number");return Object.entries(s).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function $f(s,t){return typeof t=="bigint"?t.toString():t}function hx(s){return{get value(){{const t=s();return Object.defineProperty(this,"value",{value:t}),t}}}}function dx(s){return s==null}function ux(s){const t=s.startsWith("^")?1:0,n=s.endsWith("$")?s.length-1:s.length;return s.slice(t,n)}function gS(s,t){const n=(s.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const d=r.match(/\d?e-(\d?)/);d!=null&&d[1]&&(i=Number.parseInt(d[1]))}const l=n>i?n:i,o=Number.parseInt(s.toFixed(l).replace(".","")),c=Number.parseInt(t.toFixed(l).replace(".",""));return o%c/10**l}const S2=Symbol("evaluating");function ht(s,t,n){let r;Object.defineProperty(s,t,{get(){if(r!==S2)return r===void 0&&(r=S2,r=n()),r},set(i){Object.defineProperty(s,t,{value:i})},configurable:!0})}function Oa(s,t,n){Object.defineProperty(s,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function qa(...s){const t={};for(const n of s){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function N2(s){return JSON.stringify(s)}function vS(s){return s.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Xb="captureStackTrace"in Error?Error.captureStackTrace:(...s)=>{};function Qd(s){return typeof s=="object"&&s!==null&&!Array.isArray(s)}const jS=hx(()=>{var s;if(typeof navigator<"u"&&((s=navigator==null?void 0:navigator.userAgent)!=null&&s.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Ll(s){if(Qd(s)===!1)return!1;const t=s.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Qd(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Yb(s){return Ll(s)?{...s}:Array.isArray(s)?[...s]:s}const yS=new Set(["string","number","symbol"]);function Mu(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Zi(s,t,n){const r=new s._zod.constr(t??s._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=s),r}function Ce(s){const t=s;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function bS(s){return Object.keys(s).filter(t=>s[t]._zod.optin==="optional"&&s[t]._zod.optout==="optional")}const wS={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function kS(s,t){const n=s._zod.def,r=qa(s._zod.def,{get shape(){const i={};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(i[l]=n.shape[l])}return Oa(this,"shape",i),i},checks:[]});return Zi(s,r)}function TS(s,t){const n=s._zod.def,r=qa(s._zod.def,{get shape(){const i={...s._zod.def.shape};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&delete i[l]}return Oa(this,"shape",i),i},checks:[]});return Zi(s,r)}function SS(s,t){if(!Ll(t))throw new Error("Invalid input to extend: expected a plain object");const n=s._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=qa(s._zod.def,{get shape(){const l={...s._zod.def.shape,...t};return Oa(this,"shape",l),l},checks:[]});return Zi(s,i)}function NS(s,t){if(!Ll(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...s._zod.def,get shape(){const r={...s._zod.def.shape,...t};return Oa(this,"shape",r),r},checks:s._zod.def.checks};return Zi(s,n)}function AS(s,t){const n=qa(s._zod.def,{get shape(){const r={...s._zod.def.shape,...t._zod.def.shape};return Oa(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Zi(s,n)}function _S(s,t,n){const r=qa(t._zod.def,{get shape(){const i=t._zod.def.shape,l={...i};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(l[o]=s?new s({type:"optional",innerType:i[o]}):i[o])}else for(const o in i)l[o]=s?new s({type:"optional",innerType:i[o]}):i[o];return Oa(this,"shape",l),l},checks:[]});return Zi(t,r)}function ES(s,t,n){const r=qa(t._zod.def,{get shape(){const i=t._zod.def.shape,l={...i};if(n)for(const o in n){if(!(o in l))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(l[o]=new s({type:"nonoptional",innerType:i[o]}))}else for(const o in i)l[o]=new s({type:"nonoptional",innerType:i[o]});return Oa(this,"shape",l),l},checks:[]});return Zi(t,r)}function fl(s,t=0){var n;if(s.aborted===!0)return!0;for(let r=t;r<s.issues.length;r++)if(((n=s.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function pl(s,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(s),n})}function Eh(s){return typeof s=="string"?s:s==null?void 0:s.message}function Bi(s,t,n){var i,l,o,c,d,u;const r={...s,path:s.path??[]};if(!s.message){const p=Eh((o=(l=(i=s.inst)==null?void 0:i._zod.def)==null?void 0:l.error)==null?void 0:o.call(l,s))??Eh((c=t==null?void 0:t.error)==null?void 0:c.call(t,s))??Eh((d=n.customError)==null?void 0:d.call(n,s))??Eh((u=n.localeError)==null?void 0:u.call(n,s))??"Invalid input";r.message=p}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function mx(s){return Array.isArray(s)?"array":typeof s=="string"?"string":"unknown"}function Sc(...s){const[t,n,r]=s;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const Wb=(s,t)=>{s.name="$ZodError",Object.defineProperty(s,"_zod",{value:s._zod,enumerable:!1}),Object.defineProperty(s,"issues",{value:t,enumerable:!1}),s.message=JSON.stringify(t,$f,2),Object.defineProperty(s,"toString",{value:()=>s.message,enumerable:!1})},Qb=ue("$ZodError",Wb),Jb=ue("$ZodError",Wb,{Parent:Error});function CS(s,t=n=>n.message){const n={},r=[];for(const i of s.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function MS(s,t=n=>n.message){const n={_errors:[]},r=i=>{for(const l of i.issues)if(l.code==="invalid_union"&&l.errors.length)l.errors.map(o=>r({issues:o}));else if(l.code==="invalid_key")r({issues:l.issues});else if(l.code==="invalid_element")r({issues:l.issues});else if(l.path.length===0)n._errors.push(t(l));else{let o=n,c=0;for(;c<l.path.length;){const d=l.path[c];c===l.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(t(l))):o[d]=o[d]||{_errors:[]},o=o[d],c++}}};return r(s),n}const fx=s=>(t,n,r,i)=>{const l=r?Object.assign(r,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},l);if(o instanceof Promise)throw new Al;if(o.issues.length){const c=new((i==null?void 0:i.Err)??s)(o.issues.map(d=>Bi(d,l,Pi())));throw Xb(c,i==null?void 0:i.callee),c}return o.value},px=s=>async(t,n,r,i)=>{const l=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},l);if(o instanceof Promise&&(o=await o),o.issues.length){const c=new((i==null?void 0:i.Err)??s)(o.issues.map(d=>Bi(d,l,Pi())));throw Xb(c,i==null?void 0:i.callee),c}return o.value},$u=s=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},l=t._zod.run({value:n,issues:[]},i);if(l instanceof Promise)throw new Al;return l.issues.length?{success:!1,error:new(s??Qb)(l.issues.map(o=>Bi(o,i,Pi())))}:{success:!0,data:l.value}},$S=$u(Jb),Gu=s=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let l=t._zod.run({value:n,issues:[]},i);return l instanceof Promise&&(l=await l),l.issues.length?{success:!1,error:new s(l.issues.map(o=>Bi(o,i,Pi())))}:{success:!0,data:l.value}},GS=Gu(Jb),zS=s=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return fx(s)(t,n,i)},IS=s=>(t,n,r)=>fx(s)(t,n,r),DS=s=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return px(s)(t,n,i)},RS=s=>async(t,n,r)=>px(s)(t,n,r),OS=s=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return $u(s)(t,n,i)},qS=s=>(t,n,r)=>$u(s)(t,n,r),LS=s=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Gu(s)(t,n,i)},PS=s=>async(t,n,r)=>Gu(s)(t,n,r),BS=/^[cC][^\s-]{8,}$/,HS=/^[0-9a-z]+$/,US=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,FS=/^[0-9a-vA-V]{20}$/,VS=/^[A-Za-z0-9]{27}$/,KS=/^[a-zA-Z0-9_-]{21}$/,ZS=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,XS=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,A2=s=>s?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${s}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,YS=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,WS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function QS(){return new RegExp(WS,"u")}const JS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,eN=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,tN=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,sN=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nN=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,e3=/^[A-Za-z0-9_-]*$/,rN=/^\+(?:[0-9]){6,14}[0-9]$/,t3="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",iN=new RegExp(`^${t3}$`);function s3(s){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof s.precision=="number"?s.precision===-1?`${t}`:s.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${s.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function aN(s){return new RegExp(`^${s3(s)}$`)}function lN(s){const t=s3({precision:s.precision}),n=["Z"];s.local&&n.push(""),s.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${t3}T(?:${r})$`)}const oN=s=>{const t=s?`[\\s\\S]{${(s==null?void 0:s.minimum)??0},${(s==null?void 0:s.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},cN=/^-?\d+$/,hN=/^-?\d+(?:\.\d+)?/,dN=/^(?:true|false)$/i,uN=/^[^A-Z]*$/,mN=/^[^a-z]*$/,Is=ue("$ZodCheck",(s,t)=>{var n;s._zod??(s._zod={}),s._zod.def=t,(n=s._zod).onattach??(n.onattach=[])}),n3={number:"number",bigint:"bigint",object:"date"},r3=ue("$ZodCheckLessThan",(s,t)=>{Is.init(s,t);const n=n3[typeof t.value];s._zod.onattach.push(r=>{const i=r._zod.bag,l=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<l&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),s._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:s,continue:!t.abort})}}),i3=ue("$ZodCheckGreaterThan",(s,t)=>{Is.init(s,t);const n=n3[typeof t.value];s._zod.onattach.push(r=>{const i=r._zod.bag,l=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>l&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),s._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:s,continue:!t.abort})}}),fN=ue("$ZodCheckMultipleOf",(s,t)=>{Is.init(s,t),s._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),s._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):gS(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:s,continue:!t.abort})}}),pN=ue("$ZodCheckNumberFormat",(s,t)=>{var o;Is.init(s,t),t.format=t.format||"float64";const n=(o=t.format)==null?void 0:o.includes("int"),r=n?"int":"number",[i,l]=wS[t.format];s._zod.onattach.push(c=>{const d=c._zod.bag;d.format=t.format,d.minimum=i,d.maximum=l,n&&(d.pattern=cN)}),s._zod.check=c=>{const d=c.value;if(n){if(!Number.isInteger(d)){c.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:d,inst:s});return}if(!Number.isSafeInteger(d)){d>0?c.issues.push({input:d,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:s,origin:r,continue:!t.abort}):c.issues.push({input:d,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:s,origin:r,continue:!t.abort});return}}d<i&&c.issues.push({origin:"number",input:d,code:"too_small",minimum:i,inclusive:!0,inst:s,continue:!t.abort}),d>l&&c.issues.push({origin:"number",input:d,code:"too_big",maximum:l,inst:s})}}),xN=ue("$ZodCheckMaxLength",(s,t)=>{var n;Is.init(s,t),(n=s._zod.def).when??(n.when=r=>{const i=r.value;return!dx(i)&&i.length!==void 0}),s._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),s._zod.check=r=>{const i=r.value;if(i.length<=t.maximum)return;const o=mx(i);r.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:s,continue:!t.abort})}}),gN=ue("$ZodCheckMinLength",(s,t)=>{var n;Is.init(s,t),(n=s._zod.def).when??(n.when=r=>{const i=r.value;return!dx(i)&&i.length!==void 0}),s._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),s._zod.check=r=>{const i=r.value;if(i.length>=t.minimum)return;const o=mx(i);r.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:s,continue:!t.abort})}}),vN=ue("$ZodCheckLengthEquals",(s,t)=>{var n;Is.init(s,t),(n=s._zod.def).when??(n.when=r=>{const i=r.value;return!dx(i)&&i.length!==void 0}),s._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),s._zod.check=r=>{const i=r.value,l=i.length;if(l===t.length)return;const o=mx(i),c=l>t.length;r.issues.push({origin:o,...c?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:s,continue:!t.abort})}}),zu=ue("$ZodCheckStringFormat",(s,t)=>{var n,r;Is.init(s,t),s._zod.onattach.push(i=>{const l=i._zod.bag;l.format=t.format,t.pattern&&(l.patterns??(l.patterns=new Set),l.patterns.add(t.pattern))}),t.pattern?(n=s._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:s,continue:!t.abort})}):(r=s._zod).check??(r.check=()=>{})}),jN=ue("$ZodCheckRegex",(s,t)=>{zu.init(s,t),s._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:s,continue:!t.abort})}}),yN=ue("$ZodCheckLowerCase",(s,t)=>{t.pattern??(t.pattern=uN),zu.init(s,t)}),bN=ue("$ZodCheckUpperCase",(s,t)=>{t.pattern??(t.pattern=mN),zu.init(s,t)}),wN=ue("$ZodCheckIncludes",(s,t)=>{Is.init(s,t);const n=Mu(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,s._zod.onattach.push(i=>{const l=i._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(r)}),s._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:s,continue:!t.abort})}}),kN=ue("$ZodCheckStartsWith",(s,t)=>{Is.init(s,t);const n=new RegExp(`^${Mu(t.prefix)}.*`);t.pattern??(t.pattern=n),s._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),s._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:s,continue:!t.abort})}}),TN=ue("$ZodCheckEndsWith",(s,t)=>{Is.init(s,t);const n=new RegExp(`.*${Mu(t.suffix)}$`);t.pattern??(t.pattern=n),s._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),s._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:s,continue:!t.abort})}}),SN=ue("$ZodCheckOverwrite",(s,t)=>{Is.init(s,t),s._zod.check=n=>{n.value=t.tx(n.value)}});class NN{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(o=>o),i=Math.min(...r.map(o=>o.length-o.trimStart().length)),l=r.map(o=>o.slice(i)).map(o=>" ".repeat(this.indent*2)+o);for(const o of l)this.content.push(o)}compile(){const t=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(l=>`  ${l}`)];return new t(...n,i.join(`
`))}}const AN={major:4,minor:2,patch:1},_t=ue("$ZodType",(s,t)=>{var i;var n;s??(s={}),s._zod.def=t,s._zod.bag=s._zod.bag||{},s._zod.version=AN;const r=[...s._zod.def.checks??[]];s._zod.traits.has("$ZodCheck")&&r.unshift(s);for(const l of r)for(const o of l._zod.onattach)o(s);if(r.length===0)(n=s._zod).deferred??(n.deferred=[]),(i=s._zod.deferred)==null||i.push(()=>{s._zod.run=s._zod.parse});else{const l=(c,d,u)=>{let p=fl(c),g;for(const v of d){if(v._zod.def.when){if(!v._zod.def.when(c))continue}else if(p)continue;const y=c.issues.length,M=v._zod.check(c);if(M instanceof Promise&&(u==null?void 0:u.async)===!1)throw new Al;if(g||M instanceof Promise)g=(g??Promise.resolve()).then(async()=>{await M,c.issues.length!==y&&(p||(p=fl(c,y)))});else{if(c.issues.length===y)continue;p||(p=fl(c,y))}}return g?g.then(()=>c):c},o=(c,d,u)=>{if(fl(c))return c.aborted=!0,c;const p=l(d,r,u);if(p instanceof Promise){if(u.async===!1)throw new Al;return p.then(g=>s._zod.parse(g,u))}return s._zod.parse(p,u)};s._zod.run=(c,d)=>{if(d.skipChecks)return s._zod.parse(c,d);if(d.direction==="backward"){const p=s._zod.parse({value:c.value,issues:[]},{...d,skipChecks:!0});return p instanceof Promise?p.then(g=>o(g,c,d)):o(p,c,d)}const u=s._zod.parse(c,d);if(u instanceof Promise){if(d.async===!1)throw new Al;return u.then(p=>l(p,r,d))}return l(u,r,d)}}s["~standard"]={validate:l=>{var o;try{const c=$S(s,l);return c.success?{value:c.data}:{issues:(o=c.error)==null?void 0:o.issues}}catch{return GS(s,l).then(d=>{var u;return d.success?{value:d.data}:{issues:(u=d.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),xx=ue("$ZodString",(s,t)=>{var n;_t.init(s,t),s._zod.pattern=[...((n=s==null?void 0:s._zod.bag)==null?void 0:n.patterns)??[]].pop()??oN(s._zod.bag),s._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:s}),r}}),gt=ue("$ZodStringFormat",(s,t)=>{zu.init(s,t),xx.init(s,t)}),_N=ue("$ZodGUID",(s,t)=>{t.pattern??(t.pattern=XS),gt.init(s,t)}),EN=ue("$ZodUUID",(s,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=A2(r))}else t.pattern??(t.pattern=A2());gt.init(s,t)}),CN=ue("$ZodEmail",(s,t)=>{t.pattern??(t.pattern=YS),gt.init(s,t)}),MN=ue("$ZodURL",(s,t)=>{gt.init(s,t),s._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:s,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:s,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:s,continue:!t.abort})}}}),$N=ue("$ZodEmoji",(s,t)=>{t.pattern??(t.pattern=QS()),gt.init(s,t)}),GN=ue("$ZodNanoID",(s,t)=>{t.pattern??(t.pattern=KS),gt.init(s,t)}),zN=ue("$ZodCUID",(s,t)=>{t.pattern??(t.pattern=BS),gt.init(s,t)}),IN=ue("$ZodCUID2",(s,t)=>{t.pattern??(t.pattern=HS),gt.init(s,t)}),DN=ue("$ZodULID",(s,t)=>{t.pattern??(t.pattern=US),gt.init(s,t)}),RN=ue("$ZodXID",(s,t)=>{t.pattern??(t.pattern=FS),gt.init(s,t)}),ON=ue("$ZodKSUID",(s,t)=>{t.pattern??(t.pattern=VS),gt.init(s,t)}),qN=ue("$ZodISODateTime",(s,t)=>{t.pattern??(t.pattern=lN(t)),gt.init(s,t)}),LN=ue("$ZodISODate",(s,t)=>{t.pattern??(t.pattern=iN),gt.init(s,t)}),PN=ue("$ZodISOTime",(s,t)=>{t.pattern??(t.pattern=aN(t)),gt.init(s,t)}),BN=ue("$ZodISODuration",(s,t)=>{t.pattern??(t.pattern=ZS),gt.init(s,t)}),HN=ue("$ZodIPv4",(s,t)=>{t.pattern??(t.pattern=JS),gt.init(s,t),s._zod.bag.format="ipv4"}),UN=ue("$ZodIPv6",(s,t)=>{t.pattern??(t.pattern=eN),gt.init(s,t),s._zod.bag.format="ipv6",s._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:s,continue:!t.abort})}}}),FN=ue("$ZodCIDRv4",(s,t)=>{t.pattern??(t.pattern=tN),gt.init(s,t)}),VN=ue("$ZodCIDRv6",(s,t)=>{t.pattern??(t.pattern=sN),gt.init(s,t),s._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,l]=r;if(!l)throw new Error;const o=Number(l);if(`${o}`!==l)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:s,continue:!t.abort})}}});function a3(s){if(s==="")return!0;if(s.length%4!==0)return!1;try{return atob(s),!0}catch{return!1}}const KN=ue("$ZodBase64",(s,t)=>{t.pattern??(t.pattern=nN),gt.init(s,t),s._zod.bag.contentEncoding="base64",s._zod.check=n=>{a3(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:s,continue:!t.abort})}});function ZN(s){if(!e3.test(s))return!1;const t=s.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return a3(n)}const XN=ue("$ZodBase64URL",(s,t)=>{t.pattern??(t.pattern=e3),gt.init(s,t),s._zod.bag.contentEncoding="base64url",s._zod.check=n=>{ZN(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:s,continue:!t.abort})}}),YN=ue("$ZodE164",(s,t)=>{t.pattern??(t.pattern=rN),gt.init(s,t)});function WN(s,t=null){try{const n=s.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const QN=ue("$ZodJWT",(s,t)=>{gt.init(s,t),s._zod.check=n=>{WN(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:s,continue:!t.abort})}}),l3=ue("$ZodNumber",(s,t)=>{_t.init(s,t),s._zod.pattern=s._zod.bag.pattern??hN,s._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const l=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:s,...l?{received:l}:{}}),n}}),JN=ue("$ZodNumberFormat",(s,t)=>{pN.init(s,t),l3.init(s,t)}),eA=ue("$ZodBoolean",(s,t)=>{_t.init(s,t),s._zod.pattern=dN,s._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:s}),n}}),tA=ue("$ZodUnknown",(s,t)=>{_t.init(s,t),s._zod.parse=n=>n}),sA=ue("$ZodNever",(s,t)=>{_t.init(s,t),s._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:s}),n)});function _2(s,t,n){s.issues.length&&t.issues.push(...pl(n,s.issues)),t.value[n]=s.value}const nA=ue("$ZodArray",(s,t)=>{_t.init(s,t),s._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:s}),n;n.value=Array(i.length);const l=[];for(let o=0;o<i.length;o++){const c=i[o],d=t.element._zod.run({value:c,issues:[]},r);d instanceof Promise?l.push(d.then(u=>_2(u,n,o))):_2(d,n,o)}return l.length?Promise.all(l).then(()=>n):n}});function Jd(s,t,n,r){s.issues.length&&t.issues.push(...pl(n,s.issues)),s.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=s.value}function o3(s){var r,i,l,o;const t=Object.keys(s.shape);for(const c of t)if(!((o=(l=(i=(r=s.shape)==null?void 0:r[c])==null?void 0:i._zod)==null?void 0:l.traits)!=null&&o.has("$ZodType")))throw new Error(`Invalid element at key "${c}": expected a Zod schema`);const n=bS(s.shape);return{...s,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function c3(s,t,n,r,i,l){const o=[],c=i.keySet,d=i.catchall._zod,u=d.def.type;for(const p in t){if(c.has(p))continue;if(u==="never"){o.push(p);continue}const g=d.run({value:t[p],issues:[]},r);g instanceof Promise?s.push(g.then(v=>Jd(v,n,p,t))):Jd(g,n,p,t)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:l}),s.length?Promise.all(s).then(()=>n):n}const rA=ue("$ZodObject",(s,t)=>{_t.init(s,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const c=t.shape;Object.defineProperty(t,"shape",{get:()=>{const d={...c};return Object.defineProperty(t,"shape",{value:d}),d}})}const r=hx(()=>o3(t));ht(s._zod,"propValues",()=>{const c=t.shape,d={};for(const u in c){const p=c[u]._zod;if(p.values){d[u]??(d[u]=new Set);for(const g of p.values)d[u].add(g)}}return d});const i=Qd,l=t.catchall;let o;s._zod.parse=(c,d)=>{o??(o=r.value);const u=c.value;if(!i(u))return c.issues.push({expected:"object",code:"invalid_type",input:u,inst:s}),c;c.value={};const p=[],g=o.shape;for(const v of o.keys){const M=g[v]._zod.run({value:u[v],issues:[]},d);M instanceof Promise?p.push(M.then(L=>Jd(L,c,v,u))):Jd(M,c,v,u)}return l?c3(p,u,c,d,r.value,s):p.length?Promise.all(p).then(()=>c):c}}),iA=ue("$ZodObjectJIT",(s,t)=>{rA.init(s,t);const n=s._zod.parse,r=hx(()=>o3(t)),i=v=>{const y=new NN(["shape","payload","ctx"]),M=r.value,L=A=>{const z=N2(A);return`shape[${z}]._zod.run({ value: input[${z}], issues: [] }, ctx)`};y.write("const input = payload.value;");const F=Object.create(null);let T=0;for(const A of M.keys)F[A]=`key_${T++}`;y.write("const newResult = {};");for(const A of M.keys){const z=F[A],Y=N2(A);y.write(`const ${z} = ${L(A)};`),y.write(`
        if (${z}.issues.length) {
          payload.issues = payload.issues.concat(${z}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Y}, ...iss.path] : [${Y}]
          })));
        }
        
        
        if (${z}.value === undefined) {
          if (${Y} in input) {
            newResult[${Y}] = undefined;
          }
        } else {
          newResult[${Y}] = ${z}.value;
        }
        
      `)}y.write("payload.value = newResult;"),y.write("return payload;");const w=y.compile();return(A,z)=>w(v,A,z)};let l;const o=Qd,c=!Kb.jitless,u=c&&jS.value,p=t.catchall;let g;s._zod.parse=(v,y)=>{g??(g=r.value);const M=v.value;return o(M)?c&&u&&(y==null?void 0:y.async)===!1&&y.jitless!==!0?(l||(l=i(t.shape)),v=l(v,y),p?c3([],M,v,y,g,s):v):n(v,y):(v.issues.push({expected:"object",code:"invalid_type",input:M,inst:s}),v)}});function E2(s,t,n,r){for(const l of s)if(l.issues.length===0)return t.value=l.value,t;const i=s.filter(l=>!fl(l));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:s.map(l=>l.issues.map(o=>Bi(o,r,Pi())))}),t)}const aA=ue("$ZodUnion",(s,t)=>{_t.init(s,t),ht(s._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),ht(s._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),ht(s._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),ht(s._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(l=>l._zod.pattern);return new RegExp(`^(${i.map(l=>ux(l.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;s._zod.parse=(i,l)=>{if(n)return r(i,l);let o=!1;const c=[];for(const d of t.options){const u=d._zod.run({value:i.value,issues:[]},l);if(u instanceof Promise)c.push(u),o=!0;else{if(u.issues.length===0)return u;c.push(u)}}return o?Promise.all(c).then(d=>E2(d,i,s,l)):E2(c,i,s,l)}}),lA=ue("$ZodIntersection",(s,t)=>{_t.init(s,t),s._zod.parse=(n,r)=>{const i=n.value,l=t.left._zod.run({value:i,issues:[]},r),o=t.right._zod.run({value:i,issues:[]},r);return l instanceof Promise||o instanceof Promise?Promise.all([l,o]).then(([d,u])=>C2(n,d,u)):C2(n,l,o)}});function Gf(s,t){if(s===t)return{valid:!0,data:s};if(s instanceof Date&&t instanceof Date&&+s==+t)return{valid:!0,data:s};if(Ll(s)&&Ll(t)){const n=Object.keys(t),r=Object.keys(s).filter(l=>n.indexOf(l)!==-1),i={...s,...t};for(const l of r){const o=Gf(s[l],t[l]);if(!o.valid)return{valid:!1,mergeErrorPath:[l,...o.mergeErrorPath]};i[l]=o.data}return{valid:!0,data:i}}if(Array.isArray(s)&&Array.isArray(t)){if(s.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<s.length;r++){const i=s[r],l=t[r],o=Gf(i,l);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function C2(s,t,n){if(t.issues.length&&s.issues.push(...t.issues),n.issues.length&&s.issues.push(...n.issues),fl(s))return s;const r=Gf(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return s.value=r.data,s}const oA=ue("$ZodRecord",(s,t)=>{_t.init(s,t),s._zod.parse=(n,r)=>{const i=n.value;if(!Ll(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:s}),n;const l=[],o=t.keyType._zod.values;if(o){n.value={};const c=new Set;for(const u of o)if(typeof u=="string"||typeof u=="number"||typeof u=="symbol"){c.add(typeof u=="number"?u.toString():u);const p=t.valueType._zod.run({value:i[u],issues:[]},r);p instanceof Promise?l.push(p.then(g=>{g.issues.length&&n.issues.push(...pl(u,g.issues)),n.value[u]=g.value})):(p.issues.length&&n.issues.push(...pl(u,p.issues)),n.value[u]=p.value)}let d;for(const u in i)c.has(u)||(d=d??[],d.push(u));d&&d.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:s,keys:d})}else{n.value={};for(const c of Reflect.ownKeys(i)){if(c==="__proto__")continue;const d=t.keyType._zod.run({value:c,issues:[]},r);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(d.issues.length){t.mode==="loose"?n.value[c]=i[c]:n.issues.push({code:"invalid_key",origin:"record",issues:d.issues.map(p=>Bi(p,r,Pi())),input:c,path:[c],inst:s});continue}const u=t.valueType._zod.run({value:i[c],issues:[]},r);u instanceof Promise?l.push(u.then(p=>{p.issues.length&&n.issues.push(...pl(c,p.issues)),n.value[d.value]=p.value})):(u.issues.length&&n.issues.push(...pl(c,u.issues)),n.value[d.value]=u.value)}}return l.length?Promise.all(l).then(()=>n):n}}),cA=ue("$ZodEnum",(s,t)=>{_t.init(s,t);const n=Zb(t.entries),r=new Set(n);s._zod.values=r,s._zod.pattern=new RegExp(`^(${n.filter(i=>yS.has(typeof i)).map(i=>typeof i=="string"?Mu(i):i.toString()).join("|")})$`),s._zod.parse=(i,l)=>{const o=i.value;return r.has(o)||i.issues.push({code:"invalid_value",values:n,input:o,inst:s}),i}}),hA=ue("$ZodTransform",(s,t)=>{_t.init(s,t),s._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Vb(s.constructor.name);const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(o=>(n.value=o,n));if(i instanceof Promise)throw new Al;return n.value=i,n}});function M2(s,t){return s.issues.length&&t===void 0?{issues:[],value:void 0}:s}const dA=ue("$ZodOptional",(s,t)=>{_t.init(s,t),s._zod.optin="optional",s._zod.optout="optional",ht(s._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ht(s._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${ux(n.source)})?$`):void 0}),s._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(l=>M2(l,n.value)):M2(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),uA=ue("$ZodNullable",(s,t)=>{_t.init(s,t),ht(s._zod,"optin",()=>t.innerType._zod.optin),ht(s._zod,"optout",()=>t.innerType._zod.optout),ht(s._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${ux(n.source)}|null)$`):void 0}),ht(s._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),s._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),mA=ue("$ZodDefault",(s,t)=>{_t.init(s,t),s._zod.optin="optional",ht(s._zod,"values",()=>t.innerType._zod.values),s._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(l=>$2(l,t)):$2(i,t)}});function $2(s,t){return s.value===void 0&&(s.value=t.defaultValue),s}const fA=ue("$ZodPrefault",(s,t)=>{_t.init(s,t),s._zod.optin="optional",ht(s._zod,"values",()=>t.innerType._zod.values),s._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),pA=ue("$ZodNonOptional",(s,t)=>{_t.init(s,t),ht(s._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),s._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(l=>G2(l,s)):G2(i,s)}});function G2(s,t){return!s.issues.length&&s.value===void 0&&s.issues.push({code:"invalid_type",expected:"nonoptional",input:s.value,inst:t}),s}const xA=ue("$ZodCatch",(s,t)=>{_t.init(s,t),ht(s._zod,"optin",()=>t.innerType._zod.optin),ht(s._zod,"optout",()=>t.innerType._zod.optout),ht(s._zod,"values",()=>t.innerType._zod.values),s._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(l=>(n.value=l.value,l.issues.length&&(n.value=t.catchValue({...n,error:{issues:l.issues.map(o=>Bi(o,r,Pi()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(l=>Bi(l,r,Pi()))},input:n.value}),n.issues=[]),n)}}),gA=ue("$ZodPipe",(s,t)=>{_t.init(s,t),ht(s._zod,"values",()=>t.in._zod.values),ht(s._zod,"optin",()=>t.in._zod.optin),ht(s._zod,"optout",()=>t.out._zod.optout),ht(s._zod,"propValues",()=>t.in._zod.propValues),s._zod.parse=(n,r)=>{if(r.direction==="backward"){const l=t.out._zod.run(n,r);return l instanceof Promise?l.then(o=>Ch(o,t.in,r)):Ch(l,t.in,r)}const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(l=>Ch(l,t.out,r)):Ch(i,t.out,r)}});function Ch(s,t,n){return s.issues.length?(s.aborted=!0,s):t._zod.run({value:s.value,issues:s.issues},n)}const vA=ue("$ZodReadonly",(s,t)=>{_t.init(s,t),ht(s._zod,"propValues",()=>t.innerType._zod.propValues),ht(s._zod,"values",()=>t.innerType._zod.values),ht(s._zod,"optin",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),ht(s._zod,"optout",()=>{var n,r;return(r=(n=t.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),s._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(z2):z2(i)}});function z2(s){return s.value=Object.freeze(s.value),s}const jA=ue("$ZodCustom",(s,t)=>{Is.init(s,t),_t.init(s,t),s._zod.parse=(n,r)=>n,s._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(l=>I2(l,n,r,s));I2(i,n,r,s)}});function I2(s,t,n,r){if(!s){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(Sc(i))}}var D2;class yA{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function bA(){return new yA}(D2=globalThis).__zod_globalRegistry??(D2.__zod_globalRegistry=bA());const Lo=globalThis.__zod_globalRegistry;function wA(s,t){return new s({type:"string",...Ce(t)})}function kA(s,t){return new s({type:"string",format:"email",check:"string_format",abort:!1,...Ce(t)})}function R2(s,t){return new s({type:"string",format:"guid",check:"string_format",abort:!1,...Ce(t)})}function TA(s,t){return new s({type:"string",format:"uuid",check:"string_format",abort:!1,...Ce(t)})}function SA(s,t){return new s({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ce(t)})}function NA(s,t){return new s({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ce(t)})}function AA(s,t){return new s({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ce(t)})}function _A(s,t){return new s({type:"string",format:"url",check:"string_format",abort:!1,...Ce(t)})}function EA(s,t){return new s({type:"string",format:"emoji",check:"string_format",abort:!1,...Ce(t)})}function CA(s,t){return new s({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ce(t)})}function MA(s,t){return new s({type:"string",format:"cuid",check:"string_format",abort:!1,...Ce(t)})}function $A(s,t){return new s({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ce(t)})}function GA(s,t){return new s({type:"string",format:"ulid",check:"string_format",abort:!1,...Ce(t)})}function zA(s,t){return new s({type:"string",format:"xid",check:"string_format",abort:!1,...Ce(t)})}function IA(s,t){return new s({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ce(t)})}function DA(s,t){return new s({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ce(t)})}function RA(s,t){return new s({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ce(t)})}function OA(s,t){return new s({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ce(t)})}function qA(s,t){return new s({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ce(t)})}function LA(s,t){return new s({type:"string",format:"base64",check:"string_format",abort:!1,...Ce(t)})}function PA(s,t){return new s({type:"string",format:"base64url",check:"string_format",abort:!1,...Ce(t)})}function BA(s,t){return new s({type:"string",format:"e164",check:"string_format",abort:!1,...Ce(t)})}function HA(s,t){return new s({type:"string",format:"jwt",check:"string_format",abort:!1,...Ce(t)})}function UA(s,t){return new s({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ce(t)})}function FA(s,t){return new s({type:"string",format:"date",check:"string_format",...Ce(t)})}function VA(s,t){return new s({type:"string",format:"time",check:"string_format",precision:null,...Ce(t)})}function KA(s,t){return new s({type:"string",format:"duration",check:"string_format",...Ce(t)})}function ZA(s,t){return new s({type:"number",checks:[],...Ce(t)})}function XA(s,t){return new s({type:"number",check:"number_format",abort:!1,format:"safeint",...Ce(t)})}function YA(s,t){return new s({type:"boolean",...Ce(t)})}function WA(s){return new s({type:"unknown"})}function QA(s,t){return new s({type:"never",...Ce(t)})}function O2(s,t){return new r3({check:"less_than",...Ce(t),value:s,inclusive:!1})}function K0(s,t){return new r3({check:"less_than",...Ce(t),value:s,inclusive:!0})}function q2(s,t){return new i3({check:"greater_than",...Ce(t),value:s,inclusive:!1})}function Z0(s,t){return new i3({check:"greater_than",...Ce(t),value:s,inclusive:!0})}function L2(s,t){return new fN({check:"multiple_of",...Ce(t),value:s})}function h3(s,t){return new xN({check:"max_length",...Ce(t),maximum:s})}function eu(s,t){return new gN({check:"min_length",...Ce(t),minimum:s})}function d3(s,t){return new vN({check:"length_equals",...Ce(t),length:s})}function JA(s,t){return new jN({check:"string_format",format:"regex",...Ce(t),pattern:s})}function e_(s){return new yN({check:"string_format",format:"lowercase",...Ce(s)})}function t_(s){return new bN({check:"string_format",format:"uppercase",...Ce(s)})}function s_(s,t){return new wN({check:"string_format",format:"includes",...Ce(t),includes:s})}function n_(s,t){return new kN({check:"string_format",format:"starts_with",...Ce(t),prefix:s})}function r_(s,t){return new TN({check:"string_format",format:"ends_with",...Ce(t),suffix:s})}function Ql(s){return new SN({check:"overwrite",tx:s})}function i_(s){return Ql(t=>t.normalize(s))}function a_(){return Ql(s=>s.trim())}function l_(){return Ql(s=>s.toLowerCase())}function o_(){return Ql(s=>s.toUpperCase())}function c_(){return Ql(s=>vS(s))}function h_(s,t,n){return new s({type:"array",element:t,...Ce(n)})}function d_(s,t,n){return new s({type:"custom",check:"custom",fn:t,...Ce(n)})}function u_(s){const t=m_(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Sc(r,n.value,t._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(Sc(i))}},s(n.value,n)));return t}function m_(s,t){const n=new Is({check:"custom",...Ce(t)});return n._zod.check=s,n}function u3(s){let t=(s==null?void 0:s.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:s.processors??{},metadataRegistry:(s==null?void 0:s.metadata)??Lo,target:t,unrepresentable:(s==null?void 0:s.unrepresentable)??"throw",override:(s==null?void 0:s.override)??(()=>{}),io:(s==null?void 0:s.io)??"output",counter:0,seen:new Map,cycles:(s==null?void 0:s.cycles)??"ref",reused:(s==null?void 0:s.reused)??"inline",external:(s==null?void 0:s.external)??void 0}}function Kt(s,t,n={path:[],schemaPath:[]}){var p,g;var r;const i=s._zod.def,l=t.seen.get(s);if(l)return l.count++,n.schemaPath.includes(s)&&(l.cycle=n.path),l.schema;const o={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(s,o);const c=(g=(p=s._zod).toJSONSchema)==null?void 0:g.call(p);if(c)o.schema=c;else{const v={...n,schemaPath:[...n.schemaPath,s],path:n.path},y=s._zod.parent;if(y)o.ref=y,Kt(y,t,v),t.seen.get(y).isParent=!0;else if(s._zod.processJSONSchema)s._zod.processJSONSchema(t,o.schema,v);else{const M=o.schema,L=t.processors[i.type];if(!L)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);L(s,t,M,v)}}const d=t.metadataRegistry.get(s);return d&&Object.assign(o.schema,d),t.io==="input"&&gs(s)&&(delete o.schema.examples,delete o.schema.default),t.io==="input"&&o.schema._prefault&&((r=o.schema).default??(r.default=o.schema._prefault)),delete o.schema._prefault,t.seen.get(s).schema}function m3(s,t){var l,o,c;const n=s.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=d=>{var y;const u=s.target==="draft-2020-12"?"$defs":"definitions";if(s.external){const M=(y=s.external.registry.get(d[0]))==null?void 0:y.id,L=s.external.uri??(T=>T);if(M)return{ref:L(M)};const F=d[1].defId??d[1].schema.id??`schema${s.counter++}`;return d[1].defId=F,{defId:F,ref:`${L("__shared")}#/${u}/${F}`}}if(d[1]===n)return{ref:"#"};const g=`#/${u}/`,v=d[1].schema.id??`__schema${s.counter++}`;return{defId:v,ref:g+v}},i=d=>{if(d[1].schema.$ref)return;const u=d[1],{ref:p,defId:g}=r(d);u.def={...u.schema},g&&(u.defId=g);const v=u.schema;for(const y in v)delete v[y];v.$ref=p};if(s.cycles==="throw")for(const d of s.seen.entries()){const u=d[1];if(u.cycle)throw new Error(`Cycle detected: #/${(l=u.cycle)==null?void 0:l.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const d of s.seen.entries()){const u=d[1];if(t===d[0]){i(d);continue}if(s.external){const g=(o=s.external.registry.get(d[0]))==null?void 0:o.id;if(t!==d[0]&&g){i(d);continue}}if((c=s.metadataRegistry.get(d[0]))==null?void 0:c.id){i(d);continue}if(u.cycle){i(d);continue}if(u.count>1&&s.reused==="ref"){i(d);continue}}}function f3(s,t){var o,c,d;const n=s.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=u=>{const p=s.seen.get(u),g=p.def??p.schema,v={...g};if(p.ref===null)return;const y=p.ref;if(p.ref=null,y){r(y);const M=s.seen.get(y).schema;M.$ref&&(s.target==="draft-07"||s.target==="draft-04"||s.target==="openapi-3.0")?(g.allOf=g.allOf??[],g.allOf.push(M)):(Object.assign(g,M),Object.assign(g,v))}p.isParent||s.override({zodSchema:u,jsonSchema:g,path:p.path??[]})};for(const u of[...s.seen.entries()].reverse())r(u[0]);const i={};if(s.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":s.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":s.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":s.target,(o=s.external)!=null&&o.uri){const u=(c=s.external.registry.get(t))==null?void 0:c.id;if(!u)throw new Error("Schema is missing an `id` property");i.$id=s.external.uri(u)}Object.assign(i,n.def??n.schema);const l=((d=s.external)==null?void 0:d.defs)??{};for(const u of s.seen.entries()){const p=u[1];p.def&&p.defId&&(l[p.defId]=p.def)}s.external||Object.keys(l).length>0&&(s.target==="draft-2020-12"?i.$defs=l:i.definitions=l);try{const u=JSON.parse(JSON.stringify(i));return Object.defineProperty(u,"~standard",{value:{...t["~standard"],jsonSchema:{input:tu(t,"input"),output:tu(t,"output")}},enumerable:!1,writable:!1}),u}catch{throw new Error("Error converting schema to JSON.")}}function gs(s,t){const n=t??{seen:new Set};if(n.seen.has(s))return!1;n.seen.add(s);const r=s._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return gs(r.element,n);if(r.type==="set")return gs(r.valueType,n);if(r.type==="lazy")return gs(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return gs(r.innerType,n);if(r.type==="intersection")return gs(r.left,n)||gs(r.right,n);if(r.type==="record"||r.type==="map")return gs(r.keyType,n)||gs(r.valueType,n);if(r.type==="pipe")return gs(r.in,n)||gs(r.out,n);if(r.type==="object"){for(const i in r.shape)if(gs(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(gs(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(gs(i,n))return!0;return!!(r.rest&&gs(r.rest,n))}return!1}const f_=(s,t={})=>n=>{const r=u3({...n,processors:t});return Kt(s,r),m3(r,s),f3(r,s)},tu=(s,t)=>n=>{const{libraryOptions:r,target:i}=n??{},l=u3({...r??{},target:i,io:t,processors:{}});return Kt(s,l),m3(l,s),f3(l,s)},p_={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},x_=(s,t,n,r)=>{const i=n;i.type="string";const{minimum:l,maximum:o,format:c,patterns:d,contentEncoding:u}=s._zod.bag;if(typeof l=="number"&&(i.minLength=l),typeof o=="number"&&(i.maxLength=o),c&&(i.format=p_[c]??c,i.format===""&&delete i.format),u&&(i.contentEncoding=u),d&&d.size>0){const p=[...d];p.length===1?i.pattern=p[0].source:p.length>1&&(i.allOf=[...p.map(g=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:g.source}))])}},g_=(s,t,n,r)=>{const i=n,{minimum:l,maximum:o,format:c,multipleOf:d,exclusiveMaximum:u,exclusiveMinimum:p}=s._zod.bag;typeof c=="string"&&c.includes("int")?i.type="integer":i.type="number",typeof p=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.minimum=p,i.exclusiveMinimum=!0):i.exclusiveMinimum=p),typeof l=="number"&&(i.minimum=l,typeof p=="number"&&t.target!=="draft-04"&&(p>=l?delete i.minimum:delete i.exclusiveMinimum)),typeof u=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(i.maximum=u,i.exclusiveMaximum=!0):i.exclusiveMaximum=u),typeof o=="number"&&(i.maximum=o,typeof u=="number"&&t.target!=="draft-04"&&(u<=o?delete i.maximum:delete i.exclusiveMaximum)),typeof d=="number"&&(i.multipleOf=d)},v_=(s,t,n,r)=>{n.type="boolean"},j_=(s,t,n,r)=>{n.not={}},y_=(s,t,n,r)=>{},b_=(s,t,n,r)=>{const i=s._zod.def,l=Zb(i.entries);l.every(o=>typeof o=="number")&&(n.type="number"),l.every(o=>typeof o=="string")&&(n.type="string"),n.enum=l},w_=(s,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},k_=(s,t,n,r)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},T_=(s,t,n,r)=>{const i=n,l=s._zod.def,{minimum:o,maximum:c}=s._zod.bag;typeof o=="number"&&(i.minItems=o),typeof c=="number"&&(i.maxItems=c),i.type="array",i.items=Kt(l.element,t,{...r,path:[...r.path,"items"]})},S_=(s,t,n,r)=>{var u;const i=n,l=s._zod.def;i.type="object",i.properties={};const o=l.shape;for(const p in o)i.properties[p]=Kt(o[p],t,{...r,path:[...r.path,"properties",p]});const c=new Set(Object.keys(o)),d=new Set([...c].filter(p=>{const g=l.shape[p]._zod;return t.io==="input"?g.optin===void 0:g.optout===void 0}));d.size>0&&(i.required=Array.from(d)),((u=l.catchall)==null?void 0:u._zod.def.type)==="never"?i.additionalProperties=!1:l.catchall?l.catchall&&(i.additionalProperties=Kt(l.catchall,t,{...r,path:[...r.path,"additionalProperties"]})):t.io==="output"&&(i.additionalProperties=!1)},N_=(s,t,n,r)=>{const i=s._zod.def,l=i.inclusive===!1,o=i.options.map((c,d)=>Kt(c,t,{...r,path:[...r.path,l?"oneOf":"anyOf",d]}));l?n.oneOf=o:n.anyOf=o},A_=(s,t,n,r)=>{const i=s._zod.def,l=Kt(i.left,t,{...r,path:[...r.path,"allOf",0]}),o=Kt(i.right,t,{...r,path:[...r.path,"allOf",1]}),c=u=>"allOf"in u&&Object.keys(u).length===1,d=[...c(l)?l.allOf:[l],...c(o)?o.allOf:[o]];n.allOf=d},__=(s,t,n,r)=>{const i=n,l=s._zod.def;i.type="object",(t.target==="draft-07"||t.target==="draft-2020-12")&&(i.propertyNames=Kt(l.keyType,t,{...r,path:[...r.path,"propertyNames"]})),i.additionalProperties=Kt(l.valueType,t,{...r,path:[...r.path,"additionalProperties"]})},E_=(s,t,n,r)=>{const i=s._zod.def,l=Kt(i.innerType,t,r),o=t.seen.get(s);t.target==="openapi-3.0"?(o.ref=i.innerType,n.nullable=!0):n.anyOf=[l,{type:"null"}]},C_=(s,t,n,r)=>{const i=s._zod.def;Kt(i.innerType,t,r);const l=t.seen.get(s);l.ref=i.innerType},M_=(s,t,n,r)=>{const i=s._zod.def;Kt(i.innerType,t,r);const l=t.seen.get(s);l.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},$_=(s,t,n,r)=>{const i=s._zod.def;Kt(i.innerType,t,r);const l=t.seen.get(s);l.ref=i.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},G_=(s,t,n,r)=>{const i=s._zod.def;Kt(i.innerType,t,r);const l=t.seen.get(s);l.ref=i.innerType;let o;try{o=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=o},z_=(s,t,n,r)=>{const i=s._zod.def,l=t.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;Kt(l,t,r);const o=t.seen.get(s);o.ref=l},I_=(s,t,n,r)=>{const i=s._zod.def;Kt(i.innerType,t,r);const l=t.seen.get(s);l.ref=i.innerType,n.readOnly=!0},D_=(s,t,n,r)=>{const i=s._zod.def;Kt(i.innerType,t,r);const l=t.seen.get(s);l.ref=i.innerType},R_=ue("ZodISODateTime",(s,t)=>{qN.init(s,t),Tt.init(s,t)});function O_(s){return UA(R_,s)}const q_=ue("ZodISODate",(s,t)=>{LN.init(s,t),Tt.init(s,t)});function L_(s){return FA(q_,s)}const P_=ue("ZodISOTime",(s,t)=>{PN.init(s,t),Tt.init(s,t)});function B_(s){return VA(P_,s)}const H_=ue("ZodISODuration",(s,t)=>{BN.init(s,t),Tt.init(s,t)});function U_(s){return KA(H_,s)}const F_=(s,t)=>{Qb.init(s,t),s.name="ZodError",Object.defineProperties(s,{format:{value:n=>MS(s,n)},flatten:{value:n=>CS(s,n)},addIssue:{value:n=>{s.issues.push(n),s.message=JSON.stringify(s.issues,$f,2)}},addIssues:{value:n=>{s.issues.push(...n),s.message=JSON.stringify(s.issues,$f,2)}},isEmpty:{get(){return s.issues.length===0}}})},gn=ue("ZodError",F_,{Parent:Error}),V_=fx(gn),K_=px(gn),Z_=$u(gn),X_=Gu(gn),Y_=zS(gn),W_=IS(gn),Q_=DS(gn),J_=RS(gn),eE=OS(gn),tE=qS(gn),sE=LS(gn),nE=PS(gn),zt=ue("ZodType",(s,t)=>(_t.init(s,t),Object.assign(s["~standard"],{jsonSchema:{input:tu(s,"input"),output:tu(s,"output")}}),s.toJSONSchema=f_(s,{}),s.def=t,s.type=t.type,Object.defineProperty(s,"_def",{value:t}),s.check=(...n)=>s.clone(qa(t,{checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),s.clone=(n,r)=>Zi(s,n,r),s.brand=()=>s,s.register=(n,r)=>(n.add(s,r),s),s.parse=(n,r)=>V_(s,n,r,{callee:s.parse}),s.safeParse=(n,r)=>Z_(s,n,r),s.parseAsync=async(n,r)=>K_(s,n,r,{callee:s.parseAsync}),s.safeParseAsync=async(n,r)=>X_(s,n,r),s.spa=s.safeParseAsync,s.encode=(n,r)=>Y_(s,n,r),s.decode=(n,r)=>W_(s,n,r),s.encodeAsync=async(n,r)=>Q_(s,n,r),s.decodeAsync=async(n,r)=>J_(s,n,r),s.safeEncode=(n,r)=>eE(s,n,r),s.safeDecode=(n,r)=>tE(s,n,r),s.safeEncodeAsync=async(n,r)=>sE(s,n,r),s.safeDecodeAsync=async(n,r)=>nE(s,n,r),s.refine=(n,r)=>s.check(ZE(n,r)),s.superRefine=n=>s.check(XE(n)),s.overwrite=n=>s.check(Ql(n)),s.optional=()=>H2(s),s.nullable=()=>U2(s),s.nullish=()=>H2(U2(s)),s.nonoptional=n=>PE(s,n),s.array=()=>Pl(s),s.or=n=>g3([s,n]),s.and=n=>$E(s,n),s.transform=n=>F2(s,IE(n)),s.default=n=>OE(s,n),s.prefault=n=>LE(s,n),s.catch=n=>HE(s,n),s.pipe=n=>F2(s,n),s.readonly=()=>VE(s),s.describe=n=>{const r=s.clone();return Lo.add(r,{description:n}),r},Object.defineProperty(s,"description",{get(){var n;return(n=Lo.get(s))==null?void 0:n.description},configurable:!0}),s.meta=(...n)=>{if(n.length===0)return Lo.get(s);const r=s.clone();return Lo.add(r,n[0]),r},s.isOptional=()=>s.safeParse(void 0).success,s.isNullable=()=>s.safeParse(null).success,s)),p3=ue("_ZodString",(s,t)=>{xx.init(s,t),zt.init(s,t),s._zod.processJSONSchema=(r,i,l)=>x_(s,r,i);const n=s._zod.bag;s.format=n.format??null,s.minLength=n.minimum??null,s.maxLength=n.maximum??null,s.regex=(...r)=>s.check(JA(...r)),s.includes=(...r)=>s.check(s_(...r)),s.startsWith=(...r)=>s.check(n_(...r)),s.endsWith=(...r)=>s.check(r_(...r)),s.min=(...r)=>s.check(eu(...r)),s.max=(...r)=>s.check(h3(...r)),s.length=(...r)=>s.check(d3(...r)),s.nonempty=(...r)=>s.check(eu(1,...r)),s.lowercase=r=>s.check(e_(r)),s.uppercase=r=>s.check(t_(r)),s.trim=()=>s.check(a_()),s.normalize=(...r)=>s.check(i_(...r)),s.toLowerCase=()=>s.check(l_()),s.toUpperCase=()=>s.check(o_()),s.slugify=()=>s.check(c_())}),rE=ue("ZodString",(s,t)=>{xx.init(s,t),p3.init(s,t),s.email=n=>s.check(kA(iE,n)),s.url=n=>s.check(_A(aE,n)),s.jwt=n=>s.check(HA(bE,n)),s.emoji=n=>s.check(EA(lE,n)),s.guid=n=>s.check(R2(P2,n)),s.uuid=n=>s.check(TA(Mh,n)),s.uuidv4=n=>s.check(SA(Mh,n)),s.uuidv6=n=>s.check(NA(Mh,n)),s.uuidv7=n=>s.check(AA(Mh,n)),s.nanoid=n=>s.check(CA(oE,n)),s.guid=n=>s.check(R2(P2,n)),s.cuid=n=>s.check(MA(cE,n)),s.cuid2=n=>s.check($A(hE,n)),s.ulid=n=>s.check(GA(dE,n)),s.base64=n=>s.check(LA(vE,n)),s.base64url=n=>s.check(PA(jE,n)),s.xid=n=>s.check(zA(uE,n)),s.ksuid=n=>s.check(IA(mE,n)),s.ipv4=n=>s.check(DA(fE,n)),s.ipv6=n=>s.check(RA(pE,n)),s.cidrv4=n=>s.check(OA(xE,n)),s.cidrv6=n=>s.check(qA(gE,n)),s.e164=n=>s.check(BA(yE,n)),s.datetime=n=>s.check(O_(n)),s.date=n=>s.check(L_(n)),s.time=n=>s.check(B_(n)),s.duration=n=>s.check(U_(n))});function Ut(s){return wA(rE,s)}const Tt=ue("ZodStringFormat",(s,t)=>{gt.init(s,t),p3.init(s,t)}),iE=ue("ZodEmail",(s,t)=>{CN.init(s,t),Tt.init(s,t)}),P2=ue("ZodGUID",(s,t)=>{_N.init(s,t),Tt.init(s,t)}),Mh=ue("ZodUUID",(s,t)=>{EN.init(s,t),Tt.init(s,t)}),aE=ue("ZodURL",(s,t)=>{MN.init(s,t),Tt.init(s,t)}),lE=ue("ZodEmoji",(s,t)=>{$N.init(s,t),Tt.init(s,t)}),oE=ue("ZodNanoID",(s,t)=>{GN.init(s,t),Tt.init(s,t)}),cE=ue("ZodCUID",(s,t)=>{zN.init(s,t),Tt.init(s,t)}),hE=ue("ZodCUID2",(s,t)=>{IN.init(s,t),Tt.init(s,t)}),dE=ue("ZodULID",(s,t)=>{DN.init(s,t),Tt.init(s,t)}),uE=ue("ZodXID",(s,t)=>{RN.init(s,t),Tt.init(s,t)}),mE=ue("ZodKSUID",(s,t)=>{ON.init(s,t),Tt.init(s,t)}),fE=ue("ZodIPv4",(s,t)=>{HN.init(s,t),Tt.init(s,t)}),pE=ue("ZodIPv6",(s,t)=>{UN.init(s,t),Tt.init(s,t)}),xE=ue("ZodCIDRv4",(s,t)=>{FN.init(s,t),Tt.init(s,t)}),gE=ue("ZodCIDRv6",(s,t)=>{VN.init(s,t),Tt.init(s,t)}),vE=ue("ZodBase64",(s,t)=>{KN.init(s,t),Tt.init(s,t)}),jE=ue("ZodBase64URL",(s,t)=>{XN.init(s,t),Tt.init(s,t)}),yE=ue("ZodE164",(s,t)=>{YN.init(s,t),Tt.init(s,t)}),bE=ue("ZodJWT",(s,t)=>{QN.init(s,t),Tt.init(s,t)}),x3=ue("ZodNumber",(s,t)=>{l3.init(s,t),zt.init(s,t),s._zod.processJSONSchema=(r,i,l)=>g_(s,r,i),s.gt=(r,i)=>s.check(q2(r,i)),s.gte=(r,i)=>s.check(Z0(r,i)),s.min=(r,i)=>s.check(Z0(r,i)),s.lt=(r,i)=>s.check(O2(r,i)),s.lte=(r,i)=>s.check(K0(r,i)),s.max=(r,i)=>s.check(K0(r,i)),s.int=r=>s.check(B2(r)),s.safe=r=>s.check(B2(r)),s.positive=r=>s.check(q2(0,r)),s.nonnegative=r=>s.check(Z0(0,r)),s.negative=r=>s.check(O2(0,r)),s.nonpositive=r=>s.check(K0(0,r)),s.multipleOf=(r,i)=>s.check(L2(r,i)),s.step=(r,i)=>s.check(L2(r,i)),s.finite=()=>s;const n=s._zod.bag;s.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,s.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,s.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),s.isFinite=!0,s.format=n.format??null});function ls(s){return ZA(x3,s)}const wE=ue("ZodNumberFormat",(s,t)=>{JN.init(s,t),x3.init(s,t)});function B2(s){return XA(wE,s)}const kE=ue("ZodBoolean",(s,t)=>{eA.init(s,t),zt.init(s,t),s._zod.processJSONSchema=(n,r,i)=>v_(s,n,r)});function TE(s){return YA(kE,s)}const SE=ue("ZodUnknown",(s,t)=>{tA.init(s,t),zt.init(s,t),s._zod.processJSONSchema=(n,r,i)=>y_()});function zf(){return WA(SE)}const NE=ue("ZodNever",(s,t)=>{sA.init(s,t),zt.init(s,t),s._zod.processJSONSchema=(n,r,i)=>j_(s,n,r)});function AE(s){return QA(NE,s)}const _E=ue("ZodArray",(s,t)=>{nA.init(s,t),zt.init(s,t),s._zod.processJSONSchema=(n,r,i)=>T_(s,n,r,i),s.element=t.element,s.min=(n,r)=>s.check(eu(n,r)),s.nonempty=n=>s.check(eu(1,n)),s.max=(n,r)=>s.check(h3(n,r)),s.length=(n,r)=>s.check(d3(n,r)),s.unwrap=()=>s.element});function Pl(s,t){return h_(_E,s,t)}const EE=ue("ZodObject",(s,t)=>{iA.init(s,t),zt.init(s,t),s._zod.processJSONSchema=(n,r,i)=>S_(s,n,r,i),ht(s,"shape",()=>t.shape),s.keyof=()=>Df(Object.keys(s._zod.def.shape)),s.catchall=n=>s.clone({...s._zod.def,catchall:n}),s.passthrough=()=>s.clone({...s._zod.def,catchall:zf()}),s.loose=()=>s.clone({...s._zod.def,catchall:zf()}),s.strict=()=>s.clone({...s._zod.def,catchall:AE()}),s.strip=()=>s.clone({...s._zod.def,catchall:void 0}),s.extend=n=>SS(s,n),s.safeExtend=n=>NS(s,n),s.merge=n=>AS(s,n),s.pick=n=>kS(s,n),s.omit=n=>TS(s,n),s.partial=(...n)=>_S(j3,s,n[0]),s.required=(...n)=>ES(y3,s,n[0])});function Mn(s,t){const n={type:"object",shape:s??{},...Ce(t)};return new EE(n)}const CE=ue("ZodUnion",(s,t)=>{aA.init(s,t),zt.init(s,t),s._zod.processJSONSchema=(n,r,i)=>N_(s,n,r,i),s.options=t.options});function g3(s,t){return new CE({type:"union",options:s,...Ce(t)})}const ME=ue("ZodIntersection",(s,t)=>{lA.init(s,t),zt.init(s,t),s._zod.processJSONSchema=(n,r,i)=>A_(s,n,r,i)});function $E(s,t){return new ME({type:"intersection",left:s,right:t})}const GE=ue("ZodRecord",(s,t)=>{oA.init(s,t),zt.init(s,t),s._zod.processJSONSchema=(n,r,i)=>__(s,n,r,i),s.keyType=t.keyType,s.valueType=t.valueType});function v3(s,t,n){return new GE({type:"record",keyType:s,valueType:t,...Ce(n)})}const If=ue("ZodEnum",(s,t)=>{cA.init(s,t),zt.init(s,t),s._zod.processJSONSchema=(r,i,l)=>b_(s,r,i),s.enum=t.entries,s.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));s.extract=(r,i)=>{const l={};for(const o of r)if(n.has(o))l[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new If({...t,checks:[],...Ce(i),entries:l})},s.exclude=(r,i)=>{const l={...t.entries};for(const o of r)if(n.has(o))delete l[o];else throw new Error(`Key ${o} not found in enum`);return new If({...t,checks:[],...Ce(i),entries:l})}});function Df(s,t){const n=Array.isArray(s)?Object.fromEntries(s.map(r=>[r,r])):s;return new If({type:"enum",entries:n,...Ce(t)})}const zE=ue("ZodTransform",(s,t)=>{hA.init(s,t),zt.init(s,t),s._zod.processJSONSchema=(n,r,i)=>k_(s,n),s._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Vb(s.constructor.name);n.addIssue=l=>{if(typeof l=="string")n.issues.push(Sc(l,n.value,t));else{const o=l;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=s),n.issues.push(Sc(o))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(l=>(n.value=l,n)):(n.value=i,n)}});function IE(s){return new zE({type:"transform",transform:s})}const j3=ue("ZodOptional",(s,t)=>{dA.init(s,t),zt.init(s,t),s._zod.processJSONSchema=(n,r,i)=>D_(s,n,r,i),s.unwrap=()=>s._zod.def.innerType});function H2(s){return new j3({type:"optional",innerType:s})}const DE=ue("ZodNullable",(s,t)=>{uA.init(s,t),zt.init(s,t),s._zod.processJSONSchema=(n,r,i)=>E_(s,n,r,i),s.unwrap=()=>s._zod.def.innerType});function U2(s){return new DE({type:"nullable",innerType:s})}const RE=ue("ZodDefault",(s,t)=>{mA.init(s,t),zt.init(s,t),s._zod.processJSONSchema=(n,r,i)=>M_(s,n,r,i),s.unwrap=()=>s._zod.def.innerType,s.removeDefault=s.unwrap});function OE(s,t){return new RE({type:"default",innerType:s,get defaultValue(){return typeof t=="function"?t():Yb(t)}})}const qE=ue("ZodPrefault",(s,t)=>{fA.init(s,t),zt.init(s,t),s._zod.processJSONSchema=(n,r,i)=>$_(s,n,r,i),s.unwrap=()=>s._zod.def.innerType});function LE(s,t){return new qE({type:"prefault",innerType:s,get defaultValue(){return typeof t=="function"?t():Yb(t)}})}const y3=ue("ZodNonOptional",(s,t)=>{pA.init(s,t),zt.init(s,t),s._zod.processJSONSchema=(n,r,i)=>C_(s,n,r,i),s.unwrap=()=>s._zod.def.innerType});function PE(s,t){return new y3({type:"nonoptional",innerType:s,...Ce(t)})}const BE=ue("ZodCatch",(s,t)=>{xA.init(s,t),zt.init(s,t),s._zod.processJSONSchema=(n,r,i)=>G_(s,n,r,i),s.unwrap=()=>s._zod.def.innerType,s.removeCatch=s.unwrap});function HE(s,t){return new BE({type:"catch",innerType:s,catchValue:typeof t=="function"?t:()=>t})}const UE=ue("ZodPipe",(s,t)=>{gA.init(s,t),zt.init(s,t),s._zod.processJSONSchema=(n,r,i)=>z_(s,n,r,i),s.in=t.in,s.out=t.out});function F2(s,t){return new UE({type:"pipe",in:s,out:t})}const FE=ue("ZodReadonly",(s,t)=>{vA.init(s,t),zt.init(s,t),s._zod.processJSONSchema=(n,r,i)=>I_(s,n,r,i),s.unwrap=()=>s._zod.def.innerType});function VE(s){return new FE({type:"readonly",innerType:s})}const KE=ue("ZodCustom",(s,t)=>{jA.init(s,t),zt.init(s,t),s._zod.processJSONSchema=(n,r,i)=>w_(s,n)});function ZE(s,t={}){return d_(KE,s,t)}function XE(s){return u_(s)}Wn("Validation");const V2=Ut().min(1).max(100);Ut().regex(/^[a-fA-F0-9]{64}$/);const Iu=Ut().regex(/^npub1[1-9ac-hjk-np-z46-9]+$/),b3=Ut().min(1).max(50).regex(/^[a-zA-Z0-9\s\-\'\.]+$/);Ut().regex(/^[a-zA-Z0-9\.\-_]+(@[a-zA-Z0-9\.\-_]+\.[a-zA-Z]{2,})?$/);Mn({challenge:Ut().min(10).max(200),expiresAt:ls().int().positive()});Mn({kind:ls().int(),created_at:ls().int().nonnegative(),tags:Pl(Pl(Ut())),content:Ut()});const YE=Mn({npub:Iu,displayName:b3.nullable()}),w3=Mn({visitedAt:Ut().nullable().optional(),completedAt:Ut().nullable().optional(),quizAttempts:Pl(Mn({xpEarned:ls().int().min(0).optional(),score:ls().min(0).max(100).optional(),timestamp:Ut().optional(),difficulty:Df(["easy","medium","hard"]).optional(),correctAnswers:ls().int().min(0).optional(),totalQuestions:ls().int().min(1).optional()})).optional(),visualizationsInteracted:Pl(Ut().max(100)).optional(),masteryLevel:g3([ls().int().min(0).max(3),Df(["none","learning","familiar","mastered"])]).nullable().optional(),sectionId:Ut().optional(),timeSpentSeconds:ls().int().min(0).optional()});Mn({user:Mn({totalXP:ls().int().min(0),level:ls().int().min(1).max(10),sectionsCompleted:Pl(V2)}),sections:v3(V2,w3),dailyGoals:Mn({lastResetDate:Ut().nullable(),currentStreak:ls().int().min(0),xpEarned:ls().int().min(0),xpGoal:ls().int().min(0)}),lastUpdated:ls().int().nonnegative()});Mn({success:TE(),totalXP:ls().int().min(0)});Mn({npub:Iu,displayName:b3.nullable(),xp:ls().int().min(0),lastSync:Ut()});Mn({timestamp:Ut(),action:Ut(),targetNpub:Iu.nullable(),performedBy:Ut(),details:v3(Ut(),zf()).nullable()});function X0(s){return Iu.safeParse(s).success?{valid:!0}:{valid:!1,error:'Invalid npub format. Must start with "npub1" followed by bech32 characters.'}}function WE(s){const t=w3.safeParse(s);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid section data format"}}function QE(s){const t=YE.safeParse(s);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid auth state format"}}const ys={SECTION_VISIT:10,SECTION_COMPLETE:25,QUIZ_EASY:15,QUIZ_MEDIUM:25,QUIZ_HARD:40,QUIZ_PERFECT_BONUS:.5,VISUALIZATION_USE:5,PART_COMPLETE_BONUS:50,STREAK_DAILY_BONUS:5,STREAK_BONUS_CAP:50},rc=[0,100,250,500,850,1300,1900,2650,3550,4600],k3=50,su=Wn("SyncManager"),JE="magic-internet-math-progress";function K2(){try{const s=localStorage.getItem(JE);if(!s)return null;const t=JSON.parse(s);if(!(t!=null&&t.user)||!(t!=null&&t.sections))return null;const n={ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,template:0,islr:0,ra:0,calc1:0,calc_lib_art:0,west_graphs:0};for(const[r,i]of Object.entries(t.sections)){const[l]=r.split(":");if(!xS(l))continue;const o=l,c=WE(i);if(!c.valid||!c.data){su.warn(`Invalid section data for ${r}, skipping`);continue}const d=c.data;if(d.quizAttempts)for(const u of d.quizAttempts)u.xpEarned&&(n[o]+=u.xpEarned);d.visitedAt&&(n[o]+=ys.SECTION_VISIT),d.completedAt&&(n[o]+=ys.SECTION_COMPLETE),d.visualizationsInteracted&&(n[o]+=d.visualizationsInteracted.length*ys.VISUALIZATION_USE)}return[{courseId:"ba",xp:n.ba},{courseId:"crypto",xp:n.crypto},{courseId:"aa",xp:n.aa},{courseId:"linalg",xp:n.linalg},{courseId:"advlinalg",xp:n.advlinalg},{courseId:"template",xp:n.template},{courseId:"islr",xp:n.islr},{courseId:"ra",xp:n.ra},{courseId:"calc1",xp:n.calc1},{courseId:"calc_lib_art",xp:n.calc_lib_art},{courseId:"west_graphs",xp:n.west_graphs}]}catch(s){return su.error("Error extracting scores from storage:",s),null}}class eC{constructor(){wn(this,"syncInterval",null);wn(this,"debounceTimeout",null);wn(this,"lastSyncTime",0);wn(this,"isAuthenticated",!1);wn(this,"displayName",null);wn(this,"handleVisibilityChange",()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.syncNow()})}setAuthenticated(t){this.isAuthenticated=t,t&&this.syncNow()}setDisplayName(t){this.displayName=t}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.syncNow()},eS),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(){this.isAuthenticated&&(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow()},tS))}async syncNow(){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!va())return{success:!1,error:"Firebase not configured"};const t=Date.now();if(t-this.lastSyncTime<QT)return{success:!1,error:"Rate limited"};try{const n=K2();if(!n)return{success:!1,error:"No scores to sync"};const r=ga(),i=yi(r,"syncScores"),l={scores:n};this.displayName!==void 0&&(l.displayName=this.displayName);const o=await i(l);return this.lastSyncTime=t,{success:o.data.success,totalXP:o.data.totalXP}}catch(n){return su.error("Sync failed:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async syncWithRetry(t=3){for(let n=0;n<t;n++){const r=await this.syncNow();if(r.success||r.error==="Not authenticated"||r.error==="No scores to sync"||r.error==="Firebase not configured")return r;if(n<t-1){const i=1e3*Math.pow(2,n);su.debug(`Sync retry ${n+1}/${t} in ${i}ms`),await new Promise(l=>setTimeout(l,i)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}getLocalScores(){const t=K2();return t?t.reduce((n,r)=>(n[r.courseId]=r.xp,n),{ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,template:0,islr:0,ra:0,calc1:0,calc_lib_art:0,west_graphs:0}):null}}let Y0=null;function xa(){return Y0||(Y0=new eC),Y0}const Qt=Wn("NostrAuth"),T3=D.createContext(null),Eo="magic-internet-math-nostr-auth";function tC({children:s}){const[t,n]=D.useState(!1),[r,i]=D.useState(null),[l,o]=D.useState(null),[c,d]=D.useState(null),[u,p]=D.useState(!1),[g,v]=D.useState(null),[y,M]=D.useState(!1),[L,F]=D.useState(!1),[T,w]=D.useState(null);D.useEffect(()=>{(async()=>{const C=await uS(WT);M(C),F(!0)})()},[]);const A=D.useCallback(async N=>{for(const C of Cf)try{const G=await Fb(C,N);if(G){G.nip05&&d(G.nip05);const I=G.display_name||G.name;if(I){o(I);const $=xa();$.setDisplayName(I),$.requestSync()}return}}catch(G){Qt.warn(`Failed to fetch profile from ${C}:`,G)}},[]);D.useEffect(()=>{if(!va())return;const N=F0(),C=rk(N,async G=>{if(w(G),G){i(G.uid);try{const $=await G.getIdTokenResult(!0);Qt.debug("Token claims:",$.claims),p($.claims.isAdmin===!0)}catch($){Qt.error("Error getting token:",$),p(!1)}try{const $=localStorage.getItem(Eo);if($){const fe=JSON.parse($),ae=QE(fe);if(!ae.valid||!ae.data){Qt.warn("Invalid auth state in localStorage:",ae.error),localStorage.removeItem(Eo);return}ae.data.npub===G.uid&&o(ae.data.displayName)}}catch($){Qt.debug("Storage read error:",$)}const I=xa();I.setAuthenticated(!0),I.startPeriodicSync();try{const $=Ub(G.uid);A($)}catch($){Qt.debug("Npub conversion error:",$)}}else{i(null),d(null),p(!1),o(null);const I=xa();I.setAuthenticated(!1),I.stopPeriodicSync()}});return()=>C()},[A]);const z=D.useCallback(async()=>{if(Qt.debug("connect() called"),Qt.debug("isFirebaseConfigured:",va()),Qt.debug("hasNostrExtension:",Wd()),!va()){Qt.info("Firebase not configured, cannot connect");return}if(!Wd()){v("No Nostr extension found. Please install nos2x, Alby, or another NIP-07 extension."),Qt.warn("No extension found, returning");return}n(!0),v(null),Qt.info("Starting Nostr connection...");try{const N=window.nostr,C=ga(),G=await N.getPublicKey(),I=dS(G),fe=await yi(C,"createChallenge")({pubkeyHex:G}),{challenge:ae}=fe.data,J={kind:XT,created_at:Math.floor(Date.now()/1e3),tags:[["challenge",ae]],content:ae},Q=await N.signEvent(J),ee=await yi(C,"verifyNostrAndCreateToken")({signedEvent:Q,challenge:ae}),B=F0();await tk(B,ee.data.token);try{const P={npub:I,displayName:null};localStorage.setItem(Eo,JSON.stringify(P))}catch(P){Qt.warn("Failed to store auth state:",P)}xa().syncNow().catch(P=>{Qt.warn("Initial sync failed:",P)})}catch(N){Qt.error("Nostr connect error:",N),v(N instanceof Error?N.message:"Failed to connect. Please try again.")}finally{n(!1)}},[y]),Y=D.useCallback(async()=>{try{if(va()){const N=F0();await ik(N)}try{localStorage.removeItem(Eo)}catch(N){Qt.warn("Failed to clear auth state from storage:",N)}i(null),o(null),p(!1)}catch(N){Qt.error("Disconnect error:",N),v(N instanceof Error?N.message:"Failed to disconnect")}},[]),ie=D.useCallback(N=>{if(o(N),r)try{localStorage.setItem(Eo,JSON.stringify({npub:r,displayName:N}))}catch(G){Qt.warn("Failed to update display name in storage:",G)}const C=xa();C.setDisplayName(N),C.requestSync()},[r]),_=D.useCallback(()=>{v(null)},[]),k=D.useMemo(()=>({isAuthenticated:!!T&&!!r,isConnecting:t,npub:r,displayName:l,nip05:c,isAdmin:u,error:g,hasExtension:y,extensionChecked:L,connect:z,disconnect:Y,setDisplayName:ie,clearError:_}),[T,r,t,l,c,u,g,y,L,z,Y,ie,_]);return e.jsx(T3.Provider,{value:k,children:s})}const sC={isAuthenticated:!1,isConnecting:!1,npub:null,displayName:null,nip05:null,isAdmin:!1,error:null,hasExtension:!1,extensionChecked:!0,connect:async()=>{},disconnect:async()=>{},setDisplayName:()=>{},clearError:()=>{}};function Du(){const s=D.useContext(T3);return s||sC}Wn("ErrorContext");D.createContext(null);Wn("ErrorBoundary");function Z2({className:s="",showDisplayName:t=!0}){var v,y;const{isAuthenticated:n,isConnecting:r,npub:i,displayName:l,hasExtension:o,extensionChecked:c,error:d,connect:u,disconnect:p,clearError:g}=Du();return c?n?e.jsxs("div",{className:`flex items-center gap-3 ${s}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-primary-500 to-purple-500 flex items-center justify-center text-white text-xs font-bold",children:((v=l==null?void 0:l[0])==null?void 0:v.toUpperCase())||((y=i==null?void 0:i[5])==null?void 0:y.toUpperCase())||"?"}),e.jsxs("div",{className:"flex flex-col",children:[t&&l&&e.jsx("span",{className:"text-sm font-medium text-dark-100",children:l}),e.jsx("span",{className:"text-xs text-dark-400 font-mono",children:i?Yd(i,6):"..."})]})]}),e.jsx("button",{onClick:p,className:"p-1.5 rounded-lg text-dark-400 hover:text-dark-200 hover:bg-dark-700/50 transition-colors",title:"Disconnect",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]}):e.jsxs("div",{className:`flex flex-col items-center gap-2 ${s}`,children:[e.jsx("button",{onClick:()=>{u()},disabled:r||!o,className:`
            flex items-center gap-2 px-4 py-2 rounded-lg font-medium text-sm
            transition-all duration-200
            ${o?r?"bg-primary-600 text-white opacity-70 cursor-wait":"bg-primary-600 hover:bg-primary-500 text-white shadow-lg shadow-primary-600/25":"bg-dark-700 text-dark-400 cursor-not-allowed"}
          `,children:r?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Connecting..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),"Connect with Nostr"]})}),!o&&e.jsxs("p",{className:"text-xs text-dark-400 text-center max-w-xs",children:["Install a Nostr extension like"," ",e.jsx("a",{href:"https://github.com/nickytonline/nos2x",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 hover:underline",children:"nos2x"})," ","or"," ",e.jsx("a",{href:"https://getalby.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 hover:underline",children:"Alby"})," ","to connect"]}),d&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-red-400",children:[e.jsx("span",{children:d}),e.jsx("button",{onClick:g,className:"text-dark-400 hover:text-dark-200",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}):e.jsxs("div",{className:`flex items-center gap-2 ${s}`,children:[e.jsx("div",{className:"w-4 h-4 border-2 border-dark-400 border-t-transparent rounded-full animate-spin"}),e.jsx("span",{className:"text-dark-400 text-sm",children:"Checking..."})]})}function nC(s){switch(s){case 1:return{emoji:"1st",bgColor:"bg-yellow-500/20",textColor:"text-yellow-400",borderColor:"border-yellow-500/30"};case 2:return{emoji:"2nd",bgColor:"bg-gray-400/20",textColor:"text-gray-300",borderColor:"border-gray-400/30"};case 3:return{emoji:"3rd",bgColor:"bg-orange-500/20",textColor:"text-orange-400",borderColor:"border-orange-500/30"};default:return{emoji:`${s}`,bgColor:"bg-dark-700/50",textColor:"text-dark-300",borderColor:"border-dark-600/30"}}}function rC({entry:s,isCurrentUser:t}){var r,i,l;const n=nC(s.rank);return e.jsxs("div",{className:`
        flex items-center gap-4 p-3 rounded-xl transition-colors
        ${t?"bg-primary-500/10 border border-primary-500/30":"hover:bg-dark-700/30"}
      `,children:[e.jsx("div",{className:`
          w-10 h-10 rounded-lg ${n.bgColor} ${n.borderColor} border
          flex items-center justify-center font-bold ${n.textColor}
          ${s.rank<=3?"text-lg":"text-sm"}
        `,children:n.emoji}),e.jsx("div",{className:`
          w-10 h-10 rounded-full flex items-center justify-center text-white text-sm font-bold
          ${s.rank===1?"bg-gradient-to-br from-yellow-400 to-yellow-600":s.rank===2?"bg-gradient-to-br from-gray-300 to-gray-500":s.rank===3?"bg-gradient-to-br from-orange-400 to-orange-600":"bg-gradient-to-br from-primary-500 to-purple-500"}
        `,children:((i=(r=s.displayName)==null?void 0:r[0])==null?void 0:i.toUpperCase())||((l=s.npub[5])==null?void 0:l.toUpperCase())||"?"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`font-medium truncate ${t?"text-primary-300":"text-dark-100"}`,children:s.displayName||Yd(s.npub,8)}),t&&e.jsx("span",{className:"text-xs bg-primary-500/20 text-primary-300 px-1.5 py-0.5 rounded",children:"You"})]}),s.displayName&&e.jsx("span",{className:"text-xs text-dark-500 font-mono",children:Yd(s.npub,6)})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-yellow-400",children:[s.xp.toLocaleString(),e.jsx("span",{className:"text-xs text-dark-400 ml-1",children:"XP"})]}),e.jsxs("div",{className:"text-xs text-dark-400",children:["Level ",s.level]})]})]})}function iC(){return e.jsx("div",{className:"space-y-2",children:[1,2,3,4,5].map(s=>e.jsxs("div",{className:"flex items-center gap-4 p-3 rounded-xl animate-pulse",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-dark-700"}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-dark-700"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-dark-700 rounded w-32"}),e.jsx("div",{className:"h-3 bg-dark-700 rounded w-24"})]}),e.jsxs("div",{className:"space-y-2 text-right",children:[e.jsx("div",{className:"h-5 bg-dark-700 rounded w-16 ml-auto"}),e.jsx("div",{className:"h-3 bg-dark-700 rounded w-12 ml-auto"})]})]},s))})}function aC(){return e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-4xl mb-3",children:""}),e.jsx("p",{className:"text-dark-300 font-medium",children:"No rankings yet"}),e.jsx("p",{className:"text-dark-500 text-sm mt-1",children:"Be the first to join the leaderboard!"})]})}function lC({rankings:s,currentUserNpub:t,isLoading:n=!1}){return n?e.jsx(iC,{}):s.length===0?e.jsx(aC,{}):e.jsx("div",{className:"space-y-2",children:s.map(r=>e.jsx(rC,{entry:r,isCurrentUser:t===r.npub},r.npub))})}function oC({rank:s,totalXP:t,level:n,courseXP:r}){var p,g;const{npub:i,displayName:l,nip05:o}=Du(),[c,d]=D.useState(!1),u=D.useCallback(()=>{i&&(navigator.clipboard.writeText(i),d(!0),setTimeout(()=>d(!1),2e3))},[i]);return i?e.jsxs("div",{className:"p-5 rounded-2xl bg-gradient-to-br from-primary-500/10 to-purple-500/10 border border-primary-500/20 backdrop-blur",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-primary-500 to-purple-500 flex items-center justify-center text-white text-xl font-bold shadow-lg shadow-primary-500/25",children:((p=l==null?void 0:l[0])==null?void 0:p.toUpperCase())||((g=i[5])==null?void 0:g.toUpperCase())||"?"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[l&&e.jsx("div",{className:"font-semibold text-dark-100 truncate text-lg",children:l}),o&&e.jsxs("div",{className:"text-sm text-dark-300 flex items-center gap-1",children:[e.jsx("span",{className:"truncate",children:o}),e.jsx("svg",{className:"w-3.5 h-3.5 text-primary-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})]}),e.jsxs("button",{onClick:u,className:"text-xs text-dark-400 font-mono break-all text-left hover:text-dark-200 transition-colors group",title:"Click to copy",children:[i,e.jsx("span",{className:"ml-1.5 opacity-0 group-hover:opacity-100 transition-opacity",children:c?"":""})]})]}),e.jsx("div",{className:"text-right",children:s!==null?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-3xl font-bold text-primary-400",children:["#",s]}),e.jsx("div",{className:"text-xs text-dark-400",children:"Global Rank"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-xl font-bold text-dark-400",children:"--"}),e.jsx("div",{className:"text-xs text-dark-500",children:"Not ranked"})]})})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700/50 grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:t.toLocaleString()}),e.jsx("div",{className:"text-xs text-dark-400",children:"Total XP"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-emerald-400",children:n}),e.jsx("div",{className:"text-xs text-dark-400",children:"Level"})]})]}),r&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700/50",children:[e.jsx("div",{className:"text-xs text-dark-400 mb-2",children:"XP by Course"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[e.jsx("div",{className:"text-sm font-bold text-blue-400",children:(r.ba||0).toLocaleString()}),e.jsx("div",{className:"text-xs text-dark-500",children:"Basic Algebra"})]}),e.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[e.jsx("div",{className:"text-sm font-bold text-green-400",children:(r.crypto||0).toLocaleString()}),e.jsx("div",{className:"text-xs text-dark-500",children:"Cryptography"})]}),e.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[e.jsx("div",{className:"text-sm font-bold text-purple-400",children:(r.aa||0).toLocaleString()}),e.jsx("div",{className:"text-xs text-dark-500",children:"Abstract Algebra"})]}),e.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[e.jsx("div",{className:"text-sm font-bold text-cyan-400",children:(r.linalg||0).toLocaleString()}),e.jsx("div",{className:"text-xs text-dark-500",children:"Linear Algebra"})]}),e.jsxs("div",{className:"p-2 rounded-lg bg-dark-800/50 text-center",children:[e.jsx("div",{className:"text-sm font-bold text-pink-400",children:(r.advlinalg||0).toLocaleString()}),e.jsx("div",{className:"text-xs text-dark-500",children:"Adv. Linear Alg."})]})]})]})]}):null}const cC=Wn("AdminPanel");function hC({className:s=""}){const{isAdmin:t}=Du(),[n,r]=D.useState(""),[i,l]=D.useState(""),[o,c]=D.useState(!1),[d,u]=D.useState(null),[p,g]=D.useState([]),[v,y]=D.useState(!1),M=D.useCallback(async()=>{if(!(!va()||!t))try{const A=ga(),Y=await yi(A,"getAdminLogs")({limit:20});g(Y.data.logs)}catch(A){cC.error("Failed to load admin logs:",A)}},[t]);D.useEffect(()=>{v&&M()},[v,M]);const L=async()=>{const A=n.trim();if(!A){u({type:"error",text:"Please enter an npub"});return}const z=X0(A);if(!z.valid){u({type:"error",text:z.error||"Invalid npub format"});return}c(!0),u(null);try{const Y=ga();await yi(Y,"banUser")({targetNpub:n.trim(),reason:i.trim()||void 0}),u({type:"success",text:"User banned successfully"}),r(""),l(""),v&&M()}catch(Y){u({type:"error",text:Y instanceof Error?Y.message:"Failed to ban user"})}finally{c(!1)}},F=async()=>{const A=n.trim();if(!A){u({type:"error",text:"Please enter an npub"});return}const z=X0(A);if(!z.valid){u({type:"error",text:z.error||"Invalid npub format"});return}c(!0),u(null);try{const Y=ga();await yi(Y,"unbanUser")({targetNpub:n.trim()}),u({type:"success",text:"User unbanned successfully"}),r(""),v&&M()}catch(Y){u({type:"error",text:Y instanceof Error?Y.message:"Failed to unban user"})}finally{c(!1)}},T=async()=>{const A=n.trim();if(!A){u({type:"error",text:"Please enter an npub"});return}const z=X0(A);if(!z.valid){u({type:"error",text:z.error||"Invalid npub format"});return}if(confirm("Are you sure you want to reset this user's scores? This cannot be undone.")){c(!0),u(null);try{const Y=ga();await yi(Y,"resetUserScores")({targetNpub:n.trim(),reason:i.trim()||void 0}),u({type:"success",text:"User scores reset successfully"}),r(""),l(""),v&&M()}catch(Y){u({type:"error",text:Y instanceof Error?Y.message:"Failed to reset scores"})}finally{c(!1)}}},w=A=>new Date(A.seconds*1e3).toLocaleString();return t?e.jsxs("div",{className:`p-5 rounded-2xl bg-dark-800/60 border border-dark-700/50 ${s}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-dark-100 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z"})}),"Admin Panel"]}),e.jsx("span",{className:"text-xs bg-yellow-500/20 text-yellow-400 px-2 py-0.5 rounded",children:"Admin"})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-dark-400 mb-1",children:"Target User (npub)"}),e.jsx("input",{type:"text",value:n,onChange:A=>r(A.target.value),placeholder:"npub1...",className:"w-full px-3 py-2 rounded-lg bg-dark-900 border border-dark-600 text-dark-100 text-sm font-mono focus:outline-none focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-dark-400 mb-1",children:"Reason (optional)"}),e.jsx("input",{type:"text",value:i,onChange:A=>l(A.target.value),placeholder:"Reason for action",className:"w-full px-3 py-2 rounded-lg bg-dark-900 border border-dark-600 text-dark-100 text-sm focus:outline-none focus:border-primary-500"})]})]}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsx("button",{onClick:L,disabled:o,className:"flex-1 px-3 py-2 rounded-lg bg-red-600/20 border border-red-500/30 text-red-400 text-sm font-medium hover:bg-red-600/30 transition-colors disabled:opacity-50",children:"Ban User"}),e.jsx("button",{onClick:F,disabled:o,className:"flex-1 px-3 py-2 rounded-lg bg-green-600/20 border border-green-500/30 text-green-400 text-sm font-medium hover:bg-green-600/30 transition-colors disabled:opacity-50",children:"Unban User"}),e.jsx("button",{onClick:T,disabled:o,className:"flex-1 px-3 py-2 rounded-lg bg-orange-600/20 border border-orange-500/30 text-orange-400 text-sm font-medium hover:bg-orange-600/30 transition-colors disabled:opacity-50",children:"Reset Scores"})]}),d&&e.jsx("div",{className:`p-3 rounded-lg text-sm mb-4 ${d.type==="success"?"bg-green-500/10 border border-green-500/30 text-green-400":"bg-red-500/10 border border-red-500/30 text-red-400"}`,children:d.text}),e.jsxs("button",{onClick:()=>y(!v),className:"w-full text-sm text-dark-400 hover:text-dark-200 transition-colors flex items-center justify-center gap-1",children:[v?"Hide":"Show"," Admin Logs",e.jsx("svg",{className:`w-4 h-4 transition-transform ${v?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),v&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-dark-700/50",children:[e.jsx("h4",{className:"text-sm font-medium text-dark-200 mb-2",children:"Recent Actions"}),p.length===0?e.jsx("p",{className:"text-xs text-dark-500",children:"No admin actions recorded"}):e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:p.map(A=>e.jsxs("div",{className:"p-2 rounded-lg bg-dark-900/50 text-xs",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:`font-medium ${A.action==="ban"?"text-red-400":A.action==="unban"?"text-green-400":"text-orange-400"}`,children:A.action.toUpperCase()}),e.jsx("span",{className:"text-dark-500",children:w(A.timestamp)})]}),e.jsxs("div",{className:"text-dark-400",children:["Target: ",e.jsx("span",{className:"font-mono",children:Yd(A.targetNpub,8)})]}),A.reason&&e.jsxs("div",{className:"text-dark-500 mt-1",children:["Reason: ",A.reason]})]},A.id))})]})]}):null}const dC=Wn("Leaderboard"),S3="magic-internet-math-leaderboard-cache";function uC(s){try{const t=localStorage.getItem(S3);if(!t)return null;const n=JSON.parse(t);return n.tab!==s||Date.now()-n.timestamp>sS?null:n}catch{return null}}function mC(s,t,n){try{const r={rankings:s,userRank:t,timestamp:Date.now(),tab:n};localStorage.setItem(S3,JSON.stringify(r))}catch{}}function X2(s){if(s instanceof Error){const t=s.message.toLowerCase();if(t.includes("unauthenticated")||t.includes("not authenticated"))return"Please connect your Nostr wallet to view the leaderboard.";if(t.includes("permission")||t.includes("denied"))return"You don't have permission to access this resource.";if(t.includes("not-found")||t.includes("not found"))return"The requested data was not found.";if(t.includes("network")||t.includes("fetch")||t.includes("failed to fetch"))return"Network error. Please check your connection and try again.";if(t.includes("timeout")||t.includes("deadline"))return"Request timed out. Please try again."}return"Failed to load leaderboard. Please try again."}const Y2=[{id:"overall",label:"Overall",shortLabel:"All"},{id:"ba",label:"Basic Algebra",shortLabel:"BA"},{id:"crypto",label:"Cryptography",shortLabel:"Crypto"},{id:"aa",label:"Abstract Algebra",shortLabel:"AA"},{id:"linalg",label:"Linear Algebra",shortLabel:"LinAlg"},{id:"advlinalg",label:"Advanced Linear Algebra",shortLabel:"AdvLinAlg"},{id:"islr",label:"Statistical Learning",shortLabel:"ISLR"},{id:"ra",label:"Real Analysis",shortLabel:"RA"},{id:"calc1",label:"Calculus I",shortLabel:"Calc1"},{id:"calc_lib_art",label:"Calculus (Liberal Arts)",shortLabel:"CalcLA"},{id:"calc_easy",label:"Calculus Made Easy",shortLabel:"CalcEasy"}];function fC({className:s=""}){var G;const{isAuthenticated:t,npub:n,displayName:r,setDisplayName:i,isAdmin:l}=Du(),[o,c]=D.useState("overall"),[d,u]=D.useState([]),[p,g]=D.useState(null),[v,y]=D.useState(!0),[M,L]=D.useState(null),[F,T]=D.useState(!1),[w,A]=D.useState(r||""),z=D.useRef(new Map),Y=D.useCallback(async()=>{if(!va()){L("Firebase not configured"),y(!1);return}y(!0),L(null);try{const I=ga(),fe=await yi(I,"getLeaderboard")({courseId:o,limit:50});u(fe.data.rankings),g(fe.data.userRank),mC(fe.data.rankings,fe.data.userRank,o)}catch(I){dC.error("Failed to load leaderboard:",I);const $=uC(o);$?(u($.rankings),g($.userRank),L("Showing cached data. "+X2(I))):L(X2(I))}finally{y(!1)}},[o]);D.useEffect(()=>{Y()},[Y]),D.useEffect(()=>{(async()=>{const $=d.filter(ae=>!ae.displayName&&!z.current.has(ae.npub)).map(ae=>ae.npub);if($.length===0)return;const fe=await fS($);fe.forEach((ae,J)=>{z.current.set(J,ae)}),fe.size>0&&u(ae=>ae.map(J=>{const Q=z.current.get(J.npub);return!J.displayName&&Q?{...J,displayName:Q.display_name||Q.name||null}:J}))})()},[d]),D.useEffect(()=>{const I=setInterval(Y,JT);return()=>clearInterval(I)},[Y]);const _=xa().getLocalScores(),k=_?Object.values(_).reduce((I,$)=>I+($||0),0):0,N=Math.floor(Math.sqrt(k/100))+1,C=()=>{const I=w.trim().slice(0,30);i(I||null),T(!1)};return e.jsxs("div",{className:`max-w-2xl mx-auto ${s}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-dark-100",children:"Leaderboard"}),e.jsx("p",{className:"text-sm text-dark-400 mt-1",children:"Compete with other learners across all courses"})]}),e.jsx(Z2,{showDisplayName:!1})]}),t&&e.jsxs("div",{className:"mb-6",children:[e.jsx(oC,{rank:p,totalXP:k,level:N,courseXP:_||void 0}),e.jsx("div",{className:"mt-3 flex items-center gap-2",children:F?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",value:w,onChange:I=>A(I.target.value),placeholder:"Enter display name",maxLength:30,className:"flex-1 px-3 py-1.5 rounded-lg bg-dark-800 border border-dark-600 text-dark-100 text-sm focus:outline-none focus:border-primary-500",autoFocus:!0,onKeyDown:I=>{I.key==="Enter"&&C(),I.key==="Escape"&&T(!1)}}),e.jsx("button",{onClick:C,className:"px-3 py-1.5 rounded-lg bg-primary-600 text-white text-sm hover:bg-primary-500 transition-colors",children:"Save"}),e.jsx("button",{onClick:()=>T(!1),className:"px-3 py-1.5 rounded-lg bg-dark-700 text-dark-300 text-sm hover:bg-dark-600 transition-colors",children:"Cancel"})]}):e.jsx("button",{onClick:()=>{A(r||""),T(!0)},className:"text-sm text-primary-400 hover:text-primary-300 transition-colors",children:r?"Edit display name":"Set display name"})})]}),!t&&e.jsxs("div",{className:"mb-6 p-6 rounded-2xl bg-dark-800/60 border border-dark-700/50 text-center",children:[e.jsx("div",{className:"text-4xl mb-3",children:""}),e.jsx("h3",{className:"text-lg font-semibold text-dark-100 mb-2",children:"Connect to Join the Leaderboard"}),e.jsx("p",{className:"text-sm text-dark-400 mb-4 max-w-sm mx-auto",children:"Link your Nostr identity to sync your progress and compete with other learners."}),e.jsx(Z2,{})]}),e.jsx("div",{className:"flex gap-1 p-1 rounded-xl bg-dark-800/60 border border-dark-700/50 mb-4",children:Y2.map(I=>e.jsxs("button",{onClick:()=>c(I.id),className:`
              flex-1 px-3 py-2 rounded-lg text-sm font-medium transition-colors
              ${o===I.id?"bg-primary-600 text-white shadow-lg shadow-primary-600/25":"text-dark-300 hover:text-dark-100 hover:bg-dark-700/50"}
            `,children:[e.jsx("span",{className:"hidden sm:inline",children:I.label}),e.jsx("span",{className:"sm:hidden",children:I.shortLabel})]},I.id))}),M&&e.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-red-500/10 border border-red-500/30 text-red-400 text-sm",children:[M,e.jsx("button",{onClick:Y,className:"ml-2 underline hover:no-underline",children:"Retry"})]}),e.jsxs("div",{className:"p-4 rounded-2xl bg-dark-800/60 border border-dark-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"font-semibold text-dark-100",children:[(G=Y2.find(I=>I.id===o))==null?void 0:G.label," Rankings"]}),e.jsx("button",{onClick:Y,disabled:v,className:"text-xs text-dark-400 hover:text-dark-200 transition-colors disabled:opacity-50",children:v?"Loading...":"Refresh"})]}),e.jsx(lC,{rankings:d,currentUserNpub:n,isLoading:v})]}),l&&e.jsx(hC,{className:"mt-6"}),e.jsx("p",{className:"mt-4 text-xs text-dark-500 text-center",children:"Scores sync automatically when you're connected. Rankings update every few minutes."})]})}class Ms{constructor(t,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=r}static range(t,n){return n?!t||!t.loc||!n.loc||t.loc.lexer!==n.loc.lexer?null:new Ms(t.loc.lexer,t.loc.start,n.loc.end):t&&t.loc}}class Xs{constructor(t,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}range(t,n){return new Xs(n,Ms.range(this,t))}}class ye{constructor(t,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+t,i,l,o=n&&n.loc;if(o&&o.start<=o.end){var c=o.lexer.input;i=o.start,l=o.end,i===c.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var d=c.slice(i,l).replace(/[^]/g,"$&"),u;i>15?u=""+c.slice(i-15,i):u=c.slice(0,i);var p;l+15<c.length?p=c.slice(l,l+15)+"":p=c.slice(l),r+=u+d+p}var g=new Error(r);return g.name="ParseError",g.__proto__=ye.prototype,g.position=i,i!=null&&l!=null&&(g.length=l-i),g.rawMessage=t,g}}ye.prototype.__proto__=Error.prototype;var pC=function(t,n){return t===void 0?n:t},xC=/([A-Z])/g,gC=function(t){return t.replace(xC,"-$1").toLowerCase()},vC={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},jC=/[&><"']/g;function yC(s){return String(s).replace(jC,t=>vC[t])}var N3=function s(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?s(t.body[0]):t:t.type==="font"?s(t.body):t},bC=function(t){var n=N3(t);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},wC=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},kC=function(t){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Ze={deflt:pC,escape:yC,hyphenate:gC,getBaseElem:N3,isCharacterBox:bC,protocolFromUrl:kC},cd={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:s=>"#"+s},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(s,t)=>(t.push(s),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:s=>Math.max(0,s),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:s=>Math.max(0,s),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:s=>Math.max(0,s),cli:"-e, --max-expand <n>",cliProcessor:s=>s==="Infinity"?1/0:parseInt(s)},globalGroup:{type:"boolean",cli:!1}};function TC(s){if(s.default)return s.default;var t=s.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class gx{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var n in cd)if(cd.hasOwnProperty(n)){var r=cd[n];this[n]=t[n]!==void 0?r.processor?r.processor(t[n]):t[n]:TC(r)}}reportNonstrict(t,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(t,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new ye("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+t+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+t+"]"))}}useStrictBehavior(t,n,r){var i=this.strict;if(typeof i=="function")try{i=i(t,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var n=Ze.protocolFromUrl(t.url);if(n==null)return!1;t.protocol=n}var r=typeof this.trust=="function"?this.trust(t):this.trust;return!!r}}class ni{constructor(t,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=r}sup(){return Dn[SC[this.id]]}sub(){return Dn[NC[this.id]]}fracNum(){return Dn[AC[this.id]]}fracDen(){return Dn[_C[this.id]]}cramp(){return Dn[EC[this.id]]}text(){return Dn[CC[this.id]]}isTight(){return this.size>=2}}var vx=0,nu=1,_l=2,Cr=3,Nc=4,hn=5,Bl=6,js=7,Dn=[new ni(vx,0,!1),new ni(nu,0,!0),new ni(_l,1,!1),new ni(Cr,1,!0),new ni(Nc,2,!1),new ni(hn,2,!0),new ni(Bl,3,!1),new ni(js,3,!0)],SC=[Nc,hn,Nc,hn,Bl,js,Bl,js],NC=[hn,hn,hn,hn,js,js,js,js],AC=[_l,Cr,Nc,hn,Bl,js,Bl,js],_C=[Cr,Cr,hn,hn,js,js,js,js],EC=[nu,nu,Cr,Cr,hn,hn,js,js],CC=[vx,nu,_l,Cr,_l,Cr,_l,Cr],Ge={DISPLAY:Dn[vx],TEXT:Dn[_l],SCRIPT:Dn[Nc],SCRIPTSCRIPT:Dn[Bl]},Rf=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function MC(s){for(var t=0;t<Rf.length;t++)for(var n=Rf[t],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(s>=i[0]&&s<=i[1])return n.name}return null}var hd=[];Rf.forEach(s=>s.blocks.forEach(t=>hd.push(...t)));function A3(s){for(var t=0;t<hd.length;t+=2)if(s>=hd[t]&&s<=hd[t+1])return!0;return!1}var Qa=80,$C=function(t,n){return"M95,"+(622+t+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},GC=function(t,n){return"M263,"+(601+t+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},zC=function(t,n){return"M983 "+(10+t+n)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},IC=function(t,n){return"M424,"+(2398+t+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+n+`
h400000v`+(40+t)+"h-400000z"},DC=function(t,n){return"M473,"+(2713+t+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+n+"h400000v"+(40+t)+"H1017.7z"},RC=function(t){var n=t/2;return"M400000 "+t+" H0 L"+n+" 0 l65 45 L145 "+(t-80)+" H400000z"},OC=function(t,n,r){var i=r-54-n-t;return"M702 "+(t+n)+"H400000"+(40+t)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+t)+"H742z"},qC=function(t,n,r){n=1e3*n;var i="";switch(t){case"sqrtMain":i=$C(n,Qa);break;case"sqrtSize1":i=GC(n,Qa);break;case"sqrtSize2":i=zC(n,Qa);break;case"sqrtSize3":i=IC(n,Qa);break;case"sqrtSize4":i=DC(n,Qa);break;case"sqrtTall":i=OC(n,Qa,r)}return i},LC=function(t,n){switch(t){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},W2={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},PC=function(t,n){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Kc{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return this.classes.includes(t)}toNode(){for(var t=document.createDocumentFragment(),n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t}toText(){var t=n=>n.toText();return this.children.map(t).join("")}}var Pn={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},$h={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Q2={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function BC(s,t){Pn[s]=t}function jx(s,t,n){if(!Pn[t])throw new Error("Font metrics not found for font: "+t+".");var r=s.charCodeAt(0),i=Pn[t][r];if(!i&&s[0]in Q2&&(r=Q2[s[0]].charCodeAt(0),i=Pn[t][r]),!i&&n==="text"&&A3(r)&&(i=Pn[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var W0={};function HC(s){var t;if(s>=5?t=0:s>=3?t=1:t=2,!W0[t]){var n=W0[t]={cssEmPerMu:$h.quad[t]/18};for(var r in $h)$h.hasOwnProperty(r)&&(n[r]=$h[r][t])}return W0[t]}var UC=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],J2=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],ev=function(t,n){return n.size<2?t:UC[t-1][n.size-1]};class vr{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||vr.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=J2[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return new vr(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:ev(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:J2[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=ev(vr.BASESIZE,t);return this.size===n&&this.textSize===vr.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==vr.BASESIZE?["sizing","reset-size"+this.size,"size"+vr.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=HC(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}vr.BASESIZE=6;var Of={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},FC={ex:!0,em:!0,mu:!0},_3=function(t){return typeof t!="string"&&(t=t.unit),t in Of||t in FC||t==="ex"},kt=function(t,n){var r;if(t.unit in Of)r=Of[t.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(t.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,t.unit==="ex")r=i.fontMetrics().xHeight;else if(t.unit==="em")r=i.fontMetrics().quad;else throw new ye("Invalid unit: '"+t.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(t.number*r,n.maxSize)},ke=function(t){return+t.toFixed(4)+"em"},Hi=function(t){return t.filter(n=>n).join(" ")},E3=function(t,n,r){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},C3=function(t){var n=document.createElement(t);n.className=Hi(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var l=0;l<this.children.length;l++)n.appendChild(this.children[l].toNode());return n},VC=/[\s"'>/=\x00-\x1f]/,M3=function(t){var n="<"+t;this.classes.length&&(n+=' class="'+Ze.escape(Hi(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Ze.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+Ze.escape(r)+'"');for(var l in this.attributes)if(this.attributes.hasOwnProperty(l)){if(VC.test(l))throw new ye("Invalid attribute name '"+l+"'");n+=" "+l+'="'+Ze.escape(this.attributes[l])+'"'}n+=">";for(var o=0;o<this.children.length;o++)n+=this.children[o].toMarkup();return n+="</"+t+">",n};class Zc{constructor(t,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,E3.call(this,t,r,i),this.children=n||[]}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return this.classes.includes(t)}toNode(){return C3.call(this,"span")}toMarkup(){return M3.call(this,"span")}}class yx{constructor(t,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,E3.call(this,n,i),this.children=r||[],this.setAttribute("href",t)}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return this.classes.includes(t)}toNode(){return C3.call(this,"a")}toMarkup(){return M3.call(this,"a")}}class KC{constructor(t,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=r}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);return t}toMarkup(){var t='<img src="'+Ze.escape(this.src)+'"'+(' alt="'+Ze.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Ze.hyphenate(r)+":"+this.style[r]+";");return n&&(t+=' style="'+Ze.escape(n)+'"'),t+="'/>",t}}var ZC={:"",:"",:"",:""};class fn{constructor(t,n,r,i,l,o,c,d){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=l||0,this.width=o||0,this.classes=c||[],this.style=d||{},this.maxFontSize=0;var u=MC(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=ZC[this.text])}hasClass(t){return this.classes.includes(t)}toNode(){var t=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=ke(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Hi(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(t),n):t}toMarkup(){var t=!1,n="<span";this.classes.length&&(t=!0,n+=' class="',n+=Ze.escape(Hi(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Ze.hyphenate(i)+":"+this.style[i]+";");r&&(t=!0,n+=' style="'+Ze.escape(r)+'"');var l=Ze.escape(this.text);return t?(n+=">",n+=l,n+="</span>",n):l}}class Lr{constructor(t,n){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+Ze.escape(this.attributes[n])+'"');t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</svg>",t}}class Ui{constructor(t,n){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",W2[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Ze.escape(this.alternate)+'"/>':'<path d="'+Ze.escape(W2[this.pathName])+'"/>'}}class qf{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var t="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+Ze.escape(this.attributes[n])+'"');return t+="/>",t}}function tv(s){if(s instanceof fn)return s;throw new Error("Expected symbolNode but got "+String(s)+".")}function XC(s){if(s instanceof Zc)return s;throw new Error("Expected span<HtmlDomNode> but got "+String(s)+".")}var YC={bin:1,close:1,inner:1,open:1,punct:1,rel:1},WC={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},dt={math:{},text:{}};function m(s,t,n,r,i,l){dt[s][i]={font:t,group:n,replace:r},l&&r&&(dt[s][r]=dt[s][i])}var x="math",xe="text",b="main",R="ams",vt="accent-token",Ne="bin",Ts="close",Jl="inner",$e="mathord",Lt="op-token",Js="open",Ru="punct",q="rel",Ur="spacing",X="textord";m(x,b,q,"","\\equiv",!0);m(x,b,q,"","\\prec",!0);m(x,b,q,"","\\succ",!0);m(x,b,q,"","\\sim",!0);m(x,b,q,"","\\perp");m(x,b,q,"","\\preceq",!0);m(x,b,q,"","\\succeq",!0);m(x,b,q,"","\\simeq",!0);m(x,b,q,"","\\mid",!0);m(x,b,q,"","\\ll",!0);m(x,b,q,"","\\gg",!0);m(x,b,q,"","\\asymp",!0);m(x,b,q,"","\\parallel");m(x,b,q,"","\\bowtie",!0);m(x,b,q,"","\\smile",!0);m(x,b,q,"","\\sqsubseteq",!0);m(x,b,q,"","\\sqsupseteq",!0);m(x,b,q,"","\\doteq",!0);m(x,b,q,"","\\frown",!0);m(x,b,q,"","\\ni",!0);m(x,b,q,"","\\propto",!0);m(x,b,q,"","\\vdash",!0);m(x,b,q,"","\\dashv",!0);m(x,b,q,"","\\owns");m(x,b,Ru,".","\\ldotp");m(x,b,Ru,"","\\cdotp");m(x,b,X,"#","\\#");m(xe,b,X,"#","\\#");m(x,b,X,"&","\\&");m(xe,b,X,"&","\\&");m(x,b,X,"","\\aleph",!0);m(x,b,X,"","\\forall",!0);m(x,b,X,"","\\hbar",!0);m(x,b,X,"","\\exists",!0);m(x,b,X,"","\\nabla",!0);m(x,b,X,"","\\flat",!0);m(x,b,X,"","\\ell",!0);m(x,b,X,"","\\natural",!0);m(x,b,X,"","\\clubsuit",!0);m(x,b,X,"","\\wp",!0);m(x,b,X,"","\\sharp",!0);m(x,b,X,"","\\diamondsuit",!0);m(x,b,X,"","\\Re",!0);m(x,b,X,"","\\heartsuit",!0);m(x,b,X,"","\\Im",!0);m(x,b,X,"","\\spadesuit",!0);m(x,b,X,"","\\S",!0);m(xe,b,X,"","\\S");m(x,b,X,"","\\P",!0);m(xe,b,X,"","\\P");m(x,b,X,"","\\dag");m(xe,b,X,"","\\dag");m(xe,b,X,"","\\textdagger");m(x,b,X,"","\\ddag");m(xe,b,X,"","\\ddag");m(xe,b,X,"","\\textdaggerdbl");m(x,b,Ts,"","\\rmoustache",!0);m(x,b,Js,"","\\lmoustache",!0);m(x,b,Ts,"","\\rgroup",!0);m(x,b,Js,"","\\lgroup",!0);m(x,b,Ne,"","\\mp",!0);m(x,b,Ne,"","\\ominus",!0);m(x,b,Ne,"","\\uplus",!0);m(x,b,Ne,"","\\sqcap",!0);m(x,b,Ne,"","\\ast");m(x,b,Ne,"","\\sqcup",!0);m(x,b,Ne,"","\\bigcirc",!0);m(x,b,Ne,"","\\bullet",!0);m(x,b,Ne,"","\\ddagger");m(x,b,Ne,"","\\wr",!0);m(x,b,Ne,"","\\amalg");m(x,b,Ne,"&","\\And");m(x,b,q,"","\\longleftarrow",!0);m(x,b,q,"","\\Leftarrow",!0);m(x,b,q,"","\\Longleftarrow",!0);m(x,b,q,"","\\longrightarrow",!0);m(x,b,q,"","\\Rightarrow",!0);m(x,b,q,"","\\Longrightarrow",!0);m(x,b,q,"","\\leftrightarrow",!0);m(x,b,q,"","\\longleftrightarrow",!0);m(x,b,q,"","\\Leftrightarrow",!0);m(x,b,q,"","\\Longleftrightarrow",!0);m(x,b,q,"","\\mapsto",!0);m(x,b,q,"","\\longmapsto",!0);m(x,b,q,"","\\nearrow",!0);m(x,b,q,"","\\hookleftarrow",!0);m(x,b,q,"","\\hookrightarrow",!0);m(x,b,q,"","\\searrow",!0);m(x,b,q,"","\\leftharpoonup",!0);m(x,b,q,"","\\rightharpoonup",!0);m(x,b,q,"","\\swarrow",!0);m(x,b,q,"","\\leftharpoondown",!0);m(x,b,q,"","\\rightharpoondown",!0);m(x,b,q,"","\\nwarrow",!0);m(x,b,q,"","\\rightleftharpoons",!0);m(x,R,q,"","\\nless",!0);m(x,R,q,"","\\@nleqslant");m(x,R,q,"","\\@nleqq");m(x,R,q,"","\\lneq",!0);m(x,R,q,"","\\lneqq",!0);m(x,R,q,"","\\@lvertneqq");m(x,R,q,"","\\lnsim",!0);m(x,R,q,"","\\lnapprox",!0);m(x,R,q,"","\\nprec",!0);m(x,R,q,"","\\npreceq",!0);m(x,R,q,"","\\precnsim",!0);m(x,R,q,"","\\precnapprox",!0);m(x,R,q,"","\\nsim",!0);m(x,R,q,"","\\@nshortmid");m(x,R,q,"","\\nmid",!0);m(x,R,q,"","\\nvdash",!0);m(x,R,q,"","\\nvDash",!0);m(x,R,q,"","\\ntriangleleft");m(x,R,q,"","\\ntrianglelefteq",!0);m(x,R,q,"","\\subsetneq",!0);m(x,R,q,"","\\@varsubsetneq");m(x,R,q,"","\\subsetneqq",!0);m(x,R,q,"","\\@varsubsetneqq");m(x,R,q,"","\\ngtr",!0);m(x,R,q,"","\\@ngeqslant");m(x,R,q,"","\\@ngeqq");m(x,R,q,"","\\gneq",!0);m(x,R,q,"","\\gneqq",!0);m(x,R,q,"","\\@gvertneqq");m(x,R,q,"","\\gnsim",!0);m(x,R,q,"","\\gnapprox",!0);m(x,R,q,"","\\nsucc",!0);m(x,R,q,"","\\nsucceq",!0);m(x,R,q,"","\\succnsim",!0);m(x,R,q,"","\\succnapprox",!0);m(x,R,q,"","\\ncong",!0);m(x,R,q,"","\\@nshortparallel");m(x,R,q,"","\\nparallel",!0);m(x,R,q,"","\\nVDash",!0);m(x,R,q,"","\\ntriangleright");m(x,R,q,"","\\ntrianglerighteq",!0);m(x,R,q,"","\\@nsupseteqq");m(x,R,q,"","\\supsetneq",!0);m(x,R,q,"","\\@varsupsetneq");m(x,R,q,"","\\supsetneqq",!0);m(x,R,q,"","\\@varsupsetneqq");m(x,R,q,"","\\nVdash",!0);m(x,R,q,"","\\precneqq",!0);m(x,R,q,"","\\succneqq",!0);m(x,R,q,"","\\@nsubseteqq");m(x,R,Ne,"","\\unlhd");m(x,R,Ne,"","\\unrhd");m(x,R,q,"","\\nleftarrow",!0);m(x,R,q,"","\\nrightarrow",!0);m(x,R,q,"","\\nLeftarrow",!0);m(x,R,q,"","\\nRightarrow",!0);m(x,R,q,"","\\nleftrightarrow",!0);m(x,R,q,"","\\nLeftrightarrow",!0);m(x,R,q,"","\\vartriangle");m(x,R,X,"","\\hslash");m(x,R,X,"","\\triangledown");m(x,R,X,"","\\lozenge");m(x,R,X,"","\\circledS");m(x,R,X,"","\\circledR");m(xe,R,X,"","\\circledR");m(x,R,X,"","\\measuredangle",!0);m(x,R,X,"","\\nexists");m(x,R,X,"","\\mho");m(x,R,X,"","\\Finv",!0);m(x,R,X,"","\\Game",!0);m(x,R,X,"","\\backprime");m(x,R,X,"","\\blacktriangle");m(x,R,X,"","\\blacktriangledown");m(x,R,X,"","\\blacksquare");m(x,R,X,"","\\blacklozenge");m(x,R,X,"","\\bigstar");m(x,R,X,"","\\sphericalangle",!0);m(x,R,X,"","\\complement",!0);m(x,R,X,"","\\eth",!0);m(xe,b,X,"","");m(x,R,X,"","\\diagup");m(x,R,X,"","\\diagdown");m(x,R,X,"","\\square");m(x,R,X,"","\\Box");m(x,R,X,"","\\Diamond");m(x,R,X,"","\\yen",!0);m(xe,R,X,"","\\yen",!0);m(x,R,X,"","\\checkmark",!0);m(xe,R,X,"","\\checkmark");m(x,R,X,"","\\beth",!0);m(x,R,X,"","\\daleth",!0);m(x,R,X,"","\\gimel",!0);m(x,R,X,"","\\digamma",!0);m(x,R,X,"","\\varkappa");m(x,R,Js,"","\\@ulcorner",!0);m(x,R,Ts,"","\\@urcorner",!0);m(x,R,Js,"","\\@llcorner",!0);m(x,R,Ts,"","\\@lrcorner",!0);m(x,R,q,"","\\leqq",!0);m(x,R,q,"","\\leqslant",!0);m(x,R,q,"","\\eqslantless",!0);m(x,R,q,"","\\lesssim",!0);m(x,R,q,"","\\lessapprox",!0);m(x,R,q,"","\\approxeq",!0);m(x,R,Ne,"","\\lessdot");m(x,R,q,"","\\lll",!0);m(x,R,q,"","\\lessgtr",!0);m(x,R,q,"","\\lesseqgtr",!0);m(x,R,q,"","\\lesseqqgtr",!0);m(x,R,q,"","\\doteqdot");m(x,R,q,"","\\risingdotseq",!0);m(x,R,q,"","\\fallingdotseq",!0);m(x,R,q,"","\\backsim",!0);m(x,R,q,"","\\backsimeq",!0);m(x,R,q,"","\\subseteqq",!0);m(x,R,q,"","\\Subset",!0);m(x,R,q,"","\\sqsubset",!0);m(x,R,q,"","\\preccurlyeq",!0);m(x,R,q,"","\\curlyeqprec",!0);m(x,R,q,"","\\precsim",!0);m(x,R,q,"","\\precapprox",!0);m(x,R,q,"","\\vartriangleleft");m(x,R,q,"","\\trianglelefteq");m(x,R,q,"","\\vDash",!0);m(x,R,q,"","\\Vvdash",!0);m(x,R,q,"","\\smallsmile");m(x,R,q,"","\\smallfrown");m(x,R,q,"","\\bumpeq",!0);m(x,R,q,"","\\Bumpeq",!0);m(x,R,q,"","\\geqq",!0);m(x,R,q,"","\\geqslant",!0);m(x,R,q,"","\\eqslantgtr",!0);m(x,R,q,"","\\gtrsim",!0);m(x,R,q,"","\\gtrapprox",!0);m(x,R,Ne,"","\\gtrdot");m(x,R,q,"","\\ggg",!0);m(x,R,q,"","\\gtrless",!0);m(x,R,q,"","\\gtreqless",!0);m(x,R,q,"","\\gtreqqless",!0);m(x,R,q,"","\\eqcirc",!0);m(x,R,q,"","\\circeq",!0);m(x,R,q,"","\\triangleq",!0);m(x,R,q,"","\\thicksim");m(x,R,q,"","\\thickapprox");m(x,R,q,"","\\supseteqq",!0);m(x,R,q,"","\\Supset",!0);m(x,R,q,"","\\sqsupset",!0);m(x,R,q,"","\\succcurlyeq",!0);m(x,R,q,"","\\curlyeqsucc",!0);m(x,R,q,"","\\succsim",!0);m(x,R,q,"","\\succapprox",!0);m(x,R,q,"","\\vartriangleright");m(x,R,q,"","\\trianglerighteq");m(x,R,q,"","\\Vdash",!0);m(x,R,q,"","\\shortmid");m(x,R,q,"","\\shortparallel");m(x,R,q,"","\\between",!0);m(x,R,q,"","\\pitchfork",!0);m(x,R,q,"","\\varpropto");m(x,R,q,"","\\blacktriangleleft");m(x,R,q,"","\\therefore",!0);m(x,R,q,"","\\backepsilon");m(x,R,q,"","\\blacktriangleright");m(x,R,q,"","\\because",!0);m(x,R,q,"","\\llless");m(x,R,q,"","\\gggtr");m(x,R,Ne,"","\\lhd");m(x,R,Ne,"","\\rhd");m(x,R,q,"","\\eqsim",!0);m(x,b,q,"","\\Join");m(x,R,q,"","\\Doteq",!0);m(x,R,Ne,"","\\dotplus",!0);m(x,R,Ne,"","\\smallsetminus");m(x,R,Ne,"","\\Cap",!0);m(x,R,Ne,"","\\Cup",!0);m(x,R,Ne,"","\\doublebarwedge",!0);m(x,R,Ne,"","\\boxminus",!0);m(x,R,Ne,"","\\boxplus",!0);m(x,R,Ne,"","\\divideontimes",!0);m(x,R,Ne,"","\\ltimes",!0);m(x,R,Ne,"","\\rtimes",!0);m(x,R,Ne,"","\\leftthreetimes",!0);m(x,R,Ne,"","\\rightthreetimes",!0);m(x,R,Ne,"","\\curlywedge",!0);m(x,R,Ne,"","\\curlyvee",!0);m(x,R,Ne,"","\\circleddash",!0);m(x,R,Ne,"","\\circledast",!0);m(x,R,Ne,"","\\centerdot");m(x,R,Ne,"","\\intercal",!0);m(x,R,Ne,"","\\doublecap");m(x,R,Ne,"","\\doublecup");m(x,R,Ne,"","\\boxtimes",!0);m(x,R,q,"","\\dashrightarrow",!0);m(x,R,q,"","\\dashleftarrow",!0);m(x,R,q,"","\\leftleftarrows",!0);m(x,R,q,"","\\leftrightarrows",!0);m(x,R,q,"","\\Lleftarrow",!0);m(x,R,q,"","\\twoheadleftarrow",!0);m(x,R,q,"","\\leftarrowtail",!0);m(x,R,q,"","\\looparrowleft",!0);m(x,R,q,"","\\leftrightharpoons",!0);m(x,R,q,"","\\curvearrowleft",!0);m(x,R,q,"","\\circlearrowleft",!0);m(x,R,q,"","\\Lsh",!0);m(x,R,q,"","\\upuparrows",!0);m(x,R,q,"","\\upharpoonleft",!0);m(x,R,q,"","\\downharpoonleft",!0);m(x,b,q,"","\\origof",!0);m(x,b,q,"","\\imageof",!0);m(x,R,q,"","\\multimap",!0);m(x,R,q,"","\\leftrightsquigarrow",!0);m(x,R,q,"","\\rightrightarrows",!0);m(x,R,q,"","\\rightleftarrows",!0);m(x,R,q,"","\\twoheadrightarrow",!0);m(x,R,q,"","\\rightarrowtail",!0);m(x,R,q,"","\\looparrowright",!0);m(x,R,q,"","\\curvearrowright",!0);m(x,R,q,"","\\circlearrowright",!0);m(x,R,q,"","\\Rsh",!0);m(x,R,q,"","\\downdownarrows",!0);m(x,R,q,"","\\upharpoonright",!0);m(x,R,q,"","\\downharpoonright",!0);m(x,R,q,"","\\rightsquigarrow",!0);m(x,R,q,"","\\leadsto");m(x,R,q,"","\\Rrightarrow",!0);m(x,R,q,"","\\restriction");m(x,b,X,"","`");m(x,b,X,"$","\\$");m(xe,b,X,"$","\\$");m(xe,b,X,"$","\\textdollar");m(x,b,X,"%","\\%");m(xe,b,X,"%","\\%");m(x,b,X,"_","\\_");m(xe,b,X,"_","\\_");m(xe,b,X,"_","\\textunderscore");m(x,b,X,"","\\angle",!0);m(x,b,X,"","\\infty",!0);m(x,b,X,"","\\prime");m(x,b,X,"","\\triangle");m(x,b,X,"","\\Gamma",!0);m(x,b,X,"","\\Delta",!0);m(x,b,X,"","\\Theta",!0);m(x,b,X,"","\\Lambda",!0);m(x,b,X,"","\\Xi",!0);m(x,b,X,"","\\Pi",!0);m(x,b,X,"","\\Sigma",!0);m(x,b,X,"","\\Upsilon",!0);m(x,b,X,"","\\Phi",!0);m(x,b,X,"","\\Psi",!0);m(x,b,X,"","\\Omega",!0);m(x,b,X,"A","");m(x,b,X,"B","");m(x,b,X,"E","");m(x,b,X,"Z","");m(x,b,X,"H","");m(x,b,X,"I","");m(x,b,X,"K","");m(x,b,X,"M","");m(x,b,X,"N","");m(x,b,X,"O","");m(x,b,X,"P","");m(x,b,X,"T","");m(x,b,X,"X","");m(x,b,X,"","\\neg",!0);m(x,b,X,"","\\lnot");m(x,b,X,"","\\top");m(x,b,X,"","\\bot");m(x,b,X,"","\\emptyset");m(x,R,X,"","\\varnothing");m(x,b,$e,"","\\alpha",!0);m(x,b,$e,"","\\beta",!0);m(x,b,$e,"","\\gamma",!0);m(x,b,$e,"","\\delta",!0);m(x,b,$e,"","\\epsilon",!0);m(x,b,$e,"","\\zeta",!0);m(x,b,$e,"","\\eta",!0);m(x,b,$e,"","\\theta",!0);m(x,b,$e,"","\\iota",!0);m(x,b,$e,"","\\kappa",!0);m(x,b,$e,"","\\lambda",!0);m(x,b,$e,"","\\mu",!0);m(x,b,$e,"","\\nu",!0);m(x,b,$e,"","\\xi",!0);m(x,b,$e,"","\\omicron",!0);m(x,b,$e,"","\\pi",!0);m(x,b,$e,"","\\rho",!0);m(x,b,$e,"","\\sigma",!0);m(x,b,$e,"","\\tau",!0);m(x,b,$e,"","\\upsilon",!0);m(x,b,$e,"","\\phi",!0);m(x,b,$e,"","\\chi",!0);m(x,b,$e,"","\\psi",!0);m(x,b,$e,"","\\omega",!0);m(x,b,$e,"","\\varepsilon",!0);m(x,b,$e,"","\\vartheta",!0);m(x,b,$e,"","\\varpi",!0);m(x,b,$e,"","\\varrho",!0);m(x,b,$e,"","\\varsigma",!0);m(x,b,$e,"","\\varphi",!0);m(x,b,Ne,"","*",!0);m(x,b,Ne,"+","+");m(x,b,Ne,"","-",!0);m(x,b,Ne,"","\\cdot",!0);m(x,b,Ne,"","\\circ",!0);m(x,b,Ne,"","\\div",!0);m(x,b,Ne,"","\\pm",!0);m(x,b,Ne,"","\\times",!0);m(x,b,Ne,"","\\cap",!0);m(x,b,Ne,"","\\cup",!0);m(x,b,Ne,"","\\setminus",!0);m(x,b,Ne,"","\\land");m(x,b,Ne,"","\\lor");m(x,b,Ne,"","\\wedge",!0);m(x,b,Ne,"","\\vee",!0);m(x,b,X,"","\\surd");m(x,b,Js,"","\\langle",!0);m(x,b,Js,"","\\lvert");m(x,b,Js,"","\\lVert");m(x,b,Ts,"?","?");m(x,b,Ts,"!","!");m(x,b,Ts,"","\\rangle",!0);m(x,b,Ts,"","\\rvert");m(x,b,Ts,"","\\rVert");m(x,b,q,"=","=");m(x,b,q,":",":");m(x,b,q,"","\\approx",!0);m(x,b,q,"","\\cong",!0);m(x,b,q,"","\\ge");m(x,b,q,"","\\geq",!0);m(x,b,q,"","\\gets");m(x,b,q,">","\\gt",!0);m(x,b,q,"","\\in",!0);m(x,b,q,"","\\@not");m(x,b,q,"","\\subset",!0);m(x,b,q,"","\\supset",!0);m(x,b,q,"","\\subseteq",!0);m(x,b,q,"","\\supseteq",!0);m(x,R,q,"","\\nsubseteq",!0);m(x,R,q,"","\\nsupseteq",!0);m(x,b,q,"","\\models");m(x,b,q,"","\\leftarrow",!0);m(x,b,q,"","\\le");m(x,b,q,"","\\leq",!0);m(x,b,q,"<","\\lt",!0);m(x,b,q,"","\\rightarrow",!0);m(x,b,q,"","\\to");m(x,R,q,"","\\ngeq",!0);m(x,R,q,"","\\nleq",!0);m(x,b,Ur,"","\\ ");m(x,b,Ur,"","\\space");m(x,b,Ur,"","\\nobreakspace");m(xe,b,Ur,"","\\ ");m(xe,b,Ur,""," ");m(xe,b,Ur,"","\\space");m(xe,b,Ur,"","\\nobreakspace");m(x,b,Ur,null,"\\nobreak");m(x,b,Ur,null,"\\allowbreak");m(x,b,Ru,",",",");m(x,b,Ru,";",";");m(x,R,Ne,"","\\barwedge",!0);m(x,R,Ne,"","\\veebar",!0);m(x,b,Ne,"","\\odot",!0);m(x,b,Ne,"","\\oplus",!0);m(x,b,Ne,"","\\otimes",!0);m(x,b,X,"","\\partial",!0);m(x,b,Ne,"","\\oslash",!0);m(x,R,Ne,"","\\circledcirc",!0);m(x,R,Ne,"","\\boxdot",!0);m(x,b,Ne,"","\\bigtriangleup");m(x,b,Ne,"","\\bigtriangledown");m(x,b,Ne,"","\\dagger");m(x,b,Ne,"","\\diamond");m(x,b,Ne,"","\\star");m(x,b,Ne,"","\\triangleleft");m(x,b,Ne,"","\\triangleright");m(x,b,Js,"{","\\{");m(xe,b,X,"{","\\{");m(xe,b,X,"{","\\textbraceleft");m(x,b,Ts,"}","\\}");m(xe,b,X,"}","\\}");m(xe,b,X,"}","\\textbraceright");m(x,b,Js,"{","\\lbrace");m(x,b,Ts,"}","\\rbrace");m(x,b,Js,"[","\\lbrack",!0);m(xe,b,X,"[","\\lbrack",!0);m(x,b,Ts,"]","\\rbrack",!0);m(xe,b,X,"]","\\rbrack",!0);m(x,b,Js,"(","\\lparen",!0);m(x,b,Ts,")","\\rparen",!0);m(xe,b,X,"<","\\textless",!0);m(xe,b,X,">","\\textgreater",!0);m(x,b,Js,"","\\lfloor",!0);m(x,b,Ts,"","\\rfloor",!0);m(x,b,Js,"","\\lceil",!0);m(x,b,Ts,"","\\rceil",!0);m(x,b,X,"\\","\\backslash");m(x,b,X,"","|");m(x,b,X,"","\\vert");m(xe,b,X,"|","\\textbar",!0);m(x,b,X,"","\\|");m(x,b,X,"","\\Vert");m(xe,b,X,"","\\textbardbl");m(xe,b,X,"~","\\textasciitilde");m(xe,b,X,"\\","\\textbackslash");m(xe,b,X,"^","\\textasciicircum");m(x,b,q,"","\\uparrow",!0);m(x,b,q,"","\\Uparrow",!0);m(x,b,q,"","\\downarrow",!0);m(x,b,q,"","\\Downarrow",!0);m(x,b,q,"","\\updownarrow",!0);m(x,b,q,"","\\Updownarrow",!0);m(x,b,Lt,"","\\coprod");m(x,b,Lt,"","\\bigvee");m(x,b,Lt,"","\\bigwedge");m(x,b,Lt,"","\\biguplus");m(x,b,Lt,"","\\bigcap");m(x,b,Lt,"","\\bigcup");m(x,b,Lt,"","\\int");m(x,b,Lt,"","\\intop");m(x,b,Lt,"","\\iint");m(x,b,Lt,"","\\iiint");m(x,b,Lt,"","\\prod");m(x,b,Lt,"","\\sum");m(x,b,Lt,"","\\bigotimes");m(x,b,Lt,"","\\bigoplus");m(x,b,Lt,"","\\bigodot");m(x,b,Lt,"","\\oint");m(x,b,Lt,"","\\oiint");m(x,b,Lt,"","\\oiiint");m(x,b,Lt,"","\\bigsqcup");m(x,b,Lt,"","\\smallint");m(xe,b,Jl,"","\\textellipsis");m(x,b,Jl,"","\\mathellipsis");m(xe,b,Jl,"","\\ldots",!0);m(x,b,Jl,"","\\ldots",!0);m(x,b,Jl,"","\\@cdots",!0);m(x,b,Jl,"","\\ddots",!0);m(x,b,X,"","\\varvdots");m(xe,b,X,"","\\varvdots");m(x,b,vt,"","\\acute");m(x,b,vt,"","\\grave");m(x,b,vt,"","\\ddot");m(x,b,vt,"~","\\tilde");m(x,b,vt,"","\\bar");m(x,b,vt,"","\\breve");m(x,b,vt,"","\\check");m(x,b,vt,"^","\\hat");m(x,b,vt,"","\\vec");m(x,b,vt,"","\\dot");m(x,b,vt,"","\\mathring");m(x,b,$e,"","\\@imath");m(x,b,$e,"","\\@jmath");m(x,b,X,"","");m(x,b,X,"","");m(xe,b,X,"","\\i",!0);m(xe,b,X,"","\\j",!0);m(xe,b,X,"","\\ss",!0);m(xe,b,X,"","\\ae",!0);m(xe,b,X,"","\\oe",!0);m(xe,b,X,"","\\o",!0);m(xe,b,X,"","\\AE",!0);m(xe,b,X,"","\\OE",!0);m(xe,b,X,"","\\O",!0);m(xe,b,vt,"","\\'");m(xe,b,vt,"","\\`");m(xe,b,vt,"","\\^");m(xe,b,vt,"","\\~");m(xe,b,vt,"","\\=");m(xe,b,vt,"","\\u");m(xe,b,vt,"","\\.");m(xe,b,vt,"","\\c");m(xe,b,vt,"","\\r");m(xe,b,vt,"","\\v");m(xe,b,vt,"",'\\"');m(xe,b,vt,"","\\H");m(xe,b,vt,"","\\textcircled");var $3={"--":!0,"---":!0,"``":!0,"''":!0};m(xe,b,X,"","--",!0);m(xe,b,X,"","\\textendash");m(xe,b,X,"","---",!0);m(xe,b,X,"","\\textemdash");m(xe,b,X,"","`",!0);m(xe,b,X,"","\\textquoteleft");m(xe,b,X,"","'",!0);m(xe,b,X,"","\\textquoteright");m(xe,b,X,"","``",!0);m(xe,b,X,"","\\textquotedblleft");m(xe,b,X,"","''",!0);m(xe,b,X,"","\\textquotedblright");m(x,b,X,"","\\degree",!0);m(xe,b,X,"","\\degree");m(xe,b,X,"","\\textdegree",!0);m(x,b,X,"","\\pounds");m(x,b,X,"","\\mathsterling",!0);m(xe,b,X,"","\\pounds");m(xe,b,X,"","\\textsterling",!0);m(x,R,X,"","\\maltese");m(xe,R,X,"","\\maltese");var sv='0123456789/@."';for(var Q0=0;Q0<sv.length;Q0++){var nv=sv.charAt(Q0);m(x,b,X,nv,nv)}var rv='0123456789!@*()-=+";:?/.,';for(var J0=0;J0<rv.length;J0++){var iv=rv.charAt(J0);m(xe,b,X,iv,iv)}var ru="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var em=0;em<ru.length;em++){var Gh=ru.charAt(em);m(x,b,$e,Gh,Gh),m(xe,b,X,Gh,Gh)}m(x,R,X,"C","");m(xe,R,X,"C","");m(x,R,X,"H","");m(xe,R,X,"H","");m(x,R,X,"N","");m(xe,R,X,"N","");m(x,R,X,"P","");m(xe,R,X,"P","");m(x,R,X,"Q","");m(xe,R,X,"Q","");m(x,R,X,"R","");m(xe,R,X,"R","");m(x,R,X,"Z","");m(xe,R,X,"Z","");m(x,b,$e,"h","");m(xe,b,$e,"h","");var Ie="";for(var ps=0;ps<ru.length;ps++){var St=ru.charAt(ps);Ie=String.fromCharCode(55349,56320+ps),m(x,b,$e,St,Ie),m(xe,b,X,St,Ie),Ie=String.fromCharCode(55349,56372+ps),m(x,b,$e,St,Ie),m(xe,b,X,St,Ie),Ie=String.fromCharCode(55349,56424+ps),m(x,b,$e,St,Ie),m(xe,b,X,St,Ie),Ie=String.fromCharCode(55349,56580+ps),m(x,b,$e,St,Ie),m(xe,b,X,St,Ie),Ie=String.fromCharCode(55349,56684+ps),m(x,b,$e,St,Ie),m(xe,b,X,St,Ie),Ie=String.fromCharCode(55349,56736+ps),m(x,b,$e,St,Ie),m(xe,b,X,St,Ie),Ie=String.fromCharCode(55349,56788+ps),m(x,b,$e,St,Ie),m(xe,b,X,St,Ie),Ie=String.fromCharCode(55349,56840+ps),m(x,b,$e,St,Ie),m(xe,b,X,St,Ie),Ie=String.fromCharCode(55349,56944+ps),m(x,b,$e,St,Ie),m(xe,b,X,St,Ie),ps<26&&(Ie=String.fromCharCode(55349,56632+ps),m(x,b,$e,St,Ie),m(xe,b,X,St,Ie),Ie=String.fromCharCode(55349,56476+ps),m(x,b,$e,St,Ie),m(xe,b,X,St,Ie))}Ie="";m(x,b,$e,"k",Ie);m(xe,b,X,"k",Ie);for(var ca=0;ca<10;ca++){var ri=ca.toString();Ie=String.fromCharCode(55349,57294+ca),m(x,b,$e,ri,Ie),m(xe,b,X,ri,Ie),Ie=String.fromCharCode(55349,57314+ca),m(x,b,$e,ri,Ie),m(xe,b,X,ri,Ie),Ie=String.fromCharCode(55349,57324+ca),m(x,b,$e,ri,Ie),m(xe,b,X,ri,Ie),Ie=String.fromCharCode(55349,57334+ca),m(x,b,$e,ri,Ie),m(xe,b,X,ri,Ie)}var Lf="";for(var tm=0;tm<Lf.length;tm++){var zh=Lf.charAt(tm);m(x,b,$e,zh,zh),m(xe,b,X,zh,zh)}var Ih=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],av=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],QC=function(t,n){var r=t.charCodeAt(0),i=t.charCodeAt(1),l=(r-55296)*1024+(i-56320)+65536,o=n==="math"?0:1;if(119808<=l&&l<120484){var c=Math.floor((l-119808)/26);return[Ih[c][2],Ih[c][o]]}else if(120782<=l&&l<=120831){var d=Math.floor((l-120782)/10);return[av[d][2],av[d][o]]}else{if(l===120485||l===120486)return[Ih[0][2],Ih[0][o]];if(120486<l&&l<120782)return["",""];throw new ye("Unsupported character: "+t)}},Ou=function(t,n,r){return dt[r][t]&&dt[r][t].replace&&(t=dt[r][t].replace),{value:t,metrics:jx(t,n,r)}},Nn=function(t,n,r,i,l){var o=Ou(t,n,r),c=o.metrics;t=o.value;var d;if(c){var u=c.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),d=new fn(t,c.height,c.depth,u,c.skew,c.width,l)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+n+"' and mode '"+r+"'")),d=new fn(t,0,0,0,0,0,l);if(i){d.maxFontSize=i.sizeMultiplier,i.style.isTight()&&d.classes.push("mtight");var p=i.getColor();p&&(d.style.color=p)}return d},JC=function(t,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&Ou(t,"Main-Bold",n).metrics?Nn(t,"Main-Bold",n,r,i.concat(["mathbf"])):t==="\\"||dt[n][t].font==="main"?Nn(t,"Main-Regular",n,r,i):Nn(t,"AMS-Regular",n,r,i.concat(["amsrm"]))},eM=function(t,n,r,i,l){return l!=="textord"&&Ou(t,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},tM=function(t,n,r){var i=t.mode,l=t.text,o=["mord"],c=i==="math"||i==="text"&&n.font,d=c?n.font:n.fontFamily,u="",p="";if(l.charCodeAt(0)===55349&&([u,p]=QC(l,i)),u.length>0)return Nn(l,u,i,n,o.concat(p));if(d){var g,v;if(d==="boldsymbol"){var y=eM(l,i,n,o,r);g=y.fontName,v=[y.fontClass]}else c?(g=I3[d].fontName,v=[d]):(g=Dh(d,n.fontWeight,n.fontShape),v=[d,n.fontWeight,n.fontShape]);if(Ou(l,g,i).metrics)return Nn(l,g,i,n,o.concat(v));if($3.hasOwnProperty(l)&&g.slice(0,10)==="Typewriter"){for(var M=[],L=0;L<l.length;L++)M.push(Nn(l[L],g,i,n,o.concat(v)));return z3(M)}}if(r==="mathord")return Nn(l,"Math-Italic",i,n,o.concat(["mathnormal"]));if(r==="textord"){var F=dt[i][l]&&dt[i][l].font;if(F==="ams"){var T=Dh("amsrm",n.fontWeight,n.fontShape);return Nn(l,T,i,n,o.concat("amsrm",n.fontWeight,n.fontShape))}else if(F==="main"||!F){var w=Dh("textrm",n.fontWeight,n.fontShape);return Nn(l,w,i,n,o.concat(n.fontWeight,n.fontShape))}else{var A=Dh(F,n.fontWeight,n.fontShape);return Nn(l,A,i,n,o.concat(A,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},sM=(s,t)=>{if(Hi(s.classes)!==Hi(t.classes)||s.skew!==t.skew||s.maxFontSize!==t.maxFontSize)return!1;if(s.classes.length===1){var n=s.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in s.style)if(s.style.hasOwnProperty(r)&&s.style[r]!==t.style[r])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&s.style[i]!==t.style[i])return!1;return!0},nM=s=>{for(var t=0;t<s.length-1;t++){var n=s[t],r=s[t+1];n instanceof fn&&r instanceof fn&&sM(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,s.splice(t+1,1),t--)}return s},bx=function(t){for(var n=0,r=0,i=0,l=0;l<t.children.length;l++){var o=t.children[l];o.height>n&&(n=o.height),o.depth>r&&(r=o.depth),o.maxFontSize>i&&(i=o.maxFontSize)}t.height=n,t.depth=r,t.maxFontSize=i},Es=function(t,n,r,i){var l=new Zc(t,n,r,i);return bx(l),l},G3=(s,t,n,r)=>new Zc(s,t,n,r),rM=function(t,n,r){var i=Es([t],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=ke(i.height),i.maxFontSize=1,i},iM=function(t,n,r,i){var l=new yx(t,n,r,i);return bx(l),l},z3=function(t){var n=new Kc(t);return bx(n),n},aM=function(t,n){return t instanceof Kc?Es([],[t],n):t},lM=function(t){if(t.positionType==="individualShift"){for(var n=t.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,l=i,o=1;o<n.length;o++){var c=-n[o].shift-l-n[o].elem.depth,d=c-(n[o-1].elem.height+n[o-1].elem.depth);l=l+c,r.push({type:"kern",size:d}),r.push(n[o])}return{children:r,depth:i}}var u;if(t.positionType==="top"){for(var p=t.positionData,g=0;g<t.children.length;g++){var v=t.children[g];p-=v.type==="kern"?v.size:v.elem.height+v.elem.depth}u=p}else if(t.positionType==="bottom")u=-t.positionData;else{var y=t.children[0];if(y.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")u=-y.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")u=-y.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:u}},oM=function(t,n){for(var{children:r,depth:i}=lM(t),l=0,o=0;o<r.length;o++){var c=r[o];if(c.type==="elem"){var d=c.elem;l=Math.max(l,d.maxFontSize,d.height)}}l+=2;var u=Es(["pstrut"],[]);u.style.height=ke(l);for(var p=[],g=i,v=i,y=i,M=0;M<r.length;M++){var L=r[M];if(L.type==="kern")y+=L.size;else{var F=L.elem,T=L.wrapperClasses||[],w=L.wrapperStyle||{},A=Es(T,[u,F],void 0,w);A.style.top=ke(-l-y-F.depth),L.marginLeft&&(A.style.marginLeft=L.marginLeft),L.marginRight&&(A.style.marginRight=L.marginRight),p.push(A),y+=F.height+F.depth}g=Math.min(g,y),v=Math.max(v,y)}var z=Es(["vlist"],p);z.style.height=ke(v);var Y;if(g<0){var ie=Es([],[]),_=Es(["vlist"],[ie]);_.style.height=ke(-g);var k=Es(["vlist-s"],[new fn("")]);Y=[Es(["vlist-r"],[z,k]),Es(["vlist-r"],[_])]}else Y=[Es(["vlist-r"],[z])];var N=Es(["vlist-t"],Y);return Y.length===2&&N.classes.push("vlist-t2"),N.height=v,N.depth=-g,N},cM=(s,t)=>{var n=Es(["mspace"],[],t),r=kt(s,t);return n.style.marginRight=ke(r),n},Dh=function(t,n,r){var i="";switch(t){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=t}var l;return n==="textbf"&&r==="textit"?l="BoldItalic":n==="textbf"?l="Bold":n==="textit"?l="Italic":l="Regular",i+"-"+l},I3={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},D3={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},hM=function(t,n){var[r,i,l]=D3[t],o=new Ui(r),c=new Lr([o],{width:ke(i),height:ke(l),style:"width:"+ke(i),viewBox:"0 0 "+1e3*i+" "+1e3*l,preserveAspectRatio:"xMinYMin"}),d=G3(["overlay"],[c],n);return d.height=l,d.style.height=ke(l),d.style.width=ke(i),d},re={fontMap:I3,makeSymbol:Nn,mathsym:JC,makeSpan:Es,makeSvgSpan:G3,makeLineSpan:rM,makeAnchor:iM,makeFragment:z3,wrapFragment:aM,makeVList:oM,makeOrd:tM,makeGlue:cM,staticSvg:hM,svgData:D3,tryCombineChars:nM},wt={number:3,unit:"mu"},ha={number:4,unit:"mu"},fr={number:5,unit:"mu"},dM={mord:{mop:wt,mbin:ha,mrel:fr,minner:wt},mop:{mord:wt,mop:wt,mrel:fr,minner:wt},mbin:{mord:ha,mop:ha,mopen:ha,minner:ha},mrel:{mord:fr,mop:fr,mopen:fr,minner:fr},mopen:{},mclose:{mop:wt,mbin:ha,mrel:fr,minner:wt},mpunct:{mord:wt,mop:wt,mrel:fr,mopen:wt,mclose:wt,mpunct:wt,minner:wt},minner:{mord:wt,mop:wt,mbin:ha,mrel:fr,mopen:wt,mpunct:wt,minner:wt}},uM={mord:{mop:wt},mop:{mord:wt,mop:wt},mbin:{},mrel:{},mopen:{},mclose:{mop:wt},mpunct:{},minner:{mop:wt}},R3={},iu={},au={};function Se(s){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:l,mathmlBuilder:o}=s,c={type:t,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},d=0;d<n.length;++d)R3[n[d]]=c;t&&(l&&(iu[t]=l),o&&(au[t]=o))}function La(s){var{type:t,htmlBuilder:n,mathmlBuilder:r}=s;Se({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var lu=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},$t=function(t){return t.type==="ordgroup"?t.body:[t]},Pr=re.makeSpan,mM=["leftmost","mbin","mopen","mrel","mop","mpunct"],fM=["rightmost","mrel","mclose","mpunct"],pM={display:Ge.DISPLAY,text:Ge.TEXT,script:Ge.SCRIPT,scriptscript:Ge.SCRIPTSCRIPT},xM={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Zt=function(t,n,r,i){i===void 0&&(i=[null,null]);for(var l=[],o=0;o<t.length;o++){var c=Ve(t[o],n);if(c instanceof Kc){var d=c.children;l.push(...d)}else l.push(c)}if(re.tryCombineChars(l),!r)return l;var u=n;if(t.length===1){var p=t[0];p.type==="sizing"?u=n.havingSize(p.size):p.type==="styling"&&(u=n.havingStyle(pM[p.style]))}var g=Pr([i[0]||"leftmost"],[],n),v=Pr([i[1]||"rightmost"],[],n),y=r==="root";return lv(l,(M,L)=>{var F=L.classes[0],T=M.classes[0];F==="mbin"&&fM.includes(T)?L.classes[0]="mord":T==="mbin"&&mM.includes(F)&&(M.classes[0]="mord")},{node:g},v,y),lv(l,(M,L)=>{var F=Pf(L),T=Pf(M),w=F&&T?M.hasClass("mtight")?uM[F][T]:dM[F][T]:null;if(w)return re.makeGlue(w,u)},{node:g},v,y),l},lv=function s(t,n,r,i,l){i&&t.push(i);for(var o=0;o<t.length;o++){var c=t[o],d=O3(c);if(d){s(d.children,n,r,null,l);continue}var u=!c.hasClass("mspace");if(u){var p=n(c,r.node);p&&(r.insertAfter?r.insertAfter(p):(t.unshift(p),o++))}u?r.node=c:l&&c.hasClass("newline")&&(r.node=Pr(["leftmost"])),r.insertAfter=(g=>v=>{t.splice(g+1,0,v),o++})(o)}i&&t.pop()},O3=function(t){return t instanceof Kc||t instanceof yx||t instanceof Zc&&t.hasClass("enclosing")?t:null},gM=function s(t,n){var r=O3(t);if(r){var i=r.children;if(i.length){if(n==="right")return s(i[i.length-1],"right");if(n==="left")return s(i[0],"left")}}return t},Pf=function(t,n){return t?(n&&(t=gM(t,n)),xM[t.classes[0]]||null):null},Ac=function(t,n){var r=["nulldelimiter"].concat(t.baseSizingClasses());return Pr(n.concat(r))},Ve=function(t,n,r){if(!t)return Pr();if(iu[t.type]){var i=iu[t.type](t,n);if(r&&n.size!==r.size){i=Pr(n.sizingClasses(r),[i],n);var l=n.sizeMultiplier/r.sizeMultiplier;i.height*=l,i.depth*=l}return i}else throw new ye("Got group of unknown type: '"+t.type+"'")};function Rh(s,t){var n=Pr(["base"],s,t),r=Pr(["strut"]);return r.style.height=ke(n.height+n.depth),n.depth&&(r.style.verticalAlign=ke(-n.depth)),n.children.unshift(r),n}function Bf(s,t){var n=null;s.length===1&&s[0].type==="tag"&&(n=s[0].tag,s=s[0].body);var r=Zt(s,t,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var l=[],o=[],c=0;c<r.length;c++)if(o.push(r[c]),r[c].hasClass("mbin")||r[c].hasClass("mrel")||r[c].hasClass("allowbreak")){for(var d=!1;c<r.length-1&&r[c+1].hasClass("mspace")&&!r[c+1].hasClass("newline");)c++,o.push(r[c]),r[c].hasClass("nobreak")&&(d=!0);d||(l.push(Rh(o,t)),o=[])}else r[c].hasClass("newline")&&(o.pop(),o.length>0&&(l.push(Rh(o,t)),o=[]),l.push(r[c]));o.length>0&&l.push(Rh(o,t));var u;n?(u=Rh(Zt(n,t,!0)),u.classes=["tag"],l.push(u)):i&&l.push(i);var p=Pr(["katex-html"],l);if(p.setAttribute("aria-hidden","true"),u){var g=u.children[0];g.style.height=ke(p.height+p.depth),p.depth&&(g.style.verticalAlign=ke(-p.depth))}return p}function q3(s){return new Kc(s)}class Hs{constructor(t,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(t,n){this.attributes[t]=n}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);this.classes.length>0&&(t.className=Hi(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof Bn&&this.children[r+1]instanceof Bn){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof Bn;)i+=this.children[++r].toText();t.appendChild(new Bn(i).toNode())}else t.appendChild(this.children[r].toNode());return t}toMarkup(){var t="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=Ze.escape(this.attributes[n]),t+='"');this.classes.length>0&&(t+=' class ="'+Ze.escape(Hi(this.classes))+'"'),t+=">";for(var r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class Bn{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ze.escape(this.toText())}toText(){return this.text}}class vM{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character="":t>=.1666&&t<=.1667?this.character="":t>=.2222&&t<=.2223?this.character="":t>=.2777&&t<=.2778?this.character="":t>=-.05556&&t<=-.05555?this.character="":t>=-.1667&&t<=-.1666?this.character="":t>=-.2223&&t<=-.2222?this.character="":t>=-.2778&&t<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",ke(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ke(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ge={MathNode:Hs,TextNode:Bn,SpaceNode:vM,newDocumentFragment:q3},pn=function(t,n,r){return dt[n][t]&&dt[n][t].replace&&t.charCodeAt(0)!==55349&&!($3.hasOwnProperty(t)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(t=dt[n][t].replace),new ge.TextNode(t)},wx=function(t){return t.length===1?t[0]:new ge.MathNode("mrow",t)},kx=function(t,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=t.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var l=t.text;if(["\\imath","\\jmath"].includes(l))return null;dt[i][l]&&dt[i][l].replace&&(l=dt[i][l].replace);var o=re.fontMap[r].fontName;return jx(l,o,i)?re.fontMap[r].variant:null};function sm(s){if(!s)return!1;if(s.type==="mi"&&s.children.length===1){var t=s.children[0];return t instanceof Bn&&t.text==="."}else if(s.type==="mo"&&s.children.length===1&&s.getAttribute("separator")==="true"&&s.getAttribute("lspace")==="0em"&&s.getAttribute("rspace")==="0em"){var n=s.children[0];return n instanceof Bn&&n.text===","}else return!1}var Ds=function(t,n,r){if(t.length===1){var i=at(t[0],n);return r&&i instanceof Hs&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var l=[],o,c=0;c<t.length;c++){var d=at(t[c],n);if(d instanceof Hs&&o instanceof Hs){if(d.type==="mtext"&&o.type==="mtext"&&d.getAttribute("mathvariant")===o.getAttribute("mathvariant")){o.children.push(...d.children);continue}else if(d.type==="mn"&&o.type==="mn"){o.children.push(...d.children);continue}else if(sm(d)&&o.type==="mn"){o.children.push(...d.children);continue}else if(d.type==="mn"&&sm(o))d.children=[...o.children,...d.children],l.pop();else if((d.type==="msup"||d.type==="msub")&&d.children.length>=1&&(o.type==="mn"||sm(o))){var u=d.children[0];u instanceof Hs&&u.type==="mn"&&(u.children=[...o.children,...u.children],l.pop())}else if(o.type==="mi"&&o.children.length===1){var p=o.children[0];if(p instanceof Bn&&p.text===""&&(d.type==="mo"||d.type==="mi"||d.type==="mn")){var g=d.children[0];g instanceof Bn&&g.text.length>0&&(g.text=g.text.slice(0,1)+""+g.text.slice(1),l.pop())}}}l.push(d),o=d}return l},Fi=function(t,n,r){return wx(Ds(t,n,r))},at=function(t,n){if(!t)return new ge.MathNode("mrow");if(au[t.type]){var r=au[t.type](t,n);return r}else throw new ye("Got group of unknown type: '"+t.type+"'")};function ov(s,t,n,r,i){var l=Ds(s,n),o;l.length===1&&l[0]instanceof Hs&&["mrow","mtable"].includes(l[0].type)?o=l[0]:o=new ge.MathNode("mrow",l);var c=new ge.MathNode("annotation",[new ge.TextNode(t)]);c.setAttribute("encoding","application/x-tex");var d=new ge.MathNode("semantics",[o,c]),u=new ge.MathNode("math",[d]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var p=i?"katex":"katex-mathml";return re.makeSpan([p],[u])}var L3=function(t){return new vr({style:t.displayMode?Ge.DISPLAY:Ge.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},P3=function(t,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),t=re.makeSpan(r,[t])}return t},jM=function(t,n,r){var i=L3(r),l;if(r.output==="mathml")return ov(t,n,i,r.displayMode,!0);if(r.output==="html"){var o=Bf(t,i);l=re.makeSpan(["katex"],[o])}else{var c=ov(t,n,i,r.displayMode,!1),d=Bf(t,i);l=re.makeSpan(["katex"],[c,d])}return P3(l,r)},yM=function(t,n,r){var i=L3(r),l=Bf(t,i),o=re.makeSpan(["katex"],[l]);return P3(o,r)},bM={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},wM=function(t){var n=new ge.MathNode("mo",[new ge.TextNode(bM[t.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},kM={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},TM=function(t){return t.type==="ordgroup"?t.body.length:1},SM=function(t,n){function r(){var c=4e5,d=t.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(d)){var u=t,p=TM(u.base),g,v,y;if(p>5)d==="widehat"||d==="widecheck"?(g=420,c=2364,y=.42,v=d+"4"):(g=312,c=2340,y=.34,v="tilde4");else{var M=[1,1,2,2,3,3][p];d==="widehat"||d==="widecheck"?(c=[0,1062,2364,2364,2364][M],g=[0,239,300,360,420][M],y=[0,.24,.3,.3,.36,.42][M],v=d+M):(c=[0,600,1033,2339,2340][M],g=[0,260,286,306,312][M],y=[0,.26,.286,.3,.306,.34][M],v="tilde"+M)}var L=new Ui(v),F=new Lr([L],{width:"100%",height:ke(y),viewBox:"0 0 "+c+" "+g,preserveAspectRatio:"none"});return{span:re.makeSvgSpan([],[F],n),minWidth:0,height:y}}else{var T=[],w=kM[d],[A,z,Y]=w,ie=Y/1e3,_=A.length,k,N;if(_===1){var C=w[3];k=["hide-tail"],N=[C]}else if(_===2)k=["halfarrow-left","halfarrow-right"],N=["xMinYMin","xMaxYMin"];else if(_===3)k=["brace-left","brace-center","brace-right"],N=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+_+" children.");for(var G=0;G<_;G++){var I=new Ui(A[G]),$=new Lr([I],{width:"400em",height:ke(ie),viewBox:"0 0 "+c+" "+Y,preserveAspectRatio:N[G]+" slice"}),fe=re.makeSvgSpan([k[G]],[$],n);if(_===1)return{span:fe,minWidth:z,height:ie};fe.style.height=ke(ie),T.push(fe)}return{span:re.makeSpan(["stretchy"],T,n),minWidth:z,height:ie}}}var{span:i,minWidth:l,height:o}=r();return i.height=o,i.style.height=ke(o),l>0&&(i.style.minWidth=ke(l)),i},NM=function(t,n,r,i,l){var o,c=t.height+t.depth+r+i;if(/fbox|color|angl/.test(n)){if(o=re.makeSpan(["stretchy",n],[],l),n==="fbox"){var d=l.color&&l.getColor();d&&(o.style.borderColor=d)}}else{var u=[];/^[bx]cancel$/.test(n)&&u.push(new qf({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&u.push(new qf({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var p=new Lr(u,{width:"100%",height:ke(c)});o=re.makeSvgSpan([],[p],l)}return o.height=c,o.style.height=ke(c),o},Br={encloseSpan:NM,mathMLnode:wM,svgSpan:SM};function qe(s,t){if(!s||s.type!==t)throw new Error("Expected node of type "+t+", but got "+(s?"node of type "+s.type:String(s)));return s}function Tx(s){var t=qu(s);if(!t)throw new Error("Expected node of symbol group type, but got "+(s?"node of type "+s.type:String(s)));return t}function qu(s){return s&&(s.type==="atom"||WC.hasOwnProperty(s.type))?s:null}var Sx=(s,t)=>{var n,r,i;s&&s.type==="supsub"?(r=qe(s.base,"accent"),n=r.base,s.base=n,i=XC(Ve(s,t)),s.base=r):(r=qe(s,"accent"),n=r.base);var l=Ve(n,t.havingCrampedStyle()),o=r.isShifty&&Ze.isCharacterBox(n),c=0;if(o){var d=Ze.getBaseElem(n),u=Ve(d,t.havingCrampedStyle());c=tv(u).skew}var p=r.label==="\\c",g=p?l.height+l.depth:Math.min(l.height,t.fontMetrics().xHeight),v;if(r.isStretchy)v=Br.svgSpan(r,t),v=re.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"elem",elem:v,wrapperClasses:["svg-align"],wrapperStyle:c>0?{width:"calc(100% - "+ke(2*c)+")",marginLeft:ke(2*c)}:void 0}]},t);else{var y,M;r.label==="\\vec"?(y=re.staticSvg("vec",t),M=re.svgData.vec[1]):(y=re.makeOrd({mode:r.mode,text:r.label},t,"textord"),y=tv(y),y.italic=0,M=y.width,p&&(g+=y.depth)),v=re.makeSpan(["accent-body"],[y]);var L=r.label==="\\textcircled";L&&(v.classes.push("accent-full"),g=l.height);var F=c;L||(F-=M/2),v.style.left=ke(F),r.label==="\\textcircled"&&(v.style.top=".2em"),v=re.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:-g},{type:"elem",elem:v}]},t)}var T=re.makeSpan(["mord","accent"],[v],t);return i?(i.children[0]=T,i.height=Math.max(T.height,i.height),i.classes[0]="mord",i):T},B3=(s,t)=>{var n=s.isStretchy?Br.mathMLnode(s.label):new ge.MathNode("mo",[pn(s.label,s.mode)]),r=new ge.MathNode("mover",[at(s.base,t),n]);return r.setAttribute("accent","true"),r},AM=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(s=>"\\"+s).join("|"));Se({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(s,t)=>{var n=lu(t[0]),r=!AM.test(s.funcName),i=!r||s.funcName==="\\widehat"||s.funcName==="\\widetilde"||s.funcName==="\\widecheck";return{type:"accent",mode:s.parser.mode,label:s.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:Sx,mathmlBuilder:B3});Se({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(s,t)=>{var n=t[0],r=s.parser.mode;return r==="math"&&(s.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+s.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:s.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Sx,mathmlBuilder:B3});Se({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(s,t)=>{var{parser:n,funcName:r}=s,i=t[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(s,t)=>{var n=Ve(s.base,t),r=Br.svgSpan(s,t),i=s.label==="\\utilde"?.12:0,l=re.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},t);return re.makeSpan(["mord","accentunder"],[l],t)},mathmlBuilder:(s,t)=>{var n=Br.mathMLnode(s.label),r=new ge.MathNode("munder",[at(s.base,t),n]);return r.setAttribute("accentunder","true"),r}});var Oh=s=>{var t=new ge.MathNode("mpadded",s?[s]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};Se({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(s,t,n){var{parser:r,funcName:i}=s;return{type:"xArrow",mode:r.mode,label:i,body:t[0],below:n[0]}},htmlBuilder(s,t){var n=t.style,r=t.havingStyle(n.sup()),i=re.wrapFragment(Ve(s.body,r,t),t),l=s.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(l+"-arrow-pad");var o;s.below&&(r=t.havingStyle(n.sub()),o=re.wrapFragment(Ve(s.below,r,t),t),o.classes.push(l+"-arrow-pad"));var c=Br.svgSpan(s,t),d=-t.fontMetrics().axisHeight+.5*c.height,u=-t.fontMetrics().axisHeight-.5*c.height-.111;(i.depth>.25||s.label==="\\xleftequilibrium")&&(u-=i.depth);var p;if(o){var g=-t.fontMetrics().axisHeight+o.height+.5*c.height+.111;p=re.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:c,shift:d},{type:"elem",elem:o,shift:g}]},t)}else p=re.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:c,shift:d}]},t);return p.children[0].children[0].children[1].classes.push("svg-align"),re.makeSpan(["mrel","x-arrow"],[p],t)},mathmlBuilder(s,t){var n=Br.mathMLnode(s.label);n.setAttribute("minsize",s.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(s.body){var i=Oh(at(s.body,t));if(s.below){var l=Oh(at(s.below,t));r=new ge.MathNode("munderover",[n,l,i])}else r=new ge.MathNode("mover",[n,i])}else if(s.below){var o=Oh(at(s.below,t));r=new ge.MathNode("munder",[n,o])}else r=Oh(),r=new ge.MathNode("mover",[n,r]);return r}});var _M=re.makeSpan;function H3(s,t){var n=Zt(s.body,t,!0);return _M([s.mclass],n,t)}function U3(s,t){var n,r=Ds(s.body,t);return s.mclass==="minner"?n=new ge.MathNode("mpadded",r):s.mclass==="mord"?s.isCharacterBox?(n=r[0],n.type="mi"):n=new ge.MathNode("mi",r):(s.isCharacterBox?(n=r[0],n.type="mo"):n=new ge.MathNode("mo",r),s.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):s.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):s.mclass==="mopen"||s.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):s.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}Se({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(s,t){var{parser:n,funcName:r}=s,i=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:$t(i),isCharacterBox:Ze.isCharacterBox(i)}},htmlBuilder:H3,mathmlBuilder:U3});var Lu=s=>{var t=s.type==="ordgroup"&&s.body.length?s.body[0]:s;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};Se({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(s,t){var{parser:n}=s;return{type:"mclass",mode:n.mode,mclass:Lu(t[0]),body:$t(t[1]),isCharacterBox:Ze.isCharacterBox(t[1])}}});Se({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(s,t){var{parser:n,funcName:r}=s,i=t[1],l=t[0],o;r!=="\\stackrel"?o=Lu(i):o="mrel";var c={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:$t(i)},d={type:"supsub",mode:l.mode,base:c,sup:r==="\\underset"?null:l,sub:r==="\\underset"?l:null};return{type:"mclass",mode:n.mode,mclass:o,body:[d],isCharacterBox:Ze.isCharacterBox(d)}},htmlBuilder:H3,mathmlBuilder:U3});Se({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(s,t){var{parser:n}=s;return{type:"pmb",mode:n.mode,mclass:Lu(t[0]),body:$t(t[0])}},htmlBuilder(s,t){var n=Zt(s.body,t,!0),r=re.makeSpan([s.mclass],n,t);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(s,t){var n=Ds(s.body,t),r=new ge.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var EM={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},cv=()=>({type:"styling",body:[],mode:"math",style:"display"}),hv=s=>s.type==="textord"&&s.text==="@",CM=(s,t)=>(s.type==="mathord"||s.type==="atom")&&s.text===t;function MM(s,t,n){var r=EM[s];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[t[0]],[]),l={type:"atom",text:r,mode:"math",family:"rel"},o=n.callFunction("\\Big",[l],[]),c=n.callFunction("\\\\cdright",[t[1]],[]),d={type:"ordgroup",mode:"math",body:[i,o,c]};return n.callFunction("\\\\cdparent",[d],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function $M(s){var t=[];for(s.gullet.beginGroup(),s.gullet.macros.set("\\cr","\\\\\\relax"),s.gullet.beginGroup();;){t.push(s.parseExpression(!1,"\\\\")),s.gullet.endGroup(),s.gullet.beginGroup();var n=s.fetch().text;if(n==="&"||n==="\\\\")s.consume();else if(n==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new ye("Expected \\\\ or \\cr or \\end",s.nextToken)}for(var r=[],i=[r],l=0;l<t.length;l++){for(var o=t[l],c=cv(),d=0;d<o.length;d++)if(!hv(o[d]))c.body.push(o[d]);else{r.push(c),d+=1;var u=Tx(o[d]).text,p=new Array(2);if(p[0]={type:"ordgroup",mode:"math",body:[]},p[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var g=0;g<2;g++){for(var v=!0,y=d+1;y<o.length;y++){if(CM(o[y],u)){v=!1,d=y;break}if(hv(o[y]))throw new ye("Missing a "+u+" character to complete a CD arrow.",o[y]);p[g].body.push(o[y])}if(v)throw new ye("Missing a "+u+" character to complete a CD arrow.",o[d])}else throw new ye('Expected one of "<>AV=|." after @',o[d]);var M=MM(u,p,s),L={type:"styling",body:[M],mode:"math",style:"display"};r.push(L),c=cv()}l%2===0?r.push(c):r.shift(),r=[],i.push(r)}s.gullet.endGroup(),s.gullet.endGroup();var F=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:F,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}Se({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(s,t){var{parser:n,funcName:r}=s;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:t[0]}},htmlBuilder(s,t){var n=t.havingStyle(t.style.sup()),r=re.wrapFragment(Ve(s.label,n,t),t);return r.classes.push("cd-label-"+s.side),r.style.bottom=ke(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(s,t){var n=new ge.MathNode("mrow",[at(s.label,t)]);return n=new ge.MathNode("mpadded",[n]),n.setAttribute("width","0"),s.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new ge.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});Se({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(s,t){var{parser:n}=s;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(s,t){var n=re.wrapFragment(Ve(s.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(s,t){return new ge.MathNode("mrow",[at(s.fragment,t)])}});Se({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(s,t){for(var{parser:n}=s,r=qe(t[0],"ordgroup"),i=r.body,l="",o=0;o<i.length;o++){var c=qe(i[o],"textord");l+=c.text}var d=parseInt(l),u;if(isNaN(d))throw new ye("\\@char has non-numeric argument "+l);if(d<0||d>=1114111)throw new ye("\\@char with invalid code point "+l);return d<=65535?u=String.fromCharCode(d):(d-=65536,u=String.fromCharCode((d>>10)+55296,(d&1023)+56320)),{type:"textord",mode:n.mode,text:u}}});var F3=(s,t)=>{var n=Zt(s.body,t.withColor(s.color),!1);return re.makeFragment(n)},V3=(s,t)=>{var n=Ds(s.body,t.withColor(s.color)),r=new ge.MathNode("mstyle",n);return r.setAttribute("mathcolor",s.color),r};Se({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(s,t){var{parser:n}=s,r=qe(t[0],"color-token").color,i=t[1];return{type:"color",mode:n.mode,color:r,body:$t(i)}},htmlBuilder:F3,mathmlBuilder:V3});Se({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(s,t){var{parser:n,breakOnTokenText:r}=s,i=qe(t[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var l=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:l}},htmlBuilder:F3,mathmlBuilder:V3});Se({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(s,t,n){var{parser:r}=s,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,l=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:l,size:i&&qe(i,"size").value}},htmlBuilder(s,t){var n=re.makeSpan(["mspace"],[],t);return s.newLine&&(n.classes.push("newline"),s.size&&(n.style.marginTop=ke(kt(s.size,t)))),n},mathmlBuilder(s,t){var n=new ge.MathNode("mspace");return s.newLine&&(n.setAttribute("linebreak","newline"),s.size&&n.setAttribute("height",ke(kt(s.size,t)))),n}});var Hf={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},K3=s=>{var t=s.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new ye("Expected a control sequence",s);return t},GM=s=>{var t=s.gullet.popToken();return t.text==="="&&(t=s.gullet.popToken(),t.text===" "&&(t=s.gullet.popToken())),t},Z3=(s,t,n,r)=>{var i=s.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!s.gullet.isExpandable(n.text)}),s.gullet.macros.set(t,i,r)};Se({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(s){var{parser:t,funcName:n}=s;t.consumeSpaces();var r=t.fetch();if(Hf[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=Hf[r.text]),qe(t.parseFunction(),"internal");throw new ye("Invalid token after macro prefix",r)}});Se({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(s){var{parser:t,funcName:n}=s,r=t.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new ye("Expected a control sequence",r);for(var l=0,o,c=[[]];t.gullet.future().text!=="{";)if(r=t.gullet.popToken(),r.text==="#"){if(t.gullet.future().text==="{"){o=t.gullet.future(),c[l].push("{");break}if(r=t.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new ye('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==l+1)throw new ye('Argument number "'+r.text+'" out of order');l++,c.push([])}else{if(r.text==="EOF")throw new ye("Expected a macro definition");c[l].push(r.text)}var{tokens:d}=t.gullet.consumeArg();return o&&d.unshift(o),(n==="\\edef"||n==="\\xdef")&&(d=t.gullet.expandTokens(d),d.reverse()),t.gullet.macros.set(i,{tokens:d,numArgs:l,delimiters:c},n===Hf[n]),{type:"internal",mode:t.mode}}});Se({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(s){var{parser:t,funcName:n}=s,r=K3(t.gullet.popToken());t.gullet.consumeSpaces();var i=GM(t);return Z3(t,r,i,n==="\\\\globallet"),{type:"internal",mode:t.mode}}});Se({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(s){var{parser:t,funcName:n}=s,r=K3(t.gullet.popToken()),i=t.gullet.popToken(),l=t.gullet.popToken();return Z3(t,r,l,n==="\\\\globalfuture"),t.gullet.pushToken(l),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var Po=function(t,n,r){var i=dt.math[t]&&dt.math[t].replace,l=jx(i||t,n,r);if(!l)throw new Error("Unsupported symbol "+t+" and font size "+n+".");return l},Nx=function(t,n,r,i){var l=r.havingBaseStyle(n),o=re.makeSpan(i.concat(l.sizingClasses(r)),[t],r),c=l.sizeMultiplier/r.sizeMultiplier;return o.height*=c,o.depth*=c,o.maxFontSize=l.sizeMultiplier,o},X3=function(t,n,r){var i=n.havingBaseStyle(r),l=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=ke(l),t.height-=l,t.depth+=l},zM=function(t,n,r,i,l,o){var c=re.makeSymbol(t,"Main-Regular",l,i),d=Nx(c,n,i,o);return r&&X3(d,i,n),d},IM=function(t,n,r,i){return re.makeSymbol(t,"Size"+n+"-Regular",r,i)},Y3=function(t,n,r,i,l,o){var c=IM(t,n,l,i),d=Nx(re.makeSpan(["delimsizing","size"+n],[c],i),Ge.TEXT,i,o);return r&&X3(d,i,Ge.TEXT),d},nm=function(t,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var l=re.makeSpan(["delimsizinginner",i],[re.makeSpan([],[re.makeSymbol(t,n,r)])]);return{type:"elem",elem:l}},rm=function(t,n,r){var i=Pn["Size4-Regular"][t.charCodeAt(0)]?Pn["Size4-Regular"][t.charCodeAt(0)][4]:Pn["Size1-Regular"][t.charCodeAt(0)][4],l=new Ui("inner",LC(t,Math.round(1e3*n))),o=new Lr([l],{width:ke(i),height:ke(n),style:"width:"+ke(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),c=re.makeSvgSpan([],[o],r);return c.height=n,c.style.height=ke(n),c.style.width=ke(i),{type:"elem",elem:c}},Uf=.008,qh={type:"kern",size:-1*Uf},DM=["|","\\lvert","\\rvert","\\vert"],RM=["\\|","\\lVert","\\rVert","\\Vert"],W3=function(t,n,r,i,l,o){var c,d,u,p,g="",v=0;c=u=p=t,d=null;var y="Size1-Regular";t==="\\uparrow"?u=p="":t==="\\Uparrow"?u=p="":t==="\\downarrow"?c=u="":t==="\\Downarrow"?c=u="":t==="\\updownarrow"?(c="\\uparrow",u="",p="\\downarrow"):t==="\\Updownarrow"?(c="\\Uparrow",u="",p="\\Downarrow"):DM.includes(t)?(u="",g="vert",v=333):RM.includes(t)?(u="",g="doublevert",v=556):t==="["||t==="\\lbrack"?(c="",u="",p="",y="Size4-Regular",g="lbrack",v=667):t==="]"||t==="\\rbrack"?(c="",u="",p="",y="Size4-Regular",g="rbrack",v=667):t==="\\lfloor"||t===""?(u=c="",p="",y="Size4-Regular",g="lfloor",v=667):t==="\\lceil"||t===""?(c="",u=p="",y="Size4-Regular",g="lceil",v=667):t==="\\rfloor"||t===""?(u=c="",p="",y="Size4-Regular",g="rfloor",v=667):t==="\\rceil"||t===""?(c="",u=p="",y="Size4-Regular",g="rceil",v=667):t==="("||t==="\\lparen"?(c="",u="",p="",y="Size4-Regular",g="lparen",v=875):t===")"||t==="\\rparen"?(c="",u="",p="",y="Size4-Regular",g="rparen",v=875):t==="\\{"||t==="\\lbrace"?(c="",d="",p="",u="",y="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(c="",d="",p="",u="",y="Size4-Regular"):t==="\\lgroup"||t===""?(c="",p="",u="",y="Size4-Regular"):t==="\\rgroup"||t===""?(c="",p="",u="",y="Size4-Regular"):t==="\\lmoustache"||t===""?(c="",p="",u="",y="Size4-Regular"):(t==="\\rmoustache"||t==="")&&(c="",p="",u="",y="Size4-Regular");var M=Po(c,y,l),L=M.height+M.depth,F=Po(u,y,l),T=F.height+F.depth,w=Po(p,y,l),A=w.height+w.depth,z=0,Y=1;if(d!==null){var ie=Po(d,y,l);z=ie.height+ie.depth,Y=2}var _=L+A+z,k=Math.max(0,Math.ceil((n-_)/(Y*T))),N=_+k*Y*T,C=i.fontMetrics().axisHeight;r&&(C*=i.sizeMultiplier);var G=N/2-C,I=[];if(g.length>0){var $=N-L-A,fe=Math.round(N*1e3),ae=PC(g,Math.round($*1e3)),J=new Ui(g,ae),Q=(v/1e3).toFixed(3)+"em",O=(fe/1e3).toFixed(3)+"em",ee=new Lr([J],{width:Q,height:O,viewBox:"0 0 "+v+" "+fe}),B=re.makeSvgSpan([],[ee],i);B.height=fe/1e3,B.style.width=Q,B.style.height=O,I.push({type:"elem",elem:B})}else{if(I.push(nm(p,y,l)),I.push(qh),d===null){var Z=N-L-A+2*Uf;I.push(rm(u,Z,i))}else{var P=(N-L-A-z)/2+2*Uf;I.push(rm(u,P,i)),I.push(qh),I.push(nm(d,y,l)),I.push(qh),I.push(rm(u,P,i))}I.push(qh),I.push(nm(c,y,l))}var H=i.havingBaseStyle(Ge.TEXT),le=re.makeVList({positionType:"bottom",positionData:G,children:I},H);return Nx(re.makeSpan(["delimsizing","mult"],[le],H),Ge.TEXT,i,o)},im=80,am=.08,lm=function(t,n,r,i,l){var o=qC(t,i,r),c=new Ui(t,o),d=new Lr([c],{width:"400em",height:ke(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return re.makeSvgSpan(["hide-tail"],[d],l)},OM=function(t,n){var r=n.havingBaseSizing(),i=t5("\\surd",t*r.sizeMultiplier,e5,r),l=r.sizeMultiplier,o=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),c,d=0,u=0,p=0,g;return i.type==="small"?(p=1e3+1e3*o+im,t<1?l=1:t<1.4&&(l=.7),d=(1+o+am)/l,u=(1+o)/l,c=lm("sqrtMain",d,p,o,n),c.style.minWidth="0.853em",g=.833/l):i.type==="large"?(p=(1e3+im)*ic[i.size],u=(ic[i.size]+o)/l,d=(ic[i.size]+o+am)/l,c=lm("sqrtSize"+i.size,d,p,o,n),c.style.minWidth="1.02em",g=1/l):(d=t+o+am,u=t+o,p=Math.floor(1e3*t+o)+im,c=lm("sqrtTall",d,p,o,n),c.style.minWidth="0.742em",g=1.056),c.height=u,c.style.height=ke(d),{span:c,advanceWidth:g,ruleWidth:(n.fontMetrics().sqrtRuleThickness+o)*l}},Q3=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],qM=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],J3=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],ic=[0,1.2,1.8,2.4,3],LM=function(t,n,r,i,l){if(t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle"),Q3.includes(t)||J3.includes(t))return Y3(t,n,!1,r,i,l);if(qM.includes(t))return W3(t,ic[n],!1,r,i,l);throw new ye("Illegal delimiter: '"+t+"'")},PM=[{type:"small",style:Ge.SCRIPTSCRIPT},{type:"small",style:Ge.SCRIPT},{type:"small",style:Ge.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],BM=[{type:"small",style:Ge.SCRIPTSCRIPT},{type:"small",style:Ge.SCRIPT},{type:"small",style:Ge.TEXT},{type:"stack"}],e5=[{type:"small",style:Ge.SCRIPTSCRIPT},{type:"small",style:Ge.SCRIPT},{type:"small",style:Ge.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],HM=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},t5=function(t,n,r,i){for(var l=Math.min(2,3-i.style.size),o=l;o<r.length&&r[o].type!=="stack";o++){var c=Po(t,HM(r[o]),"math"),d=c.height+c.depth;if(r[o].type==="small"){var u=i.havingBaseStyle(r[o].style);d*=u.sizeMultiplier}if(d>n)return r[o]}return r[r.length-1]},s5=function(t,n,r,i,l,o){t==="<"||t==="\\lt"||t===""?t="\\langle":(t===">"||t==="\\gt"||t==="")&&(t="\\rangle");var c;J3.includes(t)?c=PM:Q3.includes(t)?c=e5:c=BM;var d=t5(t,n,c,i);return d.type==="small"?zM(t,d.style,r,i,l,o):d.type==="large"?Y3(t,d.size,r,i,l,o):W3(t,n,r,i,l,o)},UM=function(t,n,r,i,l,o){var c=i.fontMetrics().axisHeight*i.sizeMultiplier,d=901,u=5/i.fontMetrics().ptPerEm,p=Math.max(n-c,r+c),g=Math.max(p/500*d,2*p-u);return s5(t,g,!0,i,l,o)},Mr={sqrtImage:OM,sizedDelim:LM,sizeToMaxHeight:ic,customSizedDelim:s5,leftRightDelim:UM},dv={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},FM=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Pu(s,t){var n=qu(s);if(n&&FM.includes(n.text))return n;throw n?new ye("Invalid delimiter '"+n.text+"' after '"+t.funcName+"'",s):new ye("Invalid delimiter type '"+s.type+"'",s)}Se({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(s,t)=>{var n=Pu(t[0],s);return{type:"delimsizing",mode:s.parser.mode,size:dv[s.funcName].size,mclass:dv[s.funcName].mclass,delim:n.text}},htmlBuilder:(s,t)=>s.delim==="."?re.makeSpan([s.mclass]):Mr.sizedDelim(s.delim,s.size,t,s.mode,[s.mclass]),mathmlBuilder:s=>{var t=[];s.delim!=="."&&t.push(pn(s.delim,s.mode));var n=new ge.MathNode("mo",t);s.mclass==="mopen"||s.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=ke(Mr.sizeToMaxHeight[s.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function uv(s){if(!s.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Se({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(s,t)=>{var n=s.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new ye("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:s.parser.mode,delim:Pu(t[0],s).text,color:n}}});Se({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(s,t)=>{var n=Pu(t[0],s),r=s.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var l=qe(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:l.delim,rightColor:l.color}},htmlBuilder:(s,t)=>{uv(s);for(var n=Zt(s.body,t,!0,["mopen","mclose"]),r=0,i=0,l=!1,o=0;o<n.length;o++)n[o].isMiddle?l=!0:(r=Math.max(n[o].height,r),i=Math.max(n[o].depth,i));r*=t.sizeMultiplier,i*=t.sizeMultiplier;var c;if(s.left==="."?c=Ac(t,["mopen"]):c=Mr.leftRightDelim(s.left,r,i,t,s.mode,["mopen"]),n.unshift(c),l)for(var d=1;d<n.length;d++){var u=n[d],p=u.isMiddle;p&&(n[d]=Mr.leftRightDelim(p.delim,r,i,p.options,s.mode,[]))}var g;if(s.right===".")g=Ac(t,["mclose"]);else{var v=s.rightColor?t.withColor(s.rightColor):t;g=Mr.leftRightDelim(s.right,r,i,v,s.mode,["mclose"])}return n.push(g),re.makeSpan(["minner"],n,t)},mathmlBuilder:(s,t)=>{uv(s);var n=Ds(s.body,t);if(s.left!=="."){var r=new ge.MathNode("mo",[pn(s.left,s.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(s.right!=="."){var i=new ge.MathNode("mo",[pn(s.right,s.mode)]);i.setAttribute("fence","true"),s.rightColor&&i.setAttribute("mathcolor",s.rightColor),n.push(i)}return wx(n)}});Se({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(s,t)=>{var n=Pu(t[0],s);if(!s.parser.leftrightDepth)throw new ye("\\middle without preceding \\left",n);return{type:"middle",mode:s.parser.mode,delim:n.text}},htmlBuilder:(s,t)=>{var n;if(s.delim===".")n=Ac(t,[]);else{n=Mr.sizedDelim(s.delim,1,t,s.mode,[]);var r={delim:s.delim,options:t};n.isMiddle=r}return n},mathmlBuilder:(s,t)=>{var n=s.delim==="\\vert"||s.delim==="|"?pn("|","text"):pn(s.delim,s.mode),r=new ge.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var Ax=(s,t)=>{var n=re.wrapFragment(Ve(s.body,t),t),r=s.label.slice(1),i=t.sizeMultiplier,l,o=0,c=Ze.isCharacterBox(s.body);if(r==="sout")l=re.makeSpan(["stretchy","sout"]),l.height=t.fontMetrics().defaultRuleThickness/i,o=-.5*t.fontMetrics().xHeight;else if(r==="phase"){var d=kt({number:.6,unit:"pt"},t),u=kt({number:.35,unit:"ex"},t),p=t.havingBaseSizing();i=i/p.sizeMultiplier;var g=n.height+n.depth+d+u;n.style.paddingLeft=ke(g/2+d);var v=Math.floor(1e3*g*i),y=RC(v),M=new Lr([new Ui("phase",y)],{width:"400em",height:ke(v/1e3),viewBox:"0 0 400000 "+v,preserveAspectRatio:"xMinYMin slice"});l=re.makeSvgSpan(["hide-tail"],[M],t),l.style.height=ke(g),o=n.depth+d+u}else{/cancel/.test(r)?c||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var L=0,F=0,T=0;/box/.test(r)?(T=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),L=t.fontMetrics().fboxsep+(r==="colorbox"?0:T),F=L):r==="angl"?(T=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),L=4*T,F=Math.max(0,.25-n.depth)):(L=c?.2:0,F=L),l=Br.encloseSpan(n,r,L,F,t),/fbox|boxed|fcolorbox/.test(r)?(l.style.borderStyle="solid",l.style.borderWidth=ke(T)):r==="angl"&&T!==.049&&(l.style.borderTopWidth=ke(T),l.style.borderRightWidth=ke(T)),o=n.depth+F,s.backgroundColor&&(l.style.backgroundColor=s.backgroundColor,s.borderColor&&(l.style.borderColor=s.borderColor))}var w;if(s.backgroundColor)w=re.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:o},{type:"elem",elem:n,shift:0}]},t);else{var A=/cancel|phase/.test(r)?["svg-align"]:[];w=re.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:l,shift:o,wrapperClasses:A}]},t)}return/cancel/.test(r)&&(w.height=n.height,w.depth=n.depth),/cancel/.test(r)&&!c?re.makeSpan(["mord","cancel-lap"],[w],t):re.makeSpan(["mord"],[w],t)},_x=(s,t)=>{var n=0,r=new ge.MathNode(s.label.indexOf("colorbox")>-1?"mpadded":"menclose",[at(s.body,t)]);switch(s.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),s.label==="\\fcolorbox"){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(s.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return s.backgroundColor&&r.setAttribute("mathbackground",s.backgroundColor),r};Se({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(s,t,n){var{parser:r,funcName:i}=s,l=qe(t[0],"color-token").color,o=t[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:l,body:o}},htmlBuilder:Ax,mathmlBuilder:_x});Se({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(s,t,n){var{parser:r,funcName:i}=s,l=qe(t[0],"color-token").color,o=qe(t[1],"color-token").color,c=t[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,borderColor:l,body:c}},htmlBuilder:Ax,mathmlBuilder:_x});Se({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(s,t){var{parser:n}=s;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}});Se({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(s,t){var{parser:n,funcName:r}=s,i=t[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:Ax,mathmlBuilder:_x});Se({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(s,t){var{parser:n}=s;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var n5={};function Qn(s){for(var{type:t,names:n,props:r,handler:i,htmlBuilder:l,mathmlBuilder:o}=s,c={type:t,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},d=0;d<n.length;++d)n5[n[d]]=c;l&&(iu[t]=l),o&&(au[t]=o)}var r5={};function S(s,t){r5[s]=t}function mv(s){var t=[];s.consumeSpaces();var n=s.fetch().text;for(n==="\\relax"&&(s.consume(),s.consumeSpaces(),n=s.fetch().text);n==="\\hline"||n==="\\hdashline";)s.consume(),t.push(n==="\\hdashline"),s.consumeSpaces(),n=s.fetch().text;return t}var Bu=s=>{var t=s.parser.settings;if(!t.displayMode)throw new ye("{"+s.envName+"} can be used only in display mode.")};function Ex(s){if(s.indexOf("ed")===-1)return s.indexOf("*")===-1}function Xi(s,t,n){var{hskipBeforeAndAfter:r,addJot:i,cols:l,arraystretch:o,colSeparationType:c,autoTag:d,singleRow:u,emptySingleRow:p,maxNumCols:g,leqno:v}=t;if(s.gullet.beginGroup(),u||s.gullet.macros.set("\\cr","\\\\\\relax"),!o){var y=s.gullet.expandMacroAsText("\\arraystretch");if(y==null)o=1;else if(o=parseFloat(y),!o||o<0)throw new ye("Invalid \\arraystretch: "+y)}s.gullet.beginGroup();var M=[],L=[M],F=[],T=[],w=d!=null?[]:void 0;function A(){d&&s.gullet.macros.set("\\@eqnsw","1",!0)}function z(){w&&(s.gullet.macros.get("\\df@tag")?(w.push(s.subparse([new Xs("\\df@tag")])),s.gullet.macros.set("\\df@tag",void 0,!0)):w.push(!!d&&s.gullet.macros.get("\\@eqnsw")==="1"))}for(A(),T.push(mv(s));;){var Y=s.parseExpression(!1,u?"\\end":"\\\\");s.gullet.endGroup(),s.gullet.beginGroup(),Y={type:"ordgroup",mode:s.mode,body:Y},n&&(Y={type:"styling",mode:s.mode,style:n,body:[Y]}),M.push(Y);var ie=s.fetch().text;if(ie==="&"){if(g&&M.length===g){if(u||c)throw new ye("Too many tab characters: &",s.nextToken);s.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}s.consume()}else if(ie==="\\end"){z(),M.length===1&&Y.type==="styling"&&Y.body[0].body.length===0&&(L.length>1||!p)&&L.pop(),T.length<L.length+1&&T.push([]);break}else if(ie==="\\\\"){s.consume();var _=void 0;s.gullet.future().text!==" "&&(_=s.parseSizeGroup(!0)),F.push(_?_.value:null),z(),T.push(mv(s)),M=[],L.push(M),A()}else throw new ye("Expected & or \\\\ or \\cr or \\end",s.nextToken)}return s.gullet.endGroup(),s.gullet.endGroup(),{type:"array",mode:s.mode,addJot:i,arraystretch:o,body:L,cols:l,rowGaps:F,hskipBeforeAndAfter:r,hLinesBeforeRow:T,colSeparationType:c,tags:w,leqno:v}}function Cx(s){return s.slice(0,1)==="d"?"display":"text"}var Jn=function(t,n){var r,i,l=t.body.length,o=t.hLinesBeforeRow,c=0,d=new Array(l),u=[],p=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),g=1/n.fontMetrics().ptPerEm,v=5*g;if(t.colSeparationType&&t.colSeparationType==="small"){var y=n.havingStyle(Ge.SCRIPT).sizeMultiplier;v=.2778*(y/n.sizeMultiplier)}var M=t.colSeparationType==="CD"?kt({number:3,unit:"ex"},n):12*g,L=3*g,F=t.arraystretch*M,T=.7*F,w=.3*F,A=0;function z(rs){for(var Yt=0;Yt<rs.length;++Yt)Yt>0&&(A+=.25),u.push({pos:A,isDashed:rs[Yt]})}for(z(o[0]),r=0;r<t.body.length;++r){var Y=t.body[r],ie=T,_=w;c<Y.length&&(c=Y.length);var k=new Array(Y.length);for(i=0;i<Y.length;++i){var N=Ve(Y[i],n);_<N.depth&&(_=N.depth),ie<N.height&&(ie=N.height),k[i]=N}var C=t.rowGaps[r],G=0;C&&(G=kt(C,n),G>0&&(G+=w,_<G&&(_=G),G=0)),t.addJot&&(_+=L),k.height=ie,k.depth=_,A+=ie,k.pos=A,A+=_+G,d[r]=k,z(o[r+1])}var I=A/2+n.fontMetrics().axisHeight,$=t.cols||[],fe=[],ae,J,Q=[];if(t.tags&&t.tags.some(rs=>rs))for(r=0;r<l;++r){var O=d[r],ee=O.pos-I,B=t.tags[r],Z=void 0;B===!0?Z=re.makeSpan(["eqn-num"],[],n):B===!1?Z=re.makeSpan([],[],n):Z=re.makeSpan([],Zt(B,n,!0),n),Z.depth=O.depth,Z.height=O.height,Q.push({type:"elem",elem:Z,shift:ee})}for(i=0,J=0;i<c||J<$.length;++i,++J){for(var P=$[J]||{},H=!0;P.type==="separator";){if(H||(ae=re.makeSpan(["arraycolsep"],[]),ae.style.width=ke(n.fontMetrics().doubleRuleSep),fe.push(ae)),P.separator==="|"||P.separator===":"){var le=P.separator==="|"?"solid":"dashed",V=re.makeSpan(["vertical-separator"],[],n);V.style.height=ke(A),V.style.borderRightWidth=ke(p),V.style.borderRightStyle=le,V.style.margin="0 "+ke(-p/2);var W=A-I;W&&(V.style.verticalAlign=ke(-W)),fe.push(V)}else throw new ye("Invalid separator type: "+P.separator);J++,P=$[J]||{},H=!1}if(!(i>=c)){var ve=void 0;(i>0||t.hskipBeforeAndAfter)&&(ve=Ze.deflt(P.pregap,v),ve!==0&&(ae=re.makeSpan(["arraycolsep"],[]),ae.style.width=ke(ve),fe.push(ae)));var oe=[];for(r=0;r<l;++r){var se=d[r],he=se[i];if(he){var be=se.pos-I;he.depth=se.depth,he.height=se.height,oe.push({type:"elem",elem:he,shift:be})}}oe=re.makeVList({positionType:"individualShift",children:oe},n),oe=re.makeSpan(["col-align-"+(P.align||"c")],[oe]),fe.push(oe),(i<c-1||t.hskipBeforeAndAfter)&&(ve=Ze.deflt(P.postgap,v),ve!==0&&(ae=re.makeSpan(["arraycolsep"],[]),ae.style.width=ke(ve),fe.push(ae)))}}if(d=re.makeSpan(["mtable"],fe),u.length>0){for(var pe=re.makeLineSpan("hline",n,p),_e=re.makeLineSpan("hdashline",n,p),ze=[{type:"elem",elem:d,shift:0}];u.length>0;){var nt=u.pop(),It=nt.pos-I;nt.isDashed?ze.push({type:"elem",elem:_e,shift:It}):ze.push({type:"elem",elem:pe,shift:It})}d=re.makeVList({positionType:"individualShift",children:ze},n)}if(Q.length===0)return re.makeSpan(["mord"],[d],n);var Rs=re.makeVList({positionType:"individualShift",children:Q},n);return Rs=re.makeSpan(["tag"],[Rs],n),re.makeFragment([d,Rs])},VM={c:"center ",l:"left ",r:"right "},er=function(t,n){for(var r=[],i=new ge.MathNode("mtd",[],["mtr-glue"]),l=new ge.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<t.body.length;o++){for(var c=t.body[o],d=[],u=0;u<c.length;u++)d.push(new ge.MathNode("mtd",[at(c[u],n)]));t.tags&&t.tags[o]&&(d.unshift(i),d.push(i),t.leqno?d.unshift(l):d.push(l)),r.push(new ge.MathNode("mtr",d))}var p=new ge.MathNode("mtable",r),g=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);p.setAttribute("rowspacing",ke(g));var v="",y="";if(t.cols&&t.cols.length>0){var M=t.cols,L="",F=!1,T=0,w=M.length;M[0].type==="separator"&&(v+="top ",T=1),M[M.length-1].type==="separator"&&(v+="bottom ",w-=1);for(var A=T;A<w;A++)M[A].type==="align"?(y+=VM[M[A].align],F&&(L+="none "),F=!0):M[A].type==="separator"&&F&&(L+=M[A].separator==="|"?"solid ":"dashed ",F=!1);p.setAttribute("columnalign",y.trim()),/[sd]/.test(L)&&p.setAttribute("columnlines",L.trim())}if(t.colSeparationType==="align"){for(var z=t.cols||[],Y="",ie=1;ie<z.length;ie++)Y+=ie%2?"0em ":"1em ";p.setAttribute("columnspacing",Y.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?p.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?p.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?p.setAttribute("columnspacing","0.5em"):p.setAttribute("columnspacing","1em");var _="",k=t.hLinesBeforeRow;v+=k[0].length>0?"left ":"",v+=k[k.length-1].length>0?"right ":"";for(var N=1;N<k.length-1;N++)_+=k[N].length===0?"none ":k[N][0]?"dashed ":"solid ";return/[sd]/.test(_)&&p.setAttribute("rowlines",_.trim()),v!==""&&(p=new ge.MathNode("menclose",[p]),p.setAttribute("notation",v.trim())),t.arraystretch&&t.arraystretch<1&&(p=new ge.MathNode("mstyle",[p]),p.setAttribute("scriptlevel","1")),p},i5=function(t,n){t.envName.indexOf("ed")===-1&&Bu(t);var r=[],i=t.envName.indexOf("at")>-1?"alignat":"align",l=t.envName==="split",o=Xi(t.parser,{cols:r,addJot:!0,autoTag:l?void 0:Ex(t.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:l?2:void 0,leqno:t.parser.settings.leqno},"display"),c,d=0,u={type:"ordgroup",mode:t.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var p="",g=0;g<n[0].body.length;g++){var v=qe(n[0].body[g],"textord");p+=v.text}c=Number(p),d=c*2}var y=!d;o.body.forEach(function(T){for(var w=1;w<T.length;w+=2){var A=qe(T[w],"styling"),z=qe(A.body[0],"ordgroup");z.body.unshift(u)}if(y)d<T.length&&(d=T.length);else{var Y=T.length/2;if(c<Y)throw new ye("Too many math in a row: "+("expected "+c+", but got "+Y),T[0])}});for(var M=0;M<d;++M){var L="r",F=0;M%2===1?L="l":M>0&&y&&(F=1),r[M]={type:"align",align:L,pregap:F,postgap:0}}return o.colSeparationType=y?"align":"alignat",o};Qn({type:"array",names:["array","darray"],props:{numArgs:1},handler(s,t){var n=qu(t[0]),r=n?[t[0]]:qe(t[0],"ordgroup").body,i=r.map(function(o){var c=Tx(o),d=c.text;if("lcr".indexOf(d)!==-1)return{type:"align",align:d};if(d==="|")return{type:"separator",separator:"|"};if(d===":")return{type:"separator",separator:":"};throw new ye("Unknown column alignment: "+d,o)}),l={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return Xi(s.parser,l,Cx(s.envName))},htmlBuilder:Jn,mathmlBuilder:er});Qn({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(s){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[s.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(s.envName.charAt(s.envName.length-1)==="*"){var i=s.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new ye("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var l=Xi(s.parser,r,Cx(s.envName)),o=Math.max(0,...l.body.map(c=>c.length));return l.cols=new Array(o).fill({type:"align",align:n}),t?{type:"leftright",mode:s.mode,body:[l],left:t[0],right:t[1],rightColor:void 0}:l},htmlBuilder:Jn,mathmlBuilder:er});Qn({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(s){var t={arraystretch:.5},n=Xi(s.parser,t,"script");return n.colSeparationType="small",n},htmlBuilder:Jn,mathmlBuilder:er});Qn({type:"array",names:["subarray"],props:{numArgs:1},handler(s,t){var n=qu(t[0]),r=n?[t[0]]:qe(t[0],"ordgroup").body,i=r.map(function(o){var c=Tx(o),d=c.text;if("lc".indexOf(d)!==-1)return{type:"align",align:d};throw new ye("Unknown column alignment: "+d,o)});if(i.length>1)throw new ye("{subarray} can contain only one column");var l={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(l=Xi(s.parser,l,"script"),l.body.length>0&&l.body[0].length>1)throw new ye("{subarray} can contain only one column");return l},htmlBuilder:Jn,mathmlBuilder:er});Qn({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(s){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=Xi(s.parser,t,Cx(s.envName));return{type:"leftright",mode:s.mode,body:[n],left:s.envName.indexOf("r")>-1?".":"\\{",right:s.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Jn,mathmlBuilder:er});Qn({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:i5,htmlBuilder:Jn,mathmlBuilder:er});Qn({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(s){["gather","gather*"].includes(s.envName)&&Bu(s);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Ex(s.envName),emptySingleRow:!0,leqno:s.parser.settings.leqno};return Xi(s.parser,t,"display")},htmlBuilder:Jn,mathmlBuilder:er});Qn({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:i5,htmlBuilder:Jn,mathmlBuilder:er});Qn({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(s){Bu(s);var t={autoTag:Ex(s.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:s.parser.settings.leqno};return Xi(s.parser,t,"display")},htmlBuilder:Jn,mathmlBuilder:er});Qn({type:"array",names:["CD"],props:{numArgs:0},handler(s){return Bu(s),$M(s.parser)},htmlBuilder:Jn,mathmlBuilder:er});S("\\nonumber","\\gdef\\@eqnsw{0}");S("\\notag","\\nonumber");Se({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(s,t){throw new ye(s.funcName+" valid only within array environment")}});var fv=n5;Se({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(s,t){var{parser:n,funcName:r}=s,i=t[0];if(i.type!=="ordgroup")throw new ye("Invalid environment name",i);for(var l="",o=0;o<i.body.length;++o)l+=qe(i.body[o],"textord").text;if(r==="\\begin"){if(!fv.hasOwnProperty(l))throw new ye("No such environment: "+l,i);var c=fv[l],{args:d,optArgs:u}=n.parseArguments("\\begin{"+l+"}",c),p={mode:n.mode,envName:l,parser:n},g=c.handler(p,d,u);n.expect("\\end",!1);var v=n.nextToken,y=qe(n.parseFunction(),"environment");if(y.name!==l)throw new ye("Mismatch: \\begin{"+l+"} matched by \\end{"+y.name+"}",v);return g}return{type:"environment",mode:n.mode,name:l,nameGroup:i}}});var a5=(s,t)=>{var n=s.font,r=t.withFont(n);return Ve(s.body,r)},l5=(s,t)=>{var n=s.font,r=t.withFont(n);return at(s.body,r)},pv={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Se({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(s,t)=>{var{parser:n,funcName:r}=s,i=lu(t[0]),l=r;return l in pv&&(l=pv[l]),{type:"font",mode:n.mode,font:l.slice(1),body:i}},htmlBuilder:a5,mathmlBuilder:l5});Se({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(s,t)=>{var{parser:n}=s,r=t[0],i=Ze.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:Lu(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});Se({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(s,t)=>{var{parser:n,funcName:r,breakOnTokenText:i}=s,{mode:l}=n,o=n.parseExpression(!0,i),c="math"+r.slice(1);return{type:"font",mode:l,font:c,body:{type:"ordgroup",mode:n.mode,body:o}}},htmlBuilder:a5,mathmlBuilder:l5});var o5=(s,t)=>{var n=t;return s==="display"?n=n.id>=Ge.SCRIPT.id?n.text():Ge.DISPLAY:s==="text"&&n.size===Ge.DISPLAY.size?n=Ge.TEXT:s==="script"?n=Ge.SCRIPT:s==="scriptscript"&&(n=Ge.SCRIPTSCRIPT),n},Mx=(s,t)=>{var n=o5(s.size,t.style),r=n.fracNum(),i=n.fracDen(),l;l=t.havingStyle(r);var o=Ve(s.numer,l,t);if(s.continued){var c=8.5/t.fontMetrics().ptPerEm,d=3.5/t.fontMetrics().ptPerEm;o.height=o.height<c?c:o.height,o.depth=o.depth<d?d:o.depth}l=t.havingStyle(i);var u=Ve(s.denom,l,t),p,g,v;s.hasBarLine?(s.barSize?(g=kt(s.barSize,t),p=re.makeLineSpan("frac-line",t,g)):p=re.makeLineSpan("frac-line",t),g=p.height,v=p.height):(p=null,g=0,v=t.fontMetrics().defaultRuleThickness);var y,M,L;n.size===Ge.DISPLAY.size||s.size==="display"?(y=t.fontMetrics().num1,g>0?M=3*v:M=7*v,L=t.fontMetrics().denom1):(g>0?(y=t.fontMetrics().num2,M=v):(y=t.fontMetrics().num3,M=3*v),L=t.fontMetrics().denom2);var F;if(p){var w=t.fontMetrics().axisHeight;y-o.depth-(w+.5*g)<M&&(y+=M-(y-o.depth-(w+.5*g))),w-.5*g-(u.height-L)<M&&(L+=M-(w-.5*g-(u.height-L)));var A=-(w-.5*g);F=re.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:L},{type:"elem",elem:p,shift:A},{type:"elem",elem:o,shift:-y}]},t)}else{var T=y-o.depth-(u.height-L);T<M&&(y+=.5*(M-T),L+=.5*(M-T)),F=re.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:L},{type:"elem",elem:o,shift:-y}]},t)}l=t.havingStyle(n),F.height*=l.sizeMultiplier/t.sizeMultiplier,F.depth*=l.sizeMultiplier/t.sizeMultiplier;var z;n.size===Ge.DISPLAY.size?z=t.fontMetrics().delim1:n.size===Ge.SCRIPTSCRIPT.size?z=t.havingStyle(Ge.SCRIPT).fontMetrics().delim2:z=t.fontMetrics().delim2;var Y,ie;return s.leftDelim==null?Y=Ac(t,["mopen"]):Y=Mr.customSizedDelim(s.leftDelim,z,!0,t.havingStyle(n),s.mode,["mopen"]),s.continued?ie=re.makeSpan([]):s.rightDelim==null?ie=Ac(t,["mclose"]):ie=Mr.customSizedDelim(s.rightDelim,z,!0,t.havingStyle(n),s.mode,["mclose"]),re.makeSpan(["mord"].concat(l.sizingClasses(t)),[Y,re.makeSpan(["mfrac"],[F]),ie],t)},$x=(s,t)=>{var n=new ge.MathNode("mfrac",[at(s.numer,t),at(s.denom,t)]);if(!s.hasBarLine)n.setAttribute("linethickness","0px");else if(s.barSize){var r=kt(s.barSize,t);n.setAttribute("linethickness",ke(r))}var i=o5(s.size,t.style);if(i.size!==t.style.size){n=new ge.MathNode("mstyle",[n]);var l=i.size===Ge.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",l),n.setAttribute("scriptlevel","0")}if(s.leftDelim!=null||s.rightDelim!=null){var o=[];if(s.leftDelim!=null){var c=new ge.MathNode("mo",[new ge.TextNode(s.leftDelim.replace("\\",""))]);c.setAttribute("fence","true"),o.push(c)}if(o.push(n),s.rightDelim!=null){var d=new ge.MathNode("mo",[new ge.TextNode(s.rightDelim.replace("\\",""))]);d.setAttribute("fence","true"),o.push(d)}return wx(o)}return n};Se({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(s,t)=>{var{parser:n,funcName:r}=s,i=t[0],l=t[1],o,c=null,d=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":o=!0;break;case"\\\\atopfrac":o=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":o=!1,c="(",d=")";break;case"\\\\bracefrac":o=!1,c="\\{",d="\\}";break;case"\\\\brackfrac":o=!1,c="[",d="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:l,hasBarLine:o,leftDelim:c,rightDelim:d,size:u,barSize:null}},htmlBuilder:Mx,mathmlBuilder:$x});Se({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(s,t)=>{var{parser:n,funcName:r}=s,i=t[0],l=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:l,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Se({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(s){var{parser:t,funcName:n,token:r}=s,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:i,token:r}}});var xv=["display","text","script","scriptscript"],gv=function(t){var n=null;return t.length>0&&(n=t,n=n==="."?null:n),n};Se({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(s,t){var{parser:n}=s,r=t[4],i=t[5],l=lu(t[0]),o=l.type==="atom"&&l.family==="open"?gv(l.text):null,c=lu(t[1]),d=c.type==="atom"&&c.family==="close"?gv(c.text):null,u=qe(t[2],"size"),p,g=null;u.isBlank?p=!0:(g=u.value,p=g.number>0);var v="auto",y=t[3];if(y.type==="ordgroup"){if(y.body.length>0){var M=qe(y.body[0],"textord");v=xv[Number(M.text)]}}else y=qe(y,"textord"),v=xv[Number(y.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:p,barSize:g,leftDelim:o,rightDelim:d,size:v}},htmlBuilder:Mx,mathmlBuilder:$x});Se({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(s,t){var{parser:n,funcName:r,token:i}=s;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:qe(t[0],"size").value,token:i}}});Se({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(s,t)=>{var{parser:n,funcName:r}=s,i=t[0],l=wC(qe(t[1],"infix").size),o=t[2],c=l.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:o,continued:!1,hasBarLine:c,barSize:l,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Mx,mathmlBuilder:$x});var c5=(s,t)=>{var n=t.style,r,i;s.type==="supsub"?(r=s.sup?Ve(s.sup,t.havingStyle(n.sup()),t):Ve(s.sub,t.havingStyle(n.sub()),t),i=qe(s.base,"horizBrace")):i=qe(s,"horizBrace");var l=Ve(i.base,t.havingBaseStyle(Ge.DISPLAY)),o=Br.svgSpan(i,t),c;if(i.isOver?(c=re.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:o}]},t),c.children[0].children[0].children[1].classes.push("svg-align")):(c=re.makeVList({positionType:"bottom",positionData:l.depth+.1+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:l}]},t),c.children[0].children[0].children[0].classes.push("svg-align")),r){var d=re.makeSpan(["mord",i.isOver?"mover":"munder"],[c],t);i.isOver?c=re.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:d},{type:"kern",size:.2},{type:"elem",elem:r}]},t):c=re.makeVList({positionType:"bottom",positionData:d.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:d}]},t)}return re.makeSpan(["mord",i.isOver?"mover":"munder"],[c],t)},KM=(s,t)=>{var n=Br.mathMLnode(s.label);return new ge.MathNode(s.isOver?"mover":"munder",[at(s.base,t),n])};Se({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(s,t){var{parser:n,funcName:r}=s;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:t[0]}},htmlBuilder:c5,mathmlBuilder:KM});Se({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(s,t)=>{var{parser:n}=s,r=t[1],i=qe(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:$t(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(s,t)=>{var n=Zt(s.body,t,!1);return re.makeAnchor(s.href,[],n,t)},mathmlBuilder:(s,t)=>{var n=Fi(s.body,t);return n instanceof Hs||(n=new Hs("mrow",[n])),n.setAttribute("href",s.href),n}});Se({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(s,t)=>{var{parser:n}=s,r=qe(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],l=0;l<r.length;l++){var o=r[l];o==="~"&&(o="\\textasciitilde"),i.push({type:"textord",mode:"text",text:o})}var c={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:$t(c)}}});Se({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(s,t){var{parser:n}=s;return{type:"hbox",mode:n.mode,body:$t(t[0])}},htmlBuilder(s,t){var n=Zt(s.body,t,!1);return re.makeFragment(n)},mathmlBuilder(s,t){return new ge.MathNode("mrow",Ds(s.body,t))}});Se({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(s,t)=>{var{parser:n,funcName:r,token:i}=s,l=qe(t[0],"raw").string,o=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var c,d={};switch(r){case"\\htmlClass":d.class=l,c={command:"\\htmlClass",class:l};break;case"\\htmlId":d.id=l,c={command:"\\htmlId",id:l};break;case"\\htmlStyle":d.style=l,c={command:"\\htmlStyle",style:l};break;case"\\htmlData":{for(var u=l.split(","),p=0;p<u.length;p++){var g=u[p],v=g.indexOf("=");if(v<0)throw new ye("\\htmlData key/value '"+g+"' missing equals sign");var y=g.slice(0,v),M=g.slice(v+1);d["data-"+y.trim()]=M}c={command:"\\htmlData",attributes:d};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(c)?{type:"html",mode:n.mode,attributes:d,body:$t(o)}:n.formatUnsupportedCmd(r)},htmlBuilder:(s,t)=>{var n=Zt(s.body,t,!1),r=["enclosing"];s.attributes.class&&r.push(...s.attributes.class.trim().split(/\s+/));var i=re.makeSpan(r,n,t);for(var l in s.attributes)l!=="class"&&s.attributes.hasOwnProperty(l)&&i.setAttribute(l,s.attributes[l]);return i},mathmlBuilder:(s,t)=>Fi(s.body,t)});Se({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(s,t)=>{var{parser:n}=s;return{type:"htmlmathml",mode:n.mode,html:$t(t[0]),mathml:$t(t[1])}},htmlBuilder:(s,t)=>{var n=Zt(s.html,t,!1);return re.makeFragment(n)},mathmlBuilder:(s,t)=>Fi(s.mathml,t)});var om=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!n)throw new ye("Invalid size: '"+t+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!_3(r))throw new ye("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};Se({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(s,t,n)=>{var{parser:r}=s,i={number:0,unit:"em"},l={number:.9,unit:"em"},o={number:0,unit:"em"},c="";if(n[0])for(var d=qe(n[0],"raw").string,u=d.split(","),p=0;p<u.length;p++){var g=u[p].split("=");if(g.length===2){var v=g[1].trim();switch(g[0].trim()){case"alt":c=v;break;case"width":i=om(v);break;case"height":l=om(v);break;case"totalheight":o=om(v);break;default:throw new ye("Invalid key: '"+g[0]+"' in \\includegraphics.")}}}var y=qe(t[0],"url").url;return c===""&&(c=y,c=c.replace(/^.*[\\/]/,""),c=c.substring(0,c.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:y})?{type:"includegraphics",mode:r.mode,alt:c,width:i,height:l,totalheight:o,src:y}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(s,t)=>{var n=kt(s.height,t),r=0;s.totalheight.number>0&&(r=kt(s.totalheight,t)-n);var i=0;s.width.number>0&&(i=kt(s.width,t));var l={height:ke(n+r)};i>0&&(l.width=ke(i)),r>0&&(l.verticalAlign=ke(-r));var o=new KC(s.src,s.alt,l);return o.height=n,o.depth=r,o},mathmlBuilder:(s,t)=>{var n=new ge.MathNode("mglyph",[]);n.setAttribute("alt",s.alt);var r=kt(s.height,t),i=0;if(s.totalheight.number>0&&(i=kt(s.totalheight,t)-r,n.setAttribute("valign",ke(-i))),n.setAttribute("height",ke(r+i)),s.width.number>0){var l=kt(s.width,t);n.setAttribute("width",ke(l))}return n.setAttribute("src",s.src),n}});Se({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(s,t){var{parser:n,funcName:r}=s,i=qe(t[0],"size");if(n.settings.strict){var l=r[1]==="m",o=i.value.unit==="mu";l?(o||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):o&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(s,t){return re.makeGlue(s.dimension,t)},mathmlBuilder(s,t){var n=kt(s.dimension,t);return new ge.SpaceNode(n)}});Se({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(s,t)=>{var{parser:n,funcName:r}=s,i=t[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(s,t)=>{var n;s.alignment==="clap"?(n=re.makeSpan([],[Ve(s.body,t)]),n=re.makeSpan(["inner"],[n],t)):n=re.makeSpan(["inner"],[Ve(s.body,t)]);var r=re.makeSpan(["fix"],[]),i=re.makeSpan([s.alignment],[n,r],t),l=re.makeSpan(["strut"]);return l.style.height=ke(i.height+i.depth),i.depth&&(l.style.verticalAlign=ke(-i.depth)),i.children.unshift(l),i=re.makeSpan(["thinbox"],[i],t),re.makeSpan(["mord","vbox"],[i],t)},mathmlBuilder:(s,t)=>{var n=new ge.MathNode("mpadded",[at(s.body,t)]);if(s.alignment!=="rlap"){var r=s.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});Se({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(s,t){var{funcName:n,parser:r}=s,i=r.mode;r.switchMode("math");var l=n==="\\("?"\\)":"$",o=r.parseExpression(!1,l);return r.expect(l),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:o}}});Se({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(s,t){throw new ye("Mismatched "+s.funcName)}});var vv=(s,t)=>{switch(t.style.size){case Ge.DISPLAY.size:return s.display;case Ge.TEXT.size:return s.text;case Ge.SCRIPT.size:return s.script;case Ge.SCRIPTSCRIPT.size:return s.scriptscript;default:return s.text}};Se({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(s,t)=>{var{parser:n}=s;return{type:"mathchoice",mode:n.mode,display:$t(t[0]),text:$t(t[1]),script:$t(t[2]),scriptscript:$t(t[3])}},htmlBuilder:(s,t)=>{var n=vv(s,t),r=Zt(n,t,!1);return re.makeFragment(r)},mathmlBuilder:(s,t)=>{var n=vv(s,t);return Fi(n,t)}});var h5=(s,t,n,r,i,l,o)=>{s=re.makeSpan([],[s]);var c=n&&Ze.isCharacterBox(n),d,u;if(t){var p=Ve(t,r.havingStyle(i.sup()),r);u={elem:p,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-p.depth)}}if(n){var g=Ve(n,r.havingStyle(i.sub()),r);d={elem:g,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-g.height)}}var v;if(u&&d){var y=r.fontMetrics().bigOpSpacing5+d.elem.height+d.elem.depth+d.kern+s.depth+o;v=re.makeVList({positionType:"bottom",positionData:y,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:d.elem,marginLeft:ke(-l)},{type:"kern",size:d.kern},{type:"elem",elem:s},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:ke(l)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(d){var M=s.height-o;v=re.makeVList({positionType:"top",positionData:M,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:d.elem,marginLeft:ke(-l)},{type:"kern",size:d.kern},{type:"elem",elem:s}]},r)}else if(u){var L=s.depth+o;v=re.makeVList({positionType:"bottom",positionData:L,children:[{type:"elem",elem:s},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:ke(l)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return s;var F=[v];if(d&&l!==0&&!c){var T=re.makeSpan(["mspace"],[],r);T.style.marginRight=ke(l),F.unshift(T)}return re.makeSpan(["mop","op-limits"],F,r)},d5=["\\smallint"],eo=(s,t)=>{var n,r,i=!1,l;s.type==="supsub"?(n=s.sup,r=s.sub,l=qe(s.base,"op"),i=!0):l=qe(s,"op");var o=t.style,c=!1;o.size===Ge.DISPLAY.size&&l.symbol&&!d5.includes(l.name)&&(c=!0);var d;if(l.symbol){var u=c?"Size2-Regular":"Size1-Regular",p="";if((l.name==="\\oiint"||l.name==="\\oiiint")&&(p=l.name.slice(1),l.name=p==="oiint"?"\\iint":"\\iiint"),d=re.makeSymbol(l.name,u,"math",t,["mop","op-symbol",c?"large-op":"small-op"]),p.length>0){var g=d.italic,v=re.staticSvg(p+"Size"+(c?"2":"1"),t);d=re.makeVList({positionType:"individualShift",children:[{type:"elem",elem:d,shift:0},{type:"elem",elem:v,shift:c?.08:0}]},t),l.name="\\"+p,d.classes.unshift("mop"),d.italic=g}}else if(l.body){var y=Zt(l.body,t,!0);y.length===1&&y[0]instanceof fn?(d=y[0],d.classes[0]="mop"):d=re.makeSpan(["mop"],y,t)}else{for(var M=[],L=1;L<l.name.length;L++)M.push(re.mathsym(l.name[L],l.mode,t));d=re.makeSpan(["mop"],M,t)}var F=0,T=0;return(d instanceof fn||l.name==="\\oiint"||l.name==="\\oiiint")&&!l.suppressBaseShift&&(F=(d.height-d.depth)/2-t.fontMetrics().axisHeight,T=d.italic),i?h5(d,n,r,t,o,T,F):(F&&(d.style.position="relative",d.style.top=ke(F)),d)},Xc=(s,t)=>{var n;if(s.symbol)n=new Hs("mo",[pn(s.name,s.mode)]),d5.includes(s.name)&&n.setAttribute("largeop","false");else if(s.body)n=new Hs("mo",Ds(s.body,t));else{n=new Hs("mi",[new Bn(s.name.slice(1))]);var r=new Hs("mo",[pn("","text")]);s.parentIsSupSub?n=new Hs("mrow",[n,r]):n=q3([n,r])}return n},ZM={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Se({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(s,t)=>{var{parser:n,funcName:r}=s,i=r;return i.length===1&&(i=ZM[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:eo,mathmlBuilder:Xc});Se({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(s,t)=>{var{parser:n}=s,r=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:$t(r)}},htmlBuilder:eo,mathmlBuilder:Xc});var XM={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Se({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(s){var{parser:t,funcName:n}=s;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:eo,mathmlBuilder:Xc});Se({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(s){var{parser:t,funcName:n}=s;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:eo,mathmlBuilder:Xc});Se({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(s){var{parser:t,funcName:n}=s,r=n;return r.length===1&&(r=XM[r]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:eo,mathmlBuilder:Xc});var u5=(s,t)=>{var n,r,i=!1,l;s.type==="supsub"?(n=s.sup,r=s.sub,l=qe(s.base,"operatorname"),i=!0):l=qe(s,"operatorname");var o;if(l.body.length>0){for(var c=l.body.map(g=>{var v=g.text;return typeof v=="string"?{type:"textord",mode:g.mode,text:v}:g}),d=Zt(c,t.withFont("mathrm"),!0),u=0;u<d.length;u++){var p=d[u];p instanceof fn&&(p.text=p.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=re.makeSpan(["mop"],d,t)}else o=re.makeSpan(["mop"],[],t);return i?h5(o,n,r,t,t.style,0,0):o},YM=(s,t)=>{for(var n=Ds(s.body,t.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var l=n[i];if(!(l instanceof ge.SpaceNode))if(l instanceof ge.MathNode)switch(l.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var o=l.children[0];l.children.length===1&&o instanceof ge.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var c=n.map(p=>p.toText()).join("");n=[new ge.TextNode(c)]}var d=new ge.MathNode("mi",n);d.setAttribute("mathvariant","normal");var u=new ge.MathNode("mo",[pn("","text")]);return s.parentIsSupSub?new ge.MathNode("mrow",[d,u]):ge.newDocumentFragment([d,u])};Se({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(s,t)=>{var{parser:n,funcName:r}=s,i=t[0];return{type:"operatorname",mode:n.mode,body:$t(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:u5,mathmlBuilder:YM});S("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");La({type:"ordgroup",htmlBuilder(s,t){return s.semisimple?re.makeFragment(Zt(s.body,t,!1)):re.makeSpan(["mord"],Zt(s.body,t,!0),t)},mathmlBuilder(s,t){return Fi(s.body,t,!0)}});Se({type:"overline",names:["\\overline"],props:{numArgs:1},handler(s,t){var{parser:n}=s,r=t[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(s,t){var n=Ve(s.body,t.havingCrampedStyle()),r=re.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,l=re.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},t);return re.makeSpan(["mord","overline"],[l],t)},mathmlBuilder(s,t){var n=new ge.MathNode("mo",[new ge.TextNode("")]);n.setAttribute("stretchy","true");var r=new ge.MathNode("mover",[at(s.body,t),n]);return r.setAttribute("accent","true"),r}});Se({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(s,t)=>{var{parser:n}=s,r=t[0];return{type:"phantom",mode:n.mode,body:$t(r)}},htmlBuilder:(s,t)=>{var n=Zt(s.body,t.withPhantom(),!1);return re.makeFragment(n)},mathmlBuilder:(s,t)=>{var n=Ds(s.body,t);return new ge.MathNode("mphantom",n)}});Se({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(s,t)=>{var{parser:n}=s,r=t[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(s,t)=>{var n=re.makeSpan([],[Ve(s.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=re.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),re.makeSpan(["mord"],[n],t)},mathmlBuilder:(s,t)=>{var n=Ds($t(s.body),t),r=new ge.MathNode("mphantom",n),i=new ge.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});Se({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(s,t)=>{var{parser:n}=s,r=t[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(s,t)=>{var n=re.makeSpan(["inner"],[Ve(s.body,t.withPhantom())]),r=re.makeSpan(["fix"],[]);return re.makeSpan(["mord","rlap"],[n,r],t)},mathmlBuilder:(s,t)=>{var n=Ds($t(s.body),t),r=new ge.MathNode("mphantom",n),i=new ge.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});Se({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(s,t){var{parser:n}=s,r=qe(t[0],"size").value,i=t[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(s,t){var n=Ve(s.body,t),r=kt(s.dy,t);return re.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(s,t){var n=new ge.MathNode("mpadded",[at(s.body,t)]),r=s.dy.number+s.dy.unit;return n.setAttribute("voffset",r),n}});Se({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(s){var{parser:t}=s;return{type:"internal",mode:t.mode}}});Se({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(s,t,n){var{parser:r}=s,i=n[0],l=qe(t[0],"size"),o=qe(t[1],"size");return{type:"rule",mode:r.mode,shift:i&&qe(i,"size").value,width:l.value,height:o.value}},htmlBuilder(s,t){var n=re.makeSpan(["mord","rule"],[],t),r=kt(s.width,t),i=kt(s.height,t),l=s.shift?kt(s.shift,t):0;return n.style.borderRightWidth=ke(r),n.style.borderTopWidth=ke(i),n.style.bottom=ke(l),n.width=r,n.height=i+l,n.depth=-l,n.maxFontSize=i*1.125*t.sizeMultiplier,n},mathmlBuilder(s,t){var n=kt(s.width,t),r=kt(s.height,t),i=s.shift?kt(s.shift,t):0,l=t.color&&t.getColor()||"black",o=new ge.MathNode("mspace");o.setAttribute("mathbackground",l),o.setAttribute("width",ke(n)),o.setAttribute("height",ke(r));var c=new ge.MathNode("mpadded",[o]);return i>=0?c.setAttribute("height",ke(i)):(c.setAttribute("height",ke(i)),c.setAttribute("depth",ke(-i))),c.setAttribute("voffset",ke(i)),c}});function m5(s,t,n){for(var r=Zt(s,t,!1),i=t.sizeMultiplier/n.sizeMultiplier,l=0;l<r.length;l++){var o=r[l].classes.indexOf("sizing");o<0?Array.prototype.push.apply(r[l].classes,t.sizingClasses(n)):r[l].classes[o+1]==="reset-size"+t.size&&(r[l].classes[o+1]="reset-size"+n.size),r[l].height*=i,r[l].depth*=i}return re.makeFragment(r)}var jv=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],WM=(s,t)=>{var n=t.havingSize(s.size);return m5(s.body,n,t)};Se({type:"sizing",names:jv,props:{numArgs:0,allowedInText:!0},handler:(s,t)=>{var{breakOnTokenText:n,funcName:r,parser:i}=s,l=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:jv.indexOf(r)+1,body:l}},htmlBuilder:WM,mathmlBuilder:(s,t)=>{var n=t.havingSize(s.size),r=Ds(s.body,n),i=new ge.MathNode("mstyle",r);return i.setAttribute("mathsize",ke(n.sizeMultiplier)),i}});Se({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(s,t,n)=>{var{parser:r}=s,i=!1,l=!1,o=n[0]&&qe(n[0],"ordgroup");if(o)for(var c="",d=0;d<o.body.length;++d){var u=o.body[d];if(c=u.text,c==="t")i=!0;else if(c==="b")l=!0;else{i=!1,l=!1;break}}else i=!0,l=!0;var p=t[0];return{type:"smash",mode:r.mode,body:p,smashHeight:i,smashDepth:l}},htmlBuilder:(s,t)=>{var n=re.makeSpan([],[Ve(s.body,t)]);if(!s.smashHeight&&!s.smashDepth)return n;if(s.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(s.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var l=re.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return re.makeSpan(["mord"],[l],t)},mathmlBuilder:(s,t)=>{var n=new ge.MathNode("mpadded",[at(s.body,t)]);return s.smashHeight&&n.setAttribute("height","0px"),s.smashDepth&&n.setAttribute("depth","0px"),n}});Se({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(s,t,n){var{parser:r}=s,i=n[0],l=t[0];return{type:"sqrt",mode:r.mode,body:l,index:i}},htmlBuilder(s,t){var n=Ve(s.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=re.wrapFragment(n,t);var r=t.fontMetrics(),i=r.defaultRuleThickness,l=i;t.style.id<Ge.TEXT.id&&(l=t.fontMetrics().xHeight);var o=i+l/4,c=n.height+n.depth+o+i,{span:d,ruleWidth:u,advanceWidth:p}=Mr.sqrtImage(c,t),g=d.height-u;g>n.height+n.depth+o&&(o=(o+g-n.height-n.depth)/2);var v=d.height-n.height-o-u;n.style.paddingLeft=ke(p);var y=re.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+v)},{type:"elem",elem:d},{type:"kern",size:u}]},t);if(s.index){var M=t.havingStyle(Ge.SCRIPTSCRIPT),L=Ve(s.index,M,t),F=.6*(y.height-y.depth),T=re.makeVList({positionType:"shift",positionData:-F,children:[{type:"elem",elem:L}]},t),w=re.makeSpan(["root"],[T]);return re.makeSpan(["mord","sqrt"],[w,y],t)}else return re.makeSpan(["mord","sqrt"],[y],t)},mathmlBuilder(s,t){var{body:n,index:r}=s;return r?new ge.MathNode("mroot",[at(n,t),at(r,t)]):new ge.MathNode("msqrt",[at(n,t)])}});var yv={display:Ge.DISPLAY,text:Ge.TEXT,script:Ge.SCRIPT,scriptscript:Ge.SCRIPTSCRIPT};Se({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(s,t){var{breakOnTokenText:n,funcName:r,parser:i}=s,l=i.parseExpression(!0,n),o=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:o,body:l}},htmlBuilder(s,t){var n=yv[s.style],r=t.havingStyle(n).withFont("");return m5(s.body,r,t)},mathmlBuilder(s,t){var n=yv[s.style],r=t.havingStyle(n),i=Ds(s.body,r),l=new ge.MathNode("mstyle",i),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},c=o[s.style];return l.setAttribute("scriptlevel",c[0]),l.setAttribute("displaystyle",c[1]),l}});var QM=function(t,n){var r=t.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===Ge.DISPLAY.size||r.alwaysHandleSupSub);return i?eo:null}else if(r.type==="operatorname"){var l=r.alwaysHandleSupSub&&(n.style.size===Ge.DISPLAY.size||r.limits);return l?u5:null}else{if(r.type==="accent")return Ze.isCharacterBox(r.base)?Sx:null;if(r.type==="horizBrace"){var o=!t.sub;return o===r.isOver?c5:null}else return null}else return null};La({type:"supsub",htmlBuilder(s,t){var n=QM(s,t);if(n)return n(s,t);var{base:r,sup:i,sub:l}=s,o=Ve(r,t),c,d,u=t.fontMetrics(),p=0,g=0,v=r&&Ze.isCharacterBox(r);if(i){var y=t.havingStyle(t.style.sup());c=Ve(i,y,t),v||(p=o.height-y.fontMetrics().supDrop*y.sizeMultiplier/t.sizeMultiplier)}if(l){var M=t.havingStyle(t.style.sub());d=Ve(l,M,t),v||(g=o.depth+M.fontMetrics().subDrop*M.sizeMultiplier/t.sizeMultiplier)}var L;t.style===Ge.DISPLAY?L=u.sup1:t.style.cramped?L=u.sup3:L=u.sup2;var F=t.sizeMultiplier,T=ke(.5/u.ptPerEm/F),w=null;if(d){var A=s.base&&s.base.type==="op"&&s.base.name&&(s.base.name==="\\oiint"||s.base.name==="\\oiiint");(o instanceof fn||A)&&(w=ke(-o.italic))}var z;if(c&&d){p=Math.max(p,L,c.depth+.25*u.xHeight),g=Math.max(g,u.sub2);var Y=u.defaultRuleThickness,ie=4*Y;if(p-c.depth-(d.height-g)<ie){g=ie-(p-c.depth)+d.height;var _=.8*u.xHeight-(p-c.depth);_>0&&(p+=_,g-=_)}var k=[{type:"elem",elem:d,shift:g,marginRight:T,marginLeft:w},{type:"elem",elem:c,shift:-p,marginRight:T}];z=re.makeVList({positionType:"individualShift",children:k},t)}else if(d){g=Math.max(g,u.sub1,d.height-.8*u.xHeight);var N=[{type:"elem",elem:d,marginLeft:w,marginRight:T}];z=re.makeVList({positionType:"shift",positionData:g,children:N},t)}else if(c)p=Math.max(p,L,c.depth+.25*u.xHeight),z=re.makeVList({positionType:"shift",positionData:-p,children:[{type:"elem",elem:c,marginRight:T}]},t);else throw new Error("supsub must have either sup or sub.");var C=Pf(o,"right")||"mord";return re.makeSpan([C],[o,re.makeSpan(["msupsub"],[z])],t)},mathmlBuilder(s,t){var n=!1,r,i;s.base&&s.base.type==="horizBrace"&&(i=!!s.sup,i===s.base.isOver&&(n=!0,r=s.base.isOver)),s.base&&(s.base.type==="op"||s.base.type==="operatorname")&&(s.base.parentIsSupSub=!0);var l=[at(s.base,t)];s.sub&&l.push(at(s.sub,t)),s.sup&&l.push(at(s.sup,t));var o;if(n)o=r?"mover":"munder";else if(s.sub)if(s.sup){var u=s.base;u&&u.type==="op"&&u.limits&&t.style===Ge.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(t.style===Ge.DISPLAY||u.limits)?o="munderover":o="msubsup"}else{var d=s.base;d&&d.type==="op"&&d.limits&&(t.style===Ge.DISPLAY||d.alwaysHandleSupSub)||d&&d.type==="operatorname"&&d.alwaysHandleSupSub&&(d.limits||t.style===Ge.DISPLAY)?o="munder":o="msub"}else{var c=s.base;c&&c.type==="op"&&c.limits&&(t.style===Ge.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||t.style===Ge.DISPLAY)?o="mover":o="msup"}return new ge.MathNode(o,l)}});La({type:"atom",htmlBuilder(s,t){return re.mathsym(s.text,s.mode,t,["m"+s.family])},mathmlBuilder(s,t){var n=new ge.MathNode("mo",[pn(s.text,s.mode)]);if(s.family==="bin"){var r=kx(s,t);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else s.family==="punct"?n.setAttribute("separator","true"):(s.family==="open"||s.family==="close")&&n.setAttribute("stretchy","false");return n}});var f5={mi:"italic",mn:"normal",mtext:"normal"};La({type:"mathord",htmlBuilder(s,t){return re.makeOrd(s,t,"mathord")},mathmlBuilder(s,t){var n=new ge.MathNode("mi",[pn(s.text,s.mode,t)]),r=kx(s,t)||"italic";return r!==f5[n.type]&&n.setAttribute("mathvariant",r),n}});La({type:"textord",htmlBuilder(s,t){return re.makeOrd(s,t,"textord")},mathmlBuilder(s,t){var n=pn(s.text,s.mode,t),r=kx(s,t)||"normal",i;return s.mode==="text"?i=new ge.MathNode("mtext",[n]):/[0-9]/.test(s.text)?i=new ge.MathNode("mn",[n]):s.text==="\\prime"?i=new ge.MathNode("mo",[n]):i=new ge.MathNode("mi",[n]),r!==f5[i.type]&&i.setAttribute("mathvariant",r),i}});var cm={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},hm={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};La({type:"spacing",htmlBuilder(s,t){if(hm.hasOwnProperty(s.text)){var n=hm[s.text].className||"";if(s.mode==="text"){var r=re.makeOrd(s,t,"textord");return r.classes.push(n),r}else return re.makeSpan(["mspace",n],[re.mathsym(s.text,s.mode,t)],t)}else{if(cm.hasOwnProperty(s.text))return re.makeSpan(["mspace",cm[s.text]],[],t);throw new ye('Unknown type of space "'+s.text+'"')}},mathmlBuilder(s,t){var n;if(hm.hasOwnProperty(s.text))n=new ge.MathNode("mtext",[new ge.TextNode("")]);else{if(cm.hasOwnProperty(s.text))return new ge.MathNode("mspace");throw new ye('Unknown type of space "'+s.text+'"')}return n}});var bv=()=>{var s=new ge.MathNode("mtd",[]);return s.setAttribute("width","50%"),s};La({type:"tag",mathmlBuilder(s,t){var n=new ge.MathNode("mtable",[new ge.MathNode("mtr",[bv(),new ge.MathNode("mtd",[Fi(s.body,t)]),bv(),new ge.MathNode("mtd",[Fi(s.tag,t)])])]);return n.setAttribute("width","100%"),n}});var wv={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},kv={"\\textbf":"textbf","\\textmd":"textmd"},JM={"\\textit":"textit","\\textup":"textup"},Tv=(s,t)=>{var n=s.font;if(n){if(wv[n])return t.withTextFontFamily(wv[n]);if(kv[n])return t.withTextFontWeight(kv[n]);if(n==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(JM[n])};Se({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(s,t){var{parser:n,funcName:r}=s,i=t[0];return{type:"text",mode:n.mode,body:$t(i),font:r}},htmlBuilder(s,t){var n=Tv(s,t),r=Zt(s.body,n,!0);return re.makeSpan(["mord","text"],r,n)},mathmlBuilder(s,t){var n=Tv(s,t);return Fi(s.body,n)}});Se({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(s,t){var{parser:n}=s;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(s,t){var n=Ve(s.body,t),r=re.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,l=re.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},t);return re.makeSpan(["mord","underline"],[l],t)},mathmlBuilder(s,t){var n=new ge.MathNode("mo",[new ge.TextNode("")]);n.setAttribute("stretchy","true");var r=new ge.MathNode("munder",[at(s.body,t),n]);return r.setAttribute("accentunder","true"),r}});Se({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(s,t){var{parser:n}=s;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(s,t){var n=Ve(s.body,t),r=t.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return re.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(s,t){return new ge.MathNode("mpadded",[at(s.body,t)],["vcenter"])}});Se({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(s,t,n){throw new ye("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(s,t){for(var n=Sv(s),r=[],i=t.havingStyle(t.style.text()),l=0;l<n.length;l++){var o=n[l];o==="~"&&(o="\\textasciitilde"),r.push(re.makeSymbol(o,"Typewriter-Regular",s.mode,i,["mord","texttt"]))}return re.makeSpan(["mord","text"].concat(i.sizingClasses(t)),re.tryCombineChars(r),i)},mathmlBuilder(s,t){var n=new ge.TextNode(Sv(s)),r=new ge.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var Sv=s=>s.body.replace(/ /g,s.star?"":""),bi=R3,p5=`[ \r
	]`,e$="\\\\[a-zA-Z@]+",t$="\\\\[^\uD800-\uDFFF]",s$="("+e$+")"+p5+"*",n$=`\\\\(
|[ \r	]+
?)[ \r	]*`,Ff="[-]",r$=new RegExp(Ff+"+$"),i$="("+p5+"+)|"+(n$+"|")+"([!-\\[\\]---]"+(Ff+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Ff+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+s$)+("|"+t$+")");class Nv{constructor(t,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp(i$,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,n){this.catcodes[t]=n}lex(){var t=this.input,n=this.tokenRegex.lastIndex;if(n===t.length)return new Xs("EOF",new Ms(this,n,n));var r=this.tokenRegex.exec(t);if(r===null||r.index!==n)throw new ye("Unexpected character: '"+t[n]+"'",new Xs(t[n],new Ms(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var l=t.indexOf(`
`,this.tokenRegex.lastIndex);return l===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=l+1,this.lex()}return new Xs(i,new Ms(this,n,this.tokenRegex.lastIndex))}}class a${constructor(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ye("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var n in t)t.hasOwnProperty(n)&&(t[n]==null?delete this.current[n]:this.current[n]=t[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=n)}else{var l=this.undefStack[this.undefStack.length-1];l&&!l.hasOwnProperty(t)&&(l[t]=this.current[t])}n==null?delete this.current[t]:this.current[t]=n}}var l$=r5;S("\\noexpand",function(s){var t=s.popToken();return s.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});S("\\expandafter",function(s){var t=s.popToken();return s.expandOnce(!0),{tokens:[t],numArgs:0}});S("\\@firstoftwo",function(s){var t=s.consumeArgs(2);return{tokens:t[0],numArgs:0}});S("\\@secondoftwo",function(s){var t=s.consumeArgs(2);return{tokens:t[1],numArgs:0}});S("\\@ifnextchar",function(s){var t=s.consumeArgs(3);s.consumeSpaces();var n=s.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});S("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");S("\\TextOrMath",function(s){var t=s.consumeArgs(2);return s.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var Av={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};S("\\char",function(s){var t=s.popToken(),n,r="";if(t.text==="'")n=8,t=s.popToken();else if(t.text==='"')n=16,t=s.popToken();else if(t.text==="`")if(t=s.popToken(),t.text[0]==="\\")r=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new ye("\\char` missing argument");r=t.text.charCodeAt(0)}else n=10;if(n){if(r=Av[t.text],r==null||r>=n)throw new ye("Invalid base-"+n+" digit "+t.text);for(var i;(i=Av[s.future().text])!=null&&i<n;)r*=n,r+=i,s.popToken()}return"\\@char{"+r+"}"});var Gx=(s,t,n,r)=>{var i=s.consumeArg().tokens;if(i.length!==1)throw new ye("\\newcommand's first argument must be a macro name");var l=i[0].text,o=s.isDefined(l);if(o&&!t)throw new ye("\\newcommand{"+l+"} attempting to redefine "+(l+"; use \\renewcommand"));if(!o&&!n)throw new ye("\\renewcommand{"+l+"} when command "+l+" does not yet exist; use \\newcommand");var c=0;if(i=s.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var d="",u=s.expandNextToken();u.text!=="]"&&u.text!=="EOF";)d+=u.text,u=s.expandNextToken();if(!d.match(/^\s*[0-9]+\s*$/))throw new ye("Invalid number of arguments: "+d);c=parseInt(d),i=s.consumeArg().tokens}return o&&r||s.macros.set(l,{tokens:i,numArgs:c}),""};S("\\newcommand",s=>Gx(s,!1,!0,!1));S("\\renewcommand",s=>Gx(s,!0,!1,!1));S("\\providecommand",s=>Gx(s,!0,!0,!0));S("\\message",s=>{var t=s.consumeArgs(1)[0];return console.log(t.reverse().map(n=>n.text).join("")),""});S("\\errmessage",s=>{var t=s.consumeArgs(1)[0];return console.error(t.reverse().map(n=>n.text).join("")),""});S("\\show",s=>{var t=s.popToken(),n=t.text;return console.log(t,s.macros.get(n),bi[n],dt.math[n],dt.text[n]),""});S("\\bgroup","{");S("\\egroup","}");S("~","\\nobreakspace");S("\\lq","`");S("\\rq","'");S("\\aa","\\r a");S("\\AA","\\r A");S("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");S("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");S("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");S("","\\mathscr{B}");S("","\\mathscr{E}");S("","\\mathscr{F}");S("","\\mathscr{H}");S("","\\mathscr{I}");S("","\\mathscr{L}");S("","\\mathscr{M}");S("","\\mathscr{R}");S("","\\mathfrak{C}");S("","\\mathfrak{H}");S("","\\mathfrak{Z}");S("\\Bbbk","\\Bbb{k}");S("","\\cdotp");S("\\llap","\\mathllap{\\textrm{#1}}");S("\\rlap","\\mathrlap{\\textrm{#1}}");S("\\clap","\\mathclap{\\textrm{#1}}");S("\\mathstrut","\\vphantom{(}");S("\\underbar","\\underline{\\text{#1}}");S("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');S("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");S("\\ne","\\neq");S("","\\neq");S("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");S("","\\notin");S("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");S("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");S("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");S("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");S("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");S("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");S("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");S("","\\perp");S("","\\mathclose{!\\mkern-0.8mu!}");S("","\\notni");S("","\\ulcorner");S("","\\urcorner");S("","\\llcorner");S("","\\lrcorner");S("","\\copyright");S("","\\textregistered");S("","\\textregistered");S("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');S("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');S("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');S("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');S("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");S("","\\vdots");S("\\varGamma","\\mathit{\\Gamma}");S("\\varDelta","\\mathit{\\Delta}");S("\\varTheta","\\mathit{\\Theta}");S("\\varLambda","\\mathit{\\Lambda}");S("\\varXi","\\mathit{\\Xi}");S("\\varPi","\\mathit{\\Pi}");S("\\varSigma","\\mathit{\\Sigma}");S("\\varUpsilon","\\mathit{\\Upsilon}");S("\\varPhi","\\mathit{\\Phi}");S("\\varPsi","\\mathit{\\Psi}");S("\\varOmega","\\mathit{\\Omega}");S("\\substack","\\begin{subarray}{c}#1\\end{subarray}");S("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");S("\\boxed","\\fbox{$\\displaystyle{#1}$}");S("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");S("\\implies","\\DOTSB\\;\\Longrightarrow\\;");S("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");S("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");S("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var _v={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};S("\\dots",function(s){var t="\\dotso",n=s.expandAfterFuture().text;return n in _v?t=_v[n]:(n.slice(0,4)==="\\not"||n in dt.math&&["bin","rel"].includes(dt.math[n].group))&&(t="\\dotsb"),t});var zx={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};S("\\dotso",function(s){var t=s.future().text;return t in zx?"\\ldots\\,":"\\ldots"});S("\\dotsc",function(s){var t=s.future().text;return t in zx&&t!==","?"\\ldots\\,":"\\ldots"});S("\\cdots",function(s){var t=s.future().text;return t in zx?"\\@cdots\\,":"\\@cdots"});S("\\dotsb","\\cdots");S("\\dotsm","\\cdots");S("\\dotsi","\\!\\cdots");S("\\dotsx","\\ldots\\,");S("\\DOTSI","\\relax");S("\\DOTSB","\\relax");S("\\DOTSX","\\relax");S("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");S("\\,","\\tmspace+{3mu}{.1667em}");S("\\thinspace","\\,");S("\\>","\\mskip{4mu}");S("\\:","\\tmspace+{4mu}{.2222em}");S("\\medspace","\\:");S("\\;","\\tmspace+{5mu}{.2777em}");S("\\thickspace","\\;");S("\\!","\\tmspace-{3mu}{.1667em}");S("\\negthinspace","\\!");S("\\negmedspace","\\tmspace-{4mu}{.2222em}");S("\\negthickspace","\\tmspace-{5mu}{.277em}");S("\\enspace","\\kern.5em ");S("\\enskip","\\hskip.5em\\relax");S("\\quad","\\hskip1em\\relax");S("\\qquad","\\hskip2em\\relax");S("\\tag","\\@ifstar\\tag@literal\\tag@paren");S("\\tag@paren","\\tag@literal{({#1})}");S("\\tag@literal",s=>{if(s.macros.get("\\df@tag"))throw new ye("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});S("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");S("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");S("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");S("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");S("\\newline","\\\\\\relax");S("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var x5=ke(Pn["Main-Regular"][84][1]-.7*Pn["Main-Regular"][65][1]);S("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+x5+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");S("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+x5+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");S("\\hspace","\\@ifstar\\@hspacer\\@hspace");S("\\@hspace","\\hskip #1\\relax");S("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");S("\\ordinarycolon",":");S("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");S("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');S("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');S("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');S("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');S("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');S("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');S("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');S("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');S("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');S("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');S("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');S("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');S("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');S("","\\dblcolon");S("","\\eqcolon");S("","\\coloneqq");S("","\\eqqcolon");S("","\\Coloneqq");S("\\ratio","\\vcentcolon");S("\\coloncolon","\\dblcolon");S("\\colonequals","\\coloneqq");S("\\coloncolonequals","\\Coloneqq");S("\\equalscolon","\\eqqcolon");S("\\equalscoloncolon","\\Eqqcolon");S("\\colonminus","\\coloneq");S("\\coloncolonminus","\\Coloneq");S("\\minuscolon","\\eqcolon");S("\\minuscoloncolon","\\Eqcolon");S("\\coloncolonapprox","\\Colonapprox");S("\\coloncolonsim","\\Colonsim");S("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");S("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");S("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");S("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");S("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");S("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");S("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");S("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");S("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");S("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");S("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");S("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");S("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");S("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");S("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");S("\\ngeqq","\\html@mathml{\\@ngeqq}{}");S("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");S("\\nleqq","\\html@mathml{\\@nleqq}{}");S("\\nleqslant","\\html@mathml{\\@nleqslant}{}");S("\\nshortmid","\\html@mathml{\\@nshortmid}{}");S("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");S("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");S("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");S("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");S("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");S("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");S("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");S("\\imath","\\html@mathml{\\@imath}{}");S("\\jmath","\\html@mathml{\\@jmath}{}");S("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");S("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");S("","\\llbracket");S("","\\rrbracket");S("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");S("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");S("","\\lBrace");S("","\\rBrace");S("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");S("","\\minuso");S("\\darr","\\downarrow");S("\\dArr","\\Downarrow");S("\\Darr","\\Downarrow");S("\\lang","\\langle");S("\\rang","\\rangle");S("\\uarr","\\uparrow");S("\\uArr","\\Uparrow");S("\\Uarr","\\Uparrow");S("\\N","\\mathbb{N}");S("\\R","\\mathbb{R}");S("\\Z","\\mathbb{Z}");S("\\alef","\\aleph");S("\\alefsym","\\aleph");S("\\Alpha","\\mathrm{A}");S("\\Beta","\\mathrm{B}");S("\\bull","\\bullet");S("\\Chi","\\mathrm{X}");S("\\clubs","\\clubsuit");S("\\cnums","\\mathbb{C}");S("\\Complex","\\mathbb{C}");S("\\Dagger","\\ddagger");S("\\diamonds","\\diamondsuit");S("\\empty","\\emptyset");S("\\Epsilon","\\mathrm{E}");S("\\Eta","\\mathrm{H}");S("\\exist","\\exists");S("\\harr","\\leftrightarrow");S("\\hArr","\\Leftrightarrow");S("\\Harr","\\Leftrightarrow");S("\\hearts","\\heartsuit");S("\\image","\\Im");S("\\infin","\\infty");S("\\Iota","\\mathrm{I}");S("\\isin","\\in");S("\\Kappa","\\mathrm{K}");S("\\larr","\\leftarrow");S("\\lArr","\\Leftarrow");S("\\Larr","\\Leftarrow");S("\\lrarr","\\leftrightarrow");S("\\lrArr","\\Leftrightarrow");S("\\Lrarr","\\Leftrightarrow");S("\\Mu","\\mathrm{M}");S("\\natnums","\\mathbb{N}");S("\\Nu","\\mathrm{N}");S("\\Omicron","\\mathrm{O}");S("\\plusmn","\\pm");S("\\rarr","\\rightarrow");S("\\rArr","\\Rightarrow");S("\\Rarr","\\Rightarrow");S("\\real","\\Re");S("\\reals","\\mathbb{R}");S("\\Reals","\\mathbb{R}");S("\\Rho","\\mathrm{P}");S("\\sdot","\\cdot");S("\\sect","\\S");S("\\spades","\\spadesuit");S("\\sub","\\subset");S("\\sube","\\subseteq");S("\\supe","\\supseteq");S("\\Tau","\\mathrm{T}");S("\\thetasym","\\vartheta");S("\\weierp","\\wp");S("\\Zeta","\\mathrm{Z}");S("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");S("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");S("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");S("\\bra","\\mathinner{\\langle{#1}|}");S("\\ket","\\mathinner{|{#1}\\rangle}");S("\\braket","\\mathinner{\\langle{#1}\\rangle}");S("\\Bra","\\left\\langle#1\\right|");S("\\Ket","\\left|#1\\right\\rangle");var g5=s=>t=>{var n=t.consumeArg().tokens,r=t.consumeArg().tokens,i=t.consumeArg().tokens,l=t.consumeArg().tokens,o=t.macros.get("|"),c=t.macros.get("\\|");t.macros.beginGroup();var d=g=>v=>{s&&(v.macros.set("|",o),i.length&&v.macros.set("\\|",c));var y=g;if(!g&&i.length){var M=v.future();M.text==="|"&&(v.popToken(),y=!0)}return{tokens:y?i:r,numArgs:0}};t.macros.set("|",d(!1)),i.length&&t.macros.set("\\|",d(!0));var u=t.consumeArg().tokens,p=t.expandTokens([...l,...u,...n]);return t.macros.endGroup(),{tokens:p.reverse(),numArgs:0}};S("\\bra@ket",g5(!1));S("\\bra@set",g5(!0));S("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");S("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");S("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");S("\\angln","{\\angl n}");S("\\blue","\\textcolor{##6495ed}{#1}");S("\\orange","\\textcolor{##ffa500}{#1}");S("\\pink","\\textcolor{##ff00af}{#1}");S("\\red","\\textcolor{##df0030}{#1}");S("\\green","\\textcolor{##28ae7b}{#1}");S("\\gray","\\textcolor{gray}{#1}");S("\\purple","\\textcolor{##9d38bd}{#1}");S("\\blueA","\\textcolor{##ccfaff}{#1}");S("\\blueB","\\textcolor{##80f6ff}{#1}");S("\\blueC","\\textcolor{##63d9ea}{#1}");S("\\blueD","\\textcolor{##11accd}{#1}");S("\\blueE","\\textcolor{##0c7f99}{#1}");S("\\tealA","\\textcolor{##94fff5}{#1}");S("\\tealB","\\textcolor{##26edd5}{#1}");S("\\tealC","\\textcolor{##01d1c1}{#1}");S("\\tealD","\\textcolor{##01a995}{#1}");S("\\tealE","\\textcolor{##208170}{#1}");S("\\greenA","\\textcolor{##b6ffb0}{#1}");S("\\greenB","\\textcolor{##8af281}{#1}");S("\\greenC","\\textcolor{##74cf70}{#1}");S("\\greenD","\\textcolor{##1fab54}{#1}");S("\\greenE","\\textcolor{##0d923f}{#1}");S("\\goldA","\\textcolor{##ffd0a9}{#1}");S("\\goldB","\\textcolor{##ffbb71}{#1}");S("\\goldC","\\textcolor{##ff9c39}{#1}");S("\\goldD","\\textcolor{##e07d10}{#1}");S("\\goldE","\\textcolor{##a75a05}{#1}");S("\\redA","\\textcolor{##fca9a9}{#1}");S("\\redB","\\textcolor{##ff8482}{#1}");S("\\redC","\\textcolor{##f9685d}{#1}");S("\\redD","\\textcolor{##e84d39}{#1}");S("\\redE","\\textcolor{##bc2612}{#1}");S("\\maroonA","\\textcolor{##ffbde0}{#1}");S("\\maroonB","\\textcolor{##ff92c6}{#1}");S("\\maroonC","\\textcolor{##ed5fa6}{#1}");S("\\maroonD","\\textcolor{##ca337c}{#1}");S("\\maroonE","\\textcolor{##9e034e}{#1}");S("\\purpleA","\\textcolor{##ddd7ff}{#1}");S("\\purpleB","\\textcolor{##c6b9fc}{#1}");S("\\purpleC","\\textcolor{##aa87ff}{#1}");S("\\purpleD","\\textcolor{##7854ab}{#1}");S("\\purpleE","\\textcolor{##543b78}{#1}");S("\\mintA","\\textcolor{##f5f9e8}{#1}");S("\\mintB","\\textcolor{##edf2df}{#1}");S("\\mintC","\\textcolor{##e0e5cc}{#1}");S("\\grayA","\\textcolor{##f6f7f7}{#1}");S("\\grayB","\\textcolor{##f0f1f2}{#1}");S("\\grayC","\\textcolor{##e3e5e6}{#1}");S("\\grayD","\\textcolor{##d6d8da}{#1}");S("\\grayE","\\textcolor{##babec2}{#1}");S("\\grayF","\\textcolor{##888d93}{#1}");S("\\grayG","\\textcolor{##626569}{#1}");S("\\grayH","\\textcolor{##3b3e40}{#1}");S("\\grayI","\\textcolor{##21242c}{#1}");S("\\kaBlue","\\textcolor{##314453}{#1}");S("\\kaGreen","\\textcolor{##71B307}{#1}");var v5={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class o${constructor(t,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new a$(l$,n.macros),this.mode=r,this.stack=[]}feed(t){this.lexer=new Nv(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var n,r,i;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new Xs("EOF",r.loc)),this.pushTokens(i),new Xs("",Ms.range(n,r))}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var n=[],r=t&&t.length>0;r||this.consumeSpaces();var i=this.future(),l,o=0,c=0;do{if(l=this.popToken(),n.push(l),l.text==="{")++o;else if(l.text==="}"){if(--o,o===-1)throw new ye("Extra }",l)}else if(l.text==="EOF")throw new ye("Unexpected end of input in a macro argument, expected '"+(t&&r?t[c]:"}")+"'",l);if(t&&r)if((o===0||o===1&&t[c]==="{")&&l.text===t[c]){if(++c,c===t.length){n.splice(-c,c);break}}else c=0}while(o!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:l}}consumeArgs(t,n){if(n){if(n.length!==t+1)throw new ye("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var l=this.popToken();if(r[i]!==l.text)throw new ye("Use of the macro doesn't match its definition",l)}}for(var o=[],c=0;c<t;c++)o.push(this.consumeArg(n&&n[c+1]).tokens);return o}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new ye("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||t&&i.unexpandable){if(t&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new ye("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var l=i.tokens,o=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){l=l.slice();for(var c=l.length-1;c>=0;--c){var d=l[c];if(d.text==="#"){if(c===0)throw new ye("Incomplete placeholder at end of macro body",d);if(d=l[--c],d.text==="#")l.splice(c+1,1);else if(/^[1-9]$/.test(d.text))l.splice(c,2,...o[+d.text-1]);else throw new ye("Not a valid argument number",d)}}}return this.pushTokens(l),l.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new Xs(t)]):void 0}expandTokens(t){var n=[],r=this.stack.length;for(this.pushTokens(t);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(t){var n=this.expandMacro(t);return n&&n.map(r=>r.text).join("")}_getExpansion(t){var n=this.macros.get(t);if(n==null)return n;if(t.length===1){var r=this.lexer.catcodes[t];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var l=0;if(i.indexOf("#")!==-1)for(var o=i.replace(/##/g,"");o.indexOf("#"+(l+1))!==-1;)++l;for(var c=new Nv(i,this.settings),d=[],u=c.lex();u.text!=="EOF";)d.push(u),u=c.lex();d.reverse();var p={tokens:d,numArgs:l};return p}return i}isDefined(t){return this.macros.has(t)||bi.hasOwnProperty(t)||dt.math.hasOwnProperty(t)||dt.text.hasOwnProperty(t)||v5.hasOwnProperty(t)}isExpandable(t){var n=this.macros.get(t);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:bi.hasOwnProperty(t)&&!bi[t].primitive}}var Ev=/^[]/,Lh=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),dm={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},Cv={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class Hu{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new o$(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new ye("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Xs("}")),this.gullet.pushTokens(t);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(t,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(Hu.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||t&&bi[i.text]&&bi[i.text].infix)break;var l=this.parseAtom(n);if(l){if(l.type==="internal")continue}else break;r.push(l)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(t){for(var n=-1,r,i=0;i<t.length;i++)if(t[i].type==="infix"){if(n!==-1)throw new ye("only one infix operator per group",t[i].token);n=i,r=t[i].replaceWith}if(n!==-1&&r){var l,o,c=t.slice(0,n),d=t.slice(n+1);c.length===1&&c[0].type==="ordgroup"?l=c[0]:l={type:"ordgroup",mode:this.mode,body:c},d.length===1&&d[0].type==="ordgroup"?o=d[0]:o={type:"ordgroup",mode:this.mode,body:d};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[l,t[n],o],[]):u=this.callFunction(r,[l,o],[]),[u]}else return t}handleSupSubscript(t){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i;do{var l;i=this.parseGroup(t)}while(((l=i)==null?void 0:l.type)==="internal");if(!i)throw new ye("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(t){for(var n=[],r=0;r<t.length;r++)n.push({type:"textord",mode:"text",text:t[r]});var i={type:"text",mode:this.mode,body:n},l={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return l}parseAtom(t){var n=this.parseGroup("atom",t);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var l=this.fetch();if(l.text==="\\limits"||l.text==="\\nolimits"){if(n&&n.type==="op"){var o=l.text==="\\limits";n.limits=o,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=l.text==="\\limits");else throw new ye("Limit controls must follow a math operator",l);this.consume()}else if(l.text==="^"){if(r)throw new ye("Double superscript",l);r=this.handleSupSubscript("superscript")}else if(l.text==="_"){if(i)throw new ye("Double subscript",l);i=this.handleSupSubscript("subscript")}else if(l.text==="'"){if(r)throw new ye("Double superscript",l);var c={type:"textord",mode:this.mode,text:"\\prime"},d=[c];for(this.consume();this.fetch().text==="'";)d.push(c),this.consume();this.fetch().text==="^"&&d.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:d}}else if(Lh[l.text]){var u=Ev.test(l.text),p=[];for(p.push(new Xs(Lh[l.text])),this.consume();;){var g=this.fetch().text;if(!Lh[g]||Ev.test(g)!==u)break;p.unshift(new Xs(Lh[g])),this.consume()}var v=this.subparse(p);u?i={type:"ordgroup",mode:"math",body:v}:r={type:"ordgroup",mode:"math",body:v}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(t,n){var r=this.fetch(),i=r.text,l=bi[i];if(!l)return null;if(this.consume(),n&&n!=="atom"&&!l.allowedInArgument)throw new ye("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!l.allowedInText)throw new ye("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&l.allowedInMath===!1)throw new ye("Can't use function '"+i+"' in math mode",r);var{args:o,optArgs:c}=this.parseArguments(i,l);return this.callFunction(i,o,c,r,t)}callFunction(t,n,r,i,l){var o={funcName:t,parser:this,token:i,breakOnTokenText:l},c=bi[t];if(c&&c.handler)return c.handler(o,n,r);throw new ye("No function handler for "+t)}parseArguments(t,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],l=[],o=0;o<r;o++){var c=n.argTypes&&n.argTypes[o],d=o<n.numOptionalArgs;(n.primitive&&c==null||n.type==="sqrt"&&o===1&&l[0]==null)&&(c="primitive");var u=this.parseGroupOfType("argument to '"+t+"'",c,d);if(d)l.push(u);else if(u!=null)i.push(u);else throw new ye("Null argument, please report this as a bug")}return{args:i,optArgs:l}}parseGroupOfType(t,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var l=this.parseStringGroup("raw",r);return l!=null?{type:"raw",mode:"text",string:l.text}:null}case"primitive":{if(r)throw new ye("A primitive argument cannot be optional");var o=this.parseGroup(t);if(o==null)throw new ye("Expected group as "+t,this.fetch());return o}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new ye("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",l;(l=this.fetch()).text!=="EOF";)i+=l.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(t,n){for(var r=this.fetch(),i=r,l="",o;(o=this.fetch()).text!=="EOF"&&t.test(l+o.text);)i=o,l+=i.text,this.consume();if(l==="")throw new ye("Invalid "+n+": '"+r.text+"'",r);return r.range(i,l)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var r=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new ye("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(t){var n,r=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",t),!n)return null;!t&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new ye("Invalid size: '"+n.text+"'",n);var l={number:+(i[1]+i[2]),unit:i[3]};if(!_3(l))throw new ye("Invalid unit: '"+l.unit+"'",n);return{type:"size",mode:this.mode,value:l,isBlank:r}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(t,n){var r=this.gullet.scanArgument(t);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var l=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:r.loc,body:l};return n&&this.switchMode(i),o}parseGroup(t,n){var r=this.fetch(),i=r.text,l;if(i==="{"||i==="\\begingroup"){this.consume();var o=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var c=this.parseExpression(!1,o),d=this.fetch();this.expect(o),this.gullet.endGroup(),l={type:"ordgroup",mode:this.mode,loc:Ms.range(r,d),body:c,semisimple:i==="\\begingroup"||void 0}}else if(l=this.parseFunction(n,t)||this.parseSymbol(),l==null&&i[0]==="\\"&&!v5.hasOwnProperty(i)){if(this.settings.throwOnError)throw new ye("Undefined control sequence: "+i,r);l=this.formatUnsupportedCmd(i),this.consume()}return l}formLigatures(t){for(var n=t.length-1,r=0;r<n;++r){var i=t[r],l=i.text;l==="-"&&t[r+1].text==="-"&&(r+1<n&&t[r+2].text==="-"?(t.splice(r,3,{type:"textord",mode:"text",loc:Ms.range(i,t[r+2]),text:"---"}),n-=2):(t.splice(r,2,{type:"textord",mode:"text",loc:Ms.range(i,t[r+1]),text:"--"}),n-=1)),(l==="'"||l==="`")&&t[r+1].text===l&&(t.splice(r,2,{type:"textord",mode:"text",loc:Ms.range(i,t[r+1]),text:l+l}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new ye(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}Cv.hasOwnProperty(n[0])&&!dt[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=Cv[n[0]]+n.slice(1));var l=r$.exec(n);l&&(n=n.substring(0,l.index),n==="i"?n="":n==="j"&&(n=""));var o;if(dt[this.mode][n]){this.settings.strict&&this.mode==="math"&&Lf.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var c=dt[this.mode][n].group,d=Ms.range(t),u;if(YC.hasOwnProperty(c)){var p=c;u={type:"atom",mode:this.mode,family:p,loc:d,text:n}}else u={type:c,mode:this.mode,loc:d,text:n};o=u}else if(n.charCodeAt(0)>=128)this.settings.strict&&(A3(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),t)),o={type:"textord",mode:"text",loc:Ms.range(t),text:n};else return null;if(this.consume(),l)for(var g=0;g<l[0].length;g++){var v=l[0][g];if(!dm[v])throw new ye("Unknown accent ' "+v+"'",t);var y=dm[v][this.mode]||dm[v].text;if(!y)throw new ye("Accent "+v+" unsupported in "+this.mode+" mode",t);o={type:"accent",mode:this.mode,loc:Ms.range(t),label:y,isStretchy:!1,isShifty:!0,base:o}}return o}}Hu.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Ix=function(t,n){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Hu(t,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new ye("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Xs("\\df@tag")])}]}return i},j5=function(t,n,r){n.textContent="";var i=Dx(t,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),j5=function(){throw new ye("KaTeX doesn't work in quirks mode.")});var c$=function(t,n){var r=Dx(t,n).toMarkup();return r},h$=function(t,n){var r=new gx(n);return Ix(t,r)},y5=function(t,n,r){if(r.throwOnError||!(t instanceof ye))throw t;var i=re.makeSpan(["katex-error"],[new fn(n)]);return i.setAttribute("title",t.toString()),i.setAttribute("style","color:"+r.errorColor),i},Dx=function(t,n){var r=new gx(n);try{var i=Ix(t,r);return jM(i,t,r)}catch(l){return y5(l,t,r)}},d$=function(t,n){var r=new gx(n);try{var i=Ix(t,r);return yM(i,t,r)}catch(l){return y5(l,t,r)}},u$="0.16.27",m$={Span:Zc,Anchor:yx,SymbolNode:fn,SvgNode:Lr,PathNode:Ui,LineNode:qf},Mv={version:u$,render:j5,renderToString:c$,ParseError:ye,SETTINGS_SCHEMA:cd,__parse:h$,__renderToDomTree:Dx,__renderToHTMLTree:d$,__setFontMetrics:BC,__defineSymbol:m,__defineFunction:Se,__defineMacro:S,__domTree:m$};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:b5,setPrototypeOf:$v,isFrozen:f$,getPrototypeOf:p$,getOwnPropertyDescriptor:x$}=Object;let{freeze:ws,seal:xn,create:Vf}=Object,{apply:Kf,construct:Zf}=typeof Reflect<"u"&&Reflect;ws||(ws=function(t){return t});xn||(xn=function(t){return t});Kf||(Kf=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),l=2;l<r;l++)i[l-2]=arguments[l];return t.apply(n,i)});Zf||(Zf=function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new t(...r)});const Ph=ks(Array.prototype.forEach),g$=ks(Array.prototype.lastIndexOf),Gv=ks(Array.prototype.pop),Co=ks(Array.prototype.push),v$=ks(Array.prototype.splice),dd=ks(String.prototype.toLowerCase),um=ks(String.prototype.toString),mm=ks(String.prototype.match),Mo=ks(String.prototype.replace),j$=ks(String.prototype.indexOf),y$=ks(String.prototype.trim),Tn=ks(Object.prototype.hasOwnProperty),xs=ks(RegExp.prototype.test),$o=b$(TypeError);function ks(s){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return Kf(s,t,r)}}function b$(s){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Zf(s,n)}}function Le(s,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:dd;$v&&$v(s,null);let r=t.length;for(;r--;){let i=t[r];if(typeof i=="string"){const l=n(i);l!==i&&(f$(t)||(t[r]=l),i=l)}s[i]=!0}return s}function w$(s){for(let t=0;t<s.length;t++)Tn(s,t)||(s[t]=null);return s}function In(s){const t=Vf(null);for(const[n,r]of b5(s))Tn(s,n)&&(Array.isArray(r)?t[n]=w$(r):r&&typeof r=="object"&&r.constructor===Object?t[n]=In(r):t[n]=r);return t}function Go(s,t){for(;s!==null;){const r=x$(s,t);if(r){if(r.get)return ks(r.get);if(typeof r.value=="function")return ks(r.value)}s=p$(s)}function n(){return null}return n}const zv=ws(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),fm=ws(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),pm=ws(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),k$=ws(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xm=ws(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),T$=ws(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Iv=ws(["#text"]),Dv=ws(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),gm=ws(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Rv=ws(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Bh=ws(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),S$=xn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),N$=xn(/<%[\w\W]*|[\w\W]*%>/gm),A$=xn(/\$\{[\w\W]*/gm),_$=xn(/^data-[\-\w.\u00B7-\uFFFF]+$/),E$=xn(/^aria-[\-\w]+$/),w5=xn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),C$=xn(/^(?:\w+script|data):/i),M$=xn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),k5=xn(/^html$/i),$$=xn(/^[a-z][.\w]*(-[.\w]+)+$/i);var Ov=Object.freeze({__proto__:null,ARIA_ATTR:E$,ATTR_WHITESPACE:M$,CUSTOM_ELEMENT:$$,DATA_ATTR:_$,DOCTYPE_NAME:k5,ERB_EXPR:N$,IS_ALLOWED_URI:w5,IS_SCRIPT_OR_DATA:C$,MUSTACHE_EXPR:S$,TMPLIT_EXPR:A$});const zo={element:1,text:3,progressingInstruction:7,comment:8,document:9},G$=function(){return typeof window>"u"?null:window},z$=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let r=null;const i="data-tt-policy-suffix";n&&n.hasAttribute(i)&&(r=n.getAttribute(i));const l="dompurify"+(r?"#"+r:"");try{return t.createPolicy(l,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},qv=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function T5(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:G$();const t=Ee=>T5(Ee);if(t.version="3.3.1",t.removed=[],!s||!s.document||s.document.nodeType!==zo.document||!s.Element)return t.isSupported=!1,t;let{document:n}=s;const r=n,i=r.currentScript,{DocumentFragment:l,HTMLTemplateElement:o,Node:c,Element:d,NodeFilter:u,NamedNodeMap:p=s.NamedNodeMap||s.MozNamedAttrMap,HTMLFormElement:g,DOMParser:v,trustedTypes:y}=s,M=d.prototype,L=Go(M,"cloneNode"),F=Go(M,"remove"),T=Go(M,"nextSibling"),w=Go(M,"childNodes"),A=Go(M,"parentNode");if(typeof o=="function"){const Ee=n.createElement("template");Ee.content&&Ee.content.ownerDocument&&(n=Ee.content.ownerDocument)}let z,Y="";const{implementation:ie,createNodeIterator:_,createDocumentFragment:k,getElementsByTagName:N}=n,{importNode:C}=r;let G=qv();t.isSupported=typeof b5=="function"&&typeof A=="function"&&ie&&ie.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:I,ERB_EXPR:$,TMPLIT_EXPR:fe,DATA_ATTR:ae,ARIA_ATTR:J,IS_SCRIPT_OR_DATA:Q,ATTR_WHITESPACE:O,CUSTOM_ELEMENT:ee}=Ov;let{IS_ALLOWED_URI:B}=Ov,Z=null;const P=Le({},[...zv,...fm,...pm,...xm,...Iv]);let H=null;const le=Le({},[...Dv,...gm,...Rv,...Bh]);let V=Object.seal(Vf(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),W=null,ve=null;const oe=Object.seal(Vf(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let se=!0,he=!0,be=!1,pe=!0,_e=!1,ze=!0,nt=!1,It=!1,Rs=!1,rs=!1,Yt=!1,vn=!1,Vr=!0,Yi=!1;const Kr="user-content-";let Wi=!0,Zr=!1,jt={},lt=null;const Xr=Le({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let no=null;const ro=Le({},["audio","video","img","source","image","track"]);let io=null;const Yr=Le({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Qi="http://www.w3.org/1998/Math/MathML",Ji="http://www.w3.org/2000/svg",Os="http://www.w3.org/1999/xhtml";let Wr=Os,ao=!1,ea=null;const Yc=Le({},[Qi,Ji,Os],um);let Ua=Le({},["mi","mo","mn","ms","mtext"]),zn=Le({},["annotation-xml"]);const lo=Le({},["title","style","font","a","script"]);let rr=null;const Qr=["application/xhtml+xml","text/html"],Wc="text/html";let yt=null,ir=null;const ta=n.createElement("form"),oo=function(K){return K instanceof RegExp||K instanceof Function},Pt=function(){let K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ir&&ir===K)){if((!K||typeof K!="object")&&(K={}),K=In(K),rr=Qr.indexOf(K.PARSER_MEDIA_TYPE)===-1?Wc:K.PARSER_MEDIA_TYPE,yt=rr==="application/xhtml+xml"?um:dd,Z=Tn(K,"ALLOWED_TAGS")?Le({},K.ALLOWED_TAGS,yt):P,H=Tn(K,"ALLOWED_ATTR")?Le({},K.ALLOWED_ATTR,yt):le,ea=Tn(K,"ALLOWED_NAMESPACES")?Le({},K.ALLOWED_NAMESPACES,um):Yc,io=Tn(K,"ADD_URI_SAFE_ATTR")?Le(In(Yr),K.ADD_URI_SAFE_ATTR,yt):Yr,no=Tn(K,"ADD_DATA_URI_TAGS")?Le(In(ro),K.ADD_DATA_URI_TAGS,yt):ro,lt=Tn(K,"FORBID_CONTENTS")?Le({},K.FORBID_CONTENTS,yt):Xr,W=Tn(K,"FORBID_TAGS")?Le({},K.FORBID_TAGS,yt):In({}),ve=Tn(K,"FORBID_ATTR")?Le({},K.FORBID_ATTR,yt):In({}),jt=Tn(K,"USE_PROFILES")?K.USE_PROFILES:!1,se=K.ALLOW_ARIA_ATTR!==!1,he=K.ALLOW_DATA_ATTR!==!1,be=K.ALLOW_UNKNOWN_PROTOCOLS||!1,pe=K.ALLOW_SELF_CLOSE_IN_ATTR!==!1,_e=K.SAFE_FOR_TEMPLATES||!1,ze=K.SAFE_FOR_XML!==!1,nt=K.WHOLE_DOCUMENT||!1,rs=K.RETURN_DOM||!1,Yt=K.RETURN_DOM_FRAGMENT||!1,vn=K.RETURN_TRUSTED_TYPE||!1,Rs=K.FORCE_BODY||!1,Vr=K.SANITIZE_DOM!==!1,Yi=K.SANITIZE_NAMED_PROPS||!1,Wi=K.KEEP_CONTENT!==!1,Zr=K.IN_PLACE||!1,B=K.ALLOWED_URI_REGEXP||w5,Wr=K.NAMESPACE||Os,Ua=K.MATHML_TEXT_INTEGRATION_POINTS||Ua,zn=K.HTML_INTEGRATION_POINTS||zn,V=K.CUSTOM_ELEMENT_HANDLING||{},K.CUSTOM_ELEMENT_HANDLING&&oo(K.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=K.CUSTOM_ELEMENT_HANDLING.tagNameCheck),K.CUSTOM_ELEMENT_HANDLING&&oo(K.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=K.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),K.CUSTOM_ELEMENT_HANDLING&&typeof K.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(V.allowCustomizedBuiltInElements=K.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),_e&&(he=!1),Yt&&(rs=!0),jt&&(Z=Le({},Iv),H=[],jt.html===!0&&(Le(Z,zv),Le(H,Dv)),jt.svg===!0&&(Le(Z,fm),Le(H,gm),Le(H,Bh)),jt.svgFilters===!0&&(Le(Z,pm),Le(H,gm),Le(H,Bh)),jt.mathMl===!0&&(Le(Z,xm),Le(H,Rv),Le(H,Bh))),K.ADD_TAGS&&(typeof K.ADD_TAGS=="function"?oe.tagCheck=K.ADD_TAGS:(Z===P&&(Z=In(Z)),Le(Z,K.ADD_TAGS,yt))),K.ADD_ATTR&&(typeof K.ADD_ATTR=="function"?oe.attributeCheck=K.ADD_ATTR:(H===le&&(H=In(H)),Le(H,K.ADD_ATTR,yt))),K.ADD_URI_SAFE_ATTR&&Le(io,K.ADD_URI_SAFE_ATTR,yt),K.FORBID_CONTENTS&&(lt===Xr&&(lt=In(lt)),Le(lt,K.FORBID_CONTENTS,yt)),K.ADD_FORBID_CONTENTS&&(lt===Xr&&(lt=In(lt)),Le(lt,K.ADD_FORBID_CONTENTS,yt)),Wi&&(Z["#text"]=!0),nt&&Le(Z,["html","head","body"]),Z.table&&(Le(Z,["tbody"]),delete W.tbody),K.TRUSTED_TYPES_POLICY){if(typeof K.TRUSTED_TYPES_POLICY.createHTML!="function")throw $o('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof K.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw $o('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');z=K.TRUSTED_TYPES_POLICY,Y=z.createHTML("")}else z===void 0&&(z=z$(y,i)),z!==null&&typeof Y=="string"&&(Y=z.createHTML(""));ws&&ws(K),ir=K}},co=Le({},[...fm,...pm,...k$]),Jr=Le({},[...xm,...T$]),sa=function(K){let je=A(K);(!je||!je.tagName)&&(je={namespaceURI:Wr,tagName:"template"});const Ae=dd(K.tagName),ot=dd(je.tagName);return ea[K.namespaceURI]?K.namespaceURI===Ji?je.namespaceURI===Os?Ae==="svg":je.namespaceURI===Qi?Ae==="svg"&&(ot==="annotation-xml"||Ua[ot]):!!co[Ae]:K.namespaceURI===Qi?je.namespaceURI===Os?Ae==="math":je.namespaceURI===Ji?Ae==="math"&&zn[ot]:!!Jr[Ae]:K.namespaceURI===Os?je.namespaceURI===Ji&&!zn[ot]||je.namespaceURI===Qi&&!Ua[ot]?!1:!Jr[Ae]&&(lo[Ae]||!co[Ae]):!!(rr==="application/xhtml+xml"&&ea[K.namespaceURI]):!1},en=function(K){Co(t.removed,{element:K});try{A(K).removeChild(K)}catch{F(K)}},ar=function(K,je){try{Co(t.removed,{attribute:je.getAttributeNode(K),from:je})}catch{Co(t.removed,{attribute:null,from:je})}if(je.removeAttribute(K),K==="is")if(rs||Yt)try{en(je)}catch{}else try{je.setAttribute(K,"")}catch{}},lr=function(K){let je=null,Ae=null;if(Rs)K="<remove></remove>"+K;else{const bt=mm(K,/^[\r\n\t ]+/);Ae=bt&&bt[0]}rr==="application/xhtml+xml"&&Wr===Os&&(K='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+K+"</body></html>");const ot=z?z.createHTML(K):K;if(Wr===Os)try{je=new v().parseFromString(ot,rr)}catch{}if(!je||!je.documentElement){je=ie.createDocument(Wr,"template",null);try{je.documentElement.innerHTML=ao?Y:ot}catch{}}const Et=je.body||je.documentElement;return K&&Ae&&Et.insertBefore(n.createTextNode(Ae),Et.childNodes[0]||null),Wr===Os?N.call(je,nt?"html":"body")[0]:nt?je.documentElement:Et},Qc=function(K){return _.call(K.ownerDocument||K,K,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},ho=function(K){return K instanceof g&&(typeof K.nodeName!="string"||typeof K.textContent!="string"||typeof K.removeChild!="function"||!(K.attributes instanceof p)||typeof K.removeAttribute!="function"||typeof K.setAttribute!="function"||typeof K.namespaceURI!="string"||typeof K.insertBefore!="function"||typeof K.hasChildNodes!="function")},Fa=function(K){return typeof c=="function"&&K instanceof c};function jn(Ee,K,je){Ph(Ee,Ae=>{Ae.call(t,K,je,ir)})}const Va=function(K){let je=null;if(jn(G.beforeSanitizeElements,K,null),ho(K))return en(K),!0;const Ae=yt(K.nodeName);if(jn(G.uponSanitizeElement,K,{tagName:Ae,allowedTags:Z}),ze&&K.hasChildNodes()&&!Fa(K.firstElementChild)&&xs(/<[/\w!]/g,K.innerHTML)&&xs(/<[/\w!]/g,K.textContent)||K.nodeType===zo.progressingInstruction||ze&&K.nodeType===zo.comment&&xs(/<[/\w]/g,K.data))return en(K),!0;if(!(oe.tagCheck instanceof Function&&oe.tagCheck(Ae))&&(!Z[Ae]||W[Ae])){if(!W[Ae]&&yn(Ae)&&(V.tagNameCheck instanceof RegExp&&xs(V.tagNameCheck,Ae)||V.tagNameCheck instanceof Function&&V.tagNameCheck(Ae)))return!1;if(Wi&&!lt[Ae]){const ot=A(K)||K.parentNode,Et=w(K)||K.childNodes;if(Et&&ot){const bt=Et.length;for(let Wt=bt-1;Wt>=0;--Wt){const fs=L(Et[Wt],!0);fs.__removalCount=(K.__removalCount||0)+1,ot.insertBefore(fs,T(K))}}}return en(K),!0}return K instanceof d&&!sa(K)||(Ae==="noscript"||Ae==="noembed"||Ae==="noframes")&&xs(/<\/no(script|embed|frames)/i,K.innerHTML)?(en(K),!0):(_e&&K.nodeType===zo.text&&(je=K.textContent,Ph([I,$,fe],ot=>{je=Mo(je,ot," ")}),K.textContent!==je&&(Co(t.removed,{element:K.cloneNode()}),K.textContent=je)),jn(G.afterSanitizeElements,K,null),!1)},na=function(K,je,Ae){if(Vr&&(je==="id"||je==="name")&&(Ae in n||Ae in ta))return!1;if(!(he&&!ve[je]&&xs(ae,je))){if(!(se&&xs(J,je))){if(!(oe.attributeCheck instanceof Function&&oe.attributeCheck(je,K))){if(!H[je]||ve[je]){if(!(yn(K)&&(V.tagNameCheck instanceof RegExp&&xs(V.tagNameCheck,K)||V.tagNameCheck instanceof Function&&V.tagNameCheck(K))&&(V.attributeNameCheck instanceof RegExp&&xs(V.attributeNameCheck,je)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(je,K))||je==="is"&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&xs(V.tagNameCheck,Ae)||V.tagNameCheck instanceof Function&&V.tagNameCheck(Ae))))return!1}else if(!io[je]){if(!xs(B,Mo(Ae,O,""))){if(!((je==="src"||je==="xlink:href"||je==="href")&&K!=="script"&&j$(Ae,"data:")===0&&no[K])){if(!(be&&!xs(Q,Mo(Ae,O,"")))){if(Ae)return!1}}}}}}}return!0},yn=function(K){return K!=="annotation-xml"&&mm(K,ee)},uo=function(K){jn(G.beforeSanitizeAttributes,K,null);const{attributes:je}=K;if(!je||ho(K))return;const Ae={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:H,forceKeepAttr:void 0};let ot=je.length;for(;ot--;){const Et=je[ot],{name:bt,namespaceURI:Wt,value:fs}=Et,Ss=yt(bt),ra=fs;let Bt=bt==="value"?ra:y$(ra);if(Ae.attrName=Ss,Ae.attrValue=Bt,Ae.keepAttr=!0,Ae.forceKeepAttr=void 0,jn(G.uponSanitizeAttribute,K,Ae),Bt=Ae.attrValue,Yi&&(Ss==="id"||Ss==="name")&&(ar(bt,K),Bt=Kr+Bt),ze&&xs(/((--!?|])>)|<\/(style|title|textarea)/i,Bt)){ar(bt,K);continue}if(Ss==="attributename"&&mm(Bt,"href")){ar(bt,K);continue}if(Ae.forceKeepAttr)continue;if(!Ae.keepAttr){ar(bt,K);continue}if(!pe&&xs(/\/>/i,Bt)){ar(bt,K);continue}_e&&Ph([I,$,fe],fo=>{Bt=Mo(Bt,fo," ")});const mo=yt(K.nodeName);if(!na(mo,Ss,Bt)){ar(bt,K);continue}if(z&&typeof y=="object"&&typeof y.getAttributeType=="function"&&!Wt)switch(y.getAttributeType(mo,Ss)){case"TrustedHTML":{Bt=z.createHTML(Bt);break}case"TrustedScriptURL":{Bt=z.createScriptURL(Bt);break}}if(Bt!==ra)try{Wt?K.setAttributeNS(Wt,bt,Bt):K.setAttribute(bt,Bt),ho(K)?en(K):Gv(t.removed)}catch{ar(bt,K)}}jn(G.afterSanitizeAttributes,K,null)},Jc=function Ee(K){let je=null;const Ae=Qc(K);for(jn(G.beforeSanitizeShadowDOM,K,null);je=Ae.nextNode();)jn(G.uponSanitizeShadowNode,je,null),Va(je),uo(je),je.content instanceof l&&Ee(je.content);jn(G.afterSanitizeShadowDOM,K,null)};return t.sanitize=function(Ee){let K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},je=null,Ae=null,ot=null,Et=null;if(ao=!Ee,ao&&(Ee="<!-->"),typeof Ee!="string"&&!Fa(Ee))if(typeof Ee.toString=="function"){if(Ee=Ee.toString(),typeof Ee!="string")throw $o("dirty is not a string, aborting")}else throw $o("toString is not a function");if(!t.isSupported)return Ee;if(It||Pt(K),t.removed=[],typeof Ee=="string"&&(Zr=!1),Zr){if(Ee.nodeName){const fs=yt(Ee.nodeName);if(!Z[fs]||W[fs])throw $o("root node is forbidden and cannot be sanitized in-place")}}else if(Ee instanceof c)je=lr("<!---->"),Ae=je.ownerDocument.importNode(Ee,!0),Ae.nodeType===zo.element&&Ae.nodeName==="BODY"||Ae.nodeName==="HTML"?je=Ae:je.appendChild(Ae);else{if(!rs&&!_e&&!nt&&Ee.indexOf("<")===-1)return z&&vn?z.createHTML(Ee):Ee;if(je=lr(Ee),!je)return rs?null:vn?Y:""}je&&Rs&&en(je.firstChild);const bt=Qc(Zr?Ee:je);for(;ot=bt.nextNode();)Va(ot),uo(ot),ot.content instanceof l&&Jc(ot.content);if(Zr)return Ee;if(rs){if(Yt)for(Et=k.call(je.ownerDocument);je.firstChild;)Et.appendChild(je.firstChild);else Et=je;return(H.shadowroot||H.shadowrootmode)&&(Et=C.call(r,Et,!0)),Et}let Wt=nt?je.outerHTML:je.innerHTML;return nt&&Z["!doctype"]&&je.ownerDocument&&je.ownerDocument.doctype&&je.ownerDocument.doctype.name&&xs(k5,je.ownerDocument.doctype.name)&&(Wt="<!DOCTYPE "+je.ownerDocument.doctype.name+`>
`+Wt),_e&&Ph([I,$,fe],fs=>{Wt=Mo(Wt,fs," ")}),z&&vn?z.createHTML(Wt):Wt},t.setConfig=function(){let Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Pt(Ee),It=!0},t.clearConfig=function(){ir=null,It=!1},t.isValidAttribute=function(Ee,K,je){ir||Pt({});const Ae=yt(Ee),ot=yt(K);return na(Ae,ot,je)},t.addHook=function(Ee,K){typeof K=="function"&&Co(G[Ee],K)},t.removeHook=function(Ee,K){if(K!==void 0){const je=g$(G[Ee],K);return je===-1?void 0:v$(G[Ee],je,1)[0]}return Gv(G[Ee])},t.removeHooks=function(Ee){G[Ee]=[]},t.removeAllHooks=function(){G=qv()},t}var I$=T5();function vm(s){return s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function D$(s){if(!s)return[];const t=[];let n=0;const r=[],i=/\$\$([^$]*?)\$\$/g;let l;for(;(l=i.exec(s))!==null;)r.push({type:"display",latex:l[1],start:l.index,end:l.index+l[0].length});const o=/\$([^$]+?)\$/g;let c;for(;(c=o.exec(s))!==null;)r.some(u=>c.index>=u.start&&c.index<u.end)||r.push({type:"inline",latex:c[1],start:c.index,end:c.index+c[0].length});return r.sort((d,u)=>d.start-u.start),r.forEach(d=>{const u=s.slice(n,d.start);u&&t.push({type:"text",content:u}),t.push({type:d.type==="display"?"display-math":"inline-math",content:d.latex}),n=d.end}),n<s.length&&t.push({type:"text",content:s.slice(n)}),t}function R$(s){if(!s)return"";const n=D$(s).map(r=>{if(r.type==="text")return vm(r.content);if(r.type==="inline-math")try{return Mv.renderToString(r.content,{throwOnError:!1,displayMode:!1})}catch{return vm(r.content)}else if(r.type==="display-math")try{return Mv.renderToString(r.content,{throwOnError:!1,displayMode:!0})}catch{return vm(r.content)}return""}).join("");return I$.sanitize(n,{ADD_TAGS:["semantics","mrow","mi","mo","mn","msup","msub","mfrac","mroot","msqrt","mtext","annotation"],ADD_ATTR:["encoding","mathvariant","stretchy","fence","separator","lspace","rspace"]})}function jm(s){return typeof s=="string"?R$(s):s.map(t=>(t.type==="text",t.content)).join("")}const En=Wn("Storage"),Xf="magic-internet-math-progress",ym=2;function S5(){try{const s="__storage_test__";return localStorage.setItem(s,s),localStorage.removeItem(s),!0}catch{return!1}}function N5(s){if(s===null||typeof s!="object")return!1;const t=s;if(typeof t.version!="number"||typeof t.user!="object"||t.user===null||typeof t.sections!="object"||t.sections===null||typeof t.streak!="object"||t.streak===null)return!1;const n=t.user;if(typeof n.totalXP!="number"||typeof n.level!="number"||!Array.isArray(n.sectionsCompleted)||!Array.isArray(n.partsCompleted))return!1;const r=t.streak;return!(typeof r.currentStreak!="number"||typeof r.longestStreak!="number")}function Uu(){if(!S5())return En.warn("localStorage is not available"),null;try{const s=localStorage.getItem(Xf);if(!s)return null;const t=JSON.parse(s);return N5(t)?(t.version!==ym&&(En.info(`Migrating state from v${t.version} to v${ym}`),t.version=ym),t):(En.warn("Invalid gamification state structure in localStorage"),null)}catch(s){En.error("Failed to load gamification state:",s);try{localStorage.removeItem(Xf),En.info("Cleared corrupted gamification state from localStorage")}catch{}return null}}function A5(s){if(!S5()){En.warn("localStorage is not available, state not saved");return}try{localStorage.setItem(Xf,JSON.stringify(s))}catch(t){En.error("Failed to save gamification state:",t)}}const O$=1;function q$(){const s=Uu();if(!s){En.warn("No progress data to export");return}const t={version:O$,exportedAt:new Date().toISOString(),source:window.location.hostname,state:s},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=`math-progress-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r),En.info("Progress exported successfully")}function L$(s){if(s===null||typeof s!="object")return!1;const t=s;return!(typeof t.version!="number"||typeof t.exportedAt!="string"||typeof t.source!="string"||!N5(t.state))}async function P$(s){return new Promise(t=>{const n=new FileReader;n.onload=r=>{var i;try{const l=(i=r.target)==null?void 0:i.result;if(typeof l!="string"){t({success:!1,message:"Failed to read file"});return}const o=JSON.parse(l);if(!L$(o)){t({success:!1,message:"Invalid backup file format"});return}const c=Uu(),d=(c==null?void 0:c.user.totalXP)??0,u=o.state.user.totalXP;if(d>u){t({success:!1,message:`Current progress (${d} XP) is higher than backup (${u} XP). Import cancelled.`});return}A5(o.state),En.info(`Progress imported: ${u} XP from backup dated ${o.exportedAt}`),t({success:!0,message:`Successfully restored ${u} XP!`,xpImported:u})}catch(l){En.error("Failed to parse backup file:",l),t({success:!1,message:"Failed to parse backup file. Please check the file format."})}},n.onerror=()=>{t({success:!1,message:"Failed to read file"})},n.readAsText(s)})}function B$(){const s=Uu();return s?{totalXP:s.user.totalXP,level:s.user.level,sectionsCompleted:s.user.sectionsCompleted.length}:null}function _5(){const s=new Date().toISOString(),t=s.split("T")[0];return{version:2,user:{totalXP:0,level:1,sectionsCompleted:[],partsCompleted:[],quizzesTaken:0,perfectQuizzes:0,visualizationsUsed:0,totalTimeSpentMinutes:0,joinedAt:s},sections:{},achievements:H$(),streak:{currentStreak:0,longestStreak:0,lastActivityDate:null,freezesRemaining:2,freezeUsedToday:!1},dailyGoals:{date:t,xpEarned:0,xpGoal:k3,completed:!1},lastUpdated:s}}function H$(){return[{id:"first-section",unlockedAt:null,progress:0,target:1},{id:"ten-sections",unlockedAt:null,progress:0,target:10},{id:"half-course",unlockedAt:null,progress:0,target:50},{id:"course-complete",unlockedAt:null,progress:0,target:100},{id:"first-mastery",unlockedAt:null,progress:0,target:1},{id:"quiz-master",unlockedAt:null,progress:0,target:10},{id:"perfectionist",unlockedAt:null,progress:0,target:5},{id:"week-streak",unlockedAt:null,progress:0,target:7},{id:"month-streak",unlockedAt:null,progress:0,target:30},{id:"level-5",unlockedAt:null,progress:0,target:5},{id:"level-10",unlockedAt:null,progress:0,target:10},{id:"first-visualization",unlockedAt:null,progress:0,target:1},{id:"explorer",unlockedAt:null,progress:0,target:10}]}const U$=50;function Lv(s){return Math.round(s/U$*100)}const F$=[{id:"first-section",title:"First Steps",description:"Complete your first section",category:"progress",xpReward:25,check:s=>s.user.sectionsCompleted.length,target:1},{id:"ten-sections",title:"Getting Started",description:"Complete 10 sections",category:"progress",xpReward:50,check:s=>s.user.sectionsCompleted.length,target:10},{id:"half-course",title:"Halfway There",description:"Complete 50% of the course",category:"progress",xpReward:100,check:s=>Lv(s.user.sectionsCompleted.length),target:50},{id:"course-complete",title:"Course Complete",description:"Complete 100% of the course",category:"progress",xpReward:200,check:s=>Lv(s.user.sectionsCompleted.length),target:100},{id:"first-mastery",title:"Master of One",description:"Master your first section",category:"mastery",xpReward:30,check:s=>Object.values(s.sections).filter(t=>t.masteryLevel==="mastered").length,target:1},{id:"quiz-master",title:"Quiz Master",description:"Complete 10 quizzes",category:"mastery",xpReward:50,check:s=>s.user.quizzesTaken,target:10},{id:"perfectionist",title:"Perfectionist",description:"Get 5 perfect quiz scores",category:"mastery",xpReward:75,check:s=>s.user.perfectQuizzes,target:5},{id:"week-streak",title:"Week Warrior",description:"Maintain a 7-day streak",category:"dedication",xpReward:50,check:s=>s.streak.longestStreak,target:7},{id:"month-streak",title:"Monthly Master",description:"Maintain a 30-day streak",category:"dedication",xpReward:150,check:s=>s.streak.longestStreak,target:30},{id:"level-5",title:"Level Up",description:"Reach level 5",category:"dedication",xpReward:50,check:s=>s.user.level,target:5},{id:"level-10",title:"Expert",description:"Reach level 10",category:"dedication",xpReward:100,check:s=>s.user.level,target:10},{id:"first-visualization",title:"Visual Learner",description:"Use your first interactive visualization",category:"exploration",xpReward:15,check:s=>s.user.visualizationsUsed,target:1},{id:"explorer",title:"Explorer",description:"Use 10 different visualizations",category:"exploration",xpReward:50,check:s=>s.user.visualizationsUsed,target:10}];function V$(s){const t=[];for(const n of F$){const r=s.achievements.find(l=>l.id===n.id);if(r!=null&&r.unlockedAt)continue;n.check(s)>=n.target&&t.push({id:n.id,title:n.title,description:n.description,category:n.category,xpReward:n.xpReward,timestamp:Date.now()})}return t}function Fu(s){for(let t=rc.length-1;t>=0;t--)if(s>=rc[t])return t+1;return 1}function K$(s,t){if(t>=rc.length)return 100;const n=rc[t-1],r=rc[t],i=(s-n)/(r-n)*100;return Math.min(100,Math.max(0,i))}function E5(s,t){const n={easy:ys.QUIZ_EASY,medium:ys.QUIZ_MEDIUM,hard:ys.QUIZ_HARD}[s];return Math.round(n*(t/100))}const Z$=1e3*60*60*24;function X$(s){const t=new Date,n=t.toISOString().split("T")[0],r=s.streak.lastActivityDate;if(s.dailyGoals.date!==n&&(s={...s,dailyGoals:{date:n,xpEarned:0,xpGoal:k3,completed:!1},streak:{...s.streak,freezeUsedToday:!1}}),!r)return{...s,streak:{...s.streak,currentStreak:1,longestStreak:Math.max(1,s.streak.longestStreak),lastActivityDate:n}};const i=new Date(r),l=Math.floor((t.getTime()-i.getTime())/Z$);if(l===0)return s;if(l===1){const o=s.streak.currentStreak+1;return{...s,streak:{...s.streak,currentStreak:o,longestStreak:Math.max(o,s.streak.longestStreak),lastActivityDate:n}}}return l===2&&s.streak.freezesRemaining>0&&!s.streak.freezeUsedToday?{...s,streak:{...s.streak,freezesRemaining:s.streak.freezesRemaining-1,freezeUsedToday:!0,lastActivityDate:n}}:{...s,streak:{...s.streak,currentStreak:1,lastActivityDate:n}}}function C5(s){const{quizAttempts:t}=s;if(t.length===0)return"learning";const n=Math.max(...t.map(l=>l.score)),r=t.reduce((l,o)=>l+o.score,0)/t.length;return t.filter(l=>l.score>=100).length>=1||r>=90&&t.length>=3?"mastered":n>=80||r>=70&&t.length>=2?"familiar":"learning"}function Y$(s){switch(s){case"mastered":return{label:"Mastered",color:"text-emerald-400",symbol:""};case"familiar":return{label:"Familiar",color:"text-yellow-400",symbol:""};case"learning":return{label:"Learning",color:"text-blue-400",symbol:""};case"none":default:return{label:"Not Started",color:"text-dark-600",symbol:""}}}const Rx=Wn("GamificationReducer");function W$(s,t,n){const r=s.sections[t];if(r!=null&&r.visitedAt)return s;const i=s.user.totalXP+ys.SECTION_VISIT;return{...s,user:{...s.user,totalXP:i,level:Fu(i)},sections:{...s.sections,[t]:{sectionId:t,visitedAt:n,completedAt:(r==null?void 0:r.completedAt)??null,timeSpentSeconds:(r==null?void 0:r.timeSpentSeconds)??0,quizAttempts:(r==null?void 0:r.quizAttempts)??[],masteryLevel:(r==null?void 0:r.masteryLevel)??"learning",visualizationsInteracted:(r==null?void 0:r.visualizationsInteracted)??[]}},dailyGoals:{...s.dailyGoals,xpEarned:s.dailyGoals.xpEarned+ys.SECTION_VISIT},lastUpdated:n}}function Q$(s,t,n){const r=s.sections[t];if(r!=null&&r.completedAt)return s;if(!r)return Rx.warn(`Attempted to complete unvisited section: ${t}`),s;const i=s.user.totalXP+ys.SECTION_COMPLETE,l=[...s.user.sectionsCompleted,t];return{...s,user:{...s.user,totalXP:i,level:Fu(i),sectionsCompleted:l},sections:{...s.sections,[t]:{...r,completedAt:n,masteryLevel:C5(r)}},dailyGoals:{...s.dailyGoals,xpEarned:s.dailyGoals.xpEarned+ys.SECTION_COMPLETE},lastUpdated:n}}function J$(s,t,n){const{sectionId:r,difficulty:i,score:l,correctAnswers:o,totalQuestions:c}=t,d=s.sections[r];if(!d)return Rx.warn(`Section ${r} was not visited before quiz`),s;const u=E5(i,l),p=o===c,g=p?Math.round(u*(1+ys.QUIZ_PERFECT_BONUS)):u,v=s.user.totalXP+g,y={timestamp:n,difficulty:i,score:l,correctAnswers:o,totalQuestions:c,xpEarned:g},M=[...d.quizAttempts,y],L={...d,quizAttempts:M},F=C5(L),T=l>=80&&!d.completedAt,w=T&&!s.user.sectionsCompleted.includes(r),A=w?ys.SECTION_COMPLETE:0;return{...s,user:{...s.user,totalXP:v+A,level:Fu(v+A),quizzesTaken:s.user.quizzesTaken+1,perfectQuizzes:p?s.user.perfectQuizzes+1:s.user.perfectQuizzes,sectionsCompleted:w?[...s.user.sectionsCompleted,r]:s.user.sectionsCompleted},sections:{...s.sections,[r]:{...L,masteryLevel:F,completedAt:T?d.completedAt||n:d.completedAt}},dailyGoals:{...s.dailyGoals,xpEarned:s.dailyGoals.xpEarned+g+A},lastUpdated:n}}function eG(s,t,n,r){const i=s.sections[t];if(i!=null&&i.visualizationsInteracted.includes(n))return s;if(!i)return Rx.warn(`Section ${t} was not visited before visualization`),s;const l=s.user.totalXP+ys.VISUALIZATION_USE,o=[...i.visualizationsInteracted,n];return{...s,user:{...s.user,totalXP:l,level:Fu(l),visualizationsUsed:s.user.visualizationsUsed+1},sections:{...s.sections,[t]:{...i,visualizationsInteracted:o}},dailyGoals:{...s.dailyGoals,xpEarned:s.dailyGoals.xpEarned+ys.VISUALIZATION_USE},lastUpdated:r}}function tG(s,t){const n=new Date().toISOString();switch(t.type){case"LOAD_STATE":return t.payload;case"VISIT_SECTION":return W$(s,t.payload.sectionId,n);case"COMPLETE_SECTION":return Q$(s,t.payload.sectionId,n);case"RECORD_QUIZ":return J$(s,t.payload,n);case"USE_VISUALIZATION":return eG(s,t.payload.sectionId,t.payload.name,n);case"UPDATE_STREAK":return X$(s);case"RESET_PROGRESS":return _5();default:return s}}const sG=500,M5=D.createContext(null);function nG({children:s,courseId:t}){const[n,r]=D.useReducer(tG,_5()),[i,l]=D.useState(!0),[o,c]=D.useState([]),d=D.useRef(null),u=D.useCallback(T=>`${t}:${T}`,[t]);D.useEffect(()=>{const T=Uu();T&&r({type:"LOAD_STATE",payload:T}),l(!1)},[]),D.useEffect(()=>{i||(A5(n),xa().requestSync())},[n,i]),D.useEffect(()=>{i||r({type:"UPDATE_STREAK"})},[i]),D.useEffect(()=>{if(!i)return d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{const T=V$(n);T.length>0&&c(w=>[...w,...T])},sG),()=>{d.current&&clearTimeout(d.current)}},[n,i]);const p=D.useCallback(T=>{r({type:"VISIT_SECTION",payload:{sectionId:u(T)}})},[u]),g=D.useCallback(T=>{r({type:"COMPLETE_SECTION",payload:{sectionId:u(T)}})},[u]),v=D.useCallback((T,w,A,z,Y)=>{r({type:"RECORD_QUIZ",payload:{sectionId:u(T),difficulty:w,score:A,correctAnswers:z,totalQuestions:Y}})},[u]),y=D.useCallback((T,w)=>{r({type:"USE_VISUALIZATION",payload:{sectionId:u(T),name:w}})},[u]),M=D.useCallback(T=>{c(w=>w.filter(A=>A.id!==T))},[]),L=D.useCallback(()=>{r({type:"RESET_PROGRESS"})},[]),F=D.useMemo(()=>({state:n,isLoading:i,notifications:o,visitSection:p,completeSection:g,recordQuiz:v,useVisualization:y,dismissNotification:M,resetProgress:L}),[n,i,o,p,g,v,y,M,L]);return e.jsx(M5.Provider,{value:F,children:s})}function Pa(){const s=D.useContext(M5);if(!s)throw new Error("useGamification must be used within a GamificationProvider");return s}const rG=bc;function iG(s){return`${rG}:${s}`}function aG({children:s}){return e.jsx(nG,{courseId:bc,children:s})}function $5({xp:s,level:t,compact:n=!1}){const r=K$(s,t);return n?e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",t]}),e.jsxs("span",{className:"text-dark-400",children:[s," XP"]})]}):e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:e.jsx("span",{className:"text-sm font-bold text-white",children:t})}),e.jsxs("div",{className:"flex-1 min-w-[80px]",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsxs("span",{className:"text-dark-400",children:["Level ",t]}),e.jsxs("span",{className:"text-primary-400 font-medium",children:[s," XP"]})]}),e.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:e.jsx(Rn.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${r}%`},transition:{duration:.5}})})]})]})}function G5({streak:s}){return s===0?null:e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[e.jsx("span",{className:"text-orange-400",children:""}),e.jsx("span",{className:"text-sm font-medium text-orange-400",children:s})]})}function lG({level:s,showLabel:t=!1}){const{label:n,color:r,symbol:i}=Y$(s);return e.jsxs("div",{className:`flex items-center gap-1.5 ${r}`,children:[e.jsx("span",{className:"text-sm",children:i}),t&&e.jsx("span",{className:"text-xs",children:n})]})}const oG={progress:"",mastery:"",dedication:"",exploration:""};function cG({notification:s,onDismiss:t}){return D.useEffect(()=>{const n=setTimeout(t,5e3);return()=>clearTimeout(n)},[t]),e.jsx(Rn.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"pointer-events-auto",children:e.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl bg-dark-800 border border-primary-500/30 shadow-xl shadow-primary-500/10",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:oG[s.category]||""}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs text-primary-400 font-medium uppercase tracking-wider mb-0.5",children:"Achievement Unlocked!"}),e.jsx("div",{className:"text-dark-100 font-semibold",children:s.title}),e.jsx("div",{className:"text-sm text-dark-400",children:s.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold text-primary-400",children:["+",s.xpReward]}),e.jsx("div",{className:"text-xs text-dark-500",children:"XP"})]}),e.jsx("button",{onClick:t,className:"p-1 text-dark-500 hover:text-dark-300 transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function hG(){const{notifications:s,dismissNotification:t}=Pa();return e.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 pointer-events-none",children:e.jsx(ac,{mode:"popLayout",children:s.map(n=>e.jsx(cG,{notification:n,onDismiss:()=>t(n.id)},n.id))})})}function dG({onImportSuccess:s}){const[t,n]=D.useState(!1),[r,i]=D.useState(null),[l,o]=D.useState(!1),c=D.useRef(null),d=B$(),u=()=>{q$(),i({type:"success",text:"Progress exported! Check your downloads folder."}),setTimeout(()=>i(null),3e3)},p=()=>{var v;(v=c.current)==null||v.click()},g=async v=>{var L;const y=(L=v.target.files)==null?void 0:L[0];if(!y)return;o(!0),i(null);const M=await P$(y);o(!1),i({type:M.success?"success":"error",text:M.message}),M.success&&(s==null||s(),setTimeout(()=>{window.location.reload()},1500)),c.current&&(c.current.value="")};return e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>n(!t),className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":"Backup & restore progress",title:"Backup & restore progress",children:e.jsx("svg",{className:"w-5 h-5 text-dark-400 hover:text-dark-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),t&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-dark-800 rounded-lg shadow-xl border border-dark-700 z-50 p-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-dark-100 mb-3",children:"Progress Backup"}),d&&e.jsxs("div",{className:"mb-4 p-3 bg-dark-900 rounded-lg",children:[e.jsx("div",{className:"text-xs text-dark-400 mb-1",children:"Current Progress"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("span",{className:"text-accent-400 font-semibold",children:[d.totalXP," XP"]}),e.jsxs("span",{className:"text-dark-300",children:["Level ",d.level]}),e.jsxs("span",{className:"text-dark-400",children:[d.sectionsCompleted," sections"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:u,disabled:!d,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Progress"]}),e.jsxs("button",{onClick:p,disabled:l,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),l?"Importing...":"Import Backup"]}),e.jsx("input",{ref:c,type:"file",accept:".json",onChange:g,className:"hidden"})]}),r&&e.jsx("div",{className:`mt-3 p-2 rounded text-xs ${r.type==="success"?"bg-green-900/50 text-green-300 border border-green-700":"bg-red-900/50 text-red-300 border border-red-700"}`,children:r.text}),e.jsx("p",{className:"mt-3 text-xs text-dark-500",children:"Export your progress regularly to avoid losing your XP. Import to restore from a backup file."})]})]})]})}function Ox({onToggleSidebar:s,sidebarOpen:t}){const r=Pa();return e.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800",children:e.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:s,className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":t?"Close sidebar":"Open sidebar",children:e.jsx("svg",{className:"w-6 h-6 text-dark-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),e.jsxs(ts,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[e.jsx("span",{className:"text-2xl",children:Py}),e.jsx("h1",{className:"text-lg font-semibold text-dark-100 hidden sm:block",children:Xp})]})]}),e.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[e.jsx("a",{href:Ow,className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Hub"}),e.jsx(ts,{to:"/",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Home"}),e.jsx(ts,{to:"/theorems",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Theorems"}),e.jsx(ts,{to:"/interactive",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Interactive"}),e.jsx(ts,{to:"/leaderboard",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Leaderboard"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[r&&e.jsxs(e.Fragment,{children:[e.jsx(G5,{streak:r.state.streak.currentStreak}),e.jsx($5,{xp:r.state.user.totalXP,level:r.state.user.level})]}),e.jsx(dG,{})]})]})})}const Ba=[{id:1,title:"Fundamental Concepts",slug:"fundamental-concepts",sections:[{id:1,title:"1.1 What Is a Graph?",slug:"what-is-a-graph",description:"Definitions, graphs as models, matrices, isomorphism, and special graphs."},{id:2,title:"1.2 Paths, Cycles, and Trails",slug:"paths-cycles-trails",description:"Connection in graphs, bipartite graphs, and Eulerian circuits."},{id:3,title:"1.3 Vertex Degrees and Counting",slug:"vertex-degrees-counting",description:"Counting arguments, extremal problems, and graphic sequences."},{id:4,title:"1.4 Directed Graphs",slug:"directed-graphs",description:"Digraph definitions, vertex degrees, Eulerian digraphs, and tournaments."}]},{id:2,title:"Trees and Distance",slug:"trees-and-distance",sections:[{id:5,title:"2.1 Basic Properties",slug:"basic-properties-trees",description:"Properties of trees, distance in graphs, and spanning trees."},{id:6,title:"2.2 Spanning Trees and Enumeration",slug:"spanning-trees-enumeration",description:"Enumeration of trees, Cayley's formula, and the Matrix Tree Theorem."},{id:7,title:"2.3 Optimization and Trees",slug:"optimization-trees",description:"Minimum spanning trees, shortest paths, and Dijkstra's algorithm."}]},{id:3,title:"Matchings and Factors",slug:"matchings-and-factors",sections:[{id:8,title:"3.1 Matchings and Covers",slug:"matchings-covers",description:"Maximum matchings, Hall's theorem, and the Knig-Egervry theorem."},{id:9,title:"3.2 Algorithms and Applications",slug:"matching-algorithms",description:"Bipartite matching algorithms, weighted matching, and stable matchings."},{id:10,title:"3.3 Matchings in General Graphs",slug:"general-matchings",description:"Tutte's theorem, f-factors, and Edmonds' blossom algorithm."}]},{id:4,title:"Connectivity and Paths",slug:"connectivity-and-paths",sections:[{id:11,title:"4.1 Cuts and Connectivity",slug:"cuts-connectivity",description:"Vertex and edge connectivity, blocks, and cut-vertices."},{id:12,title:"4.2 k-connected Graphs",slug:"k-connected-graphs",description:"2-connected graphs, Menger's theorem, and ear decomposition."},{id:13,title:"4.3 Network Flow Problems",slug:"network-flow",description:"Maximum flow, min-cut max-flow theorem, and integral flows."}]},{id:5,title:"Coloring of Graphs",slug:"coloring-of-graphs",sections:[{id:14,title:"5.1 Vertex Colorings and Upper Bounds",slug:"vertex-colorings",description:"Chromatic number, greedy coloring, and Brooks' theorem."},{id:15,title:"5.2 Structure of k-chromatic Graphs",slug:"k-chromatic-structure",description:"Turn's theorem, color-critical graphs, and forced subdivisions."},{id:16,title:"5.3 Enumerative Aspects",slug:"enumerative-aspects",description:"Chromatic polynomials, chordal graphs, and perfect graphs."}]},{id:6,title:"Planar Graphs",slug:"planar-graphs",sections:[{id:17,title:"6.1 Embeddings and Euler's Formula",slug:"embeddings-euler",description:"Plane drawings, dual graphs, and Euler's formula."},{id:18,title:"6.2 Characterization of Planar Graphs",slug:"planar-characterization",description:"Kuratowski's theorem and planarity testing."},{id:19,title:"6.3 Parameters of Planarity",slug:"planarity-parameters",description:"Coloring planar graphs, crossing number, and higher genus surfaces."}]},{id:7,title:"Edges and Cycles",slug:"edges-and-cycles",sections:[{id:20,title:"7.1 Line Graphs and Edge-coloring",slug:"line-graphs-edge-coloring",description:"Edge chromatic number, Vizing's theorem, and line graph characterization."},{id:21,title:"7.2 Hamiltonian Cycles",slug:"hamiltonian-cycles",description:"Necessary and sufficient conditions for Hamiltonian cycles."},{id:22,title:"7.3 Planarity, Coloring, and Cycles",slug:"planarity-coloring-cycles",description:"Tait's theorem, Grinberg's theorem, and nowhere-zero flows."}]},{id:8,title:"Additional Topics",slug:"additional-topics",sections:[{id:23,title:"8.1 Perfect Graphs",slug:"perfect-graphs",description:"The perfect graph theorem, chordal graphs, and imperfect graphs."},{id:24,title:"8.2 Matroids",slug:"matroids",description:"Hereditary systems, matroid properties, duality, and intersection."},{id:25,title:"8.3 Ramsey Theory",slug:"ramsey-theory",description:"Ramsey's theorem, Ramsey numbers, and graph Ramsey theory."},{id:26,title:"8.4 More Extremal Problems",slug:"more-extremal-problems",description:"Encodings, branchings, list coloring, and circumference."},{id:27,title:"8.5 Random Graphs",slug:"random-graphs",description:"Existence and expectation, threshold functions, and evolution."},{id:28,title:"8.6 Eigenvalues of Graphs",slug:"eigenvalues-graphs",description:"Characteristic polynomial, eigenvalues, and strongly regular graphs."}]}];function z5(s){for(const t of Ba){const n=t.sections.find(r=>r.id===s);if(n)return n}}function I5(s){return Ba.find(t=>t.sections.some(n=>n.id===s))}function uG(s){const t=Ba.flatMap(r=>r.sections),n=t.findIndex(r=>r.id===s);return{prev:n>0?t[n-1]:null,next:n<t.length-1?t[n+1]:null}}function D5(){return Ba.reduce((s,t)=>s+t.sections.length,0)}function mG(){return Ba.flatMap(s=>s.sections)}function fG(s){return mG().findIndex(n=>n.id===s)}function qx({isOpen:s,onClose:t}){const[n,r]=D.useState(new Set([1])),l=Pa(),o=d=>{r(u=>{const p=new Set(u);return p.has(d)?p.delete(d):p.add(d),p})},c=d=>{var p;if(!l)return"none";const u=`${bc}:${d}`;return((p=l.state.sections[u])==null?void 0:p.masteryLevel)??"none"};return e.jsxs(e.Fragment,{children:[e.jsx(ac,{children:s&&e.jsx(Rn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/50 z-40 lg:hidden"})}),e.jsx("aside",{className:`
          fixed top-16 left-0 bottom-0 z-40
          w-72 bg-dark-900 border-r border-dark-800
          transform transition-transform duration-300 ease-in-out
          ${s?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0
          overflow-y-auto
        `,children:e.jsxs("nav",{className:"p-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mb-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold text-amber-400",children:""})}),e.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-dark-500",children:"Reference"})]}),e.jsxs("ul",{className:"space-y-0.5",children:[e.jsx("li",{children:e.jsxs(Ju,{to:"/theorems",className:({isActive:d})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${d?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[e.jsx("span",{className:"text-lg",children:""}),"Theorems"]})}),e.jsx("li",{children:e.jsxs(Ju,{to:"/interactive",className:({isActive:d})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${d?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[e.jsx("span",{className:"text-lg",children:""}),"Interactive Modules"]})})]})]}),e.jsx("div",{className:"space-y-2",children:Ba.map(d=>e.jsxs("div",{children:[e.jsxs("button",{onClick:()=>o(d.id),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-dark-800 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:e.jsx("span",{className:"text-xs font-bold text-primary-400",children:d.id})}),e.jsx("span",{className:"text-sm font-medium text-dark-200",children:d.title})]}),e.jsx("svg",{className:`w-4 h-4 text-dark-500 transition-transform ${n.has(d.id)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),e.jsx(ac,{children:n.has(d.id)&&e.jsx(Rn.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"ml-4 mt-1 space-y-0.5 overflow-hidden",children:d.sections.map(u=>e.jsx("li",{children:e.jsxs(Ju,{to:`/section/${u.id}`,onClick:()=>{window.innerWidth<1024&&t()},className:({isActive:p})=>`flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${p?"bg-primary-500/10 text-primary-400":"text-dark-400 hover:bg-dark-800 hover:text-dark-200"}`,children:[e.jsx("span",{className:"truncate",children:u.title}),e.jsx(lG,{level:c(u.id)})]})},u.id))})})]},d.id))})]})})]})}function Pv(){const t=Pa(),n=D5(),r=t?t.state.user.sectionsCompleted.filter(l=>l.startsWith(bc)).length:0,i=Math.round(r/n*100);return e.jsx("div",{className:"py-8 px-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("span",{className:"text-6xl mb-4 block",children:Py}),e.jsx("h1",{className:"text-4xl font-bold text-dark-100 mb-4",children:Xp}),e.jsx("p",{className:"text-xl text-dark-400 max-w-2xl mx-auto",children:Rw})]}),t&&e.jsxs("div",{className:"mb-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-dark-100",children:"Your Progress"}),e.jsx(G5,{streak:t.state.streak.currentStreak})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{children:e.jsx($5,{xp:t.state.user.totalXP,level:t.state.user.level})}),e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-dark-400",children:"Course Progress"}),e.jsxs("span",{className:"text-primary-400 font-medium",children:[i,"%"]})]}),e.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",style:{width:`${i}%`}})}),e.jsxs("div",{className:"text-xs text-dark-500 mt-1",children:[r," of ",n," sections"]})]}),e.jsxs("div",{className:"flex flex-col justify-center items-end",children:[e.jsx("div",{className:"text-2xl font-bold text-dark-100",children:t.state.user.quizzesTaken}),e.jsx("div",{className:"text-sm text-dark-400",children:"Quizzes Completed"})]})]})]}),e.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Course Content"}),e.jsx("div",{className:"space-y-4",children:Ba.map(l=>e.jsxs("div",{className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-dark-600/50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:e.jsx("span",{className:"text-lg font-bold text-primary-400",children:l.id})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:l.title}),e.jsxs("p",{className:"text-sm text-dark-400",children:[l.sections.length," sections"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:l.sections.map(o=>{const c=`${bc}:${o.id}`,d=t==null?void 0:t.state.user.sectionsCompleted.includes(c);return e.jsxs(ts,{to:`/section/${o.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-dark-700/50 transition-colors group",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${d?"bg-emerald-500/20 text-emerald-400":"bg-dark-700 text-dark-400"}`,children:d?e.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsx("span",{className:"text-xs",children:o.id})}),e.jsx("span",{className:"text-sm text-dark-300 group-hover:text-dark-100 transition-colors",children:o.title})]},o.id)})})]},l.id))})]})})}function pG(){return e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:e.jsx(fC,{})})}const xG=[{id:1,type:"multiple-choice",question:"A graph $G$ consists of a vertex set $V(G)$ and an edge set $E(G)$. What is true about a simple graph?",options:["It can have loops and multiple edges","It has no loops or multiple edges","It must be connected","It must have at least 3 vertices"],correctIndex:1,difficulty:"easy",explanation:"A simple graph has no loops (edges from a vertex to itself) and no multiple edges (more than one edge between the same pair of vertices)."},{id:2,type:"multiple-choice",question:"The complete graph $K_n$ has how many edges?",options:["$n$","$n^2$","$\\binom{n}{2} = \\frac{n(n-1)}{2}$","$2^n$"],correctIndex:2,difficulty:"easy",explanation:"In $K_n$, every pair of distinct vertices is connected by an edge. There are $\\binom{n}{2}$ ways to choose 2 vertices from $n$."},{id:3,type:"multiple-choice",question:"Two graphs $G$ and $H$ are isomorphic if and only if:",options:["They have the same number of vertices","They have the same number of edges","There exists a bijection $f: V(G) \\to V(H)$ preserving adjacency","They have the same maximum degree"],correctIndex:2,difficulty:"medium",explanation:"Graph isomorphism requires a bijection between vertex sets that preserves the edge relation: $uv \\in E(G)$ iff $f(u)f(v) \\in E(H)$."},{id:4,type:"numeric",question:"How many edges does the complete graph $K_5$ have?",correctAnswer:10,numericRange:{min:0,max:100,precision:0},difficulty:"medium",explanation:"$K_5$ has $\\binom{5}{2} = \\frac{5 \\cdot 4}{2} = 10$ edges."},{id:5,type:"multiple-choice",question:"The complete bipartite graph $K_{3,4}$ has how many edges?",options:["$7$","$12$","$21$","$24$"],correctIndex:1,difficulty:"hard",explanation:"$K_{m,n}$ has $m \\cdot n$ edges. So $K_{3,4}$ has $3 \\times 4 = 12$ edges."},{id:6,type:"multiple-choice",question:"Which statement about graph complements is TRUE?",options:["The complement of $K_n$ is $K_n$","The complement of $K_n$ has $\\binom{n}{2}$ edges","The complement of $K_n$ is the empty graph $\\overline{K_n}$","$G$ and $\\overline{G}$ always have the same number of edges"],correctIndex:2,difficulty:"hard",explanation:"The complement $\\overline{G}$ has an edge $uv$ iff $uv \\notin E(G)$. Since $K_n$ has all possible edges, $\\overline{K_n}$ has no edges."}],gG=[{id:1,type:"multiple-choice",question:"A walk in a graph is:",options:["A sequence of vertices where each consecutive pair is adjacent","A sequence of distinct vertices","A closed sequence of vertices","A sequence with no repeated edges"],correctIndex:0,difficulty:"easy",explanation:"A walk is a sequence $v_0, v_1, \\ldots, v_k$ where $v_{i-1}v_i \\in E(G)$ for all $i$. Vertices and edges may repeat."},{id:2,type:"multiple-choice",question:"What is the difference between a path and a trail?",options:["A path allows repeated vertices, a trail does not","A trail allows repeated vertices but not edges; a path allows neither","There is no difference","A path must be closed, a trail must be open"],correctIndex:1,difficulty:"easy",explanation:"A trail has no repeated edges. A path has no repeated vertices (and hence no repeated edges either)."},{id:3,type:"multiple-choice",question:"A graph $G$ has an Eulerian circuit if and only if:",options:["$G$ is connected and every vertex has even degree","$G$ is connected and every vertex has odd degree","$G$ is connected and has an even number of vertices","$G$ has an even number of edges"],correctIndex:0,difficulty:"medium",explanation:"A connected graph has an Eulerian circuit (closed trail using every edge exactly once) iff every vertex has even degree."},{id:4,type:"multiple-choice",question:"A connected graph $G$ has an Eulerian trail (but not circuit) if and only if:",options:["Every vertex has odd degree","Exactly two vertices have odd degree","At most two vertices have odd degree","The graph has an even number of edges"],correctIndex:1,difficulty:"medium",explanation:"An Eulerian trail exists iff $G$ is connected and has exactly 0 or 2 vertices of odd degree. With 0 odd-degree vertices, it is a circuit."},{id:5,type:"numeric",question:"In a cycle $C_6$, what is the length of the longest path?",correctAnswer:5,numericRange:{min:0,max:20,precision:0},difficulty:"hard",explanation:"In $C_6$, we can traverse 5 edges to visit all 6 vertices without repeating. The 6th edge would close the cycle."},{id:6,type:"multiple-choice",question:"The Knigsberg Bridge Problem asked whether there exists:",options:["A Hamiltonian cycle through 7 bridges","An Eulerian trail through 7 bridges","A spanning tree of 7 bridges","A perfect matching of 7 bridges"],correctIndex:1,difficulty:"hard",explanation:"Euler proved no Eulerian trail exists because more than 2 vertices have odd degree in the multigraph representing Knigsberg."}],vG=[{id:1,type:"multiple-choice",question:"The Handshaking Lemma states that:",options:["$\\sum_{v \\in V} d(v) = |E|$","$\\sum_{v \\in V} d(v) = 2|E|$","$\\sum_{v \\in V} d(v) = |V|$","$\\sum_{v \\in V} d(v) = |V| + |E|$"],correctIndex:1,difficulty:"easy",explanation:"Each edge contributes 2 to the sum of degrees (one for each endpoint), so $\\sum d(v) = 2|E|$."},{id:2,type:"multiple-choice",question:"In any graph, the number of vertices with odd degree is:",options:["Always zero","Always even","Always odd","Could be any number"],correctIndex:1,difficulty:"easy",explanation:"Since $\\sum d(v) = 2|E|$ is even, and odd numbers must pair up to sum to even, the count of odd-degree vertices must be even."},{id:3,type:"numeric",question:"A $k$-regular graph on $n$ vertices has how many edges? Express as $kn/2$. If $k=4$ and $n=10$, how many edges?",correctAnswer:20,numericRange:{min:0,max:100,precision:0},difficulty:"medium",explanation:"Sum of degrees $= kn$. By Handshaking Lemma, $|E| = kn/2 = (4)(10)/2 = 20$."},{id:4,type:"multiple-choice",question:"A simple graph $G$ with $n$ vertices and $m$ edges satisfies:",options:["$m \\leq n$","$m \\leq n^2$","$m \\leq \\binom{n}{2}$","$m \\leq n!$"],correctIndex:2,difficulty:"medium",explanation:"A simple graph has at most one edge per vertex pair. Maximum is $\\binom{n}{2} = n(n-1)/2$ edges (achieved by $K_n$)."},{id:5,type:"numeric",question:"If a simple graph has 6 vertices and 15 edges, what is the degree of each vertex?",correctAnswer:5,numericRange:{min:0,max:10,precision:0},difficulty:"hard",explanation:"$\\binom{6}{2} = 15$, so this is $K_6$. In $K_n$, each vertex has degree $n-1 = 5$."},{id:6,type:"multiple-choice",question:"A degree sequence $(d_1, \\ldots, d_n)$ is graphic (realizable by a simple graph) if and only if:",options:["All degrees are even","The sum is even and satisfies Erds-Gallai inequalities","All degrees are less than $n$","The sequence is non-increasing"],correctIndex:1,difficulty:"hard",explanation:"The Erds-Gallai theorem gives necessary and sufficient conditions: sum is even, and certain inequalities involving partial sums hold."}],jG=[{id:1,type:"multiple-choice",question:"In a directed graph (digraph), an arc from $u$ to $v$ contributes:",options:["1 to the degree of both $u$ and $v$","1 to the out-degree of $u$ and 1 to the in-degree of $v$","1 to the in-degree of $u$ and 1 to the out-degree of $v$","2 to the degree of $u$"],correctIndex:1,difficulty:"easy",explanation:"An arc $(u,v)$ goes out from $u$ (contributing to $d^+(u)$) and into $v$ (contributing to $d^-(v)$)."},{id:2,type:"multiple-choice",question:"A tournament is:",options:["A complete bipartite graph with orientation","An orientation of a complete graph","A directed cycle","A directed tree"],correctIndex:1,difficulty:"easy",explanation:"A tournament is $K_n$ where each edge is oriented in exactly one direction (every pair of vertices has exactly one arc between them)."},{id:3,type:"multiple-choice",question:"In any digraph $D$, the sum of all in-degrees equals:",options:["The number of vertices","The number of arcs","The sum of all out-degrees","Both the number of arcs and the sum of out-degrees"],correctIndex:3,difficulty:"medium",explanation:"Each arc contributes 1 to exactly one in-degree and one out-degree, so $\\sum d^-(v) = \\sum d^+(v) = |A|$."},{id:4,type:"multiple-choice",question:"A digraph is strongly connected if:",options:["The underlying undirected graph is connected","There is a directed path from every vertex to every other vertex","Every vertex has equal in-degree and out-degree","It has a directed Hamiltonian path"],correctIndex:1,difficulty:"medium",explanation:"Strong connectivity requires a directed path between every ordered pair of vertices."},{id:5,type:"numeric",question:"A tournament on 5 vertices has how many arcs?",correctAnswer:10,numericRange:{min:0,max:50,precision:0},difficulty:"hard",explanation:"A tournament orients $K_n$, which has $\\binom{n}{2}$ edges. So a tournament on 5 vertices has $\\binom{5}{2} = 10$ arcs."},{id:6,type:"multiple-choice",question:"Every tournament has:",options:["A directed Hamiltonian cycle","A directed Hamiltonian path","A vertex with in-degree 0","All vertices with equal in-degree"],correctIndex:1,difficulty:"hard",explanation:"Rdei's theorem: every tournament has a directed Hamiltonian path (vertices can be linearly ordered by the tournament)."}],yG=[{id:1,type:"multiple-choice",question:"A tree is a connected graph that:",options:["Has at least one cycle","Has no cycles","Is bipartite","Has maximum degree 2"],correctIndex:1,difficulty:"easy",explanation:"A tree is a connected acyclic graph. It has no cycles."},{id:2,type:"multiple-choice",question:"A tree on $n$ vertices has exactly how many edges?",options:["$n$","$n + 1$","$n - 1$","$2n - 2$"],correctIndex:2,difficulty:"easy",explanation:"Every tree on $n$ vertices has exactly $n-1$ edges. This is a fundamental characterization of trees."},{id:3,type:"multiple-choice",question:'Which is NOT equivalent to "$G$ is a tree"?',options:["$G$ is connected and has $n-1$ edges","$G$ has no cycles and has $n-1$ edges","Between any two vertices there is exactly one path","$G$ is connected and every edge is a bridge"],correctIndex:3,difficulty:"medium",explanation:"All four are equivalent characterizations of trees! The question is tricky - they are all valid."},{id:4,type:"numeric",question:"A forest with 10 vertices and 3 connected components has how many edges?",correctAnswer:7,numericRange:{min:0,max:20,precision:0},difficulty:"medium",explanation:"A forest with $n$ vertices and $k$ components has $n-k$ edges. Here: $10 - 3 = 7$ edges."},{id:5,type:"multiple-choice",question:"Every tree with at least 2 vertices has:",options:["A vertex of degree at least 3","At least two leaves (vertices of degree 1)","A perfect matching","An Eulerian trail"],correctIndex:1,difficulty:"hard",explanation:"A tree with $n \\geq 2$ vertices has at least 2 leaves. This follows from the degree sum being $2(n-1)$ with all degrees $\\geq 1$."},{id:6,type:"multiple-choice",question:"The center of a tree is:",options:["Always a single vertex","Either 1 or 2 adjacent vertices","The vertex with maximum degree","The set of all leaves"],correctIndex:1,difficulty:"hard",explanation:"The center of a tree (vertices minimizing eccentricity) consists of either one vertex or two adjacent vertices."}],bG=[{id:1,type:"multiple-choice",question:"A spanning tree of a connected graph $G$ is:",options:["Any subgraph that is a tree","A tree subgraph containing all vertices of $G$","The unique shortest path tree","A tree with maximum number of edges"],correctIndex:1,difficulty:"easy",explanation:"A spanning tree is a subgraph that is a tree and includes every vertex of $G$."},{id:2,type:"multiple-choice",question:"Cayley's Formula states that the number of labeled trees on $n$ vertices is:",options:["$n!$","$2^n$","$n^{n-2}$","$\\binom{2n-2}{n-1}$"],correctIndex:2,difficulty:"easy",explanation:"Cayley's Formula: there are exactly $n^{n-2}$ labeled trees on $n$ vertices."},{id:3,type:"numeric",question:"How many labeled trees are there on 4 vertices?",correctAnswer:16,numericRange:{min:0,max:100,precision:0},difficulty:"medium",explanation:"By Cayley's Formula: $4^{4-2} = 4^2 = 16$ labeled trees on 4 vertices."},{id:4,type:"multiple-choice",question:"The Matrix Tree Theorem computes the number of spanning trees using:",options:["The determinant of the adjacency matrix","The determinant of a cofactor of the Laplacian matrix","The trace of the adjacency matrix","The eigenvalues of the incidence matrix"],correctIndex:1,difficulty:"medium",explanation:"The Matrix Tree Theorem: $\\tau(G)$ equals any cofactor of the Laplacian $L = D - A$."},{id:5,type:"multiple-choice",question:"A Prfer sequence for a labeled tree on $n$ vertices has length:",options:["$n$","$n - 1$","$n - 2$","$2n - 2$"],correctIndex:2,difficulty:"hard",explanation:"Prfer sequences have length $n-2$. The bijection with $[n]^{n-2}$ proves Cayley's formula."},{id:6,type:"numeric",question:"How many spanning trees does the cycle $C_n$ have? If $n=5$, how many?",correctAnswer:5,numericRange:{min:0,max:20,precision:0},difficulty:"hard",explanation:"$C_n$ has exactly $n$ spanning trees (remove any one of the $n$ edges)."}],wG=[{id:1,type:"multiple-choice",question:"Kruskal's algorithm for minimum spanning tree works by:",options:["Starting from a root and adding nearest vertices","Adding edges in order of increasing weight, avoiding cycles","Removing edges in order of decreasing weight","Using matrix multiplication"],correctIndex:1,difficulty:"easy",explanation:"Kruskal's algorithm sorts edges by weight and greedily adds them if they don't create a cycle."},{id:2,type:"multiple-choice",question:"Prim's algorithm for MST differs from Kruskal's by:",options:["Growing a single tree from a starting vertex","Processing edges in decreasing weight order","Using depth-first search","Finding the longest path"],correctIndex:0,difficulty:"easy",explanation:"Prim's algorithm grows a single tree, always adding the minimum-weight edge connecting the tree to a new vertex."},{id:3,type:"multiple-choice",question:"The greedy algorithm gives an optimal solution for MST because:",options:["Trees are always optimal","The matroid structure of spanning trees allows greedy optimization","Edge weights are always positive","The graph is connected"],correctIndex:1,difficulty:"medium",explanation:"Graphic matroids (forests as independent sets) satisfy the greedy algorithm optimality property."},{id:4,type:"multiple-choice",question:"A shortest path tree rooted at $s$ contains:",options:["All edges of minimum weight","A shortest path from $s$ to every other vertex","The minimum number of edges possible","Only edges of weight 1"],correctIndex:1,difficulty:"medium",explanation:"An SPT rooted at $s$ gives shortest paths from $s$ to all vertices simultaneously."},{id:5,type:"multiple-choice",question:"Dijkstra's algorithm requires:",options:["Negative edge weights","Non-negative edge weights","All edge weights equal","A directed acyclic graph"],correctIndex:1,difficulty:"hard",explanation:"Dijkstra's algorithm requires non-negative weights. For negative weights, use Bellman-Ford."},{id:6,type:"multiple-choice",question:"The time complexity of Kruskal's algorithm with union-find is:",options:["$O(n^2)$","$O(m \\log n)$","$O(m \\log m)$","$O(n^3)$"],correctIndex:2,difficulty:"hard",explanation:"Sorting edges takes $O(m \\log m)$; union-find operations are nearly $O(m)$ with path compression."}],kG=[{id:1,type:"multiple-choice",question:"A matching in a graph is:",options:["A set of edges with no common vertices","A set of vertices with no common edges","A connected subgraph","A set of adjacent vertices"],correctIndex:0,difficulty:"easy",explanation:"A matching is a set of pairwise non-adjacent edges (no two share a vertex)."},{id:2,type:"multiple-choice",question:"A perfect matching in a graph $G$ covers:",options:["All edges of $G$","All vertices of $G$","Half the vertices of $G$","All cycles of $G$"],correctIndex:1,difficulty:"easy",explanation:"A perfect matching saturates (covers) every vertex of $G$."},{id:3,type:"multiple-choice",question:"Hall's Theorem states that a bipartite graph $G$ with parts $X, Y$ has a matching saturating $X$ iff:",options:["$|X| = |Y|$","$|N(S)| \\geq |S|$ for all $S \\subseteq X$","Every vertex in $X$ has degree at least 1","The graph is connected"],correctIndex:1,difficulty:"medium",explanation:"Hall's condition: for every subset $S$ of $X$, the neighborhood $N(S)$ in $Y$ satisfies $|N(S)| \\geq |S|$."},{id:4,type:"multiple-choice",question:"A vertex cover is:",options:["A set of vertices incident to every edge","A set of edges incident to every vertex","A spanning subgraph","A dominating set"],correctIndex:0,difficulty:"medium",explanation:"A vertex cover is a set $S$ such that every edge has at least one endpoint in $S$."},{id:5,type:"multiple-choice",question:"Knig's Theorem states that in bipartite graphs:",options:["Maximum matching equals minimum edge cover","Maximum matching equals minimum vertex cover","Chromatic number equals 2","Every vertex cover is a matching"],correctIndex:1,difficulty:"hard",explanation:"Knig-Egervry: in bipartite graphs, $\\nu(G) = \\tau(G)$ (max matching = min vertex cover)."},{id:6,type:"numeric",question:"In $K_{3,3}$, what is the size of a maximum matching?",correctAnswer:3,numericRange:{min:0,max:10,precision:0},difficulty:"hard",explanation:"$K_{3,3}$ is a bipartite graph with 3 vertices on each side. A perfect matching exists, matching all 3 pairs."}],TG=[{id:1,type:"multiple-choice",question:"An augmenting path with respect to a matching $M$ is:",options:["Any path in the graph","An $M$-alternating path between two $M$-unsaturated vertices","A path of maximum length","A path using only edges in $M$"],correctIndex:1,difficulty:"easy",explanation:"An augmenting path alternates between non-matching and matching edges, with unmatched endpoints."},{id:2,type:"multiple-choice",question:"The Hungarian algorithm finds:",options:["Shortest paths in weighted graphs","Maximum weighted matching in bipartite graphs","Minimum spanning trees","Graph colorings"],correctIndex:1,difficulty:"easy",explanation:"The Hungarian algorithm solves the assignment problem: maximum weight matching in bipartite graphs."},{id:3,type:"multiple-choice",question:"Berge's Theorem states that a matching $M$ is maximum iff:",options:["It is a perfect matching","There is no $M$-augmenting path","All vertices have degree at least 1","The graph is bipartite"],correctIndex:1,difficulty:"medium",explanation:"Berge's Theorem: $M$ is maximum $\\Leftrightarrow$ no augmenting path exists."},{id:4,type:"multiple-choice",question:"In the stable marriage problem, Gale-Shapley produces:",options:["A matching maximizing total preference","A stable matching (no blocking pairs)","A random matching","The unique optimal matching"],correctIndex:1,difficulty:"medium",explanation:"Gale-Shapley produces a stable matching: no unmatched pair would prefer each other over current partners."},{id:5,type:"multiple-choice",question:"The time complexity of the Hopcroft-Karp algorithm for maximum bipartite matching is:",options:["$O(n^2)$","$O(m \\sqrt{n})$","$O(n^3)$","$O(m \\cdot n)$"],correctIndex:1,difficulty:"hard",explanation:"Hopcroft-Karp achieves $O(m\\sqrt{n})$ by finding maximal sets of shortest augmenting paths."},{id:6,type:"multiple-choice",question:"A transversal (system of distinct representatives) corresponds to:",options:["A vertex cover","A matching in a bipartite graph","A Hamiltonian path","A spanning tree"],correctIndex:1,difficulty:"hard",explanation:"An SDR for sets $S_1, \\ldots, S_n$ exists iff the bipartite graph (sets vs elements) has a matching saturating all sets."}],SG=[{id:1,type:"multiple-choice",question:"Tutte's Theorem characterizes graphs with perfect matchings using:",options:["The number of edges","The number of odd components after removing any vertex set","The chromatic number","The maximum degree"],correctIndex:1,difficulty:"easy",explanation:"Tutte's condition: $G$ has a perfect matching iff $o(G-S) \\leq |S|$ for all $S \\subseteq V$."},{id:2,type:"multiple-choice",question:"An $f$-factor of a graph is:",options:["A subgraph where each vertex has degree exactly $f$","A spanning subgraph where vertex $v$ has degree $f(v)$","A collection of $f$ edge-disjoint matchings","A subgraph with $f$ edges"],correctIndex:1,difficulty:"easy",explanation:"An $f$-factor is a spanning subgraph where each vertex $v$ has degree exactly $f(v)$."},{id:3,type:"multiple-choice",question:"A 1-factor is the same as:",options:["A spanning tree","A Hamiltonian path","A perfect matching","A vertex cover"],correctIndex:2,difficulty:"medium",explanation:"A 1-factor is a spanning subgraph with all degrees equal to 1, which is exactly a perfect matching."},{id:4,type:"multiple-choice",question:"Edmonds' blossom algorithm handles:",options:["Only bipartite graphs","General graphs by shrinking odd cycles","Only regular graphs","Only planar graphs"],correctIndex:1,difficulty:"medium",explanation:"The blossom algorithm contracts odd cycles (blossoms) to find augmenting paths in general graphs."},{id:5,type:"multiple-choice",question:"The deficiency of a graph $G$ is:",options:["$|V| - 2\\nu(G)$","$|E| - |V|$","The number of isolated vertices","The minimum degree"],correctIndex:0,difficulty:"hard",explanation:"Deficiency $= n - 2\\nu(G)$ = number of vertices not covered by maximum matching."},{id:6,type:"multiple-choice",question:"Petersen's Theorem states that every:",options:["2-connected graph has a Hamiltonian path","Bridgeless cubic graph has a perfect matching","Planar graph is 4-colorable","Bipartite graph has a perfect matching"],correctIndex:1,difficulty:"hard",explanation:"Petersen: every bridgeless (2-edge-connected) 3-regular graph has a perfect matching."}],NG=[{id:1,type:"multiple-choice",question:"A cut vertex (articulation point) is:",options:["A vertex of maximum degree","A vertex whose removal increases the number of components","A vertex in a minimum vertex cover","A vertex of degree 1"],correctIndex:1,difficulty:"easy",explanation:"A cut vertex is one whose deletion disconnects the graph (increases component count)."},{id:2,type:"multiple-choice",question:"A bridge in a graph is:",options:["An edge in every spanning tree","An edge whose removal disconnects the graph","An edge between two cut vertices","The shortest edge"],correctIndex:1,difficulty:"easy",explanation:"A bridge (cut edge) is an edge whose deletion increases the number of components."},{id:3,type:"multiple-choice",question:"The vertex connectivity $\\kappa(G)$ is:",options:["The minimum number of vertices to remove to disconnect $G$","The number of cut vertices","The maximum degree","The number of components"],correctIndex:0,difficulty:"medium",explanation:"$\\kappa(G)$ is the minimum size of a vertex cut (or $n-1$ if $G = K_n$)."},{id:4,type:"multiple-choice",question:"For any graph $G$: $\\kappa(G) \\leq \\kappa'(G) \\leq \\delta(G)$. What are $\\kappa'$ and $\\delta$?",options:["Edge connectivity and average degree","Edge connectivity and minimum degree","Chromatic number and maximum degree","Independence number and minimum degree"],correctIndex:1,difficulty:"medium",explanation:"$\\kappa' =$ edge connectivity, $\\delta =$ minimum degree. Whitney's inequality."},{id:5,type:"multiple-choice",question:"A block of a graph is:",options:["A connected component","A maximal 2-connected subgraph or bridge or isolated vertex","A clique","A bipartite subgraph"],correctIndex:1,difficulty:"hard",explanation:"Blocks are the maximal subgraphs with no cut vertex. They partition the edges."},{id:6,type:"multiple-choice",question:"Tarjan's algorithm finds:",options:["Shortest paths","Strongly connected components in linear time","Maximum matchings","Chromatic numbers"],correctIndex:1,difficulty:"hard",explanation:"Tarjan's DFS-based algorithm finds SCCs (and blocks) in $O(n+m)$ time."}],AG=[{id:1,type:"multiple-choice",question:"A graph is $k$-connected if:",options:["It has at least $k$ vertices","It remains connected after removing any $k-1$ vertices","Every vertex has degree at least $k$","It has $k$ components"],correctIndex:1,difficulty:"easy",explanation:"$k$-connected means $\\kappa(G) \\geq k$: removing fewer than $k$ vertices leaves the graph connected."},{id:2,type:"multiple-choice",question:"Menger's Theorem (vertex version) states that the maximum number of internally disjoint $u$-$v$ paths equals:",options:["The degree of $u$","The minimum size of a $u$-$v$ vertex cut","The distance from $u$ to $v$","$\\kappa(G)$"],correctIndex:1,difficulty:"easy",explanation:"Menger: max internally disjoint paths = min vertex cut size separating $u$ from $v$."},{id:3,type:"multiple-choice",question:"An ear decomposition of a 2-connected graph starts with:",options:["A single vertex","A spanning tree","A cycle","A matching"],correctIndex:2,difficulty:"medium",explanation:'Ear decomposition starts with a cycle, then adds "ears" (paths connecting existing vertices).'},{id:4,type:"multiple-choice",question:"Whitney's Theorem states that $G$ is 2-connected iff:",options:["It has no cut vertices","Every pair of edges lies on a common cycle","It has a Hamiltonian cycle","It is planar"],correctIndex:1,difficulty:"medium",explanation:"Whitney: 2-connected $\\Leftrightarrow$ every two edges lie on a common cycle."},{id:5,type:"numeric",question:"What is the vertex connectivity $\\kappa(K_5)$?",correctAnswer:4,numericRange:{min:0,max:10,precision:0},difficulty:"hard",explanation:"In $K_n$, any $n-1$ vertices can be removed while keeping it connected, so $\\kappa(K_n) = n-1$. Thus $\\kappa(K_5) = 4$."},{id:6,type:"multiple-choice",question:"The edge version of Menger's Theorem relates to:",options:["Vertex connectivity","Edge-disjoint paths and edge cuts","Matchings","Chromatic number"],correctIndex:1,difficulty:"hard",explanation:"Edge Menger: max edge-disjoint paths = min edge cut size."}],_G=[{id:1,type:"multiple-choice",question:"In a network flow, the value of a flow is:",options:["The sum of all edge capacities","The net flow out of the source","The number of edges with positive flow","The maximum edge capacity"],correctIndex:1,difficulty:"easy",explanation:"Flow value = total flow leaving source = total flow entering sink."},{id:2,type:"multiple-choice",question:"The Max-Flow Min-Cut Theorem states:",options:["Maximum flow equals minimum number of edges","Maximum flow value equals minimum cut capacity","Every flow can be decomposed into paths","Flows are always integral"],correctIndex:1,difficulty:"easy",explanation:"The maximum flow value equals the minimum capacity of an $s$-$t$ cut."},{id:3,type:"multiple-choice",question:"Ford-Fulkerson finds augmenting paths in:",options:["The original graph","The residual graph","The line graph","A spanning tree"],correctIndex:1,difficulty:"medium",explanation:"Ford-Fulkerson repeatedly finds augmenting paths in the residual graph (forward and backward edges)."},{id:4,type:"multiple-choice",question:"If all capacities are integers, Ford-Fulkerson guarantees:",options:["Polynomial time always","An integral maximum flow","A unique maximum flow","No augmenting paths exist"],correctIndex:1,difficulty:"medium",explanation:"With integer capacities, Ford-Fulkerson produces an integral max flow (integrality theorem)."},{id:5,type:"multiple-choice",question:"Edmonds-Karp is Ford-Fulkerson with:",options:["Random path selection","BFS to find shortest augmenting paths","DFS to find longest augmenting paths","Minimum capacity paths"],correctIndex:1,difficulty:"hard",explanation:"Edmonds-Karp uses BFS for shortest augmenting paths, giving $O(VE^2)$ complexity."},{id:6,type:"multiple-choice",question:"Knig's theorem can be proved using:",options:["Induction on vertices","Max-flow min-cut theorem","The four-color theorem","Euler's formula"],correctIndex:1,difficulty:"hard",explanation:"Knig's theorem (bipartite matching = vertex cover) follows from max-flow min-cut applied to bipartite graphs."}],EG=[{id:1,type:"multiple-choice",question:"The chromatic number $\\chi(G)$ is:",options:["The number of edges","The minimum colors needed to properly color vertices","The maximum degree plus one","The number of components"],correctIndex:1,difficulty:"easy",explanation:"$\\chi(G)$ is the minimum $k$ such that $G$ has a proper $k$-coloring (adjacent vertices get different colors)."},{id:2,type:"multiple-choice",question:"A graph is bipartite if and only if:",options:["$\\chi(G) = 1$","$\\chi(G) \\leq 2$","$\\chi(G) = 3$","It has an even number of vertices"],correctIndex:1,difficulty:"easy",explanation:"Bipartite $\\Leftrightarrow$ 2-colorable $\\Leftrightarrow$ no odd cycles."},{id:3,type:"multiple-choice",question:"The greedy coloring algorithm colors vertices using at most:",options:["$\\chi(G)$ colors","$\\Delta(G)$ colors","$\\Delta(G) + 1$ colors","$n$ colors"],correctIndex:2,difficulty:"medium",explanation:"Greedy uses at most $\\Delta + 1$ colors (at each step, at most $\\Delta$ colors are forbidden)."},{id:4,type:"multiple-choice",question:"Brooks' Theorem states that $\\chi(G) \\leq \\Delta(G)$ unless:",options:["$G$ is bipartite","$G$ is a complete graph or odd cycle","$G$ is planar","$G$ is a tree"],correctIndex:1,difficulty:"medium",explanation:"Brooks: $\\chi(G) \\leq \\Delta$ for connected graphs except $K_n$ and odd cycles."},{id:5,type:"numeric",question:"What is $\\chi(K_6)$?",correctAnswer:6,numericRange:{min:0,max:20,precision:0},difficulty:"hard",explanation:"$K_n$ requires $n$ colors since every pair of vertices is adjacent."},{id:6,type:"multiple-choice",question:"The clique number $\\omega(G)$ satisfies:",options:["$\\omega(G) = \\chi(G)$ always","$\\omega(G) \\leq \\chi(G)$ always","$\\omega(G) \\geq \\chi(G)$ always","$\\omega(G) = \\Delta(G)$"],correctIndex:1,difficulty:"hard",explanation:"A clique of size $k$ needs $k$ colors, so $\\omega(G) \\leq \\chi(G)$. Equality holds for perfect graphs."}],CG=[{id:1,type:"multiple-choice",question:"Turn's Theorem gives the maximum edges in a graph with no:",options:["Cycles","$K_{r+1}$ subgraph","Perfect matching","Cut vertices"],correctIndex:1,difficulty:"easy",explanation:"Turn: $ex(n, K_{r+1})$ = max edges avoiding $(r+1)$-clique, achieved by $T(n,r)$."},{id:2,type:"multiple-choice",question:"The Turn graph $T(n,r)$ is:",options:["The complete graph $K_n$","A complete $r$-partite graph with parts as equal as possible","A tree on $n$ vertices","A cycle of length $n$"],correctIndex:1,difficulty:"easy",explanation:"$T(n,r)$ is complete $r$-partite with part sizes differing by at most 1."},{id:3,type:"multiple-choice",question:"A graph is $k$-critical if:",options:["$\\chi(G) = k$ and $G$ is connected","$\\chi(G) = k$ and $\\chi(G-e) < k$ for every edge $e$","$G$ has exactly $k$ edges","$G$ is $k$-regular"],correctIndex:1,difficulty:"medium",explanation:"A $k$-critical graph has $\\chi(G) = k$ but every proper subgraph has smaller chromatic number."},{id:4,type:"multiple-choice",question:"In a $k$-critical graph, every vertex has degree at least:",options:["$1$","$k - 1$","$k$","$2k - 2$"],correctIndex:1,difficulty:"medium",explanation:"In a $k$-critical graph, $\\delta(G) \\geq k-1$ (removing low-degree vertex reduces chromatic number)."},{id:5,type:"numeric",question:"How many edges does $T(6, 2)$ (Turn graph avoiding triangles) have?",correctAnswer:9,numericRange:{min:0,max:20,precision:0},difficulty:"hard",explanation:"$T(6,2) = K_{3,3}$ (complete bipartite with equal parts). Edges: $3 \\times 3 = 9$."},{id:6,type:"multiple-choice",question:"The degeneracy of a graph is:",options:["The minimum degree","The maximum $k$ such that every subgraph has a vertex of degree at most $k$","The chromatic number minus one","The connectivity"],correctIndex:1,difficulty:"hard",explanation:"Degeneracy $d$: every subgraph has a vertex of degree $\\leq d$. Implies $\\chi(G) \\leq d + 1$."}],MG=[{id:1,type:"multiple-choice",question:"The chromatic polynomial $P(G, k)$ counts:",options:["The number of edges using $k$ colors","The number of proper $k$-colorings","The chromatic number","The number of cliques of size $k$"],correctIndex:1,difficulty:"easy",explanation:"$P(G, k)$ = number of ways to properly color $G$ with at most $k$ colors."},{id:2,type:"multiple-choice",question:"The chromatic polynomial of $K_n$ is:",options:["$k^n$","$k(k-1)^{n-1}$","$k(k-1)(k-2)\\cdots(k-n+1)$","$(k-1)^n$"],correctIndex:2,difficulty:"easy",explanation:"For $K_n$: first vertex gets $k$ choices, second $k-1$, ..., giving $k(k-1)\\cdots(k-n+1)$."},{id:3,type:"multiple-choice",question:"The deletion-contraction formula for chromatic polynomials is:",options:["$P(G) = P(G-e) + P(G/e)$","$P(G) = P(G-e) - P(G/e)$","$P(G) = P(G-e) \\cdot P(G/e)$","$P(G) = P(G-e) / P(G/e)$"],correctIndex:1,difficulty:"medium",explanation:"For edge $e$: $P(G, k) = P(G-e, k) - P(G/e, k)$ (delete minus contract)."},{id:4,type:"multiple-choice",question:"A chordal graph is one where:",options:["Every vertex is in a triangle","Every cycle of length $\\geq 4$ has a chord","It has no triangles","It is planar"],correctIndex:1,difficulty:"medium",explanation:"Chordal = every cycle of length 4 or more has a chord (edge between non-consecutive vertices)."},{id:5,type:"numeric",question:"What is $P(C_4, 3)$ (3-colorings of the 4-cycle)?",correctAnswer:18,numericRange:{min:0,max:100,precision:0},difficulty:"hard",explanation:"$P(C_n, k) = (k-1)^n + (-1)^n(k-1)$. For $C_4$: $(3-1)^4 + (3-1) = 16 + 2 = 18$."},{id:6,type:"multiple-choice",question:"A graph is perfect if for every induced subgraph $H$:",options:["$\\chi(H) = \\Delta(H)$","$\\chi(H) = \\omega(H)$","$\\chi(H) = |V(H)|$","$H$ is bipartite"],correctIndex:1,difficulty:"hard",explanation:"Perfect: $\\chi(H) = \\omega(H)$ for every induced subgraph $H$."}],$G=[{id:1,type:"multiple-choice",question:"A planar graph is one that:",options:["Has at most 4 vertices","Can be drawn in the plane without edge crossings","Has no cycles","Is bipartite"],correctIndex:1,difficulty:"easy",explanation:"A planar graph admits a plane embedding (drawing with no edge crossings)."},{id:2,type:"multiple-choice",question:"Euler's Formula for connected plane graphs states:",options:["$n + m = f$","$n - m + f = 2$","$n + m + f = 2$","$n \\cdot m = f$"],correctIndex:1,difficulty:"easy",explanation:"Euler's Formula: $n - m + f = 2$ where $n$ = vertices, $m$ = edges, $f$ = faces."},{id:3,type:"numeric",question:"A connected plane graph has 6 vertices and 9 edges. How many faces?",correctAnswer:5,numericRange:{min:0,max:20,precision:0},difficulty:"medium",explanation:"By Euler: $f = 2 - n + m = 2 - 6 + 9 = 5$ faces."},{id:4,type:"multiple-choice",question:"The dual graph $G^*$ of a plane graph $G$ has:",options:["A vertex for each face of $G$ and edges crossing $G$'s edges","The same vertices as $G$","Complementary edges to $G$","Twice as many edges as $G$"],correctIndex:0,difficulty:"medium",explanation:"The dual has one vertex per face of $G$; two dual vertices are adjacent if the faces share an edge."},{id:5,type:"multiple-choice",question:"A simple planar graph with $n \\geq 3$ vertices has at most:",options:["$n$ edges","$2n - 4$ edges","$3n - 6$ edges","$n^2$ edges"],correctIndex:2,difficulty:"hard",explanation:"From Euler + each face bounded by $\\geq 3$ edges: $m \\leq 3n - 6$."},{id:6,type:"multiple-choice",question:"If $G$ is planar and triangle-free, then:",options:["$m \\leq n - 1$","$m \\leq 2n - 4$","$m \\leq 3n - 6$","$m \\leq 4n - 8$"],correctIndex:1,difficulty:"hard",explanation:"Triangle-free means each face has $\\geq 4$ edges, giving $m \\leq 2n - 4$."}],GG=[{id:1,type:"multiple-choice",question:"Kuratowski's Theorem states that $G$ is planar iff it has no:",options:["Cycles","Subdivision of $K_5$ or $K_{3,3}$","Cliques of size 4","Vertices of degree 5 or more"],correctIndex:1,difficulty:"easy",explanation:"Kuratowski: $G$ is planar $\\Leftrightarrow$ no subgraph is a subdivision of $K_5$ or $K_{3,3}$."},{id:2,type:"multiple-choice",question:"A subdivision of a graph $H$ is obtained by:",options:["Removing edges","Replacing edges with paths","Adding cliques","Contracting edges"],correctIndex:1,difficulty:"easy",explanation:"A subdivision replaces edges with internally disjoint paths (adds degree-2 vertices on edges)."},{id:3,type:"multiple-choice",question:"Wagner's Theorem characterizes planarity using:",options:["Subdivisions only","Minors (contractions and deletions)","Colorings","Matchings"],correctIndex:1,difficulty:"medium",explanation:"Wagner: $G$ is planar $\\Leftrightarrow$ no $K_5$ or $K_{3,3}$ minor."},{id:4,type:"multiple-choice",question:"$K_5$ is not planar because:",options:["It has too many vertices","It has $10 > 3(5) - 6 = 9$ edges","It is not connected","It has odd cycles"],correctIndex:1,difficulty:"medium",explanation:"$K_5$ has $\\binom{5}{2} = 10$ edges, but planar graphs on 5 vertices have at most $3(5)-6=9$."},{id:5,type:"multiple-choice",question:"$K_{3,3}$ is not planar because:",options:["It has too many vertices","It has $9 > 2(6) - 4 = 8$ edges and is triangle-free","It has a Hamiltonian cycle","It is bipartite"],correctIndex:1,difficulty:"hard",explanation:"$K_{3,3}$ is triangle-free with 9 edges, but triangle-free planar graphs on 6 vertices have $\\leq 2(6)-4=8$."},{id:6,type:"multiple-choice",question:"The Petersen graph is not planar because it contains:",options:["A subdivision of $K_5$","A $K_5$ minor","A subdivision of $K_{3,3}$","Both a $K_5$ minor and a $K_{3,3}$ subdivision"],correctIndex:3,difficulty:"hard",explanation:"The Petersen graph contains both a $K_5$ minor and a $K_{3,3}$ subdivision."}],zG=[{id:1,type:"multiple-choice",question:"The Four Color Theorem states that every planar graph is:",options:["2-colorable","3-colorable","4-colorable","5-colorable"],correctIndex:2,difficulty:"easy",explanation:"Every planar graph can be properly vertex-colored with at most 4 colors."},{id:2,type:"multiple-choice",question:"The crossing number $cr(G)$ is:",options:["The number of edges","The minimum crossings in any drawing","The chromatic number","The genus"],correctIndex:1,difficulty:"easy",explanation:"The crossing number is the minimum number of edge crossings over all drawings of $G$."},{id:3,type:"multiple-choice",question:"A graph is planar if and only if:",options:["$cr(G) = 0$","$cr(G) \\leq 1$","The genus is 0","Both $cr(G) = 0$ and genus is 0"],correctIndex:3,difficulty:"medium",explanation:"Planarity $\\Leftrightarrow$ zero crossing number $\\Leftrightarrow$ embeds on the sphere (genus 0)."},{id:4,type:"multiple-choice",question:"The thickness of $K_9$ (minimum planar graphs to decompose edges) is:",options:["1","2","3","4"],correctIndex:2,difficulty:"medium",explanation:"$K_9$ has 36 edges; planar graphs on 9 vertices have $\\leq 3(9)-6=21$ edges. So thickness $\\geq \\lceil 36/21 \\rceil = 2$. Actually, thickness of $K_9$ is 3."},{id:5,type:"numeric",question:"What is $cr(K_5)$ (crossing number of $K_5$)?",correctAnswer:1,numericRange:{min:0,max:10,precision:0},difficulty:"hard",explanation:"$K_5$ needs exactly 1 crossing; it has $10 - 9 = 1$ extra edge over the planar threshold."},{id:6,type:"multiple-choice",question:"An outerplanar graph is one that:",options:["Has a plane drawing with all vertices on the outer face","Has no $K_4$ subgraph","Is a tree","Has chromatic number 2"],correctIndex:0,difficulty:"hard",explanation:"Outerplanar: can be drawn with all vertices on the boundary of the unbounded face."}],IG=[{id:1,type:"multiple-choice",question:"The line graph $L(G)$ has:",options:["Vertices for each vertex of $G$","Vertices for each edge of $G$, adjacent when edges share a vertex","The same number of edges as $G$","Complementary edges to $G$"],correctIndex:1,difficulty:"easy",explanation:"$L(G)$ has edges of $G$ as vertices; two are adjacent if the original edges share an endpoint."},{id:2,type:"multiple-choice",question:"The chromatic index $\\chi'(G)$ is:",options:["The vertex chromatic number","The minimum colors for proper edge-coloring","The number of edges","The maximum degree"],correctIndex:1,difficulty:"easy",explanation:"$\\chi'(G)$ = minimum colors to color edges so no two edges sharing a vertex have the same color."},{id:3,type:"multiple-choice",question:"Vizing's Theorem states that $\\chi'(G)$ is either:",options:["$\\Delta$ or $\\Delta - 1$","$\\Delta$ or $\\Delta + 1$","$\\Delta$ exactly","$2\\Delta$"],correctIndex:1,difficulty:"medium",explanation:"Vizing: $\\Delta(G) \\leq \\chi'(G) \\leq \\Delta(G) + 1$ (Class 1 or Class 2 graphs)."},{id:4,type:"multiple-choice",question:"A graph $G$ is Class 1 if:",options:["$\\chi'(G) = \\Delta(G) - 1$","$\\chi'(G) = \\Delta(G)$","$\\chi'(G) = \\Delta(G) + 1$","$\\chi'(G) = 2$"],correctIndex:1,difficulty:"medium",explanation:"Class 1: $\\chi' = \\Delta$. Class 2: $\\chi' = \\Delta + 1$."},{id:5,type:"numeric",question:"What is $\\chi'(K_5)$?",correctAnswer:5,numericRange:{min:0,max:10,precision:0},difficulty:"hard",explanation:"$K_n$ has $\\chi' = n$ if $n$ odd (Class 2), $\\chi' = n-1$ if $n$ even (Class 1). So $\\chi'(K_5) = 5$."},{id:6,type:"multiple-choice",question:"For bipartite graphs, Knig's edge-coloring theorem states:",options:["$\\chi'(G) = \\chi(G)$","$\\chi'(G) = \\Delta(G)$","$\\chi'(G) = 2$","$\\chi'(G) = n$"],correctIndex:1,difficulty:"hard",explanation:"Every bipartite graph is Class 1: $\\chi' = \\Delta$."}],DG=[{id:1,type:"multiple-choice",question:"A Hamiltonian cycle visits:",options:["Every edge exactly once","Every vertex exactly once","Every face exactly once","Some vertices multiple times"],correctIndex:1,difficulty:"easy",explanation:"A Hamiltonian cycle visits every vertex exactly once and returns to the start."},{id:2,type:"multiple-choice",question:"Determining if a graph is Hamiltonian is:",options:["Solvable in polynomial time","NP-complete","Undecidable","Always yes for connected graphs"],correctIndex:1,difficulty:"easy",explanation:"The Hamiltonian cycle problem is NP-complete (no known polynomial algorithm)."},{id:3,type:"multiple-choice",question:"Dirac's Theorem: If $G$ has $n \\geq 3$ vertices and $\\delta(G) \\geq n/2$, then:",options:["$G$ is connected","$G$ is Hamiltonian","$G$ is bipartite","$G$ is planar"],correctIndex:1,difficulty:"medium",explanation:"Dirac: minimum degree at least $n/2$ guarantees a Hamiltonian cycle."},{id:4,type:"multiple-choice",question:"Ore's Theorem strengthens Dirac's by requiring:",options:["$d(u) + d(v) \\geq n$ for all non-adjacent pairs","$\\Delta(G) \\geq n/2$","The graph be regular","$\\delta(G) \\geq n/2$"],correctIndex:0,difficulty:"medium",explanation:"Ore: if $d(u) + d(v) \\geq n$ for all non-adjacent $u, v$, then $G$ is Hamiltonian."},{id:5,type:"multiple-choice",question:"A tournament (orientation of $K_n$) always has:",options:["A directed Hamiltonian cycle","A directed Hamiltonian path","No directed cycles","Equal in-degrees and out-degrees"],correctIndex:1,difficulty:"hard",explanation:"Every tournament has a directed Hamiltonian path (Rdei's theorem). Cycles require strong connectivity."},{id:6,type:"multiple-choice",question:"The hypercube $Q_n$ is:",options:["Never Hamiltonian","Hamiltonian for all $n \\geq 2$","Hamiltonian only for even $n$","Hamiltonian only for prime $n$"],correctIndex:1,difficulty:"hard",explanation:"The hypercube $Q_n$ is Hamiltonian for $n \\geq 2$ (Gray code gives a Hamiltonian cycle)."}],RG=[{id:1,type:"multiple-choice",question:"Tait's Theorem connects Hamiltonian cycles in planar graphs to:",options:["Vertex coloring","Proper 3-edge-coloring of cubic bridgeless planar graphs","Spanning trees","Perfect matchings"],correctIndex:1,difficulty:"easy",explanation:"Tait: a 3-connected cubic planar graph is Hamiltonian iff it's 3-edge-colorable."},{id:2,type:"multiple-choice",question:"The Grinberg condition is:",options:["Sufficient for Hamiltonicity","A necessary condition involving face sizes","Equivalent to planarity","Related to chromatic number"],correctIndex:1,difficulty:"easy",explanation:"Grinberg: if a plane graph has a Hamiltonian cycle, face sizes satisfy a specific equation."},{id:3,type:"multiple-choice",question:"A nowhere-zero $k$-flow assigns:",options:["Colors from $\\{1, \\ldots, k\\}$ to vertices","Non-zero values from a group to edges satisfying flow conservation","Orientations to edges","Weights to vertices"],correctIndex:1,difficulty:"medium",explanation:"A nowhere-zero flow assigns group elements (typically $\\mathbb{Z}_k$) to oriented edges with flow conservation."},{id:4,type:"multiple-choice",question:"Tutte's flow conjectures relate flows to:",options:["Matchings","Face colorings via duality","Spanning trees","Vertex connectivity"],correctIndex:1,difficulty:"medium",explanation:"Flows on planar graphs correspond to colorings of the dual; nowhere-zero $k$-flow dualizes to $k$-face-coloring."},{id:5,type:"multiple-choice",question:"The Four Color Theorem is equivalent to:",options:["Every planar graph has a nowhere-zero 4-flow","Every bridgeless planar graph has a nowhere-zero 4-flow","Every cubic planar graph has a Hamiltonian cycle","Every planar graph is 3-degenerate"],correctIndex:1,difficulty:"hard",explanation:"By flow-coloring duality, 4CT is equivalent to: bridgeless planar graphs have nowhere-zero 4-flows."},{id:6,type:"multiple-choice",question:"The 5-Flow Conjecture (Tutte) states:",options:["Every planar graph has a 5-flow","Every bridgeless graph has a nowhere-zero 5-flow","Every graph has chromatic number at most 5","Every 5-connected graph is Hamiltonian"],correctIndex:1,difficulty:"hard",explanation:"Tutte's 5-Flow Conjecture: every bridgeless graph has a nowhere-zero 5-flow. Still open!"}],OG=[{id:1,type:"multiple-choice",question:"A graph $G$ is perfect if for every induced subgraph $H$:",options:["$\\alpha(H) = \\omega(H)$","$\\chi(H) = \\omega(H)$","$\\chi(H) = \\Delta(H)$","$H$ is bipartite"],correctIndex:1,difficulty:"easy",explanation:"Perfect: chromatic number equals clique number for all induced subgraphs."},{id:2,type:"multiple-choice",question:"The Perfect Graph Theorem (Lovsz) states that $G$ is perfect iff:",options:["$G$ is bipartite","$\\overline{G}$ is perfect","$G$ is chordal","$G$ is planar"],correctIndex:1,difficulty:"easy",explanation:"Weak Perfect Graph Theorem: $G$ perfect $\\Leftrightarrow$ $\\overline{G}$ perfect."},{id:3,type:"multiple-choice",question:"The Strong Perfect Graph Theorem characterizes perfect graphs by forbidden:",options:["Cliques","Odd holes and odd anti-holes","Triangles","Bridges"],correctIndex:1,difficulty:"medium",explanation:"SPGT: $G$ is perfect iff it has no odd hole or odd anti-hole as induced subgraph."},{id:4,type:"multiple-choice",question:"Which class of graphs is NOT perfect?",options:["Bipartite graphs","Chordal graphs","Odd cycles $C_{2k+1}$ for $k \\geq 2$","Comparability graphs"],correctIndex:2,difficulty:"medium",explanation:"Odd cycles $C_5, C_7, \\ldots$ are odd holes, which are imperfect."},{id:5,type:"numeric",question:"For the 5-cycle $C_5$: $\\omega(C_5) = 2$. What is $\\chi(C_5)$?",correctAnswer:3,numericRange:{min:0,max:10,precision:0},difficulty:"hard",explanation:"$C_5$ is an odd cycle, so $\\chi(C_5) = 3 > 2 = \\omega(C_5)$. Not perfect."},{id:6,type:"multiple-choice",question:"Interval graphs (intersection graphs of intervals) are:",options:["Never perfect","Perfect because they are chordal","Perfect only if connected","Not necessarily chordal"],correctIndex:1,difficulty:"hard",explanation:"Interval graphs are chordal, and chordal graphs are perfect."}],qG=[{id:1,type:"multiple-choice",question:"A matroid is defined by a ground set $E$ and a collection $\\mathcal{I}$ of independent sets satisfying:",options:["Hereditary and exchange properties","Closure under union","All subsets are independent","Only singletons are independent"],correctIndex:0,difficulty:"easy",explanation:"Matroids: (I1) $\\emptyset \\in \\mathcal{I}$, (I2) hereditary: $I \\in \\mathcal{I}, J \\subseteq I \\Rightarrow J \\in \\mathcal{I}$, (I3) exchange axiom."},{id:2,type:"multiple-choice",question:"In the graphic matroid of graph $G$:",options:["Independent sets are matchings","Independent sets are forests (acyclic edge sets)","Independent sets are vertex covers","Independent sets are cliques"],correctIndex:1,difficulty:"easy",explanation:"Graphic matroid: ground set is edges, independent sets are forests (edge sets with no cycles)."},{id:3,type:"multiple-choice",question:"The rank of a set $S$ in a matroid is:",options:["The number of elements in $S$","The size of the largest independent subset of $S$","The number of bases containing $S$","The chromatic number"],correctIndex:1,difficulty:"medium",explanation:"Rank $r(S)$ = maximum size of an independent set contained in $S$."},{id:4,type:"multiple-choice",question:"The dual matroid $M^*$ has the same ground set but:",options:["Complementary bases","Same independent sets","Reversed rank function","No bases"],correctIndex:0,difficulty:"medium",explanation:"In $M^*$, bases are complements of bases in $M$: $B^* = E \\setminus B$ where $B$ is a basis of $M$."},{id:5,type:"multiple-choice",question:"The greedy algorithm solves maximum weight independent set problems for:",options:["All graphs","Only bipartite graphs","Matroids","Only trees"],correctIndex:2,difficulty:"hard",explanation:"Matroids are precisely the structures where greedy gives optimal weighted independent sets."},{id:6,type:"multiple-choice",question:"The dual of a graphic matroid (cycles in $G$) is:",options:["Another graphic matroid","The cographic matroid (bonds/cuts in $G$)","Not a matroid","The same matroid"],correctIndex:1,difficulty:"hard",explanation:"Dual of graphic matroid is cographic: independent sets are edge sets not containing cuts."}],LG=[{id:1,type:"multiple-choice",question:"The Ramsey number $R(s,t)$ is the minimum $n$ such that every 2-coloring of $K_n$ contains:",options:["A monochromatic spanning tree","A red $K_s$ or blue $K_t$","A rainbow triangle","A monochromatic Hamiltonian path"],correctIndex:1,difficulty:"easy",explanation:"$R(s,t)$: any red-blue edge-coloring of $K_n$ has red $K_s$ or blue $K_t$."},{id:2,type:"numeric",question:'What is $R(3,3)$ (the "party problem" Ramsey number)?',correctAnswer:6,numericRange:{min:0,max:20,precision:0},difficulty:"easy",explanation:"$R(3,3) = 6$: any 2-coloring of $K_6$ has a monochromatic triangle."},{id:3,type:"multiple-choice",question:"The probabilistic method proof that $R(s,s) > 2^{s/2}$ uses:",options:["Induction on $s$","Random 2-coloring and expected monochromatic cliques","Explicit construction","The Lovsz Local Lemma"],correctIndex:1,difficulty:"medium",explanation:"Erds: randomly color edges; expected number of monochromatic $K_s$ is $< 1$ when $n < 2^{s/2}$."},{id:4,type:"multiple-choice",question:"The recurrence $R(s,t) \\leq R(s-1,t) + R(s,t-1)$ proves:",options:["$R(s,t)$ is always finite","$R(s,t) \\leq \\binom{s+t-2}{s-1}$","$R(s,t) = st$","Both that $R(s,t)$ is finite and the binomial bound"],correctIndex:3,difficulty:"medium",explanation:"This recurrence proves existence of $R(s,t)$ and gives upper bound $\\binom{s+t-2}{s-1}$."},{id:5,type:"numeric",question:"What is $R(3,4)$?",correctAnswer:9,numericRange:{min:0,max:20,precision:0},difficulty:"hard",explanation:"$R(3,4) = 9$: any 2-coloring of $K_9$ has red $K_3$ or blue $K_4$."},{id:6,type:"multiple-choice",question:"For $R(5,5)$, we currently know:",options:["$R(5,5) = 43$","$R(5,5) = 48$","$43 \\leq R(5,5) \\leq 48$ (exact value unknown)","$R(5,5) > 100$"],correctIndex:2,difficulty:"hard",explanation:"$R(5,5)$ is between 43 and 48; the exact value remains unknown despite decades of research."}],PG=[{id:1,type:"multiple-choice",question:"The Erds-Stone theorem determines the asymptotic extremal number for:",options:["All graphs","Non-bipartite graphs","Only complete graphs","Only cycles"],correctIndex:1,difficulty:"easy",explanation:"Erds-Stone: $ex(n, H) = (1 - 1/(\\chi(H)-1) + o(1))\\binom{n}{2}$ for $\\chi(H) \\geq 2$."},{id:2,type:"multiple-choice",question:"The Wiener index of a connected graph is:",options:["The number of edges","The sum of all pairwise distances","The diameter","The chromatic number"],correctIndex:1,difficulty:"easy",explanation:"Wiener index $W(G) = \\sum_{\\{u,v\\}} d(u,v)$ over all vertex pairs."},{id:3,type:"multiple-choice",question:"Among $n$-vertex trees, the Wiener index is minimized by:",options:["The path $P_n$","The star $K_{1,n-1}$","A random tree","The binary tree"],correctIndex:1,difficulty:"medium",explanation:"Star minimizes Wiener index (center at distance 1 from all others)."},{id:4,type:"multiple-choice",question:"The list chromatic number $ch(G)$ satisfies:",options:["$ch(G) = \\chi(G)$ always","$ch(G) \\geq \\chi(G)$ always","$ch(G) \\leq \\chi(G)$ always","$ch(G) = \\Delta(G)$"],correctIndex:1,difficulty:"medium",explanation:"List coloring is at least as hard as ordinary coloring: $ch(G) \\geq \\chi(G)$."},{id:5,type:"multiple-choice",question:"The circumference $c(G)$ of a graph is:",options:["The number of cycles","The length of the longest cycle","The girth","The diameter"],correctIndex:1,difficulty:"hard",explanation:"Circumference is the maximum cycle length (0 if acyclic)."},{id:6,type:"multiple-choice",question:"For $K_{n,n}$, the list chromatic number is:",options:["$2$","$n$","$(1+o(1))\\log_2 n$","$n^2$"],correctIndex:2,difficulty:"hard",explanation:"$ch(K_{n,n}) \\approx \\log_2 n$, much larger than $\\chi(K_{n,n}) = 2$."}],BG=[{id:1,type:"multiple-choice",question:"In the Erds-Rnyi model $G(n,p)$, each edge appears:",options:["With probability $1/n$","Independently with probability $p$","Deterministically","With probability $p^2$"],correctIndex:1,difficulty:"easy",explanation:"$G(n,p)$: each of the $\\binom{n}{2}$ possible edges appears independently with probability $p$."},{id:2,type:"multiple-choice",question:"The expected number of edges in $G(n,p)$ is:",options:["$np$","$p\\binom{n}{2}$","$n^2p$","$2np$"],correctIndex:1,difficulty:"easy",explanation:"Each of $\\binom{n}{2}$ edges appears with probability $p$, so $E[|E|] = p\\binom{n}{2}$."},{id:3,type:"multiple-choice",question:"The threshold function for connectivity in $G(n,p)$ is:",options:["$p = 1/n^2$","$p = 1/n$","$p = \\log n / n$","$p = 1/2$"],correctIndex:2,difficulty:"medium",explanation:"Connectivity threshold: $p = (\\log n)/n$. Below this, a.s. disconnected; above, a.s. connected."},{id:4,type:"multiple-choice",question:'The "giant component" phase transition occurs at:',options:["$p = 1/n^2$","$p = 1/n$","$p = \\log n / n$","$p = 1/2$"],correctIndex:1,difficulty:"medium",explanation:"At $p = c/n$: for $c < 1$, all components small; for $c > 1$, unique giant component emerges."},{id:5,type:"multiple-choice",question:"The chromatic number of $G(n, 1/2)$ is typically:",options:["$O(1)$","$O(\\log n)$","$\\Theta(n / \\log n)$","$\\Theta(n)$"],correctIndex:2,difficulty:"hard",explanation:"$\\chi(G(n,1/2)) \\approx n/(2\\log_2 n)$ almost surely."},{id:6,type:"multiple-choice",question:"The probabilistic method pioneered by Erds can prove:",options:["Only upper bounds on parameters","Existence of structures without explicit construction","Algorithm correctness","Only lower bounds on Ramsey numbers"],correctIndex:1,difficulty:"hard",explanation:"Probabilistic method: show random objects have desired property with positive probability, proving existence."}],HG=[{id:1,type:"multiple-choice",question:"The spectrum of a graph $G$ is:",options:["Its degree sequence","The multiset of eigenvalues of its adjacency matrix","The chromatic number","The set of cycle lengths"],correctIndex:1,difficulty:"easy",explanation:"Spectrum = eigenvalues of the adjacency matrix $A(G)$, listed with multiplicities."},{id:2,type:"multiple-choice",question:"The Laplacian matrix of $G$ is:",options:["$A(G)$","$D(G) - A(G)$ where $D$ is the degree matrix","$A(G)^2$","The incidence matrix"],correctIndex:1,difficulty:"easy",explanation:"Laplacian $L = D - A$ where $D_{ii} = d(v_i)$ and $A$ is the adjacency matrix."},{id:3,type:"multiple-choice",question:"The smallest eigenvalue of the Laplacian is always:",options:["1","0","$-1$","$n$"],correctIndex:1,difficulty:"medium",explanation:"The all-ones vector $(1,\\ldots,1)^T$ is always a Laplacian eigenvector with eigenvalue 0."},{id:4,type:"multiple-choice",question:"The algebraic connectivity $a(G) = \\mu_2$ is:",options:["The largest eigenvalue","The second-smallest Laplacian eigenvalue","The determinant","The trace"],correctIndex:1,difficulty:"medium",explanation:"Algebraic connectivity = second-smallest Laplacian eigenvalue. $a(G) > 0$ iff $G$ connected."},{id:5,type:"multiple-choice",question:"A strongly regular graph with parameters $(n,k,\\lambda,\\mu)$ has:",options:["Exactly 2 distinct eigenvalues","Exactly 3 distinct eigenvalues","$n$ distinct eigenvalues","All equal eigenvalues"],correctIndex:1,difficulty:"hard",explanation:"Strongly regular graphs have exactly 3 distinct adjacency eigenvalues: $k$, $r$, and $s$."},{id:6,type:"multiple-choice",question:"The Hoffman bound uses eigenvalues to bound:",options:["The diameter","The independence number","The number of edges","The girth"],correctIndex:1,difficulty:"hard",explanation:"Hoffman: $\\alpha(G) \\leq n \\cdot (-\\lambda_n)/(\\lambda_1 - \\lambda_n)$ using extreme eigenvalues."}],UG={1:xG,2:gG,3:vG,4:jG,5:yG,6:bG,7:wG,8:kG,9:TG,10:SG,11:NG,12:AG,13:_G,14:EG,15:CG,16:MG,17:$G,18:GG,19:zG,20:IG,21:DG,22:RG,23:OG,24:qG,25:LG,26:PG,27:BG,28:HG};function Yf(s){return UG[s]??null}function st({sectionId:s,children:t}){const n=z5(s),r=I5(s),{prev:i,next:l}=uG(s),o=D5(),c=fG(s),u=Pa();D.useEffect(()=>{u&&u.visitSection(s)},[s,u]);const p=(u==null?void 0:u.state.user.sectionsCompleted.includes(iG(s)))??!1;if(!n||!r)return e.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:e.jsx("p",{className:"text-dark-400",children:"Section not found"})});const g=(c+1)/o*100,v=Yf(s)&&Yf(s).length>0;return e.jsxs("div",{className:"min-h-screen relative",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-primary-500/[0.02] rounded-full blur-[150px] -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-cyan-500/[0.02] rounded-full blur-[120px] translate-y-1/2 -translate-x-1/2"})]}),e.jsx("div",{className:"sticky top-16 z-30 h-1 bg-dark-900/80 backdrop-blur",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-primary-600 via-primary-500 to-cyan-400 transition-all duration-500 ease-out",style:{width:`${g}%`}})}),e.jsx("div",{className:"relative py-4 px-6 border-b border-dark-800/50 bg-dark-950/50 backdrop-blur-sm",children:e.jsxs("nav",{className:"max-w-4xl mx-auto flex items-center gap-2 text-sm",children:[e.jsxs(ts,{to:"/",className:"text-dark-500 hover:text-dark-300 transition-colors flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),e.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.jsxs("span",{className:"text-dark-500",children:["Part ",r.id]}),e.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.jsxs("span",{className:"text-dark-300 font-medium",children:["S",n.id]})]})}),e.jsxs("article",{className:"relative max-w-4xl mx-auto px-6 py-12",children:[e.jsxs("header",{className:"mb-14",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[e.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 text-sm font-semibold bg-gradient-to-r from-primary-500/20 to-primary-600/10 text-primary-400 rounded-full border border-primary-500/20",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-primary-400"}),"Section ",n.id]}),e.jsxs("span",{className:"text-dark-500 text-sm",children:["Part ",r.id,": ",r.title]})]}),e.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:e.jsx("span",{className:"text-gradient",children:n.title})}),e.jsx("p",{className:"text-xl text-dark-400 leading-relaxed max-w-3xl",children:n.description}),e.jsxs("div",{className:"mt-10 flex items-center gap-4",children:[e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-500/50"}),e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-500/30"}),e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-primary-500/10"})]}),e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"})]})]}),e.jsx("div",{className:"prose prose-invert prose-lg max-w-none space-y-6",children:t})]}),e.jsxs("nav",{className:"relative max-w-4xl mx-auto px-6 py-12 border-t border-dark-800/50",children:[v&&e.jsx("div",{className:"mb-6",children:e.jsxs(ts,{to:`/quiz/section/${s}`,className:"group flex items-center justify-center gap-3 p-5 rounded-2xl bg-gradient-to-r from-amber-600/20 to-amber-500/10 border border-amber-500/20 text-amber-400 hover:from-amber-600/30 hover:to-amber-500/20 transition-all duration-300",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),e.jsx("span",{className:"font-semibold",children:"Take Section Quiz"}),e.jsx("span",{className:"text-amber-300/70 text-sm",children:"Test your knowledge"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i?e.jsxs(ts,{to:`/section/${i.id}`,className:"group flex items-center gap-4 p-5 rounded-2xl bg-dark-900/40 backdrop-blur border border-dark-700/40 hover:bg-dark-800/50 hover:border-dark-600/50 transition-all duration-300",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-dark-800/60 group-hover:bg-primary-500/20 transition-all duration-300",children:e.jsx("svg",{className:"w-5 h-5 text-dark-400 group-hover:text-primary-400 group-hover:-translate-x-0.5 transition-all duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-dark-500 mb-1",children:"Previous"}),e.jsx("p",{className:"text-dark-200 group-hover:text-primary-400 transition-colors font-medium truncate",children:i.title})]})]}):e.jsx("div",{}),l?e.jsxs(ts,{to:`/section/${l.id}`,className:"group flex items-center gap-4 p-5 rounded-2xl bg-dark-900/40 backdrop-blur border border-dark-700/40 hover:bg-dark-800/50 hover:border-dark-600/50 transition-all duration-300 md:flex-row-reverse md:text-right",children:[e.jsx("div",{className:"flex items-center justify-center w-12 h-12 rounded-xl bg-dark-800/60 group-hover:bg-primary-500/20 transition-all duration-300",children:e.jsx("svg",{className:"w-5 h-5 text-dark-400 group-hover:text-primary-400 group-hover:translate-x-0.5 transition-all duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-semibold uppercase tracking-wider text-dark-500 mb-1",children:"Next"}),e.jsx("p",{className:"text-dark-200 group-hover:text-primary-400 transition-colors font-medium truncate",children:l.title})]})]}):e.jsxs("div",{className:"flex flex-col gap-3",children:[!p&&e.jsxs("button",{onClick:()=>u==null?void 0:u.completeSection(s),className:"group flex items-center justify-center gap-3 p-5 rounded-2xl bg-gradient-to-r from-emerald-600 to-emerald-500 text-white font-semibold shadow-lg shadow-emerald-500/20 hover:shadow-xl hover:shadow-emerald-500/30 hover:scale-[1.02] transition-all duration-300",children:[e.jsx("span",{children:"Mark Complete"}),e.jsx("span",{className:"text-emerald-200 text-sm",children:"+25 XP"})]}),e.jsxs(ts,{to:"/",className:`group flex items-center justify-center gap-3 p-5 rounded-2xl font-semibold transition-all duration-300 ${p?"bg-gradient-to-r from-primary-600 to-primary-500 text-white shadow-lg shadow-primary-500/20 hover:shadow-xl hover:shadow-primary-500/30 hover:scale-[1.02]":"bg-dark-800/60 text-dark-300 hover:bg-dark-700/60"}`,children:[e.jsx("span",{children:p?"Course Complete!":"Return Home"}),e.jsx("svg",{className:"w-5 h-5 group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:p?"M5 13l4 4L19 7":"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})]})]})]})]})]})}function a({children:s,math:t,className:n=""}){const r=D.useRef(null),i=t??s??"";return D.useEffect(()=>{r.current&&i&&Yv.render(i,r.current,{throwOnError:!1,displayMode:!1})},[i]),e.jsx("span",{ref:r,className:`inline-block ${n}`})}function we({children:s,math:t,inline:n,display:r,className:i=""}){const l=D.useRef(null),o=t??s??"",c=n===!0||r===!1;return D.useEffect(()=>{l.current&&o&&Yv.render(o,l.current,{throwOnError:!1,displayMode:!c})},[o,c]),c?e.jsx("span",{ref:l,className:`inline-block ${i}`}):e.jsx("div",{ref:l,className:`my-6 text-center text-lg overflow-x-auto ${i}`})}const ou=[{id:"def-graph",title:"Graph",statement:"A graph $G$ is a triple $(V(G), E(G), \\psi_G)$ where $V(G)$ is a set of vertices, $E(G)$ is a set of edges, and $\\psi_G$ associates each edge with an unordered pair of vertices. A simple graph has no loops or multiple edges.",sectionId:1,category:"Fundamental Concepts",type:"definition"},{id:"def-isomorphism",title:"Graph Isomorphism",statement:"Two graphs $G$ and $H$ are isomorphic ($G \\cong H$) if there exists a bijection $f: V(G) \\to V(H)$ such that $uv \\in E(G)$ if and only if $f(u)f(v) \\in E(H)$.",sectionId:1,category:"Fundamental Concepts",type:"definition"},{id:"thm-eulerian-circuit",title:"Eulerian Circuit Characterization",statement:"A connected graph $G$ has an Eulerian circuit if and only if every vertex of $G$ has even degree.",sectionId:2,category:"Fundamental Concepts",type:"theorem",hasProof:!0},{id:"thm-eulerian-trail",title:"Eulerian Trail Characterization",statement:"A connected graph $G$ has an Eulerian trail if and only if $G$ has exactly 0 or 2 vertices of odd degree.",sectionId:2,category:"Fundamental Concepts",type:"theorem",hasProof:!0},{id:"thm-handshaking",title:"Handshaking Lemma",statement:"For any graph $G$, $\\sum_{v \\in V(G)} d(v) = 2|E(G)|$.",sectionId:3,category:"Fundamental Concepts",type:"theorem",hasProof:!0,proof:"Each edge contributes exactly 2 to the sum of degrees (one for each endpoint)."},{id:"cor-odd-degree",title:"Odd Degree Corollary",statement:"Every graph has an even number of vertices with odd degree.",sectionId:3,category:"Fundamental Concepts",type:"corollary",hasProof:!0},{id:"thm-erdos-gallai",title:"Erds-Gallai Theorem",statement:"A non-increasing sequence $(d_1, \\ldots, d_n)$ of non-negative integers is graphic if and only if $\\sum d_i$ is even and for each $k \\in [n]$: $\\sum_{i=1}^k d_i \\leq k(k-1) + \\sum_{i=k+1}^n \\min(d_i, k)$.",sectionId:3,category:"Fundamental Concepts",type:"theorem"},{id:"thm-redei",title:"Rdei's Theorem",statement:"Every tournament has a directed Hamiltonian path.",sectionId:4,category:"Fundamental Concepts",type:"theorem",hasProof:!0},{id:"def-tree",title:"Tree",statement:"A tree is a connected acyclic graph. A forest is an acyclic graph (disjoint union of trees).",sectionId:5,category:"Trees and Distance",type:"definition"},{id:"thm-tree-characterization",title:"Tree Characterization Theorem",statement:"For a graph $G$ with $n$ vertices, the following are equivalent: (1) $G$ is a tree, (2) $G$ is connected with $n-1$ edges, (3) $G$ is acyclic with $n-1$ edges, (4) there is exactly one path between every pair of vertices, (5) $G$ is connected and every edge is a bridge.",sectionId:5,category:"Trees and Distance",type:"theorem",hasProof:!0},{id:"thm-tree-leaves",title:"Tree Leaves Theorem",statement:"Every tree with at least two vertices has at least two leaves (vertices of degree 1).",sectionId:5,category:"Trees and Distance",type:"theorem",hasProof:!0},{id:"thm-cayley",title:"Cayley's Formula",statement:"The number of labeled trees on $n$ vertices is $n^{n-2}$.",sectionId:6,category:"Trees and Distance",type:"theorem",hasProof:!0},{id:"thm-matrix-tree",title:"Matrix Tree Theorem",statement:"The number of spanning trees of a graph $G$ equals any cofactor of its Laplacian matrix $L = D - A$.",sectionId:6,category:"Trees and Distance",type:"theorem"},{id:"thm-kruskal",title:"Kruskal's Algorithm",statement:"Adding edges in order of non-decreasing weight while avoiding cycles produces a minimum spanning tree.",sectionId:7,category:"Trees and Distance",type:"theorem",hasProof:!0},{id:"def-matching",title:"Matching",statement:"A matching $M$ in graph $G$ is a set of pairwise non-adjacent edges (no two share a vertex). A perfect matching saturates every vertex.",sectionId:8,category:"Matchings and Factors",type:"definition"},{id:"thm-hall",title:"Hall's Marriage Theorem",statement:"A bipartite graph $G$ with bipartition $(X, Y)$ has a matching saturating $X$ if and only if $|N(S)| \\geq |S|$ for all $S \\subseteq X$.",sectionId:8,category:"Matchings and Factors",type:"theorem",hasProof:!0},{id:"thm-konig-egervary",title:"Knig-Egervry Theorem",statement:"In a bipartite graph, the maximum size of a matching equals the minimum size of a vertex cover.",sectionId:8,category:"Matchings and Factors",type:"theorem",hasProof:!0},{id:"thm-berge",title:"Berge's Theorem",statement:"A matching $M$ is maximum if and only if there is no $M$-augmenting path.",sectionId:9,category:"Matchings and Factors",type:"theorem",hasProof:!0},{id:"thm-tutte",title:"Tutte's Theorem",statement:"A graph $G$ has a perfect matching if and only if $o(G - S) \\leq |S|$ for all $S \\subseteq V(G)$, where $o(H)$ denotes the number of odd components of $H$.",sectionId:10,category:"Matchings and Factors",type:"theorem",hasProof:!0},{id:"thm-petersen-matching",title:"Petersen's Theorem",statement:"Every bridgeless cubic graph has a perfect matching.",sectionId:10,category:"Matchings and Factors",type:"theorem",hasProof:!0},{id:"def-connectivity",title:"Vertex and Edge Connectivity",statement:"The vertex connectivity $\\kappa(G)$ is the minimum size of a vertex cut (or $n-1$ if $G = K_n$). The edge connectivity $\\kappa'(G)$ is the minimum size of an edge cut.",sectionId:11,category:"Connectivity and Paths",type:"definition"},{id:"thm-whitney-inequality",title:"Whitney's Inequality",statement:"For any graph $G$: $\\kappa(G) \\leq \\kappa'(G) \\leq \\delta(G)$.",sectionId:11,category:"Connectivity and Paths",type:"theorem",hasProof:!0},{id:"thm-menger-vertex",title:"Menger's Theorem (Vertex Version)",statement:"The maximum number of internally disjoint $u$-$v$ paths equals the minimum size of a $u$-$v$ separating set.",sectionId:12,category:"Connectivity and Paths",type:"theorem",hasProof:!0},{id:"thm-menger-edge",title:"Menger's Theorem (Edge Version)",statement:"The maximum number of edge-disjoint $u$-$v$ paths equals the minimum size of an edge cut separating $u$ and $v$.",sectionId:12,category:"Connectivity and Paths",type:"theorem",hasProof:!0},{id:"thm-whitney-2connected",title:"Whitney's 2-Connectivity Theorem",statement:"A graph $G$ with at least 3 vertices is 2-connected if and only if every pair of edges lies on a common cycle.",sectionId:12,category:"Connectivity and Paths",type:"theorem",hasProof:!0},{id:"thm-max-flow-min-cut",title:"Max-Flow Min-Cut Theorem",statement:"In a network, the maximum value of a flow equals the minimum capacity of a cut separating source from sink.",sectionId:13,category:"Connectivity and Paths",type:"theorem",hasProof:!0},{id:"def-chromatic-number",title:"Chromatic Number",statement:"The chromatic number $\\chi(G)$ is the minimum number of colors needed to properly color the vertices of $G$ (adjacent vertices get different colors).",sectionId:14,category:"Coloring of Graphs",type:"definition"},{id:"thm-greedy-coloring",title:"Greedy Coloring Bound",statement:"Every graph $G$ satisfies $\\chi(G) \\leq \\Delta(G) + 1$.",sectionId:14,category:"Coloring of Graphs",type:"theorem",hasProof:!0},{id:"thm-brooks",title:"Brooks' Theorem",statement:"For a connected graph $G$ that is neither complete nor an odd cycle, $\\chi(G) \\leq \\Delta(G)$.",sectionId:14,category:"Coloring of Graphs",type:"theorem",hasProof:!0},{id:"thm-turan",title:"Turn's Theorem",statement:"The maximum number of edges in an $n$-vertex graph with no $(r+1)$-clique is achieved by the Turn graph $T(n,r)$, which is complete $r$-partite with parts as equal as possible.",sectionId:15,category:"Coloring of Graphs",type:"theorem",hasProof:!0},{id:"thm-chromatic-polynomial",title:"Chromatic Polynomial Properties",statement:"For any graph $G$ with $n$ vertices and $m$ edges: $P(G, k) = k^n - mk^{n-1} + \\ldots$ is a polynomial. For edge $e$: $P(G, k) = P(G-e, k) - P(G/e, k)$.",sectionId:16,category:"Coloring of Graphs",type:"theorem"},{id:"def-planar",title:"Planar Graph",statement:"A graph is planar if it can be drawn in the plane with no edge crossings. Such a drawing is called a plane embedding.",sectionId:17,category:"Planar Graphs",type:"definition"},{id:"thm-euler-formula",title:"Euler's Formula",statement:"For a connected plane graph with $n$ vertices, $m$ edges, and $f$ faces: $n - m + f = 2$.",sectionId:17,category:"Planar Graphs",type:"theorem",hasProof:!0},{id:"cor-planar-edges",title:"Planar Edge Bound",statement:"A simple planar graph with $n \\geq 3$ vertices has at most $3n - 6$ edges. If triangle-free, at most $2n - 4$ edges.",sectionId:17,category:"Planar Graphs",type:"corollary",hasProof:!0},{id:"thm-kuratowski",title:"Kuratowski's Theorem",statement:"A graph is planar if and only if it contains no subdivision of $K_5$ or $K_{3,3}$.",sectionId:18,category:"Planar Graphs",type:"theorem",hasProof:!0},{id:"thm-wagner",title:"Wagner's Theorem",statement:"A graph is planar if and only if it has no $K_5$ minor and no $K_{3,3}$ minor.",sectionId:18,category:"Planar Graphs",type:"theorem"},{id:"thm-four-color",title:"Four Color Theorem",statement:"Every planar graph is 4-colorable.",sectionId:19,category:"Planar Graphs",type:"theorem",hasProof:!0},{id:"thm-five-color",title:"Five Color Theorem",statement:"Every planar graph is 5-colorable.",sectionId:19,category:"Planar Graphs",type:"theorem",hasProof:!0},{id:"def-chromatic-index",title:"Chromatic Index",statement:"The chromatic index $\\chi'(G)$ is the minimum number of colors needed to properly edge-color $G$ (adjacent edges get different colors).",sectionId:20,category:"Edges and Cycles",type:"definition"},{id:"thm-vizing",title:"Vizing's Theorem",statement:"For any simple graph $G$: $\\Delta(G) \\leq \\chi'(G) \\leq \\Delta(G) + 1$.",sectionId:20,category:"Edges and Cycles",type:"theorem",hasProof:!0},{id:"thm-konig-edge-coloring",title:"Knig's Edge-Coloring Theorem",statement:"For bipartite graphs: $\\chi'(G) = \\Delta(G)$.",sectionId:20,category:"Edges and Cycles",type:"theorem",hasProof:!0},{id:"def-hamiltonian",title:"Hamiltonian Cycle",statement:"A Hamiltonian cycle is a cycle that visits every vertex exactly once. A graph with such a cycle is called Hamiltonian.",sectionId:21,category:"Edges and Cycles",type:"definition"},{id:"thm-dirac",title:"Dirac's Theorem",statement:"If $G$ has $n \\geq 3$ vertices and $\\delta(G) \\geq n/2$, then $G$ is Hamiltonian.",sectionId:21,category:"Edges and Cycles",type:"theorem",hasProof:!0},{id:"thm-ore",title:"Ore's Theorem",statement:"If $G$ has $n \\geq 3$ vertices and $d(u) + d(v) \\geq n$ for all non-adjacent pairs $u, v$, then $G$ is Hamiltonian.",sectionId:21,category:"Edges and Cycles",type:"theorem",hasProof:!0},{id:"thm-grinberg",title:"Grinberg's Theorem",statement:"If a plane graph has a Hamiltonian cycle, then $\\sum_{k \\geq 3} (k-2)(f_k' - f_k'') = 0$, where $f_k'$ and $f_k''$ are the numbers of $k$-faces inside and outside the cycle.",sectionId:22,category:"Edges and Cycles",type:"theorem"},{id:"def-perfect-graph",title:"Perfect Graph",statement:"A graph $G$ is perfect if $\\chi(H) = \\omega(H)$ for every induced subgraph $H$ of $G$.",sectionId:23,category:"Additional Topics",type:"definition"},{id:"thm-weak-perfect",title:"Weak Perfect Graph Theorem",statement:"A graph $G$ is perfect if and only if its complement $\\overline{G}$ is perfect.",sectionId:23,category:"Additional Topics",type:"theorem",hasProof:!0},{id:"thm-strong-perfect",title:"Strong Perfect Graph Theorem",statement:"A graph is perfect if and only if it contains no odd hole and no odd antihole as an induced subgraph.",sectionId:23,category:"Additional Topics",type:"theorem"},{id:"def-matroid",title:"Matroid",statement:"A matroid $M = (E, \\mathcal{I})$ consists of a ground set $E$ and a collection $\\mathcal{I}$ of independent sets satisfying: (1) $\\emptyset \\in \\mathcal{I}$, (2) if $I \\in \\mathcal{I}$ and $J \\subseteq I$, then $J \\in \\mathcal{I}$, (3) if $I, J \\in \\mathcal{I}$ with $|I| < |J|$, then $\\exists e \\in J \\setminus I$ with $I \\cup \\{e\\} \\in \\mathcal{I}$.",sectionId:24,category:"Additional Topics",type:"definition"},{id:"thm-matroid-greedy",title:"Matroid Greedy Algorithm",statement:"A set system $(E, \\mathcal{I})$ is a matroid if and only if the greedy algorithm finds a maximum-weight independent set for all weight functions.",sectionId:24,category:"Additional Topics",type:"theorem",hasProof:!0},{id:"thm-ramsey",title:"Ramsey's Theorem",statement:"For all positive integers $s, t$, there exists a minimum $R(s,t)$ such that every red-blue edge-coloring of $K_n$ with $n \\geq R(s,t)$ contains a red $K_s$ or a blue $K_t$.",sectionId:25,category:"Additional Topics",type:"theorem",hasProof:!0},{id:"thm-ramsey-bounds",title:"Ramsey Number Bounds",statement:"$R(s,t) \\leq \\binom{s+t-2}{s-1}$. In particular, $R(s,s) \\leq 4^s$ and $R(s,s) > 2^{s/2}$ (Erds probabilistic lower bound).",sectionId:25,category:"Additional Topics",type:"theorem",hasProof:!0},{id:"thm-erdos-stone",title:"Erds-Stone Theorem",statement:"For any graph $H$ with $\\chi(H) = r \\geq 2$: $ex(n, H) = \\left(1 - \\frac{1}{r-1} + o(1)\\right)\\binom{n}{2}$.",sectionId:26,category:"Additional Topics",type:"theorem"},{id:"thm-giant-component",title:"Giant Component Phase Transition",statement:"In $G(n, c/n)$: if $c < 1$, all components have $O(\\log n)$ vertices a.s. If $c > 1$, there is a unique giant component with $\\Theta(n)$ vertices a.s.",sectionId:27,category:"Additional Topics",type:"theorem"},{id:"thm-connectivity-threshold",title:"Connectivity Threshold",statement:"The threshold for $G(n,p)$ to be connected is $p = \\frac{\\log n}{n}$.",sectionId:27,category:"Additional Topics",type:"theorem"},{id:"def-spectrum",title:"Spectrum of a Graph",statement:"The spectrum of $G$ is the multiset of eigenvalues of its adjacency matrix $A(G)$, usually listed as $\\lambda_1 \\geq \\lambda_2 \\geq \\cdots \\geq \\lambda_n$.",sectionId:28,category:"Additional Topics",type:"definition"},{id:"thm-spectral-bounds",title:"Spectral Bounds",statement:"$\\bar{d} \\leq \\lambda_1 \\leq \\Delta$, where $\\bar{d}$ is average degree. Also: $\\chi(G) \\leq 1 + \\lambda_1$ and $\\alpha(G) \\leq \\frac{n(-\\lambda_n)}{\\lambda_1 - \\lambda_n}$ (Hoffman bound).",sectionId:28,category:"Additional Topics",type:"theorem"},{id:"thm-algebraic-connectivity",title:"Algebraic Connectivity",statement:"The second-smallest Laplacian eigenvalue $\\mu_2 = a(G)$ satisfies: $a(G) > 0$ iff $G$ is connected, and $a(G) \\leq \\kappa(G) \\leq \\kappa'(G)$.",sectionId:28,category:"Additional Topics",type:"theorem"}];function FG(){return[...new Set(ou.map(s=>s.category).filter(s=>!!s))]}function VG(s){const t=s.toLowerCase();return ou.filter(n=>n.title.toLowerCase().includes(t)||n.statement.toLowerCase().includes(t))}function KG(){const[s,t]=D.useState(!1),[n,r]=D.useState(""),[i,l]=D.useState(null),o=n?VG(n):ou,c=n?[{category:"Search Results",items:o}]:FG().map(p=>({category:p,items:ou.filter(g=>g.category===p)})),d=p=>{l(i===p?null:p)},u={theorem:"text-amber-400 bg-amber-500/10",definition:"text-blue-400 bg-blue-500/10",lemma:"text-purple-400 bg-purple-500/10",corollary:"text-green-400 bg-green-500/10",proposition:"text-cyan-400 bg-cyan-500/10"};return e.jsxs("div",{className:"min-h-screen bg-dark-950",children:[e.jsx(Ox,{onToggleSidebar:()=>t(!s),sidebarOpen:s}),e.jsx(qx,{isOpen:s,onClose:()=>t(!1)}),e.jsx("main",{className:"pt-20 pb-12 px-4 lg:pl-80 lg:pr-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-2",children:"Theorems & Definitions"}),e.jsxs("p",{className:"text-dark-400 mb-8",children:["Quick reference for all theorems and definitions in ",Xp]}),e.jsx("div",{className:"mb-8",children:e.jsx("input",{type:"text",placeholder:"Search theorems and definitions...",value:n,onChange:p=>r(p.target.value),className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors"})}),e.jsx("div",{className:"bg-gradient-to-br from-amber-500/10 to-dark-800/50 border border-amber-500/20 rounded-2xl p-4 mb-8",children:e.jsxs("p",{className:"text-amber-300 text-sm",children:[e.jsx("span",{className:"font-semibold",children:"Tip:"})," Click any theorem to go to its section. Many include expandable proofs with LaTeX!"]})}),e.jsx("div",{className:"space-y-8",children:c.map(({category:p,items:g})=>e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h2",{className:"text-xl font-bold text-dark-200 border-b border-dark-700/50 pb-2 flex items-center gap-3",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center text-sm font-bold text-amber-400",children:g.length}),p]}),e.jsx("div",{className:"space-y-2",children:g.map(v=>e.jsx(ts,{to:`/section/${v.sectionId}`,className:"block group",children:e.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-dark-800/40 border border-dark-700/50 p-4 transition-all duration-200 hover:border-amber-500/30 hover:bg-dark-800/60",children:[e.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-amber-500 to-orange-600 opacity-40 group-hover:opacity-100 transition-opacity"}),e.jsxs("div",{className:"pl-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[v.type&&e.jsx("span",{className:`text-[10px] font-semibold uppercase tracking-wider px-2 py-0.5 rounded ${u[v.type]||"text-dark-400 bg-dark-700"}`,children:v.type}),e.jsxs("span",{className:"text-[10px] text-dark-500",children:["Section ",v.sectionId]}),v.sectionTitle&&e.jsx("span",{className:"text-[10px] text-dark-600",children:v.sectionTitle}),v.hasProof&&v.proof&&e.jsx("span",{onClick:y=>{y.preventDefault(),d(v.id)},className:"ml-auto text-[10px] text-amber-500/70 font-medium cursor-pointer hover:text-amber-400 transition-colors",children:i===v.id?"Hide Proof":"View Proof"})]}),e.jsx("h3",{className:"font-semibold text-amber-400 group-hover:text-amber-300 transition-colors",children:v.title}),e.jsx("p",{className:"text-sm text-dark-400 mt-1",children:v.statement}),v.hasProof&&v.proof&&e.jsx("div",{className:"mt-3",children:e.jsx(ac,{children:i===v.id?e.jsx(Rn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:e.jsxs("div",{className:"pt-4 border-t border-dark-700/50",children:[e.jsx("h4",{className:"text-sm font-semibold text-amber-400 mb-2",children:"Proof:"}),e.jsx(we,{children:v.proof})]})}):null})})]})]})},v.id))})]},p))}),o.length===0&&e.jsx("div",{className:"text-center py-12 text-dark-400",children:"No theorems found matching your search."}),e.jsx("div",{className:"mt-12 pt-8 border-t border-dark-700/50 flex justify-between items-center",children:e.jsxs(ts,{to:"/interactive",className:"text-primary-400 hover:text-primary-300 transition-colors flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-5-9-5 5-2-9 0-9 5 5 9 12 19 19 2 12 0 0 0 9 5-2-9-5-9 0-9 5-9-5 5-2 9 0 9-5"})}),"Interactive Modules"]})})]})})]})}const bm=[{id:"demo-1",title:"Example Demo",description:"An interactive demonstration of the concept.",sectionId:0,sectionTitle:"Welcome",category:"Basics",icon:""}];function ZG(){const[s,t]=D.useState(!1),[n,r]=D.useState(null),i=[...new Set(bm.map(o=>o.category))],l=n?bm.filter(o=>o.category===n):bm;return e.jsxs("div",{className:"min-h-screen bg-dark-950",children:[e.jsx(Ox,{onToggleSidebar:()=>t(!s),sidebarOpen:s}),e.jsx(qx,{isOpen:s,onClose:()=>t(!1)}),e.jsx("main",{className:"pt-20 pb-12 px-4 lg:pl-80 lg:pr-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-2",children:"Interactive Modules"}),e.jsx("p",{className:"text-dark-400 mb-8",children:"Explore concepts through hands-on interactive visualizations"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[e.jsx("button",{onClick:()=>r(null),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===null?"bg-primary-500 text-white":"bg-dark-800 text-dark-300 hover:bg-dark-700"}`,children:"All"}),i.map(o=>e.jsx("button",{onClick:()=>r(o),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===o?"bg-primary-500 text-white":"bg-dark-800 text-dark-300 hover:bg-dark-700"}`,children:o},o))]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.map(o=>e.jsx(ts,{to:`/section/${o.sectionId}`,className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-primary-500/30 transition-colors group",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:o.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-dark-100 group-hover:text-primary-400 transition-colors",children:o.title}),e.jsx("p",{className:"text-sm text-dark-400 mt-1",children:o.description}),e.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[e.jsx("span",{className:"text-xs px-2 py-1 rounded bg-dark-700 text-dark-300",children:o.category}),e.jsxs("span",{className:"text-xs text-dark-500",children:["Section ",o.sectionId]})]})]})]})},o.id))}),l.length===0&&e.jsx("div",{className:"text-center py-12 text-dark-400",children:"No modules found in this category."})]})})]})}function XG({sectionId:s,questions:t,title:n="Section Quiz"}){var O,ee,B;const i=Pa(),[l,o]=D.useState(0),[c,d]=D.useState(null),[u,p]=D.useState(null),[g,v]=D.useState(""),[y,M]=D.useState(!1),[L,F]=D.useState(0),[T,w]=D.useState([]),[A,z]=D.useState(!1),[Y,ie]=D.useState(""),[_,k]=D.useState(0),N=D.useMemo(()=>[...t].sort(()=>globalThis.Math.random()-.5).slice(0,5),[t]),C=N[l],G=N.length,I=(C==null?void 0:C.type)??"multiple-choice",$=Z=>{if(c!==null)return;d(Z);const P=Z===C.correctIndex;P&&F(H=>H+1),w(H=>[...H,P]),M(!0)},fe=()=>{if(u===null||Number.isNaN(u)){ie("Please enter a number");return}const{min:Z,max:P}=C.numericRange??{};if(Z!==void 0&&u<Z){ie(`Answer must be at least ${Z}`);return}if(P!==void 0&&u>P){ie(`Answer must be at most ${P}`);return}ie("");const H=u===C.correctAnswer;H&&F(le=>le+1),w(le=>[...le,H]),M(!0)},ae=()=>{const Z=g.trim();if(Z==="")return;const P=Z.toLowerCase()===String(C.correctAnswer??"").toLowerCase();P&&F(H=>H+1),w(H=>[...H,P]),M(!0)},J=()=>{if(l<G-1)o(Z=>Z+1),d(null),p(null),v(""),M(!1),ie("");else{z(!0);const Z=L+(y&&(I==="multiple-choice"&&c===C.correctIndex||I==="numeric"&&u===C.correctAnswer||I==="text"&&g.toLowerCase()===String(C.correctAnswer??"").toLowerCase())?1:0),P=globalThis.Math.round(Z/G*100);let H=E5(C.difficulty,P);P===100&&(H=globalThis.Math.round(H*(1+ys.QUIZ_PERFECT_BONUS))),k(H),i&&i.recordQuiz(s,C.difficulty,P,Z,G)}},Q=()=>{o(0),d(null),p(null),v(""),M(!1),F(0),w([]),z(!1),ie(""),k(0)};if(A){const Z=T.filter(Boolean).length,P=globalThis.Math.round(Z/G*100);return e.jsx("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:P>=80?"":P>=60?"":""}),e.jsx("h3",{className:"text-2xl font-bold text-dark-100 mb-2",children:"Quiz Complete!"}),e.jsxs("p",{className:"text-dark-400 mb-4",children:["You scored ",Z," out of ",G," (",P,"%)"]}),_>0&&e.jsxs(Rn.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-amber-500/20 border border-amber-500/30 mb-4",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsxs("span",{className:"text-amber-300 font-bold text-lg",children:["+",_," XP"]}),P===100&&e.jsx("span",{className:"text-amber-400 text-sm",children:"(Perfect bonus!)"})]}),e.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:T.map((H,le)=>e.jsx("div",{className:`w-3 h-3 rounded-full ${H?"bg-emerald-500":"bg-red-500"}`},le))}),e.jsx("button",{onClick:Q,className:"px-6 py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:"Try Again"})]})})}return e.jsxs("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-dark-100",children:n}),e.jsxs("span",{className:"text-sm text-dark-400",children:["Question ",l+1," of ",G]})]}),e.jsx("div",{className:"h-1 bg-dark-700 rounded-full mb-6 overflow-hidden",children:e.jsx(Rn.div,{className:"h-full bg-primary-500",initial:{width:0},animate:{width:`${(l+1)/G*100}%`}})}),e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${C.difficulty==="easy"?"bg-emerald-500/20 text-emerald-400":C.difficulty==="medium"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:C.difficulty.charAt(0).toUpperCase()+C.difficulty.slice(1)})}),e.jsx("p",{className:"text-lg text-dark-200 mb-6",children:e.jsx("span",{dangerouslySetInnerHTML:{__html:jm(C.question)}})}),I==="multiple-choice"&&C.options&&e.jsx("div",{className:"space-y-3 mb-6",children:C.options.map((Z,P)=>{const H=c===P,le=P===C.correctIndex,V=y&&le,W=y&&H&&!le;return e.jsx("button",{onClick:()=>$(P),disabled:y,className:`w-full p-4 rounded-xl text-left transition-all ${V?"bg-emerald-500/20 border-emerald-500/50 text-emerald-300":W?"bg-red-500/20 border-red-500/50 text-red-300":H?"bg-primary-500/20 border-primary-500/50 text-primary-300":"bg-dark-700/50 border-dark-600/50 text-dark-200 hover:bg-dark-700 hover:border-dark-500"} border`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-dark-600 flex items-center justify-center text-sm font-medium",children:String.fromCharCode(65+P)}),e.jsx("span",{dangerouslySetInnerHTML:{__html:jm(Z)}})]})},P)})}),I==="numeric"&&e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("input",{type:"number",step:(O=C.numericRange)!=null&&O.precision?1/globalThis.Math.pow(10,C.numericRange.precision):1,min:(ee=C.numericRange)==null?void 0:ee.min,max:(B=C.numericRange)==null?void 0:B.max,value:u??"",onChange:Z=>{const P=Z.target.value;p(P===""?null:parseFloat(P))},disabled:y,className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors",placeholder:"Enter your answer..."}),Y&&e.jsx("p",{className:"text-red-400 text-sm",children:Y}),e.jsx("button",{onClick:fe,disabled:y||u===null||Number.isNaN(u),className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:bg-dark-600 disabled:cursor-not-allowed",children:"Check Answer"})]}),I==="text"&&e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx("input",{type:"text",value:g,onChange:Z=>v(Z.target.value),disabled:y,className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors",placeholder:"Type your answer..."}),e.jsx("button",{onClick:ae,disabled:y||!g.trim(),className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:bg-dark-600 disabled:cursor-not-allowed",children:"Check Answer"})]}),y&&C.explanation&&e.jsx(Rn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-dark-700/50 border border-dark-600/50 mb-6",children:e.jsxs("p",{className:"text-sm text-dark-300",children:[e.jsx("span",{className:"font-medium text-dark-200",children:"Explanation: "}),e.jsx("span",{dangerouslySetInnerHTML:{__html:jm(C.explanation)}})]})}),y&&e.jsx(Rn.button,{initial:{opacity:0},animate:{opacity:1},onClick:J,className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:l<G-1?"Next Question":"See Results"})]})}function YG(){const{id:s}=Xv(),t=parseInt(s||"0",10),n=Yf(t),r=z5(t),i=I5(t),o=Pa();return D.useEffect(()=>{o&&o.visitSection(t)},[t,o]),!n||n.length===0?e.jsxs("div",{className:"min-h-screen relative",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-primary-500/[0.02] rounded-full blur-[150px] -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-cyan-500/[0.02] rounded-full blur-[120px] translate-y-1/2 -translate-x-1/2"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12 text-center",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 text-sm font-semibold bg-gradient-to-r from-dark-700/50 to-dark-800/30 text-dark-400 rounded-full border border-dark-700/50 mb-4",children:[e.jsx("span",{className:"w-2 h-2 rounded-full bg-dark-500"}),"No Quiz Available"]}),e.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-4",children:"Quiz Not Found"}),e.jsx("p",{className:"text-dark-400 text-lg mb-8",children:"There is no quiz available for this section yet."})]}),e.jsxs(ts,{to:`/section/${t}`,className:"inline-flex items-center gap-2 px-6 py-3 rounded-xl bg-primary-500/10 text-primary-400 hover:bg-primary-500/20 transition-colors font-medium",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Return to Section"]})]})]}):e.jsxs("div",{className:"min-h-screen relative",children:[e.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[800px] h-[800px] bg-amber-500/[0.02] rounded-full blur-[150px] -translate-y-1/2 translate-x-1/2"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-[600px] h-[600px] bg-primary-500/[0.02] rounded-full blur-[120px] translate-y-1/2 -translate-x-1/2"})]}),e.jsx("div",{className:"relative py-4 px-6 border-b border-dark-800/50 bg-dark-950/50 backdrop-blur-sm",children:e.jsxs("nav",{className:"max-w-4xl mx-auto flex items-center gap-2 text-sm",children:[e.jsxs(ts,{to:"/",className:"text-dark-500 hover:text-dark-300 transition-colors flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Home"]}),e.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.jsxs(ts,{to:`/section/${t}`,className:"text-dark-500 hover:text-dark-300 transition-colors",children:["Section ",t]}),e.jsx("svg",{className:"w-4 h-4 text-dark-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),e.jsx("span",{className:"text-amber-400 font-medium",children:"Quiz"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[e.jsxs("header",{className:"mb-10",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-6",children:[e.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-1.5 text-sm font-semibold bg-gradient-to-r from-amber-500/20 to-amber-600/10 text-amber-400 rounded-full border border-amber-500/20",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),"Section Quiz"]}),i&&e.jsxs("span",{className:"text-dark-500 text-sm",children:["Part ",i.id,": ",i.title]})]}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4",children:e.jsx("span",{className:"text-gradient",children:r==null?void 0:r.title})}),e.jsxs("p",{className:"text-dark-400 text-lg",children:["Test your understanding of this section with ",n.length," question",n.length!==1?"s":"","."]}),e.jsxs("div",{className:"mt-8 flex items-center gap-4",children:[e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500/50"}),e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500/30"}),e.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500/10"})]}),e.jsx("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-dark-700 to-transparent"})]})]}),e.jsx(XG,{sectionId:t,questions:n}),e.jsx("div",{className:"mt-12 pt-8 border-t border-dark-800/50",children:e.jsxs(ts,{to:`/section/${t}`,className:"inline-flex items-center gap-2 text-dark-400 hover:text-dark-200 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back to Section ",t]})})]})]})}function te({title:s,children:t,className:n=""}){return e.jsxs("div",{className:`my-6 p-6 rounded-2xl bg-gradient-to-br from-blue-500/10 to-blue-600/5 border border-blue-500/20 ${n}`,children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-blue-400 uppercase tracking-wider",children:"Definition"}),e.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:s})]})]}),e.jsx("div",{className:"text-dark-300 pl-11",children:t})]})}function U({title:s,children:t,proof:n,className:r=""}){const[i,l]=D.useState(!1);return e.jsxs("div",{className:`my-6 p-6 rounded-2xl bg-gradient-to-br from-amber-500/10 to-amber-600/5 border border-amber-500/20 ${r}`,children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-amber-400 uppercase tracking-wider",children:"Theorem"}),e.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:s})]})]}),e.jsx("div",{className:"text-dark-300 pl-11",children:t}),n&&e.jsxs("div",{className:"mt-4 pl-11",children:[e.jsxs("button",{onClick:()=>l(!i),className:"flex items-center gap-2 text-sm text-amber-400 hover:text-amber-300 transition-colors",children:[e.jsx("svg",{className:`w-4 h-4 transition-transform ${i?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),i?"Hide Proof":"Show Proof"]}),e.jsx(ac,{children:i&&e.jsx(Rn.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:e.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-dark-800/50 border border-dark-700/50 text-dark-300",children:[e.jsx("div",{className:"text-xs font-semibold text-dark-500 uppercase tracking-wider mb-2",children:"Proof"}),n,e.jsx("div",{className:"text-right mt-4 text-dark-500",children:""})]})})})]})]})}function me({title:s,children:t,className:n=""}){return e.jsxs("div",{className:`my-6 p-6 rounded-2xl bg-gradient-to-br from-emerald-500/10 to-emerald-600/5 border border-emerald-500/20 ${n}`,children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-semibold text-emerald-400 uppercase tracking-wider",children:"Example"}),e.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:s})]})]}),e.jsx("div",{className:"text-dark-300 pl-11",children:t})]})}const Me={background:"#1e293b",grid:"#334155",node:"#60a5fa",nodeStroke:"#3b82f6",nodeSelected:"#f59e0b",nodeHighlight:"#22c55e",edge:"#64748b",edgeHighlight:"#22c55e",text:"#e2e8f0",textDark:"#94a3b8",path:"#10b981",cycle:"#f472b6",matching:"#a78bfa",flow:"#06b6d4"},zi={nodeRadius:16,nodeStrokeWidth:2,edgeWidth:2,fontSize:12};function tr(s,t,n,r=Me.background){s.fillStyle=r,s.fillRect(0,0,t,n)}function sr(s,t,n,r=40){s.strokeStyle=Me.grid,s.lineWidth=.5;for(let i=r;i<t;i+=r)s.beginPath(),s.moveTo(i,0),s.lineTo(i,n),s.stroke();for(let i=r;i<n;i+=r)s.beginPath(),s.moveTo(0,i),s.lineTo(t,i),s.stroke()}function nr(s,t,n={}){const{radius:r=zi.nodeRadius,fillColor:i=t.color??Me.node,strokeColor:l=Me.nodeStroke,strokeWidth:o=zi.nodeStrokeWidth,labelColor:c=Me.text,fontSize:d=zi.fontSize,selected:u=!1,highlighted:p=!1}=n,g=u?Me.nodeSelected:p?Me.nodeHighlight:i,v=u?Me.nodeSelected:p?Me.nodeHighlight:l;s.beginPath(),s.arc(t.x,t.y,r,0,Math.PI*2),s.fillStyle=g,s.fill(),s.strokeStyle=v,s.lineWidth=o,s.stroke(),t.label&&(s.fillStyle=c,s.font=`bold ${d}px Inter, system-ui, sans-serif`,s.textAlign="center",s.textBaseline="middle",s.fillText(t.label,t.x,t.y))}function WG(s,t,n=zi.nodeRadius+6){s.beginPath(),s.arc(t.x,t.y,n,0,Math.PI*2),s.strokeStyle=Me.nodeSelected,s.lineWidth=2,s.setLineDash([4,4]),s.stroke(),s.setLineDash([])}function Fr(s,t,n,r={}){const i=n.find(L=>L.id===t.source),l=n.find(L=>L.id===t.target);if(!i||!l)return;const{color:o=t.color??Me.edge,width:c=zi.edgeWidth,dashed:d=!1,highlighted:u=t.highlighted??!1,showWeight:p=!1,showFlow:g=!1,curved:v=!1}=r,y=u?Me.edgeHighlight:o,M=u?c+1:c;if(s.strokeStyle=y,s.lineWidth=M,d&&s.setLineDash([6,4]),v){const L=(i.x+l.x)/2,F=(i.y+l.y)/2,T=l.x-i.x,w=l.y-i.y,A=Math.sqrt(T*T+w*w),z=A*.2;s.beginPath(),s.moveTo(i.x,i.y),s.quadraticCurveTo(L-w*z/A,F+T*z/A,l.x,l.y),s.stroke()}else s.beginPath(),s.moveTo(i.x,i.y),s.lineTo(l.x,l.y),s.stroke();if(s.setLineDash([]),p&&t.weight!==void 0){const L=(i.x+l.x)/2,F=(i.y+l.y)/2;Bv(s,`${t.weight}`,L,F)}if(g&&t.flow!==void 0&&t.capacity!==void 0){const L=(i.x+l.x)/2,F=(i.y+l.y)/2;Bv(s,`${t.flow}/${t.capacity}`,L,F)}}function Bv(s,t,n,r){s.fillStyle=Me.background;const i=s.measureText(t),l=4;s.fillRect(n-i.width/2-l,r-8-l,i.width+l*2,16+l*2),s.fillStyle=Me.text,s.font=`${zi.fontSize}px Inter, system-ui, sans-serif`,s.textAlign="center",s.textBaseline="middle",s.fillText(t,n,r)}function _c(s,t,n,r=Me.path){if(t.length<2)return;s.strokeStyle=r,s.lineWidth=4,s.lineCap="round",s.lineJoin="round",s.beginPath();const i=n.find(l=>l.id===t[0]);if(i){s.moveTo(i.x,i.y);for(let l=1;l<t.length;l++){const o=n.find(c=>c.id===t[l]);o&&s.lineTo(o.x,o.y)}s.stroke()}}function QG(s,t,n,r=Me.cycle){if(t.length<2)return;const i=[...t,t[0]];_c(s,i,n,r)}function JG(s,t,n,r=zi.nodeRadius){const i=s-n.x,l=t-n.y;return i*i+l*l<=r*r}function ns(s,t,n,r=zi.nodeRadius){for(const i of n)if(JG(s,t,i,r))return i;return null}function Xt(s,t){const n=t.getBoundingClientRect(),r=t.width/n.width,i=t.height/n.height;return{x:(s.clientX-n.left)*r,y:(s.clientY-n.top)*i}}function Qs(s){var n,r;const t=new Map;for(const i of s.nodes)t.set(i.id,[]);for(const i of s.edges)(n=t.get(i.source))==null||n.push(i.target),s.directed||(r=t.get(i.target))==null||r.push(i.source);return t}function ez(s){const t=s.nodes.length,n=new Map(s.nodes.map((i,l)=>[i.id,l])),r=Array(t).fill(null).map(()=>Array(t).fill(0));for(const i of s.edges){const l=n.get(i.source),o=n.get(i.target),c=i.weight??1;r[l][o]=c,s.directed||(r[o][l]=c)}return r}function Ii(s,t){var r;return((r=Qs(s).get(t))==null?void 0:r.length)??0}function R5(s){const t=Qs(s);return s.nodes.map(n=>{var r;return((r=t.get(n.id))==null?void 0:r.length)??0}).sort((n,r)=>r-n)}function xr(s,t,n){return s.edges.some(r=>r.source===t&&r.target===n||!s.directed&&r.source===n&&r.target===t)}function tz(s,t){const n=[],r=new Set,i=[t],l=Qs(s);for(r.add(t),n.push({node:t,action:"visit"});i.length>0;){const o=i.shift(),c=l.get(o)??[];for(const d of c)r.has(d)||(r.add(d),i.push(d),n.push({node:d,action:"visit",parent:o}))}return n}function sz(s,t){const n=[],r=new Set,i=Qs(s);function l(o,c){r.add(o),n.push({node:o,action:"visit",parent:c});const d=i.get(o)??[];for(const u of d)r.has(u)||(n.push({node:u,action:"explore",parent:o}),l(u,o));n.push({node:o,action:"backtrack",parent:c})}return l(t),n}function Wf(s,t,n){if(t===n)return{path:[t],found:!0};const r=new Set,i=[t],l=new Map,o=Qs(s);for(r.add(t);i.length>0;){const c=i.shift(),d=o.get(c)??[];for(const u of d)if(!r.has(u)){if(r.add(u),l.set(u,c),u===n){const p=[n];let g=n;for(;l.has(g);)g=l.get(g),p.unshift(g);return{path:p,found:!0}}i.push(u)}}return{path:[],found:!1}}function O5(s,t){const n=Qs(s),r=new Set,i=[];function l(c,d){r.add(c),i.push(c);const u=n.get(c)??[];for(const p of u)if(r.has(p)){if(p!==d&&i.includes(p)){const g=i.indexOf(p);return i.slice(g)}}else{const g=l(p,c);if(g)return g}return i.pop(),null}const o=t?[t]:s.nodes.map(c=>c.id);for(const c of o)if(!r.has(c)){const d=l(c,null);if(d)return d}return null}function Kn(s){if(s.nodes.length===0)return!0;const t=new Set,n=[s.nodes[0].id],r=Qs(s);for(t.add(s.nodes[0].id);n.length>0;){const i=n.shift(),l=r.get(i)??[];for(const o of l)t.has(o)||(t.add(o),n.push(o))}return t.size===s.nodes.length}function Qf(s){const t=s.nodes.length;return s.edges.length!==t-1?!1:Kn(s)}function q5(s){if(!Kn(s))return!1;for(const t of s.nodes)if(Ii(s,t.id)%2!==0)return!1;return!0}function nz(s){if(!Kn(s))return!1;let t=0;for(const n of s.nodes)Ii(s,n.id)%2!==0&&t++;return t===0||t===2}function rz(s){if(!q5(s))return null;const t=new Map;for(const i of s.nodes)t.set(i.id,[]);for(const i of s.edges)t.get(i.source).push(i.target),s.directed||t.get(i.target).push(i.source);const n=[],r=[s.nodes[0].id];for(;r.length>0;){const i=r[r.length-1],l=t.get(i);if(l.length===0)n.push(r.pop());else{const o=l.pop();if(!s.directed){const c=t.get(o),d=c.indexOf(i);d!==-1&&c.splice(d,1)}r.push(o)}}return n.reverse()}function Ft(s,t){switch(s){case"empty":return{nodes:[],edges:[]};case"K5":return Hv(5);case"K33":return Uv(3,3);case"petersen":return cz();case"cycle":return iz(6);case"path":return az(5);case"complete":return Hv(5);case"bipartite":return Uv(3,3);case"tree":return lz(7);case"grid":return oz(3,3);case"cube":return hz();case"dodecahedron":return dz();case"konigsberg":return uz();default:return{nodes:[],edges:[]}}}function Hv(s){const t=[],n=[];for(let r=0;r<s;r++){const i=2*Math.PI*r/s-Math.PI/2;t.push({id:`${r}`,x:300+120*Math.cos(i),y:200+120*Math.sin(i),label:`${r+1}`})}for(let r=0;r<s;r++)for(let i=r+1;i<s;i++)n.push({source:`${r}`,target:`${i}`});return{nodes:t,edges:n}}function Uv(s,t){const n=[],r=[];for(let i=0;i<s;i++)n.push({id:`a${i}`,x:150,y:80+320/(s+1)*(i+1),label:`a${i+1}`,color:"#60a5fa"});for(let i=0;i<t;i++)n.push({id:`b${i}`,x:450,y:80+320/(t+1)*(i+1),label:`b${i+1}`,color:"#f472b6"});for(let i=0;i<s;i++)for(let l=0;l<t;l++)r.push({source:`a${i}`,target:`b${l}`});return{nodes:n,edges:r}}function iz(s){const t=[],n=[];for(let r=0;r<s;r++){const i=2*Math.PI*r/s-Math.PI/2;t.push({id:`${r}`,x:300+120*Math.cos(i),y:200+120*Math.sin(i),label:`${r+1}`}),n.push({source:`${r}`,target:`${(r+1)%s}`})}return{nodes:t,edges:n}}function az(s){const t=[],n=[];for(let r=0;r<s;r++)t.push({id:`${r}`,x:100+400/(s-1)*r,y:200,label:`${r+1}`}),r>0&&n.push({source:`${r-1}`,target:`${r}`});return{nodes:t,edges:n}}function lz(s){const t=[],n=[];for(let r=0;r<s;r++)t.push({id:`${r}`,x:100+Math.random()*400,y:80+Math.random()*320,label:`${r+1}`});for(let r=1;r<s;r++){const i=Math.floor(Math.random()*r);n.push({source:`${i}`,target:`${r}`})}return{nodes:t,edges:n}}function oz(s,t){const n=[],r=[],i=Math.min(400/(t-1),320/(s-1)),l=(600-(t-1)*i)/2,o=(400-(s-1)*i)/2;for(let c=0;c<s;c++)for(let d=0;d<t;d++){const u=`${c}-${d}`;n.push({id:u,x:l+d*i,y:o+c*i}),d>0&&r.push({source:`${c}-${d-1}`,target:u}),c>0&&r.push({source:`${c-1}-${d}`,target:u})}return{nodes:n,edges:r}}function cz(){const s=[],t=[];for(let n=0;n<5;n++){const r=2*Math.PI*n/5-Math.PI/2;s.push({id:`o${n}`,x:300+140*Math.cos(r),y:200+140*Math.sin(r),label:`${n+1}`})}for(let n=0;n<5;n++){const r=2*Math.PI*n/5-Math.PI/2;s.push({id:`i${n}`,x:300+60*Math.cos(r),y:200+60*Math.sin(r),label:`${n+6}`})}for(let n=0;n<5;n++)t.push({source:`o${n}`,target:`o${(n+1)%5}`});for(let n=0;n<5;n++)t.push({source:`i${n}`,target:`i${(n+2)%5}`});for(let n=0;n<5;n++)t.push({source:`o${n}`,target:`i${n}`});return{nodes:s,edges:t}}function hz(){const s=[],t=[];return s.push({id:"0",x:160,y:60,label:"1"}),s.push({id:"1",x:440,y:60,label:"2"}),s.push({id:"2",x:440,y:340,label:"3"}),s.push({id:"3",x:160,y:340,label:"4"}),s.push({id:"4",x:240,y:140,label:"5"}),s.push({id:"5",x:360,y:140,label:"6"}),s.push({id:"6",x:360,y:260,label:"7"}),s.push({id:"7",x:240,y:260,label:"8"}),t.push({source:"0",target:"1"}),t.push({source:"1",target:"2"}),t.push({source:"2",target:"3"}),t.push({source:"3",target:"0"}),t.push({source:"4",target:"5"}),t.push({source:"5",target:"6"}),t.push({source:"6",target:"7"}),t.push({source:"7",target:"4"}),t.push({source:"0",target:"4"}),t.push({source:"1",target:"5"}),t.push({source:"2",target:"6"}),t.push({source:"3",target:"7"}),{nodes:s,edges:t}}function dz(){const s=[],t=[];for(let l=0;l<5;l++){const o=2*Math.PI*l/5-Math.PI/2;s.push({id:`t${l}`,x:300+50*Math.cos(o),y:100,label:`${l+1}`})}for(let l=0;l<5;l++){const o=2*Math.PI*l/5-Math.PI/2+Math.PI/5;s.push({id:`u${l}`,x:300+130*Math.cos(o),y:150,label:`${l+6}`})}for(let l=0;l<5;l++){const o=2*Math.PI*l/5-Math.PI/2;s.push({id:`l${l}`,x:300+130*Math.cos(o),y:250,label:`${l+11}`})}for(let l=0;l<5;l++){const o=2*Math.PI*l/5-Math.PI/2+Math.PI/5;s.push({id:`b${l}`,x:300+50*Math.cos(o),y:300,label:`${l+16}`})}for(let l=0;l<5;l++)t.push({source:`t${l}`,target:`t${(l+1)%5}`});for(let l=0;l<5;l++)t.push({source:`b${l}`,target:`b${(l+1)%5}`});for(let l=0;l<5;l++)t.push({source:`t${l}`,target:`u${l}`}),t.push({source:`t${l}`,target:`u${(l+4)%5}`});for(let l=0;l<5;l++)t.push({source:`u${l}`,target:`l${l}`});for(let l=0;l<5;l++)t.push({source:`l${l}`,target:`b${l}`}),t.push({source:`l${l}`,target:`b${(l+1)%5}`});return{nodes:s,edges:t}}function uz(){return{nodes:[{id:"A",x:300,y:100,label:"A"},{id:"B",x:150,y:250,label:"B"},{id:"C",x:450,y:250,label:"C"},{id:"D",x:300,y:350,label:"D"}],edges:[{source:"A",target:"B"},{source:"A",target:"B"},{source:"A",target:"C"},{source:"A",target:"C"},{source:"B",target:"D"},{source:"C",target:"D"},{source:"B",target:"C"}]}}function to(s,t,n,r){const i=`n${Date.now()}`;return{...s,nodes:[...s.nodes,{id:i,x:t,y:n,label:r??`${s.nodes.length+1}`}]}}function Ec(s,t){return{...s,nodes:s.nodes.filter(n=>n.id!==t),edges:s.edges.filter(n=>n.source!==t&&n.target!==t)}}function so(s,t,n,r){return xr(s,t,n)?s:{...s,edges:[...s.edges,{source:t,target:n,weight:r}]}}function Ha(s,t,n,r){return{...s,nodes:s.nodes.map(i=>i.id===t?{...i,x:n,y:r}:i)}}const mz=[{value:"empty",label:"Empty"},{value:"K5",label:"K (Complete)"},{value:"K33",label:"K, (Bipartite)"},{value:"petersen",label:"Petersen"},{value:"cycle",label:"Cycle (C)"},{value:"path",label:"Path (P)"},{value:"cube",label:"Cube (Q)"},{value:"grid",label:"Grid (33)"}];function fz({className:s="",initialGraph:t,showMatrix:n=!0,showControls:r=!0,onGraphChange:i}){const l=D.useRef(null),[o,c]=D.useState(t??Ft("empty")),[d,u]=D.useState("addNode"),[p,g]=D.useState(null),[v,y]=D.useState(null),[M,L]=D.useState(null),[F,T]=D.useState(null),w=600,A=400;D.useEffect(()=>{i==null||i(o)},[o,i]),D.useEffect(()=>{const ae=l.current;if(!ae)return;const J=ae.getContext("2d");if(J){tr(J,w,A),sr(J,w,A);for(const Q of o.edges)Fr(J,Q,o.nodes,{highlighted:Q.source===p||Q.target===p});if(d==="addEdge"&&v){const Q=o.nodes.find(O=>O.id===v);if(Q&&F&&F!==v){const O=o.nodes.find(ee=>ee.id===F);O&&(J.strokeStyle=Me.nodeSelected,J.lineWidth=2,J.setLineDash([6,4]),J.beginPath(),J.moveTo(Q.x,Q.y),J.lineTo(O.x,O.y),J.stroke(),J.setLineDash([]))}}for(const Q of o.nodes)nr(J,Q,{selected:Q.id===p,highlighted:Q.id===F||Q.id===v});if(p){const Q=o.nodes.find(O=>O.id===p);Q&&WG(J,Q)}}},[o,d,p,v,F]);const z=D.useCallback(ae=>{const J=l.current;if(!J)return;const{x:Q,y:O}=Xt(ae,J),ee=ns(Q,O,o.nodes);switch(d){case"select":ee?(g(ee.id),L(ee.id)):g(null);break;case"addNode":if(ee)g(ee.id);else{const B=to(o,Q,O);c(B)}break;case"addEdge":if(ee){if(v===null)y(ee.id);else if(ee.id!==v){const B=so(o,v,ee.id);c(B),y(null)}}else y(null);break;case"delete":if(ee){const B=Ec(o,ee.id);c(B),p===ee.id&&g(null)}break}},[o,d,v,p]),Y=D.useCallback(ae=>{const J=l.current;if(!J)return;const{x:Q,y:O}=Xt(ae,J),ee=ns(Q,O,o.nodes);if(T((ee==null?void 0:ee.id)??null),M){const B=Ha(o,M,Q,O);c(B)}},[o,M]),ie=D.useCallback(()=>{L(null)},[]),_=D.useCallback(()=>{L(null),T(null)},[]),k=ae=>{c(Ft(ae)),g(null),y(null)},N=()=>{c({nodes:[],edges:[]}),g(null),y(null)},C=()=>{p&&(c(Ec(o,p)),g(null))},G=ez(o),I=o.nodes.map(ae=>ae.label??ae.id),$=R5(o),fe=()=>F?d==="delete"?"pointer":d==="select"||M?"grab":d==="addEdge"?"crosshair":"pointer":d==="addNode"?"crosshair":"default";return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${s}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Interactive Graph Editor"}),e.jsx("p",{className:"text-dark-300 mb-6",children:"Create and manipulate graphs. Click to add vertices, select two vertices to add edges, or use the controls below."}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("canvas",{ref:l,width:w,height:A,className:"rounded-xl border border-dark-600",style:{cursor:fe()},onMouseDown:z,onMouseMove:Y,onMouseUp:ie,onMouseLeave:_}),r&&e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:[{mode:"addNode",label:"Add Vertex",icon:""},{mode:"addEdge",label:"Add Edge",icon:""},{mode:"select",label:"Select/Move",icon:""},{mode:"delete",label:"Delete",icon:""}].map(({mode:ae,label:J,icon:Q})=>e.jsxs("button",{onClick:()=>{u(ae),y(null)},className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${d===ae?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:[e.jsx("span",{className:"mr-1",children:Q})," ",J]},ae))})]}),e.jsxs("div",{className:"flex-1 space-y-6 min-w-0",children:[r&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Load Preset Graph"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:mz.map(({value:ae,label:J})=>e.jsx("button",{onClick:()=>k(ae),className:"px-3 py-1.5 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600 transition-colors",children:J},ae))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-400",children:o.nodes.length}),e.jsx("div",{className:"text-sm text-dark-300",children:"Vertices"})]}),e.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-400",children:o.edges.length}),e.jsx("div",{className:"text-sm text-dark-300",children:"Edges"})]})]}),o.nodes.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Degree Sequence"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:$.map((ae,J)=>e.jsx("span",{className:"px-2 py-1 bg-dark-700 text-dark-200 rounded text-sm",children:ae},J))})]}),n&&o.nodes.length>0&&o.nodes.length<=8&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Adjacency Matrix"}),e.jsx("div",{className:"overflow-auto",children:e.jsxs("table",{className:"border-collapse text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"w-8 h-8"}),I.map((ae,J)=>e.jsx("th",{className:"w-8 h-8 text-center text-dark-300 font-medium",children:ae},J))]})}),e.jsx("tbody",{children:G.map((ae,J)=>e.jsxs("tr",{children:[e.jsx("td",{className:"w-8 h-8 text-center text-dark-300 font-medium",children:I[J]}),ae.map((Q,O)=>e.jsx("td",{className:`w-8 h-8 text-center border border-dark-600 ${Q>0?"bg-blue-500/20 text-blue-300":"text-dark-500"}`,children:Q},O))]},J))})]})})]}),r&&e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:N,className:"px-4 py-2 bg-red-600/20 text-red-400 rounded-lg hover:bg-red-600/30 transition-colors",children:"Clear Graph"}),p&&e.jsx("button",{onClick:C,className:"px-4 py-2 bg-amber-600/20 text-amber-400 rounded-lg hover:bg-amber-600/30 transition-colors",children:"Delete Selected"})]}),e.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Add Vertex:"})," Click empty space"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Add Edge:"})," Click two vertices"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Move:"})," Select mode, then drag"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Delete:"})," Delete mode, then click"]})]})]})]})]})}const pz=[{value:"cycle",label:"Cycle (C)"},{value:"K5",label:"K"},{value:"cube",label:"Cube"},{value:"petersen",label:"Petersen"},{value:"konigsberg",label:"Knigsberg"}];function xz({className:s="",initialGraph:t}){const n=D.useRef(null),[r,i]=D.useState(t??Ft("cycle")),[l,o]=D.useState("path"),[c,d]=D.useState(null),[u,p]=D.useState(null),[g,v]=D.useState([]),[y,M]=D.useState([]),[L,F]=D.useState([]),[T,w]=D.useState(0),[A,z]=D.useState(!1),[Y,ie]=D.useState([]),[_,k]=D.useState(null),[N,C]=D.useState(null),[G,I]=D.useState("view"),[$,fe]=D.useState(null),ae=600,J=400;D.useEffect(()=>{if(!A)return;const oe=l==="eulerian"?L.length:Y.length;if(T>=oe){z(!1);return}const se=setTimeout(()=>{w(he=>he+1)},500);return()=>clearTimeout(se)},[A,T,l,L.length,Y.length]),D.useEffect(()=>{if(l==="path"&&c&&u){const oe=Wf(r,c,u);v(oe.found?oe.path:[])}},[r,l,c,u]),D.useEffect(()=>{const oe=n.current;if(!oe)return;const se=oe.getContext("2d");if(!se)return;tr(se,ae,J),sr(se,ae,J);let he=new Set,be=[];l==="path"&&g.length>1?be=g:l==="cycle"&&y.length>0?be=[...y,y[0]]:l==="eulerian"&&L.length>0&&(be=L.slice(0,T+1));for(let pe=0;pe<be.length-1;pe++){const _e=`${be[pe]}-${be[pe+1]}`,ze=`${be[pe+1]}-${be[pe]}`;he.add(_e),he.add(ze)}for(const pe of r.edges){const _e=`${pe.source}-${pe.target}`,ze=`${pe.target}-${pe.source}`,nt=he.has(_e)||he.has(ze);Fr(se,pe,r.nodes,{highlighted:nt,color:nt?l==="cycle"?Me.cycle:Me.path:void 0})}l==="path"&&g.length>1?_c(se,g,r.nodes,Me.path):l==="cycle"&&y.length>0?QG(se,y,r.nodes,Me.cycle):l==="eulerian"&&be.length>1&&_c(se,be,r.nodes,Me.path);for(const pe of r.nodes){const _e=be.includes(pe.id),ze=pe.id===c||l==="eulerian"&&pe.id===L[0],nt=pe.id===u||l==="eulerian"&&T>0&&pe.id===L[T];nr(se,pe,{selected:ze||nt,highlighted:_e||pe.id===_||pe.id===$,fillColor:ze?Me.path:nt?Me.cycle:void 0})}},[r,l,g,y,L,T,c,u,_,$]);const Q=D.useCallback(oe=>{const se=n.current;if(!se)return;const{x:he,y:be}=Xt(oe,se),pe=ns(he,be,r.nodes);if(G==="addNode"){if(!pe){const _e=to(r,he,be);i(_e)}return}if(G==="addEdge"){if(pe){if($===null)fe(pe.id);else if(pe.id!==$){const _e=so(r,$,pe.id);i(_e),fe(null)}}else fe(null);return}if(pe){if(l==="path")c?!u&&pe.id!==c?p(pe.id):(d(pe.id),p(null),v([])):(d(pe.id),v([]));else if(l==="cycle"){const _e=O5(r,pe.id);M(_e??[])}C(pe.id)}},[r,l,G,c,u,$]),O=D.useCallback(oe=>{const se=n.current;if(!se)return;const{x:he,y:be}=Xt(oe,se),pe=ns(he,be,r.nodes);if(k((pe==null?void 0:pe.id)??null),N&&G==="view"){const _e=Ha(r,N,he,be);i(_e)}},[r,N,G]),ee=D.useCallback(()=>{C(null)},[]),B=oe=>{i(Ft(oe)),Z()},Z=()=>{d(null),p(null),v([]),M([]),F([]),w(0),z(!1),ie([]),fe(null)},P=()=>{const oe=rz(r);oe&&(F(oe),w(0),z(!0))},H=oe=>{if(!c)return;const se=oe==="bfs"?tz(r,c):sz(r,c);ie(se.filter(he=>he.action==="visit").map(he=>he.node)),w(0),z(!0)},le=Kn(r),V=q5(r),W=nz(r),ve=r.nodes.filter(oe=>Ii(r,oe.id)%2!==0);return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${s}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Path Explorer"}),e.jsx("p",{className:"text-dark-300 mb-6",children:"Explore paths, cycles, and Eulerian circuits. Click vertices to find paths between them, or discover cycles in the graph."}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("canvas",{ref:n,width:ae,height:J,className:"rounded-xl border border-dark-600",style:{cursor:_?"pointer":G==="addNode"?"crosshair":"default"},onMouseDown:Q,onMouseMove:O,onMouseUp:ee,onMouseLeave:()=>{C(null),k(null)}}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:[{mode:"path",label:"Find Path"},{mode:"cycle",label:"Find Cycle"},{mode:"eulerian",label:"Eulerian"}].map(({mode:oe,label:se})=>e.jsx("button",{onClick:()=>{o(oe),Z()},className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${l===oe?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:se},oe))})]}),e.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Load Graph"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:pz.map(({value:oe,label:se})=>e.jsx("button",{onClick:()=>B(oe),className:"px-3 py-1.5 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:se},oe))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Edit Graph"}),e.jsx("div",{className:"flex gap-2",children:[{mode:"view",label:"View"},{mode:"addNode",label:"+ Vertex"},{mode:"addEdge",label:"+ Edge"}].map(({mode:oe,label:se})=>e.jsx("button",{onClick:()=>{I(oe),fe(null)},className:`px-3 py-1.5 rounded-lg text-sm ${G===oe?"bg-green-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:se},oe))})]}),e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Connected:"}),e.jsx("span",{className:le?"text-green-400":"text-red-400",children:le?"Yes":"No"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Eulerian Circuit:"}),e.jsx("span",{className:V?"text-green-400":"text-red-400",children:V?"Exists":"None"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Eulerian Path:"}),e.jsx("span",{className:W?"text-green-400":"text-red-400",children:W?"Exists":"None"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Odd-degree vertices:"}),e.jsx("span",{className:"text-dark-100",children:ve.length})]})]}),l==="path"&&e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-dark-200 mb-2",children:c?u?g.length>0?`Path found: ${g.length} vertices`:"No path exists":"Click another vertex to set end":"Click a vertex to set start"}),c&&u&&e.jsxs("div",{className:"text-sm text-dark-400",children:["Path: ",g.join("  ")||"None"]}),c&&e.jsxs("div",{className:"mt-2 flex gap-2",children:[e.jsx("button",{onClick:()=>H("bfs"),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700",children:"Run BFS"}),e.jsx("button",{onClick:()=>H("dfs"),className:"px-3 py-1.5 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700",children:"Run DFS"})]})]}),l==="cycle"&&e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm text-dark-200 mb-2",children:y.length>0?`Cycle found: ${y.length} vertices`:"Click a vertex to find a cycle through it"}),y.length>0&&e.jsxs("div",{className:"text-sm text-dark-400",children:["Cycle: ",y.join("  "),"  ",y[0]]})]}),l==="eulerian"&&e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("button",{onClick:P,disabled:!V||A,className:`w-full px-4 py-2 rounded-lg text-sm font-medium ${V&&!A?"bg-green-600 text-white hover:bg-green-700":"bg-dark-600 text-dark-400 cursor-not-allowed"}`,children:A?"Animating...":"Find Eulerian Circuit"}),L.length>0&&e.jsxs("div",{className:"mt-2 text-sm text-dark-400",children:["Step ",T+1,"/",L.length]}),!V&&e.jsx("p",{className:"mt-2 text-sm text-red-400",children:"No Eulerian circuit exists (need all vertices to have even degree)"})]}),e.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Path mode:"})," Click two vertices to find path"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cycle mode:"})," Click vertex to find cycle"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Eulerian:"})," Find circuit visiting every edge once"]})]})]})]})]})}const gz=[{value:"tree",label:"Random Tree"},{value:"path",label:"Path"},{value:"complete",label:"K (not tree)"},{value:"cycle",label:"Cycle (not tree)"}];function vz({className:s="",initialGraph:t}){var H,le;const n=D.useRef(null),[r,i]=D.useState(t??Ft("tree")),[l,o]=D.useState(null),[c,d]=D.useState(new Map),[u,p]=D.useState(new Map),[g,v]=D.useState(null),[y,M]=D.useState([]),[L,F]=D.useState(null),[T,w]=D.useState(null),[A,z]=D.useState("view"),[Y,ie]=D.useState(null),[_,k]=D.useState(!1),N=600,C=400;D.useEffect(()=>{if(!l||!Qf(r)){d(new Map),p(new Map);return}const V=new Map,W=new Map,ve=Qs(r),oe=[l];for(V.set(l,0),W.set(l,null);oe.length>0;){const se=oe.shift(),he=V.get(se),be=ve.get(se)??[];for(const pe of be)V.has(pe)||(V.set(pe,he+1),W.set(pe,se),oe.push(pe))}d(V),p(W)},[r,l]),D.useEffect(()=>{if(!g||!l){M([]);return}const V=Wf(r,g,l);M(V.path)},[r,g,l]),D.useEffect(()=>{if(!_||!l||c.size===0)return;const V=Math.max(...c.values()),W=new Map;for(const[oe,se]of c)W.has(se)||W.set(se,[]),W.get(se).push(oe);const ve=r.nodes.map(oe=>{const se=c.get(oe.id);if(se===void 0)return oe;const he=W.get(se),be=he.indexOf(oe.id),pe=N/(he.length+1);return{...oe,x:pe*(be+1),y:60+se/(V||1)*300}});i({...r,nodes:ve})},[_,l,c]),D.useEffect(()=>{const V=n.current;if(!V)return;const W=V.getContext("2d");if(!W)return;tr(W,N,C),sr(W,N,C);const ve=new Set;for(let se=0;se<y.length-1;se++)ve.add(`${y[se]}-${y[se+1]}`),ve.add(`${y[se+1]}-${y[se]}`);for(const se of r.edges){const he=ve.has(`${se.source}-${se.target}`);Fr(W,se,r.nodes,{highlighted:he,color:he?Me.path:void 0})}y.length>1&&_c(W,y,r.nodes,Me.path);const oe=["#60a5fa","#34d399","#fbbf24","#f87171","#a78bfa","#f472b6"];for(const se of r.nodes){const he=c.get(se.id),be=se.id===l,pe=se.id===g,_e=se.id===T;nr(W,se,{fillColor:be?Me.path:he!==void 0?oe[he%oe.length]:Me.node,selected:pe,highlighted:_e||se.id===Y}),he!==void 0&&!be&&(W.fillStyle=Me.textDark,W.font="10px Inter, system-ui, sans-serif",W.textAlign="center",W.fillText(`L${he}`,se.x,se.y+28))}},[r,l,g,y,c,T,Y]);const G=D.useCallback(V=>{const W=n.current;if(!W)return;const{x:ve,y:oe}=Xt(V,W),se=ns(ve,oe,r.nodes);if(A==="addNode"&&!se){i(to(r,ve,oe));return}if(A==="addEdge"&&se){Y?se.id!==Y&&(i(so(r,Y,se.id)),ie(null)):ie(se.id);return}if(A==="delete"&&se){i(Ec(r,se.id)),l===se.id&&o(null),g===se.id&&v(null);return}se&&(V.shiftKey?(o(se.id),k(!1)):(v(se.id),F(se.id)))},[r,A,Y,l,g]),I=D.useCallback(V=>{var se;const W=n.current;if(!W)return;const{x:ve,y:oe}=Xt(V,W);w(((se=ns(ve,oe,r.nodes))==null?void 0:se.id)??null),L&&A==="view"&&(i(Ha(r,L,ve,oe)),k(!1))},[r,L,A]),$=D.useCallback(()=>{F(null)},[]),fe=V=>{i(Ft(V)),o(null),v(null),d(new Map),p(new Map),M([]),k(!1)},ae=Qf(r),J=Kn(r),Q=c.size>0?Math.max(...c.values()):0,O=r.nodes.filter(V=>Ii(r,V.id)===1),ee=new Map;if(ae)for(const V of r.nodes){let W=0;for(const ve of r.nodes)if(V.id!==ve.id){const oe=Wf(r,V.id,ve.id);oe.found&&(W=Math.max(W,oe.path.length-1))}ee.set(V.id,W)}const B=ee.size>0?Math.min(...ee.values()):0,Z=ee.size>0?Math.max(...ee.values()):0,P=[...ee.entries()].filter(([V,W])=>W===B).map(([V])=>V);return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${s}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Tree Visualizer"}),e.jsx("p",{className:"text-dark-300 mb-6",children:"Explore tree properties. Shift-click a vertex to set it as root and see the tree structure."}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("canvas",{ref:n,width:N,height:C,className:"rounded-xl border border-dark-600",style:{cursor:A==="addNode"?"crosshair":T?"pointer":"default"},onMouseDown:G,onMouseMove:I,onMouseUp:$,onMouseLeave:()=>{F(null),w(null)}}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:[{mode:"view",label:"View"},{mode:"addNode",label:"+ Vertex"},{mode:"addEdge",label:"+ Edge"},{mode:"delete",label:"Delete"}].map(({mode:V,label:W})=>e.jsx("button",{onClick:()=>{z(V),ie(null)},className:`px-3 py-2 rounded-lg text-sm font-medium ${A===V?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:W},V))})]}),e.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Load Graph"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:gz.map(({value:V,label:W})=>e.jsx("button",{onClick:()=>fe(V),className:"px-3 py-1.5 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:W},V))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:`p-3 rounded-lg ${ae?"bg-green-900/30":"bg-red-900/30"}`,children:[e.jsx("div",{className:`text-lg font-bold ${ae?"text-green-400":"text-red-400"}`,children:ae?"Is a Tree":"Not a Tree"}),e.jsx("div",{className:"text-sm text-dark-300",children:J?r.edges.length!==r.nodes.length-1?`${r.edges.length} edges (need ${r.nodes.length-1})`:"n-1 edges, connected":"Not connected"})]}),e.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[e.jsxs("div",{className:"text-lg font-bold text-dark-100",children:[r.nodes.length," vertices, ",r.edges.length," edges"]}),e.jsxs("div",{className:"text-sm text-dark-300",children:[O.length," leaves"]})]})]}),ae&&e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Radius:"}),e.jsx("span",{className:"text-dark-100",children:B})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Diameter:"}),e.jsx("span",{className:"text-dark-100",children:Z})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Center:"}),e.jsx("span",{className:"text-dark-100",children:P.map(V=>{var W;return((W=r.nodes.find(ve=>ve.id===V))==null?void 0:W.label)??V}).join(", ")})]}),l&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Height (from root):"}),e.jsx("span",{className:"text-dark-100",children:Q})]})]}),ae&&e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-medium text-dark-200 mb-2",children:["Root: ",l?((H=r.nodes.find(V=>V.id===l))==null?void 0:H.label)??l:"None (Shift-click to set)"]}),l&&e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:()=>k(!_),className:`px-3 py-1.5 rounded-lg text-sm ${_?"bg-green-600 text-white":"bg-dark-600 text-dark-200 hover:bg-dark-500"}`,children:_?"Hierarchical Layout On":"Apply Hierarchical Layout"})})]}),g&&ae&&e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-medium text-dark-200 mb-2",children:["Selected: ",((le=r.nodes.find(V=>V.id===g))==null?void 0:le.label)??g]}),e.jsxs("div",{className:"text-sm text-dark-300 space-y-1",children:[e.jsxs("div",{children:["Level: ",c.get(g)??"N/A"]}),e.jsxs("div",{children:["Eccentricity: ",ee.get(g)??"N/A"]}),y.length>1&&e.jsxs("div",{children:["Path to root: ",y.map(V=>{var W;return((W=r.nodes.find(ve=>ve.id===V))==null?void 0:W.label)??V}).join("  ")]})]})]}),e.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Shift-click:"})," Set vertex as root"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Click:"})," Select vertex to see path to root"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Drag:"})," Move vertices (in view mode)"]})]})]})]})]})}class jz{constructor(t){wn(this,"parent");wn(this,"rank");this.parent=new Map,this.rank=new Map;for(const n of t)this.parent.set(n,n),this.rank.set(n,0)}find(t){return this.parent.get(t)!==t&&this.parent.set(t,this.find(this.parent.get(t))),this.parent.get(t)}union(t,n){const r=this.find(t),i=this.find(n);if(r===i)return!1;const l=this.rank.get(r),o=this.rank.get(i);return l<o?this.parent.set(r,i):l>o?this.parent.set(i,r):(this.parent.set(i,r),this.rank.set(r,l+1)),!0}}function yz(){return{nodes:[{id:"A",x:150,y:100,label:"A"},{id:"B",x:300,y:80,label:"B"},{id:"C",x:450,y:120,label:"C"},{id:"D",x:100,y:250,label:"D"},{id:"E",x:250,y:220,label:"E"},{id:"F",x:400,y:260,label:"F"},{id:"G",x:500,y:320,label:"G"},{id:"H",x:200,y:350,label:"H"}],edges:[{source:"A",target:"B",weight:4},{source:"A",target:"D",weight:2},{source:"A",target:"E",weight:3},{source:"B",target:"C",weight:5},{source:"B",target:"E",weight:1},{source:"C",target:"F",weight:6},{source:"C",target:"G",weight:4},{source:"D",target:"E",weight:3},{source:"D",target:"H",weight:5},{source:"E",target:"F",weight:2},{source:"E",target:"H",weight:4},{source:"F",target:"G",weight:3},{source:"G",target:"H",weight:6}]}}function bz({className:s=""}){const t=D.useRef(null),[n,r]=D.useState(yz()),[i,l]=D.useState("kruskal"),[o,c]=D.useState([]),[d,u]=D.useState(-1),[p,g]=D.useState(!1),[v,y]=D.useState("medium"),[M,L]=D.useState(new Set),[F,T]=D.useState(null),[w,A]=D.useState(null),[z,Y]=D.useState(null),[ie,_]=D.useState("view"),[k,N]=D.useState(null),[C,G]=D.useState(1),[I,$]=D.useState(null),fe=600,ae=400,J={slow:1500,medium:800,fast:300},Q=se=>{const he=[],be=[...se.edges].sort((ze,nt)=>(ze.weight??0)-(nt.weight??0)),pe=new jz(se.nodes.map(ze=>ze.id));let _e=0;for(const ze of be)he.push({edge:ze,action:"consider",totalWeight:_e}),pe.union(ze.source,ze.target)?(_e+=ze.weight??0,he.push({edge:ze,action:"add",totalWeight:_e,reason:"Connects new component"})):he.push({edge:ze,action:"reject",totalWeight:_e,reason:"Would create cycle"});return he},O=(se,he)=>{const be=[];Qs(se);const pe=new Set([he]);let _e=0;for(;pe.size<se.nodes.length;){let ze=null,nt=1/0;for(const It of se.edges){const Rs=pe.has(It.source),rs=pe.has(It.target);if(Rs!==rs){const Yt=It.weight??0;be.push({edge:It,action:"consider",totalWeight:_e}),Yt<nt&&(nt=Yt,ze=It)}}if(ze){_e+=ze.weight??0;const It=pe.has(ze.source)?ze.target:ze.source;pe.add(It),be.push({edge:ze,action:"add",totalWeight:_e,reason:`Adds vertex ${It}`})}else break}return be};D.useEffect(()=>{if(!p||d>=o.length-1){d>=o.length-1&&g(!1);return}const se=setTimeout(()=>{u(he=>he+1)},J[v]);return()=>clearTimeout(se)},[p,d,o.length,v]),D.useEffect(()=>{if(d<0){L(new Set),T(null);return}const se=new Set;for(let be=0;be<=d;be++){const pe=o[be];pe.action==="add"&&(se.add(`${pe.edge.source}-${pe.edge.target}`),se.add(`${pe.edge.target}-${pe.edge.source}`)),pe.action==="consider"&&pe.edge}L(se);const he=o[d];(he==null?void 0:he.action)==="consider"?T(he.edge):T(null)},[d,o]),D.useEffect(()=>{const se=t.current;if(!se)return;const he=se.getContext("2d");if(he){tr(he,fe,ae),sr(he,fe,ae);for(const be of n.edges){const pe=`${be.source}-${be.target}`,_e=M.has(pe),ze=F&&(be.source===F.source&&be.target===F.target||be.source===F.target&&be.target===F.source);Fr(he,be,n.nodes,{highlighted:_e,color:_e?Me.path:ze?Me.nodeSelected:Me.edge,width:_e?4:ze?3:2,showWeight:!0})}if(ie==="addEdge"&&k&&z&&z!==k){const be=n.nodes.find(_e=>_e.id===k),pe=n.nodes.find(_e=>_e.id===z);be&&pe&&(he.strokeStyle=Me.nodeSelected,he.lineWidth=2,he.setLineDash([6,4]),he.beginPath(),he.moveTo(be.x,be.y),he.lineTo(pe.x,pe.y),he.stroke(),he.setLineDash([]))}for(const be of n.nodes){const pe=i==="prim"&&be.id===I;nr(he,be,{selected:pe,highlighted:be.id===z||be.id===k,fillColor:pe?Me.path:void 0})}}},[n,M,F,z,k,ie,i,I]);const ee=D.useCallback(se=>{const he=t.current;if(!he)return;const{x:be,y:pe}=Xt(se,he),_e=ns(be,pe,n.nodes);if(ie==="addNode"&&!_e){const ze=String.fromCharCode(65+n.nodes.length);r(to(n,be,pe,ze));return}if(ie==="addEdge"&&_e){k?_e.id!==k&&(r(so(n,k,_e.id,C)),N(null)):N(_e.id);return}_e&&(se.shiftKey&&i==="prim"?$(_e.id):A(_e.id))},[n,ie,k,C,i]),B=D.useCallback(se=>{var _e;const he=t.current;if(!he)return;const{x:be,y:pe}=Xt(se,he);Y(((_e=ns(be,pe,n.nodes))==null?void 0:_e.id)??null),w&&ie==="view"&&r(Ha(n,w,be,pe))},[n,w,ie]),Z=D.useCallback(()=>{A(null)},[]),P=()=>{var se;if(i==="kruskal")c(Q(n));else{const he=I??((se=n.nodes[0])==null?void 0:se.id);he&&($(he),c(O(n,he)))}u(-1),L(new Set),g(!0)},H=()=>{c([]),u(-1),L(new Set),T(null),g(!1)},le=()=>{d<o.length-1&&u(se=>se+1)},V=()=>{d>0&&u(se=>se-1)},W=d>=0?o[d]:null,ve=(W==null?void 0:W.totalWeight)??0,oe=Kn(n);return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${s}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Minimum Spanning Tree"}),e.jsx("p",{className:"text-dark-300 mb-6",children:"Watch Kruskal's or Prim's algorithm find the minimum spanning tree step by step."}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("canvas",{ref:t,width:fe,height:ae,className:"rounded-xl border border-dark-600",style:{cursor:ie==="addNode"?"crosshair":z?"pointer":"default"},onMouseDown:ee,onMouseMove:B,onMouseUp:Z,onMouseLeave:()=>{A(null),Y(null)}}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[[{mode:"view",label:"View"},{mode:"addNode",label:"+ Vertex"},{mode:"addEdge",label:"+ Edge"}].map(({mode:se,label:he})=>e.jsx("button",{onClick:()=>{_(se),N(null)},className:`px-3 py-2 rounded-lg text-sm font-medium ${ie===se?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:he},se)),ie==="addEdge"&&e.jsx("input",{type:"number",min:"1",max:"99",value:C,onChange:se=>G(parseInt(se.target.value)||1),className:"w-16 px-2 py-2 bg-dark-700 text-dark-100 rounded-lg text-sm",placeholder:"Weight"})]})]}),e.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Algorithm"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>{l("kruskal"),H()},className:`px-4 py-2 rounded-lg text-sm font-medium ${i==="kruskal"?"bg-green-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:"Kruskal's"}),e.jsx("button",{onClick:()=>{l("prim"),H()},className:`px-4 py-2 rounded-lg text-sm font-medium ${i==="prim"?"bg-green-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:"Prim's"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Speed"}),e.jsx("div",{className:"flex gap-2",children:["slow","medium","fast"].map(se=>e.jsx("button",{onClick:()=>y(se),className:`px-3 py-1.5 rounded-lg text-sm capitalize ${v===se?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:se},se))})]}),e.jsxs("div",{className:"flex gap-2",children:[!p&&d<0&&e.jsx("button",{onClick:P,disabled:!oe,className:`px-4 py-2 rounded-lg text-sm font-medium ${oe?"bg-green-600 text-white hover:bg-green-700":"bg-dark-600 text-dark-400 cursor-not-allowed"}`,children:"Start Algorithm"}),(p||d>=0)&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>g(!p),className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700",children:p?"Pause":"Play"}),e.jsx("button",{onClick:V,disabled:d<=0,className:"px-3 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600 disabled:opacity-50",children:" Step"}),e.jsx("button",{onClick:le,disabled:d>=o.length-1,className:"px-3 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600 disabled:opacity-50",children:"Step "}),e.jsx("button",{onClick:H,className:"px-4 py-2 bg-red-600/20 text-red-400 rounded-lg text-sm hover:bg-red-600/30",children:"Reset"})]})]}),W&&e.jsxs("div",{className:`p-4 rounded-lg ${W.action==="add"?"bg-green-900/30":W.action==="reject"?"bg-red-900/30":"bg-yellow-900/30"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"font-medium text-dark-100",children:["Step ",d+1,"/",o.length]}),e.jsx("span",{className:`text-sm ${W.action==="add"?"text-green-400":W.action==="reject"?"text-red-400":"text-yellow-400"}`,children:W.action==="add"?"Added":W.action==="reject"?"Rejected":"Considering"})]}),e.jsxs("div",{className:"text-sm text-dark-300",children:["Edge: ",W.edge.source,"  ",W.edge.target,"(weight: ",W.edge.weight,")"]}),W.reason&&e.jsx("div",{className:"text-sm text-dark-400 mt-1",children:W.reason})]}),e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-dark-300",children:"Total MST Weight:"}),e.jsx("span",{className:"text-xl font-bold text-green-400",children:ve})]}),e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsx("span",{className:"text-dark-300",children:"Edges in MST:"}),e.jsxs("span",{className:"text-dark-100",children:[M.size/2,"/",n.nodes.length-1]})]})]}),!oe&&e.jsx("div",{className:"p-3 bg-red-900/30 rounded-lg text-red-400 text-sm",children:"Graph is not connected. MST algorithms require a connected graph."}),e.jsx("div",{className:"text-sm text-dark-400 space-y-1",children:i==="kruskal"?e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsx("strong",{children:"Kruskal's Algorithm:"})}),e.jsx("p",{children:"1. Sort edges by weight"}),e.jsx("p",{children:"2. Add edges if they don't create a cycle"}),e.jsx("p",{children:"3. Stop when n-1 edges are added"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{children:e.jsx("strong",{children:"Prim's Algorithm:"})}),e.jsx("p",{children:"1. Start from a vertex (Shift-click to set)"}),e.jsx("p",{children:"2. Add minimum weight edge to a new vertex"}),e.jsx("p",{children:"3. Repeat until all vertices are included"})]})})]})]})]})}function Hh(s,t,n){const r=[];for(let l=0;l<s;l++)r.push({id:`L${l}`,x:150,y:80+320/(s+1)*(l+1),label:`${l+1}`,color:"#60a5fa"});for(let l=0;l<t;l++)r.push({id:`R${l}`,x:450,y:80+320/(t+1)*(l+1),label:`${String.fromCharCode(65+l)}`,color:"#f472b6"});const i=n.map(([l,o])=>({source:`L${l}`,target:`R${o}`}));return{nodes:r,edges:i}}const Fv=[{name:"Job Assignment",graph:Hh(4,4,[[0,0],[0,1],[1,1],[1,2],[2,2],[2,3],[3,0],[3,3]])},{name:"Marriage Problem",graph:Hh(3,3,[[0,0],[0,1],[1,0],[1,1],[1,2],[2,1],[2,2]])},{name:"Hall's Counter",graph:Hh(3,2,[[0,0],[0,1],[1,0],[1,1],[2,0],[2,1]])},{name:"Perfect Matching",graph:Hh(4,4,[[0,0],[0,1],[1,1],[1,2],[2,2],[2,3],[3,3],[3,0]])}];function wz({className:s=""}){var Q;const t=D.useRef(null),[n,r]=D.useState(Fv[0].graph),[i,l]=D.useState(new Set),[o,c]=D.useState([]),[d,u]=D.useState(!1),[p,g]=D.useState(null),[v,y]=D.useState(null),[M,L]=D.useState(!1),[F,T]=D.useState(new Set),w=600,A=400;D.useCallback(()=>{const O=n.nodes.filter(P=>P.id.startsWith("L"));Qs(n);const ee=O.find(P=>{for(const H of n.edges)if((H.source===P.id||H.target===P.id)&&i.has(`${H.source}-${H.target}`))return!1;return!0});if(!ee)return null;const B=[{node:ee.id,path:[ee.id]}],Z=new Set([ee.id]);for(;B.length>0;){const{node:P,path:H}=B.shift(),le=P.startsWith("L"),V=[];for(const W of n.edges)W.source===P&&V.push(W.target),W.target===P&&V.push(W.source);for(const W of V){if(Z.has(W))continue;const ve=`${P}-${W}`,oe=`${W}-${P}`,se=i.has(ve)||i.has(oe);if(le&&!se){const he=[...H,W];if(![...i].some(pe=>pe.includes(W)))return he;Z.add(W),B.push({node:W,path:he})}else!le&&se&&(Z.add(W),B.push({node:W,path:[...H,W]}))}}return null},[n,i]),D.useCallback(O=>{const ee=new Set(i);for(let B=0;B<O.length-1;B++){const Z=`${O[B]}-${O[B+1]}`,P=`${O[B+1]}-${O[B]}`;B%2===0?ee.add(Z):(ee.delete(Z),ee.delete(P))}l(ee)},[i]);const z=()=>{u(!0);let O=new Set;l(O),setTimeout(()=>{let B=!0;for(;B;){B=!1;const Z=Y(O);Z&&(O=ie(O,Z),B=!0)}l(O),u(!1)},100)},Y=O=>{const ee=n.nodes.filter(B=>B.id.startsWith("L"));for(const B of ee){let Z=!1;for(const le of O)if(le.includes(B.id)){Z=!0;break}if(Z)continue;const P=[{node:B.id,path:[B.id]}],H=new Set([B.id]);for(;P.length>0;){const{node:le,path:V}=P.shift(),W=le.startsWith("L");for(const ve of n.edges){let oe=null;if(ve.source===le&&(oe=ve.target),ve.target===le&&(oe=ve.source),!oe||H.has(oe))continue;const se=`${le}-${oe}`,he=`${oe}-${le}`,be=O.has(se)||O.has(he);if(W&&!be){const pe=[...V,oe];if(![...O].some(ze=>ze.includes(oe)))return pe;H.add(oe),P.push({node:oe,path:pe})}else!W&&be&&(H.add(oe),P.push({node:oe,path:[...V,oe]}))}}}return null},ie=(O,ee)=>{const B=new Set(O);for(let Z=0;Z<ee.length-1;Z++){const P=`${ee[Z]}-${ee[Z+1]}`,H=`${ee[Z+1]}-${ee[Z]}`;Z%2===0?B.add(P):(B.delete(P),B.delete(H))}return B};D.useEffect(()=>{if(!M){T(new Set);return}const O=new Set,ee=new Set;for(const Z of i){const[P,H]=Z.split("-");ee.add(H)}for(const Z of ee)O.add(Z);const B=new Set;for(const Z of i){const[P]=Z.split("-");B.add(P)}for(const Z of n.nodes.filter(P=>P.id.startsWith("L")))B.has(Z.id)||n.edges.some(H=>H.source===Z.id||H.target===Z.id)&&O.add(Z.id);T(O)},[M,i,n]);const _=()=>{const O=n.nodes.filter(B=>B.id.startsWith("L")),ee=O.length;for(let B=1;B<1<<ee;B++){const Z=O.filter((H,le)=>B&1<<le),P=new Set;for(const H of Z)for(const le of n.edges)le.source===H.id&&P.add(le.target),le.target===H.id&&P.add(le.source);if(P.size<Z.length)return{satisfied:!1,violatingSet:Z.map(H=>H.id)}}return{satisfied:!0}};D.useEffect(()=>{const O=t.current;if(!O)return;const ee=O.getContext("2d");if(ee){tr(ee,w,A),sr(ee,w,A),ee.fillStyle=Me.textDark,ee.font="14px Inter, system-ui, sans-serif",ee.textAlign="center",ee.fillText("Workers",150,50),ee.fillText("Jobs",450,50);for(const B of n.edges){const Z=`${B.source}-${B.target}`,P=`${B.target}-${B.source}`,H=i.has(Z)||i.has(P),le=o.length>0&&o.some((V,W)=>W<o.length-1&&(o[W]===B.source&&o[W+1]===B.target||o[W]===B.target&&o[W+1]===B.source));Fr(ee,B,n.nodes,{highlighted:H,color:H?Me.matching:le?Me.path:Me.edge,width:H?4:le?3:2})}for(const B of n.nodes){const Z=F.has(B.id),P=o.includes(B.id);nr(ee,B,{highlighted:B.id===v||P,fillColor:Z?Me.nodeSelected:B.color,strokeWidth:Z?3:2})}}},[n,i,o,v,F]);const k=D.useCallback(O=>{var P;const ee=t.current;if(!ee)return;const{x:B,y:Z}=Xt(O,ee);y(((P=ns(B,Z,n.nodes))==null?void 0:P.id)??null)},[n]),N=D.useCallback(O=>{const ee=t.current;if(!ee)return;const{x:B,y:Z}=Xt(O,ee);for(const P of n.edges){const H=n.nodes.find(oe=>oe.id===P.source),le=n.nodes.find(oe=>oe.id===P.target);if(!H||!le)continue;const V=(H.x+le.x)/2,W=(H.y+le.y)/2;if(Math.sqrt((B-V)**2+(Z-W)**2)<30){const oe=`${P.source}-${P.target}`,se=`${P.target}-${P.source}`,he=new Set(i);he.has(oe)||he.has(se)?(he.delete(oe),he.delete(se)):[...he].some(pe=>pe.includes(P.source)||pe.includes(P.target))||he.add(oe),l(he);return}}},[n,i]),C=O=>{r(O.graph),l(new Set),c([]),T(new Set)},G=()=>{l(new Set),c([])},I=i.size,$=n.nodes.filter(O=>O.id.startsWith("L")),fe=n.nodes.filter(O=>O.id.startsWith("R")),ae=I===Math.min($.length,fe.length),J=_();return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${s}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Matching Explorer"}),e.jsx("p",{className:"text-dark-300 mb-6",children:"Explore bipartite matchings. Click on edges to add/remove them from the matching, or use the algorithm to find a maximum matching."}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("canvas",{ref:t,width:w,height:A,className:"rounded-xl border border-dark-600",style:{cursor:v?"pointer":"default"},onMouseMove:k,onClick:N,onMouseLeave:()=>y(null)}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:Fv.map((O,ee)=>e.jsx("button",{onClick:()=>C(O),className:"px-3 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:O.name},ee))})]}),e.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-400",children:I}),e.jsx("div",{className:"text-sm text-dark-300",children:"Matching Size"})]}),e.jsxs("div",{className:`p-3 rounded-lg ${ae?"bg-green-900/30":"bg-dark-700/50"}`,children:[e.jsx("div",{className:`text-lg font-bold ${ae?"text-green-400":"text-dark-300"}`,children:ae?"Perfect":"Not Perfect"}),e.jsx("div",{className:"text-sm text-dark-300",children:"Matching Status"})]})]}),e.jsxs("div",{className:`p-4 rounded-lg ${J.satisfied?"bg-green-900/30":"bg-red-900/30"}`,children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsxs("span",{className:`font-medium ${J.satisfied?"text-green-400":"text-red-400"}`,children:["Hall's Condition: ",J.satisfied?"Satisfied":"Violated"]})}),e.jsx("div",{className:"text-sm text-dark-300",children:J.satisfied?"For every subset S of the left partition, |N(S)|  |S|":`Violated by subset: {${(Q=J.violatingSet)==null?void 0:Q.map(O=>{var ee;return(ee=n.nodes.find(B=>B.id===O))==null?void 0:ee.label}).join(", ")}}`})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:z,disabled:d,className:"px-4 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 disabled:opacity-50",children:d?"Finding...":"Find Maximum Matching"}),e.jsx("button",{onClick:G,className:"px-4 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:"Clear Matching"}),e.jsxs("button",{onClick:()=>L(!M),className:`px-4 py-2 rounded-lg text-sm ${M?"bg-amber-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:[M?"Hide":"Show"," Vertex Cover"]})]}),M&&e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Knig-Egervry Theorem"}),e.jsx("div",{className:"text-sm text-dark-300",children:"In a bipartite graph: max matching = min vertex cover"}),e.jsxs("div",{className:"mt-2 text-dark-100",children:["Vertex Cover Size: ",F.size]})]}),e.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Click edge:"})," Toggle in matching"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Purple edges:"})," Current matching"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Yellow vertices:"})," Vertex cover"]})]})]})]})]})}function Vv(){return{nodes:[{id:"s",x:80,y:200,label:"s",color:"#22c55e"},{id:"a",x:200,y:100,label:"a"},{id:"b",x:200,y:300,label:"b"},{id:"c",x:350,y:100,label:"c"},{id:"d",x:350,y:300,label:"d"},{id:"t",x:520,y:200,label:"t",color:"#ef4444"}],edges:[{source:"s",target:"a",capacity:10,flow:0,directed:!0},{source:"s",target:"b",capacity:8,flow:0,directed:!0},{source:"a",target:"c",capacity:5,flow:0,directed:!0},{source:"a",target:"d",capacity:7,flow:0,directed:!0},{source:"b",target:"a",capacity:3,flow:0,directed:!0},{source:"b",target:"d",capacity:8,flow:0,directed:!0},{source:"c",target:"t",capacity:10,flow:0,directed:!0},{source:"d",target:"c",capacity:4,flow:0,directed:!0},{source:"d",target:"t",capacity:12,flow:0,directed:!0}],source:"s",sink:"t"}}function kz(){return{nodes:[{id:"s",x:100,y:200,label:"s",color:"#22c55e"},{id:"a",x:250,y:100,label:"a"},{id:"b",x:250,y:300,label:"b"},{id:"t",x:500,y:200,label:"t",color:"#ef4444"}],edges:[{source:"s",target:"a",capacity:5,flow:0,directed:!0},{source:"s",target:"b",capacity:4,flow:0,directed:!0},{source:"a",target:"b",capacity:3,flow:0,directed:!0},{source:"a",target:"t",capacity:6,flow:0,directed:!0},{source:"b",target:"t",capacity:5,flow:0,directed:!0}],source:"s",sink:"t"}}function Tz({className:s=""}){const t=D.useRef(null),[n,r]=D.useState(Vv()),[i,l]=D.useState([]),[o,c]=D.useState(-1),[d,u]=D.useState(!1),[p,g]=D.useState("medium"),[v,y]=D.useState([]),[M,L]=D.useState(!1),[F,T]=D.useState(new Set),[w,A]=D.useState(!1),[z,Y]=D.useState(null),ie=600,_=400,k={slow:1500,medium:800,fast:300},N=Q=>{const O=[{node:Q.source,path:[Q.source]}],ee=new Set([Q.source]);for(;O.length>0;){const{node:B,path:Z}=O.shift();for(const P of Q.edges){if(P.source===B&&!ee.has(P.target)&&P.capacity-P.flow>0){const le=[...Z,P.target];if(P.target===Q.sink){let V=1/0;for(let W=0;W<le.length-1;W++){const ve=Q.edges.find(oe=>oe.source===le[W]&&oe.target===le[W+1]);ve&&(V=Math.min(V,ve.capacity-ve.flow))}return{path:le,bottleneck:V}}ee.add(P.target),O.push({node:P.target,path:le})}if(P.target===B&&!ee.has(P.source)&&P.flow>0){const H=[...Z,P.source];if(P.source===Q.sink){let le=P.flow;return{path:H,bottleneck:le}}ee.add(P.source),O.push({node:P.source,path:H})}}}return null},C=()=>{u(!0);const Q=[],O=JSON.parse(JSON.stringify(n));for(const H of O.edges)H.flow=0;let ee=N(O);for(;ee;){const{path:H,bottleneck:le}=ee;Q.push({path:H,flow:le,action:"find_path"});for(let V=0;V<H.length-1;V++){const W=O.edges.find(ve=>ve.source===H[V]&&ve.target===H[V+1]);W&&(W.flow+=le)}Q.push({path:H,flow:le,action:"augment"}),ee=N(O)}const B=O.edges.filter(H=>H.source===O.source).reduce((H,le)=>H+le.flow,0);Q.push({path:[],flow:B,action:"complete"}),l(Q),c(-1);const Z=new Set([O.source]),P=[O.source];for(;P.length>0;){const H=P.shift();for(const le of O.edges)le.source===H&&!Z.has(le.target)&&le.capacity-le.flow>0&&(Z.add(le.target),P.push(le.target))}T(Z)};D.useEffect(()=>{if(!d||o>=i.length-1){if(o>=i.length-1&&i.length>0){u(!1);const O=JSON.parse(JSON.stringify(n));for(const ee of O.edges)ee.flow=0;for(let ee=0;ee<i.length;ee++){const B=i[ee];if(B.action==="augment")for(let Z=0;Z<B.path.length-1;Z++){const P=O.edges.find(H=>H.source===B.path[Z]&&H.target===B.path[Z+1]);P&&(P.flow+=B.flow)}}r(O)}return}const Q=setTimeout(()=>{c(O=>O+1)},k[p]);return()=>clearTimeout(Q)},[d,o,i.length,p]),D.useEffect(()=>{if(o<0){y([]);return}const Q=i[o];if(Q&&(y(Q.path),Q.action==="augment")){const O=JSON.parse(JSON.stringify(n));for(let ee=0;ee<=o;ee++){const B=i[ee];if(B.action==="augment")for(let Z=0;Z<B.path.length-1;Z++){const P=O.edges.find(H=>H.source===B.path[Z]&&H.target===B.path[Z+1]);P&&(P.flow+=B.flow)}}r(O)}},[o,i]),D.useEffect(()=>{const Q=t.current;if(!Q)return;const O=Q.getContext("2d");if(!O)return;tr(O,ie,_),sr(O,ie,_);const ee=new Set;for(let B=0;B<v.length-1;B++)ee.add(`${v[B]}-${v[B+1]}`);for(const B of n.edges){const Z=ee.has(`${B.source}-${B.target}`),P=B.flow>=B.capacity,H=n.nodes.find(V=>V.id===B.source),le=n.nodes.find(V=>V.id===B.target);if(H&&le){const V=(H.x+le.x)/2,W=(H.y+le.y)/2;O.strokeStyle=Z?Me.flow:P?"#ef4444":B.flow>0?Me.path:Me.edge,O.lineWidth=Z?4:B.flow>0?3:2;const ve=le.x-H.x,oe=le.y-H.y,se=Math.sqrt(ve*ve+oe*oe),he=ve/se,be=oe/se,pe=H.x+he*16,_e=H.y+be*16,ze=le.x-he*26,nt=le.y-be*26;O.beginPath(),O.moveTo(pe,_e),O.lineTo(ze,nt),O.stroke();const It=le.x-he*16,Rs=le.y-be*16,rs=Math.atan2(oe,ve);O.fillStyle=O.strokeStyle,O.save(),O.translate(It,Rs),O.rotate(rs),O.beginPath(),O.moveTo(0,0),O.lineTo(-10,5),O.lineTo(-10,-5),O.closePath(),O.fill(),O.restore();const Yt=15,vn=-be*Yt,Vr=he*Yt;O.fillStyle=Me.background;const Yi=`${B.flow}/${B.capacity}`,Kr=O.measureText(Yi);O.fillRect(V+vn-Kr.width/2-4,W+Vr-10,Kr.width+8,20),O.fillStyle=P?"#ef4444":Me.text,O.font="12px Inter, system-ui, sans-serif",O.textAlign="center",O.textBaseline="middle",O.fillText(Yi,V+vn,W+Vr)}}if(w&&F.size>0){O.strokeStyle="#ef4444",O.lineWidth=3,O.setLineDash([8,4]);for(const B of n.edges)if(F.has(B.source)&&!F.has(B.target)){const Z=n.nodes.find(H=>H.id===B.source),P=n.nodes.find(H=>H.id===B.target);Z&&P&&(O.beginPath(),O.moveTo(Z.x,Z.y),O.lineTo(P.x,P.y),O.stroke())}O.setLineDash([])}for(const B of n.nodes){const Z=v.includes(B.id),P=w&&F.has(B.id);nr(O,B,{fillColor:B.color??(P?"#22c55e40":Me.node),highlighted:Z||B.id===z,strokeColor:P?"#22c55e":void 0,strokeWidth:P?3:2})}},[n,v,w,F,z]);const G=D.useCallback(Q=>{var Z;const O=t.current;if(!O)return;const{x:ee,y:B}=Xt(Q,O);Y(((Z=ns(ee,B,n.nodes))==null?void 0:Z.id)??null)},[n]),I=()=>{r(Vv()),l([]),c(-1),y([]),T(new Set),u(!1)},$=()=>{r(kz()),l([]),c(-1),y([]),T(new Set),u(!1)},fe=()=>{const Q={...n};Q.edges=Q.edges.map(O=>({...O,flow:0})),r(Q),l([]),c(-1),y([]),T(new Set)},ae=n.edges.filter(Q=>Q.source===n.source).reduce((Q,O)=>Q+O.flow,0),J=o>=0?i[o]:null;return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${s}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Network Flow"}),e.jsx("p",{className:"text-dark-300 mb-6",children:"Visualize the Ford-Fulkerson algorithm finding maximum flow. Watch as augmenting paths are discovered and flow is pushed through the network."}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("canvas",{ref:t,width:ie,height:_,className:"rounded-xl border border-dark-600",style:{cursor:z?"pointer":"default"},onMouseMove:G,onMouseLeave:()=>Y(null)}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e.jsx("button",{onClick:I,className:"px-3 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:"Complex Network"}),e.jsx("button",{onClick:$,className:"px-3 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:"Simple Network"})]})]}),e.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Animation Speed"}),e.jsx("div",{className:"flex gap-2",children:["slow","medium","fast"].map(Q=>e.jsx("button",{onClick:()=>g(Q),className:`px-3 py-1.5 rounded-lg text-sm capitalize ${p===Q?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:Q},Q))})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:C,disabled:d,className:"px-4 py-2 bg-cyan-600 text-white rounded-lg text-sm font-medium hover:bg-cyan-700 disabled:opacity-50",children:d?"Running...":"Run Ford-Fulkerson"}),e.jsx("button",{onClick:fe,className:"px-4 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:"Clear Flows"}),e.jsxs("button",{onClick:()=>A(!w),disabled:F.size===0,className:`px-4 py-2 rounded-lg text-sm ${w?"bg-red-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600 disabled:opacity-50"}`,children:[w?"Hide":"Show"," Min-Cut"]})]}),J&&e.jsxs("div",{className:`p-4 rounded-lg ${J.action==="complete"?"bg-green-900/30":J.action==="augment"?"bg-cyan-900/30":"bg-yellow-900/30"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"font-medium text-dark-100",children:J.action==="complete"?"Complete!":J.action==="augment"?"Augmenting...":"Found Path"}),e.jsxs("span",{className:"text-sm text-dark-300",children:["Step ",o+1,"/",i.length]})]}),J.path.length>0&&e.jsxs("div",{className:"text-sm text-dark-300",children:["Path: ",J.path.join("  ")]}),J.action!=="complete"&&e.jsxs("div",{className:"text-sm text-cyan-400 mt-1",children:["Bottleneck: ",J.flow]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:ae}),e.jsx("div",{className:"text-sm text-dark-300",children:"Total Flow"})]}),e.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-dark-100",children:F.size>0?ae:""}),e.jsx("div",{className:"text-sm text-dark-300",children:"Min-Cut Value"})]})]}),e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Max-Flow Min-Cut Theorem"}),e.jsx("div",{className:"text-sm text-dark-300",children:"The maximum flow equals the minimum cut capacity. The green vertices show the source side of the minimum cut."})]}),e.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-green-400",children:""})," Source vertex"]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-red-400",children:""})," Sink vertex"]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-cyan-400",children:""})," Current augmenting path"]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-red-400",children:""})," Saturated edge (flow = capacity)"]})]})]})]})]})}const wm=["#ef4444","#22c55e","#3b82f6","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#84cc16"],Sz=[{value:"petersen",label:"Petersen",expectedChromatic:3},{value:"K5",label:"K",expectedChromatic:5},{value:"cycle",label:"C (even)",expectedChromatic:2},{value:"cube",label:"Cube (Q)",expectedChromatic:2},{value:"K33",label:"K,",expectedChromatic:2},{value:"complete",label:"K",expectedChromatic:4}];function Nz({className:s=""}){const t=D.useRef(null),[n,r]=D.useState(Ft("petersen")),[i,l]=D.useState(new Map),[o,c]=D.useState(new Set),[d,u]=D.useState([]),[p,g]=D.useState(-1),[v,y]=D.useState(!1),[M,L]=D.useState("medium"),[F,T]=D.useState(null),[w,A]=D.useState(null),[z,Y]=D.useState("color"),[ie,_]=D.useState(null),[k,N]=D.useState(0),C=600,G=400,I={slow:1e3,medium:500,fast:200};D.useEffect(()=>{const V=new Set,W=Qs(n);for(const ve of n.nodes){const oe=i.get(ve.id);if(oe===void 0)continue;const se=W.get(ve.id)??[];for(const he of se)i.get(he)===oe&&(V.add(ve.id),V.add(he))}c(V)},[n,i]);const $=()=>{const V=[],W=Qs(n),ve=[...n.nodes].sort((se,he)=>{var be,pe;return(((be=W.get(he.id))==null?void 0:be.length)??0)-(((pe=W.get(se.id))==null?void 0:pe.length)??0)}),oe=new Map;for(const se of ve){const he=new Set,be=W.get(se.id)??[];for(const _e of be){const ze=oe.get(_e);ze!==void 0&&he.add(ze)}let pe=0;for(;he.has(pe);)pe++;oe.set(se.id,pe),V.push({node:se.id,color:pe,action:"color"})}return V};D.useEffect(()=>{if(!v||p>=d.length-1){p>=d.length-1&&y(!1);return}const V=setTimeout(()=>{g(W=>W+1)},I[M]);return()=>clearTimeout(V)},[v,p,d.length,M]),D.useEffect(()=>{if(p<0)return;const V=new Map;for(let W=0;W<=p;W++){const ve=d[W];ve.action==="color"&&V.set(ve.node,ve.color)}l(V)},[p,d]),D.useEffect(()=>{var ve;const V=t.current;if(!V)return;const W=V.getContext("2d");if(W){tr(W,C,G),sr(W,C,G);for(const oe of n.edges){const se=i.get(oe.source),he=i.get(oe.target),be=se!==void 0&&he!==void 0&&se===he;Fr(W,oe,n.nodes,{color:be?"#ef4444":Me.edge,width:be?3:2})}if(z==="addEdge"&&ie&&F&&F!==ie){const oe=n.nodes.find(he=>he.id===ie),se=n.nodes.find(he=>he.id===F);oe&&se&&(W.strokeStyle=Me.nodeSelected,W.lineWidth=2,W.setLineDash([6,4]),W.beginPath(),W.moveTo(oe.x,oe.y),W.lineTo(se.x,se.y),W.stroke(),W.setLineDash([]))}for(const oe of n.nodes){const se=i.get(oe.id),he=o.has(oe.id),be=((ve=d[p])==null?void 0:ve.node)===oe.id;nr(W,oe,{fillColor:se!==void 0?wm[se%wm.length]:"#475569",highlighted:oe.id===F||oe.id===ie||be,strokeColor:he?"#ef4444":be?"#fbbf24":void 0,strokeWidth:he||be?4:2})}}},[n,i,o,F,ie,z,d,p]);const fe=D.useCallback(V=>{const W=t.current;if(!W)return;const{x:ve,y:oe}=Xt(V,W),se=ns(ve,oe,n.nodes);if(z==="addNode"&&!se){r(to(n,ve,oe));return}if(z==="addEdge"&&se){ie?se.id!==ie&&(r(so(n,ie,se.id)),_(null)):_(se.id);return}if(z==="delete"&&se){r(Ec(n,se.id));const he=new Map(i);he.delete(se.id),l(he);return}if(z==="color"&&se){if(V.shiftKey){const he=new Map(i);he.delete(se.id),l(he)}else{const he=new Map(i);he.set(se.id,k),l(he)}return}se&&A(se.id)},[n,i,z,ie,k]),ae=D.useCallback(V=>{var se;const W=t.current;if(!W)return;const{x:ve,y:oe}=Xt(V,W);T(((se=ns(ve,oe,n.nodes))==null?void 0:se.id)??null),w&&r(Ha(n,w,ve,oe))},[n,w]),J=D.useCallback(()=>{A(null)},[]),Q=()=>{l(new Map),u($()),g(-1),y(!0)},O=V=>{r(Ft(V)),l(new Map),u([]),g(-1)},ee=()=>{l(new Map),u([]),g(-1),y(!1)},Z=new Set(i.values()).size,P=Math.max(...n.nodes.map(V=>Ii(n,V.id)),0),H=o.size===0&&i.size===n.nodes.length,le=Z<=Math.max(P,1);return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${s}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Graph Coloring"}),e.jsx("p",{className:"text-dark-300 mb-6",children:"Color vertices so no adjacent vertices share the same color. Click a vertex to assign the selected color, or run the greedy algorithm."}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("canvas",{ref:t,width:C,height:G,className:"rounded-xl border border-dark-600",style:{cursor:z==="addNode"?"crosshair":F?"pointer":"default"},onMouseDown:fe,onMouseMove:ae,onMouseUp:J,onMouseLeave:()=>{A(null),T(null)}}),e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Color Palette"}),e.jsx("div",{className:"flex gap-2",children:wm.slice(0,6).map((V,W)=>e.jsx("button",{onClick:()=>{N(W),Y("color")},className:`w-10 h-10 rounded-lg border-2 transition-all ${k===W&&z==="color"?"border-white scale-110":"border-dark-600 hover:border-dark-400"}`,style:{backgroundColor:V}},W))})]}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:[{mode:"color",label:"Color"},{mode:"addNode",label:"+ Vertex"},{mode:"addEdge",label:"+ Edge"},{mode:"delete",label:"Delete"}].map(({mode:V,label:W})=>e.jsx("button",{onClick:()=>{Y(V),_(null)},className:`px-3 py-2 rounded-lg text-sm font-medium ${z===V?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:W},V))})]}),e.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Load Graph"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Sz.map(({value:V,label:W})=>e.jsx("button",{onClick:()=>O(V),className:"px-3 py-1.5 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:W},V))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Animation Speed"}),e.jsx("div",{className:"flex gap-2",children:["slow","medium","fast"].map(V=>e.jsx("button",{onClick:()=>L(V),className:`px-3 py-1.5 rounded-lg text-sm capitalize ${M===V?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:V},V))})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:Q,disabled:v,className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50",children:v?"Running...":"Run Greedy Algorithm"}),e.jsx("button",{onClick:ee,className:"px-4 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:"Clear Colors"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:`p-3 rounded-lg ${H?"bg-green-900/30":o.size>0?"bg-red-900/30":"bg-dark-700/50"}`,children:[e.jsx("div",{className:`text-2xl font-bold ${H?"text-green-400":o.size>0?"text-red-400":"text-dark-100"}`,children:Z}),e.jsx("div",{className:"text-sm text-dark-300",children:"Colors Used"})]}),e.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-dark-100",children:P}),e.jsx("div",{className:"text-sm text-dark-300",children:"Max Degree ()"})]})]}),e.jsx("div",{className:`p-4 rounded-lg ${H?"bg-green-900/30":o.size>0?"bg-red-900/30":"bg-dark-700/50"}`,children:e.jsx("div",{className:`font-medium ${H?"text-green-400":o.size>0?"text-red-400":"text-dark-200"}`,children:H?"Valid Coloring!":o.size>0?`${o.size} vertices in conflict`:`${n.nodes.length-i.size} vertices uncolored`})}),e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Brooks' Theorem"}),e.jsx("div",{className:"text-sm text-dark-300",children:"For connected graphs (not complete or odd cycles): (G)  (G)"}),e.jsxs("div",{className:"mt-2 text-sm",children:[e.jsx("span",{className:"text-dark-300",children:"Current:"})," ",e.jsxs("span",{className:le?"text-green-400":"text-amber-400",children:[Z," colors   = ",P]})]})]}),e.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Click vertex:"})," Assign selected color"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Shift-click:"})," Remove color"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Red edges:"})," Adjacent same-color vertices"]})]})]})]})]})}const Kv=[{name:"Tetrahedron (K)",graph:_z()},{name:"Cube (Q)",graph:Ft("cube")},{name:"Octahedron",graph:Ez()},{name:"Dodecahedron",graph:Ft("dodecahedron")},{name:"K",graph:Ft("complete")},{name:"Petersen",graph:Ft("petersen")}],Az=[{name:"K",graph:Ft("K5")},{name:"K,",graph:Ft("K33")}];function _z(){return{nodes:[{id:"0",x:300,y:80,label:"1"},{id:"1",x:150,y:300,label:"2"},{id:"2",x:450,y:300,label:"3"},{id:"3",x:300,y:220,label:"4"}],edges:[{source:"0",target:"1"},{source:"0",target:"2"},{source:"0",target:"3"},{source:"1",target:"2"},{source:"1",target:"3"},{source:"2",target:"3"}]}}function Ez(){return{nodes:[{id:"0",x:300,y:60,label:"1"},{id:"1",x:150,y:200,label:"2"},{id:"2",x:300,y:200,label:"3"},{id:"3",x:450,y:200,label:"4"},{id:"4",x:225,y:340,label:"5"},{id:"5",x:375,y:340,label:"6"}],edges:[{source:"0",target:"1"},{source:"0",target:"2"},{source:"0",target:"3"},{source:"1",target:"2"},{source:"2",target:"3"},{source:"1",target:"4"},{source:"2",target:"4"},{source:"2",target:"5"},{source:"3",target:"5"},{source:"4",target:"5"},{source:"1",target:"5"},{source:"3",target:"4"}]}}function Cz({className:s=""}){const t=D.useRef(null),[n,r]=D.useState(Kv[0].graph),[i,l]=D.useState(null),[o,c]=D.useState(null),[d,u]=D.useState("view"),[p,g]=D.useState(null),[v,y]=D.useState(!1),[M,L]=D.useState(0),F=600,T=400;D.useEffect(()=>{let fe=0;for(let ae=0;ae<n.edges.length;ae++)for(let J=ae+1;J<n.edges.length;J++){const Q=n.edges[ae],O=n.edges[J];if(Q.source===O.source||Q.source===O.target||Q.target===O.source||Q.target===O.target)continue;const ee=n.nodes.find(H=>H.id===Q.source),B=n.nodes.find(H=>H.id===Q.target),Z=n.nodes.find(H=>H.id===O.source),P=n.nodes.find(H=>H.id===O.target);ee&&B&&Z&&P&&w(ee,B,Z,P)&&fe++}L(fe)},[n]);function w(fe,ae,J,Q){const O=A(J,Q,fe),ee=A(J,Q,ae),B=A(fe,ae,J),Z=A(fe,ae,Q);return(O>0&&ee<0||O<0&&ee>0)&&(B>0&&Z<0||B<0&&Z>0)}function A(fe,ae,J){return(J.x-fe.x)*(ae.y-fe.y)-(ae.x-fe.x)*(J.y-fe.y)}const z=n.nodes.length,Y=n.edges.length,ie=Kn(n)&&M===0?2-z+Y:null;D.useEffect(()=>{const fe=t.current;if(!fe)return;const ae=fe.getContext("2d");if(!ae)return;tr(ae,F,T),sr(ae,F,T);const J=new Set;for(let Q=0;Q<n.edges.length;Q++)for(let O=Q+1;O<n.edges.length;O++){const ee=n.edges[Q],B=n.edges[O];if(ee.source===B.source||ee.source===B.target||ee.target===B.source||ee.target===B.target)continue;const Z=n.nodes.find(V=>V.id===ee.source),P=n.nodes.find(V=>V.id===ee.target),H=n.nodes.find(V=>V.id===B.source),le=n.nodes.find(V=>V.id===B.target);Z&&P&&H&&le&&w(Z,P,H,le)&&(J.add(Q),J.add(O))}if(n.edges.forEach((Q,O)=>{const ee=J.has(O);Fr(ae,Q,n.nodes,{color:ee?"#ef4444":Me.edge,width:ee?3:2})}),M>0)for(let Q=0;Q<n.edges.length;Q++)for(let O=Q+1;O<n.edges.length;O++){const ee=n.edges[Q],B=n.edges[O];if(ee.source===B.source||ee.source===B.target||ee.target===B.source||ee.target===B.target)continue;const Z=n.nodes.find(V=>V.id===ee.source),P=n.nodes.find(V=>V.id===ee.target),H=n.nodes.find(V=>V.id===B.source),le=n.nodes.find(V=>V.id===B.target);if(Z&&P&&H&&le&&w(Z,P,H,le)){const V=_(Z,P,H,le);V&&(ae.beginPath(),ae.arc(V.x,V.y,6,0,Math.PI*2),ae.fillStyle="#ef4444",ae.fill())}}if(d==="addEdge"&&p&&i&&i!==p){const Q=n.nodes.find(ee=>ee.id===p),O=n.nodes.find(ee=>ee.id===i);Q&&O&&(ae.strokeStyle=Me.nodeSelected,ae.lineWidth=2,ae.setLineDash([6,4]),ae.beginPath(),ae.moveTo(Q.x,Q.y),ae.lineTo(O.x,O.y),ae.stroke(),ae.setLineDash([]))}for(const Q of n.nodes)nr(ae,Q,{highlighted:Q.id===i||Q.id===p})},[n,i,p,d,M]);function _(fe,ae,J,Q){const O=fe.x,ee=fe.y,B=ae.x,Z=ae.y,P=J.x,H=J.y,le=Q.x,V=Q.y,W=(O-B)*(H-V)-(ee-Z)*(P-le);if(Math.abs(W)<1e-4)return null;const ve=((O-P)*(H-V)-(ee-H)*(P-le))/W;return{x:O+ve*(B-O),y:ee+ve*(Z-ee)}}const k=D.useCallback(fe=>{const ae=t.current;if(!ae)return;const{x:J,y:Q}=Xt(fe,ae),O=ns(J,Q,n.nodes);if(d==="addNode"&&!O){r(to(n,J,Q));return}if(d==="addEdge"&&O){p?O.id!==p&&(r(so(n,p,O.id)),g(null)):g(O.id);return}if(d==="delete"&&O){r(Ec(n,O.id));return}O&&c(O.id)},[n,d,p]),N=D.useCallback(fe=>{var O;const ae=t.current;if(!ae)return;const{x:J,y:Q}=Xt(fe,ae);l(((O=ns(J,Q,n.nodes))==null?void 0:O.id)??null),o&&r(Ha(n,o,J,Q))},[n,o]),C=D.useCallback(()=>{c(null)},[]),G=fe=>{r(fe.graph),g(null)},I=M===0,$=z<=2||Y<=3*z-6;return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${s}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Planarity Tester"}),e.jsx("p",{className:"text-dark-300 mb-6",children:"Test graph planarity by dragging vertices to eliminate edge crossings. A planar embedding has no crossing edges."}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("canvas",{ref:t,width:F,height:T,className:"rounded-xl border border-dark-600",style:{cursor:d==="addNode"?"crosshair":i?"grab":"default"},onMouseDown:k,onMouseMove:N,onMouseUp:C,onMouseLeave:()=>{c(null),l(null)}}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:[{mode:"view",label:"View/Drag"},{mode:"addNode",label:"+ Vertex"},{mode:"addEdge",label:"+ Edge"},{mode:"delete",label:"Delete"}].map(({mode:fe,label:ae})=>e.jsx("button",{onClick:()=>{u(fe),g(null)},className:`px-3 py-2 rounded-lg text-sm font-medium ${d===fe?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:ae},fe))})]}),e.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Planar Graphs"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Kv.map((fe,ae)=>e.jsx("button",{onClick:()=>G(fe),className:"px-3 py-1.5 bg-green-900/30 text-green-300 rounded-lg text-sm hover:bg-green-900/50",children:fe.name},ae))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Non-Planar Graphs"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Az.map((fe,ae)=>e.jsx("button",{onClick:()=>G(fe),className:"px-3 py-1.5 bg-red-900/30 text-red-300 rounded-lg text-sm hover:bg-red-900/50",children:fe.name},ae))})]}),e.jsxs("div",{className:`p-4 rounded-lg ${I?"bg-green-900/30":"bg-red-900/30"}`,children:[e.jsx("div",{className:`text-xl font-bold ${I?"text-green-400":"text-red-400"}`,children:I?"Planar Embedding!":`${M} Edge Crossing${M!==1?"s":""}`}),e.jsx("div",{className:"text-sm text-dark-300 mt-1",children:I?"No edges cross in this drawing":"Drag vertices to try to eliminate crossings"})]}),e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Euler's Formula: V - E + F = 2"}),e.jsxs("div",{className:"grid grid-cols-4 gap-2 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-blue-400",children:z}),e.jsx("div",{className:"text-xs text-dark-400",children:"Vertices"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-green-400",children:Y}),e.jsx("div",{className:"text-xs text-dark-400",children:"Edges"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-amber-400",children:ie??"?"}),e.jsx("div",{className:"text-xs text-dark-400",children:"Faces"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xl font-bold text-dark-100",children:"= 2"}),e.jsx("div",{className:"text-xs text-dark-400",children:""})]})]}),ie!==null&&e.jsxs("div",{className:"mt-2 text-sm text-dark-300",children:[z," - ",Y," + ",ie," = ",z-Y+ie]})]}),e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Planarity Bounds"}),e.jsx("div",{className:"text-sm text-dark-300 space-y-1",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"E  3V - 6:"}),e.jsxs("span",{className:$?"text-green-400":"text-red-400",children:[Y,"  ",3*z-6," (",$?"Possible":"Too many edges",")"]})]})})]}),e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Kuratowski's Theorem"}),e.jsx("div",{className:"text-sm text-dark-300",children:"A graph is planar if and only if it contains no subdivision of K or K,."})]}),e.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Drag vertices:"})," Rearrange to eliminate crossings"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Red dots:"})," Edge crossing points"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Goal:"})," Find a planar embedding (0 crossings)"]})]})]})]})]})}function Mz(){return{nodes:[{id:"0",x:300,y:60,label:"1"},{id:"1",x:150,y:150,label:"2"},{id:"2",x:450,y:150,label:"3"},{id:"3",x:100,y:280,label:"4"},{id:"4",x:250,y:220,label:"5"},{id:"5",x:350,y:220,label:"6"},{id:"6",x:500,y:280,label:"7"},{id:"7",x:180,y:350,label:"8"},{id:"8",x:300,y:320,label:"9"},{id:"9",x:420,y:350,label:"10"},{id:"10",x:300,y:380,label:"11"}],edges:[{source:"0",target:"1"},{source:"0",target:"2"},{source:"1",target:"3"},{source:"1",target:"4"},{source:"2",target:"5"},{source:"2",target:"6"},{source:"3",target:"7"},{source:"3",target:"4"},{source:"4",target:"5"},{source:"4",target:"8"},{source:"5",target:"6"},{source:"5",target:"8"},{source:"6",target:"9"},{source:"7",target:"8"},{source:"7",target:"10"},{source:"8",target:"9"},{source:"8",target:"10"},{source:"9",target:"10"}]}}const Zv=[{name:"Cube (Q)",graph:Ft("cube"),hasHamilton:!0},{name:"Petersen",graph:Ft("petersen"),hasHamilton:!1},{name:"Dodecahedron",graph:Ft("dodecahedron"),hasHamilton:!0},{name:"K",graph:Ft("K5"),hasHamilton:!0},{name:"Herschel",graph:Mz(),hasHamilton:!1},{name:"Cycle (C)",graph:Ft("cycle"),hasHamilton:!0}];function $z({className:s=""}){var ee;const t=D.useRef(null),[n,r]=D.useState(Zv[0].graph),[i,l]=D.useState([]),[o,c]=D.useState(!1),[d,u]=D.useState(null),[p,g]=D.useState(null),[v,y]=D.useState(null),[M,L]=D.useState("medium"),[F,T]=D.useState("manual"),[w,A]=D.useState(!0),z=600,Y=400,ie={slow:300,medium:100,fast:20},_=Math.min(...n.nodes.map(B=>Ii(n,B.id))),k=_>=n.nodes.length/2,C=(()=>{const B=n.nodes.length;for(let Z=0;Z<n.nodes.length;Z++)for(let P=Z+1;P<n.nodes.length;P++){const H=n.nodes[Z].id,le=n.nodes[P].id;if(!xr(n,H,le)&&Ii(n,H)+Ii(n,le)<B)return!1}return!0})();i.length===n.nodes.length&&i.length>2&&xr(n,i[i.length-1],i[0]);const I=async()=>{c(!0),u(null),l([]);const B=Qs(n),Z=new Set;let P=!1,H=[];const le=async(V,W)=>{if(!o)return!1;if(W.push(V),Z.add(V),l([...W]),await new Promise(oe=>setTimeout(oe,ie[M])),W.length===n.nodes.length&&(!w||xr(n,V,W[0])))return H=[...W],!0;const ve=B.get(V)??[];for(const oe of ve)if(!Z.has(oe)&&await le(oe,W))return!0;return W.pop(),Z.delete(V),l([...W]),!1};for(const V of n.nodes)if(Z.clear(),await le(V.id,[])){P=!0;break}l(H),u(P?"found":"none"),c(!1)},$=B=>{if(i.length===0){l([B]);return}const Z=i[i.length-1];if(B===i[0]&&i.length>2&&xr(n,Z,B)){u("found");return}if(!i.includes(B)&&xr(n,Z,B)){const P=[...i,B];l(P),P.length===n.nodes.length&&(!w||xr(n,B,P[0]))&&u("found")}},fe=()=>{l([]),u(null),c(!1)};D.useEffect(()=>{const B=t.current;if(!B)return;const Z=B.getContext("2d");if(!Z)return;tr(Z,z,Y),sr(Z,z,Y);const P=new Set;for(let H=0;H<i.length-1;H++)P.add(`${i[H]}-${i[H+1]}`),P.add(`${i[H+1]}-${i[H]}`);d==="found"&&i.length>2&&xr(n,i[i.length-1],i[0])&&(P.add(`${i[i.length-1]}-${i[0]}`),P.add(`${i[0]}-${i[i.length-1]}`));for(const H of n.edges){const le=P.has(`${H.source}-${H.target}`);Fr(Z,H,n.nodes,{highlighted:le,color:le?Me.path:Me.edge,width:le?4:2})}if(i.length>1){const H=d==="found"&&w&&i.length>2&&xr(n,i[i.length-1],i[0])?[...i,i[0]]:i;_c(Z,H,n.nodes,Me.path)}for(const H of n.nodes){const le=i.indexOf(H.id),V=le===0,W=le===i.length-1&&i.length>0,ve=le>=0;nr(Z,H,{fillColor:V?"#22c55e":W?"#f59e0b":ve?Me.path:Me.node,highlighted:H.id===p,strokeWidth:ve?3:2}),ve&&(Z.fillStyle="#ffffff",Z.font="bold 10px Inter, system-ui, sans-serif",Z.textAlign="center",Z.textBaseline="middle",Z.fillText(`${le+1}`,H.x,H.y+26))}},[n,i,p,d,w]);const ae=D.useCallback(B=>{const Z=t.current;if(!Z)return;const{x:P,y:H}=Xt(B,Z),le=ns(P,H,n.nodes);le&&(F==="manual"&&!o?$(le.id):y(le.id))},[n,F,o,i,w]),J=D.useCallback(B=>{var le;const Z=t.current;if(!Z)return;const{x:P,y:H}=Xt(B,Z);g(((le=ns(P,H,n.nodes))==null?void 0:le.id)??null),v&&r(Ha(n,v,P,H))},[n,v]),Q=D.useCallback(()=>{y(null)},[]),O=B=>{r(B.graph),fe()};return e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${s}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Hamiltonian Finder"}),e.jsx("p",{className:"text-dark-300 mb-6",children:"Find Hamiltonian paths and cycles. Click vertices to build a path manually, or use the algorithm to search automatically."}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("canvas",{ref:t,width:z,height:Y,className:"rounded-xl border border-dark-600",style:{cursor:p?"pointer":"default"},onMouseDown:ae,onMouseMove:J,onMouseUp:Q,onMouseLeave:()=>{y(null),g(null)}}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsx("button",{onClick:()=>{T("manual"),fe()},className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium ${F==="manual"?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:"Manual Mode"}),e.jsx("button",{onClick:()=>{T("auto"),fe()},className:`flex-1 px-3 py-2 rounded-lg text-sm font-medium ${F==="auto"?"bg-blue-600 text-white":"bg-dark-700 text-dark-200 hover:bg-dark-600"}`,children:"Auto Search"})]})]}),e.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:"Load Graph"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Zv.map((B,Z)=>e.jsx("button",{onClick:()=>O(B),className:`px-3 py-1.5 rounded-lg text-sm ${B.hasHamilton?"bg-green-900/30 text-green-300 hover:bg-green-900/50":"bg-red-900/30 text-red-300 hover:bg-red-900/50"}`,children:B.name},Z))})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:w,onChange:B=>A(B.target.checked),className:"w-4 h-4 rounded"}),e.jsx("span",{className:"text-sm text-dark-200",children:"Find Cycle (not just path)"})]}),F==="auto"&&e.jsx("div",{className:"flex gap-2",children:["slow","medium","fast"].map(B=>e.jsx("button",{onClick:()=>L(B),className:`px-2 py-1 rounded text-xs capitalize ${M===B?"bg-blue-600 text-white":"bg-dark-700 text-dark-200"}`,children:B},B))})]}),e.jsxs("div",{className:"flex gap-2",children:[F==="auto"&&e.jsx("button",{onClick:I,disabled:o,className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 disabled:opacity-50",children:o?"Searching...":`Find Hamiltonian ${w?"Cycle":"Path"}`}),e.jsx("button",{onClick:fe,className:"px-4 py-2 bg-dark-700 text-dark-200 rounded-lg text-sm hover:bg-dark-600",children:"Reset Path"})]}),e.jsxs("div",{className:`p-4 rounded-lg ${d==="found"?"bg-green-900/30":d==="none"?"bg-red-900/30":"bg-dark-700/50"}`,children:[e.jsx("div",{className:`font-medium ${d==="found"?"text-green-400":d==="none"?"text-red-400":"text-dark-200"}`,children:d==="found"?`Hamiltonian ${w?"Cycle":"Path"} Found!`:d==="none"?`No Hamiltonian ${w?"Cycle":"Path"} Exists`:`Path: ${i.length}/${n.nodes.length} vertices`}),i.length>0&&e.jsxs("div",{className:"text-sm text-dark-300 mt-1",children:[i.map(B=>{var Z;return((Z=n.nodes.find(P=>P.id===B))==null?void 0:Z.label)??B}).join("  "),d==="found"&&w?`  ${((ee=n.nodes.find(B=>B.id===i[0]))==null?void 0:ee.label)??i[0]}`:""]})]}),e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg space-y-3",children:[e.jsx("div",{className:"text-sm font-medium text-dark-200",children:"Sufficient Conditions"}),e.jsxs("div",{className:`text-sm ${k?"text-green-400":"text-dark-400"}`,children:[e.jsx("strong",{children:"Dirac's Theorem:"})," (G)  n/2",e.jsxs("div",{className:"text-dark-400",children:["Min degree: ",_,", n/2 = ",(n.nodes.length/2).toFixed(1),k&&"  Hamiltonian cycle exists"]})]}),e.jsxs("div",{className:`text-sm ${C?"text-green-400":"text-dark-400"}`,children:[e.jsx("strong",{children:"Ore's Theorem:"})," deg(u) + deg(v)  n for non-adjacent u,v",e.jsx("div",{className:"text-dark-400",children:C?" Condition satisfied - Hamiltonian cycle exists":" Condition not satisfied"})]})]}),e.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Green vertex:"})," Path start"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amber vertex:"})," Current end"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Manual:"})," Click vertices to extend path"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Auto:"})," Backtracking search algorithm"]})]})]})]})]})}function Gz({className:s=""}){const t=D.useRef(null),[n,r]=D.useState(12),[i,l]=D.useState(.3),[o,c]=D.useState({nodes:[],edges:[]}),[d,u]=D.useState(!1),[p,g]=D.useState(0),[v,y]=D.useState(null),[M,L]=D.useState(null),[F,T]=D.useState([]),w=600,A=400,z=D.useCallback((P,H)=>{const le=[],V=[];for(let W=0;W<P;W++){const ve=2*Math.PI*W/P-Math.PI/2,oe=Math.min(w,A)*.35;le.push({id:`${W}`,x:w/2+oe*Math.cos(ve),y:A/2+oe*Math.sin(ve),label:`${W+1}`})}for(let W=0;W<P;W++)for(let ve=W+1;ve<P;ve++)Math.random()<H&&V.push({source:`${W}`,target:`${ve}`});return{nodes:le,edges:V}},[]),Y=D.useCallback(()=>{const P=z(n,i);c(P);const H=Kn(P);T(le=>[...le.slice(-19),{p:i,connected:H,edges:P.edges.length}])},[n,i,z]);D.useEffect(()=>{Y()},[]);const ie=async()=>{u(!0),T([]);for(let P=0;P<=1.05;P+=.05){P>1&&(P=1),g(P);const H=z(n,P);c(H);const le=Kn(H);T(V=>[...V,{p:P,connected:le,edges:H.edges.length}]),await new Promise(V=>setTimeout(V,200))}u(!1)},_=Kn(o),k=R5(o),N=k.length>0?k.reduce((P,H)=>P+H,0)/k.length:0,C=O5(o)!==null,G=Qf(o),I=n*(n-1)/2*i,$=(n-1)*i,fe=Math.log(n)/n,ae=1/n,J=1/n,Q=D.useCallback((P,H,le)=>{c(V=>({...V,nodes:V.nodes.map(W=>W.id===P?{...W,x:H,y:le}:W)}))},[]);D.useEffect(()=>{const P=t.current;if(!P)return;const H=P.getContext("2d");if(H){tr(H,w,A),sr(H,w,A);for(const le of o.edges)Fr(H,le,o.nodes);for(const le of o.nodes)nr(H,le,{highlighted:le.id===v})}},[o,v]);const O=D.useCallback(P=>{const H=t.current;if(!H)return;const{x:le,y:V}=Xt(P,H),W=ns(le,V,o.nodes);W&&L(W.id)},[o]),ee=D.useCallback(P=>{var W;const H=t.current;if(!H)return;const{x:le,y:V}=Xt(P,H);y(((W=ns(le,V,o.nodes))==null?void 0:W.id)??null),M&&Q(M,le,V)},[o,M,Q]),B=D.useCallback(()=>{L(null)},[]),Z=F.filter(P=>P.connected).length;return F.length>0&&Z/F.length,e.jsxs("div",{className:`p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 ${s}`,children:[e.jsx("h3",{className:"text-xl font-bold text-dark-100 mb-2",children:"Random Graph Generator"}),e.jsx("p",{className:"text-dark-300 mb-6",children:"Generate Erds-Rnyi random graphs G(n,p). Each edge appears independently with probability p."}),e.jsxs("div",{className:"flex flex-col xl:flex-row gap-6",children:[e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("canvas",{ref:t,width:w,height:A,className:"rounded-xl border border-dark-600",style:{cursor:v?"grab":"default"},onMouseDown:O,onMouseMove:ee,onMouseUp:B,onMouseLeave:()=>{L(null),y(null)}}),e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:["Vertices (n): ",n]}),e.jsx("input",{type:"range",min:"4",max:"30",value:n,onChange:P=>r(parseInt(P.target.value)),className:"w-full",disabled:d})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-dark-200 mb-2",children:["Edge Probability (p): ",(d?p:i).toFixed(2)]}),e.jsx("input",{type:"range",min:"0",max:"100",value:i*100,onChange:P=>l(parseInt(P.target.value)/100),className:"w-full",disabled:d})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:Y,disabled:d,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 disabled:opacity-50",children:"Generate"}),e.jsx("button",{onClick:ie,disabled:d,className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg text-sm font-medium hover:bg-purple-700 disabled:opacity-50",children:d?"Animating...":"Animate Evolution"})]})]})]}),e.jsxs("div",{className:"flex-1 space-y-4 min-w-0",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:`p-3 rounded-lg ${_?"bg-green-900/30":"bg-red-900/30"}`,children:[e.jsx("div",{className:`text-lg font-bold ${_?"text-green-400":"text-red-400"}`,children:_?"Connected":"Disconnected"}),e.jsx("div",{className:"text-sm text-dark-300",children:"Connectivity"})]}),e.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-blue-400",children:o.edges.length}),e.jsxs("div",{className:"text-sm text-dark-300",children:["Edges (E[m] = ",I.toFixed(1),")"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-lg font-bold text-dark-100",children:N.toFixed(2)}),e.jsxs("div",{className:"text-sm text-dark-300",children:["Avg Degree (E[d] = ",$.toFixed(2),")"]})]}),e.jsxs("div",{className:`p-3 rounded-lg ${C?"bg-amber-900/30":"bg-dark-700/50"}`,children:[e.jsx("div",{className:`text-lg font-bold ${C?"text-amber-400":G?"text-green-400":"text-dark-300"}`,children:G?"Tree":C?"Has Cycle":"Forest"}),e.jsx("div",{className:"text-sm text-dark-300",children:"Structure"})]})]}),e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-dark-200 mb-3",children:"Threshold Probabilities"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-dark-300",children:"Cycle appears (p = 1/n):"}),e.jsxs("span",{className:i>=J?"text-green-400":"text-dark-500",children:[J.toFixed(3)," ",i>=J?"":""]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-dark-300",children:"Giant component (p = 1/n):"}),e.jsxs("span",{className:i>=ae?"text-green-400":"text-dark-500",children:[ae.toFixed(3)," ",i>=ae?"":""]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-dark-300",children:"Connected (p = ln(n)/n):"}),e.jsxs("span",{className:i>=fe?"text-green-400":"text-dark-500",children:[fe.toFixed(3)," ",i>=fe?"":""]})]})]})]}),F.length>0&&e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsxs("div",{className:"text-sm font-medium text-dark-200 mb-3",children:["Connectivity History (",Z,"/",F.length," connected)"]}),e.jsx("div",{className:"flex gap-0.5 h-8",children:F.map((P,H)=>e.jsx("div",{className:`flex-1 rounded-sm ${P.connected?"bg-green-500":"bg-red-500"}`,title:`p=${P.p.toFixed(2)}, ${P.edges} edges`},H))}),e.jsxs("div",{className:"flex justify-between text-xs text-dark-400 mt-1",children:[e.jsx("span",{children:"p = 0"}),e.jsx("span",{children:"p = 1"})]})]}),e.jsxs("div",{className:"p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-dark-200 mb-2",children:"Erds-Rnyi Model G(n,p)"}),e.jsxs("div",{className:"text-sm text-dark-300 space-y-1",children:[e.jsx("p",{children:" Each of the (n choose 2) possible edges appears with probability p"}),e.jsx("p",{children:" Expected edges: E[m] = pn(n-1)/2"}),e.jsx("p",{children:" Phase transition at p = 1/n: giant component emerges"}),e.jsxs("p",{children:[" Graph is almost surely connected when p ",">"," ln(n)/n"]})]})]}),e.jsxs("div",{className:"text-sm text-dark-400 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Drag vertices:"})," Rearrange layout"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Generate:"})," Create new random graph"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Animate:"})," Watch evolution as p increases"]})]})]})]})]})}function zz(){return e.jsxs(st,{sectionId:1,children:[e.jsxs("p",{children:["How can we lay cable at minimum cost to make every telephone reachable from every other? What is the fastest route from the national capital to each state capital? How can"," ",e.jsx(a,{children:"n"})," jobs be filled by ",e.jsx(a,{children:"n"})," people with maximum total utility? Can we color the regions of every map using four colors so that neighboring regions receive different colors?"]}),e.jsxs("p",{children:["These and many other practical problems involve ",e.jsx("strong",{children:"graph theory"}),". In this course, we develop the theory of graphs and apply it to such problems. Our starting point is a historical problem that gave birth to the field."]}),e.jsx("h2",{children:"The Knigsberg Bridge Problem"}),e.jsxs(me,{title:"The Knigsberg Bridge Problem",className:"my-6",children:[e.jsx("p",{children:"The city of Knigsberg was located on the Pregel river in Prussia. The city occupied two islands plus areas on both banks. These regions were linked by seven bridges. The citizens wondered whether they could leave home, cross every bridge exactly once, and return home."}),e.jsxs("p",{className:"mt-2",children:["The problem reduces to traversing a figure with heavy dots representing land masses and curves representing bridges. Each time we enter and leave a land mass, we use two bridges ending at it. Thus existence of the desired traversal requires that each land mass be involved in an ",e.jsx("strong",{children:"even"})," number of bridges. This necessary condition did not hold in Knigsberg."]})]}),e.jsxs("p",{children:["The Knigsberg Bridge Problem suggests a general model for discussing such questions. We represent land masses as ",e.jsx("em",{children:"vertices"})," and bridges as ",e.jsx("em",{children:"edges"}),"."]}),e.jsx("h2",{children:"The Definition of a Graph"}),e.jsx(te,{title:"Graph",className:"my-6",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"graph"})," ",e.jsx(a,{children:"G"})," is a triple consisting of a"," ",e.jsx("strong",{children:"vertex set"})," ",e.jsx(a,{children:"V(G)"}),", an ",e.jsx("strong",{children:"edge set"})," ",e.jsx(a,{children:"E(G)"}),", and a relation that associates with each edge two vertices (not necessarily distinct) called its ",e.jsx("strong",{children:"endpoints"}),"."]})}),e.jsx("p",{children:"We draw a graph on paper by placing each vertex at a point and representing each edge by a curve joining the locations of its endpoints."}),e.jsxs(te,{title:"Loop and Multiple Edges",className:"my-6",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"loop"})," is an edge whose endpoints are equal."," ",e.jsx("strong",{children:"Multiple edges"})," are edges having the same pair of endpoints."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"simple graph"})," is a graph having no loops or multiple edges. We specify a simple graph by its vertex set and edge set, treating the edge set as a set of unordered pairs of vertices and writing ",e.jsx(a,{children:"e = uv"})," (or"," ",e.jsx(a,{children:"e = vu"}),") for an edge ",e.jsx(a,{children:"e"})," with endpoints"," ",e.jsx(a,{children:"u"})," and ",e.jsx(a,{children:"v"}),"."]}),e.jsxs("p",{className:"mt-2",children:["When ",e.jsx(a,{children:"u"})," and ",e.jsx(a,{children:"v"})," are the endpoints of an edge, they are ",e.jsx("strong",{children:"adjacent"})," and are ",e.jsx("strong",{children:"neighbors"}),". We write"," ",e.jsx(a,{children:"u \\leftrightarrow v"}),' for "u is adjacent to v".']})]}),e.jsxs(me,{title:"A Simple Graph",className:"my-6",children:[e.jsxs("p",{children:["Consider a graph with vertex set ",e.jsx(a,{children:"\\{u, v, w, x, y\\}"})," and edge set ",e.jsx(a,{children:"\\{uv, uw, ux, vx, vw, xw, xy\\}"}),". This is a simple graph because no edge has the same vertex as both endpoints (no loops) and no two edges share the same pair of endpoints (no multiple edges)."]}),e.jsx("p",{className:"mt-2",children:'The terms "vertex" and "edge" arise from solid geometry. A cube has vertices and edges, and these form the vertex set and edge set of a graph.'})]}),e.jsx("h2",{children:"Graphs as Models"}),e.jsx("p",{children:"Graphs arise in many settings. The applications suggest useful concepts and terminology about the structure of graphs."}),e.jsxs(te,{title:"Complement, Clique, and Independent Set",className:"my-6",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"complement"})," ",e.jsx(a,{children:"\\overline{G}"})," of a simple graph ",e.jsx(a,{children:"G"})," is the simple graph with vertex set"," ",e.jsx(a,{children:"V(G)"})," defined by"," ",e.jsx(a,{children:"uv \\in E(\\overline{G})"})," if and only if"," ",e.jsx(a,{children:"uv \\notin E(G)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"clique"})," in a graph is a set of pairwise adjacent vertices."]}),e.jsxs("p",{className:"mt-2",children:["An ",e.jsx("strong",{children:"independent set"})," (or ",e.jsx("strong",{children:"stable set"}),") in a graph is a set of pairwise nonadjacent vertices."]})]}),e.jsxs("p",{children:["Cliques and independent sets swap roles under complementation: cliques in"," ",e.jsx(a,{children:"G"})," become independent sets in"," ",e.jsx(a,{children:"\\overline{G}"}),", and vice versa."]}),e.jsx(te,{title:"Bipartite Graph",className:"my-6",children:e.jsxs("p",{children:["A graph ",e.jsx(a,{children:"G"})," is ",e.jsx("strong",{children:"bipartite"})," if"," ",e.jsx(a,{children:"V(G)"})," is the union of two disjoint (possibly empty) independent sets called ",e.jsx("strong",{children:"partite sets"})," of ",e.jsx(a,{children:"G"}),"."]})}),e.jsxs(me,{title:"Job Assignments",className:"my-6",children:[e.jsxs("p",{children:["We have ",e.jsx(a,{children:"m"})," jobs and ",e.jsx(a,{children:"n"})," people, but not all people are qualified for all jobs. Can we fill the jobs with qualified people?"]}),e.jsxs("p",{className:"mt-2",children:["We model this using a simple graph ",e.jsx(a,{children:"H"})," with vertices for the jobs and people; job ",e.jsx(a,{children:"j"})," is adjacent to person ",e.jsx(a,{children:"p"})," ","if ",e.jsx(a,{children:"p"})," can do ",e.jsx(a,{children:"j"}),". This is a bipartite graph where one partite set contains jobs and the other contains people."]})]}),e.jsx("h2",{children:"Chromatic Number and Coloring"}),e.jsxs(te,{title:"Chromatic Number",className:"my-6",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"chromatic number"})," of a graph ",e.jsx(a,{children:"G"}),", written"," ",e.jsx(a,{children:"\\chi(G)"}),", is the minimum number of colors needed to label the vertices so that adjacent vertices receive different colors."]}),e.jsxs("p",{className:"mt-2",children:["A graph ",e.jsx(a,{children:"G"})," is ",e.jsx("strong",{children:"k-partite"})," if"," ",e.jsx(a,{children:"V(G)"})," can be expressed as the union of ",e.jsx(a,{children:"k"})," ","(possibly empty) independent sets."]})]}),e.jsxs("p",{children:["This generalizes the idea of bipartite graphs, which are 2-partite. Vertices given the same color must form an independent set, so ",e.jsx(a,{children:"\\chi(G)"})," is the minimum number of independent sets needed to partition ",e.jsx(a,{children:"V(G)"}),". A graph is k-partite if and only if its chromatic number is at most ",e.jsx(a,{children:"k"}),"."]}),e.jsx("h2",{children:"Paths and Cycles"}),e.jsxs(te,{title:"Path and Cycle",className:"my-6",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"path"})," is a simple graph whose vertices can be ordered so that two vertices are adjacent if and only if they are consecutive in the list."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"cycle"})," is a graph with an equal number of vertices and edges whose vertices can be placed around a circle so that two vertices are adjacent if and only if they appear consecutively along the circle."]})]}),e.jsxs("p",{children:["Dropping one edge from a cycle produces a path. The path with ",e.jsx(a,{children:"n"})," ","vertices is denoted ",e.jsx(a,{children:"P_n"}),", and the cycle with"," ",e.jsx(a,{children:"n"})," vertices is denoted ",e.jsx(a,{children:"C_n"}),"."]}),e.jsxs(te,{title:"Subgraph and Connected",className:"my-6",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"subgraph"})," of a graph ",e.jsx(a,{children:"G"})," is a graph"," ",e.jsx(a,{children:"H"})," such that ",e.jsx(a,{children:"V(H) \\subseteq V(G)"})," and"," ",e.jsx(a,{children:"E(H) \\subseteq E(G)"})," and the assignment of endpoints to edges in ",e.jsx(a,{children:"H"})," is the same as in ",e.jsx(a,{children:"G"}),". We write"," ",e.jsx(a,{children:"H \\subseteq G"}),' and say "G contains H".']}),e.jsxs("p",{className:"mt-2",children:["A graph ",e.jsx(a,{children:"G"})," is ",e.jsx("strong",{children:"connected"})," if each pair of vertices in ",e.jsx(a,{children:"G"})," belongs to a path; otherwise, ",e.jsx(a,{children:"G"})," is"," ",e.jsx("strong",{children:"disconnected"}),"."]})]}),e.jsx("h2",{children:"Interactive Graph Editor"}),e.jsx("p",{children:"Use the interactive tool below to explore graph concepts. Create vertices by clicking, connect them with edges, and observe properties like adjacency and degree sequences."}),e.jsx(fz,{className:"my-8"}),e.jsx("h2",{children:"Matrices and Isomorphism"}),e.jsxs(te,{title:"Adjacency and Incidence Matrices",className:"my-6",children:[e.jsxs("p",{children:["Let ",e.jsx(a,{children:"G"})," be a loopless graph with vertex set"," ",e.jsx(a,{children:"V(G) = \\{v_1, \\ldots, v_n\\}"})," and edge set"," ",e.jsx(a,{children:"E(G) = \\{e_1, \\ldots, e_m\\}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"adjacency matrix"})," of ",e.jsx(a,{children:"G"}),", written"," ",e.jsx(a,{children:"A(G)"}),", is the ",e.jsx(a,{children:"n"}),"-by-",e.jsx(a,{children:"n"})," matrix in which entry ",e.jsx(a,{children:"a_{i,j}"})," is the number of edges in ",e.jsx(a,{children:"G"})," with endpoints"," ",e.jsx(a,{children:"\\{v_i, v_j\\}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"incidence matrix"})," ",e.jsx(a,{children:"M(G)"})," is the"," ",e.jsx(a,{children:"n"}),"-by-",e.jsx(a,{children:"m"})," matrix in which entry"," ",e.jsx(a,{children:"m_{i,j}"})," is 1 if ",e.jsx(a,{children:"v_i"})," is an endpoint of ",e.jsx(a,{children:"e_j"})," and otherwise is 0."]}),e.jsxs("p",{className:"mt-2",children:["If vertex ",e.jsx(a,{children:"v"})," is an endpoint of edge ",e.jsx(a,{children:"e"}),", then ",e.jsx(a,{children:"v"})," and ",e.jsx(a,{children:"e"})," are"," ",e.jsx("strong",{children:"incident"}),". The ",e.jsx("strong",{children:"degree"})," of vertex"," ",e.jsx(a,{children:"v"})," (in a loopless graph) is the number of incident edges."]})]}),e.jsxs("p",{children:["An adjacency matrix is symmetric (",e.jsx(a,{children:"a_{i,j} = a_{j,i}"})," for all"," ",e.jsx(a,{children:"i, j"}),"). An adjacency matrix of a simple graph has entries 0 or 1, with 0s on the diagonal. The degree of ",e.jsx(a,{children:"v"})," is the sum of the entries in the row for ",e.jsx(a,{children:"v"})," in either ",e.jsx(a,{children:"A(G)"})," or"," ",e.jsx(a,{children:"M(G)"}),"."]}),e.jsxs(te,{title:"Isomorphism",className:"my-6",children:[e.jsxs("p",{children:["An ",e.jsx("strong",{children:"isomorphism"})," from a simple graph ",e.jsx(a,{children:"G"})," to a simple graph ",e.jsx(a,{children:"H"})," is a bijection"," ",e.jsx(a,{children:"f: V(G) \\to V(H)"})," such that"," ",e.jsx(a,{children:"uv \\in E(G)"})," if and only if"," ",e.jsx(a,{children:"f(u)f(v) \\in E(H)"}),"."]}),e.jsxs("p",{className:"mt-2",children:['We say "G is ',e.jsx("strong",{children:"isomorphic"}),' to H", written'," ",e.jsx(a,{children:"G \\cong H"}),", if there is an isomorphism from"," ",e.jsx(a,{children:"G"})," to ",e.jsx(a,{children:"H"}),"."]})]}),e.jsx(U,{title:"Isomorphism is an Equivalence Relation",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Reflexive:"})," The identity permutation on ",e.jsx(a,{children:"V(G)"})," ","is an isomorphism from ",e.jsx(a,{children:"G"})," to itself. Thus"," ",e.jsx(a,{children:"G \\cong G"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Symmetric:"})," If ",e.jsx(a,{children:"f: V(G) \\to V(H)"})," is an isomorphism from ",e.jsx(a,{children:"G"})," to ",e.jsx(a,{children:"H"}),", then"," ",e.jsx(a,{children:"f^{-1}"})," is an isomorphism from ",e.jsx(a,{children:"H"})," ","to ",e.jsx(a,{children:"G"}),". Thus ",e.jsx(a,{children:"G \\cong H"})," implies"," ",e.jsx(a,{children:"H \\cong G"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Transitive:"})," If ",e.jsx(a,{children:"f: V(F) \\to V(G)"})," and"," ",e.jsx(a,{children:"g: V(G) \\to V(H)"})," are isomorphisms, then the composition"," ",e.jsx(a,{children:"g \\circ f"})," is an isomorphism from"," ",e.jsx(a,{children:"F"})," to ",e.jsx(a,{children:"H"}),". Thus"," ",e.jsx(a,{children:"F \\cong G"})," and ",e.jsx(a,{children:"G \\cong H"})," ","together imply ",e.jsx(a,{children:"F \\cong H"}),"."]})]}),children:e.jsx("p",{children:"The isomorphism relation is an equivalence relation on the set of simple graphs."})}),e.jsx("h2",{children:"Special Graphs"}),e.jsxs(te,{title:"Complete and Bipartite Graphs",className:"my-6",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"complete graph"})," is a simple graph whose vertices are pairwise adjacent. The complete graph with ",e.jsx(a,{children:"n"})," vertices is denoted"," ",e.jsx(a,{children:"K_n"}),"."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"complete bipartite graph"})," (or ",e.jsx("strong",{children:"biclique"}),") is a simple bipartite graph such that two vertices are adjacent if and only if they are in different partite sets. When the sets have sizes ",e.jsx(a,{children:"r"})," and"," ",e.jsx(a,{children:"s"}),", the biclique is denoted ",e.jsx(a,{children:"K_{r,s}"}),"."]})]}),e.jsxs(te,{title:"The Petersen Graph",className:"my-6",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Petersen graph"})," is the simple graph whose vertices are the 2-element subsets of a 5-element set, and whose edges are the pairs of disjoint 2-element subsets."]}),e.jsxs("p",{className:"mt-2",children:["Using ",e.jsx(a,{children:"\\{1, 2, 3, 4, 5\\}"})," as our 5-element set, we write the pair ",e.jsx(a,{children:"\\{a, b\\}"})," as ",e.jsx(a,{children:"ab"}),". Since 12 and 34 are disjoint, they are adjacent vertices. But 12 and 23 share element 2, so they are not adjacent."]})]}),e.jsxs("p",{children:["For each 2-set ",e.jsx(a,{children:"ab"}),", there are three ways to pick a 2-set from the remaining three elements, so every vertex in the Petersen graph has degree 3. The Petersen graph consists of two disjoint 5-cycles plus edges that pair up vertices on the two cycles."]}),e.jsx(te,{title:"Girth",className:"my-6",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"girth"})," of a graph with a cycle is the length of its shortest cycle. A graph with no cycle has infinite girth."]})}),e.jsx(U,{title:"Petersen Graph Has Girth 5",className:"my-6",children:e.jsx("p",{children:"The Petersen graph has girth 5."})}),e.jsx("p",{children:"The proof follows from several observations: the graph is simple (no 1-cycles or 2-cycles), a 3-cycle would require three pairwise-disjoint 2-sets (impossible among 5 elements), and a 4-cycle would require nonadjacent vertices with two common neighbors, which cannot happen because nonadjacent vertices in the Petersen graph share exactly one element and thus have exactly one common neighbor."}),e.jsx("h2",{children:"Key Ideas"}),e.jsx("div",{className:"bg-gradient-to-br from-primary-500/10 to-dark-800/50 rounded-xl p-6 my-6 border border-primary-500/20",children:e.jsxs("ul",{className:"space-y-3 text-dark-200",children:[e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"1."}),e.jsxs("span",{children:["A ",e.jsx("strong",{children:"graph"})," consists of vertices and edges connecting pairs of vertices."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"2."}),e.jsxs("span",{children:["A ",e.jsx("strong",{children:"simple graph"})," has no loops (edges from a vertex to itself) or multiple edges (several edges between the same pair)."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"3."}),e.jsxs("span",{children:["The ",e.jsx("strong",{children:"complement"})," of a graph has the same vertices but exactly the opposite edges."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"4."}),e.jsxs("span",{children:[e.jsx("strong",{children:"Bipartite graphs"})," have vertices that can be split into two groups with edges only between groups."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"5."}),e.jsxs("span",{children:["Two graphs are ",e.jsx("strong",{children:"isomorphic"})," if one can be relabeled to become the other, preserving all adjacencies."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"6."}),e.jsxs("span",{children:["The ",e.jsx("strong",{children:"Petersen graph"})," is a fundamental example with 10 vertices, each of degree 3, and girth 5."]})]})]})})]})}function Iz(){return e.jsxs(st,{sectionId:2,children:[e.jsx("p",{children:"In this section we return to the Knigsberg Bridge Problem, determining when it is possible to traverse all the edges of a graph. We also develop useful properties of connection, paths, and cycles. These concepts are fundamental to understanding how graphs are structured and how we can move through them."}),e.jsx("h2",{children:"Walks, Trails, and Paths"}),e.jsxs("p",{children:["As defined earlier, paths and cycles are graphs; a path ",e.jsx("em",{children:"in"})," a graph"," ",e.jsx(a,{children:"G"})," is a subgraph of ",e.jsx(a,{children:"G"})," that is a path. We introduce further definitions to model other movements in graphs. A tourist wandering in a city may want to allow vertex repetitions but avoid edge repetitions. A mail carrier delivers mail to houses on both sides of the street and hence traverses each edge twice."]}),e.jsxs(te,{title:"Walk, Trail, and Path",className:"my-6",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"walk"})," is a list"," ",e.jsx(a,{children:"v_0, e_1, v_1, \\ldots, e_k, v_k"})," of vertices and edges such that, for ",e.jsx(a,{children:"1 \\leq i \\leq k"}),", the edge"," ",e.jsx(a,{children:"e_i"})," has endpoints ",e.jsx(a,{children:"v_{i-1}"})," and"," ",e.jsx(a,{children:"v_i"}),"."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"trail"})," is a walk with no repeated edge."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx(a,{children:"u, v"}),"-",e.jsx("strong",{children:"walk"})," or"," ",e.jsx(a,{children:"u, v"}),"-",e.jsx("strong",{children:"trail"})," has first vertex"," ",e.jsx(a,{children:"u"})," and last vertex ",e.jsx(a,{children:"v"}),"; these are its"," ",e.jsx("strong",{children:"endpoints"}),"."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx(a,{children:"u, v"}),"-",e.jsx("strong",{children:"path"})," is a path whose vertices of degree 1 (its endpoints) are ",e.jsx(a,{children:"u"})," and ",e.jsx(a,{children:"v"}),"; the others are ",e.jsx("strong",{children:"internal vertices"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"length"})," of a walk, trail, path, or cycle is its number of edges. A walk or trail is ",e.jsx("strong",{children:"closed"})," if its endpoints are the same."]})]}),e.jsxs(me,{title:"Walks and Trails in the Knigsberg Graph",className:"my-6",children:[e.jsxs("p",{children:["In the Knigsberg graph, the list ",e.jsx(a,{children:"x, e_2, w, e_5, y, e_6, x, e_1, w, e_2, x"})," ","is a closed walk of length 5; it repeats edge ",e.jsx(a,{children:"e_2"})," and hence is not a trail."]}),e.jsxs("p",{className:"mt-2",children:["Deleting the last edge and vertex yields a trail of length 4; it repeats vertices but not edges. The subgraph consisting of edges ",e.jsx(a,{children:"e_1, e_5, e_6"})," ","and vertices ",e.jsx(a,{children:"x, w, y"})," is a cycle of length 3."]}),e.jsx("p",{className:"mt-2",children:"Two edges with the same endpoints form a cycle of length 2. A loop is a cycle of length 1."})]}),e.jsx("p",{children:"In a simple graph, a walk (or trail) is completely specified by its ordered list of vertices. We usually name a path, cycle, trail, or walk in a simple graph by listing only its vertices in order."}),e.jsx("h2",{children:"Every Walk Contains a Path"}),e.jsx(U,{title:"Every Walk Contains a Path",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["We prove the statement by induction on the length ",e.jsx(a,{children:"l"})," of a"," ",e.jsx(a,{children:"u, v"}),"-walk ",e.jsx(a,{children:"W"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Basis step:"})," ",e.jsx(a,{children:"l = 0"}),". Having no edge,"," ",e.jsx(a,{children:"W"})," consists of a single vertex (",e.jsx(a,{children:"u = v"}),"). This vertex is a ",e.jsx(a,{children:"u, v"}),"-path of length 0."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Induction step:"})," ",e.jsx(a,{children:"l \\geq 1"}),". Suppose that the claim holds for walks of length less than ",e.jsx(a,{children:"l"}),". If"," ",e.jsx(a,{children:"W"})," has no repeated vertex, then its vertices and edges form a ",e.jsx(a,{children:"u, v"}),"-path."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(a,{children:"W"})," has a repeated vertex ",e.jsx(a,{children:"w"}),", then deleting the edges and vertices between appearances of ",e.jsx(a,{children:"w"})," ","(leaving one copy of ",e.jsx(a,{children:"w"}),") yields a shorter"," ",e.jsx(a,{children:"u, v"}),"-walk ",e.jsx(a,{children:"W'"})," contained in"," ",e.jsx(a,{children:"W"}),". By the induction hypothesis, ",e.jsx(a,{children:"W'"})," ","contains a ",e.jsx(a,{children:"u, v"}),"-path ",e.jsx(a,{children:"P"}),", and this path ",e.jsx(a,{children:"P"})," is contained in ",e.jsx(a,{children:"W"}),"."]})]}),children:e.jsxs("p",{children:["Every ",e.jsx(a,{children:"u, v"}),"-walk contains a ",e.jsx(a,{children:"u, v"}),"-path."]})}),e.jsx("h2",{children:"Connection in Graphs"}),e.jsxs(te,{title:"Connected Graph",className:"my-6",children:[e.jsxs("p",{children:["A graph ",e.jsx(a,{children:"G"})," is ",e.jsx("strong",{children:"connected"})," if it has a"," ",e.jsx(a,{children:"u, v"}),"-path whenever ",e.jsx(a,{children:"u, v \\in V(G)"})," ","(otherwise, ",e.jsx(a,{children:"G"})," is ",e.jsx("strong",{children:"disconnected"}),")."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(a,{children:"G"})," has a ",e.jsx(a,{children:"u, v"}),"-path, then"," ",e.jsx(a,{children:"u"})," is ",e.jsx("strong",{children:"connected to"})," ",e.jsx(a,{children:"v"})," ","in ",e.jsx(a,{children:"G"}),". The ",e.jsx("strong",{children:"connection relation"})," on"," ",e.jsx(a,{children:"V(G)"})," consists of the ordered pairs"," ",e.jsx(a,{children:"(u, v)"})," such that ",e.jsx(a,{children:"u"})," is connected to"," ",e.jsx(a,{children:"v"}),"."]})]}),e.jsxs("p",{children:["It is important to distinguish between ",e.jsx("em",{children:"connection"})," and ",e.jsx("em",{children:"adjacency"}),":"]}),e.jsx("div",{className:"bg-dark-800/50 rounded-lg p-4 my-4 font-mono text-sm",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-primary-400 mb-2",children:"Connection"}),e.jsxs("p",{children:[e.jsx(a,{children:"G"})," has a ",e.jsx(a,{children:"u, v"}),"-path"]}),e.jsxs("p",{children:[e.jsx(a,{children:"u"})," and ",e.jsx(a,{children:"v"})," are connected"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-primary-400 mb-2",children:"Adjacency"}),e.jsx("p",{children:e.jsx(a,{children:"uv \\in E(G)"})}),e.jsxs("p",{children:[e.jsx(a,{children:"u"})," and ",e.jsx(a,{children:"v"})," are adjacent"]})]})]})}),e.jsxs("p",{children:["The connection relation is an ",e.jsx("strong",{children:"equivalence relation"}),": it is reflexive (paths of length 0), symmetric (paths are reversible), and transitive (by the lemma above, if ",e.jsx(a,{children:"G"})," has a ",e.jsx(a,{children:"u, v"}),"-path and a"," ",e.jsx(a,{children:"v, w"}),"-path, then ",e.jsx(a,{children:"G"})," has a"," ",e.jsx(a,{children:"u, w"}),"-path)."]}),e.jsx(te,{title:"Components",className:"my-6",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"components"})," of a graph ",e.jsx(a,{children:"G"})," are its maximal connected subgraphs. A component (or graph) is ",e.jsx("strong",{children:"trivial"})," if it has no edges; otherwise it is ",e.jsx("strong",{children:"nontrivial"}),". An ",e.jsx("strong",{children:"isolated vertex"})," ","is a vertex of degree 0."]})}),e.jsxs("p",{children:["The equivalence classes of the connection relation on ",e.jsx(a,{children:"V(G)"})," are the vertex sets of the components of ",e.jsx(a,{children:"G"}),". An isolated vertex forms a trivial component, consisting of one vertex and no edge."]}),e.jsx(U,{title:"Lower Bound on Components",className:"my-6",children:e.jsxs("p",{children:["Every graph with ",e.jsx(a,{children:"n"})," vertices and ",e.jsx(a,{children:"k"})," ","edges has at least ",e.jsx(a,{children:"n - k"})," components."]})}),e.jsxs("p",{children:["The proof follows from the observation that an ",e.jsx(a,{children:"n"}),"-vertex graph with no edges has ",e.jsx(a,{children:"n"})," components, and each edge added reduces the number of components by at most 1."]}),e.jsx("h2",{children:"Cut-Edges and Cut-Vertices"}),e.jsxs(te,{title:"Cut-Edge and Cut-Vertex",className:"my-6",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"cut-edge"})," or ",e.jsx("strong",{children:"cut-vertex"})," of a graph is an edge or vertex whose deletion increases the number of components."]}),e.jsxs("p",{className:"mt-2",children:["We write ",e.jsx(a,{children:"G - e"})," or ",e.jsx(a,{children:"G - M"})," for the subgraph of ",e.jsx(a,{children:"G"})," obtained by deleting an edge"," ",e.jsx(a,{children:"e"})," or set of edges ",e.jsx(a,{children:"M"}),"."]}),e.jsxs("p",{className:"mt-2",children:["We write ",e.jsx(a,{children:"G - v"})," or ",e.jsx(a,{children:"G - S"})," for the subgraph obtained by deleting a vertex ",e.jsx(a,{children:"v"})," or set of vertices ",e.jsx(a,{children:"S"}),"."]})]}),e.jsxs(te,{title:"Induced Subgraph",className:"my-6",children:[e.jsxs("p",{children:["An ",e.jsx("strong",{children:"induced subgraph"})," is a subgraph obtained by deleting a set of vertices. We write ",e.jsx(a,{children:"G[T]"})," for"," ",e.jsx(a,{children:"G - \\overline{T}"}),", where"," ",e.jsx(a,{children:"\\overline{T} = V(G) - T"}),"; this is the subgraph of"," ",e.jsx(a,{children:"G"})," ",e.jsx("strong",{children:"induced by"})," ",e.jsx(a,{children:"T"}),"."]}),e.jsxs("p",{className:"mt-2",children:["When ",e.jsx(a,{children:"T \\subseteq V(G)"}),", the induced subgraph"," ",e.jsx(a,{children:"G[T]"})," consists of ",e.jsx(a,{children:"T"})," and all edges whose endpoints are contained in ",e.jsx(a,{children:"T"}),"."]})]}),e.jsx(U,{title:"Cut-Edge Characterization",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["Let ",e.jsx(a,{children:"e"})," be an edge in a graph ",e.jsx(a,{children:"G"})," ","(with endpoints ",e.jsx(a,{children:"x, y"}),"), and let ",e.jsx(a,{children:"H"})," ","be the component containing ",e.jsx(a,{children:"e"}),". Since deletion of"," ",e.jsx(a,{children:"e"})," affects no other component, it suffices to prove that"," ",e.jsx(a,{children:"H - e"})," is connected if and only if"," ",e.jsx(a,{children:"e"})," belongs to a cycle."]}),e.jsxs("p",{className:"mt-2",children:["First suppose that ",e.jsx(a,{children:"H - e"})," is connected. This implies that ",e.jsx(a,{children:"H - e"})," contains an ",e.jsx(a,{children:"x, y"}),"-path, and this path completes a cycle with ",e.jsx(a,{children:"e"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Now suppose that ",e.jsx(a,{children:"e"})," lies in a cycle ",e.jsx(a,{children:"C"}),". Choose ",e.jsx(a,{children:"u, v \\in V(H)"}),". Since ",e.jsx(a,{children:"H"})," ","is connected, ",e.jsx(a,{children:"H"})," has a ",e.jsx(a,{children:"u, v"}),"-path"," ",e.jsx(a,{children:"P"}),". If ",e.jsx(a,{children:"P"})," does not contain"," ",e.jsx(a,{children:"e"}),", then ",e.jsx(a,{children:"P"})," exists in"," ",e.jsx(a,{children:"H - e"}),". If ",e.jsx(a,{children:"P"})," contains"," ",e.jsx(a,{children:"e"}),", we can route around ",e.jsx(a,{children:"e"})," using the rest of cycle ",e.jsx(a,{children:"C"}),". Thus"," ",e.jsx(a,{children:"H - e"})," is connected."]})]}),children:e.jsx("p",{children:"An edge is a cut-edge if and only if it belongs to no cycle."})}),e.jsx("h2",{children:"Bipartite Graph Characterization"}),e.jsx("p",{children:"Our next goal is to characterize bipartite graphs using cycles. Recall that a loop is a cycle of length 1, and two distinct edges with the same endpoints form a cycle of length 2."}),e.jsx(U,{title:"Closed Odd Walk Lemma",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["We use induction on the length ",e.jsx(a,{children:"l"})," of a closed odd walk"," ",e.jsx(a,{children:"W"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Basis step:"})," ",e.jsx(a,{children:"l = 1"}),". A closed walk of length 1 traverses a cycle of length 1."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Induction step:"})," ",e.jsx(a,{children:"l > 1"}),". Assume the claim for closed odd walks shorter than ",e.jsx(a,{children:"W"}),". If"," ",e.jsx(a,{children:"W"})," has no repeated vertex (other than first = last), then"," ",e.jsx(a,{children:"W"})," itself forms a cycle of odd length."]}),e.jsxs("p",{className:"mt-2",children:["If vertex ",e.jsx(a,{children:"v"})," is repeated in ",e.jsx(a,{children:"W"}),", then we view ",e.jsx(a,{children:"W"})," as starting at ",e.jsx(a,{children:"v"})," ","and break ",e.jsx(a,{children:"W"})," into two ",e.jsx(a,{children:"v, v"}),"-walks. Since ",e.jsx(a,{children:"W"})," has odd length, one of these is odd and the other is even. The odd one is shorter than ",e.jsx(a,{children:"W"}),". By the induction hypothesis, it contains an odd cycle, and this cycle appears in order in"," ",e.jsx(a,{children:"W"}),"."]})]}),children:e.jsx("p",{children:"Every closed odd walk contains an odd cycle."})}),e.jsx(te,{title:"Bipartition",className:"my-6",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"bipartition"})," of ",e.jsx(a,{children:"G"})," is a specification of two disjoint independent sets in ",e.jsx(a,{children:"G"})," whose union is"," ",e.jsx(a,{children:"V(G)"}),'. The statement "Let ',e.jsx(a,{children:"G"})," be a bipartite graph with bipartition ",e.jsx(a,{children:"X, Y"}),'" specifies one such partition. An ',e.jsx(a,{children:"X, Y"}),"-",e.jsx("strong",{children:"bigraph"})," is a bipartite graph with bipartition ",e.jsx(a,{children:"X, Y"}),"."]})}),e.jsx(U,{title:"Knig's Characterization of Bipartite Graphs",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Necessity:"})," Let ",e.jsx(a,{children:"G"})," be a bipartite graph. Every walk alternates between the two sets of a bipartition, so every return to the original partite set happens after an even number of steps. Hence"," ",e.jsx(a,{children:"G"})," has no odd cycle."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Sufficiency:"})," Let ",e.jsx(a,{children:"G"})," be a graph with no odd cycle. We prove that ",e.jsx(a,{children:"G"})," is bipartite by constructing a bipartition of each nontrivial component."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(a,{children:"u"})," be a vertex in a nontrivial component"," ",e.jsx(a,{children:"H"}),". For each ",e.jsx(a,{children:"v \\in V(H)"}),", let"," ",e.jsx(a,{children:"f(v)"})," be the minimum length of a"," ",e.jsx(a,{children:"u, v"}),"-path."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(a,{children:"X = \\{v \\in V(H): f(v) \\text{ is even}\\}"})," and"," ",e.jsx(a,{children:"Y = \\{v \\in V(H): f(v) \\text{ is odd}\\}"}),". An edge"," ",e.jsx(a,{children:"v, v'"})," within ",e.jsx(a,{children:"X"})," or"," ",e.jsx(a,{children:"Y"})," would create a closed odd walk using a shortest"," ",e.jsx(a,{children:"u, v"}),"-path, the edge ",e.jsx(a,{children:"vv'"}),", and the reverse of a shortest ",e.jsx(a,{children:"u, v'"}),"-path. By the Closed Odd Walk Lemma, such a walk must contain an odd cycle, which contradicts our hypothesis."]}),e.jsxs("p",{className:"mt-2",children:["Hence ",e.jsx(a,{children:"X"})," and ",e.jsx(a,{children:"Y"})," are independent sets. Also ",e.jsx(a,{children:"X \\cup Y = V(H)"}),", so"," ",e.jsx(a,{children:"H"})," is an ",e.jsx(a,{children:"X, Y"}),"-bigraph."]})]}),children:e.jsx("p",{children:"(Knig [1936]) A graph is bipartite if and only if it has no odd cycle."})}),e.jsxs("p",{children:["This theorem provides an efficient way to test whether a graph is bipartite: if it is not bipartite, we can prove this by presenting an odd cycle. When we want to prove that"," ",e.jsx(a,{children:"G"})," is bipartite, we define a bipartition and prove that the two sets are independent."]}),e.jsx("h2",{children:"Interactive Path Explorer"}),e.jsx("p",{children:"Use the interactive tool below to explore paths, cycles, and Eulerian circuits. Click vertices to find paths between them, detect cycles, or discover Eulerian circuits."}),e.jsx(xz,{className:"my-8"}),e.jsx("h2",{children:"Eulerian Circuits"}),e.jsx("p",{children:"We return to our analysis of the Knigsberg Bridge Problem. What the people of Knigsberg wanted was a closed trail containing all the edges in a graph. As we observed, a necessary condition for existence of such a trail is that all vertex degrees be even. Also it is necessary that all edges belong to the same component."}),e.jsxs(te,{title:"Eulerian Graph",className:"my-6",children:[e.jsxs("p",{children:["A graph is ",e.jsx("strong",{children:"Eulerian"})," if it has a closed trail containing all edges. We call a closed trail a ",e.jsx("strong",{children:"circuit"})," when we do not specify the first vertex but keep the list in cyclic order."]}),e.jsxs("p",{className:"mt-2",children:["An ",e.jsx("strong",{children:"Eulerian circuit"})," or ",e.jsx("strong",{children:"Eulerian trail"})," in a graph is a circuit or trail containing all the edges."]}),e.jsxs("p",{className:"mt-2",children:["An ",e.jsx("strong",{children:"even graph"})," is a graph with vertex degrees all even. A vertex is"," ",e.jsx("strong",{children:"odd"})," [",e.jsx("strong",{children:"even"}),"] when its degree is odd [even]."]})]}),e.jsx(U,{title:"Cycle Existence Lemma",className:"my-6",children:e.jsxs("p",{children:["If every vertex of a graph ",e.jsx(a,{children:"G"})," has degree at least 2, then"," ",e.jsx(a,{children:"G"})," contains a cycle."]})}),e.jsxs("p",{children:["The proof uses extremality: let ",e.jsx(a,{children:"P"})," be a maximal path in"," ",e.jsx(a,{children:"G"}),", and let ",e.jsx(a,{children:"u"})," be an endpoint of"," ",e.jsx(a,{children:"P"}),". Since ",e.jsx(a,{children:"P"})," cannot be extended, every neighbor of ",e.jsx(a,{children:"u"})," must already be a vertex of ",e.jsx(a,{children:"P"}),". Since ",e.jsx(a,{children:"u"})," has degree at least 2, it has a neighbor"," ",e.jsx(a,{children:"v"})," in ",e.jsx(a,{children:"V(P)"})," via an edge not in"," ",e.jsx(a,{children:"P"}),". The edge ",e.jsx(a,{children:"uv"})," completes a cycle with the portion of ",e.jsx(a,{children:"P"})," from ",e.jsx(a,{children:"v"})," to"," ",e.jsx(a,{children:"u"}),"."]}),e.jsx(U,{title:"Characterization of Eulerian Graphs",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Necessity:"})," Suppose that ",e.jsx(a,{children:"G"})," has an Eulerian circuit ",e.jsx(a,{children:"C"}),". Each passage of ",e.jsx(a,{children:"C"})," ","through a vertex uses two incident edges, and the first edge is paired with the last at the first vertex. Hence every vertex has even degree. Also, two edges can be in the same trail only when they lie in the same component, so there is at most one nontrivial component."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Sufficiency:"})," We use induction on the number of edges"," ",e.jsx(a,{children:"m"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("em",{children:"Basis step:"})," ",e.jsx(a,{children:"m = 0"}),". A closed trail consisting of one vertex suffices."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("em",{children:"Induction step:"})," ",e.jsx(a,{children:"m > 0"}),". With even degrees, each vertex in the nontrivial component of ",e.jsx(a,{children:"G"})," has degree at least 2. By the Cycle Existence Lemma, the nontrivial component has a cycle"," ",e.jsx(a,{children:"C"}),". Let ",e.jsx(a,{children:"G'"})," be the graph obtained from ",e.jsx(a,{children:"G"})," by deleting ",e.jsx(a,{children:"E(C)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(a,{children:"C"})," has 0 or 2 edges at each vertex, each component of ",e.jsx(a,{children:"G'"})," is also an even graph. Since each component is connected and has fewer than ",e.jsx(a,{children:"m"})," edges, we can apply the induction hypothesis to conclude that each component of ",e.jsx(a,{children:"G'"})," ","has an Eulerian circuit."]}),e.jsxs("p",{className:"mt-2",children:["To combine these into an Eulerian circuit of ",e.jsx(a,{children:"G"}),", we traverse"," ",e.jsx(a,{children:"C"}),", but when a component of ",e.jsx(a,{children:"G'"})," is entered for the first time we detour along an Eulerian circuit of that component. This circuit ends at the vertex where we began the detour. When we complete the traversal of ",e.jsx(a,{children:"C"}),", we have completed an Eulerian circuit of"," ",e.jsx(a,{children:"G"}),"."]})]}),children:e.jsxs("p",{children:["A graph ",e.jsx(a,{children:"G"})," is Eulerian if and only if it has at most one nontrivial component and its vertices all have even degree."]})}),e.jsx(U,{title:"Cycle Decomposition of Even Graphs",className:"my-6",children:e.jsx("p",{children:"Every even graph decomposes into cycles."})}),e.jsx("p",{children:"This follows from the proof of the Eulerian characterization: every even nontrivial graph has a cycle, and the deletion of a cycle leaves an even graph."}),e.jsx("h2",{children:"Decomposing Graphs into Trails"}),e.jsxs("p",{children:["When drawing a figure ",e.jsx(a,{children:"G"})," on paper, how many times must we stop and move the pen? Each visit to the paper contributes a trail, so we seek a decomposition of ",e.jsx(a,{children:"G"})," into the minimum number of trails."]}),e.jsx(U,{title:"Trail Decomposition Theorem",className:"my-6",proof:e.jsxs(e.Fragment,{children:[e.jsxs("p",{children:["A trail contributes even degree to every vertex, except that a non-closed trail contributes odd degree to its endpoints. Therefore, a partition of the edges into trails must have some non-closed trail ending at each odd vertex. Since each trail has only two ends, we must use at least ",e.jsx(a,{children:"k"})," trails to satisfy"," ",e.jsx(a,{children:"2k"})," odd vertices."]}),e.jsxs("p",{className:"mt-2",children:["We also need at least one trail since ",e.jsx(a,{children:"G"})," has an edge, and the Eulerian Characterization implies that one trail suffices when"," ",e.jsx(a,{children:"k = 0"}),"."]}),e.jsxs("p",{className:"mt-2",children:["It remains to prove that ",e.jsx(a,{children:"k"})," trails suffice when"," ",e.jsx(a,{children:"k > 0"}),". Given such a graph ",e.jsx(a,{children:"G"}),", we pair up the odd vertices (in any way) and form ",e.jsx(a,{children:"G'"})," by adding for each pair an edge joining its two vertices. The resulting graph"," ",e.jsx(a,{children:"G'"})," is connected and even, so it has an Eulerian circuit"," ",e.jsx(a,{children:"C"}),". As we traverse ",e.jsx(a,{children:"C"})," in"," ",e.jsx(a,{children:"G'"}),", we start a new trail in ",e.jsx(a,{children:"G"})," ","each time we traverse an edge of ",e.jsx(a,{children:"G' - E(G)"}),". This yields ",e.jsx(a,{children:"k"})," trails decomposing ",e.jsx(a,{children:"G"}),"."]})]}),children:e.jsxs("p",{children:["For a connected nontrivial graph with exactly ",e.jsx(a,{children:"2k"})," odd vertices, the minimum number of trails that decompose it is"," ",e.jsx(a,{children:"\\max\\{k, 1\\}"}),"."]})}),e.jsx("h2",{children:"Key Ideas"}),e.jsx("div",{className:"bg-gradient-to-br from-primary-500/10 to-dark-800/50 rounded-xl p-6 my-6 border border-primary-500/20",children:e.jsxs("ul",{className:"space-y-3 text-dark-200",children:[e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"1."}),e.jsxs("span",{children:["A ",e.jsx("strong",{children:"walk"})," allows repeated vertices and edges; a ",e.jsx("strong",{children:"trail"})," ","allows no repeated edges; a ",e.jsx("strong",{children:"path"})," allows no repeated vertices."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"2."}),e.jsxs("span",{children:["Every ",e.jsx(a,{children:"u, v"}),"-walk contains a ",e.jsx(a,{children:"u, v"}),"-path (by removing loops when vertices repeat)."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"3."}),e.jsxs("span",{children:["The ",e.jsx("strong",{children:"components"})," of a graph are the equivalence classes under the connection relation."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"4."}),e.jsxs("span",{children:["An edge is a ",e.jsx("strong",{children:"cut-edge"})," if and only if it belongs to no cycle."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"5."}),e.jsxs("span",{children:["A graph is ",e.jsx("strong",{children:"bipartite"})," if and only if it has no odd cycle (Knig)."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"6."}),e.jsxs("span",{children:["A graph is ",e.jsx("strong",{children:"Eulerian"})," (has a circuit using all edges) if and only if it has at most one nontrivial component and all vertices have even degree."]})]}),e.jsxs("li",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-primary-400 font-bold",children:"7."}),e.jsx("span",{children:"Every even graph decomposes into cycles."})]})]})})]})}function Dz(){return e.jsxs(st,{sectionId:3,children:[e.jsx("p",{children:"The degrees of the vertices are fundamental parameters of a graph. In this section, we explore how vertex degrees lead to powerful counting arguments, characterize important graph families, and solve extremal problems about graph structure."}),e.jsx("h2",{children:"Basic Definitions"}),e.jsxs(te,{title:"Degree of a Vertex",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"degree"})," of vertex ",e.jsx(a,{math:"v"})," in a graph ",e.jsx(a,{math:"G"}),", written ",e.jsx(a,{math:"d_G(v)"})," or ",e.jsx(a,{math:"d(v)"}),", is the number of edges incident to ",e.jsx(a,{math:"v"}),", except that each loop at ",e.jsx(a,{math:"v"})," counts twice."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"maximum degree"})," is ",e.jsx(a,{math:"\\Delta(G)"}),", the ",e.jsx("strong",{children:"minimum degree"})," is"," ",e.jsx(a,{math:"\\delta(G)"}),", and ",e.jsx(a,{math:"G"})," is ",e.jsx("strong",{children:"regular"})," if"," ",e.jsx(a,{math:"\\Delta(G) = \\delta(G)"}),". It is ",e.jsx("strong",{children:"k-regular"})," if the common degree is"," ",e.jsx(a,{math:"k"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"neighborhood"})," of ",e.jsx(a,{math:"v"}),", written ",e.jsx(a,{math:"N_G(v)"})," or"," ",e.jsx(a,{math:"N(v)"}),", is the set of vertices adjacent to ",e.jsx(a,{math:"v"}),"."]})]}),e.jsxs(te,{title:"Order and Size",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"order"})," of a graph ",e.jsx(a,{math:"G"}),", written ",e.jsx(a,{math:"n(G)"}),", is the number of vertices in ",e.jsx(a,{math:"G"}),". An ",e.jsx("strong",{children:"n-vertex graph"})," is a graph of order ",e.jsx(a,{math:"n"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"size"})," of a graph ",e.jsx(a,{math:"G"}),", written ",e.jsx(a,{math:"e(G)"}),", is the number of edges in ",e.jsx(a,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(a,{math:"n \\in \\mathbb{N}"}),", the notation ",e.jsx(a,{math:"[n]"})," indicates the set ",e.jsx(a,{math:"\\{1, \\ldots, n\\}"}),"."]})]}),e.jsx("h2",{children:"The Degree-Sum Formula"}),e.jsx("p",{children:'The first counting problem about subgraphs is to count the edges using vertex degrees. The resulting formula is an essential tool of graph theory, sometimes called the "First Theorem of Graph Theory" or the "Handshaking Lemma."'}),e.jsxs(U,{title:"Degree-Sum Formula (Handshaking Lemma)",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," is a graph, then"]}),e.jsx(we,{math:"\\sum_{v \\in V(G)} d(v) = 2e(G)."}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsx("p",{children:"Summing the degrees counts each edge twice, since each edge has two ends and contributes to the degree at each endpoint."}),e.jsxs("p",{className:"mt-2",children:["The proof holds even when ",e.jsx(a,{math:"G"})," has loops, since a loop contributes 2 to the degree of its endpoint. For a loopless graph, the two sides of the formula count the set of pairs ",e.jsx(a,{math:"(v, e)"})," such that ",e.jsx(a,{math:"v"})," is an endpoint of ",e.jsx(a,{math:"e"}),", grouped by vertices or grouped by edges."]})]})]})]}),e.jsx("p",{children:'"Counting two ways" is an elegant technique for proving integer identities. The degree-sum formula has several immediate corollaries.'}),e.jsxs(U,{title:"Corollary: Average Degree",children:[e.jsxs("p",{children:["In a graph ",e.jsx(a,{math:"G"}),", the average vertex degree is"," ",e.jsx(a,{math:"\\frac{2e(G)}{n(G)}"}),", and hence"]}),e.jsx(we,{math:"\\delta(G) \\leq \\frac{2e(G)}{n(G)} \\leq \\Delta(G)."})]}),e.jsx(U,{title:"Corollary: Odd Degree Vertices",children:e.jsxs("p",{children:["Every graph has an ",e.jsx("strong",{children:"even number of vertices of odd degree"}),". No graph of odd order is regular with odd degree."]})}),e.jsx(U,{title:"Corollary: Edges in Regular Graphs",children:e.jsxs("p",{children:["A ",e.jsx(a,{math:"k"}),"-regular graph with ",e.jsx(a,{math:"n"})," vertices has ",e.jsx(a,{math:"nk/2"})," edges."]})}),e.jsx("h2",{children:"Hypercubes"}),e.jsxs(te,{title:"k-dimensional Cube (Hypercube)",children:[e.jsxs("p",{children:["The ",e.jsxs("strong",{children:[e.jsx(a,{math:"k"}),"-dimensional cube"]})," or ",e.jsx("strong",{children:"hypercube"})," ",e.jsx(a,{math:"Q_k"})," is the simple graph whose vertices are the ",e.jsx(a,{math:"k"}),"-tuples with entries in ",e.jsx(a,{math:"\\{0, 1\\}"})," and whose edges are the pairs of"," ",e.jsx(a,{math:"k"}),"-tuples that differ in exactly one position."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsxs("strong",{children:[e.jsx(a,{math:"j"}),"-dimensional subcube"]})," of ",e.jsx(a,{math:"Q_k"})," is a subgraph of ",e.jsx(a,{math:"Q_k"})," isomorphic to ",e.jsx(a,{math:"Q_j"}),"."]})]}),e.jsxs(me,{title:"Structure of Hypercubes",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"parity"})," of a vertex in ",e.jsx(a,{math:"Q_k"})," is the parity of the number of 1s in its name (even or odd). Each edge of ",e.jsx(a,{math:"Q_k"})," has an even vertex and an odd vertex as endpoints. Hence:"]}),e.jsxs("ul",{className:"list-disc ml-6 mt-2 space-y-1",children:[e.jsx("li",{children:"The even vertices form an independent set, as do the odd vertices"}),e.jsxs("li",{children:[e.jsx(a,{math:"Q_k"})," is bipartite"]}),e.jsxs("li",{children:[e.jsx(a,{math:"n(Q_k) = 2^k"})," (each position can be 0 or 1)"]}),e.jsxs("li",{children:[e.jsx(a,{math:"Q_k"})," is ",e.jsx(a,{math:"k"}),"-regular (change any one position)"]}),e.jsxs("li",{children:["By Corollary 1.3.6, ",e.jsx(a,{math:"e(Q_k) = k \\cdot 2^{k-1}"})]})]}),e.jsxs("p",{className:"mt-3",children:[e.jsx("strong",{children:"Recursive description:"})," To form ",e.jsx(a,{math:"Q_k"}),", take two copies of ",e.jsx(a,{math:"Q_{k-1}"}),", append 0 to all vertex names in one copy and 1 in the other, then add edges joining vertices whose first ",e.jsx(a,{math:"k-1"})," coordinates are equal. The basis is the 1-vertex graph ",e.jsx(a,{math:"Q_0"}),"."]})]}),e.jsxs(U,{title:"Regular Bipartite Graphs",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"k > 0"}),", then a ",e.jsx(a,{math:"k"}),"-regular bipartite graph has the same number of vertices in each partite set."]}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["Let ",e.jsx(a,{math:"G"})," be an ",e.jsx(a,{math:"X, Y"}),"-bigraph. Counting the edges according to their endpoints in ",e.jsx(a,{math:"X"})," yields"," ",e.jsx(a,{math:"e(G) = k|X|"}),". Counting them by their endpoints in"," ",e.jsx(a,{math:"Y"})," yields ",e.jsx(a,{math:"e(G) = k|Y|"}),". Thus"," ",e.jsx(a,{math:"k|X| = k|Y|"}),", which yields ",e.jsx(a,{math:"|X| = |Y|"})," when"," ",e.jsx(a,{math:"k > 0"}),"."]})})]})]}),e.jsx("h2",{children:"Extremal Problems"}),e.jsxs("p",{children:["An ",e.jsx("strong",{children:"extremal problem"})," asks for the maximum or minimum value of a function over a class of objects. For example, the maximum number of edges in a simple graph with ",e.jsx(a,{math:"n"})," vertices is ",e.jsx(a,{math:"\\binom{n}{2}"}),"."]}),e.jsxs(U,{title:"Minimum Edges for Connectivity",children:[e.jsxs("p",{children:["The minimum number of edges in a connected graph with ",e.jsx(a,{math:"n"})," vertices is ",e.jsx(a,{math:"n - 1"}),"."]}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Every graph with ",e.jsx(a,{math:"n"})," vertices and ",e.jsx(a,{math:"k"})," edges has at least ",e.jsx(a,{math:"n - k"})," components. Hence every ",e.jsx(a,{math:"n"}),"-vertex graph with fewer than ",e.jsx(a,{math:"n - 1"})," edges has at least two components and is disconnected."]}),e.jsxs("p",{className:"mt-2",children:["The contrapositive is that every connected ",e.jsx(a,{math:"n"}),"-vertex graph has at least ",e.jsx(a,{math:"n - 1"})," edges. This lower bound is achieved by the path ",e.jsx(a,{math:"P_n"}),"."]})]})]})]}),e.jsxs(U,{title:"Minimum Degree for Connectivity",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," is a simple ",e.jsx(a,{math:"n"}),"-vertex graph with"," ",e.jsx(a,{math:"\\delta(G) \\geq (n-1)/2"}),", then ",e.jsx(a,{math:"G"})," is connected."]}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Choose ",e.jsx(a,{math:"u, v \\in V(G)"}),". It suffices to show that"," ",e.jsx(a,{math:"u, v"})," have a common neighbor if they are not adjacent. Since ",e.jsx(a,{math:"G"})," is simple, we have"," ",e.jsx(a,{math:"|N(u)| \\geq \\delta(G) \\geq (n-1)/2"}),", and similarly for"," ",e.jsx(a,{math:"v"}),"."]}),e.jsxs("p",{className:"mt-2",children:["When ",e.jsx(a,{math:"u \\not\\leftrightarrow v"}),", we have"," ",e.jsx(a,{math:"|N(u) \\cup N(v)| \\leq n - 2"}),", since ",e.jsx(a,{math:"u"})," and"," ",e.jsx(a,{math:"v"})," are not in the union. Thus:"]}),e.jsx(we,{math:"|N(u) \\cap N(v)| = |N(u)| + |N(v)| - |N(u) \\cup N(v)| \\geq \\frac{n-1}{2} + \\frac{n-1}{2} - (n-2) = 1."})]})]})]}),e.jsxs(me,{title:"Sharpness of the Bound",children:[e.jsxs("p",{children:["The bound ",e.jsx(a,{math:"\\delta(G) \\geq (n-1)/2"})," is ",e.jsx("strong",{children:"sharp"}),". Let"," ",e.jsx(a,{math:"G"})," be the ",e.jsx(a,{math:"n"}),"-vertex graph with components isomorphic to ",e.jsx(a,{math:"K_{\\lfloor n/2 \\rfloor}"})," and"," ",e.jsx(a,{math:"K_{\\lceil n/2 \\rceil}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(a,{math:"\\delta(G) = \\lfloor n/2 \\rfloor - 1"})," and ",e.jsx(a,{math:"G"})," is disconnected, the inequality cannot be weakened."]})]}),e.jsxs(te,{title:"Disjoint Union",children:[e.jsxs("p",{children:["The graph obtained by taking the union of graphs ",e.jsx(a,{math:"G"})," and"," ",e.jsx(a,{math:"H"})," with disjoint vertex sets is the ",e.jsx("strong",{children:"disjoint union"})," or"," ",e.jsx("strong",{children:"sum"}),", written ",e.jsx(a,{math:"G + H"}),"."]}),e.jsxs("p",{className:"mt-2",children:["In general, ",e.jsx(a,{math:"mG"})," is the graph consisting of ",e.jsx(a,{math:"m"})," pairwise disjoint copies of ",e.jsx(a,{math:"G"}),"."]})]}),e.jsx("h2",{children:"Large Bipartite Subgraphs"}),e.jsxs(U,{title:"Large Bipartite Subgraphs",children:[e.jsxs("p",{children:["Every loopless graph ",e.jsx(a,{math:"G"})," has a bipartite subgraph with at least ",e.jsx(a,{math:"e(G)/2"})," edges."]}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof (Algorithmic)"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Start with any partition of ",e.jsx(a,{math:"V(G)"})," into two sets"," ",e.jsx(a,{math:"X, Y"}),". Using the edges having one endpoint in each set yields a bipartite subgraph ",e.jsx(a,{math:"H"})," with bipartition ",e.jsx(a,{math:"X, Y"}),"."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(a,{math:"H"})," contains fewer than half the edges of ",e.jsx(a,{math:"G"})," incident to a vertex ",e.jsx(a,{math:"v"}),", then ",e.jsx(a,{math:"v"})," has more edges to vertices in its own class than in the other class. Moving ",e.jsx(a,{math:"v"})," to the other class gains more edges than it loses."]}),e.jsxs("p",{className:"mt-2",children:["Each such switch increases the size of the subgraph, so the process must terminate. When it terminates, ",e.jsx(a,{math:"d_H(v) \\geq d_G(v)/2"})," for every"," ",e.jsx(a,{math:"v \\in V(G)"}),". Summing this and applying the degree-sum formula yields ",e.jsx(a,{math:"e(H) \\geq e(G)/2"}),"."]})]})]})]}),e.jsx("h2",{children:"Mantel's Theorem"}),e.jsx(te,{title:"H-free Graphs",children:e.jsxs("p",{children:["A graph ",e.jsx(a,{math:"G"})," is ",e.jsxs("strong",{children:[e.jsx(a,{math:"H"}),"-free"]})," if"," ",e.jsx(a,{math:"G"})," has no induced subgraph isomorphic to ",e.jsx(a,{math:"H"}),"."]})}),e.jsxs(U,{title:"Mantel's Theorem (1907)",children:[e.jsxs("p",{children:["The maximum number of edges in an ",e.jsx(a,{math:"n"}),"-vertex triangle-free simple graph is ",e.jsx(a,{math:"\\lfloor n^2/4 \\rfloor"}),"."]}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Let ",e.jsx(a,{math:"G"})," be an ",e.jsx(a,{math:"n"}),"-vertex triangle-free simple graph. Let ",e.jsx(a,{math:"x"})," be a vertex of maximum degree, with"," ",e.jsx(a,{math:"k = d(x)"}),". Since ",e.jsx(a,{math:"G"})," has no triangles, there are no edges among neighbors of ",e.jsx(a,{math:"x"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Hence summing the degrees of ",e.jsx(a,{math:"x"})," and its non-neighbors counts at least one endpoint of every edge:"]}),e.jsx(we,{math:"\\sum_{v \\notin N(x)} d(v) \\geq e(G)."}),e.jsxs("p",{className:"mt-2",children:["We sum over ",e.jsx(a,{math:"n - k"})," vertices, each having degree at most"," ",e.jsx(a,{math:"k"}),", so ",e.jsx(a,{math:"e(G) \\leq (n-k)k"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(a,{math:"(n-k)k"})," counts the edges in ",e.jsx(a,{math:"K_{n-k,k}"}),", we have proved that ",e.jsx(a,{math:"e(G)"})," is bounded by the size of some biclique with ",e.jsx(a,{math:"n"})," vertices. The product ",e.jsx(a,{math:"(n-k)k"})," is maximized when ",e.jsx(a,{math:"k = \\lceil n/2 \\rceil"})," or ",e.jsx(a,{math:"k = \\lfloor n/2 \\rfloor"}),". Thus ",e.jsx(a,{math:"e(G) \\leq \\lfloor n^2/4 \\rfloor"}),"."]}),e.jsxs("p",{className:"mt-2",children:["To prove the bound is best possible, we exhibit a triangle-free graph with"," ",e.jsx(a,{math:"\\lfloor n^2/4 \\rfloor"})," edges:"," ",e.jsx(a,{math:"K_{\\lfloor n/2 \\rfloor, \\lceil n/2 \\rceil}"}),"."]})]})]})]}),e.jsx("h2",{children:"Graphic Sequences"}),e.jsx(te,{title:"Degree Sequence",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"degree sequence"})," of a graph is the list of vertex degrees, usually written in nonincreasing order, as ",e.jsx(a,{math:"d_1 \\geq \\cdots \\geq d_n"}),"."]})}),e.jsxs("p",{children:["Every graph has a degree sequence, but which sequences occur? The degree-sum formula implies that ",e.jsx(a,{math:"\\sum d_i"})," must be even. When we allow loops and multiple edges, this condition is sufficient:"]}),e.jsx(U,{title:"Realizability with Loops",children:e.jsxs("p",{children:["The nonnegative integers ",e.jsx(a,{math:"d_1, \\ldots, d_n"})," are the vertex degrees of some graph if and only if ",e.jsx(a,{math:"\\sum d_i"})," is even."]})}),e.jsx(te,{title:"Graphic Sequence",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"graphic sequence"})," is a list of nonnegative numbers that is the degree sequence of some simple graph. A simple graph with degree sequence ",e.jsx(a,{math:"d"})," ",'"realizes" ',e.jsx(a,{math:"d"}),"."]})}),e.jsxs(U,{title:"Havel-Hakimi Theorem (1955, 1962)",children:[e.jsxs("p",{children:["For ",e.jsx(a,{math:"n > 1"}),", an integer list ",e.jsx(a,{math:"d"})," of size"," ",e.jsx(a,{math:"n"})," is graphic if and only if ",e.jsx(a,{math:"d'"})," is graphic, where ",e.jsx(a,{math:"d'"})," is obtained from ",e.jsx(a,{math:"d"})," by deleting its largest element ",e.jsx(a,{math:"\\Delta"})," and subtracting 1 from its"," ",e.jsx(a,{math:"\\Delta"})," next largest elements."]}),e.jsxs("p",{className:"mt-2",children:["The only 1-element graphic sequence is ",e.jsx(a,{math:"d_1 = 0"}),"."]}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Sufficiency:"})," Given a simple graph ",e.jsx(a,{math:"G'"})," with degree sequence ",e.jsx(a,{math:"d'"}),", add a new vertex adjacent to vertices with degrees"," ",e.jsx(a,{math:"d_2 - 1, \\ldots, d_{\\Delta+1} - 1"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Necessity:"})," Begin with a simple graph ",e.jsx(a,{math:"G"})," realizing"," ",e.jsx(a,{math:"d"}),". Using 2-switches (edge swaps that preserve degrees), we can transform ",e.jsx(a,{math:"G"})," so that a vertex of maximum degree is adjacent to vertices with the ",e.jsx(a,{math:"\\Delta"})," highest other degrees. Deleting this vertex yields a graph realizing ",e.jsx(a,{math:"d'"}),"."]})]})]})]}),e.jsxs(me,{title:"Testing Graphic Sequences",children:[e.jsxs("p",{children:["To test whether ",e.jsx(a,{math:"3, 3, 3, 3, 3, 2, 2, 1"})," is graphic:"]}),e.jsxs("ol",{className:"list-decimal ml-6 mt-2 space-y-1",children:[e.jsxs("li",{children:["Delete 3, subtract 1 from next 3 largest: ",e.jsx(a,{math:"2, 2, 2, 3, 2, 2, 1"})]}),e.jsxs("li",{children:["Reorder: ",e.jsx(a,{math:"3, 2, 2, 2, 2, 2, 1"})]}),e.jsxs("li",{children:["Delete 3, subtract 1 from next 3: ",e.jsx(a,{math:"1, 1, 1, 2, 2, 1"})]}),e.jsxs("li",{children:["Reorder: ",e.jsx(a,{math:"2, 2, 1, 1, 1, 1"})]}),e.jsxs("li",{children:["Continue until reaching ",e.jsx(a,{math:"1, 1, 1, 1, 0"})," or similar base case"]})]}),e.jsx("p",{className:"mt-2",children:"If we reach all zeros, the sequence is graphic. If we get negative numbers or cannot continue, it is not."})]}),e.jsx("h2",{children:"2-Switches"}),e.jsx(te,{title:"2-Switch",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"2-switch"})," is the replacement of a pair of edges ",e.jsx(a,{math:"xy"})," and"," ",e.jsx(a,{math:"zw"})," in a simple graph by the edges ",e.jsx(a,{math:"yz"})," and"," ",e.jsx(a,{math:"wx"}),", given that ",e.jsx(a,{math:"yz"})," and ",e.jsx(a,{math:"wx"})," did not appear in the graph originally."]})}),e.jsxs("p",{children:["A 2-switch preserves all vertex degrees. If ",e.jsx(a,{math:"y \\leftrightarrow z"})," or"," ",e.jsx(a,{math:"w \\leftrightarrow x"}),", then the 2-switch cannot be performed because the resulting graph would not be simple."]}),e.jsx(U,{title:"Berge's Theorem on 2-Switches",children:e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," and ",e.jsx(a,{math:"H"})," are two simple graphs with vertex set ",e.jsx(a,{math:"V"}),", then ",e.jsx(a,{math:"d_G(v) = d_H(v)"})," for every"," ",e.jsx(a,{math:"v \\in V"})," if and only if there is a sequence of 2-switches that transforms ",e.jsx(a,{math:"G"})," into ",e.jsx(a,{math:"H"}),"."]})}),e.jsx("p",{children:"This theorem shows that any two simple graphs with the same degree sequence are connected by a sequence of local edge-swapping operations."}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsxs("li",{children:["The ",e.jsx("strong",{children:"Degree-Sum Formula"})," ",e.jsx(a,{math:"\\sum d(v) = 2e(G)"})," is fundamental, implying that every graph has an even number of odd-degree vertices."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Hypercubes"})," ",e.jsx(a,{math:"Q_k"})," are ",e.jsx(a,{math:"k"}),"-regular bipartite graphs with ",e.jsx(a,{math:"2^k"})," vertices and ",e.jsx(a,{math:"k2^{k-1}"})," edges."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Extremal problems"})," ask for the maximum/minimum of a function over a class of graphs; proving sharpness requires both a bound and an achieving example."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Mantel's Theorem:"})," The maximum edges in a triangle-free"," ",e.jsx(a,{math:"n"}),"-vertex graph is ",e.jsx(a,{math:"\\lfloor n^2/4 \\rfloor"}),", achieved by ",e.jsx(a,{math:"K_{\\lfloor n/2 \\rfloor, \\lceil n/2 \\rceil}"}),"."]}),e.jsxs("li",{children:["The ",e.jsx("strong",{children:"Havel-Hakimi Theorem"})," provides a recursive algorithm to test whether a sequence of integers is graphic (realizable by a simple graph)."]})]})]})}function Rz(){return e.jsxs(st,{sectionId:4,children:[e.jsxs("p",{children:["We have used graphs to model symmetric relations. Relations need not be symmetric; in general, a relation on ",e.jsx(a,{math:"S"})," can be any set of ordered pairs in ",e.jsx(a,{math:"S \\times S"}),". For such relations, we need a more general model:",e.jsx("strong",{children:" directed graphs"}),"."]}),e.jsx("h2",{children:"Definitions and Examples"}),e.jsxs(te,{title:"Directed Graph (Digraph)",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"directed graph"})," or ",e.jsx("strong",{children:"digraph"})," ",e.jsx(a,{math:"G"})," is a triple consisting of a ",e.jsx("strong",{children:"vertex set"})," ",e.jsx(a,{math:"V(G)"}),", an"," ",e.jsx("strong",{children:"edge set"})," ",e.jsx(a,{math:"E(G)"}),", and a function assigning each edge an ordered pair of vertices."]}),e.jsxs("p",{className:"mt-2",children:["The first vertex of the ordered pair is the ",e.jsx("strong",{children:"tail"})," of the edge, and the second is the ",e.jsx("strong",{children:"head"}),"; together, they are the ",e.jsx("strong",{children:"endpoints"}),". We say that an edge is an edge ",e.jsx("em",{children:"from"})," its tail ",e.jsx("em",{children:"to"})," its head."]})]}),e.jsx("p",{children:'The terms "head" and "tail" come from the arrows used to draw digraphs. When drawing a digraph, we give each curve a direction from the tail to the head.'}),e.jsxs(te,{title:"Simple Digraphs",children:[e.jsxs("p",{children:["In a digraph, a ",e.jsx("strong",{children:"loop"})," is an edge whose endpoints are equal."," ",e.jsx("strong",{children:"Multiple edges"})," are edges having the same ordered pair of endpoints."]}),e.jsxs("p",{className:"mt-2",children:["A digraph is ",e.jsx("strong",{children:"simple"})," if each ordered pair is the head and tail of at most one edge; one loop may be present at each vertex."]}),e.jsxs("p",{className:"mt-2",children:["In a simple digraph, we write ",e.jsx(a,{math:"uv"})," for an edge with tail"," ",e.jsx(a,{math:"u"})," and head ",e.jsx(a,{math:"v"}),". If there is an edge from"," ",e.jsx(a,{math:"u"})," to ",e.jsx(a,{math:"v"}),", then ",e.jsx(a,{math:"v"})," is a"," ",e.jsx("strong",{children:"successor"})," of ",e.jsx(a,{math:"u"}),", and ",e.jsx(a,{math:"u"})," is a"," ",e.jsx("strong",{children:"predecessor"})," of ",e.jsx(a,{math:"v"}),". We write"," ",e.jsx(a,{math:"u \\to v"}),' for "there is an edge from ',e.jsx(a,{math:"u"})," to"," ",e.jsx(a,{math:"v"}),'".']})]}),e.jsxs(me,{title:"Finite State Machines",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"finite state machine"}),' (also called finite automaton or discrete system) has a number of possible "states". Such a system can be modeled using a digraph in which vertices represent the states and edges represent the possible transitions between states.']}),e.jsx("p",{className:"mt-2",children:"Transitions inherently move in one direction, so digraphs provide the appropriate model. Labels on the edges can record the events that cause the transitions. When an event causes the system to remain in the same state, we have a loop."})]}),e.jsxs(me,{title:"Functional Digraphs",children:[e.jsxs("p",{children:["We can study a function ",e.jsx(a,{math:"f: A \\to A"})," using digraphs. The"," ",e.jsx("strong",{children:"functional digraph"})," of ",e.jsx(a,{math:"f"})," is the simple digraph with vertex set ",e.jsx(a,{math:"A"})," and edge set"," ",e.jsx(a,{math:"\\{(x, f(x)): x \\in A\\}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For each ",e.jsx(a,{math:"x"}),", the single edge with tail ",e.jsx(a,{math:"x"})," points to the image of ",e.jsx(a,{math:"x"})," under ",e.jsx(a,{math:"f"}),". Following a path corresponds to iterating the function."]}),e.jsxs("p",{className:"mt-2",children:["In a ",e.jsx("strong",{children:"permutation"}),", each element is the image of exactly one element, so the functional digraph has one head and one tail at each vertex. Hence the functional digraph of a permutation consists of disjoint cycles."]})]}),e.jsx("h2",{children:"Underlying Graphs and Connectivity"}),e.jsx(te,{title:"Underlying Graph",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"underlying graph"})," of a digraph ",e.jsx(a,{math:"D"})," is the graph ",e.jsx(a,{math:"G"})," obtained by treating the edges of ",e.jsx(a,{math:"D"})," as unordered pairs; the vertex set and edge set remain the same, and the endpoints of an edge are the same in ",e.jsx(a,{math:"G"})," as in ",e.jsx(a,{math:"D"}),", but in"," ",e.jsx(a,{math:"G"})," they become an unordered pair."]})}),e.jsxs(te,{title:"Paths and Cycles in Digraphs",children:[e.jsxs("p",{children:["A digraph is a ",e.jsx("strong",{children:"path"})," if it is a simple digraph whose vertices can be linearly ordered so that there is an edge with tail ",e.jsx(a,{math:"u"})," and head"," ",e.jsx(a,{math:"v"})," if and only if ",e.jsx(a,{math:"v"})," immediately follows"," ",e.jsx(a,{math:"u"})," in the vertex ordering."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"cycle"})," is defined similarly using an ordering of the vertices on a circle."]})]}),e.jsxs(te,{title:"Weak and Strong Connectivity",children:[e.jsxs("p",{children:["A digraph is ",e.jsx("strong",{children:"weakly connected"})," if its underlying graph is connected."]}),e.jsxs("p",{className:"mt-2",children:["A digraph is ",e.jsx("strong",{children:"strongly connected"})," or ",e.jsx("strong",{children:"strong"})," if for each ordered pair ",e.jsx(a,{math:"u, v"})," of vertices, there is a path from"," ",e.jsx(a,{math:"u"})," to ",e.jsx(a,{math:"v"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"strong components"})," of a digraph are its maximal strong subgraphs."]})]}),e.jsx(me,{title:"Strong Components",children:e.jsxs("p",{children:["The 2-vertex digraph consisting only of the edge ",e.jsx(a,{math:"xy"})," has an"," ",e.jsx(a,{math:"x, y"}),"-path but no ",e.jsx(a,{math:"y, x"}),"-path and is not strongly connected. As a digraph, an ",e.jsx(a,{math:"n"}),"-vertex path has"," ",e.jsx(a,{math:"n"})," strong components, but a cycle has only one."]})}),e.jsxs(te,{title:"Matrices for Digraphs",children:[e.jsxs("p",{children:["In the ",e.jsx("strong",{children:"adjacency matrix"})," ",e.jsx(a,{math:"A(G)"})," of a digraph"," ",e.jsx(a,{math:"G"}),", the entry in position ",e.jsx(a,{math:"i, j"})," is the number of edges from ",e.jsx(a,{math:"v_i"})," to ",e.jsx(a,{math:"v_j"}),"."]}),e.jsxs("p",{className:"mt-2",children:["In the ",e.jsx("strong",{children:"incidence matrix"})," ",e.jsx(a,{math:"M(G)"})," of a loopless digraph"," ",e.jsx(a,{math:"G"}),", we set ",e.jsx(a,{math:"m_{i,j} = +1"})," if"," ",e.jsx(a,{math:"v_i"})," is the tail of ",e.jsx(a,{math:"e_j"})," and"," ",e.jsx(a,{math:"m_{i,j} = -1"})," if ",e.jsx(a,{math:"v_i"})," is the head of"," ",e.jsx(a,{math:"e_j"}),"."]})]}),e.jsx("h2",{children:"Vertex Degrees in Digraphs"}),e.jsxs(te,{title:"Indegree and Outdegree",children:[e.jsxs("p",{children:["Let ",e.jsx(a,{math:"v"})," be a vertex in a digraph."]}),e.jsxs("ul",{className:"list-disc ml-6 mt-2 space-y-1",children:[e.jsxs("li",{children:["The ",e.jsx("strong",{children:"outdegree"})," ",e.jsx(a,{math:"d^+(v)"})," is the number of edges with tail ",e.jsx(a,{math:"v"}),"."]}),e.jsxs("li",{children:["The ",e.jsx("strong",{children:"indegree"})," ",e.jsx(a,{math:"d^-(v)"})," is the number of edges with head ",e.jsx(a,{math:"v"}),"."]}),e.jsxs("li",{children:["The ",e.jsx("strong",{children:"out-neighborhood"})," or ",e.jsx("strong",{children:"successor set"})," ",e.jsx(a,{math:"N^+(v) = \\{x \\in V(G): v \\to x\\}"}),"."]}),e.jsxs("li",{children:["The ",e.jsx("strong",{children:"in-neighborhood"})," or ",e.jsx("strong",{children:"predecessor set"})," ",e.jsx(a,{math:"N^-(v) = \\{x \\in V(G): x \\to v\\}"}),"."]})]}),e.jsxs("p",{className:"mt-2",children:["The minimum and maximum indegree are ",e.jsx(a,{math:"\\delta^-(G)"})," and"," ",e.jsx(a,{math:"\\Delta^-(G)"}),"; for outdegree we use ",e.jsx(a,{math:"\\delta^+(G)"})," ","and ",e.jsx(a,{math:"\\Delta^+(G)"}),"."]})]}),e.jsxs(U,{title:"Degree-Sum Formula for Digraphs",children:[e.jsxs("p",{children:["In a digraph ",e.jsx(a,{math:"G"}),","]}),e.jsx(we,{math:"\\sum_{v \\in V(G)} d^+(v) = e(G) = \\sum_{v \\in V(G)} d^-(v)."}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsx("p",{children:"Every edge has exactly one tail and exactly one head."})})]})]}),e.jsx("h2",{children:"Eulerian Digraphs"}),e.jsxs("p",{children:['The definitions of trail, walk, circuit, and the connection relation are the same in graphs and digraphs when we list edges as ordered pairs of vertices. In a digraph, the successive edges must "follow the arrows". In a walk'," ",e.jsx(a,{math:"v_0, e_1, \\ldots, e_k, v_k"}),", the edge ",e.jsx(a,{math:"e_i"})," has tail ",e.jsx(a,{math:"v_{i-1}"})," and head ",e.jsx(a,{math:"v_i"}),"."]}),e.jsx(te,{title:"Eulerian Digraphs",children:e.jsxs("p",{children:["An ",e.jsx("strong",{children:"Eulerian trail"})," in a digraph (or graph) is a trail containing all edges. An ",e.jsx("strong",{children:"Eulerian circuit"})," is a closed trail containing all edges. A digraph is ",e.jsx("strong",{children:"Eulerian"})," if it has an Eulerian circuit."]})}),e.jsx(U,{title:"Characterization of Eulerian Digraphs",children:e.jsxs("p",{children:["A digraph is Eulerian if and only if ",e.jsx(a,{math:"d^+(v) = d^-(v)"})," for each vertex ",e.jsx(a,{math:"v"})," and the underlying graph has at most one nontrivial component."]})}),e.jsx("p",{children:"Every Eulerian digraph with no isolated vertices is strongly connected, although the characterization states that being weakly connected is sufficient."}),e.jsxs(me,{title:"de Bruijn Cycles",children:[e.jsxs("p",{children:["There are ",e.jsx(a,{math:"2^n"})," binary strings of length ",e.jsx(a,{math:"n"}),". Is there a cyclic arrangement of ",e.jsx(a,{math:"2^n"})," binary digits such that the"," ",e.jsx(a,{math:"2^n"})," strings of ",e.jsx(a,{math:"n"})," consecutive digits are all distinct?"]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(a,{math:"n = 4"}),", the sequence ",e.jsx("code",{children:"(0000111101100101)"})," works."]}),e.jsxs("p",{className:"mt-2",children:["Define a digraph ",e.jsx(a,{math:"D_n"})," whose vertices are the binary"," ",e.jsx(a,{math:"(n-1)"}),"-tuples. Put an edge from ",e.jsx(a,{math:"a"})," to"," ",e.jsx(a,{math:"b"})," if the last ",e.jsx(a,{math:"n-2"})," entries of"," ",e.jsx(a,{math:"a"})," agree with the first ",e.jsx(a,{math:"n-2"})," entries of"," ",e.jsx(a,{math:"b"}),". Label the edge with the last entry of ",e.jsx(a,{math:"b"}),"."]})]}),e.jsxs(U,{title:"de Bruijn Graphs are Eulerian",children:[e.jsxs("p",{children:["The digraph ",e.jsx(a,{math:"D_n"})," is Eulerian, and the edge labels on any Eulerian circuit of ",e.jsx(a,{math:"D_n"})," form a cyclic arrangement in which the"," ",e.jsx(a,{math:"2^n"})," consecutive segments of length ",e.jsx(a,{math:"n"})," are distinct."]}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Every vertex has outdegree 2 (append 0 or 1 to get a successor) and indegree 2 (prepend 0 or 1 in reverse). Also, ",e.jsx(a,{math:"D_n"})," is strongly connected because we can reach any vertex ",e.jsx(a,{math:"b = (b_1, \\ldots, b_{n-1})"})," from any vertex by following edges labeled ",e.jsx(a,{math:"b_1, \\ldots, b_{n-1}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Since the ",e.jsx(a,{math:"2^{n-1}"})," vertex labels are distinct, and the two edges leaving each vertex have distinct labels, traversing each edge exactly once produces"," ",e.jsx(a,{math:"2^n"})," distinct strings of length ",e.jsx(a,{math:"n"}),"."]})]})]})]}),e.jsx("h2",{children:"Orientations and Tournaments"}),e.jsxs(te,{title:"Orientations and Tournaments",children:[e.jsxs("p",{children:["An ",e.jsx("strong",{children:"orientation"})," of a graph ",e.jsx(a,{math:"G"})," is a digraph"," ",e.jsx(a,{math:"D"})," obtained from ",e.jsx(a,{math:"G"})," by choosing an orientation (",e.jsx(a,{math:"x \\to y"})," or ",e.jsx(a,{math:"y \\to x"}),") for each edge"," ",e.jsx(a,{math:"xy \\in E(G)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["An ",e.jsx("strong",{children:"oriented graph"})," is an orientation of a simple graph."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"tournament"})," is an orientation of a complete graph."]})]}),e.jsxs("p",{children:["An oriented graph is the same thing as a loopless simple digraph. The number of oriented graphs with vertices ",e.jsx(a,{math:"v_1, \\ldots, v_n"})," is"," ",e.jsx(a,{math:"3^{\\binom{n}{2}}"}),"; the number of tournaments is"," ",e.jsx(a,{math:"2^{\\binom{n}{2}}"}),"."]}),e.jsxs(me,{title:"Round-Robin Tournaments",children:[e.jsxs("p",{children:['Orientations of complete graphs model "round-robin tournaments". Consider an'," ",e.jsx(a,{math:"n"}),"-team league where each team plays every other exactly once. For each pair ",e.jsx(a,{math:"u, v"}),", we include edge ",e.jsx(a,{math:"uv"})," if"," ",e.jsx(a,{math:"u"})," wins or ",e.jsx(a,{math:"vu"})," if ",e.jsx(a,{math:"v"})," wins."]}),e.jsxs("p",{className:"mt-2",children:['The "score" of a team is its outdegree, which equals its number of wins. We call the outdegree sequence of a tournament its ',e.jsx("strong",{children:"score sequence"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The outdegrees determine the indegrees, since"," ",e.jsx(a,{math:"d^+(v) + d^-(v) = n - 1"})," for every vertex ",e.jsx(a,{math:"v"}),"."]})]}),e.jsx("h2",{children:"Kings in Tournaments"}),e.jsxs("p",{children:['A tournament may have more than one vertex with maximum outdegree, so there may be no clear "winner". Although there need not be a clear winner, we show next that there must always be a team ',e.jsx(a,{math:"x"})," such that, for every other team"," ",e.jsx(a,{math:"z"}),", either ",e.jsx(a,{math:"x"})," beats ",e.jsx(a,{math:"z"})," or"," ",e.jsx(a,{math:"x"})," beats some team that beats ",e.jsx(a,{math:"z"}),"."]}),e.jsx(te,{title:"King",children:e.jsxs("p",{children:["In a digraph, a ",e.jsx("strong",{children:"king"})," is a vertex from which every vertex is reachable by a path of length at most 2."]})}),e.jsxs(U,{title:"Landau's Theorem (1953)",children:[e.jsx("p",{children:"Every tournament has a king."}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Let ",e.jsx(a,{math:"x"})," be a vertex in a tournament ",e.jsx(a,{math:"T"}),". If ",e.jsx(a,{math:"x"})," is not a king, then some vertex ",e.jsx(a,{math:"y"})," is not reachable from ",e.jsx(a,{math:"x"})," by a path of length at most 2."]}),e.jsxs("p",{className:"mt-2",children:["Hence no successor of ",e.jsx(a,{math:"x"})," is a predecessor of"," ",e.jsx(a,{math:"y"}),". Since ",e.jsx(a,{math:"T"})," is an orientation of a clique, every successor of ",e.jsx(a,{math:"x"})," must be a successor of"," ",e.jsx(a,{math:"y"}),". Also ",e.jsx(a,{math:"y \\to x"}),". Hence"," ",e.jsx(a,{math:"d^+(y) > d^+(x)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(a,{math:"y"})," is not a king, repeat the argument to find"," ",e.jsx(a,{math:"z"})," with yet larger outdegree. Since ",e.jsx(a,{math:"T"})," is finite, we cannot forever obtain vertices of successively higher outdegree. The procedure must terminate, and it can terminate only when we have found a king."]})]})]})]}),e.jsxs("p",{children:["In the language of extremality, we have proved that"," ",e.jsx("strong",{children:"every vertex of maximum outdegree in a tournament is a king"}),"."]}),e.jsx("h2",{children:"Kernels in Digraphs"}),e.jsx(te,{title:"Kernel",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"kernel"})," in the digraph ",e.jsx(a,{math:"D"})," is a set"," ",e.jsx(a,{math:"S \\subseteq V(D)"})," such that ",e.jsx(a,{math:"S"})," induces no edges and every vertex outside ",e.jsx(a,{math:"S"})," has a successor in ",e.jsx(a,{math:"S"}),"."]})}),e.jsx("p",{children:"A digraph that is an odd cycle has no kernel, but forbidding odd cycles as subdigraphs always yields a kernel."}),e.jsxs(U,{title:"Richardson's Theorem (1953)",children:[e.jsx("p",{children:"Every digraph having no odd cycle has a kernel."}),e.jsxs("details",{className:"mt-4",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["For a strongly connected digraph ",e.jsx(a,{math:"D"})," with no odd cycle: given an arbitrary vertex ",e.jsx(a,{math:"y \\in V(D)"}),", let ",e.jsx(a,{math:"S"})," be the set of vertices with even distance to ",e.jsx(a,{math:"y"}),". Every vertex with odd distance to ",e.jsx(a,{math:"y"})," has a successor in ",e.jsx(a,{math:"S"}),"."]}),e.jsxs("p",{className:"mt-2",children:["If vertices of ",e.jsx(a,{math:"S"})," were not pairwise nonadjacent, there would be an edge ",e.jsx(a,{math:"uv"})," with ",e.jsx(a,{math:"u, v \\in S"}),", leading to a closed odd walk, which contains an odd cyclea contradiction."]}),e.jsxs("p",{className:"mt-2",children:["For the general case, use induction on ",e.jsx(a,{math:"n(D)"}),", building the kernel from kernels of strong components."]})]})]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc ml-6 space-y-2",children:[e.jsxs("li",{children:["A ",e.jsx("strong",{children:"digraph"})," has directed edges with a tail and head; it models asymmetric relations."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Indegree"})," ",e.jsx(a,{math:"d^-(v)"})," counts incoming edges;"," ",e.jsx("strong",{children:"outdegree"})," ",e.jsx(a,{math:"d^+(v)"})," counts outgoing edges. Their sums both equal ",e.jsx(a,{math:"e(G)"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Strongly connected"})," digraphs have paths between every ordered pair;"," ",e.jsx("strong",{children:"weakly connected"})," only requires the underlying graph to be connected."]}),e.jsxs("li",{children:["A digraph is ",e.jsx("strong",{children:"Eulerian"})," iff ",e.jsx(a,{math:"d^+(v) = d^-(v)"})," for all vertices and the underlying graph has at most one nontrivial component."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Tournaments"})," are orientations of complete graphs; every tournament has a ",e.jsx("strong",{children:"king"})," (a vertex reaching all others in at most 2 steps)."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"de Bruijn graphs"})," are Eulerian digraphs used to generate sequences where all ",e.jsx(a,{math:"n"}),"-substrings are distinct."]})]})]})}function Oz(){return e.jsxs(st,{sectionId:5,children:[e.jsx("p",{children:'The word "tree" suggests branching out from a root and never completing a cycle. Trees as graphs have many applications, especially in data storage, searching, and communication networks. In this section, we develop the fundamental properties of trees and introduce the important concept of distance in graphs.'}),e.jsx("h2",{children:"Interactive Tree Visualizer"}),e.jsx("p",{children:"Use the interactive tool below to explore tree properties. Select a root vertex to see the hierarchical structure, compute distances, and find the tree's center and radius."}),e.jsx(vz,{className:"my-8"}),e.jsx("h2",{children:"Basic Definitions"}),e.jsxs(te,{title:"Trees and Forests",children:[e.jsxs("p",{children:["A graph with no cycle is ",e.jsx("strong",{children:"acyclic"}),". A ",e.jsx("strong",{children:"forest"})," is an acyclic graph. A ",e.jsx("strong",{children:"tree"})," is a connected acyclic graph."]}),e.jsxs("p",{children:["A ",e.jsx("strong",{children:"leaf"})," (or ",e.jsx("strong",{children:"pendant vertex"}),") is a vertex of degree 1."]}),e.jsxs("p",{children:["A ",e.jsx("strong",{children:"spanning subgraph"})," of ",e.jsx(a,{math:"G"})," is a subgraph with vertex set ",e.jsx(a,{math:"V(G)"}),". A ",e.jsx("strong",{children:"spanning tree"})," is a spanning subgraph that is a tree."]})]}),e.jsxs(me,{title:"Trees and Forests",children:[e.jsx("p",{children:"A tree is a connected forest, and every component of a forest is a tree. Since a graph with no cycles has no odd cycles, trees and forests are bipartite."}),e.jsxs("p",{children:[e.jsx("strong",{children:"Paths are trees:"})," A tree is a path if and only if its maximum degree is 2."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Stars:"})," A ",e.jsx("em",{children:"star"})," is a tree consisting of one vertex adjacent to all the others. The ",e.jsx(a,{math:"n"}),"-vertex star is the biclique ",e.jsx(a,{math:"K_{1,n-1}"}),"."]}),e.jsxs("p",{children:["A graph that is a tree has exactly one spanning tree: the full graph itself. Note that a spanning subgraph of ",e.jsx(a,{math:"G"})," need not be connected, and a connected subgraph of ",e.jsx(a,{math:"G"})," need not be spanning."]})]}),e.jsx("h2",{children:"Properties of Trees"}),e.jsx("p",{children:"Trees have many equivalent characterizations, any of which could be taken as the definition. Such characterizations are useful because we need only verify that a graph satisfies any one of them to prove that it is a tree, after which we can use all the other properties."}),e.jsxs(U,{title:"Lemma (Leaves in Trees)",children:[e.jsxs("p",{children:["Every tree with at least two vertices has at least two leaves. Deleting a leaf from an ",e.jsx(a,{math:"n"}),"-vertex tree produces a tree with"," ",e.jsx(a,{math:"n-1"})," vertices."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsx("p",{children:"A connected graph with at least two vertices has an edge. In an acyclic graph, an endpoint of a maximal nontrivial path has no neighbor other than its neighbor on the path. Hence the endpoints of such a path are leaves."}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(a,{math:"v"})," be a leaf of a tree ",e.jsx(a,{math:"G"}),", and let ",e.jsx(a,{math:"G' = G - v"}),". A vertex of degree 1 belongs to no path connecting two other vertices. Therefore, for"," ",e.jsx(a,{math:"u, w \\in V(G')"}),", every ",e.jsx(a,{math:"u,w"}),"-path in ",e.jsx(a,{math:"G"})," is also in ",e.jsx(a,{math:"G'"}),". Hence"," ",e.jsx(a,{math:"G'"})," is connected. Since deleting a vertex cannot create a cycle, ",e.jsx(a,{math:"G'"})," is also acyclic. Thus"," ",e.jsx(a,{math:"G'"})," is a tree with ",e.jsx(a,{math:"n-1"})," vertices."]})]})]})]}),e.jsxs("p",{children:["This lemma implies that every tree with more than one vertex arises from a smaller tree by adding a vertex of degree 1. This rescues proofs from the induction trap: growing an ",e.jsx(a,{math:"(n+1)"}),"-vertex tree from an arbitrary"," ",e.jsx(a,{math:"n"}),"-vertex tree by adding a new neighbor at an arbitrary old vertex generates all trees with ",e.jsx(a,{math:"n+1"})," vertices."]}),e.jsxs(U,{title:"Theorem 2.1.4 (Characterizations of Trees)",children:[e.jsxs("p",{children:["For an ",e.jsx(a,{math:"n"}),"-vertex graph ",e.jsx(a,{math:"G"})," (with"," ",e.jsx(a,{math:"n \\geq 1"}),"), the following are equivalent and characterize the trees with ",e.jsx(a,{math:"n"})," vertices:"]}),e.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[e.jsxs("li",{children:[e.jsx(a,{math:"G"})," is connected and has no cycles."]}),e.jsxs("li",{children:[e.jsx(a,{math:"G"})," is connected and has ",e.jsx(a,{math:"n-1"})," edges."]}),e.jsxs("li",{children:[e.jsx(a,{math:"G"})," has ",e.jsx(a,{math:"n-1"})," edges and no cycles."]}),e.jsxs("li",{children:["For ",e.jsx(a,{math:"u, v \\in V(G)"}),", ",e.jsx(a,{math:"G"})," has exactly one ",e.jsx(a,{math:"u,v"}),"-path."]})]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["We demonstrate equivalence by proving that any two of ","{","connected, acyclic, ",e.jsx(a,{math:"n-1"})," edges","}"," together imply the third."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"(A)  (B), (C):"})," Use induction on"," ",e.jsx(a,{math:"n"}),". For ",e.jsx(a,{math:"n = 1"}),", an acyclic 1-vertex graph has no edge. For ",e.jsx(a,{math:"n > 1"}),", by the lemma, deleting a leaf gives a smaller tree with ",e.jsx(a,{math:"n-2"})," edges, so ",e.jsx(a,{math:"e(G) = n-1"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"(B)  (A), (C):"})," Delete edges from cycles one by one until acyclic. Since no edge of a cycle is a cut-edge, connectivity is preserved. Since ",e.jsx(a,{math:"e(G) = n-1"}),", no edges were deleted."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"(C)  (A), (B):"})," Let"," ",e.jsx(a,{math:"G_1, \\ldots, G_k"})," be the components. Each satisfies (A), so ",e.jsx(a,{math:"e(G_i) = n(G_i) - 1"}),". Summing gives"," ",e.jsx(a,{math:"e(G) = n - k"}),". Since"," ",e.jsx(a,{math:"e(G) = n - 1"}),", we have ",e.jsx(a,{math:"k = 1"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"(A)  (D):"})," Connectivity gives paths; acyclicity ensures uniqueness (otherwise two paths form a cycle)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"(D)  (A):"})," Unique paths imply connectivity. If"," ",e.jsx(a,{math:"G"})," has a cycle, vertices on it have multiple paths."]})]})]})]}),e.jsxs(U,{title:"Corollary 2.1.5 (Properties of Trees)",children:[e.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"Every edge of a tree is a cut-edge."}),e.jsx("li",{children:"Adding one edge to a tree forms exactly one cycle."}),e.jsx("li",{children:"Every connected graph contains a spanning tree."})]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsx("p",{children:"(a) A tree has no cycles, so every edge is a cut-edge."}),e.jsx("p",{className:"mt-2",children:"(b) A tree has a unique path linking each pair of vertices, so joining two vertices by an edge creates exactly one cycle."}),e.jsx("p",{className:"mt-2",children:"(c) Iteratively deleting edges from cycles in a connected graph yields a connected acyclic subgraph (a spanning tree)."})]})]})]}),e.jsxs(U,{title:"Proposition 2.1.6 (Edge Exchange in Spanning Trees)",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"T"})," and ",e.jsx(a,{math:"T'"})," are spanning trees of a connected graph ",e.jsx(a,{math:"G"})," and"," ",e.jsx(a,{math:"e \\in E(T) - E(T')"}),", then there is an edge"," ",e.jsx(a,{math:"e' \\in E(T') - E(T)"})," such that"," ",e.jsx(a,{math:"T - e + e'"})," is a spanning tree of ",e.jsx(a,{math:"G"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["Every edge of ",e.jsx(a,{math:"T"})," is a cut-edge. Let"," ",e.jsx(a,{math:"U"})," and ",e.jsx(a,{math:"U'"})," be the two components of ",e.jsx(a,{math:"T - e"}),". Since ",e.jsx(a,{math:"T'"})," is connected, ",e.jsx(a,{math:"T'"})," has an edge ",e.jsx(a,{math:"e'"})," ","with endpoints in ",e.jsx(a,{math:"U"})," and ",e.jsx(a,{math:"U'"}),". Now"," ",e.jsx(a,{math:"T - e + e'"})," is connected, has"," ",e.jsx(a,{math:"n(G) - 1"})," edges, and is a spanning tree of"," ",e.jsx(a,{math:"G"}),"."]})})]})]}),e.jsxs(U,{title:"Proposition 2.1.7 (Reverse Edge Exchange)",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"T"})," and ",e.jsx(a,{math:"T'"})," are spanning trees of a connected graph ",e.jsx(a,{math:"G"})," and"," ",e.jsx(a,{math:"e \\in E(T) - E(T')"}),", then there is an edge"," ",e.jsx(a,{math:"e' \\in E(T') - E(T)"})," such that"," ",e.jsx(a,{math:"T' + e - e'"})," is a spanning tree of ",e.jsx(a,{math:"G"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["The graph ",e.jsx(a,{math:"T' + e"})," contains a unique cycle"," ",e.jsx(a,{math:"C"}),". Since ",e.jsx(a,{math:"T"})," is acyclic, there is an edge ",e.jsx(a,{math:"e' \\in E(C) - E(T)"}),". Deleting"," ",e.jsx(a,{math:"e'"})," breaks the only cycle in"," ",e.jsx(a,{math:"T' + e"}),". Now ",e.jsx(a,{math:"T' + e - e'"})," is connected and acyclic and is a spanning tree of ",e.jsx(a,{math:"G"}),"."]})})]})]}),e.jsxs(U,{title:"Proposition 2.1.8 (Trees as Subgraphs)",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"T"})," is a tree with ",e.jsx(a,{math:"k"})," edges and"," ",e.jsx(a,{math:"G"})," is a simple graph with"," ",e.jsx(a,{math:"\\delta(G) \\geq k"}),", then ",e.jsx(a,{math:"T"})," is a subgraph of ",e.jsx(a,{math:"G"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Use induction on ",e.jsx(a,{math:"k"}),". For ",e.jsx(a,{math:"k = 0"}),", every simple graph contains ",e.jsx(a,{math:"K_1"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(a,{math:"k > 0"}),", choose a leaf ",e.jsx(a,{math:"v"})," in"," ",e.jsx(a,{math:"T"})," with neighbor ",e.jsx(a,{math:"u"}),". Consider"," ",e.jsx(a,{math:"T' = T - v"}),". By the induction hypothesis,"," ",e.jsx(a,{math:"G"})," contains ",e.jsx(a,{math:"T'"})," as a subgraph since ",e.jsx(a,{math:"\\delta(G) \\geq k > k - 1"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(a,{math:"x"})," be the vertex in this copy of"," ",e.jsx(a,{math:"T'"})," corresponding to ",e.jsx(a,{math:"u"}),". Because"," ",e.jsx(a,{math:"T'"})," has only ",e.jsx(a,{math:"k - 1"})," vertices other than ",e.jsx(a,{math:"u"})," and"," ",e.jsx(a,{math:"d_G(x) \\geq k"}),", ",e.jsx(a,{math:"x"})," has a neighbor"," ",e.jsx(a,{math:"y"})," in ",e.jsx(a,{math:"G"})," not in this copy. Adding edge ",e.jsx(a,{math:"xy"})," expands the copy to include"," ",e.jsx(a,{math:"T"}),"."]})]})]})]}),e.jsxs("p",{children:["The inequality in Proposition 2.1.8 is sharp: the complete graph"," ",e.jsx(a,{math:"K_k"})," has minimum degree ",e.jsx(a,{math:"k - 1"}),", but it contains no tree with ",e.jsx(a,{math:"k"})," edges."]}),e.jsx("h2",{children:"Distance in Trees and Graphs"}),e.jsx("p",{children:"When using graphs to model communication networks, we want vertices to be close together to avoid communication delays. We measure distance using lengths of paths."}),e.jsxs(te,{title:"Distance and Diameter",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," has a ",e.jsx(a,{math:"u,v"}),"-path, then the"," ",e.jsx("strong",{children:"distance"})," from ",e.jsx(a,{math:"u"})," to"," ",e.jsx(a,{math:"v"}),", written ",e.jsx(a,{math:"d_G(u,v)"})," or simply"," ",e.jsx(a,{math:"d(u,v)"}),", is the least length of a"," ",e.jsx(a,{math:"u,v"}),"-path. If ",e.jsx(a,{math:"G"})," has no such path, then ",e.jsx(a,{math:"d(u,v) = \\infty"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"diameter"})," of ",e.jsx(a,{math:"G"}),", written"," ",e.jsx(a,{math:"\\text{diam } G"}),", is:"]}),e.jsx(we,{math:"\\text{diam } G = \\max_{u,v \\in V(G)} d(u,v)"})]}),e.jsxs(te,{title:"Eccentricity and Radius",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"eccentricity"})," of a vertex ",e.jsx(a,{math:"u"}),", written"," ",e.jsx(a,{math:"\\varepsilon(u)"}),", is:"]}),e.jsx(we,{math:"\\varepsilon(u) = \\max_{v \\in V(G)} d(u,v)"}),e.jsxs("p",{children:["The ",e.jsx("strong",{children:"radius"})," of a graph ",e.jsx(a,{math:"G"}),", written"," ",e.jsx(a,{math:"\\text{rad } G"}),", is:"]}),e.jsx(we,{math:"\\text{rad } G = \\min_{u \\in V(G)} \\varepsilon(u)"}),e.jsx("p",{children:"The diameter equals the maximum of the vertex eccentricities."})]}),e.jsxs(me,{title:"Distance in Special Graphs",children:[e.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Petersen graph:"})," Has diameter 2, since nonadjacent vertices have a common neighbor."]}),e.jsxs("li",{children:[e.jsxs("strong",{children:["Hypercube ",e.jsx(a,{math:"Q_k"}),":"]})," Has diameter"," ",e.jsx(a,{math:"k"}),", since it takes ",e.jsx(a,{math:"k"})," steps to change all ",e.jsx(a,{math:"k"})," coordinates."]}),e.jsxs("li",{children:[e.jsxs("strong",{children:["Cycle ",e.jsx(a,{math:"C_n"}),":"]})," Has diameter"," ",e.jsx(a,{math:"\\lfloor n/2 \\rfloor"}),"."]}),e.jsxs("li",{children:[e.jsxs("strong",{children:["Star ",e.jsx(a,{math:"K_{1,n-1}"}),":"]})," For"," ",e.jsx(a,{math:"n \\geq 3"}),", has diameter 2 and radius 1 (minimum diameter among ",e.jsx(a,{math:"n"}),"-vertex trees)."]}),e.jsxs("li",{children:[e.jsxs("strong",{children:["Path ",e.jsx(a,{math:"P_n"}),":"]})," Has diameter"," ",e.jsx(a,{math:"n - 1"})," and radius"," ",e.jsx(a,{math:"\\lceil (n-1)/2 \\rceil"})," (maximum diameter among"," ",e.jsx(a,{math:"n"}),"-vertex trees)."]})]}),e.jsx("p",{className:"mt-2",children:"Every path in a tree is the shortest (the only!) path between its endpoints, so the diameter of a tree is the length of its longest path."})]}),e.jsxs(U,{title:"Theorem 2.1.11 (Diameter of Complement)",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," is a simple graph, then:"]}),e.jsx(we,{math:"\\text{diam } G \\geq 3 \\implies \\text{diam } \\overline{G} \\leq 3"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["When ",e.jsx(a,{math:"\\text{diam } G \\geq 3"}),", there exist nonadjacent vertices ",e.jsx(a,{math:"u, v \\in V(G)"})," with no common neighbor. Hence every ",e.jsx(a,{math:"x \\in V(G) - \\{u, v\\}"})," has at least one of"," ",e.jsx(a,{math:"\\{u, v\\}"})," as a nonneighbor in ",e.jsx(a,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:["This makes ",e.jsx(a,{math:"x"})," adjacent in"," ",e.jsx(a,{math:"\\overline{G}"})," to at least one of"," ",e.jsx(a,{math:"\\{u, v\\}"}),". Since also"," ",e.jsx(a,{math:"uv \\in E(\\overline{G})"}),", for every pair"," ",e.jsx(a,{math:"x, y"})," there is an ",e.jsx(a,{math:"x,y"}),"-path of length at most 3 in ",e.jsx(a,{math:"\\overline{G}"})," through"," ",e.jsx(a,{math:"\\{u, v\\}"}),"."]})]})]})]}),e.jsxs(te,{title:"Center of a Graph",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"center"})," of a graph ",e.jsx(a,{math:"G"})," is the subgraph induced by the vertices of minimum eccentricity."]}),e.jsx("p",{className:"mt-2",children:"The center equals the full graph if and only if the radius and diameter are equal."})]}),e.jsxs(U,{title:"Jordan's Theorem (Center of a Tree)",children:[e.jsx("p",{children:"The center of a tree is a vertex or an edge."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsx("p",{children:"Use induction on the number of vertices."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Base case:"})," For ",e.jsx(a,{math:"n(T) \\leq 2"}),", the center is the entire tree."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Induction step:"})," For ",e.jsx(a,{math:"n(T) > 2"}),", form"," ",e.jsx(a,{math:"T'"})," by deleting every leaf of ",e.jsx(a,{math:"T"}),". By the lemma, ",e.jsx(a,{math:"T'"})," is a tree with at least one vertex."]}),e.jsxs("p",{className:"mt-2",children:["Every vertex at maximum distance from ",e.jsx(a,{math:"u \\in V(T)"})," is a leaf. Since all leaves are removed and no path between other vertices uses a leaf: ",e.jsx(a,{math:"\\varepsilon_{T'}(u) = \\varepsilon_T(u) - 1"})," for every ",e.jsx(a,{math:"u \\in V(T')"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Also, the eccentricity of a leaf in ",e.jsx(a,{math:"T"})," is greater than that of its neighbor. Hence the vertices minimizing"," ",e.jsx(a,{math:"\\varepsilon_T(u)"})," are the same as those minimizing"," ",e.jsx(a,{math:"\\varepsilon_{T'}(u)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["So ",e.jsx(a,{math:"T"})," and ",e.jsx(a,{math:"T'"})," have the same center. By the induction hypothesis, this center is a vertex or an edge."]})]})]})]}),e.jsx("h2",{children:"The Wiener Index"}),e.jsx("p",{children:"In a communication network, large diameter may be acceptable if most pairs can communicate via short paths. This leads us to study the average distance instead of the maximum."}),e.jsxs(te,{title:"Wiener Index",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Wiener index"})," (also called the total distance) of a graph"," ",e.jsx(a,{math:"G"})," is:"]}),e.jsx(we,{math:"D(G) = W(G) = \\sum_{u,v \\in V(G)} d_G(u,v)"}),e.jsx("p",{children:"Wiener used this to study the boiling point of paraffin. Molecules can be modeled by graphs with vertices for atoms and edges for bonds, and many chemical properties relate to the Wiener index."})]}),e.jsxs(U,{title:"Theorem 2.1.14 (Extreme Wiener Index for Trees)",children:[e.jsxs("p",{children:["Among trees with ",e.jsx(a,{math:"n"})," vertices, the Wiener index"," ",e.jsx(a,{math:"D(T) = \\sum_{u,v} d(u,v)"})," is:"]}),e.jsxs("ul",{className:"list-disc list-inside mt-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Minimized"})," by stars (uniquely), with value"," ",e.jsx(a,{math:"D(K_{1,n-1}) = (n-1)^2"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Maximized"})," by paths (uniquely), with value"," ",e.jsx(a,{math:"D(P_n) = \\binom{n+1}{3}"})]})]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Minimum:"})," A tree has ",e.jsx(a,{math:"n-1"})," edges, so"," ",e.jsx(a,{math:"n-1"})," pairs are at distance 1 and all other pairs have distance at least 2. The star achieves this lower bound. To show uniqueness, note that if all vertices have distance 2 from a leaf ",e.jsx(a,{math:"x"}),", they must all be neighbors of ",e.jsx(a,{math:"x"}),"'s neighbor, making"," ",e.jsx(a,{math:"T"})," a star."]}),e.jsx(we,{math:"D(K_{1,n-1}) = (n-1) + 2\\binom{n-1}{2} = (n-1)^2"}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Maximum:"})," For the path,"," ",e.jsx(a,{math:"D(P_n) = D(P_{n-1}) + \\binom{n}{2}"})," by summing distances from an endpoint. By induction,"," ",e.jsx(a,{math:"D(P_n) = \\binom{n+1}{3}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["To show ",e.jsx(a,{math:"P_n"})," is the unique maximizer, note that the distance list from a leaf in ",e.jsx(a,{math:"P_n"})," is"," ",e.jsx(a,{math:"1, 2, \\ldots, n-1"})," (all distinct). Any repetition in distance values makes the sum smaller, and repetitions occur when"," ",e.jsx(a,{math:"T"})," is not a path."]})]})]})]}),e.jsxs(U,{title:"Lemma 2.1.15 (Distance in Subgraphs)",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"H"})," is a subgraph of ",e.jsx(a,{math:"G"}),", then"," ",e.jsx(a,{math:"d_G(u,v) \\leq d_H(u,v)"}),"."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["Every ",e.jsx(a,{math:"u,v"}),"-path in ",e.jsx(a,{math:"H"})," appears also in"," ",e.jsx(a,{math:"G"}),", so the shortest path in ",e.jsx(a,{math:"G"})," is no longer than the shortest in ",e.jsx(a,{math:"H"}),"."]})]}),e.jsxs(U,{title:"Corollary 2.1.16",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," is a connected ",e.jsx(a,{math:"n"}),"-vertex graph, then ",e.jsx(a,{math:"D(G) \\leq D(P_n)"}),"."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["Let ",e.jsx(a,{math:"T"})," be a spanning tree of ",e.jsx(a,{math:"G"}),". By Lemma 2.1.15, ",e.jsx(a,{math:"D(G) \\leq D(T)"}),". By Theorem 2.1.14,"," ",e.jsx(a,{math:"D(T) \\leq D(P_n)"}),"."]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Tree characterizations:"})," A graph is a tree iff it satisfies any of: connected + acyclic, connected + ",e.jsx(a,{math:"n-1"})," edges, acyclic +"," ",e.jsx(a,{math:"n-1"})," edges, or unique paths between all vertex pairs."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Leaves:"})," Every tree with ",e.jsx(a,{math:"n \\geq 2"})," vertices has at least two leaves, enabling inductive proofs."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cut-edges:"})," Every edge in a tree is a cut-edge; adding any edge creates exactly one cycle."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Distance metrics:"})," Diameter is the maximum distance; radius is the minimum eccentricity; the center minimizes eccentricity."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Jordan's theorem:"})," The center of a tree is always a single vertex or a single edge."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Wiener index:"})," Among ",e.jsx(a,{math:"n"}),"-vertex trees, stars minimize total distance and paths maximize it."]})]})]})}function qz(){return e.jsxs(st,{sectionId:6,children:[e.jsxs("p",{children:["There are ",e.jsx(a,{math:"2^{\\binom{n}{2}}"})," simple graphs with vertex set"," ",e.jsx(a,{math:"[n] = \\{1, \\ldots, n\\}"}),", since each pair may or may not form an edge. How many of these are trees? In this section, we solve this counting problem, count spanning trees in arbitrary graphs, and discuss several applications."]}),e.jsx("h2",{children:"Enumeration of Trees"}),e.jsxs("p",{children:["With one or two vertices, only one tree can be formed. With three vertices there is still only one isomorphism class, but the adjacency matrix is determined by which vertex is the center. Thus there are ",e.jsx("strong",{children:"three"})," trees with vertex set ",e.jsx(a,{math:"[3]"}),". With vertex set ",e.jsx(a,{math:"[4]"}),", there are 4 stars and 12 paths, yielding ",e.jsx("strong",{children:"16"})," trees. With vertex set ",e.jsx(a,{math:"[5]"}),", a careful study yields ",e.jsx("strong",{children:"125"})," trees."]}),e.jsxs("p",{children:["Now we may see a pattern: ",e.jsx(a,{math:"3 = 3^1"}),","," ",e.jsx(a,{math:"16 = 4^2"}),", ",e.jsx(a,{math:"125 = 5^3"}),". With vertex set"," ",e.jsx(a,{math:"[n]"}),", there are ",e.jsx(a,{math:"n^{n-2}"})," trees. This is"," ",e.jsx("strong",{children:"Cayley's Formula"}),"."]}),e.jsx("h3",{children:"The Prfer Code"}),e.jsxs("p",{children:["We present a bijective proof: establishing a one-to-one correspondence between the set of trees with vertex set ",e.jsx(a,{math:"[n]"})," and a set of known size. Given a set ",e.jsx(a,{math:"S"})," of ",e.jsx(a,{math:"n"})," numbers, there are exactly ",e.jsx(a,{math:"n^{n-2}"})," ways to form a list of length"," ",e.jsx(a,{math:"n-2"})," with entries in ",e.jsx(a,{math:"S"}),"."]}),e.jsxs(te,{title:"Prfer Code Algorithm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Input:"})," A tree ",e.jsx(a,{math:"T"})," with vertex set"," ",e.jsx(a,{math:"S \\subseteq \\mathbb{N}"}),"."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Iteration:"})," At the ",e.jsx(a,{math:"i"}),"th step, delete the least remaining leaf, and let ",e.jsx(a,{math:"a_i"})," be the neighbor of this leaf."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Output:"})," The list"," ",e.jsx(a,{math:"f(T) = (a_1, \\ldots, a_{n-2})"}),"."]})]}),e.jsxs(me,{title:"Computing the Prfer Code",children:[e.jsxs("p",{children:["Consider a tree on vertices ",e.jsx(a,{math:"\\{1, 2, 3, 4, 5, 6, 7, 8\\}"})," ","with structure: ",e.jsx(a,{math:"2-7-1-8"})," as a path, with"," ",e.jsx(a,{math:"6"})," attached to ",e.jsx(a,{math:"7"}),","," ",e.jsx(a,{math:"4"})," attached to ",e.jsx(a,{math:"1"}),", and"," ",e.jsx(a,{math:"3, 5"})," attached to ",e.jsx(a,{math:"4"}),"."]}),e.jsxs("p",{children:["The least leaf is 2; we delete it and record 7. After deleting 3 and 5 and recording 4 each time, the least leaf in the remaining 5-vertex tree is 4. The full code is ",e.jsx(a,{math:"(7, 4, 4, 1, 7, 1)"}),", and the vertices remaining at the end are 1 and 8."]})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Recovering the tree from the code:"})," If we know the vertex set"," ",e.jsx(a,{math:"S"}),", we can retrieve the tree from the code"," ",e.jsx(a,{math:"a"}),". At each step, the least element of"," ",e.jsx(a,{math:"S"})," not appearing in the remaining code is the next leaf to add. We connect it to the next entry in the code."]}),e.jsxs(U,{title:"Cayley's Formula (Theorem 2.2.3)",children:[e.jsxs("p",{children:["For a set ",e.jsx(a,{math:"S \\subseteq \\mathbb{N}"})," of size"," ",e.jsx(a,{math:"n"}),", there are ",e.jsx(a,{math:"n^{n-2}"})," trees with vertex set ",e.jsx(a,{math:"S"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof (Prfer [1918])"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["This holds for ",e.jsx(a,{math:"n = 1"}),", so assume"," ",e.jsx(a,{math:"n \\geq 2"}),". We prove that the Prfer algorithm defines a bijection from the set of trees with vertex set ",e.jsx(a,{math:"S"})," ","to the set ",e.jsx(a,{math:"S^{n-2}"})," of lists of length"," ",e.jsx(a,{math:"n-2"})," from ",e.jsx(a,{math:"S"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Key observation:"})," Computing ",e.jsx(a,{math:"f(T)"})," ","reduces each vertex to degree 1 and then possibly deletes it. Thus every non-leaf vertex in ",e.jsx(a,{math:"T"})," appears in"," ",e.jsx(a,{math:"f(T)"}),". No leaf appears, because recording a leaf as a neighbor would require reducing the tree to one vertex. Hence the leaves of"," ",e.jsx(a,{math:"T"})," are the elements of ",e.jsx(a,{math:"S"})," not in"," ",e.jsx(a,{math:"f(T)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Given ",e.jsx(a,{math:"a \\in S^{n-2}"}),", every tree with Prfer code"," ",e.jsx(a,{math:"a"})," has the same least leaf ",e.jsx(a,{math:"x"})," and has edge ",e.jsx(a,{math:"xa_1"}),". By induction on"," ",e.jsx(a,{math:"n"}),", there is exactly one tree with the remaining vertices and remaining code. Adding ",e.jsx(a,{math:"xa_1"})," yields exactly one tree with code ",e.jsx(a,{math:"a"}),"."]})]})]})]}),e.jsxs(U,{title:"Corollary 2.2.4 (Trees with Fixed Degrees)",children:[e.jsxs("p",{children:["Given positive integers ",e.jsx(a,{math:"d_1, \\ldots, d_n"})," summing to"," ",e.jsx(a,{math:"2n - 2"}),", there are exactly:"]}),e.jsx(we,{math:"\\frac{(n-2)!}{\\prod_i (d_i - 1)!}"}),e.jsxs("p",{children:["trees with vertex set ",e.jsx(a,{math:"[n]"})," such that vertex"," ",e.jsx(a,{math:"i"})," has degree ",e.jsx(a,{math:"d_i"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["While constructing the Prfer code of a tree ",e.jsx(a,{math:"T"}),", we record ",e.jsx(a,{math:"x"})," each time we delete a neighbor of"," ",e.jsx(a,{math:"x"}),", until we delete ",e.jsx(a,{math:"x"})," itself or leave ",e.jsx(a,{math:"x"})," among the last two vertices. Thus each vertex"," ",e.jsx(a,{math:"x"})," appears ",e.jsx(a,{math:"d_T(x) - 1"})," times in the Prfer code."]}),e.jsxs("p",{className:"mt-2",children:["Therefore, we count trees with these vertex degrees by counting lists of length ",e.jsx(a,{math:"n - 2"})," that for each ",e.jsx(a,{math:"i"})," ","have ",e.jsx(a,{math:"d_i - 1"})," copies of ",e.jsx(a,{math:"i"}),". This is the multinomial coefficient"," ",e.jsx(a,{math:"\\frac{(n-2)!}{\\prod_i (d_i - 1)!}"}),"."]})]})]})]}),e.jsxs(me,{title:"Trees with Fixed Degrees",children:[e.jsxs("p",{children:["Consider trees with vertices ",e.jsx(a,{math:"\\{1, 2, 3, 4, 5, 6, 7\\}"})," that have degrees ",e.jsx(a,{math:"(3, 1, 2, 1, 3, 1, 1)"}),", respectively."]}),e.jsxs("p",{children:["We compute"," ",e.jsx(a,{math:"\\frac{5!}{2! \\cdot 0! \\cdot 1! \\cdot 0! \\cdot 2! \\cdot 0! \\cdot 0!} = \\frac{120}{2 \\cdot 1 \\cdot 1 \\cdot 2} = 30"})," ","trees."]}),e.jsxs("p",{children:["Only vertices ",e.jsx(a,{math:"\\{1, 3, 5\\}"})," are non-leaves. Deleting the leaves yields a subtree on ",e.jsx(a,{math:"\\{1, 3, 5\\}"}),". There are three such subtrees, determined by which vertex is in the middle. To complete each tree, we add the appropriate number of leaf neighbors for each non-leaf."]})]}),e.jsx("h2",{children:"Spanning Trees in Graphs"}),e.jsxs("p",{children:["Cayley's Formula counts spanning trees of ",e.jsx(a,{math:"K_n"}),". We now consider the more general problem of computing the number of spanning trees in any graph ",e.jsx(a,{math:"G"}),"."]}),e.jsxs(te,{title:"Edge Contraction",children:[e.jsxs("p",{children:["In a graph ",e.jsx(a,{math:"G"}),", ",e.jsx("strong",{children:"contraction"})," of edge"," ",e.jsx(a,{math:"e"})," with endpoints ",e.jsx(a,{math:"u, v"})," is the replacement of ",e.jsx(a,{math:"u"})," and ",e.jsx(a,{math:"v"})," with a single vertex whose incident edges are the edges other than"," ",e.jsx(a,{math:"e"})," that were incident to ",e.jsx(a,{math:"u"})," or"," ",e.jsx(a,{math:"v"}),". The resulting graph ",e.jsx(a,{math:"G \\cdot e"})," ","has one less edge than ",e.jsx(a,{math:"G"}),"."]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"In a drawing, contraction shrinks the edge to a single point. Contracting can produce multiple edges or loops."})]}),e.jsxs(U,{title:"Proposition 2.2.8 (Deletion-Contraction Recurrence)",children:[e.jsxs("p",{children:["Let ",e.jsx(a,{math:"\\tau(G)"})," denote the number of spanning trees of a graph ",e.jsx(a,{math:"G"}),". If ",e.jsx(a,{math:"e \\in E(G)"})," is not a loop, then:"]}),e.jsx(we,{math:"\\tau(G) = \\tau(G - e) + \\tau(G \\cdot e)"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["The spanning trees of ",e.jsx(a,{math:"G"})," that omit"," ",e.jsx(a,{math:"e"})," are precisely the spanning trees of"," ",e.jsx(a,{math:"G - e"}),"."]}),e.jsxs("p",{className:"mt-2",children:["To show that ",e.jsx(a,{math:"G"})," has"," ",e.jsx(a,{math:"\\tau(G \\cdot e)"})," spanning trees containing"," ",e.jsx(a,{math:"e"}),", we show that contraction of"," ",e.jsx(a,{math:"e"})," defines a bijection from spanning trees of"," ",e.jsx(a,{math:"G"})," containing ",e.jsx(a,{math:"e"})," to spanning trees of ",e.jsx(a,{math:"G \\cdot e"}),"."]}),e.jsxs("p",{className:"mt-2",children:["When we contract ",e.jsx(a,{math:"e"})," in a spanning tree containing"," ",e.jsx(a,{math:"e"}),", we obtain a spanning tree of"," ",e.jsx(a,{math:"G \\cdot e"})," (spanning, connected, right number of edges). The other edges maintain their identity, so no two trees map to the same tree. Each spanning tree of ",e.jsx(a,{math:"G \\cdot e"})," arises by expanding the contracted vertex back into ",e.jsx(a,{math:"e"}),"."]})]})]})]}),e.jsxs(me,{title:"The Kite Graph",children:[e.jsx("p",{children:'The "kite" graph (a 4-cycle with one diagonal) has 8 spanning trees. Four are paths around the outside cycle, and four use the diagonal edge. Using deletion-contraction:'}),e.jsxs("ul",{className:"list-disc list-inside mt-2",children:[e.jsxs("li",{children:[e.jsx(a,{math:"G - e"})," (diagonal removed) is"," ",e.jsx(a,{math:"C_4"}),", which has 4 spanning trees."]}),e.jsxs("li",{children:[e.jsx(a,{math:"G \\cdot e"})," (diagonal contracted) is a triangle with one doubled edge, which has 4 spanning trees."]}),e.jsxs("li",{children:["Total: ",e.jsx(a,{math:"4 + 4 = 8"}),"."]})]})]}),e.jsx("h3",{children:"The Matrix Tree Theorem"}),e.jsx("p",{children:"The deletion-contraction recurrence may require exponentially many terms. Kirchhoff discovered a much faster approach using determinants."}),e.jsxs(U,{title:"Matrix Tree Theorem (Theorem 2.2.12)",children:[e.jsxs("p",{children:["Given a loopless graph ",e.jsx(a,{math:"G"})," with vertex set"," ",e.jsx(a,{math:"v_1, \\ldots, v_n"}),", let ",e.jsx(a,{math:"a_{i,j}"})," be the number of edges with endpoints ",e.jsx(a,{math:"v_i"})," and"," ",e.jsx(a,{math:"v_j"}),". Define the ",e.jsx("strong",{children:"Laplacian matrix"})," ",e.jsx(a,{math:"Q"})," by:"]}),e.jsx(we,{math:"Q_{i,j} = \\begin{cases} d(v_i) & \\text{if } i = j \\\\ -a_{i,j} & \\text{if } i \\neq j \\end{cases}"}),e.jsxs("p",{children:["If ",e.jsx(a,{math:"Q^*"})," is a matrix obtained by deleting row"," ",e.jsx(a,{math:"s"})," and column ",e.jsx(a,{math:"t"})," of"," ",e.jsx(a,{math:"Q"}),", then:"]}),e.jsx(we,{math:"\\tau(G) = (-1)^{s+t} \\det Q^*"})]}),e.jsxs(me,{title:"Matrix Tree Computation",children:[e.jsx("p",{children:"For the kite graph with vertices labeled 1, 2, 3, 4:"}),e.jsx(we,{math:"Q = \\begin{pmatrix} 3 & -1 & -1 & -1 \\\\ -1 & 3 & -1 & -1 \\\\ -1 & -1 & 2 & 0 \\\\ -1 & -1 & 0 & 2 \\end{pmatrix}"}),e.jsx("p",{children:"Deleting row 1 and column 1 gives:"}),e.jsx(we,{math:"Q^* = \\begin{pmatrix} 3 & -1 & -1 \\\\ -1 & 2 & 0 \\\\ -1 & 0 & 2 \\end{pmatrix}"}),e.jsxs("p",{children:["Computing ",e.jsx(a,{math:"\\det Q^* = 3(4 - 0) - (-1)(-2 - 0) + (-1)(0 + 2) = 12 - 2 - 2 = 8"}),"."]})]}),e.jsx("h2",{children:"Graceful Labelings"}),e.jsxs("p",{children:["Can we decompose ",e.jsx(a,{math:"K_{2m+1}"})," into copies of a tree"," ",e.jsx(a,{math:"T"})," with ",e.jsx(a,{math:"m"})," edges? Graceful labelings provide a constructive approach."]}),e.jsxs(te,{title:"Graceful Labeling",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"graceful labeling"})," of a graph ",e.jsx(a,{math:"G"})," with"," ",e.jsx(a,{math:"m"})," edges is a function"," ",e.jsx(a,{math:"f: V(G) \\to \\{0, \\ldots, m\\}"})," such that:"]}),e.jsxs("ol",{className:"list-decimal list-inside mt-2",children:[e.jsx("li",{children:"Distinct vertices receive distinct numbers."}),e.jsxs("li",{children:["The edge differences"," ",e.jsx(a,{math:"\\{|f(u) - f(v)|: uv \\in E(G)\\} = \\{1, \\ldots, m\\}"}),"."]})]}),e.jsxs("p",{className:"mt-2",children:["A graph is ",e.jsx("strong",{children:"graceful"})," if it has a graceful labeling."]})]}),e.jsxs(U,{title:"Ringel's Conjecture (Conjecture 2.2.13)",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"T"})," is a fixed tree with ",e.jsx(a,{math:"m"})," edges, then ",e.jsx(a,{math:"K_{2m+1}"})," decomposes into"," ",e.jsx(a,{math:"2m + 1"})," copies of ",e.jsx(a,{math:"T"}),"."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["This famous conjecture was proved in 2019 by Montgomery, Pokrovskiy, and Sudakov for sufficiently large ",e.jsx(a,{math:"m"}),"."]})]}),e.jsxs(U,{title:"Theorem 2.2.16 (Rosa [1967])",children:[e.jsxs("p",{children:["If a tree ",e.jsx(a,{math:"T"})," with ",e.jsx(a,{math:"m"})," edges has a graceful labeling, then ",e.jsx(a,{math:"K_{2m+1}"})," has a decomposition into"," ",e.jsx(a,{math:"2m + 1"})," copies of ",e.jsx(a,{math:"T"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["View vertices of ",e.jsx(a,{math:"K_{2m+1}"})," as congruence classes modulo ",e.jsx(a,{math:"2m + 1"}),", arranged circularly. Group edges by the difference between endpoints (differences"," ",e.jsx(a,{math:"1, 2, \\ldots, m"}),")."]}),e.jsxs("p",{className:"mt-2",children:["From a graceful labeling, define copies"," ",e.jsx(a,{math:"T_0, \\ldots, T_{2m}"}),". The vertices of"," ",e.jsx(a,{math:"T_k"})," are"," ",e.jsx(a,{math:"k, k+1, \\ldots, k+m \\pmod{2m+1}"}),", with"," ",e.jsx(a,{math:"k+i"})," adjacent to ",e.jsx(a,{math:"k+j"})," iff"," ",e.jsx(a,{math:"i"})," is adjacent to ",e.jsx(a,{math:"j"})," in the labeling."]}),e.jsxs("p",{className:"mt-2",children:["Each difference class has exactly one edge in each"," ",e.jsx(a,{math:"T_k"}),", so the copies decompose"," ",e.jsx(a,{math:"K_{2m+1}"}),"."]})]})]})]}),e.jsxs(U,{title:"Graceful Tree Conjecture (Conjecture 2.2.15)",children:[e.jsx("p",{children:e.jsx("em",{children:"Every tree has a graceful labeling."})}),e.jsx("p",{className:"mt-2 text-dark-300",children:"This conjecture, due to Kotzig and Ringel (1964), remains open. It is known for many special classes of trees."})]}),e.jsx("h2",{children:"Caterpillars"}),e.jsxs(te,{title:"Caterpillar",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"caterpillar"})," is a tree in which a single path (the"," ",e.jsx("strong",{children:"spine"}),") is incident to (or contains) every edge."]}),e.jsx("p",{className:"mt-2",children:'Equivalently, deleting all leaves yields a path. The vertices not on the spine are called the "feet" and are all leaves.'})]}),e.jsxs(U,{title:"Theorem 2.2.19 (Caterpillar Characterization)",children:[e.jsxs("p",{children:["A tree is a caterpillar if and only if it does not contain the tree"," ",e.jsx(a,{math:"Y"})," (a vertex with three neighbors, each having another neighbor) as a subgraph."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Let ",e.jsx(a,{math:"G'"})," be the tree obtained by deleting all leaves. Since all surviving vertices are non-leaves in ",e.jsx(a,{math:"G"}),","," ",e.jsx(a,{math:"G'"})," has a vertex of degree at least 3 iff"," ",e.jsx(a,{math:"Y"})," appears in ",e.jsx(a,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Hence ",e.jsx(a,{math:"G"})," has no copy of ",e.jsx(a,{math:"Y"})," iff"," ",e.jsx(a,{math:"\\Delta(G') \\leq 2"})," iff"," ",e.jsx(a,{math:"G'"})," is a path iff ",e.jsx(a,{math:"G"})," is a caterpillar."]})]})]})]}),e.jsxs(me,{title:"Graceful Caterpillars",children:[e.jsx("p",{children:"Every caterpillar is graceful. Stars and paths are special cases of caterpillars (paths have no feet; stars have spine of length 0)."}),e.jsxs("p",{className:"mt-2",children:['A graceful labeling for caterpillars uses an "up/down" pattern: there exists a critical value ',e.jsx(a,{math:"a"})," such that every edge joins vertices with labels above and below ",e.jsx(a,{math:"a"}),"."]})]}),e.jsx("h2",{children:"Branchings (Optional)"}),e.jsxs(te,{title:"Branching (Out-tree)",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"branching"})," or ",e.jsx("strong",{children:"out-tree"})," is an orientation of a tree having:"]}),e.jsxs("ul",{className:"list-disc list-inside",children:[e.jsx("li",{children:"A root of indegree 0"}),e.jsx("li",{children:"All other vertices of indegree 1"})]}),e.jsxs("p",{className:"mt-2",children:["An ",e.jsx("strong",{children:"in-tree"})," is an out-tree with edges reversed."]}),e.jsxs("p",{className:"mt-2",children:["A branching with root ",e.jsx(a,{math:"v"})," is a union of paths from"," ",e.jsx(a,{math:"v"}),". Each vertex is reached by exactly one path."]})]}),e.jsxs(U,{title:"Directed Matrix Tree Theorem (Theorem 2.2.21)",children:[e.jsxs("p",{children:["Given a loopless digraph ",e.jsx(a,{math:"G"}),", let"," ",e.jsx(a,{math:"Q^- = D^- - A'"})," and"," ",e.jsx(a,{math:"Q^+ = D^+ - A'"}),", where ",e.jsx(a,{math:"D^-"})," and"," ",e.jsx(a,{math:"D^+"})," are diagonal matrices of indegrees and outdegrees, and entry ",e.jsx(a,{math:"(i,j)"})," of ",e.jsx(a,{math:"A'"})," is the number of edges from ",e.jsx(a,{math:"v_j"})," to ",e.jsx(a,{math:"v_i"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The number of spanning out-trees (in-trees) rooted at"," ",e.jsx(a,{math:"v_i"})," is the value of each cofactor in the"," ",e.jsx(a,{math:"i"}),"th row of ",e.jsx(a,{math:"Q^-"})," (",e.jsx(a,{math:"i"}),"th column of ",e.jsx(a,{math:"Q^+"}),")."]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Cayley's Formula:"})," There are ",e.jsx(a,{math:"n^{n-2}"})," ","labeled trees on ",e.jsx(a,{math:"n"})," vertices, proved via the Prfer code bijection."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Prfer code:"})," A bijection between ",e.jsx(a,{math:"n"}),"-vertex labeled trees and sequences of length ",e.jsx(a,{math:"n-2"})," from"," ",e.jsx(a,{math:"[n]"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Degree counting:"})," Each vertex appears"," ",e.jsx(a,{math:"d(v) - 1"})," times in its tree's Prfer code."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Deletion-contraction:"})," ",e.jsx(a,{math:"\\tau(G) = \\tau(G - e) + \\tau(G \\cdot e)"})," for non-loop"," ",e.jsx(a,{math:"e"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Matrix Tree Theorem:"})," Count spanning trees via the determinant of a cofactor of the Laplacian matrix."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Graceful labelings:"})," If a tree ",e.jsx(a,{math:"T"})," with"," ",e.jsx(a,{math:"m"})," edges is graceful, then ",e.jsx(a,{math:"K_{2m+1}"})," ","decomposes into copies of ",e.jsx(a,{math:"T"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Caterpillars:"})," Trees where deleting leaves yields a path; they are always graceful."]})]})]})}function Lz(){return e.jsxs(st,{sectionId:7,children:[e.jsxs("p",{children:['"The best spanning tree" may have various meanings. A ',e.jsx("strong",{children:"weighted graph"})," ","is a graph with numerical labels on the edges. When building links to connect locations, the costs of potential links yield a weighted graph. The minimum cost of connecting the system is the minimum total weight of its spanning trees."]}),e.jsxs("p",{children:["Alternatively, the weights may represent distances. In these cases we define the length of a path to be the sum of its edge weights. We may seek a spanning tree with small distances. When discussing weighted graphs,"," ",e.jsx("strong",{children:"we consider only nonnegative edge weights"}),"."]}),e.jsx("h2",{children:"Interactive MST Algorithm"}),e.jsx("p",{children:"Watch Kruskal's or Prim's algorithm find the minimum spanning tree step by step. See how each algorithm greedily selects edges to build the optimal solution."}),e.jsx(bz,{className:"my-8"}),e.jsx("h2",{children:"Minimum Spanning Trees"}),e.jsxs("p",{children:["In a connected weighted graph of possible communication links, all spanning trees have ",e.jsx(a,{math:"n - 1"})," edges; we seek one that minimizes or maximizes the sum of the edge weights. For these problems, the most naive heuristic quickly produces an optimal solution."]}),e.jsxs(te,{title:"Kruskal's Algorithm (Algorithm 2.3.1)",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Input:"})," A weighted connected graph."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Idea:"})," Maintain an acyclic spanning subgraph"," ",e.jsx(a,{math:"H"}),", enlarging it by edges with low weight to form a spanning tree. Consider edges in nondecreasing order of weight."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Initialization:"})," Set ",e.jsx(a,{math:"E(H) = \\emptyset"}),"."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Iteration:"})," If the next cheapest edge joins two components of"," ",e.jsx(a,{math:"H"}),", include it; otherwise, discard it. Terminate when"," ",e.jsx(a,{math:"H"})," is connected."]})]}),e.jsxs("p",{children:["Unsophisticated locally optimal heuristics are called"," ",e.jsx("strong",{children:"greedy algorithms"}),". They usually don't guarantee optimal solutions, but this one does!"]}),e.jsxs(me,{title:"Running Kruskal's Algorithm",children:[e.jsx("p",{children:"Choices in Kruskal's Algorithm depend only on the order of the weights, not on their values. Consider a graph where we've labeled edges with positive integers to emphasize the order of examination."}),e.jsx("p",{children:"The four cheapest edges might be selected, but then edges that complete cycles with the selected edges must be skipped. Edges of equal weight may be examined in any order; the resulting trees have the same cost."}),e.jsx("p",{children:"Each selected edge combines two components of the growing forest until we have a single spanning tree."})]}),e.jsxs(U,{title:"Theorem 2.3.3 (Kruskal [1956])",children:[e.jsxs("p",{children:["In a connected weighted graph ",e.jsx(a,{math:"G"}),", Kruskal's Algorithm constructs a minimum-weight spanning tree."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"The algorithm produces a tree:"})," It never chooses an edge that completes a cycle. If the final graph has more than one component, then we considered no edge joining two of them, but such an edge would be accepted. Since ",e.jsx(a,{math:"G"})," is connected, some such edge exists. Thus the final graph is connected and acyclic."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"The tree is optimal:"})," Let ",e.jsx(a,{math:"T"})," be the resulting tree, and let ",e.jsx(a,{math:"T^*"})," be a minimum-weight spanning tree. If ",e.jsx(a,{math:"T \\neq T^*"}),", let"," ",e.jsx(a,{math:"e"})," be the first edge chosen for ",e.jsx(a,{math:"T"})," ","that is not in ",e.jsx(a,{math:"T^*"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Adding ",e.jsx(a,{math:"e"})," to ",e.jsx(a,{math:"T^*"})," creates one cycle ",e.jsx(a,{math:"C"}),". Since ",e.jsx(a,{math:"T"})," has no cycle,"," ",e.jsx(a,{math:"C"})," has an edge"," ",e.jsx(a,{math:"e' \\notin E(T)"}),". Consider"," ",e.jsx(a,{math:"T^* + e - e'"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(a,{math:"T^*"})," contains ",e.jsx(a,{math:"e'"})," and all edges of ",e.jsx(a,{math:"T"})," chosen before ",e.jsx(a,{math:"e"}),", both ",e.jsx(a,{math:"e'"})," and ",e.jsx(a,{math:"e"})," are available when the algorithm chooses ",e.jsx(a,{math:"e"}),", so"," ",e.jsx(a,{math:"w(e) \\leq w(e')"}),". Thus"," ",e.jsx(a,{math:"T^* + e - e'"})," is a spanning tree with weight at most"," ",e.jsx(a,{math:"T^*"})," that agrees with ",e.jsx(a,{math:"T"})," longer."]}),e.jsxs("p",{className:"mt-2",children:["Repeating this argument eventually yields a minimum-weight spanning tree that agrees completely with ",e.jsx(a,{math:"T"}),"."]})]})]})]}),e.jsxs(te,{title:"Prim's Algorithm",children:[e.jsx("p",{children:"An alternative approach: grow a spanning tree from a single vertex by iteratively adding the cheapest edge that incorporates a new vertex."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Initialization:"})," Start with any vertex ",e.jsx(a,{math:"v"}),". Set ",e.jsx(a,{math:"S = \\{v\\}"}),"."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Iteration:"})," Add the cheapest edge from a vertex in"," ",e.jsx(a,{math:"S"})," to a vertex outside ",e.jsx(a,{math:"S"}),". Add the new vertex to ",e.jsx(a,{math:"S"}),"."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Termination:"})," When ",e.jsx(a,{math:"S = V(G)"}),"."]})]}),e.jsx("h2",{children:"Shortest Paths"}),e.jsx("p",{children:"How can we find the shortest route from one location to another? How can we find the shortest routes from our home to every place in town? This requires finding shortest paths from one vertex to all other vertices in a weighted graph. Together, these paths form a spanning tree."}),e.jsx(te,{title:"Distance in Weighted Graphs",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"distance"})," ",e.jsx(a,{math:"d(u, z)"})," in a weighted graph is the minimum sum of the weights on the edges in a"," ",e.jsx(a,{math:"u, z"}),"-path. We consider only nonnegative weights."]})}),e.jsxs("p",{children:[e.jsx("strong",{children:"Dijkstra's Algorithm"})," solves this problem quickly, using the observation that the ",e.jsx(a,{math:"u, v"}),"-portion of a shortest"," ",e.jsx(a,{math:"u, z"}),"-path must be a shortest"," ",e.jsx(a,{math:"u, v"}),"-path. It finds optimal routes from"," ",e.jsx(a,{math:"u"})," to other vertices ",e.jsx(a,{math:"z"})," in increasing order of ",e.jsx(a,{math:"d(u, z)"}),"."]}),e.jsxs(te,{title:"Dijkstra's Algorithm (Algorithm 2.3.5)",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Input:"})," A graph (or digraph) with nonnegative edge weights and a starting vertex ",e.jsx(a,{math:"u"}),". Let ",e.jsx(a,{math:"w(xy)"})," be the weight of edge ",e.jsx(a,{math:"xy"})," (or"," ",e.jsx(a,{math:"\\infty"})," if no edge)."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Idea:"})," Maintain the set ",e.jsx(a,{math:"S"})," of vertices to which a shortest path from ",e.jsx(a,{math:"u"})," is known. Also maintain a tentative distance ",e.jsx(a,{math:"t(z)"})," from ",e.jsx(a,{math:"u"})," to each ",e.jsx(a,{math:"z \\notin S"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Initialization:"})," Set ",e.jsx(a,{math:"S = \\{u\\}"}),";"," ",e.jsx(a,{math:"t(u) = 0"}),"; ",e.jsx(a,{math:"t(z) = w(uz)"})," for"," ",e.jsx(a,{math:"z \\neq u"}),"."]}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Iteration:"})}),e.jsxs("ol",{className:"list-decimal list-inside ml-4 space-y-1",children:[e.jsxs("li",{children:["Select a vertex ",e.jsx(a,{math:"v"})," outside ",e.jsx(a,{math:"S"})," such that ",e.jsx(a,{math:"t(v) = \\min_{z \\notin S} t(z)"}),"."]}),e.jsxs("li",{children:["Add ",e.jsx(a,{math:"v"})," to ",e.jsx(a,{math:"S"}),"."]}),e.jsxs("li",{children:["For each edge ",e.jsx(a,{math:"vz"})," with"," ",e.jsx(a,{math:"z \\notin S"}),", update"," ",e.jsx(a,{math:"t(z) \\leftarrow \\min\\{t(z), t(v) + w(vz)\\}"}),"."]})]}),e.jsxs("p",{className:"mt-2",children:["Continue until ",e.jsx(a,{math:"S = V(G)"})," or"," ",e.jsx(a,{math:"t(z) = \\infty"})," for all"," ",e.jsx(a,{math:"z \\notin S"}),"."]})]}),e.jsxs(me,{title:"Dijkstra's Algorithm",children:[e.jsxs("p",{children:["In a weighted graph, suppose we find shortest paths from vertex"," ",e.jsx(a,{math:"u"})," to vertices ",e.jsx(a,{math:"a, b, c, d, e"})," with distances ",e.jsx(a,{math:"1, 3, 5, 6, 8"}),", respectively."]}),e.jsxs("p",{className:"mt-2",children:["To reconstruct the paths, we only need the edge on which each shortest path arrives at its destination. The earlier portion of a shortest"," ",e.jsx(a,{math:"u, z"}),"-path that reaches ",e.jsx(a,{math:"z"})," on the edge ",e.jsx(a,{math:"vz"})," is a shortest ",e.jsx(a,{math:"u, v"}),"-path."]}),e.jsxs("p",{className:"mt-2",children:['The algorithm can maintain this by recording the "predecessor" vertex whenever the tentative distance is updated. The predecessors form the edges of a spanning tree rooted at ',e.jsx(a,{math:"u"}),"."]})]}),e.jsxs(U,{title:"Theorem 2.3.7 (Correctness of Dijkstra's Algorithm)",children:[e.jsxs("p",{children:["Given a (di)graph ",e.jsx(a,{math:"G"})," and a vertex"," ",e.jsx(a,{math:"u \\in V(G)"}),", Dijkstra's Algorithm computes"," ",e.jsx(a,{math:"d(u, z)"})," for every ",e.jsx(a,{math:"z \\in V(G)"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["We prove by induction on ",e.jsx(a,{math:"|S|"})," that at each iteration:"]}),e.jsxs("ol",{className:"list-decimal list-inside mt-2 space-y-1",children:[e.jsxs("li",{children:["For ",e.jsx(a,{math:"z \\in S"}),","," ",e.jsx(a,{math:"t(z) = d(u, z)"}),"."]}),e.jsxs("li",{children:["For ",e.jsx(a,{math:"z \\notin S"}),", ",e.jsx(a,{math:"t(z)"})," is the least length of a ",e.jsx(a,{math:"u, z"}),"-path reaching"," ",e.jsx(a,{math:"z"})," directly from ",e.jsx(a,{math:"S"}),"."]})]}),e.jsxs("p",{className:"mt-2",children:["When we select ",e.jsx(a,{math:"v"})," (minimum"," ",e.jsx(a,{math:"t(v)"})," outside ",e.jsx(a,{math:"S"}),"), any path visiting vertices outside ",e.jsx(a,{math:"S"})," before reaching"," ",e.jsx(a,{math:"v"})," has length at least ",e.jsx(a,{math:"t(v)"}),". Hence ",e.jsx(a,{math:"d(u, v) = t(v)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Updating tentative distances when adding ",e.jsx(a,{math:"v"})," to"," ",e.jsx(a,{math:"S"})," correctly considers all paths reaching"," ",e.jsx(a,{math:"z"})," directly from the new ",e.jsx(a,{math:"S"}),"."]})]})]})]}),e.jsx("h2",{children:"Breadth-First Search"}),e.jsxs("p",{children:["The special case of Dijkstra's Algorithm for ",e.jsx("strong",{children:"unweighted graphs"})," ","(all edges have weight 1) is Breadth-First Search (BFS)."]}),e.jsxs(te,{title:"Breadth-First Search (Algorithm 2.3.8)",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Input:"})," An unweighted graph (or digraph) and start vertex"," ",e.jsx(a,{math:"u"}),"."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Idea:"})," Maintain a set ",e.jsx(a,{math:"R"})," of vertices reached but not searched, and a set ",e.jsx(a,{math:"S"})," of vertices searched. Use ",e.jsx(a,{math:"R"})," as a ",e.jsx("strong",{children:"queue"})," (First-In First-Out), so the first vertices found are the first explored."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Initialization:"})," ",e.jsx(a,{math:"R = \\{u\\}"}),","," ",e.jsx(a,{math:"S = \\emptyset"}),", ",e.jsx(a,{math:"d(u, u) = 0"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Iteration:"})," While ",e.jsx(a,{math:"R \\neq \\emptyset"}),", search from the first vertex ",e.jsx(a,{math:"v"})," of"," ",e.jsx(a,{math:"R"}),". Add neighbors of ",e.jsx(a,{math:"v"})," not in"," ",e.jsx(a,{math:"S \\cup R"})," to the back of ",e.jsx(a,{math:"R"})," and assign distance ",e.jsx(a,{math:"d(u, v) + 1"}),". Move"," ",e.jsx(a,{math:"v"})," from ",e.jsx(a,{math:"R"})," to"," ",e.jsx(a,{math:"S"}),"."]})]}),e.jsxs("p",{children:["The largest distance from a vertex ",e.jsx(a,{math:"u"})," to another vertex is the eccentricity ",e.jsx(a,{math:"\\varepsilon(u)"}),". Hence we can compute the"," ",e.jsx("strong",{children:"diameter"})," of a graph by running Breadth-First Search from each vertex."]}),e.jsxs("p",{children:["Like Dijkstra's Algorithm, BFS from ",e.jsx(a,{math:"u"})," yields a tree"," ",e.jsx(a,{math:"T"})," in which for each vertex ",e.jsx(a,{math:"v"}),", the"," ",e.jsx(a,{math:"u, v"}),"-path is a shortest ",e.jsx(a,{math:"u, v"}),"-path."]}),e.jsx("h2",{children:"The Chinese Postman Problem"}),e.jsxs(te,{title:"Chinese Postman Problem",children:[e.jsxs("p",{children:["A mail carrier must traverse all edges in a road network, starting and ending at the Post Office. The edges have nonnegative weights representing distance or time. We seek a ",e.jsx("strong",{children:"closed walk"})," of minimum total length that uses all the edges."]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"Named in honor of the Chinese mathematician Guan Meigu [1962], who proposed it."})]}),e.jsx("p",{children:"If every vertex has even degree, then the graph is Eulerian and the answer is the sum of the edge weights. Otherwise, we must repeat some edges."}),e.jsx("p",{children:"Every traversal is an Eulerian circuit of a graph obtained by duplicating edges. Finding the shortest traversal is equivalent to finding the minimum total weight of edges whose duplication will make all vertex degrees even."}),e.jsxs(me,{title:"Solving the Chinese Postman Problem",children:[e.jsx("p",{children:"Consider a graph with eight odd-degree vertices on its outer boundary. To make all degrees even, we must pair up the odd vertices with paths."}),e.jsx("p",{className:"mt-2",children:"If there are only two odd vertices, use Dijkstra's Algorithm to find the shortest path between them."}),e.jsxs("p",{className:"mt-2",children:["If there are ",e.jsx(a,{math:"2k"})," odd vertices, find shortest paths between all pairs using Dijkstra's Algorithm. Then find the minimum total weight of"," ",e.jsx(a,{math:"k"})," paths that pair up all odd vertices (a weighted matching problem)."]})]}),e.jsx("h2",{children:"Trees in Computer Science (Optional)"}),e.jsxs(te,{title:"Rooted Trees",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"rooted tree"})," is a tree with one vertex ",e.jsx(a,{math:"r"}),"chosen as ",e.jsx("strong",{children:"root"}),". For each vertex ",e.jsx(a,{math:"v"}),", let"," ",e.jsx(a,{math:"P(v)"})," be the unique ",e.jsx(a,{math:"v, r"}),"-path."]}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsxs("li",{children:["The ",e.jsx("strong",{children:"parent"})," of ",e.jsx(a,{math:"v"})," is its neighbor on"," ",e.jsx(a,{math:"P(v)"}),"."]}),e.jsxs("li",{children:["The ",e.jsx("strong",{children:"children"})," of ",e.jsx(a,{math:"v"})," are its other neighbors."]}),e.jsxs("li",{children:["The ",e.jsx("strong",{children:"ancestors"})," of ",e.jsx(a,{math:"v"})," are the vertices of"," ",e.jsx(a,{math:"P(v) - v"}),"."]}),e.jsxs("li",{children:["The ",e.jsx("strong",{children:"descendants"})," of ",e.jsx(a,{math:"v"})," are vertices"," ",e.jsx(a,{math:"u"})," such that ",e.jsx(a,{math:"P(u)"})," contains"," ",e.jsx(a,{math:"v"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Leaves"})," are vertices with no children."]})]})]}),e.jsxs(te,{title:"Binary Trees",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"binary tree"})," is a rooted plane tree where each vertex has at most two children, and each child is designated as ",e.jsx("strong",{children:"left"})," or"," ",e.jsx("strong",{children:"right"}),"."]}),e.jsx("p",{className:"mt-2",children:"Binary trees permit storage of data for quick access. We store each item at a leaf and access it by following the path from the root (0 for left, 1 for right). The search time is the length of this code word."})]}),e.jsx("h3",{children:"Huffman's Algorithm"}),e.jsxs("p",{children:["Given access probabilities among ",e.jsx(a,{math:"n"})," items, we want to place them at the leaves of a binary tree to minimize expected search time. This is equivalent to optimal prefix-free coding."]}),e.jsxs(te,{title:"Prefix-Free Code",children:[e.jsxs("p",{children:["A binary code is ",e.jsx("strong",{children:"prefix-free"})," if no code word is an initial portion of another. Then the current word ends as soon as the bits since the end of the previous word form a code word."]}),e.jsx("p",{className:"mt-2",children:"Prefix-free binary codes correspond to the leaves of a binary tree using left/right encoding (0 = left, 1 = right)."})]}),e.jsxs(te,{title:"Huffman's Algorithm (Algorithm 2.3.13)",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Input:"})," Weights (frequencies or probabilities)"," ",e.jsx(a,{math:"p_1, \\ldots, p_n"}),"."]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Output:"})," Prefix-free code (equivalently, a binary tree)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Idea:"})," Infrequent items should have longer codes; put infrequent items deeper by combining them into parent nodes."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Base case:"})," When ",e.jsx(a,{math:"n = 2"}),", the optimal length is 1, with 0 and 1 as the codes."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Recursion:"})," When ",e.jsx(a,{math:"n > 2"}),", replace the two least likely items ",e.jsx(a,{math:"p, p'"})," with a single item"," ",e.jsx(a,{math:"q = p + p'"}),". Solve for ",e.jsx(a,{math:"n - 1"})," items. Then give children with weights ",e.jsx(a,{math:"p, p'"})," to the leaf with weight ",e.jsx(a,{math:"q"}),"."]})]}),e.jsxs(me,{title:"Huffman Coding",children:[e.jsx("p",{children:"Consider eight items with frequencies 5, 1, 1, 7, 8, 2, 3, 6. Algorithm 2.3.13 combines items from the bottom up:"}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:e.jsx(a,{math:"1 + 1 = 2"})}),e.jsx("li",{children:e.jsx(a,{math:"2 + 2 = 4"})}),e.jsx("li",{children:e.jsx(a,{math:"3 + 4 = 7"})}),e.jsx("li",{children:e.jsx(a,{math:"5 + 6 = 11"})}),e.jsx("li",{children:e.jsx(a,{math:"7 + 7 = 14"})}),e.jsx("li",{children:e.jsx(a,{math:"8 + 11 = 19"})}),e.jsx("li",{children:e.jsx(a,{math:"14 + 19 = 33"})})]}),e.jsxs("p",{className:"mt-2",children:["The expected code length is ",e.jsx(a,{math:"\\sum p_i l_i = 90/33 < 3"}),", which is less than using fixed-length 3-bit codes for eight items."]})]}),e.jsxs(U,{title:"Theorem 2.3.15 (Optimality of Huffman Coding)",children:[e.jsxs("p",{children:["Given a probability distribution ",e.jsx(a,{math:"\\{p_i\\}"})," on"," ",e.jsx(a,{math:"n"})," items, Huffman's Algorithm produces the prefix-free code with minimum expected length."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Use induction on ",e.jsx(a,{math:"n"}),". Every optimal code has least likely messages at leaves of greatest depth. Since every leaf at maximum depth has a sibling, two least likely messages can be assumed to be siblings."]}),e.jsxs("p",{className:"mt-2",children:["Replacing these siblings with their parent (probability"," ",e.jsx(a,{math:"p_{n-1} + p_n"}),") reduces to an"," ",e.jsx(a,{math:"(n-1)"}),"-item problem. By the induction hypothesis, Huffman's Algorithm is optimal for this. Expanding back gives the optimal tree for ",e.jsx(a,{math:"n"})," items."]})]})]})]}),e.jsxs("p",{children:["Shannon [1948] proved that for every binary code, the expected length is at least the ",e.jsx("strong",{children:"entropy"})," of the distribution:"," ",e.jsx(a,{math:"-\\sum p_i \\log_2 p_i"}),". When each"," ",e.jsx(a,{math:"p_i"})," is a power of ",e.jsx(a,{math:"1/2"}),", the Huffman code achieves this bound exactly."]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Kruskal's Algorithm:"})," Build a minimum spanning tree by greedily adding cheapest edges that don't create cycles."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Prim's Algorithm:"})," Grow a minimum spanning tree from a single vertex by iteratively adding the cheapest edge to a new vertex."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Dijkstra's Algorithm:"})," Find shortest paths from a source vertex by iteratively selecting the vertex with smallest tentative distance and updating neighbors."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Breadth-First Search:"})," Special case of Dijkstra for unweighted graphs; explores vertices in order of distance from the source."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Chinese Postman Problem:"})," Find minimum-weight walk covering all edges; reduces to matching odd-degree vertices optimally."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Huffman's Algorithm:"})," Builds optimal prefix-free codes by recursively combining least frequent items."]})]})]})}function Pz(){return e.jsxs(st,{sectionId:8,children:[e.jsx("p",{children:"Within a set of people, some pairs are compatible as roommates; under what conditions can we pair them all up? Many applications of graphs involve such pairings. In the job assignment problem, we want to pair jobs with qualified applicants. Bipartite graphs have a natural vertex partition, and we want to know whether the two sets can be paired using edges."}),e.jsx("h2",{children:"Interactive Matching Explorer"}),e.jsx("p",{children:"Explore bipartite matchings interactively. Click edges to build a matching, find maximum matchings, and verify Hall's condition for perfect matchings."}),e.jsx(wz,{className:"my-8"}),e.jsx("h2",{children:"Matchings"}),e.jsxs(te,{title:"Matching",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"matching"})," in a graph ",e.jsx(a,{math:"G"})," is a set of non-loop edges with no shared endpoints. The vertices incident to the edges of a matching ",e.jsx(a,{math:"M"})," are ",e.jsx("strong",{children:"saturated"})," by"," ",e.jsx(a,{math:"M"}),"; the others are ",e.jsx("strong",{children:"unsaturated"})," (we say"," ",e.jsx(a,{math:"M"}),"-saturated and ",e.jsx(a,{math:"M"}),"-unsaturated)."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"perfect matching"})," in a graph is a matching that saturates every vertex."]})]}),e.jsxs(me,{title:"Perfect Matchings in Complete Bipartite Graphs",children:[e.jsxs("p",{children:["Consider ",e.jsx(a,{math:"K_{n,n}"})," with partite sets"," ",e.jsx(a,{math:"X = \\{x_1, \\ldots, x_n\\}"})," and"," ",e.jsx(a,{math:"Y = \\{y_1, \\ldots, y_n\\}"}),". A perfect matching defines a bijection from ",e.jsx(a,{math:"X"})," to ",e.jsx(a,{math:"Y"}),". Successively finding mates for"," ",e.jsx(a,{math:"x_1, x_2, \\ldots"})," yields ",e.jsx(a,{math:"n!"})," perfect matchings."]}),e.jsxs("p",{className:"mt-2",children:["Each matching is represented by a permutation of ",e.jsx(a,{math:"[n]"}),", mapping ",e.jsx(a,{math:"i"})," to ",e.jsx(a,{math:"j"})," when"," ",e.jsx(a,{math:"x_i"})," is matched to ",e.jsx(a,{math:"y_j"}),"."]})]}),e.jsxs(me,{title:"Perfect Matchings in Complete Graphs",children:[e.jsxs("p",{children:["Since it has odd order, ",e.jsx(a,{math:"K_{2n+1}"})," has no perfect matching. The number ",e.jsx(a,{math:"f_n"})," of perfect matchings in"," ",e.jsx(a,{math:"K_{2n}"})," is the number of ways to pair up"," ",e.jsx(a,{math:"2n"})," distinct people."]}),e.jsxs("p",{className:"mt-2",children:["There are ",e.jsx(a,{math:"2n - 1"})," choices for the partner of"," ",e.jsx(a,{math:"v_{2n}"}),", and for each such choice there are"," ",e.jsx(a,{math:"f_{n-1}"})," ways to complete the matching. Hence:"]}),e.jsx(we,{math:"f_n = (2n-1) \\cdot f_{n-1} = (2n-1) \\cdot (2n-3) \\cdots (1) = (2n-1)!!"}),e.jsxs("p",{children:["Equivalently, ",e.jsx(a,{math:"f_n = \\frac{(2n)!}{2^n n!}"})," (each matching is generated by ",e.jsx(a,{math:"2^n n!"})," orderings)."]})]}),e.jsx("h2",{children:"Maximum Matchings"}),e.jsxs("p",{children:["A matching is a set of edges, so its ",e.jsx("strong",{children:"size"})," is the number of edges. We can seek a large matching by iteratively selecting edges whose endpoints are not used by the edges already selected. This yields a"," ",e.jsx("em",{children:"maximal"})," matching but maybe not a ",e.jsx("em",{children:"maximum"})," matching."]}),e.jsxs(te,{title:"Maximal vs. Maximum Matching",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"maximal matching"})," in a graph is a matching that cannot be enlarged by adding an edge."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"maximum matching"})," is a matching of maximum size among all matchings in the graph."]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"Every maximum matching is maximal, but the converse need not hold."})]}),e.jsxs(me,{title:"Maximal  Maximum",children:[e.jsxs("p",{children:["The smallest graph having a maximal matching that is not a maximum matching is"," ",e.jsx(a,{math:"P_4"}),". If we take the middle edge, we can add no other, but the two end edges form a larger matching."]}),e.jsx("p",{className:"mt-2",children:"This illustrates that greedy selection doesn't always find the optimum."})]}),e.jsx("h3",{children:"Augmenting Paths"}),e.jsxs(te,{title:"Alternating and Augmenting Paths",children:[e.jsxs("p",{children:["Given a matching ",e.jsx(a,{math:"M"}),", an"," ",e.jsxs("strong",{children:[e.jsx(a,{math:"M"}),"-alternating path"]})," ","is a path that alternates between edges in ",e.jsx(a,{math:"M"})," and edges not in ",e.jsx(a,{math:"M"}),"."]}),e.jsxs("p",{className:"mt-2",children:["An"," ",e.jsxs("strong",{children:[e.jsx(a,{math:"M"}),"-augmenting path"]})," ","is an ",e.jsx(a,{math:"M"}),"-alternating path whose endpoints are both unsaturated by ",e.jsx(a,{math:"M"}),"."]})]}),e.jsxs("p",{children:["Given an ",e.jsx(a,{math:"M"}),"-augmenting path ",e.jsx(a,{math:"P"}),", we can replace the edges of ",e.jsx(a,{math:"M"})," in ",e.jsx(a,{math:"P"})," with the other edges of ",e.jsx(a,{math:"P"})," to obtain a new matching"," ",e.jsx(a,{math:"M'"})," with one more edge. This operation is called"," ",e.jsx("strong",{children:"augmentation"}),"."]}),e.jsxs(te,{title:"Symmetric Difference",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," and ",e.jsx(a,{math:"H"})," are graphs with vertex set ",e.jsx(a,{math:"V"}),", then the ",e.jsx("strong",{children:"symmetric difference"})," ",e.jsx(a,{math:"G \\triangle H"})," is the graph with vertex set"," ",e.jsx(a,{math:"V"})," whose edges are all those appearing in exactly one of"," ",e.jsx(a,{math:"G"})," and ",e.jsx(a,{math:"H"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For matchings: ",e.jsx(a,{math:"M \\triangle M' = (M - M') \\cup (M' - M)"}),"."]})]}),e.jsxs(U,{title:"Lemma 3.1.9",children:[e.jsx("p",{children:"Every component of the symmetric difference of two matchings is a path or an even cycle."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Let ",e.jsx(a,{math:"M"})," and ",e.jsx(a,{math:"M'"})," be matchings, and let ",e.jsx(a,{math:"F = M \\triangle M'"}),". Since"," ",e.jsx(a,{math:"M"})," and ",e.jsx(a,{math:"M'"})," are matchings, every vertex has at most one incident edge from each. Thus"," ",e.jsx(a,{math:"F"})," has at most two edges at each vertex."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(a,{math:"\\Delta(F) \\leq 2"}),", every component of"," ",e.jsx(a,{math:"F"})," is a path or a cycle. Furthermore, every path or cycle alternates between edges of ",e.jsx(a,{math:"M - M'"})," and edges of"," ",e.jsx(a,{math:"M' - M"}),". Thus each cycle has even length."]})]})]})]}),e.jsxs(U,{title:"Berge's Theorem (Theorem 3.1.10)",children:[e.jsxs("p",{children:["A matching ",e.jsx(a,{math:"M"})," in a graph ",e.jsx(a,{math:"G"})," is a maximum matching in ",e.jsx(a,{math:"G"})," if and only if"," ",e.jsx(a,{math:"G"})," has no ",e.jsx(a,{math:"M"}),"-augmenting path."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["We prove the contrapositive of each direction: ",e.jsx(a,{math:"G"})," has a matching larger than ",e.jsx(a,{math:"M"})," if and only if"," ",e.jsx(a,{math:"G"})," has an ",e.jsx(a,{math:"M"}),"-augmenting path."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"()"})," An ",e.jsx(a,{math:"M"}),"-augmenting path can be used to produce a matching larger than ",e.jsx(a,{math:"M"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"()"})," Let ",e.jsx(a,{math:"M'"})," be a matching larger than"," ",e.jsx(a,{math:"M"}),". Let ",e.jsx(a,{math:"F = M \\triangle M'"}),". By Lemma 3.1.9, ",e.jsx(a,{math:"F"})," consists of paths and even cycles. The cycles have the same number of edges from ",e.jsx(a,{math:"M"})," and"," ",e.jsx(a,{math:"M'"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(a,{math:"|M'| > |M|"}),", ",e.jsx(a,{math:"F"})," must have a component with more edges of ",e.jsx(a,{math:"M'"})," than of"," ",e.jsx(a,{math:"M"}),". Such a component can only be a path that starts and ends with an edge of ",e.jsx(a,{math:"M'"}),"; thus it is an"," ",e.jsx(a,{math:"M"}),"-augmenting path."]})]})]})]}),e.jsx("h2",{children:"Hall's Matching Condition"}),e.jsxs("p",{children:["When filling jobs with applicants, there may be many more applicants than jobs. We model this with an ",e.jsx(a,{math:"X, Y"}),"-bigraph and seek a matching that saturates ",e.jsx(a,{math:"X"}),"."]}),e.jsxs(te,{title:"Hall's Condition",children:[e.jsxs("p",{children:["For a bipartite graph with bipartition ",e.jsx(a,{math:"X, Y"}),", let"," ",e.jsx(a,{math:"N(S)"})," denote the set of vertices having a neighbor in"," ",e.jsx(a,{math:"S"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Hall's Condition:"})," For all"," ",e.jsx(a,{math:"S \\subseteq X"}),","," ",e.jsx(a,{math:"|N(S)| \\geq |S|"}),"."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["This is obviously necessary: if a matching saturates ",e.jsx(a,{math:"X"}),", then for every ",e.jsx(a,{math:"S \\subseteq X"}),", there must be at least"," ",e.jsx(a,{math:"|S|"})," vertices to match to ",e.jsx(a,{math:"S"}),"."]})]}),e.jsxs(U,{title:"Hall's Theorem (Theorem 3.1.11)",children:[e.jsxs("p",{children:["An ",e.jsx(a,{math:"X, Y"}),"-bigraph ",e.jsx(a,{math:"G"})," has a matching that saturates ",e.jsx(a,{math:"X"})," if and only if"," ",e.jsx(a,{math:"|N(S)| \\geq |S|"})," for all"," ",e.jsx(a,{math:"S \\subseteq X"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Necessity:"})," The ",e.jsx(a,{math:"|S|"})," vertices matched to ",e.jsx(a,{math:"S"})," must lie in ",e.jsx(a,{math:"N(S)"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Sufficiency:"})," We prove the contrapositive. If"," ",e.jsx(a,{math:"M"})," is a maximum matching that doesn't saturate"," ",e.jsx(a,{math:"X"}),", we find ",e.jsx(a,{math:"S \\subseteq X"})," with"," ",e.jsx(a,{math:"|N(S)| < |S|"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Let ",e.jsx(a,{math:"u \\in X"})," be unsaturated. Among vertices reachable from ",e.jsx(a,{math:"u"})," by ",e.jsx(a,{math:"M"}),"-alternating paths, let ",e.jsx(a,{math:"S"})," be those in ",e.jsx(a,{math:"X"})," and"," ",e.jsx(a,{math:"T"})," be those in ",e.jsx(a,{math:"Y"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx(a,{math:"M"}),"-alternating paths from"," ",e.jsx(a,{math:"u"})," reach ",e.jsx(a,{math:"Y"})," along edges not in"," ",e.jsx(a,{math:"M"})," and return to ",e.jsx(a,{math:"X"})," along edges in ",e.jsx(a,{math:"M"}),". Hence ",e.jsx(a,{math:"M"})," matches"," ",e.jsx(a,{math:"T"})," with ",e.jsx(a,{math:"S - \\{u\\}"}),". Since there's no augmenting path, every vertex of ",e.jsx(a,{math:"T"})," is saturated, so ",e.jsx(a,{math:"T = N(S)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Thus"," ",e.jsx(a,{math:"|N(S)| = |T| = |S - \\{u\\}| = |S| - 1 < |S|"}),"."]})]})]})]}),e.jsx("h2",{children:"Vertex Covers"}),e.jsx("p",{children:"We now connect matchings to another graph parameter."}),e.jsxs(te,{title:"Vertex Cover",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"vertex cover"})," of a graph ",e.jsx(a,{math:"G"})," is a set"," ",e.jsx(a,{math:"Q \\subseteq V(G)"})," such that every edge of"," ",e.jsx(a,{math:"G"})," has at least one endpoint in ",e.jsx(a,{math:"Q"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"vertex cover number"})," ",e.jsx(a,{math:"\\beta(G)"})," is the minimum size of a vertex cover."]})]}),e.jsxs("p",{children:["Matchings and vertex covers are related: every vertex cover must contain at least one endpoint of each edge in a matching. Thus"," ",e.jsx(a,{math:"\\beta(G) \\geq |M|"})," for every matching"," ",e.jsx(a,{math:"M"}),"."]}),e.jsxs(U,{title:"Knig-Egervry Theorem (Theorem 3.1.16)",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," is a bipartite graph, then the maximum size of a matching in ",e.jsx(a,{math:"G"})," equals the minimum size of a vertex cover."]}),e.jsx(we,{math:"\\alpha'(G) = \\beta(G)"}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["Here ",e.jsx(a,{math:"\\alpha'(G)"})," denotes the maximum matching size (the"," ",e.jsx("strong",{children:"matching number"}),")."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["We always have ",e.jsx(a,{math:"\\alpha'(G) \\leq \\beta(G)"}),". For bipartite graphs, equality is achieved by constructing a vertex cover from a maximum matching using alternating paths, similar to the proof of Hall's Theorem."]})})]})]}),e.jsxs(me,{title:"Knig-Egervry in Practice",children:[e.jsxs("p",{children:["Consider ",e.jsx(a,{math:"K_{3,3}"}),". A maximum matching has size 3 (a perfect matching exists). A minimum vertex cover also has size 3 (we can take all vertices from one partite set)."]}),e.jsxs("p",{className:"mt-2",children:["For non-bipartite graphs, equality may fail. In a triangle"," ",e.jsx(a,{math:"K_3"}),", the maximum matching has size 1, but the minimum vertex cover has size 2."]})]}),e.jsx("h2",{children:"Independent Sets"}),e.jsxs(te,{title:"Independent Set",children:[e.jsxs("p",{children:["An ",e.jsx("strong",{children:"independent set"})," in a graph ",e.jsx(a,{math:"G"})," is a set of pairwise non-adjacent vertices."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"independence number"})," ",e.jsx(a,{math:"\\alpha(G)"})," is the maximum size of an independent set."]})]}),e.jsxs(U,{title:"Gallai's Theorem",children:[e.jsxs("p",{children:["For any graph ",e.jsx(a,{math:"G"})," without isolated vertices:"]}),e.jsx(we,{math:"\\alpha(G) + \\beta(G) = n(G)"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["A set ",e.jsx(a,{math:"S"})," is independent if and only if its complement"," ",e.jsx(a,{math:"\\overline{S} = V(G) - S"})," is a vertex cover. Thus"," ",e.jsx(a,{math:"S"})," is a maximum independent set iff"," ",e.jsx(a,{math:"\\overline{S}"})," is a minimum vertex cover, and:"]}),e.jsx(we,{math:"\\alpha(G) = n(G) - \\beta(G)"})]})]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Matching:"})," A set of edges with no shared endpoints. Perfect matchings saturate all vertices."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Maximal vs. Maximum:"})," Maximal matchings can't be extended; maximum matchings have the most edges. They're not the same!"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Berge's Theorem:"})," A matching is maximum iff there is no augmenting path."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Hall's Theorem:"})," An ",e.jsx(a,{math:"X, Y"}),"-bigraph has a matching saturating ",e.jsx(a,{math:"X"})," iff"," ",e.jsx(a,{math:"|N(S)| \\geq |S|"})," for all"," ",e.jsx(a,{math:"S \\subseteq X"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Knig-Egervry:"})," In bipartite graphs, maximum matching size = minimum vertex cover size."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Gallai's Theorem:"})," ",e.jsx(a,{math:"\\alpha(G) + \\beta(G) = n(G)"})," for graphs without isolated vertices."]})]})]})}function Bz(){return e.jsxs(st,{sectionId:9,children:[e.jsx("p",{children:"Now that we understand the structure of maximum matchings via Berge's Theorem, we can design algorithms to find them. In bipartite graphs, the augmenting path approach leads to efficient algorithms. We also consider weighted versions of matching problems and the stable matching problem, which has applications in job markets and organ donation."}),e.jsx("h2",{children:"The Augmenting Path Algorithm"}),e.jsxs("p",{children:["Berge's Theorem tells us that a matching ",e.jsx(a,{math:"M"})," is maximum if and only if there is no ",e.jsx(a,{math:"M"}),"-augmenting path. This suggests an algorithm: repeatedly find augmenting paths and use them to enlarge the matching until no augmenting path exists."]}),e.jsxs(te,{title:"Augmenting Path Algorithm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Input:"})," An ",e.jsx(a,{math:"X, Y"}),"-bigraph"," ",e.jsx(a,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Idea:"})," Explore alternating paths from each unsaturated vertex in ",e.jsx(a,{math:"X"}),", seeking to reach an unsaturated vertex in"," ",e.jsx(a,{math:"Y"}),"."]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["Start with any matching ",e.jsx(a,{math:"M"})," (possibly empty)."]}),e.jsxs("li",{children:["For each unsaturated vertex ",e.jsx(a,{math:"u \\in X"}),", use BFS/DFS to search for an ",e.jsx(a,{math:"M"}),"-augmenting path starting at"," ",e.jsx(a,{math:"u"}),"."]}),e.jsxs("li",{children:["From ",e.jsx(a,{math:"X"}),"-vertices, follow edges not in"," ",e.jsx(a,{math:"M"}),"."]}),e.jsxs("li",{children:["From ",e.jsx(a,{math:"Y"}),"-vertices, follow edges in"," ",e.jsx(a,{math:"M"}),"."]}),e.jsxs("li",{children:["If an unsaturated ",e.jsx(a,{math:"Y"}),"-vertex is reached, we've found an augmenting path. Augment ",e.jsx(a,{math:"M"})," and repeat."]}),e.jsxs("li",{children:["If no augmenting path exists, ",e.jsx(a,{math:"M"})," is maximum."]})]})]}),e.jsxs(U,{title:"Theorem 3.2.2 (Correctness and Running Time)",children:[e.jsxs("p",{children:["The augmenting path algorithm finds a maximum matching in an"," ",e.jsx(a,{math:"X, Y"}),"-bigraph ",e.jsx(a,{math:"G"}),". If"," ",e.jsx(a,{math:"n = |V(G)|"})," and ",e.jsx(a,{math:"m = |E(G)|"}),", the algorithm runs in ",e.jsx(a,{math:"O(mn)"})," time."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Correctness:"})," Berge's Theorem guarantees that when no augmenting path exists, we have a maximum matching."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Time analysis:"})," Each augmentation increases"," ",e.jsx(a,{math:"|M|"})," by 1. Since"," ",e.jsx(a,{math:"|M| \\leq n/2"}),", we perform at most"," ",e.jsx(a,{math:"O(n)"})," augmentations. Each search for an augmenting path visits each edge at most once, taking ",e.jsx(a,{math:"O(m)"})," ","time. Total: ",e.jsx(a,{math:"O(mn)"}),"."]})]})]})]}),e.jsxs(me,{title:"Applying the Algorithm",children:[e.jsxs("p",{children:["Consider a bipartite graph with ",e.jsx(a,{math:"X = \\{x_1, x_2, x_3\\}"})," ","and ",e.jsx(a,{math:"Y = \\{y_1, y_2, y_3\\}"})," with edges"," ",e.jsx(a,{math:"x_1y_1, x_1y_2, x_2y_1, x_2y_2, x_3y_2, x_3y_3"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Round 1:"})," Start with ",e.jsx(a,{math:"M = \\emptyset"}),". From ",e.jsx(a,{math:"x_1"}),", go to ",e.jsx(a,{math:"y_1"})," (unsaturated). Augment: ",e.jsx(a,{math:"M = \\{x_1y_1\\}"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Round 2:"})," From ",e.jsx(a,{math:"x_2"}),", try"," ",e.jsx(a,{math:"y_1"})," (saturated), follow matching edge to"," ",e.jsx(a,{math:"x_1"}),", try ",e.jsx(a,{math:"y_2"})," (unsaturated). Augment: ",e.jsx(a,{math:"M = \\{x_1y_2, x_2y_1\\}"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Round 3:"})," From ",e.jsx(a,{math:"x_3"}),", try"," ",e.jsx(a,{math:"y_2"})," (saturated), to ",e.jsx(a,{math:"x_1"}),", can't extend further from ",e.jsx(a,{math:"x_1"}),". Try ",e.jsx(a,{math:"y_3"})," ","(unsaturated). Augment: ",e.jsx(a,{math:"M = \\{x_1y_2, x_2y_1, x_3y_3\\}"}),"."]}),e.jsx("p",{className:"mt-2",children:"Final matching is perfect with size 3."})]}),e.jsx("h3",{children:"The Hopcroft-Karp Algorithm"}),e.jsx("p",{children:"By finding many augmenting paths in each phase (all of shortest length), the Hopcroft-Karp algorithm improves the running time."}),e.jsx(U,{title:"Hopcroft-Karp (1973)",children:e.jsxs("p",{children:["A maximum matching in a bipartite graph with ",e.jsx(a,{math:"n"})," vertices and ",e.jsx(a,{math:"m"})," edges can be found in"," ",e.jsx(a,{math:"O(m\\sqrt{n})"})," time."]})}),e.jsx("h2",{children:"Weighted Bipartite Matching"}),e.jsx("p",{children:"In many applications, not all matchings are equally valuable. When edges have weights (costs or profits), we seek a maximum matching of maximum (or minimum) total weight."}),e.jsxs(te,{title:"Weighted Bipartite Matching",children:[e.jsxs("p",{children:["Given an ",e.jsx(a,{math:"X, Y"}),"-bigraph ",e.jsx(a,{math:"G"})," with edge weights ",e.jsx(a,{math:"w: E(G) \\to \\mathbb{R}"}),", the"," ",e.jsx("strong",{children:"weighted bipartite matching problem"})," seeks a maximum matching"," ",e.jsx(a,{math:"M"})," that maximizes (or minimizes)"," ",e.jsx(a,{math:"\\sum_{e \\in M} w(e)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["When ",e.jsx(a,{math:"|X| = |Y| = n"})," and we seek a perfect matching, this is the ",e.jsx("strong",{children:"assignment problem"}),"."]})]}),e.jsxs(me,{title:"Farm Assignment Problem",children:[e.jsxs("p",{children:["A farm must assign ",e.jsx(a,{math:"n"})," workers to ",e.jsx(a,{math:"n"})," ","jobs. Let ",e.jsx(a,{math:"a_{ij}"})," be the profit when worker"," ",e.jsx(a,{math:"i"})," does job ",e.jsx(a,{math:"j"}),". We model this as"," ",e.jsx(a,{math:"K_{n,n}"})," with edge ",e.jsx(a,{math:"x_i y_j"})," having weight ",e.jsx(a,{math:"a_{ij}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["We seek a perfect matching (assignment) maximizing total profit. The optimal assignment corresponds to a permutation ",e.jsx(a,{math:"\\sigma"})," ","maximizing ",e.jsx(a,{math:"\\sum_i a_{i,\\sigma(i)}"}),"."]})]}),e.jsx("h3",{children:"The Hungarian Algorithm"}),e.jsxs(te,{title:"Vertex Labeling",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"feasible labeling"})," for weighted"," ",e.jsx(a,{math:"X, Y"}),"-bigraph ",e.jsx(a,{math:"G"})," is a function"," ",e.jsx(a,{math:"\\ell: V(G) \\to \\mathbb{R}"})," such that"," ",e.jsx(a,{math:"\\ell(x) + \\ell(y) \\geq w(xy)"})," for all edges"," ",e.jsx(a,{math:"xy"}),"."]}),e.jsxs("p",{className:"mt-2",children:["An edge ",e.jsx(a,{math:"xy"})," is ",e.jsx("strong",{children:"tight"})," if"," ",e.jsx(a,{math:"\\ell(x) + \\ell(y) = w(xy)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"equality graph"})," ",e.jsx(a,{math:"G_\\ell"})," consists of all tight edges."]})]}),e.jsxs(U,{title:"Theorem 3.2.9",children:[e.jsxs("p",{children:["For a feasible labeling ",e.jsx(a,{math:"\\ell"})," on a weighted bipartite graph ",e.jsx(a,{math:"G"})," with ",e.jsx(a,{math:"|X| = |Y|"}),":"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["For any matching ",e.jsx(a,{math:"M"}),":"," ",e.jsx(a,{math:"w(M) \\leq \\sum_{v \\in V(G)} \\ell(v)"}),"."]}),e.jsxs("li",{children:["Equality holds if and only if ",e.jsx(a,{math:"M"})," is a perfect matching in ",e.jsx(a,{math:"G_\\ell"}),"."]})]}),e.jsxs("p",{className:"mt-2",children:["Thus, a perfect matching in ",e.jsx(a,{math:"G_\\ell"})," is a maximum-weight perfect matching in ",e.jsx(a,{math:"G"}),"."]})]}),e.jsxs(te,{title:"Hungarian Algorithm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Input:"})," Weighted ",e.jsx(a,{math:"X, Y"}),"-bigraph with"," ",e.jsx(a,{math:"|X| = |Y| = n"}),"."]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["Initialize: ",e.jsx(a,{math:"\\ell(x) = \\max_y w(xy)"})," for"," ",e.jsx(a,{math:"x \\in X"}),", ",e.jsx(a,{math:"\\ell(y) = 0"})," for"," ",e.jsx(a,{math:"y \\in Y"}),"."]}),e.jsxs("li",{children:["Find a maximum matching ",e.jsx(a,{math:"M"})," in"," ",e.jsx(a,{math:"G_\\ell"}),"."]}),e.jsxs("li",{children:["If ",e.jsx(a,{math:"M"})," is perfect, return ",e.jsx(a,{math:"M"}),"."]}),e.jsxs("li",{children:["Otherwise, adjust labels to add edges to ",e.jsx(a,{math:"G_\\ell"})," ","(making more edges tight) and repeat."]})]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["Running time: ",e.jsx(a,{math:"O(n^3)"}),"."]})]}),e.jsx("h2",{children:"Stable Matchings"}),e.jsx("p",{children:"In the stable matching problem, we have preferences rather than numeric weights. Each vertex ranks its potential partners, and we seek a matching where no two unmatched vertices would prefer each other over their current partners."}),e.jsxs(te,{title:"Stable Matching",children:[e.jsxs("p",{children:["Given an ",e.jsx(a,{math:"X, Y"}),"-bigraph where each vertex ranks its neighbors, a matching ",e.jsx(a,{math:"M"})," is ",e.jsx("strong",{children:"unstable"})," if there exist ",e.jsx(a,{math:"x \\in X"})," and ",e.jsx(a,{math:"y \\in Y"})," ","such that:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx(a,{math:"xy \\notin M"})," (they are not matched to each other)"]}),e.jsxs("li",{children:[e.jsx(a,{math:"x"})," prefers ",e.jsx(a,{math:"y"})," to"," ",e.jsx(a,{math:"x"}),"'s partner in ",e.jsx(a,{math:"M"})," (or"," ",e.jsx(a,{math:"x"})," is unmatched)"]}),e.jsxs("li",{children:[e.jsx(a,{math:"y"})," prefers ",e.jsx(a,{math:"x"})," to"," ",e.jsx(a,{math:"y"}),"'s partner in ",e.jsx(a,{math:"M"})," (or"," ",e.jsx(a,{math:"y"})," is unmatched)"]})]}),e.jsxs("p",{className:"mt-2",children:["Such a pair ",e.jsx(a,{math:"(x, y)"})," is called a"," ",e.jsx("strong",{children:"blocking pair"}),". A matching is ",e.jsx("strong",{children:"stable"})," if it has no blocking pairs."]})]}),e.jsxs(me,{title:"The Roommate Problem",children:[e.jsx("p",{children:"Consider three people: Alice (A), Bob (B), and Carol (C). Suppose:"}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsx("li",{children:"A's preference: B > C"}),e.jsx("li",{children:"B's preference: C > A"}),e.jsx("li",{children:"C's preference: A > B"})]}),e.jsx("p",{className:"mt-2",children:"In any pairing, one person is left out. If we pair A-B, then C is alone, but B prefers C to A and C prefers B to being aloneblocking pair! Similarly for other pairings. No stable matching exists."}),e.jsx("p",{className:"mt-2 text-dark-300",children:"The bipartite version (with two disjoint groups) always has a stable matching."})]}),e.jsx(U,{title:"Gale-Shapley Theorem (Theorem 3.2.17)",children:e.jsx("p",{children:"Every bipartite preference system has a stable matching."})}),e.jsxs(te,{title:"Gale-Shapley Algorithm (Proposal Algorithm)",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Input:"})," Bipartite preference system with sets"," ",e.jsx(a,{math:"X"})," (proposers) and ",e.jsx(a,{math:"Y"})," ","(receivers)."]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"All vertices are initially free."}),e.jsxs("li",{children:["While some ",e.jsx(a,{math:"x \\in X"})," is free and hasn't proposed to everyone:",e.jsxs("ul",{className:"ml-4 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx(a,{math:"x"})," proposes to their most-preferred"," ",e.jsx(a,{math:"y"})," not yet proposed to."]}),e.jsxs("li",{children:["If ",e.jsx(a,{math:"y"})," is free, tentatively match"," ",e.jsx(a,{math:"x"})," and ",e.jsx(a,{math:"y"}),"."]}),e.jsxs("li",{children:["If ",e.jsx(a,{math:"y"})," prefers ",e.jsx(a,{math:"x"})," to their current partner ",e.jsx(a,{math:"x'"}),", replace:"," ",e.jsx(a,{math:"x'"})," becomes free, ",e.jsx(a,{math:"x"})," and"," ",e.jsx(a,{math:"y"})," are matched."]}),e.jsxs("li",{children:["Otherwise, ",e.jsx(a,{math:"x"})," remains free."]})]})]}),e.jsx("li",{children:"Return the final matching."})]})]}),e.jsxs(U,{title:"Theorem 3.2.18 (Properties of Gale-Shapley)",children:[e.jsx("p",{children:"The Gale-Shapley algorithm:"}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["Always terminates with a stable matching in ",e.jsx(a,{math:"O(n^2)"})," ","time."]}),e.jsxs("li",{children:["Produces the ",e.jsx("strong",{children:"proposer-optimal"})," stable matching: each proposer gets their best partner among all stable matchings."]}),e.jsxs("li",{children:["Produces the ",e.jsx("strong",{children:"receiver-pessimal"})," stable matching: each receiver gets their worst partner among all stable matchings."]})]})]}),e.jsxs(me,{title:"Medical Residency Matching",children:[e.jsx("p",{children:"The National Resident Matching Program (NRMP) uses a variant of Gale-Shapley to match medical school graduates to residency programs. Each year, about 40,000 applicants and 30,000 positions are matched."}),e.jsx("p",{className:"mt-2",children:"Originally hospitals proposed (giving hospitals their optimal matching). Now applicants propose, giving applicants better outcomes on average."}),e.jsx("p",{className:"mt-2 text-dark-300",children:"Alvin Roth, Lloyd Shapley, and David Gale received the 2012 Nobel Prize in Economics partly for this work."})]}),e.jsx("h2",{children:"Min-Max Theorems"}),e.jsx("p",{children:'The Knig-Egervry Theorem shows that maximum matching equals minimum vertex cover in bipartite graphs. Such "min-max" relations are fundamental in combinatorial optimization.'}),e.jsx(te,{title:"Min-Max Theorem",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"min-max theorem"})," states that the maximum value of one optimization problem equals the minimum value of a related problem. Finding an optimal solution to either problem proves optimality for both."]})}),e.jsx("p",{children:"For matchings in bipartite graphs, several min-max relations hold:"}),e.jsxs(U,{title:"Summary of Min-Max Relations",children:[e.jsxs("p",{children:["For an ",e.jsx(a,{math:"X, Y"}),"-bigraph ",e.jsx(a,{math:"G"}),":"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(a,{math:"\\alpha'(G) = \\beta(G)"})," (Knig-Egervry)"]}),e.jsxs("li",{children:[e.jsx(a,{math:"\\alpha(G) = n(G) - \\beta(G)"})," (Gallai)"]}),e.jsx("li",{children:"Maximum matching = Minimum vertex cover"}),e.jsxs("li",{children:["Maximum independent set = ",e.jsx(a,{math:"n"}),"  Minimum vertex cover"]})]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Augmenting Path Algorithm:"})," Finds maximum matching in"," ",e.jsx(a,{math:"O(mn)"})," by repeatedly finding and using augmenting paths."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Hopcroft-Karp:"})," Improves to"," ",e.jsx(a,{math:"O(m\\sqrt{n})"})," by finding multiple shortest augmenting paths per phase."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Weighted Matching:"})," The Hungarian algorithm solves the assignment problem in ",e.jsx(a,{math:"O(n^3)"})," using feasible labelings."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Stable Matching:"})," Gale-Shapley always finds a stable matching in bipartite systems. The proposing side gets their optimal outcome."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Applications:"})," Job assignment, organ donation, medical residency matching, online advertising, and more."]})]})]})}function Hz(){return e.jsxs(st,{sectionId:10,children:[e.jsxs("p",{children:["Hall's Theorem and the Knig-Egervry Theorem apply only to bipartite graphs. For general graphs, characterizing perfect matchings is more subtle. The key difficulty is the presence of odd cycles, which leads to Tutte's elegant characterization. We also study ",e.jsx(a,{math:"f"}),"-factors, which generalize matchings."]}),e.jsx("h2",{children:"Tutte's 1-Factor Theorem"}),e.jsxs("p",{children:["Recall that a perfect matching is also called a ",e.jsx("strong",{children:"1-factor"}),": a 1-regular spanning subgraph. When does a graph have a 1-factor?"]}),e.jsx(te,{title:"Odd Components",children:e.jsxs("p",{children:["For a graph ",e.jsx(a,{math:"G"})," and vertex subset"," ",e.jsx(a,{math:"S \\subseteq V(G)"}),", let"," ",e.jsx(a,{math:"o(G - S)"})," denote the number of ",e.jsx("strong",{children:"odd components"})," ","of ",e.jsx(a,{math:"G - S"})," (components with an odd number of vertices)."]})}),e.jsxs("p",{children:["The key observation is that a perfect matching must match vertices within each component or match them to ",e.jsx(a,{math:"S"}),". In an odd component, at least one vertex must be matched to ",e.jsx(a,{math:"S"}),"."]}),e.jsxs(U,{title:"Tutte's 1-Factor Theorem (Theorem 3.3.3)",children:[e.jsxs("p",{children:["A graph ",e.jsx(a,{math:"G"})," has a 1-factor (perfect matching) if and only if for every ",e.jsx(a,{math:"S \\subseteq V(G)"}),":"]}),e.jsx(we,{math:"o(G - S) \\leq |S|"}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["This is called ",e.jsx("strong",{children:"Tutte's Condition"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof (Necessity)"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," has a perfect matching ",e.jsx(a,{math:"M"}),", consider any ",e.jsx(a,{math:"S \\subseteq V(G)"}),". Each odd component of"," ",e.jsx(a,{math:"G - S"})," has an odd number of vertices, so in any matching of its vertices, at least one must match outside the component."]}),e.jsxs("p",{className:"mt-2",children:["Since vertices in odd components can only match to ",e.jsx(a,{math:"S"})," ","(they can't match to even components or other odd components), we need at least ",e.jsx(a,{math:"o(G - S)"})," vertices in ",e.jsx(a,{math:"S"}),". Thus ",e.jsx(a,{math:"o(G - S) \\leq |S|"}),"."]})]})]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof (Sufficiency - Sketch)"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["The sufficiency proof uses a clever argument. Assume Tutte's condition holds but ",e.jsx(a,{math:"G"})," has no perfect matching. Among all such graphs, consider one with the maximum number of edges (adding edges can only help create a matching)."]}),e.jsxs("p",{className:"mt-2",children:["Since ",e.jsx(a,{math:"G"})," is edge-maximal, for any non-edge"," ",e.jsx(a,{math:"uv"}),", the graph ",e.jsx(a,{math:"G + uv"})," has a perfect matching using ",e.jsx(a,{math:"uv"}),". This forces"," ",e.jsx(a,{math:"G"})," to be a union of complete graphs joined in a specific way, but then we can construct a perfect matchingcontradiction."]})]})]})]}),e.jsxs(me,{title:"Petersen Graph",children:[e.jsx("p",{children:"The Petersen graph has 10 vertices and is 3-regular. Does it have a perfect matching?"}),e.jsxs("p",{className:"mt-2",children:["We check Tutte's condition. By symmetry, it suffices to check a few cases. Taking ",e.jsx(a,{math:"S = \\emptyset"})," gives one component (connected graph) with 10 verticeseven, so ",e.jsx(a,{math:"o(G) = 0 \\leq 0"}),". "]}),e.jsx("p",{className:"mt-2",children:"After checking all relevant subsets (by symmetry arguments), Tutte's condition holds. The Petersen graph has a perfect matchingin fact, it has exactly 6 perfect matchings."})]}),e.jsx("h3",{children:"Deficiency and Maximum Matchings"}),e.jsxs(te,{title:"Deficiency",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"deficiency"})," of graph ",e.jsx(a,{math:"G"})," is:"]}),e.jsx(we,{math:"\\text{def}(G) = \\max_{S \\subseteq V(G)} \\left( o(G - S) - |S| \\right)"}),e.jsxs("p",{className:"mt-2",children:["By Tutte's condition, ",e.jsx(a,{math:"G"})," has a perfect matching iff"," ",e.jsx(a,{math:"\\text{def}(G) = 0"}),"."]})]}),e.jsxs(U,{title:"Berge-Tutte Formula (Theorem 3.3.17)",children:[e.jsxs("p",{children:["For any graph ",e.jsx(a,{math:"G"}),":"]}),e.jsx(we,{math:"\\alpha'(G) = \\frac{1}{2}\\left( n(G) - \\text{def}(G) \\right)"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(a,{math:"\\alpha'(G)"})," is the maximum matching number."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["This generalizes both Hall's Theorem (for bipartite graphs) and Tutte's Theorem (when ",e.jsx(a,{math:"\\text{def}(G) = 0"}),")."]})]}),e.jsxs("h2",{children:["Factors and ",e.jsx(a,{math:"f"}),"-Factors"]}),e.jsx("p",{children:"A matching saturates each vertex at most once. What if we want to saturate each vertex a specified number of times?"}),e.jsxs(te,{title:"f-Factor",children:[e.jsxs("p",{children:["Given a function ",e.jsx(a,{math:"f: V(G) \\to \\mathbb{Z}_{\\geq 0}"}),", an"," ",e.jsxs("strong",{children:[e.jsx(a,{math:"f"}),"-factor"]})," ","of graph ",e.jsx(a,{math:"G"})," is a spanning subgraph ",e.jsx(a,{math:"H"})," ","such that ",e.jsx(a,{math:"d_H(v) = f(v)"})," for every vertex"," ",e.jsx(a,{math:"v"}),"."]}),e.jsx("p",{className:"mt-2",children:"Special cases:"}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["A ",e.jsx("strong",{children:"1-factor"})," is a perfect matching (",e.jsx(a,{math:"f \\equiv 1"}),")."]}),e.jsxs("li",{children:["A ",e.jsx("strong",{children:"2-factor"})," is a spanning union of cycles (",e.jsx(a,{math:"f \\equiv 2"}),")."]}),e.jsxs("li",{children:["A ",e.jsxs("strong",{children:[e.jsx(a,{math:"k"}),"-factor"]})," ","is a ",e.jsx(a,{math:"k"}),"-regular spanning subgraph (",e.jsx(a,{math:"f \\equiv k"}),")."]})]})]}),e.jsxs(U,{title:"2-Factor Theorem (Theorem 3.3.9)",children:[e.jsxs("p",{children:["Every ",e.jsx(a,{math:"k"}),"-regular bipartite graph has a 2-factor."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["By the Knig-Egervry Theorem and Hall's Theorem, every regular bipartite graph has a perfect matching. Remove this matching to get a"," ",e.jsx(a,{math:"(k-1)"}),"-regular bipartite graph, which again has a perfect matching. The union of these two perfect matchings is a 2-factor."]})})]})]}),e.jsxs(U,{title:"Petersen's Theorem (Theorem 3.3.7)",children:[e.jsx("p",{children:"Every 3-regular graph with no cut-edge has a perfect matching."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["Verify Tutte's condition. For any ",e.jsx(a,{math:"S"}),", each odd component of ",e.jsx(a,{math:"G - S"})," has an odd total degree from"," ",e.jsx(a,{math:"S"})," (since internal degrees sum to even). Being 3-regular with no cut-edge provides enough connectivity to ensure"," ",e.jsx(a,{math:"o(G - S) \\leq |S|"}),"."]})})]})]}),e.jsxs("h3",{children:["General ",e.jsx(a,{math:"f"}),"-Factor Theorem"]}),e.jsxs(U,{title:"Tutte's f-Factor Theorem (Theorem 3.3.25)",children:[e.jsxs("p",{children:["Let ",e.jsx(a,{math:"f: V(G) \\to \\mathbb{Z}_{\\geq 0}"}),". The graph"," ",e.jsx(a,{math:"G"})," has an ",e.jsx(a,{math:"f"}),"-factor if and only if for every ",e.jsx(a,{math:"S, T \\subseteq V(G)"})," with"," ",e.jsx(a,{math:"S \\cap T = \\emptyset"}),":"]}),e.jsx(we,{math:"\\sum_{v \\in S} f(v) + \\sum_{v \\in T} (d_G(v) - f(v)) - e_G(S, T) - q(S, T) \\geq 0"}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["Here ",e.jsx(a,{math:"e_G(S, T)"})," is the number of edges between"," ",e.jsx(a,{math:"S"})," and ",e.jsx(a,{math:"T"}),", and"," ",e.jsx(a,{math:"q(S, T)"}),' counts certain "bad" components of'," ",e.jsx(a,{math:"G - S - T"}),"."]})]}),e.jsx("h2",{children:"Edmonds' Matching Algorithm"}),e.jsx("p",{children:`For general (non-bipartite) graphs, finding maximum matchings is more complex due to odd cycles. Jack Edmonds' breakthrough "blossom algorithm" handles this.`}),e.jsxs(te,{title:"Blossom",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"blossom"})," is an odd cycle in which every other edge (except one) belongs to the current matching. The cycle has"," ",e.jsx(a,{math:"2k + 1"})," vertices with ",e.jsx(a,{math:"k"})," matched edges."]}),e.jsxs("p",{className:"mt-2",children:["The key insight: a blossom can be ",e.jsx("strong",{children:"contracted"})," to a single vertex without affecting the existence of augmenting paths."]})]}),e.jsxs(me,{title:"A Simple Blossom",children:[e.jsxs("p",{children:["Consider a 5-cycle ",e.jsx(a,{math:"v_1, v_2, v_3, v_4, v_5"})," with matching"," ",e.jsx(a,{math:"M = \\{v_2v_3, v_4v_5\\}"}),". The vertex"," ",e.jsx(a,{math:"v_1"})," is unsaturated."]}),e.jsxs("p",{className:"mt-2",children:["If we're searching for an augmenting path and reach ",e.jsx(a,{math:"v_1"}),", we can enter the cycle through either ",e.jsx(a,{math:"v_2"})," or"," ",e.jsx(a,{math:"v_5"}),". By contracting the blossom, we simplify the search."]})]}),e.jsxs(te,{title:"Edmonds' Blossom Algorithm",children:[e.jsx("p",{children:"The algorithm maintains:"}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["A current matching ",e.jsx(a,{math:"M"})]}),e.jsx("li",{children:"A forest of alternating trees rooted at unsaturated vertices"})]}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Process:"})}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"Build alternating trees from unsaturated vertices."}),e.jsxs("li",{children:["If two trees connect via a non-matching edge to an unsaturated vertex:"," ",e.jsx("strong",{children:"augmenting path found"}),"augment and restart."]}),e.jsxs("li",{children:["If two even-level vertices in the same tree are connected:"," ",e.jsx("strong",{children:"blossom detected"}),"contract it and continue."]}),e.jsxs("li",{children:["When no more growth possible, ",e.jsx(a,{math:"M"})," is maximum."]}),e.jsx("li",{children:"Expand blossoms to recover the actual matching."})]})]}),e.jsxs(U,{title:"Theorem 3.3.21 (Edmonds' Algorithm)",children:[e.jsxs("p",{children:["Edmonds' blossom algorithm correctly finds a maximum matching in any graph"," ",e.jsx(a,{math:"G"})," in ",e.jsx(a,{math:"O(n^2 m)"})," time."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["With better data structures (Micali-Vazirani), this improves to"," ",e.jsx(a,{math:"O(m\\sqrt{n})"}),"."]})]}),e.jsxs(me,{title:"Finding Maximum Matching",children:[e.jsxs("p",{children:["Consider a graph with vertices ",e.jsx(a,{math:"\\{1, 2, 3, 4, 5\\}"})," and edges forming a 5-cycle plus edge 1-3. Start with"," ",e.jsx(a,{math:"M = \\{2-3, 4-5\\}"}),"."]}),e.jsx("p",{className:"mt-2",children:"Build an alternating tree from vertex 1 (unsaturated). Vertices 2 and 5 are reached via non-matching edges. Following matching edges reaches 3 and 4. The edge 1-3 creates a blossom (odd cycle 1-2-3-1 through the 5-cycle)."}),e.jsxs("p",{className:"mt-2",children:["After contraction and expansion, we find"," ",e.jsx(a,{math:"M' = \\{1-2, 3-4\\}"})," leaves vertex 5 unsaturated. Maximum matching has size 2 for this 5-vertex graph."]})]}),e.jsx("h2",{children:"Applications"}),e.jsx("h3",{children:"Scheduling Problems"}),e.jsxs("p",{children:["Many scheduling problems reduce to matching. For example, scheduling"," ",e.jsx(a,{math:"n"})," tasks on ",e.jsx(a,{math:"m"})," machines where each task can only run on certain machines is bipartite matching. With time constraints, we may need general matching theory."]}),e.jsx("h3",{children:"Network Design"}),e.jsxs("p",{children:["Constructing networks where every node has exactly ",e.jsx(a,{math:"k"})," ","connections is a ",e.jsx(a,{math:"k"}),"-factor problem. This appears in designing reliable communication networks."]}),e.jsx("h3",{children:"Chemistry"}),e.jsx("p",{children:"In organic chemistry, molecular graphs represent atoms as vertices and bonds as edges. A perfect matching corresponds to a valid electron pairing (resonance structure). Benzenoid graphs always have perfect matchings by Tutte's theorem."}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Tutte's Condition:"})," A graph has a perfect matching iff"," ",e.jsx(a,{math:"o(G - S) \\leq |S|"})," for all"," ",e.jsx(a,{math:"S \\subseteq V(G)"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Berge-Tutte Formula:"})," ",e.jsx(a,{math:"\\alpha'(G) = \\frac{1}{2}(n(G) - \\text{def}(G))"})," gives maximum matching size."]}),e.jsxs("li",{children:[e.jsxs("strong",{children:[e.jsx(a,{math:"f"}),"-factors:"]})," ","Generalize matchings to specify degree at each vertex."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Petersen's Theorem:"})," 3-regular bridgeless graphs have perfect matchings."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Edmonds' Algorithm:"})," The blossom algorithm finds maximum matchings in general graphs by contracting odd cycles."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Key Difference from Bipartite:"})," Odd cycles create complications requiring the blossom contraction technique."]})]})]})}function Uz(){return e.jsxs(st,{sectionId:11,children:[e.jsx("p",{children:'How resilient is a network to failures? If we remove vertices or edges, does the graph remain connected? The study of connectivity measures how "well-connected" a graph is and identifies its vulnerable points. These concepts are fundamental to network reliability and algorithm design.'}),e.jsx("h2",{children:"Separating Sets and Connectivity"}),e.jsxs(te,{title:"Separating Set and Cut",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"separating set"})," or ",e.jsx("strong",{children:"vertex cut"})," of a connected graph ",e.jsx(a,{math:"G"})," is a set ",e.jsx(a,{math:"S \\subseteq V(G)"})," ","such that ",e.jsx(a,{math:"G - S"})," has more than one component."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"disconnecting set"})," of edges is a set"," ",e.jsx(a,{math:"F \\subseteq E(G)"})," such that ",e.jsx(a,{math:"G - F"})," ","has more than one component. A disconnecting set is an"," ",e.jsx("strong",{children:"edge cut"})," if no proper subset is also disconnecting."]})]}),e.jsxs(te,{title:"Connectivity Numbers",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"connectivity"})," (or ",e.jsx("strong",{children:"vertex connectivity"}),")"," ",e.jsx(a,{math:"\\kappa(G)"})," is the minimum size of a vertex cut, or"," ",e.jsx(a,{math:"n - 1"})," if ",e.jsx(a,{math:"G = K_n"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"edge-connectivity"})," ",e.jsx(a,{math:"\\kappa'(G)"})," is the minimum size of an edge cut (if ",e.jsx(a,{math:"G"})," is connected)."]}),e.jsxs("p",{className:"mt-2",children:["A graph is ",e.jsxs("strong",{children:[e.jsx(a,{math:"k"}),"-connected"]})," ","if ",e.jsx(a,{math:"\\kappa(G) \\geq k"}),", and"," ",e.jsxs("strong",{children:[e.jsx(a,{math:"k"}),"-edge-connected"]})," ","if ",e.jsx(a,{math:"\\kappa'(G) \\geq k"}),"."]})]}),e.jsx(me,{title:"Connectivity of Common Graphs",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(a,{math:"K_n"}),": ",e.jsx(a,{math:"\\kappa = \\kappa' = n - 1"})]}),e.jsxs("li",{children:[e.jsx(a,{math:"K_{m,n}"})," (",e.jsx(a,{math:"m \\leq n"}),"):"," ",e.jsx(a,{math:"\\kappa = \\kappa' = m"})]}),e.jsxs("li",{children:[e.jsx(a,{math:"C_n"}),": ",e.jsx(a,{math:"\\kappa = \\kappa' = 2"})]}),e.jsxs("li",{children:[e.jsx(a,{math:"P_n"}),": ",e.jsx(a,{math:"\\kappa = \\kappa' = 1"})]}),e.jsxs("li",{children:["Petersen graph: ",e.jsx(a,{math:"\\kappa = \\kappa' = 3"})]})]})}),e.jsxs(U,{title:"Theorem 4.1.9 (Connectivity Bounds)",children:[e.jsxs("p",{children:["For any graph ",e.jsx(a,{math:"G"}),":"]}),e.jsx(we,{math:"\\kappa(G) \\leq \\kappa'(G) \\leq \\delta(G)"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(a,{math:"\\delta(G)"})," is the minimum vertex degree."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsxs("strong",{children:[e.jsx(a,{math:"\\kappa'(G) \\leq \\delta(G)"}),":"]})," ","Deleting all edges at a vertex of minimum degree disconnects the graph (isolating that vertex)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:[e.jsx(a,{math:"\\kappa(G) \\leq \\kappa'(G)"}),":"]})," ","Given a minimum edge cut ",e.jsx(a,{math:"[S, \\overline{S}]"}),", for each edge ",e.jsx(a,{math:"e"})," in the cut, include one endpoint in a vertex set ",e.jsx(a,{math:"T"}),". Then ",e.jsx(a,{math:"T"})," is a vertex cut with ",e.jsx(a,{math:"|T| \\leq \\kappa'(G)"}),"."]})]})]})]}),e.jsxs(me,{title:"Strict Inequalities",children:[e.jsxs("p",{children:['Consider a "bowtie" graph: two triangles sharing a vertex. We have'," ",e.jsx(a,{math:"\\delta = 2"}),", ",e.jsx(a,{math:"\\kappa' = 2"}),", but"," ",e.jsx(a,{math:"\\kappa = 1"})," (removing the shared vertex disconnects)."]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(a,{math:"K_{2,3}"}),": ",e.jsx(a,{math:"\\delta = 2"}),", but"," ",e.jsx(a,{math:"\\kappa = \\kappa' = 2"}),"."]})]}),e.jsx("h2",{children:"Cut-Vertices and Bridges"}),e.jsxs(te,{title:"Cut-Vertex and Cut-Edge",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"cut-vertex"})," (or ",e.jsx("strong",{children:"articulation point"}),") of a connected graph ",e.jsx(a,{math:"G"})," is a vertex whose deletion increases the number of components."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"cut-edge"})," (or ",e.jsx("strong",{children:"bridge"}),") is an edge whose deletion increases the number of components."]})]}),e.jsxs(U,{title:"Theorem 4.1.3 (Cut-Edge Characterization)",children:[e.jsxs("p",{children:["An edge ",e.jsx(a,{math:"e"})," is a cut-edge if and only if"," ",e.jsx(a,{math:"e"})," belongs to no cycle."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"()"})," If ",e.jsx(a,{math:"e = uv"})," lies on a cycle, then any path using ",e.jsx(a,{math:"e"})," can be rerouted through the rest of the cycle. So ",e.jsx(a,{math:"G - e"})," is connected."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"()"})," If ",e.jsx(a,{math:"e = uv"})," lies on no cycle, then the unique ",e.jsx(a,{math:"u, v"}),"-path in ",e.jsx(a,{math:"G"})," uses"," ",e.jsx(a,{math:"e"}),". Deleting ",e.jsx(a,{math:"e"})," leaves no"," ",e.jsx(a,{math:"u, v"}),"-path."]})]})]})]}),e.jsx(U,{title:"Theorem 4.1.2 (Cut-Vertex Characterization)",children:e.jsxs("p",{children:["A vertex ",e.jsx(a,{math:"v"})," in a connected graph ",e.jsx(a,{math:"G"})," ","is a cut-vertex if and only if there exist vertices"," ",e.jsx(a,{math:"u, w \\neq v"})," such that every"," ",e.jsx(a,{math:"u, w"}),"-path passes through ",e.jsx(a,{math:"v"}),"."]})}),e.jsx("h2",{children:"Blocks"}),e.jsx("p",{children:"Graphs decompose naturally into pieces separated by cut-vertices."}),e.jsxs(te,{title:"Block",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"block"})," of a graph ",e.jsx(a,{math:"G"})," is a maximal connected subgraph of ",e.jsx(a,{math:"G"})," that has no cut-vertex."]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"Equivalently, a block is either a maximal 2-connected subgraph, or a cut-edge (with its endpoints), or an isolated vertex."})]}),e.jsx(U,{title:"Theorem 4.1.11 (Block Properties)",children:e.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"Every edge belongs to exactly one block."}),e.jsx("li",{children:"Two blocks share at most one vertex (which must be a cut-vertex)."}),e.jsxs("li",{children:["The blocks partition ",e.jsx(a,{math:"E(G)"}),"."]})]})}),e.jsxs(me,{title:"Finding Blocks",children:[e.jsxs("p",{children:["Consider a graph that is two triangles sharing a vertex ",e.jsx(a,{math:"v"}),". The graph has:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["One cut-vertex: ",e.jsx(a,{math:"v"})]}),e.jsx("li",{children:"Two blocks: the two triangles"}),e.jsx("li",{children:e.jsx(a,{math:"\\kappa(G) = 1"})})]}),e.jsxs("p",{className:"mt-2",children:["A path ",e.jsx(a,{math:"P_n"})," has ",e.jsx(a,{math:"n - 1"})," blocks, each being a single edge."]})]}),e.jsx("h3",{children:"Block-Cutpoint Graph"}),e.jsxs(te,{title:"Block-Cutpoint Graph",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"block-cutpoint graph"})," (or ",e.jsx("strong",{children:"BC-tree"}),") of a connected graph ",e.jsx(a,{math:"G"})," is a bipartite graph"," ",e.jsx(a,{math:"H"})," where:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["One partite set consists of the blocks of ",e.jsx(a,{math:"G"})]}),e.jsxs("li",{children:["The other partite set consists of the cut-vertices of"," ",e.jsx(a,{math:"G"})]}),e.jsxs("li",{children:["Block ",e.jsx(a,{math:"B"})," is adjacent to cut-vertex"," ",e.jsx(a,{math:"v"})," iff ",e.jsx(a,{math:"v \\in V(B)"})]})]})]}),e.jsx(U,{title:"Theorem 4.1.12",children:e.jsx("p",{children:"The block-cutpoint graph of a connected graph is a tree."})}),e.jsx("h2",{children:"Edge Cuts and Bonds"}),e.jsx(te,{title:"Bond",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"bond"})," is a minimal nonempty edge cut. Equivalently, a bond is an edge cut ",e.jsx(a,{math:"[S, \\overline{S}]"})," such that both"," ",e.jsx(a,{math:"G[S]"})," and ",e.jsx(a,{math:"G[\\overline{S}]"})," are connected."]})}),e.jsx(U,{title:"Bond Characterization",children:e.jsx("p",{children:"An edge cut is a bond if and only if it is a minimal disconnecting set."})}),e.jsx(me,{title:"Bonds in a Cycle",children:e.jsxs("p",{children:["In ",e.jsx(a,{math:"C_n"}),", the bonds are exactly the edge sets of size 2 (removing two edges disconnects). Any single edge is not a bond because its removal leaves the graph connected."]})}),e.jsx("h2",{children:"Finding Cut-Vertices (DFS Algorithm)"}),e.jsx("p",{children:"Tarjan's algorithm uses depth-first search to find all cut-vertices and bridges in linear time."}),e.jsxs(te,{title:"Tarjan's Algorithm",children:[e.jsxs("p",{children:["Key concepts for DFS from root ",e.jsx(a,{math:"r"}),":"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx(a,{math:"\\text{disc}[v]"}),": discovery time of"," ",e.jsx(a,{math:"v"})]}),e.jsxs("li",{children:[e.jsx(a,{math:"\\text{low}[v]"}),": minimum discovery time reachable from subtree of ",e.jsx(a,{math:"v"})," via back edges"]})]}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Cut-vertex conditions:"})}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["Root ",e.jsx(a,{math:"r"})," is a cut-vertex iff it has 2 children in DFS tree"]}),e.jsxs("li",{children:["Non-root ",e.jsx(a,{math:"v"})," is a cut-vertex iff some child"," ",e.jsx(a,{math:"u"})," has"," ",e.jsx(a,{math:"\\text{low}[u] \\geq \\text{disc}[v]"})]})]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Bridge condition:"})," Edge ",e.jsx(a,{math:"uv"})," (where"," ",e.jsx(a,{math:"v"})," is child of ",e.jsx(a,{math:"u"}),") is a bridge iff"," ",e.jsx(a,{math:"\\text{low}[v] > \\text{disc}[u]"}),"."]})]}),e.jsx(U,{title:"Tarjan's Algorithm Complexity",children:e.jsxs("p",{children:["All cut-vertices and bridges can be found in ",e.jsx(a,{math:"O(n + m)"})," ","time using DFS."]})}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Connectivity Hierarchy:"})," ",e.jsx(a,{math:"\\kappa(G) \\leq \\kappa'(G) \\leq \\delta(G)"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cut-vertex:"})," A vertex whose removal disconnects the graph."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bridge:"})," An edge whose removal disconnects; equivalently, an edge on no cycle."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Blocks:"})," Maximal 2-connected subgraphs; partition the edges and share at most cut-vertices."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"BC-tree:"})," The block-cutpoint graph is always a tree, revealing the hierarchical structure."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Efficiency:"})," All cut-vertices and bridges can be found in linear time using DFS."]})]})]})}function Fz(){return e.jsxs(st,{sectionId:12,children:[e.jsxs("p",{children:["We now study graphs with higher connectivity. The structure of 2-connected graphs is particularly elegantthey can be built by successively adding paths. Menger's Theorem provides a fundamental characterization of"," ",e.jsx(a,{math:"k"}),"-connectivity in terms of disjoint paths, connecting connectivity to the maximum flow problem."]}),e.jsx("h2",{children:"2-Connected Graphs"}),e.jsxs("p",{children:["A graph is 2-connected if ",e.jsx(a,{math:"\\kappa(G) \\geq 2"}),': removing any single vertex leaves it connected. This is a natural "robustness" requirement for networks.']}),e.jsxs(U,{title:"Lemma 4.2.1 (2-Connected Characterization)",children:[e.jsxs("p",{children:["For a graph ",e.jsx(a,{math:"G"})," with at least 3 vertices, TFAE:"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(a,{math:"G"})," is 2-connected."]}),e.jsxs("li",{children:["For every pair ",e.jsx(a,{math:"u, v \\in V(G)"}),", there exist two internally disjoint ",e.jsx(a,{math:"u, v"}),"-paths."]}),e.jsxs("li",{children:["For every pair ",e.jsx(a,{math:"u, v \\in V(G)"}),", there is a cycle containing both ",e.jsx(a,{math:"u"})," and ",e.jsx(a,{math:"v"}),"."]}),e.jsxs("li",{children:[e.jsx(a,{math:"\\delta(G) \\geq 1"})," and every pair of edges lies on a common cycle."]})]})]}),e.jsxs(me,{title:"2-Connected Examples",children:[e.jsxs("p",{children:[e.jsx(a,{math:"K_n"})," (",e.jsx(a,{math:"n \\geq 3"}),") is 2-connected: removing any vertex leaves ",e.jsx(a,{math:"K_{n-1}"}),", still connected."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx(a,{math:"C_n"})," is 2-connected: removing any vertex leaves a path"," ",e.jsx(a,{math:"P_{n-1}"}),", connected."]}),e.jsx("p",{className:"mt-2",children:"A tree with more than one edge is not 2-connected: every non-leaf vertex is a cut-vertex."})]}),e.jsx("h3",{children:"Ear Decomposition"}),e.jsxs(te,{title:"Ear",children:[e.jsxs("p",{children:["An ",e.jsx("strong",{children:"ear"})," of a graph ",e.jsx(a,{math:"G"})," is a maximal path whose internal vertices have degree 2 in ",e.jsx(a,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:["An ",e.jsx("strong",{children:"ear decomposition"})," of ",e.jsx(a,{math:"G"})," is a decomposition ",e.jsx(a,{math:"P_0, P_1, \\ldots, P_k"})," such that:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx(a,{math:"P_0"})," is a cycle"]}),e.jsxs("li",{children:["For ",e.jsx(a,{math:"i \\geq 1"}),", ",e.jsx(a,{math:"P_i"})," is an ear of"," ",e.jsx(a,{math:"P_0 \\cup P_1 \\cup \\cdots \\cup P_i"})," with endpoints (but no internal vertices) in"," ",e.jsx(a,{math:"P_0 \\cup \\cdots \\cup P_{i-1}"})]})]})]}),e.jsxs(U,{title:"Whitney's Ear Decomposition Theorem (Theorem 4.2.6)",children:[e.jsxs("p",{children:["A graph ",e.jsx(a,{math:"G"})," is 2-connected if and only if it has an ear decomposition."]}),e.jsx("p",{className:"mt-2",children:"Furthermore, every cycle in a 2-connected graph is the initial cycle of some ear decomposition."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"()"})," Adding an ear preserves 2-connectivity: the new internal vertices have two disjoint paths to the old graph."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"()"})," Start with any cycle ",e.jsx(a,{math:"P_0"}),"(exists since 2-connected). While ",e.jsx(a,{math:"\\bigcup P_i \\neq G"}),", there's an edge ",e.jsx(a,{math:"e"})," with one endpoint in the union. Since ",e.jsx(a,{math:"G"})," is 2-connected, ",e.jsx(a,{math:"e"})," lies on a cycle, providing a new ear."]})]})]})]}),e.jsxs(me,{title:"Building K via Ears",children:[e.jsxs("p",{children:["Start with ",e.jsx(a,{math:"P_0 = (1, 2, 3, 1)"}),", a triangle."]}),e.jsxs("p",{className:"mt-2",children:["Add ear ",e.jsx(a,{math:"P_1 = (1, 4, 2)"}),": path from 1 to 2 through new vertex 4."]}),e.jsxs("p",{className:"mt-2",children:["Add ear ",e.jsx(a,{math:"P_2 = (3, 4)"}),": just an edge (an ear of length 1)."]}),e.jsxs("p",{className:"mt-2",children:["Result: ",e.jsx(a,{math:"K_4"})," with ear decomposition of 3 ears."]})]}),e.jsx("h2",{children:"Menger's Theorem"}),e.jsx("p",{children:"Menger's Theorem is one of the most important results in graph theory, characterizing connectivity in terms of disjoint paths. It has four versions (vertex/edge, global/local)."}),e.jsxs(te,{title:"Disjoint Paths",children:[e.jsxs("p",{children:["Paths are ",e.jsx("strong",{children:"internally disjoint"})," if they share no internal vertices (may share endpoints)."]}),e.jsxs("p",{className:"mt-2",children:["Paths are ",e.jsx("strong",{children:"edge-disjoint"})," if they share no edges (may share vertices)."]})]}),e.jsx(U,{title:"Menger's Theorem - Vertex Version (Theorem 4.2.17)",children:e.jsxs("p",{children:["Let ",e.jsx(a,{math:"x"})," and ",e.jsx(a,{math:"y"})," be non-adjacent vertices in graph ",e.jsx(a,{math:"G"}),". The minimum size of an"," ",e.jsx(a,{math:"x, y"}),"-vertex cut equals the maximum number of pairwise internally disjoint ",e.jsx(a,{math:"x, y"}),"-paths."]})}),e.jsx(U,{title:"Menger's Theorem - Edge Version (Theorem 4.2.19)",children:e.jsxs("p",{children:["For any vertices ",e.jsx(a,{math:"x"})," and ",e.jsx(a,{math:"y"})," in graph"," ",e.jsx(a,{math:"G"}),", the minimum size of an"," ",e.jsx(a,{math:"x, y"}),"-edge cut equals the maximum number of pairwise edge-disjoint ",e.jsx(a,{math:"x, y"}),"-paths."]})}),e.jsxs(me,{title:"Applying Menger's Theorem",children:[e.jsxs("p",{children:["In the Petersen graph, any two vertices have at least 3 internally disjoint paths between them (since ",e.jsx(a,{math:"\\kappa = 3"}),")."]}),e.jsx("p",{className:"mt-2",children:"Consider vertices at distance 2. By Menger, there exist 3 internally disjoint paths. One path has length 2, and the other two go around different parts of the graph."})]}),e.jsx(U,{title:"Global Menger's Theorem (Theorem 4.2.21)",children:e.jsxs("p",{children:["A graph ",e.jsx(a,{math:"G"})," is ",e.jsx(a,{math:"k"}),"-connected if and only if for every pair ",e.jsx(a,{math:"x, y \\in V(G)"}),", there exist"," ",e.jsx(a,{math:"k"})," pairwise internally disjoint"," ",e.jsx(a,{math:"x, y"}),"-paths."]})}),e.jsx(U,{title:"Edge Version of Global Menger (Theorem 4.2.22)",children:e.jsxs("p",{children:["A graph ",e.jsx(a,{math:"G"})," is ",e.jsx(a,{math:"k"}),"-edge-connected if and only if for every pair ",e.jsx(a,{math:"x, y \\in V(G)"}),", there exist"," ",e.jsx(a,{math:"k"})," pairwise edge-disjoint"," ",e.jsx(a,{math:"x, y"}),"-paths."]})}),e.jsx("h3",{children:"Fan Lemma"}),e.jsx(te,{title:"Fan",children:e.jsxs("p",{children:["An ",e.jsx(a,{math:"x, U"}),"-",e.jsx("strong",{children:"fan"})," is a collection of"," ",e.jsx(a,{math:"x, U"}),"-paths that pairwise share only"," ",e.jsx(a,{math:"x"})," (internally disjoint from ",e.jsx(a,{math:"x"})," to"," ",e.jsx(a,{math:"U"}),")."]})}),e.jsx(U,{title:"Fan Lemma (Lemma 4.2.24)",children:e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," is ",e.jsx(a,{math:"k"}),"-connected,"," ",e.jsx(a,{math:"x \\in V(G)"}),", and ",e.jsx(a,{math:"U \\subseteq V(G)"})," ","with ",e.jsx(a,{math:"|U| \\geq k"}),", then ",e.jsx(a,{math:"G"})," has an"," ",e.jsx(a,{math:"x, U"}),"-fan of size ",e.jsx(a,{math:"k"}),"."]})}),e.jsx("h2",{children:"Higher Connectivity"}),e.jsx(U,{title:"Expansion Lemma (Lemma 4.2.27)",children:e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," is a ",e.jsx(a,{math:"k"}),"-connected graph and"," ",e.jsx(a,{math:"G'"})," is obtained from ",e.jsx(a,{math:"G"})," by adding a new vertex ",e.jsx(a,{math:"y"})," with at least ",e.jsx(a,{math:"k"})," ","neighbors in ",e.jsx(a,{math:"G"}),", then ",e.jsx(a,{math:"G'"})," is"," ",e.jsx(a,{math:"k"}),"-connected."]})}),e.jsxs(U,{title:"Theorem 4.2.30 (Harary Graphs)",children:[e.jsxs("p",{children:["For ",e.jsx(a,{math:"k \\leq n - 1"}),", there exists a"," ",e.jsx(a,{math:"k"}),"-connected graph on ",e.jsx(a,{math:"n"})," vertices with exactly ",e.jsx(a,{math:"\\lceil kn/2 \\rceil"})," edges."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["This is the minimum number of edges needed for"," ",e.jsx(a,{math:"k"}),"-connectivity."]})]}),e.jsxs(te,{title:"Harary Graph",children:[e.jsxs("p",{children:["The Harary graph ",e.jsx(a,{math:"H_{k,n}"})," achieves minimum edge count for"," ",e.jsx(a,{math:"k"}),"-connectivity on ",e.jsx(a,{math:"n"})," vertices."]}),e.jsxs("p",{className:"mt-2",children:["Construction: Place ",e.jsx(a,{math:"n"})," vertices on a circle. Connect each vertex to its ",e.jsx(a,{math:"\\lfloor k/2 \\rfloor"})," nearest neighbors on each side. If ",e.jsx(a,{math:"k"})," is odd and ",e.jsx(a,{math:"n"})," is even, add diametric edges."]})]}),e.jsx("h2",{children:"Subdivisions and Contractions"}),e.jsx("p",{children:"Connectivity behaves predictably under graph operations."}),e.jsxs(te,{title:"Subdivision and Contraction",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Subdividing"})," an edge ",e.jsx(a,{math:"uv"})," means replacing it with a path ",e.jsx(a,{math:"u, w, v"})," through a new vertex"," ",e.jsx(a,{math:"w"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Contracting"})," an edge ",e.jsx(a,{math:"uv"})," means merging"," ",e.jsx(a,{math:"u"})," and ",e.jsx(a,{math:"v"})," into a single vertex."]})]}),e.jsx(U,{title:"Theorem 4.2.36 (Connectivity and Operations)",children:e.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["Subdividing an edge preserves ",e.jsx(a,{math:"k"}),"-connectivity for"," ",e.jsx(a,{math:"k \\geq 2"}),"."]}),e.jsxs("li",{children:["Contracting an edge in a ",e.jsx(a,{math:"k"}),"-connected graph yields a graph that is at least ",e.jsx(a,{math:"(k-1)"}),"-connected."]})]})}),e.jsx(U,{title:"Tutte's Wheel Theorem (Theorem 4.2.37)",children:e.jsxs("p",{children:["The only 3-connected graphs that have no single edge whose contraction leaves a 3-connected graph are the wheels ",e.jsx(a,{math:"W_n"})," for"," ",e.jsx(a,{math:"n \\geq 3"}),"."]})}),e.jsx("h2",{children:"Disjoint Spanning Trees"}),e.jsxs(U,{title:"Theorem 4.2.25 (Edge-Disjoint Spanning Trees)",children:[e.jsxs("p",{children:["A graph ",e.jsx(a,{math:"G"})," has ",e.jsx(a,{math:"k"})," edge-disjoint spanning trees if and only if for every partition"," ",e.jsx(a,{math:"V_1, \\ldots, V_r"})," of ",e.jsx(a,{math:"V(G)"}),":"]}),e.jsx(we,{math:"e(V_1, \\ldots, V_r) \\geq k(r - 1)"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(a,{math:"e(V_1, \\ldots, V_r)"})," counts edges between different parts."]})]}),e.jsx(U,{title:"Corollary 4.2.26",children:e.jsxs("p",{children:["A ",e.jsx(a,{math:"2k"}),"-edge-connected graph has ",e.jsx(a,{math:"k"})," ","edge-disjoint spanning trees."]})}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"2-Connected:"})," No cut-vertex; every pair of vertices lies on a cycle; has an ear decomposition."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Ear Decomposition:"})," Build 2-connected graphs by starting with a cycle and adding paths."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Menger's Theorem:"})," Min vertex cut = Max internally disjoint paths. Min edge cut = Max edge-disjoint paths."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Global Version:"})," ",e.jsx(a,{math:"G"})," is"," ",e.jsx(a,{math:"k"}),"-connected iff every vertex pair has"," ",e.jsx(a,{math:"k"})," internally disjoint paths."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Harary Graphs:"})," Achieve minimum edges for"," ",e.jsx(a,{math:"k"}),"-connectivity."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Operations:"})," Subdivision preserves connectivity; contraction may decrease it by 1."]})]})]})}function Vz(){return e.jsxs(st,{sectionId:13,children:[e.jsx("p",{children:`Network flow theory studies how to route "flow" through a network from a source to a sink, respecting capacity constraints. The Max-flow Min-cut Theorem is a cornerstone of combinatorial optimization, elegantly connecting Menger's Theorem to linear programming duality. Flow networks model transportation, communication, and many other systems.`}),e.jsx("h2",{children:"Interactive Flow Network"}),e.jsx("p",{children:"Watch the Ford-Fulkerson algorithm find maximum flow. See augmenting paths, observe flow being pushed through the network, and discover the minimum cut."}),e.jsx(Tz,{className:"my-8"}),e.jsx("h2",{children:"Networks and Flows"}),e.jsxs(te,{title:"Network",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"network"})," is a digraph ",e.jsx(a,{math:"N"})," with:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["A ",e.jsx("strong",{children:"source"})," ",e.jsx(a,{math:"s"})," with"," ",e.jsx(a,{math:"d^-(s) = 0"})," (no incoming edges)"]}),e.jsxs("li",{children:["A ",e.jsx("strong",{children:"sink"})," ",e.jsx(a,{math:"t"})," with"," ",e.jsx(a,{math:"d^+(t) = 0"})," (no outgoing edges)"]}),e.jsxs("li",{children:["A ",e.jsx("strong",{children:"capacity function"})," ",e.jsx(a,{math:"c: E(N) \\to \\mathbb{R}^+"})," assigning nonnegative capacities to edges"]})]})]}),e.jsxs(te,{title:"Flow",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"flow"})," on network ",e.jsx(a,{math:"N"})," is a function"," ",e.jsx(a,{math:"f: E(N) \\to \\mathbb{R}^+"})," satisfying:"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Capacity constraint:"})," ",e.jsx(a,{math:"0 \\leq f(e) \\leq c(e)"})," for all edges"," ",e.jsx(a,{math:"e"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Conservation:"})," For all ",e.jsx(a,{math:"v \\neq s, t"}),":",e.jsx(we,{math:"f^-(v) = f^+(v)"}),"(flow in = flow out)"]})]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"value"})," of flow ",e.jsx(a,{math:"f"})," is"," ",e.jsx(a,{math:"val(f) = f^+(s)"})," (total flow leaving the source)."]})]}),e.jsx(me,{title:"Transportation Network",children:e.jsxs("p",{children:["A distribution company ships goods from factory ",e.jsx(a,{math:"s"})," to warehouse ",e.jsx(a,{math:"t"})," through intermediate cities. Each road has a maximum capacity (trucks per day). A flow assigns truck routes respecting capacities and ensuring that at intermediate cities, trucks entering equals trucks leaving."]})}),e.jsx("h2",{children:"Cuts in Networks"}),e.jsxs(te,{title:"Source-Sink Cut",children:[e.jsxs("p",{children:["An ",e.jsx(a,{math:"s, t"}),"-",e.jsx("strong",{children:"cut"})," in network"," ",e.jsx(a,{math:"N"})," is a partition ",e.jsx(a,{math:"(S, T)"})," of"," ",e.jsx(a,{math:"V(N)"})," with ",e.jsx(a,{math:"s \\in S"})," and"," ",e.jsx(a,{math:"t \\in T"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"capacity"})," of cut ",e.jsx(a,{math:"(S, T)"})," is:"]}),e.jsx(we,{math:"cap(S, T) = \\sum_{e \\in [S, T]} c(e)"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(a,{math:"[S, T]"})," denotes edges from ",e.jsx(a,{math:"S"})," ","to ",e.jsx(a,{math:"T"}),"."]})]}),e.jsxs(U,{title:"Lemma 4.3.4 (Weak Duality)",children:[e.jsxs("p",{children:["For any flow ",e.jsx(a,{math:"f"})," and any ",e.jsx(a,{math:"s, t"}),"-cut"," ",e.jsx(a,{math:"(S, T)"}),":"]}),e.jsx(we,{math:"val(f) \\leq cap(S, T)"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Flow conservation means: for each ",e.jsx(a,{math:"v \\in S - \\{s\\}"}),", flow in equals flow out. Summing over all ",e.jsx(a,{math:"v \\in S"}),":"]}),e.jsx(we,{math:"val(f) = f^+(S) - f^-(S) \\leq f^+(S) \\leq cap(S, T)"}),e.jsxs("p",{children:["where ",e.jsx(a,{math:"f^+(S)"})," is total flow leaving"," ",e.jsx(a,{math:"S"}),"."]})]})]})]}),e.jsx("h2",{children:"The Max-Flow Min-Cut Theorem"}),e.jsxs(U,{title:"Max-Flow Min-Cut Theorem (Theorem 4.3.9)",children:[e.jsxs("p",{children:["In any network, the maximum value of a flow equals the minimum capacity of an"," ",e.jsx(a,{math:"s, t"}),"-cut:"]}),e.jsx(we,{math:"\\max_f val(f) = \\min_{(S,T)} cap(S, T)"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch (Ford-Fulkerson)"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsx("p",{children:"We show that when no augmenting path exists, the current flow equals some cut's capacity. Define:"}),e.jsx(we,{math:"S = \\{v : \\text{there is an augmenting path from } s \\text{ to } v\\}"}),e.jsxs("p",{className:"mt-2",children:["Since there's no augmenting path to ",e.jsx(a,{math:"t"}),","," ",e.jsx(a,{math:"t \\notin S"}),", so ",e.jsx(a,{math:"(S, T)"})," is a cut. For edges from ",e.jsx(a,{math:"S"})," to ",e.jsx(a,{math:"T"}),", flow equals capacity (else augmenting path exists). For edges from"," ",e.jsx(a,{math:"T"})," to ",e.jsx(a,{math:"S"}),", flow is 0. Thus"," ",e.jsx(a,{math:"val(f) = cap(S, T)"}),"."]})]})]})]}),e.jsxs(me,{title:"Computing Max-Flow",children:[e.jsxs("p",{children:["Consider a network with ",e.jsx(a,{math:"s \\to a \\to t"})," (capacity 3),"," ",e.jsx(a,{math:"s \\to b \\to t"})," (capacity 2), and"," ",e.jsx(a,{math:"a \\to b"})," (capacity 1)."]}),e.jsxs("p",{className:"mt-2",children:["Maximum flow: Send 3 through ",e.jsx(a,{math:"s \\to a \\to t"})," and 2 through ",e.jsx(a,{math:"s \\to b \\to t"}),". Total value = 5."]}),e.jsxs("p",{className:"mt-2",children:["Minimum cut: ",e.jsx(a,{math:"S = \\{s\\}"}),","," ",e.jsx(a,{math:"T = \\{a, b, t\\}"}),". Cut capacity = 3 + 2 = 5. "]})]}),e.jsx("h2",{children:"The Ford-Fulkerson Algorithm"}),e.jsxs(te,{title:"Residual Network",children:[e.jsxs("p",{children:["Given network ",e.jsx(a,{math:"N"})," and flow ",e.jsx(a,{math:"f"}),", the"," ",e.jsx("strong",{children:"residual network"})," ",e.jsx(a,{math:"N_f"})," has:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Forward edges:"})," For each edge"," ",e.jsx(a,{math:"e = (u, v)"})," with ",e.jsx(a,{math:"f(e) < c(e)"}),", include ",e.jsx(a,{math:"(u, v)"})," with residual capacity"," ",e.jsx(a,{math:"c(e) - f(e)"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Backward edges:"})," For each edge"," ",e.jsx(a,{math:"e = (u, v)"})," with ",e.jsx(a,{math:"f(e) > 0"}),", include ",e.jsx(a,{math:"(v, u)"})," with residual capacity"," ",e.jsx(a,{math:"f(e)"}),"."]})]})]}),e.jsxs(te,{title:"Augmenting Path",children:[e.jsxs("p",{children:["An ",e.jsx("strong",{children:"augmenting path"})," for flow ",e.jsx(a,{math:"f"})," is an"," ",e.jsx(a,{math:"s, t"}),"-path in the residual network"," ",e.jsx(a,{math:"N_f"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"bottleneck"})," of an augmenting path is the minimum residual capacity along the path."]})]}),e.jsx(te,{title:"Ford-Fulkerson Algorithm",children:e.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["Initialize ",e.jsx(a,{math:"f(e) = 0"})," for all edges."]}),e.jsxs("li",{children:["While there exists an augmenting path ",e.jsx(a,{math:"P"}),":",e.jsxs("ul",{className:"ml-4 list-disc list-inside",children:[e.jsxs("li",{children:["Find bottleneck ",e.jsx(a,{math:"\\delta = \\min_{e \\in P} c_f(e)"}),"."]}),e.jsxs("li",{children:["For each edge ",e.jsx(a,{math:"(u, v)"})," in ",e.jsx(a,{math:"P"}),":",e.jsxs("ul",{className:"ml-4 list-disc list-inside",children:[e.jsxs("li",{children:["If forward edge: increase ",e.jsx(a,{math:"f(u, v)"})," by"," ",e.jsx(a,{math:"\\delta"}),"."]}),e.jsxs("li",{children:["If backward edge: decrease ",e.jsx(a,{math:"f(v, u)"})," by"," ",e.jsx(a,{math:"\\delta"}),"."]})]})]})]})]}),e.jsxs("li",{children:["Return ",e.jsx(a,{math:"f"}),"."]})]})}),e.jsx(U,{title:"Ford-Fulkerson Correctness",children:e.jsxs("p",{children:["The Ford-Fulkerson algorithm terminates with a maximum flow when all capacities are rational. With integer capacities, running time is"," ",e.jsx(a,{math:"O(m \\cdot val(f^*))"})," where"," ",e.jsx(a,{math:"val(f^*)"})," is the maximum flow value."]})}),e.jsx("h3",{children:"Improved Algorithms"}),e.jsx("p",{children:"By choosing augmenting paths more carefully, we can guarantee polynomial time:"}),e.jsx(U,{title:"Edmonds-Karp Algorithm (1972)",children:e.jsxs("p",{children:["Using BFS to find shortest augmenting paths, maximum flow can be computed in"," ",e.jsx(a,{math:"O(nm^2)"})," time."]})}),e.jsx(U,{title:"Dinic's Algorithm (1970)",children:e.jsxs("p",{children:["Using blocking flows in layered networks, maximum flow can be computed in"," ",e.jsx(a,{math:"O(n^2 m)"})," time, or"," ",e.jsx(a,{math:"O(m\\sqrt{n})"})," for unit capacity networks."]})}),e.jsx("h2",{children:"Integrality Theorem"}),e.jsxs(U,{title:"Integrality Theorem (Theorem 4.3.11)",children:[e.jsx("p",{children:"If all capacities in a network are integers, then there exists a maximum flow that is integer-valued on all edges."}),e.jsx("p",{className:"mt-2 text-dark-300",children:"The Ford-Fulkerson algorithm automatically produces such an integer flow."})]}),e.jsx("p",{children:"This theorem has powerful consequences: many combinatorial problems can be modeled as integer flow problems."}),e.jsx("h2",{children:"Applications of Max-Flow"}),e.jsx("h3",{children:"Menger's Theorem from Max-Flow"}),e.jsxs(U,{title:"Corollary 4.3.13 (Menger from Max-Flow)",children:[e.jsx("p",{children:"Menger's Theorem (edge version) follows from the Max-Flow Min-Cut Theorem by setting all capacities to 1."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["In a network with unit capacities, by integrality, maximum flow is the number of edge-disjoint ",e.jsx(a,{math:"s, t"}),"-paths. Minimum cut capacity is the minimum number of edges separating"," ",e.jsx(a,{math:"s"})," from ",e.jsx(a,{math:"t"}),". Max-Flow Min-Cut gives Menger's Theorem."]})})]})]}),e.jsx("h3",{children:"Bipartite Matching"}),e.jsxs(U,{title:"Maximum Bipartite Matching via Flow (Corollary 4.3.14)",children:[e.jsxs("p",{children:["Maximum matching in a bipartite graph ",e.jsx(a,{math:"G"})," can be computed by:"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["Create network: Add source ",e.jsx(a,{math:"s"})," connected to all"," ",e.jsx(a,{math:"X"}),"-vertices; add sink ",e.jsx(a,{math:"t"})," ","connected from all ",e.jsx(a,{math:"Y"}),"-vertices."]}),e.jsxs("li",{children:["Direct all edges from ",e.jsx(a,{math:"X"})," to ",e.jsx(a,{math:"Y"}),"."]}),e.jsx("li",{children:"Set all capacities to 1."}),e.jsx("li",{children:"Maximum flow value = Maximum matching size."})]})]}),e.jsx("h3",{children:"Knig-Egervry from Max-Flow"}),e.jsx("p",{children:"The Knig-Egervry Theorem (maximum matching = minimum vertex cover in bipartite graphs) also follows from Max-Flow Min-Cut applied to the bipartite matching network."}),e.jsx("h3",{children:"Edge-Disjoint Paths"}),e.jsxs(me,{title:"Multi-Commodity Flow",children:[e.jsx("p",{children:"A company needs to route data between multiple source-destination pairs through a network. Each link has limited bandwidth. The multi-commodity flow problem asks: can we satisfy all demands simultaneously?"}),e.jsx("p",{className:"mt-2",children:"For single source-destination, this reduces to max-flow. For multiple pairs, the problem becomes NP-hard in general but has efficient approximations."})]}),e.jsx("h2",{children:"Circulations"}),e.jsxs(te,{title:"Circulation",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"circulation"})," in a network is a flow where"," ",e.jsx(a,{math:"s = t"})," (source equals sink), so conservation holds at every vertex."]}),e.jsx("p",{className:"mt-2",children:"Equivalently, a circulation is an assignment of flows to edges satisfying capacity constraints and conservation everywhere."})]}),e.jsxs(U,{title:"Circulation with Demands (Theorem 4.3.19)",children:[e.jsxs("p",{children:["A network with demands ",e.jsx(a,{math:"d(v)"})," at each vertex (positive for sources, negative for sinks) has a feasible circulation if and only if:"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside",children:[e.jsxs("li",{children:[e.jsx(a,{math:"\\sum_v d(v) = 0"})," (total demand is zero)"]}),e.jsxs("li",{children:["For every ",e.jsx(a,{math:"s, t"}),"-cut, the demand can be satisfied"]})]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Max-Flow Min-Cut:"})," The central theorem: maximum flow value equals minimum cut capacity."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Ford-Fulkerson:"})," Find max-flow by repeatedly augmenting along paths in the residual network."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Integrality:"})," With integer capacities, there's always an integer maximum flow."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Unifies Theory:"})," Menger's Theorem, Knig-Egervry, and Hall's Theorem all follow from Max-Flow Min-Cut."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Efficient Algorithms:"})," Edmonds-Karp"," ",e.jsx(a,{math:"O(nm^2)"}),", Dinic ",e.jsx(a,{math:"O(n^2 m)"}),", with better bounds for special cases."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Wide Applications:"})," Transportation, communication networks, bipartite matching, scheduling, and more."]})]})]})}function Kz(){return e.jsxs(st,{sectionId:14,children:[e.jsx("p",{children:'Graph coloring assigns labels ("colors") to graph elements subject to certain constraints. In vertex coloring, adjacent vertices must receive different colors. This models scheduling conflicts, register allocation in compilers, frequency assignment in wireless networks, and the famous map coloring problem. The central question: how many colors are needed?'}),e.jsx("h2",{children:"Chromatic Number"}),e.jsxs(te,{title:"Proper Coloring and Chromatic Number",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"proper k-coloring"})," of graph ",e.jsx(a,{math:"G"})," is a function ",e.jsx(a,{math:"c: V(G) \\to \\{1, 2, \\ldots, k\\}"})," such that"," ",e.jsx(a,{math:"c(u) \\neq c(v)"})," whenever ",e.jsx(a,{math:"uv \\in E(G)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["A graph is ",e.jsxs("strong",{children:[e.jsx(a,{math:"k"}),"-colorable"]})," ","if it has a proper ",e.jsx(a,{math:"k"}),"-coloring."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"chromatic number"})," ",e.jsx(a,{math:"\\chi(G)"})," is the minimum ",e.jsx(a,{math:"k"})," such that ",e.jsx(a,{math:"G"})," is"," ",e.jsx(a,{math:"k"}),"-colorable."]})]}),e.jsx(me,{title:"Chromatic Numbers of Basic Graphs",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(a,{math:"\\chi(K_n) = n"}),"  all vertices are adjacent"]}),e.jsxs("li",{children:[e.jsx(a,{math:"\\chi(C_n) = 2"})," if ",e.jsx(a,{math:"n"})," is even,"," ",e.jsx(a,{math:"3"})," if odd"]}),e.jsxs("li",{children:[e.jsx(a,{math:"\\chi(K_{m,n}) = 2"}),"  alternate colors between parts"]}),e.jsxs("li",{children:[e.jsx(a,{math:"\\chi(T) = 2"})," for any tree ",e.jsx(a,{math:"T"})," with at least one edge"]}),e.jsx("li",{children:e.jsx(a,{math:"\\chi(\\text{Petersen}) = 3"})})]})}),e.jsxs(U,{title:"Bipartite Characterization (Theorem 5.1.2)",children:[e.jsxs("p",{children:["A graph ",e.jsx(a,{math:"G"})," is bipartite if and only if"," ",e.jsx(a,{math:"\\chi(G) \\leq 2"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Equivalently, ",e.jsx(a,{math:"G"})," is bipartite iff"," ",e.jsx(a,{math:"G"})," has no odd cycle."]})]}),e.jsx(Nz,{className:"my-8"}),e.jsx("h2",{children:"Greedy Coloring"}),e.jsxs(te,{title:"Greedy Coloring Algorithm",children:[e.jsxs("p",{children:["Given a vertex ordering ",e.jsx(a,{math:"v_1, v_2, \\ldots, v_n"}),":"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside",children:[e.jsxs("li",{children:["Color ",e.jsx(a,{math:"v_1"})," with color 1."]}),e.jsxs("li",{children:["For ",e.jsx(a,{math:"i = 2, \\ldots, n"}),": assign"," ",e.jsx(a,{math:"v_i"})," the smallest color not used by any neighbor of"," ",e.jsx(a,{math:"v_i"})," among"," ",e.jsx(a,{math:"\\{v_1, \\ldots, v_{i-1}\\}"}),"."]})]})]}),e.jsxs(U,{title:"Theorem 5.1.7 (Greedy Bound)",children:[e.jsxs("p",{children:["For any vertex ordering, greedy coloring uses at most"," ",e.jsx(a,{math:"\\Delta(G) + 1"})," colors. Thus:"]}),e.jsx(we,{math:"\\chi(G) \\leq \\Delta(G) + 1"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["When coloring ",e.jsx(a,{math:"v_i"}),", it has at most"," ",e.jsx(a,{math:"\\Delta(G)"})," neighbors. These neighbors use at most"," ",e.jsx(a,{math:"\\Delta(G)"})," colors, so color"," ",e.jsx(a,{math:"\\Delta(G) + 1"})," is always available."]})})]})]}),e.jsxs(me,{title:"Optimal vs. Poor Orderings",children:[e.jsxs("p",{children:["Consider ",e.jsx(a,{math:"K_3"})," with vertices ",e.jsx(a,{math:"a, b, c"}),". Any ordering uses 3 colors (optimal)."]}),e.jsxs("p",{className:"mt-2",children:["Consider ",e.jsx(a,{math:"K_{3,3}"})," with parts"," ",e.jsx(a,{math:"\\{a, b, c\\}"})," and ",e.jsx(a,{math:"\\{x, y, z\\}"}),"."]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["Ordering ",e.jsx(a,{math:"a, b, c, x, y, z"}),": uses 2 colors (optimal)"]}),e.jsxs("li",{children:["Ordering ",e.jsx(a,{math:"a, x, b, y, c, z"}),": uses 3 colors (suboptimal)"]})]})]}),e.jsxs(te,{title:"Degeneracy",children:[e.jsxs("p",{children:["A graph ",e.jsx(a,{math:"G"})," is ",e.jsxs("strong",{children:[e.jsx(a,{math:"k"}),"-degenerate"]})," ","if every subgraph has a vertex of degree at most ",e.jsx(a,{math:"k"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"degeneracy"})," of ",e.jsx(a,{math:"G"})," is the minimum"," ",e.jsx(a,{math:"k"})," for which ",e.jsx(a,{math:"G"})," is"," ",e.jsx(a,{math:"k"}),"-degenerate."]})]}),e.jsxs(U,{title:"Theorem 5.1.9 (Degeneracy Bound)",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," is ",e.jsx(a,{math:"k"}),"-degenerate, then"," ",e.jsx(a,{math:"\\chi(G) \\leq k + 1"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["Order vertices by repeatedly removing a vertex of minimum degree. In this ordering, each vertex has at most ",e.jsx(a,{math:"k"})," earlier neighbors. Greedy coloring uses at most ",e.jsx(a,{math:"k + 1"})," colors."]})})]})]}),e.jsx("h2",{children:"Cliques and Chromatic Number"}),e.jsx(te,{title:"Clique Number",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"clique number"})," ",e.jsx(a,{math:"\\omega(G)"})," is the size of the largest clique (complete subgraph) in ",e.jsx(a,{math:"G"}),"."]})}),e.jsxs(U,{title:"Clique Lower Bound",children:[e.jsxs("p",{children:["For any graph ",e.jsx(a,{math:"G"}),":"]}),e.jsx(we,{math:"\\chi(G) \\geq \\omega(G)"}),e.jsx("p",{className:"mt-2 text-dark-300",children:"Vertices in a clique must all have different colors."})]}),e.jsxs(me,{title:"Gap Between  and ",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Mycielskian"})," construction produces triangle-free graphs (",e.jsx(a,{math:"\\omega = 2"}),") with arbitrarily large chromatic number."]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx(a,{math:"M_2 = K_2"}),": ",e.jsx(a,{math:"\\chi = 2"}),","," ",e.jsx(a,{math:"\\omega = 2"})]}),e.jsxs("li",{children:[e.jsx(a,{math:"M_3 = C_5"}),": ",e.jsx(a,{math:"\\chi = 3"}),","," ",e.jsx(a,{math:"\\omega = 2"})]}),e.jsxs("li",{children:[e.jsx(a,{math:"M_4"})," (Grtzsch graph): ",e.jsx(a,{math:"\\chi = 4"}),","," ",e.jsx(a,{math:"\\omega = 2"})]})]}),e.jsx("p",{className:"mt-2",children:"So the chromatic number can be arbitrarily larger than the clique number."})]}),e.jsx("h2",{children:"Brooks' Theorem"}),e.jsxs("p",{children:["The greedy bound ",e.jsx(a,{math:"\\chi(G) \\leq \\Delta(G) + 1"})," is achieved by complete graphs and odd cycles. Brooks' Theorem says these are the only cases."]}),e.jsxs(U,{title:"Brooks' Theorem (Theorem 5.1.22)",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," is a connected graph that is neither a complete graph nor an odd cycle, then:"]}),e.jsx(we,{math:"\\chi(G) \\leq \\Delta(G)"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Case 1:"})," ",e.jsx(a,{math:"G"})," is not regular. There exists a vertex ",e.jsx(a,{math:"v"})," with"," ",e.jsx(a,{math:"d(v) < \\Delta(G)"}),". Order vertices starting from the most distant from ",e.jsx(a,{math:"v"})," and ending at"," ",e.jsx(a,{math:"v"}),". Greedy coloring uses at most"," ",e.jsx(a,{math:"\\Delta(G)"})," colors."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Case 2:"})," ",e.jsx(a,{math:"G"})," is"," ",e.jsx(a,{math:"\\Delta"}),"-regular. If"," ",e.jsx(a,{math:"\\kappa(G) < \\Delta"}),", use a special ordering. If"," ",e.jsx(a,{math:"\\kappa(G) = \\Delta"}),", find non-adjacent vertices"," ",e.jsx(a,{math:"u, v"})," with a common neighbor"," ",e.jsx(a,{math:"w"}),". Color ",e.jsx(a,{math:"u, v"})," the same color first, then extend greedily."]})]})]})]}),e.jsx(me,{title:"Brooks' Theorem in Action",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(a,{math:"K_5"}),": ",e.jsx(a,{math:"\\Delta = 4"}),","," ",e.jsx(a,{math:"\\chi = 5 = \\Delta + 1"})," (complete graph exception)"]}),e.jsxs("li",{children:[e.jsx(a,{math:"C_7"}),": ",e.jsx(a,{math:"\\Delta = 2"}),","," ",e.jsx(a,{math:"\\chi = 3 = \\Delta + 1"})," (odd cycle exception)"]}),e.jsxs("li",{children:["Petersen graph: ",e.jsx(a,{math:"\\Delta = 3"}),","," ",e.jsx(a,{math:"\\chi = 3 = \\Delta"})," (Brooks applies)"]}),e.jsxs("li",{children:[e.jsx(a,{math:"K_{4,4}"}),": ",e.jsx(a,{math:"\\Delta = 4"}),","," ",e.jsx(a,{math:"\\chi = 2 \\ll \\Delta"})," (bipartite)"]})]})}),e.jsx("h2",{children:"Lower Bounds"}),e.jsxs(U,{title:"Independence Number Bound",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," has ",e.jsx(a,{math:"n"})," vertices and independence number ",e.jsx(a,{math:"\\alpha(G)"}),", then:"]}),e.jsx(we,{math:"\\chi(G) \\geq \\frac{n}{\\alpha(G)}"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["Each color class is an independent set, so has at most"," ",e.jsx(a,{math:"\\alpha(G)"})," vertices. To cover all"," ",e.jsx(a,{math:"n"})," vertices, we need at least"," ",e.jsx(a,{math:"n/\\alpha(G)"})," colors."]})})]})]}),e.jsxs(U,{title:"Szekeres-Wilf Theorem",children:[e.jsxs("p",{children:[e.jsx(a,{math:"\\chi(G) \\leq 1 + \\max_{H \\subseteq G} \\delta(H)"}),", where the maximum is over all induced subgraphs ",e.jsx(a,{math:"H"})," of"," ",e.jsx(a,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["This equals 1 + degeneracy of ",e.jsx(a,{math:"G"}),"."]})]}),e.jsx("h2",{children:"Interval Graphs"}),e.jsx(te,{title:"Interval Graph",children:e.jsxs("p",{children:["An ",e.jsx("strong",{children:"interval graph"})," is the intersection graph of a set of intervals on the real line. Vertices correspond to intervals; two vertices are adjacent iff their intervals intersect."]})}),e.jsxs(U,{title:"Theorem 5.1.21 (Interval Graph Coloring)",children:[e.jsxs("p",{children:["For interval graphs: ",e.jsx(a,{math:"\\chi(G) = \\omega(G)"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Process intervals left-to-right by left endpoint. When interval"," ",e.jsx(a,{math:"I"})," starts, assign it the smallest color not used by currently active (overlapping) intervals."]}),e.jsxs("p",{className:"mt-2",children:["If we need color ",e.jsx(a,{math:"k + 1"}),", then ",e.jsx(a,{math:"k"})," ","intervals are active and overlap with ",e.jsx(a,{math:"I"}),". Together with ",e.jsx(a,{math:"I"}),", these form a clique of size"," ",e.jsx(a,{math:"k + 1"}),". So"," ",e.jsx(a,{math:"\\chi(G) \\leq \\omega(G)"}),", and we already know"," ",e.jsx(a,{math:"\\chi(G) \\geq \\omega(G)"}),"."]})]})]})]}),e.jsxs(me,{title:"Scheduling with Interval Graphs",children:[e.jsx("p",{children:"A conference has talks with start and end times. How many rooms are needed? Model as an interval graph: talks are intervals, adjacent if they overlap."}),e.jsx("p",{className:"mt-2",children:"The chromatic number = rooms needed = maximum number of simultaneous talks."})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Chromatic Number:"})," Minimum colors for proper vertex coloring."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bounds:"})," ",e.jsx(a,{math:"\\omega(G) \\leq \\chi(G) \\leq \\Delta(G) + 1"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Brooks' Theorem:"})," ",e.jsx(a,{math:"\\chi(G) \\leq \\Delta(G)"})," unless ",e.jsx(a,{math:"G"})," is complete or an odd cycle."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Greedy Coloring:"})," Simple algorithm, quality depends on vertex ordering."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Degeneracy:"}),' Measure of "sparseness"; bounds chromatic number.']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Gap:"})," ",e.jsx(a,{math:"\\chi"})," can be arbitrarily larger than ",e.jsx(a,{math:"\\omega"})," (Mycielski construction)."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Interval Graphs:"})," ",e.jsx(a,{math:"\\chi = \\omega"})," always; arise in scheduling."]})]})]})}function Zz(){return e.jsxs(st,{sectionId:15,children:[e.jsx("p",{children:"What structure forces a graph to need many colors? The presence of a large clique is an obvious reason, but graphs can have high chromatic number without large cliques. We study extremal questions: how many edges can a graph have without containing certain subgraphs? Turn's Theorem answers this for complete subgraphs, and color-critical graphs reveal the minimal structures requiring a given number of colors."}),e.jsx("h2",{children:"Turn's Theorem"}),e.jsxs(te,{title:"Turn Graph",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Turn graph"})," ",e.jsx(a,{math:"T_{n,r}"})," is the complete ",e.jsx(a,{math:"r"}),"-partite graph on ",e.jsx(a,{math:"n"})," vertices with part sizes as equal as possible (differing by at most 1)."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(a,{math:"n = qr + s"})," where ",e.jsx(a,{math:"0 \\leq s < r"}),", then ",e.jsx(a,{math:"T_{n,r}"})," has ",e.jsx(a,{math:"s"})," parts of size"," ",e.jsx(a,{math:"q + 1"})," and ",e.jsx(a,{math:"r - s"})," parts of size"," ",e.jsx(a,{math:"q"}),"."]})]}),e.jsx(me,{title:"Turn Graphs",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(a,{math:"T_{6,2}"}),": two parts of 3 vertices ="," ",e.jsx(a,{math:"K_{3,3}"})," (9 edges)"]}),e.jsxs("li",{children:[e.jsx(a,{math:"T_{6,3}"}),": three parts of 2 vertices ="," ",e.jsx(a,{math:"K_{2,2,2}"})," (12 edges)"]}),e.jsxs("li",{children:[e.jsx(a,{math:"T_{7,3}"}),": parts of sizes 3, 2, 2 (15 edges)"]}),e.jsxs("li",{children:[e.jsx(a,{math:"T_{n,n-1}"}),": ",e.jsx(a,{math:"K_n"})," minus a perfect matching (if ",e.jsx(a,{math:"n"})," even)"]})]})}),e.jsxs(U,{title:"Turn's Theorem (Theorem 5.2.3)",children:[e.jsxs("p",{children:["Among ",e.jsx(a,{math:"n"}),"-vertex graphs with no"," ",e.jsx(a,{math:"K_{r+1}"})," subgraph, the unique graph with maximum edges is the Turn graph ",e.jsx(a,{math:"T_{n,r}"}),"."]}),e.jsx("p",{className:"mt-2",children:"The number of edges is:"}),e.jsx(we,{math:"e(T_{n,r}) = \\left(1 - \\frac{1}{r}\\right) \\frac{n^2}{2} - O(n)"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Step 1:"})," Among ",e.jsx(a,{math:"K_{r+1}"}),"-free graphs, complete multipartite graphs maximize edges (moving edges between non-adjacent vertices only helps)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Step 2:"})," A ",e.jsx(a,{math:"K_{r+1}"}),"-free complete multipartite graph has at most ",e.jsx(a,{math:"r"})," parts."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Step 3:"})," Among ",e.jsx(a,{math:"r"}),"-partite graphs, equal part sizes maximize edges (by convexity of"," ",e.jsx(a,{math:"x^2"}),")."]})]})]})]}),e.jsxs(U,{title:"Turn Edge Count (Corollary 5.2.4)",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," is ",e.jsx(a,{math:"K_{r+1}"}),"-free with"," ",e.jsx(a,{math:"n"})," vertices:"]}),e.jsx(we,{math:"e(G) \\leq \\left(1 - \\frac{1}{r}\\right) \\frac{n^2}{2}"})]}),e.jsxs(me,{title:"No Triangles",children:[e.jsxs("p",{children:["How many edges can an ",e.jsx(a,{math:"n"}),"-vertex triangle-free graph have?"]}),e.jsxs("p",{className:"mt-2",children:["By Turn (",e.jsx(a,{math:"r = 2"}),"):"," ",e.jsx(a,{math:"e(G) \\leq n^2/4"}),". The maximum is achieved by"," ",e.jsx(a,{math:"K_{\\lfloor n/2 \\rfloor, \\lceil n/2 \\rceil}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(a,{math:"n = 10"}),": at most 25 edges, achieved by"," ",e.jsx(a,{math:"K_{5,5}"}),"."]})]}),e.jsx("h2",{children:"Forbidding Subgraphs"}),e.jsx(te,{title:"Extremal Number",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"extremal number"})," ",e.jsx(a,{math:"ex(n, H)"})," is the maximum number of edges in an ",e.jsx(a,{math:"n"}),"-vertex graph containing no copy of ",e.jsx(a,{math:"H"})," as a subgraph."]})}),e.jsx(U,{title:"Turn Restated",children:e.jsx("p",{children:e.jsx(a,{math:"ex(n, K_{r+1}) = e(T_{n,r})"})})}),e.jsxs(U,{title:"Kvri-Ss-Turn (Theorem 5.2.7)",children:[e.jsxs("p",{children:["For ",e.jsx(a,{math:"r \\leq s"}),":"]}),e.jsx(we,{math:"ex(n, K_{r,s}) \\leq \\frac{1}{2}(s-1)^{1/r} n^{2-1/r} + \\frac{r-1}{2}n"}),e.jsxs("p",{className:"mt-2",children:["In particular, ",e.jsx(a,{math:"ex(n, K_{r,s}) = O(n^{2-1/r})"}),"."]})]}),e.jsxs(me,{title:"No K,",children:[e.jsxs("p",{children:[e.jsx(a,{math:"K_{2,2} = C_4"}),". By Kvri-Ss-Turn:"," ",e.jsx(a,{math:"ex(n, C_4) = O(n^{3/2})"}),"."]}),e.jsxs("p",{className:"mt-2",children:["More precisely,"," ",e.jsx(a,{math:"ex(n, C_4) \\leq \\frac{1}{2}(1 + \\sqrt{4n-3})"}),"."]}),e.jsx("p",{className:"mt-2",children:"Projective plane constructions show this is tight up to lower-order terms."})]}),e.jsx("h2",{children:"Color-Critical Graphs"}),e.jsxs(te,{title:"Color-Critical Graph",children:[e.jsxs("p",{children:["A graph ",e.jsx(a,{math:"G"})," is ",e.jsxs("strong",{children:[e.jsx(a,{math:"k"}),"-critical"]})," ","(or ",e.jsxs("strong",{children:[e.jsx(a,{math:"k"}),"-color-critical"]}),") if ",e.jsx(a,{math:"\\chi(G) = k"})," but"," ",e.jsx(a,{math:"\\chi(G - v) < k"})," for every vertex"," ",e.jsx(a,{math:"v"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Equivalently, ",e.jsx(a,{math:"G"})," is ",e.jsx(a,{math:"k"}),"-critical if"," ",e.jsx(a,{math:"\\chi(G) = k"})," and deleting any vertex decreases the chromatic number."]})]}),e.jsx(me,{title:"Critical Graphs",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(a,{math:"K_n"})," is ",e.jsx(a,{math:"n"}),"-critical"]}),e.jsxs("li",{children:["Odd cycles ",e.jsx(a,{math:"C_{2k+1}"})," are 3-critical"]}),e.jsx("li",{children:"The Grtzsch graph (11 vertices, 20 edges) is 4-critical and triangle-free"}),e.jsxs("li",{children:["The only 2-critical graph is ",e.jsx(a,{math:"K_2"})]})]})}),e.jsx(U,{title:"Properties of Critical Graphs",children:e.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:["Every ",e.jsx(a,{math:"k"}),"-chromatic graph contains a"," ",e.jsx(a,{math:"k"}),"-critical subgraph."]}),e.jsxs("li",{children:["A ",e.jsx(a,{math:"k"}),"-critical graph is"," ",e.jsx(a,{math:"(k-1)"}),"-edge-connected."]}),e.jsxs("li",{children:["Every vertex of a ",e.jsx(a,{math:"k"}),"-critical graph has degree at least ",e.jsx(a,{math:"k - 1"}),"."]})]})}),e.jsxs(U,{title:"Theorem 5.2.12 (Critical Graph Minimum Degree)",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," is ",e.jsx(a,{math:"k"}),"-critical, then"," ",e.jsx(a,{math:"\\delta(G) \\geq k - 1"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Let ",e.jsx(a,{math:"v"})," be a vertex of minimum degree. Since"," ",e.jsx(a,{math:"G"})," is ",e.jsx(a,{math:"k"}),"-critical,"," ",e.jsx(a,{math:"G - v"})," has a ",e.jsx(a,{math:"(k-1)"}),"-coloring."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(a,{math:"d(v) \\leq k - 2"}),", then ",e.jsx(a,{math:"v"})," has at most ",e.jsx(a,{math:"k - 2"})," neighbors, so some color from"," ",e.jsx(a,{math:"\\{1, \\ldots, k-1\\}"})," is not used by neighbors of"," ",e.jsx(a,{math:"v"}),". We could extend to a"," ",e.jsx(a,{math:"(k-1)"}),"-coloring of ",e.jsx(a,{math:"G"}),", contradiction."]})]})]})]}),e.jsxs(U,{title:"Dirac's Theorem on Critical Graphs (Theorem 5.2.14)",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," is ",e.jsx(a,{math:"k"}),"-critical with"," ",e.jsx(a,{math:"n"})," vertices, then:"]}),e.jsx(we,{math:"e(G) \\geq \\frac{(k-1)n - k + 3}{2}"}),e.jsxs("p",{className:"mt-2",children:["for ",e.jsx(a,{math:"k \\geq 4"}),"."]})]}),e.jsx("h2",{children:"Forcing Subdivisions"}),e.jsx(te,{title:"Subdivision",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"subdivision"})," of graph ",e.jsx(a,{math:"H"})," (or"," ",e.jsx(a,{math:"TH"}),', "topological ',e.jsx(a,{math:"H"}),'") is obtained by replacing edges with internally disjoint paths.']})}),e.jsx(U,{title:"Theorem 5.2.17 (Mader)",children:e.jsxs("p",{children:["Every graph ",e.jsx(a,{math:"G"})," with"," ",e.jsx(a,{math:"e(G) \\geq 2n - 3"})," (where"," ",e.jsx(a,{math:"n = |V(G)|"}),") contains a subdivision of"," ",e.jsx(a,{math:"K_4"}),"."]})}),e.jsxs(U,{title:"High Average Degree Forces Subdivision (Theorem 5.2.18)",children:[e.jsxs("p",{children:["For each ",e.jsx(a,{math:"k"}),", there exists a constant"," ",e.jsx(a,{math:"c_k"})," such that every graph with average degree at least"," ",e.jsx(a,{math:"c_k"})," contains a subdivision of"," ",e.jsx(a,{math:"K_k"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Mader proved ",e.jsx(a,{math:"c_k = 2^{k-2}"})," suffices. Bollobs and Thomason improved this to ",e.jsx(a,{math:"c_k = O(k^2)"}),"."]})]}),e.jsxs(U,{title:"Hajs Construction (Theorem 5.2.19)",children:[e.jsxs("p",{children:["Every ",e.jsx(a,{math:"k"}),"-chromatic graph contains a subdivision of"," ",e.jsx(a,{math:"K_k"}),"."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["This was conjectured by Hajs and proved to be false for large"," ",e.jsx(a,{math:"k"})," by Catlin (1979)."]})]}),e.jsx("h2",{children:"Minor-Based Characterizations"}),e.jsx(te,{title:"Minor",children:e.jsxs("p",{children:["Graph ",e.jsx(a,{math:"H"})," is a ",e.jsx("strong",{children:"minor"})," of"," ",e.jsx(a,{math:"G"})," (written ",e.jsx(a,{math:"H \\preceq G"}),") if"," ",e.jsx(a,{math:"H"})," can be obtained from ",e.jsx(a,{math:"G"})," by deleting vertices, deleting edges, and contracting edges."]})}),e.jsxs(U,{title:"Hadwiger's Conjecture",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"\\chi(G) \\geq k"}),", then ",e.jsx(a,{math:"G"})," has"," ",e.jsx(a,{math:"K_k"})," as a minor."]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx(a,{math:"k = 1, 2, 3"}),": Easy"]}),e.jsxs("li",{children:[e.jsx(a,{math:"k = 4"}),": Equivalent to planarity characterization"]}),e.jsxs("li",{children:[e.jsx(a,{math:"k = 5, 6"}),": Equivalent to the Four Color Theorem"]}),e.jsxs("li",{children:[e.jsx(a,{math:"k \\geq 7"}),": Open (major unsolved problem)"]})]})]}),e.jsx("h2",{children:"Chromatic Number vs. Density"}),e.jsx(te,{title:"Density",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"density"})," of graph ",e.jsx(a,{math:"G"})," is"," ",e.jsx(a,{math:"\\frac{e(G)}{\\binom{n}{2}}"}),", the fraction of possible edges present."]})}),e.jsxs(U,{title:"Dense Graphs Have Large Chromatic Number",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," has density greater than"," ",e.jsx(a,{math:"1 - \\frac{1}{r}"}),", then"," ",e.jsx(a,{math:"\\chi(G) > r"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["By Turn, a graph with density greater than"," ",e.jsx(a,{math:"1 - 1/r"})," must contain"," ",e.jsx(a,{math:"K_{r+1}"}),", so"," ",e.jsx(a,{math:"\\chi(G) \\geq r + 1"}),"."]})})]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Turn's Theorem:"})," Maximum"," ",e.jsx(a,{math:"K_{r+1}"}),"-free graph is the balanced complete"," ",e.jsx(a,{math:"r"}),"-partite graph."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Extremal Number:"})," ",e.jsx(a,{math:"ex(n, H)"})," = max edges avoiding ",e.jsx(a,{math:"H"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Color-Critical:"})," Graphs where every proper subgraph has smaller chromatic number."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Critical Properties:"})," ",e.jsx(a,{math:"\\delta(G) \\geq k - 1"})," and"," ",e.jsx(a,{math:"(k-1)"}),"-edge-connected."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"High Chromatic  Dense:"})," Large chromatic number forces many edges or specific structures."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Hadwiger's Conjecture:"})," Major open problem linking chromatic number to ",e.jsx(a,{math:"K_k"})," minors."]})]})]})}function Xz(){return e.jsxs(st,{sectionId:16,children:[e.jsxs("p",{children:["How many ways can we properly color a graph with ",e.jsx(a,{math:"k"})," colors? The answer is given by the chromatic polynomial, a powerful tool that encodes coloring information. We also study special graph classeschordal graphs and perfect graphswhere chromatic number equals clique number, providing a beautiful connection between local structure and global coloring properties."]}),e.jsx("h2",{children:"Chromatic Polynomials"}),e.jsxs(te,{title:"Chromatic Polynomial",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"chromatic polynomial"})," ",e.jsx(a,{math:"P(G, k)"})," (or ",e.jsx(a,{math:"\\chi(G, k)"}),") counts the number of proper ",e.jsx(a,{math:"k"}),"-colorings of graph"," ",e.jsx(a,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Remarkably, ",e.jsx(a,{math:"P(G, k)"})," is always a polynomial in"," ",e.jsx(a,{math:"k"}),"."]})]}),e.jsx(me,{title:"Basic Chromatic Polynomials",children:e.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[e.jsxs("li",{children:[e.jsxs("strong",{children:["Empty graph ",e.jsx(a,{math:"E_n"}),":"]})," ",e.jsx(a,{math:"P(E_n, k) = k^n"})," (each vertex can be any color)"]}),e.jsxs("li",{children:[e.jsxs("strong",{children:["Complete graph ",e.jsx(a,{math:"K_n"}),":"]})," ",e.jsx(a,{math:"P(K_n, k) = k(k-1)(k-2)\\cdots(k-n+1) = k^{\\underline{n}}"})]}),e.jsxs("li",{children:[e.jsxs("strong",{children:["Tree ",e.jsx(a,{math:"T_n"}),":"]})," ",e.jsx(a,{math:"P(T_n, k) = k(k-1)^{n-1}"})," (root has"," ",e.jsx(a,{math:"k"})," choices, each other vertex has"," ",e.jsx(a,{math:"k - 1"}),")"]}),e.jsxs("li",{children:[e.jsxs("strong",{children:["Cycle ",e.jsx(a,{math:"C_n"}),":"]})," ",e.jsx(a,{math:"P(C_n, k) = (k-1)^n + (-1)^n(k-1)"})]})]})}),e.jsxs(U,{title:"Deletion-Contraction (Theorem 5.3.1)",children:[e.jsxs("p",{children:["For any edge ",e.jsx(a,{math:"e = uv"})," of graph ",e.jsx(a,{math:"G"}),":"]}),e.jsx(we,{math:"P(G, k) = P(G - e, k) - P(G / e, k)"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(a,{math:"G - e"})," is edge deletion and"," ",e.jsx(a,{math:"G / e"})," is edge contraction."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx(a,{math:"P(G - e, k)"})," counts colorings where"," ",e.jsx(a,{math:"u, v"})," may have the same or different colors."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx(a,{math:"P(G / e, k)"})," counts colorings of"," ",e.jsx(a,{math:"G - e"})," where ",e.jsx(a,{math:"u, v"})," have the same color (they become one vertex after contraction)."]}),e.jsxs("p",{className:"mt-2",children:["Subtracting gives colorings of ",e.jsx(a,{math:"G - e"})," where"," ",e.jsx(a,{math:"u, v"})," have different colors = proper colorings of"," ",e.jsx(a,{math:"G"}),"."]})]})]})]}),e.jsxs(me,{title:"Computing P(C, k)",children:[e.jsx("p",{children:"Label vertices 1, 2, 3, 4 in order around the cycle."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Method 1:"})," Apply deletion-contraction on edge 1-4:"]}),e.jsx(we,{math:"P(C_4, k) = P(P_4, k) - P(C_3, k)"}),e.jsx("p",{children:e.jsx(a,{math:"= k(k-1)^3 - k(k-1)(k-2)"})}),e.jsx("p",{children:e.jsx(a,{math:"= k(k-1)[(k-1)^2 - (k-2)]"})}),e.jsx("p",{children:e.jsx(a,{math:"= k(k-1)(k^2 - 3k + 3)"})}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(a,{math:"k = 3"}),": ",e.jsx(a,{math:"P(C_4, 3) = 18"})," ","proper 3-colorings."]})]}),e.jsxs(U,{title:"Properties of Chromatic Polynomials (Theorem 5.3.5)",children:[e.jsxs("p",{children:["For a connected graph ",e.jsx(a,{math:"G"})," with ",e.jsx(a,{math:"n"})," ","vertices and ",e.jsx(a,{math:"m"})," edges:"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(a,{math:"P(G, k)"})," is a monic polynomial of degree"," ",e.jsx(a,{math:"n"}),"."]}),e.jsxs("li",{children:["The coefficient of ",e.jsx(a,{math:"k^{n-1}"})," is"," ",e.jsx(a,{math:"-m"}),"."]}),e.jsx("li",{children:"All coefficients are integers with alternating signs."}),e.jsx("li",{children:"The constant term is 0 (no proper 0-colorings)."}),e.jsxs("li",{children:[e.jsx(a,{math:"\\chi(G)"})," is the smallest positive integer"," ",e.jsx(a,{math:"k"})," with ",e.jsx(a,{math:"P(G, k) > 0"}),"."]})]})]}),e.jsx("h2",{children:"Chordal Graphs"}),e.jsx(te,{title:"Chordal Graph",children:e.jsxs("p",{children:["A graph is ",e.jsx("strong",{children:"chordal"})," (or ",e.jsx("strong",{children:"triangulated"}),") if every cycle of length at least 4 has a ",e.jsx("strong",{children:"chord"}),": an edge joining two non-consecutive vertices on the cycle."]})}),e.jsxs(me,{title:"Chordal and Non-Chordal Graphs",children:[e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Chordal:"})," Trees, complete graphs, interval graphs, split graphs"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Not chordal:"})," ",e.jsx(a,{math:"C_n"})," for"," ",e.jsx(a,{math:"n \\geq 4"}),", grid graphs, Petersen graph"]})]}),e.jsxs("p",{className:"mt-2",children:["The cycle ",e.jsx(a,{math:"C_4"})," is the smallest non-chordal graph."]})]}),e.jsx(te,{title:"Simplicial Vertex",children:e.jsxs("p",{children:["A vertex ",e.jsx(a,{math:"v"})," is ",e.jsx("strong",{children:"simplicial"})," if its neighborhood ",e.jsx(a,{math:"N(v)"})," induces a clique."]})}),e.jsx(te,{title:"Perfect Elimination Order",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"perfect elimination order"})," (PEO) is an ordering"," ",e.jsx(a,{math:"v_1, v_2, \\ldots, v_n"})," such that for each"," ",e.jsx(a,{math:"i"}),", vertex ",e.jsx(a,{math:"v_i"})," is simplicial in the induced subgraph ",e.jsx(a,{math:"G[\\{v_i, v_{i+1}, \\ldots, v_n\\}]"}),"."]})}),e.jsxs(U,{title:"Chordal Characterization (Theorem 5.3.15)",children:[e.jsxs("p",{children:["A graph ",e.jsx(a,{math:"G"})," is chordal if and only if"," ",e.jsx(a,{math:"G"})," has a perfect elimination order."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"()"})," Every chordal graph has a simplicial vertex. Remove it and repeat inductively."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"()"})," If there's a chordless cycle, follow it through the ordering to find a contradiction with the PEO property."]})]})]})]}),e.jsxs(U,{title:"Theorem 5.3.16 (Greedy Coloring of Chordal Graphs)",children:[e.jsxs("p",{children:["For a chordal graph ",e.jsx(a,{math:"G"}),", greedy coloring using the reverse of any PEO is optimal:"]}),e.jsx(we,{math:"\\chi(G) = \\omega(G)"})]}),e.jsxs(me,{title:"Coloring a Chordal Graph",children:[e.jsxs("p",{children:["Consider a graph with vertices"," ",e.jsx(a,{math:"\\{a, b, c, d\\}"})," and edges forming a triangle"," ",e.jsx(a,{math:"abc"})," plus edge ",e.jsx(a,{math:"cd"}),"."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"PEO:"})," ",e.jsx(a,{math:"d, a, b, c"})," (each simplicial when removed)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Reverse order:"})," ",e.jsx(a,{math:"c, b, a, d"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Greedy coloring: ",e.jsx(a,{math:"c \\to 1"}),","," ",e.jsx(a,{math:"b \\to 2"}),", ",e.jsx(a,{math:"a \\to 3"}),","," ",e.jsx(a,{math:"d \\to 2"}),". Uses 3 colors = clique number (the triangle)."]})]}),e.jsx("h2",{children:"Perfect Graphs"}),e.jsxs(te,{title:"Perfect Graph",children:[e.jsxs("p",{children:["A graph ",e.jsx(a,{math:"G"})," is ",e.jsx("strong",{children:"perfect"})," if for every induced subgraph ",e.jsx(a,{math:"H"})," of ",e.jsx(a,{math:"G"}),":"]}),e.jsx(we,{math:"\\chi(H) = \\omega(H)"}),e.jsx("p",{className:"mt-2",children:"That is, the chromatic number equals the clique number for every induced subgraph."})]}),e.jsx(me,{title:"Perfect and Imperfect Graphs",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Perfect:"})," Bipartite graphs, chordal graphs, interval graphs, comparability graphs, co-comparability graphs"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Not perfect:"})," ",e.jsx(a,{math:"C_5"})," (has"," ",e.jsx(a,{math:"\\omega = 2"})," but ",e.jsx(a,{math:"\\chi = 3"}),")"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Not perfect:"})," ",e.jsx(a,{math:"C_7"})," (has"," ",e.jsx(a,{math:"\\omega = 2"})," but ",e.jsx(a,{math:"\\chi = 3"}),")"]})]})}),e.jsx(U,{title:"Perfect Graph Theorem (Lovsz, 1972)",children:e.jsxs("p",{children:["A graph ",e.jsx(a,{math:"G"})," is perfect if and only if its complement"," ",e.jsx(a,{math:"\\overline{G}"})," is perfect."]})}),e.jsxs(U,{title:"Strong Perfect Graph Theorem (Chudnovsky et al., 2006)",children:[e.jsxs("p",{children:["A graph ",e.jsx(a,{math:"G"})," is perfect if and only if neither"," ",e.jsx(a,{math:"G"})," nor ",e.jsx(a,{math:"\\overline{G}"})," contains an induced odd cycle of length at least 5."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["The forbidden induced subgraphs are ",e.jsx(a,{math:"C_{2k+1}"})," and"," ",e.jsx(a,{math:"\\overline{C_{2k+1}}"})," for ",e.jsx(a,{math:"k \\geq 2"}),". This was conjectured by Berge in 1961 and proved in 2002 (published 2006)."]})]}),e.jsxs(te,{title:"Odd Hole and Odd Antihole",children:[e.jsxs("p",{children:["An ",e.jsx("strong",{children:"odd hole"})," is an induced cycle"," ",e.jsx(a,{math:"C_{2k+1}"})," for ",e.jsx(a,{math:"k \\geq 2"}),"."]}),e.jsxs("p",{className:"mt-2",children:["An ",e.jsx("strong",{children:"odd antihole"})," is the complement of an odd hole:"," ",e.jsx(a,{math:"\\overline{C_{2k+1}}"})," for ",e.jsx(a,{math:"k \\geq 2"}),"."]})]}),e.jsxs(me,{title:"Why C and C Are Imperfect",children:[e.jsxs("p",{children:[e.jsxs("strong",{children:[e.jsx(a,{math:"C_5"}),":"]})," ",e.jsx(a,{math:"\\omega(C_5) = 2"})," (no triangle),"," ",e.jsx(a,{math:"\\chi(C_5) = 3"})," (odd cycle)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:[e.jsx(a,{math:"\\overline{C_5}"}),":"]})," ","This is also ",e.jsx(a,{math:"C_5"})," (self-complementary)!"]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(a,{math:"C_7"}),": ",e.jsx(a,{math:"\\omega = 2"}),","," ",e.jsx(a,{math:"\\chi = 3"}),". For ",e.jsx(a,{math:"\\overline{C_7}"}),":"," ",e.jsx(a,{math:"\\omega = 3"}),", ",e.jsx(a,{math:"\\chi = 4"}),"."]})]}),e.jsx("h2",{children:"Applications"}),e.jsx("h3",{children:"Clique Cover Number"}),e.jsx(te,{title:"Clique Cover",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"clique cover"})," of graph ",e.jsx(a,{math:"G"})," is a partition of ",e.jsx(a,{math:"V(G)"})," into cliques. The"," ",e.jsx("strong",{children:"clique cover number"})," ",e.jsx(a,{math:"\\theta(G)"})," is the minimum number of cliques needed."]})}),e.jsxs(U,{title:"Clique Cover and Chromatic Number",children:[e.jsxs("p",{children:[e.jsx(a,{math:"\\theta(G) = \\chi(\\overline{G})"})," and"," ",e.jsx(a,{math:"\\omega(G) = \\alpha(\\overline{G})"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For perfect graphs:"," ",e.jsx(a,{math:"\\theta(G) = \\alpha(G)"})," (since"," ",e.jsx(a,{math:"\\chi(\\overline{G}) = \\omega(\\overline{G}) = \\alpha(G)"}),")."]})]}),e.jsx("h3",{children:"Shannon Capacity"}),e.jsxs(te,{title:"Shannon Capacity",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Shannon capacity"})," of graph ",e.jsx(a,{math:"G"})," is:"]}),e.jsx(we,{math:"\\Theta(G) = \\sup_k \\sqrt[k]{\\alpha(G^k)}"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(a,{math:"G^k"})," is the ",e.jsx(a,{math:"k"}),"-th power under the strong graph product."]}),e.jsx("p",{className:"mt-2",children:"This measures the zero-error capacity of a communication channel."})]}),e.jsxs(U,{title:"Shannon Capacity Bounds",children:[e.jsx("p",{children:e.jsx(a,{math:"\\alpha(G) \\leq \\Theta(G) \\leq \\chi(\\overline{G})"})}),e.jsxs("p",{className:"mt-2",children:["For perfect graphs: ",e.jsx(a,{math:"\\Theta(G) = \\alpha(G)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Lovsz (1979) proved ",e.jsx(a,{math:"\\Theta(C_5) = \\sqrt{5}"}),' using the "Lovsz theta function."']})]}),e.jsx("h2",{children:"Recognizing Perfect Graphs"}),e.jsxs(U,{title:"Polynomial Recognition",children:[e.jsx("p",{children:"Perfect graphs can be recognized in polynomial time (Chudnovsky et al., 2005)."}),e.jsx("p",{className:"mt-2",children:"The algorithm checks for odd holes and odd antiholes, both of which can be detected in polynomial time."})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Chromatic Polynomial:"})," ",e.jsx(a,{math:"P(G, k)"})," counts proper ",e.jsx(a,{math:"k"}),"-colorings. Computed via deletion-contraction."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Chordal Graphs:"})," No induced cycles 4. Have perfect elimination orders. ",e.jsx(a,{math:"\\chi = \\omega"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Perfect Graphs:"})," ",e.jsx(a,{math:"\\chi(H) = \\omega(H)"})," ","for all induced subgraphs ",e.jsx(a,{math:"H"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Perfect Graph Theorem:"})," ",e.jsx(a,{math:"G"})," perfect iff"," ",e.jsx(a,{math:"\\overline{G}"})," perfect."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Strong Perfect Graph Theorem:"})," Perfect iff no induced"," ",e.jsx(a,{math:"C_{2k+1}"})," or ",e.jsx(a,{math:"\\overline{C_{2k+1}}"})," ","for ",e.jsx(a,{math:"k \\geq 2"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Examples:"})," Bipartite, chordal, interval, comparability graphs are all perfect."]})]})]})}function Yz(){return e.jsxs(st,{sectionId:17,children:[e.jsx("p",{children:"Can a graph be drawn in the plane without edge crossings? This question about planar graphs connects graph theory to topology and has practical applications in circuit design and geographic mapping. Euler's formula relates the number of vertices, edges, and faces in any planar drawing, providing a powerful tool for proving impossibility results."}),e.jsx("h2",{children:"Planar Graphs and Embeddings"}),e.jsxs(te,{title:"Planar Graph",children:[e.jsxs("p",{children:["A graph ",e.jsx(a,{math:"G"})," is ",e.jsx("strong",{children:"planar"})," if it can be drawn in the plane ",e.jsx(a,{math:"\\mathbb{R}^2"})," such that:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsx("li",{children:"Vertices are distinct points"}),e.jsx("li",{children:"Edges are curves connecting their endpoints"}),e.jsx("li",{children:"Edges do not cross (except at shared endpoints)"})]}),e.jsxs("p",{className:"mt-2",children:["Such a drawing is called a ",e.jsx("strong",{children:"planar embedding"})," or"," ",e.jsx("strong",{children:"plane graph"}),"."]})]}),e.jsxs(me,{title:"Planar and Non-Planar Graphs",children:[e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Planar:"})," ",e.jsx(a,{math:"K_4"}),", all trees, all cycles,"," ",e.jsx(a,{math:"K_{2,n}"})," for any ",e.jsx(a,{math:"n"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Non-planar:"})," ",e.jsx(a,{math:"K_5"}),","," ",e.jsx(a,{math:"K_{3,3}"}),", Petersen graph"]})]}),e.jsx("p",{className:"mt-2",children:"A planar graph may have many different planar embeddings."})]}),e.jsxs(te,{title:"Faces",children:[e.jsxs("p",{children:["In a plane graph, the ",e.jsx("strong",{children:"faces"})," are the maximal connected regions of ",e.jsx(a,{math:"\\mathbb{R}^2 - G"})," (the plane minus the drawing)."]}),e.jsxs("p",{className:"mt-2",children:["Every plane graph has exactly one unbounded face called the"," ",e.jsx("strong",{children:"outer face"})," or ",e.jsx("strong",{children:"infinite face"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"boundary"})," of a face is the set of edges (and vertices) adjacent to it. A face is ",e.jsx("strong",{children:"incident"})," to the edges and vertices on its boundary."]})]}),e.jsxs(me,{title:"Faces of K",children:[e.jsxs("p",{children:["Draw ",e.jsx(a,{math:"K_4"})," as a triangle with one vertex inside."]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsx("li",{children:"4 faces: 3 small triangles + 1 outer face"}),e.jsx("li",{children:"Each triangular face is bounded by 3 edges"}),e.jsx("li",{children:"The outer face is bounded by the outer triangle"})]})]}),e.jsx(Cz,{className:"my-8"}),e.jsx("h2",{children:"Euler's Formula"}),e.jsxs(U,{title:"Euler's Formula (Theorem 6.1.21)",children:[e.jsxs("p",{children:["For a connected plane graph ",e.jsx(a,{math:"G"})," with ",e.jsx(a,{math:"n"})," ","vertices, ",e.jsx(a,{math:"m"})," edges, and ",e.jsx(a,{math:"f"})," faces:"]}),e.jsx(we,{math:"n - m + f = 2"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Base case:"})," A tree has ",e.jsx(a,{math:"n"})," vertices,"," ",e.jsx(a,{math:"n - 1"})," edges, and 1 face."," ",e.jsx(a,{math:"n - (n-1) + 1 = 2"}),". "]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Inductive step:"})," If ",e.jsx(a,{math:"G"})," is not a tree, it has a cycle. Let ",e.jsx(a,{math:"e"})," be an edge on a cycle. Removing"," ",e.jsx(a,{math:"e"})," merges two faces into one."]}),e.jsxs("p",{className:"mt-2",children:["By induction on ",e.jsx(a,{math:"G - e"}),":"," ",e.jsx(a,{math:"n - (m-1) + (f-1) = 2"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(a,{math:"G"}),":"," ",e.jsx(a,{math:"n - m + f = n - (m-1) - 1 + (f-1) + 1 = 2"}),". "]})]})]})]}),e.jsx(me,{title:"Verifying Euler's Formula",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(a,{math:"K_4"}),": ",e.jsx(a,{math:"n = 4"}),","," ",e.jsx(a,{math:"m = 6"}),", ",e.jsx(a,{math:"f = 4"}),"."," ",e.jsx(a,{math:"4 - 6 + 4 = 2"})," "]}),e.jsxs("li",{children:[e.jsx(a,{math:"C_n"}),": ",e.jsx(a,{math:"n"})," vertices,"," ",e.jsx(a,{math:"n"})," edges, 2 faces."," ",e.jsx(a,{math:"n - n + 2 = 2"})," "]}),e.jsxs("li",{children:["Cube graph: ",e.jsx(a,{math:"n = 8"}),", ",e.jsx(a,{math:"m = 12"}),","," ",e.jsx(a,{math:"f = 6"}),". ",e.jsx(a,{math:"8 - 12 + 6 = 2"})," "]})]})}),e.jsxs(U,{title:"Corollary 6.1.22 (Edge Bound for Planar Graphs)",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," is a simple planar graph with"," ",e.jsx(a,{math:"n \\geq 3"})," vertices:"]}),e.jsx(we,{math:"m \\leq 3n - 6"}),e.jsxs("p",{className:"mt-2",children:["Equality holds if and only if every face is a triangle (a"," ",e.jsx("strong",{children:"maximal planar graph"})," or ",e.jsx("strong",{children:"triangulation"}),")."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsx("p",{children:"Each face is bounded by at least 3 edges. Counting edge-face incidences:"}),e.jsx(we,{math:"\\sum_{\\text{faces}} (\\text{boundary length}) \\geq 3f"}),e.jsxs("p",{className:"mt-2",children:["Each edge borders at most 2 faces, so the sum is at most"," ",e.jsx(a,{math:"2m"}),". Thus ",e.jsx(a,{math:"2m \\geq 3f"}),", giving"," ",e.jsx(a,{math:"f \\leq 2m/3"}),"."]}),e.jsxs("p",{className:"mt-2",children:["By Euler: ",e.jsx(a,{math:"2 = n - m + f \\leq n - m + 2m/3 = n - m/3"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Therefore ",e.jsx(a,{math:"m \\leq 3n - 6"}),"."]})]})]})]}),e.jsxs(U,{title:"K is Non-Planar (Corollary 6.1.23)",children:[e.jsxs("p",{children:[e.jsx(a,{math:"K_5"})," is not planar."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx(a,{math:"K_5"})," has ",e.jsx(a,{math:"n = 5"})," vertices and"," ",e.jsx(a,{math:"m = 10"})," edges."]}),e.jsxs("p",{className:"mt-2",children:["But ",e.jsx(a,{math:"3n - 6 = 3(5) - 6 = 9 < 10 = m"}),"."]}),e.jsxs("p",{className:"mt-2",children:["So ",e.jsx(a,{math:"K_5"})," violates the edge bound and cannot be planar."]})]})]})]}),e.jsxs(U,{title:"Corollary 6.1.24 (Triangle-Free Bound)",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," is a simple, triangle-free, planar graph with"," ",e.jsx(a,{math:"n \\geq 3"}),":"]}),e.jsx(we,{math:"m \\leq 2n - 4"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["With no triangles, each face is bounded by at least 4 edges. The same counting argument gives ",e.jsx(a,{math:"2m \\geq 4f"}),", so"," ",e.jsx(a,{math:"f \\leq m/2"}),"."]}),e.jsxs("p",{className:"mt-2",children:["By Euler: ",e.jsx(a,{math:"2 = n - m + f \\leq n - m + m/2 = n - m/2"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Therefore ",e.jsx(a,{math:"m \\leq 2n - 4"}),"."]})]})]})]}),e.jsxs(U,{title:"K, is Non-Planar (Corollary 6.1.25)",children:[e.jsxs("p",{children:[e.jsx(a,{math:"K_{3,3}"})," is not planar."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx(a,{math:"K_{3,3}"})," is bipartite, hence triangle-free. It has"," ",e.jsx(a,{math:"n = 6"})," and ",e.jsx(a,{math:"m = 9"}),"."]}),e.jsxs("p",{className:"mt-2",children:["But ",e.jsx(a,{math:"2n - 4 = 2(6) - 4 = 8 < 9 = m"}),"."]})]})]})]}),e.jsx("h2",{children:"The Dual Graph"}),e.jsxs(te,{title:"Dual Graph",children:[e.jsxs("p",{children:["Given a plane graph ",e.jsx(a,{math:"G"}),", its ",e.jsx("strong",{children:"dual"})," ",e.jsx(a,{math:"G^*"})," is constructed by:"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside",children:[e.jsxs("li",{children:["Place one vertex of ",e.jsx(a,{math:"G^*"})," in each face of ",e.jsx(a,{math:"G"})]}),e.jsxs("li",{children:["For each edge ",e.jsx(a,{math:"e"})," of ",e.jsx(a,{math:"G"}),", draw an edge of ",e.jsx(a,{math:"G^*"})," crossing ",e.jsx(a,{math:"e"})," and connecting the vertices in the two faces incident to ",e.jsx(a,{math:"e"})]})]})]}),e.jsx(me,{title:"Duals of Simple Graphs",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:["The dual of ",e.jsx(a,{math:"C_n"})," is ",e.jsx(a,{math:"C_n"})," ","(self-dual in a specific embedding)"]}),e.jsx("li",{children:"The dual of a tree is a single vertex (1 face)"}),e.jsxs("li",{children:["The dual of the tetrahedron graph (",e.jsx(a,{math:"K_4"}),") is"," ",e.jsx(a,{math:"K_4"})]}),e.jsx("li",{children:"The dual of the cube graph is the octahedron graph"})]})}),e.jsx(U,{title:"Properties of Duals (Theorem 6.1.15)",children:e.jsxs("ol",{className:"list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(a,{math:"(G^*)^* = G"})," (for connected ",e.jsx(a,{math:"G"}),")"]}),e.jsxs("li",{children:[e.jsx(a,{math:"G^*"})," is connected iff ",e.jsx(a,{math:"G"})," is connected"]}),e.jsxs("li",{children:[e.jsx(a,{math:"|V(G^*)| = f(G)"}),","," ",e.jsx(a,{math:"|E(G^*)| = |E(G)|"}),","," ",e.jsx(a,{math:"f(G^*) = |V(G)|"})]}),e.jsxs("li",{children:["Cycles in ",e.jsx(a,{math:"G"})," correspond to edge cuts (bonds) in"," ",e.jsx(a,{math:"G^*"})]})]})}),e.jsx("h2",{children:"Platonic Solids"}),e.jsx(te,{title:"Platonic Solid",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"Platonic solid"})," is a convex polyhedron where every face is the same regular polygon and the same number of faces meet at each vertex."]})}),e.jsxs(U,{title:"Only Five Platonic Solids (Theorem 6.1.28)",children:[e.jsx("p",{children:"There are exactly five Platonic solids:"}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Tetrahedron:"})," 4 triangular faces, 4 vertices, 6 edges"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Cube:"})," 6 square faces, 8 vertices, 12 edges"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Octahedron:"})," 8 triangular faces, 6 vertices, 12 edges"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Dodecahedron:"})," 12 pentagonal faces, 20 vertices, 30 edges"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Icosahedron:"})," 20 triangular faces, 12 vertices, 30 edges"]})]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Let each face be a regular ",e.jsx(a,{math:"p"}),"-gon and let"," ",e.jsx(a,{math:"q"})," faces meet at each vertex. Then"," ",e.jsx(a,{math:"p, q \\geq 3"}),"."]}),e.jsxs("p",{className:"mt-2",children:["By Euler and counting: ",e.jsx(a,{math:"\\frac{1}{p} + \\frac{1}{q} > \\frac{1}{2}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The only solutions with ",e.jsx(a,{math:"p, q \\geq 3"})," are:"," ",e.jsx(a,{math:"(3,3), (3,4), (4,3), (3,5), (5,3)"}),"."]})]})]})]}),e.jsx("h2",{children:"Outerplanar Graphs"}),e.jsx(te,{title:"Outerplanar Graph",children:e.jsxs("p",{children:["A graph is ",e.jsx("strong",{children:"outerplanar"})," if it has a planar embedding where all vertices lie on the outer face."]})}),e.jsxs(U,{title:"Outerplanar Characterization (Theorem 6.1.31)",children:[e.jsxs("p",{children:["A graph is outerplanar if and only if it has no ",e.jsx(a,{math:"K_4"})," or"," ",e.jsx(a,{math:"K_{2,3}"})," minor."]}),e.jsx("p",{className:"mt-2",children:"Equivalently: outerplanar graphs are exactly the graphs embeddable on the plane with all vertices on a single face."})]}),e.jsxs(U,{title:"Theorem 6.1.30 (Outerplanar Edge Bound)",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," is a simple outerplanar graph with"," ",e.jsx(a,{math:"n \\geq 2"})," vertices:"]}),e.jsx(we,{math:"m \\leq 2n - 3"})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Planar:"})," Can be drawn without edge crossings."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Euler's Formula:"})," ",e.jsx(a,{math:"n - m + f = 2"})," for connected plane graphs."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Edge Bounds:"})," ",e.jsx(a,{math:"m \\leq 3n - 6"})," for planar;"," ",e.jsx(a,{math:"m \\leq 2n - 4"})," if triangle-free."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Non-Planar:"})," ",e.jsx(a,{math:"K_5"})," and"," ",e.jsx(a,{math:"K_{3,3}"})," are the key non-planar graphs."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Dual Graph:"})," Vertices  faces; cycles  cuts."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Platonic Solids:"})," Only 5 exist, proved using Euler's formula."]})]})]})}function Wz(){return e.jsxs(st,{sectionId:18,children:[e.jsxs("p",{children:["When is a graph planar? We've seen that ",e.jsx(a,{math:"K_5"})," and"," ",e.jsx(a,{math:"K_{3,3}"}),` are non-planar. Kuratowski's remarkable theorem states that these are the only "essential" obstructionsa graph is planar if and only if it contains no subdivision of `,e.jsx(a,{math:"K_5"})," or"," ",e.jsx(a,{math:"K_{3,3}"}),". We also study efficient algorithms for testing planarity."]}),e.jsx("h2",{children:"Subdivisions and Minors"}),e.jsxs(te,{title:"Subdivision",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"subdivision"})," of graph ",e.jsx(a,{math:"H"})," is a graph obtained by replacing each edge of ",e.jsx(a,{math:"H"})," with a path of length at least 1."]}),e.jsxs("p",{className:"mt-2",children:["The vertices of ",e.jsx(a,{math:"H"})," are called"," ",e.jsx("strong",{children:"branch vertices"}),"; the new vertices on the paths are"," ",e.jsx("strong",{children:"subdivision vertices"}),"."]}),e.jsxs("p",{className:"mt-2",children:["We write ",e.jsx(a,{math:"TH"})," for a subdivision of ",e.jsx(a,{math:"H"})," ",'(T for "topological").']})]}),e.jsxs(me,{title:"Subdivisions of K",children:[e.jsxs("p",{children:[e.jsx(a,{math:"K_4"})," has 4 vertices and 6 edges. A subdivision of"," ",e.jsx(a,{math:"K_4"})," might replace each edge with a path of length 2, giving a graph with ",e.jsx(a,{math:"4 + 6 = 10"})," vertices and 12 edges."]}),e.jsxs("p",{className:"mt-2",children:["Any graph containing ",e.jsx(a,{math:"TK_4"}),' as a subgraph is "at least as complicated" as ',e.jsx(a,{math:"K_4"}),"."]})]}),e.jsxs(te,{title:"Minor",children:[e.jsxs("p",{children:["Graph ",e.jsx(a,{math:"H"})," is a ",e.jsx("strong",{children:"minor"})," of"," ",e.jsx(a,{math:"G"})," (written ",e.jsx(a,{math:"H \\preceq G"}),") if"," ",e.jsx(a,{math:"H"})," can be obtained from a subgraph of"," ",e.jsx(a,{math:"G"})," by contracting edges."]}),e.jsxs("p",{className:"mt-2",children:["Equivalently: we can assign each vertex of ",e.jsx(a,{math:"H"})," to a connected subgraph of ",e.jsx(a,{math:"G"})," (called a"," ",e.jsx("strong",{children:"branch set"}),"), with branch sets pairwise disjoint, such that for each edge of ",e.jsx(a,{math:"H"}),", there's an edge of"," ",e.jsx(a,{math:"G"})," between the corresponding branch sets."]})]}),e.jsxs(U,{title:"Lemma 6.2.2 (Subdivision implies Minor)",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," contains a subdivision of ",e.jsx(a,{math:"H"}),", then ",e.jsx(a,{math:"H"})," is a minor of ",e.jsx(a,{math:"G"}),"."]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"The converse is false for graphs with vertices of high degree."})]}),e.jsx("h2",{children:"Kuratowski's Theorem"}),e.jsxs(U,{title:"Kuratowski's Theorem (Theorem 6.2.3)",children:[e.jsxs("p",{children:["A graph ",e.jsx(a,{math:"G"})," is planar if and only if"," ",e.jsx(a,{math:"G"})," contains no subdivision of ",e.jsx(a,{math:"K_5"})," ","or ",e.jsx(a,{math:"K_{3,3}"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch (Necessity)"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Necessity:"})," Subdivisions preserve non-planarity. Since"," ",e.jsx(a,{math:"K_5"})," and ",e.jsx(a,{math:"K_{3,3}"})," are non-planar, so is any graph containing their subdivisions."]})})]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch (Sufficiency)"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Sufficiency:"})," Prove by induction on"," ",e.jsx(a,{math:"n + m"}),". Consider a non-planar graph"," ",e.jsx(a,{math:"G"})," with no ",e.jsx(a,{math:"TK_5"})," or"," ",e.jsx(a,{math:"TK_{3,3}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(a,{math:"G"})," has a cut vertex or is 1-edge-connected, reduce to smaller pieces. For 2-connected ",e.jsx(a,{math:"G"}),", analyze Tutte's wheel theorem and structure of 3-connected graphs to show"," ",e.jsx(a,{math:"TK_5"})," or ",e.jsx(a,{math:"TK_{3,3}"})," must exist."]})]})]})]}),e.jsx(te,{title:"Kuratowski Subgraph",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"Kuratowski subgraph"})," of ",e.jsx(a,{math:"G"})," is a subgraph that is a subdivision of ",e.jsx(a,{math:"K_5"})," or"," ",e.jsx(a,{math:"K_{3,3}"}),"."]})}),e.jsxs(me,{title:"Finding a Kuratowski Subgraph",children:[e.jsxs("p",{children:["The Petersen graph is non-planar. It contains ",e.jsx(a,{math:"TK_{3,3}"}),":"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsx("li",{children:"One partite set: vertices 0, 1, 2 (outer pentagon vertices at positions 0, 144, 288)"}),e.jsx("li",{children:"Other partite set: vertices 5, 6, 7 (inner star vertices opposite to 0, 1, 2)"}),e.jsx("li",{children:"Paths of length 2 connect these via the other vertices"})]})]}),e.jsx("h2",{children:"Wagner's Theorem (Minor Version)"}),e.jsx(U,{title:"Wagner's Theorem (Theorem 6.2.5)",children:e.jsxs("p",{children:["A graph ",e.jsx(a,{math:"G"})," is planar if and only if"," ",e.jsx(a,{math:"G"})," has neither ",e.jsx(a,{math:"K_5"})," nor"," ",e.jsx(a,{math:"K_{3,3}"})," as a minor."]})}),e.jsx("p",{children:"Wagner's formulation using minors is often more convenient because minors are closed under edge contraction, which subdivisions are not."}),e.jsxs(me,{title:"K vs K Minor",children:[e.jsxs("p",{children:["Adding a degree-2 vertex to ",e.jsx(a,{math:"K_5"})," gives"," ",e.jsx(a,{math:"TK_5"}),". This graph has ",e.jsx(a,{math:"K_5"})," as a minor (contract the added vertex) but is not isomorphic to"," ",e.jsx(a,{math:"K_5"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Wagner's theorem says: contract edges to find ",e.jsx(a,{math:"K_5"})," or"," ",e.jsx(a,{math:"K_{3,3}"})," as a minor."]})]}),e.jsx("h2",{children:"Testing Planarity"}),e.jsx("p",{children:"Kuratowski's theorem gives a characterization but doesn't immediately yield an efficient algorithm. Several linear-time planarity testing algorithms exist."}),e.jsxs(U,{title:"Linear-Time Planarity Testing",children:[e.jsxs("p",{children:["Planarity can be tested in ",e.jsx(a,{math:"O(n)"})," time."]}),e.jsx("p",{className:"mt-2",children:"Key algorithms:"}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Hopcroft-Tarjan (1974):"})," Path addition method using DFS"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Lempel-Even-Cederbaum / PQ-trees (1976):"})," Vertex addition with PQ-tree data structure"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Boyer-Myrvold (2004):"})," Simplified edge addition method"]})]})]}),e.jsx("h3",{children:"Planarity Testing Overview"}),e.jsxs(te,{title:"Path Addition Method",children:[e.jsx("p",{children:"The Hopcroft-Tarjan algorithm builds an embedding incrementally:"}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"Compute a DFS tree and find the fundamental cycles."}),e.jsx("li",{children:"Add paths one at a time, maintaining a planar embedding."}),e.jsx("li",{children:"At each step, determine which side of the current drawing a new path must go."}),e.jsx("li",{children:"If no valid placement exists, the graph is non-planar."})]})]}),e.jsxs(te,{title:"Vertex Addition Method",children:[e.jsx("p",{children:"Process vertices in order (e.g., by a special numbering):"}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"Maintain a representation of all planar embeddings of the graph seen so far."}),e.jsx("li",{children:"When adding a new vertex, determine if it can be placed consistently."}),e.jsx("li",{children:"Use PQ-trees to efficiently represent and manipulate the valid orderings."})]})]}),e.jsx("h2",{children:"Properties of Planar Graphs"}),e.jsxs(U,{title:"Every Planar Graph has a Small-Degree Vertex",children:[e.jsx("p",{children:"Every simple planar graph has a vertex of degree at most 5."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["By ",e.jsx(a,{math:"m \\leq 3n - 6"}),":"," ",e.jsx(a,{math:"2m \\leq 6n - 12"}),", so"," ",e.jsx(a,{math:"\\sum d(v) = 2m < 6n"}),"."]}),e.jsxs("p",{className:"mt-2",children:["By averaging, some vertex has degree"," ",e.jsx(a,{math:"< 6"}),", hence ",e.jsx(a,{math:"\\leq 5"}),"."]})]})]})]}),e.jsxs(U,{title:"6-Colorability (Corollary)",children:[e.jsx("p",{children:"Every planar graph is 6-colorable."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["Induct on ",e.jsx(a,{math:"n"}),". Remove a vertex ",e.jsx(a,{math:"v"})," ","of degree 5. By induction, ",e.jsx(a,{math:"G - v"})," is 6-colorable. Since ",e.jsx(a,{math:"v"})," has at most 5 neighbors, some color is available for ",e.jsx(a,{math:"v"}),"."]})})]})]}),e.jsx("h2",{children:"Convex Embeddings"}),e.jsx(te,{title:"Convex Embedding",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"convex embedding"})," of a planar graph is a planar drawing where every face (including the outer face) is a convex polygon."]})}),e.jsxs(U,{title:"Tutte's Barycentric Embedding (Theorem 6.2.9)",children:[e.jsx("p",{children:"Every 3-connected planar graph has a convex embedding (with any face chosen as the outer face)."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Method:"})," Fix the outer face as a convex polygon. Place each interior vertex at the barycenter (average) of its neighbors' positions. The result is a convex embedding."]})]}),e.jsx("h2",{children:"Unique Embeddings"}),e.jsxs(U,{title:"Whitney's Theorem (Theorem 6.2.11)",children:[e.jsx("p",{children:"A 3-connected planar graph has a unique embedding on the sphere (up to homeomorphism)."}),e.jsx("p",{className:"mt-2 text-dark-300",children:'"Unique" means the cyclic orderings of edges around each vertex are the same in any two embeddings (up to global reflection).'})]}),e.jsxs(me,{title:"Non-Unique Embedding",children:[e.jsxs("p",{children:["A cycle ",e.jsx(a,{math:"C_n"})," is only 2-connected. Its faces can be interchanged: what was inside becomes outside. This gives different embeddings in the plane (though the same on the sphere up to reflection)."]}),e.jsx("p",{className:"mt-2",children:"A graph with a cut-vertex has many embeddings: the parts can be rotated independently around the cut-vertex."})]}),e.jsx("h2",{children:"Planarity and Minors"}),e.jsxs(U,{title:"Robertson-Seymour Graph Minor Theorem",children:[e.jsxs("p",{children:["In any infinite sequence of graphs ",e.jsx(a,{math:"G_1, G_2, G_3, \\ldots"}),", some ",e.jsx(a,{math:"G_i"})," is a minor of some ",e.jsx(a,{math:"G_j"})," ","with ",e.jsx(a,{math:"i < j"}),"."]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"This deep theorem implies that any minor-closed class of graphs (like planar graphs) can be characterized by a finite set of forbidden minors."})]}),e.jsxs("p",{children:["Wagner's theorem states that planar graphs are exactly those with no"," ",e.jsx(a,{math:"K_5"})," or ",e.jsx(a,{math:"K_{3,3}"})," minor. By Robertson-Seymour, such finite characterizations exist for many other graph classes (though the forbidden sets may be large)."]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Kuratowski's Theorem:"})," ",e.jsx(a,{math:"G"})," is planar iff it contains no ",e.jsx(a,{math:"TK_5"})," or ",e.jsx(a,{math:"TK_{3,3}"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Wagner's Theorem:"})," ",e.jsx(a,{math:"G"})," is planar iff it has no ",e.jsx(a,{math:"K_5"})," or ",e.jsx(a,{math:"K_{3,3}"})," minor."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Linear-Time Testing:"})," Planarity can be tested in"," ",e.jsx(a,{math:"O(n)"})," time (Hopcroft-Tarjan, Boyer-Myrvold)."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Degree Bound:"})," Every planar graph has"," ",e.jsx(a,{math:"\\delta \\leq 5"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"3-Connected:"})," Have unique spherical embeddings and admit convex drawings."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Robertson-Seymour:"})," Any minor-closed property has finite forbidden minors."]})]})]})}function Qz(){return e.jsxs(st,{sectionId:19,children:[e.jsx("p",{children:'Planar graphs have special coloring propertiesmost famously, the Four Color Theorem. We also explore "how far from planar" a graph is through the crossing number and thickness. Finally, we consider embeddings on surfaces of higher genus, generalizing planarity to toruses and other surfaces.'}),e.jsx("h2",{children:"Coloring Planar Graphs"}),e.jsxs(U,{title:"Five Color Theorem (Theorem 6.3.1)",children:[e.jsx("p",{children:"Every planar graph is 5-colorable."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof (Kempe's Argument)"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Induct on ",e.jsx(a,{math:"n"}),". Let ",e.jsx(a,{math:"v"})," be a vertex of degree at most 5 (exists in any planar graph)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Case 1:"})," ",e.jsx(a,{math:"d(v) \\leq 4"}),". By induction,"," ",e.jsx(a,{math:"G - v"})," is 5-colorable. At most 4 colors used by neighbors of ",e.jsx(a,{math:"v"}),", so one color is available."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Case 2:"})," ",e.jsx(a,{math:"d(v) = 5"})," and all 5 colors used by neighbors. Consider two non-adjacent neighbors (exist since they don't form ",e.jsx(a,{math:"K_5"}),"). Use Kempe chains: paths alternating between two colors. Recolor along a Kempe chain to free a color for"," ",e.jsx(a,{math:"v"}),"."]})]})]})]}),e.jsxs(U,{title:"Four Color Theorem (Theorem 6.3.2)",children:[e.jsx("p",{children:"Every planar graph is 4-colorable."}),e.jsx("p",{className:"mt-2 text-dark-300",children:'Conjectured by Guthrie (1852). "Proved" by Kempe (1879), error found by Heawood (1890). First correct proof by Appel and Haken (1976) using computers to check ~2000 cases. Simplified proofs since (Robertson et al. 1997, Gonthier 2005 formal verification).'})]}),e.jsxs(me,{title:"Graphs Requiring 4 Colors",children:[e.jsxs("p",{children:[e.jsx(a,{math:"K_4"})," requires exactly 4 colors. Any planar graph containing ",e.jsx(a,{math:"K_4"})," (like the tetrahedron or wheel"," ",e.jsx(a,{math:"W_4"}),") needs 4 colors."]}),e.jsxs("p",{className:"mt-2",children:["The dodecahedron graph also requires 4 colors, though it contains no"," ",e.jsx(a,{math:"K_4"})," (it's triangle-free!). This shows"," ",e.jsx(a,{math:"\\chi = 4"})," doesn't require ",e.jsx(a,{math:"\\omega = 4"}),"."]})]}),e.jsxs(U,{title:"Grtzsch's Theorem (Theorem 6.3.5)",children:[e.jsx("p",{children:"Every triangle-free planar graph is 3-colorable."}),e.jsx("p",{className:"mt-2 text-dark-300",children:"This strengthens the Four Color Theorem for triangle-free graphs."})]}),e.jsx("h2",{children:"List Coloring"}),e.jsxs(te,{title:"List Coloring",children:[e.jsxs("p",{children:["Given a graph ",e.jsx(a,{math:"G"})," and a list ",e.jsx(a,{math:"L(v)"})," of available colors for each vertex ",e.jsx(a,{math:"v"}),", a"," ",e.jsx("strong",{children:"list coloring"})," (or ",e.jsxs("strong",{children:[e.jsx(a,{math:"L"}),"-coloring"]}),") assigns each vertex a color from its list such that adjacent vertices get different colors."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"choosability"})," (or ",e.jsx("strong",{children:"list chromatic number"}),")"," ",e.jsx(a,{math:"\\text{ch}(G)"})," is the minimum ",e.jsx(a,{math:"k"})," such that ",e.jsx(a,{math:"G"})," has an ",e.jsx(a,{math:"L"}),"-coloring whenever all lists have size at least ",e.jsx(a,{math:"k"}),"."]})]}),e.jsx(U,{title:"Thomassen's Theorem (Theorem 6.3.9)",children:e.jsxs("p",{children:["Every planar graph is 5-choosable:"," ",e.jsx(a,{math:"\\text{ch}(G) \\leq 5"})," for planar ",e.jsx(a,{math:"G"}),"."]})}),e.jsxs(me,{title:"Choosability vs. Chromatic Number",children:[e.jsxs("p",{children:[e.jsx(a,{math:"K_{2,4}"})," has ",e.jsx(a,{math:"\\chi = 2"})," but"," ",e.jsx(a,{math:"\\text{ch} = 3"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Give vertices in one part lists ",e.jsx(a,{math:"\\{1, 2\\}"})," and"," ",e.jsx(a,{math:"\\{3, 4\\}"}),". Give vertices in the other part lists"," ",e.jsx(a,{math:"\\{1, 3\\}"}),", ",e.jsx(a,{math:"\\{1, 4\\}"}),","," ",e.jsx(a,{math:"\\{2, 3\\}"}),", ",e.jsx(a,{math:"\\{2, 4\\}"}),". No valid list coloring exists with these size-2 lists."]})]}),e.jsx("h2",{children:"Crossing Number"}),e.jsxs(te,{title:"Crossing Number",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"crossing number"})," ",e.jsx(a,{math:"\\text{cr}(G)"})," is the minimum number of edge crossings in any drawing of ",e.jsx(a,{math:"G"})," in the plane."]}),e.jsxs("p",{className:"mt-2",children:["A graph is planar iff ",e.jsx(a,{math:"\\text{cr}(G) = 0"}),"."]})]}),e.jsxs(U,{title:"Crossing Number Lower Bound (Theorem 6.3.18)",children:[e.jsxs("p",{children:["For ",e.jsx(a,{math:"m > 7n"}),":"]}),e.jsx(we,{math:"\\text{cr}(G) \\geq \\frac{m^3}{64n^2}"})]}),e.jsxs(me,{title:"Crossing Numbers",children:[e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:e.jsx(a,{math:"\\text{cr}(K_5) = 1"})}),e.jsx("li",{children:e.jsx(a,{math:"\\text{cr}(K_6) = 3"})}),e.jsx("li",{children:e.jsx(a,{math:"\\text{cr}(K_{3,3}) = 1"})}),e.jsx("li",{children:e.jsx(a,{math:"\\text{cr}(K_{4,4}) = 4"})}),e.jsx("li",{children:e.jsx(a,{math:"\\text{cr}(\\text{Petersen}) = 2"})})]}),e.jsx("p",{className:"mt-2",children:"Computing crossing number is NP-complete in general, but polynomial for bounded crossing number."})]}),e.jsx("h3",{children:"Conjectures on Complete Graphs"}),e.jsxs(te,{title:"Zarankiewicz Crossing Number Conjecture",children:[e.jsx("p",{children:"For complete bipartite graphs:"}),e.jsx(we,{math:"\\text{cr}(K_{m,n}) = \\left\\lfloor \\frac{m}{2} \\right\\rfloor \\left\\lfloor \\frac{m-1}{2} \\right\\rfloor \\left\\lfloor \\frac{n}{2} \\right\\rfloor \\left\\lfloor \\frac{n-1}{2} \\right\\rfloor"}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["Known to be an upper bound. Proven for ",e.jsx(a,{math:"m \\leq 6"}),"."]})]}),e.jsxs(te,{title:"Guy's Crossing Number Conjecture",children:[e.jsx("p",{children:"For complete graphs:"}),e.jsx(we,{math:"\\text{cr}(K_n) = \\frac{1}{4} \\left\\lfloor \\frac{n}{2} \\right\\rfloor \\left\\lfloor \\frac{n-1}{2} \\right\\rfloor \\left\\lfloor \\frac{n-2}{2} \\right\\rfloor \\left\\lfloor \\frac{n-3}{2} \\right\\rfloor"}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["Known to be an upper bound. Proven for ",e.jsx(a,{math:"n \\leq 12"}),"."]})]}),e.jsx("h2",{children:"Thickness"}),e.jsxs(te,{title:"Thickness",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"thickness"})," ",e.jsx(a,{math:"\\text{th}(G)"})," is the minimum number of planar subgraphs whose union is ",e.jsx(a,{math:"G"}),"."]}),e.jsxs("p",{className:"mt-2",children:["A graph is planar iff ",e.jsx(a,{math:"\\text{th}(G) = 1"}),"."]})]}),e.jsx(me,{title:"Thickness of Complete Graphs",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(a,{math:"\\text{th}(K_4) = 1"})," (planar)"]}),e.jsx("li",{children:e.jsx(a,{math:"\\text{th}(K_5) = 2"})}),e.jsx("li",{children:e.jsx(a,{math:"\\text{th}(K_8) = 2"})}),e.jsx("li",{children:e.jsx(a,{math:"\\text{th}(K_9) = 3"})}),e.jsxs("li",{children:[e.jsx(a,{math:"\\text{th}(K_n) = \\left\\lceil \\frac{n + 7}{6} \\right\\rceil"})," ","for ",e.jsx(a,{math:"n \\geq 3"})," except"," ",e.jsx(a,{math:"\\text{th}(K_9) = \\text{th}(K_{10}) = 3"})]})]})}),e.jsxs(U,{title:"Thickness Lower Bound",children:[e.jsxs("p",{children:[e.jsx(a,{math:"\\text{th}(G) \\geq \\lceil m / (3n - 6) \\rceil"})," for"," ",e.jsx(a,{math:"n \\geq 3"}),"."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["Each planar subgraph has at most ",e.jsx(a,{math:"3n - 6"})," edges."]})]}),e.jsx("h2",{children:"Higher Genus Surfaces"}),e.jsxs(te,{title:"Genus",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"genus"})," ",e.jsx(a,{math:"\\gamma(G)"})," of a graph is the minimum genus of a surface on which ",e.jsx(a,{math:"G"})," can be embedded without crossings."]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsx("li",{children:"Genus 0: Sphere (equivalent to plane for embedding)"}),e.jsx("li",{children:"Genus 1: Torus (donut shape)"}),e.jsxs("li",{children:["Genus ",e.jsx(a,{math:"g"}),": Sphere with ",e.jsx(a,{math:"g"})," handles"]})]}),e.jsxs("p",{className:"mt-2",children:[e.jsx(a,{math:"\\gamma(G) = 0"})," iff ",e.jsx(a,{math:"G"})," is planar."]})]}),e.jsxs(U,{title:"Euler's Formula for Higher Genus (Theorem 6.3.26)",children:[e.jsxs("p",{children:["For a graph embedded on a surface of genus ",e.jsx(a,{math:"g"}),":"]}),e.jsx(we,{math:"n - m + f = 2 - 2g"}),e.jsxs("p",{className:"mt-2",children:["The quantity ",e.jsx(a,{math:"2 - 2g"})," is the ",e.jsx("strong",{children:"Euler characteristic"})," ","of the surface."]})]}),e.jsx(me,{title:"Genus of Complete Graphs",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(a,{math:"\\gamma(K_n) = \\left\\lceil \\frac{(n-3)(n-4)}{12} \\right\\rceil"})," ","for ",e.jsx(a,{math:"n \\geq 3"})]}),e.jsxs("li",{children:[e.jsx(a,{math:"\\gamma(K_5) = 1"})," (embeds on torus)"]}),e.jsxs("li",{children:[e.jsx(a,{math:"\\gamma(K_7) = 1"})," (embeds on torus)"]}),e.jsx("li",{children:e.jsx(a,{math:"\\gamma(K_8) = 2"})})]})}),e.jsxs(U,{title:"Heawood's Formula (Theorem 6.3.28)",children:[e.jsxs("p",{children:["For a surface of genus ",e.jsx(a,{math:"g \\geq 1"}),", the maximum chromatic number of graphs embeddable on that surface is:"]}),e.jsx(we,{math:"H(g) = \\left\\lfloor \\frac{7 + \\sqrt{1 + 48g}}{2} \\right\\rfloor"}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["This is an upper bound (Heawood 1890) that was proved tight for all"," ",e.jsx(a,{math:"g \\geq 1"})," (Ringel-Youngs 1968)."]})]}),e.jsxs(me,{title:"Heawood Numbers",children:[e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:["Genus 0 (plane): ",e.jsx(a,{math:"H(0) = 4"})," (Four Color Theorem)"]}),e.jsxs("li",{children:["Genus 1 (torus): ",e.jsx(a,{math:"H(1) = 7"})]}),e.jsxs("li",{children:["Genus 2: ",e.jsx(a,{math:"H(2) = 8"})]}),e.jsxs("li",{children:["Genus 3: ",e.jsx(a,{math:"H(3) = 9"})]})]}),e.jsxs("p",{className:"mt-2",children:[e.jsx(a,{math:"K_7"})," embeds on the torus and needs 7 colors."]})]}),e.jsx("h2",{children:"Map Coloring"}),e.jsx("p",{children:"The original motivation for the Four Color Theorem was map coloring: can any map be colored with 4 colors such that adjacent countries have different colors?"}),e.jsxs(te,{title:"Map and Dual Graph",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"map"})," is a partition of a surface into connected regions (countries). The ",e.jsx("strong",{children:"dual graph"})," has one vertex per country and an edge between countries sharing a border."]}),e.jsx("p",{className:"mt-2",children:"Coloring the map is equivalent to coloring the dual graph."})]}),e.jsxs(U,{title:"Map Coloring Connection",children:[e.jsx("p",{children:"For maps on surfaces:"}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Sphere/plane:"})," 4 colors suffice (Four Color Theorem)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Torus:"})," 7 colors suffice and are sometimes needed"]}),e.jsxs("li",{children:[e.jsxs("strong",{children:["Genus ",e.jsx(a,{math:"g"}),":"]})," ",e.jsx(a,{math:"H(g)"})," colors suffice"]})]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Four Color Theorem:"})," Every planar graph is 4-colorable."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Five Color Theorem:"})," Simpler proof using Kempe chains."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Grtzsch:"})," Triangle-free planar graphs are 3-colorable."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Choosability:"})," Planar graphs are 5-choosable."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Crossing Number:"})," Minimum crossings in any drawing."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Thickness:"})," Minimum planar subgraphs covering all edges."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Genus:"})," Minimum surface genus for crossing-free embedding. Euler: ",e.jsx(a,{math:"n - m + f = 2 - 2g"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Heawood:"})," Maximum chromatic number on genus-",e.jsx(a,{math:"g"})," surfaces."]})]})]})}function Jz(){return e.jsxs(st,{sectionId:20,children:[e.jsx("p",{children:"Instead of coloring vertices, we can color edgesassigning colors to edges such that edges sharing a vertex have different colors. This models problems like scheduling rounds of games or assigning time slots. Vizing's remarkable theorem shows that edge coloring needs at most one more color than the obvious lower bound. We also study line graphs, which transform edge problems into vertex problems."}),e.jsx("h2",{children:"Edge Coloring"}),e.jsxs(te,{title:"Edge Coloring and Edge Chromatic Number",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"proper edge coloring"})," (or ",e.jsx("strong",{children:"edge coloring"}),") of a graph ",e.jsx(a,{math:"G"})," assigns colors to edges such that edges sharing an endpoint have different colors."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"edge chromatic number"})," (or ",e.jsx("strong",{children:"chromatic index"}),")"," ",e.jsx(a,{math:"\\chi'(G)"})," is the minimum number of colors needed."]})]}),e.jsx(me,{title:"Edge Chromatic Numbers",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(a,{math:"\\chi'(K_n) = n - 1"})," if ",e.jsx(a,{math:"n"})," is even,"," ",e.jsx(a,{math:"n"})," if ",e.jsx(a,{math:"n"})," is odd"]}),e.jsx("li",{children:e.jsx(a,{math:"\\chi'(K_{n,n}) = n"})}),e.jsxs("li",{children:[e.jsx(a,{math:"\\chi'(C_n) = 2"})," if ",e.jsx(a,{math:"n"})," is even,"," ",e.jsx(a,{math:"3"})," if odd"]}),e.jsx("li",{children:e.jsx(a,{math:"\\chi'(\\text{Petersen}) = 4"})})]})}),e.jsxs(U,{title:"Lower Bound",children:[e.jsxs("p",{children:[e.jsx(a,{math:"\\chi'(G) \\geq \\Delta(G)"})," for every graph"," ",e.jsx(a,{math:"G"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["At any vertex ",e.jsx(a,{math:"v"})," of degree ",e.jsx(a,{math:"d(v)"}),", all ",e.jsx(a,{math:"d(v)"})," incident edges need different colors. Thus"," ",e.jsx(a,{math:"\\chi'(G) \\geq \\max_v d(v) = \\Delta(G)"}),"."]})})]})]}),e.jsx("h2",{children:"Vizing's Theorem"}),e.jsxs(U,{title:"Vizing's Theorem (Theorem 7.1.1)",children:[e.jsxs("p",{children:["For any simple graph ",e.jsx(a,{math:"G"}),":"]}),e.jsx(we,{math:"\\Delta(G) \\leq \\chi'(G) \\leq \\Delta(G) + 1"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["The lower bound is obvious. For the upper bound, color edges greedily. When an edge ",e.jsx(a,{math:"e = uv"})," can't be colored with"," ",e.jsx(a,{math:"\\Delta"}),' colors, use "Vizing fan" argument: construct alternating paths of colors (Kempe chains for edges) to recolor and make room for ',e.jsx(a,{math:"e"}),"."]})})]})]}),e.jsxs(te,{title:"Class 1 and Class 2",children:[e.jsxs("p",{children:["A graph is ",e.jsx("strong",{children:"Class 1"})," if"," ",e.jsx(a,{math:"\\chi'(G) = \\Delta(G)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["A graph is ",e.jsx("strong",{children:"Class 2"})," if"," ",e.jsx(a,{math:"\\chi'(G) = \\Delta(G) + 1"}),"."]})]}),e.jsx(me,{title:"Classification Examples",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Class 1:"})," All bipartite graphs, ",e.jsx(a,{math:"K_{2n}"}),", most planar graphs"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Class 2:"})," ",e.jsx(a,{math:"K_{2n+1}"}),","," ",e.jsx(a,{math:"C_{2n+1}"}),", Petersen graph"]})]})}),e.jsxs(U,{title:"Knig's Edge Coloring Theorem (Theorem 7.1.4)",children:[e.jsxs("p",{children:["Every bipartite graph is Class 1:"," ",e.jsx(a,{math:"\\chi'(G) = \\Delta(G)"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["Induct on ",e.jsx(a,{math:"m"}),". Given a ",e.jsx(a,{math:"\\Delta"}),"-edge-coloring of ",e.jsx(a,{math:"G - e"}),", extend to"," ",e.jsx(a,{math:"G"})," using Kempe chains of alternating colors. Since"," ",e.jsx(a,{math:"G"})," is bipartite, chains don't form odd cycles, so recoloring works."]})})]})]}),e.jsx("h2",{children:"Line Graphs"}),e.jsxs(te,{title:"Line Graph",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"line graph"})," ",e.jsx(a,{math:"L(G)"})," of graph"," ",e.jsx(a,{math:"G"})," has:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["Vertices: edges of ",e.jsx(a,{math:"G"})]}),e.jsxs("li",{children:["Edges: two vertices of ",e.jsx(a,{math:"L(G)"})," are adjacent iff the corresponding edges of ",e.jsx(a,{math:"G"})," share an endpoint"]})]})]}),e.jsx(me,{title:"Line Graph Examples",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(a,{math:"L(K_n) = T(n)"}),", the triangular graph (vertices are 2-subsets of ",e.jsx(a,{math:"[n]"}),", adjacent if they intersect)"]}),e.jsxs("li",{children:[e.jsx(a,{math:"L(K_{m,n}) = K_m \\square K_n"})," (Cartesian product)"]}),e.jsx("li",{children:e.jsx(a,{math:"L(C_n) = C_n"})}),e.jsx("li",{children:e.jsx(a,{math:"L(P_n) = P_{n-1}"})})]})}),e.jsxs(U,{title:"Edge Coloring via Line Graphs",children:[e.jsx("p",{children:e.jsx(a,{math:"\\chi'(G) = \\chi(L(G))"})}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["Edge coloring of ",e.jsx(a,{math:"G"})," = vertex coloring of"," ",e.jsx(a,{math:"L(G)"}),"."]})]}),e.jsxs(U,{title:"Line Graph Clique Number",children:[e.jsx("p",{children:e.jsx(a,{math:"\\omega(L(G)) = \\max(\\Delta(G), \\omega'(G))"})}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(a,{math:"\\omega'(G)"})," is the maximum number of edges pairwise sharing endpoints (triangle gives 3 mutually adjacent edges)."]})]}),e.jsx("h3",{children:"Characterizing Line Graphs"}),e.jsxs(U,{title:"Beineke's Characterization (Theorem 7.1.16)",children:[e.jsxs("p",{children:["A graph ",e.jsx(a,{math:"H"})," is a line graph if and only if"," ",e.jsx(a,{math:"H"})," has none of the nine forbidden induced subgraphs shown in Beineke's list."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["The forbidden graphs include ",e.jsx(a,{math:"K_{1,3}"})," (claw) and eight others."]})]}),e.jsxs(te,{title:"Claw-Free Graph",children:[e.jsxs("p",{children:["A graph is ",e.jsx("strong",{children:"claw-free"})," if it contains no induced"," ",e.jsx(a,{math:"K_{1,3}"}),"."]}),e.jsx("p",{className:"mt-2",children:"Every line graph is claw-free, but not conversely."})]}),e.jsx("h2",{children:"Multigraph Edge Coloring"}),e.jsx(te,{title:"Multigraph Edge Chromatic Number",children:e.jsxs("p",{children:["For multigraphs, ",e.jsx(a,{math:"\\chi'(G)"})," can exceed"," ",e.jsx(a,{math:"\\Delta(G) + 1"}),". The ",e.jsx("strong",{children:"multiplicity"})," ",e.jsx(a,{math:"\\mu(G)"})," is the maximum number of parallel edges between any pair of vertices."]})}),e.jsxs(U,{title:"Shannon's Theorem (Theorem 7.1.10)",children:[e.jsxs("p",{children:["For any multigraph ",e.jsx(a,{math:"G"}),":"]}),e.jsx(we,{math:"\\chi'(G) \\leq \\left\\lfloor \\frac{3\\Delta(G)}{2} \\right\\rfloor"})]}),e.jsx(U,{title:"Vizing's Theorem for Multigraphs",children:e.jsx("p",{children:e.jsx(a,{math:"\\chi'(G) \\leq \\Delta(G) + \\mu(G)"})})}),e.jsx("h2",{children:"Edge Coloring Algorithms"}),e.jsx(U,{title:"Misra-Gries Algorithm",children:e.jsxs("p",{children:["A ",e.jsx(a,{math:"(\\Delta + 1)"}),"-edge-coloring can be computed in"," ",e.jsx(a,{math:"O(mn)"})," time using Vizing fan rotations."]})}),e.jsxs(U,{title:"Complexity of Optimal Edge Coloring",children:[e.jsxs("p",{children:["Determining whether a graph is Class 1 (i.e., whether"," ",e.jsx(a,{math:"\\chi' = \\Delta"}),") is NP-complete even for 3-regular graphs."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["However, for bipartite graphs, a ",e.jsx(a,{math:"\\Delta"}),"-edge-coloring can be found in polynomial time."]})]}),e.jsx("h2",{children:"Applications"}),e.jsx("h3",{children:"Round-Robin Tournaments"}),e.jsxs(me,{title:"Scheduling Tournaments",children:[e.jsxs("p",{children:["In a round-robin tournament with ",e.jsx(a,{math:"n"})," teams, each team plays every other team once. Model as ",e.jsx(a,{math:"K_n"}),": vertices are teams, edges are games."]}),e.jsxs("p",{className:"mt-2",children:["An edge coloring assigns rounds: all games of one color happen in one round."," ",e.jsx(a,{math:"\\chi'(K_n)"})," = minimum rounds needed."]}),e.jsxs("p",{className:"mt-2",children:["For ",e.jsx(a,{math:"n"})," even: ",e.jsx(a,{math:"n - 1"})," rounds suffice. For ",e.jsx(a,{math:"n"})," odd: ",e.jsx(a,{math:"n"})," rounds needed (one team has a bye each round)."]})]}),e.jsx("h3",{children:"Frequency Assignment"}),e.jsx(me,{title:"Radio Frequency Assignment",children:e.jsx("p",{children:"Transmitters that might interfere are connected by edges. Edge colors represent time slots or frequencies. An edge coloring ensures non-interfering transmission schedules."})}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Edge Chromatic Number:"})," ",e.jsx(a,{math:"\\chi'(G)"})," = minimum colors for proper edge coloring."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Vizing's Theorem:"})," ",e.jsx(a,{math:"\\Delta(G) \\leq \\chi'(G) \\leq \\Delta(G) + 1"})," for simple graphs."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Class 1 vs Class 2:"})," Class 1 achieves lower bound; Class 2 needs extra color."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Knig:"})," Bipartite graphs are Class 1."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Line Graph:"})," ",e.jsx(a,{math:"L(G)"})," converts edges to vertices; ",e.jsx(a,{math:"\\chi'(G) = \\chi(L(G))"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Multigraphs:"})," ",e.jsx(a,{math:"\\chi' \\leq \\Delta + \\mu"})," and"," ",e.jsx(a,{math:"\\chi' \\leq 3\\Delta/2"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Complexity:"})," Deciding Class 1 is NP-complete, but"," ",e.jsx(a,{math:"(\\Delta + 1)"}),"-coloring is polynomial."]})]})]})}function eI(){return e.jsxs(st,{sectionId:21,children:[e.jsx("p",{children:"A Hamiltonian cycle visits every vertex exactly once and returns to startthe graph-theoretic version of the Traveling Salesman Problem. Unlike Eulerian circuits (which we characterized completely), there is no simple criterion for Hamiltonian cycles. We study sufficient conditions that guarantee existence and necessary conditions for specific graph families."}),e.jsx("h2",{children:"Hamiltonian Graphs"}),e.jsxs(te,{title:"Hamiltonian Path and Cycle",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"Hamiltonian path"})," is a path that visits every vertex exactly once."]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"Hamiltonian cycle"})," is a cycle that visits every vertex exactly once."]}),e.jsxs("p",{className:"mt-2",children:["A graph is ",e.jsx("strong",{children:"Hamiltonian"})," if it has a Hamiltonian cycle."]})]}),e.jsx(me,{title:"Hamiltonian and Non-Hamiltonian Graphs",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Hamiltonian:"})," ",e.jsx(a,{math:"K_n"})," (",e.jsx(a,{math:"n \\geq 3"}),"), ",e.jsx(a,{math:"C_n"}),","," ",e.jsx(a,{math:"K_{n,n}"})," (",e.jsx(a,{math:"n \\geq 2"}),"), cube graph, dodecahedron"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Non-Hamiltonian:"})," ",e.jsx(a,{math:"K_{m,n}"})," (",e.jsx(a,{math:"m \\neq n"}),"), Petersen graph, any graph with a cut-vertex, bipartite graphs with unequal parts"]})]})}),e.jsx($z,{className:"my-8"}),e.jsx("h2",{children:"Necessary Conditions"}),e.jsxs(U,{title:"Necessary Condition 1",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," is Hamiltonian and ",e.jsx(a,{math:"S"})," is a proper nonempty subset of ",e.jsx(a,{math:"V(G)"}),", then the number of components of ",e.jsx(a,{math:"G - S"})," is at most"," ",e.jsx(a,{math:"|S|"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["A Hamiltonian cycle visiting vertices of"," ",e.jsx(a,{math:"G - S"})," must pass through"," ",e.jsx(a,{math:"S"})," between consecutive components. Each transition uses at least one vertex of ",e.jsx(a,{math:"S"}),", so components "," ",e.jsx(a,{math:"|S|"}),"."]})})]})]}),e.jsxs(me,{title:"Petersen Graph is Non-Hamiltonian",children:[e.jsx("p",{children:"The Petersen graph has 10 vertices and is 3-regular. Remove the 5 vertices of the outer pentagon: the remaining 5 vertices (inner star) form an independent set5 isolated vertices!"}),e.jsxs("p",{className:"mt-2",children:["With ",e.jsx(a,{math:"|S| = 5"})," but 5 components, the necessary condition barely holds. A careful case analysis shows no Hamiltonian cycle exists."]})]}),e.jsxs(U,{title:"Bipartite Necessary Condition",children:[e.jsxs("p",{children:["A bipartite graph ",e.jsx(a,{math:"G"})," with bipartition"," ",e.jsx(a,{math:"(X, Y)"})," has a Hamiltonian cycle only if"," ",e.jsx(a,{math:"|X| = |Y|"}),"."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["The Hamiltonian cycle must alternate between ",e.jsx(a,{math:"X"})," and"," ",e.jsx(a,{math:"Y"}),"."]})]}),e.jsx("h2",{children:"Sufficient Conditions"}),e.jsxs(U,{title:"Dirac's Theorem (Theorem 7.2.1)",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," is a simple graph with ",e.jsx(a,{math:"n \\geq 3"})," ","vertices and ",e.jsx(a,{math:"\\delta(G) \\geq n/2"}),", then"," ",e.jsx(a,{math:"G"})," is Hamiltonian."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof Sketch"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Let ",e.jsx(a,{math:"P = v_1 v_2 \\cdots v_k"})," be a longest path. If"," ",e.jsx(a,{math:"k < n"}),", all neighbors of ",e.jsx(a,{math:"v_1"})," and"," ",e.jsx(a,{math:"v_k"})," are on ",e.jsx(a,{math:"P"})," (else extend)."]}),e.jsxs("p",{className:"mt-2",children:["By pigeonhole with ",e.jsx(a,{math:"\\delta \\geq n/2"}),", there exists"," ",e.jsx(a,{math:"v_i"})," where ",e.jsx(a,{math:"v_1 v_{i+1}"})," and"," ",e.jsx(a,{math:"v_k v_i"})," are edges. This creates a cycle covering"," ",e.jsx(a,{math:"P"}),". Since ",e.jsx(a,{math:"k < n"}),", an uncovered vertex is adjacent to the cycle, giving a longer pathcontradiction."]})]})]})]}),e.jsx(me,{title:"Dirac's Theorem is Sharp",children:e.jsxs("p",{children:["Consider ",e.jsx(a,{math:"K_{n/2, n/2 + 1}"})," (with ",e.jsx(a,{math:"n"})," ","odd). This has ",e.jsx(a,{math:"\\delta = n/2"})," but is not Hamiltonian (unequal parts). So ",e.jsx(a,{math:"\\delta \\geq n/2"})," is best possible."]})}),e.jsxs(U,{title:"Ore's Theorem (Theorem 7.2.3)",children:[e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," is a simple graph with ",e.jsx(a,{math:"n \\geq 3"})," ","vertices such that for every pair of non-adjacent vertices"," ",e.jsx(a,{math:"u, v"}),":"]}),e.jsx(we,{math:"d(u) + d(v) \\geq n"}),e.jsxs("p",{className:"mt-2",children:["then ",e.jsx(a,{math:"G"})," is Hamiltonian."]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"Ore's condition is weaker than Dirac's (allows low-degree vertices if they're adjacent to everything)."})]}),e.jsx(te,{title:"Closure",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"closure"})," ",e.jsx(a,{math:"cl(G)"})," of graph"," ",e.jsx(a,{math:"G"})," is obtained by repeatedly adding edges between non-adjacent vertices ",e.jsx(a,{math:"u, v"})," with"," ",e.jsx(a,{math:"d(u) + d(v) \\geq n"})," until no more can be added."]})}),e.jsxs(U,{title:"Bondy-Chvtal Theorem (Theorem 7.2.6)",children:[e.jsxs("p",{children:["A graph ",e.jsx(a,{math:"G"})," is Hamiltonian if and only if"," ",e.jsx(a,{math:"cl(G)"})," is Hamiltonian."]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"The closure is unique (independent of order of edge additions)."})]}),e.jsx(me,{title:"Using Closure",children:e.jsxs("p",{children:["If ",e.jsx(a,{math:"cl(G) = K_n"}),", then ",e.jsx(a,{math:"G"})," is Hamiltonian. This gives a simple sufficient condition checkable in polynomial time."]})}),e.jsx("h2",{children:"Degree Sequences"}),e.jsx(te,{title:"Hamiltonian Degree Sequence",children:e.jsxs("p",{children:["A degree sequence is ",e.jsx("strong",{children:"forcibly Hamiltonian"})," if every simple graph with that degree sequence is Hamiltonian."]})}),e.jsxs(U,{title:"Chvtal's Theorem (Theorem 7.2.8)",children:[e.jsxs("p",{children:["Let ",e.jsx(a,{math:"d_1 \\leq d_2 \\leq \\cdots \\leq d_n"})," be a degree sequence with ",e.jsx(a,{math:"n \\geq 3"}),". If for all"," ",e.jsx(a,{math:"k < n/2"}),":"]}),e.jsx(we,{math:"d_k \\leq k \\implies d_{n-k} \\geq n - k"}),e.jsx("p",{className:"mt-2",children:"then the sequence is forcibly Hamiltonian."})]}),e.jsx("h2",{children:"Hamiltonian Paths"}),e.jsx(U,{title:"Path Version of Dirac",children:e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," has ",e.jsx(a,{math:"n \\geq 2"})," vertices and"," ",e.jsx(a,{math:"\\delta(G) \\geq (n-1)/2"}),", then ",e.jsx(a,{math:"G"})," has a Hamiltonian path."]})}),e.jsx(U,{title:"Theorem 7.2.10 (Hamiltonian Path Between Vertices)",children:e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," is simple with ",e.jsx(a,{math:"n \\geq 3"})," ","vertices, and for non-adjacent ",e.jsx(a,{math:"u, v"}),":"," ",e.jsx(a,{math:"d(u) + d(v) \\geq n - 1"}),", then there is a Hamiltonian path."]})}),e.jsx("h2",{children:"Special Graph Classes"}),e.jsx(U,{title:"Complete Bipartite Graphs",children:e.jsxs("p",{children:[e.jsx(a,{math:"K_{m,n}"})," is Hamiltonian if and only if"," ",e.jsx(a,{math:"m = n \\geq 2"}),"."]})}),e.jsxs(U,{title:"Hypercube is Hamiltonian",children:[e.jsxs("p",{children:["The ",e.jsx(a,{math:"n"}),"-dimensional hypercube"," ",e.jsx(a,{math:"Q_n"})," is Hamiltonian for ",e.jsx(a,{math:"n \\geq 2"}),"."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["In fact, ",e.jsx(a,{math:"Q_n"})," is Hamiltonian laceable: there's a Hamiltonian path between any two vertices of different parities."]})]}),e.jsx("h2",{children:"Complexity"}),e.jsxs(U,{title:"NP-Completeness (Karp, 1972)",children:[e.jsx("p",{children:"Determining whether a graph has a Hamiltonian cycle is NP-complete."}),e.jsx("p",{className:"mt-2",children:"It remains NP-complete even for:"}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsx("li",{children:"Planar 3-connected cubic graphs"}),e.jsx("li",{children:"Bipartite graphs"}),e.jsx("li",{children:"Grid graphs"})]})]}),e.jsx("p",{children:"This contrasts sharply with Eulerian circuits, which can be found in linear time."}),e.jsx("h2",{children:"Traveling Salesman Problem"}),e.jsxs(te,{title:"TSP",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Traveling Salesman Problem"})," (TSP) asks: given a weighted complete graph, find a Hamiltonian cycle of minimum total weight."]}),e.jsx("p",{className:"mt-2",children:"The unweighted version (does a Hamiltonian cycle exist?) is a special case."})]}),e.jsxs(U,{title:"TSP Complexity",children:[e.jsx("p",{children:"TSP is NP-hard. The optimization version has no polynomial-time approximation scheme unless P=NP (in the general case)."}),e.jsx("p",{className:"mt-2",children:"For metric TSP (triangle inequality holds), the Christofides algorithm gives a 3/2-approximation."})]}),e.jsx("h2",{children:"Pancyclic Graphs"}),e.jsx(te,{title:"Pancyclic",children:e.jsxs("p",{children:["A graph ",e.jsx(a,{math:"G"})," is ",e.jsx("strong",{children:"pancyclic"})," if it contains cycles of every length from 3 to ",e.jsx(a,{math:"n"}),"."]})}),e.jsxs(U,{title:"Bondy's Meta-Conjecture",children:[e.jsx("p",{children:'"Almost any non-trivial condition implying that a graph is Hamiltonian also implies that it is pancyclic."'}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["For instance, if ",e.jsx(a,{math:"\\delta \\geq n/2"})," and"," ",e.jsx(a,{math:"G"})," is not bipartite, then ",e.jsx(a,{math:"G"})," is pancyclic or ",e.jsx(a,{math:"G = K_{n/2, n/2}"}),"."]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Hamiltonian:"})," Cycle visiting every vertex exactly once. Much harder than Eulerian."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Necessary:"})," Removing ",e.jsx(a,{math:"k"})," vertices leaves at most ",e.jsx(a,{math:"k"})," components."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Dirac:"})," ",e.jsx(a,{math:"\\delta \\geq n/2"})," implies Hamiltonian."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Ore:"})," ",e.jsx(a,{math:"d(u) + d(v) \\geq n"})," for all non-adjacent ",e.jsx(a,{math:"u, v"})," implies Hamiltonian."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Closure:"})," ",e.jsx(a,{math:"G"})," Hamiltonian iff"," ",e.jsx(a,{math:"cl(G)"})," Hamiltonian."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"NP-Complete:"})," No efficient algorithm known; contrasts with linear-time Eulerian."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"TSP:"})," Weighted version of Hamiltonian cycle; fundamental optimization problem."]})]})]})}function tI(){return e.jsxs(st,{sectionId:22,children:[e.jsx("p",{children:"The interplay between planarity, coloring, and cycles reveals deep connections in graph theory. Tait showed that the Four Color Theorem is equivalent to edge-coloring cubic planar graphs. Grinberg's theorem provides a tool for proving graphs are non-Hamiltonian. Nowhere-zero flows generalize these ideas, connecting coloring to algebraic properties."}),e.jsx("h2",{children:"Tait's Theorem"}),e.jsx(te,{title:"Tait Coloring",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"Tait coloring"})," of a 3-regular (cubic) graph"," ",e.jsx(a,{math:"G"})," is a proper 3-edge-coloring."]})}),e.jsxs(U,{title:"Tait's Theorem (Theorem 7.3.2)",children:[e.jsx("p",{children:"A planar graph is 4-face-colorable if and only if it is the dual of a bridgeless cubic planar graph that has a Tait coloring."}),e.jsx("p",{className:"mt-2",children:"More specifically: A 2-edge-connected cubic planar graph is 3-edge-colorable if and only if it is Hamiltonian."}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Connection to Four Color Theorem"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsx("p",{children:"Tait (1880) tried to prove the Four Color Theorem by showing all bridgeless cubic planar graphs are Hamiltonian (which would give a Tait coloring). But the Tutte graph (1946) is a bridgeless cubic planar non-Hamiltonian graph!"}),e.jsx("p",{className:"mt-2",children:"Nevertheless, the Four Color Theorem implies all bridgeless cubic planar graphs are 3-edge-colorable (by a different argument)."})]})]})]}),e.jsx(me,{title:"Cube Graph",children:e.jsxs("p",{children:["The cube graph ",e.jsx(a,{math:"Q_3"}),' is cubic, planar, and Hamiltonian. The Hamiltonian cycle uses 8 edges, alternating in 2 colors. The remaining 4 edges (the "opposite" edges of each face) get the third color.']})}),e.jsx("h2",{children:"Grinberg's Theorem"}),e.jsx("p",{children:"Grinberg's theorem provides a necessary condition for planar graphs to be Hamiltonian, based on face sizes."}),e.jsxs(U,{title:"Grinberg's Theorem (Theorem 7.3.5)",children:[e.jsxs("p",{children:["If a plane graph ",e.jsx(a,{math:"G"})," has a Hamiltonian cycle"," ",e.jsx(a,{math:"C"}),", let ",e.jsx(a,{math:"f'_k"})," be the number of faces of size ",e.jsx(a,{math:"k"})," inside ",e.jsx(a,{math:"C"})," and"," ",e.jsx(a,{math:"f''_k"})," be the number outside. Then:"]}),e.jsx(we,{math:"\\sum_{k \\geq 3} (k - 2)(f'_k - f''_k) = 0"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Let ",e.jsx(a,{math:"C"})," have ",e.jsx(a,{math:"n"})," edges. For faces inside: ",e.jsx(a,{math:"\\sum k \\cdot f'_k = n + 2(\\text{edges inside})"})," ","and ",e.jsx(a,{math:"\\sum f'_k = 1 + \\text{faces inside}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["By Euler's formula applied to the inside subgraph:"," ",e.jsx(a,{math:"\\sum (k-2) f'_k = n - 2"}),". Similarly for outside. Subtracting gives the result."]})]})]})]}),e.jsxs(me,{title:"Using Grinberg's Theorem",children:[e.jsx("p",{children:"Consider a plane graph with face sizes 5, 5, 5, 8 (4 faces). If Hamiltonian:"}),e.jsx(we,{math:"3(f'_5 - f''_5) + 6(f'_8 - f''_8) = 0"}),e.jsxs("p",{className:"mt-2",children:["With ",e.jsx(a,{math:"f'_5 + f''_5 = 3"})," and"," ",e.jsx(a,{math:"f'_8 + f''_8 = 1"}),", we need"," ",e.jsx(a,{math:"3(f'_5 - f''_5) + 6(\\pm 1) = 0"}),". This requires"," ",e.jsx(a,{math:"f'_5 - f''_5 = \\pm 2"}),", which is impossible since all values have the same parity."]})]}),e.jsxs(me,{title:"Tutte's Graph",children:[e.jsx("p",{children:"Tutte constructed a 3-connected cubic planar non-Hamiltonian graph in 1946. This disproved Tait's approach to the Four Color Theorem."}),e.jsx("p",{className:"mt-2",children:"The graph has 46 vertices and can be shown non-Hamiltonian using Grinberg's theorem."})]}),e.jsx("h2",{children:"Nowhere-Zero Flows"}),e.jsxs(te,{title:"Flow on a Graph",children:[e.jsxs("p",{children:["Given an orientation of graph ",e.jsx(a,{math:"G"})," and an abelian group"," ",e.jsx(a,{math:"\\Gamma"}),", a ",e.jsxs("strong",{children:[e.jsx(a,{math:"\\Gamma"}),"-flow"]})," ","assigns a group element to each edge such that at every vertex, the sum of incoming values equals the sum of outgoing values."]}),e.jsxs("p",{className:"mt-2",children:["A flow is ",e.jsx("strong",{children:"nowhere-zero"})," if no edge has value 0."]})]}),e.jsxs(te,{title:"k-Flow",children:[e.jsxs("p",{children:["A ",e.jsxs("strong",{children:["nowhere-zero ",e.jsx(a,{math:"k"}),"-flow"]})," is a nowhere-zero"," ",e.jsx(a,{math:"\\mathbb{Z}"}),"-flow where each edge value is in"," ",e.jsx(a,{math:"\\{-(k-1), \\ldots, -1, 1, \\ldots, k-1\\}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"flow number"})," ",e.jsx(a,{math:"\\phi(G)"})," is the minimum"," ",e.jsx(a,{math:"k"})," for which ",e.jsx(a,{math:"G"})," has a nowhere-zero"," ",e.jsx(a,{math:"k"}),"-flow."]})]}),e.jsxs(U,{title:"Duality: Flows and Colorings (Theorem 7.3.13)",children:[e.jsxs("p",{children:["For a planar graph ",e.jsx(a,{math:"G"})," and its dual"," ",e.jsx(a,{math:"G^*"}),":"]}),e.jsx(we,{math:"\\chi(G^*) = \\phi(G)"}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["Nowhere-zero flows in ",e.jsx(a,{math:"G"})," correspond to proper colorings of ",e.jsx(a,{math:"G^*"}),"."]})]}),e.jsxs(me,{title:"Four Color Theorem via Flows",children:[e.jsxs("p",{children:["For any planar graph ",e.jsx(a,{math:"G"}),", we have"," ",e.jsx(a,{math:"\\chi(G) \\leq 4"}),". By duality, the dual of any planar graph has a nowhere-zero 4-flow."]}),e.jsx("p",{className:"mt-2",children:"Equivalently: every bridgeless planar graph has a nowhere-zero 4-flow."})]}),e.jsx("h3",{children:"Flow Conjectures"}),e.jsx(U,{title:"Tutte's Flow Conjectures",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"5-Flow Conjecture:"})," Every bridgeless graph has a nowhere-zero 5-flow. (Open)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"4-Flow Conjecture:"})," Every bridgeless graph with no Petersen minor has a nowhere-zero 4-flow. (Open)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"3-Flow Conjecture:"})," Every 4-edge-connected graph has a nowhere-zero 3-flow. (Open)"]})]})}),e.jsx(U,{title:"Seymour's 6-Flow Theorem (1981)",children:e.jsx("p",{children:"Every bridgeless graph has a nowhere-zero 6-flow."})}),e.jsx("h2",{children:"Cycle Double Covers"}),e.jsx(te,{title:"Cycle Double Cover",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"cycle double cover"})," of a graph is a collection of cycles such that each edge is in exactly two cycles."]})}),e.jsxs(U,{title:"Cycle Double Cover Conjecture",children:[e.jsx("p",{children:"Every bridgeless graph has a cycle double cover."}),e.jsx("p",{className:"mt-2 text-dark-300",children:"Equivalent to the 5-flow conjecture for cubic graphs. Open since 1973."})]}),e.jsxs(me,{title:"Petersen Graph and Flows",children:[e.jsx("p",{children:'The Petersen graph is the smallest "obstruction" to nowhere-zero 4-flows. It has a nowhere-zero 5-flow but not a 4-flow.'}),e.jsx("p",{className:"mt-2",children:"The 4-Flow Conjecture says the Petersen graph is the essential obstruction."})]}),e.jsx("h2",{children:"Snarks"}),e.jsxs(te,{title:"Snark",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"snark"})," is a bridgeless cubic graph with chromatic index 4 (Class 2)."]}),e.jsx("p",{className:"mt-2",children:"Equivalently: a bridgeless cubic graph with no Tait coloring, or no nowhere-zero 4-flow."})]}),e.jsxs(me,{title:"Known Snarks",children:[e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"Petersen graph (10 vertices) - the smallest"}),e.jsx("li",{children:"Blanua snarks (18 vertices)"}),e.jsx("li",{children:"Flower snarks (20, 28, ... vertices)"}),e.jsx("li",{children:"Double-star snark (30 vertices)"})]}),e.jsx("p",{className:"mt-2",children:"Snarks are rare and difficult to construct. They play a crucial role in graph coloring theory."})]}),e.jsxs(U,{title:"Snarks and the Four Color Theorem",children:[e.jsx("p",{children:"The Four Color Theorem is equivalent to: every planar snark has a bridge."}),e.jsx("p",{className:"mt-2",children:"Since planar bridgeless cubic graphs are 4-colorable, their duals have nowhere-zero 4-flows, hence are not snarks."})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Tait's Theorem:"})," Connects 4-coloring to Hamiltonian cycles in cubic planar graphs."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Grinberg's Theorem:"})," ",e.jsx(a,{math:"\\sum (k-2)(f'_k - f''_k) = 0"})," for Hamiltonian planar graphs."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Tutte's Graph:"})," Non-Hamiltonian bridgeless cubic planar graph; disproves Tait's approach."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Nowhere-Zero Flows:"})," Generalize colorings; flow number = chromatic number of dual."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Seymour:"})," Every bridgeless graph has a nowhere-zero 6-flow."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Tutte Conjectures:"})," 5-flow, 4-flow, 3-flow conjectures remain open."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Snarks:"})," Bridgeless cubic graphs that are Class 2; key structures in coloring theory."]})]})]})}function sI(){return e.jsxs(st,{sectionId:23,children:[e.jsx("p",{children:"Perfect graphs are those where the chromatic number equals the clique number for every induced subgraph. This class includes many important graph families and has beautiful structural theory. The Strong Perfect Graph Theorem, proved in 2002, characterizes perfect graphs by forbidden induced subgraphs."}),e.jsx("h2",{children:"Perfect Graph Basics"}),e.jsxs(te,{title:"Perfect Graph",children:[e.jsxs("p",{children:["A graph ",e.jsx(a,{math:"G"})," is ",e.jsx("strong",{children:"perfect"})," if for every induced subgraph ",e.jsx(a,{math:"H"})," of ",e.jsx(a,{math:"G"}),":"]}),e.jsx(we,{math:"\\chi(H) = \\omega(H)"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(a,{math:"\\omega(H)"})," is the clique number and"," ",e.jsx(a,{math:"\\chi(H)"})," is the chromatic number."]})]}),e.jsx(me,{title:"Perfect Graph Classes",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Bipartite graphs:"})," ",e.jsx(a,{math:"\\omega = 2"}),","," ",e.jsx(a,{math:"\\chi = 2"})," (if has edges)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Chordal graphs:"})," No induced ",e.jsx(a,{math:"C_k"})," for"," ",e.jsx(a,{math:"k \\geq 4"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Interval graphs:"})," Intersection graphs of intervals"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Comparability graphs:"})," Transitively orientable graphs"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Split graphs:"})," Vertices partition into clique and independent set"]})]})}),e.jsx("h2",{children:"The Perfect Graph Theorem"}),e.jsxs(U,{title:"Weak Perfect Graph Theorem (Lovsz, 1972)",children:[e.jsxs("p",{children:["A graph ",e.jsx(a,{math:"G"})," is perfect if and only if its complement"," ",e.jsx(a,{math:"\\overline{G}"})," is perfect."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Key Insight"}),e.jsx("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:e.jsxs("p",{children:["This is surprising because chromatic number and clique number behave very differently under complementation. Lovsz proved this using the"," ",e.jsx("strong",{children:"theta function"})," ",e.jsx(a,{math:"\\vartheta(G)"}),", which lies between ",e.jsx(a,{math:"\\alpha(G)"})," and"," ",e.jsx(a,{math:"\\chi(\\overline{G})"}),"."]})})]})]}),e.jsxs(te,{title:"Odd Holes and Antiholes",children:[e.jsxs("p",{children:["An ",e.jsx("strong",{children:"odd hole"})," is an induced cycle"," ",e.jsx(a,{math:"C_{2k+1}"})," with ",e.jsx(a,{math:"k \\geq 2"}),"."]}),e.jsxs("p",{className:"mt-2",children:["An ",e.jsx("strong",{children:"odd antihole"})," is the complement of an odd hole:"," ",e.jsx(a,{math:"\\overline{C_{2k+1}}"}),"."]})]}),e.jsxs(me,{title:"Why C and its Complement are Imperfect",children:[e.jsxs("p",{children:[e.jsx(a,{math:"C_5"}),": ",e.jsx(a,{math:"\\omega = 2"})," (no triangle), but ",e.jsx(a,{math:"\\chi = 3"})," (odd cycle). Not perfect."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx(a,{math:"\\overline{C_5}"}),": Also ",e.jsx(a,{math:"C_5"})," ","(self-complementary!). Also imperfect."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx(a,{math:"C_7"}),": ",e.jsx(a,{math:"\\omega = 2"}),","," ",e.jsx(a,{math:"\\chi = 3"}),". ",e.jsx(a,{math:"\\overline{C_7}"}),":"," ",e.jsx(a,{math:"\\omega = 3"}),", ",e.jsx(a,{math:"\\chi = 4"}),"."]})]}),e.jsxs(U,{title:"Strong Perfect Graph Theorem (Chudnovsky et al., 2006)",children:[e.jsx("p",{children:"A graph is perfect if and only if it contains no odd hole and no odd antihole as an induced subgraph."}),e.jsx("p",{className:"mt-2 text-dark-300",children:"Conjectured by Claude Berge in 1961. Proved 40+ years later by Maria Chudnovsky, Neil Robertson, Paul Seymour, and Robin Thomas using a 179-page proof."})]}),e.jsx("h2",{children:"Recognition and Optimization"}),e.jsxs(U,{title:"Perfect Graph Recognition",children:[e.jsx("p",{children:"Perfect graphs can be recognized in polynomial time."}),e.jsx("p",{className:"mt-2",children:"The algorithm detects odd holes and antiholes using sophisticated structural decomposition (Chudnovsky et al., 2005)."})]}),e.jsxs(U,{title:"Polynomial Optimization on Perfect Graphs",children:[e.jsx("p",{children:"For perfect graphs, the following problems can be solved in polynomial time:"}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Maximum clique:"})," Find ",e.jsx(a,{math:"\\omega(G)"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Maximum independent set:"})," Find ",e.jsx(a,{math:"\\alpha(G)"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Chromatic number:"})," Find ",e.jsx(a,{math:"\\chi(G)"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Clique cover:"})," Partition vertices into cliques"]})]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"These use the ellipsoid method and the Lovsz theta function."})]}),e.jsx("h2",{children:"Berge Graphs"}),e.jsxs(te,{title:"Berge Graph",children:[e.jsxs("p",{children:["A graph is ",e.jsx("strong",{children:"Berge"})," if it contains no odd hole and no odd antihole."]}),e.jsx("p",{className:"mt-2",children:"The Strong Perfect Graph Theorem says: Berge = Perfect."})]}),e.jsx("h2",{children:"Imperfect Graphs"}),e.jsxs(te,{title:"Imperfection Ratio",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"imperfection ratio"})," of ",e.jsx(a,{math:"G"})," is:"]}),e.jsx(we,{math:"\\text{imp}(G) = \\max_{H \\subseteq G} \\frac{\\chi(H)}{\\omega(H)}"}),e.jsxs("p",{className:"mt-2",children:[e.jsx(a,{math:"G"})," is perfect iff ",e.jsx(a,{math:"\\text{imp}(G) = 1"}),"."]})]}),e.jsxs(me,{title:"Imperfection of Odd Cycles",children:[e.jsxs("p",{children:["For ",e.jsx(a,{math:"C_{2k+1}"}),":"," ",e.jsx(a,{math:"\\text{imp}(C_{2k+1}) = \\frac{3}{2}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["As ",e.jsx(a,{math:"k \\to \\infty"}),", odd cycles approach"," ",e.jsx(a,{math:"\\text{imp} = 3/2"}),"."]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Perfect:"})," ",e.jsx(a,{math:"\\chi(H) = \\omega(H)"})," for all induced ",e.jsx(a,{math:"H"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Weak Perfect Graph Theorem:"})," ",e.jsx(a,{math:"G"})," perfect iff ",e.jsx(a,{math:"\\overline{G}"})," perfect."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Strong Perfect Graph Theorem:"})," Perfect = No odd holes or antiholes."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Perfect Families:"})," Bipartite, chordal, interval, comparability."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Imperfect:"})," ",e.jsx(a,{math:"C_{2k+1}"})," and"," ",e.jsx(a,{math:"\\overline{C_{2k+1}}"})," are minimal imperfect."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Algorithms:"})," Maximum clique, chromatic number solvable in polynomial time for perfect graphs."]})]})]})}function nI(){return e.jsxs(st,{sectionId:24,children:[e.jsx("p",{children:"Matroids abstract the notion of linear independence from vector spaces and forests from graphs. They provide a unifying framework for many combinatorial optimization problems, explaining why greedy algorithms work for minimum spanning trees. The theory reveals deep connections between linear algebra, graph theory, and combinatorics."}),e.jsx("h2",{children:"Matroid Definition"}),e.jsxs(te,{title:"Matroid (Independence Axioms)",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"matroid"})," ",e.jsx(a,{math:"M = (E, \\mathcal{I})"})," consists of a finite set ",e.jsx(a,{math:"E"})," (the ",e.jsx("strong",{children:"ground set"}),") and a collection ",e.jsx(a,{math:"\\mathcal{I}"})," of subsets of"," ",e.jsx(a,{math:"E"})," (the ",e.jsx("strong",{children:"independent sets"}),") satisfying:"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"(I1)"})," ",e.jsx(a,{math:"\\emptyset \\in \\mathcal{I}"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"(I2)"})," If ",e.jsx(a,{math:"I \\in \\mathcal{I}"})," and"," ",e.jsx(a,{math:"J \\subseteq I"}),", then"," ",e.jsx(a,{math:"J \\in \\mathcal{I}"})," (hereditary)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"(I3)"})," If ",e.jsx(a,{math:"I, J \\in \\mathcal{I}"})," with"," ",e.jsx(a,{math:"|I| < |J|"}),", then"," ",e.jsx(a,{math:"\\exists e \\in J - I"})," with"," ",e.jsx(a,{math:"I \\cup \\{e\\} \\in \\mathcal{I}"})," (exchange property)"]})]})]}),e.jsxs(me,{title:"Graphic Matroid",children:[e.jsxs("p",{children:["For graph ",e.jsx(a,{math:"G"}),", let ",e.jsx(a,{math:"E = E(G)"})," and"," ",e.jsx(a,{math:"\\mathcal{I}"})," = sets of edges forming forests."]}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Verify axioms:"})}),e.jsxs("ul",{className:"list-disc list-inside",children:[e.jsx("li",{children:"(I1): Empty set is a forest. "}),e.jsx("li",{children:"(I2): Subsets of forests are forests. "}),e.jsxs("li",{children:["(I3): If forest ",e.jsx(a,{math:"J"})," has more edges than forest"," ",e.jsx(a,{math:"I"}),", some edge of ",e.jsx(a,{math:"J"})," can be added to ",e.jsx(a,{math:"I"})," without creating a cycle. "]})]})]}),e.jsxs(me,{title:"Vector Matroid",children:[e.jsxs("p",{children:["For a matrix ",e.jsx(a,{math:"A"})," with columns"," ",e.jsx(a,{math:"v_1, \\ldots, v_n"}),", let"," ",e.jsx(a,{math:"E = \\{1, \\ldots, n\\}"})," and"," ",e.jsx(a,{math:"I \\in \\mathcal{I}"})," iff"," ",e.jsx(a,{math:"\\{v_i : i \\in I\\}"})," is linearly independent."]}),e.jsx("p",{className:"mt-2",children:"The exchange property (I3) follows from the Steinitz exchange lemma."})]}),e.jsx("h2",{children:"Basic Matroid Terminology"}),e.jsx(te,{title:"Dependent Sets, Circuits, Bases",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Dependent:"})," A set not in ",e.jsx(a,{math:"\\mathcal{I}"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Circuit:"})," A minimal dependent set"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Base:"})," A maximal independent set"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Rank:"})," ",e.jsx(a,{math:"r(A)"})," = max size of independent subset of ",e.jsx(a,{math:"A"})]})]})}),e.jsxs(U,{title:"Base Properties",children:[e.jsxs("p",{children:["All bases of a matroid have the same cardinality (the ",e.jsx("strong",{children:"rank"})," of the matroid)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Base exchange:"})," If ",e.jsx(a,{math:"B_1, B_2"})," are bases and ",e.jsx(a,{math:"e \\in B_1 - B_2"}),", then"," ",e.jsx(a,{math:"\\exists f \\in B_2 - B_1"})," such that"," ",e.jsx(a,{math:"B_1 - e + f"})," is a base."]})]}),e.jsxs(me,{title:"Graphic Matroid Terms",children:[e.jsxs("p",{children:["In graphic matroid ",e.jsx(a,{math:"M(G)"}),":"]}),e.jsxs("ul",{className:"list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Circuits:"})," Cycles of ",e.jsx(a,{math:"G"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bases:"})," Spanning forests (spanning trees if connected)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Rank:"})," ",e.jsx(a,{math:"n - c"})," where"," ",e.jsx(a,{math:"c"})," = components"]})]})]}),e.jsx("h2",{children:"Matroid Duality"}),e.jsxs(te,{title:"Dual Matroid",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"dual"})," ",e.jsx(a,{math:"M^*"})," of matroid"," ",e.jsx(a,{math:"M = (E, \\mathcal{I})"})," has:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["Ground set: ",e.jsx(a,{math:"E"})]}),e.jsxs("li",{children:["Bases: ",e.jsx(a,{math:"\\{E - B : B \\text{ is a base of } M\\}"})]})]}),e.jsxs("p",{className:"mt-2",children:["The dual of the dual is the original: ",e.jsx(a,{math:"(M^*)^* = M"}),"."]})]}),e.jsxs(me,{title:"Dual of Graphic Matroid",children:[e.jsxs("p",{children:["For a planar graph ",e.jsx(a,{math:"G"}),", the dual of"," ",e.jsx(a,{math:"M(G)"})," is ",e.jsx(a,{math:"M(G^*)"}),", where"," ",e.jsx(a,{math:"G^*"})," is the planar dual graph."]}),e.jsxs("p",{className:"mt-2",children:[e.jsxs("strong",{children:["Circuits of ",e.jsx(a,{math:"M^*"}),":"]})," Minimal edge cuts (bonds) of ",e.jsx(a,{math:"G"}),"."]})]}),e.jsx("h2",{children:"Greedy Algorithm"}),e.jsxs(U,{title:"Greedy Algorithm for Matroids",children:[e.jsxs("p",{children:["Given a weighted matroid ",e.jsx(a,{math:"(E, \\mathcal{I}, w)"}),", the greedy algorithm finds a maximum-weight base:"]}),e.jsxs("ol",{className:"mt-2 list-decimal list-inside",children:[e.jsxs("li",{children:["Sort elements by weight: ",e.jsx(a,{math:"w(e_1) \\geq \\cdots \\geq w(e_n)"})]}),e.jsxs("li",{children:["Initialize ",e.jsx(a,{math:"I = \\emptyset"})]}),e.jsxs("li",{children:["For each ",e.jsx(a,{math:"e_i"}),": if"," ",e.jsx(a,{math:"I \\cup \\{e_i\\} \\in \\mathcal{I}"}),", set"," ",e.jsx(a,{math:"I = I \\cup \\{e_i\\}"})]})]}),e.jsxs("p",{className:"mt-2",children:["This gives an ",e.jsx("strong",{children:"optimal"})," solution."]})]}),e.jsx(U,{title:"Characterization by Greedy",children:e.jsxs("p",{children:["A hereditary system ",e.jsx(a,{math:"(E, \\mathcal{I})"})," is a matroid if and only if the greedy algorithm produces a maximum-weight base for every weight function."]})}),e.jsxs(me,{title:"Kruskal's Algorithm",children:[e.jsx("p",{children:"Kruskal's algorithm for minimum spanning tree is the greedy algorithm on the graphic matroid with weights = negative edge weights."}),e.jsx("p",{className:"mt-2",children:"It works because graphic matroids are matroids!"})]}),e.jsx("h2",{children:"Matroid Intersection"}),e.jsx(te,{title:"Matroid Intersection",children:e.jsxs("p",{children:["Given matroids ",e.jsx(a,{math:"M_1 = (E, \\mathcal{I}_1)"})," and"," ",e.jsx(a,{math:"M_2 = (E, \\mathcal{I}_2)"})," on the same ground set, the"," ",e.jsx("strong",{children:"matroid intersection"})," problem asks for the largest set in"," ",e.jsx(a,{math:"\\mathcal{I}_1 \\cap \\mathcal{I}_2"}),"."]})}),e.jsxs(U,{title:"Matroid Intersection Theorem",children:[e.jsx("p",{children:"The maximum size of a common independent set equals:"}),e.jsx(we,{math:"\\max |I| = \\min_{A \\subseteq E} (r_1(A) + r_2(E - A))"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(a,{math:"r_1, r_2"})," are the rank functions."]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"This generalizes many min-max theorems (Knig, Menger, etc.)."})]}),e.jsxs(me,{title:"Bipartite Matching as Matroid Intersection",children:[e.jsxs("p",{children:["For bipartite graph ",e.jsx(a,{math:"G = (X \\cup Y, E)"}),", define:"]}),e.jsxs("ul",{className:"list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx(a,{math:"M_1"}),": Partition matroid on ",e.jsx(a,{math:"E"})," where edges incident to same ",e.jsx(a,{math:"x \\in X"})," are dependent"]}),e.jsxs("li",{children:[e.jsx(a,{math:"M_2"}),": Same for ",e.jsx(a,{math:"Y"})]})]}),e.jsx("p",{className:"mt-2",children:"Common independent sets = matchings. Max intersection = max matching."})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Matroid:"})," Hereditary system with exchange property; abstracts independence."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Examples:"})," Graphic (forests), vector (linear independence), partition, uniform."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Dual:"})," Bases complement to dual bases."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Greedy:"})," Greedy algorithm is optimal on matroids; this characterizes them."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Intersection:"})," Max common independent set has min-max formula; generalizes matching."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Unification:"})," Matroids explain why greedy works for MST but not for other problems."]})]})]})}function rI(){return e.jsxs(st,{sectionId:25,children:[e.jsx("p",{children:'Ramsey theory studies the emergence of order in large structures. The fundamental principle: in any large enough system, some regular pattern must appear. For graphs, this means that sufficiently large complete graphs, when edge-colored, must contain monochromatic cliques. Ramsey numbers quantify "how large is large enough."'}),e.jsx("h2",{children:"The Party Problem"}),e.jsxs(me,{title:"The Party Problem",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Question:"})," How many people must attend a party so that either 3 mutual friends or 3 mutual strangers exist?"]}),e.jsxs("p",{className:"mt-2",children:["Model as ",e.jsx(a,{math:"K_n"})," with edges colored red (friends) or blue (strangers). We seek a monochromatic triangle."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Answer:"})," ",e.jsx(a,{math:"n = 6"})," people suffice."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Proof:"})," Pick any person ",e.jsx(a,{math:"v"}),". By pigeonhole,"," ",e.jsx(a,{math:"v"})," has at least 3 red edges or 3 blue edges. WLOG, say red edges to ",e.jsx(a,{math:"a, b, c"}),". If any edge among"," ",e.jsx(a,{math:"a, b, c"})," is red, we have a red triangle. Otherwise,"," ",e.jsx(a,{math:"abc"})," is a blue triangle."]})]}),e.jsx("h2",{children:"Ramsey Numbers"}),e.jsx(te,{title:"Ramsey Number R(s,t)",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Ramsey number"})," ",e.jsx(a,{math:"R(s, t)"})," is the minimum"," ",e.jsx(a,{math:"n"})," such that every red-blue edge-coloring of"," ",e.jsx(a,{math:"K_n"})," contains either a red ",e.jsx(a,{math:"K_s"})," or a blue ",e.jsx(a,{math:"K_t"}),"."]})}),e.jsxs(U,{title:"Ramsey's Theorem (Graph Version)",children:[e.jsxs("p",{children:[e.jsx(a,{math:"R(s, t)"})," exists for all ",e.jsx(a,{math:"s, t \\geq 1"}),"."]}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof (Induction)"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Base: ",e.jsx(a,{math:"R(1, t) = R(s, 1) = 1"})," and"," ",e.jsx(a,{math:"R(2, t) = t"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Inductive step: Show ",e.jsx(a,{math:"R(s,t) \\leq R(s-1,t) + R(s,t-1)"}),"."]}),e.jsxs("p",{className:"mt-2",children:["In ",e.jsx(a,{math:"K_n"})," with ",e.jsx(a,{math:"n = R(s-1,t) + R(s,t-1)"}),", pick vertex ",e.jsx(a,{math:"v"}),". Either ",e.jsx(a,{math:"R(s-1,t)"})," ","red neighbors (giving red ",e.jsx(a,{math:"K_{s-1}"})," or blue"," ",e.jsx(a,{math:"K_t"}),"; extend red clique with ",e.jsx(a,{math:"v"}),") or ",e.jsx(a,{math:"R(s,t-1)"})," blue neighbors (symmetric)."]})]})]})]}),e.jsxs(U,{title:"Upper Bound",children:[e.jsx(we,{math:"R(s, t) \\leq \\binom{s + t - 2}{s - 1}"}),e.jsxs("p",{className:"mt-2",children:["In particular, ",e.jsx(a,{math:"R(s, s) \\leq \\binom{2s-2}{s-1} = O(4^s/\\sqrt{s})"}),"."]})]}),e.jsx(me,{title:"Known Ramsey Numbers",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:e.jsx(a,{math:"R(3, 3) = 6"})}),e.jsx("li",{children:e.jsx(a,{math:"R(3, 4) = 9"})}),e.jsx("li",{children:e.jsx(a,{math:"R(3, 5) = 14"})}),e.jsx("li",{children:e.jsx(a,{math:"R(4, 4) = 18"})}),e.jsx("li",{children:e.jsx(a,{math:"R(4, 5) = 25"})}),e.jsxs("li",{children:[e.jsx(a,{math:"R(5, 5)"}),": between 43 and 48 (exact value unknown!)"]})]})}),e.jsx("h2",{children:"Erds Lower Bound"}),e.jsxs(U,{title:"Erds Probabilistic Lower Bound (1947)",children:[e.jsx(we,{math:"R(s, s) > 2^{s/2}"}),e.jsxs("details",{className:"mt-3",children:[e.jsx("summary",{className:"cursor-pointer text-blue-400 hover:text-blue-300",children:"Proof (Probabilistic Method)"}),e.jsxs("div",{className:"mt-2 pl-4 border-l-2 border-dark-700",children:[e.jsxs("p",{children:["Color each edge of ",e.jsx(a,{math:"K_n"})," red or blue uniformly at random."]}),e.jsxs("p",{className:"mt-2",children:["For any ",e.jsx(a,{math:"s"}),"-set ",e.jsx(a,{math:"S"}),", probability that ",e.jsx(a,{math:"S"})," is monochromatic ="," ",e.jsx(a,{math:"2 \\cdot 2^{-\\binom{s}{2}}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Expected number of monochromatic ",e.jsx(a,{math:"K_s"}),":"," ",e.jsx(a,{math:"\\binom{n}{s} \\cdot 2^{1-\\binom{s}{2}}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(a,{math:"n < 2^{s/2}"}),", this expectation is"," ",e.jsx(a,{math:"< 1"}),", so some coloring has no monochromatic"," ",e.jsx(a,{math:"K_s"}),"."]})]})]})]}),e.jsx("p",{children:"This was the first application of the probabilistic method in combinatorics, revolutionizing the field."}),e.jsx("h2",{children:"Graph Ramsey Theory"}),e.jsx(te,{title:"Graph Ramsey Number",children:e.jsxs("p",{children:["For graphs ",e.jsx(a,{math:"G"})," and ",e.jsx(a,{math:"H"}),", the"," ",e.jsx("strong",{children:"Ramsey number"})," ",e.jsx(a,{math:"R(G, H)"})," is the minimum"," ",e.jsx(a,{math:"n"})," such that every red-blue coloring of"," ",e.jsx(a,{math:"K_n"})," contains a red copy of ",e.jsx(a,{math:"G"})," or a blue copy of ",e.jsx(a,{math:"H"}),"."]})}),e.jsx(U,{title:"Ramsey Numbers for Paths and Cycles",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:e.jsx(a,{math:"R(P_n, P_n) = \\lfloor 3(n-1)/2 \\rfloor + 1"})}),e.jsxs("li",{children:[e.jsx(a,{math:"R(C_n, C_n) = 2n - 1"})," for odd ",e.jsx(a,{math:"n \\geq 3"})]}),e.jsxs("li",{children:[e.jsx(a,{math:"R(C_n, C_n) = \\frac{3n}{2} - 1"})," for even"," ",e.jsx(a,{math:"n \\geq 4"})]})]})}),e.jsx("h2",{children:"Multi-Color Ramsey"}),e.jsx(te,{title:"k-Color Ramsey Number",children:e.jsxs("p",{children:[e.jsx(a,{math:"R_k(s_1, \\ldots, s_k)"})," is the minimum"," ",e.jsx(a,{math:"n"})," such that every ",e.jsx(a,{math:"k"}),"-coloring of"," ",e.jsx(a,{math:"K_n"})," contains a monochromatic"," ",e.jsx(a,{math:"K_{s_i}"})," in color ",e.jsx(a,{math:"i"})," for some"," ",e.jsx(a,{math:"i"}),"."]})}),e.jsx(me,{title:"3-Color Ramsey",children:e.jsxs("p",{children:[e.jsx(a,{math:"R_3(3, 3, 3) = 17"}),": every 3-coloring of"," ",e.jsx(a,{math:"K_{17}"})," has a monochromatic triangle."]})}),e.jsx(U,{title:"Schur's Theorem",children:e.jsxs("p",{children:["For any ",e.jsx(a,{math:"k"}),"-coloring of ",e.jsx(a,{math:"[n]"})," with"," ",e.jsx(a,{math:"n"})," large enough, there exist"," ",e.jsx(a,{math:"x, y, z"})," of the same color with"," ",e.jsx(a,{math:"x + y = z"}),"."]})}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Ramsey's Theorem:"})," Large structures contain ordered substructures. ",e.jsx(a,{math:"R(s,t)"})," always exists."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"R(3,3) = 6:"}),' The "party problem" answer.']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bounds:"})," ",e.jsx(a,{math:"2^{s/2} < R(s,s) \\leq 4^s"})," approximately."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Growth:"})," Ramsey numbers grow extremely fast; exact values known only for small cases."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Probabilistic Method:"})," Erds's proof initiated a powerful technique."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Graph Ramsey:"})," Generalized to arbitrary graphs, not just cliques."]})]})]})}function iI(){return e.jsxs(st,{sectionId:26,children:[e.jsx("p",{children:"Extremal graph theory asks: what is the maximum or minimum value of a graph parameter subject to some constraint? Beyond Turn's theorem, many other extremal problems reveal deep structure. We explore bounds on circumference, list coloring, and the structure of trees, continuing the theme of finding optimal configurations."}),e.jsx("h2",{children:"Circumference"}),e.jsx(te,{title:"Circumference",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"circumference"})," ",e.jsx(a,{math:"c(G)"})," of a graph"," ",e.jsx(a,{math:"G"})," is the length of its longest cycle, or 0 if"," ",e.jsx(a,{math:"G"})," is acyclic."]})}),e.jsx(U,{title:"Circumference and Minimum Degree",children:e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," is 2-connected with ",e.jsx(a,{math:"n"})," vertices and ",e.jsx(a,{math:"\\delta(G) \\geq k"}),", then"," ",e.jsx(a,{math:"c(G) \\geq \\min(2k, n)"}),"."]})}),e.jsx(U,{title:"Dirac's Theorem (Cycle Version)",children:e.jsxs("p",{children:["If ",e.jsx(a,{math:"G"})," is 2-connected with ",e.jsx(a,{math:"n"})," vertices and ",e.jsx(a,{math:"\\delta(G) \\geq n/2"}),", then"," ",e.jsx(a,{math:"c(G) = n"})," (Hamiltonian)."]})}),e.jsx(me,{title:"Sharp Examples",children:e.jsxs("p",{children:[e.jsx(a,{math:"K_{k,k+1}"})," has"," ",e.jsx(a,{math:"\\delta = k"})," and ",e.jsx(a,{math:"c = 2k"})," (longest cycle alternates between the two parts)."]})}),e.jsx("h2",{children:"Extremal Problems for Trees"}),e.jsxs(te,{title:"Wiener Index",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Wiener index"})," of a connected graph ",e.jsx(a,{math:"G"})," ","is the sum of all pairwise distances:"]}),e.jsx(we,{math:"W(G) = \\sum_{\\{u,v\\} \\subseteq V(G)} d(u, v)"})]}),e.jsxs(U,{title:"Wiener Index of Trees",children:[e.jsxs("p",{children:["Among all trees on ",e.jsx(a,{math:"n"})," vertices:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Minimum:"})," Star ",e.jsx(a,{math:"K_{1,n-1}"})," with"," ",e.jsx(a,{math:"W = (n-1)^2"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Maximum:"})," Path ",e.jsx(a,{math:"P_n"})," with"," ",e.jsx(a,{math:"W = \\binom{n+1}{3}"})]})]})]}),e.jsx("h2",{children:"List Coloring"}),e.jsx(te,{title:"List Chromatic Number",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"list chromatic number"})," (or ",e.jsx("strong",{children:"choosability"}),")"," ",e.jsx(a,{math:"\\text{ch}(G)"})," is the minimum ",e.jsx(a,{math:"k"})," such that ",e.jsx(a,{math:"G"})," is ",e.jsx(a,{math:"L"}),"-colorable whenever every vertex has a list of at least ",e.jsx(a,{math:"k"})," colors."]})}),e.jsxs(U,{title:"Choosability vs Chromatic Number",children:[e.jsxs("p",{children:[e.jsx(a,{math:"\\chi(G) \\leq \\text{ch}(G)"})," always, but the gap can be arbitrarily large."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx(a,{math:"K_{n,n}"})," has ",e.jsx(a,{math:"\\chi = 2"})," but"," ",e.jsx(a,{math:"\\text{ch}(K_{n,n}) = (1 + o(1)) \\log_2 n"}),"."]})]}),e.jsxs(U,{title:"Edge List Coloring",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"list chromatic index"})," ",e.jsx(a,{math:"\\text{ch}'(G)"})," ","satisfies:"]}),e.jsx(we,{math:"\\chi'(G) \\leq \\text{ch}'(G)"}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"List Coloring Conjecture:"})," ",e.jsx(a,{math:"\\text{ch}'(G) = \\chi'(G)"})," for all graphs."]}),e.jsx("p",{className:"mt-2 text-dark-300",children:"Proved for bipartite graphs (Galvin, 1995)."})]}),e.jsx("h2",{children:"Branchings and Arborescences"}),e.jsxs(te,{title:"Branching",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"branching"})," in a digraph is a set of arcs forming a forest where each vertex has in-degree at most 1."]}),e.jsxs("p",{className:"mt-2",children:["An ",e.jsx("strong",{children:"arborescence"})," (or ",e.jsx("strong",{children:"rooted tree"}),") is a branching where exactly one vertex (the root) has in-degree 0 and all other vertices have in-degree 1."]})]}),e.jsx(U,{title:"Edmonds' Branching Theorem",children:e.jsxs("p",{children:["A digraph ",e.jsx(a,{math:"D"})," contains ",e.jsx(a,{math:"k"})," edge-disjoint spanning arborescences rooted at ",e.jsx(a,{math:"r"})," if and only if for every non-empty ",e.jsx(a,{math:"S \\subseteq V - \\{r\\}"}),", the number of arcs entering ",e.jsx(a,{math:"S"})," is at least ",e.jsx(a,{math:"k"}),"."]})}),e.jsx("h2",{children:"Encodings and Counting"}),e.jsxs(te,{title:"Prfer Sequence",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"Prfer sequence"})," is a bijective encoding of labeled trees on"," ",e.jsx(a,{math:"[n]"})," as sequences in"," ",e.jsx(a,{math:"[n]^{n-2}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["This gives another proof of Cayley's formula:"," ",e.jsx(a,{math:"n^{n-2}"})," labeled trees."]})]}),e.jsxs(U,{title:"Counting Spanning Trees",children:[e.jsx("p",{children:"The Matrix Tree Theorem counts spanning trees using the determinant of a reduced Laplacian matrix:"}),e.jsx(we,{math:"\\tau(G) = \\det(L[v])"}),e.jsxs("p",{className:"mt-2",children:["where ",e.jsx(a,{math:"L"})," is the Laplacian matrix and"," ",e.jsx(a,{math:"L[v]"})," is ",e.jsx(a,{math:"L"})," with row and column"," ",e.jsx(a,{math:"v"})," removed."]})]}),e.jsx("h2",{children:"Extremal Problems for Bipartite Graphs"}),e.jsxs(U,{title:"Zarankiewicz Problem",children:[e.jsxs("p",{children:["Let ",e.jsx(a,{math:"z(m, n; s, t)"})," be the maximum edges in an"," ",e.jsx(a,{math:"m \\times n"})," bipartite graph with no"," ",e.jsx(a,{math:"K_{s,t}"})," subgraph."]}),e.jsx(we,{math:"z(m, n; s, t) \\leq \\frac{(t-1)^{1/s}}{2} n m^{1-1/s} + \\frac{s-1}{2}m"})]}),e.jsx("h2",{children:"Forbidden Subgraph Problems"}),e.jsx(te,{title:"Turn-Type Problems",children:e.jsxs("p",{children:["For a family ",e.jsx(a,{math:"\\mathcal{F}"})," of graphs, the"," ",e.jsx("strong",{children:"extremal number"})," ",e.jsx(a,{math:"ex(n, \\mathcal{F})"})," is the maximum edges in an ",e.jsx(a,{math:"n"}),"-vertex graph containing no member of ",e.jsx(a,{math:"\\mathcal{F}"})," as a subgraph."]})}),e.jsxs(U,{title:"Erds-Stone Theorem",children:[e.jsxs("p",{children:["For any graph ",e.jsx(a,{math:"H"})," with ",e.jsx(a,{math:"\\chi(H) = r \\geq 2"}),":"]}),e.jsx(we,{math:"ex(n, H) = \\left(1 - \\frac{1}{r-1} + o(1)\\right) \\binom{n}{2}"}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["This determines the asymptotic extremal number for all non-bipartite"," ",e.jsx(a,{math:"H"}),"."]})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Circumference:"})," Longest cycle length; related to minimum degree and connectivity."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Wiener Index:"})," Sum of distances; extremized by star and path."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"List Coloring:"})," ",e.jsx(a,{math:"\\text{ch}(G) \\geq \\chi(G)"}),", can be much larger."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Branchings:"})," Directed forests; Edmonds' theorem characterizes edge-disjoint spanning arborescences."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Erds-Stone:"})," Asymptotic extremal number depends only on chromatic number."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Encodings:"})," Prfer sequences, Matrix Tree Theorem for counting."]})]})]})}function aI(){return e.jsxs(st,{sectionId:27,children:[e.jsx("p",{children:"Random graph theory studies the typical properties of graphs when edges are chosen randomly. Introduced by Erds and Rnyi in 1959, this field reveals that graph properties often have sharp thresholds: small changes in edge probability cause dramatic transitions. Random graphs also provide existence proofs for graphs with specific properties through the probabilistic method."}),e.jsx("h2",{children:"Random Graph Models"}),e.jsx(te,{title:"Erds-Rnyi Model G(n,p)",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Erds-Rnyi random graph"})," ",e.jsx(a,{math:"G(n, p)"})," is a probability distribution on graphs with"," ",e.jsx(a,{math:"n"})," labeled vertices where each of the"," ",e.jsx(a,{math:"\\binom{n}{2}"})," possible edges appears independently with probability ",e.jsx(a,{math:"p"}),"."]})}),e.jsxs(te,{title:"Alternative Model G(n,m)",children:[e.jsxs("p",{children:[e.jsx(a,{math:"G(n, m)"})," is the uniform distribution on all graphs with"," ",e.jsx(a,{math:"n"})," vertices and exactly ",e.jsx(a,{math:"m"})," edges."]}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["When ",e.jsx(a,{math:"m \\approx p\\binom{n}{2}"}),", the models behave similarly."]})]}),e.jsx(Gz,{className:"my-8"}),e.jsx("h2",{children:"Basic Properties"}),e.jsxs(U,{title:"Expected Number of Edges",children:[e.jsxs("p",{children:["In ",e.jsx(a,{math:"G(n, p)"}),":"]}),e.jsx(we,{math:"\\mathbb{E}[|E|] = p \\binom{n}{2} \\approx \\frac{pn^2}{2}"})]}),e.jsx(U,{title:"Expected Number of Triangles",children:e.jsx(we,{math:"\\mathbb{E}[\\#\\text{ triangles}] = \\binom{n}{3} p^3 \\approx \\frac{n^3 p^3}{6}"})}),e.jsx(me,{title:"Sparse vs Dense Random Graphs",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(a,{math:"p = 1/n^2"}),": Very sparse, almost no edges"]}),e.jsxs("li",{children:[e.jsx(a,{math:"p = 1/n"}),": Average degree constant"]}),e.jsxs("li",{children:[e.jsx(a,{math:"p = \\log n / n"}),": Around connectivity threshold"]}),e.jsxs("li",{children:[e.jsx(a,{math:"p = 1/2"}),': Dense, "typical" random graph']})]})}),e.jsx("h2",{children:"Threshold Functions"}),e.jsxs(te,{title:"Threshold Function",children:[e.jsxs("p",{children:["A function ",e.jsx(a,{math:"t(n)"})," is a ",e.jsx("strong",{children:"threshold function"})," ","for property ",e.jsx(a,{math:"\\mathcal{P}"})," if:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsx("li",{children:e.jsx(a,{math:"p(n)/t(n) \\to 0 \\implies \\Pr[G(n,p) \\text{ has } \\mathcal{P}] \\to 0"})}),e.jsx("li",{children:e.jsx(a,{math:"p(n)/t(n) \\to \\infty \\implies \\Pr[G(n,p) \\text{ has } \\mathcal{P}] \\to 1"})})]}),e.jsxs("p",{className:"mt-2",children:["A ",e.jsx("strong",{children:"sharp threshold"})," occurs when the transition happens over a small range of ",e.jsx(a,{math:"p"}),"."]})]}),e.jsxs(U,{title:"Threshold for Containing H",children:[e.jsxs("p",{children:["For a graph ",e.jsx(a,{math:"H"})," with ",e.jsx(a,{math:"v"})," vertices and"," ",e.jsx(a,{math:"e"})," edges, the threshold for ",e.jsx(a,{math:"G(n, p)"})," ","to contain ",e.jsx(a,{math:"H"})," is:"]}),e.jsx(we,{math:"t(n) = n^{-v/e}"}),e.jsxs("p",{className:"mt-2 text-dark-300",children:["More precisely, when ",e.jsx(a,{math:"H"}),' is "balanced": max density over all subgraphs equals density of ',e.jsx(a,{math:"H"}),"."]})]}),e.jsxs(me,{title:"Triangle Threshold",children:[e.jsxs("p",{children:["Triangle: ",e.jsx(a,{math:"v = 3"}),", ",e.jsx(a,{math:"e = 3"}),". Threshold:"," ",e.jsx(a,{math:"t(n) = n^{-1} = 1/n"}),"."]}),e.jsxs("p",{className:"mt-2",children:["If ",e.jsx(a,{math:"p \\ll 1/n"}),": almost surely no triangles. If"," ",e.jsx(a,{math:"p \\gg 1/n"}),": almost surely many triangles."]})]}),e.jsx("h2",{children:"Connectivity"}),e.jsxs(U,{title:"Connectivity Threshold",children:[e.jsxs("p",{children:["The threshold for ",e.jsx(a,{math:"G(n, p)"})," to be connected is"," ",e.jsx(a,{math:"p = \\frac{\\log n}{n}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["More precisely: if"," ",e.jsx(a,{math:"p = \\frac{\\log n + c}{n}"})," for constant"," ",e.jsx(a,{math:"c"}),":"]}),e.jsx(we,{math:"\\Pr[G(n,p) \\text{ connected}] \\to e^{-e^{-c}}"}),e.jsx("p",{className:"mt-2 text-dark-300",children:"This is a sharp threshold with a specific limiting distribution."})]}),e.jsxs(U,{title:"Isolated Vertices",children:[e.jsxs("p",{children:["The expected number of isolated vertices in ",e.jsx(a,{math:"G(n, p)"})," is"," ",e.jsx(a,{math:"n(1-p)^{n-1}"}),"."]}),e.jsxs("p",{className:"mt-2",children:["When ",e.jsx(a,{math:"p = \\frac{\\log n}{n}"}),", this equals approximately"," ",e.jsx(a,{math:"n \\cdot e^{-\\log n} = 1"}),". The graph becomes connected precisely when the last isolated vertex gets an edge."]})]}),e.jsx("h2",{children:"Evolution of Random Graphs"}),e.jsx(te,{title:"Giant Component",children:e.jsxs("p",{children:["A ",e.jsx("strong",{children:"giant component"})," is a connected component containing a constant fraction of all vertices."]})}),e.jsxs(U,{title:"Phase Transition at p = 1/n",children:[e.jsxs("p",{children:["The random graph ",e.jsx(a,{math:"G(n, p)"})," undergoes a"," ",e.jsx("strong",{children:"phase transition"})," at ",e.jsx(a,{math:"p = 1/n"}),":"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(a,{math:"p = c/n"})," with ",e.jsx(a,{math:"c < 1"}),": All components have ",e.jsx(a,{math:"O(\\log n)"})," vertices."]}),e.jsxs("li",{children:[e.jsx(a,{math:"p = 1/n"}),": Largest component has"," ",e.jsx(a,{math:"O(n^{2/3})"})," vertices."]}),e.jsxs("li",{children:[e.jsx(a,{math:"p = c/n"})," with ",e.jsx(a,{math:"c > 1"}),": Unique giant component with ",e.jsx(a,{math:"\\Theta(n)"})," vertices; all others"," ",e.jsx(a,{math:"O(\\log n)"}),"."]})]})]}),e.jsx("h2",{children:"The Probabilistic Method"}),e.jsxs(U,{title:"Existence via Expectation",children:[e.jsxs("p",{children:["If the expected value of a random variable ",e.jsx(a,{math:"X"})," is"," ",e.jsx(a,{math:"\\mu"}),", then:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:["There exists an outcome with ",e.jsx(a,{math:"X \\geq \\mu"})]}),e.jsxs("li",{children:["There exists an outcome with ",e.jsx(a,{math:"X \\leq \\mu"})]})]})]}),e.jsxs(me,{title:"Large Independent Sets",children:[e.jsx("p",{children:"We can prove existence of graphs with large independence number but small clique number using random graphs:"}),e.jsxs("p",{className:"mt-2",children:["In ",e.jsx(a,{math:"G(n, 1/2)"}),": expected clique number "," ",e.jsx(a,{math:"2\\log_2 n"}),". Expected independence number also "," ",e.jsx(a,{math:"2\\log_2 n"}),". So random graphs have"," ",e.jsx(a,{math:"\\chi \\approx n/(2\\log n)"})," but"," ",e.jsx(a,{math:"\\omega \\approx 2\\log n"}),"."]})]}),e.jsx("h2",{children:"Chromatic Number of Random Graphs"}),e.jsxs(U,{title:"Chromatic Number of G(n, 1/2)",children:[e.jsxs("p",{children:["For ",e.jsx(a,{math:"G \\sim G(n, 1/2)"}),":"]}),e.jsx(we,{math:"\\chi(G) = (1 + o(1)) \\frac{n}{2\\log_2 n}"}),e.jsx("p",{className:"mt-2",children:"almost surely."})]}),e.jsx(U,{title:"Concentration",children:e.jsxs("p",{children:["The chromatic number of ",e.jsx(a,{math:"G(n, 1/2)"})," is concentrated in an interval of width ",e.jsx(a,{math:"O(\\sqrt{n})"}),". Sharper concentration is a major open problem."]})}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"G(n,p):"})," Each edge present independently with probability"," ",e.jsx(a,{math:"p"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Thresholds:"})," Many properties have sharp thresholds; small changes in ",e.jsx(a,{math:"p"})," cause dramatic transitions."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Connectivity:"})," Threshold at"," ",e.jsx(a,{math:"p = \\log n / n"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Giant Component:"})," Phase transition at"," ",e.jsx(a,{math:"p = 1/n"}),"."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Probabilistic Method:"})," Random graphs prove existence of extremal structures."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Chromatic Number:"})," Typically"," ",e.jsx(a,{math:"\\Theta(n/\\log n)"})," for ",e.jsx(a,{math:"G(n, 1/2)"}),"."]})]})]})}function lI(){return e.jsxs(st,{sectionId:28,children:[e.jsx("p",{children:"Spectral graph theory studies graphs through the eigenvalues of associated matrices. The spectrum (multiset of eigenvalues) encodes surprising amounts of structural information. This algebraic perspective connects graph theory to linear algebra and provides powerful tools for bounding graph parameters."}),e.jsx("h2",{children:"Graph Matrices"}),e.jsxs(te,{title:"Adjacency Matrix",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"adjacency matrix"})," ",e.jsx(a,{math:"A(G)"})," of a graph"," ",e.jsx(a,{math:"G"})," with vertices ",e.jsx(a,{math:"v_1, \\ldots, v_n"})," ","is the ",e.jsx(a,{math:"n \\times n"})," matrix where"," ",e.jsx(a,{math:"A_{ij} = 1"})," if ",e.jsx(a,{math:"v_i v_j \\in E(G)"}),", else ",e.jsx(a,{math:"A_{ij} = 0"}),"."]}),e.jsxs("p",{className:"mt-2",children:["For simple graphs, ",e.jsx(a,{math:"A"})," is symmetric with 0s on the diagonal."]})]}),e.jsxs(te,{title:"Laplacian Matrix",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Laplacian matrix"})," is ",e.jsx(a,{math:"L(G) = D(G) - A(G)"}),", where ",e.jsx(a,{math:"D(G)"})," is the diagonal degree matrix."]}),e.jsx(we,{math:"L_{ij} = \\begin{cases} d(v_i) & \\text{if } i = j \\\\ -1 & \\text{if } v_i v_j \\in E(G) \\\\ 0 & \\text{otherwise} \\end{cases}"})]}),e.jsxs(me,{title:"Matrices of K",children:[e.jsxs("p",{children:["For the triangle ",e.jsx(a,{math:"K_3"}),":"]}),e.jsx(we,{math:"A = \\begin{pmatrix} 0 & 1 & 1 \\\\ 1 & 0 & 1 \\\\ 1 & 1 & 0 \\end{pmatrix}, \\quad L = \\begin{pmatrix} 2 & -1 & -1 \\\\ -1 & 2 & -1 \\\\ -1 & -1 & 2 \\end{pmatrix}"})]}),e.jsx("h2",{children:"Eigenvalues and Spectrum"}),e.jsxs(te,{title:"Spectrum",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"spectrum"})," of ",e.jsx(a,{math:"G"})," is the multiset of eigenvalues of ",e.jsx(a,{math:"A(G)"}),", usually listed as"," ",e.jsx(a,{math:"\\lambda_1 \\geq \\lambda_2 \\geq \\cdots \\geq \\lambda_n"}),"."]}),e.jsxs("p",{className:"mt-2",children:["The ",e.jsx("strong",{children:"Laplacian spectrum"})," has eigenvalues"," ",e.jsx(a,{math:"0 = \\mu_1 \\leq \\mu_2 \\leq \\cdots \\leq \\mu_n"}),"."]})]}),e.jsx(U,{title:"Basic Spectral Properties",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"Adjacency eigenvalues are real (symmetric matrix)."}),e.jsxs("li",{children:[e.jsx(a,{math:"\\sum \\lambda_i = \\text{tr}(A) = 0"}),"."]}),e.jsxs("li",{children:[e.jsx(a,{math:"\\sum \\lambda_i^2 = \\text{tr}(A^2) = 2m"}),"."]}),e.jsxs("li",{children:[e.jsx(a,{math:"\\sum \\lambda_i^3 = \\text{tr}(A^3) = 6 \\times \\#\\text{triangles}"}),"."]}),e.jsxs("li",{children:["Laplacian always has eigenvalue 0 (eigenvector ",e.jsx(a,{math:"(1, \\ldots, 1)^T"}),")."]})]})}),e.jsxs(me,{title:"Spectrum of Complete Graph",children:[e.jsxs("p",{children:[e.jsx(a,{math:"K_n"})," has adjacency matrix ",e.jsx(a,{math:"J - I"})," ","where ",e.jsx(a,{math:"J"})," is all-ones matrix."]}),e.jsxs("p",{className:"mt-2",children:["Eigenvalues: ",e.jsx(a,{math:"n - 1"})," (multiplicity 1) and"," ",e.jsx(a,{math:"-1"})," (multiplicity ",e.jsx(a,{math:"n - 1"}),")."]})]}),e.jsxs(me,{title:"Spectrum of Cycle",children:[e.jsxs("p",{children:[e.jsx(a,{math:"C_n"})," has eigenvalues"," ",e.jsx(a,{math:"2\\cos(2\\pi k/n)"})," for ",e.jsx(a,{math:"k = 0, 1, \\ldots, n-1"}),"."]}),e.jsxs("p",{className:"mt-2",children:["Largest eigenvalue: ",e.jsx(a,{math:"\\lambda_1 = 2"}),". Smallest:"," ",e.jsx(a,{math:"\\lambda_n = -2"})," if ",e.jsx(a,{math:"n"})," is even."]})]}),e.jsx("h2",{children:"Spectral Bounds"}),e.jsxs(U,{title:"Largest Eigenvalue Bounds",children:[e.jsxs("p",{children:["For a graph ",e.jsx(a,{math:"G"})," with maximum degree"," ",e.jsx(a,{math:"\\Delta"})," and average degree ",e.jsx(a,{math:"\\bar{d}"}),":"]}),e.jsx(we,{math:"\\bar{d} \\leq \\lambda_1 \\leq \\Delta"}),e.jsxs("p",{className:"mt-2",children:["Equality on left iff ",e.jsx(a,{math:"G"})," is regular. Equality on right always for ",e.jsx(a,{math:"\\lambda_1"}),"."]})]}),e.jsxs(U,{title:"Chromatic Number Bound",children:[e.jsx(we,{math:"\\chi(G) \\leq 1 + \\lambda_1"}),e.jsxs("p",{className:"mt-2",children:["Also: ",e.jsx(a,{math:"\\chi(G) \\geq 1 + \\frac{\\lambda_1}{-\\lambda_n}"})," ","(Hoffman bound)."]})]}),e.jsx(U,{title:"Independence Number Bound (Hoffman)",children:e.jsx(we,{math:"\\alpha(G) \\leq \\frac{n \\cdot (-\\lambda_n)}{\\lambda_1 - \\lambda_n}"})}),e.jsx("h2",{children:"Algebraic Connectivity"}),e.jsx(te,{title:"Algebraic Connectivity",children:e.jsxs("p",{children:["The ",e.jsx("strong",{children:"algebraic connectivity"})," ",e.jsx(a,{math:"a(G) = \\mu_2"})," is the second-smallest Laplacian eigenvalue."]})}),e.jsx(U,{title:"Fiedler's Theorem",children:e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx(a,{math:"a(G) > 0"})," iff ",e.jsx(a,{math:"G"})," is connected."]}),e.jsxs("li",{children:[e.jsx(a,{math:"a(G) \\leq \\kappa(G)"})," (vertex connectivity)."]}),e.jsxs("li",{children:[e.jsx(a,{math:"a(G) \\leq \\kappa'(G)"})," (edge connectivity)."]})]})}),e.jsx("h2",{children:"Strongly Regular Graphs"}),e.jsxs(te,{title:"Strongly Regular Graph",children:[e.jsxs("p",{children:["A graph is ",e.jsx("strong",{children:"strongly regular"})," with parameters"," ",e.jsx(a,{math:"(n, k, \\lambda, \\mu)"})," if:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx(a,{math:"n"})," vertices, ",e.jsx(a,{math:"k"}),"-regular"]}),e.jsxs("li",{children:["Every pair of adjacent vertices has exactly"," ",e.jsx(a,{math:"\\lambda"})," common neighbors"]}),e.jsxs("li",{children:["Every pair of non-adjacent vertices has exactly"," ",e.jsx(a,{math:"\\mu"})," common neighbors"]})]})]}),e.jsxs(me,{title:"Petersen Graph",children:[e.jsxs("p",{children:["The Petersen graph is strongly regular with parameters"," ",e.jsx(a,{math:"(10, 3, 0, 1)"}),":"]}),e.jsxs("ul",{className:"list-disc list-inside",children:[e.jsx("li",{children:"10 vertices, 3-regular"}),e.jsx("li",{children:"Adjacent vertices have 0 common neighbors (triangle-free)"}),e.jsx("li",{children:"Non-adjacent vertices have exactly 1 common neighbor"})]}),e.jsx("p",{className:"mt-2",children:"Eigenvalues: 3 (mult. 1), 1 (mult. 5), -2 (mult. 4)."})]}),e.jsxs(U,{title:"Eigenvalues of Strongly Regular Graphs",children:[e.jsxs("p",{children:["A strongly regular graph with parameters"," ",e.jsx(a,{math:"(n, k, \\lambda, \\mu)"})," has exactly 3 distinct eigenvalues:"]}),e.jsxs("ul",{className:"mt-2 list-disc list-inside",children:[e.jsxs("li",{children:[e.jsx(a,{math:"k"})," (multiplicity 1)"]}),e.jsx("li",{children:e.jsx(a,{math:"r = \\frac{(\\lambda - \\mu) + \\sqrt{(\\lambda - \\mu)^2 + 4(k - \\mu)}}{2}"})}),e.jsx("li",{children:e.jsx(a,{math:"s = \\frac{(\\lambda - \\mu) - \\sqrt{(\\lambda - \\mu)^2 + 4(k - \\mu)}}{2}"})})]})]}),e.jsx("h2",{children:"Isospectral Graphs"}),e.jsx(te,{title:"Isospectral",children:e.jsxs("p",{children:["Two graphs are ",e.jsx("strong",{children:"isospectral"})," (or ",e.jsx("strong",{children:"cospectral"}),") if they have the same spectrum."]})}),e.jsxs(U,{title:"Spectrum Doesn't Determine Structure",children:[e.jsx("p",{children:"Non-isomorphic graphs can be isospectral. The smallest example has 5 vertices."}),e.jsx("p",{className:"mt-2",children:"However, almost all graphs are determined by their spectrum (proved probabilistically)."})]}),e.jsx("h2",{children:"Applications"}),e.jsx("h3",{children:"Graph Partitioning"}),e.jsxs("p",{children:["The ",e.jsx("strong",{children:"Fiedler vector"})," (eigenvector for ",e.jsx(a,{math:"\\mu_2"}),") provides a way to partition vertices into two sets with few edges between them (spectral partitioning)."]}),e.jsx("h3",{children:"Random Walks"}),e.jsxs("p",{children:["The mixing time of random walks on graphs is controlled by the spectral gap"," ",e.jsx(a,{math:"\\lambda_1 - \\lambda_2"})," of the adjacency matrix. Larger gap means faster mixing."]}),e.jsx("h3",{children:"Expander Graphs"}),e.jsxs(te,{title:"Expander",children:[e.jsxs("p",{children:["A ",e.jsx(a,{math:"k"}),"-regular graph is an"," ",e.jsx(a,{math:"(n, k, \\epsilon)"}),"-",e.jsx("strong",{children:"expander"})," if"," ",e.jsx(a,{math:"\\lambda_2 \\leq k - \\epsilon"}),"."]}),e.jsx("p",{className:"mt-2",children:"Expanders have excellent connectivity properties and are used in coding theory and derandomization."})]}),e.jsx("h2",{children:"Key Takeaways"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Spectrum:"})," Eigenvalues of adjacency matrix encode structural information."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Bounds:"})," Spectral bounds on chromatic number, independence number, connectivity."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Laplacian:"})," Second eigenvalue measures algebraic connectivity."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Strongly Regular:"})," Exactly 3 distinct eigenvalues; highly symmetric."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Not Determined:"})," Spectrum doesn't uniquely determine the graph."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Applications:"})," Graph partitioning, random walks, expanders, network analysis."]})]})]})}const oI={1:zz,2:Iz,3:Dz,4:Rz,5:Oz,6:qz,7:Lz,8:Pz,9:Bz,10:Hz,11:Uz,12:Fz,13:Vz,14:Kz,15:Zz,16:Xz,17:Yz,18:Wz,19:Qz,20:Jz,21:eI,22:tI,23:sI,24:nI,25:rI,26:iI,27:aI,28:lI};function cI({children:s}){const[t,n]=D.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-dark-950",children:[e.jsx(Ox,{sidebarOpen:t,onToggleSidebar:()=>n(!t)}),e.jsx(qx,{isOpen:t,onClose:()=>n(!1)}),e.jsx("main",{className:"pt-16 lg:pl-72",children:s})]})}function hI(){const{id:s}=Xv(),t=parseInt(s||"0",10),n=oI[t];return n?e.jsx(n,{}):e.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Section Not Found"}),e.jsx("p",{className:"text-dark-400",children:"This section is not yet implemented."})]})})}function dI(){return e.jsxs(e.Fragment,{children:[e.jsx(cI,{children:e.jsxs(l6,{children:[e.jsx(la,{path:"/",element:e.jsx(Pv,{})}),e.jsx(la,{path:"/leaderboard",element:e.jsx(pG,{})}),e.jsx(la,{path:"/theorems",element:e.jsx(KG,{})}),e.jsx(la,{path:"/interactive",element:e.jsx(ZG,{})}),e.jsx(la,{path:"/section/:id",element:e.jsx(hI,{})}),e.jsx(la,{path:"/quiz/section/:id",element:e.jsx(YG,{})}),e.jsx(la,{path:"*",element:e.jsx(Pv,{})})]})}),e.jsx(hG,{})]})}function uI(){return e.jsx(a6,{children:e.jsx(tC,{children:e.jsx(aG,{children:e.jsx(dI,{})})})})}Dw.createRoot(document.getElementById("root")).render(e.jsx(D.StrictMode,{children:e.jsx(uI,{})}));
