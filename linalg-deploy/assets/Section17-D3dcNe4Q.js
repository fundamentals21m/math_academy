import{j as a}from"./vendor-animation-8XabJWu9.js";import{L as i,D as s,E as h,T as r}from"./ContentBlocks-KQXPsK8X.js";import{I as e,M as t}from"./MathBlock-ByDekCQ-.js";import"./vendor-react-dnKiRYoA.js";import"./index-D4aEnt1z.js";import"./vendor-math-ClxlXyPc.js";import"./vendor-firebase-core-DIJkQv9Q.js";import"./index-CHJUcX0S.js";function j(){return a.jsxs(i,{sectionId:17,children:[a.jsxs("p",{children:["When ",a.jsx(e,{children:"A\\mathbf{x} = \\mathbf{b}"})," has no solution, the best we can do is ",a.jsx("strong",{children:"project"}),a.jsx(e,{children:"\\mathbf{b}"})," onto the column space. Projections are the key to least squares."]}),a.jsx("h2",{children:"Projection onto a Line"}),a.jsxs(s,{title:"Projection onto a Vector",className:"my-6",children:[a.jsxs("p",{children:["The projection of ",a.jsx(e,{children:"\\mathbf{b}"})," onto the line through ",a.jsx(e,{children:"\\mathbf{a}"})," is:"]}),a.jsx(t,{children:"\\mathbf{p} = \\frac{\\mathbf{a}^T\\mathbf{b}}{\\mathbf{a}^T\\mathbf{a}}\\mathbf{a}"}),a.jsxs("p",{className:"mt-2",children:["The ",a.jsx("strong",{children:"error"})," ",a.jsx(e,{children:"\\mathbf{e} = \\mathbf{b} - \\mathbf{p}"})," is perpendicular to ",a.jsx(e,{children:"\\mathbf{a}"}),"."]})]}),a.jsxs(h,{title:"Project b onto a",className:"my-6",children:[a.jsx(t,{children:"\\mathbf{a} = \\begin{bmatrix} 1 \\\\ 1 \\\\ 1 \\end{bmatrix}, \\quad \\mathbf{b} = \\begin{bmatrix} 1 \\\\ 2 \\\\ 3 \\end{bmatrix}"}),a.jsx(t,{children:"\\mathbf{p} = \\frac{\\mathbf{a}^T\\mathbf{b}}{\\mathbf{a}^T\\mathbf{a}}\\mathbf{a} = \\frac{1+2+3}{1+1+1}\\begin{bmatrix} 1 \\\\ 1 \\\\ 1 \\end{bmatrix} = \\frac{6}{3}\\begin{bmatrix} 1 \\\\ 1 \\\\ 1 \\end{bmatrix} = \\begin{bmatrix} 2 \\\\ 2 \\\\ 2 \\end{bmatrix}"})]}),a.jsx("h2",{children:"The Projection Matrix"}),a.jsxs(s,{title:"Projection Matrix P (onto a line)",className:"my-6",children:[a.jsxs("p",{children:["The projection onto the line through ",a.jsx(e,{children:"\\mathbf{a}"})," is ",a.jsx(e,{children:"\\mathbf{p} = P\\mathbf{b}"}),", where:"]}),a.jsx(t,{children:"P = \\frac{\\mathbf{a}\\mathbf{a}^T}{\\mathbf{a}^T\\mathbf{a}}"}),a.jsxs("p",{className:"mt-2 text-amber-400",children:["Note: ",a.jsx(e,{children:"\\mathbf{a}\\mathbf{a}^T"})," is a matrix, ",a.jsx(e,{children:"\\mathbf{a}^T\\mathbf{a}"})," is a number!"]})]}),a.jsx(r,{title:"Properties of P",className:"my-6",proof:a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:[a.jsxs("strong",{children:[a.jsx(e,{children:"P^2 = P"}),":"]})," Once a vector is projected onto the line, projecting again doesn't change it. Algebraically:"]}),a.jsx(t,{children:"P^2 = \\frac{\\mathbf{a}\\mathbf{a}^T}{\\mathbf{a}^T\\mathbf{a}} \\cdot \\frac{\\mathbf{a}\\mathbf{a}^T}{\\mathbf{a}^T\\mathbf{a}} = \\frac{\\mathbf{a}(\\mathbf{a}^T\\mathbf{a})\\mathbf{a}^T}{(\\mathbf{a}^T\\mathbf{a})^2} = \\frac{\\mathbf{a}\\mathbf{a}^T}{\\mathbf{a}^T\\mathbf{a}} = P"}),a.jsx("p",{className:"mt-2",children:a.jsxs("strong",{children:[a.jsx(e,{children:"P^T = P"}),":"]})}),a.jsx(t,{children:"P^T = \\left(\\frac{\\mathbf{a}\\mathbf{a}^T}{\\mathbf{a}^T\\mathbf{a}}\\right)^T = \\frac{(\\mathbf{a}\\mathbf{a}^T)^T}{\\mathbf{a}^T\\mathbf{a}} = \\frac{\\mathbf{a}\\mathbf{a}^T}{\\mathbf{a}^T\\mathbf{a}} = P"}),a.jsxs("p",{className:"mt-2",children:[a.jsx("strong",{children:"Rank = 1:"})," ",a.jsx(e,{children:"P = \\mathbf{a}\\mathbf{a}^T / (\\mathbf{a}^T\\mathbf{a})"})," is a scalar times a rank-1 matrix (column times row)."]})]}),children:a.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[a.jsxs("li",{children:[a.jsx(e,{children:"P^2 = P"})," (projecting twice = projecting once)"]}),a.jsxs("li",{children:[a.jsx(e,{children:"P^T = P"})," (P is symmetric)"]}),a.jsxs("li",{children:["Column space of ",a.jsx(e,{children:"P"})," = line through ",a.jsx(e,{children:"\\mathbf{a}"})]}),a.jsxs("li",{children:["Rank of ",a.jsx(e,{children:"P"})," = 1"]})]})}),a.jsx("h2",{children:"Projection onto a Subspace"}),a.jsxs("p",{children:["When projecting onto a subspace spanned by several vectors (columns of ",a.jsx(e,{children:"A"}),"), we need to generalize."]}),a.jsxs(s,{title:"Projection onto Column Space",className:"my-6",children:[a.jsxs("p",{children:["The projection of ",a.jsx(e,{children:"\\mathbf{b}"})," onto the column space of ",a.jsx(e,{children:"A"})," is ",a.jsx(e,{children:"\\mathbf{p} = A\\hat{x}"}),", where ",a.jsx(e,{children:"\\hat{x}"})," solves the ",a.jsx("strong",{children:"normal equations"}),":"]}),a.jsx(t,{children:"A^TA\\hat{x} = A^T\\mathbf{b}"}),a.jsxs("p",{className:"mt-2",children:["The projection is: ",a.jsx(e,{children:"\\mathbf{p} = A\\hat{x} = A(A^TA)^{-1}A^T\\mathbf{b}"})]})]}),a.jsxs(r,{title:"Projection Matrix P (onto a subspace)",className:"my-6",proof:a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:["We need ",a.jsx(e,{children:"\\mathbf{p} = A\\hat{x}"})," where the error ",a.jsx(e,{children:"\\mathbf{e} = \\mathbf{b} - A\\hat{x}"})," is perpendicular to ",a.jsx(e,{children:"C(A)"}),"."]}),a.jsxs("p",{className:"mt-2",children:["For ",a.jsx(e,{children:"\\mathbf{e}"})," to be perpendicular to every column of ",a.jsx(e,{children:"A"}),":"]}),a.jsx(t,{children:"A^T(\\mathbf{b} - A\\hat{x}) = \\mathbf{0} \\quad \\Rightarrow \\quad A^TA\\hat{x} = A^T\\mathbf{b}"}),a.jsxs("p",{children:["These are the normal equations. Solving for ",a.jsx(e,{children:"\\hat{x}"})," (assuming ",a.jsx(e,{children:"A"})," has independent columns):"]}),a.jsx(t,{children:"\\hat{x} = (A^TA)^{-1}A^T\\mathbf{b}"}),a.jsxs("p",{children:["The projection is ",a.jsx(e,{children:"\\mathbf{p} = A\\hat{x} = A(A^TA)^{-1}A^T\\mathbf{b} = P\\mathbf{b}"}),"."]})]}),children:[a.jsx(t,{children:"P = A(A^TA)^{-1}A^T"}),a.jsxs("p",{className:"mt-2 text-amber-400",children:["Warning: ",a.jsx(e,{children:"(A^TA)^{-1}"})," is ",a.jsx("strong",{children:"not"})," the same as ",a.jsx(e,{children:"A^{-1}(A^T)^{-1}"}),"!"]})]}),a.jsxs(h,{title:"Projection in 2D",className:"my-6",children:[a.jsx("p",{children:"Project onto the column space of:"}),a.jsx(t,{children:"A = \\begin{bmatrix} 1 & 0 \\\\ 1 & 1 \\\\ 1 & 2 \\end{bmatrix}"}),a.jsx(t,{children:"A^TA = \\begin{bmatrix} 3 & 3 \\\\ 3 & 5 \\end{bmatrix}, \\quad (A^TA)^{-1} = \\frac{1}{6}\\begin{bmatrix} 5 & -3 \\\\ -3 & 3 \\end{bmatrix}"}),a.jsxs("p",{className:"mt-2",children:["The projection matrix ",a.jsx(e,{children:"P = A(A^TA)^{-1}A^T"})," is ",a.jsx(e,{children:"3 \\times 3"})," with rank 2."]})]}),a.jsx("h2",{children:"The Error Vector"}),a.jsxs(r,{title:"Error is Perpendicular",className:"my-6",proof:a.jsxs(a.Fragment,{children:[a.jsxs("p",{children:["The projection ",a.jsx(e,{children:"\\mathbf{p}"})," is the closest point to ",a.jsx(e,{children:"\\mathbf{b}"})," in ",a.jsx(e,{children:"C(A)"}),". For ",a.jsx(e,{children:"\\mathbf{p}"})," to minimize distance, the error ",a.jsx(e,{children:"\\mathbf{e}"})," must be perpendicular to ",a.jsx(e,{children:"C(A)"}),"."]}),a.jsxs("p",{className:"mt-2",children:["Algebraically: ",a.jsx(e,{children:"\\hat{x}"})," satisfies ",a.jsx(e,{children:"A^TA\\hat{x} = A^T\\mathbf{b}"}),", which rearranges to:"]}),a.jsx(t,{children:"A^TA\\hat{x} - A^T\\mathbf{b} = \\mathbf{0} \\quad \\Rightarrow \\quad A^T(A\\hat{x} - \\mathbf{b}) = \\mathbf{0} \\quad \\Rightarrow \\quad A^T\\mathbf{e} = \\mathbf{0}"}),a.jsxs("p",{children:["Since ",a.jsx(e,{children:"A^T\\mathbf{e} = \\mathbf{0}"}),", the error is orthogonal to every column of ",a.jsx(e,{children:"A"}),", hence to the entire column space."]})]}),children:[a.jsxs("p",{children:["The error ",a.jsx(e,{children:"\\mathbf{e} = \\mathbf{b} - \\mathbf{p} = \\mathbf{b} - A\\hat{x}"})," is perpendicular to the column space:"]}),a.jsx(t,{children:"A^T(\\mathbf{b} - A\\hat{x}) = \\mathbf{0}"}),a.jsxs("p",{className:"mt-2",children:["This is exactly why the normal equations ",a.jsx(e,{children:"A^TA\\hat{x} = A^T\\mathbf{b}"})," work!"]})]}),a.jsx("h2",{children:"Key Ideas"}),a.jsx("div",{className:"bg-gradient-to-br from-primary-500/10 to-dark-800/50 rounded-xl p-6 my-6 border border-primary-500/20",children:a.jsxs("ul",{className:"space-y-3 text-dark-200",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-primary-400 font-bold",children:"1."}),a.jsxs("span",{children:["Project ",a.jsx(e,{children:"\\mathbf{b}"})," onto line through ",a.jsx(e,{children:"\\mathbf{a}"}),": ",a.jsx(e,{children:"\\mathbf{p} = \\mathbf{a}(\\mathbf{a}^T\\mathbf{a})^{-1}\\mathbf{a}^T\\mathbf{b}"}),"."]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-primary-400 font-bold",children:"2."}),a.jsxs("span",{children:["Project ",a.jsx(e,{children:"\\mathbf{b}"})," onto column space of ",a.jsx(e,{children:"A"}),": ",a.jsx(e,{children:"\\mathbf{p} = A(A^TA)^{-1}A^T\\mathbf{b}"}),"."]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-primary-400 font-bold",children:"3."}),a.jsxs("span",{children:["Projection matrix: ",a.jsx(e,{children:"P = A(A^TA)^{-1}A^T"}),". Properties: ",a.jsx(e,{children:"P^2 = P"})," and ",a.jsx(e,{children:"P^T = P"}),"."]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-primary-400 font-bold",children:"4."}),a.jsxs("span",{children:["The error ",a.jsx(e,{children:"\\mathbf{e} = \\mathbf{b} - \\mathbf{p}"})," is perpendicular to the column space."]})]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"text-primary-400 font-bold",children:"5."}),a.jsxs("span",{children:[a.jsx(e,{children:"\\hat{x}"})," comes from the normal equations: ",a.jsx(e,{children:"A^TA\\hat{x} = A^T\\mathbf{b}"}),"."]})]})]})})]})}export{j as default};
