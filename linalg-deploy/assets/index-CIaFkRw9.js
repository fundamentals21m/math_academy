const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./Leaderboard-B-R53kFm.js","./vendor-animation-6GFvN5rC.js","./vendor-react-ByzHzWFU.js","./Sidebar-C__kcQsk.js","./vendor-math-ClxlXyPc.js","./vendor-firebase-core-DIJkQv9Q.js","./Theorems-QR11VCgL.js","./MathBlock-BTK9YHZB.js","./InteractiveModules-CX2gcR8B.js","./ChapterQuiz-BMc2jZVs.js","./index-Djvuv9mj.js","./SectionQuizPage-DuXVRlbY.js","./ProblemsIndex-DpltGfVr.js","./useProblemProgress-DtUyAnas.js","./part-01-CXPFFFiO.js","./part-02-CS-QNFMh.js","./part-03-SIbyOIN9.js","./part-04-b_a9TjtB.js","./part-05-BuL1hlNC.js","./part-06-BhCguoLf.js","./part-07-DSd7GkB3.js","./part-08-KqUBcV6y.js","./part-09-CqlYdf20.js","./part-10-DQEUsjWs.js","./part-11-SrdPiGN0.js","./part-12-LbXwVzo0.js","./ProblemsPart01-CONqQETJ.js","./ProblemSet-BgyCyQij.js","./ProblemsPart02-DILAD15w.js","./ProblemsPart03-DMEKXsia.js","./ProblemsPart04-BK6VXxnM.js","./ProblemsPart05-D3FBbyao.js","./ProblemsPart06-C1PnVu9B.js","./ProblemsPart07-KLf7fkUZ.js","./ProblemsPart08-Dgu7ZeQh.js","./ProblemsPart09-B2IEKn_Q.js","./ProblemsPart10-Cf1i-vcF.js","./ProblemsPart11-cpfGCEOZ.js","./ProblemsPart12-Wlpc-kSB.js","./Section01-DWyRBZV3.js","./ContentBlocks-ByGNY4hF.js","./Section02-_GzGN8og.js","./Section03-xs3YWs9A.js","./Section04-P5BOIscJ.js","./Section05-DsXg5JNf.js","./Section06-C_m24P9s.js","./Section07-McmenjW9.js","./Section08-DnwzcrCr.js","./Section09-BdXxV_Vv.js","./Section10-DzbJtSbj.js","./Section11-DOWSvg1w.js","./Section12-3l6AE25v.js","./Section13-B-3aFSk5.js","./Section14-hdL0eQJI.js","./Section15-DLGO14-t.js","./Section16-C87hEw_0.js","./Section17-C4-8_OhZ.js","./Section18-rEZHDOpM.js","./Section19-UiSCGjs9.js","./Section20-CIWHCr6V.js","./Section21-Br8zhTUn.js","./Section22-CAnRB0gI.js","./Section23-CLs_BWRd.js","./Section24-CXo0WFS3.js","./Section25-DrauEAI6.js","./Section26-DhlgJgb7.js","./Section27-AgoZSLEW.js","./Section28-LwkM9fsZ.js","./Section29-BI8tGMuQ.js","./Section30-CRnz8X_G.js","./Section31-4vgwMShD.js","./Section32-Cn_lKKki.js","./Section33-B81LC-Eb.js","./Section34-B7pxhEn-.js","./Section35-gU0A-XYO.js","./Section36-hqq4lKwP.js","./Section37-CHJfFtH6.js","./Section38-CPmQDcpD.js","./Section39-46vw5oUD.js","./Section40-CJ28nY71.js","./Section41-pp2hfnh7.js","./Section42-CNSZ10Fi.js","./Section43-Cq4LE5Vd.js","./Section44-CS_SpHE2.js","./Section45--p8bNaqN.js","./Section46-CYRDgxkL.js","./Section47-RHA69g9x.js","./Section48-B4tA_5TW.js","./Section49-il8RFgzm.js","./Section50-Z7DJv8_G.js"])))=>i.map(i=>d[i]);
import{j as S,m as xl,A as Td}from"./vendor-animation-6GFvN5rC.js";import{a as lE,b as uE,r as Z,L as cE,H as fE,R as hE,c as At,u as dE}from"./vendor-react-ByzHzWFU.js";import"./vendor-math-ClxlXyPc.js";import{L as $d,C as mr,g as v0,E as Gc,d as Nl,a as mE,b as _0,i as pE,v as gE,F as aa,o as yE,c as ai,e as vE,f as Il,p as S0,u as b0,h as E0,j as _E,k as SE,l as bE,m as jn,n as EE,q as Zc,r as TE,s as Ml,t as AE,w as wE,x as xE,y as NE}from"./vendor-firebase-core-DIJkQv9Q.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=r(l);fetch(l.href,h)}})();var ed={exports:{}},hl={},td={exports:{}},nd={};var Uy;function OE(){return Uy||(Uy=1,(function(i){function t(G,W){var ue=G.length;G.push(W);e:for(;0<ue;){var Me=ue-1>>>1,Ue=G[Me];if(0<l(Ue,W))G[Me]=W,G[ue]=Ue,ue=Me;else break e}}function r(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var W=G[0],ue=G.pop();if(ue!==W){G[0]=ue;e:for(var Me=0,Ue=G.length,Te=Ue>>>1;Me<Te;){var ze=2*(Me+1)-1,he=G[ze],nt=ze+1,Re=G[nt];if(0>l(he,ue))nt<Ue&&0>l(Re,he)?(G[Me]=Re,G[nt]=ue,Me=nt):(G[Me]=he,G[ze]=ue,Me=ze);else if(nt<Ue&&0>l(Re,ue))G[Me]=Re,G[nt]=ue,Me=nt;else break e}}return W}function l(G,W){var ue=G.sortIndex-W.sortIndex;return ue!==0?ue:G.id-W.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var d=Date,y=d.now();i.unstable_now=function(){return d.now()-y}}var _=[],E=[],C=1,R=null,U=3,F=!1,J=!1,te=!1,le=!1,xe=typeof setTimeout=="function"?setTimeout:null,Se=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function ne(G){for(var W=r(E);W!==null;){if(W.callback===null)a(E);else if(W.startTime<=G)a(E),W.sortIndex=W.expirationTime,t(_,W);else break;W=r(E)}}function pe(G){if(te=!1,ne(G),!J)if(r(_)!==null)J=!0,be||(be=!0,I());else{var W=r(E);W!==null&&Ee(pe,W.startTime-G)}}var be=!1,z=-1,w=5,x=-1;function N(){return le?!0:!(i.unstable_now()-x<w)}function A(){if(le=!1,be){var G=i.unstable_now();x=G;var W=!0;try{e:{J=!1,te&&(te=!1,Se(z),z=-1),F=!0;var ue=U;try{t:{for(ne(G),R=r(_);R!==null&&!(R.expirationTime>G&&N());){var Me=R.callback;if(typeof Me=="function"){R.callback=null,U=R.priorityLevel;var Ue=Me(R.expirationTime<=G);if(G=i.unstable_now(),typeof Ue=="function"){R.callback=Ue,ne(G),W=!0;break t}R===r(_)&&a(_),ne(G)}else a(_);R=r(_)}if(R!==null)W=!0;else{var Te=r(E);Te!==null&&Ee(pe,Te.startTime-G),W=!1}}break e}finally{R=null,U=ue,F=!1}W=void 0}}finally{W?I():be=!1}}}var I;if(typeof ae=="function")I=function(){ae(A)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,Ne=T.port2;T.port1.onmessage=A,I=function(){Ne.postMessage(null)}}else I=function(){xe(A,0)};function Ee(G,W){z=xe(function(){G(i.unstable_now())},W)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return U},i.unstable_next=function(G){switch(U){case 1:case 2:case 3:var W=3;break;default:W=U}var ue=U;U=W;try{return G()}finally{U=ue}},i.unstable_requestPaint=function(){le=!0},i.unstable_runWithPriority=function(G,W){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ue=U;U=G;try{return W()}finally{U=ue}},i.unstable_scheduleCallback=function(G,W,ue){var Me=i.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Me+ue:Me):ue=Me,G){case 1:var Ue=-1;break;case 2:Ue=250;break;case 5:Ue=1073741823;break;case 4:Ue=1e4;break;default:Ue=5e3}return Ue=ue+Ue,G={id:C++,callback:W,priorityLevel:G,startTime:ue,expirationTime:Ue,sortIndex:-1},ue>Me?(G.sortIndex=ue,t(E,G),r(_)===null&&G===r(E)&&(te?(Se(z),z=-1):te=!0,Ee(pe,ue-Me))):(G.sortIndex=Ue,t(_,G),J||F||(J=!0,be||(be=!0,I()))),G},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(G){var W=U;return function(){var ue=U;U=W;try{return G.apply(this,arguments)}finally{U=ue}}}})(nd)),nd}var jy;function CE(){return jy||(jy=1,td.exports=OE()),td.exports}var Py;function RE(){if(Py)return hl;Py=1;var i=CE(),t=lE(),r=uE();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(h(e)!==e)throw Error(a(188))}function E(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return _(c),e;if(f===o)return _(c),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=c,o=f;else{for(var p=!1,v=c.child;v;){if(v===s){p=!0,s=c,o=f;break}if(v===o){p=!0,o=c,s=f;break}v=v.sibling}if(!p){for(v=f.child;v;){if(v===s){p=!0,s=f,o=c;break}if(v===o){p=!0,o=f,s=c;break}v=v.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function C(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=C(e),n!==null)return n;e=e.sibling}return null}var R=Object.assign,U=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),le=Symbol.for("react.strict_mode"),xe=Symbol.for("react.profiler"),Se=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function I(e){return e===null||typeof e!="object"?null:(e=A&&e[A]||e["@@iterator"],typeof e=="function"?e:null)}var T=Symbol.for("react.client.reference");function Ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===T?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case te:return"Fragment";case xe:return"Profiler";case le:return"StrictMode";case pe:return"Suspense";case be:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case ae:return e.displayName||"Context";case Se:return(e._context.displayName||"Context")+".Consumer";case ne:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case z:return n=e.displayName||null,n!==null?n:Ne(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return Ne(e(n))}catch{}}return null}var Ee=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Me=[],Ue=-1;function Te(e){return{current:e}}function ze(e){0>Ue||(e.current=Me[Ue],Me[Ue]=null,Ue--)}function he(e,n){Ue++,Me[Ue]=e.current,e.current=n}var nt=Te(null),Re=Te(null),Ut=Te(null),Pn=Te(null);function nn(e,n){switch(he(Ut,n),he(Re,e),he(nt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?ay(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=ay(n),e=oy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ze(nt),he(nt,e)}function Vn(){ze(nt),ze(Re),ze(Ut)}function qi(e){e.memoizedState!==null&&he(Pn,e);var n=nt.current,s=oy(n,e.type);n!==s&&(he(Re,e),he(nt,s))}function $i(e){Re.current===e&&(ze(nt),ze(Re)),Pn.current===e&&(ze(Pn),ll._currentValue=ue)}var Xi,An;function sn(e){if(Xi===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Xi=n&&n[1]||"",An=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xi+e+An}var wn=!1;function li(e,n){if(!e||wn)return"";wn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(B){var V=B}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(B){V=B}e.call(Y.prototype)}}else{try{throw Error()}catch(B){V=B}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(B){if(B&&V&&typeof B.stack=="string")return[B.stack,V.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],v=f[1];if(p&&v){var O=p.split(`
`),P=v.split(`
`);for(c=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(o===O.length||c===P.length)for(o=O.length-1,c=P.length-1;1<=o&&0<=c&&O[o]!==P[c];)c--;for(;1<=o&&0<=c;o--,c--)if(O[o]!==P[c]){if(o!==1||c!==1)do if(o--,c--,0>c||O[o]!==P[c]){var q=`
`+O[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=c);break}}}finally{wn=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?sn(s):""}function Yi(e,n){switch(e.tag){case 26:case 27:case 5:return sn(e.type);case 16:return sn("Lazy");case 13:return e.child!==n&&n!==null?sn("Suspense Fallback"):sn("Suspense");case 19:return sn("SuspenseList");case 0:case 15:return li(e.type,!1);case 11:return li(e.type.render,!1);case 1:return li(e.type,!0);case 31:return sn("Activity");default:return""}}function Hn(e){try{var n="",s=null;do n+=Yi(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var it=Object.prototype.hasOwnProperty,at=i.unstable_scheduleCallback,ui=i.unstable_cancelCallback,ua=i.unstable_shouldYield,ca=i.unstable_requestPaint,zt=i.unstable_now,xn=i.unstable_getCurrentPriorityLevel,Bn=i.unstable_ImmediatePriority,Jt=i.unstable_UserBlockingPriority,Gn=i.unstable_NormalPriority,fa=i.unstable_LowPriority,Sr=i.unstable_IdlePriority,As=i.log,ha=i.unstable_setDisableYieldValue,Qt=null,dt=null;function mt(e){if(typeof As=="function"&&ha(e),dt&&typeof dt.setStrictMode=="function")try{dt.setStrictMode(Qt,e)}catch{}}var Qe=Math.clz32?Math.clz32:da,ws=Math.log,Fi=Math.LN2;function da(e){return e>>>=0,e===0?32:31-(ws(e)/Fi|0)|0}var rn=256,Zn=262144,pt=4194304;function Wt(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qn(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=o&134217727;return v!==0?(o=v&~f,o!==0?c=Wt(o):(p&=v,p!==0?c=Wt(p):s||(s=v&~e,s!==0&&(c=Wt(s))))):(v=o&~f,v!==0?c=Wt(v):p!==0?c=Wt(p):s||(s=o&~e,s!==0&&(c=Wt(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Nn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function ut(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ci(){var e=pt;return pt<<=1,(pt&62914560)===0&&(pt=4194304),e}function $n(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function xi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function br(e,n,s,o,c,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var v=e.entanglements,O=e.expirationTimes,P=e.hiddenUpdates;for(s=p&~s;0<s;){var q=31-Qe(s),Y=1<<q;v[q]=0,O[q]=-1;var V=P[q];if(V!==null)for(P[q]=null,q=0;q<V.length;q++){var B=V[q];B!==null&&(B.lane&=-536870913)}s&=~Y}o!==0&&Ki(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function Ki(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Qe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function Er(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-Qe(s),c=1<<o;c&n|e[o]&n&&(e[o]|=n),s&=~c}}function Tr(e,n){var s=n&-n;return s=(s&42)!==0?1:jt(s),(s&(e.suspendedLanes|n))!==0?0:s}function jt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gt(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ar(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:Ry(e.type))}function dn(e,n){var s=W.p;try{return W.p=e,n()}finally{W.p=s}}var an=Math.random().toString(36).slice(2),ct="__reactFiber$"+an,Ye="__reactProps$"+an,On="__reactContainer$"+an,Ji="__reactEvents$"+an,ma="__reactListeners$"+an,wr="__reactHandles$"+an,pa="__reactResources$"+an,se="__reactMarker$"+an;function k(e){delete e[ct],delete e[Ye],delete e[Ji],delete e[ma],delete e[wr]}function K(e){var n=e[ct];if(n)return n;for(var s=e.parentNode;s;){if(n=s[On]||s[ct]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=my(e);e!==null;){if(s=e[ct])return s;e=my(e)}return n}e=s,s=e.parentNode}return null}function ee(e){if(e=e[ct]||e[On]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ae(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function We(e){var n=e[pa];return n||(n=e[pa]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[se]=!0}var wt=new Set,on={};function Zt(e,n){mn(e,n),mn(e+"Capture",n)}function mn(e,n){for(on[e]=n,e=0;e<n.length;e++)wt.add(n[e])}var ft=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xs={},Ns={};function Vl(e){return it.call(Ns,e)?!0:it.call(xs,e)?!1:ft.test(e)?Ns[e]=!0:(xs[e]=!0,!1)}function ga(e,n,s){if(Vl(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Cn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function xt(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Os(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function So(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ge(e){if(!e._valueTracker){var n=Os(e)?"checked":"value";e._valueTracker=So(e,n,""+e[n])}}function xr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=Os(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Ni(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Nr=/[\n"\\]/g;function pn(e){return e.replace(Nr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ya(e,n,s,o,c,f,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Pt(n)):e.value!==""+Pt(n)&&(e.value=""+Pt(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?bo(e,p,Pt(n)):s!=null?bo(e,p,Pt(s)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Pt(v):e.removeAttribute("name")}function Hl(e,n,s,o,c,f,p,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ge(e);return}s=s!=null?""+Pt(s):"",n=n!=null?""+Pt(n):s,v||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=v?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Ge(e)}function bo(e,n,s){n==="number"&&Ni(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Cs(e,n,s,o){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Pt(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Bl(e,n,s){if(n!=null&&(n=""+Pt(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Pt(s):""}function Rs(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Ee(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Pt(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Ge(e)}function gn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Gl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||Gl.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function To(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&s[c]!==o&&Eo(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&Eo(e,f,n[f])}function va(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ks=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(e){return ks.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fi(){}var Ao=null;function Xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ds=null,Oi=null;function Or(e){var n=ee(e);if(n&&(e=n.stateNode)){var s=e[Ye]||null;e:switch(e=n.stateNode,n.type){case"input":if(ya(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+pn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var c=o[Ye]||null;if(!c)throw Error(a(90));ya(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&xr(o)}break e;case"textarea":Bl(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&Cs(e,!!s.multiple,n,!1)}}}var Sa=!1;function zs(e,n,s){if(Sa)return e(n,s);Sa=!0;try{var o=e(n);return o}finally{if(Sa=!1,(Ds!==null||Oi!==null)&&(Uu(),Ds&&(n=Ds,e=Oi,Oi=Ds=null,Or(n),e)))for(n=0;n<e.length;n++)Or(e[n])}}function hi(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ye]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cr=!1;if(Yn)try{var et={};Object.defineProperty(et,"passive",{get:function(){Cr=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Cr=!1}var Ci=null,wo=null,Rr=null;function xo(){if(Rr)return Rr;var e,n=wo,s=n.length,o,c="value"in Ci?Ci.value:Ci.textContent,f=c.length;for(e=0;e<s&&n[e]===c[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===c[f-o];o++);return Rr=c.slice(e,1<o?1-o:void 0)}function kr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Qi(){return!0}function di(){return!1}function qt(e){function n(s,o,c,f,p){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(s=e[v],this[v]=s?s(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qi:di,this.isPropagationStopped=di,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),n}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=qt(Wi),Is=R({},Wi,{view:0,detail:0}),No=qt(Is),Ms,ba,ki,Ea=R({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:en,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ki&&(ki&&e.type==="mousemove"?(Ms=e.screenX-ki.screenX,ba=e.screenY-ki.screenY):ba=Ms=0,ki=e),Ms)},movementY:function(e){return"movementY"in e?e.movementY:ba}}),Oo=qt(Ea),Dr=R({},Ea,{dataTransfer:0}),ql=qt(Dr),$l=R({},Is,{relatedTarget:0}),zr=qt($l),Co=R({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Xl=qt(Co),Ta=R({},Wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yl=qt(Ta),Fl=R({},Wi,{data:0}),Di=qt(Fl),Kl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ql={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wl(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ql[e])?!!n[e]:!1}function en(){return Wl}var eu=R({},Is,{key:function(e){if(e.key){var n=Kl[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=kr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Jl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:en,charCode:function(e){return e.type==="keypress"?kr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tu=qt(eu),Ls=R({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u=qt(Ls),m=R({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:en}),g=qt(m),b=R({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),L=qt(b),H=R({},Ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=qt(H),ge=R({},Wi,{newState:0,oldState:0}),bt=qt(ge),Ze=[9,13,27,32],gt=Yn&&"CompositionEvent"in window,tn=null;Yn&&"documentMode"in document&&(tn=document.documentMode);var es=Yn&&"TextEvent"in window&&!tn,mi=Yn&&(!gt||tn&&8<tn&&11>=tn),pi=" ",Ir=!1;function Aa(e,n){switch(e){case"keyup":return Ze.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wa=!1;function DS(e,n){switch(e){case"compositionend":return gm(n);case"keypress":return n.which!==32?null:(Ir=!0,pi);case"textInput":return e=n.data,e===pi&&Ir?null:e;default:return null}}function zS(e,n){if(wa)return e==="compositionend"||!gt&&Aa(e,n)?(e=xo(),Rr=wo=Ci=null,wa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return mi&&n.locale!=="ko"?null:n.data;default:return null}}var IS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ym(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!IS[e.type]:n==="textarea"}function vm(e,n,s,o){Ds?Oi?Oi.push(o):Oi=[o]:Ds=o,n=Zu(n,"onChange"),0<n.length&&(s=new Ri("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Ro=null,ko=null;function MS(e){ey(e,0)}function nu(e){var n=Ae(e);if(xr(n))return e}function _m(e,n){if(e==="change")return n}var Sm=!1;if(Yn){var of;if(Yn){var lf="oninput"in document;if(!lf){var bm=document.createElement("div");bm.setAttribute("oninput","return;"),lf=typeof bm.oninput=="function"}of=lf}else of=!1;Sm=of&&(!document.documentMode||9<document.documentMode)}function Em(){Ro&&(Ro.detachEvent("onpropertychange",Tm),ko=Ro=null)}function Tm(e){if(e.propertyName==="value"&&nu(ko)){var n=[];vm(n,ko,e,Xn(e)),zs(MS,n)}}function LS(e,n,s){e==="focusin"?(Em(),Ro=n,ko=s,Ro.attachEvent("onpropertychange",Tm)):e==="focusout"&&Em()}function US(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nu(ko)}function jS(e,n){if(e==="click")return nu(n)}function PS(e,n){if(e==="input"||e==="change")return nu(n)}function VS(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Rn=typeof Object.is=="function"?Object.is:VS;function Do(e,n){if(Rn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!it.call(n,c)||!Rn(e[c],n[c]))return!1}return!0}function Am(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wm(e,n){var s=Am(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Am(s)}}function xm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?xm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Nm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ni(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ni(e.document)}return n}function uf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var HS=Yn&&"documentMode"in document&&11>=document.documentMode,xa=null,cf=null,zo=null,ff=!1;function Om(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ff||xa==null||xa!==Ni(o)||(o=xa,"selectionStart"in o&&uf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&Do(zo,o)||(zo=o,o=Zu(cf,"onSelect"),0<o.length&&(n=new Ri("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=xa)))}function Mr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Na={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},hf={},Cm={};Yn&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Lr(e){if(hf[e])return hf[e];if(!Na[e])return e;var n=Na[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Cm)return hf[e]=n[s];return e}var Rm=Lr("animationend"),km=Lr("animationiteration"),Dm=Lr("animationstart"),BS=Lr("transitionrun"),GS=Lr("transitionstart"),ZS=Lr("transitioncancel"),zm=Lr("transitionend"),Im=new Map,df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");df.push("scrollEnd");function gi(e,n){Im.set(e,n),Zt(n,[e])}var iu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Fn=[],Oa=0,mf=0;function su(){for(var e=Oa,n=mf=Oa=0;n<e;){var s=Fn[n];Fn[n++]=null;var o=Fn[n];Fn[n++]=null;var c=Fn[n];Fn[n++]=null;var f=Fn[n];if(Fn[n++]=null,o!==null&&c!==null){var p=o.pending;p===null?c.next=c:(c.next=p.next,p.next=c),o.pending=c}f!==0&&Mm(s,c,f)}}function ru(e,n,s,o){Fn[Oa++]=e,Fn[Oa++]=n,Fn[Oa++]=s,Fn[Oa++]=o,mf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function pf(e,n,s,o){return ru(e,n,s,o),au(e)}function Ur(e,n){return ru(e,null,null,n),au(e)}function Mm(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var c=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-Qe(s),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=s|536870912),f):null}function au(e){if(50<tl)throw tl=0,Ah=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ca={};function qS(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,n,s,o){return new qS(e,n,s,o)}function gf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ts(e,n){var s=e.alternate;return s===null?(s=kn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Lm(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ou(e,n,s,o,c,f){var p=0;if(o=e,typeof e=="function")gf(e)&&(p=1);else if(typeof e=="string")p=Kb(e,s,nt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case x:return e=kn(31,s,n,c),e.elementType=x,e.lanes=f,e;case te:return jr(s.children,c,f,n);case le:p=8,c|=24;break;case xe:return e=kn(12,s,n,c|2),e.elementType=xe,e.lanes=f,e;case pe:return e=kn(13,s,n,c),e.elementType=pe,e.lanes=f,e;case be:return e=kn(19,s,n,c),e.elementType=be,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ae:p=10;break e;case Se:p=9;break e;case ne:p=11;break e;case z:p=14;break e;case w:p=16,o=null;break e}p=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=kn(p,s,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function jr(e,n,s,o){return e=kn(7,e,o,n),e.lanes=s,e}function yf(e,n,s){return e=kn(6,e,null,n),e.lanes=s,e}function Um(e){var n=kn(18,null,null,0);return n.stateNode=e,n}function vf(e,n,s){return n=kn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var jm=new WeakMap;function Kn(e,n){if(typeof e=="object"&&e!==null){var s=jm.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Hn(n)},jm.set(e,n),n)}return{value:e,source:n,stack:Hn(n)}}var Ra=[],ka=0,lu=null,Io=0,Jn=[],Qn=0,Us=null,zi=1,Ii="";function ns(e,n){Ra[ka++]=Io,Ra[ka++]=lu,lu=e,Io=n}function Pm(e,n,s){Jn[Qn++]=zi,Jn[Qn++]=Ii,Jn[Qn++]=Us,Us=e;var o=zi;e=Ii;var c=32-Qe(o)-1;o&=~(1<<c),s+=1;var f=32-Qe(n)+c;if(30<f){var p=c-c%5;f=(o&(1<<p)-1).toString(32),o>>=p,c-=p,zi=1<<32-Qe(n)+c|s<<c|o,Ii=f+e}else zi=1<<f|s<<c|o,Ii=e}function _f(e){e.return!==null&&(ns(e,1),Pm(e,1,0))}function Sf(e){for(;e===lu;)lu=Ra[--ka],Ra[ka]=null,Io=Ra[--ka],Ra[ka]=null;for(;e===Us;)Us=Jn[--Qn],Jn[Qn]=null,Ii=Jn[--Qn],Jn[Qn]=null,zi=Jn[--Qn],Jn[Qn]=null}function Vm(e,n){Jn[Qn++]=zi,Jn[Qn++]=Ii,Jn[Qn++]=Us,zi=n.id,Ii=n.overflow,Us=e}var $t=null,st=null,Ie=!1,js=null,Wn=!1,bf=Error(a(519));function Ps(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Mo(Kn(n,e)),bf}function Hm(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ct]=e,n[Ye]=o,s){case"dialog":Ce("cancel",n),Ce("close",n);break;case"iframe":case"object":case"embed":Ce("load",n);break;case"video":case"audio":for(s=0;s<il.length;s++)Ce(il[s],n);break;case"source":Ce("error",n);break;case"img":case"image":case"link":Ce("error",n),Ce("load",n);break;case"details":Ce("toggle",n);break;case"input":Ce("invalid",n),Hl(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ce("invalid",n);break;case"textarea":Ce("invalid",n),Rs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||sy(n.textContent,s)?(o.popover!=null&&(Ce("beforetoggle",n),Ce("toggle",n)),o.onScroll!=null&&Ce("scroll",n),o.onScrollEnd!=null&&Ce("scrollend",n),o.onClick!=null&&(n.onclick=fi),n=!0):n=!1,n||Ps(e,!0)}function Bm(e){for($t=e.return;$t;)switch($t.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:$t=$t.return}}function Da(e){if(e!==$t)return!1;if(!Ie)return Bm(e),Ie=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Ph(e.type,e.memoizedProps)),s=!s),s&&st&&Ps(e),Bm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));st=dy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));st=dy(e)}else n===27?(n=st,Ws(e.type)?(e=Zh,Zh=null,st=e):st=n):st=$t?ti(e.stateNode.nextSibling):null;return!0}function Pr(){st=$t=null,Ie=!1}function Ef(){var e=js;return e!==null&&(Sn===null?Sn=e:Sn.push.apply(Sn,e),js=null),e}function Mo(e){js===null?js=[e]:js.push(e)}var Tf=Te(null),Vr=null,is=null;function Vs(e,n,s){he(Tf,n._currentValue),n._currentValue=s}function ss(e){e._currentValue=Tf.current,ze(Tf)}function Af(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function wf(e,n,s,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var p=c.child;f=f.firstContext;e:for(;f!==null;){var v=f;f=c;for(var O=0;O<n.length;O++)if(v.context===n[O]){f.lanes|=s,v=f.alternate,v!==null&&(v.lanes|=s),Af(f.return,s,e),o||(p=null);break e}f=v.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Af(p,s,e),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===e){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function za(e,n,s,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var v=c.type;Rn(c.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(c===Pn.current){if(p=c.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(ll):e=[ll])}c=c.return}e!==null&&wf(n,e,s,o),n.flags|=262144}function uu(e){for(e=e.firstContext;e!==null;){if(!Rn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Hr(e){Vr=e,is=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xt(e){return Gm(Vr,e)}function cu(e,n){return Vr===null&&Hr(e),Gm(e,n)}function Gm(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},is===null){if(e===null)throw Error(a(308));is=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else is=is.next=n;return s}var $S=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},XS=i.unstable_scheduleCallback,YS=i.unstable_NormalPriority,Nt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xf(){return{controller:new $S,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&XS(YS,function(){e.controller.abort()})}var Uo=null,Nf=0,Ia=0,Ma=null;function FS(e,n){if(Uo===null){var s=Uo=[];Nf=0,Ia=Rh(),Ma={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Nf++,n.then(Zm,Zm),n}function Zm(){if(--Nf===0&&Uo!==null){Ma!==null&&(Ma.status="fulfilled");var e=Uo;Uo=null,Ia=0,Ma=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function KS(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),o}var qm=G.S;G.S=function(e,n){Og=zt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&FS(e,n),qm!==null&&qm(e,n)};var Br=Te(null);function Of(){var e=Br.current;return e!==null?e:tt.pooledCache}function fu(e,n){n===null?he(Br,Br.current):he(Br,n.pool)}function $m(){var e=Of();return e===null?null:{parent:Nt._currentValue,pool:e}}var La=Error(a(460)),Cf=Error(a(474)),hu=Error(a(542)),du={then:function(){}};function Xm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ym(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(fi,fi),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Km(e),e;default:if(typeof n.status=="string")n.then(fi,fi);else{if(e=tt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Km(e),e}throw Zr=n,La}}function Gr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Zr=s,La):s}}var Zr=null;function Fm(){if(Zr===null)throw Error(a(459));var e=Zr;return Zr=null,e}function Km(e){if(e===La||e===hu)throw Error(a(483))}var Ua=null,jo=0;function mu(e){var n=jo;return jo+=1,Ua===null&&(Ua=[]),Ym(Ua,e,n)}function Po(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function pu(e,n){throw n.$$typeof===U?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Jm(e){function n(M,D){if(e){var j=M.deletions;j===null?(M.deletions=[D],M.flags|=16):j.push(D)}}function s(M,D){if(!e)return null;for(;D!==null;)n(M,D),D=D.sibling;return null}function o(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function c(M,D){return M=ts(M,D),M.index=0,M.sibling=null,M}function f(M,D,j){return M.index=j,e?(j=M.alternate,j!==null?(j=j.index,j<D?(M.flags|=67108866,D):j):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function p(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function v(M,D,j,$){return D===null||D.tag!==6?(D=yf(j,M.mode,$),D.return=M,D):(D=c(D,j),D.return=M,D)}function O(M,D,j,$){var ce=j.type;return ce===te?q(M,D,j.props.children,$,j.key):D!==null&&(D.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&Gr(ce)===D.type)?(D=c(D,j.props),Po(D,j),D.return=M,D):(D=ou(j.type,j.key,j.props,null,M.mode,$),Po(D,j),D.return=M,D)}function P(M,D,j,$){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=vf(j,M.mode,$),D.return=M,D):(D=c(D,j.children||[]),D.return=M,D)}function q(M,D,j,$,ce){return D===null||D.tag!==7?(D=jr(j,M.mode,$,ce),D.return=M,D):(D=c(D,j),D.return=M,D)}function Y(M,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=yf(""+D,M.mode,j),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return j=ou(D.type,D.key,D.props,null,M.mode,j),Po(j,D),j.return=M,j;case J:return D=vf(D,M.mode,j),D.return=M,D;case w:return D=Gr(D),Y(M,D,j)}if(Ee(D)||I(D))return D=jr(D,M.mode,j,null),D.return=M,D;if(typeof D.then=="function")return Y(M,mu(D),j);if(D.$$typeof===ae)return Y(M,cu(M,D),j);pu(M,D)}return null}function V(M,D,j,$){var ce=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ce!==null?null:v(M,D,""+j,$);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case F:return j.key===ce?O(M,D,j,$):null;case J:return j.key===ce?P(M,D,j,$):null;case w:return j=Gr(j),V(M,D,j,$)}if(Ee(j)||I(j))return ce!==null?null:q(M,D,j,$,null);if(typeof j.then=="function")return V(M,D,mu(j),$);if(j.$$typeof===ae)return V(M,D,cu(M,j),$);pu(M,j)}return null}function B(M,D,j,$,ce){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return M=M.get(j)||null,v(D,M,""+$,ce);if(typeof $=="object"&&$!==null){switch($.$$typeof){case F:return M=M.get($.key===null?j:$.key)||null,O(D,M,$,ce);case J:return M=M.get($.key===null?j:$.key)||null,P(D,M,$,ce);case w:return $=Gr($),B(M,D,j,$,ce)}if(Ee($)||I($))return M=M.get(j)||null,q(D,M,$,ce,null);if(typeof $.then=="function")return B(M,D,j,mu($),ce);if($.$$typeof===ae)return B(M,D,j,cu(D,$),ce);pu(D,$)}return null}function re(M,D,j,$){for(var ce=null,je=null,oe=D,_e=D=0,De=null;oe!==null&&_e<j.length;_e++){oe.index>_e?(De=oe,oe=null):De=oe.sibling;var Pe=V(M,oe,j[_e],$);if(Pe===null){oe===null&&(oe=De);break}e&&oe&&Pe.alternate===null&&n(M,oe),D=f(Pe,D,_e),je===null?ce=Pe:je.sibling=Pe,je=Pe,oe=De}if(_e===j.length)return s(M,oe),Ie&&ns(M,_e),ce;if(oe===null){for(;_e<j.length;_e++)oe=Y(M,j[_e],$),oe!==null&&(D=f(oe,D,_e),je===null?ce=oe:je.sibling=oe,je=oe);return Ie&&ns(M,_e),ce}for(oe=o(oe);_e<j.length;_e++)De=B(oe,M,_e,j[_e],$),De!==null&&(e&&De.alternate!==null&&oe.delete(De.key===null?_e:De.key),D=f(De,D,_e),je===null?ce=De:je.sibling=De,je=De);return e&&oe.forEach(function(sr){return n(M,sr)}),Ie&&ns(M,_e),ce}function de(M,D,j,$){if(j==null)throw Error(a(151));for(var ce=null,je=null,oe=D,_e=D=0,De=null,Pe=j.next();oe!==null&&!Pe.done;_e++,Pe=j.next()){oe.index>_e?(De=oe,oe=null):De=oe.sibling;var sr=V(M,oe,Pe.value,$);if(sr===null){oe===null&&(oe=De);break}e&&oe&&sr.alternate===null&&n(M,oe),D=f(sr,D,_e),je===null?ce=sr:je.sibling=sr,je=sr,oe=De}if(Pe.done)return s(M,oe),Ie&&ns(M,_e),ce;if(oe===null){for(;!Pe.done;_e++,Pe=j.next())Pe=Y(M,Pe.value,$),Pe!==null&&(D=f(Pe,D,_e),je===null?ce=Pe:je.sibling=Pe,je=Pe);return Ie&&ns(M,_e),ce}for(oe=o(oe);!Pe.done;_e++,Pe=j.next())Pe=B(oe,M,_e,Pe.value,$),Pe!==null&&(e&&Pe.alternate!==null&&oe.delete(Pe.key===null?_e:Pe.key),D=f(Pe,D,_e),je===null?ce=Pe:je.sibling=Pe,je=Pe);return e&&oe.forEach(function(oE){return n(M,oE)}),Ie&&ns(M,_e),ce}function Je(M,D,j,$){if(typeof j=="object"&&j!==null&&j.type===te&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case F:e:{for(var ce=j.key;D!==null;){if(D.key===ce){if(ce=j.type,ce===te){if(D.tag===7){s(M,D.sibling),$=c(D,j.props.children),$.return=M,M=$;break e}}else if(D.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===w&&Gr(ce)===D.type){s(M,D.sibling),$=c(D,j.props),Po($,j),$.return=M,M=$;break e}s(M,D);break}else n(M,D);D=D.sibling}j.type===te?($=jr(j.props.children,M.mode,$,j.key),$.return=M,M=$):($=ou(j.type,j.key,j.props,null,M.mode,$),Po($,j),$.return=M,M=$)}return p(M);case J:e:{for(ce=j.key;D!==null;){if(D.key===ce)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){s(M,D.sibling),$=c(D,j.children||[]),$.return=M,M=$;break e}else{s(M,D);break}else n(M,D);D=D.sibling}$=vf(j,M.mode,$),$.return=M,M=$}return p(M);case w:return j=Gr(j),Je(M,D,j,$)}if(Ee(j))return re(M,D,j,$);if(I(j)){if(ce=I(j),typeof ce!="function")throw Error(a(150));return j=ce.call(j),de(M,D,j,$)}if(typeof j.then=="function")return Je(M,D,mu(j),$);if(j.$$typeof===ae)return Je(M,D,cu(M,j),$);pu(M,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(s(M,D.sibling),$=c(D,j),$.return=M,M=$):(s(M,D),$=yf(j,M.mode,$),$.return=M,M=$),p(M)):s(M,D)}return function(M,D,j,$){try{jo=0;var ce=Je(M,D,j,$);return Ua=null,ce}catch(oe){if(oe===La||oe===hu)throw oe;var je=kn(29,oe,null,M.mode);return je.lanes=$,je.return=M,je}}}var qr=Jm(!0),Qm=Jm(!1),Hs=!1;function Rf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ve&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=au(e),Mm(e,null,s),n}return ru(e,o,n,s),au(e)}function Vo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Er(e,s)}}function Df(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var zf=!1;function Ho(){if(zf){var e=Ma;if(e!==null)throw e}}function Bo(e,n,s,o){zf=!1;var c=e.updateQueue;Hs=!1;var f=c.firstBaseUpdate,p=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var O=v,P=O.next;O.next=null,p===null?f=P:p.next=P,p=O;var q=e.alternate;q!==null&&(q=q.updateQueue,v=q.lastBaseUpdate,v!==p&&(v===null?q.firstBaseUpdate=P:v.next=P,q.lastBaseUpdate=O))}if(f!==null){var Y=c.baseState;p=0,q=P=O=null,v=f;do{var V=v.lane&-536870913,B=V!==v.lane;if(B?(ke&V)===V:(o&V)===V){V!==0&&V===Ia&&(zf=!0),q!==null&&(q=q.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var re=e,de=v;V=n;var Je=s;switch(de.tag){case 1:if(re=de.payload,typeof re=="function"){Y=re.call(Je,Y,V);break e}Y=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=de.payload,V=typeof re=="function"?re.call(Je,Y,V):re,V==null)break e;Y=R({},Y,V);break e;case 2:Hs=!0}}V=v.callback,V!==null&&(e.flags|=64,B&&(e.flags|=8192),B=c.callbacks,B===null?c.callbacks=[V]:B.push(V))}else B={lane:V,tag:v.tag,payload:v.payload,callback:v.callback,next:null},q===null?(P=q=B,O=Y):q=q.next=B,p|=V;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;B=v,v=B.next,B.next=null,c.lastBaseUpdate=B,c.shared.pending=null}}while(!0);q===null&&(O=Y),c.baseState=O,c.firstBaseUpdate=P,c.lastBaseUpdate=q,f===null&&(c.shared.lanes=0),Ys|=p,e.lanes=p,e.memoizedState=Y}}function Wm(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function ep(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Wm(s[e],n)}var ja=Te(null),gu=Te(0);function tp(e,n){e=ds,he(gu,e),he(ja,n),ds=e|n.baseLanes}function If(){he(gu,ds),he(ja,ja.current)}function Mf(){ds=gu.current,ze(ja),ze(gu)}var Dn=Te(null),ei=null;function Zs(e){var n=e.alternate;he(Et,Et.current&1),he(Dn,e),ei===null&&(n===null||ja.current!==null||n.memoizedState!==null)&&(ei=e)}function Lf(e){he(Et,Et.current),he(Dn,e),ei===null&&(ei=e)}function np(e){e.tag===22?(he(Et,Et.current),he(Dn,e),ei===null&&(ei=e)):qs()}function qs(){he(Et,Et.current),he(Dn,Dn.current)}function zn(e){ze(Dn),ei===e&&(ei=null),ze(Et)}var Et=Te(0);function yu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Bh(s)||Gh(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var rs=0,ye=null,Fe=null,Ot=null,vu=!1,Pa=!1,$r=!1,_u=0,Go=0,Va=null,JS=0;function yt(){throw Error(a(321))}function Uf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Rn(e[s],n[s]))return!1;return!0}function jf(e,n,s,o,c,f){return rs=f,ye=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Pp:Wf,$r=!1,f=s(o,c),$r=!1,Pa&&(f=sp(n,s,o,c)),ip(e),f}function ip(e){G.H=$o;var n=Fe!==null&&Fe.next!==null;if(rs=0,Ot=Fe=ye=null,vu=!1,Go=0,Va=null,n)throw Error(a(300));e===null||Ct||(e=e.dependencies,e!==null&&uu(e)&&(Ct=!0))}function sp(e,n,s,o){ye=e;var c=0;do{if(Pa&&(Va=null),Go=0,Pa=!1,25<=c)throw Error(a(301));if(c+=1,Ot=Fe=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Vp,f=n(s,o)}while(Pa);return f}function QS(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Zo(n):n,e=e.useState()[0],(Fe!==null?Fe.memoizedState:null)!==e&&(ye.flags|=1024),n}function Pf(){var e=_u!==0;return _u=0,e}function Vf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Hf(e){if(vu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}vu=!1}rs=0,Ot=Fe=ye=null,Pa=!1,Go=_u=0,Va=null}function ln(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?ye.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function Tt(){if(Fe===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var n=Ot===null?ye.memoizedState:Ot.next;if(n!==null)Ot=n,Fe=e;else{if(e===null)throw ye.alternate===null?Error(a(467)):Error(a(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},Ot===null?ye.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(e){var n=Go;return Go+=1,Va===null&&(Va=[]),e=Ym(Va,e,n),n=ye,(Ot===null?n.memoizedState:Ot.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Pp:Wf),e}function bu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zo(e);if(e.$$typeof===ae)return Xt(e)}throw Error(a(438,String(e)))}function Bf(e){var n=null,s=ye.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=ye.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Su(),ye.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=N;return n.index++,s}function as(e,n){return typeof n=="function"?n(e):n}function Eu(e){var n=Tt();return Gf(n,Fe,e)}function Gf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var p=c.next;c.next=f.next,f.next=p}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var v=p=null,O=null,P=n,q=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(ke&Y)===Y:(rs&Y)===Y){var V=P.revertLane;if(V===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Ia&&(q=!0);else if((rs&V)===V){P=P.next,V===Ia&&(q=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},O===null?(v=O=Y,p=f):O=O.next=Y,ye.lanes|=V,Ys|=V;Y=P.action,$r&&s(f,Y),f=P.hasEagerState?P.eagerState:s(f,Y)}else V={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},O===null?(v=O=V,p=f):O=O.next=V,ye.lanes|=Y,Ys|=Y;P=P.next}while(P!==null&&P!==n);if(O===null?p=f:O.next=v,!Rn(f,e.memoizedState)&&(Ct=!0,q&&(s=Ma,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=O,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Zf(e){var n=Tt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var p=c=c.next;do f=e(f,p.action),p=p.next;while(p!==c);Rn(f,n.memoizedState)||(Ct=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function rp(e,n,s){var o=ye,c=Tt(),f=Ie;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!Rn((Fe||c).memoizedState,s);if(p&&(c.memoizedState=s,Ct=!0),c=c.queue,Xf(lp.bind(null,o,c,e),[e]),c.getSnapshot!==n||p||Ot!==null&&Ot.memoizedState.tag&1){if(o.flags|=2048,Ha(9,{destroy:void 0},op.bind(null,o,c,s,n),null),tt===null)throw Error(a(349));f||(rs&127)!==0||ap(o,n,s)}return s}function ap(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=ye.updateQueue,n===null?(n=Su(),ye.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function op(e,n,s,o){n.value=s,n.getSnapshot=o,up(n)&&cp(e)}function lp(e,n,s){return s(function(){up(n)&&cp(e)})}function up(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Rn(e,s)}catch{return!0}}function cp(e){var n=Ur(e,2);n!==null&&bn(n,e,2)}function qf(e){var n=ln();if(typeof e=="function"){var s=e;if(e=s(),$r){mt(!0);try{s()}finally{mt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:e},n}function fp(e,n,s,o){return e.baseState=s,Gf(e,Fe,typeof o=="function"?o:as)}function WS(e,n,s,o,c){if(wu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,hp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function hp(e,n){var s=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var v=s(c,o),O=G.S;O!==null&&O(p,v),dp(e,n,v)}catch(P){$f(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(c,o),dp(e,n,f)}catch(P){$f(e,n,P)}}function dp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){mp(e,n,o)},function(o){return $f(e,n,o)}):mp(e,n,s)}function mp(e,n,s){n.status="fulfilled",n.value=s,pp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,hp(e,s)))}function $f(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,pp(n),n=n.next;while(n!==o)}e.action=null}function pp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function gp(e,n){return n}function yp(e,n){if(Ie){var s=tt.formState;if(s!==null){e:{var o=ye;if(Ie){if(st){t:{for(var c=st,f=Wn;c.nodeType!==8;){if(!f){c=null;break t}if(c=ti(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){st=ti(c.nextSibling),o=c.data==="F!";break e}}Ps(o)}o=!1}o&&(n=s[0])}}return s=ln(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gp,lastRenderedState:n},s.queue=o,s=Lp.bind(null,ye,o),o.dispatch=s,o=qf(!1),f=Qf.bind(null,ye,!1,o.queue),o=ln(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,s=WS.bind(null,ye,c,f,s),c.dispatch=s,o.memoizedState=e,[n,s,!1]}function vp(e){var n=Tt();return _p(n,Fe,e)}function _p(e,n,s){if(n=Gf(e,n,gp)[0],e=Eu(as)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Zo(n)}catch(p){throw p===La?hu:p}else o=n;n=Tt();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(ye.flags|=2048,Ha(9,{destroy:void 0},eb.bind(null,c,s),null)),[o,f,e]}function eb(e,n){e.action=n}function Sp(e){var n=Tt(),s=Fe;if(s!==null)return _p(n,s,e);Tt(),n=n.memoizedState,s=Tt();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ha(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=ye.updateQueue,n===null&&(n=Su(),ye.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function bp(){return Tt().memoizedState}function Tu(e,n,s,o){var c=ln();ye.flags|=e,c.memoizedState=Ha(1|n,{destroy:void 0},s,o===void 0?null:o)}function Au(e,n,s,o){var c=Tt();o=o===void 0?null:o;var f=c.memoizedState.inst;Fe!==null&&o!==null&&Uf(o,Fe.memoizedState.deps)?c.memoizedState=Ha(n,f,s,o):(ye.flags|=e,c.memoizedState=Ha(1|n,f,s,o))}function Ep(e,n){Tu(8390656,8,e,n)}function Xf(e,n){Au(2048,8,e,n)}function tb(e){ye.flags|=4;var n=ye.updateQueue;if(n===null)n=Su(),ye.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Tp(e){var n=Tt().memoizedState;return tb({ref:n,nextImpl:e}),function(){if((Ve&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ap(e,n){return Au(4,2,e,n)}function wp(e,n){return Au(4,4,e,n)}function xp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Np(e,n,s){s=s!=null?s.concat([e]):null,Au(4,4,xp.bind(null,n,e),s)}function Yf(){}function Op(e,n){var s=Tt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Uf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Cp(e,n){var s=Tt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Uf(n,o[1]))return o[0];if(o=e(),$r){mt(!0);try{e()}finally{mt(!1)}}return s.memoizedState=[o,n],o}function Ff(e,n,s){return s===void 0||(rs&1073741824)!==0&&(ke&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Rg(),ye.lanes|=e,Ys|=e,s)}function Rp(e,n,s,o){return Rn(s,n)?s:ja.current!==null?(e=Ff(e,s,o),Rn(e,n)||(Ct=!0),e):(rs&42)===0||(rs&1073741824)!==0&&(ke&261930)===0?(Ct=!0,e.memoizedState=s):(e=Rg(),ye.lanes|=e,Ys|=e,n)}function kp(e,n,s,o,c){var f=W.p;W.p=f!==0&&8>f?f:8;var p=G.T,v={};G.T=v,Qf(e,!1,n,s);try{var O=c(),P=G.S;if(P!==null&&P(v,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var q=KS(O,o);qo(e,n,q,Ln(e))}else qo(e,n,o,Ln(e))}catch(Y){qo(e,n,{then:function(){},status:"rejected",reason:Y},Ln())}finally{W.p=f,p!==null&&v.types!==null&&(p.types=v.types),G.T=p}}function nb(){}function Kf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var c=Dp(e).queue;kp(e,c,n,ue,s===null?nb:function(){return zp(e),s(o)})}function Dp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:ue},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function zp(e){var n=Dp(e);n.next===null&&(n=e.alternate.memoizedState),qo(e,n.next.queue,{},Ln())}function Jf(){return Xt(ll)}function Ip(){return Tt().memoizedState}function Mp(){return Tt().memoizedState}function ib(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Ln();e=Bs(s);var o=Gs(n,e,s);o!==null&&(bn(o,n,s),Vo(o,n,s)),n={cache:xf()},e.payload=n;return}n=n.return}}function sb(e,n,s){var o=Ln();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},wu(e)?Up(n,s):(s=pf(e,n,s,o),s!==null&&(bn(s,e,o),jp(s,n,o)))}function Lp(e,n,s){var o=Ln();qo(e,n,s,o)}function qo(e,n,s,o){var c={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(wu(e))Up(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,v=f(p,s);if(c.hasEagerState=!0,c.eagerState=v,Rn(v,p))return ru(e,n,c,0),tt===null&&su(),!1}catch{}if(s=pf(e,n,c,o),s!==null)return bn(s,e,o),jp(s,n,o),!0}return!1}function Qf(e,n,s,o){if(o={lane:2,revertLane:Rh(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},wu(e)){if(n)throw Error(a(479))}else n=pf(e,s,o,2),n!==null&&bn(n,e,2)}function wu(e){var n=e.alternate;return e===ye||n!==null&&n===ye}function Up(e,n){Pa=vu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function jp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Er(e,s)}}var $o={readContext:Xt,use:bu,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};$o.useEffectEvent=yt;var Pp={readContext:Xt,use:bu,useCallback:function(e,n){return ln().memoizedState=[e,n===void 0?null:n],e},useContext:Xt,useEffect:Ep,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Tu(4194308,4,xp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Tu(4194308,4,e,n)},useInsertionEffect:function(e,n){Tu(4,2,e,n)},useMemo:function(e,n){var s=ln();n=n===void 0?null:n;var o=e();if($r){mt(!0);try{e()}finally{mt(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=ln();if(s!==void 0){var c=s(n);if($r){mt(!0);try{s(n)}finally{mt(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=sb.bind(null,ye,e),[o.memoizedState,e]},useRef:function(e){var n=ln();return e={current:e},n.memoizedState=e},useState:function(e){e=qf(e);var n=e.queue,s=Lp.bind(null,ye,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Yf,useDeferredValue:function(e,n){var s=ln();return Ff(s,e,n)},useTransition:function(){var e=qf(!1);return e=kp.bind(null,ye,e.queue,!0,!1),ln().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=ye,c=ln();if(Ie){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),tt===null)throw Error(a(349));(ke&127)!==0||ap(o,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,Ep(lp.bind(null,o,f,e),[e]),o.flags|=2048,Ha(9,{destroy:void 0},op.bind(null,o,f,s,n),null),s},useId:function(){var e=ln(),n=tt.identifierPrefix;if(Ie){var s=Ii,o=zi;s=(o&~(1<<32-Qe(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=_u++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=JS++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Jf,useFormState:yp,useActionState:yp,useOptimistic:function(e){var n=ln();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Qf.bind(null,ye,!0,s),s.dispatch=n,[e,n]},useMemoCache:Bf,useCacheRefresh:function(){return ln().memoizedState=ib.bind(null,ye)},useEffectEvent:function(e){var n=ln(),s={impl:e};return n.memoizedState=s,function(){if((Ve&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Wf={readContext:Xt,use:bu,useCallback:Op,useContext:Xt,useEffect:Xf,useImperativeHandle:Np,useInsertionEffect:Ap,useLayoutEffect:wp,useMemo:Cp,useReducer:Eu,useRef:bp,useState:function(){return Eu(as)},useDebugValue:Yf,useDeferredValue:function(e,n){var s=Tt();return Rp(s,Fe.memoizedState,e,n)},useTransition:function(){var e=Eu(as)[0],n=Tt().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:rp,useId:Ip,useHostTransitionStatus:Jf,useFormState:vp,useActionState:vp,useOptimistic:function(e,n){var s=Tt();return fp(s,Fe,e,n)},useMemoCache:Bf,useCacheRefresh:Mp};Wf.useEffectEvent=Tp;var Vp={readContext:Xt,use:bu,useCallback:Op,useContext:Xt,useEffect:Xf,useImperativeHandle:Np,useInsertionEffect:Ap,useLayoutEffect:wp,useMemo:Cp,useReducer:Zf,useRef:bp,useState:function(){return Zf(as)},useDebugValue:Yf,useDeferredValue:function(e,n){var s=Tt();return Fe===null?Ff(s,e,n):Rp(s,Fe.memoizedState,e,n)},useTransition:function(){var e=Zf(as)[0],n=Tt().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:rp,useId:Ip,useHostTransitionStatus:Jf,useFormState:Sp,useActionState:Sp,useOptimistic:function(e,n){var s=Tt();return Fe!==null?fp(s,Fe,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:Mp};Vp.useEffectEvent=Tp;function eh(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:R({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var th={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Ln(),c=Bs(o);c.payload=n,s!=null&&(c.callback=s),n=Gs(e,c,o),n!==null&&(bn(n,e,o),Vo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Ln(),c=Bs(o);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Gs(e,c,o),n!==null&&(bn(n,e,o),Vo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Ln(),o=Bs(s);o.tag=2,n!=null&&(o.callback=n),n=Gs(e,o,s),n!==null&&(bn(n,e,s),Vo(n,e,s))}};function Hp(e,n,s,o,c,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Do(s,o)||!Do(c,f):!0}function Bp(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&th.enqueueReplaceState(n,n.state,null)}function Xr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=R({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function Gp(e){iu(e)}function Zp(e){console.error(e)}function qp(e){iu(e)}function xu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function $p(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function nh(e,n,s){return s=Bs(s),s.tag=3,s.payload={element:null},s.callback=function(){xu(e,n)},s}function Xp(e){return e=Bs(e),e.tag=3,e}function Yp(e,n,s,o){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){$p(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){$p(n,s,o),typeof c!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var v=o.stack;this.componentDidCatch(o.value,{componentStack:v!==null?v:""})})}function rb(e,n,s,o,c){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&za(n,s,c,!0),s=Dn.current,s!==null){switch(s.tag){case 31:case 13:return ei===null?ju():s.alternate===null&&vt===0&&(vt=3),s.flags&=-257,s.flags|=65536,s.lanes=c,o===du?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),Nh(e,o,c)),!1;case 22:return s.flags|=65536,o===du?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),Nh(e,o,c)),!1}throw Error(a(435,s.tag))}return Nh(e,o,c),ju(),!1}if(Ie)return n=Dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==bf&&(e=Error(a(422),{cause:o}),Mo(Kn(e,s)))):(o!==bf&&(n=Error(a(423),{cause:o}),Mo(Kn(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=Kn(o,s),c=nh(e.stateNode,o,c),Df(e,c),vt!==4&&(vt=2)),!1;var f=Error(a(520),{cause:o});if(f=Kn(f,s),el===null?el=[f]:el.push(f),vt!==4&&(vt=2),n===null)return!0;o=Kn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=nh(s.stateNode,o,e),Df(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Fs===null||!Fs.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Xp(c),Yp(c,e,s,o),Df(s,c),!1}s=s.return}while(s!==null);return!1}var ih=Error(a(461)),Ct=!1;function Yt(e,n,s,o){n.child=e===null?Qm(n,null,s,o):qr(n,e.child,s,o)}function Fp(e,n,s,o,c){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var v in o)v!=="ref"&&(p[v]=o[v])}else p=o;return Hr(n),o=jf(e,n,s,p,f,c),v=Pf(),e!==null&&!Ct?(Vf(e,n,c),os(e,n,c)):(Ie&&v&&_f(n),n.flags|=1,Yt(e,n,o,c),n.child)}function Kp(e,n,s,o,c){if(e===null){var f=s.type;return typeof f=="function"&&!gf(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Jp(e,n,f,o,c)):(e=ou(s.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!fh(e,c)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Do,s(p,o)&&e.ref===n.ref)return os(e,n,c)}return n.flags|=1,e=ts(f,o),e.ref=n.ref,e.return=n,n.child=e}function Jp(e,n,s,o,c){if(e!==null){var f=e.memoizedProps;if(Do(f,o)&&e.ref===n.ref)if(Ct=!1,n.pendingProps=o=f,fh(e,c))(e.flags&131072)!==0&&(Ct=!0);else return n.lanes=e.lanes,os(e,n,c)}return sh(e,n,s,o,c)}function Qp(e,n,s,o){var c=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~f}else o=0,n.child=null;return Wp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&fu(n,f!==null?f.cachePool:null),f!==null?tp(n,f):If(),np(n);else return o=n.lanes=536870912,Wp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(fu(n,f.cachePool),tp(n,f),qs(),n.memoizedState=null):(e!==null&&fu(n,null),If(),qs());return Yt(e,n,c,s),n.child}function Xo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wp(e,n,s,o,c){var f=Of();return f=f===null?null:{parent:Nt._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&fu(n,null),If(),np(n),e!==null&&za(e,n,o,!0),n.childLanes=c,null}function Nu(e,n){return n=Cu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function eg(e,n,s){return qr(n,e.child,null,s),e=Nu(n,n.pendingProps),e.flags|=2,zn(n),n.memoizedState=null,e}function ab(e,n,s){var o=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ie){if(o.mode==="hidden")return e=Nu(n,o),n.lanes=536870912,Xo(null,e);if(Lf(n),(e=st)?(e=hy(e,Wn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Us!==null?{id:zi,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},s=Um(e),s.return=n,n.child=s,$t=n,st=null)):e=null,e===null)throw Ps(n);return n.lanes=536870912,null}return Nu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(Lf(n),c)if(n.flags&256)n.flags&=-257,n=eg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ct||za(e,n,s,!1),c=(s&e.childLanes)!==0,Ct||c){if(o=tt,o!==null&&(p=Tr(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ur(e,p),bn(o,e,p),ih;ju(),n=eg(e,n,s)}else e=f.treeContext,st=ti(p.nextSibling),$t=n,Ie=!0,js=null,Wn=!1,e!==null&&Vm(n,e),n=Nu(n,o),n.flags|=4096;return n}return e=ts(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ou(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function sh(e,n,s,o,c){return Hr(n),s=jf(e,n,s,o,void 0,c),o=Pf(),e!==null&&!Ct?(Vf(e,n,c),os(e,n,c)):(Ie&&o&&_f(n),n.flags|=1,Yt(e,n,s,c),n.child)}function tg(e,n,s,o,c,f){return Hr(n),n.updateQueue=null,s=sp(n,o,s,c),ip(e),o=Pf(),e!==null&&!Ct?(Vf(e,n,f),os(e,n,f)):(Ie&&o&&_f(n),n.flags|=1,Yt(e,n,s,f),n.child)}function ng(e,n,s,o,c){if(Hr(n),n.stateNode===null){var f=Ca,p=s.contextType;typeof p=="object"&&p!==null&&(f=Xt(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=th,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Rf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Xt(p):Ca,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(eh(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&th.enqueueReplaceState(f,f.state,null),Bo(n,o,f,c),Ho(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var v=n.memoizedProps,O=Xr(s,v);f.props=O;var P=f.context,q=s.contextType;p=Ca,typeof q=="object"&&q!==null&&(p=Xt(q));var Y=s.getDerivedStateFromProps;q=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=n.pendingProps!==v,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||P!==p)&&Bp(n,f,o,p),Hs=!1;var V=n.memoizedState;f.state=V,Bo(n,o,f,c),Ho(),P=n.memoizedState,v||V!==P||Hs?(typeof Y=="function"&&(eh(n,s,Y,o),P=n.memoizedState),(O=Hs||Hp(n,s,O,o,V,P,p))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=p,o=O):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,kf(e,n),p=n.memoizedProps,q=Xr(s,p),f.props=q,Y=n.pendingProps,V=f.context,P=s.contextType,O=Ca,typeof P=="object"&&P!==null&&(O=Xt(P)),v=s.getDerivedStateFromProps,(P=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||V!==O)&&Bp(n,f,o,O),Hs=!1,V=n.memoizedState,f.state=V,Bo(n,o,f,c),Ho();var B=n.memoizedState;p!==Y||V!==B||Hs||e!==null&&e.dependencies!==null&&uu(e.dependencies)?(typeof v=="function"&&(eh(n,s,v,o),B=n.memoizedState),(q=Hs||Hp(n,s,q,o,V,B,O)||e!==null&&e.dependencies!==null&&uu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,O)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&V===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&V===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=O,o=q):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&V===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&V===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ou(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=qr(n,e.child,null,c),n.child=qr(n,null,s,c)):Yt(e,n,s,c),n.memoizedState=f.state,e=n.child):e=os(e,n,c),e}function ig(e,n,s,o){return Pr(),n.flags|=256,Yt(e,n,s,o),n.child}var rh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ah(e){return{baseLanes:e,cachePool:$m()}}function oh(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Mn),e}function sg(e,n,s){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Et.current&2)!==0),p&&(c=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ie){if(c?Zs(n):qs(),(e=st)?(e=hy(e,Wn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Us!==null?{id:zi,overflow:Ii}:null,retryLane:536870912,hydrationErrors:null},s=Um(e),s.return=n,n.child=s,$t=n,st=null)):e=null,e===null)throw Ps(n);return Gh(e)?n.lanes=32:n.lanes=536870912,null}var v=o.children;return o=o.fallback,c?(qs(),c=n.mode,v=Cu({mode:"hidden",children:v},c),o=jr(o,c,s,null),v.return=n,o.return=n,v.sibling=o,n.child=v,o=n.child,o.memoizedState=ah(s),o.childLanes=oh(e,p,s),n.memoizedState=rh,Xo(null,o)):(Zs(n),lh(n,v))}var O=e.memoizedState;if(O!==null&&(v=O.dehydrated,v!==null)){if(f)n.flags&256?(Zs(n),n.flags&=-257,n=uh(e,n,s)):n.memoizedState!==null?(qs(),n.child=e.child,n.flags|=128,n=null):(qs(),v=o.fallback,c=n.mode,o=Cu({mode:"visible",children:o.children},c),v=jr(v,c,s,null),v.flags|=2,o.return=n,v.return=n,o.sibling=v,n.child=o,qr(n,e.child,null,s),o=n.child,o.memoizedState=ah(s),o.childLanes=oh(e,p,s),n.memoizedState=rh,n=Xo(null,o));else if(Zs(n),Gh(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var P=p.dgst;p=P,o=Error(a(419)),o.stack="",o.digest=p,Mo({value:o,source:null,stack:null}),n=uh(e,n,s)}else if(Ct||za(e,n,s,!1),p=(s&e.childLanes)!==0,Ct||p){if(p=tt,p!==null&&(o=Tr(p,s),o!==0&&o!==O.retryLane))throw O.retryLane=o,Ur(e,o),bn(p,e,o),ih;Bh(v)||ju(),n=uh(e,n,s)}else Bh(v)?(n.flags|=192,n.child=e.child,n=null):(e=O.treeContext,st=ti(v.nextSibling),$t=n,Ie=!0,js=null,Wn=!1,e!==null&&Vm(n,e),n=lh(n,o.children),n.flags|=4096);return n}return c?(qs(),v=o.fallback,c=n.mode,O=e.child,P=O.sibling,o=ts(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&65011712,P!==null?v=ts(P,v):(v=jr(v,c,s,null),v.flags|=2),v.return=n,o.return=n,o.sibling=v,n.child=o,Xo(null,o),o=n.child,v=e.child.memoizedState,v===null?v=ah(s):(c=v.cachePool,c!==null?(O=Nt._currentValue,c=c.parent!==O?{parent:O,pool:O}:c):c=$m(),v={baseLanes:v.baseLanes|s,cachePool:c}),o.memoizedState=v,o.childLanes=oh(e,p,s),n.memoizedState=rh,Xo(e.child,o)):(Zs(n),s=e.child,e=s.sibling,s=ts(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function lh(e,n){return n=Cu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Cu(e,n){return e=kn(22,e,null,n),e.lanes=0,e}function uh(e,n,s){return qr(n,e.child,null,s),e=lh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function rg(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Af(e.return,n,s)}function ch(e,n,s,o,c,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=c,p.treeForkCount=f)}function ag(e,n,s){var o=n.pendingProps,c=o.revealOrder,f=o.tail;o=o.children;var p=Et.current,v=(p&2)!==0;if(v?(p=p&1|2,n.flags|=128):p&=1,he(Et,p),Yt(e,n,o,s),o=Ie?Io:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&rg(e,s,n);else if(e.tag===19)rg(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&yu(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),ch(n,!1,c,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&yu(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}ch(n,!0,s,null,f,o);break;case"together":ch(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function os(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ys|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(za(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=ts(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=ts(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function fh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&uu(e)))}function ob(e,n,s){switch(n.tag){case 3:nn(n,n.stateNode.containerInfo),Vs(n,Nt,e.memoizedState.cache),Pr();break;case 27:case 5:qi(n);break;case 4:nn(n,n.stateNode.containerInfo);break;case 10:Vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Lf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Zs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?sg(e,n,s):(Zs(n),e=os(e,n,s),e!==null?e.sibling:null);Zs(n);break;case 19:var c=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(za(e,n,s,!1),o=(s&n.childLanes)!==0),c){if(o)return ag(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),he(Et,Et.current),o)break;return null;case 22:return n.lanes=0,Qp(e,n,s,n.pendingProps);case 24:Vs(n,Nt,e.memoizedState.cache)}return os(e,n,s)}function og(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ct=!0;else{if(!fh(e,s)&&(n.flags&128)===0)return Ct=!1,ob(e,n,s);Ct=(e.flags&131072)!==0}else Ct=!1,Ie&&(n.flags&1048576)!==0&&Pm(n,Io,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=Gr(n.elementType),n.type=e,typeof e=="function")gf(e)?(o=Xr(e,o),n.tag=1,n=ng(null,n,e,o,s)):(n.tag=0,n=sh(null,n,e,o,s));else{if(e!=null){var c=e.$$typeof;if(c===ne){n.tag=11,n=Fp(null,n,e,o,s);break e}else if(c===z){n.tag=14,n=Kp(null,n,e,o,s);break e}}throw n=Ne(e)||e,Error(a(306,n,""))}}return n;case 0:return sh(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,c=Xr(o,n.pendingProps),ng(e,n,o,c,s);case 3:e:{if(nn(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;c=f.element,kf(e,n),Bo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,Vs(n,Nt,o),o!==f.cache&&wf(n,[Nt],s,!0),Ho(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ig(e,n,o,s);break e}else if(o!==c){c=Kn(Error(a(424)),n),Mo(c),n=ig(e,n,o,s);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,st=ti(e.firstChild),$t=n,Ie=!0,js=null,Wn=!0,s=Qm(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Pr(),o===c){n=os(e,n,s);break e}Yt(e,n,o,s)}n=n.child}return n;case 26:return Ou(e,n),e===null?(s=vy(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ie||(s=n.type,e=n.pendingProps,o=qu(Ut.current).createElement(s),o[ct]=n,o[Ye]=e,Ft(o,s,e),ve(o),n.stateNode=o):n.memoizedState=vy(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return qi(n),e===null&&Ie&&(o=n.stateNode=py(n.type,n.pendingProps,Ut.current),$t=n,Wn=!0,c=st,Ws(n.type)?(Zh=c,st=ti(o.firstChild)):st=c),Yt(e,n,n.pendingProps.children,s),Ou(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ie&&((c=o=st)&&(o=Ub(o,n.type,n.pendingProps,Wn),o!==null?(n.stateNode=o,$t=n,st=ti(o.firstChild),Wn=!1,c=!0):c=!1),c||Ps(n)),qi(n),c=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,Ph(c,f)?o=null:p!==null&&Ph(c,p)&&(n.flags|=32),n.memoizedState!==null&&(c=jf(e,n,QS,null,null,s),ll._currentValue=c),Ou(e,n),Yt(e,n,o,s),n.child;case 6:return e===null&&Ie&&((e=s=st)&&(s=jb(s,n.pendingProps,Wn),s!==null?(n.stateNode=s,$t=n,st=null,e=!0):e=!1),e||Ps(n)),null;case 13:return sg(e,n,s);case 4:return nn(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=qr(n,null,o,s):Yt(e,n,o,s),n.child;case 11:return Fp(e,n,n.type,n.pendingProps,s);case 7:return Yt(e,n,n.pendingProps,s),n.child;case 8:return Yt(e,n,n.pendingProps.children,s),n.child;case 12:return Yt(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Vs(n,n.type,o.value),Yt(e,n,o.children,s),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,Hr(n),c=Xt(c),o=o(c),n.flags|=1,Yt(e,n,o,s),n.child;case 14:return Kp(e,n,n.type,n.pendingProps,s);case 15:return Jp(e,n,n.type,n.pendingProps,s);case 19:return ag(e,n,s);case 31:return ab(e,n,s);case 22:return Qp(e,n,s,n.pendingProps);case 24:return Hr(n),o=Xt(Nt),e===null?(c=Of(),c===null&&(c=tt,f=xf(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:o,cache:c},Rf(n),Vs(n,Nt,c)):((e.lanes&s)!==0&&(kf(e,n),Bo(n,null,null,s),Ho()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Vs(n,Nt,o)):(o=f.cache,Vs(n,Nt,o),o!==c.cache&&wf(n,[Nt],s,!0))),Yt(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ls(e){e.flags|=4}function hh(e,n,s,o,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Ig())e.flags|=8192;else throw Zr=du,Cf}else e.flags&=-16777217}function lg(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Ty(n))if(Ig())e.flags|=8192;else throw Zr=du,Cf}function Ru(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ci():536870912,e.lanes|=n,qa|=n)}function Yo(e,n){if(!Ie)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function rt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function lb(e,n,s){var o=n.pendingProps;switch(Sf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(n),null;case 1:return rt(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),ss(Nt),Vn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Da(n)?ls(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ef())),rt(n),null;case 26:var c=n.type,f=n.memoizedState;return e===null?(ls(n),f!==null?(rt(n),lg(n,f)):(rt(n),hh(n,c,null,o,s))):f?f!==e.memoizedState?(ls(n),rt(n),lg(n,f)):(rt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ls(n),rt(n),hh(n,c,e,o,s)),null;case 27:if($i(n),s=Ut.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ls(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return rt(n),null}e=nt.current,Da(n)?Hm(n):(e=py(c,o,s),n.stateNode=e,ls(n))}return rt(n),null;case 5:if($i(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ls(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return rt(n),null}if(f=nt.current,Da(n))Hm(n);else{var p=qu(Ut.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(c,{is:o.is}):p.createElement(c)}}f[ct]=n,f[Ye]=o;e:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;e:switch(Ft(f,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ls(n)}}return rt(n),hh(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ls(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Ut.current,Da(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,c=$t,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[ct]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||sy(e.nodeValue,s)),e||Ps(n,!0)}else e=qu(e).createTextNode(o),e[ct]=n,n.stateNode=e}return rt(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Da(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ct]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),e=!1}else s=Ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(zn(n),n):(zn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return rt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Da(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[ct]=n}else Pr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;rt(n),c=!1}else c=Ef(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(zn(n),n):(zn(n),null)}return zn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Ru(n,n.updateQueue),rt(n),null);case 4:return Vn(),e===null&&Ih(n.stateNode.containerInfo),rt(n),null;case 10:return ss(n.type),rt(n),null;case 19:if(ze(Et),o=n.memoizedState,o===null)return rt(n),null;if(c=(n.flags&128)!==0,f=o.rendering,f===null)if(c)Yo(o,!1);else{if(vt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=yu(e),f!==null){for(n.flags|=128,Yo(o,!1),e=f.updateQueue,n.updateQueue=e,Ru(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Lm(s,e),s=s.sibling;return he(Et,Et.current&1|2),Ie&&ns(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&zt()>Mu&&(n.flags|=128,c=!0,Yo(o,!1),n.lanes=4194304)}else{if(!c)if(e=yu(f),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,Ru(n,e),Yo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ie)return rt(n),null}else 2*zt()-o.renderingStartTime>Mu&&s!==536870912&&(n.flags|=128,c=!0,Yo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=zt(),e.sibling=null,s=Et.current,he(Et,c?s&1|2:s&1),Ie&&ns(n,o.treeForkCount),e):(rt(n),null);case 22:case 23:return zn(n),Mf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(rt(n),n.subtreeFlags&6&&(n.flags|=8192)):rt(n),s=n.updateQueue,s!==null&&Ru(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&ze(Br),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ss(Nt),rt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function ub(e,n){switch(Sf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ss(Nt),Vn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return $i(n),null;case 31:if(n.memoizedState!==null){if(zn(n),n.alternate===null)throw Error(a(340));Pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(zn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Pr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return ze(Et),null;case 4:return Vn(),null;case 10:return ss(n.type),null;case 22:case 23:return zn(n),Mf(),e!==null&&ze(Br),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ss(Nt),null;case 25:return null;default:return null}}function ug(e,n){switch(Sf(n),n.tag){case 3:ss(Nt),Vn();break;case 26:case 27:case 5:$i(n);break;case 4:Vn();break;case 31:n.memoizedState!==null&&zn(n);break;case 13:zn(n);break;case 19:ze(Et);break;case 10:ss(n.type);break;case 22:case 23:zn(n),Mf(),e!==null&&ze(Br);break;case 24:ss(Nt)}}function Fo(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==c)}}catch(v){$e(n,n.return,v)}}function $s(e,n,s){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var p=o.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,c=n;var O=s,P=v;try{P()}catch(q){$e(c,O,q)}}}o=o.next}while(o!==f)}}catch(q){$e(n,n.return,q)}}function cg(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{ep(n,s)}catch(o){$e(e,e.return,o)}}}function fg(e,n,s){s.props=Xr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){$e(e,n,o)}}function Ko(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(c){$e(e,n,c)}}function Mi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(c){$e(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){$e(e,n,c)}else s.current=null}function hg(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(c){$e(e,e.return,c)}}function dh(e,n,s){try{var o=e.stateNode;kb(o,e.type,s,n),o[Ye]=n}catch(c){$e(e,e.return,c)}}function dg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ws(e.type)||e.tag===4}function mh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ws(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ph(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=fi));else if(o!==4&&(o===27&&Ws(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(ph(e,n,s),e=e.sibling;e!==null;)ph(e,n,s),e=e.sibling}function ku(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ws(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(ku(e,n,s),e=e.sibling;e!==null;)ku(e,n,s),e=e.sibling}function mg(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Ft(n,o,s),n[ct]=e,n[Ye]=s}catch(f){$e(e,e.return,f)}}var us=!1,Rt=!1,gh=!1,pg=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function cb(e,n){if(e=e.containerInfo,Uh=Qu,e=Nm(e),uf(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break e}var p=0,v=-1,O=-1,P=0,q=0,Y=e,V=null;t:for(;;){for(var B;Y!==s||c!==0&&Y.nodeType!==3||(v=p+c),Y!==f||o!==0&&Y.nodeType!==3||(O=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(B=Y.firstChild)!==null;)V=Y,Y=B;for(;;){if(Y===e)break t;if(V===s&&++P===c&&(v=p),V===f&&++q===o&&(O=p),(B=Y.nextSibling)!==null)break;Y=V,V=Y.parentNode}Y=B}s=v===-1||O===-1?null:{start:v,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(jh={focusedElem:e,selectionRange:s},Qu=!1,Vt=n;Vt!==null;)if(n=Vt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Vt=e;else for(;Vt!==null;){switch(n=Vt,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var re=Xr(s.type,c);e=o.getSnapshotBeforeUpdate(re,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(de){$e(s,s.return,de)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Hh(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Vt=e;break}Vt=n.return}}function gg(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:fs(e,s),o&4&&Fo(5,s);break;case 1:if(fs(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){$e(s,s.return,p)}else{var c=Xr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){$e(s,s.return,p)}}o&64&&cg(s),o&512&&Ko(s,s.return);break;case 3:if(fs(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{ep(e,n)}catch(p){$e(s,s.return,p)}}break;case 27:n===null&&o&4&&mg(s);case 26:case 5:fs(e,s),n===null&&o&4&&hg(s),o&512&&Ko(s,s.return);break;case 12:fs(e,s);break;case 31:fs(e,s),o&4&&_g(e,s);break;case 13:fs(e,s),o&4&&Sg(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=_b.bind(null,s),Pb(e,s))));break;case 22:if(o=s.memoizedState!==null||us,!o){n=n!==null&&n.memoizedState!==null||Rt,c=us;var f=Rt;us=o,(Rt=n)&&!f?hs(e,s,(s.subtreeFlags&8772)!==0):fs(e,s),us=c,Rt=f}break;case 30:break;default:fs(e,s)}}function yg(e){var n=e.alternate;n!==null&&(e.alternate=null,yg(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&k(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ot=null,yn=!1;function cs(e,n,s){for(s=s.child;s!==null;)vg(e,n,s),s=s.sibling}function vg(e,n,s){if(dt&&typeof dt.onCommitFiberUnmount=="function")try{dt.onCommitFiberUnmount(Qt,s)}catch{}switch(s.tag){case 26:Rt||Mi(s,n),cs(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Rt||Mi(s,n);var o=ot,c=yn;Ws(s.type)&&(ot=s.stateNode,yn=!1),cs(e,n,s),rl(s.stateNode),ot=o,yn=c;break;case 5:Rt||Mi(s,n);case 6:if(o=ot,c=yn,ot=null,cs(e,n,s),ot=o,yn=c,ot!==null)if(yn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(s.stateNode)}catch(f){$e(s,n,f)}else try{ot.removeChild(s.stateNode)}catch(f){$e(s,n,f)}break;case 18:ot!==null&&(yn?(e=ot,cy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Wa(e)):cy(ot,s.stateNode));break;case 4:o=ot,c=yn,ot=s.stateNode.containerInfo,yn=!0,cs(e,n,s),ot=o,yn=c;break;case 0:case 11:case 14:case 15:$s(2,s,n),Rt||$s(4,s,n),cs(e,n,s);break;case 1:Rt||(Mi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&fg(s,n,o)),cs(e,n,s);break;case 21:cs(e,n,s);break;case 22:Rt=(o=Rt)||s.memoizedState!==null,cs(e,n,s),Rt=o;break;default:cs(e,n,s)}}function _g(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Wa(e)}catch(s){$e(n,n.return,s)}}}function Sg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wa(e)}catch(s){$e(n,n.return,s)}}function fb(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new pg),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new pg),n;default:throw Error(a(435,e.tag))}}function Du(e,n){var s=fb(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var c=Sb.bind(null,e,o);o.then(c,c)}})}function vn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o],f=e,p=n,v=p;e:for(;v!==null;){switch(v.tag){case 27:if(Ws(v.type)){ot=v.stateNode,yn=!1;break e}break;case 5:ot=v.stateNode,yn=!1;break e;case 3:case 4:ot=v.stateNode.containerInfo,yn=!0;break e}v=v.return}if(ot===null)throw Error(a(160));vg(f,p,c),ot=null,yn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)bg(n,e),n=n.sibling}var yi=null;function bg(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:vn(n,e),_n(e),o&4&&($s(3,e,e.return),Fo(3,e),$s(5,e,e.return));break;case 1:vn(n,e),_n(e),o&512&&(Rt||s===null||Mi(s,s.return)),o&64&&us&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var c=yi;if(vn(n,e),_n(e),o&512&&(Rt||s===null||Mi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){e:{o=e.type,s=e.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[se]||f[ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),Ft(f,o,s),f[ct]=e,ve(f),o=f;break e;case"link":var p=by("link","href",c).get(o+(s.href||""));if(p){for(var v=0;v<p.length;v++)if(f=p[v],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(v,1);break t}}f=c.createElement(o),Ft(f,o,s),c.head.appendChild(f);break;case"meta":if(p=by("meta","content",c).get(o+(s.content||""))){for(v=0;v<p.length;v++)if(f=p[v],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(v,1);break t}}f=c.createElement(o),Ft(f,o,s),c.head.appendChild(f);break;default:throw Error(a(468,o))}f[ct]=e,ve(f),o=f}e.stateNode=o}else Ey(c,e.type,e.stateNode);else e.stateNode=Sy(c,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?Ey(c,e.type,e.stateNode):Sy(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&dh(e,e.memoizedProps,s.memoizedProps)}break;case 27:vn(n,e),_n(e),o&512&&(Rt||s===null||Mi(s,s.return)),s!==null&&o&4&&dh(e,e.memoizedProps,s.memoizedProps);break;case 5:if(vn(n,e),_n(e),o&512&&(Rt||s===null||Mi(s,s.return)),e.flags&32){c=e.stateNode;try{gn(c,"")}catch(re){$e(e,e.return,re)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,dh(e,c,s!==null?s.memoizedProps:c)),o&1024&&(gh=!0);break;case 6:if(vn(n,e),_n(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(re){$e(e,e.return,re)}}break;case 3:if(Yu=null,c=yi,yi=$u(n.containerInfo),vn(n,e),yi=c,_n(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Wa(n.containerInfo)}catch(re){$e(e,e.return,re)}gh&&(gh=!1,Eg(e));break;case 4:o=yi,yi=$u(e.stateNode.containerInfo),vn(n,e),_n(e),yi=o;break;case 12:vn(n,e),_n(e);break;case 31:vn(n,e),_n(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Du(e,o)));break;case 13:vn(n,e),_n(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Iu=zt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Du(e,o)));break;case 22:c=e.memoizedState!==null;var O=s!==null&&s.memoizedState!==null,P=us,q=Rt;if(us=P||c,Rt=q||O,vn(n,e),Rt=q,us=P,_n(e),o&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||O||us||Rt||Yr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){O=s=n;try{if(f=O.stateNode,c)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=O.stateNode;var Y=O.memoizedProps.style,V=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;v.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(re){$e(O,O.return,re)}}}else if(n.tag===6){if(s===null){O=n;try{O.stateNode.nodeValue=c?"":O.memoizedProps}catch(re){$e(O,O.return,re)}}}else if(n.tag===18){if(s===null){O=n;try{var B=O.stateNode;c?fy(B,!0):fy(O.stateNode,!1)}catch(re){$e(O,O.return,re)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Du(e,s))));break;case 19:vn(n,e),_n(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Du(e,o)));break;case 30:break;case 21:break;default:vn(n,e),_n(e)}}function _n(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(dg(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,f=mh(e);ku(e,f,c);break;case 5:var p=s.stateNode;s.flags&32&&(gn(p,""),s.flags&=-33);var v=mh(e);ku(e,v,p);break;case 3:case 4:var O=s.stateNode.containerInfo,P=mh(e);ph(e,P,O);break;default:throw Error(a(161))}}catch(q){$e(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Eg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Eg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function fs(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gg(e,n.alternate,n),n=n.sibling}function Yr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:$s(4,n,n.return),Yr(n);break;case 1:Mi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&fg(n,n.return,s),Yr(n);break;case 27:rl(n.stateNode);case 26:case 5:Mi(n,n.return),Yr(n);break;case 22:n.memoizedState===null&&Yr(n);break;case 30:Yr(n);break;default:Yr(n)}e=e.sibling}}function hs(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:hs(c,f,s),Fo(4,f);break;case 1:if(hs(c,f,s),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){$e(o,o.return,P)}if(o=f,c=o.updateQueue,c!==null){var v=o.stateNode;try{var O=c.shared.hiddenCallbacks;if(O!==null)for(c.shared.hiddenCallbacks=null,c=0;c<O.length;c++)Wm(O[c],v)}catch(P){$e(o,o.return,P)}}s&&p&64&&cg(f),Ko(f,f.return);break;case 27:mg(f);case 26:case 5:hs(c,f,s),s&&o===null&&p&4&&hg(f),Ko(f,f.return);break;case 12:hs(c,f,s);break;case 31:hs(c,f,s),s&&p&4&&_g(c,f);break;case 13:hs(c,f,s),s&&p&4&&Sg(c,f);break;case 22:f.memoizedState===null&&hs(c,f,s),Ko(f,f.return);break;case 30:break;default:hs(c,f,s)}n=n.sibling}}function yh(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Lo(s))}function vh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e))}function vi(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Tg(e,n,s,o),n=n.sibling}function Tg(e,n,s,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:vi(e,n,s,o),c&2048&&Fo(9,n);break;case 1:vi(e,n,s,o);break;case 3:vi(e,n,s,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Lo(e)));break;case 12:if(c&2048){vi(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,v=f.onPostCommit;typeof v=="function"&&v(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){$e(n,n.return,O)}}else vi(e,n,s,o);break;case 31:vi(e,n,s,o);break;case 13:vi(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?vi(e,n,s,o):Jo(e,n):f._visibility&2?vi(e,n,s,o):(f._visibility|=2,Ba(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),c&2048&&yh(p,n);break;case 24:vi(e,n,s,o),c&2048&&vh(n.alternate,n);break;default:vi(e,n,s,o)}}function Ba(e,n,s,o,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,v=s,O=o,P=p.flags;switch(p.tag){case 0:case 11:case 15:Ba(f,p,v,O,c),Fo(8,p);break;case 23:break;case 22:var q=p.stateNode;p.memoizedState!==null?q._visibility&2?Ba(f,p,v,O,c):Jo(f,p):(q._visibility|=2,Ba(f,p,v,O,c)),c&&P&2048&&yh(p.alternate,p);break;case 24:Ba(f,p,v,O,c),c&&P&2048&&vh(p.alternate,p);break;default:Ba(f,p,v,O,c)}n=n.sibling}}function Jo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,c=o.flags;switch(o.tag){case 22:Jo(s,o),c&2048&&yh(o.alternate,o);break;case 24:Jo(s,o),c&2048&&vh(o.alternate,o);break;default:Jo(s,o)}n=n.sibling}}var Qo=8192;function Ga(e,n,s){if(e.subtreeFlags&Qo)for(e=e.child;e!==null;)Ag(e,n,s),e=e.sibling}function Ag(e,n,s){switch(e.tag){case 26:Ga(e,n,s),e.flags&Qo&&e.memoizedState!==null&&Jb(s,yi,e.memoizedState,e.memoizedProps);break;case 5:Ga(e,n,s);break;case 3:case 4:var o=yi;yi=$u(e.stateNode.containerInfo),Ga(e,n,s),yi=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Qo,Qo=16777216,Ga(e,n,s),Qo=o):Ga(e,n,s));break;default:Ga(e,n,s)}}function wg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Vt=o,Ng(o,e)}wg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xg(e),e=e.sibling}function xg(e){switch(e.tag){case 0:case 11:case 15:Wo(e),e.flags&2048&&$s(9,e,e.return);break;case 3:Wo(e);break;case 12:Wo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,zu(e)):Wo(e);break;default:Wo(e)}}function zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Vt=o,Ng(o,e)}wg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:$s(8,n,n.return),zu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,zu(n));break;default:zu(n)}e=e.sibling}}function Ng(e,n){for(;Vt!==null;){var s=Vt;switch(s.tag){case 0:case 11:case 15:$s(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Lo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Vt=o;else e:for(s=e;Vt!==null;){o=Vt;var c=o.sibling,f=o.return;if(yg(o),o===s){Vt=null;break e}if(c!==null){c.return=f,Vt=c;break e}Vt=f}}}var hb={getCacheForType:function(e){var n=Xt(Nt),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Xt(Nt).controller.signal}},db=typeof WeakMap=="function"?WeakMap:Map,Ve=0,tt=null,Oe=null,ke=0,qe=0,In=null,Xs=!1,Za=!1,_h=!1,ds=0,vt=0,Ys=0,Fr=0,Sh=0,Mn=0,qa=0,el=null,Sn=null,bh=!1,Iu=0,Og=0,Mu=1/0,Lu=null,Fs=null,It=0,Ks=null,$a=null,ms=0,Eh=0,Th=null,Cg=null,tl=0,Ah=null;function Ln(){return(Ve&2)!==0&&ke!==0?ke&-ke:G.T!==null?Rh():Ar()}function Rg(){if(Mn===0)if((ke&536870912)===0||Ie){var e=Zn;Zn<<=1,(Zn&3932160)===0&&(Zn=262144),Mn=e}else Mn=536870912;return e=Dn.current,e!==null&&(e.flags|=32),Mn}function bn(e,n,s){(e===tt&&(qe===2||qe===9)||e.cancelPendingCommit!==null)&&(Xa(e,0),Js(e,ke,Mn,!1)),xi(e,s),((Ve&2)===0||e!==tt)&&(e===tt&&((Ve&2)===0&&(Fr|=s),vt===4&&Js(e,ke,Mn,!1)),Li(e))}function kg(e,n,s){if((Ve&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Nn(e,n),c=o?gb(e,n):xh(e,n,!0),f=o;do{if(c===0){Za&&!o&&Js(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!mb(s)){c=xh(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var v=e;c=el;var O=v.current.memoizedState.isDehydrated;if(O&&(Xa(v,p).flags|=256),p=xh(v,p,!1),p!==2){if(_h&&!O){v.errorRecoveryDisabledLanes|=f,Fr|=f,c=4;break e}f=Sn,Sn=c,f!==null&&(Sn===null?Sn=f:Sn.push.apply(Sn,f))}c=p}if(f=!1,c!==2)continue}}if(c===1){Xa(e,0),Js(e,n,0,!0);break}e:{switch(o=e,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Js(o,n,Mn,!Xs);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Iu+300-zt(),10<c)){if(Js(o,n,Mn,!Xs),qn(o,0,!0)!==0)break e;ms=n,o.timeoutHandle=ly(Dg.bind(null,o,s,Sn,Lu,bh,n,Mn,Fr,qa,Xs,f,"Throttled",-0,0),c);break e}Dg(o,s,Sn,Lu,bh,n,Mn,Fr,qa,Xs,f,null,-0,0)}}break}while(!0);Li(e)}function Dg(e,n,s,o,c,f,p,v,O,P,q,Y,V,B){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fi},Ag(n,f,Y);var re=(f&62914560)===f?Iu-zt():(f&4194048)===f?Og-zt():0;if(re=Qb(Y,re),re!==null){ms=f,e.cancelPendingCommit=re(Vg.bind(null,e,n,f,s,o,c,p,v,O,q,Y,null,V,B)),Js(e,f,p,!P);return}}Vg(e,n,f,s,o,c,p,v,O)}function mb(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var c=s[o],f=c.getSnapshot;c=c.value;try{if(!Rn(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Js(e,n,s,o){n&=~Sh,n&=~Fr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-Qe(c),p=1<<f;o[f]=-1,c&=~p}s!==0&&Ki(e,s,n)}function Uu(){return(Ve&6)===0?(nl(0),!1):!0}function wh(){if(Oe!==null){if(qe===0)var e=Oe.return;else e=Oe,is=Vr=null,Hf(e),Ua=null,jo=0,e=Oe;for(;e!==null;)ug(e.alternate,e),e=e.return;Oe=null}}function Xa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Ib(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ms=0,wh(),tt=e,Oe=s=ts(e.current,null),ke=n,qe=0,In=null,Xs=!1,Za=Nn(e,n),_h=!1,qa=Mn=Sh=Fr=Ys=vt=0,Sn=el=null,bh=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-Qe(o),f=1<<c;n|=e[c],o&=~f}return ds=n,su(),s}function zg(e,n){ye=null,G.H=$o,n===La||n===hu?(n=Fm(),qe=3):n===Cf?(n=Fm(),qe=4):qe=n===ih?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,In=n,Oe===null&&(vt=1,xu(e,Kn(n,e.current)))}function Ig(){var e=Dn.current;return e===null?!0:(ke&4194048)===ke?ei===null:(ke&62914560)===ke||(ke&536870912)!==0?e===ei:!1}function Mg(){var e=G.H;return G.H=$o,e===null?$o:e}function Lg(){var e=G.A;return G.A=hb,e}function ju(){vt=4,Xs||(ke&4194048)!==ke&&Dn.current!==null||(Za=!0),(Ys&134217727)===0&&(Fr&134217727)===0||tt===null||Js(tt,ke,Mn,!1)}function xh(e,n,s){var o=Ve;Ve|=2;var c=Mg(),f=Lg();(tt!==e||ke!==n)&&(Lu=null,Xa(e,n)),n=!1;var p=vt;e:do try{if(qe!==0&&Oe!==null){var v=Oe,O=In;switch(qe){case 8:wh(),p=6;break e;case 3:case 2:case 9:case 6:Dn.current===null&&(n=!0);var P=qe;if(qe=0,In=null,Ya(e,v,O,P),s&&Za){p=0;break e}break;default:P=qe,qe=0,In=null,Ya(e,v,O,P)}}pb(),p=vt;break}catch(q){zg(e,q)}while(!0);return n&&e.shellSuspendCounter++,is=Vr=null,Ve=o,G.H=c,G.A=f,Oe===null&&(tt=null,ke=0,su()),p}function pb(){for(;Oe!==null;)Ug(Oe)}function gb(e,n){var s=Ve;Ve|=2;var o=Mg(),c=Lg();tt!==e||ke!==n?(Lu=null,Mu=zt()+500,Xa(e,n)):Za=Nn(e,n);e:do try{if(qe!==0&&Oe!==null){n=Oe;var f=In;t:switch(qe){case 1:qe=0,In=null,Ya(e,n,f,1);break;case 2:case 9:if(Xm(f)){qe=0,In=null,jg(n);break}n=function(){qe!==2&&qe!==9||tt!==e||(qe=7),Li(e)},f.then(n,n);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:Xm(f)?(qe=0,In=null,jg(n)):(qe=0,In=null,Ya(e,n,f,7));break;case 5:var p=null;switch(Oe.tag){case 26:p=Oe.memoizedState;case 5:case 27:var v=Oe;if(p?Ty(p):v.stateNode.complete){qe=0,In=null;var O=v.sibling;if(O!==null)Oe=O;else{var P=v.return;P!==null?(Oe=P,Pu(P)):Oe=null}break t}}qe=0,In=null,Ya(e,n,f,5);break;case 6:qe=0,In=null,Ya(e,n,f,6);break;case 8:wh(),vt=6;break e;default:throw Error(a(462))}}yb();break}catch(q){zg(e,q)}while(!0);return is=Vr=null,G.H=o,G.A=c,Ve=s,Oe!==null?0:(tt=null,ke=0,su(),vt)}function yb(){for(;Oe!==null&&!ua();)Ug(Oe)}function Ug(e){var n=og(e.alternate,e,ds);e.memoizedProps=e.pendingProps,n===null?Pu(e):Oe=n}function jg(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=tg(s,n,n.pendingProps,n.type,void 0,ke);break;case 11:n=tg(s,n,n.pendingProps,n.type.render,n.ref,ke);break;case 5:Hf(n);default:ug(s,n),n=Oe=Lm(n,ds),n=og(s,n,ds)}e.memoizedProps=e.pendingProps,n===null?Pu(e):Oe=n}function Ya(e,n,s,o){is=Vr=null,Hf(n),Ua=null,jo=0;var c=n.return;try{if(rb(e,c,n,s,ke)){vt=1,xu(e,Kn(s,e.current)),Oe=null;return}}catch(f){if(c!==null)throw Oe=c,f;vt=1,xu(e,Kn(s,e.current)),Oe=null;return}n.flags&32768?(Ie||o===1?e=!0:Za||(ke&536870912)!==0?e=!1:(Xs=e=!0,(o===2||o===9||o===3||o===6)&&(o=Dn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Pg(n,e)):Pu(n)}function Pu(e){var n=e;do{if((n.flags&32768)!==0){Pg(n,Xs);return}e=n.return;var s=lb(n.alternate,n,ds);if(s!==null){Oe=s;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=e}while(n!==null);vt===0&&(vt=5)}function Pg(e,n){do{var s=ub(e.alternate,e);if(s!==null){s.flags&=32767,Oe=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Oe=e;return}Oe=e=s}while(e!==null);vt=6,Oe=null}function Vg(e,n,s,o,c,f,p,v,O){e.cancelPendingCommit=null;do Vu();while(It!==0);if((Ve&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=mf,br(e,s,f,p,v,O),e===tt&&(Oe=tt=null,ke=0),$a=n,Ks=e,ms=s,Eh=f,Th=c,Cg=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,bb(Gn,function(){return qg(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,c=W.p,W.p=2,p=Ve,Ve|=4;try{cb(e,n,s)}finally{Ve=p,W.p=c,G.T=o}}It=1,Hg(),Bg(),Gg()}}function Hg(){if(It===1){It=0;var e=Ks,n=$a,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=W.p;W.p=2;var c=Ve;Ve|=4;try{bg(n,e);var f=jh,p=Nm(e.containerInfo),v=f.focusedElem,O=f.selectionRange;if(p!==v&&v&&v.ownerDocument&&xm(v.ownerDocument.documentElement,v)){if(O!==null&&uf(v)){var P=O.start,q=O.end;if(q===void 0&&(q=P),"selectionStart"in v)v.selectionStart=P,v.selectionEnd=Math.min(q,v.value.length);else{var Y=v.ownerDocument||document,V=Y&&Y.defaultView||window;if(V.getSelection){var B=V.getSelection(),re=v.textContent.length,de=Math.min(O.start,re),Je=O.end===void 0?de:Math.min(O.end,re);!B.extend&&de>Je&&(p=Je,Je=de,de=p);var M=wm(v,de),D=wm(v,Je);if(M&&D&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var j=Y.createRange();j.setStart(M.node,M.offset),B.removeAllRanges(),de>Je?(B.addRange(j),B.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),B.addRange(j))}}}}for(Y=[],B=v;B=B.parentNode;)B.nodeType===1&&Y.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<Y.length;v++){var $=Y[v];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Qu=!!Uh,jh=Uh=null}finally{Ve=c,W.p=o,G.T=s}}e.current=n,It=2}}function Bg(){if(It===2){It=0;var e=Ks,n=$a,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=W.p;W.p=2;var c=Ve;Ve|=4;try{gg(e,n.alternate,n)}finally{Ve=c,W.p=o,G.T=s}}It=3}}function Gg(){if(It===4||It===3){It=0,ca();var e=Ks,n=$a,s=ms,o=Cg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?It=5:(It=0,$a=Ks=null,Zg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Fs=null),Gt(s),n=n.stateNode,dt&&typeof dt.onCommitFiberRoot=="function")try{dt.onCommitFiberRoot(Qt,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,c=W.p,W.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var v=o[p];f(v.value,{componentStack:v.stack})}}finally{G.T=n,W.p=c}}(ms&3)!==0&&Vu(),Li(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===Ah?tl++:(tl=0,Ah=e):tl=0,nl(0)}}function Zg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Lo(n)))}function Vu(){return Hg(),Bg(),Gg(),qg()}function qg(){if(It!==5)return!1;var e=Ks,n=Eh;Eh=0;var s=Gt(ms),o=G.T,c=W.p;try{W.p=32>s?32:s,G.T=null,s=Th,Th=null;var f=Ks,p=ms;if(It=0,$a=Ks=null,ms=0,(Ve&6)!==0)throw Error(a(331));var v=Ve;if(Ve|=4,xg(f.current),Tg(f,f.current,p,s),Ve=v,nl(0,!1),dt&&typeof dt.onPostCommitFiberRoot=="function")try{dt.onPostCommitFiberRoot(Qt,f)}catch{}return!0}finally{W.p=c,G.T=o,Zg(e,n)}}function $g(e,n,s){n=Kn(s,n),n=nh(e.stateNode,n,2),e=Gs(e,n,2),e!==null&&(xi(e,2),Li(e))}function $e(e,n,s){if(e.tag===3)$g(e,e,s);else for(;n!==null;){if(n.tag===3){$g(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Fs===null||!Fs.has(o))){e=Kn(s,e),s=Xp(2),o=Gs(n,s,2),o!==null&&(Yp(s,o,n,e),xi(o,2),Li(o));break}}n=n.return}}function Nh(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new db;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(s)||(_h=!0,c.add(s),e=vb.bind(null,e,n,s),n.then(e,e))}function vb(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,tt===e&&(ke&s)===s&&(vt===4||vt===3&&(ke&62914560)===ke&&300>zt()-Iu?(Ve&2)===0&&Xa(e,0):Sh|=s,qa===ke&&(qa=0)),Li(e)}function Xg(e,n){n===0&&(n=ci()),e=Ur(e,n),e!==null&&(xi(e,n),Li(e))}function _b(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Xg(e,s)}function Sb(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Xg(e,s)}function bb(e,n){return at(e,n)}var Hu=null,Fa=null,Oh=!1,Bu=!1,Ch=!1,Qs=0;function Li(e){e!==Fa&&e.next===null&&(Fa===null?Hu=Fa=e:Fa=Fa.next=e),Bu=!0,Oh||(Oh=!0,Tb())}function nl(e,n){if(!Ch&&Bu){Ch=!0;do for(var s=!1,o=Hu;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var p=o.suspendedLanes,v=o.pingedLanes;f=(1<<31-Qe(42|e)+1)-1,f&=c&~(p&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Jg(o,f))}else f=ke,f=qn(o,o===tt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Nn(o,f)||(s=!0,Jg(o,f));o=o.next}while(s);Ch=!1}}function Eb(){Yg()}function Yg(){Bu=Oh=!1;var e=0;Qs!==0&&zb()&&(e=Qs);for(var n=zt(),s=null,o=Hu;o!==null;){var c=o.next,f=Fg(o,n);f===0?(o.next=null,s===null?Hu=c:s.next=c,c===null&&(Fa=s)):(s=o,(e!==0||(f&3)!==0)&&(Bu=!0)),o=c}It!==0&&It!==5||nl(e),Qs!==0&&(Qs=0)}function Fg(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-Qe(f),v=1<<p,O=c[p];O===-1?((v&s)===0||(v&o)!==0)&&(c[p]=ut(v,n)):O<=n&&(e.expiredLanes|=v),f&=~v}if(n=tt,s=ke,s=qn(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(qe===2||qe===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ui(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Nn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ui(o),Gt(s)){case 2:case 8:s=Jt;break;case 32:s=Gn;break;case 268435456:s=Sr;break;default:s=Gn}return o=Kg.bind(null,e),s=at(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ui(o),e.callbackPriority=2,e.callbackNode=null,2}function Kg(e,n){if(It!==0&&It!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(Vu()&&e.callbackNode!==s)return null;var o=ke;return o=qn(e,e===tt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(kg(e,o,n),Fg(e,zt()),e.callbackNode!=null&&e.callbackNode===s?Kg.bind(null,e):null)}function Jg(e,n){if(Vu())return null;kg(e,n,!0)}function Tb(){Mb(function(){(Ve&6)!==0?at(Bn,Eb):Yg()})}function Rh(){if(Qs===0){var e=Ia;e===0&&(e=rn,rn<<=1,(rn&261888)===0&&(rn=256)),Qs=e}return Qs}function Qg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_a(""+e)}function Wg(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function Ab(e,n,s,o,c){if(n==="submit"&&s&&s.stateNode===c){var f=Qg((c[Ye]||null).action),p=o.submitter;p&&(n=(n=p[Ye]||null)?Qg(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var v=new Ri("action","action",null,o,c);e.push({event:v,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Qs!==0){var O=p?Wg(c,p):new FormData(c);Kf(s,{pending:!0,data:O,method:c.method,action:f},null,O)}}else typeof f=="function"&&(v.preventDefault(),O=p?Wg(c,p):new FormData(c),Kf(s,{pending:!0,data:O,method:c.method,action:f},f,O))},currentTarget:c}]})}}for(var kh=0;kh<df.length;kh++){var Dh=df[kh],wb=Dh.toLowerCase(),xb=Dh[0].toUpperCase()+Dh.slice(1);gi(wb,"on"+xb)}gi(Rm,"onAnimationEnd"),gi(km,"onAnimationIteration"),gi(Dm,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(BS,"onTransitionRun"),gi(GS,"onTransitionStart"),gi(ZS,"onTransitionCancel"),gi(zm,"onTransitionEnd"),mn("onMouseEnter",["mouseout","mouseover"]),mn("onMouseLeave",["mouseout","mouseover"]),mn("onPointerEnter",["pointerout","pointerover"]),mn("onPointerLeave",["pointerout","pointerover"]),Zt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Zt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Zt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Zt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Zt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Zt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function ey(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],c=o.event;o=o.listeners;e:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var v=o[p],O=v.instance,P=v.currentTarget;if(v=v.listener,O!==f&&c.isPropagationStopped())break e;f=v,c.currentTarget=P;try{f(c)}catch(q){iu(q)}c.currentTarget=null,f=O}else for(p=0;p<o.length;p++){if(v=o[p],O=v.instance,P=v.currentTarget,v=v.listener,O!==f&&c.isPropagationStopped())break e;f=v,c.currentTarget=P;try{f(c)}catch(q){iu(q)}c.currentTarget=null,f=O}}}}function Ce(e,n){var s=n[Ji];s===void 0&&(s=n[Ji]=new Set);var o=e+"__bubble";s.has(o)||(ty(n,e,2,!1),s.add(o))}function zh(e,n,s){var o=0;n&&(o|=4),ty(s,e,o,n)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function Ih(e){if(!e[Gu]){e[Gu]=!0,wt.forEach(function(s){s!=="selectionchange"&&(Nb.has(s)||zh(s,!1,e),zh(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Gu]||(n[Gu]=!0,zh("selectionchange",!1,n))}}function ty(e,n,s,o){switch(Ry(n)){case 2:var c=tE;break;case 8:c=nE;break;default:c=Fh}s=c.bind(null,n,s,e),c=void 0,!Cr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function Mh(e,n,s,o,c){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var v=o.stateNode.containerInfo;if(v===c)break;if(p===4)for(p=o.return;p!==null;){var O=p.tag;if((O===3||O===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;v!==null;){if(p=K(v),p===null)return;if(O=p.tag,O===5||O===6||O===26||O===27){o=f=p;continue e}v=v.parentNode}}o=o.return}zs(function(){var P=f,q=Xn(s),Y=[];e:{var V=Im.get(e);if(V!==void 0){var B=Ri,re=e;switch(e){case"keypress":if(kr(s)===0)break e;case"keydown":case"keyup":B=tu;break;case"focusin":re="focus",B=zr;break;case"focusout":re="blur",B=zr;break;case"beforeblur":case"afterblur":B=zr;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Oo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=ql;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=g;break;case Rm:case km:case Dm:B=Xl;break;case zm:B=L;break;case"scroll":case"scrollend":B=No;break;case"wheel":B=Q;break;case"copy":case"cut":case"paste":B=Yl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=u;break;case"toggle":case"beforetoggle":B=bt}var de=(n&4)!==0,Je=!de&&(e==="scroll"||e==="scrollend"),M=de?V!==null?V+"Capture":null:V;de=[];for(var D=P,j;D!==null;){var $=D;if(j=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||j===null||M===null||($=hi(D,M),$!=null&&de.push(sl(D,$,j))),Je)break;D=D.return}0<de.length&&(V=new B(V,re,null,s,q),Y.push({event:V,listeners:de}))}}if((n&7)===0){e:{if(V=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",V&&s!==Ao&&(re=s.relatedTarget||s.fromElement)&&(K(re)||re[On]))break e;if((B||V)&&(V=q.window===q?q:(V=q.ownerDocument)?V.defaultView||V.parentWindow:window,B?(re=s.relatedTarget||s.toElement,B=P,re=re?K(re):null,re!==null&&(Je=h(re),de=re.tag,re!==Je||de!==5&&de!==27&&de!==6)&&(re=null)):(B=null,re=P),B!==re)){if(de=Oo,$="onMouseLeave",M="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(de=u,$="onPointerLeave",M="onPointerEnter",D="pointer"),Je=B==null?V:Ae(B),j=re==null?V:Ae(re),V=new de($,D+"leave",B,s,q),V.target=Je,V.relatedTarget=j,$=null,K(q)===P&&(de=new de(M,D+"enter",re,s,q),de.target=j,de.relatedTarget=Je,$=de),Je=$,B&&re)t:{for(de=Ob,M=B,D=re,j=0,$=M;$;$=de($))j++;$=0;for(var ce=D;ce;ce=de(ce))$++;for(;0<j-$;)M=de(M),j--;for(;0<$-j;)D=de(D),$--;for(;j--;){if(M===D||D!==null&&M===D.alternate){de=M;break t}M=de(M),D=de(D)}de=null}else de=null;B!==null&&ny(Y,V,B,de,!1),re!==null&&Je!==null&&ny(Y,Je,re,de,!0)}}e:{if(V=P?Ae(P):window,B=V.nodeName&&V.nodeName.toLowerCase(),B==="select"||B==="input"&&V.type==="file")var je=_m;else if(ym(V))if(Sm)je=PS;else{je=US;var oe=LS}else B=V.nodeName,!B||B.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?P&&va(P.elementType)&&(je=_m):je=jS;if(je&&(je=je(e,P))){vm(Y,je,s,q);break e}oe&&oe(e,V,P),e==="focusout"&&P&&V.type==="number"&&P.memoizedProps.value!=null&&bo(V,"number",V.value)}switch(oe=P?Ae(P):window,e){case"focusin":(ym(oe)||oe.contentEditable==="true")&&(xa=oe,cf=P,zo=null);break;case"focusout":zo=cf=xa=null;break;case"mousedown":ff=!0;break;case"contextmenu":case"mouseup":case"dragend":ff=!1,Om(Y,s,q);break;case"selectionchange":if(HS)break;case"keydown":case"keyup":Om(Y,s,q)}var _e;if(gt)e:{switch(e){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else wa?Aa(e,s)&&(De="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(De="onCompositionStart");De&&(mi&&s.locale!=="ko"&&(wa||De!=="onCompositionStart"?De==="onCompositionEnd"&&wa&&(_e=xo()):(Ci=q,wo="value"in Ci?Ci.value:Ci.textContent,wa=!0)),oe=Zu(P,De),0<oe.length&&(De=new Di(De,e,null,s,q),Y.push({event:De,listeners:oe}),_e?De.data=_e:(_e=gm(s),_e!==null&&(De.data=_e)))),(_e=es?DS(e,s):zS(e,s))&&(De=Zu(P,"onBeforeInput"),0<De.length&&(oe=new Di("onBeforeInput","beforeinput",null,s,q),Y.push({event:oe,listeners:De}),oe.data=_e)),Ab(Y,e,P,s,q)}ey(Y,n)})}function sl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Zu(e,n){for(var s=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=hi(e,s),c!=null&&o.unshift(sl(e,c,f)),c=hi(e,n),c!=null&&o.push(sl(e,c,f))),e.tag===3)return o;e=e.return}return[]}function Ob(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ny(e,n,s,o,c){for(var f=n._reactName,p=[];s!==null&&s!==o;){var v=s,O=v.alternate,P=v.stateNode;if(v=v.tag,O!==null&&O===o)break;v!==5&&v!==26&&v!==27||P===null||(O=P,c?(P=hi(s,f),P!=null&&p.unshift(sl(s,P,O))):c||(P=hi(s,f),P!=null&&p.push(sl(s,P,O)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var Cb=/\r\n?/g,Rb=/\u0000|\uFFFD/g;function iy(e){return(typeof e=="string"?e:""+e).replace(Cb,`
`).replace(Rb,"")}function sy(e,n){return n=iy(n),iy(e)===n}function Ke(e,n,s,o,c,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||gn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&gn(e,""+o);break;case"className":Cn(e,"class",o);break;case"tabIndex":Cn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Cn(e,s,o);break;case"style":To(e,o,f);break;case"data":if(n!=="object"){Cn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=_a(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Ke(e,n,"name",c.name,c,null),Ke(e,n,"formEncType",c.formEncType,c,null),Ke(e,n,"formMethod",c.formMethod,c,null),Ke(e,n,"formTarget",c.formTarget,c,null)):(Ke(e,n,"encType",c.encType,c,null),Ke(e,n,"method",c.method,c,null),Ke(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=_a(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=fi);break;case"onScroll":o!=null&&Ce("scroll",e);break;case"onScrollEnd":o!=null&&Ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=_a(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ce("beforetoggle",e),Ce("toggle",e),ga(e,"popover",o);break;case"xlinkActuate":xt(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":xt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":xt(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":xt(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":xt(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":xt(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":xt(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":xt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":xt(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ga(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Zl.get(s)||s,ga(e,s,o))}}function Lh(e,n,s,o,c,f){switch(s){case"style":To(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?gn(e,o):(typeof o=="number"||typeof o=="bigint")&&gn(e,""+o);break;case"onScroll":o!=null&&Ce("scroll",e);break;case"onScrollEnd":o!=null&&Ce("scrollend",e);break;case"onClick":o!=null&&(e.onclick=fi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!on.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=e[Ye]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,c);break e}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ga(e,s,o)}}}function Ft(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ce("error",e),Ce("load",e);var o=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ke(e,n,f,p,s,null)}}c&&Ke(e,n,"srcSet",s.srcSet,s,null),o&&Ke(e,n,"src",s.src,s,null);return;case"input":Ce("invalid",e);var v=f=p=c=null,O=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var q=s[o];if(q!=null)switch(o){case"name":c=q;break;case"type":p=q;break;case"checked":O=q;break;case"defaultChecked":P=q;break;case"value":f=q;break;case"defaultValue":v=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:Ke(e,n,o,q,s,null)}}Hl(e,f,v,O,P,p,c,!1);return;case"select":Ce("invalid",e),o=p=f=null;for(c in s)if(s.hasOwnProperty(c)&&(v=s[c],v!=null))switch(c){case"value":f=v;break;case"defaultValue":p=v;break;case"multiple":o=v;default:Ke(e,n,c,v,s,null)}n=f,s=p,e.multiple=!!o,n!=null?Cs(e,!!o,n,!1):s!=null&&Cs(e,!!o,s,!0);return;case"textarea":Ce("invalid",e),f=c=o=null;for(p in s)if(s.hasOwnProperty(p)&&(v=s[p],v!=null))switch(p){case"value":o=v;break;case"defaultValue":c=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(a(91));break;default:Ke(e,n,p,v,s,null)}Rs(e,o,c,f);return;case"option":for(O in s)s.hasOwnProperty(O)&&(o=s[O],o!=null)&&(O==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Ke(e,n,O,o,s,null));return;case"dialog":Ce("beforetoggle",e),Ce("toggle",e),Ce("cancel",e),Ce("close",e);break;case"iframe":case"object":Ce("load",e);break;case"video":case"audio":for(o=0;o<il.length;o++)Ce(il[o],e);break;case"image":Ce("error",e),Ce("load",e);break;case"details":Ce("toggle",e);break;case"embed":case"source":case"link":Ce("error",e),Ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ke(e,n,P,o,s,null)}return;default:if(va(n)){for(q in s)s.hasOwnProperty(q)&&(o=s[q],o!==void 0&&Lh(e,n,q,o,s,void 0));return}}for(v in s)s.hasOwnProperty(v)&&(o=s[v],o!=null&&Ke(e,n,v,o,s,null))}function kb(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,p=null,v=null,O=null,P=null,q=null;for(B in s){var Y=s[B];if(s.hasOwnProperty(B)&&Y!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":O=Y;default:o.hasOwnProperty(B)||Ke(e,n,B,null,o,Y)}}for(var V in o){var B=o[V];if(Y=s[V],o.hasOwnProperty(V)&&(B!=null||Y!=null))switch(V){case"type":f=B;break;case"name":c=B;break;case"checked":P=B;break;case"defaultChecked":q=B;break;case"value":p=B;break;case"defaultValue":v=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:B!==Y&&Ke(e,n,V,B,o,Y)}}ya(e,p,v,O,P,q,f,c);return;case"select":B=p=v=V=null;for(f in s)if(O=s[f],s.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":B=O;default:o.hasOwnProperty(f)||Ke(e,n,f,null,o,O)}for(c in o)if(f=o[c],O=s[c],o.hasOwnProperty(c)&&(f!=null||O!=null))switch(c){case"value":V=f;break;case"defaultValue":v=f;break;case"multiple":p=f;default:f!==O&&Ke(e,n,c,f,o,O)}n=v,s=p,o=B,V!=null?Cs(e,!!s,V,!1):!!o!=!!s&&(n!=null?Cs(e,!!s,n,!0):Cs(e,!!s,s?[]:"",!1));return;case"textarea":B=V=null;for(v in s)if(c=s[v],s.hasOwnProperty(v)&&c!=null&&!o.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Ke(e,n,v,null,o,c)}for(p in o)if(c=o[p],f=s[p],o.hasOwnProperty(p)&&(c!=null||f!=null))switch(p){case"value":V=c;break;case"defaultValue":B=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Ke(e,n,p,c,o,f)}Bl(e,V,B);return;case"option":for(var re in s)V=s[re],s.hasOwnProperty(re)&&V!=null&&!o.hasOwnProperty(re)&&(re==="selected"?e.selected=!1:Ke(e,n,re,null,o,V));for(O in o)V=o[O],B=s[O],o.hasOwnProperty(O)&&V!==B&&(V!=null||B!=null)&&(O==="selected"?e.selected=V&&typeof V!="function"&&typeof V!="symbol":Ke(e,n,O,V,o,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in s)V=s[de],s.hasOwnProperty(de)&&V!=null&&!o.hasOwnProperty(de)&&Ke(e,n,de,null,o,V);for(P in o)if(V=o[P],B=s[P],o.hasOwnProperty(P)&&V!==B&&(V!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,n));break;default:Ke(e,n,P,V,o,B)}return;default:if(va(n)){for(var Je in s)V=s[Je],s.hasOwnProperty(Je)&&V!==void 0&&!o.hasOwnProperty(Je)&&Lh(e,n,Je,void 0,o,V);for(q in o)V=o[q],B=s[q],!o.hasOwnProperty(q)||V===B||V===void 0&&B===void 0||Lh(e,n,q,V,o,B);return}}for(var M in s)V=s[M],s.hasOwnProperty(M)&&V!=null&&!o.hasOwnProperty(M)&&Ke(e,n,M,null,o,V);for(Y in o)V=o[Y],B=s[Y],!o.hasOwnProperty(Y)||V===B||V==null&&B==null||Ke(e,n,Y,V,o,B)}function ry(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Db(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var c=s[o],f=c.transferSize,p=c.initiatorType,v=c.duration;if(f&&v&&ry(p)){for(p=0,v=c.responseEnd,o+=1;o<s.length;o++){var O=s[o],P=O.startTime;if(P>v)break;var q=O.transferSize,Y=O.initiatorType;q&&ry(Y)&&(O=O.responseEnd,p+=q*(O<v?1:(v-P)/(O-P)))}if(--o,n+=8*(f+p)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Uh=null,jh=null;function qu(e){return e.nodeType===9?e:e.ownerDocument}function ay(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ph(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Vh=null;function zb(){var e=window.event;return e&&e.type==="popstate"?e===Vh?!1:(Vh=e,!0):(Vh=null,!1)}var ly=typeof setTimeout=="function"?setTimeout:void 0,Ib=typeof clearTimeout=="function"?clearTimeout:void 0,uy=typeof Promise=="function"?Promise:void 0,Mb=typeof queueMicrotask=="function"?queueMicrotask:typeof uy<"u"?function(e){return uy.resolve(null).then(e).catch(Lb)}:ly;function Lb(e){setTimeout(function(){throw e})}function Ws(e){return e==="head"}function cy(e,n){var s=n,o=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(c),Wa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")rl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,rl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,v=f.nodeName;f[se]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&rl(e.ownerDocument.body);s=c}while(s);Wa(n)}function fy(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function Hh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Hh(s),k(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Ub(e,n,s,o){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[se])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ti(e.nextSibling),e===null)break}return null}function jb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=ti(e.nextSibling),e===null))return null;return e}function hy(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ti(e.nextSibling),e===null))return null;return e}function Bh(e){return e.data==="$?"||e.data==="$~"}function Gh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Pb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function ti(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Zh=null;function dy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return ti(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function my(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function py(e,n,s){switch(n=qu(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function rl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);k(e)}var ni=new Map,gy=new Set;function $u(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ps=W.d;W.d={f:Vb,r:Hb,D:Bb,C:Gb,L:Zb,m:qb,X:Xb,S:$b,M:Yb};function Vb(){var e=ps.f(),n=Uu();return e||n}function Hb(e){var n=ee(e);n!==null&&n.tag===5&&n.type==="form"?zp(n):ps.r(e)}var Ka=typeof document>"u"?null:document;function yy(e,n,s){var o=Ka;if(o&&typeof n=="string"&&n){var c=pn(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),gy.has(c)||(gy.add(c),e={rel:e,crossOrigin:s,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),Ft(n,"link",e),ve(n),o.head.appendChild(n)))}}function Bb(e){ps.D(e),yy("dns-prefetch",e,null)}function Gb(e,n){ps.C(e,n),yy("preconnect",e,n)}function Zb(e,n,s){ps.L(e,n,s);var o=Ka;if(o&&e&&n){var c='link[rel="preload"][as="'+pn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+pn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+pn(s.imageSizes)+'"]')):c+='[href="'+pn(e)+'"]';var f=c;switch(n){case"style":f=Ja(e);break;case"script":f=Qa(e)}ni.has(f)||(e=R({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),ni.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(al(f))||n==="script"&&o.querySelector(ol(f))||(n=o.createElement("link"),Ft(n,"link",e),ve(n),o.head.appendChild(n)))}}function qb(e,n){ps.m(e,n);var s=Ka;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+pn(o)+'"][href="'+pn(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Qa(e)}if(!ni.has(f)&&(e=R({rel:"modulepreload",href:e},n),ni.set(f,e),s.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ol(f)))return}o=s.createElement("link"),Ft(o,"link",e),ve(o),s.head.appendChild(o)}}}function $b(e,n,s){ps.S(e,n,s);var o=Ka;if(o&&e){var c=We(o).hoistableStyles,f=Ja(e);n=n||"default";var p=c.get(f);if(!p){var v={loading:0,preload:null};if(p=o.querySelector(al(f)))v.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":n},s),(s=ni.get(f))&&qh(e,s);var O=p=o.createElement("link");ve(O),Ft(O,"link",e),O._p=new Promise(function(P,q){O.onload=P,O.onerror=q}),O.addEventListener("load",function(){v.loading|=1}),O.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Xu(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:v},c.set(f,p)}}}function Xb(e,n){ps.X(e,n);var s=Ka;if(s&&e){var o=We(s).hoistableScripts,c=Qa(e),f=o.get(c);f||(f=s.querySelector(ol(c)),f||(e=R({src:e,async:!0},n),(n=ni.get(c))&&$h(e,n),f=s.createElement("script"),ve(f),Ft(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Yb(e,n){ps.M(e,n);var s=Ka;if(s&&e){var o=We(s).hoistableScripts,c=Qa(e),f=o.get(c);f||(f=s.querySelector(ol(c)),f||(e=R({src:e,async:!0,type:"module"},n),(n=ni.get(c))&&$h(e,n),f=s.createElement("script"),ve(f),Ft(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function vy(e,n,s,o){var c=(c=Ut.current)?$u(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ja(s.href),s=We(c).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ja(s.href);var f=We(c).hoistableStyles,p=f.get(e);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=c.querySelector(al(e)))&&!f._p&&(p.instance=f,p.state.loading=5),ni.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},ni.set(e,s),f||Fb(c,e,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Qa(s),s=We(c).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ja(e){return'href="'+pn(e)+'"'}function al(e){return'link[rel="stylesheet"]['+e+"]"}function _y(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function Fb(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ft(n,"link",s),ve(n),e.head.appendChild(n))}function Qa(e){return'[src="'+pn(e)+'"]'}function ol(e){return"script[async]"+e}function Sy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+pn(s.href)+'"]');if(o)return n.instance=o,ve(o),o;var c=R({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),Ft(o,"style",c),Xu(o,s.precedence,e),n.instance=o;case"stylesheet":c=Ja(s.href);var f=e.querySelector(al(c));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=_y(s),(c=ni.get(c))&&qh(o,c),f=(e.ownerDocument||e).createElement("link"),ve(f);var p=f;return p._p=new Promise(function(v,O){p.onload=v,p.onerror=O}),Ft(f,"link",o),n.state.loading|=4,Xu(f,s.precedence,e),n.instance=f;case"script":return f=Qa(s.src),(c=e.querySelector(ol(f)))?(n.instance=c,ve(c),c):(o=s,(c=ni.get(f))&&(o=R({},s),$h(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),ve(c),Ft(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Xu(o,s.precedence,e));return n.instance}function Xu(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,p=0;p<o.length;p++){var v=o[p];if(v.dataset.precedence===n)f=v;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function qh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function $h(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Yu=null;function by(e,n,s){if(Yu===null){var o=new Map,c=Yu=new Map;c.set(s,o)}else c=Yu,o=c.get(s),o||(o=new Map,c.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var f=s[c];if(!(f[se]||f[ct]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var v=o.get(p);v?v.push(f):o.set(p,[f])}}return o}function Ey(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Kb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ty(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Jb(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Ja(o.href),f=n.querySelector(al(c));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Fu.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,ve(f);return}f=n.ownerDocument||n,o=_y(o),(c=ni.get(c))&&qh(o,c),f=f.createElement("link"),ve(f);var p=f;p._p=new Promise(function(v,O){p.onload=v,p.onerror=O}),Ft(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Fu.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Xh=0;function Qb(e,n){return e.stylesheets&&e.count===0&&Ju(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Ju(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Xh===0&&(Xh=62500*Db());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ju(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Xh?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function Fu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ju(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ku=null;function Ju(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ku=new Map,n.forEach(Wb,e),Ku=null,Fu.call(e))}function Wb(e,n){if(!(n.state.loading&4)){var s=Ku.get(e);if(s)var o=s.get(null);else{s=new Map,Ku.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var p=c[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}c=n.instance,p=c.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,c),s.set(p,c),this.count++,o=Fu.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var ll={$$typeof:ae,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function eE(e,n,s,o,c,f,p,v,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=$n(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$n(0),this.hiddenUpdates=$n(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function Ay(e,n,s,o,c,f,p,v,O,P,q,Y){return e=new eE(e,n,s,p,O,P,q,Y,v),n=1,f===!0&&(n|=24),f=kn(3,null,null,n),e.current=f,f.stateNode=e,n=xf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},Rf(f),e}function wy(e){return e?(e=Ca,e):Ca}function xy(e,n,s,o,c,f){c=wy(c),o.context===null?o.context=c:o.pendingContext=c,o=Bs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Gs(e,o,n),s!==null&&(bn(s,e,n),Vo(s,e,n))}function Ny(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Yh(e,n){Ny(e,n),(e=e.alternate)&&Ny(e,n)}function Oy(e){if(e.tag===13||e.tag===31){var n=Ur(e,67108864);n!==null&&bn(n,e,67108864),Yh(e,67108864)}}function Cy(e){if(e.tag===13||e.tag===31){var n=Ln();n=jt(n);var s=Ur(e,n);s!==null&&bn(s,e,n),Yh(e,n)}}var Qu=!0;function tE(e,n,s,o){var c=G.T;G.T=null;var f=W.p;try{W.p=2,Fh(e,n,s,o)}finally{W.p=f,G.T=c}}function nE(e,n,s,o){var c=G.T;G.T=null;var f=W.p;try{W.p=8,Fh(e,n,s,o)}finally{W.p=f,G.T=c}}function Fh(e,n,s,o){if(Qu){var c=Kh(o);if(c===null)Mh(e,n,o,Wu,s),ky(e,o);else if(sE(c,e,n,s,o))o.stopPropagation();else if(ky(e,o),n&4&&-1<iE.indexOf(e)){for(;c!==null;){var f=ee(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Wt(f.pendingLanes);if(p!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var O=1<<31-Qe(p);v.entanglements[1]|=O,p&=~O}Li(f),(Ve&6)===0&&(Mu=zt()+500,nl(0))}}break;case 31:case 13:v=Ur(f,2),v!==null&&bn(v,f,2),Uu(),Yh(f,2)}if(f=Kh(o),f===null&&Mh(e,n,o,Wu,s),f===c)break;c=f}c!==null&&o.stopPropagation()}else Mh(e,n,o,null,s)}}function Kh(e){return e=Xn(e),Jh(e)}var Wu=null;function Jh(e){if(Wu=null,e=K(e),e!==null){var n=h(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=y(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Wu=e,null}function Ry(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xn()){case Bn:return 2;case Jt:return 8;case Gn:case fa:return 32;case Sr:return 268435456;default:return 32}default:return 32}}var Qh=!1,er=null,tr=null,nr=null,ul=new Map,cl=new Map,ir=[],iE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ky(e,n){switch(e){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(n.pointerId)}}function fl(e,n,s,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=ee(n),n!==null&&Oy(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function sE(e,n,s,o,c){switch(n){case"focusin":return er=fl(er,e,n,s,o,c),!0;case"dragenter":return tr=fl(tr,e,n,s,o,c),!0;case"mouseover":return nr=fl(nr,e,n,s,o,c),!0;case"pointerover":var f=c.pointerId;return ul.set(f,fl(ul.get(f)||null,e,n,s,o,c)),!0;case"gotpointercapture":return f=c.pointerId,cl.set(f,fl(cl.get(f)||null,e,n,s,o,c)),!0}return!1}function Dy(e){var n=K(e.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,dn(e.priority,function(){Cy(s)});return}}else if(n===31){if(n=y(s),n!==null){e.blockedOn=n,dn(e.priority,function(){Cy(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ec(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Kh(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Ao=o,s.target.dispatchEvent(o),Ao=null}else return n=ee(s),n!==null&&Oy(n),e.blockedOn=s,!1;n.shift()}return!0}function zy(e,n,s){ec(e)&&s.delete(n)}function rE(){Qh=!1,er!==null&&ec(er)&&(er=null),tr!==null&&ec(tr)&&(tr=null),nr!==null&&ec(nr)&&(nr=null),ul.forEach(zy),cl.forEach(zy)}function tc(e,n){e.blockedOn===n&&(e.blockedOn=null,Qh||(Qh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,rE)))}var nc=null;function Iy(e){nc!==e&&(nc=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){nc===e&&(nc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(Jh(o||s)===null)continue;break}var f=ee(s);f!==null&&(e.splice(n,3),n-=3,Kf(f,{pending:!0,data:c,method:s.method,action:o},o,c))}}))}function Wa(e){function n(O){return tc(O,e)}er!==null&&tc(er,e),tr!==null&&tc(tr,e),nr!==null&&tc(nr,e),ul.forEach(n),cl.forEach(n);for(var s=0;s<ir.length;s++){var o=ir[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ir.length&&(s=ir[0],s.blockedOn===null);)Dy(s),s.blockedOn===null&&ir.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var c=s[o],f=s[o+1],p=c[Ye]||null;if(typeof f=="function")p||Iy(s);else if(p){var v=null;if(f&&f.hasAttribute("formAction")){if(c=f,p=f[Ye]||null)v=p.formAction;else if(Jh(c)!==null)continue}else v=p.action;typeof v=="function"?s[o+1]=v:(s.splice(o,3),o-=3),Iy(s)}}}function My(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Wh(e){this._internalRoot=e}ic.prototype.render=Wh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Ln();xy(s,o,e,n,null,null)},ic.prototype.unmount=Wh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;xy(e.current,2,null,e,null,null),Uu(),n[On]=null}};function ic(e){this._internalRoot=e}ic.prototype.unstable_scheduleHydration=function(e){if(e){var n=Ar();e={blockedOn:null,target:e,priority:n};for(var s=0;s<ir.length&&n!==0&&n<ir[s].priority;s++);ir.splice(s,0,e),s===0&&Dy(e)}};var Ly=t.version;if(Ly!=="19.2.3")throw Error(a(527,Ly,"19.2.3"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=E(n),e=e!==null?C(e):null,e=e===null?null:e.stateNode,e};var aE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{Qt=sc.inject(aE),dt=sc}catch{}}return hl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",c=Gp,f=Zp,p=qp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=Ay(e,1,!1,null,null,s,o,null,c,f,p,My),e[On]=n.current,Ih(e),new Wh(n)},hl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,c="",f=Gp,p=Zp,v=qp,O=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.formState!==void 0&&(O=s.formState)),n=Ay(e,1,!0,n,s??null,o,c,O,f,p,v,My),n.context=wy(null),s=n.current,o=Ln(),o=jt(o),c=Bs(o),c.callback=null,Gs(s,c,o),s=o,n.current.lanes=s,xi(n,s),Li(n),e[On]=n.current,Ih(e),new ic(n)},hl.version="19.2.3",hl}var Vy;function kE(){if(Vy)return ed.exports;Vy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),ed.exports=RE(),ed.exports}var DE=kE();const zE="modulepreload",IE=function(i,t){return new URL(i,t).href},Hy={},ie=function(t,r,a){let l=Promise.resolve();if(r&&r.length>0){let E=function(C){return Promise.all(C.map(R=>Promise.resolve(R).then(U=>({status:"fulfilled",value:U}),U=>({status:"rejected",reason:U}))))};const d=document.getElementsByTagName("link"),y=document.querySelector("meta[property=csp-nonce]"),_=y?.nonce||y?.getAttribute("nonce");l=E(r.map(C=>{if(C=IE(C,a),C in Hy)return;Hy[C]=!0;const R=C.endsWith(".css"),U=R?'[rel="stylesheet"]':"";if(a)for(let J=d.length-1;J>=0;J--){const te=d[J];if(te.href===C&&(!R||te.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${C}"]${U}`))return;const F=document.createElement("link");if(F.rel=R?"stylesheet":zE,R||(F.as="script"),F.crossOrigin="",F.href=C,_&&F.setAttribute("nonce",_),document.head.appendChild(F),R)return new Promise((J,te)=>{F.addEventListener("load",J),F.addEventListener("error",()=>te(new Error(`Unable to preload CSS for ${C}`)))})}))}function h(d){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=d,window.dispatchEvent(y),!y.defaultPrevented)throw d}return l.then(d=>{for(const y of d||[])y.status==="rejected"&&h(y.reason);return t().catch(h)})},Ol="linalg",T0="Introduction to Linear Algebra",ME="An interactive course based on Gilbert Strang's Introduction to Linear Algebra (5th Edition)",A0="",LE="https://mathacademy-cyan.vercel.app",bi={gamification:!0,leaderboard:!0,nostrAuth:!1,quizzes:!0,interactiveModules:!0,theoremIndex:!0,problems:!0};const{entries:w0,setPrototypeOf:By,isFrozen:UE,getPrototypeOf:jE,getOwnPropertyDescriptor:PE}=Object;let{freeze:fn,seal:ri,create:Ad}=Object,{apply:wd,construct:xd}=typeof Reflect<"u"&&Reflect;fn||(fn=function(t){return t});ri||(ri=function(t){return t});wd||(wd=function(t,r){for(var a=arguments.length,l=new Array(a>2?a-2:0),h=2;h<a;h++)l[h-2]=arguments[h];return t.apply(r,l)});xd||(xd=function(t){for(var r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];return new t(...a)});const rc=hn(Array.prototype.forEach),VE=hn(Array.prototype.lastIndexOf),Gy=hn(Array.prototype.pop),dl=hn(Array.prototype.push),HE=hn(Array.prototype.splice),yc=hn(String.prototype.toLowerCase),id=hn(String.prototype.toString),sd=hn(String.prototype.match),ml=hn(String.prototype.replace),BE=hn(String.prototype.indexOf),GE=hn(String.prototype.trim),_i=hn(Object.prototype.hasOwnProperty),un=hn(RegExp.prototype.test),pl=ZE(TypeError);function hn(i){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];return wd(i,t,a)}}function ZE(i){return function(){for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return xd(i,r)}}function we(i,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yc;By&&By(i,null);let a=t.length;for(;a--;){let l=t[a];if(typeof l=="string"){const h=r(l);h!==l&&(UE(t)||(t[a]=h),l=h)}i[l]=!0}return i}function qE(i){for(let t=0;t<i.length;t++)_i(i,t)||(i[t]=null);return i}function Ui(i){const t=Ad(null);for(const[r,a]of w0(i))_i(i,r)&&(Array.isArray(a)?t[r]=qE(a):a&&typeof a=="object"&&a.constructor===Object?t[r]=Ui(a):t[r]=a);return t}function gl(i,t){for(;i!==null;){const a=PE(i,t);if(a){if(a.get)return hn(a.get);if(typeof a.value=="function")return hn(a.value)}i=jE(i)}function r(){return null}return r}const Zy=fn(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),rd=fn(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ad=fn(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),$E=fn(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),od=fn(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),XE=fn(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),qy=fn(["#text"]),$y=fn(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ld=fn(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Xy=fn(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ac=fn(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),YE=ri(/\{\{[\w\W]*|[\w\W]*\}\}/gm),FE=ri(/<%[\w\W]*|[\w\W]*%>/gm),KE=ri(/\$\{[\w\W]*/gm),JE=ri(/^data-[\-\w.\u00B7-\uFFFF]+$/),QE=ri(/^aria-[\-\w]+$/),x0=ri(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),WE=ri(/^(?:\w+script|data):/i),eT=ri(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),N0=ri(/^html$/i),tT=ri(/^[a-z][.\w]*(-[.\w]+)+$/i);var Yy=Object.freeze({__proto__:null,ARIA_ATTR:QE,ATTR_WHITESPACE:eT,CUSTOM_ELEMENT:tT,DATA_ATTR:JE,DOCTYPE_NAME:N0,ERB_EXPR:FE,IS_ALLOWED_URI:x0,IS_SCRIPT_OR_DATA:WE,MUSTACHE_EXPR:YE,TMPLIT_EXPR:KE});const yl={element:1,text:3,progressingInstruction:7,comment:8,document:9},nT=function(){return typeof window>"u"?null:window},iT=function(t,r){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let a=null;const l="data-tt-policy-suffix";r&&r.hasAttribute(l)&&(a=r.getAttribute(l));const h="dompurify"+(a?"#"+a:"");try{return t.createPolicy(h,{createHTML(d){return d},createScriptURL(d){return d}})}catch{return console.warn("TrustedTypes policy "+h+" could not be created."),null}},Fy=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function O0(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:nT();const t=se=>O0(se);if(t.version="3.3.1",t.removed=[],!i||!i.document||i.document.nodeType!==yl.document||!i.Element)return t.isSupported=!1,t;let{document:r}=i;const a=r,l=a.currentScript,{DocumentFragment:h,HTMLTemplateElement:d,Node:y,Element:_,NodeFilter:E,NamedNodeMap:C=i.NamedNodeMap||i.MozNamedAttrMap,HTMLFormElement:R,DOMParser:U,trustedTypes:F}=i,J=_.prototype,te=gl(J,"cloneNode"),le=gl(J,"remove"),xe=gl(J,"nextSibling"),Se=gl(J,"childNodes"),ae=gl(J,"parentNode");if(typeof d=="function"){const se=r.createElement("template");se.content&&se.content.ownerDocument&&(r=se.content.ownerDocument)}let ne,pe="";const{implementation:be,createNodeIterator:z,createDocumentFragment:w,getElementsByTagName:x}=r,{importNode:N}=a;let A=Fy();t.isSupported=typeof w0=="function"&&typeof ae=="function"&&be&&be.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:I,ERB_EXPR:T,TMPLIT_EXPR:Ne,DATA_ATTR:Ee,ARIA_ATTR:G,IS_SCRIPT_OR_DATA:W,ATTR_WHITESPACE:ue,CUSTOM_ELEMENT:Me}=Yy;let{IS_ALLOWED_URI:Ue}=Yy,Te=null;const ze=we({},[...Zy,...rd,...ad,...od,...qy]);let he=null;const nt=we({},[...$y,...ld,...Xy,...ac]);let Re=Object.seal(Ad(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ut=null,Pn=null;const nn=Object.seal(Ad(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Vn=!0,qi=!0,$i=!1,Xi=!0,An=!1,sn=!0,wn=!1,li=!1,Yi=!1,Hn=!1,it=!1,at=!1,ui=!0,ua=!1;const ca="user-content-";let zt=!0,xn=!1,Bn={},Jt=null;const Gn=we({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let fa=null;const Sr=we({},["audio","video","img","source","image","track"]);let As=null;const ha=we({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Qt="http://www.w3.org/1998/Math/MathML",dt="http://www.w3.org/2000/svg",mt="http://www.w3.org/1999/xhtml";let Qe=mt,ws=!1,Fi=null;const da=we({},[Qt,dt,mt],id);let rn=we({},["mi","mo","mn","ms","mtext"]),Zn=we({},["annotation-xml"]);const pt=we({},["title","style","font","a","script"]);let Wt=null;const qn=["application/xhtml+xml","text/html"],Nn="text/html";let ut=null,ci=null;const $n=r.createElement("form"),xi=function(k){return k instanceof RegExp||k instanceof Function},br=function(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ci&&ci===k)){if((!k||typeof k!="object")&&(k={}),k=Ui(k),Wt=qn.indexOf(k.PARSER_MEDIA_TYPE)===-1?Nn:k.PARSER_MEDIA_TYPE,ut=Wt==="application/xhtml+xml"?id:yc,Te=_i(k,"ALLOWED_TAGS")?we({},k.ALLOWED_TAGS,ut):ze,he=_i(k,"ALLOWED_ATTR")?we({},k.ALLOWED_ATTR,ut):nt,Fi=_i(k,"ALLOWED_NAMESPACES")?we({},k.ALLOWED_NAMESPACES,id):da,As=_i(k,"ADD_URI_SAFE_ATTR")?we(Ui(ha),k.ADD_URI_SAFE_ATTR,ut):ha,fa=_i(k,"ADD_DATA_URI_TAGS")?we(Ui(Sr),k.ADD_DATA_URI_TAGS,ut):Sr,Jt=_i(k,"FORBID_CONTENTS")?we({},k.FORBID_CONTENTS,ut):Gn,Ut=_i(k,"FORBID_TAGS")?we({},k.FORBID_TAGS,ut):Ui({}),Pn=_i(k,"FORBID_ATTR")?we({},k.FORBID_ATTR,ut):Ui({}),Bn=_i(k,"USE_PROFILES")?k.USE_PROFILES:!1,Vn=k.ALLOW_ARIA_ATTR!==!1,qi=k.ALLOW_DATA_ATTR!==!1,$i=k.ALLOW_UNKNOWN_PROTOCOLS||!1,Xi=k.ALLOW_SELF_CLOSE_IN_ATTR!==!1,An=k.SAFE_FOR_TEMPLATES||!1,sn=k.SAFE_FOR_XML!==!1,wn=k.WHOLE_DOCUMENT||!1,Hn=k.RETURN_DOM||!1,it=k.RETURN_DOM_FRAGMENT||!1,at=k.RETURN_TRUSTED_TYPE||!1,Yi=k.FORCE_BODY||!1,ui=k.SANITIZE_DOM!==!1,ua=k.SANITIZE_NAMED_PROPS||!1,zt=k.KEEP_CONTENT!==!1,xn=k.IN_PLACE||!1,Ue=k.ALLOWED_URI_REGEXP||x0,Qe=k.NAMESPACE||mt,rn=k.MATHML_TEXT_INTEGRATION_POINTS||rn,Zn=k.HTML_INTEGRATION_POINTS||Zn,Re=k.CUSTOM_ELEMENT_HANDLING||{},k.CUSTOM_ELEMENT_HANDLING&&xi(k.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Re.tagNameCheck=k.CUSTOM_ELEMENT_HANDLING.tagNameCheck),k.CUSTOM_ELEMENT_HANDLING&&xi(k.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Re.attributeNameCheck=k.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),k.CUSTOM_ELEMENT_HANDLING&&typeof k.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Re.allowCustomizedBuiltInElements=k.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),An&&(qi=!1),it&&(Hn=!0),Bn&&(Te=we({},qy),he=[],Bn.html===!0&&(we(Te,Zy),we(he,$y)),Bn.svg===!0&&(we(Te,rd),we(he,ld),we(he,ac)),Bn.svgFilters===!0&&(we(Te,ad),we(he,ld),we(he,ac)),Bn.mathMl===!0&&(we(Te,od),we(he,Xy),we(he,ac))),k.ADD_TAGS&&(typeof k.ADD_TAGS=="function"?nn.tagCheck=k.ADD_TAGS:(Te===ze&&(Te=Ui(Te)),we(Te,k.ADD_TAGS,ut))),k.ADD_ATTR&&(typeof k.ADD_ATTR=="function"?nn.attributeCheck=k.ADD_ATTR:(he===nt&&(he=Ui(he)),we(he,k.ADD_ATTR,ut))),k.ADD_URI_SAFE_ATTR&&we(As,k.ADD_URI_SAFE_ATTR,ut),k.FORBID_CONTENTS&&(Jt===Gn&&(Jt=Ui(Jt)),we(Jt,k.FORBID_CONTENTS,ut)),k.ADD_FORBID_CONTENTS&&(Jt===Gn&&(Jt=Ui(Jt)),we(Jt,k.ADD_FORBID_CONTENTS,ut)),zt&&(Te["#text"]=!0),wn&&we(Te,["html","head","body"]),Te.table&&(we(Te,["tbody"]),delete Ut.tbody),k.TRUSTED_TYPES_POLICY){if(typeof k.TRUSTED_TYPES_POLICY.createHTML!="function")throw pl('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof k.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw pl('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ne=k.TRUSTED_TYPES_POLICY,pe=ne.createHTML("")}else ne===void 0&&(ne=iT(F,l)),ne!==null&&typeof pe=="string"&&(pe=ne.createHTML(""));fn&&fn(k),ci=k}},Ki=we({},[...rd,...ad,...$E]),Er=we({},[...od,...XE]),Tr=function(k){let K=ae(k);(!K||!K.tagName)&&(K={namespaceURI:Qe,tagName:"template"});const ee=yc(k.tagName),Ae=yc(K.tagName);return Fi[k.namespaceURI]?k.namespaceURI===dt?K.namespaceURI===mt?ee==="svg":K.namespaceURI===Qt?ee==="svg"&&(Ae==="annotation-xml"||rn[Ae]):!!Ki[ee]:k.namespaceURI===Qt?K.namespaceURI===mt?ee==="math":K.namespaceURI===dt?ee==="math"&&Zn[Ae]:!!Er[ee]:k.namespaceURI===mt?K.namespaceURI===dt&&!Zn[Ae]||K.namespaceURI===Qt&&!rn[Ae]?!1:!Er[ee]&&(pt[ee]||!Ki[ee]):!!(Wt==="application/xhtml+xml"&&Fi[k.namespaceURI]):!1},jt=function(k){dl(t.removed,{element:k});try{ae(k).removeChild(k)}catch{le(k)}},Gt=function(k,K){try{dl(t.removed,{attribute:K.getAttributeNode(k),from:K})}catch{dl(t.removed,{attribute:null,from:K})}if(K.removeAttribute(k),k==="is")if(Hn||it)try{jt(K)}catch{}else try{K.setAttribute(k,"")}catch{}},Ar=function(k){let K=null,ee=null;if(Yi)k="<remove></remove>"+k;else{const ve=sd(k,/^[\r\n\t ]+/);ee=ve&&ve[0]}Wt==="application/xhtml+xml"&&Qe===mt&&(k='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+k+"</body></html>");const Ae=ne?ne.createHTML(k):k;if(Qe===mt)try{K=new U().parseFromString(Ae,Wt)}catch{}if(!K||!K.documentElement){K=be.createDocument(Qe,"template",null);try{K.documentElement.innerHTML=ws?pe:Ae}catch{}}const We=K.body||K.documentElement;return k&&ee&&We.insertBefore(r.createTextNode(ee),We.childNodes[0]||null),Qe===mt?x.call(K,wn?"html":"body")[0]:wn?K.documentElement:We},dn=function(k){return z.call(k.ownerDocument||k,k,E.SHOW_ELEMENT|E.SHOW_COMMENT|E.SHOW_TEXT|E.SHOW_PROCESSING_INSTRUCTION|E.SHOW_CDATA_SECTION,null)},an=function(k){return k instanceof R&&(typeof k.nodeName!="string"||typeof k.textContent!="string"||typeof k.removeChild!="function"||!(k.attributes instanceof C)||typeof k.removeAttribute!="function"||typeof k.setAttribute!="function"||typeof k.namespaceURI!="string"||typeof k.insertBefore!="function"||typeof k.hasChildNodes!="function")},ct=function(k){return typeof y=="function"&&k instanceof y};function Ye(se,k,K){rc(se,ee=>{ee.call(t,k,K,ci)})}const On=function(k){let K=null;if(Ye(A.beforeSanitizeElements,k,null),an(k))return jt(k),!0;const ee=ut(k.nodeName);if(Ye(A.uponSanitizeElement,k,{tagName:ee,allowedTags:Te}),sn&&k.hasChildNodes()&&!ct(k.firstElementChild)&&un(/<[/\w!]/g,k.innerHTML)&&un(/<[/\w!]/g,k.textContent)||k.nodeType===yl.progressingInstruction||sn&&k.nodeType===yl.comment&&un(/<[/\w]/g,k.data))return jt(k),!0;if(!(nn.tagCheck instanceof Function&&nn.tagCheck(ee))&&(!Te[ee]||Ut[ee])){if(!Ut[ee]&&ma(ee)&&(Re.tagNameCheck instanceof RegExp&&un(Re.tagNameCheck,ee)||Re.tagNameCheck instanceof Function&&Re.tagNameCheck(ee)))return!1;if(zt&&!Jt[ee]){const Ae=ae(k)||k.parentNode,We=Se(k)||k.childNodes;if(We&&Ae){const ve=We.length;for(let wt=ve-1;wt>=0;--wt){const on=te(We[wt],!0);on.__removalCount=(k.__removalCount||0)+1,Ae.insertBefore(on,xe(k))}}}return jt(k),!0}return k instanceof _&&!Tr(k)||(ee==="noscript"||ee==="noembed"||ee==="noframes")&&un(/<\/no(script|embed|frames)/i,k.innerHTML)?(jt(k),!0):(An&&k.nodeType===yl.text&&(K=k.textContent,rc([I,T,Ne],Ae=>{K=ml(K,Ae," ")}),k.textContent!==K&&(dl(t.removed,{element:k.cloneNode()}),k.textContent=K)),Ye(A.afterSanitizeElements,k,null),!1)},Ji=function(k,K,ee){if(ui&&(K==="id"||K==="name")&&(ee in r||ee in $n))return!1;if(!(qi&&!Pn[K]&&un(Ee,K))){if(!(Vn&&un(G,K))){if(!(nn.attributeCheck instanceof Function&&nn.attributeCheck(K,k))){if(!he[K]||Pn[K]){if(!(ma(k)&&(Re.tagNameCheck instanceof RegExp&&un(Re.tagNameCheck,k)||Re.tagNameCheck instanceof Function&&Re.tagNameCheck(k))&&(Re.attributeNameCheck instanceof RegExp&&un(Re.attributeNameCheck,K)||Re.attributeNameCheck instanceof Function&&Re.attributeNameCheck(K,k))||K==="is"&&Re.allowCustomizedBuiltInElements&&(Re.tagNameCheck instanceof RegExp&&un(Re.tagNameCheck,ee)||Re.tagNameCheck instanceof Function&&Re.tagNameCheck(ee))))return!1}else if(!As[K]){if(!un(Ue,ml(ee,ue,""))){if(!((K==="src"||K==="xlink:href"||K==="href")&&k!=="script"&&BE(ee,"data:")===0&&fa[k])){if(!($i&&!un(W,ml(ee,ue,"")))){if(ee)return!1}}}}}}}return!0},ma=function(k){return k!=="annotation-xml"&&sd(k,Me)},wr=function(k){Ye(A.beforeSanitizeAttributes,k,null);const{attributes:K}=k;if(!K||an(k))return;const ee={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:he,forceKeepAttr:void 0};let Ae=K.length;for(;Ae--;){const We=K[Ae],{name:ve,namespaceURI:wt,value:on}=We,Zt=ut(ve),mn=on;let ft=ve==="value"?mn:GE(mn);if(ee.attrName=Zt,ee.attrValue=ft,ee.keepAttr=!0,ee.forceKeepAttr=void 0,Ye(A.uponSanitizeAttribute,k,ee),ft=ee.attrValue,ua&&(Zt==="id"||Zt==="name")&&(Gt(ve,k),ft=ca+ft),sn&&un(/((--!?|])>)|<\/(style|title|textarea)/i,ft)){Gt(ve,k);continue}if(Zt==="attributename"&&sd(ft,"href")){Gt(ve,k);continue}if(ee.forceKeepAttr)continue;if(!ee.keepAttr){Gt(ve,k);continue}if(!Xi&&un(/\/>/i,ft)){Gt(ve,k);continue}An&&rc([I,T,Ne],Ns=>{ft=ml(ft,Ns," ")});const xs=ut(k.nodeName);if(!Ji(xs,Zt,ft)){Gt(ve,k);continue}if(ne&&typeof F=="object"&&typeof F.getAttributeType=="function"&&!wt)switch(F.getAttributeType(xs,Zt)){case"TrustedHTML":{ft=ne.createHTML(ft);break}case"TrustedScriptURL":{ft=ne.createScriptURL(ft);break}}if(ft!==mn)try{wt?k.setAttributeNS(wt,ve,ft):k.setAttribute(ve,ft),an(k)?jt(k):Gy(t.removed)}catch{Gt(ve,k)}}Ye(A.afterSanitizeAttributes,k,null)},pa=function se(k){let K=null;const ee=dn(k);for(Ye(A.beforeSanitizeShadowDOM,k,null);K=ee.nextNode();)Ye(A.uponSanitizeShadowNode,K,null),On(K),wr(K),K.content instanceof h&&se(K.content);Ye(A.afterSanitizeShadowDOM,k,null)};return t.sanitize=function(se){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K=null,ee=null,Ae=null,We=null;if(ws=!se,ws&&(se="<!-->"),typeof se!="string"&&!ct(se))if(typeof se.toString=="function"){if(se=se.toString(),typeof se!="string")throw pl("dirty is not a string, aborting")}else throw pl("toString is not a function");if(!t.isSupported)return se;if(li||br(k),t.removed=[],typeof se=="string"&&(xn=!1),xn){if(se.nodeName){const on=ut(se.nodeName);if(!Te[on]||Ut[on])throw pl("root node is forbidden and cannot be sanitized in-place")}}else if(se instanceof y)K=Ar("<!---->"),ee=K.ownerDocument.importNode(se,!0),ee.nodeType===yl.element&&ee.nodeName==="BODY"||ee.nodeName==="HTML"?K=ee:K.appendChild(ee);else{if(!Hn&&!An&&!wn&&se.indexOf("<")===-1)return ne&&at?ne.createHTML(se):se;if(K=Ar(se),!K)return Hn?null:at?pe:""}K&&Yi&&jt(K.firstChild);const ve=dn(xn?se:K);for(;Ae=ve.nextNode();)On(Ae),wr(Ae),Ae.content instanceof h&&pa(Ae.content);if(xn)return se;if(Hn){if(it)for(We=w.call(K.ownerDocument);K.firstChild;)We.appendChild(K.firstChild);else We=K;return(he.shadowroot||he.shadowrootmode)&&(We=N.call(a,We,!0)),We}let wt=wn?K.outerHTML:K.innerHTML;return wn&&Te["!doctype"]&&K.ownerDocument&&K.ownerDocument.doctype&&K.ownerDocument.doctype.name&&un(N0,K.ownerDocument.doctype.name)&&(wt="<!DOCTYPE "+K.ownerDocument.doctype.name+`>
`+wt),An&&rc([I,T,Ne],on=>{wt=ml(wt,on," ")}),ne&&at?ne.createHTML(wt):wt},t.setConfig=function(){let se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};br(se),li=!0},t.clearConfig=function(){ci=null,li=!1},t.isValidAttribute=function(se,k,K){ci||br({});const ee=ut(se),Ae=ut(k);return Ji(ee,Ae,K)},t.addHook=function(se,k){typeof k=="function"&&dl(A[se],k)},t.removeHook=function(se,k){if(k!==void 0){const K=VE(A[se],k);return K===-1?void 0:HE(A[se],K,1)[0]}return Gy(A[se])},t.removeHooks=function(se){A[se]=[]},t.removeAllHooks=function(){A=Fy()},t}var lk=O0();const sT=["ba","aa","linalg","advlinalg","ra","calc1","calc_lib_art","calc_easy","crypto","koblitz","coding","islr","west_graphs","wm","numbers-geometry","ross-prob","intro-discrete","rudin","df","euler-intro","tao-analysis-1","euclid","gauss","four_pillars","thales","mom","human_action","man_econ_state","road_to_serfdom","atlas_shrugged","only-the-strong-survive","orange_btc","mod-race","base-race","bfi","frost","math_history","template"];function rT(i){return sT.includes(i)}const Bt={SECTION_VISIT:10,SECTION_COMPLETE:25,QUIZ_EASY:15,QUIZ_MEDIUM:25,QUIZ_HARD:40,QUIZ_PERFECT_BONUS:.5,VISUALIZATION_USE:5,PART_COMPLETE_BONUS:50,STREAK_DAILY_BONUS:5,STREAK_BONUS_CAP:50},gs={GAME_PARTICIPATION:10,TIER_MULTIPLIER:{1:.5,2:.6,3:.8,4:1,5:1.2,6:1.5,7:1.8,8:2.2,9:2.7,10:3.5},POINTS_PER_XP_UNIT:500,PERFECT_GAME_BONUS:25,SPEED_DEMON_BONUS:15,STREAK_MASTER_BONUS:20,FIRST_PLACE_BONUS:30,SECOND_PLACE_BONUS:15,THIRD_PLACE_BONUS:5},bl=[0,100,250,500,850,1300,1900,2650,3550,4600,5850,7300,9e3,10950,13150,15650,18450,21550,25e3,28800,33e3,37600,42600,48e3,54e3],C0=50;class aT{constructor(t="",r=!0){this.prefix=t?`[${t}]`:"",this.enabled=r}log(t,r,a){if(!this.enabled)return;const l=this.prefix?`${this.prefix} ${r}`:r;if(t==="debug"||t==="info")return;const h=console[t]||console.log;a!==void 0?h(l,a):h(l)}debug(t,r){this.log("debug",t,r)}info(t,r){this.log("info",t,r)}warn(t,r){this.log("warn",t,r)}error(t,r){this.log("error",t,r)}setEnabled(t){this.enabled=t}}const ud={};function Zi(i){const t=i||"__default__";return ud[t]||(ud[t]=new aT(i)),ud[t]}const ii=Zi("Storage"),Nd="magic-internet-math-progress",cd=2;function R0(){try{const i="__storage_test__";return localStorage.setItem(i,i),localStorage.removeItem(i),!0}catch{return!1}}function k0(i){if(i===null||typeof i!="object")return!1;const t=i;if(typeof t.version!="number"||typeof t.user!="object"||t.user===null||typeof t.sections!="object"||t.sections===null||typeof t.streak!="object"||t.streak===null)return!1;const r=t.user;if(typeof r.totalXP!="number"||typeof r.level!="number"||!Array.isArray(r.sectionsCompleted)||!Array.isArray(r.partsCompleted))return!1;const a=t.streak;return!(typeof a.currentStreak!="number"||typeof a.longestStreak!="number")}function ta(){if(!R0())return ii.warn("localStorage is not available"),null;try{const i=localStorage.getItem(Nd);if(!i)return null;const t=JSON.parse(i);return k0(t)?(t.version!==cd&&(ii.info(`Migrating state from v${t.version} to v${cd}`),t.version=cd),t):(ii.warn("Invalid gamification state structure in localStorage"),null)}catch(i){ii.error("Failed to load gamification state:",i);try{localStorage.removeItem(Nd),ii.info("Cleared corrupted gamification state from localStorage")}catch{}return null}}function qc(i){if(!R0()){ii.warn("localStorage is not available, state not saved");return}try{localStorage.setItem(Nd,JSON.stringify(i))}catch(t){ii.error("Failed to save gamification state:",t)}}const oT=1;function lT(){const i=ta();if(!i){ii.warn("No progress data to export");return}const t={version:oT,exportedAt:new Date().toISOString(),source:window.location.hostname,state:i},r=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),a=URL.createObjectURL(r),l=document.createElement("a");l.href=a,l.download=`math-progress-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a),ii.info("Progress exported successfully")}function uT(i){if(i===null||typeof i!="object")return!1;const t=i;return!(typeof t.version!="number"||typeof t.exportedAt!="string"||typeof t.source!="string"||!k0(t.state))}async function cT(i){return new Promise(t=>{const r=new FileReader;r.onload=a=>{try{const l=a.target?.result;if(typeof l!="string"){t({success:!1,message:"Failed to read file"});return}const h=JSON.parse(l);if(!uT(h)){t({success:!1,message:"Invalid backup file format"});return}const y=ta()?.user.totalXP??0,_=h.state.user.totalXP;if(y>_){t({success:!1,message:`Current progress (${y} XP) is higher than backup (${_} XP). Import cancelled.`});return}qc(h.state),ii.info(`Progress imported: ${_} XP from backup dated ${h.exportedAt}`),t({success:!0,message:`Successfully restored ${_} XP!`,xpImported:_})}catch(l){ii.error("Failed to parse backup file:",l),t({success:!1,message:"Failed to parse backup file. Please check the file format."})}},r.onerror=()=>{t({success:!1,message:"Failed to read file"})},r.readAsText(i)})}function fT(){const i=ta();return i?{totalXP:i.user.totalXP,level:i.user.level,sectionsCompleted:i.user.sectionsCompleted.length}:null}function hT(){const i=ta();i&&(i.migratedToServer=!0,qc(i),ii.info("Marked progress as migrated to server"))}function dT(){const i=ta();if(!i)return!1;const t=i.user.totalXP>0||Object.keys(i.sections).length>0,r=!i.migratedToServer;return t&&r}function D0(){const i=new Date().toISOString(),t=i.split("T")[0];return{version:2,user:{totalXP:0,level:1,sectionsCompleted:[],partsCompleted:[],quizzesTaken:0,perfectQuizzes:0,visualizationsUsed:0,totalTimeSpentMinutes:0,joinedAt:i},sections:{},achievements:mT(),streak:{currentStreak:0,longestStreak:0,lastActivityDate:null,freezesRemaining:2,freezeUsedToday:!1},dailyGoals:{date:t,xpEarned:0,xpGoal:C0,completed:!1},lastUpdated:i}}function mT(){return[{id:"first-section",unlockedAt:null,progress:0,target:1},{id:"ten-sections",unlockedAt:null,progress:0,target:10},{id:"half-course",unlockedAt:null,progress:0,target:50},{id:"course-complete",unlockedAt:null,progress:0,target:100},{id:"first-mastery",unlockedAt:null,progress:0,target:1},{id:"quiz-master",unlockedAt:null,progress:0,target:10},{id:"perfectionist",unlockedAt:null,progress:0,target:5},{id:"week-streak",unlockedAt:null,progress:0,target:7},{id:"month-streak",unlockedAt:null,progress:0,target:30},{id:"level-5",unlockedAt:null,progress:0,target:5},{id:"level-10",unlockedAt:null,progress:0,target:10},{id:"first-visualization",unlockedAt:null,progress:0,target:1},{id:"explorer",unlockedAt:null,progress:0,target:10},{id:"racing-rookie",unlockedAt:null,progress:0,target:1},{id:"speed-demon",unlockedAt:null,progress:0,target:50},{id:"streak-legend",unlockedAt:null,progress:0,target:20},{id:"tier-climber",unlockedAt:null,progress:0,target:6},{id:"modular-master",unlockedAt:null,progress:0,target:1e4},{id:"multiplayer-champion",unlockedAt:null,progress:0,target:5}]}const pT=50;function Ky(i){return Math.round(i/pT*100)}const gT=[{id:"first-section",title:"First Steps",description:"Complete your first section",category:"progress",xpReward:25,check:i=>i.user.sectionsCompleted.length,target:1},{id:"ten-sections",title:"Getting Started",description:"Complete 10 sections",category:"progress",xpReward:50,check:i=>i.user.sectionsCompleted.length,target:10},{id:"half-course",title:"Halfway There",description:"Complete 50% of the course",category:"progress",xpReward:100,check:i=>Ky(i.user.sectionsCompleted.length),target:50},{id:"course-complete",title:"Course Complete",description:"Complete 100% of the course",category:"progress",xpReward:200,check:i=>Ky(i.user.sectionsCompleted.length),target:100},{id:"first-mastery",title:"Master of One",description:"Master your first section",category:"mastery",xpReward:30,check:i=>Object.values(i.sections).filter(t=>t.masteryLevel==="mastered").length,target:1},{id:"quiz-master",title:"Quiz Master",description:"Complete 10 quizzes",category:"mastery",xpReward:50,check:i=>i.user.quizzesTaken,target:10},{id:"perfectionist",title:"Perfectionist",description:"Get 5 perfect quiz scores",category:"mastery",xpReward:75,check:i=>i.user.perfectQuizzes,target:5},{id:"week-streak",title:"Week Warrior",description:"Maintain a 7-day streak",category:"dedication",xpReward:50,check:i=>i.streak.longestStreak,target:7},{id:"month-streak",title:"Monthly Master",description:"Maintain a 30-day streak",category:"dedication",xpReward:150,check:i=>i.streak.longestStreak,target:30},{id:"level-5",title:"Level Up",description:"Reach level 5",category:"dedication",xpReward:50,check:i=>i.user.level,target:5},{id:"level-10",title:"Expert",description:"Reach level 10",category:"dedication",xpReward:100,check:i=>i.user.level,target:10},{id:"first-visualization",title:"Visual Learner",description:"Use your first interactive visualization",category:"exploration",xpReward:15,check:i=>i.user.visualizationsUsed,target:1},{id:"explorer",title:"Explorer",description:"Use 10 different visualizations",category:"exploration",xpReward:50,check:i=>i.user.visualizationsUsed,target:10}];function yT(i){const t=[];for(const r of gT){if(i.achievements.find(h=>h.id===r.id)?.unlockedAt)continue;r.check(i)>=r.target&&t.push({id:r.id,title:r.title,description:r.description,category:r.category,xpReward:r.xpReward,timestamp:Date.now()})}return t}function po(i){for(let t=bl.length-1;t>=0;t--)if(i>=bl[t])return t+1;return 1}function z0(i,t){if(t>=bl.length)return 100;const r=bl[t-1],a=bl[t],l=(i-r)/(a-r)*100;return Math.min(100,Math.max(0,l))}function vT(i,t){const r={easy:Bt.QUIZ_EASY,medium:Bt.QUIZ_MEDIUM,hard:Bt.QUIZ_HARD}[i];return Math.round(r*(t/100))}const _T=1e3*60*60*24;function ST(i){const t=new Date,r=t.toISOString().split("T")[0],a=i.streak.lastActivityDate;if(i.dailyGoals.date!==r&&(i={...i,dailyGoals:{date:r,xpEarned:0,xpGoal:C0,completed:!1},streak:{...i.streak,freezeUsedToday:!1}}),!a)return{...i,streak:{...i.streak,currentStreak:1,longestStreak:Math.max(1,i.streak.longestStreak),lastActivityDate:r}};const l=new Date(a),h=Math.floor((t.getTime()-l.getTime())/_T);if(h===0)return i;if(h===1){const d=i.streak.currentStreak+1;return{...i,streak:{...i.streak,currentStreak:d,longestStreak:Math.max(d,i.streak.longestStreak),lastActivityDate:r}}}return h===2&&i.streak.freezesRemaining>0&&!i.streak.freezeUsedToday?{...i,streak:{...i.streak,freezesRemaining:i.streak.freezesRemaining-1,freezeUsedToday:!0,lastActivityDate:r}}:{...i,streak:{...i.streak,currentStreak:1,lastActivityDate:r}}}function I0(i){const{quizAttempts:t}=i;if(t.length===0)return"learning";const r=Math.max(...t.map(l=>l.score)),a=t.reduce((l,h)=>l+h.score,0)/t.length;return r>80||a>=90&&t.length>=3?"mastered":r>=70||a>=70&&t.length>=2?"familiar":"learning"}function bT(i){switch(i){case"mastered":return{label:"Mastered",color:"text-emerald-400",symbol:""};case"familiar":return{label:"Familiar",color:"text-yellow-400",symbol:""};case"learning":return{label:"Learning",color:"text-blue-400",symbol:""};default:return{label:"Not Started",color:"text-dark-600",symbol:""}}}const $c=Zi("GamificationReducer");function ET(i,t,r){const a=i.sections[t];if(a?.visitedAt)return i;const l=i.user.totalXP+Bt.SECTION_VISIT;return{...i,user:{...i.user,totalXP:l,level:po(l)},sections:{...i.sections,[t]:{sectionId:t,visitedAt:r,completedAt:a?.completedAt??null,timeSpentSeconds:a?.timeSpentSeconds??0,quizAttempts:a?.quizAttempts??[],masteryLevel:a?.masteryLevel??"learning",visualizationsInteracted:a?.visualizationsInteracted??[]}},dailyGoals:{...i.dailyGoals,xpEarned:i.dailyGoals.xpEarned+Bt.SECTION_VISIT},lastUpdated:r}}function TT(i,t,r){const a=i.sections[t];if(a?.completedAt)return i;if(!a)return $c.warn(`Attempted to complete unvisited section: ${t}`),i;const l=i.user.totalXP+Bt.SECTION_COMPLETE,h=[...i.user.sectionsCompleted,t];return{...i,user:{...i.user,totalXP:l,level:po(l),sectionsCompleted:h},sections:{...i.sections,[t]:{...a,completedAt:r,masteryLevel:I0(a)}},dailyGoals:{...i.dailyGoals,xpEarned:i.dailyGoals.xpEarned+Bt.SECTION_COMPLETE},lastUpdated:r}}function AT(i,t,r){const{sectionId:a,difficulty:l,score:h,correctAnswers:d,totalQuestions:y}=t,_=i.sections[a];if(!_)return $c.warn(`Section ${a} was not visited before quiz`),i;const E=vT(l,h),C=d===y,R=C?Math.round(E*(1+Bt.QUIZ_PERFECT_BONUS)):E,U=i.user.totalXP+R,F={timestamp:r,difficulty:l,score:h,correctAnswers:d,totalQuestions:y,xpEarned:R},J=[..._.quizAttempts,F],te={..._,quizAttempts:J},le=I0(te),xe=h>=80&&!_.completedAt,Se=xe&&!i.user.sectionsCompleted.includes(a),ae=Se?Bt.SECTION_COMPLETE:0;return{...i,user:{...i.user,totalXP:U+ae,level:po(U+ae),quizzesTaken:i.user.quizzesTaken+1,perfectQuizzes:C?i.user.perfectQuizzes+1:i.user.perfectQuizzes,sectionsCompleted:Se?[...i.user.sectionsCompleted,a]:i.user.sectionsCompleted},sections:{...i.sections,[a]:{...te,masteryLevel:le,completedAt:xe?_.completedAt||r:_.completedAt}},dailyGoals:{...i.dailyGoals,xpEarned:i.dailyGoals.xpEarned+R+ae},lastUpdated:r}}function wT(i,t,r,a){const l=i.sections[t];if(l?.visualizationsInteracted.includes(r))return i;if(!l)return $c.warn(`Section ${t} was not visited before visualization`),i;const h=i.user.totalXP+Bt.VISUALIZATION_USE,d=[...l.visualizationsInteracted,r];return{...i,user:{...i.user,totalXP:h,level:po(h),visualizationsUsed:i.user.visualizationsUsed+1},sections:{...i.sections,[t]:{...l,visualizationsInteracted:d}},dailyGoals:{...i.dailyGoals,xpEarned:i.dailyGoals.xpEarned+Bt.VISUALIZATION_USE},lastUpdated:a}}function xT(i,t,r){if(i.user.partsCompleted.includes(t))return i;const a=i.user.totalXP+Bt.PART_COMPLETE_BONUS;return $c.info(`Part ${t} completed, awarding ${Bt.PART_COMPLETE_BONUS} XP`),{...i,user:{...i.user,totalXP:a,level:po(a),partsCompleted:[...i.user.partsCompleted,t]},dailyGoals:{...i.dailyGoals,xpEarned:i.dailyGoals.xpEarned+Bt.PART_COMPLETE_BONUS},lastUpdated:r}}function NT(i,t,r){let a=gs.GAME_PARTICIPATION;const l=gs.TIER_MULTIPLIER[t.tier],h=Math.floor(Math.max(0,t.score)/gs.POINTS_PER_XP_UNIT*Bt.QUIZ_MEDIUM*l);if(a+=h,t.correctAnswers===t.totalQuestions&&t.totalQuestions>=10&&(a+=gs.PERFECT_GAME_BONUS),t.fastAnswers>=10&&(a+=gs.SPEED_DEMON_BONUS),t.maxStreak>=10&&(a+=gs.STREAK_MASTER_BONUS),t.isMultiplayer&&t.placement)switch(t.placement){case 1:a+=gs.FIRST_PLACE_BONUS;break;case 2:a+=gs.SECOND_PLACE_BONUS;break;case 3:a+=gs.THIRD_PLACE_BONUS;break}const d=i.user.totalXP+a,y=i.racingStats,_=t.score>(y?.highScore??0),E=t.isMultiplayer&&t.placement===1,C={gamesPlayed:(y?.gamesPlayed??0)+1,multiplayerGamesPlayed:(y?.multiplayerGamesPlayed??0)+(t.isMultiplayer?1:0),totalPoints:(y?.totalPoints??0)+Math.max(0,t.score),highScore:_?t.score:y?.highScore??0,highestTierUnlocked:Math.max(y?.highestTierUnlocked??1,t.tier),longestStreak:Math.max(y?.longestStreak??0,t.maxStreak),fastAnswers:(y?.fastAnswers??0)+t.fastAnswers,totalCorrect:(y?.totalCorrect??0)+t.correctAnswers,totalAttempted:(y?.totalAttempted??0)+t.totalQuestions,multiplayerWins:(y?.multiplayerWins??0)+(E?1:0),lastPlayedAt:r},R=i.achievements.map(U=>{if(U.unlockedAt)return U;switch(U.id){case"racing-rookie":if(C.gamesPlayed>=1)return{...U,progress:1,unlockedAt:r};break;case"speed-demon":return C.fastAnswers>=50?{...U,progress:50,unlockedAt:r}:{...U,progress:Math.min(C.fastAnswers,50)};case"streak-legend":return C.longestStreak>=20?{...U,progress:20,unlockedAt:r}:{...U,progress:Math.min(C.longestStreak,20)};case"tier-climber":return C.highestTierUnlocked>=6?{...U,progress:6,unlockedAt:r}:{...U,progress:C.highestTierUnlocked};case"modular-master":return C.totalPoints>=1e4?{...U,progress:1e4,unlockedAt:r}:{...U,progress:Math.min(C.totalPoints,1e4)};case"multiplayer-champion":return C.multiplayerWins>=5?{...U,progress:5,unlockedAt:r}:{...U,progress:Math.min(C.multiplayerWins,5)}}return U});return{...i,user:{...i.user,totalXP:d,level:po(d)},racingStats:C,achievements:R,dailyGoals:{...i.dailyGoals,xpEarned:i.dailyGoals.xpEarned+a},lastUpdated:r}}function OT(i,t){const r=new Date().toISOString();switch(t.type){case"LOAD_STATE":return t.payload;case"LOAD_FROM_SERVER":return{...t.payload,migratedToServer:!0};case"MERGE_WITH_SERVER":return{...t.payload,migratedToServer:!0};case"MARK_MIGRATED":return{...i,migratedToServer:!0,lastUpdated:r};case"VISIT_SECTION":return ET(i,t.payload.sectionId,r);case"COMPLETE_SECTION":return TT(i,t.payload.sectionId,r);case"COMPLETE_PART":return xT(i,t.payload.partId,r);case"RECORD_QUIZ":return AT(i,t.payload,r);case"USE_VISUALIZATION":return wT(i,t.payload.sectionId,t.payload.name,r);case"UPDATE_STREAK":return ST(i);case"RESET_PROGRESS":return D0();case"RECORD_RACE_GAME":return NT(i,t.payload,r);default:return i}}class CT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(RT(r)){const a=r.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(r=>r).join(" ")}}function RT(i){return i.getComponent()?.type==="VERSION"}const Od="@firebase/app",Jy="0.14.7";const bs=new $d("@firebase/app"),kT="@firebase/app-compat",DT="@firebase/analytics-compat",zT="@firebase/analytics",IT="@firebase/app-check-compat",MT="@firebase/app-check",LT="@firebase/auth",UT="@firebase/auth-compat",jT="@firebase/database",PT="@firebase/data-connect",VT="@firebase/database-compat",HT="@firebase/functions",BT="@firebase/functions-compat",GT="@firebase/installations",ZT="@firebase/installations-compat",qT="@firebase/messaging",$T="@firebase/messaging-compat",XT="@firebase/performance",YT="@firebase/performance-compat",FT="@firebase/remote-config",KT="@firebase/remote-config-compat",JT="@firebase/storage",QT="@firebase/storage-compat",WT="@firebase/firestore",eA="@firebase/ai",tA="@firebase/firestore-compat",nA="firebase",iA="12.8.0";const Cd="[DEFAULT]",sA={[Od]:"fire-core",[kT]:"fire-core-compat",[zT]:"fire-analytics",[DT]:"fire-analytics-compat",[MT]:"fire-app-check",[IT]:"fire-app-check-compat",[LT]:"fire-auth",[UT]:"fire-auth-compat",[jT]:"fire-rtdb",[PT]:"fire-data-connect",[VT]:"fire-rtdb-compat",[HT]:"fire-fn",[BT]:"fire-fn-compat",[GT]:"fire-iid",[ZT]:"fire-iid-compat",[qT]:"fire-fcm",[$T]:"fire-fcm-compat",[XT]:"fire-perf",[YT]:"fire-perf-compat",[FT]:"fire-rc",[KT]:"fire-rc-compat",[JT]:"fire-gcs",[QT]:"fire-gcs-compat",[WT]:"fire-fst",[tA]:"fire-fst-compat",[eA]:"fire-vertex","fire-js":"fire-js",[nA]:"fire-js-all"};const Cl=new Map,rA=new Map,Rd=new Map;function Qy(i,t){try{i.container.addComponent(t)}catch(r){bs.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function na(i){const t=i.name;if(Rd.has(t))return bs.debug(`There were multiple attempts to register component ${t}.`),!1;Rd.set(t,i);for(const r of Cl.values())Qy(r,i);for(const r of rA.values())Qy(r,i);return!0}function Xd(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}function si(i){return i==null?!1:i.settings!==void 0}const aA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new Gc("app","Firebase",aA);class oA{constructor(t,r,a){this._isDeleted=!1,this._options={...t},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const go=iA;function M0(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const a={name:Cd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw hr.create("bad-app-name",{appName:String(l)});if(r||(r=v0()),!r)throw hr.create("no-options");const h=Cl.get(l);if(h){if(Nl(r,h.options)&&Nl(a,h.config))return h;throw hr.create("duplicate-app",{appName:l})}const d=new mE(l);for(const _ of Rd.values())d.addComponent(_);const y=new oA(r,a,d);return Cl.set(l,y),y}function L0(i=Cd){const t=Cl.get(i);if(!t&&i===Cd&&v0())return M0();if(!t)throw hr.create("no-app",{appName:i});return t}function lA(){return Array.from(Cl.values())}function Hi(i,t,r){let a=sA[i]??i;r&&(a+=`-${r}`);const l=a.match(/\s|\//),h=t.match(/\s|\//);if(l||h){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),bs.warn(d.join(" "));return}na(new mr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const uA="firebase-heartbeat-database",cA=1,Rl="firebase-heartbeat-store";let fd=null;function U0(){return fd||(fd=yE(uA,cA,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Rl)}catch(r){console.warn(r)}}}}).catch(i=>{throw hr.create("idb-open",{originalErrorMessage:i.message})})),fd}async function fA(i){try{const r=(await U0()).transaction(Rl),a=await r.objectStore(Rl).get(j0(i));return await r.done,a}catch(t){if(t instanceof aa)bs.warn(t.message);else{const r=hr.create("idb-get",{originalErrorMessage:t?.message});bs.warn(r.message)}}}async function Wy(i,t){try{const a=(await U0()).transaction(Rl,"readwrite");await a.objectStore(Rl).put(t,j0(i)),await a.done}catch(r){if(r instanceof aa)bs.warn(r.message);else{const a=hr.create("idb-set",{originalErrorMessage:r?.message});bs.warn(a.message)}}}function j0(i){return`${i.name}!${i.options.appId}`}const hA=1024,dA=30;class mA{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new gA(r),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=ev();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>dA){const l=yA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){bs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ev(),{heartbeatsToSend:r,unsentEntries:a}=pA(this._heartbeatsCache.heartbeats),l=_0(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return bs.warn(t),""}}}function ev(){return new Date().toISOString().substring(0,10)}function pA(i,t=hA){const r=[];let a=i.slice();for(const l of i){const h=r.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),tv(r)>t){h.dates.pop();break}}else if(r.push({agent:l.agent,dates:[l.date]}),tv(r)>t){r.pop();break}a=a.slice(1)}return{heartbeatsToSend:r,unsentEntries:a}}class gA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pE()?gE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await fA(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Wy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Wy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function tv(i){return _0(JSON.stringify({version:2,heartbeats:i})).length}function yA(i){if(i.length===0)return-1;let t=0,r=i[0].date;for(let a=1;a<i.length;a++)i[a].date<r&&(r=i[a].date,t=a);return t}function vA(i){na(new mr("platform-logger",t=>new CT(t),"PRIVATE")),na(new mr("heartbeat",t=>new mA(t),"PRIVATE")),Hi(Od,Jy,i),Hi(Od,Jy,"esm2020"),Hi("fire-js","")}vA("");const _A="type.googleapis.com/google.protobuf.Int64Value",SA="type.googleapis.com/google.protobuf.UInt64Value";function P0(i,t){const r={};for(const a in i)i.hasOwnProperty(a)&&(r[a]=t(i[a]));return r}function Ac(i){if(i==null)return null;if(i instanceof Number&&(i=i.valueOf()),typeof i=="number"&&isFinite(i)||i===!0||i===!1||Object.prototype.toString.call(i)==="[object String]")return i;if(i instanceof Date)return i.toISOString();if(Array.isArray(i))return i.map(t=>Ac(t));if(typeof i=="function"||typeof i=="object")return P0(i,t=>Ac(t));throw new Error("Data cannot be encoded in JSON: "+i)}function co(i){if(i==null)return i;if(i["@type"])switch(i["@type"]){case _A:case SA:{const t=Number(i.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+i);return t}default:throw new Error("Data cannot be decoded from JSON: "+i)}return Array.isArray(i)?i.map(t=>co(t)):typeof i=="function"||typeof i=="object"?P0(i,t=>co(t)):i}const Yd="functions";const nv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class En extends aa{constructor(t,r,a){super(`${Yd}/${t}`,r||""),this.details=a,Object.setPrototypeOf(this,En.prototype)}}function bA(i){if(i>=200&&i<300)return"ok";switch(i){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function wc(i,t){let r=bA(i),a=r,l;try{const h=t&&t.error;if(h){const d=h.status;if(typeof d=="string"){if(!nv[d])return new En("internal","internal");r=nv[d],a=d}const y=h.message;typeof y=="string"&&(a=y),l=h.details,l!==void 0&&(l=co(l))}}catch{}return r==="ok"?null:new En(r,a,l)}class EA{constructor(t,r,a,l){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,si(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=r.getImmediate({optional:!0}),this.messaging=a.getImmediate({optional:!0}),this.auth||r.get().then(h=>this.auth=h,()=>{}),this.messaging||a.get().then(h=>this.messaging=h,()=>{}),this.appCheck||l?.get().then(h=>this.appCheck=h,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const r=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(t){const r=await this.getAuthToken(),a=await this.getMessagingToken(),l=await this.getAppCheckToken(t);return{authToken:r,messagingToken:a,appCheckToken:l}}}const kd="us-central1",TA=/^data: (.*?)(?:\n|$)/;function AA(i){let t=null;return{promise:new Promise((r,a)=>{t=setTimeout(()=>{a(new En("deadline-exceeded","deadline-exceeded"))},i)}),cancel:()=>{t&&clearTimeout(t)}}}class wA{constructor(t,r,a,l,h=kd,d=(...y)=>fetch(...y)){this.app=t,this.fetchImpl=d,this.emulatorOrigin=null,this.contextProvider=new EA(t,r,a,l),this.cancelAllRequests=new Promise(y=>{this.deleteService=()=>Promise.resolve(y())});try{const y=new URL(h);this.customDomain=y.origin+(y.pathname==="/"?"":y.pathname),this.region=kd}catch{this.customDomain=null,this.region=h}}_delete(){return this.deleteService()}_url(t){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${r}.cloudfunctions.net/${t}`}}function xA(i,t,r){const a=Il(t);i.emulatorOrigin=`http${a?"s":""}://${t}:${r}`,a&&(S0(i.emulatorOrigin+"/backends"),b0("Functions",!0))}function NA(i,t,r){const a=l=>CA(i,t,l,{});return a.stream=(l,h)=>kA(i,t,l,h),a}function V0(i){return i.emulatorOrigin&&Il(i.emulatorOrigin)?"include":void 0}async function OA(i,t,r,a,l){r["Content-Type"]="application/json";let h;try{h=await a(i,{method:"POST",body:JSON.stringify(t),headers:r,credentials:V0(l)})}catch{return{status:0,json:null}}let d=null;try{d=await h.json()}catch{}return{status:h.status,json:d}}async function H0(i,t){const r={},a=await i.contextProvider.getContext(t.limitedUseAppCheckTokens);return a.authToken&&(r.Authorization="Bearer "+a.authToken),a.messagingToken&&(r["Firebase-Instance-ID-Token"]=a.messagingToken),a.appCheckToken!==null&&(r["X-Firebase-AppCheck"]=a.appCheckToken),r}function CA(i,t,r,a){const l=i._url(t);return RA(i,l,r,a)}async function RA(i,t,r,a){r=Ac(r);const l={data:r},h=await H0(i,a),d=a.timeout||7e4,y=AA(d),_=await Promise.race([OA(t,l,h,i.fetchImpl,i),y.promise,i.cancelAllRequests]);if(y.cancel(),!_)throw new En("cancelled","Firebase Functions instance was deleted.");const E=wc(_.status,_.json);if(E)throw E;if(!_.json)throw new En("internal","Response is not valid JSON object.");let C=_.json.data;if(typeof C>"u"&&(C=_.json.result),typeof C>"u")throw new En("internal","Response is missing data field.");return{data:co(C)}}function kA(i,t,r,a){const l=i._url(t);return DA(i,l,r,a||{})}async function DA(i,t,r,a){r=Ac(r);const l={data:r},h=await H0(i,a);h["Content-Type"]="application/json",h.Accept="text/event-stream";let d;try{d=await i.fetchImpl(t,{method:"POST",body:JSON.stringify(l),headers:h,signal:a?.signal,credentials:V0(i)})}catch(U){if(U instanceof Error&&U.name==="AbortError"){const J=new En("cancelled","Request was cancelled.");return{data:Promise.reject(J),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(J)}}}}}}const F=wc(0,null);return{data:Promise.reject(F),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(F)}}}}}}let y,_;const E=new Promise((U,F)=>{y=U,_=F});a?.signal?.addEventListener("abort",()=>{const U=new En("cancelled","Request was cancelled.");_(U)});const C=d.body.getReader(),R=zA(C,y,_,a?.signal);return{stream:{[Symbol.asyncIterator](){const U=R.getReader();return{async next(){const{value:F,done:J}=await U.read();return{value:F,done:J}},async return(){return await U.cancel(),{done:!0,value:void 0}}}}},data:E}}function zA(i,t,r,a){const l=(d,y)=>{const _=d.match(TA);if(!_)return;const E=_[1];try{const C=JSON.parse(E);if("result"in C){t(co(C.result));return}if("message"in C){y.enqueue(co(C.message));return}if("error"in C){const R=wc(0,C);y.error(R),r(R);return}}catch(C){if(C instanceof En){y.error(C),r(C);return}}},h=new TextDecoder;return new ReadableStream({start(d){let y="";return _();async function _(){if(a?.aborted){const E=new En("cancelled","Request was cancelled");return d.error(E),r(E),Promise.resolve()}try{const{value:E,done:C}=await i.read();if(C){y.trim()&&l(y.trim(),d),d.close();return}if(a?.aborted){const U=new En("cancelled","Request was cancelled");d.error(U),r(U),await i.cancel();return}y+=h.decode(E,{stream:!0});const R=y.split(`
`);y=R.pop()||"";for(const U of R)U.trim()&&l(U.trim(),d);return _()}catch(E){const C=E instanceof En?E:wc(0,null);d.error(C),r(C)}}},cancel(){return i.cancel()}})}const iv="@firebase/functions",sv="0.13.1";const IA="auth-internal",MA="app-check-internal",LA="messaging-internal";function UA(i){const t=(r,{instanceIdentifier:a})=>{const l=r.getProvider("app").getImmediate(),h=r.getProvider(IA),d=r.getProvider(LA),y=r.getProvider(MA);return new wA(l,h,d,y,a)};na(new mr(Yd,t,"PUBLIC").setMultipleInstances(!0)),Hi(iv,sv,i),Hi(iv,sv,"esm2020")}function jA(i=L0(),t=kd){const a=Xd(ai(i),Yd).getImmediate({identifier:t}),l=vE("functions");return l&&B0(a,...l),a}function B0(i,t,r){xA(ai(i),t,r)}function fo(i,t,r){return NA(ai(i),t)}UA();var PA="firebase",VA="12.8.0";Hi(PA,VA,"app");function G0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HA=G0,Z0=new Gc("auth","Firebase",G0());const xc=new $d("@firebase/auth");function BA(i,...t){xc.logLevel<=Zc.WARN&&xc.warn(`Auth (${go}): ${i}`,...t)}function vc(i,...t){xc.logLevel<=Zc.ERROR&&xc.error(`Auth (${go}): ${i}`,...t)}function Es(i,...t){throw Fd(i,...t)}function Bi(i,...t){return Fd(i,...t)}function q0(i,t,r){const a={...HA(),[t]:r};return new Gc("auth","Firebase",a).create(t,{appName:i.name})}function dr(i){return q0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fd(i,...t){if(typeof i!="string"){const r=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(r,...a)}return Z0.create(i,...t)}function me(i,t,...r){if(!i)throw Fd(t,...r)}function _s(i){const t="INTERNAL ASSERTION FAILED: "+i;throw vc(t),new Error(t)}function Ts(i,t){i||_s(t)}function Dd(){return typeof self<"u"&&self.location?.href||""}function GA(){return rv()==="http:"||rv()==="https:"}function rv(){return typeof self<"u"&&self.location?.protocol||null}function ZA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GA()||bE()||"connection"in navigator)?navigator.onLine:!0}function qA(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Ll{constructor(t,r){this.shortDelay=t,this.longDelay=r,Ts(r>t,"Short delay should be less than long delay!"),this.isMobile=_E()||SE()}get(){return ZA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Kd(i,t){Ts(i.emulator,"Emulator should always be set here");const{url:r}=i.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}class $0{static initialize(t,r,a){this.fetchImpl=t,r&&(this.headersImpl=r),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $A={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const XA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YA=new Ll(3e4,6e4);function Xc(i,t){return i.tenantId&&!t.tenantId?{...t,tenantId:i.tenantId}:t}async function yo(i,t,r,a,l={}){return X0(i,l,async()=>{let h={},d={};a&&(t==="GET"?d=a:h={body:JSON.stringify(a)});const y=Ml({key:i.config.apiKey,...d}).slice(1),_=await i._getAdditionalHeaders();_["Content-Type"]="application/json",i.languageCode&&(_["X-Firebase-Locale"]=i.languageCode);const E={method:t,headers:_,...h};return NE()||(E.referrerPolicy="no-referrer"),i.emulatorConfig&&Il(i.emulatorConfig.host)&&(E.credentials="include"),$0.fetch()(await F0(i,i.config.apiHost,r,y),E)})}async function X0(i,t,r){i._canInitEmulator=!1;const a={...$A,...t};try{const l=new FA(i),h=await Promise.race([r(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw oc(i,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const y=h.ok?d.errorMessage:d.error.message,[_,E]=y.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw oc(i,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw oc(i,"email-already-in-use",d);if(_==="USER_DISABLED")throw oc(i,"user-disabled",d);const C=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw q0(i,C,E);Es(i,C)}}catch(l){if(l instanceof aa)throw l;Es(i,"network-request-failed",{message:String(l)})}}async function Y0(i,t,r,a,l={}){const h=await yo(i,t,r,a,l);return"mfaPendingCredential"in h&&Es(i,"multi-factor-auth-required",{_serverResponse:h}),h}async function F0(i,t,r,a){const l=`${t}${r}?${a}`,h=i,d=h.config.emulator?Kd(i.config,l):`${i.config.apiScheme}://${l}`;return XA.includes(r)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class FA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,a)=>{this.timer=setTimeout(()=>a(Bi(this.auth,"network-request-failed")),YA.get())})}}function oc(i,t,r){const a={appName:i.name};r.email&&(a.email=r.email),r.phoneNumber&&(a.phoneNumber=r.phoneNumber);const l=Bi(i,t,a);return l.customData._tokenResponse=r,l}async function KA(i,t){return yo(i,"POST","/v1/accounts:delete",t)}async function Nc(i,t){return yo(i,"POST","/v1/accounts:lookup",t)}function El(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function JA(i,t=!1){const r=ai(i),a=await r.getIdToken(t),l=Jd(a);me(l&&l.exp&&l.auth_time&&l.iat,r.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h?.sign_in_provider;return{claims:l,token:a,authTime:El(hd(l.auth_time)),issuedAtTime:El(hd(l.iat)),expirationTime:El(hd(l.exp)),signInProvider:d||null,signInSecondFactor:h?.sign_in_second_factor||null}}function hd(i){return Number(i)*1e3}function Jd(i){const[t,r,a]=i.split(".");if(t===void 0||r===void 0||a===void 0)return vc("JWT malformed, contained fewer than 3 sections"),null;try{const l=TE(r);return l?JSON.parse(l):(vc("Failed to decode base64 JWT payload"),null)}catch(l){return vc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function av(i){const t=Jd(i);return me(t,"internal-error"),me(typeof t.exp<"u","internal-error"),me(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function kl(i,t,r=!1){if(r)return t;try{return await t}catch(a){throw a instanceof aa&&QA(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function QA({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class WA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class zd{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Oc(i){const t=i.auth,r=await i.getIdToken(),a=await kl(i,Nc(t,{idToken:r}));me(a?.users.length,t,"internal-error");const l=a.users[0];i._notifyReloadListener(l);const h=l.providerUserInfo?.length?K0(l.providerUserInfo):[],d=t1(i.providerData,h),y=i.isAnonymous,_=!(i.email&&l.passwordHash)&&!d?.length,E=y?_:!1,C={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new zd(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(i,C)}async function e1(i){const t=ai(i);await Oc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function t1(i,t){return[...i.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function K0(i){return i.map(({providerId:t,...r})=>({providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}async function n1(i,t){const r=await X0(i,{},async()=>{const a=Ml({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=i.config,d=await F0(i,l,"/v1/token",`key=${h}`),y=await i._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:y,body:a};return i.emulatorConfig&&Il(i.emulatorConfig.host)&&(_.credentials="include"),$0.fetch()(d,_)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function i1(i,t){return yo(i,"POST","/v2/accounts:revokeToken",Xc(i,t))}class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){me(t.idToken,"internal-error"),me(typeof t.idToken<"u","internal-error"),me(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):av(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}updateFromIdToken(t){me(t.length!==0,"internal-error");const r=av(t);this.updateTokensAndExpiration(t,null,r)}async getToken(t,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:a,refreshToken:l,expiresIn:h}=await n1(t,r);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,r,a){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,r){const{refreshToken:a,accessToken:l,expirationTime:h}=r,d=new ro;return a&&(me(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(me(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(me(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return _s("not implemented")}}function rr(i,t){me(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Ei{constructor({uid:t,auth:r,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new WA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new zd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const r=await kl(this,this.stsTokenManager.getToken(this.auth,t));return me(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return JA(this,t)}reload(){return e1(this)}_assign(t){this!==t&&(me(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>({...r})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(t){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),r&&await Oc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(dr(this.auth));const t=await this.getIdToken();return await kl(this,KA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){const a=r.displayName??void 0,l=r.email??void 0,h=r.phoneNumber??void 0,d=r.photoURL??void 0,y=r.tenantId??void 0,_=r._redirectEventId??void 0,E=r.createdAt??void 0,C=r.lastLoginAt??void 0,{uid:R,emailVerified:U,isAnonymous:F,providerData:J,stsTokenManager:te}=r;me(R&&te,t,"internal-error");const le=ro.fromJSON(this.name,te);me(typeof R=="string",t,"internal-error"),rr(a,t.name),rr(l,t.name),me(typeof U=="boolean",t,"internal-error"),me(typeof F=="boolean",t,"internal-error"),rr(h,t.name),rr(d,t.name),rr(y,t.name),rr(_,t.name),rr(E,t.name),rr(C,t.name);const xe=new Ei({uid:R,auth:t,email:l,emailVerified:U,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:h,tenantId:y,stsTokenManager:le,createdAt:E,lastLoginAt:C});return J&&Array.isArray(J)&&(xe.providerData=J.map(Se=>({...Se}))),_&&(xe._redirectEventId=_),xe}static async _fromIdTokenResponse(t,r,a=!1){const l=new ro;l.updateFromServerResponse(r);const h=new Ei({uid:r.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Oc(h),h}static async _fromGetAccountInfoResponse(t,r,a){const l=r.users[0];me(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?K0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!h?.length,y=new ro;y.updateFromIdToken(a);const _=new Ei({uid:l.localId,auth:t,stsTokenManager:y,isAnonymous:d}),E={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new zd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!h?.length};return Object.assign(_,E),_}}const ov=new Map;function Ss(i){Ts(i instanceof Function,"Expected a class definition");let t=ov.get(i);return t?(Ts(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,ov.set(i,t),t)}class J0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}J0.type="NONE";const lv=J0;function _c(i,t,r){return`firebase:${i}:${t}:${r}`}class ao{constructor(t,r,a){this.persistence=t,this.auth=r,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=_c(this.userKey,l.apiKey,h),this.fullPersistenceKey=_c("persistence",l.apiKey,h),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const r=await Nc(this.auth,{idToken:t}).catch(()=>{});return r?Ei._fromGetAccountInfoResponse(this.auth,r,t):null}return Ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,a="authUser"){if(!r.length)return new ao(Ss(lv),t,a);const l=(await Promise.all(r.map(async E=>{if(await E._isAvailable())return E}))).filter(E=>E);let h=l[0]||Ss(lv);const d=_c(a,t.config.apiKey,t.name);let y=null;for(const E of r)try{const C=await E._get(d);if(C){let R;if(typeof C=="string"){const U=await Nc(t,{idToken:C}).catch(()=>{});if(!U)break;R=await Ei._fromGetAccountInfoResponse(t,U,C)}else R=Ei._fromJSON(t,C);E!==h&&(y=R),h=E;break}}catch{}const _=l.filter(E=>E._shouldAllowMigration);return!h._shouldAllowMigration||!_.length?new ao(h,t,a):(h=_[0],y&&await h._set(d,y.toJSON()),await Promise.all(r.map(async E=>{if(E!==h)try{await E._remove(d)}catch{}})),new ao(h,t,a))}}function uv(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(t_(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Q0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(i_(t))return"Blackberry";if(s_(t))return"Webos";if(W0(t))return"Safari";if((t.includes("chrome/")||e_(t))&&!t.includes("edge/"))return"Chrome";if(n_(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(r);if(a?.length===2)return a[1]}return"Other"}function Q0(i=jn()){return/firefox\//i.test(i)}function W0(i=jn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function e_(i=jn()){return/crios\//i.test(i)}function t_(i=jn()){return/iemobile/i.test(i)}function n_(i=jn()){return/android/i.test(i)}function i_(i=jn()){return/blackberry/i.test(i)}function s_(i=jn()){return/webos/i.test(i)}function Qd(i=jn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function s1(i=jn()){return Qd(i)&&!!window.navigator?.standalone}function r1(){return wE()&&document.documentMode===10}function r_(i=jn()){return Qd(i)||n_(i)||s_(i)||i_(i)||/windows phone/i.test(i)||t_(i)}function a_(i,t=[]){let r;switch(i){case"Browser":r=uv(jn());break;case"Worker":r=`${uv(jn())}-${i}`;break;default:r=i}const a=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${go}/${a}`}class a1{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const a=h=>new Promise((d,y)=>{try{const _=t(h);d(_)}catch(_){y(_)}});a.onAbort=r,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const a of this.queue)await a(t),a.onAbort&&r.push(a.onAbort)}catch(a){r.reverse();for(const l of r)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function o1(i,t={}){return yo(i,"GET","/v2/passwordPolicy",Xc(i,t))}const l1=6;class u1{constructor(t){const r=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??l1,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,r),this.validatePasswordCharacterOptions(t,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(t,r){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(r.meetsMinPasswordLength=t.length>=a),l&&(r.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(r,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,r,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class c1{constructor(t,r,a,l){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cv(this),this.idTokenSubscription=new cv(this),this.beforeStateQueue=new a1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Z0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=Ss(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ao.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const r=await Nc(this,{idToken:t}),a=await Ei._fromGetAccountInfoResponse(this,r,t);await this.directlySetCurrentUser(a)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(si(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(t);(!h||h===d)&&y?.user&&(a=y.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(h){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await Oc(t)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=qA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(si(this.app))return Promise.reject(dr(this));const r=t?ai(t):null;return r&&me(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&me(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return si(this.app)?Promise.reject(dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await o1(this),r=new u1(t);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Gc("auth","Firebase",t())}onAuthStateChanged(t,r,a){return this.registerStateListener(this.authStateSubscription,t,r,a)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,a){return this.registerStateListener(this.idTokenSubscription,t,r,a)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},r)}})}async revokeAccessToken(t){if(this.currentUser){const r=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};this.tenantId!=null&&(a.tenantId=this.tenantId),await i1(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,r){const a=await this.getOrInitRedirectPersistenceManager(r);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&Ss(t)||this._popupRedirectResolver;me(r,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[Ss(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,a,l){if(this._deleted)return()=>{};const h=typeof r=="function"?r:r.next.bind(r);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(y,this,"internal-error"),y.then(()=>{d||h(this.currentUser)}),typeof r=="function"){const _=t.addObserver(r,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(r);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=a_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&BA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Yc(i){return ai(i)}class cv{constructor(t){this.auth=t,this.observer=null,this.addObserver=EE(r=>this.observer=r)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Wd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function f1(i){Wd=i}function h1(i){return Wd.loadJS(i)}function d1(){return Wd.gapiScript}function m1(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function p1(i,t){const r=Xd(i,"auth");if(r.isInitialized()){const l=r.getImmediate(),h=r.getOptions();if(Nl(h,t??{}))return l;Es(l,"already-initialized")}return r.initialize({options:t})}function g1(i,t){const r=t?.persistence||[],a=(Array.isArray(r)?r:[r]).map(Ss);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(a,t?.popupRedirectResolver)}function y1(i,t,r){const a=Yc(i);me(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=o_(t),{host:d,port:y}=v1(t),_=y===null?"":`:${y}`,E={url:`${h}//${d}${_}/`},C=Object.freeze({host:d,port:y,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){me(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),me(Nl(E,a.config.emulator)&&Nl(C,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=E,a.emulatorConfig=C,a.settings.appVerificationDisabledForTesting=!0,Il(d)?(S0(`${h}//${d}${_}`),b0("Auth",!0)):_1()}function o_(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function v1(i){const t=o_(i),r=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!r)return{host:"",port:null};const a=r[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:fv(a.substr(h.length+1))}}else{const[h,d]=a.split(":");return{host:h,port:fv(d)}}}function fv(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function _1(){function i(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class l_{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return _s("not implemented")}_getIdTokenResponse(t){return _s("not implemented")}_linkToIdToken(t,r){return _s("not implemented")}_getReauthenticationResolver(t){return _s("not implemented")}}async function oo(i,t){return Y0(i,"POST","/v1/accounts:signInWithIdp",Xc(i,t))}const S1="http://localhost";class ia extends l_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new ia(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):Es("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...h}=r;if(!a||!l)return null;const d=new ia(a,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const r=this.buildRequest();return oo(t,r)}_linkToIdToken(t,r){const a=this.buildRequest();return a.idToken=r,oo(t,a)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,oo(t,r)}buildRequest(){const t={requestUri:S1,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=Ml(r)}return t}}class u_{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ul extends u_{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class or extends Ul{constructor(){super("facebook.com")}static credential(t){return ia._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return or.credential(t.oauthAccessToken)}catch{return null}}}or.FACEBOOK_SIGN_IN_METHOD="facebook.com";or.PROVIDER_ID="facebook.com";class lr extends Ul{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return ia._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:a}=t;if(!r&&!a)return null;try{return lr.credential(r,a)}catch{return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";class ur extends Ul{constructor(){super("github.com")}static credential(t){return ia._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ur.credential(t.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";class cr extends Ul{constructor(){super("twitter.com")}static credential(t,r){return ia._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:a}=t;if(!r||!a)return null;try{return cr.credential(r,a)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";class sa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,a,l=!1){const h=await Ei._fromIdTokenResponse(t,a,l),d=hv(a);return new sa({user:h,providerId:d,_tokenResponse:a,operationType:r})}static async _forOperation(t,r,a){await t._updateTokensIfNecessary(a,!0);const l=hv(a);return new sa({user:t,providerId:l,_tokenResponse:a,operationType:r})}}function hv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Cc extends aa{constructor(t,r,a,l){super(r.code,r.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Cc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,r,a,l){return new Cc(t,r,a,l)}}function c_(i,t,r,a){return(t==="reauthenticate"?r._getReauthenticationResolver(i):r._getIdTokenResponse(i)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Cc._fromErrorAndOperation(i,h,t,a):h})}async function b1(i,t,r=!1){const a=await kl(i,t._linkToIdToken(i.auth,await i.getIdToken()),r);return sa._forOperation(i,"link",a)}async function E1(i,t,r=!1){const{auth:a}=i;if(si(a.app))return Promise.reject(dr(a));const l="reauthenticate";try{const h=await kl(i,c_(a,l,t,i),r);me(h.idToken,a,"internal-error");const d=Jd(h.idToken);me(d,a,"internal-error");const{sub:y}=d;return me(i.uid===y,a,"user-mismatch"),sa._forOperation(i,l,h)}catch(h){throw h?.code==="auth/user-not-found"&&Es(a,"user-mismatch"),h}}async function T1(i,t,r=!1){if(si(i.app))return Promise.reject(dr(i));const a="signIn",l=await c_(i,a,t),h=await sa._fromIdTokenResponse(i,a,l);return r||await i._updateCurrentUser(h.user),h}async function A1(i,t){return Y0(i,"POST","/v1/accounts:signInWithCustomToken",Xc(i,t))}async function w1(i,t){if(si(i.app))return Promise.reject(dr(i));const r=Yc(i),a=await A1(r,{token:t,returnSecureToken:!0}),l=await sa._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function x1(i,t,r,a){return ai(i).onIdTokenChanged(t,r,a)}function N1(i,t,r){return ai(i).beforeAuthStateChanged(t,r)}function O1(i,t,r,a){return ai(i).onAuthStateChanged(t,r,a)}function C1(i){return ai(i).signOut()}const Rc="__sak";class f_{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Rc,"1"),this.storage.removeItem(Rc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const R1=1e3,k1=10;class h_ extends f_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=r_(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const a=this.storage.getItem(r),l=this.localCache[r];a!==l&&t(r,l,a)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((d,y,_)=>{this.notifyListeners(d,_)});return}const a=t.key;r?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!r&&this.localCache[a]===d||this.notifyListeners(a,d)},h=this.storage.getItem(a);r1()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,k1):l()}notifyListeners(t,r){this.localCache[t]=r;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:a}),!0)})},R1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}h_.type="LOCAL";const D1=h_;class d_ extends f_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}d_.type="SESSION";const m_=d_;function z1(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}class Fc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(l=>l.isListeningto(t));if(r)return r;const a=new Fc(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:a,eventType:l,data:h}=r.data,d=this.handlersMap[l];if(!d?.size)return;r.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(d).map(async E=>E(r.origin,h)),_=await z1(y);r.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fc.receivers=[];function em(i="",t=10){let r="";for(let a=0;a<t;a++)r+=Math.floor(Math.random()*10);return i+r}class I1{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((y,_)=>{const E=em("",20);l.port1.start();const C=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(R){const U=R;if(U.data.eventId===E)switch(U.data.status){case"ack":clearTimeout(C),h=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),y(U.data.response);break;default:clearTimeout(C),clearTimeout(h),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:E,data:r},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Gi(){return window}function M1(i){Gi().location.href=i}function p_(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function L1(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U1(){return navigator?.serviceWorker?.controller||null}function j1(){return p_()?self:null}const g_="firebaseLocalStorageDb",P1=1,kc="firebaseLocalStorage",y_="fbase_key";class jl{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Kc(i,t){return i.transaction([kc],t?"readwrite":"readonly").objectStore(kc)}function V1(){const i=indexedDB.deleteDatabase(g_);return new jl(i).toPromise()}function Id(){const i=indexedDB.open(g_,P1);return new Promise((t,r)=>{i.addEventListener("error",()=>{r(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(kc,{keyPath:y_})}catch(l){r(l)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(kc)?t(a):(a.close(),await V1(),t(await Id()))})})}async function dv(i,t,r){const a=Kc(i,!0).put({[y_]:t,value:r});return new jl(a).toPromise()}async function H1(i,t){const r=Kc(i,!1).get(t),a=await new jl(r).toPromise();return a===void 0?null:a.value}function mv(i,t){const r=Kc(i,!0).delete(t);return new jl(r).toPromise()}const B1=800,G1=3;class v_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Id(),this.db)}async _withRetries(t){let r=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(r++>G1)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return p_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fc._getInstance(j1()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await L1(),!this.activeServiceWorker)return;this.sender=new I1(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||U1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Id();return await dv(t,Rc,"1"),await mv(t,Rc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(a=>dv(a,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(a=>H1(a,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>mv(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Kc(l,!1).getAll();return new jl(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),r.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),r.push(l));return r}notifyListeners(t,r){this.localCache[t]=r;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}v_.type="LOCAL";const Z1=v_;new Ll(3e4,6e4);function q1(i,t){return t?Ss(t):(me(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class tm extends l_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return oo(t,this._buildIdpRequest())}_linkToIdToken(t,r){return oo(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return oo(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function $1(i){return T1(i.auth,new tm(i),i.bypassAuthState)}function X1(i){const{auth:t,user:r}=i;return me(r,t,"internal-error"),E1(r,new tm(i),i.bypassAuthState)}async function Y1(i){const{auth:t,user:r}=i;return me(r,t,"internal-error"),b1(r,new tm(i),i.bypassAuthState)}class __{constructor(t,r,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:a,postBody:l,tenantId:h,error:d,type:y}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:r,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(_))}catch(E){this.reject(E)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return $1;case"linkViaPopup":case"linkViaRedirect":return Y1;case"reauthViaPopup":case"reauthViaRedirect":return X1;default:Es(this.auth,"internal-error")}}resolve(t){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const F1=new Ll(2e3,1e4);class no extends __{constructor(t,r,a,l,h){super(t,r,l,h),this.provider=a,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return me(t,this.auth,"internal-error"),t}async onExecution(){Ts(this.filter.length===1,"Popup operations only handle one event");const t=em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,F1.get())};t()}}no.currentPopupAction=null;const K1="pendingRedirect",Sc=new Map;class J1 extends __{constructor(t,r,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a),this.eventId=null}async execute(){let t=Sc.get(this.auth._key());if(!t){try{const a=await Q1(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(r){t=()=>Promise.reject(r)}Sc.set(this.auth._key(),t)}return this.bypassAuthState||Sc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Q1(i,t){const r=tw(t),a=ew(i);if(!await a._isAvailable())return!1;const l=await a._get(r)==="true";return await a._remove(r),l}function W1(i,t){Sc.set(i._key(),t)}function ew(i){return Ss(i._redirectPersistence)}function tw(i){return _c(K1,i.config.apiKey,i.name)}async function nw(i,t,r=!1){if(si(i.app))return Promise.reject(dr(i));const a=Yc(i),l=q1(a,t),d=await new J1(a,l,r).execute();return d&&!r&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const iw=600*1e3;class sw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(r=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!rw(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){if(t.error&&!S_(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";r.onError(Bi(this.auth,a))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const a=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=iw&&this.cachedEventUids.clear(),this.cachedEventUids.has(pv(t))}saveEventToCache(t){this.cachedEventUids.add(pv(t)),this.lastProcessedEventTime=Date.now()}}function pv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function S_({type:i,error:t}){return i==="unknown"&&t?.code==="auth/no-auth-event"}function rw(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return S_(i);default:return!1}}async function aw(i,t={}){return yo(i,"GET","/v1/projects",t)}const ow=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lw=/^https?/;async function uw(i){if(i.config.emulator)return;const{authorizedDomains:t}=await aw(i);for(const r of t)try{if(cw(r))return}catch{}Es(i,"unauthorized-domain")}function cw(i){const t=Dd(),{protocol:r,hostname:a}=new URL(t);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&a===""?r==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&d.hostname===a}if(!lw.test(r))return!1;if(ow.test(i))return a===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const fw=new Ll(3e4,6e4);function gv(){const i=Gi().___jsl;if(i?.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let r=0;r<i.CP.length;r++)i.CP[r]=null}}function hw(i){return new Promise((t,r)=>{function a(){gv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{gv(),r(Bi(i,"network-request-failed"))},timeout:fw.get()})}if(Gi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Gi().gapi?.load)a();else{const l=m1("iframefcb");return Gi()[l]=()=>{gapi.load?a():r(Bi(i,"network-request-failed"))},h1(`${d1()}?onload=${l}`).catch(h=>r(h))}}).catch(t=>{throw bc=null,t})}let bc=null;function dw(i){return bc=bc||hw(i),bc}const mw=new Ll(5e3,15e3),pw="__/auth/iframe",gw="emulator/auth/iframe",yw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _w(i){const t=i.config;me(t.authDomain,i,"auth-domain-config-required");const r=t.emulator?Kd(t,gw):`https://${i.config.authDomain}/${pw}`,a={apiKey:t.apiKey,appName:i.name,v:go},l=vw.get(i.config.apiHost);l&&(a.eid=l);const h=i._getFrameworks();return h.length&&(a.fw=h.join(",")),`${r}?${Ml(a).slice(1)}`}async function Sw(i){const t=await dw(i),r=Gi().gapi;return me(r,i,"internal-error"),t.open({where:document.body,url:_w(i),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yw,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const d=Bi(i,"network-request-failed"),y=Gi().setTimeout(()=>{h(d)},mw.get());function _(){Gi().clearTimeout(y),l(a)}a.ping(_).then(_,()=>{h(d)})}))}const bw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ew=500,Tw=600,Aw="_blank",ww="http://localhost";class yv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xw(i,t,r,a=Ew,l=Tw){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const _={...bw,width:a.toString(),height:l.toString(),top:h,left:d},E=jn().toLowerCase();r&&(y=e_(E)?Aw:r),Q0(E)&&(t=t||ww,_.scrollbars="yes");const C=Object.entries(_).reduce((U,[F,J])=>`${U}${F}=${J},`,"");if(s1(E)&&y!=="_self")return Nw(t||"",y),new yv(null);const R=window.open(t||"",y,C);me(R,i,"popup-blocked");try{R.focus()}catch{}return new yv(R)}function Nw(i,t){const r=document.createElement("a");r.href=i,r.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(a)}const Ow="__/auth/handler",Cw="emulator/auth/handler",Rw=encodeURIComponent("fac");async function vv(i,t,r,a,l,h){me(i.config.authDomain,i,"auth-domain-config-required"),me(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:r,redirectUrl:a,v:go,eventId:l};if(t instanceof u_){t.setDefaultLanguage(i.languageCode),d.providerId=t.providerId||"",xE(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[C,R]of Object.entries({}))d[C]=R}if(t instanceof Ul){const C=t.getScopes().filter(R=>R!=="");C.length>0&&(d.scopes=C.join(","))}i.tenantId&&(d.tid=i.tenantId);const y=d;for(const C of Object.keys(y))y[C]===void 0&&delete y[C];const _=await i._getAppCheckToken(),E=_?`#${Rw}=${encodeURIComponent(_)}`:"";return`${kw(i)}?${Ml(y).slice(1)}${E}`}function kw({config:i}){return i.emulator?Kd(i,Cw):`https://${i.authDomain}/${Ow}`}const dd="webStorageSupport";class Dw{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=m_,this._completeRedirectFn=nw,this._overrideRedirectResult=W1}async _openPopup(t,r,a,l){Ts(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await vv(t,r,a,Dd(),l);return xw(t,h,em())}async _openRedirect(t,r,a,l){await this._originValidation(t);const h=await vv(t,r,a,Dd(),l);return M1(h),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:l,promise:h}=this.eventManagers[r];return l?Promise.resolve(l):(Ts(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[r]={promise:a},a.catch(()=>{delete this.eventManagers[r]}),a}async initAndGetManager(t){const r=await Sw(t),a=new sw(t);return r.register("authEvent",l=>(me(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=r,a}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(dd,{type:dd},l=>{const h=l?.[0]?.[dd];h!==void 0&&r(!!h),Es(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=uw(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return r_()||W0()||Qd()}}const zw=Dw;var _v="@firebase/auth",Sv="1.12.0";class Iw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Mw(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Lw(i){na(new mr("auth",(t,{options:r})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;me(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:y,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:a_(i)},E=new c1(a,l,h,_);return g1(E,r),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,a)=>{t.getProvider("auth-internal").initialize()})),na(new mr("auth-internal",t=>{const r=Yc(t.getProvider("auth").getImmediate());return(a=>new Iw(a))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hi(_v,Sv,Mw(i)),Hi(_v,Sv,"esm2020")}const Uw=300,jw=E0("authIdTokenMaxAge")||Uw;let bv=null;const Pw=i=>async t=>{const r=t&&await t.getIdTokenResult(),a=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(a&&a>jw)return;const l=r?.token;bv!==l&&(bv=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Vw(i=L0()){const t=Xd(i,"auth");if(t.isInitialized())return t.getImmediate();const r=p1(i,{popupRedirectResolver:zw,persistence:[Z1,D1,m_]}),a=E0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const d=Pw(h.toString());N1(r,d,()=>d(r.currentUser)),x1(r,y=>d(y))}}const l=AE("auth");return l&&y1(r,`http://${l}`),r}function Hw(){return document.getElementsByTagName("head")?.[0]??document}f1({loadJS(i){return new Promise((t,r)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=t,a.onerror=l=>{const h=Bi("internal-error");h.customData=l,r(h)},a.type="text/javascript",a.charset="UTF-8",Hw().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Lw("Browser");var Ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var nm;(function(){var i;function t(z,w){function x(){}x.prototype=w.prototype,z.F=w.prototype,z.prototype=new x,z.prototype.constructor=z,z.D=function(N,A,I){for(var T=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)T[Ne-2]=arguments[Ne];return w.prototype[A].apply(N,T)}}function r(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,r),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(z,w,x){x||(x=0);const N=Array(16);if(typeof w=="string")for(var A=0;A<16;++A)N[A]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(A=0;A<16;++A)N[A]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=z.g[0],x=z.g[1],A=z.g[2];let I=z.g[3],T;T=w+(I^x&(A^I))+N[0]+3614090360&4294967295,w=x+(T<<7&4294967295|T>>>25),T=I+(A^w&(x^A))+N[1]+3905402710&4294967295,I=w+(T<<12&4294967295|T>>>20),T=A+(x^I&(w^x))+N[2]+606105819&4294967295,A=I+(T<<17&4294967295|T>>>15),T=x+(w^A&(I^w))+N[3]+3250441966&4294967295,x=A+(T<<22&4294967295|T>>>10),T=w+(I^x&(A^I))+N[4]+4118548399&4294967295,w=x+(T<<7&4294967295|T>>>25),T=I+(A^w&(x^A))+N[5]+1200080426&4294967295,I=w+(T<<12&4294967295|T>>>20),T=A+(x^I&(w^x))+N[6]+2821735955&4294967295,A=I+(T<<17&4294967295|T>>>15),T=x+(w^A&(I^w))+N[7]+4249261313&4294967295,x=A+(T<<22&4294967295|T>>>10),T=w+(I^x&(A^I))+N[8]+1770035416&4294967295,w=x+(T<<7&4294967295|T>>>25),T=I+(A^w&(x^A))+N[9]+2336552879&4294967295,I=w+(T<<12&4294967295|T>>>20),T=A+(x^I&(w^x))+N[10]+4294925233&4294967295,A=I+(T<<17&4294967295|T>>>15),T=x+(w^A&(I^w))+N[11]+2304563134&4294967295,x=A+(T<<22&4294967295|T>>>10),T=w+(I^x&(A^I))+N[12]+1804603682&4294967295,w=x+(T<<7&4294967295|T>>>25),T=I+(A^w&(x^A))+N[13]+4254626195&4294967295,I=w+(T<<12&4294967295|T>>>20),T=A+(x^I&(w^x))+N[14]+2792965006&4294967295,A=I+(T<<17&4294967295|T>>>15),T=x+(w^A&(I^w))+N[15]+1236535329&4294967295,x=A+(T<<22&4294967295|T>>>10),T=w+(A^I&(x^A))+N[1]+4129170786&4294967295,w=x+(T<<5&4294967295|T>>>27),T=I+(x^A&(w^x))+N[6]+3225465664&4294967295,I=w+(T<<9&4294967295|T>>>23),T=A+(w^x&(I^w))+N[11]+643717713&4294967295,A=I+(T<<14&4294967295|T>>>18),T=x+(I^w&(A^I))+N[0]+3921069994&4294967295,x=A+(T<<20&4294967295|T>>>12),T=w+(A^I&(x^A))+N[5]+3593408605&4294967295,w=x+(T<<5&4294967295|T>>>27),T=I+(x^A&(w^x))+N[10]+38016083&4294967295,I=w+(T<<9&4294967295|T>>>23),T=A+(w^x&(I^w))+N[15]+3634488961&4294967295,A=I+(T<<14&4294967295|T>>>18),T=x+(I^w&(A^I))+N[4]+3889429448&4294967295,x=A+(T<<20&4294967295|T>>>12),T=w+(A^I&(x^A))+N[9]+568446438&4294967295,w=x+(T<<5&4294967295|T>>>27),T=I+(x^A&(w^x))+N[14]+3275163606&4294967295,I=w+(T<<9&4294967295|T>>>23),T=A+(w^x&(I^w))+N[3]+4107603335&4294967295,A=I+(T<<14&4294967295|T>>>18),T=x+(I^w&(A^I))+N[8]+1163531501&4294967295,x=A+(T<<20&4294967295|T>>>12),T=w+(A^I&(x^A))+N[13]+2850285829&4294967295,w=x+(T<<5&4294967295|T>>>27),T=I+(x^A&(w^x))+N[2]+4243563512&4294967295,I=w+(T<<9&4294967295|T>>>23),T=A+(w^x&(I^w))+N[7]+1735328473&4294967295,A=I+(T<<14&4294967295|T>>>18),T=x+(I^w&(A^I))+N[12]+2368359562&4294967295,x=A+(T<<20&4294967295|T>>>12),T=w+(x^A^I)+N[5]+4294588738&4294967295,w=x+(T<<4&4294967295|T>>>28),T=I+(w^x^A)+N[8]+2272392833&4294967295,I=w+(T<<11&4294967295|T>>>21),T=A+(I^w^x)+N[11]+1839030562&4294967295,A=I+(T<<16&4294967295|T>>>16),T=x+(A^I^w)+N[14]+4259657740&4294967295,x=A+(T<<23&4294967295|T>>>9),T=w+(x^A^I)+N[1]+2763975236&4294967295,w=x+(T<<4&4294967295|T>>>28),T=I+(w^x^A)+N[4]+1272893353&4294967295,I=w+(T<<11&4294967295|T>>>21),T=A+(I^w^x)+N[7]+4139469664&4294967295,A=I+(T<<16&4294967295|T>>>16),T=x+(A^I^w)+N[10]+3200236656&4294967295,x=A+(T<<23&4294967295|T>>>9),T=w+(x^A^I)+N[13]+681279174&4294967295,w=x+(T<<4&4294967295|T>>>28),T=I+(w^x^A)+N[0]+3936430074&4294967295,I=w+(T<<11&4294967295|T>>>21),T=A+(I^w^x)+N[3]+3572445317&4294967295,A=I+(T<<16&4294967295|T>>>16),T=x+(A^I^w)+N[6]+76029189&4294967295,x=A+(T<<23&4294967295|T>>>9),T=w+(x^A^I)+N[9]+3654602809&4294967295,w=x+(T<<4&4294967295|T>>>28),T=I+(w^x^A)+N[12]+3873151461&4294967295,I=w+(T<<11&4294967295|T>>>21),T=A+(I^w^x)+N[15]+530742520&4294967295,A=I+(T<<16&4294967295|T>>>16),T=x+(A^I^w)+N[2]+3299628645&4294967295,x=A+(T<<23&4294967295|T>>>9),T=w+(A^(x|~I))+N[0]+4096336452&4294967295,w=x+(T<<6&4294967295|T>>>26),T=I+(x^(w|~A))+N[7]+1126891415&4294967295,I=w+(T<<10&4294967295|T>>>22),T=A+(w^(I|~x))+N[14]+2878612391&4294967295,A=I+(T<<15&4294967295|T>>>17),T=x+(I^(A|~w))+N[5]+4237533241&4294967295,x=A+(T<<21&4294967295|T>>>11),T=w+(A^(x|~I))+N[12]+1700485571&4294967295,w=x+(T<<6&4294967295|T>>>26),T=I+(x^(w|~A))+N[3]+2399980690&4294967295,I=w+(T<<10&4294967295|T>>>22),T=A+(w^(I|~x))+N[10]+4293915773&4294967295,A=I+(T<<15&4294967295|T>>>17),T=x+(I^(A|~w))+N[1]+2240044497&4294967295,x=A+(T<<21&4294967295|T>>>11),T=w+(A^(x|~I))+N[8]+1873313359&4294967295,w=x+(T<<6&4294967295|T>>>26),T=I+(x^(w|~A))+N[15]+4264355552&4294967295,I=w+(T<<10&4294967295|T>>>22),T=A+(w^(I|~x))+N[6]+2734768916&4294967295,A=I+(T<<15&4294967295|T>>>17),T=x+(I^(A|~w))+N[13]+1309151649&4294967295,x=A+(T<<21&4294967295|T>>>11),T=w+(A^(x|~I))+N[4]+4149444226&4294967295,w=x+(T<<6&4294967295|T>>>26),T=I+(x^(w|~A))+N[11]+3174756917&4294967295,I=w+(T<<10&4294967295|T>>>22),T=A+(w^(I|~x))+N[2]+718787259&4294967295,A=I+(T<<15&4294967295|T>>>17),T=x+(I^(A|~w))+N[9]+3951481745&4294967295,z.g[0]=z.g[0]+w&4294967295,z.g[1]=z.g[1]+(A+(T<<21&4294967295|T>>>11))&4294967295,z.g[2]=z.g[2]+A&4294967295,z.g[3]=z.g[3]+I&4294967295}a.prototype.v=function(z,w){w===void 0&&(w=z.length);const x=w-this.blockSize,N=this.C;let A=this.h,I=0;for(;I<w;){if(A==0)for(;I<=x;)l(this,z,I),I+=this.blockSize;if(typeof z=="string"){for(;I<w;)if(N[A++]=z.charCodeAt(I++),A==this.blockSize){l(this,N),A=0;break}}else for(;I<w;)if(N[A++]=z[I++],A==this.blockSize){l(this,N),A=0;break}}this.h=A,this.o+=w},a.prototype.A=function(){var z=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);z[0]=128;for(var w=1;w<z.length-8;++w)z[w]=0;w=this.o*8;for(var x=z.length-8;x<z.length;++x)z[x]=w&255,w/=256;for(this.v(z),z=Array(16),w=0,x=0;x<4;++x)for(let N=0;N<32;N+=8)z[w++]=this.g[x]>>>N&255;return z};function h(z,w){var x=y;return Object.prototype.hasOwnProperty.call(x,z)?x[z]:x[z]=w(z)}function d(z,w){this.h=w;const x=[];let N=!0;for(let A=z.length-1;A>=0;A--){const I=z[A]|0;N&&I==w||(x[A]=I,N=!1)}this.g=x}var y={};function _(z){return-128<=z&&z<128?h(z,function(w){return new d([w|0],w<0?-1:0)}):new d([z|0],z<0?-1:0)}function E(z){if(isNaN(z)||!isFinite(z))return R;if(z<0)return le(E(-z));const w=[];let x=1;for(let N=0;z>=x;N++)w[N]=z/x|0,x*=4294967296;return new d(w,0)}function C(z,w){if(z.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(z.charAt(0)=="-")return le(C(z.substring(1),w));if(z.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=E(Math.pow(w,8));let N=R;for(let I=0;I<z.length;I+=8){var A=Math.min(8,z.length-I);const T=parseInt(z.substring(I,I+A),w);A<8?(A=E(Math.pow(w,A)),N=N.j(A).add(E(T))):(N=N.j(x),N=N.add(E(T)))}return N}var R=_(0),U=_(1),F=_(16777216);i=d.prototype,i.m=function(){if(te(this))return-le(this).m();let z=0,w=1;for(let x=0;x<this.g.length;x++){const N=this.i(x);z+=(N>=0?N:4294967296+N)*w,w*=4294967296}return z},i.toString=function(z){if(z=z||10,z<2||36<z)throw Error("radix out of range: "+z);if(J(this))return"0";if(te(this))return"-"+le(this).toString(z);const w=E(Math.pow(z,6));var x=this;let N="";for(;;){const A=ne(x,w).g;x=xe(x,A.j(w));let I=((x.g.length>0?x.g[0]:x.h)>>>0).toString(z);if(x=A,J(x))return I+N;for(;I.length<6;)I="0"+I;N=I+N}},i.i=function(z){return z<0?0:z<this.g.length?this.g[z]:this.h};function J(z){if(z.h!=0)return!1;for(let w=0;w<z.g.length;w++)if(z.g[w]!=0)return!1;return!0}function te(z){return z.h==-1}i.l=function(z){return z=xe(this,z),te(z)?-1:J(z)?0:1};function le(z){const w=z.g.length,x=[];for(let N=0;N<w;N++)x[N]=~z.g[N];return new d(x,~z.h).add(U)}i.abs=function(){return te(this)?le(this):this},i.add=function(z){const w=Math.max(this.g.length,z.g.length),x=[];let N=0;for(let A=0;A<=w;A++){let I=N+(this.i(A)&65535)+(z.i(A)&65535),T=(I>>>16)+(this.i(A)>>>16)+(z.i(A)>>>16);N=T>>>16,I&=65535,T&=65535,x[A]=T<<16|I}return new d(x,x[x.length-1]&-2147483648?-1:0)};function xe(z,w){return z.add(le(w))}i.j=function(z){if(J(this)||J(z))return R;if(te(this))return te(z)?le(this).j(le(z)):le(le(this).j(z));if(te(z))return le(this.j(le(z)));if(this.l(F)<0&&z.l(F)<0)return E(this.m()*z.m());const w=this.g.length+z.g.length,x=[];for(var N=0;N<2*w;N++)x[N]=0;for(N=0;N<this.g.length;N++)for(let A=0;A<z.g.length;A++){const I=this.i(N)>>>16,T=this.i(N)&65535,Ne=z.i(A)>>>16,Ee=z.i(A)&65535;x[2*N+2*A]+=T*Ee,Se(x,2*N+2*A),x[2*N+2*A+1]+=I*Ee,Se(x,2*N+2*A+1),x[2*N+2*A+1]+=T*Ne,Se(x,2*N+2*A+1),x[2*N+2*A+2]+=I*Ne,Se(x,2*N+2*A+2)}for(z=0;z<w;z++)x[z]=x[2*z+1]<<16|x[2*z];for(z=w;z<2*w;z++)x[z]=0;return new d(x,0)};function Se(z,w){for(;(z[w]&65535)!=z[w];)z[w+1]+=z[w]>>>16,z[w]&=65535,w++}function ae(z,w){this.g=z,this.h=w}function ne(z,w){if(J(w))throw Error("division by zero");if(J(z))return new ae(R,R);if(te(z))return w=ne(le(z),w),new ae(le(w.g),le(w.h));if(te(w))return w=ne(z,le(w)),new ae(le(w.g),w.h);if(z.g.length>30){if(te(z)||te(w))throw Error("slowDivide_ only works with positive integers.");for(var x=U,N=w;N.l(z)<=0;)x=pe(x),N=pe(N);var A=be(x,1),I=be(N,1);for(N=be(N,2),x=be(x,2);!J(N);){var T=I.add(N);T.l(z)<=0&&(A=A.add(x),I=T),N=be(N,1),x=be(x,1)}return w=xe(z,A.j(w)),new ae(A,w)}for(A=R;z.l(w)>=0;){for(x=Math.max(1,Math.floor(z.m()/w.m())),N=Math.ceil(Math.log(x)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),I=E(x),T=I.j(w);te(T)||T.l(z)>0;)x-=N,I=E(x),T=I.j(w);J(I)&&(I=U),A=A.add(I),z=xe(z,T)}return new ae(A,z)}i.B=function(z){return ne(this,z).h},i.and=function(z){const w=Math.max(this.g.length,z.g.length),x=[];for(let N=0;N<w;N++)x[N]=this.i(N)&z.i(N);return new d(x,this.h&z.h)},i.or=function(z){const w=Math.max(this.g.length,z.g.length),x=[];for(let N=0;N<w;N++)x[N]=this.i(N)|z.i(N);return new d(x,this.h|z.h)},i.xor=function(z){const w=Math.max(this.g.length,z.g.length),x=[];for(let N=0;N<w;N++)x[N]=this.i(N)^z.i(N);return new d(x,this.h^z.h)};function pe(z){const w=z.g.length+1,x=[];for(let N=0;N<w;N++)x[N]=z.i(N)<<1|z.i(N-1)>>>31;return new d(x,z.h)}function be(z,w){const x=w>>5;w%=32;const N=z.g.length-x,A=[];for(let I=0;I<N;I++)A[I]=w>0?z.i(I+x)>>>w|z.i(I+x+1)<<32-w:z.i(I+x);return new d(A,z.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=E,d.fromString=C,nm=d}).apply(typeof Ev<"u"?Ev:typeof self<"u"?self:typeof window<"u"?window:{});var lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var i,t=Object.defineProperty;function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof lc=="object"&&lc];for(var m=0;m<u.length;++m){var g=u[m];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var a=r(this);function l(u,m){if(m)e:{var g=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in g))break e;g=g[L]}u=u[u.length-1],b=g[u],m=m(b),m!=b&&m!=null&&t(g,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var g=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&g.push([b,m[b]]);return g}});var h=h||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,g){return u.call.apply(u.bind,arguments)}function E(u,m,g){return E=_,E.apply(null,arguments)}function C(u,m){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function R(u,m){function g(){}g.prototype=m.prototype,u.Z=m.prototype,u.prototype=new g,u.prototype.constructor=u,u.Ob=function(b,L,H){for(var Q=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)Q[ge-2]=arguments[ge];return m.prototype[L].apply(b,Q)}}var U=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const g=Array(m);for(let b=0;b<m;b++)g[b]=u[b];return g}return[]}function J(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var g=typeof L;if(g=g!="object"?g:L?Array.isArray(L)?"array":g:"null",g=="array"||g=="object"&&typeof L.length=="number"){g=u.length||0;const H=L.length||0;u.length=g+H;for(let Q=0;Q<H;Q++)u[g+Q]=L[Q]}else u.push(L)}}class te{constructor(m,g){this.i=m,this.j=g,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function le(u){d.setTimeout(()=>{throw u},0)}function xe(){var u=z;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Se{constructor(){this.h=this.g=null}add(m,g){const b=ae.get();b.set(m,g),this.h?this.h.next=b:this.g=b,this.h=b}}var ae=new te(()=>new ne,u=>u.reset());class ne{constructor(){this.next=this.g=this.h=null}set(m,g){this.h=m,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let pe,be=!1,z=new Se,w=()=>{const u=Promise.resolve(void 0);pe=()=>{u.then(x)}};function x(){for(var u;u=xe();){try{u.h.call(u.g)}catch(g){le(g)}var m=ae;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}be=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var I=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};d.addEventListener("test",g,m),d.removeEventListener("test",g,m)}catch{}return u})();function T(u){return/^[\s\xa0]*$/.test(u)}function Ne(u,m){A.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}R(Ne,A),Ne.prototype.init=function(u,m){const g=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(g=="mouseover"?m=u.fromElement:g=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ne.Z.h.call(this)},Ne.prototype.h=function(){Ne.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),G=0;function W(u,m,g,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=g,this.capture=!!b,this.ha=L,this.key=++G,this.da=this.fa=!1}function ue(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Me(u,m,g){for(const b in u)m.call(g,u[b],b,u)}function Ue(u,m){for(const g in u)m.call(void 0,u[g],g,u)}function Te(u){const m={};for(const g in u)m[g]=u[g];return m}const ze="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function he(u,m){let g,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(g in b)u[g]=b[g];for(let H=0;H<ze.length;H++)g=ze[H],Object.prototype.hasOwnProperty.call(b,g)&&(u[g]=b[g])}}function nt(u){this.src=u,this.g={},this.h=0}nt.prototype.add=function(u,m,g,b,L){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const Q=Ut(u,m,b,L);return Q>-1?(m=u[Q],g||(m.fa=!1)):(m=new W(m,this.src,H,!!b,L),m.fa=g,u.push(m)),m};function Re(u,m){const g=m.type;if(g in u.g){var b=u.g[g],L=Array.prototype.indexOf.call(b,m,void 0),H;(H=L>=0)&&Array.prototype.splice.call(b,L,1),H&&(ue(m),u.g[g].length==0&&(delete u.g[g],u.h--))}}function Ut(u,m,g,b){for(let L=0;L<u.length;++L){const H=u[L];if(!H.da&&H.listener==m&&H.capture==!!g&&H.ha==b)return L}return-1}var Pn="closure_lm_"+(Math.random()*1e6|0),nn={};function Vn(u,m,g,b,L){if(Array.isArray(m)){for(let H=0;H<m.length;H++)Vn(u,m[H],g,b,L);return null}return g=Hn(g),u&&u[Ee]?u.J(m,g,y(b)?!!b.capture:!1,L):qi(u,m,g,!1,b,L)}function qi(u,m,g,b,L,H){if(!m)throw Error("Invalid event type");const Q=y(L)?!!L.capture:!!L;let ge=li(u);if(ge||(u[Pn]=ge=new nt(u)),g=ge.add(m,g,b,Q,H),g.proxy)return g;if(b=$i(),g.proxy=b,b.src=u,b.listener=g,u.addEventListener)I||(L=Q),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(sn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function $i(){function u(g){return m.call(u.src,u.listener,g)}const m=wn;return u}function Xi(u,m,g,b,L){if(Array.isArray(m))for(var H=0;H<m.length;H++)Xi(u,m[H],g,b,L);else b=y(b)?!!b.capture:!!b,g=Hn(g),u&&u[Ee]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],g=Ut(m,g,b,L),g>-1&&(ue(m[g]),Array.prototype.splice.call(m,g,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=li(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ut(m,g,b,L)),(g=u>-1?m[u]:null)&&An(g))}function An(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ee])Re(m.i,u);else{var g=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(g,b,u.capture):m.detachEvent?m.detachEvent(sn(g),b):m.addListener&&m.removeListener&&m.removeListener(b),(g=li(m))?(Re(g,u),g.h==0&&(g.src=null,m[Pn]=null)):ue(u)}}}function sn(u){return u in nn?nn[u]:nn[u]="on"+u}function wn(u,m){if(u.da)u=!0;else{m=new Ne(m,this);const g=u.listener,b=u.ha||u.src;u.fa&&An(u),u=g.call(b,m)}return u}function li(u){return u=u[Pn],u instanceof nt?u:null}var Yi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Hn(u){return typeof u=="function"?u:(u[Yi]||(u[Yi]=function(m){return u.handleEvent(m)}),u[Yi])}function it(){N.call(this),this.i=new nt(this),this.M=this,this.G=null}R(it,N),it.prototype[Ee]=!0,it.prototype.removeEventListener=function(u,m,g,b){Xi(this,u,m,g,b)};function at(u,m){var g,b=u.G;if(b)for(g=[];b;b=b.G)g.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new A(m,u);else if(m instanceof A)m.target=m.target||u;else{var L=m;m=new A(b,u),he(m,L)}L=!0;let H,Q;if(g)for(Q=g.length-1;Q>=0;Q--)H=m.g=g[Q],L=ui(H,b,!0,m)&&L;if(H=m.g=u,L=ui(H,b,!0,m)&&L,L=ui(H,b,!1,m)&&L,g)for(Q=0;Q<g.length;Q++)H=m.g=g[Q],L=ui(H,b,!1,m)&&L}it.prototype.N=function(){if(it.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const g=u.g[m];for(let b=0;b<g.length;b++)ue(g[b]);delete u.g[m],u.h--}}this.G=null},it.prototype.J=function(u,m,g,b){return this.i.add(String(u),m,!1,g,b)},it.prototype.K=function(u,m,g,b){return this.i.add(String(u),m,!0,g,b)};function ui(u,m,g,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let H=0;H<m.length;++H){const Q=m[H];if(Q&&!Q.da&&Q.capture==g){const ge=Q.listener,bt=Q.ha||Q.src;Q.fa&&Re(u.i,Q),L=ge.call(bt,b)!==!1&&L}}return L&&!b.defaultPrevented}function ua(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=E(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ca(u){u.g=ua(()=>{u.g=null,u.i&&(u.i=!1,ca(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class zt extends N{constructor(m,g){super(),this.m=m,this.l=g,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ca(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xn(u){N.call(this),this.h=u,this.g={}}R(xn,N);var Bn=[];function Jt(u){Me(u.g,function(m,g){this.g.hasOwnProperty(g)&&An(m)},u),u.g={}}xn.prototype.N=function(){xn.Z.N.call(this),Jt(this)},xn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gn=d.JSON.stringify,fa=d.JSON.parse,Sr=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function As(){}function ha(){}var Qt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function dt(){A.call(this,"d")}R(dt,A);function mt(){A.call(this,"c")}R(mt,A);var Qe={},ws=null;function Fi(){return ws=ws||new it}Qe.Ia="serverreachability";function da(u){A.call(this,Qe.Ia,u)}R(da,A);function rn(u){const m=Fi();at(m,new da(m))}Qe.STAT_EVENT="statevent";function Zn(u,m){A.call(this,Qe.STAT_EVENT,u),this.stat=m}R(Zn,A);function pt(u){const m=Fi();at(m,new Zn(m,u))}Qe.Ja="timingevent";function Wt(u,m){A.call(this,Qe.Ja,u),this.size=m}R(Wt,A);function qn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Nn(){this.g=!0}Nn.prototype.ua=function(){this.g=!1};function ut(u,m,g,b,L,H){u.info(function(){if(u.g)if(H){var Q="",ge=H.split("&");for(let Ze=0;Ze<ge.length;Ze++){var bt=ge[Ze].split("=");if(bt.length>1){const gt=bt[0];bt=bt[1];const tn=gt.split("_");Q=tn.length>=2&&tn[1]=="type"?Q+(gt+"="+bt+"&"):Q+(gt+"=redacted&")}}}else Q=null;else Q=H;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+g+`
`+Q})}function ci(u,m,g,b,L,H,Q){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+g+`
`+H+" "+Q})}function $n(u,m,g,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+br(u,g)+(b?" "+b:"")})}function xi(u,m){u.info(function(){return"TIMEOUT: "+m})}Nn.prototype.info=function(){};function br(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var g=H[u];if(!(g.length<2)){var b=g[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let Q=1;Q<b.length;Q++)b[Q]=""}}}}return Gn(H)}catch{return m}}var Ki={NO_ERROR:0,TIMEOUT:8},Er={},Tr;function jt(){}R(jt,As),jt.prototype.g=function(){return new XMLHttpRequest},Tr=new jt;function Gt(u){return encodeURIComponent(String(u))}function Ar(u){var m=1;u=u.split(":");const g=[];for(;m>0&&u.length;)g.push(u.shift()),m--;return u.length&&g.push(u.join(":")),g}function dn(u,m,g,b){this.j=u,this.i=m,this.l=g,this.S=b||1,this.V=new xn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new an}function an(){this.i=null,this.g="",this.h=!1}var ct={},Ye={};function On(u,m,g){u.M=1,u.A=xr(xt(m)),u.u=g,u.R=!0,Ji(u,null)}function Ji(u,m){u.F=Date.now(),se(u),u.B=xt(u.A);var g=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),va(g.i,"t",b),u.C=0,g=u.j.L,u.h=new an,u.g=Ql(u.j,g?m:null,!u.u),u.P>0&&(u.O=new zt(E(u.Y,u,u.g),u.P)),m=u.V,g=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(Bn[0]=L.toString()),L=Bn);for(let H=0;H<L.length;H++){const Q=Vn(g,L[H],b||m.handleEvent,!1,m.h||m);if(!Q)break;m.g[Q.key]=Q}m=u.J?Te(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),rn(),ut(u.i,u.v,u.B,u.l,u.S,u.u)}dn.prototype.ba=function(u){u=u.target;const m=this.O;m&&di(u)==3?m.j():this.Y(u)},dn.prototype.Y=function(u){try{if(u==this.g)e:{const ge=di(this.g),bt=this.g.ya(),Ze=this.g.ca();if(!(ge<3)&&(ge!=3||this.g&&(this.h.h||this.g.la()||qt(this.g)))){this.K||ge!=4||bt==7||(bt==8||Ze<=0?rn(3):rn(2)),K(this);var m=this.g.ca();this.X=m;var g=ma(this);if(this.o=m==200,ci(this.i,this.v,this.B,this.l,this.S,ge,m),this.o){if(this.U&&!this.L){t:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(b)){var H=b;break t}}H=null}if(u=H)$n(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,We(this,u);else{this.o=!1,this.m=3,pt(12),Ae(this),ee(this);break e}}if(this.R){u=!0;let gt;for(;!this.K&&this.C<g.length;)if(gt=pa(this,g),gt==Ye){ge==4&&(this.m=4,pt(14),u=!1),$n(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==ct){this.m=4,pt(15),$n(this.i,this.l,g,"[Invalid Chunk]"),u=!1;break}else $n(this.i,this.l,gt,null),We(this,gt);if(wr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ge!=4||g.length!=0||this.h.h||(this.m=1,pt(16),u=!1),this.o=this.o&&u,!u)$n(this.i,this.l,g,"[Invalid Chunked Response]"),Ae(this),ee(this);else if(g.length>0&&!this.W){this.W=!0;var Q=this.j;Q.g==this&&Q.aa&&!Q.P&&(Q.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Co(Q),Q.P=!0,pt(11))}}else $n(this.i,this.l,g,null),We(this,g);ge==4&&Ae(this),this.o&&!this.K&&(ge==4?Yl(this.j,this):(this.o=!1,se(this)))}else Wi(this.g),m==400&&g.indexOf("Unknown SID")>0?(this.m=3,pt(12)):(this.m=0,pt(13)),Ae(this),ee(this)}}}catch{}};function ma(u){if(!wr(u))return u.g.la();const m=qt(u.g);if(m==="")return"";let g="";const b=m.length,L=di(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Ae(u),ee(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<b;H++)u.h.h=!0,g+=u.h.i.decode(m[H],{stream:!(L&&H==b-1)});return m.length=0,u.h.g+=g,u.C=0,u.h.g}function wr(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function pa(u,m){var g=u.C,b=m.indexOf(`
`,g);return b==-1?Ye:(g=Number(m.substring(g,b)),isNaN(g)?ct:(b+=1,b+g>m.length?Ye:(m=m.slice(b,b+g),u.C=b+g,m)))}dn.prototype.cancel=function(){this.K=!0,Ae(this)};function se(u){u.T=Date.now()+u.H,k(u,u.H)}function k(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=qn(E(u.aa,u),m)}function K(u){u.D&&(d.clearTimeout(u.D),u.D=null)}dn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(xi(this.i,this.B),this.M!=2&&(rn(),pt(17)),Ae(this),this.m=2,ee(this)):k(this,this.T-u)};function ee(u){u.j.I==0||u.K||Yl(u.j,u)}function Ae(u){K(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Jt(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function We(u,m){try{var g=u.j;if(g.I!=0&&(g.g==u||mn(g.h,u))){if(!u.L&&mn(g.h,u)&&g.I==3){try{var b=g.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<u.F)Ta(g),Ms(g);else break e;zr(g),pt(18)}}else g.xa=L[1],0<g.xa-g.K&&L[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=qn(E(g.Va,g),6e3));Zt(g.h)<=1&&g.ta&&(g.ta=void 0)}else Di(g,11)}else if((u.L||g.g==u)&&Ta(g),!T(m))for(L=g.Ba.g.parse(m),m=0;m<L.length;m++){let Ze=L[m];const gt=Ze[0];if(!(gt<=g.K))if(g.K=gt,Ze=Ze[1],g.I==2)if(Ze[0]=="c"){g.M=Ze[1],g.ba=Ze[2];const tn=Ze[3];tn!=null&&(g.ka=tn,g.j.info("VER="+g.ka));const es=Ze[4];es!=null&&(g.za=es,g.j.info("SVER="+g.za));const mi=Ze[5];mi!=null&&typeof mi=="number"&&mi>0&&(b=1.5*mi,g.O=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;const pi=u.g;if(pi){const Ir=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ir){var H=b.h;H.g||Ir.indexOf("spdy")==-1&&Ir.indexOf("quic")==-1&&Ir.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ft(H,H.h),H.h=null))}if(b.G){const Aa=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;Aa&&(b.wa=Aa,Ge(b.J,b.G,Aa))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-u.F,g.j.info("Handshake RTT: "+g.T+"ms")),b=g;var Q=u;if(b.na=Jl(b,b.L?b.ba:null,b.W),Q.L){xs(b.h,Q);var ge=Q,bt=b.O;bt&&(ge.H=bt),ge.D&&(K(ge),se(ge)),b.g=Q}else $l(b);g.i.length>0&&ki(g)}else Ze[0]!="stop"&&Ze[0]!="close"||Di(g,7);else g.I==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Di(g,7):No(g):Ze[0]!="noop"&&g.l&&g.l.qa(Ze),g.A=0)}}rn(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function wt(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function on(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Zt(u){return u.h?1:u.g?u.g.size:0}function mn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ft(u,m){u.g?u.g.add(m):u.h=m}function xs(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wt.prototype.cancel=function(){if(this.i=Ns(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ns(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const g of u.g.values())m=m.concat(g.G);return m}return F(u.i)}var Vl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(u,m){if(u){u=u.split("&");for(let g=0;g<u.length;g++){const b=u[g].indexOf("=");let L,H=null;b>=0?(L=u[g].substring(0,b),H=u[g].substring(b+1)):L=u[g],m(L,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Cn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Cn?(this.l=u.l,Pt(this,u.j),this.o=u.o,this.g=u.g,Os(this,u.u),this.h=u.h,So(this,Zl(u.i)),this.m=u.m):u&&(m=String(u).match(Vl))?(this.l=!1,Pt(this,m[1]||"",!0),this.o=Ni(m[2]||""),this.g=Ni(m[3]||"",!0),Os(this,m[4]),this.h=Ni(m[5]||"",!0),So(this,m[6]||"",!0),this.m=Ni(m[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}Cn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Nr(m,ya,!0),":");var g=this.g;return(g||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Nr(m,ya,!0),"@"),u.push(Gt(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&u.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Nr(g,g.charAt(0)=="/"?bo:Hl,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Nr(g,Bl)),u.join("")},Cn.prototype.resolve=function(u){const m=xt(this);let g=!!u.j;g?Pt(m,u.j):g=!!u.o,g?m.o=u.o:g=!!u.g,g?m.g=u.g:g=u.u!=null;var b=u.h;if(g)Os(m,u.u);else if(g=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const H=[];for(let Q=0;Q<L.length;){const ge=L[Q++];ge=="."?b&&Q==L.length&&H.push(""):ge==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&Q==L.length&&H.push("")):(H.push(ge),b=!0)}b=H.join("/")}else b=L}return g?m.h=b:g=u.i.toString()!=="",g?So(m,Zl(u.i)):g=!!u.m,g&&(m.m=u.m),m};function xt(u){return new Cn(u)}function Pt(u,m,g){u.j=g?Ni(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Os(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function So(u,m,g){m instanceof Rs?(u.i=m,_a(u.i,u.l)):(g||(m=Nr(m,Cs)),u.i=new Rs(m,u.l))}function Ge(u,m,g){u.i.set(m,g)}function xr(u){return Ge(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ni(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Nr(u,m,g){return typeof u=="string"?(u=encodeURI(u).replace(m,pn),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function pn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ya=/[#\/\?@]/g,Hl=/[#\?:]/g,bo=/[#\?]/g,Cs=/[#\?@]/g,Bl=/#/g;function Rs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function gn(u){u.g||(u.g=new Map,u.h=0,u.i&&ga(u.i,function(m,g){u.add(decodeURIComponent(m.replace(/\+/g," ")),g)}))}i=Rs.prototype,i.add=function(u,m){gn(this),this.i=null,u=ks(this,u);let g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(m),this.h+=1,this};function Gl(u,m){gn(u),m=ks(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Eo(u,m){return gn(u),m=ks(u,m),u.g.has(m)}i.forEach=function(u,m){gn(this),this.g.forEach(function(g,b){g.forEach(function(L){u.call(m,L,b,this)},this)},this)};function To(u,m){gn(u);let g=[];if(typeof m=="string")Eo(u,m)&&(g=g.concat(u.g.get(ks(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)g=g.concat(u[m]);return g}i.set=function(u,m){return gn(this),this.i=null,u=ks(this,u),Eo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},i.get=function(u,m){return u?(u=To(this,u),u.length>0?String(u[0]):m):m};function va(u,m,g){Gl(u,m),g.length>0&&(u.i=null,u.g.set(ks(u,m),F(g)),u.h+=g.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var g=m[b];const L=Gt(g);g=To(this,g);for(let H=0;H<g.length;H++){let Q=L;g[H]!==""&&(Q+="="+Gt(g[H])),u.push(Q)}}return this.i=u.join("&")};function Zl(u){const m=new Rs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ks(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function _a(u,m){m&&!u.j&&(gn(u),u.i=null,u.g.forEach(function(g,b){const L=b.toLowerCase();b!=L&&(Gl(this,b),va(this,L,g))},u)),u.j=m}function fi(u,m){const g=new Nn;if(d.Image){const b=new Image;b.onload=C(Xn,g,"TestLoadImage: loaded",!0,m,b),b.onerror=C(Xn,g,"TestLoadImage: error",!1,m,b),b.onabort=C(Xn,g,"TestLoadImage: abort",!1,m,b),b.ontimeout=C(Xn,g,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Ao(u,m){const g=new Nn,b=new AbortController,L=setTimeout(()=>{b.abort(),Xn(g,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(H=>{clearTimeout(L),H.ok?Xn(g,"TestPingServer: ok",!0,m):Xn(g,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Xn(g,"TestPingServer: error",!1,m)})}function Xn(u,m,g,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(g)}catch{}}function Ds(){this.g=new Sr}function Oi(u){this.i=u.Sb||null,this.h=u.ab||!1}R(Oi,As),Oi.prototype.g=function(){return new Or(this.i,this.h)};function Or(u,m){it.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(Or,it),i=Or.prototype,i.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,hi(this)},i.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,zs(this)),this.readyState=0},i.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}i.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?zs(this):hi(this),this.readyState==3&&Sa(this)}},i.Oa=function(u){this.g&&(this.response=this.responseText=u,zs(this))},i.Na=function(u){this.g&&(this.response=u,zs(this))},i.ga=function(){this.g&&zs(this)};function zs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,hi(u)}i.setRequestHeader=function(u,m){this.A.append(u,m)},i.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var g=m.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=m.next();return u.join(`\r
`)};function hi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Or.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Yn(u){let m="";return Me(u,function(g,b){m+=b,m+=":",m+=g,m+=`\r
`}),m}function Cr(u,m,g){e:{for(b in g){var b=!1;break e}b=!0}b||(g=Yn(g),typeof u=="string"?g!=null&&Gt(g):Ge(u,m,g))}function et(u){it.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(et,it);var Ci=/^https?$/i,wo=["POST","PUT"];i=et.prototype,i.Fa=function(u){this.H=u},i.ea=function(u,m,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Tr.g(),this.g.onreadystatechange=U(E(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Rr(this,H);return}if(u=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)g.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())g.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(H=>H.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(wo,m,void 0)>=0)||b||L||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,Q]of g)this.g.setRequestHeader(H,Q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Rr(this,H)}};function Rr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,xo(u),Qi(u)}function xo(u){u.A||(u.A=!0,at(u,"complete"),at(u,"error"))}i.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,at(this,"complete"),at(this,"abort"),Qi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),et.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?kr(this):this.Xa())},i.Xa=function(){kr(this)};function kr(u){if(u.h&&typeof h<"u"){if(u.v&&di(u)==4)setTimeout(u.Ca.bind(u),0);else if(at(u,"readystatechange"),di(u)==4){u.h=!1;try{const H=u.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var g;if(!(g=m)){var b;if(b=H===0){let Q=String(u.D).match(Vl)[1]||null;!Q&&d.self&&d.self.location&&(Q=d.self.location.protocol.slice(0,-1)),b=!Ci.test(Q?Q.toLowerCase():"")}g=b}if(g)at(u,"complete"),at(u,"success");else{u.o=6;try{var L=di(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",xo(u)}}finally{Qi(u)}}}}function Qi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const g=u.g;u.g=null,m||at(u,"ready");try{g.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function di(u){return u.g?u.g.readyState:0}i.ca=function(){try{return di(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),fa(m)}};function qt(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(u){const m={};u=(u.g&&di(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(T(u[b]))continue;var g=Ar(u[b]);const L=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const H=m[L]||[];m[L]=H,H.push(g)}Ue(m,function(b){return b.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(u,m,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||m}function Is(u){this.za=0,this.i=[],this.j=new Nn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,u),this.Za=Ri("retryDelaySeedMs",1e4,u),this.Ta=Ri("forwardChannelMaxRetries",2,u),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wt(u&&u.concurrentRequestLimit),this.Ba=new Ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Is.prototype,i.ka=8,i.I=1,i.connect=function(u,m,g,b){pt(0),this.W=u,this.H=m||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.J=Jl(this,null,this.W),ki(this)};function No(u){if(ba(u),u.I==3){var m=u.V++,g=xt(u.J);if(Ge(g,"SID",u.M),Ge(g,"RID",m),Ge(g,"TYPE","terminate"),Dr(u,g),m=new dn(u,u.j,m),m.M=2,m.A=xr(xt(g)),g=!1,d.navigator&&d.navigator.sendBeacon)try{g=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!g&&d.Image&&(new Image().src=m.A,g=!0),g||(m.g=Ql(m.j,null),m.g.ea(m.A)),m.F=Date.now(),se(m)}Kl(u)}function Ms(u){u.g&&(Co(u),u.g.cancel(),u.g=null)}function ba(u){Ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),Ta(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ki(u){if(!on(u.h)&&!u.m){u.m=!0;var m=u.Ea;pe||w(),be||(pe(),be=!0),z.add(m,u),u.D=0}}function Ea(u,m){return Zt(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=qn(E(u.Ea,u,m),Fl(u,u.D)),u.D++,!0)}i.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new dn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=Te(H),he(H,this.U)):H=this.U),this.u!==null||this.R||(L.J=H,H=null),this.S)e:{for(var m=0,g=0;g<this.i.length;g++){t:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=g;break e}if(m===4096||g===this.i.length-1){m=g+1;break e}}m=1e3}else m=1e3;m=ql(this,L,m),g=xt(this.J),Ge(g,"RID",u),Ge(g,"CVER",22),this.G&&Ge(g,"X-HTTP-Session-Id",this.G),Dr(this,g),H&&(this.R?m="headers="+Gt(Yn(H))+"&"+m:this.u&&Cr(g,this.u,H)),ft(this.h,L),this.Ra&&Ge(g,"TYPE","init"),this.S?(Ge(g,"$req",m),Ge(g,"SID","null"),L.U=!0,On(L,g,null)):On(L,g,m),this.I=2}}else this.I==3&&(u?Oo(this,u):this.i.length==0||on(this.h)||Oo(this))};function Oo(u,m){var g;m?g=m.l:g=u.V++;const b=xt(u.J);Ge(b,"SID",u.M),Ge(b,"RID",g),Ge(b,"AID",u.K),Dr(u,b),u.u&&u.o&&Cr(b,u.u,u.o),g=new dn(u,u.j,g,u.D+1),u.u===null&&(g.J=u.o),m&&(u.i=m.G.concat(u.i)),m=ql(u,g,1e3),g.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),ft(u.h,g),On(g,b,m)}function Dr(u,m){u.H&&Me(u.H,function(g,b){Ge(m,b,g)}),u.l&&Me({},function(g,b){Ge(m,b,g)})}function ql(u,m,g){g=Math.min(u.i.length,g);const b=u.l?E(u.l.Ka,u.l,u):null;e:{var L=u.i;let ge=-1;for(;;){const bt=["count="+g];ge==-1?g>0?(ge=L[0].g,bt.push("ofs="+ge)):ge=0:bt.push("ofs="+ge);let Ze=!0;for(let gt=0;gt<g;gt++){var H=L[gt].g;const tn=L[gt].map;if(H-=ge,H<0)ge=Math.max(0,L[gt].g-100),Ze=!1;else try{H="req"+H+"_"||"";try{var Q=tn instanceof Map?tn:Object.entries(tn);for(const[es,mi]of Q){let pi=mi;y(mi)&&(pi=Gn(mi)),bt.push(H+es+"="+encodeURIComponent(pi))}}catch(es){throw bt.push(H+"type="+encodeURIComponent("_badmap")),es}}catch{b&&b(tn)}}if(Ze){Q=bt.join("&");break e}}Q=void 0}return u=u.i.splice(0,g),m.G=u,Q}function $l(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;pe||w(),be||(pe(),be=!0),z.add(m,u),u.A=0}}function zr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=qn(E(u.Da,u),Fl(u,u.A)),u.A++,!0)}i.Da=function(){if(this.v=null,Xl(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=qn(E(this.Wa,this),u)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pt(10),Ms(this),Xl(this))};function Co(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Xl(u){u.g=new dn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=xt(u.na);Ge(m,"RID","rpc"),Ge(m,"SID",u.M),Ge(m,"AID",u.K),Ge(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ge(m,"TO",u.ia),Ge(m,"TYPE","xmlhttp"),Dr(u,m),u.u&&u.o&&Cr(m,u.u,u.o),u.O&&(u.g.H=u.O);var g=u.g;u=u.ba,g.M=1,g.A=xr(xt(m)),g.u=null,g.R=!0,Ji(g,u)}i.Va=function(){this.C!=null&&(this.C=null,Ms(this),zr(this),pt(19))};function Ta(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Yl(u,m){var g=null;if(u.g==m){Ta(u),Co(u),u.g=null;var b=2}else if(mn(u.h,m))g=m.G,xs(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){g=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=Fi(),at(b,new Wt(b,g)),ki(u)}else $l(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&Ea(u,m)||b==2&&zr(u)))switch(g&&g.length>0&&(m=u.h,m.i=m.i.concat(g)),L){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function Fl(u,m){let g=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(g*=2),g*m}function Di(u,m){if(u.j.info("Error code "+m),m==2){var g=E(u.bb,u),b=u.Ua;const L=!b;b=new Cn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Pt(b,"https"),xr(b),L?fi(b.toString(),g):Ao(b.toString(),g)}else pt(2);u.I=0,u.l&&u.l.pa(m),Kl(u),ba(u)}i.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Kl(u){if(u.I=0,u.ja=[],u.l){const m=Ns(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Jl(u,m,g){var b=g instanceof Cn?xt(g):new Cn(g);if(b.g!="")m&&(b.g=m+"."+b.g),Os(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const H=new Cn(null);b&&Pt(H,b),m&&(H.g=m),L&&Os(H,L),g&&(H.h=g),b=H}return g=u.G,m=u.wa,g&&m&&Ge(b,g,m),Ge(b,"VER",u.ka),Dr(u,b),b}function Ql(u,m,g){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new et(new Oi({ab:g})):new et(u.ma),m.Fa(u.L),m}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wl(){}i=Wl.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function en(u,m){it.call(this),this.g=new Is(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!T(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!T(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ls(this)}R(en,it),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){No(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.v&&(g={},g.__data__=Gn(u),u=g);m.i.push(new ve(m.Ya++,u)),m.I==3&&ki(m)},en.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,en.Z.N.call(this)};function eu(u){dt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const g in m){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}R(eu,dt);function tu(){mt.call(this),this.status=1}R(tu,mt);function Ls(u){this.g=u}R(Ls,Wl),Ls.prototype.ra=function(){at(this.g,"a")},Ls.prototype.qa=function(u){at(this.g,new eu(u))},Ls.prototype.pa=function(u){at(this.g,new tu)},Ls.prototype.oa=function(){at(this.g,"b")},en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,Ki.NO_ERROR=0,Ki.TIMEOUT=8,Ki.HTTP_ERROR=6,Er.COMPLETE="complete",ha.EventType=Qt,Qt.OPEN="a",Qt.CLOSE="b",Qt.ERROR="c",Qt.MESSAGE="d",it.prototype.listen=it.prototype.J,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa}).apply(typeof lc<"u"?lc:typeof self<"u"?self:typeof window<"u"?window:{});class Un{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");let Jc="12.8.0";function Bw(i){Jc=i}const Dc=new $d("@firebase/firestore");function Ti(i,...t){if(Dc.logLevel<=Zc.DEBUG){const r=t.map(E_);Dc.debug(`Firestore (${Jc}): ${i}`,...r)}}function b_(i,...t){if(Dc.logLevel<=Zc.ERROR){const r=t.map(E_);Dc.error(`Firestore (${Jc}): ${i}`,...r)}}function E_(i){if(typeof i=="string")return i;try{return(function(r){return JSON.stringify(r)})(i)}catch{return i}}function zc(i,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,T_(i,a,r)}function T_(i,t,r){let a=`FIRESTORE (${Jc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(r!==void 0)try{a+=" CONTEXT: "+JSON.stringify(r)}catch{a+=" CONTEXT: "+r}throw b_(a),new Error(a)}function Tl(i,t,r,a){let l="Unexpected state";typeof r=="string"?l=r:a=r,i||T_(t,l,a)}const He={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class Be extends aa{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Al{constructor(){this.promise=new Promise(((t,r)=>{this.resolve=t,this.reject=r}))}}class Gw{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Zw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable((()=>r(Un.UNAUTHENTICATED)))}shutdown(){}}class qw{constructor(t){this.t=t,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Tl(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,r(_)):Promise.resolve();let h=new Al;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Al,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=h;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},y=_=>{Ti("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>y(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(Ti("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Al)}}),0),d()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((a=>this.i!==t?(Ti("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Tl(typeof a.accessToken=="string",31837,{l:a}),new Gw(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Tl(t===null||typeof t=="string",2055,{h:t}),new Un(t)}}class $w{constructor(t,r,a){this.P=t,this.T=r,this.I=a,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Xw{constructor(t,r,a){this.P=t,this.T=r,this.I=a}getToken(){return Promise.resolve(new $w(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable((()=>r(Un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Tv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yw{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Tl(this.o===void 0,3512);const a=h=>{h.error!=null&&Ti("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,Ti("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?r(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>a(h)))};const l=h=>{Ti("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>l(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):Ti("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Tv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((r=>r?(Tl(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new Tv(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Fw(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let a=0;a<i;a++)r[a]=Math.floor(256*Math.random());return r}class Kw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Fw(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<r&&(a+=t.charAt(l[h]%62))}return a}}function pr(i,t){return i<t?-1:i>t?1:0}function Jw(i,t){const r=Math.min(i.length,t.length);for(let a=0;a<r;a++){const l=i.charAt(a),h=t.charAt(a);if(l!==h)return md(l)===md(h)?pr(l,h):md(l)?1:-1}return pr(i.length,t.length)}const Qw=55296,Ww=57343;function md(i){const t=i.charCodeAt(0);return t>=Qw&&t<=Ww}const Av="__name__";class ji{constructor(t,r,a){r===void 0?r=0:r>t.length&&zc(637,{offset:r,range:t.length}),a===void 0?a=t.length-r:a>t.length-r&&zc(1746,{length:a,range:t.length-r}),this.segments=t,this.offset=r,this.len=a}get length(){return this.len}isEqual(t){return ji.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof ji?t.forEach((a=>{r.push(a)})):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,a=this.limit();r<a;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const a=Math.min(t.length,r.length);for(let l=0;l<a;l++){const h=ji.compareSegments(t.get(l),r.get(l));if(h!==0)return h}return pr(t.length,r.length)}static compareSegments(t,r){const a=ji.isNumericId(t),l=ji.isNumericId(r);return a&&!l?-1:!a&&l?1:a&&l?ji.extractNumericId(t).compare(ji.extractNumericId(r)):Jw(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return nm.fromString(t.substring(4,t.length-2))}}class Si extends ji{construct(t,r,a){return new Si(t,r,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const a of t){if(a.indexOf("//")>=0)throw new Be(He.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);r.push(...a.split("/").filter((l=>l.length>0)))}return new Si(r)}static emptyPath(){return new Si([])}}const e2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jr extends ji{construct(t,r,a){return new Jr(t,r,a)}static isValidIdentifier(t){return e2.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jr.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Av}static keyField(){return new Jr([Av])}static fromServerFormat(t){const r=[];let a="",l=0;const h=()=>{if(a.length===0)throw new Be(He.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(a),a=""};let d=!1;for(;l<t.length;){const y=t[l];if(y==="\\"){if(l+1===t.length)throw new Be(He.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new Be(He.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else y==="`"?(d=!d,l++):y!=="."||d?(a+=y,l++):(h(),l++)}if(h(),d)throw new Be(He.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Jr(r)}static emptyPath(){return new Jr([])}}class Qr{constructor(t){this.path=t}static fromPath(t){return new Qr(Si.fromString(t))}static fromName(t){return new Qr(Si.fromString(t).popFirst(5))}static empty(){return new Qr(Si.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Si.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Si.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Qr(new Si(t.slice()))}}function t2(i,t,r,a){if(t===!0&&a===!0)throw new Be(He.INVALID_ARGUMENT,`${i} and ${r} cannot be used together.`)}function n2(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function kt(i,t){const r={typeString:i};return t&&(r.value=t),r}function Pl(i,t){if(!n2(i))throw new Be(He.INVALID_ARGUMENT,"JSON must be an object");let r;for(const a in t)if(t[a]){const l=t[a].typeString,h="value"in t[a]?{value:t[a].value}:void 0;if(!(a in i)){r=`JSON missing required field: '${a}'`;break}const d=i[a];if(l&&typeof d!==l){r=`JSON field '${a}' must be a ${l}.`;break}if(h!==void 0&&d!==h.value){r=`Expected '${a}' field to equal '${h.value}'`;break}}if(r)throw new Be(He.INVALID_ARGUMENT,r);return!0}const wv=-62135596800,xv=1e6;class Pi{static now(){return Pi.fromMillis(Date.now())}static fromDate(t){return Pi.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),a=Math.floor((t-1e3*r)*xv);return new Pi(r,a)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Be(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Be(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<wv)throw new Be(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Be(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xv}_compareTo(t){return this.seconds===t.seconds?pr(this.nanoseconds,t.nanoseconds):pr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Pi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Pl(t,Pi._jsonSchema))return new Pi(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-wv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Pi._jsonSchemaVersion="firestore/timestamp/1.0",Pi._jsonSchema={type:kt("string",Pi._jsonSchemaVersion),seconds:kt("number"),nanoseconds:kt("number")};function i2(i){return i.name==="IndexedDbTransactionError"}class s2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ra{constructor(t){this.binaryString=t}static fromBase64String(t){const r=(function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new s2("Invalid base64 string: "+h):h}})(t);return new ra(r)}static fromUint8Array(t){const r=(function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h})(t);return new ra(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const a=new Uint8Array(r.length);for(let l=0;l<r.length;l++)a[l]=r.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return pr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ra.EMPTY_BYTE_STRING=new ra("");const Nv="(default)";class Ic{constructor(t,r){this.projectId=t,this.database=r||Nv}static empty(){return new Ic("","")}get isDefaultDatabase(){return this.database===Nv}isEqual(t){return t instanceof Ic&&t.projectId===this.projectId&&t.database===this.database}}function r2(i,t){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Be(He.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ic(i.options.projectId,t)}class a2{constructor(t,r=null,a=[],l=[],h=null,d="F",y=null,_=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=d,this.startAt=y,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function o2(i){return new a2(i)}var Ov,Le;(Le=Ov||(Ov={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";new nm([4294967295,4294967295],0);const l2=41943040;const u2=1048576;function pd(){return typeof document<"u"?document:null}class c2{constructor(t,r,a=1e3,l=1.5,h=6e4){this.Ci=t,this.timerId=r,this.R_=a,this.A_=l,this.V_=h,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const r=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,r-a);l>0&&Ti("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${r} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}class im{constructor(t,r,a,l,h){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Al,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,r,a,l,h){const d=Date.now()+a,y=new im(t,r,d,l,h);return y.start(a),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Be(He.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Cv,Rv;(Rv=Cv||(Cv={})).Ma="default",Rv.Cache="cache";function f2(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}const h2="ComponentProvider",kv=new Map;const d2="firestore.googleapis.com",Dv=!0;class zv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Be(He.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=d2,this.ssl=Dv}else this.host=t.host,this.ssl=t.ssl??Dv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=l2;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<u2)throw new Be(He.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}t2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f2(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Be(He.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Be(He.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Be(He.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class m2{constructor(t,r,a,l){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Be(He.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Be(He.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new zv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new Zw;switch(a.type){case"firstParty":return new Xw(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Be(He.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const a=kv.get(r);a&&(Ti(h2,"Removing Datastore"),kv.delete(r),a.terminate())})(this),Promise.resolve()}}class sm{constructor(t,r,a){this.converter=r,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new sm(this.firestore,t,this._query)}}class Vi{constructor(t,r,a){this.converter=r,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rm(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Vi(this.firestore,t,this._key)}toJSON(){return{type:Vi._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,r,a){if(Pl(r,Vi._jsonSchema))return new Vi(t,a||null,new Qr(Si.fromString(r.referencePath)))}}Vi._jsonSchemaVersion="firestore/documentReference/1.0",Vi._jsonSchema={type:kt("string",Vi._jsonSchemaVersion),referencePath:kt("string")};class rm extends sm{constructor(t,r,a){super(t,r,o2(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Vi(this.firestore,null,new Qr(t))}withConverter(t){return new rm(this.firestore,t,this._path)}}const Iv="AsyncQueue";class Mv{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new c2(this,"async_queue_retry"),this._c=()=>{const a=pd();a&&Ti(Iv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const r=pd();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const r=pd();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Al;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!i2(t))throw t;Ti(Iv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const r=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,b_("INTERNAL UNHANDLED ERROR: ",Lv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=r,r}enqueueAfterDelay(t,r,a){this.uc(),this.oc.indexOf(t)>-1&&(r=0);const l=im.createAndSchedule(this,t,r,a,(h=>this.hc(h)));return this.tc.push(l),l}uc(){this.nc&&zc(47125,{Pc:Lv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const r of this.tc)if(r.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((r,a)=>r.targetTimeMs-a.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const r=this.tc.indexOf(t);this.tc.splice(r,1)}}function Lv(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}class p2 extends m2{constructor(t,r,a,l){super(t,r,a,l),this.type="firestore",this._queue=new Mv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Mv(t),this._firestoreClient=void 0,await t}}}class vs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new vs(ra.fromBase64String(t))}catch(r){throw new Be(He.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new vs(ra.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:vs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Pl(t,vs._jsonSchema))return vs.fromBase64String(t.bytes)}}vs._jsonSchemaVersion="firestore/bytes/1.0",vs._jsonSchema={type:kt("string",vs._jsonSchemaVersion),bytes:kt("string")};class A_{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Be(He.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Wr{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Be(He.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Be(He.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return pr(this._lat,t._lat)||pr(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wr._jsonSchemaVersion}}static fromJSON(t){if(Pl(t,Wr._jsonSchema))return new Wr(t.latitude,t.longitude)}}Wr._jsonSchemaVersion="firestore/geoPoint/1.0",Wr._jsonSchema={type:kt("string",Wr._jsonSchemaVersion),latitude:kt("number"),longitude:kt("number")};class ea{constructor(t){this._values=(t||[]).map((r=>r))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ea._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Pl(t,ea._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((r=>typeof r=="number")))return new ea(t.vectorValues);throw new Be(He.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ea._jsonSchemaVersion="firestore/vectorValue/1.0",ea._jsonSchema={type:kt("string",ea._jsonSchemaVersion),vectorValues:kt("object")};function w_(i,t,r){if((t=ai(t))instanceof A_)return t._internalPath;if(typeof t=="string")return y2(i,t);throw Md("Field path arguments must be of type string or ",i)}const g2=new RegExp("[~\\*/\\[\\]]");function y2(i,t,r){if(t.search(g2)>=0)throw Md(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i);try{return new A_(...t.split("."))._internalPath}catch{throw Md(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i)}}function Md(i,t,r,a,l){let h=`Function ${t}() called with invalid data`;h+=". ";let d="";return new Be(He.INVALID_ARGUMENT,h+i+d)}const Uv="@firebase/firestore",jv="4.10.0";class x_{constructor(t,r,a,l,h){this._firestore=t,this._userDataWriter=r,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Vi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new v2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const r=this._document.data.field(w_("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class v2 extends x_{data(){return super.data()}}class uc{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class lo extends x_{constructor(t,r,a,l,h,d){super(t,r,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const a=this._document.data.field(w_("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Be(He.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,r={};return r.type=lo._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}lo._jsonSchemaVersion="firestore/documentSnapshot/1.0",lo._jsonSchema={type:kt("string",lo._jsonSchemaVersion),bundleSource:kt("string","DocumentSnapshot"),bundleName:kt("string"),bundle:kt("string")};class Ec extends lo{data(t={}){return super.data(t)}}class wl{constructor(t,r,a,l){this._firestore=t,this._userDataWriter=r,this._snapshot=l,this.metadata=new uc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((r=>t.push(r))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach((a=>{t.call(r,new Ec(this._firestore,this._userDataWriter,a.key,a,new uc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Be(He.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((y=>{const _=new Ec(l._firestore,l._userDataWriter,y.doc.key,y.doc,new uc(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((y=>h||y.type!==3)).map((y=>{const _=new Ec(l._firestore,l._userDataWriter,y.doc.key,y.doc,new uc(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let E=-1,C=-1;return y.type!==0&&(E=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),C=d.indexOf(y.doc.key)),{type:_2(y.type),doc:_,oldIndex:E,newIndex:C}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Be(He.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=wl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Kw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],a=[],l=[];return this.docs.forEach((h=>{h._document!==null&&(r.push(h._document),a.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),l.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function _2(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zc(61501,{type:i})}}wl._jsonSchemaVersion="firestore/querySnapshot/1.0",wl._jsonSchema={type:kt("string",wl._jsonSchemaVersion),bundleSource:kt("string","QuerySnapshot"),bundleName:kt("string"),bundle:kt("string")};(function(t,r=!0){Bw(go),na(new mr("firestore",((a,{instanceIdentifier:l,options:h})=>{const d=a.getProvider("app").getImmediate(),y=new p2(new qw(a.getProvider("auth-internal")),new Yw(d,a.getProvider("app-check-internal")),r2(d,l),d);return h={useFetchStreams:r,...h},y._setSettings(h),y}),"PUBLIC").setMultipleInstances(!0)),Hi(Uv,jv,t),Hi(Uv,jv,"esm2020")})();const N_={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},S2=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1");let cc=null,gd=null,fc=null;function O_(){if(!cc){const i=lA();i.length>0?cc=i[0]:cc=M0(N_)}return cc}function yd(){return gd||(gd=Vw(O_())),gd}function Dl(){if(!fc&&(fc=jA(O_()),S2&&typeof window<"u"&&new URLSearchParams(window.location.search).get("emulator")==="true"))try{B0(fc,"localhost",5001)}catch{}return fc}function fr(){const i=N_.apiKey;if(!i||i.length<10)return!1;const t=["YOUR_API_KEY","your-api-key","YOUR-API-KEY","PLACEHOLDER","placeholder","API_KEY","api-key","xxx"],r=i.toLowerCase();return!t.some(a=>r.includes(a.toLowerCase()))}const b2=5e3,E2=2e3,C_=3e4,R_=30*1e3,k_=2e3,T2=["wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net","wss://relay.nostr.bg","wss://nostr-pub.wellorder.net","wss://nostr.mom"],A2=["none","learning","familiar","mastered"];function Pv(i){return A2.indexOf(i)}function w2(i,t){return Pv(i)>=Pv(t)?i:t}function Ld(i,t){return i?t?new Date(i)<new Date(t)?i:t:i:t}function x2(i,t){const r=new Set,a=[];for(const l of[...i,...t]){const h=`${l.timestamp}-${l.difficulty}-${l.score}`;r.has(h)||(r.add(h),a.push(l))}return a.sort((l,h)=>new Date(l.timestamp).getTime()-new Date(h.timestamp).getTime())}function N2(i,t){return i?t?{sectionId:i.sectionId,visitedAt:Ld(i.visitedAt,t.visitedAt),completedAt:Ld(i.completedAt,t.completedAt),timeSpentSeconds:Math.max(i.timeSpentSeconds,t.timeSpentSeconds),quizAttempts:x2(i.quizAttempts,t.quizAttempts),masteryLevel:w2(i.masteryLevel,t.masteryLevel),visualizationsInteracted:[...new Set([...i.visualizationsInteracted,...t.visualizationsInteracted])]}:i:t}function O2(i,t){const r=new Set([...Object.keys(i),...Object.keys(t)]),a={};for(const l of r){const h=N2(i[l],t[l]);h&&(a[l]=h)}return a}function C2(i,t){return{totalXP:Math.max(i.totalXP,t.totalXP),level:Math.max(i.level,t.level),sectionsCompleted:[...new Set([...i.sectionsCompleted,...t.sectionsCompleted])],partsCompleted:[...new Set([...i.partsCompleted,...t.partsCompleted])],quizzesTaken:Math.max(i.quizzesTaken,t.quizzesTaken),perfectQuizzes:Math.max(i.perfectQuizzes,t.perfectQuizzes),visualizationsUsed:Math.max(i.visualizationsUsed,t.visualizationsUsed),totalTimeSpentMinutes:Math.max(i.totalTimeSpentMinutes,t.totalTimeSpentMinutes),joinedAt:Ld(i.joinedAt,t.joinedAt)||i.joinedAt}}function R2(i,t){const r=new Map;for(const a of[...t,...i]){const l=r.get(a.id);l?(a.unlockedAt&&!l.unlockedAt||!a.unlockedAt&&!l.unlockedAt&&a.progress>l.progress)&&r.set(a.id,a):r.set(a.id,a)}return Array.from(r.values())}function k2(i,t){return{...i.longestStreak>=t.longestStreak?i:t,longestStreak:Math.max(i.longestStreak,t.longestStreak),freezesRemaining:Math.max(i.freezesRemaining,t.freezesRemaining)}}function D2(i,t){return i.date>t.date?i:t.date>i.date?t:{date:i.date,xpEarned:Math.max(i.xpEarned,t.xpEarned),xpGoal:i.xpGoal,completed:i.completed||t.completed}}function z2(i,t){return{version:Math.max(i.version,t.version),user:C2(i.user,t.user),sections:O2(i.sections,t.sections),achievements:R2(i.achievements,t.achievements),streak:k2(i.streak,t.streak),dailyGoals:D2(i.dailyGoals,t.dailyGoals),lastUpdated:new Date().toISOString()}}const ys=Zi("ProgressSync");class I2{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.lastSyncedAt=null,this.isAuthenticated=!1,this.pendingState=null,this._status="idle",this.statusListeners=new Set,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)}}get status(){return this._status}onStatusChange(t){return this.statusListeners.add(t),()=>this.statusListeners.delete(t)}setStatus(t){this._status=t;for(const r of this.statusListeners)r(t)}setAuthenticated(t){this.isAuthenticated=t,t||(this.lastSyncedAt=null)}getLastSyncedAt(){return this.lastSyncedAt}setLastSyncedAt(t){this.lastSyncedAt=t}async fetchServerProgress(){if(!this.isAuthenticated)return{found:!1,progress:null,lastSyncedAt:null};if(!fr())return ys.warn("Firebase not configured, cannot fetch progress"),{found:!1,progress:null,lastSyncedAt:null};try{const t=Dl(),a=await fo(t,"getProgress")({});return a.data.found&&a.data.progress&&(this.lastSyncedAt=a.data.lastSyncedAt,ys.info("Fetched progress from server")),a.data}catch(t){return ys.error("Failed to fetch progress from server:",t),{found:!1,progress:null,lastSyncedAt:null}}}async migrateLocalProgress(t){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};ys.info("Starting migration of local progress to server");const r=await this.fetchServerProgress();let a;r.found&&r.progress?(ys.info("Server has existing progress, merging with local"),a=z2(t,r.progress)):a=t;const l=await this.syncNow(a);return l.success?(ys.info("Migration complete"),{success:!0,state:l.state||a,merged:r.found}):l}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)},R_),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(t){this.isAuthenticated&&(this.pendingState=t,this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow(t)},k_))}async syncNow(t){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!fr())return{success:!1,error:"Firebase not configured"};const r=Date.now();if(r-this.lastSyncTime<C_)return{success:!1,error:"Rate limited"};this.setStatus("syncing");try{const a=Dl(),h=await fo(a,"syncProgress")({progress:t,lastSyncedAt:this.lastSyncedAt});return this.lastSyncTime=r,this.lastSyncedAt=h.data.lastSyncedAt,this.pendingState=null,h.data.merged&&h.data.serverProgress?(ys.info("Server merged states due to conflict"),qc(h.data.serverProgress),this.setStatus("success"),{success:!0,state:h.data.serverProgress,merged:!0}):(this.setStatus("success"),{success:!0,state:t,merged:!1})}catch(a){return ys.error("Sync failed:",a),this.setStatus("error"),{success:!1,error:a instanceof Error?a.message:"Unknown error"}}}async syncWithRetry(t,r=3){for(let a=0;a<r;a++){const l=await this.syncNow(t);if(l.success||l.error==="Not authenticated"||l.error==="Firebase not configured")return l;if(a<r-1){const h=1e3*Math.pow(2,a);ys.debug(`Sync retry ${a+1}/${r} in ${h}ms`),await new Promise(d=>setTimeout(d,h)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}}let vd=null;function Vv(){return vd||(vd=new I2),vd}const Kr=Zi("NostrUtils"),Ud="qpzry9x8gf2tvdw0s3jn54khce6mua7l",M2=[996825010,642813549,513874426,1027748829,705979059];function D_(i){let t=1;for(const r of i){const a=t>>25;t=(t&33554431)<<5^r;for(let l=0;l<5;l++)a>>l&1&&(t^=M2[l])}return t}function z_(i){const t=[];for(const r of i)t.push(r.charCodeAt(0)>>5);t.push(0);for(const r of i)t.push(r.charCodeAt(0)&31);return t}function L2(i,t){return D_([...z_(i),...t])===1}function U2(i,t){const r=[...z_(i),...t,0,0,0,0,0,0],a=D_(r)^1,l=[];for(let h=0;h<6;h++)l.push(a>>5*(5-h)&31);return l}function I_(i,t,r,a){let l=0,h=0;const d=[],y=(1<<r)-1;for(const _ of i){if(_<0||_>>t!==0)return null;for(l=l<<t|_,h+=t;h>=r;)h-=r,d.push(l>>h&y)}if(a)h>0&&d.push(l<<r-h&y);else if(h>=t||l<<r-h&y)return null;return d}function j2(i,t){const r=I_(t,8,5,!0);if(!r)throw new Error("Failed to convert data to 5-bit groups");const a=U2(i,r);let l=i+"1";for(const h of r)l+=Ud[h];for(const h of a)l+=Ud[h];return l}function P2(i){const t=i.toLowerCase(),r=i.toUpperCase();if(i!==t&&i!==r)return null;const a=t,l=a.lastIndexOf("1");if(l<1||l+7>a.length||a.length>90)return null;const h=a.slice(0,l),d=a.slice(l+1),y=[];for(const C of d){const R=Ud.indexOf(C);if(R===-1)return null;y.push(R)}if(!L2(h,y))return null;const _=y.slice(0,-6),E=I_(new Uint8Array(_),5,8,!1);return E?{hrp:h,data:new Uint8Array(E)}:null}function V2(i){if(i.length%2!==0)throw new Error("Hex string must have even length");const t=new Uint8Array(i.length/2);for(let r=0;r<i.length;r+=2)t[r/2]=parseInt(i.slice(r,r+2),16);return t}function H2(i){return Array.from(i).map(t=>t.toString(16).padStart(2,"0")).join("")}function B2(i){if(i.length!==64)throw new Error("Pubkey must be 32 bytes (64 hex characters)");const t=V2(i);return j2("npub",t)}function G2(i){const t=P2(i);if(!t||t.hrp!=="npub")throw new Error("Invalid npub");return H2(t.data)}function uk(i,t=8){return i.length<=t*2+3?i:`${i.slice(0,t)}...${i.slice(-t)}`}function Mc(){return typeof window<"u"&&typeof window.nostr<"u"}function Z2(i=3e3){return new Promise(t=>{if(Mc()){t(!0);return}const r=Date.now(),a=setInterval(()=>{Mc()?(clearInterval(a),t(!0)):Date.now()-r>i&&(clearInterval(a),t(!1))},100)})}function q2(i,t){return new Promise(r=>{let a=!1,l=null,h=null;const d=()=>{if(!a&&(a=!0,h&&(clearTimeout(h),h=null),l&&l.readyState!==WebSocket.CLOSED&&l.readyState!==WebSocket.CLOSING))try{l.close()}catch(_){Kr.debug(`Error closing WebSocket for ${i}:`,_)}};h=setTimeout(()=>{Kr.debug(`WebSocket timeout for relay: ${i}`),d(),r(null)},b2);try{l=new WebSocket(i)}catch(_){Kr.debug(`Failed to create WebSocket for relay ${i}:`,_),d(),r(null);return}const y=Math.random().toString(36).substring(2,15);l.onopen=()=>{if(!(a||!l))try{const _=JSON.stringify(["REQ",y,{kinds:[0],authors:[t],limit:1}]);l.send(_)}catch(_){Kr.debug(`Failed to send subscription to ${i}:`,_),d(),r(null)}},l.onmessage=_=>{if(!a)try{const E=JSON.parse(_.data);if(E[0]==="EVENT"&&E[1]===y){const C=JSON.parse(E[2].content);d(),r({name:C.name||C.display_name,display_name:C.display_name,nip05:C.nip05,picture:C.picture,about:C.about})}else E[0]==="EOSE"&&(d(),r(null))}catch(E){Kr.debug(`Failed to parse WebSocket message from ${i}:`,E)}},l.onerror=_=>{Kr.debug(`WebSocket error for relay ${i}:`,_),d(),r(null)},l.onclose=_=>{a||(Kr.debug(`WebSocket closed for ${i}, code: ${_.code}, reason: ${_.reason}`),d(),r(null))}})}const $2=22242;function X(i,t,r){function a(y,_){if(y._zod||Object.defineProperty(y,"_zod",{value:{def:_,constr:d,traits:new Set},enumerable:!1}),y._zod.traits.has(i))return;y._zod.traits.add(i),t(y,_);const E=d.prototype,C=Object.keys(E);for(let R=0;R<C.length;R++){const U=C[R];U in y||(y[U]=E[U].bind(y))}}const l=r?.Parent??Object;class h extends l{}Object.defineProperty(h,"name",{value:i});function d(y){var _;const E=r?.Parent?new h:this;a(E,y),(_=E._zod).deferred??(_.deferred=[]);for(const C of E._zod.deferred)C();return E}return Object.defineProperty(d,"init",{value:a}),Object.defineProperty(d,Symbol.hasInstance,{value:y=>r?.Parent&&y instanceof r.Parent?!0:y?._zod?.traits?.has(i)}),Object.defineProperty(d,"name",{value:i}),d}class uo extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class M_ extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const L_={};function gr(i){return L_}function U_(i){const t=Object.values(i).filter(a=>typeof a=="number");return Object.entries(i).filter(([a,l])=>t.indexOf(+a)===-1).map(([a,l])=>l)}function jd(i,t){return typeof t=="bigint"?t.toString():t}function am(i){return{get value(){{const t=i();return Object.defineProperty(this,"value",{value:t}),t}}}}function om(i){return i==null}function lm(i){const t=i.startsWith("^")?1:0,r=i.endsWith("$")?i.length-1:i.length;return i.slice(t,r)}function X2(i,t){const r=(i.toString().split(".")[1]||"").length,a=t.toString();let l=(a.split(".")[1]||"").length;if(l===0&&/\d?e-\d?/.test(a)){const _=a.match(/\d?e-(\d?)/);_?.[1]&&(l=Number.parseInt(_[1]))}const h=r>l?r:l,d=Number.parseInt(i.toFixed(h).replace(".","")),y=Number.parseInt(t.toFixed(h).replace(".",""));return d%y/10**h}const Hv=Symbol("evaluating");function Xe(i,t,r){let a;Object.defineProperty(i,t,{get(){if(a!==Hv)return a===void 0&&(a=Hv,a=r()),a},set(l){Object.defineProperty(i,t,{value:l})},configurable:!0})}function oa(i,t,r){Object.defineProperty(i,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function vr(...i){const t={};for(const r of i){const a=Object.getOwnPropertyDescriptors(r);Object.assign(t,a)}return Object.defineProperties({},t)}function Bv(i){return JSON.stringify(i)}function Y2(i){return i.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const j_="captureStackTrace"in Error?Error.captureStackTrace:(...i)=>{};function Lc(i){return typeof i=="object"&&i!==null&&!Array.isArray(i)}const F2=am(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const i=Function;return new i(""),!0}catch{return!1}});function ho(i){if(Lc(i)===!1)return!1;const t=i.constructor;if(t===void 0||typeof t!="function")return!0;const r=t.prototype;return!(Lc(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function P_(i){return ho(i)?{...i}:Array.isArray(i)?[...i]:i}const K2=new Set(["string","number","symbol"]);function Qc(i){return i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _r(i,t,r){const a=new i._zod.constr(t??i._zod.def);return(!t||r?.parent)&&(a._zod.parent=i),a}function fe(i){const t=i;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function J2(i){return Object.keys(i).filter(t=>i[t]._zod.optin==="optional"&&i[t]._zod.optout==="optional")}const Q2={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function W2(i,t){const r=i._zod.def,a=r.checks;if(a&&a.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const h=vr(i._zod.def,{get shape(){const d={};for(const y in t){if(!(y in r.shape))throw new Error(`Unrecognized key: "${y}"`);t[y]&&(d[y]=r.shape[y])}return oa(this,"shape",d),d},checks:[]});return _r(i,h)}function ex(i,t){const r=i._zod.def,a=r.checks;if(a&&a.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const h=vr(i._zod.def,{get shape(){const d={...i._zod.def.shape};for(const y in t){if(!(y in r.shape))throw new Error(`Unrecognized key: "${y}"`);t[y]&&delete d[y]}return oa(this,"shape",d),d},checks:[]});return _r(i,h)}function tx(i,t){if(!ho(t))throw new Error("Invalid input to extend: expected a plain object");const r=i._zod.def.checks;if(r&&r.length>0){const h=i._zod.def.shape;for(const d in t)if(Object.getOwnPropertyDescriptor(h,d)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const l=vr(i._zod.def,{get shape(){const h={...i._zod.def.shape,...t};return oa(this,"shape",h),h}});return _r(i,l)}function nx(i,t){if(!ho(t))throw new Error("Invalid input to safeExtend: expected a plain object");const r=vr(i._zod.def,{get shape(){const a={...i._zod.def.shape,...t};return oa(this,"shape",a),a}});return _r(i,r)}function ix(i,t){const r=vr(i._zod.def,{get shape(){const a={...i._zod.def.shape,...t._zod.def.shape};return oa(this,"shape",a),a},get catchall(){return t._zod.def.catchall},checks:[]});return _r(i,r)}function sx(i,t,r){const l=t._zod.def.checks;if(l&&l.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const d=vr(t._zod.def,{get shape(){const y=t._zod.def.shape,_={...y};if(r)for(const E in r){if(!(E in y))throw new Error(`Unrecognized key: "${E}"`);r[E]&&(_[E]=i?new i({type:"optional",innerType:y[E]}):y[E])}else for(const E in y)_[E]=i?new i({type:"optional",innerType:y[E]}):y[E];return oa(this,"shape",_),_},checks:[]});return _r(t,d)}function rx(i,t,r){const a=vr(t._zod.def,{get shape(){const l=t._zod.def.shape,h={...l};if(r)for(const d in r){if(!(d in h))throw new Error(`Unrecognized key: "${d}"`);r[d]&&(h[d]=new i({type:"nonoptional",innerType:l[d]}))}else for(const d in l)h[d]=new i({type:"nonoptional",innerType:l[d]});return oa(this,"shape",h),h}});return _r(t,a)}function io(i,t=0){if(i.aborted===!0)return!0;for(let r=t;r<i.issues.length;r++)if(i.issues[r]?.continue!==!0)return!0;return!1}function so(i,t){return t.map(r=>{var a;return(a=r).path??(a.path=[]),r.path.unshift(i),r})}function hc(i){return typeof i=="string"?i:i?.message}function yr(i,t,r){const a={...i,path:i.path??[]};if(!i.message){const l=hc(i.inst?._zod.def?.error?.(i))??hc(t?.error?.(i))??hc(r.customError?.(i))??hc(r.localeError?.(i))??"Invalid input";a.message=l}return delete a.inst,delete a.continue,t?.reportInput||delete a.input,a}function um(i){return Array.isArray(i)?"array":typeof i=="string"?"string":"unknown"}function zl(...i){const[t,r,a]=i;return typeof t=="string"?{message:t,code:"custom",input:r,inst:a}:{...t}}const V_=(i,t)=>{i.name="$ZodError",Object.defineProperty(i,"_zod",{value:i._zod,enumerable:!1}),Object.defineProperty(i,"issues",{value:t,enumerable:!1}),i.message=JSON.stringify(t,jd,2),Object.defineProperty(i,"toString",{value:()=>i.message,enumerable:!1})},H_=X("$ZodError",V_),B_=X("$ZodError",V_,{Parent:Error});function ax(i,t=r=>r.message){const r={},a=[];for(const l of i.issues)l.path.length>0?(r[l.path[0]]=r[l.path[0]]||[],r[l.path[0]].push(t(l))):a.push(t(l));return{formErrors:a,fieldErrors:r}}function ox(i,t=r=>r.message){const r={_errors:[]},a=l=>{for(const h of l.issues)if(h.code==="invalid_union"&&h.errors.length)h.errors.map(d=>a({issues:d}));else if(h.code==="invalid_key")a({issues:h.issues});else if(h.code==="invalid_element")a({issues:h.issues});else if(h.path.length===0)r._errors.push(t(h));else{let d=r,y=0;for(;y<h.path.length;){const _=h.path[y];y===h.path.length-1?(d[_]=d[_]||{_errors:[]},d[_]._errors.push(t(h))):d[_]=d[_]||{_errors:[]},d=d[_],y++}}};return a(i),r}const cm=i=>(t,r,a,l)=>{const h=a?Object.assign(a,{async:!1}):{async:!1},d=t._zod.run({value:r,issues:[]},h);if(d instanceof Promise)throw new uo;if(d.issues.length){const y=new(l?.Err??i)(d.issues.map(_=>yr(_,h,gr())));throw j_(y,l?.callee),y}return d.value},fm=i=>async(t,r,a,l)=>{const h=a?Object.assign(a,{async:!0}):{async:!0};let d=t._zod.run({value:r,issues:[]},h);if(d instanceof Promise&&(d=await d),d.issues.length){const y=new(l?.Err??i)(d.issues.map(_=>yr(_,h,gr())));throw j_(y,l?.callee),y}return d.value},Wc=i=>(t,r,a)=>{const l=a?{...a,async:!1}:{async:!1},h=t._zod.run({value:r,issues:[]},l);if(h instanceof Promise)throw new uo;return h.issues.length?{success:!1,error:new(i??H_)(h.issues.map(d=>yr(d,l,gr())))}:{success:!0,data:h.value}},lx=Wc(B_),ef=i=>async(t,r,a)=>{const l=a?Object.assign(a,{async:!0}):{async:!0};let h=t._zod.run({value:r,issues:[]},l);return h instanceof Promise&&(h=await h),h.issues.length?{success:!1,error:new i(h.issues.map(d=>yr(d,l,gr())))}:{success:!0,data:h.value}},ux=ef(B_),cx=i=>(t,r,a)=>{const l=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return cm(i)(t,r,l)},fx=i=>(t,r,a)=>cm(i)(t,r,a),hx=i=>async(t,r,a)=>{const l=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return fm(i)(t,r,l)},dx=i=>async(t,r,a)=>fm(i)(t,r,a),mx=i=>(t,r,a)=>{const l=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return Wc(i)(t,r,l)},px=i=>(t,r,a)=>Wc(i)(t,r,a),gx=i=>async(t,r,a)=>{const l=a?Object.assign(a,{direction:"backward"}):{direction:"backward"};return ef(i)(t,r,l)},yx=i=>async(t,r,a)=>ef(i)(t,r,a),vx=/^[cC][^\s-]{8,}$/,_x=/^[0-9a-z]+$/,Sx=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,bx=/^[0-9a-vA-V]{20}$/,Ex=/^[A-Za-z0-9]{27}$/,Tx=/^[a-zA-Z0-9_-]{21}$/,Ax=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,wx=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Gv=i=>i?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${i}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,xx=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Nx="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Ox(){return new RegExp(Nx,"u")}const Cx=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Rx=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,kx=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Dx=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,zx=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,G_=/^[A-Za-z0-9_-]*$/,Ix=/^\+[1-9]\d{6,14}$/,Z_="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Mx=new RegExp(`^${Z_}$`);function q_(i){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof i.precision=="number"?i.precision===-1?`${t}`:i.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${i.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Lx(i){return new RegExp(`^${q_(i)}$`)}function Ux(i){const t=q_({precision:i.precision}),r=["Z"];i.local&&r.push(""),i.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const a=`${t}(?:${r.join("|")})`;return new RegExp(`^${Z_}T(?:${a})$`)}const jx=i=>{const t=i?`[\\s\\S]{${i?.minimum??0},${i?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Px=/^-?\d+$/,$_=/^-?\d+(?:\.\d+)?$/,Vx=/^(?:true|false)$/i,Hx=/^[^A-Z]*$/,Bx=/^[^a-z]*$/,Tn=X("$ZodCheck",(i,t)=>{var r;i._zod??(i._zod={}),i._zod.def=t,(r=i._zod).onattach??(r.onattach=[])}),X_={number:"number",bigint:"bigint",object:"date"},Y_=X("$ZodCheckLessThan",(i,t)=>{Tn.init(i,t);const r=X_[typeof t.value];i._zod.onattach.push(a=>{const l=a._zod.bag,h=(t.inclusive?l.maximum:l.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<h&&(t.inclusive?l.maximum=t.value:l.exclusiveMaximum=t.value)}),i._zod.check=a=>{(t.inclusive?a.value<=t.value:a.value<t.value)||a.issues.push({origin:r,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:a.value,inclusive:t.inclusive,inst:i,continue:!t.abort})}}),F_=X("$ZodCheckGreaterThan",(i,t)=>{Tn.init(i,t);const r=X_[typeof t.value];i._zod.onattach.push(a=>{const l=a._zod.bag,h=(t.inclusive?l.minimum:l.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>h&&(t.inclusive?l.minimum=t.value:l.exclusiveMinimum=t.value)}),i._zod.check=a=>{(t.inclusive?a.value>=t.value:a.value>t.value)||a.issues.push({origin:r,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:a.value,inclusive:t.inclusive,inst:i,continue:!t.abort})}}),Gx=X("$ZodCheckMultipleOf",(i,t)=>{Tn.init(i,t),i._zod.onattach.push(r=>{var a;(a=r._zod.bag).multipleOf??(a.multipleOf=t.value)}),i._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):X2(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:i,continue:!t.abort})}}),Zx=X("$ZodCheckNumberFormat",(i,t)=>{Tn.init(i,t),t.format=t.format||"float64";const r=t.format?.includes("int"),a=r?"int":"number",[l,h]=Q2[t.format];i._zod.onattach.push(d=>{const y=d._zod.bag;y.format=t.format,y.minimum=l,y.maximum=h,r&&(y.pattern=Px)}),i._zod.check=d=>{const y=d.value;if(r){if(!Number.isInteger(y)){d.issues.push({expected:a,format:t.format,code:"invalid_type",continue:!1,input:y,inst:i});return}if(!Number.isSafeInteger(y)){y>0?d.issues.push({input:y,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:i,origin:a,inclusive:!0,continue:!t.abort}):d.issues.push({input:y,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:i,origin:a,inclusive:!0,continue:!t.abort});return}}y<l&&d.issues.push({origin:"number",input:y,code:"too_small",minimum:l,inclusive:!0,inst:i,continue:!t.abort}),y>h&&d.issues.push({origin:"number",input:y,code:"too_big",maximum:h,inclusive:!0,inst:i,continue:!t.abort})}}),qx=X("$ZodCheckMaxLength",(i,t)=>{var r;Tn.init(i,t),(r=i._zod.def).when??(r.when=a=>{const l=a.value;return!om(l)&&l.length!==void 0}),i._zod.onattach.push(a=>{const l=a._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<l&&(a._zod.bag.maximum=t.maximum)}),i._zod.check=a=>{const l=a.value;if(l.length<=t.maximum)return;const d=um(l);a.issues.push({origin:d,code:"too_big",maximum:t.maximum,inclusive:!0,input:l,inst:i,continue:!t.abort})}}),$x=X("$ZodCheckMinLength",(i,t)=>{var r;Tn.init(i,t),(r=i._zod.def).when??(r.when=a=>{const l=a.value;return!om(l)&&l.length!==void 0}),i._zod.onattach.push(a=>{const l=a._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>l&&(a._zod.bag.minimum=t.minimum)}),i._zod.check=a=>{const l=a.value;if(l.length>=t.minimum)return;const d=um(l);a.issues.push({origin:d,code:"too_small",minimum:t.minimum,inclusive:!0,input:l,inst:i,continue:!t.abort})}}),Xx=X("$ZodCheckLengthEquals",(i,t)=>{var r;Tn.init(i,t),(r=i._zod.def).when??(r.when=a=>{const l=a.value;return!om(l)&&l.length!==void 0}),i._zod.onattach.push(a=>{const l=a._zod.bag;l.minimum=t.length,l.maximum=t.length,l.length=t.length}),i._zod.check=a=>{const l=a.value,h=l.length;if(h===t.length)return;const d=um(l),y=h>t.length;a.issues.push({origin:d,...y?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:a.value,inst:i,continue:!t.abort})}}),tf=X("$ZodCheckStringFormat",(i,t)=>{var r,a;Tn.init(i,t),i._zod.onattach.push(l=>{const h=l._zod.bag;h.format=t.format,t.pattern&&(h.patterns??(h.patterns=new Set),h.patterns.add(t.pattern))}),t.pattern?(r=i._zod).check??(r.check=l=>{t.pattern.lastIndex=0,!t.pattern.test(l.value)&&l.issues.push({origin:"string",code:"invalid_format",format:t.format,input:l.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:i,continue:!t.abort})}):(a=i._zod).check??(a.check=()=>{})}),Yx=X("$ZodCheckRegex",(i,t)=>{tf.init(i,t),i._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:i,continue:!t.abort})}}),Fx=X("$ZodCheckLowerCase",(i,t)=>{t.pattern??(t.pattern=Hx),tf.init(i,t)}),Kx=X("$ZodCheckUpperCase",(i,t)=>{t.pattern??(t.pattern=Bx),tf.init(i,t)}),Jx=X("$ZodCheckIncludes",(i,t)=>{Tn.init(i,t);const r=Qc(t.includes),a=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=a,i._zod.onattach.push(l=>{const h=l._zod.bag;h.patterns??(h.patterns=new Set),h.patterns.add(a)}),i._zod.check=l=>{l.value.includes(t.includes,t.position)||l.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:l.value,inst:i,continue:!t.abort})}}),Qx=X("$ZodCheckStartsWith",(i,t)=>{Tn.init(i,t);const r=new RegExp(`^${Qc(t.prefix)}.*`);t.pattern??(t.pattern=r),i._zod.onattach.push(a=>{const l=a._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(r)}),i._zod.check=a=>{a.value.startsWith(t.prefix)||a.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:a.value,inst:i,continue:!t.abort})}}),Wx=X("$ZodCheckEndsWith",(i,t)=>{Tn.init(i,t);const r=new RegExp(`.*${Qc(t.suffix)}$`);t.pattern??(t.pattern=r),i._zod.onattach.push(a=>{const l=a._zod.bag;l.patterns??(l.patterns=new Set),l.patterns.add(r)}),i._zod.check=a=>{a.value.endsWith(t.suffix)||a.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:a.value,inst:i,continue:!t.abort})}}),eN=X("$ZodCheckOverwrite",(i,t)=>{Tn.init(i,t),i._zod.check=r=>{r.value=t.tx(r.value)}});class tN{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const a=t.split(`
`).filter(d=>d),l=Math.min(...a.map(d=>d.length-d.trimStart().length)),h=a.map(d=>d.slice(l)).map(d=>" ".repeat(this.indent*2)+d);for(const d of h)this.content.push(d)}compile(){const t=Function,r=this?.args,l=[...(this?.content??[""]).map(h=>`  ${h}`)];return new t(...r,l.join(`
`))}}const nN={major:4,minor:3,patch:5},_t=X("$ZodType",(i,t)=>{var r;i??(i={}),i._zod.def=t,i._zod.bag=i._zod.bag||{},i._zod.version=nN;const a=[...i._zod.def.checks??[]];i._zod.traits.has("$ZodCheck")&&a.unshift(i);for(const l of a)for(const h of l._zod.onattach)h(i);if(a.length===0)(r=i._zod).deferred??(r.deferred=[]),i._zod.deferred?.push(()=>{i._zod.run=i._zod.parse});else{const l=(d,y,_)=>{let E=io(d),C;for(const R of y){if(R._zod.def.when){if(!R._zod.def.when(d))continue}else if(E)continue;const U=d.issues.length,F=R._zod.check(d);if(F instanceof Promise&&_?.async===!1)throw new uo;if(C||F instanceof Promise)C=(C??Promise.resolve()).then(async()=>{await F,d.issues.length!==U&&(E||(E=io(d,U)))});else{if(d.issues.length===U)continue;E||(E=io(d,U))}}return C?C.then(()=>d):d},h=(d,y,_)=>{if(io(d))return d.aborted=!0,d;const E=l(y,a,_);if(E instanceof Promise){if(_.async===!1)throw new uo;return E.then(C=>i._zod.parse(C,_))}return i._zod.parse(E,_)};i._zod.run=(d,y)=>{if(y.skipChecks)return i._zod.parse(d,y);if(y.direction==="backward"){const E=i._zod.parse({value:d.value,issues:[]},{...y,skipChecks:!0});return E instanceof Promise?E.then(C=>h(C,d,y)):h(E,d,y)}const _=i._zod.parse(d,y);if(_ instanceof Promise){if(y.async===!1)throw new uo;return _.then(E=>l(E,a,y))}return l(_,a,y)}}Xe(i,"~standard",()=>({validate:l=>{try{const h=lx(i,l);return h.success?{value:h.data}:{issues:h.error?.issues}}catch{return ux(i,l).then(d=>d.success?{value:d.data}:{issues:d.error?.issues})}},vendor:"zod",version:1}))}),hm=X("$ZodString",(i,t)=>{_t.init(i,t),i._zod.pattern=[...i?._zod.bag?.patterns??[]].pop()??jx(i._zod.bag),i._zod.parse=(r,a)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:i}),r}}),lt=X("$ZodStringFormat",(i,t)=>{tf.init(i,t),hm.init(i,t)}),iN=X("$ZodGUID",(i,t)=>{t.pattern??(t.pattern=wx),lt.init(i,t)}),sN=X("$ZodUUID",(i,t)=>{if(t.version){const a={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(a===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Gv(a))}else t.pattern??(t.pattern=Gv());lt.init(i,t)}),rN=X("$ZodEmail",(i,t)=>{t.pattern??(t.pattern=xx),lt.init(i,t)}),aN=X("$ZodURL",(i,t)=>{lt.init(i,t),i._zod.check=r=>{try{const a=r.value.trim(),l=new URL(a);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(l.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:r.value,inst:i,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(l.protocol.endsWith(":")?l.protocol.slice(0,-1):l.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:i,continue:!t.abort})),t.normalize?r.value=l.href:r.value=a;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:i,continue:!t.abort})}}}),oN=X("$ZodEmoji",(i,t)=>{t.pattern??(t.pattern=Ox()),lt.init(i,t)}),lN=X("$ZodNanoID",(i,t)=>{t.pattern??(t.pattern=Tx),lt.init(i,t)}),uN=X("$ZodCUID",(i,t)=>{t.pattern??(t.pattern=vx),lt.init(i,t)}),cN=X("$ZodCUID2",(i,t)=>{t.pattern??(t.pattern=_x),lt.init(i,t)}),fN=X("$ZodULID",(i,t)=>{t.pattern??(t.pattern=Sx),lt.init(i,t)}),hN=X("$ZodXID",(i,t)=>{t.pattern??(t.pattern=bx),lt.init(i,t)}),dN=X("$ZodKSUID",(i,t)=>{t.pattern??(t.pattern=Ex),lt.init(i,t)}),mN=X("$ZodISODateTime",(i,t)=>{t.pattern??(t.pattern=Ux(t)),lt.init(i,t)}),pN=X("$ZodISODate",(i,t)=>{t.pattern??(t.pattern=Mx),lt.init(i,t)}),gN=X("$ZodISOTime",(i,t)=>{t.pattern??(t.pattern=Lx(t)),lt.init(i,t)}),yN=X("$ZodISODuration",(i,t)=>{t.pattern??(t.pattern=Ax),lt.init(i,t)}),vN=X("$ZodIPv4",(i,t)=>{t.pattern??(t.pattern=Cx),lt.init(i,t),i._zod.bag.format="ipv4"}),_N=X("$ZodIPv6",(i,t)=>{t.pattern??(t.pattern=Rx),lt.init(i,t),i._zod.bag.format="ipv6",i._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:i,continue:!t.abort})}}}),SN=X("$ZodCIDRv4",(i,t)=>{t.pattern??(t.pattern=kx),lt.init(i,t)}),bN=X("$ZodCIDRv6",(i,t)=>{t.pattern??(t.pattern=Dx),lt.init(i,t),i._zod.check=r=>{const a=r.value.split("/");try{if(a.length!==2)throw new Error;const[l,h]=a;if(!h)throw new Error;const d=Number(h);if(`${d}`!==h)throw new Error;if(d<0||d>128)throw new Error;new URL(`http://[${l}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:i,continue:!t.abort})}}});function K_(i){if(i==="")return!0;if(i.length%4!==0)return!1;try{return atob(i),!0}catch{return!1}}const EN=X("$ZodBase64",(i,t)=>{t.pattern??(t.pattern=zx),lt.init(i,t),i._zod.bag.contentEncoding="base64",i._zod.check=r=>{K_(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:i,continue:!t.abort})}});function TN(i){if(!G_.test(i))return!1;const t=i.replace(/[-_]/g,a=>a==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return K_(r)}const AN=X("$ZodBase64URL",(i,t)=>{t.pattern??(t.pattern=G_),lt.init(i,t),i._zod.bag.contentEncoding="base64url",i._zod.check=r=>{TN(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:i,continue:!t.abort})}}),wN=X("$ZodE164",(i,t)=>{t.pattern??(t.pattern=Ix),lt.init(i,t)});function xN(i,t=null){try{const r=i.split(".");if(r.length!==3)return!1;const[a]=r;if(!a)return!1;const l=JSON.parse(atob(a));return!("typ"in l&&l?.typ!=="JWT"||!l.alg||t&&(!("alg"in l)||l.alg!==t))}catch{return!1}}const NN=X("$ZodJWT",(i,t)=>{lt.init(i,t),i._zod.check=r=>{xN(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:i,continue:!t.abort})}}),J_=X("$ZodNumber",(i,t)=>{_t.init(i,t),i._zod.pattern=i._zod.bag.pattern??$_,i._zod.parse=(r,a)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const l=r.value;if(typeof l=="number"&&!Number.isNaN(l)&&Number.isFinite(l))return r;const h=typeof l=="number"?Number.isNaN(l)?"NaN":Number.isFinite(l)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:l,inst:i,...h?{received:h}:{}}),r}}),ON=X("$ZodNumberFormat",(i,t)=>{Zx.init(i,t),J_.init(i,t)}),CN=X("$ZodBoolean",(i,t)=>{_t.init(i,t),i._zod.pattern=Vx,i._zod.parse=(r,a)=>{if(t.coerce)try{r.value=!!r.value}catch{}const l=r.value;return typeof l=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:l,inst:i}),r}}),RN=X("$ZodUnknown",(i,t)=>{_t.init(i,t),i._zod.parse=r=>r}),kN=X("$ZodNever",(i,t)=>{_t.init(i,t),i._zod.parse=(r,a)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:i}),r)});function Zv(i,t,r){i.issues.length&&t.issues.push(...so(r,i.issues)),t.value[r]=i.value}const DN=X("$ZodArray",(i,t)=>{_t.init(i,t),i._zod.parse=(r,a)=>{const l=r.value;if(!Array.isArray(l))return r.issues.push({expected:"array",code:"invalid_type",input:l,inst:i}),r;r.value=Array(l.length);const h=[];for(let d=0;d<l.length;d++){const y=l[d],_=t.element._zod.run({value:y,issues:[]},a);_ instanceof Promise?h.push(_.then(E=>Zv(E,r,d))):Zv(_,r,d)}return h.length?Promise.all(h).then(()=>r):r}});function Uc(i,t,r,a,l){if(i.issues.length){if(l&&!(r in a))return;t.issues.push(...so(r,i.issues))}i.value===void 0?r in a&&(t.value[r]=void 0):t.value[r]=i.value}function Q_(i){const t=Object.keys(i.shape);for(const a of t)if(!i.shape?.[a]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${a}": expected a Zod schema`);const r=J2(i.shape);return{...i,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(r)}}function W_(i,t,r,a,l,h){const d=[],y=l.keySet,_=l.catchall._zod,E=_.def.type,C=_.optout==="optional";for(const R in t){if(y.has(R))continue;if(E==="never"){d.push(R);continue}const U=_.run({value:t[R],issues:[]},a);U instanceof Promise?i.push(U.then(F=>Uc(F,r,R,t,C))):Uc(U,r,R,t,C)}return d.length&&r.issues.push({code:"unrecognized_keys",keys:d,input:t,inst:h}),i.length?Promise.all(i).then(()=>r):r}const zN=X("$ZodObject",(i,t)=>{if(_t.init(i,t),!Object.getOwnPropertyDescriptor(t,"shape")?.get){const y=t.shape;Object.defineProperty(t,"shape",{get:()=>{const _={...y};return Object.defineProperty(t,"shape",{value:_}),_}})}const a=am(()=>Q_(t));Xe(i._zod,"propValues",()=>{const y=t.shape,_={};for(const E in y){const C=y[E]._zod;if(C.values){_[E]??(_[E]=new Set);for(const R of C.values)_[E].add(R)}}return _});const l=Lc,h=t.catchall;let d;i._zod.parse=(y,_)=>{d??(d=a.value);const E=y.value;if(!l(E))return y.issues.push({expected:"object",code:"invalid_type",input:E,inst:i}),y;y.value={};const C=[],R=d.shape;for(const U of d.keys){const F=R[U],J=F._zod.optout==="optional",te=F._zod.run({value:E[U],issues:[]},_);te instanceof Promise?C.push(te.then(le=>Uc(le,y,U,E,J))):Uc(te,y,U,E,J)}return h?W_(C,E,y,_,a.value,i):C.length?Promise.all(C).then(()=>y):y}}),IN=X("$ZodObjectJIT",(i,t)=>{zN.init(i,t);const r=i._zod.parse,a=am(()=>Q_(t)),l=U=>{const F=new tN(["shape","payload","ctx"]),J=a.value,te=ae=>{const ne=Bv(ae);return`shape[${ne}]._zod.run({ value: input[${ne}], issues: [] }, ctx)`};F.write("const input = payload.value;");const le=Object.create(null);let xe=0;for(const ae of J.keys)le[ae]=`key_${xe++}`;F.write("const newResult = {};");for(const ae of J.keys){const ne=le[ae],pe=Bv(ae),z=U[ae]?._zod?.optout==="optional";F.write(`const ${ne} = ${te(ae)};`),z?F.write(`
        if (${ne}.issues.length) {
          if (${pe} in input) {
            payload.issues = payload.issues.concat(${ne}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${pe}, ...iss.path] : [${pe}]
            })));
          }
        }
        
        if (${ne}.value === undefined) {
          if (${pe} in input) {
            newResult[${pe}] = undefined;
          }
        } else {
          newResult[${pe}] = ${ne}.value;
        }
        
      `):F.write(`
        if (${ne}.issues.length) {
          payload.issues = payload.issues.concat(${ne}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${pe}, ...iss.path] : [${pe}]
          })));
        }
        
        if (${ne}.value === undefined) {
          if (${pe} in input) {
            newResult[${pe}] = undefined;
          }
        } else {
          newResult[${pe}] = ${ne}.value;
        }
        
      `)}F.write("payload.value = newResult;"),F.write("return payload;");const Se=F.compile();return(ae,ne)=>Se(U,ae,ne)};let h;const d=Lc,y=!L_.jitless,E=y&&F2.value,C=t.catchall;let R;i._zod.parse=(U,F)=>{R??(R=a.value);const J=U.value;return d(J)?y&&E&&F?.async===!1&&F.jitless!==!0?(h||(h=l(t.shape)),U=h(U,F),C?W_([],J,U,F,R,i):U):r(U,F):(U.issues.push({expected:"object",code:"invalid_type",input:J,inst:i}),U)}});function qv(i,t,r,a){for(const h of i)if(h.issues.length===0)return t.value=h.value,t;const l=i.filter(h=>!io(h));return l.length===1?(t.value=l[0].value,l[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:i.map(h=>h.issues.map(d=>yr(d,a,gr())))}),t)}const MN=X("$ZodUnion",(i,t)=>{_t.init(i,t),Xe(i._zod,"optin",()=>t.options.some(l=>l._zod.optin==="optional")?"optional":void 0),Xe(i._zod,"optout",()=>t.options.some(l=>l._zod.optout==="optional")?"optional":void 0),Xe(i._zod,"values",()=>{if(t.options.every(l=>l._zod.values))return new Set(t.options.flatMap(l=>Array.from(l._zod.values)))}),Xe(i._zod,"pattern",()=>{if(t.options.every(l=>l._zod.pattern)){const l=t.options.map(h=>h._zod.pattern);return new RegExp(`^(${l.map(h=>lm(h.source)).join("|")})$`)}});const r=t.options.length===1,a=t.options[0]._zod.run;i._zod.parse=(l,h)=>{if(r)return a(l,h);let d=!1;const y=[];for(const _ of t.options){const E=_._zod.run({value:l.value,issues:[]},h);if(E instanceof Promise)y.push(E),d=!0;else{if(E.issues.length===0)return E;y.push(E)}}return d?Promise.all(y).then(_=>qv(_,l,i,h)):qv(y,l,i,h)}}),LN=X("$ZodIntersection",(i,t)=>{_t.init(i,t),i._zod.parse=(r,a)=>{const l=r.value,h=t.left._zod.run({value:l,issues:[]},a),d=t.right._zod.run({value:l,issues:[]},a);return h instanceof Promise||d instanceof Promise?Promise.all([h,d]).then(([_,E])=>$v(r,_,E)):$v(r,h,d)}});function Pd(i,t){if(i===t)return{valid:!0,data:i};if(i instanceof Date&&t instanceof Date&&+i==+t)return{valid:!0,data:i};if(ho(i)&&ho(t)){const r=Object.keys(t),a=Object.keys(i).filter(h=>r.indexOf(h)!==-1),l={...i,...t};for(const h of a){const d=Pd(i[h],t[h]);if(!d.valid)return{valid:!1,mergeErrorPath:[h,...d.mergeErrorPath]};l[h]=d.data}return{valid:!0,data:l}}if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let a=0;a<i.length;a++){const l=i[a],h=t[a],d=Pd(l,h);if(!d.valid)return{valid:!1,mergeErrorPath:[a,...d.mergeErrorPath]};r.push(d.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function $v(i,t,r){const a=new Map;let l;for(const y of t.issues)if(y.code==="unrecognized_keys"){l??(l=y);for(const _ of y.keys)a.has(_)||a.set(_,{}),a.get(_).l=!0}else i.issues.push(y);for(const y of r.issues)if(y.code==="unrecognized_keys")for(const _ of y.keys)a.has(_)||a.set(_,{}),a.get(_).r=!0;else i.issues.push(y);const h=[...a].filter(([,y])=>y.l&&y.r).map(([y])=>y);if(h.length&&l&&i.issues.push({...l,keys:h}),io(i))return i;const d=Pd(t.value,r.value);if(!d.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(d.mergeErrorPath)}`);return i.value=d.data,i}const UN=X("$ZodRecord",(i,t)=>{_t.init(i,t),i._zod.parse=(r,a)=>{const l=r.value;if(!ho(l))return r.issues.push({expected:"record",code:"invalid_type",input:l,inst:i}),r;const h=[],d=t.keyType._zod.values;if(d){r.value={};const y=new Set;for(const E of d)if(typeof E=="string"||typeof E=="number"||typeof E=="symbol"){y.add(typeof E=="number"?E.toString():E);const C=t.valueType._zod.run({value:l[E],issues:[]},a);C instanceof Promise?h.push(C.then(R=>{R.issues.length&&r.issues.push(...so(E,R.issues)),r.value[E]=R.value})):(C.issues.length&&r.issues.push(...so(E,C.issues)),r.value[E]=C.value)}let _;for(const E in l)y.has(E)||(_=_??[],_.push(E));_&&_.length>0&&r.issues.push({code:"unrecognized_keys",input:l,inst:i,keys:_})}else{r.value={};for(const y of Reflect.ownKeys(l)){if(y==="__proto__")continue;let _=t.keyType._zod.run({value:y,issues:[]},a);if(_ instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof y=="string"&&$_.test(y)&&_.issues.length&&_.issues.some(R=>R.code==="invalid_type"&&R.expected==="number")){const R=t.keyType._zod.run({value:Number(y),issues:[]},a);if(R instanceof Promise)throw new Error("Async schemas not supported in object keys currently");R.issues.length===0&&(_=R)}if(_.issues.length){t.mode==="loose"?r.value[y]=l[y]:r.issues.push({code:"invalid_key",origin:"record",issues:_.issues.map(R=>yr(R,a,gr())),input:y,path:[y],inst:i});continue}const C=t.valueType._zod.run({value:l[y],issues:[]},a);C instanceof Promise?h.push(C.then(R=>{R.issues.length&&r.issues.push(...so(y,R.issues)),r.value[_.value]=R.value})):(C.issues.length&&r.issues.push(...so(y,C.issues)),r.value[_.value]=C.value)}}return h.length?Promise.all(h).then(()=>r):r}}),jN=X("$ZodEnum",(i,t)=>{_t.init(i,t);const r=U_(t.entries),a=new Set(r);i._zod.values=a,i._zod.pattern=new RegExp(`^(${r.filter(l=>K2.has(typeof l)).map(l=>typeof l=="string"?Qc(l):l.toString()).join("|")})$`),i._zod.parse=(l,h)=>{const d=l.value;return a.has(d)||l.issues.push({code:"invalid_value",values:r,input:d,inst:i}),l}}),PN=X("$ZodTransform",(i,t)=>{_t.init(i,t),i._zod.parse=(r,a)=>{if(a.direction==="backward")throw new M_(i.constructor.name);const l=t.transform(r.value,r);if(a.async)return(l instanceof Promise?l:Promise.resolve(l)).then(d=>(r.value=d,r));if(l instanceof Promise)throw new uo;return r.value=l,r}});function Xv(i,t){return i.issues.length&&t===void 0?{issues:[],value:void 0}:i}const eS=X("$ZodOptional",(i,t)=>{_t.init(i,t),i._zod.optin="optional",i._zod.optout="optional",Xe(i._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),Xe(i._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${lm(r.source)})?$`):void 0}),i._zod.parse=(r,a)=>{if(t.innerType._zod.optin==="optional"){const l=t.innerType._zod.run(r,a);return l instanceof Promise?l.then(h=>Xv(h,r.value)):Xv(l,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,a)}}),VN=X("$ZodExactOptional",(i,t)=>{eS.init(i,t),Xe(i._zod,"values",()=>t.innerType._zod.values),Xe(i._zod,"pattern",()=>t.innerType._zod.pattern),i._zod.parse=(r,a)=>t.innerType._zod.run(r,a)}),HN=X("$ZodNullable",(i,t)=>{_t.init(i,t),Xe(i._zod,"optin",()=>t.innerType._zod.optin),Xe(i._zod,"optout",()=>t.innerType._zod.optout),Xe(i._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${lm(r.source)}|null)$`):void 0}),Xe(i._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),i._zod.parse=(r,a)=>r.value===null?r:t.innerType._zod.run(r,a)}),BN=X("$ZodDefault",(i,t)=>{_t.init(i,t),i._zod.optin="optional",Xe(i._zod,"values",()=>t.innerType._zod.values),i._zod.parse=(r,a)=>{if(a.direction==="backward")return t.innerType._zod.run(r,a);if(r.value===void 0)return r.value=t.defaultValue,r;const l=t.innerType._zod.run(r,a);return l instanceof Promise?l.then(h=>Yv(h,t)):Yv(l,t)}});function Yv(i,t){return i.value===void 0&&(i.value=t.defaultValue),i}const GN=X("$ZodPrefault",(i,t)=>{_t.init(i,t),i._zod.optin="optional",Xe(i._zod,"values",()=>t.innerType._zod.values),i._zod.parse=(r,a)=>(a.direction==="backward"||r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,a))}),ZN=X("$ZodNonOptional",(i,t)=>{_t.init(i,t),Xe(i._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(a=>a!==void 0)):void 0}),i._zod.parse=(r,a)=>{const l=t.innerType._zod.run(r,a);return l instanceof Promise?l.then(h=>Fv(h,i)):Fv(l,i)}});function Fv(i,t){return!i.issues.length&&i.value===void 0&&i.issues.push({code:"invalid_type",expected:"nonoptional",input:i.value,inst:t}),i}const qN=X("$ZodCatch",(i,t)=>{_t.init(i,t),Xe(i._zod,"optin",()=>t.innerType._zod.optin),Xe(i._zod,"optout",()=>t.innerType._zod.optout),Xe(i._zod,"values",()=>t.innerType._zod.values),i._zod.parse=(r,a)=>{if(a.direction==="backward")return t.innerType._zod.run(r,a);const l=t.innerType._zod.run(r,a);return l instanceof Promise?l.then(h=>(r.value=h.value,h.issues.length&&(r.value=t.catchValue({...r,error:{issues:h.issues.map(d=>yr(d,a,gr()))},input:r.value}),r.issues=[]),r)):(r.value=l.value,l.issues.length&&(r.value=t.catchValue({...r,error:{issues:l.issues.map(h=>yr(h,a,gr()))},input:r.value}),r.issues=[]),r)}}),$N=X("$ZodPipe",(i,t)=>{_t.init(i,t),Xe(i._zod,"values",()=>t.in._zod.values),Xe(i._zod,"optin",()=>t.in._zod.optin),Xe(i._zod,"optout",()=>t.out._zod.optout),Xe(i._zod,"propValues",()=>t.in._zod.propValues),i._zod.parse=(r,a)=>{if(a.direction==="backward"){const h=t.out._zod.run(r,a);return h instanceof Promise?h.then(d=>dc(d,t.in,a)):dc(h,t.in,a)}const l=t.in._zod.run(r,a);return l instanceof Promise?l.then(h=>dc(h,t.out,a)):dc(l,t.out,a)}});function dc(i,t,r){return i.issues.length?(i.aborted=!0,i):t._zod.run({value:i.value,issues:i.issues},r)}const XN=X("$ZodReadonly",(i,t)=>{_t.init(i,t),Xe(i._zod,"propValues",()=>t.innerType._zod.propValues),Xe(i._zod,"values",()=>t.innerType._zod.values),Xe(i._zod,"optin",()=>t.innerType?._zod?.optin),Xe(i._zod,"optout",()=>t.innerType?._zod?.optout),i._zod.parse=(r,a)=>{if(a.direction==="backward")return t.innerType._zod.run(r,a);const l=t.innerType._zod.run(r,a);return l instanceof Promise?l.then(Kv):Kv(l)}});function Kv(i){return i.value=Object.freeze(i.value),i}const YN=X("$ZodCustom",(i,t)=>{Tn.init(i,t),_t.init(i,t),i._zod.parse=(r,a)=>r,i._zod.check=r=>{const a=r.value,l=t.fn(a);if(l instanceof Promise)return l.then(h=>Jv(h,r,a,i));Jv(l,r,a,i)}});function Jv(i,t,r,a){if(!i){const l={code:"custom",input:r,inst:a,path:[...a._zod.def.path??[]],continue:!a._zod.def.abort};a._zod.def.params&&(l.params=a._zod.def.params),t.issues.push(zl(l))}}var Qv;class FN{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...r){const a=r[0];return this._map.set(t,a),a&&typeof a=="object"&&"id"in a&&this._idmap.set(a.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const a={...this.get(r)??{}};delete a.id;const l={...a,...this._map.get(t)};return Object.keys(l).length?l:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function KN(){return new FN}(Qv=globalThis).__zod_globalRegistry??(Qv.__zod_globalRegistry=KN());const Sl=globalThis.__zod_globalRegistry;function JN(i,t){return new i({type:"string",...fe(t)})}function QN(i,t){return new i({type:"string",format:"email",check:"string_format",abort:!1,...fe(t)})}function Wv(i,t){return new i({type:"string",format:"guid",check:"string_format",abort:!1,...fe(t)})}function WN(i,t){return new i({type:"string",format:"uuid",check:"string_format",abort:!1,...fe(t)})}function eO(i,t){return new i({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...fe(t)})}function tO(i,t){return new i({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...fe(t)})}function nO(i,t){return new i({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...fe(t)})}function iO(i,t){return new i({type:"string",format:"url",check:"string_format",abort:!1,...fe(t)})}function sO(i,t){return new i({type:"string",format:"emoji",check:"string_format",abort:!1,...fe(t)})}function rO(i,t){return new i({type:"string",format:"nanoid",check:"string_format",abort:!1,...fe(t)})}function aO(i,t){return new i({type:"string",format:"cuid",check:"string_format",abort:!1,...fe(t)})}function oO(i,t){return new i({type:"string",format:"cuid2",check:"string_format",abort:!1,...fe(t)})}function lO(i,t){return new i({type:"string",format:"ulid",check:"string_format",abort:!1,...fe(t)})}function uO(i,t){return new i({type:"string",format:"xid",check:"string_format",abort:!1,...fe(t)})}function cO(i,t){return new i({type:"string",format:"ksuid",check:"string_format",abort:!1,...fe(t)})}function fO(i,t){return new i({type:"string",format:"ipv4",check:"string_format",abort:!1,...fe(t)})}function hO(i,t){return new i({type:"string",format:"ipv6",check:"string_format",abort:!1,...fe(t)})}function dO(i,t){return new i({type:"string",format:"cidrv4",check:"string_format",abort:!1,...fe(t)})}function mO(i,t){return new i({type:"string",format:"cidrv6",check:"string_format",abort:!1,...fe(t)})}function pO(i,t){return new i({type:"string",format:"base64",check:"string_format",abort:!1,...fe(t)})}function gO(i,t){return new i({type:"string",format:"base64url",check:"string_format",abort:!1,...fe(t)})}function yO(i,t){return new i({type:"string",format:"e164",check:"string_format",abort:!1,...fe(t)})}function vO(i,t){return new i({type:"string",format:"jwt",check:"string_format",abort:!1,...fe(t)})}function _O(i,t){return new i({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...fe(t)})}function SO(i,t){return new i({type:"string",format:"date",check:"string_format",...fe(t)})}function bO(i,t){return new i({type:"string",format:"time",check:"string_format",precision:null,...fe(t)})}function EO(i,t){return new i({type:"string",format:"duration",check:"string_format",...fe(t)})}function TO(i,t){return new i({type:"number",checks:[],...fe(t)})}function AO(i,t){return new i({type:"number",check:"number_format",abort:!1,format:"safeint",...fe(t)})}function wO(i,t){return new i({type:"boolean",...fe(t)})}function xO(i){return new i({type:"unknown"})}function NO(i,t){return new i({type:"never",...fe(t)})}function e0(i,t){return new Y_({check:"less_than",...fe(t),value:i,inclusive:!1})}function _d(i,t){return new Y_({check:"less_than",...fe(t),value:i,inclusive:!0})}function t0(i,t){return new F_({check:"greater_than",...fe(t),value:i,inclusive:!1})}function Sd(i,t){return new F_({check:"greater_than",...fe(t),value:i,inclusive:!0})}function n0(i,t){return new Gx({check:"multiple_of",...fe(t),value:i})}function tS(i,t){return new qx({check:"max_length",...fe(t),maximum:i})}function jc(i,t){return new $x({check:"min_length",...fe(t),minimum:i})}function nS(i,t){return new Xx({check:"length_equals",...fe(t),length:i})}function OO(i,t){return new Yx({check:"string_format",format:"regex",...fe(t),pattern:i})}function CO(i){return new Fx({check:"string_format",format:"lowercase",...fe(i)})}function RO(i){return new Kx({check:"string_format",format:"uppercase",...fe(i)})}function kO(i,t){return new Jx({check:"string_format",format:"includes",...fe(t),includes:i})}function DO(i,t){return new Qx({check:"string_format",format:"starts_with",...fe(t),prefix:i})}function zO(i,t){return new Wx({check:"string_format",format:"ends_with",...fe(t),suffix:i})}function vo(i){return new eN({check:"overwrite",tx:i})}function IO(i){return vo(t=>t.normalize(i))}function MO(){return vo(i=>i.trim())}function LO(){return vo(i=>i.toLowerCase())}function UO(){return vo(i=>i.toUpperCase())}function jO(){return vo(i=>Y2(i))}function PO(i,t,r){return new i({type:"array",element:t,...fe(r)})}function VO(i,t,r){return new i({type:"custom",check:"custom",fn:t,...fe(r)})}function HO(i){const t=BO(r=>(r.addIssue=a=>{if(typeof a=="string")r.issues.push(zl(a,r.value,t._zod.def));else{const l=a;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=r.value),l.inst??(l.inst=t),l.continue??(l.continue=!t._zod.def.abort),r.issues.push(zl(l))}},i(r.value,r)));return t}function BO(i,t){const r=new Tn({check:"custom",...fe(t)});return r._zod.check=i,r}function iS(i){let t=i?.target??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:i.processors??{},metadataRegistry:i?.metadata??Sl,target:t,unrepresentable:i?.unrepresentable??"throw",override:i?.override??(()=>{}),io:i?.io??"output",counter:0,seen:new Map,cycles:i?.cycles??"ref",reused:i?.reused??"inline",external:i?.external??void 0}}function Dt(i,t,r={path:[],schemaPath:[]}){var a;const l=i._zod.def,h=t.seen.get(i);if(h)return h.count++,r.schemaPath.includes(i)&&(h.cycle=r.path),h.schema;const d={schema:{},count:1,cycle:void 0,path:r.path};t.seen.set(i,d);const y=i._zod.toJSONSchema?.();if(y)d.schema=y;else{const C={...r,schemaPath:[...r.schemaPath,i],path:r.path};if(i._zod.processJSONSchema)i._zod.processJSONSchema(t,d.schema,C);else{const U=d.schema,F=t.processors[l.type];if(!F)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${l.type}`);F(i,t,U,C)}const R=i._zod.parent;R&&(d.ref||(d.ref=R),Dt(R,t,C),t.seen.get(R).isParent=!0)}const _=t.metadataRegistry.get(i);return _&&Object.assign(d.schema,_),t.io==="input"&&cn(i)&&(delete d.schema.examples,delete d.schema.default),t.io==="input"&&d.schema._prefault&&((a=d.schema).default??(a.default=d.schema._prefault)),delete d.schema._prefault,t.seen.get(i).schema}function sS(i,t){const r=i.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const a=new Map;for(const d of i.seen.entries()){const y=i.metadataRegistry.get(d[0])?.id;if(y){const _=a.get(y);if(_&&_!==d[0])throw new Error(`Duplicate schema id "${y}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);a.set(y,d[0])}}const l=d=>{const y=i.target==="draft-2020-12"?"$defs":"definitions";if(i.external){const R=i.external.registry.get(d[0])?.id,U=i.external.uri??(J=>J);if(R)return{ref:U(R)};const F=d[1].defId??d[1].schema.id??`schema${i.counter++}`;return d[1].defId=F,{defId:F,ref:`${U("__shared")}#/${y}/${F}`}}if(d[1]===r)return{ref:"#"};const E=`#/${y}/`,C=d[1].schema.id??`__schema${i.counter++}`;return{defId:C,ref:E+C}},h=d=>{if(d[1].schema.$ref)return;const y=d[1],{ref:_,defId:E}=l(d);y.def={...y.schema},E&&(y.defId=E);const C=y.schema;for(const R in C)delete C[R];C.$ref=_};if(i.cycles==="throw")for(const d of i.seen.entries()){const y=d[1];if(y.cycle)throw new Error(`Cycle detected: #/${y.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const d of i.seen.entries()){const y=d[1];if(t===d[0]){h(d);continue}if(i.external){const E=i.external.registry.get(d[0])?.id;if(t!==d[0]&&E){h(d);continue}}if(i.metadataRegistry.get(d[0])?.id){h(d);continue}if(y.cycle){h(d);continue}if(y.count>1&&i.reused==="ref"){h(d);continue}}}function rS(i,t){const r=i.seen.get(t);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const a=d=>{const y=i.seen.get(d);if(y.ref===null)return;const _=y.def??y.schema,E={..._},C=y.ref;if(y.ref=null,C){a(C);const U=i.seen.get(C),F=U.schema;if(F.$ref&&(i.target==="draft-07"||i.target==="draft-04"||i.target==="openapi-3.0")?(_.allOf=_.allOf??[],_.allOf.push(F)):Object.assign(_,F),Object.assign(_,E),d._zod.parent===C)for(const te in _)te==="$ref"||te==="allOf"||te in E||delete _[te];if(F.$ref)for(const te in _)te==="$ref"||te==="allOf"||te in U.def&&JSON.stringify(_[te])===JSON.stringify(U.def[te])&&delete _[te]}const R=d._zod.parent;if(R&&R!==C){a(R);const U=i.seen.get(R);if(U?.schema.$ref&&(_.$ref=U.schema.$ref,U.def))for(const F in _)F==="$ref"||F==="allOf"||F in U.def&&JSON.stringify(_[F])===JSON.stringify(U.def[F])&&delete _[F]}i.override({zodSchema:d,jsonSchema:_,path:y.path??[]})};for(const d of[...i.seen.entries()].reverse())a(d[0]);const l={};if(i.target==="draft-2020-12"?l.$schema="https://json-schema.org/draft/2020-12/schema":i.target==="draft-07"?l.$schema="http://json-schema.org/draft-07/schema#":i.target==="draft-04"?l.$schema="http://json-schema.org/draft-04/schema#":i.target,i.external?.uri){const d=i.external.registry.get(t)?.id;if(!d)throw new Error("Schema is missing an `id` property");l.$id=i.external.uri(d)}Object.assign(l,r.def??r.schema);const h=i.external?.defs??{};for(const d of i.seen.entries()){const y=d[1];y.def&&y.defId&&(h[y.defId]=y.def)}i.external||Object.keys(h).length>0&&(i.target==="draft-2020-12"?l.$defs=h:l.definitions=h);try{const d=JSON.parse(JSON.stringify(l));return Object.defineProperty(d,"~standard",{value:{...t["~standard"],jsonSchema:{input:Pc(t,"input",i.processors),output:Pc(t,"output",i.processors)}},enumerable:!1,writable:!1}),d}catch{throw new Error("Error converting schema to JSON.")}}function cn(i,t){const r=t??{seen:new Set};if(r.seen.has(i))return!1;r.seen.add(i);const a=i._zod.def;if(a.type==="transform")return!0;if(a.type==="array")return cn(a.element,r);if(a.type==="set")return cn(a.valueType,r);if(a.type==="lazy")return cn(a.getter(),r);if(a.type==="promise"||a.type==="optional"||a.type==="nonoptional"||a.type==="nullable"||a.type==="readonly"||a.type==="default"||a.type==="prefault")return cn(a.innerType,r);if(a.type==="intersection")return cn(a.left,r)||cn(a.right,r);if(a.type==="record"||a.type==="map")return cn(a.keyType,r)||cn(a.valueType,r);if(a.type==="pipe")return cn(a.in,r)||cn(a.out,r);if(a.type==="object"){for(const l in a.shape)if(cn(a.shape[l],r))return!0;return!1}if(a.type==="union"){for(const l of a.options)if(cn(l,r))return!0;return!1}if(a.type==="tuple"){for(const l of a.items)if(cn(l,r))return!0;return!!(a.rest&&cn(a.rest,r))}return!1}const GO=(i,t={})=>r=>{const a=iS({...r,processors:t});return Dt(i,a),sS(a,i),rS(a,i)},Pc=(i,t,r={})=>a=>{const{libraryOptions:l,target:h}=a??{},d=iS({...l??{},target:h,io:t,processors:r});return Dt(i,d),sS(d,i),rS(d,i)},ZO={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},qO=(i,t,r,a)=>{const l=r;l.type="string";const{minimum:h,maximum:d,format:y,patterns:_,contentEncoding:E}=i._zod.bag;if(typeof h=="number"&&(l.minLength=h),typeof d=="number"&&(l.maxLength=d),y&&(l.format=ZO[y]??y,l.format===""&&delete l.format,y==="time"&&delete l.format),E&&(l.contentEncoding=E),_&&_.size>0){const C=[..._];C.length===1?l.pattern=C[0].source:C.length>1&&(l.allOf=[...C.map(R=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:R.source}))])}},$O=(i,t,r,a)=>{const l=r,{minimum:h,maximum:d,format:y,multipleOf:_,exclusiveMaximum:E,exclusiveMinimum:C}=i._zod.bag;typeof y=="string"&&y.includes("int")?l.type="integer":l.type="number",typeof C=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(l.minimum=C,l.exclusiveMinimum=!0):l.exclusiveMinimum=C),typeof h=="number"&&(l.minimum=h,typeof C=="number"&&t.target!=="draft-04"&&(C>=h?delete l.minimum:delete l.exclusiveMinimum)),typeof E=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(l.maximum=E,l.exclusiveMaximum=!0):l.exclusiveMaximum=E),typeof d=="number"&&(l.maximum=d,typeof E=="number"&&t.target!=="draft-04"&&(E<=d?delete l.maximum:delete l.exclusiveMaximum)),typeof _=="number"&&(l.multipleOf=_)},XO=(i,t,r,a)=>{r.type="boolean"},YO=(i,t,r,a)=>{r.not={}},FO=(i,t,r,a)=>{},KO=(i,t,r,a)=>{const l=i._zod.def,h=U_(l.entries);h.every(d=>typeof d=="number")&&(r.type="number"),h.every(d=>typeof d=="string")&&(r.type="string"),r.enum=h},JO=(i,t,r,a)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},QO=(i,t,r,a)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},WO=(i,t,r,a)=>{const l=r,h=i._zod.def,{minimum:d,maximum:y}=i._zod.bag;typeof d=="number"&&(l.minItems=d),typeof y=="number"&&(l.maxItems=y),l.type="array",l.items=Dt(h.element,t,{...a,path:[...a.path,"items"]})},eC=(i,t,r,a)=>{const l=r,h=i._zod.def;l.type="object",l.properties={};const d=h.shape;for(const E in d)l.properties[E]=Dt(d[E],t,{...a,path:[...a.path,"properties",E]});const y=new Set(Object.keys(d)),_=new Set([...y].filter(E=>{const C=h.shape[E]._zod;return t.io==="input"?C.optin===void 0:C.optout===void 0}));_.size>0&&(l.required=Array.from(_)),h.catchall?._zod.def.type==="never"?l.additionalProperties=!1:h.catchall?h.catchall&&(l.additionalProperties=Dt(h.catchall,t,{...a,path:[...a.path,"additionalProperties"]})):t.io==="output"&&(l.additionalProperties=!1)},tC=(i,t,r,a)=>{const l=i._zod.def,h=l.inclusive===!1,d=l.options.map((y,_)=>Dt(y,t,{...a,path:[...a.path,h?"oneOf":"anyOf",_]}));h?r.oneOf=d:r.anyOf=d},nC=(i,t,r,a)=>{const l=i._zod.def,h=Dt(l.left,t,{...a,path:[...a.path,"allOf",0]}),d=Dt(l.right,t,{...a,path:[...a.path,"allOf",1]}),y=E=>"allOf"in E&&Object.keys(E).length===1,_=[...y(h)?h.allOf:[h],...y(d)?d.allOf:[d]];r.allOf=_},iC=(i,t,r,a)=>{const l=r,h=i._zod.def;l.type="object";const d=h.keyType,_=d._zod.bag?.patterns;if(h.mode==="loose"&&_&&_.size>0){const C=Dt(h.valueType,t,{...a,path:[...a.path,"patternProperties","*"]});l.patternProperties={};for(const R of _)l.patternProperties[R.source]=C}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(l.propertyNames=Dt(h.keyType,t,{...a,path:[...a.path,"propertyNames"]})),l.additionalProperties=Dt(h.valueType,t,{...a,path:[...a.path,"additionalProperties"]});const E=d._zod.values;if(E){const C=[...E].filter(R=>typeof R=="string"||typeof R=="number");C.length>0&&(l.required=C)}},sC=(i,t,r,a)=>{const l=i._zod.def,h=Dt(l.innerType,t,a),d=t.seen.get(i);t.target==="openapi-3.0"?(d.ref=l.innerType,r.nullable=!0):r.anyOf=[h,{type:"null"}]},rC=(i,t,r,a)=>{const l=i._zod.def;Dt(l.innerType,t,a);const h=t.seen.get(i);h.ref=l.innerType},aC=(i,t,r,a)=>{const l=i._zod.def;Dt(l.innerType,t,a);const h=t.seen.get(i);h.ref=l.innerType,r.default=JSON.parse(JSON.stringify(l.defaultValue))},oC=(i,t,r,a)=>{const l=i._zod.def;Dt(l.innerType,t,a);const h=t.seen.get(i);h.ref=l.innerType,t.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(l.defaultValue)))},lC=(i,t,r,a)=>{const l=i._zod.def;Dt(l.innerType,t,a);const h=t.seen.get(i);h.ref=l.innerType;let d;try{d=l.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=d},uC=(i,t,r,a)=>{const l=i._zod.def,h=t.io==="input"?l.in._zod.def.type==="transform"?l.out:l.in:l.out;Dt(h,t,a);const d=t.seen.get(i);d.ref=h},cC=(i,t,r,a)=>{const l=i._zod.def;Dt(l.innerType,t,a);const h=t.seen.get(i);h.ref=l.innerType,r.readOnly=!0},aS=(i,t,r,a)=>{const l=i._zod.def;Dt(l.innerType,t,a);const h=t.seen.get(i);h.ref=l.innerType},fC=X("ZodISODateTime",(i,t)=>{mN.init(i,t),ht.init(i,t)});function hC(i){return _O(fC,i)}const dC=X("ZodISODate",(i,t)=>{pN.init(i,t),ht.init(i,t)});function mC(i){return SO(dC,i)}const pC=X("ZodISOTime",(i,t)=>{gN.init(i,t),ht.init(i,t)});function gC(i){return bO(pC,i)}const yC=X("ZodISODuration",(i,t)=>{yN.init(i,t),ht.init(i,t)});function vC(i){return EO(yC,i)}const _C=(i,t)=>{H_.init(i,t),i.name="ZodError",Object.defineProperties(i,{format:{value:r=>ox(i,r)},flatten:{value:r=>ax(i,r)},addIssue:{value:r=>{i.issues.push(r),i.message=JSON.stringify(i.issues,jd,2)}},addIssues:{value:r=>{i.issues.push(...r),i.message=JSON.stringify(i.issues,jd,2)}},isEmpty:{get(){return i.issues.length===0}}})},oi=X("ZodError",_C,{Parent:Error}),SC=cm(oi),bC=fm(oi),EC=Wc(oi),TC=ef(oi),AC=cx(oi),wC=fx(oi),xC=hx(oi),NC=dx(oi),OC=mx(oi),CC=px(oi),RC=gx(oi),kC=yx(oi),St=X("ZodType",(i,t)=>(_t.init(i,t),Object.assign(i["~standard"],{jsonSchema:{input:Pc(i,"input"),output:Pc(i,"output")}}),i.toJSONSchema=GO(i,{}),i.def=t,i.type=t.type,Object.defineProperty(i,"_def",{value:t}),i.check=(...r)=>i.clone(vr(t,{checks:[...t.checks??[],...r.map(a=>typeof a=="function"?{_zod:{check:a,def:{check:"custom"},onattach:[]}}:a)]}),{parent:!0}),i.with=i.check,i.clone=(r,a)=>_r(i,r,a),i.brand=()=>i,i.register=((r,a)=>(r.add(i,a),i)),i.parse=(r,a)=>SC(i,r,a,{callee:i.parse}),i.safeParse=(r,a)=>EC(i,r,a),i.parseAsync=async(r,a)=>bC(i,r,a,{callee:i.parseAsync}),i.safeParseAsync=async(r,a)=>TC(i,r,a),i.spa=i.safeParseAsync,i.encode=(r,a)=>AC(i,r,a),i.decode=(r,a)=>wC(i,r,a),i.encodeAsync=async(r,a)=>xC(i,r,a),i.decodeAsync=async(r,a)=>NC(i,r,a),i.safeEncode=(r,a)=>OC(i,r,a),i.safeDecode=(r,a)=>CC(i,r,a),i.safeEncodeAsync=async(r,a)=>RC(i,r,a),i.safeDecodeAsync=async(r,a)=>kC(i,r,a),i.refine=(r,a)=>i.check(AR(r,a)),i.superRefine=r=>i.check(wR(r)),i.overwrite=r=>i.check(vo(r)),i.optional=()=>r0(i),i.exactOptional=()=>fR(i),i.nullable=()=>a0(i),i.nullish=()=>r0(a0(i)),i.nonoptional=r=>yR(i,r),i.array=()=>mo(i),i.or=r=>uS([i,r]),i.and=r=>aR(i,r),i.transform=r=>o0(i,uR(r)),i.default=r=>mR(i,r),i.prefault=r=>gR(i,r),i.catch=r=>_R(i,r),i.pipe=r=>o0(i,r),i.readonly=()=>ER(i),i.describe=r=>{const a=i.clone();return Sl.add(a,{description:r}),a},Object.defineProperty(i,"description",{get(){return Sl.get(i)?.description},configurable:!0}),i.meta=(...r)=>{if(r.length===0)return Sl.get(i);const a=i.clone();return Sl.add(a,r[0]),a},i.isOptional=()=>i.safeParse(void 0).success,i.isNullable=()=>i.safeParse(null).success,i.apply=r=>r(i),i)),oS=X("_ZodString",(i,t)=>{hm.init(i,t),St.init(i,t),i._zod.processJSONSchema=(a,l,h)=>qO(i,a,l);const r=i._zod.bag;i.format=r.format??null,i.minLength=r.minimum??null,i.maxLength=r.maximum??null,i.regex=(...a)=>i.check(OO(...a)),i.includes=(...a)=>i.check(kO(...a)),i.startsWith=(...a)=>i.check(DO(...a)),i.endsWith=(...a)=>i.check(zO(...a)),i.min=(...a)=>i.check(jc(...a)),i.max=(...a)=>i.check(tS(...a)),i.length=(...a)=>i.check(nS(...a)),i.nonempty=(...a)=>i.check(jc(1,...a)),i.lowercase=a=>i.check(CO(a)),i.uppercase=a=>i.check(RO(a)),i.trim=()=>i.check(MO()),i.normalize=(...a)=>i.check(IO(...a)),i.toLowerCase=()=>i.check(LO()),i.toUpperCase=()=>i.check(UO()),i.slugify=()=>i.check(jO())}),DC=X("ZodString",(i,t)=>{hm.init(i,t),oS.init(i,t),i.email=r=>i.check(QN(zC,r)),i.url=r=>i.check(iO(IC,r)),i.jwt=r=>i.check(vO(FC,r)),i.emoji=r=>i.check(sO(MC,r)),i.guid=r=>i.check(Wv(i0,r)),i.uuid=r=>i.check(WN(mc,r)),i.uuidv4=r=>i.check(eO(mc,r)),i.uuidv6=r=>i.check(tO(mc,r)),i.uuidv7=r=>i.check(nO(mc,r)),i.nanoid=r=>i.check(rO(LC,r)),i.guid=r=>i.check(Wv(i0,r)),i.cuid=r=>i.check(aO(UC,r)),i.cuid2=r=>i.check(oO(jC,r)),i.ulid=r=>i.check(lO(PC,r)),i.base64=r=>i.check(pO($C,r)),i.base64url=r=>i.check(gO(XC,r)),i.xid=r=>i.check(uO(VC,r)),i.ksuid=r=>i.check(cO(HC,r)),i.ipv4=r=>i.check(fO(BC,r)),i.ipv6=r=>i.check(hO(GC,r)),i.cidrv4=r=>i.check(dO(ZC,r)),i.cidrv6=r=>i.check(mO(qC,r)),i.e164=r=>i.check(yO(YC,r)),i.datetime=r=>i.check(hC(r)),i.date=r=>i.check(mC(r)),i.time=r=>i.check(gC(r)),i.duration=r=>i.check(vC(r))});function Lt(i){return JN(DC,i)}const ht=X("ZodStringFormat",(i,t)=>{lt.init(i,t),oS.init(i,t)}),zC=X("ZodEmail",(i,t)=>{rN.init(i,t),ht.init(i,t)}),i0=X("ZodGUID",(i,t)=>{iN.init(i,t),ht.init(i,t)}),mc=X("ZodUUID",(i,t)=>{sN.init(i,t),ht.init(i,t)}),IC=X("ZodURL",(i,t)=>{aN.init(i,t),ht.init(i,t)}),MC=X("ZodEmoji",(i,t)=>{oN.init(i,t),ht.init(i,t)}),LC=X("ZodNanoID",(i,t)=>{lN.init(i,t),ht.init(i,t)}),UC=X("ZodCUID",(i,t)=>{uN.init(i,t),ht.init(i,t)}),jC=X("ZodCUID2",(i,t)=>{cN.init(i,t),ht.init(i,t)}),PC=X("ZodULID",(i,t)=>{fN.init(i,t),ht.init(i,t)}),VC=X("ZodXID",(i,t)=>{hN.init(i,t),ht.init(i,t)}),HC=X("ZodKSUID",(i,t)=>{dN.init(i,t),ht.init(i,t)}),BC=X("ZodIPv4",(i,t)=>{vN.init(i,t),ht.init(i,t)}),GC=X("ZodIPv6",(i,t)=>{_N.init(i,t),ht.init(i,t)}),ZC=X("ZodCIDRv4",(i,t)=>{SN.init(i,t),ht.init(i,t)}),qC=X("ZodCIDRv6",(i,t)=>{bN.init(i,t),ht.init(i,t)}),$C=X("ZodBase64",(i,t)=>{EN.init(i,t),ht.init(i,t)}),XC=X("ZodBase64URL",(i,t)=>{AN.init(i,t),ht.init(i,t)}),YC=X("ZodE164",(i,t)=>{wN.init(i,t),ht.init(i,t)}),FC=X("ZodJWT",(i,t)=>{NN.init(i,t),ht.init(i,t)}),lS=X("ZodNumber",(i,t)=>{J_.init(i,t),St.init(i,t),i._zod.processJSONSchema=(a,l,h)=>$O(i,a,l),i.gt=(a,l)=>i.check(t0(a,l)),i.gte=(a,l)=>i.check(Sd(a,l)),i.min=(a,l)=>i.check(Sd(a,l)),i.lt=(a,l)=>i.check(e0(a,l)),i.lte=(a,l)=>i.check(_d(a,l)),i.max=(a,l)=>i.check(_d(a,l)),i.int=a=>i.check(s0(a)),i.safe=a=>i.check(s0(a)),i.positive=a=>i.check(t0(0,a)),i.nonnegative=a=>i.check(Sd(0,a)),i.negative=a=>i.check(e0(0,a)),i.nonpositive=a=>i.check(_d(0,a)),i.multipleOf=(a,l)=>i.check(n0(a,l)),i.step=(a,l)=>i.check(n0(a,l)),i.finite=()=>i;const r=i._zod.bag;i.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,i.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,i.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),i.isFinite=!0,i.format=r.format??null});function Kt(i){return TO(lS,i)}const KC=X("ZodNumberFormat",(i,t)=>{ON.init(i,t),lS.init(i,t)});function s0(i){return AO(KC,i)}const JC=X("ZodBoolean",(i,t)=>{CN.init(i,t),St.init(i,t),i._zod.processJSONSchema=(r,a,l)=>XO(i,r,a)});function QC(i){return wO(JC,i)}const WC=X("ZodUnknown",(i,t)=>{RN.init(i,t),St.init(i,t),i._zod.processJSONSchema=(r,a,l)=>FO()});function Vd(){return xO(WC)}const eR=X("ZodNever",(i,t)=>{kN.init(i,t),St.init(i,t),i._zod.processJSONSchema=(r,a,l)=>YO(i,r,a)});function tR(i){return NO(eR,i)}const nR=X("ZodArray",(i,t)=>{DN.init(i,t),St.init(i,t),i._zod.processJSONSchema=(r,a,l)=>WO(i,r,a,l),i.element=t.element,i.min=(r,a)=>i.check(jc(r,a)),i.nonempty=r=>i.check(jc(1,r)),i.max=(r,a)=>i.check(tS(r,a)),i.length=(r,a)=>i.check(nS(r,a)),i.unwrap=()=>i.element});function mo(i,t){return PO(nR,i,t)}const iR=X("ZodObject",(i,t)=>{IN.init(i,t),St.init(i,t),i._zod.processJSONSchema=(r,a,l)=>eC(i,r,a,l),Xe(i,"shape",()=>t.shape),i.keyof=()=>Bd(Object.keys(i._zod.def.shape)),i.catchall=r=>i.clone({...i._zod.def,catchall:r}),i.passthrough=()=>i.clone({...i._zod.def,catchall:Vd()}),i.loose=()=>i.clone({...i._zod.def,catchall:Vd()}),i.strict=()=>i.clone({...i._zod.def,catchall:tR()}),i.strip=()=>i.clone({...i._zod.def,catchall:void 0}),i.extend=r=>tx(i,r),i.safeExtend=r=>nx(i,r),i.merge=r=>ix(i,r),i.pick=r=>W2(i,r),i.omit=r=>ex(i,r),i.partial=(...r)=>sx(fS,i,r[0]),i.required=(...r)=>rx(hS,i,r[0])});function Ai(i,t){const r={type:"object",shape:i??{},...fe(t)};return new iR(r)}const sR=X("ZodUnion",(i,t)=>{MN.init(i,t),St.init(i,t),i._zod.processJSONSchema=(r,a,l)=>tC(i,r,a,l),i.options=t.options});function uS(i,t){return new sR({type:"union",options:i,...fe(t)})}const rR=X("ZodIntersection",(i,t)=>{LN.init(i,t),St.init(i,t),i._zod.processJSONSchema=(r,a,l)=>nC(i,r,a,l)});function aR(i,t){return new rR({type:"intersection",left:i,right:t})}const oR=X("ZodRecord",(i,t)=>{UN.init(i,t),St.init(i,t),i._zod.processJSONSchema=(r,a,l)=>iC(i,r,a,l),i.keyType=t.keyType,i.valueType=t.valueType});function cS(i,t,r){return new oR({type:"record",keyType:i,valueType:t,...fe(r)})}const Hd=X("ZodEnum",(i,t)=>{jN.init(i,t),St.init(i,t),i._zod.processJSONSchema=(a,l,h)=>KO(i,a,l),i.enum=t.entries,i.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));i.extract=(a,l)=>{const h={};for(const d of a)if(r.has(d))h[d]=t.entries[d];else throw new Error(`Key ${d} not found in enum`);return new Hd({...t,checks:[],...fe(l),entries:h})},i.exclude=(a,l)=>{const h={...t.entries};for(const d of a)if(r.has(d))delete h[d];else throw new Error(`Key ${d} not found in enum`);return new Hd({...t,checks:[],...fe(l),entries:h})}});function Bd(i,t){const r=Array.isArray(i)?Object.fromEntries(i.map(a=>[a,a])):i;return new Hd({type:"enum",entries:r,...fe(t)})}const lR=X("ZodTransform",(i,t)=>{PN.init(i,t),St.init(i,t),i._zod.processJSONSchema=(r,a,l)=>QO(i,r),i._zod.parse=(r,a)=>{if(a.direction==="backward")throw new M_(i.constructor.name);r.addIssue=h=>{if(typeof h=="string")r.issues.push(zl(h,r.value,t));else{const d=h;d.fatal&&(d.continue=!1),d.code??(d.code="custom"),d.input??(d.input=r.value),d.inst??(d.inst=i),r.issues.push(zl(d))}};const l=t.transform(r.value,r);return l instanceof Promise?l.then(h=>(r.value=h,r)):(r.value=l,r)}});function uR(i){return new lR({type:"transform",transform:i})}const fS=X("ZodOptional",(i,t)=>{eS.init(i,t),St.init(i,t),i._zod.processJSONSchema=(r,a,l)=>aS(i,r,a,l),i.unwrap=()=>i._zod.def.innerType});function r0(i){return new fS({type:"optional",innerType:i})}const cR=X("ZodExactOptional",(i,t)=>{VN.init(i,t),St.init(i,t),i._zod.processJSONSchema=(r,a,l)=>aS(i,r,a,l),i.unwrap=()=>i._zod.def.innerType});function fR(i){return new cR({type:"optional",innerType:i})}const hR=X("ZodNullable",(i,t)=>{HN.init(i,t),St.init(i,t),i._zod.processJSONSchema=(r,a,l)=>sC(i,r,a,l),i.unwrap=()=>i._zod.def.innerType});function a0(i){return new hR({type:"nullable",innerType:i})}const dR=X("ZodDefault",(i,t)=>{BN.init(i,t),St.init(i,t),i._zod.processJSONSchema=(r,a,l)=>aC(i,r,a,l),i.unwrap=()=>i._zod.def.innerType,i.removeDefault=i.unwrap});function mR(i,t){return new dR({type:"default",innerType:i,get defaultValue(){return typeof t=="function"?t():P_(t)}})}const pR=X("ZodPrefault",(i,t)=>{GN.init(i,t),St.init(i,t),i._zod.processJSONSchema=(r,a,l)=>oC(i,r,a,l),i.unwrap=()=>i._zod.def.innerType});function gR(i,t){return new pR({type:"prefault",innerType:i,get defaultValue(){return typeof t=="function"?t():P_(t)}})}const hS=X("ZodNonOptional",(i,t)=>{ZN.init(i,t),St.init(i,t),i._zod.processJSONSchema=(r,a,l)=>rC(i,r,a,l),i.unwrap=()=>i._zod.def.innerType});function yR(i,t){return new hS({type:"nonoptional",innerType:i,...fe(t)})}const vR=X("ZodCatch",(i,t)=>{qN.init(i,t),St.init(i,t),i._zod.processJSONSchema=(r,a,l)=>lC(i,r,a,l),i.unwrap=()=>i._zod.def.innerType,i.removeCatch=i.unwrap});function _R(i,t){return new vR({type:"catch",innerType:i,catchValue:typeof t=="function"?t:()=>t})}const SR=X("ZodPipe",(i,t)=>{$N.init(i,t),St.init(i,t),i._zod.processJSONSchema=(r,a,l)=>uC(i,r,a,l),i.in=t.in,i.out=t.out});function o0(i,t){return new SR({type:"pipe",in:i,out:t})}const bR=X("ZodReadonly",(i,t)=>{XN.init(i,t),St.init(i,t),i._zod.processJSONSchema=(r,a,l)=>cC(i,r,a,l),i.unwrap=()=>i._zod.def.innerType});function ER(i){return new bR({type:"readonly",innerType:i})}const TR=X("ZodCustom",(i,t)=>{YN.init(i,t),St.init(i,t),i._zod.processJSONSchema=(r,a,l)=>JO(i,r)});function AR(i,t={}){return VO(TR,i,t)}function wR(i){return HO(i)}Zi("Validation");const l0=Lt().min(1).max(100);Lt().regex(/^[a-fA-F0-9]{64}$/);const dm=Lt().regex(/^npub1[1-9ac-hjk-np-z46-9]+$/),dS=Lt().min(1).max(50).regex(/^[a-zA-Z0-9\s\-'.]+$/);Lt().regex(/^[a-zA-Z0-9.\-_]+(@[a-zA-Z0-9.\-_]+\.[a-zA-Z]{2,})?$/);Ai({challenge:Lt().min(10).max(200),expiresAt:Kt().int().positive()});Ai({kind:Kt().int(),created_at:Kt().int().nonnegative(),tags:mo(mo(Lt())),content:Lt()});const xR=Ai({npub:dm,displayName:dS.nullable()}),mS=Ai({visitedAt:Lt().nullable().optional(),completedAt:Lt().nullable().optional(),quizAttempts:mo(Ai({xpEarned:Kt().int().min(0).optional(),score:Kt().min(0).max(100).optional(),timestamp:Lt().optional(),difficulty:Bd(["easy","medium","hard"]).optional(),correctAnswers:Kt().int().min(0).optional(),totalQuestions:Kt().int().min(1).optional()})).optional(),visualizationsInteracted:mo(Lt().max(100)).optional(),masteryLevel:uS([Kt().int().min(0).max(3),Bd(["none","learning","familiar","mastered"])]).nullable().optional(),sectionId:Lt().optional(),timeSpentSeconds:Kt().int().min(0).optional()});Ai({user:Ai({totalXP:Kt().int().min(0),level:Kt().int().min(1).max(10),sectionsCompleted:mo(l0)}),sections:cS(l0,mS),dailyGoals:Ai({lastResetDate:Lt().nullable(),currentStreak:Kt().int().min(0),xpEarned:Kt().int().min(0),xpGoal:Kt().int().min(0)}),lastUpdated:Kt().int().nonnegative()});Ai({success:QC(),totalXP:Kt().int().min(0)});Ai({npub:dm,displayName:dS.nullable(),xp:Kt().int().min(0),lastSync:Lt()});Ai({timestamp:Lt(),action:Lt(),targetNpub:dm.nullable(),performedBy:Lt(),details:cS(Lt(),Vd()).nullable()});function NR(i){const t=mS.safeParse(i);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid section data format"}}function OR(i){const t=xR.safeParse(i);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid auth state format"}}const Vc=Zi("SyncManager"),CR="magic-internet-math-progress";function u0(){try{const i=localStorage.getItem(CR);if(!i)return null;const t=JSON.parse(i);if(!t?.user||!t?.sections)return null;const r=t.user.totalXP||0,a={ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0,"mod-race":0,"base-race":0,man_econ_state:0,koblitz:0,coding:0,west_graphs:0,"numbers-geometry":0,"ross-prob":0,"intro-discrete":0,road_to_serfdom:0,"only-the-strong-survive":0,orange_btc:0,math_history:0,rudin:0,df:0,"euler-intro":0,"tao-analysis-1":0,bfi:0,frost:0};for(const[l,h]of Object.entries(t.sections)){const[d]=l.split(":");if(!rT(d))continue;const y=d,_=NR(h);if(!_.valid||!_.data){Vc.warn(`Invalid section data for ${l}, skipping`);continue}const E=_.data;if(E.quizAttempts)for(const C of E.quizAttempts)C.xpEarned&&(a[y]+=C.xpEarned);E.visitedAt&&(a[y]+=Bt.SECTION_VISIT),E.completedAt&&(a[y]+=Bt.SECTION_COMPLETE),E.visualizationsInteracted&&(a[y]+=E.visualizationsInteracted.length*Bt.VISUALIZATION_USE)}return{scores:[{courseId:"ba",xp:a.ba},{courseId:"crypto",xp:a.crypto},{courseId:"aa",xp:a.aa},{courseId:"linalg",xp:a.linalg},{courseId:"advlinalg",xp:a.advlinalg},{courseId:"islr",xp:a.islr},{courseId:"ra",xp:a.ra},{courseId:"calc1",xp:a.calc1},{courseId:"calc_lib_art",xp:a.calc_lib_art},{courseId:"calc_easy",xp:a.calc_easy},{courseId:"wm",xp:a.wm},{courseId:"four_pillars",xp:a.four_pillars},{courseId:"mom",xp:a.mom},{courseId:"euclid",xp:a.euclid},{courseId:"thales",xp:a.thales},{courseId:"gauss",xp:a.gauss},{courseId:"human_action",xp:a.human_action},{courseId:"atlas_shrugged",xp:a.atlas_shrugged}],totalXP:r}}catch(i){return Vc.error("Error extracting scores from storage:",i),null}}class RR{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.isAuthenticated=!1,this.displayName=null,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.syncNow()}}setAuthenticated(t){this.isAuthenticated=t,t&&this.syncNow()}setDisplayName(t){this.displayName=t}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.syncNow()},R_),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(){this.isAuthenticated&&(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow()},k_))}async syncNow(){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!fr())return{success:!1,error:"Firebase not configured"};const t=Date.now();if(t-this.lastSyncTime<C_)return{success:!1,error:"Rate limited"};try{const r=u0();if(!r)return{success:!1,error:"No scores to sync"};const a=Dl(),l=fo(a,"syncScores"),h={scores:r.scores,totalXP:r.totalXP};this.displayName!==void 0&&(h.displayName=this.displayName);const d=await l(h);return this.lastSyncTime=t,{success:d.data.success,totalXP:d.data.totalXP}}catch(r){return Vc.error("Sync failed:",r),{success:!1,error:r instanceof Error?r.message:"Unknown error"}}}async syncWithRetry(t=3){for(let r=0;r<t;r++){const a=await this.syncNow();if(a.success||a.error==="Not authenticated"||a.error==="No scores to sync"||a.error==="Firebase not configured")return a;if(r<t-1){const l=1e3*Math.pow(2,r);Vc.debug(`Sync retry ${r+1}/${t} in ${l}ms`),await new Promise(h=>setTimeout(h,l)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}getLocalScores(){const t=u0();return t?t.scores.reduce((r,a)=>(r[a.courseId]=a.xp,r),{ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0}):null}}let bd=null;function vl(){return bd||(bd=new RR),bd}const Ht=Zi("NostrAuth"),pS=Z.createContext(null),_l="magic-internet-math-nostr-auth";function kR({children:i}){const[t,r]=Z.useState(!1),[a,l]=Z.useState(null),[h,d]=Z.useState(null),[y,_]=Z.useState(null),[E,C]=Z.useState(!1),[R,U]=Z.useState(null),[F,J]=Z.useState(!1),[te,le]=Z.useState(!1),[xe,Se]=Z.useState(null);Z.useEffect(()=>{(async()=>{const N=await Z2(E2);J(N),le(!0)})()},[]);const ae=Z.useCallback(async x=>{for(const N of T2)try{const A=await q2(N,x);if(A){A.nip05&&_(A.nip05);const I=A.display_name||A.name;if(I){d(I);const T=vl();T.setDisplayName(I),T.requestSync()}return}}catch(A){Ht.warn(`Failed to fetch profile from ${N}:`,A)}},[]);Z.useEffect(()=>{if(!fr())return;const x=yd(),N=O1(x,async A=>{if(Se(A),A){l(A.uid);try{const T=await A.getIdTokenResult(!0);Ht.debug("Token claims:",T.claims),C(T.claims.isAdmin===!0)}catch(T){Ht.error("Error getting token:",T),C(!1)}try{const T=localStorage.getItem(_l);if(T){const Ne=JSON.parse(T),Ee=OR(Ne);if(!Ee.valid||!Ee.data){Ht.warn("Invalid auth state in localStorage:",Ee.error),localStorage.removeItem(_l);return}Ee.data.npub===A.uid&&d(Ee.data.displayName)}}catch(T){Ht.debug("Storage read error:",T)}const I=vl();I.setAuthenticated(!0),I.startPeriodicSync();try{const T=G2(A.uid);ae(T)}catch(T){Ht.debug("Npub conversion error:",T)}}else{l(null),_(null),C(!1),d(null);const I=vl();I.setAuthenticated(!1),I.stopPeriodicSync()}});return()=>N()},[ae]);const ne=Z.useCallback(async()=>{if(Ht.debug("connect() called"),Ht.debug("isFirebaseConfigured:",fr()),Ht.debug("hasNostrExtension:",Mc()),!fr()){Ht.info("Firebase not configured, cannot connect");return}if(!Mc()){U("No Nostr extension found. Please install nos2x, Alby, or another NIP-07 extension."),Ht.warn("No extension found, returning");return}r(!0),U(null),Ht.info("Starting Nostr connection...");try{const x=window.nostr,N=Dl(),A=await x.getPublicKey(),I=B2(A),Ne=await fo(N,"createChallenge")({pubkeyHex:A}),{challenge:Ee}=Ne.data,G={kind:$2,created_at:Math.floor(Date.now()/1e3),tags:[["challenge",Ee]],content:Ee},W=await x.signEvent(G),Me=await fo(N,"verifyNostrAndCreateToken")({signedEvent:W,challenge:Ee}),Ue=yd();await w1(Ue,Me.data.token);try{const ze={npub:I,displayName:null};localStorage.setItem(_l,JSON.stringify(ze))}catch(ze){Ht.warn("Failed to store auth state:",ze)}vl().syncNow().catch(ze=>{Ht.warn("Initial sync failed:",ze)})}catch(x){Ht.error("Nostr connect error:",x),U(x instanceof Error?x.message:"Failed to connect. Please try again.")}finally{r(!1)}},[F]),pe=Z.useCallback(async()=>{try{if(fr()){const x=yd();await C1(x)}try{localStorage.removeItem(_l)}catch(x){Ht.warn("Failed to clear auth state from storage:",x)}l(null),d(null),C(!1)}catch(x){Ht.error("Disconnect error:",x),U(x instanceof Error?x.message:"Failed to disconnect")}},[]),be=Z.useCallback(x=>{if(d(x),a)try{localStorage.setItem(_l,JSON.stringify({npub:a,displayName:x}))}catch(A){Ht.warn("Failed to update display name in storage:",A)}const N=vl();N.setDisplayName(x),N.requestSync()},[a]),z=Z.useCallback(()=>{U(null)},[]),w=Z.useMemo(()=>({isAuthenticated:!!xe&&!!a,isConnecting:t,npub:a,displayName:h,nip05:y,isAdmin:E,error:R,hasExtension:F,extensionChecked:te,connect:ne,disconnect:pe,setDisplayName:be,clearError:z}),[xe,a,t,h,y,E,R,F,te,ne,pe,be,z]);return S.jsx(pS.Provider,{value:w,children:i})}const DR={isAuthenticated:!1,isConnecting:!1,npub:null,displayName:null,nip05:null,isAdmin:!1,error:null,hasExtension:!1,extensionChecked:!0,connect:async()=>{},disconnect:async()=>{},setDisplayName:()=>{},clearError:()=>{}};function zR(){const i=Z.useContext(pS);return i||DR}const ar=Zi("GamificationProgress"),IR=500,MR=()=>!!window.webkit?.messageHandlers?.progressHandler,eo=(i,t)=>{MR()&&window.webkit.messageHandlers.progressHandler.postMessage({type:i,...t})},gS=Z.createContext(null);function LR({children:i,courseId:t,curriculum:r}){const[a,l]=Z.useReducer(OT,D0()),[h,d]=Z.useState(!0),[y,_]=Z.useState([]),[E,C]=Z.useState("idle"),R=Z.useRef(null),U=Z.useRef(!1),F=Z.useRef(!1),{isAuthenticated:J,npub:te}=zR(),le=Z.useCallback(N=>`${t}:${N}`,[t]),xe=Z.useCallback((N,A)=>{if(!r)return null;const I=r.find(W=>W.sections.some(ue=>ue.id===N));if(!I)return null;const T=`${t}:part${I.id}`;if(A.user.partsCompleted.includes(T))return null;const Ne=I.sections.map(W=>le(W.id)),Ee=le(N);return Ne.every(W=>A.user.sectionsCompleted.includes(W)||W===Ee)?T:null},[r,t,le]);Z.useEffect(()=>{const N=ta();N&&l({type:"LOAD_STATE",payload:N}),J||queueMicrotask(()=>d(!1))},[]),Z.useEffect(()=>{const N=Vv(),A=N.onStatusChange(C),I=F.current;return F.current=J,J&&!I?(ar.info("User authenticated, fetching progress from server"),N.setAuthenticated(!0),(async()=>{d(!0);try{const Ne=dT(),Ee=ta();if(Ne&&Ee){ar.info("Migrating local progress to server");const G=await N.migrateLocalProgress(Ee);G.success&&G.state?(l({type:"MERGE_WITH_SERVER",payload:G.state}),hT(),ar.info("Migration complete")):ar.warn("Migration failed, using local state")}else{const G=await N.fetchServerProgress();G.found&&G.progress?(ar.info("Loaded progress from server"),l({type:"LOAD_FROM_SERVER",payload:G.progress}),N.setLastSyncedAt(G.lastSyncedAt)):ar.info("No server progress found, using local state")}}catch(Ne){ar.error("Failed to sync with server:",Ne)}finally{queueMicrotask(()=>d(!1)),U.current=!0}})(),N.startPeriodicSync()):!J&&I?(ar.info("User logged out"),N.setAuthenticated(!1),N.stopPeriodicSync(),U.current=!1):J||queueMicrotask(()=>d(!1)),()=>{A()}},[J,te]),Z.useEffect(()=>{h||(qc(a),J&&U.current&&Vv().requestSync(a))},[a,h,J]),Z.useEffect(()=>{h||l({type:"UPDATE_STREAK"})},[h]),Z.useEffect(()=>{if(!h)return R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{const N=yT(a);N.length>0&&_(A=>[...A,...N])},IR),()=>{R.current&&clearTimeout(R.current)}},[a,h]);const Se=Z.useCallback(N=>{l({type:"VISIT_SECTION",payload:{sectionId:le(N)}})},[le]),ae=Z.useCallback(N=>{const A=xe(N,a);l({type:"COMPLETE_SECTION",payload:{sectionId:le(N)}}),A&&(l({type:"COMPLETE_PART",payload:{partId:A}}),eo("partCompleted",{partId:A,courseId:t})),eo("sectionCompleted",{sectionId:le(N),courseId:t})},[le,t,xe,a]),ne=Z.useCallback((N,A,I,T,Ne)=>{const Ee=le(N),G=I>=80?xe(N,a):null;l({type:"RECORD_QUIZ",payload:{sectionId:Ee,difficulty:A,score:I,correctAnswers:T,totalQuestions:Ne}}),G&&(l({type:"COMPLETE_PART",payload:{partId:G}}),eo("partCompleted",{partId:G,courseId:t})),eo("quizCompleted",{sectionId:Ee,courseId:t,score:I,correctAnswers:T,totalQuestions:Ne}),I>=80&&eo("sectionCompleted",{sectionId:Ee,courseId:t})},[le,t,xe,a]),pe=Z.useCallback((N,A)=>{l({type:"USE_VISUALIZATION",payload:{sectionId:le(N),name:A}})},[le]),be=Z.useCallback(N=>{_(A=>A.filter(I=>I.id!==N))},[]),z=Z.useCallback(()=>{l({type:"RESET_PROGRESS"})},[]),w=Z.useCallback(N=>{l({type:"RECORD_RACE_GAME",payload:N}),eo("raceGameCompleted",{courseId:t,score:N.score,tier:N.tier,correctAnswers:N.correctAnswers,totalQuestions:N.totalQuestions,isMultiplayer:N.isMultiplayer})},[t]),x=Z.useMemo(()=>({state:a,isLoading:h,notifications:y,syncStatus:E,visitSection:Se,completeSection:ae,recordQuiz:ne,useVisualization:pe,dismissNotification:be,resetProgress:z,recordRaceGame:w,dispatch:l}),[a,h,y,E,Se,ae,ne,pe,be,z,w,l]);return S.jsx(gS.Provider,{value:x,children:i})}function nf(){const i=Z.useContext(gS);if(!i)throw new Error("useGamification must be used within a GamificationProvider");return i}const UR=Ol;function ck(i){return`${UR}:${i}`}function c0({children:i}){return S.jsx(LR,{courseId:Ol,children:i})}const jR=Zi("ErrorBoundary");class PR extends Z.Component{constructor(t){super(t),this.handleReset=()=>{this.setState({hasError:!1,error:null})},this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){jR.error("React Error Boundary caught an error:",{error:t.message,stack:t.stack,componentStack:r.componentStack})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:S.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:S.jsxs("div",{className:"max-w-md w-full text-center",children:[S.jsx("div",{className:"text-6xl mb-6",children:S.jsx("span",{role:"img","aria-label":"Warning",children:""})}),S.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Something went wrong"}),S.jsx("p",{className:"text-dark-400 mb-6",children:"An unexpected error occurred. Please try refreshing the page."}),this.state.error&&S.jsxs("details",{className:"mb-6 text-left",children:[S.jsx("summary",{className:"text-dark-500 cursor-pointer hover:text-dark-400 text-sm",children:"Error details"}),S.jsx("pre",{className:"mt-2 p-3 bg-dark-800 rounded-lg text-xs text-red-400 overflow-auto max-h-32",children:this.state.error.message})]}),S.jsxs("div",{className:"flex gap-4 justify-center",children:[S.jsx("button",{onClick:this.handleReset,className:"px-6 py-3 rounded-xl bg-dark-700 hover:bg-dark-600 text-dark-200 font-medium transition-colors",children:"Try Again"}),S.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:"Refresh Page"})]})]})}):this.props.children}}const Tc=Zi("ErrorContext");async function VR(i){if(fr())try{const t=Dl();if(!t){Tc.debug("Firebase functions not initialized");return}await fo(t,"logClientError")({error:{message:i.message,details:i.details,recoverable:i.recoverable,userAgent:i.userAgent,url:i.url,severity:i.severity}}),Tc.debug("Error logged to Firebase:",i.message)}catch(t){Tc.debug("Failed to log error to Firebase:",t)}}const yS=Z.createContext(null);function HR({children:i,onError:t}){const[r,a]=Z.useState([]),l=Z.useCallback(y=>{const _={id:crypto.randomUUID(),...y,timestamp:new Date,recoverable:y.recoverable??!0,userAgent:typeof navigator<"u"?navigator.userAgent:void 0,url:typeof window<"u"?window.location.href:void 0,severity:y.severity??"error"};a(E=>{const C=[...E,_];return t&&t(_),C}),VR(_).catch(()=>{}),Tc.error("App error added:",_)},[t]),h=Z.useCallback(y=>{a(_=>_.filter(E=>E.id!==y))},[]),d=Z.useCallback(()=>{a([])},[]);return S.jsx(yS.Provider,{value:{errors:r,addError:l,dismissError:h,dismissAll:d},children:i})}function BR(){const i=Z.useContext(yS);if(!i)throw new Error("useErrorContext must be used within ErrorProvider");return i}function GR({className:i=""}){const{errors:t,dismissError:r,dismissAll:a}=BR();return t.length===0?null:S.jsx("div",{className:`fixed bottom-4 right-4 z-50 max-w-md w-full ${i}`,children:S.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg shadow-lg p-4 space-y-3",children:[S.jsxs("div",{className:"flex items-start justify-between",children:[S.jsxs("h3",{className:"text-lg font-semibold text-red-900",children:[t.length===1?"Error":"Errors"," (",t.length,")"]}),t.length>1&&S.jsx("button",{onClick:a,className:"text-red-600 hover:text-red-800 text-sm underline",children:"Dismiss all"})]}),S.jsx("div",{className:"space-y-2",children:t.map(l=>S.jsx("div",{className:"bg-white p-3 rounded border border-red-100",children:S.jsxs("div",{className:"flex justify-between items-start gap-2",children:[S.jsxs("div",{className:"flex-1",children:[S.jsx("p",{className:"text-red-900 font-medium",children:l.message}),l.details&&S.jsx("p",{className:"text-sm text-red-700 mt-1",children:l.details})]}),S.jsx("button",{onClick:()=>r(l.id),className:"text-red-500 hover:text-red-700","aria-label":"Dismiss error",children:""})]})},l.id))}),t.some(l=>!l.recoverable)&&S.jsxs("div",{className:"mt-3 p-2 bg-red-50 rounded text-sm text-red-700",children:[S.jsx("strong",{children:"Note:"})," Some errors cannot be recovered. Please try refreshing the page or contact support."]})]})})}const ZR={sm:"h-6 w-6 border-2",md:"h-10 w-10 border-3",lg:"h-14 w-14 border-4"};function Mt({message:i="Loading...",size:t="lg",fullScreen:r=!0}){const a=S.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[S.jsx("div",{className:`animate-spin rounded-full border-t-primary-500 border-r-transparent border-b-primary-500/30 border-l-transparent ${ZR[t]}`,role:"status","aria-label":"Loading"}),i&&S.jsx("p",{className:"text-dark-400 text-sm animate-pulse",children:i})]});return r?S.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:a}):a}const la=[{id:1,title:"Introduction to Vectors",slug:"introduction-to-vectors",sections:[{id:1,title:"1.1 Vectors and Linear Combinations",slug:"vectors-and-linear-combinations",description:"The basic operations of adding vectors and multiplying by scalars."},{id:2,title:"1.2 Lengths and Dot Products",slug:"lengths-and-dot-products",description:"Computing lengths and angles using the dot product."},{id:3,title:"1.3 Matrices",slug:"matrices",description:"Introduction to matrices and matrix-vector multiplication."}]},{id:2,title:"Solving Linear Equations",slug:"solving-linear-equations",sections:[{id:4,title:"2.1 Vectors and Linear Equations",slug:"vectors-and-linear-equations",description:"The row and column pictures of linear systems."},{id:5,title:"2.2 The Idea of Elimination",slug:"idea-of-elimination",description:"Gaussian elimination to solve systems of equations."},{id:6,title:"2.3 Elimination Using Matrices",slug:"elimination-using-matrices",description:"Matrix notation for elimination steps."},{id:7,title:"2.4 Rules for Matrix Operations",slug:"rules-for-matrix-operations",description:"Matrix multiplication and its properties."},{id:8,title:"2.5 Inverse Matrices",slug:"inverse-matrices",description:"Finding and using the inverse of a matrix."},{id:9,title:"2.6 Elimination = Factorization: A = LU",slug:"lu-factorization",description:"LU decomposition and its applications."},{id:10,title:"2.7 Transposes and Permutations",slug:"transposes-and-permutations",description:"Transpose matrices and row exchanges."}]},{id:3,title:"Vector Spaces and Subspaces",slug:"vector-spaces-and-subspaces",sections:[{id:11,title:"3.1 Spaces of Vectors",slug:"spaces-of-vectors",description:"Definition and examples of vector spaces."},{id:12,title:"3.2 The Nullspace of A",slug:"nullspace",description:"Solving Ax = 0 and Rx = 0."},{id:13,title:"3.3 The Complete Solution to Ax = b",slug:"complete-solution",description:"Particular and homogeneous solutions."},{id:14,title:"3.4 Independence, Basis and Dimension",slug:"independence-basis-dimension",description:"Linear independence and spanning sets."},{id:15,title:"3.5 Dimensions of the Four Subspaces",slug:"four-subspaces",description:"Column space, row space, nullspace, and left nullspace."}]},{id:4,title:"Orthogonality",slug:"orthogonality",sections:[{id:16,title:"4.1 Orthogonality of the Four Subspaces",slug:"orthogonality-subspaces",description:"Perpendicular subspaces and orthogonal complements."},{id:17,title:"4.2 Projections",slug:"projections",description:"Projecting onto lines and planes."},{id:18,title:"4.3 Least Squares Approximations",slug:"least-squares",description:"Best-fit solutions when Ax = b has no solution."},{id:19,title:"4.4 Orthonormal Bases and Gram-Schmidt",slug:"gram-schmidt",description:"Creating orthonormal bases and QR factorization."}]},{id:5,title:"Determinants",slug:"determinants",sections:[{id:20,title:"5.1 The Properties of Determinants",slug:"properties-of-determinants",description:"The three defining properties and their consequences."},{id:21,title:"5.2 Permutations and Cofactors",slug:"permutations-and-cofactors",description:"Computing determinants by cofactor expansion."},{id:22,title:"5.3 Cramer's Rule, Inverses, and Volumes",slug:"cramers-rule",description:"Applications of determinants to solving systems."}]},{id:6,title:"Eigenvalues and Eigenvectors",slug:"eigenvalues-and-eigenvectors",sections:[{id:23,title:"6.1 Introduction to Eigenvalues",slug:"introduction-to-eigenvalues",description:"Finding eigenvalues and eigenvectors."},{id:24,title:"6.2 Diagonalizing a Matrix",slug:"diagonalizing-a-matrix",description:"When and how matrices can be diagonalized."},{id:25,title:"6.3 Systems of Differential Equations",slug:"systems-of-differential-equations",description:"Using eigenvalues to solve differential equations."},{id:26,title:"6.4 Symmetric Matrices",slug:"symmetric-matrices",description:"Special properties of symmetric matrices."},{id:27,title:"6.5 Positive Definite Matrices",slug:"positive-definite-matrices",description:"Tests for positive definiteness."}]},{id:7,title:"The Singular Value Decomposition (SVD)",slug:"singular-value-decomposition",sections:[{id:28,title:"7.1 Image Processing by Linear Algebra",slug:"image-processing",description:"Applications of linear algebra to images."},{id:29,title:"7.2 Bases and Matrices in the SVD",slug:"bases-and-matrices-svd",description:"Understanding the SVD factorization."},{id:30,title:"7.3 Principal Component Analysis (PCA)",slug:"pca",description:"Dimensionality reduction with PCA."},{id:31,title:"7.4 The Geometry of the SVD",slug:"geometry-of-svd",description:"Geometric interpretation of singular values."}]},{id:8,title:"Linear Transformations",slug:"linear-transformations",sections:[{id:32,title:"8.1 The Idea of a Linear Transformation",slug:"idea-of-linear-transformation",description:"What makes a transformation linear."},{id:33,title:"8.2 The Matrix of a Linear Transformation",slug:"matrix-of-transformation",description:"Representing transformations as matrices."},{id:34,title:"8.3 The Search for a Good Basis",slug:"search-for-good-basis",description:"Change of basis and similar matrices."}]},{id:9,title:"Complex Vectors and Matrices",slug:"complex-vectors-and-matrices",sections:[{id:35,title:"9.1 Complex Numbers",slug:"complex-numbers",description:"Review of complex arithmetic."},{id:36,title:"9.2 Hermitian and Unitary Matrices",slug:"hermitian-and-unitary",description:"Complex analogues of symmetric and orthogonal matrices."},{id:37,title:"9.3 The Fast Fourier Transform",slug:"fast-fourier-transform",description:"The FFT algorithm and its applications."}]},{id:10,title:"Applications",slug:"applications",sections:[{id:38,title:"10.1 Graphs and Networks",slug:"graphs-and-networks",description:"Linear algebra in graph theory."},{id:39,title:"10.2 Matrices in Engineering",slug:"matrices-in-engineering",description:"Structural analysis and finite elements."},{id:40,title:"10.3 Markov Matrices, Population, and Economics",slug:"markov-matrices",description:"Probability and steady states."},{id:41,title:"10.4 Linear Programming",slug:"linear-programming",description:"Optimization with linear constraints."},{id:42,title:"10.5 Fourier Series: Linear Algebra for Functions",slug:"fourier-series",description:"Function spaces and orthogonality."},{id:43,title:"10.6 Computer Graphics",slug:"computer-graphics",description:"Transformations in 2D and 3D graphics."},{id:44,title:"10.7 Linear Algebra for Cryptography",slug:"linear-algebra-cryptography",description:"Encryption and coding theory."}]},{id:11,title:"Numerical Linear Algebra",slug:"numerical-linear-algebra",sections:[{id:45,title:"11.1 Gaussian Elimination in Practice",slug:"gaussian-elimination-practice",description:"Numerical stability and pivoting."},{id:46,title:"11.2 Norms and Condition Numbers",slug:"norms-and-condition-numbers",description:"Measuring error and sensitivity."},{id:47,title:"11.3 Iterative Methods and Preconditioners",slug:"iterative-methods",description:"Solving large sparse systems."}]},{id:12,title:"Linear Algebra in Probability & Statistics",slug:"linear-algebra-probability-statistics",sections:[{id:48,title:"12.1 Mean, Variance, and Probability",slug:"mean-variance-probability",description:"Statistical foundations."},{id:49,title:"12.2 Covariance Matrices and Joint Probabilities",slug:"covariance-matrices",description:"Multivariate statistics."},{id:50,title:"12.3 Multivariate Gaussian and Weighted Least Squares",slug:"multivariate-gaussian",description:"Normal distributions and weighted regression."}]}];function fk(i){for(const t of la){const r=t.sections.find(a=>a.id===i);if(r)return r}}function hk(i){return la.find(t=>t.sections.some(r=>r.id===i))}function dk(i){const t=la.flatMap(a=>a.sections),r=t.findIndex(a=>a.id===i);return{prev:r>0?t[r-1]:null,next:r<t.length-1?t[r+1]:null}}function qR(){return la.reduce((i,t)=>i+t.sections.length,0)}function $R(){return la.flatMap(i=>i.sections)}function mk(i){return $R().findIndex(r=>r.id===i)}function XR({xp:i,level:t,compact:r=!1}){const a=z0(i,t);return r?S.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[S.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",t]}),S.jsxs("span",{className:"text-dark-400",children:[i," XP"]})]}):S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:S.jsx("span",{className:"text-sm font-bold text-white",children:t})}),S.jsxs("div",{className:"flex-1 min-w-[80px]",children:[S.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[S.jsxs("span",{className:"text-dark-400",children:["Level ",t]}),S.jsxs("span",{className:"text-primary-400 font-medium",children:[i," XP"]})]}),S.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:S.jsx(xl.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${a}%`},transition:{duration:.5}})})]})]})}function YR({streak:i}){return i===0?null:S.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[S.jsx("span",{className:"text-orange-400",children:""}),S.jsx("span",{className:"text-sm font-medium text-orange-400",children:i})]})}function f0(){const i=nf(),t=bi.gamification?i:null,r=qR(),a=t?t.state.user.sectionsCompleted.filter(h=>h.startsWith(Ol)).length:0,l=Math.round(a/r*100);return S.jsx("div",{className:"py-8 px-4",children:S.jsxs("div",{className:"max-w-4xl mx-auto",children:[S.jsxs("div",{className:"text-center mb-12",children:[S.jsx("span",{className:"text-6xl mb-4 block",children:A0}),S.jsx("h1",{className:"text-4xl font-bold text-dark-100 mb-4",children:T0}),S.jsx("p",{className:"text-xl text-dark-400 max-w-2xl mx-auto",children:ME})]}),bi.gamification&&t&&S.jsxs("div",{className:"mb-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("h2",{className:"text-lg font-semibold text-dark-100",children:"Your Progress"}),S.jsx(YR,{streak:t.state.streak.currentStreak})]}),S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[S.jsx("div",{children:S.jsx(XR,{xp:t.state.user.totalXP,level:t.state.user.level})}),S.jsxs("div",{className:"flex flex-col justify-center",children:[S.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[S.jsx("span",{className:"text-dark-400",children:"Course Progress"}),S.jsxs("span",{className:"text-primary-400 font-medium",children:[l,"%"]})]}),S.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:S.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",style:{width:`${l}%`}})}),S.jsxs("div",{className:"text-xs text-dark-500 mt-1",children:[a," of ",r," sections"]})]}),S.jsxs("div",{className:"flex flex-col justify-center items-end",children:[S.jsx("div",{className:"text-2xl font-bold text-dark-100",children:t.state.user.quizzesTaken}),S.jsx("div",{className:"text-sm text-dark-400",children:"Quizzes Completed"})]})]})]}),S.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Course Content"}),S.jsx("div",{className:"space-y-4",children:la.map(h=>S.jsxs("div",{className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-dark-600/50 transition-colors",children:[S.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[S.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:S.jsx("span",{className:"text-lg font-bold text-primary-400",children:h.id})}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:h.title}),S.jsxs("p",{className:"text-sm text-dark-400",children:[h.sections.length," sections"]})]})]}),S.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:h.sections.map(d=>{const y=`${Ol}:${d.id}`,_=t?.state.user.sectionsCompleted.includes(y);return S.jsxs(cE,{to:`/section/${d.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-dark-700/50 transition-colors group",children:[S.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${_?"bg-emerald-500/20 text-emerald-400":"bg-dark-700 text-dark-400"}`,children:_?S.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):S.jsx("span",{className:"text-xs",children:d.id})}),S.jsx("span",{className:"text-sm text-dark-300 group-hover:text-dark-100 transition-colors",children:d.title})]},d.id)})})]},h.id))})]})})}function FR(i){const t={};for(const[r,a]of Object.entries(i)){const l=r.match(/Section(\d+)/);if(l){const h=parseInt(l[1],10);t[h]=a}}return t}const vS=Z.createContext(null);function KR({config:i,children:t}){return S.jsx(vS.Provider,{value:i,children:t})}function _S(){const i=Z.useContext(vS);if(!i)throw new Error("useCourseConfig must be used within CourseConfigProvider");return i}function JR({xp:i,level:t,compact:r=!1}){const a=z0(i,t);return r?S.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[S.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",t]}),S.jsxs("span",{className:"text-dark-400",children:[i," XP"]})]}):S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:S.jsx("span",{className:"text-sm font-bold text-white",children:t})}),S.jsxs("div",{className:"flex-1 min-w-[80px]",children:[S.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[S.jsxs("span",{className:"text-dark-400",children:["Level ",t]}),S.jsxs("span",{className:"text-primary-400 font-medium",children:[i," XP"]})]}),S.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:S.jsx(xl.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${a}%`},transition:{duration:.5}})})]})]})}function QR({streak:i}){return i===0?null:S.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[S.jsx("span",{className:"text-orange-400",children:""}),S.jsx("span",{className:"text-sm font-medium text-orange-400",children:i})]})}function WR({level:i,showLabel:t=!1}){const{label:r,color:a,symbol:l}=bT(i);return S.jsxs("div",{className:`flex items-center gap-1.5 ${a}`,children:[S.jsx("span",{className:"text-sm",children:l}),t&&S.jsx("span",{className:"text-xs",children:r})]})}function e4({onImportSuccess:i}){const[t,r]=Z.useState(!1),[a,l]=Z.useState(null),[h,d]=Z.useState(!1),y=Z.useRef(null),_=fT(),E=()=>{lT(),l({type:"success",text:"Progress exported! Check your downloads folder."}),setTimeout(()=>l(null),3e3)},C=()=>{y.current?.click()},R=async U=>{const F=U.target.files?.[0];if(!F)return;d(!0),l(null);const J=await cT(F);d(!1),l({type:J.success?"success":"error",text:J.message}),J.success&&(i?.(),setTimeout(()=>{window.location.reload()},1500)),y.current&&(y.current.value="")};return S.jsxs("div",{className:"relative",children:[S.jsx("button",{onClick:()=>r(!t),className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":"Backup & restore progress",title:"Backup & restore progress",children:S.jsx("svg",{className:"w-5 h-5 text-dark-400 hover:text-dark-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),t&&S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>r(!1)}),S.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-dark-800 rounded-lg shadow-xl border border-dark-700 z-50 p-4",children:[S.jsx("h3",{className:"text-sm font-semibold text-dark-100 mb-3",children:"Progress Backup"}),_&&S.jsxs("div",{className:"mb-4 p-3 bg-dark-900 rounded-lg",children:[S.jsx("div",{className:"text-xs text-dark-400 mb-1",children:"Current Progress"}),S.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[S.jsxs("span",{className:"text-accent-400 font-semibold",children:[_.totalXP," XP"]}),S.jsxs("span",{className:"text-dark-300",children:["Level ",_.level]}),S.jsxs("span",{className:"text-dark-400",children:[_.sectionsCompleted," sections"]})]})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsxs("button",{onClick:E,disabled:!_,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Progress"]}),S.jsxs("button",{onClick:C,disabled:h,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50",children:[S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),h?"Importing...":"Import Backup"]}),S.jsx("input",{ref:y,type:"file",accept:".json",onChange:R,className:"hidden"})]}),a&&S.jsx("div",{className:`mt-3 p-2 rounded text-xs ${a.type==="success"?"bg-green-900/50 text-green-300 border border-green-700":"bg-red-900/50 text-red-300 border border-red-700"}`,children:a.text}),S.jsx("p",{className:"mt-3 text-xs text-dark-500",children:"Export your progress regularly to avoid losing your XP. Import to restore from a backup file."})]})]})]})}const t4={progress:"",mastery:"",dedication:"",exploration:""};function n4({notification:i,onDismiss:t}){return Z.useEffect(()=>{const r=setTimeout(t,5e3);return()=>clearTimeout(r)},[t]),S.jsx(xl.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"pointer-events-auto",children:S.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl bg-dark-800 border border-primary-500/30 shadow-xl shadow-primary-500/10",children:[S.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:t4[i.category]||""}),S.jsxs("div",{className:"flex-1",children:[S.jsx("div",{className:"text-xs text-primary-400 font-medium uppercase tracking-wider mb-0.5",children:"Achievement Unlocked!"}),S.jsx("div",{className:"text-dark-100 font-semibold",children:i.title}),S.jsx("div",{className:"text-sm text-dark-400",children:i.description})]}),S.jsxs("div",{className:"text-right",children:[S.jsxs("div",{className:"text-lg font-bold text-primary-400",children:["+",i.xpReward]}),S.jsx("div",{className:"text-xs text-dark-500",children:"XP"})]}),S.jsx("button",{onClick:t,className:"p-1 text-dark-500 hover:text-dark-300 transition-colors",children:S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function i4({notifications:i,onDismiss:t}){return S.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 pointer-events-none",children:S.jsx(Td,{mode:"popLayout",children:i.map(r=>S.jsx(n4,{notification:r,onDismiss:()=>t(r.id)},r.id))})})}function Gd(){return Gd=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])}return i},Gd.apply(this,arguments)}var h0;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(h0||(h0={}));function wi(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function SS(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function d0(i){let{pathname:t="/",search:r="",hash:a=""}=i;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function bS(i){let t={};if(i){let r=i.indexOf("#");r>=0&&(t.hash=i.substr(r),i=i.substr(0,r));let a=i.indexOf("?");a>=0&&(t.search=i.substr(a),i=i.substr(0,a)),i&&(t.pathname=i)}return t}var m0;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(m0||(m0={}));function p0(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,a]=s4(i.path,i.caseSensitive,i.end),l=t.match(r);if(!l)return null;let h=l[0],d=h.replace(/(.)\/+$/,"$1"),y=l.slice(1);return{params:a.reduce((E,C,R)=>{let{paramName:U,isOptional:F}=C;if(U==="*"){let te=y[R]||"";d=h.slice(0,h.length-te.length).replace(/(.)\/+$/,"$1")}const J=y[R];return F&&!J?E[U]=void 0:E[U]=(J||"").replace(/%2F/g,"/"),E},{}),pathname:h,pathnameBase:d,pattern:i}}function s4(i,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),SS(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let a=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,y,_)=>(a.push({paramName:y,isOptional:_!=null}),_?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function Hc(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=i.charAt(r);return a&&a!=="/"?null:i.slice(r)||"/"}const r4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,a4=i=>r4.test(i);function o4(i,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:l=""}=typeof i=="string"?bS(i):i,h;if(r)if(a4(r))h=r;else{if(r.includes("//")){let d=r;r=r.replace(/\/\/+/g,"/"),SS(!1,"Pathnames cannot have embedded double slashes - normalizing "+(d+" -> "+r))}r.startsWith("/")?h=g0(r.substring(1),"/"):h=g0(r,t)}else h=t;return{pathname:h,search:u4(a),hash:c4(l)}}function g0(i,t){let r=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?r.length>1&&r.pop():l!=="."&&r.push(l)}),r.length>1?r.join("/"):"/"}function Ed(i,t,r,a){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function l4(i){return i.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ES(i,t){let r=l4(i);return t?r.map((a,l)=>l===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function TS(i,t,r,a){a===void 0&&(a=!1);let l;typeof i=="string"?l=bS(i):(l=Gd({},i),wi(!l.pathname||!l.pathname.includes("?"),Ed("?","pathname","search",l)),wi(!l.pathname||!l.pathname.includes("#"),Ed("#","pathname","hash",l)),wi(!l.search||!l.search.includes("#"),Ed("#","search","hash",l)));let h=i===""||l.pathname==="",d=h?"/":l.pathname,y;if(d==null)y=r;else{let R=t.length-1;if(!a&&d.startsWith("..")){let U=d.split("/");for(;U[0]==="..";)U.shift(),R-=1;l.pathname=U.join("/")}y=R>=0?t[R]:"/"}let _=o4(l,y),E=d&&d!=="/"&&d.endsWith("/"),C=(h||d===".")&&r.endsWith("/");return!_.pathname.endsWith("/")&&(E||C)&&(_.pathname+="/"),_}const AS=i=>i.join("/").replace(/\/\/+/g,"/"),u4=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,c4=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,wS=["post","put","patch","delete"];new Set(wS);const f4=["get",...wS];new Set(f4);function Zd(){return Zd=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])}return i},Zd.apply(this,arguments)}const mm=Z.createContext(null),h4=Z.createContext(null),_o=Z.createContext(null),xS=Z.createContext(null),sf=Z.createContext({outlet:null,matches:[],isDataRoute:!1});function d4(i,t){let{relative:r}=t===void 0?{}:t;pm()||wi(!1);let{basename:a,navigator:l}=Z.useContext(_o),{hash:h,pathname:d,search:y}=af(i,{relative:r}),_=d;return a!=="/"&&(_=d==="/"?a:AS([a,d])),l.createHref({pathname:_,search:y,hash:h})}function pm(){return Z.useContext(xS)!=null}function rf(){return pm()||wi(!1),Z.useContext(xS).location}function NS(i){Z.useContext(_o).static||Z.useLayoutEffect(i)}function m4(){let{isDataRoute:i}=Z.useContext(sf);return i?_4():p4()}function p4(){pm()||wi(!1);let i=Z.useContext(mm),{basename:t,future:r,navigator:a}=Z.useContext(_o),{matches:l}=Z.useContext(sf),{pathname:h}=rf(),d=JSON.stringify(ES(l,r.v7_relativeSplatPath)),y=Z.useRef(!1);return NS(()=>{y.current=!0}),Z.useCallback(function(E,C){if(C===void 0&&(C={}),!y.current)return;if(typeof E=="number"){a.go(E);return}let R=TS(E,JSON.parse(d),h,C.relative==="path");i==null&&t!=="/"&&(R.pathname=R.pathname==="/"?t:AS([t,R.pathname])),(C.replace?a.replace:a.push)(R,C.state,C)},[t,a,d,h,i])}function af(i,t){let{relative:r}=t===void 0?{}:t,{future:a}=Z.useContext(_o),{matches:l}=Z.useContext(sf),{pathname:h}=rf(),d=JSON.stringify(ES(l,a.v7_relativeSplatPath));return Z.useMemo(()=>TS(i,JSON.parse(d),h,r==="path"),[i,d,h,r])}var OS=(function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i})(OS||{}),CS=(function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i})(CS||{});function g4(i){let t=Z.useContext(mm);return t||wi(!1),t}function y4(i){let t=Z.useContext(sf);return t||wi(!1),t}function v4(i){let t=y4(),r=t.matches[t.matches.length-1];return r.route.id||wi(!1),r.route.id}function _4(){let{router:i}=g4(OS.UseNavigateStable),t=v4(CS.UseNavigateStable),r=Z.useRef(!1);return NS(()=>{r.current=!0}),Z.useCallback(function(l,h){h===void 0&&(h={}),r.current&&(typeof l=="number"?i.navigate(l):i.navigate(l,Zd({fromRouteId:t},h)))},[i,t])}new Promise(()=>{});function Bc(){return Bc=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(i[a]=r[a])}return i},Bc.apply(this,arguments)}function RS(i,t){if(i==null)return{};var r={},a=Object.keys(i),l,h;for(h=0;h<a.length;h++)l=a[h],!(t.indexOf(l)>=0)&&(r[l]=i[l]);return r}function S4(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function b4(i,t){return i.button===0&&(!t||t==="_self")&&!S4(i)}const E4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],T4=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],A4="6";try{window.__reactRouterVersion=A4}catch{}const w4=Z.createContext({isTransitioning:!1}),x4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",N4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,to=Z.forwardRef(function(t,r){let{onClick:a,relative:l,reloadDocument:h,replace:d,state:y,target:_,to:E,preventScrollReset:C,viewTransition:R}=t,U=RS(t,E4),{basename:F}=Z.useContext(_o),J,te=!1;if(typeof E=="string"&&N4.test(E)&&(J=E,x4))try{let ae=new URL(window.location.href),ne=E.startsWith("//")?new URL(ae.protocol+E):new URL(E),pe=Hc(ne.pathname,F);ne.origin===ae.origin&&pe!=null?E=pe+ne.search+ne.hash:te=!0}catch{}let le=d4(E,{relative:l}),xe=C4(E,{replace:d,state:y,target:_,preventScrollReset:C,relative:l,viewTransition:R});function Se(ae){a&&a(ae),ae.defaultPrevented||xe(ae)}return Z.createElement("a",Bc({},U,{href:J||le,onClick:te||h?a:Se,ref:r,target:_}))}),pc=Z.forwardRef(function(t,r){let{"aria-current":a="page",caseSensitive:l=!1,className:h="",end:d=!1,style:y,to:_,viewTransition:E,children:C}=t,R=RS(t,T4),U=af(_,{relative:R.relative}),F=rf(),J=Z.useContext(h4),{navigator:te,basename:le}=Z.useContext(_o),xe=J!=null&&R4(U)&&E===!0,Se=te.encodeLocation?te.encodeLocation(U).pathname:U.pathname,ae=F.pathname,ne=J&&J.navigation&&J.navigation.location?J.navigation.location.pathname:null;l||(ae=ae.toLowerCase(),ne=ne?ne.toLowerCase():null,Se=Se.toLowerCase()),ne&&le&&(ne=Hc(ne,le)||ne);const pe=Se!=="/"&&Se.endsWith("/")?Se.length-1:Se.length;let be=ae===Se||!d&&ae.startsWith(Se)&&ae.charAt(pe)==="/",z=ne!=null&&(ne===Se||!d&&ne.startsWith(Se)&&ne.charAt(Se.length)==="/"),w={isActive:be,isPending:z,isTransitioning:xe},x=be?a:void 0,N;typeof h=="function"?N=h(w):N=[h,be?"active":null,z?"pending":null,xe?"transitioning":null].filter(Boolean).join(" ");let A=typeof y=="function"?y(w):y;return Z.createElement(to,Bc({},R,{"aria-current":x,className:N,ref:r,style:A,to:_,viewTransition:E}),typeof C=="function"?C(w):C)});var qd;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(qd||(qd={}));var y0;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(y0||(y0={}));function O4(i){let t=Z.useContext(mm);return t||wi(!1),t}function C4(i,t){let{target:r,replace:a,state:l,preventScrollReset:h,relative:d,viewTransition:y}=t===void 0?{}:t,_=m4(),E=rf(),C=af(i,{relative:d});return Z.useCallback(R=>{if(b4(R,r)){R.preventDefault();let U=a!==void 0?a:d0(E)===d0(C);_(i,{replace:U,state:l,preventScrollReset:h,relative:d,viewTransition:y})}},[E,_,C,a,l,r,i,h,d,y])}function R4(i,t){t===void 0&&(t={});let r=Z.useContext(w4);r==null&&wi(!1);let{basename:a}=O4(qd.useViewTransitionState),l=af(i,{relative:t.relative});if(!r.isTransitioning)return!1;let h=Hc(r.currentLocation.pathname,a)||r.currentLocation.pathname,d=Hc(r.nextLocation.pathname,a)||r.nextLocation.pathname;return p0(l.pathname,d)!=null||p0(l.pathname,h)!=null}function k4({onToggleSidebar:i,sidebarOpen:t}){const{name:r,icon:a,features:l,hubUrl:h}=_S(),d=nf(),y=l.gamification?d:null;return S.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800",children:S.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("button",{onClick:i,className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":t?"Close sidebar":"Open sidebar",children:S.jsx("svg",{className:"w-6 h-6 text-dark-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),S.jsxs(to,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[S.jsx("span",{className:"text-2xl",children:a}),S.jsx("h1",{className:"text-lg font-semibold text-dark-100 hidden sm:block",children:r})]})]}),S.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[S.jsx("a",{href:h,className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Hub"}),S.jsx(to,{to:"/",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Home"}),l.theoremIndex&&S.jsx(to,{to:"/theorems",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Theorems"}),l.interactiveModules&&S.jsx(to,{to:"/interactive",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Interactive"}),l.leaderboard&&S.jsx(to,{to:"/leaderboard",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Leaderboard"})]}),S.jsxs("div",{className:"flex items-center gap-4",children:[l.gamification&&y&&S.jsxs(S.Fragment,{children:[S.jsx(QR,{streak:y.state.streak.currentStreak}),S.jsx(JR,{xp:y.state.user.totalXP,level:y.state.user.level})]}),l.gamification&&S.jsx(e4,{})]})]})})}function D4({isOpen:i,onClose:t}){const{id:r,features:a,curriculum:l}=_S(),[h,d]=Z.useState(new Set([1])),y=nf(),_=a.gamification?y:null,E=R=>{d(U=>{const F=new Set(U);return F.has(R)?F.delete(R):F.add(R),F})},C=R=>{if(!_)return"none";const U=`${r}:${R}`;return _.state.sections[U]?.masteryLevel??"none"};return S.jsxs(S.Fragment,{children:[S.jsx(Td,{children:i&&S.jsx(xl.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/50 z-40 lg:hidden"})}),S.jsx("aside",{className:`
          fixed top-16 left-0 bottom-0 z-40
          w-72 bg-dark-900 border-r border-dark-800
          transform transition-transform duration-300 ease-in-out
          ${i?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0
          overflow-y-auto
        `,children:S.jsxs("nav",{className:"p-4",children:[S.jsxs("div",{className:"mb-6",children:[S.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mb-2",children:[S.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center",children:S.jsx("span",{className:"text-xs font-bold text-amber-400",children:""})}),S.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-dark-500",children:"Reference"})]}),S.jsxs("ul",{className:"space-y-0.5",children:[a.theoremIndex&&S.jsx("li",{children:S.jsxs(pc,{to:"/theorems",className:({isActive:R})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${R?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[S.jsx("span",{className:"text-lg",children:""}),"Theorems"]})}),a.interactiveModules&&S.jsx("li",{children:S.jsxs(pc,{to:"/interactive",className:({isActive:R})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${R?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[S.jsx("span",{className:"text-lg",children:""}),"Interactive Modules"]})}),a.problemSets&&S.jsx("li",{children:S.jsxs(pc,{to:"/problems",className:({isActive:R})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${R?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[S.jsx("span",{className:"text-lg",children:""}),"Problem Sets"]})})]})]}),S.jsx("div",{className:"space-y-2",children:l.map(R=>S.jsxs("div",{children:[S.jsxs("button",{onClick:()=>E(R.id),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-dark-800 transition-colors",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:S.jsx("span",{className:"text-xs font-bold text-primary-400",children:R.id})}),S.jsx("span",{className:"text-sm font-medium text-dark-200",children:R.title})]}),S.jsx("svg",{className:`w-4 h-4 text-dark-500 transition-transform ${h.has(R.id)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),S.jsx(Td,{children:h.has(R.id)&&S.jsx(xl.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"ml-4 mt-1 space-y-0.5 overflow-hidden",children:R.sections.map(U=>S.jsx("li",{children:S.jsxs(pc,{to:`/section/${U.id}`,onClick:()=>{window.innerWidth<1024&&t()},className:({isActive:F})=>`flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${F?"bg-primary-500/10 text-primary-400":"text-dark-400 hover:bg-dark-800 hover:text-dark-200"}`,children:[S.jsx("span",{className:"truncate",children:U.title}),a.gamification&&S.jsx(WR,{level:C(U.id)})]})},U.id))})})]},R.id))})]})})]})}const z4={id:Ol,name:T0,icon:A0,hubUrl:LE,features:bi,curriculum:la},I4=Z.lazy(()=>ie(()=>import("./Leaderboard-B-R53kFm.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url)),M4=Z.lazy(()=>ie(()=>import("./Theorems-QR11VCgL.js"),__vite__mapDeps([6,1,2,3,4,7,5]),import.meta.url)),L4=Z.lazy(()=>ie(()=>import("./InteractiveModules-CX2gcR8B.js"),__vite__mapDeps([8,1,2,3,4,5]),import.meta.url)),U4=Z.lazy(()=>ie(()=>import("./ChapterQuiz-BMc2jZVs.js"),__vite__mapDeps([9,1,2,10,4,3,5]),import.meta.url)),j4=Z.lazy(()=>ie(()=>import("./SectionQuizPage-DuXVRlbY.js"),__vite__mapDeps([11,1,2,4,10,5]),import.meta.url)),P4=Z.lazy(()=>ie(()=>import("./ProblemsIndex-DpltGfVr.js"),__vite__mapDeps([12,1,2,13,14,15,16,17,18,19,20,21,22,23,24,25,4,5]),import.meta.url)),V4=Z.lazy(()=>ie(()=>import("./ProblemsPart01-CONqQETJ.js"),__vite__mapDeps([26,1,2,13,4,27,14,5]),import.meta.url)),H4=Z.lazy(()=>ie(()=>import("./ProblemsPart02-DILAD15w.js"),__vite__mapDeps([28,1,2,13,4,27,15,5]),import.meta.url)),B4=Z.lazy(()=>ie(()=>import("./ProblemsPart03-DMEKXsia.js"),__vite__mapDeps([29,1,2,13,4,27,16,5]),import.meta.url)),G4=Z.lazy(()=>ie(()=>import("./ProblemsPart04-BK6VXxnM.js"),__vite__mapDeps([30,1,2,13,4,27,17,5]),import.meta.url)),Z4=Z.lazy(()=>ie(()=>import("./ProblemsPart05-D3FBbyao.js"),__vite__mapDeps([31,1,2,13,4,27,18,5]),import.meta.url)),q4=Z.lazy(()=>ie(()=>import("./ProblemsPart06-C1PnVu9B.js"),__vite__mapDeps([32,1,2,13,4,27,19,5]),import.meta.url)),$4=Z.lazy(()=>ie(()=>import("./ProblemsPart07-KLf7fkUZ.js"),__vite__mapDeps([33,1,2,13,4,27,20,5]),import.meta.url)),X4=Z.lazy(()=>ie(()=>import("./ProblemsPart08-Dgu7ZeQh.js"),__vite__mapDeps([34,1,2,13,4,27,21,5]),import.meta.url)),Y4=Z.lazy(()=>ie(()=>import("./ProblemsPart09-B2IEKn_Q.js"),__vite__mapDeps([35,1,2,13,4,27,22,5]),import.meta.url)),F4=Z.lazy(()=>ie(()=>import("./ProblemsPart10-Cf1i-vcF.js"),__vite__mapDeps([36,1,2,13,4,27,23,5]),import.meta.url)),K4=Z.lazy(()=>ie(()=>import("./ProblemsPart11-cpfGCEOZ.js"),__vite__mapDeps([37,1,2,13,4,27,24,5]),import.meta.url)),J4=Z.lazy(()=>ie(()=>import("./ProblemsPart12-Wlpc-kSB.js"),__vite__mapDeps([38,1,2,13,4,27,25,5]),import.meta.url)),Q4=Object.assign({"./pages/sections/Section01.tsx":()=>ie(()=>import("./Section01-DWyRBZV3.js"),__vite__mapDeps([39,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section02.tsx":()=>ie(()=>import("./Section02-_GzGN8og.js"),__vite__mapDeps([41,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section03.tsx":()=>ie(()=>import("./Section03-xs3YWs9A.js"),__vite__mapDeps([42,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section04.tsx":()=>ie(()=>import("./Section04-P5BOIscJ.js"),__vite__mapDeps([43,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section05.tsx":()=>ie(()=>import("./Section05-DsXg5JNf.js"),__vite__mapDeps([44,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section06.tsx":()=>ie(()=>import("./Section06-C_m24P9s.js"),__vite__mapDeps([45,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section07.tsx":()=>ie(()=>import("./Section07-McmenjW9.js"),__vite__mapDeps([46,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section08.tsx":()=>ie(()=>import("./Section08-DnwzcrCr.js"),__vite__mapDeps([47,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section09.tsx":()=>ie(()=>import("./Section09-BdXxV_Vv.js"),__vite__mapDeps([48,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section10.tsx":()=>ie(()=>import("./Section10-DzbJtSbj.js"),__vite__mapDeps([49,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section11.tsx":()=>ie(()=>import("./Section11-DOWSvg1w.js"),__vite__mapDeps([50,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section12.tsx":()=>ie(()=>import("./Section12-3l6AE25v.js"),__vite__mapDeps([51,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section13.tsx":()=>ie(()=>import("./Section13-B-3aFSk5.js"),__vite__mapDeps([52,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section14.tsx":()=>ie(()=>import("./Section14-hdL0eQJI.js"),__vite__mapDeps([53,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section15.tsx":()=>ie(()=>import("./Section15-DLGO14-t.js"),__vite__mapDeps([54,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section16.tsx":()=>ie(()=>import("./Section16-C87hEw_0.js"),__vite__mapDeps([55,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section17.tsx":()=>ie(()=>import("./Section17-C4-8_OhZ.js"),__vite__mapDeps([56,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section18.tsx":()=>ie(()=>import("./Section18-rEZHDOpM.js"),__vite__mapDeps([57,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section19.tsx":()=>ie(()=>import("./Section19-UiSCGjs9.js"),__vite__mapDeps([58,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section20.tsx":()=>ie(()=>import("./Section20-CIWHCr6V.js"),__vite__mapDeps([59,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section21.tsx":()=>ie(()=>import("./Section21-Br8zhTUn.js"),__vite__mapDeps([60,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section22.tsx":()=>ie(()=>import("./Section22-CAnRB0gI.js"),__vite__mapDeps([61,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section23.tsx":()=>ie(()=>import("./Section23-CLs_BWRd.js"),__vite__mapDeps([62,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section24.tsx":()=>ie(()=>import("./Section24-CXo0WFS3.js"),__vite__mapDeps([63,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section25.tsx":()=>ie(()=>import("./Section25-DrauEAI6.js"),__vite__mapDeps([64,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section26.tsx":()=>ie(()=>import("./Section26-DhlgJgb7.js"),__vite__mapDeps([65,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section27.tsx":()=>ie(()=>import("./Section27-AgoZSLEW.js"),__vite__mapDeps([66,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section28.tsx":()=>ie(()=>import("./Section28-LwkM9fsZ.js"),__vite__mapDeps([67,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section29.tsx":()=>ie(()=>import("./Section29-BI8tGMuQ.js"),__vite__mapDeps([68,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section30.tsx":()=>ie(()=>import("./Section30-CRnz8X_G.js"),__vite__mapDeps([69,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section31.tsx":()=>ie(()=>import("./Section31-4vgwMShD.js"),__vite__mapDeps([70,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section32.tsx":()=>ie(()=>import("./Section32-Cn_lKKki.js"),__vite__mapDeps([71,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section33.tsx":()=>ie(()=>import("./Section33-B81LC-Eb.js"),__vite__mapDeps([72,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section34.tsx":()=>ie(()=>import("./Section34-B7pxhEn-.js"),__vite__mapDeps([73,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section35.tsx":()=>ie(()=>import("./Section35-gU0A-XYO.js"),__vite__mapDeps([74,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section36.tsx":()=>ie(()=>import("./Section36-hqq4lKwP.js"),__vite__mapDeps([75,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section37.tsx":()=>ie(()=>import("./Section37-CHJfFtH6.js"),__vite__mapDeps([76,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section38.tsx":()=>ie(()=>import("./Section38-CPmQDcpD.js"),__vite__mapDeps([77,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section39.tsx":()=>ie(()=>import("./Section39-46vw5oUD.js"),__vite__mapDeps([78,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section40.tsx":()=>ie(()=>import("./Section40-CJ28nY71.js"),__vite__mapDeps([79,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section41.tsx":()=>ie(()=>import("./Section41-pp2hfnh7.js"),__vite__mapDeps([80,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section42.tsx":()=>ie(()=>import("./Section42-CNSZ10Fi.js"),__vite__mapDeps([81,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section43.tsx":()=>ie(()=>import("./Section43-Cq4LE5Vd.js"),__vite__mapDeps([82,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section44.tsx":()=>ie(()=>import("./Section44-CS_SpHE2.js"),__vite__mapDeps([83,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section45.tsx":()=>ie(()=>import("./Section45--p8bNaqN.js"),__vite__mapDeps([84,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section46.tsx":()=>ie(()=>import("./Section46-CYRDgxkL.js"),__vite__mapDeps([85,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section47.tsx":()=>ie(()=>import("./Section47-RHA69g9x.js"),__vite__mapDeps([86,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section48.tsx":()=>ie(()=>import("./Section48-B4tA_5TW.js"),__vite__mapDeps([87,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section49.tsx":()=>ie(()=>import("./Section49-il8RFgzm.js"),__vite__mapDeps([88,1,2,40,10,4,7,5]),import.meta.url),"./pages/sections/Section50.tsx":()=>ie(()=>import("./Section50-Z7DJv8_G.js"),__vite__mapDeps([89,1,2,40,10,4,7,5]),import.meta.url)}),W4=FR(Q4),kS={};for(const[i,t]of Object.entries(W4))kS[Number(i)]=Z.lazy(t);function ek(){const{id:i}=dE(),t=parseInt(i||"0",10),r=kS[t];return r?S.jsx(Z.Suspense,{fallback:S.jsx(Mt,{message:"Loading section..."}),children:S.jsx(r,{})}):S.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:S.jsxs("div",{className:"text-center",children:[S.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Section Not Found"}),S.jsx("p",{className:"text-dark-400",children:"This section is not yet implemented."})]})})}function tk({children:i}){const[t,r]=Z.useState(!1);return S.jsxs("div",{className:"min-h-screen bg-dark-950",children:[S.jsx(k4,{sidebarOpen:t,onToggleSidebar:()=>r(!t)}),S.jsx(D4,{isOpen:t,onClose:()=>r(!1)}),S.jsx("main",{className:"pt-16 lg:pl-72",children:i})]})}function gc(){return S.jsxs(S.Fragment,{children:[S.jsx(tk,{children:S.jsxs(hE,{children:[S.jsx(At,{path:"/",element:S.jsx(f0,{})}),bi.leaderboard&&S.jsx(At,{path:"/leaderboard",element:S.jsx(Z.Suspense,{fallback:S.jsx(Mt,{message:"Loading leaderboard..."}),children:S.jsx(I4,{})})}),bi.theoremIndex&&S.jsx(At,{path:"/theorems",element:S.jsx(Z.Suspense,{fallback:S.jsx(Mt,{message:"Loading theorems..."}),children:S.jsx(M4,{})})}),bi.interactiveModules&&S.jsx(At,{path:"/interactive",element:S.jsx(Z.Suspense,{fallback:S.jsx(Mt,{message:"Loading modules..."}),children:S.jsx(L4,{})})}),bi.problems&&S.jsxs(S.Fragment,{children:[S.jsx(At,{path:"/problems",element:S.jsx(Z.Suspense,{fallback:S.jsx(Mt,{message:"Loading problems..."}),children:S.jsx(P4,{})})}),S.jsx(At,{path:"/problems/1",element:S.jsx(Z.Suspense,{fallback:S.jsx(Mt,{message:"Loading problems..."}),children:S.jsx(V4,{})})}),S.jsx(At,{path:"/problems/2",element:S.jsx(Z.Suspense,{fallback:S.jsx(Mt,{message:"Loading problems..."}),children:S.jsx(H4,{})})}),S.jsx(At,{path:"/problems/3",element:S.jsx(Z.Suspense,{fallback:S.jsx(Mt,{message:"Loading problems..."}),children:S.jsx(B4,{})})}),S.jsx(At,{path:"/problems/4",element:S.jsx(Z.Suspense,{fallback:S.jsx(Mt,{message:"Loading problems..."}),children:S.jsx(G4,{})})}),S.jsx(At,{path:"/problems/5",element:S.jsx(Z.Suspense,{fallback:S.jsx(Mt,{message:"Loading problems..."}),children:S.jsx(Z4,{})})}),S.jsx(At,{path:"/problems/6",element:S.jsx(Z.Suspense,{fallback:S.jsx(Mt,{message:"Loading problems..."}),children:S.jsx(q4,{})})}),S.jsx(At,{path:"/problems/7",element:S.jsx(Z.Suspense,{fallback:S.jsx(Mt,{message:"Loading problems..."}),children:S.jsx($4,{})})}),S.jsx(At,{path:"/problems/8",element:S.jsx(Z.Suspense,{fallback:S.jsx(Mt,{message:"Loading problems..."}),children:S.jsx(X4,{})})}),S.jsx(At,{path:"/problems/9",element:S.jsx(Z.Suspense,{fallback:S.jsx(Mt,{message:"Loading problems..."}),children:S.jsx(Y4,{})})}),S.jsx(At,{path:"/problems/10",element:S.jsx(Z.Suspense,{fallback:S.jsx(Mt,{message:"Loading problems..."}),children:S.jsx(F4,{})})}),S.jsx(At,{path:"/problems/11",element:S.jsx(Z.Suspense,{fallback:S.jsx(Mt,{message:"Loading problems..."}),children:S.jsx(K4,{})})}),S.jsx(At,{path:"/problems/12",element:S.jsx(Z.Suspense,{fallback:S.jsx(Mt,{message:"Loading problems..."}),children:S.jsx(J4,{})})})]}),S.jsx(At,{path:"/section/:id",element:S.jsx(ek,{})}),S.jsx(At,{path:"/quiz/section/:id",element:S.jsx(Z.Suspense,{fallback:S.jsx(Mt,{message:"Loading quiz..."}),children:S.jsx(j4,{})})}),S.jsx(At,{path:"/chapter/:id/quiz",element:S.jsx(Z.Suspense,{fallback:S.jsx(Mt,{message:"Loading quiz..."}),children:S.jsx(U4,{})})}),S.jsx(At,{path:"*",element:S.jsx(f0,{})})]})}),bi.gamification&&S.jsx(nk,{})]})}function nk(){const{notifications:i,dismissNotification:t}=nf();return S.jsx(i4,{notifications:i,onDismiss:t})}function ik(){return S.jsx(PR,{children:S.jsxs(HR,{children:[S.jsx(KR,{config:z4,children:S.jsx(fE,{children:bi.nostrAuth?S.jsx(kR,{children:bi.gamification?S.jsx(c0,{children:S.jsx(gc,{})}):S.jsx(gc,{})}):bi.gamification?S.jsx(c0,{children:S.jsx(gc,{})}):S.jsx(gc,{})})}),S.jsx(GR,{})]})})}DE.createRoot(document.getElementById("root")).render(S.jsx(Z.StrictMode,{children:S.jsx(ik,{})}));export{T0 as C,bi as F,LE as H,YR as S,XR as X,bT as a,fT as b,la as c,zR as d,lT as e,A0 as f,Zi as g,Ol as h,cT as i,vT as j,Bt as k,fk as l,hk as m,dk as n,qR as o,lk as p,mk as q,ck as r,uk as s,nf as u};
