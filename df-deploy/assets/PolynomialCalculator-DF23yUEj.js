import{j as e,A as b,m as y}from"./vendor-animation-0o8UKZ_1.js";import{r as x}from"./vendor-react-Drj8qL0h.js";function N(l){const s=[];l=l.replace(/\s/g,"").replace(/-/g,"+-");const a=l.split("+").filter(n=>n);for(const n of a)if(n.includes("x")){const[t,o]=n.split("x"),r=t===""||t==="+"?1:t==="-"?-1:parseFloat(t),u=o!=null&&o.includes("^")?parseInt(o.slice(1)):1;for(;s.length<=u;)s.push(0);s[u]+=r}else{const t=parseFloat(n);isNaN(t)||(s.length===0&&s.push(0),s[0]+=t)}return s.length?s:[0]}function h(l){if(l.length===0||l.every(a=>a===0))return"0";const s=[];for(let a=l.length-1;a>=0;a--){const n=l[a];if(n===0)continue;let t="";const o=Math.abs(n),r=n<0?"-":s.length>0?"+":"";a===0?t=`${r}${o}`:a===1?t=o===1?`${r}x`:`${r}${o}x`:t=o===1?`${r}x^${a}`:`${r}${o}x^${a}`,s.push(t)}return s.join(" ")||"0"}function k(l,s){const a=[],n=Math.max(l.length,s.length);for(let t=0;t<n;t++)a[t]=(l[t]||0)+(s[t]||0);for(;a.length>1&&a[a.length-1]===0;)a.pop();return a}function w(l,s){if(l.length===0||s.length===0)return[0];const a=new Array(l.length+s.length-1).fill(0);for(let n=0;n<l.length;n++)for(let t=0;t<s.length;t++)a[n+t]+=l[n]*s[t];return a}function v(l,s){let a=0;for(let n=l.length-1;n>=0;n--)a=a*s+l[n];return a}function c(l){for(let s=l.length-1;s>=0;s--)if(l[s]!==0)return s;return-1/0}function C(){const[l,s]=x.useState("x^2 + 2x + 1"),[a,n]=x.useState("x + 1"),[t,o]=x.useState(2),[r,u]=x.useState("multiply"),i=x.useMemo(()=>N(l),[l]),d=x.useMemo(()=>N(a),[a]),p=x.useMemo(()=>k(i,d),[i,d]),g=x.useMemo(()=>w(i,d),[i,d]),f=x.useMemo(()=>v(i,t),[i,t]),j=x.useMemo(()=>v(d,t),[d,t]);return e.jsxs("div",{className:"p-6 bg-dark-800 rounded-xl",children:[e.jsx("h4",{className:"text-lg font-semibold text-dark-100 mb-4",children:"Polynomial Calculator"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-dark-400 text-sm block mb-1",children:"f(x) ="}),e.jsx("input",{type:"text",value:l,onChange:m=>s(m.target.value),className:"w-full bg-dark-700 text-dark-100 px-3 py-2 rounded border border-dark-600 font-mono",placeholder:"x^2 + 2x + 1"}),e.jsxs("div",{className:"mt-1 text-dark-500 text-xs",children:["deg(f) = ",c(i)===-1/0?"-∞":c(i)]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-dark-400 text-sm block mb-1",children:"g(x) ="}),e.jsx("input",{type:"text",value:a,onChange:m=>n(m.target.value),className:"w-full bg-dark-700 text-dark-100 px-3 py-2 rounded border border-dark-600 font-mono",placeholder:"x + 1"}),e.jsxs("div",{className:"mt-1 text-dark-500 text-xs",children:["deg(g) = ",c(d)===-1/0?"-∞":c(d)]})]})]}),e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsx("button",{onClick:()=>u("add"),className:`px-4 py-2 rounded ${r==="add"?"bg-blue-600 text-white":"bg-dark-700 text-dark-300"}`,children:"f + g"}),e.jsx("button",{onClick:()=>u("multiply"),className:`px-4 py-2 rounded ${r==="multiply"?"bg-purple-600 text-white":"bg-dark-700 text-dark-300"}`,children:"f · g"}),e.jsx("button",{onClick:()=>u("evaluate"),className:`px-4 py-2 rounded ${r==="evaluate"?"bg-green-600 text-white":"bg-dark-700 text-dark-300"}`,children:"Evaluate"})]}),e.jsxs(b,{mode:"wait",children:[r==="add"&&e.jsxs(y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-dark-700 p-4 rounded-lg",children:[e.jsx("div",{className:"text-dark-400 text-sm mb-2",children:"Addition:"}),e.jsxs("div",{className:"font-mono text-lg text-center",children:[e.jsx("span",{className:"text-blue-400",children:h(i)}),e.jsx("span",{className:"text-dark-500 mx-2",children:"+"}),e.jsx("span",{className:"text-purple-400",children:h(d)})]}),e.jsx("div",{className:"text-center text-dark-500 my-2",children:"="}),e.jsx("div",{className:"text-center font-mono text-lg text-green-400",children:h(p)}),e.jsxs("div",{className:"mt-3 text-dark-500 text-sm text-center",children:["deg(f + g) = ",c(p)===-1/0?"-∞":c(p)," ≤ max(",c(i),", ",c(d),") = ",Math.max(c(i),c(d))]})]},"add"),r==="multiply"&&e.jsxs(y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-dark-700 p-4 rounded-lg",children:[e.jsx("div",{className:"text-dark-400 text-sm mb-2",children:"Multiplication:"}),e.jsxs("div",{className:"font-mono text-lg text-center",children:[e.jsxs("span",{className:"text-blue-400",children:["(",h(i),")"]}),e.jsx("span",{className:"text-dark-500 mx-2",children:"·"}),e.jsxs("span",{className:"text-purple-400",children:["(",h(d),")"]})]}),e.jsx("div",{className:"text-center text-dark-500 my-2",children:"="}),e.jsx("div",{className:"text-center font-mono text-lg text-green-400",children:h(g)}),e.jsxs("div",{className:"mt-3 text-dark-500 text-sm text-center",children:["deg(fg) = ",c(g)===-1/0?"-∞":c(g)," = ",c(i)," + ",c(d)]})]},"multiply"),r==="evaluate"&&e.jsxs(y.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-dark-700 p-4 rounded-lg",children:[e.jsx("div",{className:"text-dark-400 text-sm mb-2",children:"Evaluation:"}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("label",{className:"text-dark-400",children:"x ="}),e.jsx("input",{type:"number",value:t,onChange:m=>o(parseFloat(m.target.value)||0),className:"w-20 bg-dark-800 text-dark-100 px-3 py-2 rounded border border-dark-600 font-mono"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-2 bg-dark-800 rounded",children:[e.jsxs("span",{className:"text-blue-400 font-mono",children:["f(",t,")"]}),e.jsx("span",{className:"text-green-400 font-mono text-lg",children:f})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-dark-800 rounded",children:[e.jsxs("span",{className:"text-purple-400 font-mono",children:["g(",t,")"]}),e.jsx("span",{className:"text-green-400 font-mono text-lg",children:j})]}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-dark-800 rounded",children:[e.jsxs("span",{className:"text-yellow-400 font-mono",children:["f(",t,") · g(",t,")"]}),e.jsx("span",{className:"text-green-400 font-mono text-lg",children:f*j})]})]}),e.jsxs("div",{className:"mt-3 text-dark-500 text-sm text-center",children:[f===0&&e.jsxs("span",{className:"text-red-400",children:["x = ",t," is a root of f!"]}),j===0&&e.jsxs("span",{className:"text-red-400",children:["x = ",t," is a root of g!"]})]})]},"evaluate")]}),e.jsxs("div",{className:"mt-6 p-4 bg-dark-700/50 rounded-lg",children:[e.jsx("h5",{className:"text-dark-200 font-medium mb-2",children:"Coefficient View"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-blue-400 mb-1",children:"f(x):"}),e.jsxs("div",{className:"font-mono text-dark-400",children:["[",i.map(m=>m.toFixed(0)).join(", "),"]"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-purple-400 mb-1",children:"g(x):"}),e.jsxs("div",{className:"font-mono text-dark-400",children:["[",d.map(m=>m.toFixed(0)).join(", "),"]"]})]})]}),e.jsx("div",{className:"mt-2 text-dark-500 text-xs",children:"Index i represents coefficient of x^i"})]})]})}export{C as P};
