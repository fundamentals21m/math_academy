const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Leaderboard-BlEG21QI.js","assets/vendor-animation-0o8UKZ_1.js","assets/vendor-react-Drj8qL0h.js","assets/vendor-math-p018AHG0.js","assets/vendor-firebase-core-BXWtuYvb.js","assets/Theorems-DAmCndXx.js","assets/Sidebar-BbenFfIh.js","assets/MathBlock-uz1iP4cD.js","assets/InteractiveModules-HQFiRofg.js","assets/SectionQuizPage-Cvo0_MC2.js","assets/quizMap-u-JE_pu_.js","assets/ProblemsIndex-DZrXPJl2.js","assets/useProblemProgress-CX26Hy07.js","assets/part-00-TeVqFb7n.js","assets/part-01-Ck6mxF4m.js","assets/part-02-BX1sHy4R.js","assets/part-03-DfDn5pXS.js","assets/part-04-M-eKogNI.js","assets/part-05-Db6aUqb_.js","assets/part-06--WIzCez_.js","assets/part-07-DjTq-rsW.js","assets/part-08-UWbDowd2.js","assets/part-09-CsDNHfTh.js","assets/part-10-BlJCJjy8.js","assets/part-11-voitbkus.js","assets/part-12-Cs8dRO1C.js","assets/part-13-soGymbBf.js","assets/part-14-BnkpJkG2.js","assets/part-15-Cq4xphBc.js","assets/part-16-BckG8Q66.js","assets/part-17-D3Pn8foZ.js","assets/part-18-DOy2i1Ib.js","assets/part-19-BJwCzAqd.js","assets/ProblemsPart00-DXAiLiGH.js","assets/ProblemSet-B22l8DWC.js","assets/ProblemsPart01-Di1BRrmu.js","assets/ProblemsPart02-CDXOFZKW.js","assets/ProblemsPart03-CR46w-oj.js","assets/ProblemsPart04-C7_fXEiP.js","assets/ProblemsPart05-B3zp_rBH.js","assets/ProblemsPart06-aEprdADp.js","assets/ProblemsPart07-mMzcuy1I.js","assets/ProblemsPart08-DhqnGDmp.js","assets/ProblemsPart09-BpcnaztR.js","assets/ProblemsPart10-BXadKWtM.js","assets/ProblemsPart11-CJiOeh7h.js","assets/ProblemsPart12-WFsCawbL.js","assets/ProblemsPart13-DFQYfflO.js","assets/ProblemsPart14-D8FujEws.js","assets/ProblemsPart15-SqLEZvLc.js","assets/ProblemsPart16-M27C_-j4.js","assets/ProblemsPart17-CPzTmUyL.js","assets/ProblemsPart18-BJkw4cms.js","assets/ProblemsPart19-CCT3L6Q2.js","assets/Section00-CpmpmlGQ.js","assets/GeneratorVisualizer-C80cD27M.js","assets/NoetherianDemo-BbS3Eq7P.js","assets/Section01-BrG1b0JR.js","assets/Section02-DiN-fPon.js","assets/Section03-CN48igRE.js","assets/Section04-qc3KIQKp.js","assets/Section05-QYlJDQW8.js","assets/Section06-D5fumCmC.js","assets/Section07-DdW7SPPf.js","assets/Section08-DlUH4sUF.js","assets/Section09-BcV-_G8K.js","assets/Section10-5rnAq8SD.js","assets/Section11-CtgpKVxN.js","assets/Section12-CUrgtgB6.js","assets/Section13-BAz9hG52.js","assets/Section14-CiNM_Kpv.js","assets/Section15-9y3PnN1u.js","assets/Section16-h7DRU_39.js","assets/Section17--ETtMQRL.js","assets/Section18-DPZjlWir.js","assets/Section19-CQebyv8e.js","assets/Section20-BAbyltHI.js","assets/Section21-wyimos7N.js","assets/Section22-1E9NXLe0.js","assets/Section23-B0wOL5_M.js","assets/Section24-DitQYuRe.js","assets/Section25-C9Wli-Au.js","assets/Section26-BGrE7HWz.js","assets/Section27--uraJQ4t.js","assets/Section28-CdWC2Olh.js","assets/Section29-DGYyynma.js","assets/Section30-CipxK4c6.js","assets/Section31-B0dS828V.js","assets/Section32-BYoZbGXg.js","assets/ContentBlocks-IW8iO4up.js","assets/Section33-D5BsBs4B.js","assets/Section34-CE5zC5UG.js","assets/Section35-BcGBEP0O.js","assets/PolynomialCalculator-DF23yUEj.js","assets/Section36-C43q7S6b.js","assets/Section37-Bv8_6Va8.js","assets/Section38-D9vV-_EX.js","assets/Section39-IEGmsDok.js","assets/Section40-CQpNViZP.js","assets/Section41-Bn3DKd-b.js","assets/Section42-DsLD0wOK.js","assets/Section43-CuW0vgG9.js","assets/Section44-BNS--RAJ.js","assets/Section45-CtCDea4C.js","assets/Section46-BwJmydIJ.js","assets/Section47-DsESYIiB.js","assets/Section48-Cy4uZgHF.js","assets/Section49-cGg_T1sD.js","assets/Section50-Bbx86cVx.js","assets/Section51-DOhBQVn0.js","assets/Section52-BpJyYaOB.js","assets/Section53-DgW13Imi.js","assets/Section54-Nxt5sFLA.js","assets/Section55-C8qfh2LG.js","assets/Section56-CTK_My-w.js","assets/Section57-D0IriHzq.js","assets/Section58-Cs21IGY-.js","assets/Section59-DSKD5Pty.js","assets/Section60-BxcNiFKA.js","assets/Section61-CRgHp5X8.js","assets/Section62-BB_MUss7.js","assets/Section63-C9lFiIRk.js","assets/Section64-iaUBC3Pf.js","assets/Section65-CtNJaNZ1.js","assets/Section66-D4YLJ-1z.js","assets/Section67-CS-t5E4c.js","assets/Section68-C6VXE_I4.js","assets/Section69-YgGFfhGu.js","assets/Section70-WCVywCGB.js","assets/Section71-BtH6ekjz.js","assets/Section72-DpQQ6L3c.js","assets/Section73-D5Z0qQk3.js","assets/Section74-C25y9Gxx.js","assets/Section75-CwC41_fy.js","assets/Section76-DFovWjTR.js","assets/Section77-vRpgTl2k.js","assets/Section78-iy0Ec34q.js","assets/Section79-CG4mqbmZ.js","assets/Section80-D2P_uHey.js","assets/Section81-BT8imjp4.js","assets/Section82-C7SocN5P.js","assets/Section83-fuoC2Fdb.js","assets/Section84-BdDETUO_.js","assets/Section85-C40L902G.js","assets/Section86-vNU44Ano.js","assets/Section87-Qsc0B8AE.js","assets/Section88-C720XPcm.js","assets/Section89-DE6kGRRh.js","assets/Section90-DN4TJ4ZR.js","assets/Section91-Bmc253Fo.js","assets/Section92-JaAjwADb.js","assets/Section93--XLBImMW.js","assets/Section94-E6q2N-0W.js"])))=>i.map(i=>d[i]);
import{j as p,m as Mo,A as dh}from"./vendor-animation-0o8UKZ_1.js";import{r as j,a as DE,L as xr,N as Pl,H as IE,R as kE,b as ve,u as zE}from"./vendor-react-Drj8qL0h.js";import"./vendor-math-p018AHG0.js";import{o as ME}from"./vendor-firebase-core-BXWtuYvb.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();var y_={exports:{}},xu={},__={exports:{}},v_={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,X){var Y=B.length;B.push(X);e:for(;0<Y;){var de=Y-1>>>1,Oe=B[de];if(0<s(Oe,X))B[de]=X,B[Y]=Oe,Y=de;else break e}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var X=B[0],Y=B.pop();if(Y!==X){B[0]=Y;e:for(var de=0,Oe=B.length,Ee=Oe>>>1;de<Ee;){var vt=2*(de+1)-1,Ie=B[vt],St=vt+1,pe=B[St];if(0>s(Ie,Y))St<Oe&&0>s(pe,Ie)?(B[de]=pe,B[St]=Y,de=St):(B[de]=Ie,B[vt]=Y,de=vt);else if(St<Oe&&0>s(pe,Y))B[de]=pe,B[St]=Y,de=St;else break e}}return X}function s(B,X){var Y=B.sortIndex-X.sortIndex;return Y!==0?Y:B.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var u=[],h=[],d=1,m=null,g=3,T=!1,I=!1,z=!1,P=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function R(B){for(var X=n(h);X!==null;){if(X.callback===null)i(h);else if(X.startTime<=B)i(h),X.sortIndex=X.expirationTime,t(u,X);else break;X=n(h)}}function V(B){if(z=!1,R(B),!I)if(n(u)!==null)I=!0,Z||(Z=!0,C());else{var X=n(h);X!==null&&oe(V,X.startTime-B)}}var Z=!1,b=-1,_=5,v=-1;function S(){return P?!0:!(e.unstable_now()-v<_)}function E(){if(P=!1,Z){var B=e.unstable_now();v=B;var X=!0;try{e:{I=!1,z&&(z=!1,w(b),b=-1),T=!0;var Y=g;try{t:{for(R(B),m=n(u);m!==null&&!(m.expirationTime>B&&S());){var de=m.callback;if(typeof de=="function"){m.callback=null,g=m.priorityLevel;var Oe=de(m.expirationTime<=B);if(B=e.unstable_now(),typeof Oe=="function"){m.callback=Oe,R(B),X=!0;break t}m===n(u)&&i(u),R(B)}else i(u);m=n(u)}if(m!==null)X=!0;else{var Ee=n(h);Ee!==null&&oe(V,Ee.startTime-B),X=!1}}break e}finally{m=null,g=Y,T=!1}X=void 0}}finally{X?C():Z=!1}}}var C;if(typeof N=="function")C=function(){N(E)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,ae=A.port2;A.port1.onmessage=E,C=function(){ae.postMessage(null)}}else C=function(){x(E,0)};function oe(B,X){b=x(function(){B(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(B){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var Y=g;g=X;try{return B()}finally{g=Y}},e.unstable_requestPaint=function(){P=!0},e.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Y=g;g=B;try{return X()}finally{g=Y}},e.unstable_scheduleCallback=function(B,X,Y){var de=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?de+Y:de):Y=de,B){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=Y+Oe,B={id:d++,callback:X,priorityLevel:B,startTime:Y,expirationTime:Oe,sortIndex:-1},Y>de?(B.sortIndex=Y,t(h,B),n(u)===null&&B===n(h)&&(z?(w(b),b=-1):z=!0,oe(V,Y-de))):(B.sortIndex=Oe,t(u,B),I||T||(I=!0,Z||(Z=!0,C()))),B},e.unstable_shouldYield=S,e.unstable_wrapCallback=function(B){var X=g;return function(){var Y=g;g=X;try{return B.apply(this,arguments)}finally{g=Y}}}})(v_);__.exports=v_;var LE=__.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var st=LE,S_=j,UE=DE;function U(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function b_(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function E_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function T_(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vm(e){if(nl(e)!==e)throw Error(U(188))}function jE(e){var t=e.alternate;if(!t){if(t=nl(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var r=s.alternate;if(r===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===n)return vm(s),e;if(r===i)return vm(s),t;r=r.sibling}throw Error(U(188))}if(n.return!==i.return)n=s,i=r;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,i=r;break}if(l===i){a=!0,i=s,n=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===n){a=!0,n=r,i=s;break}if(l===i){a=!0,i=r,n=s;break}l=l.sibling}if(!a)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function A_(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=A_(e),t!==null)return t;e=e.sibling}return null}var De=Object.assign,PE=Symbol.for("react.element"),Vl=Symbol.for("react.transitional.element"),co=Symbol.for("react.portal"),Cr=Symbol.for("react.fragment"),w_=Symbol.for("react.strict_mode"),ph=Symbol.for("react.profiler"),x_=Symbol.for("react.consumer"),fi=Symbol.for("react.context"),Nd=Symbol.for("react.forward_ref"),mh=Symbol.for("react.suspense"),gh=Symbol.for("react.suspense_list"),Cd=Symbol.for("react.memo"),Pi=Symbol.for("react.lazy"),yh=Symbol.for("react.activity"),VE=Symbol.for("react.memo_cache_sentinel"),Sm=Symbol.iterator;function Ya(e){return e===null||typeof e!="object"?null:(e=Sm&&e[Sm]||e["@@iterator"],typeof e=="function"?e:null)}var HE=Symbol.for("react.client.reference");function _h(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===HE?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cr:return"Fragment";case ph:return"Profiler";case w_:return"StrictMode";case mh:return"Suspense";case gh:return"SuspenseList";case yh:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case co:return"Portal";case fi:return e.displayName||"Context";case x_:return(e._context.displayName||"Context")+".Consumer";case Nd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cd:return t=e.displayName||null,t!==null?t:_h(e.type)||"Memo";case Pi:t=e._payload,e=e._init;try{return _h(e(t))}catch{}}return null}var uo=Array.isArray,K=S_.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he=UE.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$s={pending:!1,data:null,method:null,action:null},vh=[],Rr=-1;function $n(e){return{current:e}}function ct(e){0>Rr||(e.current=vh[Rr],vh[Rr]=null,Rr--)}function xe(e,t){Rr++,vh[Rr]=e.current,e.current=t}var Bn=$n(null),Lo=$n(null),ts=$n(null),zc=$n(null);function Mc(e,t){switch(xe(ts,t),xe(Lo,e),xe(Bn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?xg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=xg(t),e=$v(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ct(Bn),xe(Bn,e)}function na(){ct(Bn),ct(Lo),ct(ts)}function Sh(e){e.memoizedState!==null&&xe(zc,e);var t=Bn.current,n=$v(t,e.type);t!==n&&(xe(Lo,e),xe(Bn,n))}function Lc(e){Lo.current===e&&(ct(Bn),ct(Lo)),zc.current===e&&(ct(zc),Fo._currentValue=$s)}var ff,bm;function Ps(e){if(ff===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ff=t&&t[1]||"",bm=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ff+e+bm}var hf=!1;function df(e,t){if(!e||hf)return"";hf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(T){var g=T}Reflect.construct(e,[],m)}else{try{m.call()}catch(T){g=T}e.call(m.prototype)}}else{try{throw Error()}catch(T){g=T}(m=e())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(T){if(T&&g&&typeof T.stack=="string")return[T.stack,g.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=i.DetermineComponentFrameRoot(),a=r[0],l=r[1];if(a&&l){var u=a.split(`
`),h=l.split(`
`);for(s=i=0;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;for(;s<h.length&&!h[s].includes("DetermineComponentFrameRoot");)s++;if(i===u.length||s===h.length)for(i=u.length-1,s=h.length-1;1<=i&&0<=s&&u[i]!==h[s];)s--;for(;1<=i&&0<=s;i--,s--)if(u[i]!==h[s]){if(i!==1||s!==1)do if(i--,s--,0>s||u[i]!==h[s]){var d=`
`+u[i].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=i&&0<=s);break}}}finally{hf=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ps(n):""}function BE(e,t){switch(e.tag){case 26:case 27:case 5:return Ps(e.type);case 16:return Ps("Lazy");case 13:return e.child!==t&&t!==null?Ps("Suspense Fallback"):Ps("Suspense");case 19:return Ps("SuspenseList");case 0:case 15:return df(e.type,!1);case 11:return df(e.type.render,!1);case 1:return df(e.type,!0);case 31:return Ps("Activity");default:return""}}function Em(e){try{var t="",n=null;do t+=BE(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var bh=Object.prototype.hasOwnProperty,Rd=st.unstable_scheduleCallback,pf=st.unstable_cancelCallback,GE=st.unstable_shouldYield,ZE=st.unstable_requestPaint,Ft=st.unstable_now,qE=st.unstable_getCurrentPriorityLevel,O_=st.unstable_ImmediatePriority,N_=st.unstable_UserBlockingPriority,Uc=st.unstable_NormalPriority,$E=st.unstable_LowPriority,C_=st.unstable_IdlePriority,FE=st.log,XE=st.unstable_setDisableYieldValue,il=null,Xt=null;function Yi(e){if(typeof FE=="function"&&XE(e),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(il,e)}catch{}}var Yt=Math.clz32?Math.clz32:JE,YE=Math.log,KE=Math.LN2;function JE(e){return e>>>=0,e===0?32:31-(YE(e)/KE|0)|0}var Hl=256,Bl=262144,Gl=4194304;function Vs(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ou(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var s=0,r=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var l=i&134217727;return l!==0?(i=l&~r,i!==0?s=Vs(i):(a&=l,a!==0?s=Vs(a):n||(n=l&~e,n!==0&&(s=Vs(n))))):(l=i&~r,l!==0?s=Vs(l):a!==0?s=Vs(a):n||(n=i&~e,n!==0&&(s=Vs(n)))),s===0?0:t!==0&&t!==s&&!(t&r)&&(r=s&-s,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:s}function sl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function QE(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R_(){var e=Gl;return Gl<<=1,!(Gl&62914560)&&(Gl=4194304),e}function mf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function rl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function WE(e,t,n,i,s,r){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var l=e.entanglements,u=e.expirationTimes,h=e.hiddenUpdates;for(n=a&~n;0<n;){var d=31-Yt(n),m=1<<d;l[d]=0,u[d]=-1;var g=h[d];if(g!==null)for(h[d]=null,d=0;d<g.length;d++){var T=g[d];T!==null&&(T.lane&=-536870913)}n&=~m}i!==0&&D_(e,i,0),r!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=r&~(a&~t))}function D_(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-Yt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function I_(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Yt(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}function k_(e,t){var n=t&-t;return n=n&42?1:Dd(n),n&(e.suspendedLanes|t)?0:n}function Dd(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Id(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function z_(){var e=he.p;return e!==0?e:(e=window.event,e===void 0?32:iS(e.type))}function Tm(e,t){var n=he.p;try{return he.p=e,t()}finally{he.p=n}}var Ss=Math.random().toString(36).slice(2),mt="__reactFiber$"+Ss,zt="__reactProps$"+Ss,_a="__reactContainer$"+Ss,Eh="__reactEvents$"+Ss,e1="__reactListeners$"+Ss,t1="__reactHandles$"+Ss,Am="__reactResources$"+Ss,al="__reactMarker$"+Ss;function kd(e){delete e[mt],delete e[zt],delete e[Eh],delete e[e1],delete e[t1]}function Dr(e){var t=e[mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_a]||n[mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dg(e);e!==null;){if(n=e[mt])return n;e=Dg(e)}return t}e=n,n=e.parentNode}return null}function va(e){if(e=e[mt]||e[_a]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function fo(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(U(33))}function Zr(e){var t=e[Am];return t||(t=e[Am]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function lt(e){e[al]=!0}var M_=new Set,L_={};function cr(e,t){ia(e,t),ia(e+"Capture",t)}function ia(e,t){for(L_[e]=t,e=0;e<t.length;e++)M_.add(t[e])}var n1=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wm={},xm={};function i1(e){return bh.call(xm,e)?!0:bh.call(wm,e)?!1:n1.test(e)?xm[e]=!0:(wm[e]=!0,!1)}function hc(e,t,n){if(i1(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Zl(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function ti(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function nn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function U_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function s1(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,r=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,r.call(this,a)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Th(e){if(!e._valueTracker){var t=U_(e)?"checked":"value";e._valueTracker=s1(e,t,""+e[t])}}function j_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=U_(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function jc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var r1=/[\n"\\]/g;function an(e){return e.replace(r1,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ah(e,t,n,i,s,r,a,l){e.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?e.type=a:e.removeAttribute("type"),t!=null?a==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+nn(t)):e.value!==""+nn(t)&&(e.value=""+nn(t)):a!=="submit"&&a!=="reset"||e.removeAttribute("value"),t!=null?wh(e,a,nn(t)):n!=null?wh(e,a,nn(n)):i!=null&&e.removeAttribute("value"),s==null&&r!=null&&(e.defaultChecked=!!r),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+nn(l):e.removeAttribute("name")}function P_(e,t,n,i,s,r,a,l){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null)){Th(e);return}n=n!=null?""+nn(n):"",t=t!=null?""+nn(t):n,l||t===e.value||(e.value=t),e.defaultValue=t}i=i??s,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=l?e.checked:!!i,e.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.name=a),Th(e)}function wh(e,t,n){t==="number"&&jc(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function qr(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+nn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function V_(e,t,n){if(t!=null&&(t=""+nn(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+nn(n):""}function H_(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(U(92));if(uo(i)){if(1<i.length)throw Error(U(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=nn(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),Th(e)}function sa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var a1=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Om(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||a1.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function B_(e,t,n){if(t!=null&&typeof t!="object")throw Error(U(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var s in t)i=t[s],t.hasOwnProperty(s)&&n[s]!==i&&Om(e,s,i)}else for(var r in t)t.hasOwnProperty(r)&&Om(e,r,t[r])}function zd(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o1=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),l1=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dc(e){return l1.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function hi(){}var xh=null;function Md(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ir=null,$r=null;function Nm(e){var t=va(e);if(t&&(e=t.stateNode)){var n=e[zt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ah(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+an(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=i[zt]||null;if(!s)throw Error(U(90));Ah(i,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&j_(i)}break e;case"textarea":V_(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&qr(e,!!n.multiple,t,!1)}}}var gf=!1;function G_(e,t,n){if(gf)return e(t,n);gf=!0;try{var i=e(t);return i}finally{if(gf=!1,(Ir!==null||$r!==null)&&(Pu(),Ir&&(t=Ir,e=$r,$r=Ir=null,Nm(t),e)))for(t=0;t<e.length;t++)Nm(e[t])}}function Uo(e,t){var n=e.stateNode;if(n===null)return null;var i=n[zt]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oh=!1;if(vi)try{var Ka={};Object.defineProperty(Ka,"passive",{get:function(){Oh=!0}}),window.addEventListener("test",Ka,Ka),window.removeEventListener("test",Ka,Ka)}catch{Oh=!1}var Ki=null,Ld=null,pc=null;function Z_(){if(pc)return pc;var e,t=Ld,n=t.length,i,s="value"in Ki?Ki.value:Ki.textContent,r=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(i=1;i<=a&&t[n-i]===s[r-i];i++);return pc=s.slice(e,1<i?1-i:void 0)}function mc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ql(){return!0}function Cm(){return!1}function Mt(e){function t(n,i,s,r,a){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?ql:Cm,this.isPropagationStopped=Cm,this}return De(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ql)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ql)},persist:function(){},isPersistent:ql}),t}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nu=Mt(ur),ol=De({},ur,{view:0,detail:0}),c1=Mt(ol),yf,_f,Ja,Cu=De({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ud,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ja&&(Ja&&e.type==="mousemove"?(yf=e.screenX-Ja.screenX,_f=e.screenY-Ja.screenY):_f=yf=0,Ja=e),yf)},movementY:function(e){return"movementY"in e?e.movementY:_f}}),Rm=Mt(Cu),u1=De({},Cu,{dataTransfer:0}),f1=Mt(u1),h1=De({},ol,{relatedTarget:0}),vf=Mt(h1),d1=De({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),p1=Mt(d1),m1=De({},ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),g1=Mt(m1),y1=De({},ur,{data:0}),Dm=Mt(y1),_1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=S1[e])?!!t[e]:!1}function Ud(){return b1}var E1=De({},ol,{key:function(e){if(e.key){var t=_1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?v1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ud,charCode:function(e){return e.type==="keypress"?mc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),T1=Mt(E1),A1=De({},Cu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Im=Mt(A1),w1=De({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ud}),x1=Mt(w1),O1=De({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),N1=Mt(O1),C1=De({},Cu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),R1=Mt(C1),D1=De({},ur,{newState:0,oldState:0}),I1=Mt(D1),k1=[9,13,27,32],jd=vi&&"CompositionEvent"in window,go=null;vi&&"documentMode"in document&&(go=document.documentMode);var z1=vi&&"TextEvent"in window&&!go,q_=vi&&(!jd||go&&8<go&&11>=go),km=" ",zm=!1;function $_(e,t){switch(e){case"keyup":return k1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kr=!1;function M1(e,t){switch(e){case"compositionend":return F_(t);case"keypress":return t.which!==32?null:(zm=!0,km);case"textInput":return e=t.data,e===km&&zm?null:e;default:return null}}function L1(e,t){if(kr)return e==="compositionend"||!jd&&$_(e,t)?(e=Z_(),pc=Ld=Ki=null,kr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return q_&&t.locale!=="ko"?null:t.data;default:return null}}var U1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!U1[e.type]:t==="textarea"}function X_(e,t,n,i){Ir?$r?$r.push(i):$r=[i]:Ir=i,t=nu(t,"onChange"),0<t.length&&(n=new Nu("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var yo=null,jo=null;function j1(e){Gv(e,0)}function Ru(e){var t=fo(e);if(j_(t))return e}function Lm(e,t){if(e==="change")return t}var Y_=!1;if(vi){var Sf;if(vi){var bf="oninput"in document;if(!bf){var Um=document.createElement("div");Um.setAttribute("oninput","return;"),bf=typeof Um.oninput=="function"}Sf=bf}else Sf=!1;Y_=Sf&&(!document.documentMode||9<document.documentMode)}function jm(){yo&&(yo.detachEvent("onpropertychange",K_),jo=yo=null)}function K_(e){if(e.propertyName==="value"&&Ru(jo)){var t=[];X_(t,jo,e,Md(e)),G_(j1,t)}}function P1(e,t,n){e==="focusin"?(jm(),yo=t,jo=n,yo.attachEvent("onpropertychange",K_)):e==="focusout"&&jm()}function V1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(jo)}function H1(e,t){if(e==="click")return Ru(t)}function B1(e,t){if(e==="input"||e==="change")return Ru(t)}function G1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jt=typeof Object.is=="function"?Object.is:G1;function Po(e,t){if(Jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!bh.call(t,s)||!Jt(e[s],t[s]))return!1}return!0}function Pm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vm(e,t){var n=Pm(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pm(n)}}function J_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?J_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Q_(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=jc(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=jc(e.document)}return t}function Pd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Z1=vi&&"documentMode"in document&&11>=document.documentMode,zr=null,Nh=null,_o=null,Ch=!1;function Hm(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ch||zr==null||zr!==jc(i)||(i=zr,"selectionStart"in i&&Pd(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),_o&&Po(_o,i)||(_o=i,i=nu(Nh,"onSelect"),0<i.length&&(t=new Nu("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=zr)))}function js(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Mr={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},Ef={},W_={};vi&&(W_=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function fr(e){if(Ef[e])return Ef[e];if(!Mr[e])return e;var t=Mr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in W_)return Ef[e]=t[n];return e}var e0=fr("animationend"),t0=fr("animationiteration"),n0=fr("animationstart"),q1=fr("transitionrun"),$1=fr("transitionstart"),F1=fr("transitioncancel"),i0=fr("transitionend"),s0=new Map,Rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rh.push("scrollEnd");function xn(e,t){s0.set(e,t),cr(t,[e])}var Pc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},tn=[],Lr=0,Vd=0;function Du(){for(var e=Lr,t=Vd=Lr=0;t<e;){var n=tn[t];tn[t++]=null;var i=tn[t];tn[t++]=null;var s=tn[t];tn[t++]=null;var r=tn[t];if(tn[t++]=null,i!==null&&s!==null){var a=i.pending;a===null?s.next=s:(s.next=a.next,a.next=s),i.pending=s}r!==0&&r0(n,s,r)}}function Iu(e,t,n,i){tn[Lr++]=e,tn[Lr++]=t,tn[Lr++]=n,tn[Lr++]=i,Vd|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Hd(e,t,n,i){return Iu(e,t,n,i),Vc(e)}function hr(e,t){return Iu(e,null,null,t),Vc(e)}function r0(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var s=!1,r=e.return;r!==null;)r.childLanes|=n,i=r.alternate,i!==null&&(i.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(s=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,s&&t!==null&&(s=31-Yt(n),e=r.hiddenUpdates,i=e[s],i===null?e[s]=[t]:i.push(t),t.lane=n|536870912),r):null}function Vc(e){if(50<Oo)throw Oo=0,Jh=null,Error(U(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ur={};function X1(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qt(e,t,n,i){return new X1(e,t,n,i)}function Bd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gi(e,t){var n=e.alternate;return n===null?(n=qt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function a0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function gc(e,t,n,i,s,r){var a=0;if(i=e,typeof e=="function")Bd(e)&&(a=1);else if(typeof e=="string")a=WT(e,n,Bn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case yh:return e=qt(31,n,t,s),e.elementType=yh,e.lanes=r,e;case Cr:return Fs(n.children,s,r,t);case w_:a=8,s|=24;break;case ph:return e=qt(12,n,t,s|2),e.elementType=ph,e.lanes=r,e;case mh:return e=qt(13,n,t,s),e.elementType=mh,e.lanes=r,e;case gh:return e=qt(19,n,t,s),e.elementType=gh,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fi:a=10;break e;case x_:a=9;break e;case Nd:a=11;break e;case Cd:a=14;break e;case Pi:a=16,i=null;break e}a=29,n=Error(U(130,e===null?"null":typeof e,"")),i=null}return t=qt(a,n,t,s),t.elementType=e,t.type=i,t.lanes=r,t}function Fs(e,t,n,i){return e=qt(7,e,i,t),e.lanes=n,e}function Tf(e,t,n){return e=qt(6,e,null,t),e.lanes=n,e}function o0(e){var t=qt(18,null,null,0);return t.stateNode=e,t}function Af(e,t,n){return t=qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Bm=new WeakMap;function on(e,t){if(typeof e=="object"&&e!==null){var n=Bm.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Em(t)},Bm.set(e,t),t)}return{value:e,source:t,stack:Em(t)}}var jr=[],Pr=0,Hc=null,Vo=0,sn=[],rn=0,hs=null,Un=1,jn="";function li(e,t){jr[Pr++]=Vo,jr[Pr++]=Hc,Hc=e,Vo=t}function l0(e,t,n){sn[rn++]=Un,sn[rn++]=jn,sn[rn++]=hs,hs=e;var i=Un;e=jn;var s=32-Yt(i)-1;i&=~(1<<s),n+=1;var r=32-Yt(t)+s;if(30<r){var a=s-s%5;r=(i&(1<<a)-1).toString(32),i>>=a,s-=a,Un=1<<32-Yt(t)+s|n<<s|i,jn=r+e}else Un=1<<r|n<<s|i,jn=e}function Gd(e){e.return!==null&&(li(e,1),l0(e,1,0))}function Zd(e){for(;e===Hc;)Hc=jr[--Pr],jr[Pr]=null,Vo=jr[--Pr],jr[Pr]=null;for(;e===hs;)hs=sn[--rn],sn[rn]=null,jn=sn[--rn],sn[rn]=null,Un=sn[--rn],sn[rn]=null}function c0(e,t){sn[rn++]=Un,sn[rn++]=jn,sn[rn++]=hs,Un=t.id,jn=t.overflow,hs=e}var gt=null,Re=null,se=!1,ns=null,ln=!1,Dh=Error(U(519));function ds(e){var t=Error(U(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ho(on(t,e)),Dh}function Gm(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[mt]=e,t[zt]=i,n){case"dialog":te("cancel",t),te("close",t);break;case"iframe":case"object":case"embed":te("load",t);break;case"video":case"audio":for(n=0;n<qo.length;n++)te(qo[n],t);break;case"source":te("error",t);break;case"img":case"image":case"link":te("error",t),te("load",t);break;case"details":te("toggle",t);break;case"input":te("invalid",t),P_(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":te("invalid",t);break;case"textarea":te("invalid",t),H_(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||qv(t.textContent,n)?(i.popover!=null&&(te("beforetoggle",t),te("toggle",t)),i.onScroll!=null&&te("scroll",t),i.onScrollEnd!=null&&te("scrollend",t),i.onClick!=null&&(t.onclick=hi),t=!0):t=!1,t||ds(e,!0)}function Zm(e){for(gt=e.return;gt;)switch(gt.tag){case 5:case 31:case 13:ln=!1;return;case 27:case 3:ln=!0;return;default:gt=gt.return}}function Tr(e){if(e!==gt)return!1;if(!se)return Zm(e),se=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||nd(e.type,e.memoizedProps)),n=!n),n&&Re&&ds(e),Zm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));Re=Rg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));Re=Rg(e)}else t===27?(t=Re,bs(e.type)?(e=ad,ad=null,Re=e):Re=t):Re=gt?hn(e.stateNode.nextSibling):null;return!0}function Ws(){Re=gt=null,se=!1}function wf(){var e=ns;return e!==null&&(Dt===null?Dt=e:Dt.push.apply(Dt,e),ns=null),e}function Ho(e){ns===null?ns=[e]:ns.push(e)}var Ih=$n(null),dr=null,di=null;function Hi(e,t,n){xe(Ih,t._currentValue),t._currentValue=n}function yi(e){e._currentValue=Ih.current,ct(Ih)}function kh(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function zh(e,t,n,i){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var r=s.dependencies;if(r!==null){var a=s.child;r=r.firstContext;e:for(;r!==null;){var l=r;r=s;for(var u=0;u<t.length;u++)if(l.context===t[u]){r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),kh(r.return,n,e),i||(a=null);break e}r=l.next}}else if(s.tag===18){if(a=s.return,a===null)throw Error(U(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),kh(a,n,e),a=null}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}}function Sa(e,t,n,i){e=null;for(var s=t,r=!1;s!==null;){if(!r){if(s.flags&524288)r=!0;else if(s.flags&262144)break}if(s.tag===10){var a=s.alternate;if(a===null)throw Error(U(387));if(a=a.memoizedProps,a!==null){var l=s.type;Jt(s.pendingProps.value,a.value)||(e!==null?e.push(l):e=[l])}}else if(s===zc.current){if(a=s.alternate,a===null)throw Error(U(387));a.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Fo):e=[Fo])}s=s.return}e!==null&&zh(t,e,n,i),t.flags|=262144}function Bc(e){for(e=e.firstContext;e!==null;){if(!Jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function er(e){dr=e,di=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function yt(e){return u0(dr,e)}function $l(e,t){return dr===null&&er(e),u0(e,t)}function u0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},di===null){if(e===null)throw Error(U(308));di=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else di=di.next=t;return n}var Y1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},K1=st.unstable_scheduleCallback,J1=st.unstable_NormalPriority,Je={$$typeof:fi,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qd(){return{controller:new Y1,data:new Map,refCount:0}}function ll(e){e.refCount--,e.refCount===0&&K1(J1,function(){e.controller.abort()})}var vo=null,Mh=0,ra=0,Fr=null;function Q1(e,t){if(vo===null){var n=vo=[];Mh=0,ra=gp(),Fr={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Mh++,t.then(qm,qm),t}function qm(){if(--Mh===0&&vo!==null){Fr!==null&&(Fr.status="fulfilled");var e=vo;vo=null,ra=0,Fr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function W1(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(s){n.push(s)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var s=0;s<n.length;s++)(0,n[s])(t)},function(s){for(i.status="rejected",i.reason=s,s=0;s<n.length;s++)(0,n[s])(void 0)}),i}var $m=K.S;K.S=function(e,t){Av=Ft(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Q1(e,t),$m!==null&&$m(e,t)};var Xs=$n(null);function $d(){var e=Xs.current;return e!==null?e:Ae.pooledCache}function yc(e,t){t===null?xe(Xs,Xs.current):xe(Xs,t.pool)}function f0(){var e=$d();return e===null?null:{parent:Je._currentValue,pool:e}}var ba=Error(U(460)),Fd=Error(U(474)),ku=Error(U(542)),Gc={then:function(){}};function Fm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function h0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(hi,hi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ym(e),e;default:if(typeof t.status=="string")t.then(hi,hi);else{if(e=Ae,e!==null&&100<e.shellSuspendCounter)throw Error(U(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=i}},function(i){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ym(e),e}throw Ys=t,ba}}function Hs(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ys=n,ba):n}}var Ys=null;function Xm(){if(Ys===null)throw Error(U(459));var e=Ys;return Ys=null,e}function Ym(e){if(e===ba||e===ku)throw Error(U(483))}var Xr=null,Bo=0;function Fl(e){var t=Bo;return Bo+=1,Xr===null&&(Xr=[]),h0(Xr,e,t)}function Qa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Xl(e,t){throw t.$$typeof===PE?Error(U(525)):(e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function d0(e){function t(x,w){if(e){var N=x.deletions;N===null?(x.deletions=[w],x.flags|=16):N.push(w)}}function n(x,w){if(!e)return null;for(;w!==null;)t(x,w),w=w.sibling;return null}function i(x){for(var w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function s(x,w){return x=gi(x,w),x.index=0,x.sibling=null,x}function r(x,w,N){return x.index=N,e?(N=x.alternate,N!==null?(N=N.index,N<w?(x.flags|=67108866,w):N):(x.flags|=67108866,w)):(x.flags|=1048576,w)}function a(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function l(x,w,N,R){return w===null||w.tag!==6?(w=Tf(N,x.mode,R),w.return=x,w):(w=s(w,N),w.return=x,w)}function u(x,w,N,R){var V=N.type;return V===Cr?d(x,w,N.props.children,R,N.key):w!==null&&(w.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Pi&&Hs(V)===w.type)?(w=s(w,N.props),Qa(w,N),w.return=x,w):(w=gc(N.type,N.key,N.props,null,x.mode,R),Qa(w,N),w.return=x,w)}function h(x,w,N,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=Af(N,x.mode,R),w.return=x,w):(w=s(w,N.children||[]),w.return=x,w)}function d(x,w,N,R,V){return w===null||w.tag!==7?(w=Fs(N,x.mode,R,V),w.return=x,w):(w=s(w,N),w.return=x,w)}function m(x,w,N){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Tf(""+w,x.mode,N),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Vl:return N=gc(w.type,w.key,w.props,null,x.mode,N),Qa(N,w),N.return=x,N;case co:return w=Af(w,x.mode,N),w.return=x,w;case Pi:return w=Hs(w),m(x,w,N)}if(uo(w)||Ya(w))return w=Fs(w,x.mode,N,null),w.return=x,w;if(typeof w.then=="function")return m(x,Fl(w),N);if(w.$$typeof===fi)return m(x,$l(x,w),N);Xl(x,w)}return null}function g(x,w,N,R){var V=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return V!==null?null:l(x,w,""+N,R);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Vl:return N.key===V?u(x,w,N,R):null;case co:return N.key===V?h(x,w,N,R):null;case Pi:return N=Hs(N),g(x,w,N,R)}if(uo(N)||Ya(N))return V!==null?null:d(x,w,N,R,null);if(typeof N.then=="function")return g(x,w,Fl(N),R);if(N.$$typeof===fi)return g(x,w,$l(x,N),R);Xl(x,N)}return null}function T(x,w,N,R,V){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return x=x.get(N)||null,l(w,x,""+R,V);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Vl:return x=x.get(R.key===null?N:R.key)||null,u(w,x,R,V);case co:return x=x.get(R.key===null?N:R.key)||null,h(w,x,R,V);case Pi:return R=Hs(R),T(x,w,N,R,V)}if(uo(R)||Ya(R))return x=x.get(N)||null,d(w,x,R,V,null);if(typeof R.then=="function")return T(x,w,N,Fl(R),V);if(R.$$typeof===fi)return T(x,w,N,$l(w,R),V);Xl(w,R)}return null}function I(x,w,N,R){for(var V=null,Z=null,b=w,_=w=0,v=null;b!==null&&_<N.length;_++){b.index>_?(v=b,b=null):v=b.sibling;var S=g(x,b,N[_],R);if(S===null){b===null&&(b=v);break}e&&b&&S.alternate===null&&t(x,b),w=r(S,w,_),Z===null?V=S:Z.sibling=S,Z=S,b=v}if(_===N.length)return n(x,b),se&&li(x,_),V;if(b===null){for(;_<N.length;_++)b=m(x,N[_],R),b!==null&&(w=r(b,w,_),Z===null?V=b:Z.sibling=b,Z=b);return se&&li(x,_),V}for(b=i(b);_<N.length;_++)v=T(b,x,_,N[_],R),v!==null&&(e&&v.alternate!==null&&b.delete(v.key===null?_:v.key),w=r(v,w,_),Z===null?V=v:Z.sibling=v,Z=v);return e&&b.forEach(function(E){return t(x,E)}),se&&li(x,_),V}function z(x,w,N,R){if(N==null)throw Error(U(151));for(var V=null,Z=null,b=w,_=w=0,v=null,S=N.next();b!==null&&!S.done;_++,S=N.next()){b.index>_?(v=b,b=null):v=b.sibling;var E=g(x,b,S.value,R);if(E===null){b===null&&(b=v);break}e&&b&&E.alternate===null&&t(x,b),w=r(E,w,_),Z===null?V=E:Z.sibling=E,Z=E,b=v}if(S.done)return n(x,b),se&&li(x,_),V;if(b===null){for(;!S.done;_++,S=N.next())S=m(x,S.value,R),S!==null&&(w=r(S,w,_),Z===null?V=S:Z.sibling=S,Z=S);return se&&li(x,_),V}for(b=i(b);!S.done;_++,S=N.next())S=T(b,x,_,S.value,R),S!==null&&(e&&S.alternate!==null&&b.delete(S.key===null?_:S.key),w=r(S,w,_),Z===null?V=S:Z.sibling=S,Z=S);return e&&b.forEach(function(C){return t(x,C)}),se&&li(x,_),V}function P(x,w,N,R){if(typeof N=="object"&&N!==null&&N.type===Cr&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Vl:e:{for(var V=N.key;w!==null;){if(w.key===V){if(V=N.type,V===Cr){if(w.tag===7){n(x,w.sibling),R=s(w,N.props.children),R.return=x,x=R;break e}}else if(w.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Pi&&Hs(V)===w.type){n(x,w.sibling),R=s(w,N.props),Qa(R,N),R.return=x,x=R;break e}n(x,w);break}else t(x,w);w=w.sibling}N.type===Cr?(R=Fs(N.props.children,x.mode,R,N.key),R.return=x,x=R):(R=gc(N.type,N.key,N.props,null,x.mode,R),Qa(R,N),R.return=x,x=R)}return a(x);case co:e:{for(V=N.key;w!==null;){if(w.key===V)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){n(x,w.sibling),R=s(w,N.children||[]),R.return=x,x=R;break e}else{n(x,w);break}else t(x,w);w=w.sibling}R=Af(N,x.mode,R),R.return=x,x=R}return a(x);case Pi:return N=Hs(N),P(x,w,N,R)}if(uo(N))return I(x,w,N,R);if(Ya(N)){if(V=Ya(N),typeof V!="function")throw Error(U(150));return N=V.call(N),z(x,w,N,R)}if(typeof N.then=="function")return P(x,w,Fl(N),R);if(N.$$typeof===fi)return P(x,w,$l(x,N),R);Xl(x,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,w!==null&&w.tag===6?(n(x,w.sibling),R=s(w,N),R.return=x,x=R):(n(x,w),R=Tf(N,x.mode,R),R.return=x,x=R),a(x)):n(x,w)}return function(x,w,N,R){try{Bo=0;var V=P(x,w,N,R);return Xr=null,V}catch(b){if(b===ba||b===ku)throw b;var Z=qt(29,b,null,x.mode);return Z.lanes=R,Z.return=x,Z}finally{}}}var tr=d0(!0),p0=d0(!1),Vi=!1;function Xd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,fe&2){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,t=Vc(e),r0(e,null,n),t}return Iu(e,i,t,n),Vc(e)}function So(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,I_(e,n)}}function xf(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?s=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?s=r=t:r=r.next=t}else s=r=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Uh=!1;function bo(){if(Uh){var e=Fr;if(e!==null)throw e}}function Eo(e,t,n,i){Uh=!1;var s=e.updateQueue;Vi=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,h=u.next;u.next=null,a===null?r=h:a.next=h,a=u;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=h:l.next=h,d.lastBaseUpdate=u))}if(r!==null){var m=s.baseState;a=0,d=h=u=null,l=r;do{var g=l.lane&-536870913,T=g!==l.lane;if(T?(ie&g)===g:(i&g)===g){g!==0&&g===ra&&(Uh=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var I=e,z=l;g=t;var P=n;switch(z.tag){case 1:if(I=z.payload,typeof I=="function"){m=I.call(P,m,g);break e}m=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=z.payload,g=typeof I=="function"?I.call(P,m,g):I,g==null)break e;m=De({},m,g);break e;case 2:Vi=!0}}g=l.callback,g!==null&&(e.flags|=64,T&&(e.flags|=8192),T=s.callbacks,T===null?s.callbacks=[g]:T.push(g))}else T={lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(h=d=T,u=m):d=d.next=T,a|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;T=l,l=T.next,T.next=null,s.lastBaseUpdate=T,s.shared.pending=null}}while(!0);d===null&&(u=m),s.baseState=u,s.firstBaseUpdate=h,s.lastBaseUpdate=d,r===null&&(s.shared.lanes=0),ms|=a,e.lanes=a,e.memoizedState=m}}function m0(e,t){if(typeof e!="function")throw Error(U(191,e));e.call(t)}function g0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)m0(n[e],t)}var aa=$n(null),Zc=$n(0);function Km(e,t){e=Ti,xe(Zc,e),xe(aa,t),Ti=e|t.baseLanes}function jh(){xe(Zc,Ti),xe(aa,aa.current)}function Yd(){Ti=Zc.current,ct(aa),ct(Zc)}var Qt=$n(null),fn=null;function Bi(e){var t=e.alternate;xe(qe,qe.current&1),xe(Qt,e),fn===null&&(t===null||aa.current!==null||t.memoizedState!==null)&&(fn=e)}function Ph(e){xe(qe,qe.current),xe(Qt,e),fn===null&&(fn=e)}function y0(e){e.tag===22?(xe(qe,qe.current),xe(Qt,e),fn===null&&(fn=e)):Gi()}function Gi(){xe(qe,qe.current),xe(Qt,Qt.current)}function Zt(e){ct(Qt),fn===e&&(fn=null),ct(qe)}var qe=$n(0);function qc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||sd(n)||rd(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Si=0,Q=null,be=null,Ye=null,$c=!1,Yr=!1,nr=!1,Fc=0,Go=0,Kr=null,eT=0;function Ue(){throw Error(U(321))}function Kd(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jt(e[n],t[n]))return!1;return!0}function Jd(e,t,n,i,s,r){return Si=r,Q=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,K.H=e===null||e.memoizedState===null?X0:lp,nr=!1,r=n(i,s),nr=!1,Yr&&(r=v0(t,n,i,s)),_0(e),r}function _0(e){K.H=Zo;var t=be!==null&&be.next!==null;if(Si=0,Ye=be=Q=null,$c=!1,Go=0,Kr=null,t)throw Error(U(300));e===null||Qe||(e=e.dependencies,e!==null&&Bc(e)&&(Qe=!0))}function v0(e,t,n,i){Q=e;var s=0;do{if(Yr&&(Kr=null),Go=0,Yr=!1,25<=s)throw Error(U(301));if(s+=1,Ye=be=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}K.H=Y0,r=t(n,i)}while(Yr);return r}function tT(){var e=K.H,t=e.useState()[0];return t=typeof t.then=="function"?cl(t):t,e=e.useState()[0],(be!==null?be.memoizedState:null)!==e&&(Q.flags|=1024),t}function Qd(){var e=Fc!==0;return Fc=0,e}function Wd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function ep(e){if($c){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}$c=!1}Si=0,Ye=be=Q=null,Yr=!1,Go=Fc=0,Kr=null}function Tt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?Q.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function $e(){if(be===null){var e=Q.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var t=Ye===null?Q.memoizedState:Ye.next;if(t!==null)Ye=t,be=e;else{if(e===null)throw Q.alternate===null?Error(U(467)):Error(U(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ye===null?Q.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(e){var t=Go;return Go+=1,Kr===null&&(Kr=[]),e=h0(Kr,e,t),t=Q,(Ye===null?t.memoizedState:Ye.next)===null&&(t=t.alternate,K.H=t===null||t.memoizedState===null?X0:lp),e}function Mu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cl(e);if(e.$$typeof===fi)return yt(e)}throw Error(U(438,String(e)))}function tp(e){var t=null,n=Q.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=Q.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=zu(),Q.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=VE;return t.index++,n}function bi(e,t){return typeof t=="function"?t(e):t}function _c(e){var t=$e();return np(t,be,e)}function np(e,t,n){var i=e.queue;if(i===null)throw Error(U(311));i.lastRenderedReducer=n;var s=e.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}t.baseQueue=s=r,i.pending=null}if(r=e.baseState,s===null)e.memoizedState=r;else{t=s.next;var l=a=null,u=null,h=t,d=!1;do{var m=h.lane&-536870913;if(m!==h.lane?(ie&m)===m:(Si&m)===m){var g=h.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),m===ra&&(d=!0);else if((Si&g)===g){h=h.next,g===ra&&(d=!0);continue}else m={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=m,a=r):u=u.next=m,Q.lanes|=g,ms|=g;m=h.action,nr&&n(r,m),r=h.hasEagerState?h.eagerState:n(r,m)}else g={lane:m,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},u===null?(l=u=g,a=r):u=u.next=g,Q.lanes|=m,ms|=m;h=h.next}while(h!==null&&h!==t);if(u===null?a=r:u.next=l,!Jt(r,e.memoizedState)&&(Qe=!0,d&&(n=Fr,n!==null)))throw n;e.memoizedState=r,e.baseState=a,e.baseQueue=u,i.lastRenderedState=r}return s===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Of(e){var t=$e(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,r=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do r=e(r,a.action),a=a.next;while(a!==s);Jt(r,t.memoizedState)||(Qe=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,i]}function S0(e,t,n){var i=Q,s=$e(),r=se;if(r){if(n===void 0)throw Error(U(407));n=n()}else n=t();var a=!Jt((be||s).memoizedState,n);if(a&&(s.memoizedState=n,Qe=!0),s=s.queue,ip(T0.bind(null,i,s,e),[e]),s.getSnapshot!==t||a||Ye!==null&&Ye.memoizedState.tag&1){if(i.flags|=2048,oa(9,{destroy:void 0},E0.bind(null,i,s,n,t),null),Ae===null)throw Error(U(349));r||Si&127||b0(i,t,n)}return n}function b0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Q.updateQueue,t===null?(t=zu(),Q.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function E0(e,t,n,i){t.value=n,t.getSnapshot=i,A0(t)&&w0(e)}function T0(e,t,n){return n(function(){A0(t)&&w0(e)})}function A0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jt(e,n)}catch{return!0}}function w0(e){var t=hr(e,2);t!==null&&kt(t,e,2)}function Vh(e){var t=Tt();if(typeof e=="function"){var n=e;if(e=n(),nr){Yi(!0);try{n()}finally{Yi(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t}function x0(e,t,n,i){return e.baseState=n,np(e,be,typeof i=="function"?i:bi)}function nT(e,t,n,i,s){if(Uu(e))throw Error(U(485));if(e=t.action,e!==null){var r={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};K.T!==null?n(!0):r.isTransition=!1,i(r),n=t.pending,n===null?(r.next=t.pending=r,O0(t,r)):(r.next=n.next,t.pending=n.next=r)}}function O0(e,t){var n=t.action,i=t.payload,s=e.state;if(t.isTransition){var r=K.T,a={};K.T=a;try{var l=n(s,i),u=K.S;u!==null&&u(a,l),Jm(e,t,l)}catch(h){Hh(e,t,h)}finally{r!==null&&a.types!==null&&(r.types=a.types),K.T=r}}else try{r=n(s,i),Jm(e,t,r)}catch(h){Hh(e,t,h)}}function Jm(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Qm(e,t,i)},function(i){return Hh(e,t,i)}):Qm(e,t,n)}function Qm(e,t,n){t.status="fulfilled",t.value=n,N0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,O0(e,n)))}function Hh(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,N0(t),t=t.next;while(t!==i)}e.action=null}function N0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function C0(e,t){return t}function Wm(e,t){if(se){var n=Ae.formState;if(n!==null){e:{var i=Q;if(se){if(Re){t:{for(var s=Re,r=ln;s.nodeType!==8;){if(!r){s=null;break t}if(s=hn(s.nextSibling),s===null){s=null;break t}}r=s.data,s=r==="F!"||r==="F"?s:null}if(s){Re=hn(s.nextSibling),i=s.data==="F!";break e}}ds(i)}i=!1}i&&(t=n[0])}}return n=Tt(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:C0,lastRenderedState:t},n.queue=i,n=q0.bind(null,Q,i),i.dispatch=n,i=Vh(!1),r=op.bind(null,Q,!1,i.queue),i=Tt(),s={state:t,dispatch:null,action:e,pending:null},i.queue=s,n=nT.bind(null,Q,s,r,n),s.dispatch=n,i.memoizedState=e,[t,n,!1]}function eg(e){var t=$e();return R0(t,be,e)}function R0(e,t,n){if(t=np(e,t,C0)[0],e=_c(bi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=cl(t)}catch(a){throw a===ba?ku:a}else i=t;t=$e();var s=t.queue,r=s.dispatch;return n!==t.memoizedState&&(Q.flags|=2048,oa(9,{destroy:void 0},iT.bind(null,s,n),null)),[i,r,e]}function iT(e,t){e.action=t}function tg(e){var t=$e(),n=be;if(n!==null)return R0(t,n,e);$e(),t=t.memoizedState,n=$e();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function oa(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=Q.updateQueue,t===null&&(t=zu(),Q.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function D0(){return $e().memoizedState}function vc(e,t,n,i){var s=Tt();Q.flags|=e,s.memoizedState=oa(1|t,{destroy:void 0},n,i===void 0?null:i)}function Lu(e,t,n,i){var s=$e();i=i===void 0?null:i;var r=s.memoizedState.inst;be!==null&&i!==null&&Kd(i,be.memoizedState.deps)?s.memoizedState=oa(t,r,n,i):(Q.flags|=e,s.memoizedState=oa(1|t,r,n,i))}function ng(e,t){vc(8390656,8,e,t)}function ip(e,t){Lu(2048,8,e,t)}function sT(e){Q.flags|=4;var t=Q.updateQueue;if(t===null)t=zu(),Q.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function I0(e){var t=$e().memoizedState;return sT({ref:t,nextImpl:e}),function(){if(fe&2)throw Error(U(440));return t.impl.apply(void 0,arguments)}}function k0(e,t){return Lu(4,2,e,t)}function z0(e,t){return Lu(4,4,e,t)}function M0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function L0(e,t,n){n=n!=null?n.concat([e]):null,Lu(4,4,M0.bind(null,t,e),n)}function sp(){}function U0(e,t){var n=$e();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Kd(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function j0(e,t){var n=$e();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Kd(t,i[1]))return i[0];if(i=e(),nr){Yi(!0);try{e()}finally{Yi(!1)}}return n.memoizedState=[i,t],i}function rp(e,t,n){return n===void 0||Si&1073741824&&!(ie&261930)?e.memoizedState=t:(e.memoizedState=n,e=xv(),Q.lanes|=e,ms|=e,n)}function P0(e,t,n,i){return Jt(n,t)?n:aa.current!==null?(e=rp(e,n,i),Jt(e,t)||(Qe=!0),e):!(Si&42)||Si&1073741824&&!(ie&261930)?(Qe=!0,e.memoizedState=n):(e=xv(),Q.lanes|=e,ms|=e,t)}function V0(e,t,n,i,s){var r=he.p;he.p=r!==0&&8>r?r:8;var a=K.T,l={};K.T=l,op(e,!1,t,n);try{var u=s(),h=K.S;if(h!==null&&h(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=W1(u,i);To(e,t,d,Kt(e))}else To(e,t,i,Kt(e))}catch(m){To(e,t,{then:function(){},status:"rejected",reason:m},Kt())}finally{he.p=r,a!==null&&l.types!==null&&(a.types=l.types),K.T=a}}function rT(){}function Bh(e,t,n,i){if(e.tag!==5)throw Error(U(476));var s=H0(e).queue;V0(e,s,t,$s,n===null?rT:function(){return B0(e),n(i)})}function H0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:$s,baseState:$s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:$s},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function B0(e){var t=H0(e);t.next===null&&(t=e.alternate.memoizedState),To(e,t.next.queue,{},Kt())}function ap(){return yt(Fo)}function G0(){return $e().memoizedState}function Z0(){return $e().memoizedState}function aT(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Kt();e=is(n);var i=ss(t,e,n);i!==null&&(kt(i,t,n),So(i,t,n)),t={cache:qd()},e.payload=t;return}t=t.return}}function oT(e,t,n){var i=Kt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Uu(e)?$0(t,n):(n=Hd(e,t,n,i),n!==null&&(kt(n,e,i),F0(n,t,i)))}function q0(e,t,n){var i=Kt();To(e,t,n,i)}function To(e,t,n,i){var s={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Uu(e))$0(t,s);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var a=t.lastRenderedState,l=r(a,n);if(s.hasEagerState=!0,s.eagerState=l,Jt(l,a))return Iu(e,t,s,0),Ae===null&&Du(),!1}catch{}finally{}if(n=Hd(e,t,s,i),n!==null)return kt(n,e,i),F0(n,t,i),!0}return!1}function op(e,t,n,i){if(i={lane:2,revertLane:gp(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Uu(e)){if(t)throw Error(U(479))}else t=Hd(e,n,i,2),t!==null&&kt(t,e,2)}function Uu(e){var t=e.alternate;return e===Q||t!==null&&t===Q}function $0(e,t){Yr=$c=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function F0(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,I_(e,n)}}var Zo={readContext:yt,use:Mu,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};Zo.useEffectEvent=Ue;var X0={readContext:yt,use:Mu,useCallback:function(e,t){return Tt().memoizedState=[e,t===void 0?null:t],e},useContext:yt,useEffect:ng,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,vc(4194308,4,M0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vc(4194308,4,e,t)},useInsertionEffect:function(e,t){vc(4,2,e,t)},useMemo:function(e,t){var n=Tt();t=t===void 0?null:t;var i=e();if(nr){Yi(!0);try{e()}finally{Yi(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Tt();if(n!==void 0){var s=n(t);if(nr){Yi(!0);try{n(t)}finally{Yi(!1)}}}else s=t;return i.memoizedState=i.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},i.queue=e,e=e.dispatch=oT.bind(null,Q,e),[i.memoizedState,e]},useRef:function(e){var t=Tt();return e={current:e},t.memoizedState=e},useState:function(e){e=Vh(e);var t=e.queue,n=q0.bind(null,Q,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:sp,useDeferredValue:function(e,t){var n=Tt();return rp(n,e,t)},useTransition:function(){var e=Vh(!1);return e=V0.bind(null,Q,e.queue,!0,!1),Tt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=Q,s=Tt();if(se){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),Ae===null)throw Error(U(349));ie&127||b0(i,t,n)}s.memoizedState=n;var r={value:n,getSnapshot:t};return s.queue=r,ng(T0.bind(null,i,r,e),[e]),i.flags|=2048,oa(9,{destroy:void 0},E0.bind(null,i,r,n,t),null),n},useId:function(){var e=Tt(),t=Ae.identifierPrefix;if(se){var n=jn,i=Un;n=(i&~(1<<32-Yt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Fc++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=eT++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ap,useFormState:Wm,useActionState:Wm,useOptimistic:function(e){var t=Tt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=op.bind(null,Q,!0,n),n.dispatch=t,[e,t]},useMemoCache:tp,useCacheRefresh:function(){return Tt().memoizedState=aT.bind(null,Q)},useEffectEvent:function(e){var t=Tt(),n={impl:e};return t.memoizedState=n,function(){if(fe&2)throw Error(U(440));return n.impl.apply(void 0,arguments)}}},lp={readContext:yt,use:Mu,useCallback:U0,useContext:yt,useEffect:ip,useImperativeHandle:L0,useInsertionEffect:k0,useLayoutEffect:z0,useMemo:j0,useReducer:_c,useRef:D0,useState:function(){return _c(bi)},useDebugValue:sp,useDeferredValue:function(e,t){var n=$e();return P0(n,be.memoizedState,e,t)},useTransition:function(){var e=_c(bi)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:cl(e),t]},useSyncExternalStore:S0,useId:G0,useHostTransitionStatus:ap,useFormState:eg,useActionState:eg,useOptimistic:function(e,t){var n=$e();return x0(n,be,e,t)},useMemoCache:tp,useCacheRefresh:Z0};lp.useEffectEvent=I0;var Y0={readContext:yt,use:Mu,useCallback:U0,useContext:yt,useEffect:ip,useImperativeHandle:L0,useInsertionEffect:k0,useLayoutEffect:z0,useMemo:j0,useReducer:Of,useRef:D0,useState:function(){return Of(bi)},useDebugValue:sp,useDeferredValue:function(e,t){var n=$e();return be===null?rp(n,e,t):P0(n,be.memoizedState,e,t)},useTransition:function(){var e=Of(bi)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:cl(e),t]},useSyncExternalStore:S0,useId:G0,useHostTransitionStatus:ap,useFormState:tg,useActionState:tg,useOptimistic:function(e,t){var n=$e();return be!==null?x0(n,be,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:tp,useCacheRefresh:Z0};Y0.useEffectEvent=I0;function Nf(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:De({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Gh={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Kt(),s=is(i);s.payload=t,n!=null&&(s.callback=n),t=ss(e,s,i),t!==null&&(kt(t,e,i),So(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Kt(),s=is(i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ss(e,s,i),t!==null&&(kt(t,e,i),So(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kt(),i=is(n);i.tag=2,t!=null&&(i.callback=t),t=ss(e,i,n),t!==null&&(kt(t,e,n),So(t,e,n))}};function ig(e,t,n,i,s,r,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,r,a):t.prototype&&t.prototype.isPureReactComponent?!Po(n,i)||!Po(s,r):!0}function sg(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Gh.enqueueReplaceState(t,t.state,null)}function ir(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=De({},n));for(var s in e)n[s]===void 0&&(n[s]=e[s])}return n}function K0(e){Pc(e)}function J0(e){console.error(e)}function Q0(e){Pc(e)}function Xc(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function rg(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function Zh(e,t,n){return n=is(n),n.tag=3,n.payload={element:null},n.callback=function(){Xc(e,t)},n}function W0(e){return e=is(e),e.tag=3,e}function ev(e,t,n,i){var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var r=i.value;e.payload=function(){return s(r)},e.callback=function(){rg(t,n,i)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(e.callback=function(){rg(t,n,i),typeof s!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var l=i.stack;this.componentDidCatch(i.value,{componentStack:l!==null?l:""})})}function lT(e,t,n,i,s){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&Sa(t,n,s,!0),n=Qt.current,n!==null){switch(n.tag){case 31:case 13:return fn===null?Wc():n.alternate===null&&je===0&&(je=3),n.flags&=-257,n.flags|=65536,n.lanes=s,i===Gc?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Pf(e,i,s)),!1;case 22:return n.flags|=65536,i===Gc?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Pf(e,i,s)),!1}throw Error(U(435,n.tag))}return Pf(e,i,s),Wc(),!1}if(se)return t=Qt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,i!==Dh&&(e=Error(U(422),{cause:i}),Ho(on(e,n)))):(i!==Dh&&(t=Error(U(423),{cause:i}),Ho(on(t,n))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,i=on(i,n),s=Zh(e.stateNode,i,s),xf(e,s),je!==4&&(je=2)),!1;var r=Error(U(520),{cause:i});if(r=on(r,n),xo===null?xo=[r]:xo.push(r),je!==4&&(je=2),t===null)return!0;i=on(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,e=Zh(n.stateNode,i,e),xf(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(rs===null||!rs.has(r))))return n.flags|=65536,s&=-s,n.lanes|=s,s=W0(s),ev(s,e,n,i),xf(n,s),!1}n=n.return}while(n!==null);return!1}var cp=Error(U(461)),Qe=!1;function dt(e,t,n,i){t.child=e===null?p0(t,null,n,i):tr(t,e.child,n,i)}function ag(e,t,n,i,s){n=n.render;var r=t.ref;if("ref"in i){var a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}else a=i;return er(t),i=Jd(e,t,n,a,r,s),l=Qd(),e!==null&&!Qe?(Wd(e,t,s),Ei(e,t,s)):(se&&l&&Gd(t),t.flags|=1,dt(e,t,i,s),t.child)}function og(e,t,n,i,s){if(e===null){var r=n.type;return typeof r=="function"&&!Bd(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,tv(e,t,r,i,s)):(e=gc(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!up(e,s)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:Po,n(a,i)&&e.ref===t.ref)return Ei(e,t,s)}return t.flags|=1,e=gi(r,i),e.ref=t.ref,e.return=t,t.child=e}function tv(e,t,n,i,s){if(e!==null){var r=e.memoizedProps;if(Po(r,i)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=i=r,up(e,s))e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,Ei(e,t,s)}return qh(e,t,n,i,s)}function nv(e,t,n,i){var s=i.children,r=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(r=r!==null?r.baseLanes|n:n,e!==null){for(i=t.child=e.child,s=0;i!==null;)s=s|i.lanes|i.childLanes,i=i.sibling;i=s&~r}else i=0,t.child=null;return lg(e,t,r,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&yc(t,r!==null?r.cachePool:null),r!==null?Km(t,r):jh(),y0(t);else return i=t.lanes=536870912,lg(e,t,r!==null?r.baseLanes|n:n,n,i)}else r!==null?(yc(t,r.cachePool),Km(t,r),Gi(),t.memoizedState=null):(e!==null&&yc(t,null),jh(),Gi());return dt(e,t,s,n),t.child}function ho(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function lg(e,t,n,i,s){var r=$d();return r=r===null?null:{parent:Je._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},e!==null&&yc(t,null),jh(),y0(t),e!==null&&Sa(e,t,i,!0),t.childLanes=s,null}function Sc(e,t){return t=Yc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function cg(e,t,n){return tr(t,e.child,null,n),e=Sc(t,t.pendingProps),e.flags|=2,Zt(t),t.memoizedState=null,e}function cT(e,t,n){var i=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(se){if(i.mode==="hidden")return e=Sc(t,i),t.lanes=536870912,ho(null,e);if(Ph(t),(e=Re)?(e=Xv(e,ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:hs!==null?{id:Un,overflow:jn}:null,retryLane:536870912,hydrationErrors:null},n=o0(e),n.return=t,t.child=n,gt=t,Re=null)):e=null,e===null)throw ds(t);return t.lanes=536870912,null}return Sc(t,i)}var r=e.memoizedState;if(r!==null){var a=r.dehydrated;if(Ph(t),s)if(t.flags&256)t.flags&=-257,t=cg(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(U(558));else if(Qe||Sa(e,t,n,!1),s=(n&e.childLanes)!==0,Qe||s){if(i=Ae,i!==null&&(a=k_(i,n),a!==0&&a!==r.retryLane))throw r.retryLane=a,hr(e,a),kt(i,e,a),cp;Wc(),t=cg(e,t,n)}else e=r.treeContext,Re=hn(a.nextSibling),gt=t,se=!0,ns=null,ln=!1,e!==null&&c0(t,e),t=Sc(t,i),t.flags|=4096;return t}return e=gi(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function bc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(U(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function qh(e,t,n,i,s){return er(t),n=Jd(e,t,n,i,void 0,s),i=Qd(),e!==null&&!Qe?(Wd(e,t,s),Ei(e,t,s)):(se&&i&&Gd(t),t.flags|=1,dt(e,t,n,s),t.child)}function ug(e,t,n,i,s,r){return er(t),t.updateQueue=null,n=v0(t,i,n,s),_0(e),i=Qd(),e!==null&&!Qe?(Wd(e,t,r),Ei(e,t,r)):(se&&i&&Gd(t),t.flags|=1,dt(e,t,n,r),t.child)}function fg(e,t,n,i,s){if(er(t),t.stateNode===null){var r=Ur,a=n.contextType;typeof a=="object"&&a!==null&&(r=yt(a)),r=new n(i,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Gh,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=i,r.state=t.memoizedState,r.refs={},Xd(t),a=n.contextType,r.context=typeof a=="object"&&a!==null?yt(a):Ur,r.state=t.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Nf(t,n,a,i),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&Gh.enqueueReplaceState(r,r.state,null),Eo(t,i,r,s),bo(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){r=t.stateNode;var l=t.memoizedProps,u=ir(n,l);r.props=u;var h=r.context,d=n.contextType;a=Ur,typeof d=="object"&&d!==null&&(a=yt(d));var m=n.getDerivedStateFromProps;d=typeof m=="function"||typeof r.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(l||h!==a)&&sg(t,r,i,a),Vi=!1;var g=t.memoizedState;r.state=g,Eo(t,i,r,s),bo(),h=t.memoizedState,l||g!==h||Vi?(typeof m=="function"&&(Nf(t,n,m,i),h=t.memoizedState),(u=Vi||ig(t,n,u,i,g,h,a))?(d||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),r.props=i,r.state=h,r.context=a,i=u):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{r=t.stateNode,Lh(e,t),a=t.memoizedProps,d=ir(n,a),r.props=d,m=t.pendingProps,g=r.context,h=n.contextType,u=Ur,typeof h=="object"&&h!==null&&(u=yt(h)),l=n.getDerivedStateFromProps,(h=typeof l=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==m||g!==u)&&sg(t,r,i,u),Vi=!1,g=t.memoizedState,r.state=g,Eo(t,i,r,s),bo();var T=t.memoizedState;a!==m||g!==T||Vi||e!==null&&e.dependencies!==null&&Bc(e.dependencies)?(typeof l=="function"&&(Nf(t,n,l,i),T=t.memoizedState),(d=Vi||ig(t,n,d,i,g,T,u)||e!==null&&e.dependencies!==null&&Bc(e.dependencies))?(h||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(i,T,u),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(i,T,u)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=T),r.props=i,r.state=T,r.context=u,i=d):(typeof r.componentDidUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),i=!1)}return r=i,bc(e,t),i=(t.flags&128)!==0,r||i?(r=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&i?(t.child=tr(t,e.child,null,s),t.child=tr(t,null,n,s)):dt(e,t,n,s),t.memoizedState=r.state,e=t.child):e=Ei(e,t,s),e}function hg(e,t,n,i){return Ws(),t.flags|=256,dt(e,t,n,i),t.child}var Cf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(e){return{baseLanes:e,cachePool:f0()}}function Df(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=$t),e}function iv(e,t,n){var i=t.pendingProps,s=!1,r=(t.flags&128)!==0,a;if((a=r)||(a=e!==null&&e.memoizedState===null?!1:(qe.current&2)!==0),a&&(s=!0,t.flags&=-129),a=(t.flags&32)!==0,t.flags&=-33,e===null){if(se){if(s?Bi(t):Gi(),(e=Re)?(e=Xv(e,ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:hs!==null?{id:Un,overflow:jn}:null,retryLane:536870912,hydrationErrors:null},n=o0(e),n.return=t,t.child=n,gt=t,Re=null)):e=null,e===null)throw ds(t);return rd(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(Gi(),s=t.mode,l=Yc({mode:"hidden",children:l},s),i=Fs(i,s,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,i=t.child,i.memoizedState=Rf(n),i.childLanes=Df(e,a,n),t.memoizedState=Cf,ho(null,i)):(Bi(t),$h(t,l))}var u=e.memoizedState;if(u!==null&&(l=u.dehydrated,l!==null)){if(r)t.flags&256?(Bi(t),t.flags&=-257,t=If(e,t,n)):t.memoizedState!==null?(Gi(),t.child=e.child,t.flags|=128,t=null):(Gi(),l=i.fallback,s=t.mode,i=Yc({mode:"visible",children:i.children},s),l=Fs(l,s,n,null),l.flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,tr(t,e.child,null,n),i=t.child,i.memoizedState=Rf(n),i.childLanes=Df(e,a,n),t.memoizedState=Cf,t=ho(null,i));else if(Bi(t),rd(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var h=a.dgst;a=h,i=Error(U(419)),i.stack="",i.digest=a,Ho({value:i,source:null,stack:null}),t=If(e,t,n)}else if(Qe||Sa(e,t,n,!1),a=(n&e.childLanes)!==0,Qe||a){if(a=Ae,a!==null&&(i=k_(a,n),i!==0&&i!==u.retryLane))throw u.retryLane=i,hr(e,i),kt(a,e,i),cp;sd(l)||Wc(),t=If(e,t,n)}else sd(l)?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,Re=hn(l.nextSibling),gt=t,se=!0,ns=null,ln=!1,e!==null&&c0(t,e),t=$h(t,i.children),t.flags|=4096);return t}return s?(Gi(),l=i.fallback,s=t.mode,u=e.child,h=u.sibling,i=gi(u,{mode:"hidden",children:i.children}),i.subtreeFlags=u.subtreeFlags&65011712,h!==null?l=gi(h,l):(l=Fs(l,s,n,null),l.flags|=2),l.return=t,i.return=t,i.sibling=l,t.child=i,ho(null,i),i=t.child,l=e.child.memoizedState,l===null?l=Rf(n):(s=l.cachePool,s!==null?(u=Je._currentValue,s=s.parent!==u?{parent:u,pool:u}:s):s=f0(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=Df(e,a,n),t.memoizedState=Cf,ho(e.child,i)):(Bi(t),n=e.child,e=n.sibling,n=gi(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(a=t.deletions,a===null?(t.deletions=[e],t.flags|=16):a.push(e)),t.child=n,t.memoizedState=null,n)}function $h(e,t){return t=Yc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Yc(e,t){return e=qt(22,e,null,t),e.lanes=0,e}function If(e,t,n){return tr(t,e.child,null,n),e=$h(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dg(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),kh(e.return,t,n)}function kf(e,t,n,i,s,r){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s,treeForkCount:r}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=s,a.treeForkCount=r)}function sv(e,t,n){var i=t.pendingProps,s=i.revealOrder,r=i.tail;i=i.children;var a=qe.current,l=(a&2)!==0;if(l?(a=a&1|2,t.flags|=128):a&=1,xe(qe,a),dt(e,t,i,n),i=se?Vo:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dg(e,n,t);else if(e.tag===19)dg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&qc(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),kf(t,!1,s,n,r,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&qc(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}kf(t,!0,n,null,r,i);break;case"together":kf(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function Ei(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ms|=t.lanes,!(n&t.childLanes))if(e!==null){if(Sa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=gi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function up(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Bc(e)))}function uT(e,t,n){switch(t.tag){case 3:Mc(t,t.stateNode.containerInfo),Hi(t,Je,e.memoizedState.cache),Ws();break;case 27:case 5:Sh(t);break;case 4:Mc(t,t.stateNode.containerInfo);break;case 10:Hi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ph(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Bi(t),t.flags|=128,null):n&t.child.childLanes?iv(e,t,n):(Bi(t),e=Ei(e,t,n),e!==null?e.sibling:null);Bi(t);break;case 19:var s=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(Sa(e,t,n,!1),i=(n&t.childLanes)!==0),s){if(i)return sv(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),xe(qe,qe.current),i)break;return null;case 22:return t.lanes=0,nv(e,t,n,t.pendingProps);case 24:Hi(t,Je,e.memoizedState.cache)}return Ei(e,t,n)}function rv(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!up(e,n)&&!(t.flags&128))return Qe=!1,uT(e,t,n);Qe=!!(e.flags&131072)}else Qe=!1,se&&t.flags&1048576&&l0(t,Vo,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Hs(t.elementType),t.type=e,typeof e=="function")Bd(e)?(i=ir(e,i),t.tag=1,t=fg(null,t,e,i,n)):(t.tag=0,t=qh(null,t,e,i,n));else{if(e!=null){var s=e.$$typeof;if(s===Nd){t.tag=11,t=ag(null,t,e,i,n);break e}else if(s===Cd){t.tag=14,t=og(null,t,e,i,n);break e}}throw t=_h(e)||e,Error(U(306,t,""))}}return t;case 0:return qh(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,s=ir(i,t.pendingProps),fg(e,t,i,s,n);case 3:e:{if(Mc(t,t.stateNode.containerInfo),e===null)throw Error(U(387));i=t.pendingProps;var r=t.memoizedState;s=r.element,Lh(e,t),Eo(t,i,null,n);var a=t.memoizedState;if(i=a.cache,Hi(t,Je,i),i!==r.cache&&zh(t,[Je],n,!0),bo(),i=a.element,r.isDehydrated)if(r={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=hg(e,t,i,n);break e}else if(i!==s){s=on(Error(U(424)),t),Ho(s),t=hg(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Re=hn(e.firstChild),gt=t,se=!0,ns=null,ln=!0,n=p0(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ws(),i===s){t=Ei(e,t,n);break e}dt(e,t,i,n)}t=t.child}return t;case 26:return bc(e,t),e===null?(n=kg(t.type,null,t.pendingProps,null))?t.memoizedState=n:se||(n=t.type,e=t.pendingProps,i=iu(ts.current).createElement(n),i[mt]=t,i[zt]=e,_t(i,n,e),lt(i),t.stateNode=i):t.memoizedState=kg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Sh(t),e===null&&se&&(i=t.stateNode=Yv(t.type,t.pendingProps,ts.current),gt=t,ln=!0,s=Re,bs(t.type)?(ad=s,Re=hn(i.firstChild)):Re=s),dt(e,t,t.pendingProps.children,n),bc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&se&&((s=i=Re)&&(i=VT(i,t.type,t.pendingProps,ln),i!==null?(t.stateNode=i,gt=t,Re=hn(i.firstChild),ln=!1,s=!0):s=!1),s||ds(t)),Sh(t),s=t.type,r=t.pendingProps,a=e!==null?e.memoizedProps:null,i=r.children,nd(s,r)?i=null:a!==null&&nd(s,a)&&(t.flags|=32),t.memoizedState!==null&&(s=Jd(e,t,tT,null,null,n),Fo._currentValue=s),bc(e,t),dt(e,t,i,n),t.child;case 6:return e===null&&se&&((e=n=Re)&&(n=HT(n,t.pendingProps,ln),n!==null?(t.stateNode=n,gt=t,Re=null,e=!0):e=!1),e||ds(t)),null;case 13:return iv(e,t,n);case 4:return Mc(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=tr(t,null,i,n):dt(e,t,i,n),t.child;case 11:return ag(e,t,t.type,t.pendingProps,n);case 7:return dt(e,t,t.pendingProps,n),t.child;case 8:return dt(e,t,t.pendingProps.children,n),t.child;case 12:return dt(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,Hi(t,t.type,i.value),dt(e,t,i.children,n),t.child;case 9:return s=t.type._context,i=t.pendingProps.children,er(t),s=yt(s),i=i(s),t.flags|=1,dt(e,t,i,n),t.child;case 14:return og(e,t,t.type,t.pendingProps,n);case 15:return tv(e,t,t.type,t.pendingProps,n);case 19:return sv(e,t,n);case 31:return cT(e,t,n);case 22:return nv(e,t,n,t.pendingProps);case 24:return er(t),i=yt(Je),e===null?(s=$d(),s===null&&(s=Ae,r=qd(),s.pooledCache=r,r.refCount++,r!==null&&(s.pooledCacheLanes|=n),s=r),t.memoizedState={parent:i,cache:s},Xd(t),Hi(t,Je,s)):(e.lanes&n&&(Lh(e,t),Eo(t,null,null,n),bo()),s=e.memoizedState,r=t.memoizedState,s.parent!==i?(s={parent:i,cache:i},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Hi(t,Je,i)):(i=r.cache,Hi(t,Je,i),i!==s.cache&&zh(t,[Je],n,!0))),dt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(U(156,t.tag))}function ni(e){e.flags|=4}function zf(e,t,n,i,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(Cv())e.flags|=8192;else throw Ys=Gc,Fd}else e.flags&=-16777217}function pg(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Qv(t))if(Cv())e.flags|=8192;else throw Ys=Gc,Fd}function Yl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?R_():536870912,e.lanes|=t,la|=t)}function Wa(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&65011712,i|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function fT(e,t,n){var i=t.pendingProps;switch(Zd(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return Ce(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),yi(Je),na(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Tr(t)?ni(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wf())),Ce(t),null;case 26:var s=t.type,r=t.memoizedState;return e===null?(ni(t),r!==null?(Ce(t),pg(t,r)):(Ce(t),zf(t,s,null,i,n))):r?r!==e.memoizedState?(ni(t),Ce(t),pg(t,r)):(Ce(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&ni(t),Ce(t),zf(t,s,e,i,n)),null;case 27:if(Lc(t),n=ts.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ni(t);else{if(!i){if(t.stateNode===null)throw Error(U(166));return Ce(t),null}e=Bn.current,Tr(t)?Gm(t):(e=Yv(s,i,n),t.stateNode=e,ni(t))}return Ce(t),null;case 5:if(Lc(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&ni(t);else{if(!i){if(t.stateNode===null)throw Error(U(166));return Ce(t),null}if(r=Bn.current,Tr(t))Gm(t);else{var a=iu(ts.current);switch(r){case 1:r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":r=a.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":r=a.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof i.is=="string"?a.createElement("select",{is:i.is}):a.createElement("select"),i.multiple?r.multiple=!0:i.size&&(r.size=i.size);break;default:r=typeof i.is=="string"?a.createElement(s,{is:i.is}):a.createElement(s)}}r[mt]=t,r[zt]=i;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=r;e:switch(_t(r,s,i),s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ni(t)}}return Ce(t),zf(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&ni(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(U(166));if(e=ts.current,Tr(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,s=gt,s!==null)switch(s.tag){case 27:case 5:i=s.memoizedProps}e[mt]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||qv(e.nodeValue,n)),e||ds(t,!0)}else e=iu(e).createTextNode(i),e[mt]=t,t.stateNode=e}return Ce(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=Tr(t),n!==null){if(e===null){if(!i)throw Error(U(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(557));e[mt]=t}else Ws(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),e=!1}else n=wf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Zt(t),t):(Zt(t),null);if(t.flags&128)throw Error(U(558))}return Ce(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Tr(t),i!==null&&i.dehydrated!==null){if(e===null){if(!s)throw Error(U(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[mt]=t}else Ws(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),s=!1}else s=wf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Zt(t),t):(Zt(t),null)}return Zt(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,s=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(s=i.alternate.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==s&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Yl(t,t.updateQueue),Ce(t),null);case 4:return na(),e===null&&yp(t.stateNode.containerInfo),Ce(t),null;case 10:return yi(t.type),Ce(t),null;case 19:if(ct(qe),i=t.memoizedState,i===null)return Ce(t),null;if(s=(t.flags&128)!==0,r=i.rendering,r===null)if(s)Wa(i,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=qc(e),r!==null){for(t.flags|=128,Wa(i,!1),e=r.updateQueue,t.updateQueue=e,Yl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)a0(n,e),n=n.sibling;return xe(qe,qe.current&1|2),se&&li(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&Ft()>Jc&&(t.flags|=128,s=!0,Wa(i,!1),t.lanes=4194304)}else{if(!s)if(e=qc(r),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Yl(t,e),Wa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!r.alternate&&!se)return Ce(t),null}else 2*Ft()-i.renderingStartTime>Jc&&n!==536870912&&(t.flags|=128,s=!0,Wa(i,!1),t.lanes=4194304);i.isBackwards?(r.sibling=t.child,t.child=r):(e=i.last,e!==null?e.sibling=r:t.child=r,i.last=r)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ft(),e.sibling=null,n=qe.current,xe(qe,s?n&1|2:n&1),se&&li(t,i.treeForkCount),e):(Ce(t),null);case 22:case 23:return Zt(t),Yd(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),n=t.updateQueue,n!==null&&Yl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&ct(Xs),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),yi(Je),Ce(t),null;case 25:return null;case 30:return null}throw Error(U(156,t.tag))}function hT(e,t){switch(Zd(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yi(Je),na(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Lc(t),null;case 31:if(t.memoizedState!==null){if(Zt(t),t.alternate===null)throw Error(U(340));Ws()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Zt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));Ws()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ct(qe),null;case 4:return na(),null;case 10:return yi(t.type),null;case 22:case 23:return Zt(t),Yd(),e!==null&&ct(Xs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return yi(Je),null;case 25:return null;default:return null}}function av(e,t){switch(Zd(t),t.tag){case 3:yi(Je),na();break;case 26:case 27:case 5:Lc(t);break;case 4:na();break;case 31:t.memoizedState!==null&&Zt(t);break;case 13:Zt(t);break;case 19:ct(qe);break;case 10:yi(t.type);break;case 22:case 23:Zt(t),Yd(),e!==null&&ct(Xs);break;case 24:yi(Je)}}function ul(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&e)===e){i=void 0;var r=n.create,a=n.inst;i=r(),a.destroy=i}n=n.next}while(n!==s)}}catch(l){ye(t,t.return,l)}}function ps(e,t,n){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){var a=i.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,s=t;var u=n,h=l;try{h()}catch(d){ye(s,u,d)}}}i=i.next}while(i!==r)}}catch(d){ye(t,t.return,d)}}function ov(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{g0(t,n)}catch(i){ye(e,e.return,i)}}}function lv(e,t,n){n.props=ir(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){ye(e,t,i)}}function Ao(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(s){ye(e,t,s)}}function Pn(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(s){ye(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(s){ye(e,t,s)}else n.current=null}function cv(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(s){ye(e,e.return,s)}}function Mf(e,t,n){try{var i=e.stateNode;zT(i,e.type,n,t),i[zt]=t}catch(s){ye(e,e.return,s)}}function uv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&bs(e.type)||e.tag===4}function Lf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&bs(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Fh(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=hi));else if(i!==4&&(i===27&&bs(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Fh(e,t,n),e=e.sibling;e!==null;)Fh(e,t,n),e=e.sibling}function Kc(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&bs(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Kc(e,t,n),e=e.sibling;e!==null;)Kc(e,t,n),e=e.sibling}function fv(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);_t(t,i,n),t[mt]=e,t[zt]=n}catch(r){ye(e,e.return,r)}}var ci=!1,Ke=!1,Uf=!1,mg=typeof WeakSet=="function"?WeakSet:Set,ot=null;function dT(e,t){if(e=e.containerInfo,ed=ou,e=Q_(e),Pd(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,r=i.focusNode;i=i.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var a=0,l=-1,u=-1,h=0,d=0,m=e,g=null;t:for(;;){for(var T;m!==n||s!==0&&m.nodeType!==3||(l=a+s),m!==r||i!==0&&m.nodeType!==3||(u=a+i),m.nodeType===3&&(a+=m.nodeValue.length),(T=m.firstChild)!==null;)g=m,m=T;for(;;){if(m===e)break t;if(g===n&&++h===s&&(l=a),g===r&&++d===i&&(u=a),(T=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=T}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(td={focusedElem:e,selectionRange:n},ou=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){switch(t=ot,r=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)s=e[n],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,s=r.memoizedProps,r=r.memoizedState,i=n.stateNode;try{var I=ir(n.type,s);e=i.getSnapshotBeforeUpdate(I,r),i.__reactInternalSnapshotBeforeUpdate=e}catch(z){ye(n,n.return,z)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)id(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":id(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(U(163))}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}}function hv(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:si(e,n),i&4&&ul(5,n);break;case 1:if(si(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(a){ye(n,n.return,a)}else{var s=ir(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){ye(n,n.return,a)}}i&64&&ov(n),i&512&&Ao(n,n.return);break;case 3:if(si(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{g0(e,t)}catch(a){ye(n,n.return,a)}}break;case 27:t===null&&i&4&&fv(n);case 26:case 5:si(e,n),t===null&&i&4&&cv(n),i&512&&Ao(n,n.return);break;case 12:si(e,n);break;case 31:si(e,n),i&4&&mv(e,n);break;case 13:si(e,n),i&4&&gv(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=ET.bind(null,n),BT(e,n))));break;case 22:if(i=n.memoizedState!==null||ci,!i){t=t!==null&&t.memoizedState!==null||Ke,s=ci;var r=Ke;ci=i,(Ke=t)&&!r?oi(e,n,(n.subtreeFlags&8772)!==0):si(e,n),ci=s,Ke=r}break;case 30:break;default:si(e,n)}}function dv(e){var t=e.alternate;t!==null&&(e.alternate=null,dv(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&kd(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,Rt=!1;function ii(e,t,n){for(n=n.child;n!==null;)pv(e,t,n),n=n.sibling}function pv(e,t,n){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(il,n)}catch{}switch(n.tag){case 26:Ke||Pn(n,t),ii(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ke||Pn(n,t);var i=ke,s=Rt;bs(n.type)&&(ke=n.stateNode,Rt=!1),ii(e,t,n),No(n.stateNode),ke=i,Rt=s;break;case 5:Ke||Pn(n,t);case 6:if(i=ke,s=Rt,ke=null,ii(e,t,n),ke=i,Rt=s,ke!==null)if(Rt)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(n.stateNode)}catch(r){ye(n,t,r)}else try{ke.removeChild(n.stateNode)}catch(r){ye(n,t,r)}break;case 18:ke!==null&&(Rt?(e=ke,Ng(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ha(e)):Ng(ke,n.stateNode));break;case 4:i=ke,s=Rt,ke=n.stateNode.containerInfo,Rt=!0,ii(e,t,n),ke=i,Rt=s;break;case 0:case 11:case 14:case 15:ps(2,n,t),Ke||ps(4,n,t),ii(e,t,n);break;case 1:Ke||(Pn(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&lv(n,t,i)),ii(e,t,n);break;case 21:ii(e,t,n);break;case 22:Ke=(i=Ke)||n.memoizedState!==null,ii(e,t,n),Ke=i;break;default:ii(e,t,n)}}function mv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ha(e)}catch(n){ye(t,t.return,n)}}}function gv(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ha(e)}catch(n){ye(t,t.return,n)}}function pT(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new mg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new mg),t;default:throw Error(U(435,e.tag))}}function Kl(e,t){var n=pT(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var s=TT.bind(null,e,i);i.then(s,s)}})}function Nt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i],r=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(bs(l.type)){ke=l.stateNode,Rt=!1;break e}break;case 5:ke=l.stateNode,Rt=!1;break e;case 3:case 4:ke=l.stateNode.containerInfo,Rt=!0;break e}l=l.return}if(ke===null)throw Error(U(160));pv(r,a,s),ke=null,Rt=!1,r=s.alternate,r!==null&&(r.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)yv(t,e),t=t.sibling}var bn=null;function yv(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nt(t,e),Ct(e),i&4&&(ps(3,e,e.return),ul(3,e),ps(5,e,e.return));break;case 1:Nt(t,e),Ct(e),i&512&&(Ke||n===null||Pn(n,n.return)),i&64&&ci&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var s=bn;if(Nt(t,e),Ct(e),i&512&&(Ke||n===null||Pn(n,n.return)),i&4){var r=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(i){case"title":r=s.getElementsByTagName("title")[0],(!r||r[al]||r[mt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=s.createElement(i),s.head.insertBefore(r,s.querySelector("head > title"))),_t(r,i,n),r[mt]=e,lt(r),i=r;break e;case"link":var a=Mg("link","href",s).get(i+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(r=a[l],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}r=s.createElement(i),_t(r,i,n),s.head.appendChild(r);break;case"meta":if(a=Mg("meta","content",s).get(i+(n.content||""))){for(l=0;l<a.length;l++)if(r=a[l],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}r=s.createElement(i),_t(r,i,n),s.head.appendChild(r);break;default:throw Error(U(468,i))}r[mt]=e,lt(r),i=r}e.stateNode=i}else Lg(s,e.type,e.stateNode);else e.stateNode=zg(s,i,e.memoizedProps);else r!==i?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,i===null?Lg(s,e.type,e.stateNode):zg(s,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Mf(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nt(t,e),Ct(e),i&512&&(Ke||n===null||Pn(n,n.return)),n!==null&&i&4&&Mf(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nt(t,e),Ct(e),i&512&&(Ke||n===null||Pn(n,n.return)),e.flags&32){s=e.stateNode;try{sa(s,"")}catch(I){ye(e,e.return,I)}}i&4&&e.stateNode!=null&&(s=e.memoizedProps,Mf(e,s,n!==null?n.memoizedProps:s)),i&1024&&(Uf=!0);break;case 6:if(Nt(t,e),Ct(e),i&4){if(e.stateNode===null)throw Error(U(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(I){ye(e,e.return,I)}}break;case 3:if(Ac=null,s=bn,bn=su(t.containerInfo),Nt(t,e),bn=s,Ct(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{ha(t.containerInfo)}catch(I){ye(e,e.return,I)}Uf&&(Uf=!1,_v(e));break;case 4:i=bn,bn=su(e.stateNode.containerInfo),Nt(t,e),Ct(e),bn=i;break;case 12:Nt(t,e),Ct(e);break;case 31:Nt(t,e),Ct(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Kl(e,i)));break;case 13:Nt(t,e),Ct(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(ju=Ft()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Kl(e,i)));break;case 22:s=e.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,h=ci,d=Ke;if(ci=h||s,Ke=d||u,Nt(t,e),Ke=d,ci=h,Ct(e),i&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(n===null||u||ci||Ke||Bs(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){u=n=t;try{if(r=u.stateNode,s)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=u.stateNode;var m=u.memoizedProps.style,g=m!=null&&m.hasOwnProperty("display")?m.display:null;l.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(I){ye(u,u.return,I)}}}else if(t.tag===6){if(n===null){u=t;try{u.stateNode.nodeValue=s?"":u.memoizedProps}catch(I){ye(u,u.return,I)}}}else if(t.tag===18){if(n===null){u=t;try{var T=u.stateNode;s?Cg(T,!0):Cg(u.stateNode,!1)}catch(I){ye(u,u.return,I)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Kl(e,n))));break;case 19:Nt(t,e),Ct(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Kl(e,i)));break;case 30:break;case 21:break;default:Nt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(uv(i)){n=i;break}i=i.return}if(n==null)throw Error(U(160));switch(n.tag){case 27:var s=n.stateNode,r=Lf(e);Kc(e,r,s);break;case 5:var a=n.stateNode;n.flags&32&&(sa(a,""),n.flags&=-33);var l=Lf(e);Kc(e,l,a);break;case 3:case 4:var u=n.stateNode.containerInfo,h=Lf(e);Fh(e,h,u);break;default:throw Error(U(161))}}catch(d){ye(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _v(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;_v(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function si(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)hv(e,t.alternate,t),t=t.sibling}function Bs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ps(4,t,t.return),Bs(t);break;case 1:Pn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&lv(t,t.return,n),Bs(t);break;case 27:No(t.stateNode);case 26:case 5:Pn(t,t.return),Bs(t);break;case 22:t.memoizedState===null&&Bs(t);break;case 30:Bs(t);break;default:Bs(t)}e=e.sibling}}function oi(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,s=e,r=t,a=r.flags;switch(r.tag){case 0:case 11:case 15:oi(s,r,n),ul(4,r);break;case 1:if(oi(s,r,n),i=r,s=i.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(h){ye(i,i.return,h)}if(i=r,s=i.updateQueue,s!==null){var l=i.stateNode;try{var u=s.shared.hiddenCallbacks;if(u!==null)for(s.shared.hiddenCallbacks=null,s=0;s<u.length;s++)m0(u[s],l)}catch(h){ye(i,i.return,h)}}n&&a&64&&ov(r),Ao(r,r.return);break;case 27:fv(r);case 26:case 5:oi(s,r,n),n&&i===null&&a&4&&cv(r),Ao(r,r.return);break;case 12:oi(s,r,n);break;case 31:oi(s,r,n),n&&a&4&&mv(s,r);break;case 13:oi(s,r,n),n&&a&4&&gv(s,r);break;case 22:r.memoizedState===null&&oi(s,r,n),Ao(r,r.return);break;case 30:break;default:oi(s,r,n)}t=t.sibling}}function fp(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ll(n))}function hp(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ll(e))}function vn(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vv(e,t,n,i),t=t.sibling}function vv(e,t,n,i){var s=t.flags;switch(t.tag){case 0:case 11:case 15:vn(e,t,n,i),s&2048&&ul(9,t);break;case 1:vn(e,t,n,i);break;case 3:vn(e,t,n,i),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ll(e)));break;case 12:if(s&2048){vn(e,t,n,i),e=t.stateNode;try{var r=t.memoizedProps,a=r.id,l=r.onPostCommit;typeof l=="function"&&l(a,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){ye(t,t.return,u)}}else vn(e,t,n,i);break;case 31:vn(e,t,n,i);break;case 13:vn(e,t,n,i);break;case 23:break;case 22:r=t.stateNode,a=t.alternate,t.memoizedState!==null?r._visibility&2?vn(e,t,n,i):wo(e,t):r._visibility&2?vn(e,t,n,i):(r._visibility|=2,Or(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),s&2048&&fp(a,t);break;case 24:vn(e,t,n,i),s&2048&&hp(t.alternate,t);break;default:vn(e,t,n,i)}}function Or(e,t,n,i,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var r=e,a=t,l=n,u=i,h=a.flags;switch(a.tag){case 0:case 11:case 15:Or(r,a,l,u,s),ul(8,a);break;case 23:break;case 22:var d=a.stateNode;a.memoizedState!==null?d._visibility&2?Or(r,a,l,u,s):wo(r,a):(d._visibility|=2,Or(r,a,l,u,s)),s&&h&2048&&fp(a.alternate,a);break;case 24:Or(r,a,l,u,s),s&&h&2048&&hp(a.alternate,a);break;default:Or(r,a,l,u,s)}t=t.sibling}}function wo(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,s=i.flags;switch(i.tag){case 22:wo(n,i),s&2048&&fp(i.alternate,i);break;case 24:wo(n,i),s&2048&&hp(i.alternate,i);break;default:wo(n,i)}t=t.sibling}}var po=8192;function Ar(e,t,n){if(e.subtreeFlags&po)for(e=e.child;e!==null;)Sv(e,t,n),e=e.sibling}function Sv(e,t,n){switch(e.tag){case 26:Ar(e,t,n),e.flags&po&&e.memoizedState!==null&&eA(n,bn,e.memoizedState,e.memoizedProps);break;case 5:Ar(e,t,n);break;case 3:case 4:var i=bn;bn=su(e.stateNode.containerInfo),Ar(e,t,n),bn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=po,po=16777216,Ar(e,t,n),po=i):Ar(e,t,n));break;default:Ar(e,t,n)}}function bv(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function eo(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ot=i,Tv(i,e)}bv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ev(e),e=e.sibling}function Ev(e){switch(e.tag){case 0:case 11:case 15:eo(e),e.flags&2048&&ps(9,e,e.return);break;case 3:eo(e);break;case 12:eo(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ec(e)):eo(e);break;default:eo(e)}}function Ec(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];ot=i,Tv(i,e)}bv(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ps(8,t,t.return),Ec(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Ec(t));break;default:Ec(t)}e=e.sibling}}function Tv(e,t){for(;ot!==null;){var n=ot;switch(n.tag){case 0:case 11:case 15:ps(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:ll(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,ot=i;else e:for(n=e;ot!==null;){i=ot;var s=i.sibling,r=i.return;if(dv(i),i===n){ot=null;break e}if(s!==null){s.return=r,ot=s;break e}ot=r}}}var mT={getCacheForType:function(e){var t=yt(Je),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return yt(Je).controller.signal}},gT=typeof WeakMap=="function"?WeakMap:Map,fe=0,Ae=null,ne=null,ie=0,me=0,Bt=null,Ji=!1,Ea=!1,dp=!1,Ti=0,je=0,ms=0,Ks=0,pp=0,$t=0,la=0,xo=null,Dt=null,Xh=!1,ju=0,Av=0,Jc=1/0,Qc=null,rs=null,nt=0,as=null,ca=null,_i=0,Yh=0,Kh=null,wv=null,Oo=0,Jh=null;function Kt(){return fe&2&&ie!==0?ie&-ie:K.T!==null?gp():z_()}function xv(){if($t===0)if(!(ie&536870912)||se){var e=Bl;Bl<<=1,!(Bl&3932160)&&(Bl=262144),$t=e}else $t=536870912;return e=Qt.current,e!==null&&(e.flags|=32),$t}function kt(e,t,n){(e===Ae&&(me===2||me===9)||e.cancelPendingCommit!==null)&&(ua(e,0),Qi(e,ie,$t,!1)),rl(e,n),(!(fe&2)||e!==Ae)&&(e===Ae&&(!(fe&2)&&(Ks|=n),je===4&&Qi(e,ie,$t,!1)),Fn(e))}function Ov(e,t,n){if(fe&6)throw Error(U(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||sl(e,t),s=i?vT(e,t):jf(e,t,!0),r=i;do{if(s===0){Ea&&!i&&Qi(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!yT(n)){s=jf(e,t,!1),r=!1;continue}if(s===2){if(r=t,e.errorRecoveryDisabledLanes&r)var a=0;else a=e.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){t=a;e:{var l=e;s=xo;var u=l.current.memoizedState.isDehydrated;if(u&&(ua(l,a).flags|=256),a=jf(l,a,!1),a!==2){if(dp&&!u){l.errorRecoveryDisabledLanes|=r,Ks|=r,s=4;break e}r=Dt,Dt=s,r!==null&&(Dt===null?Dt=r:Dt.push.apply(Dt,r))}s=a}if(r=!1,s!==2)continue}}if(s===1){ua(e,0),Qi(e,t,0,!0);break}e:{switch(i=e,r=s,r){case 0:case 1:throw Error(U(345));case 4:if((t&4194048)!==t)break;case 6:Qi(i,t,$t,!Ji);break e;case 2:Dt=null;break;case 3:case 5:break;default:throw Error(U(329))}if((t&62914560)===t&&(s=ju+300-Ft(),10<s)){if(Qi(i,t,$t,!Ji),Ou(i,0,!0)!==0)break e;_i=t,i.timeoutHandle=Fv(gg.bind(null,i,n,Dt,Qc,Xh,t,$t,Ks,la,Ji,r,"Throttled",-0,0),s);break e}gg(i,n,Dt,Qc,Xh,t,$t,Ks,la,Ji,r,null,-0,0)}}break}while(!0);Fn(e)}function gg(e,t,n,i,s,r,a,l,u,h,d,m,g,T){if(e.timeoutHandle=-1,m=t.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},Sv(t,r,m);var I=(r&62914560)===r?ju-Ft():(r&4194048)===r?Av-Ft():0;if(I=tA(m,I),I!==null){_i=r,e.cancelPendingCommit=I(_g.bind(null,e,t,r,n,i,s,a,l,u,d,m,null,g,T)),Qi(e,r,a,!h);return}}_g(e,t,r,n,i,s,a,l,u)}function yT(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var s=n[i],r=s.getSnapshot;s=s.value;try{if(!Jt(r(),s))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qi(e,t,n,i){t&=~pp,t&=~Ks,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var s=t;0<s;){var r=31-Yt(s),a=1<<r;i[r]=-1,s&=~a}n!==0&&D_(e,n,t)}function Pu(){return fe&6?!0:(fl(0),!1)}function mp(){if(ne!==null){if(me===0)var e=ne.return;else e=ne,di=dr=null,ep(e),Xr=null,Bo=0,e=ne;for(;e!==null;)av(e.alternate,e),e=e.return;ne=null}}function ua(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,UT(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),_i=0,mp(),Ae=e,ne=n=gi(e.current,null),ie=t,me=0,Bt=null,Ji=!1,Ea=sl(e,t),dp=!1,la=$t=pp=Ks=ms=je=0,Dt=xo=null,Xh=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var s=31-Yt(i),r=1<<s;t|=e[s],i&=~r}return Ti=t,Du(),n}function Nv(e,t){Q=null,K.H=Zo,t===ba||t===ku?(t=Xm(),me=3):t===Fd?(t=Xm(),me=4):me=t===cp?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Bt=t,ne===null&&(je=1,Xc(e,on(t,e.current)))}function Cv(){var e=Qt.current;return e===null?!0:(ie&4194048)===ie?fn===null:(ie&62914560)===ie||ie&536870912?e===fn:!1}function Rv(){var e=K.H;return K.H=Zo,e===null?Zo:e}function Dv(){var e=K.A;return K.A=mT,e}function Wc(){je=4,Ji||(ie&4194048)!==ie&&Qt.current!==null||(Ea=!0),!(ms&134217727)&&!(Ks&134217727)||Ae===null||Qi(Ae,ie,$t,!1)}function jf(e,t,n){var i=fe;fe|=2;var s=Rv(),r=Dv();(Ae!==e||ie!==t)&&(Qc=null,ua(e,t)),t=!1;var a=je;e:do try{if(me!==0&&ne!==null){var l=ne,u=Bt;switch(me){case 8:mp(),a=6;break e;case 3:case 2:case 9:case 6:Qt.current===null&&(t=!0);var h=me;if(me=0,Bt=null,Vr(e,l,u,h),n&&Ea){a=0;break e}break;default:h=me,me=0,Bt=null,Vr(e,l,u,h)}}_T(),a=je;break}catch(d){Nv(e,d)}while(!0);return t&&e.shellSuspendCounter++,di=dr=null,fe=i,K.H=s,K.A=r,ne===null&&(Ae=null,ie=0,Du()),a}function _T(){for(;ne!==null;)Iv(ne)}function vT(e,t){var n=fe;fe|=2;var i=Rv(),s=Dv();Ae!==e||ie!==t?(Qc=null,Jc=Ft()+500,ua(e,t)):Ea=sl(e,t);e:do try{if(me!==0&&ne!==null){t=ne;var r=Bt;t:switch(me){case 1:me=0,Bt=null,Vr(e,t,r,1);break;case 2:case 9:if(Fm(r)){me=0,Bt=null,yg(t);break}t=function(){me!==2&&me!==9||Ae!==e||(me=7),Fn(e)},r.then(t,t);break e;case 3:me=7;break e;case 4:me=5;break e;case 7:Fm(r)?(me=0,Bt=null,yg(t)):(me=0,Bt=null,Vr(e,t,r,7));break;case 5:var a=null;switch(ne.tag){case 26:a=ne.memoizedState;case 5:case 27:var l=ne;if(a?Qv(a):l.stateNode.complete){me=0,Bt=null;var u=l.sibling;if(u!==null)ne=u;else{var h=l.return;h!==null?(ne=h,Vu(h)):ne=null}break t}}me=0,Bt=null,Vr(e,t,r,5);break;case 6:me=0,Bt=null,Vr(e,t,r,6);break;case 8:mp(),je=6;break e;default:throw Error(U(462))}}ST();break}catch(d){Nv(e,d)}while(!0);return di=dr=null,K.H=i,K.A=s,fe=n,ne!==null?0:(Ae=null,ie=0,Du(),je)}function ST(){for(;ne!==null&&!GE();)Iv(ne)}function Iv(e){var t=rv(e.alternate,e,Ti);e.memoizedProps=e.pendingProps,t===null?Vu(e):ne=t}function yg(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=ug(n,t,t.pendingProps,t.type,void 0,ie);break;case 11:t=ug(n,t,t.pendingProps,t.type.render,t.ref,ie);break;case 5:ep(t);default:av(n,t),t=ne=a0(t,Ti),t=rv(n,t,Ti)}e.memoizedProps=e.pendingProps,t===null?Vu(e):ne=t}function Vr(e,t,n,i){di=dr=null,ep(t),Xr=null,Bo=0;var s=t.return;try{if(lT(e,s,t,n,ie)){je=1,Xc(e,on(n,e.current)),ne=null;return}}catch(r){if(s!==null)throw ne=s,r;je=1,Xc(e,on(n,e.current)),ne=null;return}t.flags&32768?(se||i===1?e=!0:Ea||ie&536870912?e=!1:(Ji=e=!0,(i===2||i===9||i===3||i===6)&&(i=Qt.current,i!==null&&i.tag===13&&(i.flags|=16384))),kv(t,e)):Vu(t)}function Vu(e){var t=e;do{if(t.flags&32768){kv(t,Ji);return}e=t.return;var n=fT(t.alternate,t,Ti);if(n!==null){ne=n;return}if(t=t.sibling,t!==null){ne=t;return}ne=t=e}while(t!==null);je===0&&(je=5)}function kv(e,t){do{var n=hT(e.alternate,e);if(n!==null){n.flags&=32767,ne=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ne=e;return}ne=e=n}while(e!==null);je=6,ne=null}function _g(e,t,n,i,s,r,a,l,u){e.cancelPendingCommit=null;do Hu();while(nt!==0);if(fe&6)throw Error(U(327));if(t!==null){if(t===e.current)throw Error(U(177));if(r=t.lanes|t.childLanes,r|=Vd,WE(e,n,r,a,l,u),e===Ae&&(ne=Ae=null,ie=0),ca=t,as=e,_i=n,Yh=r,Kh=s,wv=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,AT(Uc,function(){return jv(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=K.T,K.T=null,s=he.p,he.p=2,a=fe,fe|=4;try{dT(e,t,n)}finally{fe=a,he.p=s,K.T=i}}nt=1,zv(),Mv(),Lv()}}function zv(){if(nt===1){nt=0;var e=as,t=ca,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=K.T,K.T=null;var i=he.p;he.p=2;var s=fe;fe|=4;try{yv(t,e);var r=td,a=Q_(e.containerInfo),l=r.focusedElem,u=r.selectionRange;if(a!==l&&l&&l.ownerDocument&&J_(l.ownerDocument.documentElement,l)){if(u!==null&&Pd(l)){var h=u.start,d=u.end;if(d===void 0&&(d=h),"selectionStart"in l)l.selectionStart=h,l.selectionEnd=Math.min(d,l.value.length);else{var m=l.ownerDocument||document,g=m&&m.defaultView||window;if(g.getSelection){var T=g.getSelection(),I=l.textContent.length,z=Math.min(u.start,I),P=u.end===void 0?z:Math.min(u.end,I);!T.extend&&z>P&&(a=P,P=z,z=a);var x=Vm(l,z),w=Vm(l,P);if(x&&w&&(T.rangeCount!==1||T.anchorNode!==x.node||T.anchorOffset!==x.offset||T.focusNode!==w.node||T.focusOffset!==w.offset)){var N=m.createRange();N.setStart(x.node,x.offset),T.removeAllRanges(),z>P?(T.addRange(N),T.extend(w.node,w.offset)):(N.setEnd(w.node,w.offset),T.addRange(N))}}}}for(m=[],T=l;T=T.parentNode;)T.nodeType===1&&m.push({element:T,left:T.scrollLeft,top:T.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<m.length;l++){var R=m[l];R.element.scrollLeft=R.left,R.element.scrollTop=R.top}}ou=!!ed,td=ed=null}finally{fe=s,he.p=i,K.T=n}}e.current=t,nt=2}}function Mv(){if(nt===2){nt=0;var e=as,t=ca,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=K.T,K.T=null;var i=he.p;he.p=2;var s=fe;fe|=4;try{hv(e,t.alternate,t)}finally{fe=s,he.p=i,K.T=n}}nt=3}}function Lv(){if(nt===4||nt===3){nt=0,ZE();var e=as,t=ca,n=_i,i=wv;t.subtreeFlags&10256||t.flags&10256?nt=5:(nt=0,ca=as=null,Uv(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(rs=null),Id(n),t=t.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(il,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=K.T,s=he.p,he.p=2,K.T=null;try{for(var r=e.onRecoverableError,a=0;a<i.length;a++){var l=i[a];r(l.value,{componentStack:l.stack})}}finally{K.T=t,he.p=s}}_i&3&&Hu(),Fn(e),s=e.pendingLanes,n&261930&&s&42?e===Jh?Oo++:(Oo=0,Jh=e):Oo=0,fl(0)}}function Uv(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ll(t)))}function Hu(){return zv(),Mv(),Lv(),jv()}function jv(){if(nt!==5)return!1;var e=as,t=Yh;Yh=0;var n=Id(_i),i=K.T,s=he.p;try{he.p=32>n?32:n,K.T=null,n=Kh,Kh=null;var r=as,a=_i;if(nt=0,ca=as=null,_i=0,fe&6)throw Error(U(331));var l=fe;if(fe|=4,Ev(r.current),vv(r,r.current,a,n),fe=l,fl(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(il,r)}catch{}return!0}finally{he.p=s,K.T=i,Uv(e,t)}}function vg(e,t,n){t=on(n,t),t=Zh(e.stateNode,t,2),e=ss(e,t,2),e!==null&&(rl(e,2),Fn(e))}function ye(e,t,n){if(e.tag===3)vg(e,e,n);else for(;t!==null;){if(t.tag===3){vg(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(rs===null||!rs.has(i))){e=on(n,e),n=W0(2),i=ss(t,n,2),i!==null&&(ev(n,i,t,e),rl(i,2),Fn(i));break}}t=t.return}}function Pf(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new gT;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(dp=!0,s.add(n),e=bT.bind(null,e,t,n),t.then(e,e))}function bT(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ae===e&&(ie&n)===n&&(je===4||je===3&&(ie&62914560)===ie&&300>Ft()-ju?!(fe&2)&&ua(e,0):pp|=n,la===ie&&(la=0)),Fn(e)}function Pv(e,t){t===0&&(t=R_()),e=hr(e,t),e!==null&&(rl(e,t),Fn(e))}function ET(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Pv(e,n)}function TT(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(U(314))}i!==null&&i.delete(t),Pv(e,n)}function AT(e,t){return Rd(e,t)}var eu=null,Nr=null,Qh=!1,tu=!1,Vf=!1,Wi=0;function Fn(e){e!==Nr&&e.next===null&&(Nr===null?eu=Nr=e:Nr=Nr.next=e),tu=!0,Qh||(Qh=!0,xT())}function fl(e,t){if(!Vf&&tu){Vf=!0;do for(var n=!1,i=eu;i!==null;){if(e!==0){var s=i.pendingLanes;if(s===0)var r=0;else{var a=i.suspendedLanes,l=i.pingedLanes;r=(1<<31-Yt(42|e)+1)-1,r&=s&~(a&~l),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,Sg(i,r))}else r=ie,r=Ou(i,i===Ae?r:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(r&3)||sl(i,r)||(n=!0,Sg(i,r));i=i.next}while(n);Vf=!1}}function wT(){Vv()}function Vv(){tu=Qh=!1;var e=0;Wi!==0&&LT()&&(e=Wi);for(var t=Ft(),n=null,i=eu;i!==null;){var s=i.next,r=Hv(i,t);r===0?(i.next=null,n===null?eu=s:n.next=s,s===null&&(Nr=n)):(n=i,(e!==0||r&3)&&(tu=!0)),i=s}nt!==0&&nt!==5||fl(e),Wi!==0&&(Wi=0)}function Hv(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var a=31-Yt(r),l=1<<a,u=s[a];u===-1?(!(l&n)||l&i)&&(s[a]=QE(l,t)):u<=t&&(e.expiredLanes|=l),r&=~l}if(t=Ae,n=ie,n=Ou(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(me===2||me===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&pf(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||sl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&pf(i),Id(n)){case 2:case 8:n=N_;break;case 32:n=Uc;break;case 268435456:n=C_;break;default:n=Uc}return i=Bv.bind(null,e),n=Rd(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&pf(i),e.callbackPriority=2,e.callbackNode=null,2}function Bv(e,t){if(nt!==0&&nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Hu()&&e.callbackNode!==n)return null;var i=ie;return i=Ou(e,e===Ae?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Ov(e,i,t),Hv(e,Ft()),e.callbackNode!=null&&e.callbackNode===n?Bv.bind(null,e):null)}function Sg(e,t){if(Hu())return null;Ov(e,t,!0)}function xT(){jT(function(){fe&6?Rd(O_,wT):Vv()})}function gp(){if(Wi===0){var e=ra;e===0&&(e=Hl,Hl<<=1,!(Hl&261888)&&(Hl=256)),Wi=e}return Wi}function bg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:dc(""+e)}function Eg(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function OT(e,t,n,i,s){if(t==="submit"&&n&&n.stateNode===s){var r=bg((s[zt]||null).action),a=i.submitter;a&&(t=(t=a[zt]||null)?bg(t.formAction):a.getAttribute("formAction"),t!==null&&(r=t,a=null));var l=new Nu("action","action",null,i,s);e.push({event:l,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Wi!==0){var u=a?Eg(s,a):new FormData(s);Bh(n,{pending:!0,data:u,method:s.method,action:r},null,u)}}else typeof r=="function"&&(l.preventDefault(),u=a?Eg(s,a):new FormData(s),Bh(n,{pending:!0,data:u,method:s.method,action:r},r,u))},currentTarget:s}]})}}for(var Hf=0;Hf<Rh.length;Hf++){var Bf=Rh[Hf],NT=Bf.toLowerCase(),CT=Bf[0].toUpperCase()+Bf.slice(1);xn(NT,"on"+CT)}xn(e0,"onAnimationEnd");xn(t0,"onAnimationIteration");xn(n0,"onAnimationStart");xn("dblclick","onDoubleClick");xn("focusin","onFocus");xn("focusout","onBlur");xn(q1,"onTransitionRun");xn($1,"onTransitionStart");xn(F1,"onTransitionCancel");xn(i0,"onTransitionEnd");ia("onMouseEnter",["mouseout","mouseover"]);ia("onMouseLeave",["mouseout","mouseover"]);ia("onPointerEnter",["pointerout","pointerover"]);ia("onPointerLeave",["pointerout","pointerover"]);cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qo));function Gv(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var a=i.length-1;0<=a;a--){var l=i[a],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==r&&s.isPropagationStopped())break e;r=l,s.currentTarget=h;try{r(s)}catch(d){Pc(d)}s.currentTarget=null,r=u}else for(a=0;a<i.length;a++){if(l=i[a],u=l.instance,h=l.currentTarget,l=l.listener,u!==r&&s.isPropagationStopped())break e;r=l,s.currentTarget=h;try{r(s)}catch(d){Pc(d)}s.currentTarget=null,r=u}}}}function te(e,t){var n=t[Eh];n===void 0&&(n=t[Eh]=new Set);var i=e+"__bubble";n.has(i)||(Zv(t,e,2,!1),n.add(i))}function Gf(e,t,n){var i=0;t&&(i|=4),Zv(n,e,i,t)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function yp(e){if(!e[Jl]){e[Jl]=!0,M_.forEach(function(n){n!=="selectionchange"&&(RT.has(n)||Gf(n,!1,e),Gf(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jl]||(t[Jl]=!0,Gf("selectionchange",!1,t))}}function Zv(e,t,n,i){switch(iS(t)){case 2:var s=sA;break;case 8:s=rA;break;default:s=bp}n=s.bind(null,t,n,e),s=void 0,!Oh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Zf(e,t,n,i,s){var r=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var l=i.stateNode.containerInfo;if(l===s)break;if(a===4)for(a=i.return;a!==null;){var u=a.tag;if((u===3||u===4)&&a.stateNode.containerInfo===s)return;a=a.return}for(;l!==null;){if(a=Dr(l),a===null)return;if(u=a.tag,u===5||u===6||u===26||u===27){i=r=a;continue e}l=l.parentNode}}i=i.return}G_(function(){var h=r,d=Md(n),m=[];e:{var g=s0.get(e);if(g!==void 0){var T=Nu,I=e;switch(e){case"keypress":if(mc(n)===0)break e;case"keydown":case"keyup":T=T1;break;case"focusin":I="focus",T=vf;break;case"focusout":I="blur",T=vf;break;case"beforeblur":case"afterblur":T=vf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=Rm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=f1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=x1;break;case e0:case t0:case n0:T=p1;break;case i0:T=N1;break;case"scroll":case"scrollend":T=c1;break;case"wheel":T=R1;break;case"copy":case"cut":case"paste":T=g1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=Im;break;case"toggle":case"beforetoggle":T=I1}var z=(t&4)!==0,P=!z&&(e==="scroll"||e==="scrollend"),x=z?g!==null?g+"Capture":null:g;z=[];for(var w=h,N;w!==null;){var R=w;if(N=R.stateNode,R=R.tag,R!==5&&R!==26&&R!==27||N===null||x===null||(R=Uo(w,x),R!=null&&z.push($o(w,R,N))),P)break;w=w.return}0<z.length&&(g=new T(g,I,null,n,d),m.push({event:g,listeners:z}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",T=e==="mouseout"||e==="pointerout",g&&n!==xh&&(I=n.relatedTarget||n.fromElement)&&(Dr(I)||I[_a]))break e;if((T||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,T?(I=n.relatedTarget||n.toElement,T=h,I=I?Dr(I):null,I!==null&&(P=nl(I),z=I.tag,I!==P||z!==5&&z!==27&&z!==6)&&(I=null)):(T=null,I=h),T!==I)){if(z=Rm,R="onMouseLeave",x="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(z=Im,R="onPointerLeave",x="onPointerEnter",w="pointer"),P=T==null?g:fo(T),N=I==null?g:fo(I),g=new z(R,w+"leave",T,n,d),g.target=P,g.relatedTarget=N,R=null,Dr(d)===h&&(z=new z(x,w+"enter",I,n,d),z.target=N,z.relatedTarget=P,R=z),P=R,T&&I)t:{for(z=DT,x=T,w=I,N=0,R=x;R;R=z(R))N++;R=0;for(var V=w;V;V=z(V))R++;for(;0<N-R;)x=z(x),N--;for(;0<R-N;)w=z(w),R--;for(;N--;){if(x===w||w!==null&&x===w.alternate){z=x;break t}x=z(x),w=z(w)}z=null}else z=null;T!==null&&Tg(m,g,T,z,!1),I!==null&&P!==null&&Tg(m,P,I,z,!0)}}e:{if(g=h?fo(h):window,T=g.nodeName&&g.nodeName.toLowerCase(),T==="select"||T==="input"&&g.type==="file")var Z=Lm;else if(Mm(g))if(Y_)Z=B1;else{Z=V1;var b=P1}else T=g.nodeName,!T||T.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?h&&zd(h.elementType)&&(Z=Lm):Z=H1;if(Z&&(Z=Z(e,h))){X_(m,Z,n,d);break e}b&&b(e,g,h),e==="focusout"&&h&&g.type==="number"&&h.memoizedProps.value!=null&&wh(g,"number",g.value)}switch(b=h?fo(h):window,e){case"focusin":(Mm(b)||b.contentEditable==="true")&&(zr=b,Nh=h,_o=null);break;case"focusout":_o=Nh=zr=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,Hm(m,n,d);break;case"selectionchange":if(Z1)break;case"keydown":case"keyup":Hm(m,n,d)}var _;if(jd)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else kr?$_(e,n)&&(v="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(q_&&n.locale!=="ko"&&(kr||v!=="onCompositionStart"?v==="onCompositionEnd"&&kr&&(_=Z_()):(Ki=d,Ld="value"in Ki?Ki.value:Ki.textContent,kr=!0)),b=nu(h,v),0<b.length&&(v=new Dm(v,e,null,n,d),m.push({event:v,listeners:b}),_?v.data=_:(_=F_(n),_!==null&&(v.data=_)))),(_=z1?M1(e,n):L1(e,n))&&(v=nu(h,"onBeforeInput"),0<v.length&&(b=new Dm("onBeforeInput","beforeinput",null,n,d),m.push({event:b,listeners:v}),b.data=_)),OT(m,e,h,n,d)}Gv(m,t)})}function $o(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nu(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,r=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||r===null||(s=Uo(e,n),s!=null&&i.unshift($o(e,s,r)),s=Uo(e,t),s!=null&&i.push($o(e,s,r))),e.tag===3)return i;e=e.return}return[]}function DT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Tg(e,t,n,i,s){for(var r=t._reactName,a=[];n!==null&&n!==i;){var l=n,u=l.alternate,h=l.stateNode;if(l=l.tag,u!==null&&u===i)break;l!==5&&l!==26&&l!==27||h===null||(u=h,s?(h=Uo(n,r),h!=null&&a.unshift($o(n,h,u))):s||(h=Uo(n,r),h!=null&&a.push($o(n,h,u)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var IT=/\r\n?/g,kT=/\u0000|\uFFFD/g;function Ag(e){return(typeof e=="string"?e:""+e).replace(IT,`
`).replace(kT,"")}function qv(e,t){return t=Ag(t),Ag(e)===t}function Se(e,t,n,i,s,r){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||sa(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&sa(e,""+i);break;case"className":Zl(e,"class",i);break;case"tabIndex":Zl(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Zl(e,n,i);break;case"style":B_(e,i,r);break;case"data":if(t!=="object"){Zl(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=dc(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&Se(e,t,"name",s.name,s,null),Se(e,t,"formEncType",s.formEncType,s,null),Se(e,t,"formMethod",s.formMethod,s,null),Se(e,t,"formTarget",s.formTarget,s,null)):(Se(e,t,"encType",s.encType,s,null),Se(e,t,"method",s.method,s,null),Se(e,t,"target",s.target,s,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=dc(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=hi);break;case"onScroll":i!=null&&te("scroll",e);break;case"onScrollEnd":i!=null&&te("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(U(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=dc(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":te("beforetoggle",e),te("toggle",e),hc(e,"popover",i);break;case"xlinkActuate":ti(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":ti(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":ti(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":ti(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":ti(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":ti(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":ti(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":ti(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":ti(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":hc(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=o1.get(n)||n,hc(e,n,i))}}function Wh(e,t,n,i,s,r){switch(n){case"style":B_(e,i,r);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(U(61));if(n=i.__html,n!=null){if(s.children!=null)throw Error(U(60));e.innerHTML=n}}break;case"children":typeof i=="string"?sa(e,i):(typeof i=="number"||typeof i=="bigint")&&sa(e,""+i);break;case"onScroll":i!=null&&te("scroll",e);break;case"onScrollEnd":i!=null&&te("scrollend",e);break;case"onClick":i!=null&&(e.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!L_.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),r=e[zt]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,s),typeof i=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,s);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):hc(e,n,i)}}}function _t(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":te("error",e),te("load",e);var i=!1,s=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:Se(e,t,r,a,n,null)}}s&&Se(e,t,"srcSet",n.srcSet,n,null),i&&Se(e,t,"src",n.src,n,null);return;case"input":te("invalid",e);var l=r=a=s=null,u=null,h=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":s=d;break;case"type":a=d;break;case"checked":u=d;break;case"defaultChecked":h=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(U(137,t));break;default:Se(e,t,i,d,n,null)}}P_(e,r,l,u,h,a,s,!1);return;case"select":te("invalid",e),i=a=r=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Se(e,t,s,l,n,null)}t=r,n=a,e.multiple=!!i,t!=null?qr(e,!!i,t,!1):n!=null&&qr(e,!!i,n,!0);return;case"textarea":te("invalid",e),r=s=i=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(U(91));break;default:Se(e,t,a,l,n,null)}H_(e,i,s,r);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(i=n[u],i!=null))switch(u){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:Se(e,t,u,i,n,null)}return;case"dialog":te("beforetoggle",e),te("toggle",e),te("cancel",e),te("close",e);break;case"iframe":case"object":te("load",e);break;case"video":case"audio":for(i=0;i<qo.length;i++)te(qo[i],e);break;case"image":te("error",e),te("load",e);break;case"details":te("toggle",e);break;case"embed":case"source":case"link":te("error",e),te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(i=n[h],i!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(U(137,t));default:Se(e,t,h,i,n,null)}return;default:if(zd(t)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Wh(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(i=n[l],i!=null&&Se(e,t,l,i,n,null))}function zT(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,r=null,a=null,l=null,u=null,h=null,d=null;for(T in n){var m=n[T];if(n.hasOwnProperty(T)&&m!=null)switch(T){case"checked":break;case"value":break;case"defaultValue":u=m;default:i.hasOwnProperty(T)||Se(e,t,T,null,i,m)}}for(var g in i){var T=i[g];if(m=n[g],i.hasOwnProperty(g)&&(T!=null||m!=null))switch(g){case"type":r=T;break;case"name":s=T;break;case"checked":h=T;break;case"defaultChecked":d=T;break;case"value":a=T;break;case"defaultValue":l=T;break;case"children":case"dangerouslySetInnerHTML":if(T!=null)throw Error(U(137,t));break;default:T!==m&&Se(e,t,g,T,i,m)}}Ah(e,a,l,u,h,d,r,s);return;case"select":T=a=l=g=null;for(r in n)if(u=n[r],n.hasOwnProperty(r)&&u!=null)switch(r){case"value":break;case"multiple":T=u;default:i.hasOwnProperty(r)||Se(e,t,r,null,i,u)}for(s in i)if(r=i[s],u=n[s],i.hasOwnProperty(s)&&(r!=null||u!=null))switch(s){case"value":g=r;break;case"defaultValue":l=r;break;case"multiple":a=r;default:r!==u&&Se(e,t,s,r,i,u)}t=l,n=a,i=T,g!=null?qr(e,!!n,g,!1):!!i!=!!n&&(t!=null?qr(e,!!n,t,!0):qr(e,!!n,n?[]:"",!1));return;case"textarea":T=g=null;for(l in n)if(s=n[l],n.hasOwnProperty(l)&&s!=null&&!i.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Se(e,t,l,null,i,s)}for(a in i)if(s=i[a],r=n[a],i.hasOwnProperty(a)&&(s!=null||r!=null))switch(a){case"value":g=s;break;case"defaultValue":T=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(U(91));break;default:s!==r&&Se(e,t,a,s,i,r)}V_(e,g,T);return;case"option":for(var I in n)if(g=n[I],n.hasOwnProperty(I)&&g!=null&&!i.hasOwnProperty(I))switch(I){case"selected":e.selected=!1;break;default:Se(e,t,I,null,i,g)}for(u in i)if(g=i[u],T=n[u],i.hasOwnProperty(u)&&g!==T&&(g!=null||T!=null))switch(u){case"selected":e.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Se(e,t,u,g,i,T)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var z in n)g=n[z],n.hasOwnProperty(z)&&g!=null&&!i.hasOwnProperty(z)&&Se(e,t,z,null,i,g);for(h in i)if(g=i[h],T=n[h],i.hasOwnProperty(h)&&g!==T&&(g!=null||T!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(U(137,t));break;default:Se(e,t,h,g,i,T)}return;default:if(zd(t)){for(var P in n)g=n[P],n.hasOwnProperty(P)&&g!==void 0&&!i.hasOwnProperty(P)&&Wh(e,t,P,void 0,i,g);for(d in i)g=i[d],T=n[d],!i.hasOwnProperty(d)||g===T||g===void 0&&T===void 0||Wh(e,t,d,g,i,T);return}}for(var x in n)g=n[x],n.hasOwnProperty(x)&&g!=null&&!i.hasOwnProperty(x)&&Se(e,t,x,null,i,g);for(m in i)g=i[m],T=n[m],!i.hasOwnProperty(m)||g===T||g==null&&T==null||Se(e,t,m,g,i,T)}function wg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var s=n[i],r=s.transferSize,a=s.initiatorType,l=s.duration;if(r&&l&&wg(a)){for(a=0,l=s.responseEnd,i+=1;i<n.length;i++){var u=n[i],h=u.startTime;if(h>l)break;var d=u.transferSize,m=u.initiatorType;d&&wg(m)&&(u=u.responseEnd,a+=d*(u<l?1:(l-h)/(u-h)))}if(--i,t+=8*(r+a)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ed=null,td=null;function iu(e){return e.nodeType===9?e:e.ownerDocument}function xg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $v(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function nd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qf=null;function LT(){var e=window.event;return e&&e.type==="popstate"?e===qf?!1:(qf=e,!0):(qf=null,!1)}var Fv=typeof setTimeout=="function"?setTimeout:void 0,UT=typeof clearTimeout=="function"?clearTimeout:void 0,Og=typeof Promise=="function"?Promise:void 0,jT=typeof queueMicrotask=="function"?queueMicrotask:typeof Og<"u"?function(e){return Og.resolve(null).then(e).catch(PT)}:Fv;function PT(e){setTimeout(function(){throw e})}function bs(e){return e==="head"}function Ng(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(s),ha(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")No(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,No(n);for(var r=n.firstChild;r;){var a=r.nextSibling,l=r.nodeName;r[al]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=a}}else n==="body"&&No(e.ownerDocument.body);n=s}while(n);ha(t)}function Cg(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function id(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":id(n),kd(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function VT(e,t,n,i){for(;e.nodeType===1;){var s=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[al])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=hn(e.nextSibling),e===null)break}return null}function HT(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=hn(e.nextSibling),e===null))return null;return e}function Xv(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=hn(e.nextSibling),e===null))return null;return e}function sd(e){return e.data==="$?"||e.data==="$~"}function rd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function BT(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function hn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ad=null;function Rg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return hn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Dg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Yv(e,t,n){switch(t=iu(n),e){case"html":if(e=t.documentElement,!e)throw Error(U(452));return e;case"head":if(e=t.head,!e)throw Error(U(453));return e;case"body":if(e=t.body,!e)throw Error(U(454));return e;default:throw Error(U(451))}}function No(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);kd(e)}var dn=new Map,Ig=new Set;function su(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Oi=he.d;he.d={f:GT,r:ZT,D:qT,C:$T,L:FT,m:XT,X:KT,S:YT,M:JT};function GT(){var e=Oi.f(),t=Pu();return e||t}function ZT(e){var t=va(e);t!==null&&t.tag===5&&t.type==="form"?B0(t):Oi.r(e)}var Ta=typeof document>"u"?null:document;function Kv(e,t,n){var i=Ta;if(i&&typeof t=="string"&&t){var s=an(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof n=="string"&&(s+='[crossorigin="'+n+'"]'),Ig.has(s)||(Ig.add(s),e={rel:e,crossOrigin:n,href:t},i.querySelector(s)===null&&(t=i.createElement("link"),_t(t,"link",e),lt(t),i.head.appendChild(t)))}}function qT(e){Oi.D(e),Kv("dns-prefetch",e,null)}function $T(e,t){Oi.C(e,t),Kv("preconnect",e,t)}function FT(e,t,n){Oi.L(e,t,n);var i=Ta;if(i&&e&&t){var s='link[rel="preload"][as="'+an(t)+'"]';t==="image"&&n&&n.imageSrcSet?(s+='[imagesrcset="'+an(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(s+='[imagesizes="'+an(n.imageSizes)+'"]')):s+='[href="'+an(e)+'"]';var r=s;switch(t){case"style":r=fa(e);break;case"script":r=Aa(e)}dn.has(r)||(e=De({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),dn.set(r,e),i.querySelector(s)!==null||t==="style"&&i.querySelector(hl(r))||t==="script"&&i.querySelector(dl(r))||(t=i.createElement("link"),_t(t,"link",e),lt(t),i.head.appendChild(t)))}}function XT(e,t){Oi.m(e,t);var n=Ta;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+an(i)+'"][href="'+an(e)+'"]',r=s;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Aa(e)}if(!dn.has(r)&&(e=De({rel:"modulepreload",href:e},t),dn.set(r,e),n.querySelector(s)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(dl(r)))return}i=n.createElement("link"),_t(i,"link",e),lt(i),n.head.appendChild(i)}}}function YT(e,t,n){Oi.S(e,t,n);var i=Ta;if(i&&e){var s=Zr(i).hoistableStyles,r=fa(e);t=t||"default";var a=s.get(r);if(!a){var l={loading:0,preload:null};if(a=i.querySelector(hl(r)))l.loading=5;else{e=De({rel:"stylesheet",href:e,"data-precedence":t},n),(n=dn.get(r))&&_p(e,n);var u=a=i.createElement("link");lt(u),_t(u,"link",e),u._p=new Promise(function(h,d){u.onload=h,u.onerror=d}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Tc(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:l},s.set(r,a)}}}function KT(e,t){Oi.X(e,t);var n=Ta;if(n&&e){var i=Zr(n).hoistableScripts,s=Aa(e),r=i.get(s);r||(r=n.querySelector(dl(s)),r||(e=De({src:e,async:!0},t),(t=dn.get(s))&&vp(e,t),r=n.createElement("script"),lt(r),_t(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function JT(e,t){Oi.M(e,t);var n=Ta;if(n&&e){var i=Zr(n).hoistableScripts,s=Aa(e),r=i.get(s);r||(r=n.querySelector(dl(s)),r||(e=De({src:e,async:!0,type:"module"},t),(t=dn.get(s))&&vp(e,t),r=n.createElement("script"),lt(r),_t(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},i.set(s,r))}}function kg(e,t,n,i){var s=(s=ts.current)?su(s):null;if(!s)throw Error(U(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=fa(n.href),n=Zr(s).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=fa(n.href);var r=Zr(s).hoistableStyles,a=r.get(e);if(a||(s=s.ownerDocument||s,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,a),(r=s.querySelector(hl(e)))&&!r._p&&(a.instance=r,a.state.loading=5),dn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},dn.set(e,n),r||QT(s,e,n,a.state))),t&&i===null)throw Error(U(528,""));return a}if(t&&i!==null)throw Error(U(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Aa(n),n=Zr(s).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(U(444,e))}}function fa(e){return'href="'+an(e)+'"'}function hl(e){return'link[rel="stylesheet"]['+e+"]"}function Jv(e){return De({},e,{"data-precedence":e.precedence,precedence:null})}function QT(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),_t(t,"link",n),lt(t),e.head.appendChild(t))}function Aa(e){return'[src="'+an(e)+'"]'}function dl(e){return"script[async]"+e}function zg(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+an(n.href)+'"]');if(i)return t.instance=i,lt(i),i;var s=De({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),lt(i),_t(i,"style",s),Tc(i,n.precedence,e),t.instance=i;case"stylesheet":s=fa(n.href);var r=e.querySelector(hl(s));if(r)return t.state.loading|=4,t.instance=r,lt(r),r;i=Jv(n),(s=dn.get(s))&&_p(i,s),r=(e.ownerDocument||e).createElement("link"),lt(r);var a=r;return a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),_t(r,"link",i),t.state.loading|=4,Tc(r,n.precedence,e),t.instance=r;case"script":return r=Aa(n.src),(s=e.querySelector(dl(r)))?(t.instance=s,lt(s),s):(i=n,(s=dn.get(r))&&(i=De({},n),vp(i,s)),e=e.ownerDocument||e,s=e.createElement("script"),lt(s),_t(s,"link",i),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(U(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,Tc(i,n.precedence,e));return t.instance}function Tc(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=i.length?i[i.length-1]:null,r=s,a=0;a<i.length;a++){var l=i[a];if(l.dataset.precedence===t)r=l;else if(r!==s)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function _p(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function vp(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ac=null;function Mg(e,t,n){if(Ac===null){var i=new Map,s=Ac=new Map;s.set(n,i)}else s=Ac,i=s.get(n),i||(i=new Map,s.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),s=0;s<n.length;s++){var r=n[s];if(!(r[al]||r[mt]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(t)||"";a=e+a;var l=i.get(a);l?l.push(r):i.set(a,[r])}}return i}function Lg(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function WT(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Qv(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function eA(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var s=fa(i.href),r=t.querySelector(hl(s));if(r){t=r._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ru.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=r,lt(r);return}r=t.ownerDocument||t,i=Jv(i),(s=dn.get(s))&&_p(i,s),r=r.createElement("link"),lt(r);var a=r;a._p=new Promise(function(l,u){a.onload=l,a.onerror=u}),_t(r,"link",i),n.instance=r}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=ru.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var $f=0;function tA(e,t){return e.stylesheets&&e.count===0&&wc(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4+t);0<e.imgBytes&&$f===0&&($f=62500*MT());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend)){var r=e.unsuspend;e.unsuspend=null,r()}},(e.imgBytes>$f?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(s)}}:null}function ru(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var au=null;function wc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,au=new Map,t.forEach(nA,e),au=null,ru.call(e))}function nA(e,t){if(!(t.state.loading&4)){var n=au.get(e);if(n)var i=n.get(null);else{n=new Map,au.set(e,n);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<s.length;r++){var a=s[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}s=t.instance,a=s.getAttribute("data-precedence"),r=n.get(a)||i,r===i&&n.set(null,s),n.set(a,s),this.count++,i=ru.bind(this),s.addEventListener("load",i),s.addEventListener("error",i),r?r.parentNode.insertBefore(s,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Fo={$$typeof:fi,Provider:null,Consumer:null,_currentValue:$s,_currentValue2:$s,_threadCount:0};function iA(e,t,n,i,s,r,a,l,u){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mf(0),this.hiddenUpdates=mf(null),this.identifierPrefix=i,this.onUncaughtError=s,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Wv(e,t,n,i,s,r,a,l,u,h,d,m){return e=new iA(e,t,n,a,u,h,d,m,l),t=1,r===!0&&(t|=24),r=qt(3,null,null,t),e.current=r,r.stateNode=e,t=qd(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:i,isDehydrated:n,cache:t},Xd(r),e}function eS(e){return e?(e=Ur,e):Ur}function tS(e,t,n,i,s,r){s=eS(s),i.context===null?i.context=s:i.pendingContext=s,i=is(t),i.payload={element:n},r=r===void 0?null:r,r!==null&&(i.callback=r),n=ss(e,i,t),n!==null&&(kt(n,e,t),So(n,e,t))}function Ug(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sp(e,t){Ug(e,t),(e=e.alternate)&&Ug(e,t)}function nS(e){if(e.tag===13||e.tag===31){var t=hr(e,67108864);t!==null&&kt(t,e,67108864),Sp(e,67108864)}}function jg(e){if(e.tag===13||e.tag===31){var t=Kt();t=Dd(t);var n=hr(e,t);n!==null&&kt(n,e,t),Sp(e,t)}}var ou=!0;function sA(e,t,n,i){var s=K.T;K.T=null;var r=he.p;try{he.p=2,bp(e,t,n,i)}finally{he.p=r,K.T=s}}function rA(e,t,n,i){var s=K.T;K.T=null;var r=he.p;try{he.p=8,bp(e,t,n,i)}finally{he.p=r,K.T=s}}function bp(e,t,n,i){if(ou){var s=od(i);if(s===null)Zf(e,t,i,lu,n),Pg(e,i);else if(oA(s,e,t,n,i))i.stopPropagation();else if(Pg(e,i),t&4&&-1<aA.indexOf(e)){for(;s!==null;){var r=va(s);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=Vs(r.pendingLanes);if(a!==0){var l=r;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var u=1<<31-Yt(a);l.entanglements[1]|=u,a&=~u}Fn(r),!(fe&6)&&(Jc=Ft()+500,fl(0))}}break;case 31:case 13:l=hr(r,2),l!==null&&kt(l,r,2),Pu(),Sp(r,2)}if(r=od(i),r===null&&Zf(e,t,i,lu,n),r===s)break;s=r}s!==null&&i.stopPropagation()}else Zf(e,t,i,null,n)}}function od(e){return e=Md(e),Ep(e)}var lu=null;function Ep(e){if(lu=null,e=Dr(e),e!==null){var t=nl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=E_(t),e!==null)return e;e=null}else if(n===31){if(e=T_(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return lu=e,null}function iS(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qE()){case O_:return 2;case N_:return 8;case Uc:case $E:return 32;case C_:return 268435456;default:return 32}default:return 32}}var ld=!1,os=null,ls=null,cs=null,Xo=new Map,Yo=new Map,Zi=[],aA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pg(e,t){switch(e){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Xo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(t.pointerId)}}function to(e,t,n,i,s,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[s]},t!==null&&(t=va(t),t!==null&&nS(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function oA(e,t,n,i,s){switch(t){case"focusin":return os=to(os,e,t,n,i,s),!0;case"dragenter":return ls=to(ls,e,t,n,i,s),!0;case"mouseover":return cs=to(cs,e,t,n,i,s),!0;case"pointerover":var r=s.pointerId;return Xo.set(r,to(Xo.get(r)||null,e,t,n,i,s)),!0;case"gotpointercapture":return r=s.pointerId,Yo.set(r,to(Yo.get(r)||null,e,t,n,i,s)),!0}return!1}function sS(e){var t=Dr(e.target);if(t!==null){var n=nl(t);if(n!==null){if(t=n.tag,t===13){if(t=E_(n),t!==null){e.blockedOn=t,Tm(e.priority,function(){jg(n)});return}}else if(t===31){if(t=T_(n),t!==null){e.blockedOn=t,Tm(e.priority,function(){jg(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=od(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);xh=i,n.target.dispatchEvent(i),xh=null}else return t=va(n),t!==null&&nS(t),e.blockedOn=n,!1;t.shift()}return!0}function Vg(e,t,n){xc(e)&&n.delete(t)}function lA(){ld=!1,os!==null&&xc(os)&&(os=null),ls!==null&&xc(ls)&&(ls=null),cs!==null&&xc(cs)&&(cs=null),Xo.forEach(Vg),Yo.forEach(Vg)}function Ql(e,t){e.blockedOn===t&&(e.blockedOn=null,ld||(ld=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,lA)))}var Wl=null;function Hg(e){Wl!==e&&(Wl=e,st.unstable_scheduleCallback(st.unstable_NormalPriority,function(){Wl===e&&(Wl=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],s=e[t+2];if(typeof i!="function"){if(Ep(i||n)===null)continue;break}var r=va(n);r!==null&&(e.splice(t,3),t-=3,Bh(r,{pending:!0,data:s,method:n.method,action:i},i,s))}}))}function ha(e){function t(u){return Ql(u,e)}os!==null&&Ql(os,e),ls!==null&&Ql(ls,e),cs!==null&&Ql(cs,e),Xo.forEach(t),Yo.forEach(t);for(var n=0;n<Zi.length;n++){var i=Zi[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Zi.length&&(n=Zi[0],n.blockedOn===null);)sS(n),n.blockedOn===null&&Zi.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var s=n[i],r=n[i+1],a=s[zt]||null;if(typeof r=="function")a||Hg(n);else if(a){var l=null;if(r&&r.hasAttribute("formAction")){if(s=r,a=r[zt]||null)l=a.formAction;else if(Ep(s)!==null)continue}else l=a.action;typeof l=="function"?n[i+1]=l:(n.splice(i,3),i-=3),Hg(n)}}}function rS(){function e(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(a){return s=a})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function Tp(e){this._internalRoot=e}Bu.prototype.render=Tp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));var n=t.current,i=Kt();tS(n,i,e,t,null,null)};Bu.prototype.unmount=Tp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tS(e.current,2,null,e,null,null),Pu(),t[_a]=null}};function Bu(e){this._internalRoot=e}Bu.prototype.unstable_scheduleHydration=function(e){if(e){var t=z_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zi.length&&t!==0&&t<Zi[n].priority;n++);Zi.splice(n,0,e),n===0&&sS(e)}};var Bg=S_.version;if(Bg!=="19.2.3")throw Error(U(527,Bg,"19.2.3"));he.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=jE(t),e=e!==null?A_(e):null,e=e===null?null:e.stateNode,e};var cA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{il=ec.inject(cA),Xt=ec}catch{}}xu.createRoot=function(e,t){if(!b_(e))throw Error(U(299));var n=!1,i="",s=K0,r=J0,a=Q0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Wv(e,1,!1,null,null,n,i,null,s,r,a,rS),e[_a]=t.current,yp(e),new Tp(t)};xu.hydrateRoot=function(e,t,n){if(!b_(e))throw Error(U(299));var i=!1,s="",r=K0,a=J0,l=Q0,u=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(u=n.formState)),t=Wv(e,1,!0,t,n??null,i,s,u,r,a,l,rS),t.context=eS(null),n=t.current,i=Kt(),i=Dd(i),s=is(i),s.callback=null,ss(n,s,i),n=i,t.current.lanes=n,rl(t,n),Fn(t),e[_a]=t.current,yp(e),new Bu(t)};xu.version="19.2.3";function aS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aS)}catch(e){console.error(e)}}aS(),y_.exports=xu;var uA=y_.exports;const fA="modulepreload",hA=function(e){return"/df-deploy/"+e},Gg={},M=function(t,n,i){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(u=>{if(u=hA(u),u in Gg)return;Gg[u]=!0;const h=u.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":fA,h||(m.as="script"),m.crossOrigin="",m.href=u,l&&m.setAttribute("nonce",l),document.head.appendChild(m),h)return new Promise((g,T)=>{m.addEventListener("load",g),m.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})},Ko="df",oS="Abstract Algebra (Dummit & Foote)",dA="The definitive graduate-level abstract algebra textbook covering groups, rings, modules, fields, Galois theory, algebraic geometry, and representation theory.",lS="G",pA="https://mathacademy-cyan.vercel.app",Vn={gamification:!0,leaderboard:!0,nostrAuth:!0,quizzes:!0,interactiveModules:!0,theoremIndex:!0,problemSets:!0};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:cS,setPrototypeOf:Zg,isFrozen:mA,getPrototypeOf:gA,getOwnPropertyDescriptor:yA}=Object;let{freeze:At,seal:pn,create:cd}=Object,{apply:ud,construct:fd}=typeof Reflect<"u"&&Reflect;At||(At=function(t){return t});pn||(pn=function(t){return t});ud||(ud=function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),r=2;r<i;r++)s[r-2]=arguments[r];return t.apply(n,s)});fd||(fd=function(t){for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return new t(...i)});const tc=wt(Array.prototype.forEach),_A=wt(Array.prototype.lastIndexOf),qg=wt(Array.prototype.pop),no=wt(Array.prototype.push),vA=wt(Array.prototype.splice),Oc=wt(String.prototype.toLowerCase),Ff=wt(String.prototype.toString),Xf=wt(String.prototype.match),io=wt(String.prototype.replace),SA=wt(String.prototype.indexOf),bA=wt(String.prototype.trim),Sn=wt(Object.prototype.hasOwnProperty),bt=wt(RegExp.prototype.test),so=EA(TypeError);function wt(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,i=new Array(n>1?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];return ud(e,t,i)}}function EA(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return fd(e,n)}}function ee(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Oc;Zg&&Zg(e,null);let i=t.length;for(;i--;){let s=t[i];if(typeof s=="string"){const r=n(s);r!==s&&(mA(t)||(t[i]=r),s=r)}e[s]=!0}return e}function TA(e){for(let t=0;t<e.length;t++)Sn(e,t)||(e[t]=null);return e}function kn(e){const t=cd(null);for(const[n,i]of cS(e))Sn(e,n)&&(Array.isArray(i)?t[n]=TA(i):i&&typeof i=="object"&&i.constructor===Object?t[n]=kn(i):t[n]=i);return t}function ro(e,t){for(;e!==null;){const i=yA(e,t);if(i){if(i.get)return wt(i.get);if(typeof i.value=="function")return wt(i.value)}e=gA(e)}function n(){return null}return n}const $g=At(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Yf=At(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Kf=At(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),AA=At(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Jf=At(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),wA=At(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Fg=At(["#text"]),Xg=At(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Qf=At(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Yg=At(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),nc=At(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),xA=pn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),OA=pn(/<%[\w\W]*|[\w\W]*%>/gm),NA=pn(/\$\{[\w\W]*/gm),CA=pn(/^data-[\-\w.\u00B7-\uFFFF]+$/),RA=pn(/^aria-[\-\w]+$/),uS=pn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),DA=pn(/^(?:\w+script|data):/i),IA=pn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),fS=pn(/^html$/i),kA=pn(/^[a-z][.\w]*(-[.\w]+)+$/i);var Kg=Object.freeze({__proto__:null,ARIA_ATTR:RA,ATTR_WHITESPACE:IA,CUSTOM_ELEMENT:kA,DATA_ATTR:CA,DOCTYPE_NAME:fS,ERB_EXPR:OA,IS_ALLOWED_URI:uS,IS_SCRIPT_OR_DATA:DA,MUSTACHE_EXPR:xA,TMPLIT_EXPR:NA});const ao={element:1,text:3,progressingInstruction:7,comment:8,document:9},zA=function(){return typeof window>"u"?null:window},MA=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let i=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(i=n.getAttribute(s));const r="dompurify"+(i?"#"+i:"");try{return t.createPolicy(r,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}},Jg=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function hS(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zA();const t=$=>hS($);if(t.version="3.3.1",t.removed=[],!e||!e.document||e.document.nodeType!==ao.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const i=n,s=i.currentScript,{DocumentFragment:r,HTMLTemplateElement:a,Node:l,Element:u,NodeFilter:h,NamedNodeMap:d=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:m,DOMParser:g,trustedTypes:T}=e,I=u.prototype,z=ro(I,"cloneNode"),P=ro(I,"remove"),x=ro(I,"nextSibling"),w=ro(I,"childNodes"),N=ro(I,"parentNode");if(typeof a=="function"){const $=n.createElement("template");$.content&&$.content.ownerDocument&&(n=$.content.ownerDocument)}let R,V="";const{implementation:Z,createNodeIterator:b,createDocumentFragment:_,getElementsByTagName:v}=n,{importNode:S}=i;let E=Jg();t.isSupported=typeof cS=="function"&&typeof N=="function"&&Z&&Z.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:C,ERB_EXPR:A,TMPLIT_EXPR:ae,DATA_ATTR:oe,ARIA_ATTR:B,IS_SCRIPT_OR_DATA:X,ATTR_WHITESPACE:Y,CUSTOM_ELEMENT:de}=Kg;let{IS_ALLOWED_URI:Oe}=Kg,Ee=null;const vt=ee({},[...$g,...Yf,...Kf,...Jf,...Fg]);let Ie=null;const St=ee({},[...Xg,...Qf,...Yg,...nc]);let pe=Object.seal(cd(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Kn=null,As=null;const On=Object.seal(cd(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Ra=!0,Da=!0,Sl=!1,Ia=!0,Nn=!1,ws=!0,Jn=!1,xs=!1,Os=!1,Qn=!1,He=!1,Fe=!1,Ns=!0,bl=!1;const El="user-content-";let ka=!0,yn=!1,Wn={},Ut=null;const Cs=ee({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Tl=null;const Al=ee({},["audio","video","img","source","image","track"]);let gr=null;const wl=ee({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Cn="http://www.w3.org/1998/Math/MathML",Ni="http://www.w3.org/2000/svg",jt="http://www.w3.org/1999/xhtml";let Pt=jt,yr=!1,Rs=null;const xl=ee({},[Cn,Ni,jt],Ff);let Rn=ee({},["mi","mo","mn","ms","mtext"]),Ds=ee({},["annotation-xml"]);const ft=ee({},["title","style","font","a","script"]);let Ci=null;const Is=["application/xhtml+xml","text/html"],ks="text/html";let Be=null,Ri=null;const Di=n.createElement("form"),Ol=function(O){return O instanceof RegExp||O instanceof Function},za=function(){let O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ri&&Ri===O)){if((!O||typeof O!="object")&&(O={}),O=kn(O),Ci=Is.indexOf(O.PARSER_MEDIA_TYPE)===-1?ks:O.PARSER_MEDIA_TYPE,Be=Ci==="application/xhtml+xml"?Ff:Oc,Ee=Sn(O,"ALLOWED_TAGS")?ee({},O.ALLOWED_TAGS,Be):vt,Ie=Sn(O,"ALLOWED_ATTR")?ee({},O.ALLOWED_ATTR,Be):St,Rs=Sn(O,"ALLOWED_NAMESPACES")?ee({},O.ALLOWED_NAMESPACES,Ff):xl,gr=Sn(O,"ADD_URI_SAFE_ATTR")?ee(kn(wl),O.ADD_URI_SAFE_ATTR,Be):wl,Tl=Sn(O,"ADD_DATA_URI_TAGS")?ee(kn(Al),O.ADD_DATA_URI_TAGS,Be):Al,Ut=Sn(O,"FORBID_CONTENTS")?ee({},O.FORBID_CONTENTS,Be):Cs,Kn=Sn(O,"FORBID_TAGS")?ee({},O.FORBID_TAGS,Be):kn({}),As=Sn(O,"FORBID_ATTR")?ee({},O.FORBID_ATTR,Be):kn({}),Wn=Sn(O,"USE_PROFILES")?O.USE_PROFILES:!1,Ra=O.ALLOW_ARIA_ATTR!==!1,Da=O.ALLOW_DATA_ATTR!==!1,Sl=O.ALLOW_UNKNOWN_PROTOCOLS||!1,Ia=O.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Nn=O.SAFE_FOR_TEMPLATES||!1,ws=O.SAFE_FOR_XML!==!1,Jn=O.WHOLE_DOCUMENT||!1,Qn=O.RETURN_DOM||!1,He=O.RETURN_DOM_FRAGMENT||!1,Fe=O.RETURN_TRUSTED_TYPE||!1,Os=O.FORCE_BODY||!1,Ns=O.SANITIZE_DOM!==!1,bl=O.SANITIZE_NAMED_PROPS||!1,ka=O.KEEP_CONTENT!==!1,yn=O.IN_PLACE||!1,Oe=O.ALLOWED_URI_REGEXP||uS,Pt=O.NAMESPACE||jt,Rn=O.MATHML_TEXT_INTEGRATION_POINTS||Rn,Ds=O.HTML_INTEGRATION_POINTS||Ds,pe=O.CUSTOM_ELEMENT_HANDLING||{},O.CUSTOM_ELEMENT_HANDLING&&Ol(O.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(pe.tagNameCheck=O.CUSTOM_ELEMENT_HANDLING.tagNameCheck),O.CUSTOM_ELEMENT_HANDLING&&Ol(O.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(pe.attributeNameCheck=O.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),O.CUSTOM_ELEMENT_HANDLING&&typeof O.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(pe.allowCustomizedBuiltInElements=O.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Nn&&(Da=!1),He&&(Qn=!0),Wn&&(Ee=ee({},Fg),Ie=[],Wn.html===!0&&(ee(Ee,$g),ee(Ie,Xg)),Wn.svg===!0&&(ee(Ee,Yf),ee(Ie,Qf),ee(Ie,nc)),Wn.svgFilters===!0&&(ee(Ee,Kf),ee(Ie,Qf),ee(Ie,nc)),Wn.mathMl===!0&&(ee(Ee,Jf),ee(Ie,Yg),ee(Ie,nc))),O.ADD_TAGS&&(typeof O.ADD_TAGS=="function"?On.tagCheck=O.ADD_TAGS:(Ee===vt&&(Ee=kn(Ee)),ee(Ee,O.ADD_TAGS,Be))),O.ADD_ATTR&&(typeof O.ADD_ATTR=="function"?On.attributeCheck=O.ADD_ATTR:(Ie===St&&(Ie=kn(Ie)),ee(Ie,O.ADD_ATTR,Be))),O.ADD_URI_SAFE_ATTR&&ee(gr,O.ADD_URI_SAFE_ATTR,Be),O.FORBID_CONTENTS&&(Ut===Cs&&(Ut=kn(Ut)),ee(Ut,O.FORBID_CONTENTS,Be)),O.ADD_FORBID_CONTENTS&&(Ut===Cs&&(Ut=kn(Ut)),ee(Ut,O.ADD_FORBID_CONTENTS,Be)),ka&&(Ee["#text"]=!0),Jn&&ee(Ee,["html","head","body"]),Ee.table&&(ee(Ee,["tbody"]),delete Kn.tbody),O.TRUSTED_TYPES_POLICY){if(typeof O.TRUSTED_TYPES_POLICY.createHTML!="function")throw so('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof O.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw so('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');R=O.TRUSTED_TYPES_POLICY,V=R.createHTML("")}else R===void 0&&(R=MA(T,s)),R!==null&&typeof V=="string"&&(V=R.createHTML(""));At&&At(O),Ri=O}},_r=ee({},[...Yf,...Kf,...AA]),Nl=ee({},[...Jf,...wA]),Cl=function(O){let H=N(O);(!H||!H.tagName)&&(H={namespaceURI:Pt,tagName:"template"});const q=Oc(O.tagName),le=Oc(H.tagName);return Rs[O.namespaceURI]?O.namespaceURI===Ni?H.namespaceURI===jt?q==="svg":H.namespaceURI===Cn?q==="svg"&&(le==="annotation-xml"||Rn[le]):!!_r[q]:O.namespaceURI===Cn?H.namespaceURI===jt?q==="math":H.namespaceURI===Ni?q==="math"&&Ds[le]:!!Nl[q]:O.namespaceURI===jt?H.namespaceURI===Ni&&!Ds[le]||H.namespaceURI===Cn&&!Rn[le]?!1:!Nl[q]&&(ft[q]||!_r[q]):!!(Ci==="application/xhtml+xml"&&Rs[O.namespaceURI]):!1},Ot=function(O){no(t.removed,{element:O});try{N(O).removeChild(O)}catch{P(O)}},Vt=function(O,H){try{no(t.removed,{attribute:H.getAttributeNode(O),from:H})}catch{no(t.removed,{attribute:null,from:H})}if(H.removeAttribute(O),O==="is")if(Qn||He)try{Ot(H)}catch{}else try{H.setAttribute(O,"")}catch{}},Rl=function(O){let H=null,q=null;if(Os)O="<remove></remove>"+O;else{const Le=Xf(O,/^[\r\n\t ]+/);q=Le&&Le[0]}Ci==="application/xhtml+xml"&&Pt===jt&&(O='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+O+"</body></html>");const le=R?R.createHTML(O):O;if(Pt===jt)try{H=new g().parseFromString(le,Ci)}catch{}if(!H||!H.documentElement){H=Z.createDocument(Pt,"template",null);try{H.documentElement.innerHTML=yr?V:le}catch{}}const Xe=H.body||H.documentElement;return O&&q&&Xe.insertBefore(n.createTextNode(q),Xe.childNodes[0]||null),Pt===jt?v.call(H,Jn?"html":"body")[0]:Jn?H.documentElement:Xe},_n=function(O){return b.call(O.ownerDocument||O,O,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},vr=function(O){return O instanceof m&&(typeof O.nodeName!="string"||typeof O.textContent!="string"||typeof O.removeChild!="function"||!(O.attributes instanceof d)||typeof O.removeAttribute!="function"||typeof O.setAttribute!="function"||typeof O.namespaceURI!="string"||typeof O.insertBefore!="function"||typeof O.hasChildNodes!="function")},Ma=function(O){return typeof l=="function"&&O instanceof l};function Ht($,O,H){tc($,q=>{q.call(t,O,H,Ri)})}const Sr=function(O){let H=null;if(Ht(E.beforeSanitizeElements,O,null),vr(O))return Ot(O),!0;const q=Be(O.nodeName);if(Ht(E.uponSanitizeElement,O,{tagName:q,allowedTags:Ee}),ws&&O.hasChildNodes()&&!Ma(O.firstElementChild)&&bt(/<[/\w!]/g,O.innerHTML)&&bt(/<[/\w!]/g,O.textContent)||O.nodeType===ao.progressingInstruction||ws&&O.nodeType===ao.comment&&bt(/<[/\w]/g,O.data))return Ot(O),!0;if(!(On.tagCheck instanceof Function&&On.tagCheck(q))&&(!Ee[q]||Kn[q])){if(!Kn[q]&&Dl(q)&&(pe.tagNameCheck instanceof RegExp&&bt(pe.tagNameCheck,q)||pe.tagNameCheck instanceof Function&&pe.tagNameCheck(q)))return!1;if(ka&&!Ut[q]){const le=N(O)||O.parentNode,Xe=w(O)||O.childNodes;if(Xe&&le){const Le=Xe.length;for(let ht=Le-1;ht>=0;--ht){const Wt=z(Xe[ht],!0);Wt.__removalCount=(O.__removalCount||0)+1,le.insertBefore(Wt,x(O))}}}return Ot(O),!0}return O instanceof u&&!Cl(O)||(q==="noscript"||q==="noembed"||q==="noframes")&&bt(/<\/no(script|embed|frames)/i,O.innerHTML)?(Ot(O),!0):(Nn&&O.nodeType===ao.text&&(H=O.textContent,tc([C,A,ae],le=>{H=io(H,le," ")}),O.textContent!==H&&(no(t.removed,{element:O.cloneNode()}),O.textContent=H)),Ht(E.afterSanitizeElements,O,null),!1)},La=function(O,H,q){if(Ns&&(H==="id"||H==="name")&&(q in n||q in Di))return!1;if(!(Da&&!As[H]&&bt(oe,H))){if(!(Ra&&bt(B,H))){if(!(On.attributeCheck instanceof Function&&On.attributeCheck(H,O))){if(!Ie[H]||As[H]){if(!(Dl(O)&&(pe.tagNameCheck instanceof RegExp&&bt(pe.tagNameCheck,O)||pe.tagNameCheck instanceof Function&&pe.tagNameCheck(O))&&(pe.attributeNameCheck instanceof RegExp&&bt(pe.attributeNameCheck,H)||pe.attributeNameCheck instanceof Function&&pe.attributeNameCheck(H,O))||H==="is"&&pe.allowCustomizedBuiltInElements&&(pe.tagNameCheck instanceof RegExp&&bt(pe.tagNameCheck,q)||pe.tagNameCheck instanceof Function&&pe.tagNameCheck(q))))return!1}else if(!gr[H]){if(!bt(Oe,io(q,Y,""))){if(!((H==="src"||H==="xlink:href"||H==="href")&&O!=="script"&&SA(q,"data:")===0&&Tl[O])){if(!(Sl&&!bt(X,io(q,Y,"")))){if(q)return!1}}}}}}}return!0},Dl=function(O){return O!=="annotation-xml"&&Xf(O,de)},Ua=function(O){Ht(E.beforeSanitizeAttributes,O,null);const{attributes:H}=O;if(!H||vr(O))return;const q={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ie,forceKeepAttr:void 0};let le=H.length;for(;le--;){const Xe=H[le],{name:Le,namespaceURI:ht,value:Wt}=Xe,ei=Be(Le),zs=Wt;let Ge=Le==="value"?zs:bA(zs);if(q.attrName=ei,q.attrValue=Ge,q.keepAttr=!0,q.forceKeepAttr=void 0,Ht(E.uponSanitizeAttribute,O,q),Ge=q.attrValue,bl&&(ei==="id"||ei==="name")&&(Vt(Le,O),Ge=El+Ge),ws&&bt(/((--!?|])>)|<\/(style|title|textarea)/i,Ge)){Vt(Le,O);continue}if(ei==="attributename"&&Xf(Ge,"href")){Vt(Le,O);continue}if(q.forceKeepAttr)continue;if(!q.keepAttr){Vt(Le,O);continue}if(!Ia&&bt(/\/>/i,Ge)){Vt(Le,O);continue}Nn&&tc([C,A,ae],Pa=>{Ge=io(Ge,Pa," ")});const ja=Be(O.nodeName);if(!La(ja,ei,Ge)){Vt(Le,O);continue}if(R&&typeof T=="object"&&typeof T.getAttributeType=="function"&&!ht)switch(T.getAttributeType(ja,ei)){case"TrustedHTML":{Ge=R.createHTML(Ge);break}case"TrustedScriptURL":{Ge=R.createScriptURL(Ge);break}}if(Ge!==zs)try{ht?O.setAttributeNS(ht,Le,Ge):O.setAttribute(Le,Ge),vr(O)?Ot(O):qg(t.removed)}catch{Vt(Le,O)}}Ht(E.afterSanitizeAttributes,O,null)},nf=function $(O){let H=null;const q=_n(O);for(Ht(E.beforeSanitizeShadowDOM,O,null);H=q.nextNode();)Ht(E.uponSanitizeShadowNode,H,null),Sr(H),Ua(H),H.content instanceof r&&$(H.content);Ht(E.afterSanitizeShadowDOM,O,null)};return t.sanitize=function($){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},H=null,q=null,le=null,Xe=null;if(yr=!$,yr&&($="<!-->"),typeof $!="string"&&!Ma($))if(typeof $.toString=="function"){if($=$.toString(),typeof $!="string")throw so("dirty is not a string, aborting")}else throw so("toString is not a function");if(!t.isSupported)return $;if(xs||za(O),t.removed=[],typeof $=="string"&&(yn=!1),yn){if($.nodeName){const Wt=Be($.nodeName);if(!Ee[Wt]||Kn[Wt])throw so("root node is forbidden and cannot be sanitized in-place")}}else if($ instanceof l)H=Rl("<!---->"),q=H.ownerDocument.importNode($,!0),q.nodeType===ao.element&&q.nodeName==="BODY"||q.nodeName==="HTML"?H=q:H.appendChild(q);else{if(!Qn&&!Nn&&!Jn&&$.indexOf("<")===-1)return R&&Fe?R.createHTML($):$;if(H=Rl($),!H)return Qn?null:Fe?V:""}H&&Os&&Ot(H.firstChild);const Le=_n(yn?$:H);for(;le=Le.nextNode();)Sr(le),Ua(le),le.content instanceof r&&nf(le.content);if(yn)return $;if(Qn){if(He)for(Xe=_.call(H.ownerDocument);H.firstChild;)Xe.appendChild(H.firstChild);else Xe=H;return(Ie.shadowroot||Ie.shadowrootmode)&&(Xe=S.call(i,Xe,!0)),Xe}let ht=Jn?H.outerHTML:H.innerHTML;return Jn&&Ee["!doctype"]&&H.ownerDocument&&H.ownerDocument.doctype&&H.ownerDocument.doctype.name&&bt(fS,H.ownerDocument.doctype.name)&&(ht="<!DOCTYPE "+H.ownerDocument.doctype.name+`>
`+ht),Nn&&tc([C,A,ae],Wt=>{ht=io(ht,Wt," ")}),R&&Fe?R.createHTML(ht):ht},t.setConfig=function(){let $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};za($),xs=!0},t.clearConfig=function(){Ri=null,xs=!1},t.isValidAttribute=function($,O,H){Ri||za({});const q=Be($),le=Be(O);return La(q,le,H)},t.addHook=function($,O){typeof O=="function"&&no(E[$],O)},t.removeHook=function($,O){if(O!==void 0){const H=_A(E[$],O);return H===-1?void 0:vA(E[$],H,1)[0]}return qg(E[$])},t.removeHooks=function($){E[$]=[]},t.removeAllHooks=function(){E=Jg()},t}var e6=hS();const LA=["ba","aa","linalg","advlinalg","ra","calc1","calc_lib_art","calc_easy","crypto","koblitz","coding","islr","west_graphs","wm","numbers-geometry","ross-prob","intro-discrete","rudin","df","euler-intro","tao-analysis-1","euclid","gauss","four_pillars","thales","mom","human_action","man_econ_state","road_to_serfdom","atlas_shrugged","only-the-strong-survive","orange_btc","mod-race","base-race","bfi","frost","math_history","template"];function UA(e){return LA.includes(e)}const ut={SECTION_VISIT:10,SECTION_COMPLETE:25,QUIZ_EASY:15,QUIZ_MEDIUM:25,QUIZ_HARD:40,QUIZ_PERFECT_BONUS:.5,VISUALIZATION_USE:5,PART_COMPLETE_BONUS:50,STREAK_DAILY_BONUS:5,STREAK_BONUS_CAP:50},ri={GAME_PARTICIPATION:10,TIER_MULTIPLIER:{1:.5,2:.6,3:.8,4:1,5:1.2,6:1.5,7:1.8,8:2.2,9:2.7,10:3.5},POINTS_PER_XP_UNIT:500,PERFECT_GAME_BONUS:25,SPEED_DEMON_BONUS:15,STREAK_MASTER_BONUS:20,FIRST_PLACE_BONUS:30,SECOND_PLACE_BONUS:15,THIRD_PLACE_BONUS:5},Co=[0,100,250,500,850,1300,1900,2650,3550,4600,5850,7300,9e3,10950,13150,15650,18450,21550,25e3,28800,33e3,37600,42600,48e3,54e3],dS=50;class jA{constructor(t="",n=!0){this.prefix=t?`[${t}]`:"",this.enabled=n}log(t,n,i){if(!this.enabled)return;const s=this.prefix?`${this.prefix} ${n}`:n;if(t==="debug"||t==="info")return;const r=console[t]||console.log;i!==void 0?r(s,i):r(s)}debug(t,n){this.log("debug",t,n)}info(t,n){this.log("info",t,n)}warn(t,n){this.log("warn",t,n)}error(t,n){this.log("error",t,n)}setEnabled(t){this.enabled=t}}const Wf={};function Xn(e){const t=e||"__default__";return Wf[t]||(Wf[t]=new jA(e)),Wf[t]}const cn=Xn("Storage"),hd="magic-internet-math-progress",eh=2;function pS(){try{const e="__storage_test__";return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}function mS(e){if(e===null||typeof e!="object")return!1;const t=e;if(typeof t.version!="number"||typeof t.user!="object"||t.user===null||typeof t.sections!="object"||t.sections===null||typeof t.streak!="object"||t.streak===null)return!1;const n=t.user;if(typeof n.totalXP!="number"||typeof n.level!="number"||!Array.isArray(n.sectionsCompleted)||!Array.isArray(n.partsCompleted))return!1;const i=t.streak;return!(typeof i.currentStreak!="number"||typeof i.longestStreak!="number")}function sr(){if(!pS())return cn.warn("localStorage is not available"),null;try{const e=localStorage.getItem(hd);if(!e)return null;const t=JSON.parse(e);return mS(t)?(t.version!==eh&&(cn.info(`Migrating state from v${t.version} to v${eh}`),t.version=eh),t):(cn.warn("Invalid gamification state structure in localStorage"),null)}catch(e){cn.error("Failed to load gamification state:",e);try{localStorage.removeItem(hd),cn.info("Cleared corrupted gamification state from localStorage")}catch{}return null}}function Gu(e){if(!pS()){cn.warn("localStorage is not available, state not saved");return}try{localStorage.setItem(hd,JSON.stringify(e))}catch(t){cn.error("Failed to save gamification state:",t)}}const PA=1;function VA(){const e=sr();if(!e){cn.warn("No progress data to export");return}const t={version:PA,exportedAt:new Date().toISOString(),source:window.location.hostname,state:e},n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),i=URL.createObjectURL(n),s=document.createElement("a");s.href=i,s.download=`math-progress-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i),cn.info("Progress exported successfully")}function HA(e){if(e===null||typeof e!="object")return!1;const t=e;return!(typeof t.version!="number"||typeof t.exportedAt!="string"||typeof t.source!="string"||!mS(t.state))}async function BA(e){return new Promise(t=>{const n=new FileReader;n.onload=i=>{var s;try{const r=(s=i.target)==null?void 0:s.result;if(typeof r!="string"){t({success:!1,message:"Failed to read file"});return}const a=JSON.parse(r);if(!HA(a)){t({success:!1,message:"Invalid backup file format"});return}const l=sr(),u=(l==null?void 0:l.user.totalXP)??0,h=a.state.user.totalXP;if(u>h){t({success:!1,message:`Current progress (${u} XP) is higher than backup (${h} XP). Import cancelled.`});return}Gu(a.state),cn.info(`Progress imported: ${h} XP from backup dated ${a.exportedAt}`),t({success:!0,message:`Successfully restored ${h} XP!`,xpImported:h})}catch(r){cn.error("Failed to parse backup file:",r),t({success:!1,message:"Failed to parse backup file. Please check the file format."})}},n.onerror=()=>{t({success:!1,message:"Failed to read file"})},n.readAsText(e)})}function GA(){const e=sr();return e?{totalXP:e.user.totalXP,level:e.user.level,sectionsCompleted:e.user.sectionsCompleted.length}:null}function ZA(){const e=sr();e&&(e.migratedToServer=!0,Gu(e),cn.info("Marked progress as migrated to server"))}function qA(){const e=sr();if(!e)return!1;const t=e.user.totalXP>0||Object.keys(e.sections).length>0,n=!e.migratedToServer;return t&&n}function gS(){const e=new Date().toISOString(),t=e.split("T")[0];return{version:2,user:{totalXP:0,level:1,sectionsCompleted:[],partsCompleted:[],quizzesTaken:0,perfectQuizzes:0,visualizationsUsed:0,totalTimeSpentMinutes:0,joinedAt:e},sections:{},achievements:$A(),streak:{currentStreak:0,longestStreak:0,lastActivityDate:null,freezesRemaining:2,freezeUsedToday:!1},dailyGoals:{date:t,xpEarned:0,xpGoal:dS,completed:!1},lastUpdated:e}}function $A(){return[{id:"first-section",unlockedAt:null,progress:0,target:1},{id:"ten-sections",unlockedAt:null,progress:0,target:10},{id:"half-course",unlockedAt:null,progress:0,target:50},{id:"course-complete",unlockedAt:null,progress:0,target:100},{id:"first-mastery",unlockedAt:null,progress:0,target:1},{id:"quiz-master",unlockedAt:null,progress:0,target:10},{id:"perfectionist",unlockedAt:null,progress:0,target:5},{id:"week-streak",unlockedAt:null,progress:0,target:7},{id:"month-streak",unlockedAt:null,progress:0,target:30},{id:"level-5",unlockedAt:null,progress:0,target:5},{id:"level-10",unlockedAt:null,progress:0,target:10},{id:"first-visualization",unlockedAt:null,progress:0,target:1},{id:"explorer",unlockedAt:null,progress:0,target:10},{id:"racing-rookie",unlockedAt:null,progress:0,target:1},{id:"speed-demon",unlockedAt:null,progress:0,target:50},{id:"streak-legend",unlockedAt:null,progress:0,target:20},{id:"tier-climber",unlockedAt:null,progress:0,target:6},{id:"modular-master",unlockedAt:null,progress:0,target:1e4},{id:"multiplayer-champion",unlockedAt:null,progress:0,target:5}]}const FA=50;function Qg(e){return Math.round(e/FA*100)}const XA=[{id:"first-section",title:"First Steps",description:"Complete your first section",category:"progress",xpReward:25,check:e=>e.user.sectionsCompleted.length,target:1},{id:"ten-sections",title:"Getting Started",description:"Complete 10 sections",category:"progress",xpReward:50,check:e=>e.user.sectionsCompleted.length,target:10},{id:"half-course",title:"Halfway There",description:"Complete 50% of the course",category:"progress",xpReward:100,check:e=>Qg(e.user.sectionsCompleted.length),target:50},{id:"course-complete",title:"Course Complete",description:"Complete 100% of the course",category:"progress",xpReward:200,check:e=>Qg(e.user.sectionsCompleted.length),target:100},{id:"first-mastery",title:"Master of One",description:"Master your first section",category:"mastery",xpReward:30,check:e=>Object.values(e.sections).filter(t=>t.masteryLevel==="mastered").length,target:1},{id:"quiz-master",title:"Quiz Master",description:"Complete 10 quizzes",category:"mastery",xpReward:50,check:e=>e.user.quizzesTaken,target:10},{id:"perfectionist",title:"Perfectionist",description:"Get 5 perfect quiz scores",category:"mastery",xpReward:75,check:e=>e.user.perfectQuizzes,target:5},{id:"week-streak",title:"Week Warrior",description:"Maintain a 7-day streak",category:"dedication",xpReward:50,check:e=>e.streak.longestStreak,target:7},{id:"month-streak",title:"Monthly Master",description:"Maintain a 30-day streak",category:"dedication",xpReward:150,check:e=>e.streak.longestStreak,target:30},{id:"level-5",title:"Level Up",description:"Reach level 5",category:"dedication",xpReward:50,check:e=>e.user.level,target:5},{id:"level-10",title:"Expert",description:"Reach level 10",category:"dedication",xpReward:100,check:e=>e.user.level,target:10},{id:"first-visualization",title:"Visual Learner",description:"Use your first interactive visualization",category:"exploration",xpReward:15,check:e=>e.user.visualizationsUsed,target:1},{id:"explorer",title:"Explorer",description:"Use 10 different visualizations",category:"exploration",xpReward:50,check:e=>e.user.visualizationsUsed,target:10}];function YA(e){const t=[];for(const n of XA){const i=e.achievements.find(r=>r.id===n.id);if(i!=null&&i.unlockedAt)continue;n.check(e)>=n.target&&t.push({id:n.id,title:n.title,description:n.description,category:n.category,xpReward:n.xpReward,timestamp:Date.now()})}return t}function wa(e){for(let t=Co.length-1;t>=0;t--)if(e>=Co[t])return t+1;return 1}function yS(e,t){if(t>=Co.length)return 100;const n=Co[t-1],i=Co[t],s=(e-n)/(i-n)*100;return Math.min(100,Math.max(0,s))}function KA(e,t){const n={easy:ut.QUIZ_EASY,medium:ut.QUIZ_MEDIUM,hard:ut.QUIZ_HARD}[e];return Math.round(n*(t/100))}const JA=1e3*60*60*24;function QA(e){const t=new Date,n=t.toISOString().split("T")[0],i=e.streak.lastActivityDate;if(e.dailyGoals.date!==n&&(e={...e,dailyGoals:{date:n,xpEarned:0,xpGoal:dS,completed:!1},streak:{...e.streak,freezeUsedToday:!1}}),!i)return{...e,streak:{...e.streak,currentStreak:1,longestStreak:Math.max(1,e.streak.longestStreak),lastActivityDate:n}};const s=new Date(i),r=Math.floor((t.getTime()-s.getTime())/JA);if(r===0)return e;if(r===1){const a=e.streak.currentStreak+1;return{...e,streak:{...e.streak,currentStreak:a,longestStreak:Math.max(a,e.streak.longestStreak),lastActivityDate:n}}}return r===2&&e.streak.freezesRemaining>0&&!e.streak.freezeUsedToday?{...e,streak:{...e.streak,freezesRemaining:e.streak.freezesRemaining-1,freezeUsedToday:!0,lastActivityDate:n}}:{...e,streak:{...e.streak,currentStreak:1,lastActivityDate:n}}}function _S(e){const{quizAttempts:t}=e;if(t.length===0)return"learning";const n=Math.max(...t.map(s=>s.score)),i=t.reduce((s,r)=>s+r.score,0)/t.length;return n>80||i>=90&&t.length>=3?"mastered":n>=70||i>=70&&t.length>=2?"familiar":"learning"}function WA(e){switch(e){case"mastered":return{label:"Mastered",color:"text-emerald-400",symbol:""};case"familiar":return{label:"Familiar",color:"text-yellow-400",symbol:""};case"learning":return{label:"Learning",color:"text-blue-400",symbol:""};case"none":default:return{label:"Not Started",color:"text-dark-600",symbol:""}}}const Zu=Xn("GamificationReducer");function e2(e,t,n){const i=e.sections[t];if(i!=null&&i.visitedAt)return e;const s=e.user.totalXP+ut.SECTION_VISIT;return{...e,user:{...e.user,totalXP:s,level:wa(s)},sections:{...e.sections,[t]:{sectionId:t,visitedAt:n,completedAt:(i==null?void 0:i.completedAt)??null,timeSpentSeconds:(i==null?void 0:i.timeSpentSeconds)??0,quizAttempts:(i==null?void 0:i.quizAttempts)??[],masteryLevel:(i==null?void 0:i.masteryLevel)??"learning",visualizationsInteracted:(i==null?void 0:i.visualizationsInteracted)??[]}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+ut.SECTION_VISIT},lastUpdated:n}}function t2(e,t,n){const i=e.sections[t];if(i!=null&&i.completedAt)return e;if(!i)return Zu.warn(`Attempted to complete unvisited section: ${t}`),e;const s=e.user.totalXP+ut.SECTION_COMPLETE,r=[...e.user.sectionsCompleted,t];return{...e,user:{...e.user,totalXP:s,level:wa(s),sectionsCompleted:r},sections:{...e.sections,[t]:{...i,completedAt:n,masteryLevel:_S(i)}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+ut.SECTION_COMPLETE},lastUpdated:n}}function n2(e,t,n){const{sectionId:i,difficulty:s,score:r,correctAnswers:a,totalQuestions:l}=t,u=e.sections[i];if(!u)return Zu.warn(`Section ${i} was not visited before quiz`),e;const h=KA(s,r),d=a===l,m=d?Math.round(h*(1+ut.QUIZ_PERFECT_BONUS)):h,g=e.user.totalXP+m,T={timestamp:n,difficulty:s,score:r,correctAnswers:a,totalQuestions:l,xpEarned:m},I=[...u.quizAttempts,T],z={...u,quizAttempts:I},P=_S(z),x=r>=80&&!u.completedAt,w=x&&!e.user.sectionsCompleted.includes(i),N=w?ut.SECTION_COMPLETE:0;return{...e,user:{...e.user,totalXP:g+N,level:wa(g+N),quizzesTaken:e.user.quizzesTaken+1,perfectQuizzes:d?e.user.perfectQuizzes+1:e.user.perfectQuizzes,sectionsCompleted:w?[...e.user.sectionsCompleted,i]:e.user.sectionsCompleted},sections:{...e.sections,[i]:{...z,masteryLevel:P,completedAt:x?u.completedAt||n:u.completedAt}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+m+N},lastUpdated:n}}function i2(e,t,n,i){const s=e.sections[t];if(s!=null&&s.visualizationsInteracted.includes(n))return e;if(!s)return Zu.warn(`Section ${t} was not visited before visualization`),e;const r=e.user.totalXP+ut.VISUALIZATION_USE,a=[...s.visualizationsInteracted,n];return{...e,user:{...e.user,totalXP:r,level:wa(r),visualizationsUsed:e.user.visualizationsUsed+1},sections:{...e.sections,[t]:{...s,visualizationsInteracted:a}},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+ut.VISUALIZATION_USE},lastUpdated:i}}function s2(e,t,n){if(e.user.partsCompleted.includes(t))return e;const i=e.user.totalXP+ut.PART_COMPLETE_BONUS;return Zu.info(`Part ${t} completed, awarding ${ut.PART_COMPLETE_BONUS} XP`),{...e,user:{...e.user,totalXP:i,level:wa(i),partsCompleted:[...e.user.partsCompleted,t]},dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+ut.PART_COMPLETE_BONUS},lastUpdated:n}}function r2(e,t,n){let i=ri.GAME_PARTICIPATION;const s=ri.TIER_MULTIPLIER[t.tier],r=Math.floor(Math.max(0,t.score)/ri.POINTS_PER_XP_UNIT*ut.QUIZ_MEDIUM*s);if(i+=r,t.correctAnswers===t.totalQuestions&&t.totalQuestions>=10&&(i+=ri.PERFECT_GAME_BONUS),t.fastAnswers>=10&&(i+=ri.SPEED_DEMON_BONUS),t.maxStreak>=10&&(i+=ri.STREAK_MASTER_BONUS),t.isMultiplayer&&t.placement)switch(t.placement){case 1:i+=ri.FIRST_PLACE_BONUS;break;case 2:i+=ri.SECOND_PLACE_BONUS;break;case 3:i+=ri.THIRD_PLACE_BONUS;break}const a=e.user.totalXP+i,l=e.racingStats,u=t.score>((l==null?void 0:l.highScore)??0),h=t.isMultiplayer&&t.placement===1,d={gamesPlayed:((l==null?void 0:l.gamesPlayed)??0)+1,multiplayerGamesPlayed:((l==null?void 0:l.multiplayerGamesPlayed)??0)+(t.isMultiplayer?1:0),totalPoints:((l==null?void 0:l.totalPoints)??0)+Math.max(0,t.score),highScore:u?t.score:(l==null?void 0:l.highScore)??0,highestTierUnlocked:Math.max((l==null?void 0:l.highestTierUnlocked)??1,t.tier),longestStreak:Math.max((l==null?void 0:l.longestStreak)??0,t.maxStreak),fastAnswers:((l==null?void 0:l.fastAnswers)??0)+t.fastAnswers,totalCorrect:((l==null?void 0:l.totalCorrect)??0)+t.correctAnswers,totalAttempted:((l==null?void 0:l.totalAttempted)??0)+t.totalQuestions,multiplayerWins:((l==null?void 0:l.multiplayerWins)??0)+(h?1:0),lastPlayedAt:n},m=e.achievements.map(g=>{if(g.unlockedAt)return g;switch(g.id){case"racing-rookie":if(d.gamesPlayed>=1)return{...g,progress:1,unlockedAt:n};break;case"speed-demon":return d.fastAnswers>=50?{...g,progress:50,unlockedAt:n}:{...g,progress:Math.min(d.fastAnswers,50)};case"streak-legend":return d.longestStreak>=20?{...g,progress:20,unlockedAt:n}:{...g,progress:Math.min(d.longestStreak,20)};case"tier-climber":return d.highestTierUnlocked>=6?{...g,progress:6,unlockedAt:n}:{...g,progress:d.highestTierUnlocked};case"modular-master":return d.totalPoints>=1e4?{...g,progress:1e4,unlockedAt:n}:{...g,progress:Math.min(d.totalPoints,1e4)};case"multiplayer-champion":return d.multiplayerWins>=5?{...g,progress:5,unlockedAt:n}:{...g,progress:Math.min(d.multiplayerWins,5)}}return g});return{...e,user:{...e.user,totalXP:a,level:wa(a)},racingStats:d,achievements:m,dailyGoals:{...e.dailyGoals,xpEarned:e.dailyGoals.xpEarned+i},lastUpdated:n}}function a2(e,t){const n=new Date().toISOString();switch(t.type){case"LOAD_STATE":return t.payload;case"LOAD_FROM_SERVER":return{...t.payload,migratedToServer:!0};case"MERGE_WITH_SERVER":return{...t.payload,migratedToServer:!0};case"MARK_MIGRATED":return{...e,migratedToServer:!0,lastUpdated:n};case"VISIT_SECTION":return e2(e,t.payload.sectionId,n);case"COMPLETE_SECTION":return t2(e,t.payload.sectionId,n);case"COMPLETE_PART":return s2(e,t.payload.partId,n);case"RECORD_QUIZ":return n2(e,t.payload,n);case"USE_VISUALIZATION":return i2(e,t.payload.sectionId,t.payload.name,n);case"UPDATE_STREAK":return QA(e);case"RESET_PROGRESS":return gS();case"RECORD_RACE_GAME":return r2(e,t.payload,n);default:return e}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=()=>{};var Wg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let s=e.charCodeAt(i);s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=s&63|128):(s&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=s&63|128):(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=s&63|128)}return t},l2=function(e){const t=[];let n=0,i=0;for(;n<e.length;){const s=e[n++];if(s<128)t[i++]=String.fromCharCode(s);else if(s>191&&s<224){const r=e[n++];t[i++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){const r=e[n++],a=e[n++],l=e[n++],u=((s&7)<<18|(r&63)<<12|(a&63)<<6|l&63)-65536;t[i++]=String.fromCharCode(55296+(u>>10)),t[i++]=String.fromCharCode(56320+(u&1023))}else{const r=e[n++],a=e[n++];t[i++]=String.fromCharCode((s&15)<<12|(r&63)<<6|a&63)}}return t.join("")},SS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<e.length;s+=3){const r=e[s],a=s+1<e.length,l=a?e[s+1]:0,u=s+2<e.length,h=u?e[s+2]:0,d=r>>2,m=(r&3)<<4|l>>4;let g=(l&15)<<2|h>>6,T=h&63;u||(T=64,a||(g=64)),i.push(n[d],n[m],n[g],n[T])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(vS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):l2(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<e.length;){const r=n[e.charAt(s++)],l=s<e.length?n[e.charAt(s)]:0;++s;const h=s<e.length?n[e.charAt(s)]:64;++s;const m=s<e.length?n[e.charAt(s)]:64;if(++s,r==null||l==null||h==null||m==null)throw new c2;const g=r<<2|l>>4;if(i.push(g),h!==64){const T=l<<4&240|h>>2;if(i.push(T),m!==64){const I=h<<6&192|m;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class c2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u2=function(e){const t=vS(e);return SS.encodeByteArray(t,!0)},bS=function(e){return u2(e).replace(/\./g,"")},ES=function(e){try{return SS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=()=>f2().__FIREBASE_DEFAULTS__,d2=()=>{if(typeof process>"u"||typeof Wg>"u")return;const e=Wg.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},p2=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&ES(e[1]);return t&&JSON.parse(t)},Ap=()=>{try{return o2()||h2()||d2()||p2()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},TS=e=>{var t,n;return(n=(t=Ap())==null?void 0:t.emulatorHosts)==null?void 0:n[e]},m2=e=>{const t=TS(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),i]:[t.substring(0,n),i]},AS=()=>{var e;return(e=Ap())==null?void 0:e.config},wS=e=>{var t;return(t=Ap())==null?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xS(e){return(await fetch(e,{credentials:"include"})).ok}const Ro={};function y2(){const e={prod:[],emulator:[]};for(const t of Object.keys(Ro))Ro[t]?e.emulator.push(t):e.prod.push(t);return e}function _2(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let ey=!1;function OS(e,t){if(typeof window>"u"||typeof document>"u"||!xa(window.location.host)||Ro[e]===t||Ro[e]||ey)return;Ro[e]=t;function n(g){return`__firebase__banner__${g}`}const i="__firebase__banner",r=y2().prod.length>0;function a(){const g=document.getElementById(i);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,T){g.setAttribute("width","24"),g.setAttribute("id",T),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function h(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{ey=!0,a()},g}function d(g,T){g.setAttribute("id",T),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=_2(i),T=n("text"),I=document.getElementById(T)||document.createElement("span"),z=n("learnmore"),P=document.getElementById(z)||document.createElement("a"),x=n("preprendIcon"),w=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const N=g.element;l(N),d(P,z);const R=h();u(w,x),N.append(w,I,P,R),document.body.appendChild(N)}r?(I.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function v2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function S2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function b2(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function E2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function T2(){const e=xt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function A2(){try{return typeof indexedDB=="object"}catch{return!1}}function w2(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var r;t(((r=s.error)==null?void 0:r.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="FirebaseError";class Yn extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=x2,Object.setPrototypeOf(this,Yn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){const i=n[0]||{},s=`${this.service}/${t}`,r=this.errors[t],a=r?O2(r,i):"Error",l=`${this.serviceName}: ${a} (${s}).`;return new Yn(s,l,i)}}function O2(e,t){return e.replace(N2,(n,i)=>{const s=t[i];return s!=null?String(s):`<${i}?>`})}const N2=/\{\$([^}]+)}/g;function C2(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function da(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const s of n){if(!i.includes(s))return!1;const r=e[s],a=t[s];if(ty(r)&&ty(a)){if(!da(r,a))return!1}else if(r!==a)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function ty(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(s=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function R2(e,t){const n=new D2(e,t);return n.subscribe.bind(n)}class D2{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let s;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");I2(t,["next","error","complete"])?s=t:s={next:t,error:n,complete:i},s.next===void 0&&(s.next=th),s.error===void 0&&(s.error=th),s.complete===void 0&&(s.complete=th);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I2(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function th(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(e){return e&&e._delegate?e._delegate:e}class gs{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const i=new g2;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(M2(t))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:s});i.resolve(r)}catch{}}}}clearInstance(t=Gs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Gs){return this.instances.has(t)}getOptions(t=Gs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);i===l&&a.resolve(s)}return s}onInit(t,n){const i=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(i)??new Set;s.add(t),this.onInitCallbacks.set(i,s);const r=this.instances.get(i);return r&&t(r,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:z2(t),options:n}),this.instances.set(t,i),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Gs){return this.component?this.component.multipleInstances?t:Gs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function z2(e){return e===Gs?void 0:e}function M2(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new k2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(ge||(ge={}));const U2={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},j2=ge.INFO,P2={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},V2=(e,t,...n)=>{if(t<e.logLevel)return;const i=new Date().toISOString(),s=P2[t];if(s)console[s](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class wp{constructor(t){this.name=t,this._logLevel=j2,this._logHandler=V2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ge))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?U2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...t),this._logHandler(this,ge.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...t),this._logHandler(this,ge.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...t),this._logHandler(this,ge.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...t),this._logHandler(this,ge.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...t),this._logHandler(this,ge.ERROR,...t)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(B2(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function B2(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const dd="@firebase/app",ny="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai=new wp("@firebase/app"),G2="@firebase/app-compat",Z2="@firebase/analytics-compat",q2="@firebase/analytics",$2="@firebase/app-check-compat",F2="@firebase/app-check",X2="@firebase/auth",Y2="@firebase/auth-compat",K2="@firebase/database",J2="@firebase/data-connect",Q2="@firebase/database-compat",W2="@firebase/functions",ew="@firebase/functions-compat",tw="@firebase/installations",nw="@firebase/installations-compat",iw="@firebase/messaging",sw="@firebase/messaging-compat",rw="@firebase/performance",aw="@firebase/performance-compat",ow="@firebase/remote-config",lw="@firebase/remote-config-compat",cw="@firebase/storage",uw="@firebase/storage-compat",fw="@firebase/firestore",hw="@firebase/ai",dw="@firebase/firestore-compat",pw="firebase",mw="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd="[DEFAULT]",gw={[dd]:"fire-core",[G2]:"fire-core-compat",[q2]:"fire-analytics",[Z2]:"fire-analytics-compat",[F2]:"fire-app-check",[$2]:"fire-app-check-compat",[X2]:"fire-auth",[Y2]:"fire-auth-compat",[K2]:"fire-rtdb",[J2]:"fire-data-connect",[Q2]:"fire-rtdb-compat",[W2]:"fire-fn",[ew]:"fire-fn-compat",[tw]:"fire-iid",[nw]:"fire-iid-compat",[iw]:"fire-fcm",[sw]:"fire-fcm-compat",[rw]:"fire-perf",[aw]:"fire-perf-compat",[ow]:"fire-rc",[lw]:"fire-rc-compat",[cw]:"fire-gcs",[uw]:"fire-gcs-compat",[fw]:"fire-fst",[dw]:"fire-fst-compat",[hw]:"fire-vertex","fire-js":"fire-js",[pw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jo=new Map,yw=new Map,md=new Map;function iy(e,t){try{e.container.addComponent(t)}catch(n){Ai.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function rr(e){const t=e.name;if(md.has(t))return Ai.debug(`There were multiple attempts to register component ${t}.`),!1;md.set(t,e);for(const n of Jo.values())iy(n,e);for(const n of yw.values())iy(n,e);return!0}function xp(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function un(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new pl("app","Firebase",_w);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t,n,i){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa=mw;function NS(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const i={name:pd,automaticDataCollectionEnabled:!0,...t},s=i.name;if(typeof s!="string"||!s)throw us.create("bad-app-name",{appName:String(s)});if(n||(n=AS()),!n)throw us.create("no-options");const r=Jo.get(s);if(r){if(da(n,r.options)&&da(i,r.config))return r;throw us.create("duplicate-app",{appName:s})}const a=new L2(s);for(const u of md.values())a.addComponent(u);const l=new vw(n,i,a);return Jo.set(s,l),l}function CS(e=pd){const t=Jo.get(e);if(!t&&e===pd&&AS())return NS();if(!t)throw us.create("no-app",{appName:e});return t}function Sw(){return Array.from(Jo.values())}function Gn(e,t,n){let i=gw[e]??e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),r=t.match(/\s|\//);if(s||r){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&r&&a.push("and"),r&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ai.warn(a.join(" "));return}rr(new gs(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="firebase-heartbeat-database",Ew=1,Qo="firebase-heartbeat-store";let nh=null;function RS(){return nh||(nh=ME(bw,Ew,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Qo)}catch(n){console.warn(n)}}}}).catch(e=>{throw us.create("idb-open",{originalErrorMessage:e.message})})),nh}async function Tw(e){try{const n=(await RS()).transaction(Qo),i=await n.objectStore(Qo).get(DS(e));return await n.done,i}catch(t){if(t instanceof Yn)Ai.warn(t.message);else{const n=us.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ai.warn(n.message)}}}async function sy(e,t){try{const i=(await RS()).transaction(Qo,"readwrite");await i.objectStore(Qo).put(t,DS(e)),await i.done}catch(n){if(n instanceof Yn)Ai.warn(n.message);else{const i=us.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ai.warn(i.message)}}}function DS(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=1024,ww=30;class xw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Nw(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ry();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats.length>ww){const a=Cw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ai.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ry(),{heartbeatsToSend:i,unsentEntries:s}=Ow(this._heartbeatsCache.heartbeats),r=bS(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Ai.warn(n),""}}}function ry(){return new Date().toISOString().substring(0,10)}function Ow(e,t=Aw){const n=[];let i=e.slice();for(const s of e){const r=n.find(a=>a.agent===s.agent);if(r){if(r.dates.push(s.date),ay(n)>t){r.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ay(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Nw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A2()?w2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Tw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return sy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return sy(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function ay(e){return bS(JSON.stringify({version:2,heartbeats:e})).length}function Cw(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(e){rr(new gs("platform-logger",t=>new H2(t),"PRIVATE")),rr(new gs("heartbeat",t=>new xw(t),"PRIVATE")),Gn(dd,ny,e),Gn(dd,ny,"esm2020"),Gn("fire-js","")}Rw("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="type.googleapis.com/google.protobuf.Int64Value",Iw="type.googleapis.com/google.protobuf.UInt64Value";function IS(e,t){const n={};for(const i in e)e.hasOwnProperty(i)&&(n[i]=t(e[i]));return n}function cu(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>cu(t));if(typeof e=="function"||typeof e=="object")return IS(e,t=>cu(t));throw new Error("Data cannot be encoded in JSON: "+e)}function pa(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case Dw:case Iw:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>pa(t)):typeof e=="function"||typeof e=="object"?IS(e,t=>pa(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class It extends Yn{constructor(t,n,i){super(`${Op}/${t}`,n||""),this.details=i,Object.setPrototypeOf(this,It.prototype)}}function kw(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function uu(e,t){let n=kw(e),i=n,s;try{const r=t&&t.error;if(r){const a=r.status;if(typeof a=="string"){if(!oy[a])return new It("internal","internal");n=oy[a],i=a}const l=r.message;typeof l=="string"&&(i=l),s=r.details,s!==void 0&&(s=pa(s))}}catch{}return n==="ok"?null:new It(n,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(t,n,i,s){this.app=t,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,un(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=i.getImmediate({optional:!0}),this.auth||n.get().then(r=>this.auth=r,()=>{}),this.messaging||i.get().then(r=>this.messaging=r,()=>{}),this.appCheck||s==null||s.get().then(r=>this.appCheck=r,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),i=await this.getMessagingToken(),s=await this.getAppCheckToken(t);return{authToken:n,messagingToken:i,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="us-central1",Mw=/^data: (.*?)(?:\n|$)/;function Lw(e){let t=null;return{promise:new Promise((n,i)=>{t=setTimeout(()=>{i(new It("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class Uw{constructor(t,n,i,s,r=gd,a=(...l)=>fetch(...l)){this.app=t,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new zw(t,n,i,s),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(r);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=gd}catch{this.customDomain=null,this.region=r}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function jw(e,t,n){const i=xa(t);e.emulatorOrigin=`http${i?"s":""}://${t}:${n}`,i&&(xS(e.emulatorOrigin+"/backends"),OS("Functions",!0))}function Pw(e,t,n){const i=s=>Hw(e,t,s,{});return i.stream=(s,r)=>Gw(e,t,s,r),i}function kS(e){return e.emulatorOrigin&&xa(e.emulatorOrigin)?"include":void 0}async function Vw(e,t,n,i,s){n["Content-Type"]="application/json";let r;try{r=await i(e,{method:"POST",body:JSON.stringify(t),headers:n,credentials:kS(s)})}catch{return{status:0,json:null}}let a=null;try{a=await r.json()}catch{}return{status:r.status,json:a}}async function zS(e,t){const n={},i=await e.contextProvider.getContext(t.limitedUseAppCheckTokens);return i.authToken&&(n.Authorization="Bearer "+i.authToken),i.messagingToken&&(n["Firebase-Instance-ID-Token"]=i.messagingToken),i.appCheckToken!==null&&(n["X-Firebase-AppCheck"]=i.appCheckToken),n}function Hw(e,t,n,i){const s=e._url(t);return Bw(e,s,n,i)}async function Bw(e,t,n,i){n=cu(n);const s={data:n},r=await zS(e,i),a=i.timeout||7e4,l=Lw(a),u=await Promise.race([Vw(t,s,r,e.fetchImpl,e),l.promise,e.cancelAllRequests]);if(l.cancel(),!u)throw new It("cancelled","Firebase Functions instance was deleted.");const h=uu(u.status,u.json);if(h)throw h;if(!u.json)throw new It("internal","Response is not valid JSON object.");let d=u.json.data;if(typeof d>"u"&&(d=u.json.result),typeof d>"u")throw new It("internal","Response is missing data field.");return{data:pa(d)}}function Gw(e,t,n,i){const s=e._url(t);return Zw(e,s,n,i||{})}async function Zw(e,t,n,i){var g;n=cu(n);const s={data:n},r=await zS(e,i);r["Content-Type"]="application/json",r.Accept="text/event-stream";let a;try{a=await e.fetchImpl(t,{method:"POST",body:JSON.stringify(s),headers:r,signal:i==null?void 0:i.signal,credentials:kS(e)})}catch(T){if(T instanceof Error&&T.name==="AbortError"){const z=new It("cancelled","Request was cancelled.");return{data:Promise.reject(z),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(z)}}}}}}const I=uu(0,null);return{data:Promise.reject(I),stream:{[Symbol.asyncIterator](){return{next(){return Promise.reject(I)}}}}}}let l,u;const h=new Promise((T,I)=>{l=T,u=I});(g=i==null?void 0:i.signal)==null||g.addEventListener("abort",()=>{const T=new It("cancelled","Request was cancelled.");u(T)});const d=a.body.getReader(),m=qw(d,l,u,i==null?void 0:i.signal);return{stream:{[Symbol.asyncIterator](){const T=m.getReader();return{async next(){const{value:I,done:z}=await T.read();return{value:I,done:z}},async return(){return await T.cancel(),{done:!0,value:void 0}}}}},data:h}}function qw(e,t,n,i){const s=(a,l)=>{const u=a.match(Mw);if(!u)return;const h=u[1];try{const d=JSON.parse(h);if("result"in d){t(pa(d.result));return}if("message"in d){l.enqueue(pa(d.message));return}if("error"in d){const m=uu(0,d);l.error(m),n(m);return}}catch(d){if(d instanceof It){l.error(d),n(d);return}}},r=new TextDecoder;return new ReadableStream({start(a){let l="";return u();async function u(){if(i!=null&&i.aborted){const h=new It("cancelled","Request was cancelled");return a.error(h),n(h),Promise.resolve()}try{const{value:h,done:d}=await e.read();if(d){l.trim()&&s(l.trim(),a),a.close();return}if(i!=null&&i.aborted){const g=new It("cancelled","Request was cancelled");a.error(g),n(g),await e.cancel();return}l+=r.decode(h,{stream:!0});const m=l.split(`
`);l=m.pop()||"";for(const g of m)g.trim()&&s(g.trim(),a);return u()}catch(h){const d=h instanceof It?h:uu(0,null);a.error(d),n(d)}}},cancel(){return e.cancel()}})}const ly="@firebase/functions",cy="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w="auth-internal",Fw="app-check-internal",Xw="messaging-internal";function Yw(e){const t=(n,{instanceIdentifier:i})=>{const s=n.getProvider("app").getImmediate(),r=n.getProvider($w),a=n.getProvider(Xw),l=n.getProvider(Fw);return new Uw(s,r,a,l,i)};rr(new gs(Op,t,"PUBLIC").setMultipleInstances(!0)),Gn(ly,cy,e),Gn(ly,cy,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(e=CS(),t=gd){const i=xp(mn(e),Op).getImmediate({identifier:t}),s=m2("functions");return s&&MS(i,...s),i}function MS(e,t,n){jw(mn(e),t,n)}function ma(e,t,n){return Pw(mn(e),t)}Yw();var Jw="firebase",Qw="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn(Jw,Qw,"app");function LS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ww=LS,US=new pl("auth","Firebase",LS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=new wp("@firebase/auth");function ex(e,...t){fu.logLevel<=ge.WARN&&fu.warn(`Auth (${Oa}): ${e}`,...t)}function Nc(e,...t){fu.logLevel<=ge.ERROR&&fu.error(`Auth (${Oa}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(e,...t){throw Np(e,...t)}function Zn(e,...t){return Np(e,...t)}function jS(e,t,n){const i={...Ww(),[t]:n};return new pl("auth","Firebase",i).create(t,{appName:e.name})}function fs(e){return jS(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Np(e,...t){if(typeof e!="string"){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return US.create(e,...t)}function J(e,t,...n){if(!e)throw Np(t,...n)}function pi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Nc(t),new Error(t)}function xi(e,t){e||pi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.href)||""}function tx(){return uy()==="http:"||uy()==="https:"}function uy(){var e;return typeof self<"u"&&((e=self.location)==null?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tx()||b2()||"connection"in navigator)?navigator.onLine:!0}function ix(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(t,n){this.shortDelay=t,this.longDelay=n,xi(n>t,"Short delay should be less than long delay!"),this.isMobile=v2()||E2()}get(){return nx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(e,t){xi(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ax=new gl(3e4,6e4);function qu(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Na(e,t,n,i,s={}){return VS(e,s,async()=>{let r={},a={};i&&(t==="GET"?a=i:r={body:JSON.stringify(i)});const l=ml({key:e.config.apiKey,...a}).slice(1),u=await e._getAdditionalHeaders();u["Content-Type"]="application/json",e.languageCode&&(u["X-Firebase-Locale"]=e.languageCode);const h={method:t,headers:u,...r};return S2()||(h.referrerPolicy="no-referrer"),e.emulatorConfig&&xa(e.emulatorConfig.host)&&(h.credentials="include"),PS.fetch()(await BS(e,e.config.apiHost,n,l),h)})}async function VS(e,t,n){e._canInitEmulator=!1;const i={...sx,...t};try{const s=new ox(e),r=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw ic(e,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const l=r.ok?a.errorMessage:a.error.message,[u,h]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ic(e,"credential-already-in-use",a);if(u==="EMAIL_EXISTS")throw ic(e,"email-already-in-use",a);if(u==="USER_DISABLED")throw ic(e,"user-disabled",a);const d=i[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw jS(e,d,h);wi(e,d)}}catch(s){if(s instanceof Yn)throw s;wi(e,"network-request-failed",{message:String(s)})}}async function HS(e,t,n,i,s={}){const r=await Na(e,t,n,i,s);return"mfaPendingCredential"in r&&wi(e,"multi-factor-auth-required",{_serverResponse:r}),r}async function BS(e,t,n,i){const s=`${t}${n}?${i}`,r=e,a=r.config.emulator?Cp(e.config,s):`${e.config.apiScheme}://${s}`;return rx.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}class ox{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Zn(this.auth,"network-request-failed")),ax.get())})}}function ic(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=Zn(e,t,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(e,t){return Na(e,"POST","/v1/accounts:delete",t)}async function hu(e,t){return Na(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function cx(e,t=!1){const n=mn(e),i=await n.getIdToken(t),s=Rp(i);J(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const r=typeof s.firebase=="object"?s.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:s,token:i,authTime:Do(ih(s.auth_time)),issuedAtTime:Do(ih(s.iat)),expirationTime:Do(ih(s.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function ih(e){return Number(e)*1e3}function Rp(e){const[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Nc("JWT malformed, contained fewer than 3 sections"),null;try{const s=ES(n);return s?JSON.parse(s):(Nc("Failed to decode base64 JWT payload"),null)}catch(s){return Nc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function fy(e){const t=Rp(e);return J(t,"internal-error"),J(typeof t.exp<"u","internal-error"),J(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(e,t,n=!1){if(n)return t;try{return await t}catch(i){throw i instanceof Yn&&ux(i)&&e.auth.currentUser===e&&await e.auth.signOut(),i}}function ux({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Do(this.lastLoginAt),this.creationTime=Do(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(e){var m;const t=e.auth,n=await e.getIdToken(),i=await Wo(e,hu(t,{idToken:n}));J(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const r=(m=s.providerUserInfo)!=null&&m.length?GS(s.providerUserInfo):[],a=dx(e.providerData,r),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new _d(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,d)}async function hx(e){const t=mn(e);await du(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function dx(e,t){return[...e.filter(i=>!t.some(s=>s.providerId===i.providerId)),...t]}function GS(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function px(e,t){const n=await VS(e,{},async()=>{const i=ml({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:r}=e.config,a=await BS(e,s,"/v1/token",`key=${r}`),l=await e._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const u={method:"POST",headers:l,body:i};return e.emulatorConfig&&xa(e.emulatorConfig.host)&&(u.credentials="include"),PS.fetch()(a,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mx(e,t){return Na(e,"POST","/v2/accounts:revokeToken",qu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){J(t.idToken,"internal-error"),J(typeof t.idToken<"u","internal-error"),J(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):fy(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){J(t.length!==0,"internal-error");const n=fy(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:i,refreshToken:s,expiresIn:r}=await px(t,n);this.updateTokensAndExpiration(i,s,Number(r))}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){const{refreshToken:i,accessToken:s,expirationTime:r}=n,a=new Jr;return i&&(J(typeof i=="string","internal-error",{appName:t}),a.refreshToken=i),s&&(J(typeof s=="string","internal-error",{appName:t}),a.accessToken=s),r&&(J(typeof r=="number","internal-error",{appName:t}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Jr,this.toJSON())}_performRefresh(){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(e,t){J(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Tn{constructor({uid:t,auth:n,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new fx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _d(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await Wo(this,this.stsTokenManager.getToken(this.auth,t));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return cx(this,t)}reload(){return hx(this)}_assign(t){this!==t&&(J(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Tn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&await du(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(un(this.auth.app))return Promise.reject(fs(this.auth));const t=await this.getIdToken();return await Wo(this,lx(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const i=n.displayName??void 0,s=n.email??void 0,r=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,u=n._redirectEventId??void 0,h=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:m,emailVerified:g,isAnonymous:T,providerData:I,stsTokenManager:z}=n;J(m&&z,t,"internal-error");const P=Jr.fromJSON(this.name,z);J(typeof m=="string",t,"internal-error"),Ui(i,t.name),Ui(s,t.name),J(typeof g=="boolean",t,"internal-error"),J(typeof T=="boolean",t,"internal-error"),Ui(r,t.name),Ui(a,t.name),Ui(l,t.name),Ui(u,t.name),Ui(h,t.name),Ui(d,t.name);const x=new Tn({uid:m,auth:t,email:s,emailVerified:g,displayName:i,isAnonymous:T,photoURL:a,phoneNumber:r,tenantId:l,stsTokenManager:P,createdAt:h,lastLoginAt:d});return I&&Array.isArray(I)&&(x.providerData=I.map(w=>({...w}))),u&&(x._redirectEventId=u),x}static async _fromIdTokenResponse(t,n,i=!1){const s=new Jr;s.updateFromServerResponse(n);const r=new Tn({uid:n.localId,auth:t,stsTokenManager:s,isAnonymous:i});return await du(r),r}static async _fromGetAccountInfoResponse(t,n,i){const s=n.users[0];J(s.localId!==void 0,"internal-error");const r=s.providerUserInfo!==void 0?GS(s.providerUserInfo):[],a=!(s.email&&s.passwordHash)&&!(r!=null&&r.length),l=new Jr;l.updateFromIdToken(i);const u=new Tn({uid:s.localId,auth:t,stsTokenManager:l,isAnonymous:a}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new _d(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(r!=null&&r.length)};return Object.assign(u,h),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=new Map;function mi(e){xi(e instanceof Function,"Expected a class definition");let t=hy.get(e);return t?(xi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,hy.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}ZS.type="NONE";const dy=ZS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(e,t,n){return`firebase:${e}:${t}:${n}`}class Qr{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;const{config:s,name:r}=this.auth;this.fullUserKey=Cc(this.userKey,s.apiKey,r),this.fullPersistenceKey=Cc("persistence",s.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await hu(this.auth,{idToken:t}).catch(()=>{});return n?Tn._fromGetAccountInfoResponse(this.auth,n,t):null}return Tn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,i="authUser"){if(!n.length)return new Qr(mi(dy),t,i);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let r=s[0]||mi(dy);const a=Cc(i,t.config.apiKey,t.name);let l=null;for(const h of n)try{const d=await h._get(a);if(d){let m;if(typeof d=="string"){const g=await hu(t,{idToken:d}).catch(()=>{});if(!g)break;m=await Tn._fromGetAccountInfoResponse(t,g,d)}else m=Tn._fromJSON(t,d);h!==r&&(l=m),r=h;break}}catch{}const u=s.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!u.length?new Qr(r,t,i):(r=u[0],l&&await r._set(a,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==r)try{await h._remove(a)}catch{}})),new Qr(r,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(XS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(qS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(KS(t))return"Blackberry";if(JS(t))return"Webos";if($S(t))return"Safari";if((t.includes("chrome/")||FS(t))&&!t.includes("edge/"))return"Chrome";if(YS(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function qS(e=xt()){return/firefox\//i.test(e)}function $S(e=xt()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function FS(e=xt()){return/crios\//i.test(e)}function XS(e=xt()){return/iemobile/i.test(e)}function YS(e=xt()){return/android/i.test(e)}function KS(e=xt()){return/blackberry/i.test(e)}function JS(e=xt()){return/webos/i.test(e)}function Dp(e=xt()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function gx(e=xt()){var t;return Dp(e)&&!!((t=window.navigator)!=null&&t.standalone)}function yx(){return T2()&&document.documentMode===10}function QS(e=xt()){return Dp(e)||YS(e)||JS(e)||KS(e)||/windows phone/i.test(e)||XS(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(e,t=[]){let n;switch(e){case"Browser":n=py(xt());break;case"Worker":n=`${py(xt())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const i=r=>new Promise((a,l)=>{try{const u=t(r);a(u)}catch(u){l(u)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const i of this.queue)await i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vx(e,t={}){return Na(e,"GET","/v2/passwordPolicy",qu(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=6;class bx{constructor(t){var i;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Sx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=t.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),s&&(n.meetsMaxPasswordLength=t.length<=s)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<t.length;s++)i=t.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,s,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(t,n,i,s){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new my(this),this.idTokenSubscription=new my(this),this.beforeStateQueue=new _x(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=US,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=mi(n)),this._initializationPromise=this.queue(async()=>{var i,s,r;if(!this._deleted&&(this.persistenceManager=await Qr.create(this,t),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await hu(this,{idToken:t}),i=await Tn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var r;if(un(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)==null?void 0:r._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(t);(!a||a===l)&&(u!=null&&u.user)&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await du(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ix()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(un(this.app))return Promise.reject(fs(this));const n=t?mn(t):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&J(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return un(this.app)?Promise.reject(fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return un(this.app)?Promise.reject(fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await vx(this),n=new bx(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new pl("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await mx(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const i=await this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&mi(t)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=await Qr.create(this,[mi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,s){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(l,this,"internal-error"),l.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const u=t.addObserver(n,i,s);return()=>{a=!0,u()}}else{const u=t.addObserver(n);return()=>{a=!0,u()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=WS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var n;if(un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&ex(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function $u(e){return mn(e)}class my{constructor(t){this.auth=t,this.observer=null,this.addObserver=R2(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ip={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tx(e){Ip=e}function Ax(e){return Ip.loadJS(e)}function wx(){return Ip.gapiScript}function xx(e){return`__${e}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(e,t){const n=xp(e,"auth");if(n.isInitialized()){const s=n.getImmediate(),r=n.getOptions();if(da(r,t??{}))return s;wi(s,"already-initialized")}return n.initialize({options:t})}function Nx(e,t){const n=(t==null?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(mi);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function Cx(e,t,n){const i=$u(e);J(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const s=!1,r=eb(t),{host:a,port:l}=Rx(t),u=l===null?"":`:${l}`,h={url:`${r}//${a}${u}/`},d=Object.freeze({host:a,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){J(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),J(da(h,i.config.emulator)&&da(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=h,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,xa(a)?(xS(`${r}//${a}${u}`),OS("Auth",!0)):Dx()}function eb(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Rx(e){const t=eb(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const r=s[1];return{host:r,port:gy(i.substr(r.length+1))}}else{const[r,a]=i.split(":");return{host:r,port:gy(a)}}}function gy(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Dx(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return pi("not implemented")}_getIdTokenResponse(t){return pi("not implemented")}_linkToIdToken(t,n){return pi("not implemented")}_getReauthenticationResolver(t){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wr(e,t){return HS(e,"POST","/v1/accounts:signInWithIdp",qu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix="http://localhost";class ar extends tb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ar(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):wi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:s,...r}=n;if(!i||!s)return null;const a=new ar(i,s);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(t){const n=this.buildRequest();return Wr(t,n)}_linkToIdToken(t,n){const i=this.buildRequest();return i.idToken=n,Wr(t,i)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Wr(t,n)}buildRequest(){const t={requestUri:Ix,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=ml(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends nb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends yl{constructor(){super("facebook.com")}static credential(t){return ar._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qi.credentialFromTaggedObject(t)}static credentialFromError(t){return qi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qi.credential(t.oauthAccessToken)}catch{return null}}}qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends yl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ar._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return $i.credentialFromTaggedObject(t)}static credentialFromError(t){return $i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:i}=t;if(!n&&!i)return null;try{return $i.credential(n,i)}catch{return null}}}$i.GOOGLE_SIGN_IN_METHOD="google.com";$i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends yl{constructor(){super("github.com")}static credential(t){return ar._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fi.credentialFromTaggedObject(t)}static credentialFromError(t){return Fi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fi.credential(t.oauthAccessToken)}catch{return null}}}Fi.GITHUB_SIGN_IN_METHOD="github.com";Fi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends yl{constructor(){super("twitter.com")}static credential(t,n){return ar._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Xi.credentialFromTaggedObject(t)}static credentialFromError(t){return Xi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=t;if(!n||!i)return null;try{return Xi.credential(n,i)}catch{return null}}}Xi.TWITTER_SIGN_IN_METHOD="twitter.com";Xi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,i,s=!1){const r=await Tn._fromIdTokenResponse(t,i,s),a=yy(i);return new or({user:r,providerId:a,_tokenResponse:i,operationType:n})}static async _forOperation(t,n,i){await t._updateTokensIfNecessary(i,!0);const s=yy(i);return new or({user:t,providerId:s,_tokenResponse:i,operationType:n})}}function yy(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends Yn{constructor(t,n,i,s){super(n.code,n.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,pu.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,s){return new pu(t,n,i,s)}}function ib(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?pu._fromErrorAndOperation(e,r,t,i):r})}async function kx(e,t,n=!1){const i=await Wo(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return or._forOperation(e,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(e,t,n=!1){const{auth:i}=e;if(un(i.app))return Promise.reject(fs(i));const s="reauthenticate";try{const r=await Wo(e,ib(i,s,t,e),n);J(r.idToken,i,"internal-error");const a=Rp(r.idToken);J(a,i,"internal-error");const{sub:l}=a;return J(e.uid===l,i,"user-mismatch"),or._forOperation(e,s,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&wi(i,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mx(e,t,n=!1){if(un(e.app))return Promise.reject(fs(e));const i="signIn",s=await ib(e,i,t),r=await or._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lx(e,t){return HS(e,"POST","/v1/accounts:signInWithCustomToken",qu(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ux(e,t){if(un(e.app))return Promise.reject(fs(e));const n=$u(e),i=await Lx(n,{token:t,returnSecureToken:!0}),s=await or._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}function jx(e,t,n,i){return mn(e).onIdTokenChanged(t,n,i)}function Px(e,t,n){return mn(e).beforeAuthStateChanged(t,n)}function Vx(e,t,n,i){return mn(e).onAuthStateChanged(t,n,i)}function Hx(e){return mn(e).signOut()}const mu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mu,"1"),this.storage.removeItem(mu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx=1e3,Gx=10;class rb extends sb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&t(n,s,i)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}const i=t.key;n?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!n&&this.localCache[i]===a||this.notifyListeners(i,a)},r=this.storage.getItem(i);yx()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Gx):s()}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:i}),!0)})},Bx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}rb.type="LOCAL";const Zx=rb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab extends sb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}ab.type="SESSION";const ob=ab;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(s=>s.isListeningto(t));if(n)return n;const i=new Fu(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:i,eventType:s,data:r}=n.data,a=this.handlersMap[s];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const l=Array.from(a).map(async h=>h(n.origin,r)),u=await qx(l);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,a;return new Promise((l,u)=>{const h=kp("",20);s.port1.start();const d=setTimeout(()=>{u(new Error("unsupported_event"))},i);a={messageChannel:s,onMessage(m){const g=m;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(d),r=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(g.data.response);break;default:clearTimeout(d),clearTimeout(r),u(new Error("invalid_response"));break}}},this.handlers.add(a),s.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:t,eventId:h,data:n},[s.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return window}function Fx(e){qn().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(){return typeof qn().WorkerGlobalScope<"u"&&typeof qn().importScripts=="function"}async function Xx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Yx(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)==null?void 0:e.controller)||null}function Kx(){return lb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="firebaseLocalStorageDb",Jx=1,gu="firebaseLocalStorage",ub="fbase_key";class _l{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xu(e,t){return e.transaction([gu],t?"readwrite":"readonly").objectStore(gu)}function Qx(){const e=indexedDB.deleteDatabase(cb);return new _l(e).toPromise()}function vd(){const e=indexedDB.open(cb,Jx);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const i=e.result;try{i.createObjectStore(gu,{keyPath:ub})}catch(s){n(s)}}),e.addEventListener("success",async()=>{const i=e.result;i.objectStoreNames.contains(gu)?t(i):(i.close(),await Qx(),t(await vd()))})})}async function _y(e,t,n){const i=Xu(e,!0).put({[ub]:t,value:n});return new _l(i).toPromise()}async function Wx(e,t){const n=Xu(e,!1).get(t),i=await new _l(n).toPromise();return i===void 0?null:i.value}function vy(e,t){const n=Xu(e,!0).delete(t);return new _l(n).toPromise()}const eO=800,tO=3;class fb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vd(),this.db)}async _withRetries(t){let n=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(n++>tO)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fu._getInstance(Kx()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await Xx(),!this.activeServiceWorker)return;this.sender=new $x(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(i=t[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Yx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await vd();return await _y(t,mu,"1"),await vy(t,mu),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>_y(i,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(i=>Wx(i,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>vy(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(s=>{const r=Xu(s,!1).getAll();return new _l(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(t.length!==0)for(const{fbase_key:s,value:r}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(r)&&(this.notifyListeners(s,r),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(t,n){this.localCache[t]=n;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}fb.type="LOCAL";const nO=fb;new gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(e,t){return t?mi(t):(J(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends tb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wr(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Wr(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Wr(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function sO(e){return Mx(e.auth,new zp(e),e.bypassAuthState)}function rO(e){const{auth:t,user:n}=e;return J(n,t,"internal-error"),zx(n,new zp(e),e.bypassAuthState)}async function aO(e){const{auth:t,user:n}=e;return J(n,t,"internal-error"),kx(n,new zp(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t,n,i,s,r=!1){this.auth=t,this.resolver=i,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:i,postBody:s,tenantId:r,error:a,type:l}=t;if(a){this.reject(a);return}const u={auth:this.auth,requestUri:n,sessionId:i,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(h){this.reject(h)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return sO;case"linkViaPopup":case"linkViaRedirect":return aO;case"reauthViaPopup":case"reauthViaRedirect":return rO;default:wi(this.auth,"internal-error")}}resolve(t){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=new gl(2e3,1e4);class Hr extends hb{constructor(t,n,i,s,r){super(t,n,s,r),this.provider=i,this.authWindow=null,this.pollId=null,Hr.currentPopupAction&&Hr.currentPopupAction.cancel(),Hr.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return J(t,this.auth,"internal-error"),t}async onExecution(){xi(this.filter.length===1,"Popup operations only handle one event");const t=kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Zn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Zn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hr.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,oO.get())};t()}}Hr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="pendingRedirect",Rc=new Map;class cO extends hb{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let t=Rc.get(this.auth._key());if(!t){try{const i=await uO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Rc.set(this.auth._key(),t)}return this.bypassAuthState||Rc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uO(e,t){const n=dO(t),i=hO(e);if(!await i._isAvailable())return!1;const s=await i._get(n)==="true";return await i._remove(n),s}function fO(e,t){Rc.set(e._key(),t)}function hO(e){return mi(e._redirectPersistence)}function dO(e){return Cc(lO,e.config.apiKey,e.name)}async function pO(e,t,n=!1){if(un(e.app))return Promise.reject(fs(e));const i=$u(e),s=iO(i,t),a=await new cO(i,s,n).execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=10*60*1e3;class gO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!yO(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!db(t)){const s=((i=t.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(Zn(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=mO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sy(t))}saveEventToCache(t){this.cachedEventUids.add(Sy(t)),this.lastProcessedEventTime=Date.now()}}function Sy(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function db({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function yO(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return db(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(e,t={}){return Na(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SO=/^https?/;async function bO(e){if(e.config.emulator)return;const{authorizedDomains:t}=await _O(e);for(const n of t)try{if(EO(n))return}catch{}wi(e,"unauthorized-domain")}function EO(e){const t=yd(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return a.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===i}if(!SO.test(n))return!1;if(vO.test(e))return i===e;const s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new gl(3e4,6e4);function by(){const e=qn().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function AO(e){return new Promise((t,n)=>{var s,r,a;function i(){by(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{by(),n(Zn(e,"network-request-failed"))},timeout:TO.get()})}if((r=(s=qn().gapi)==null?void 0:s.iframes)!=null&&r.Iframe)t(gapi.iframes.getContext());else if((a=qn().gapi)!=null&&a.load)i();else{const l=xx("iframefcb");return qn()[l]=()=>{gapi.load?i():n(Zn(e,"network-request-failed"))},Ax(`${wx()}?onload=${l}`).catch(u=>n(u))}}).catch(t=>{throw Dc=null,t})}let Dc=null;function wO(e){return Dc=Dc||AO(e),Dc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=new gl(5e3,15e3),OO="__/auth/iframe",NO="emulator/auth/iframe",CO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DO(e){const t=e.config;J(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Cp(t,NO):`https://${e.config.authDomain}/${OO}`,i={apiKey:t.apiKey,appName:e.name,v:Oa},s=RO.get(e.config.apiHost);s&&(i.eid=s);const r=e._getFrameworks();return r.length&&(i.fw=r.join(",")),`${n}?${ml(i).slice(1)}`}async function IO(e){const t=await wO(e),n=qn().gapi;return J(n,e,"internal-error"),t.open({where:document.body,url:DO(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CO,dontclear:!0},i=>new Promise(async(s,r)=>{await i.restyle({setHideOnLeave:!1});const a=Zn(e,"network-request-failed"),l=qn().setTimeout(()=>{r(a)},xO.get());function u(){qn().clearTimeout(l),s(i)}i.ping(u).then(u,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zO=500,MO=600,LO="_blank",UO="http://localhost";class Ey{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jO(e,t,n,i=zO,s=MO){const r=Math.max((window.screen.availHeight-s)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let l="";const u={...kO,width:i.toString(),height:s.toString(),top:r,left:a},h=xt().toLowerCase();n&&(l=FS(h)?LO:n),qS(h)&&(t=t||UO,u.scrollbars="yes");const d=Object.entries(u).reduce((g,[T,I])=>`${g}${T}=${I},`,"");if(gx(h)&&l!=="_self")return PO(t||"",l),new Ey(null);const m=window.open(t||"",l,d);J(m,e,"popup-blocked");try{m.focus()}catch{}return new Ey(m)}function PO(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VO="__/auth/handler",HO="emulator/auth/handler",BO=encodeURIComponent("fac");async function Ty(e,t,n,i,s,r){J(e.config.authDomain,e,"auth-domain-config-required"),J(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Oa,eventId:s};if(t instanceof nb){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",C2(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[d,m]of Object.entries({}))a[d]=m}if(t instanceof yl){const d=t.getScopes().filter(m=>m!=="");d.length>0&&(a.scopes=d.join(","))}e.tenantId&&(a.tid=e.tenantId);const l=a;for(const d of Object.keys(l))l[d]===void 0&&delete l[d];const u=await e._getAppCheckToken(),h=u?`#${BO}=${encodeURIComponent(u)}`:"";return`${GO(e)}?${ml(l).slice(1)}${h}`}function GO({config:e}){return e.emulator?Cp(e,HO):`https://${e.authDomain}/${VO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="webStorageSupport";class ZO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ob,this._completeRedirectFn=pO,this._overrideRedirectResult=fO}async _openPopup(t,n,i,s){var a;xi((a=this.eventManagers[t._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const r=await Ty(t,n,i,yd(),s);return jO(t,r,kp())}async _openRedirect(t,n,i,s){await this._originValidation(t);const r=await Ty(t,n,i,yd(),s);return Fx(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:s,promise:r}=this.eventManagers[n];return s?Promise.resolve(s):(xi(r,"If manager is not set, promise should be"),r)}const i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(t){const n=await IO(t),i=new gO(t);return n.register("authEvent",s=>(J(s==null?void 0:s.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(sh,{type:sh},s=>{var a;const r=(a=s==null?void 0:s[0])==null?void 0:a[sh];r!==void 0&&n(!!r),wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bO(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return QS()||$S()||Dp()}}const qO=ZO;var Ay="@firebase/auth",wy="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $O{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XO(e){rr(new gs("auth",(t,{options:n})=>{const i=t.getProvider("app").getImmediate(),s=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=i.options;J(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const u={apiKey:a,authDomain:l,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WS(e)},h=new Ex(i,s,r,u);return Nx(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),rr(new gs("auth-internal",t=>{const n=$u(t.getProvider("auth").getImmediate());return(i=>new $O(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(Ay,wy,FO(e)),Gn(Ay,wy,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO=5*60,KO=wS("authIdTokenMaxAge")||YO;let xy=null;const JO=e=>async t=>{const n=t&&await t.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>KO)return;const s=n==null?void 0:n.token;xy!==s&&(xy=s,await fetch(e,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function QO(e=CS()){const t=xp(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Ox(e,{popupRedirectResolver:qO,persistence:[nO,Zx,ob]}),i=wS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(i,location.origin);if(location.origin===r.origin){const a=JO(r.toString());Px(n,a,()=>a(n.currentUser)),jx(n,l=>a(l))}}const s=TS("auth");return s&&Cx(n,`http://${s}`),n}function WO(){var e;return((e=document.getElementsByTagName("head"))==null?void 0:e[0])??document}Tx({loadJS(e){return new Promise((t,n)=>{const i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=s=>{const r=Zn("internal-error");r.customData=s,n(r)},i.type="text/javascript",i.charset="UTF-8",WO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XO("Browser");var Oy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mp;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(b,_){function v(){}v.prototype=_.prototype,b.F=_.prototype,b.prototype=new v,b.prototype.constructor=b,b.D=function(S,E,C){for(var A=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)A[ae-2]=arguments[ae];return _.prototype[E].apply(S,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,_,v){v||(v=0);const S=Array(16);if(typeof _=="string")for(var E=0;E<16;++E)S[E]=_.charCodeAt(v++)|_.charCodeAt(v++)<<8|_.charCodeAt(v++)<<16|_.charCodeAt(v++)<<24;else for(E=0;E<16;++E)S[E]=_[v++]|_[v++]<<8|_[v++]<<16|_[v++]<<24;_=b.g[0],v=b.g[1],E=b.g[2];let C=b.g[3],A;A=_+(C^v&(E^C))+S[0]+3614090360&4294967295,_=v+(A<<7&4294967295|A>>>25),A=C+(E^_&(v^E))+S[1]+3905402710&4294967295,C=_+(A<<12&4294967295|A>>>20),A=E+(v^C&(_^v))+S[2]+606105819&4294967295,E=C+(A<<17&4294967295|A>>>15),A=v+(_^E&(C^_))+S[3]+3250441966&4294967295,v=E+(A<<22&4294967295|A>>>10),A=_+(C^v&(E^C))+S[4]+4118548399&4294967295,_=v+(A<<7&4294967295|A>>>25),A=C+(E^_&(v^E))+S[5]+1200080426&4294967295,C=_+(A<<12&4294967295|A>>>20),A=E+(v^C&(_^v))+S[6]+2821735955&4294967295,E=C+(A<<17&4294967295|A>>>15),A=v+(_^E&(C^_))+S[7]+4249261313&4294967295,v=E+(A<<22&4294967295|A>>>10),A=_+(C^v&(E^C))+S[8]+1770035416&4294967295,_=v+(A<<7&4294967295|A>>>25),A=C+(E^_&(v^E))+S[9]+2336552879&4294967295,C=_+(A<<12&4294967295|A>>>20),A=E+(v^C&(_^v))+S[10]+4294925233&4294967295,E=C+(A<<17&4294967295|A>>>15),A=v+(_^E&(C^_))+S[11]+2304563134&4294967295,v=E+(A<<22&4294967295|A>>>10),A=_+(C^v&(E^C))+S[12]+1804603682&4294967295,_=v+(A<<7&4294967295|A>>>25),A=C+(E^_&(v^E))+S[13]+4254626195&4294967295,C=_+(A<<12&4294967295|A>>>20),A=E+(v^C&(_^v))+S[14]+2792965006&4294967295,E=C+(A<<17&4294967295|A>>>15),A=v+(_^E&(C^_))+S[15]+1236535329&4294967295,v=E+(A<<22&4294967295|A>>>10),A=_+(E^C&(v^E))+S[1]+4129170786&4294967295,_=v+(A<<5&4294967295|A>>>27),A=C+(v^E&(_^v))+S[6]+3225465664&4294967295,C=_+(A<<9&4294967295|A>>>23),A=E+(_^v&(C^_))+S[11]+643717713&4294967295,E=C+(A<<14&4294967295|A>>>18),A=v+(C^_&(E^C))+S[0]+3921069994&4294967295,v=E+(A<<20&4294967295|A>>>12),A=_+(E^C&(v^E))+S[5]+3593408605&4294967295,_=v+(A<<5&4294967295|A>>>27),A=C+(v^E&(_^v))+S[10]+38016083&4294967295,C=_+(A<<9&4294967295|A>>>23),A=E+(_^v&(C^_))+S[15]+3634488961&4294967295,E=C+(A<<14&4294967295|A>>>18),A=v+(C^_&(E^C))+S[4]+3889429448&4294967295,v=E+(A<<20&4294967295|A>>>12),A=_+(E^C&(v^E))+S[9]+568446438&4294967295,_=v+(A<<5&4294967295|A>>>27),A=C+(v^E&(_^v))+S[14]+3275163606&4294967295,C=_+(A<<9&4294967295|A>>>23),A=E+(_^v&(C^_))+S[3]+4107603335&4294967295,E=C+(A<<14&4294967295|A>>>18),A=v+(C^_&(E^C))+S[8]+1163531501&4294967295,v=E+(A<<20&4294967295|A>>>12),A=_+(E^C&(v^E))+S[13]+2850285829&4294967295,_=v+(A<<5&4294967295|A>>>27),A=C+(v^E&(_^v))+S[2]+4243563512&4294967295,C=_+(A<<9&4294967295|A>>>23),A=E+(_^v&(C^_))+S[7]+1735328473&4294967295,E=C+(A<<14&4294967295|A>>>18),A=v+(C^_&(E^C))+S[12]+2368359562&4294967295,v=E+(A<<20&4294967295|A>>>12),A=_+(v^E^C)+S[5]+4294588738&4294967295,_=v+(A<<4&4294967295|A>>>28),A=C+(_^v^E)+S[8]+2272392833&4294967295,C=_+(A<<11&4294967295|A>>>21),A=E+(C^_^v)+S[11]+1839030562&4294967295,E=C+(A<<16&4294967295|A>>>16),A=v+(E^C^_)+S[14]+4259657740&4294967295,v=E+(A<<23&4294967295|A>>>9),A=_+(v^E^C)+S[1]+2763975236&4294967295,_=v+(A<<4&4294967295|A>>>28),A=C+(_^v^E)+S[4]+1272893353&4294967295,C=_+(A<<11&4294967295|A>>>21),A=E+(C^_^v)+S[7]+4139469664&4294967295,E=C+(A<<16&4294967295|A>>>16),A=v+(E^C^_)+S[10]+3200236656&4294967295,v=E+(A<<23&4294967295|A>>>9),A=_+(v^E^C)+S[13]+681279174&4294967295,_=v+(A<<4&4294967295|A>>>28),A=C+(_^v^E)+S[0]+3936430074&4294967295,C=_+(A<<11&4294967295|A>>>21),A=E+(C^_^v)+S[3]+3572445317&4294967295,E=C+(A<<16&4294967295|A>>>16),A=v+(E^C^_)+S[6]+76029189&4294967295,v=E+(A<<23&4294967295|A>>>9),A=_+(v^E^C)+S[9]+3654602809&4294967295,_=v+(A<<4&4294967295|A>>>28),A=C+(_^v^E)+S[12]+3873151461&4294967295,C=_+(A<<11&4294967295|A>>>21),A=E+(C^_^v)+S[15]+530742520&4294967295,E=C+(A<<16&4294967295|A>>>16),A=v+(E^C^_)+S[2]+3299628645&4294967295,v=E+(A<<23&4294967295|A>>>9),A=_+(E^(v|~C))+S[0]+4096336452&4294967295,_=v+(A<<6&4294967295|A>>>26),A=C+(v^(_|~E))+S[7]+1126891415&4294967295,C=_+(A<<10&4294967295|A>>>22),A=E+(_^(C|~v))+S[14]+2878612391&4294967295,E=C+(A<<15&4294967295|A>>>17),A=v+(C^(E|~_))+S[5]+4237533241&4294967295,v=E+(A<<21&4294967295|A>>>11),A=_+(E^(v|~C))+S[12]+1700485571&4294967295,_=v+(A<<6&4294967295|A>>>26),A=C+(v^(_|~E))+S[3]+2399980690&4294967295,C=_+(A<<10&4294967295|A>>>22),A=E+(_^(C|~v))+S[10]+4293915773&4294967295,E=C+(A<<15&4294967295|A>>>17),A=v+(C^(E|~_))+S[1]+2240044497&4294967295,v=E+(A<<21&4294967295|A>>>11),A=_+(E^(v|~C))+S[8]+1873313359&4294967295,_=v+(A<<6&4294967295|A>>>26),A=C+(v^(_|~E))+S[15]+4264355552&4294967295,C=_+(A<<10&4294967295|A>>>22),A=E+(_^(C|~v))+S[6]+2734768916&4294967295,E=C+(A<<15&4294967295|A>>>17),A=v+(C^(E|~_))+S[13]+1309151649&4294967295,v=E+(A<<21&4294967295|A>>>11),A=_+(E^(v|~C))+S[4]+4149444226&4294967295,_=v+(A<<6&4294967295|A>>>26),A=C+(v^(_|~E))+S[11]+3174756917&4294967295,C=_+(A<<10&4294967295|A>>>22),A=E+(_^(C|~v))+S[2]+718787259&4294967295,E=C+(A<<15&4294967295|A>>>17),A=v+(C^(E|~_))+S[9]+3951481745&4294967295,b.g[0]=b.g[0]+_&4294967295,b.g[1]=b.g[1]+(E+(A<<21&4294967295|A>>>11))&4294967295,b.g[2]=b.g[2]+E&4294967295,b.g[3]=b.g[3]+C&4294967295}i.prototype.v=function(b,_){_===void 0&&(_=b.length);const v=_-this.blockSize,S=this.C;let E=this.h,C=0;for(;C<_;){if(E==0)for(;C<=v;)s(this,b,C),C+=this.blockSize;if(typeof b=="string"){for(;C<_;)if(S[E++]=b.charCodeAt(C++),E==this.blockSize){s(this,S),E=0;break}}else for(;C<_;)if(S[E++]=b[C++],E==this.blockSize){s(this,S),E=0;break}}this.h=E,this.o+=_},i.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var _=1;_<b.length-8;++_)b[_]=0;_=this.o*8;for(var v=b.length-8;v<b.length;++v)b[v]=_&255,_/=256;for(this.v(b),b=Array(16),_=0,v=0;v<4;++v)for(let S=0;S<32;S+=8)b[_++]=this.g[v]>>>S&255;return b};function r(b,_){var v=l;return Object.prototype.hasOwnProperty.call(v,b)?v[b]:v[b]=_(b)}function a(b,_){this.h=_;const v=[];let S=!0;for(let E=b.length-1;E>=0;E--){const C=b[E]|0;S&&C==_||(v[E]=C,S=!1)}this.g=v}var l={};function u(b){return-128<=b&&b<128?r(b,function(_){return new a([_|0],_<0?-1:0)}):new a([b|0],b<0?-1:0)}function h(b){if(isNaN(b)||!isFinite(b))return m;if(b<0)return P(h(-b));const _=[];let v=1;for(let S=0;b>=v;S++)_[S]=b/v|0,v*=4294967296;return new a(_,0)}function d(b,_){if(b.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(b.charAt(0)=="-")return P(d(b.substring(1),_));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const v=h(Math.pow(_,8));let S=m;for(let C=0;C<b.length;C+=8){var E=Math.min(8,b.length-C);const A=parseInt(b.substring(C,C+E),_);E<8?(E=h(Math.pow(_,E)),S=S.j(E).add(h(A))):(S=S.j(v),S=S.add(h(A)))}return S}var m=u(0),g=u(1),T=u(16777216);e=a.prototype,e.m=function(){if(z(this))return-P(this).m();let b=0,_=1;for(let v=0;v<this.g.length;v++){const S=this.i(v);b+=(S>=0?S:4294967296+S)*_,_*=4294967296}return b},e.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I(this))return"0";if(z(this))return"-"+P(this).toString(b);const _=h(Math.pow(b,6));var v=this;let S="";for(;;){const E=R(v,_).g;v=x(v,E.j(_));let C=((v.g.length>0?v.g[0]:v.h)>>>0).toString(b);if(v=E,I(v))return C+S;for(;C.length<6;)C="0"+C;S=C+S}},e.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function I(b){if(b.h!=0)return!1;for(let _=0;_<b.g.length;_++)if(b.g[_]!=0)return!1;return!0}function z(b){return b.h==-1}e.l=function(b){return b=x(this,b),z(b)?-1:I(b)?0:1};function P(b){const _=b.g.length,v=[];for(let S=0;S<_;S++)v[S]=~b.g[S];return new a(v,~b.h).add(g)}e.abs=function(){return z(this)?P(this):this},e.add=function(b){const _=Math.max(this.g.length,b.g.length),v=[];let S=0;for(let E=0;E<=_;E++){let C=S+(this.i(E)&65535)+(b.i(E)&65535),A=(C>>>16)+(this.i(E)>>>16)+(b.i(E)>>>16);S=A>>>16,C&=65535,A&=65535,v[E]=A<<16|C}return new a(v,v[v.length-1]&-2147483648?-1:0)};function x(b,_){return b.add(P(_))}e.j=function(b){if(I(this)||I(b))return m;if(z(this))return z(b)?P(this).j(P(b)):P(P(this).j(b));if(z(b))return P(this.j(P(b)));if(this.l(T)<0&&b.l(T)<0)return h(this.m()*b.m());const _=this.g.length+b.g.length,v=[];for(var S=0;S<2*_;S++)v[S]=0;for(S=0;S<this.g.length;S++)for(let E=0;E<b.g.length;E++){const C=this.i(S)>>>16,A=this.i(S)&65535,ae=b.i(E)>>>16,oe=b.i(E)&65535;v[2*S+2*E]+=A*oe,w(v,2*S+2*E),v[2*S+2*E+1]+=C*oe,w(v,2*S+2*E+1),v[2*S+2*E+1]+=A*ae,w(v,2*S+2*E+1),v[2*S+2*E+2]+=C*ae,w(v,2*S+2*E+2)}for(b=0;b<_;b++)v[b]=v[2*b+1]<<16|v[2*b];for(b=_;b<2*_;b++)v[b]=0;return new a(v,0)};function w(b,_){for(;(b[_]&65535)!=b[_];)b[_+1]+=b[_]>>>16,b[_]&=65535,_++}function N(b,_){this.g=b,this.h=_}function R(b,_){if(I(_))throw Error("division by zero");if(I(b))return new N(m,m);if(z(b))return _=R(P(b),_),new N(P(_.g),P(_.h));if(z(_))return _=R(b,P(_)),new N(P(_.g),_.h);if(b.g.length>30){if(z(b)||z(_))throw Error("slowDivide_ only works with positive integers.");for(var v=g,S=_;S.l(b)<=0;)v=V(v),S=V(S);var E=Z(v,1),C=Z(S,1);for(S=Z(S,2),v=Z(v,2);!I(S);){var A=C.add(S);A.l(b)<=0&&(E=E.add(v),C=A),S=Z(S,1),v=Z(v,1)}return _=x(b,E.j(_)),new N(E,_)}for(E=m;b.l(_)>=0;){for(v=Math.max(1,Math.floor(b.m()/_.m())),S=Math.ceil(Math.log(v)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),C=h(v),A=C.j(_);z(A)||A.l(b)>0;)v-=S,C=h(v),A=C.j(_);I(C)&&(C=g),E=E.add(C),b=x(b,A)}return new N(E,b)}e.B=function(b){return R(this,b).h},e.and=function(b){const _=Math.max(this.g.length,b.g.length),v=[];for(let S=0;S<_;S++)v[S]=this.i(S)&b.i(S);return new a(v,this.h&b.h)},e.or=function(b){const _=Math.max(this.g.length,b.g.length),v=[];for(let S=0;S<_;S++)v[S]=this.i(S)|b.i(S);return new a(v,this.h|b.h)},e.xor=function(b){const _=Math.max(this.g.length,b.g.length),v=[];for(let S=0;S<_;S++)v[S]=this.i(S)^b.i(S);return new a(v,this.h^b.h)};function V(b){const _=b.g.length+1,v=[];for(let S=0;S<_;S++)v[S]=b.i(S)<<1|b.i(S-1)>>>31;return new a(v,b.h)}function Z(b,_){const v=_>>5;_%=32;const S=b.g.length-v,E=[];for(let C=0;C<S;C++)E[C]=_>0?b.i(C+v)>>>_|b.i(C+v+1)<<32-_:b.i(C+v);return new a(E,b.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=h,a.fromString=d,Mp=a}).apply(typeof Oy<"u"?Oy:typeof self<"u"?self:typeof window<"u"?window:{});var sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var e,t=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof sc=="object"&&sc];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var i=n(this);function s(o,c){if(c)e:{var f=i;o=o.split(".");for(var y=0;y<o.length-1;y++){var D=o[y];if(!(D in f))break e;f=f[D]}o=o[o.length-1],y=f[o],c=c(y),c!=y&&c!=null&&t(f,o,{configurable:!0,writable:!0,value:c})}}s("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(o){return o||function(c){var f=[],y;for(y in c)Object.prototype.hasOwnProperty.call(c,y)&&f.push([y,c[y]]);return f}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},a=this||self;function l(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function u(o,c,f){return o.call.apply(o.bind,arguments)}function h(o,c,f){return h=u,h.apply(null,arguments)}function d(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),o.apply(this,y)}}function m(o,c){function f(){}f.prototype=c.prototype,o.Z=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Ob=function(y,D,k){for(var G=Array(arguments.length-2),W=2;W<arguments.length;W++)G[W-2]=arguments[W];return c.prototype[D].apply(y,G)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function T(o){const c=o.length;if(c>0){const f=Array(c);for(let y=0;y<c;y++)f[y]=o[y];return f}return[]}function I(o,c){for(let y=1;y<arguments.length;y++){const D=arguments[y];var f=typeof D;if(f=f!="object"?f:D?Array.isArray(D)?"array":f:"null",f=="array"||f=="object"&&typeof D.length=="number"){f=o.length||0;const k=D.length||0;o.length=f+k;for(let G=0;G<k;G++)o[f+G]=D[G]}else o.push(D)}}class z{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return this.h>0?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function P(o){a.setTimeout(()=>{throw o},0)}function x(){var o=b;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class w{constructor(){this.h=this.g=null}add(c,f){const y=N.get();y.set(c,f),this.h?this.h.next=y:this.g=y,this.h=y}}var N=new z(()=>new R,o=>o.reset());class R{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let V,Z=!1,b=new w,_=()=>{const o=Promise.resolve(void 0);V=()=>{o.then(v)}};function v(){for(var o;o=x();){try{o.h.call(o.g)}catch(f){P(f)}var c=N;c.j(o),c.h<100&&(c.h++,o.next=c.g,c.g=o)}Z=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function E(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}E.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};a.addEventListener("test",f,c),a.removeEventListener("test",f,c)}catch{}return o}();function A(o){return/^[\s\xa0]*$/.test(o)}function ae(o,c){E.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,c)}m(ae,E),ae.prototype.init=function(o,c){const f=this.type=o.type,y=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget,c||(f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement)),this.relatedTarget=c,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),B=0;function X(o,c,f,y,D){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!y,this.ha=D,this.key=++B,this.da=this.fa=!1}function Y(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function de(o,c,f){for(const y in o)c.call(f,o[y],y,o)}function Oe(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function Ee(o){const c={};for(const f in o)c[f]=o[f];return c}const vt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ie(o,c){let f,y;for(let D=1;D<arguments.length;D++){y=arguments[D];for(f in y)o[f]=y[f];for(let k=0;k<vt.length;k++)f=vt[k],Object.prototype.hasOwnProperty.call(y,f)&&(o[f]=y[f])}}function St(o){this.src=o,this.g={},this.h=0}St.prototype.add=function(o,c,f,y,D){const k=o.toString();o=this.g[k],o||(o=this.g[k]=[],this.h++);const G=Kn(o,c,y,D);return G>-1?(c=o[G],f||(c.fa=!1)):(c=new X(c,this.src,k,!!y,D),c.fa=f,o.push(c)),c};function pe(o,c){const f=c.type;if(f in o.g){var y=o.g[f],D=Array.prototype.indexOf.call(y,c,void 0),k;(k=D>=0)&&Array.prototype.splice.call(y,D,1),k&&(Y(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function Kn(o,c,f,y){for(let D=0;D<o.length;++D){const k=o[D];if(!k.da&&k.listener==c&&k.capture==!!f&&k.ha==y)return D}return-1}var As="closure_lm_"+(Math.random()*1e6|0),On={};function Ra(o,c,f,y,D){if(Array.isArray(c)){for(let k=0;k<c.length;k++)Ra(o,c[k],f,y,D);return null}return f=Qn(f),o&&o[oe]?o.J(c,f,l(y)?!!y.capture:!1,D):Da(o,c,f,!1,y,D)}function Da(o,c,f,y,D,k){if(!c)throw Error("Invalid event type");const G=l(D)?!!D.capture:!!D;let W=xs(o);if(W||(o[As]=W=new St(o)),f=W.add(c,f,y,G,k),f.proxy)return f;if(y=Sl(),f.proxy=y,y.src=o,y.listener=f,o.addEventListener)C||(D=G),D===void 0&&(D=!1),o.addEventListener(c.toString(),y,D);else if(o.attachEvent)o.attachEvent(ws(c.toString()),y);else if(o.addListener&&o.removeListener)o.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Sl(){function o(f){return c.call(o.src,o.listener,f)}const c=Jn;return o}function Ia(o,c,f,y,D){if(Array.isArray(c))for(var k=0;k<c.length;k++)Ia(o,c[k],f,y,D);else y=l(y)?!!y.capture:!!y,f=Qn(f),o&&o[oe]?(o=o.i,k=String(c).toString(),k in o.g&&(c=o.g[k],f=Kn(c,f,y,D),f>-1&&(Y(c[f]),Array.prototype.splice.call(c,f,1),c.length==0&&(delete o.g[k],o.h--)))):o&&(o=xs(o))&&(c=o.g[c.toString()],o=-1,c&&(o=Kn(c,f,y,D)),(f=o>-1?c[o]:null)&&Nn(f))}function Nn(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[oe])pe(c.i,o);else{var f=o.type,y=o.proxy;c.removeEventListener?c.removeEventListener(f,y,o.capture):c.detachEvent?c.detachEvent(ws(f),y):c.addListener&&c.removeListener&&c.removeListener(y),(f=xs(c))?(pe(f,o),f.h==0&&(f.src=null,c[As]=null)):Y(o)}}}function ws(o){return o in On?On[o]:On[o]="on"+o}function Jn(o,c){if(o.da)o=!0;else{c=new ae(c,this);const f=o.listener,y=o.ha||o.src;o.fa&&Nn(o),o=f.call(y,c)}return o}function xs(o){return o=o[As],o instanceof St?o:null}var Os="__closure_events_fn_"+(Math.random()*1e9>>>0);function Qn(o){return typeof o=="function"?o:(o[Os]||(o[Os]=function(c){return o.handleEvent(c)}),o[Os])}function He(){S.call(this),this.i=new St(this),this.M=this,this.G=null}m(He,S),He.prototype[oe]=!0,He.prototype.removeEventListener=function(o,c,f,y){Ia(this,o,c,f,y)};function Fe(o,c){var f,y=o.G;if(y)for(f=[];y;y=y.G)f.push(y);if(o=o.M,y=c.type||c,typeof c=="string")c=new E(c,o);else if(c instanceof E)c.target=c.target||o;else{var D=c;c=new E(y,o),Ie(c,D)}D=!0;let k,G;if(f)for(G=f.length-1;G>=0;G--)k=c.g=f[G],D=Ns(k,y,!0,c)&&D;if(k=c.g=o,D=Ns(k,y,!0,c)&&D,D=Ns(k,y,!1,c)&&D,f)for(G=0;G<f.length;G++)k=c.g=f[G],D=Ns(k,y,!1,c)&&D}He.prototype.N=function(){if(He.Z.N.call(this),this.i){var o=this.i;for(const c in o.g){const f=o.g[c];for(let y=0;y<f.length;y++)Y(f[y]);delete o.g[c],o.h--}}this.G=null},He.prototype.J=function(o,c,f,y){return this.i.add(String(o),c,!1,f,y)},He.prototype.K=function(o,c,f,y){return this.i.add(String(o),c,!0,f,y)};function Ns(o,c,f,y){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();let D=!0;for(let k=0;k<c.length;++k){const G=c[k];if(G&&!G.da&&G.capture==f){const W=G.listener,tt=G.ha||G.src;G.fa&&pe(o.i,G),D=W.call(tt,y)!==!1&&D}}return D&&!y.defaultPrevented}function bl(o,c){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=h(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(c)>2147483647?-1:a.setTimeout(o,c||0)}function El(o){o.g=bl(()=>{o.g=null,o.i&&(o.i=!1,El(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class ka extends S{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:El(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yn(o){S.call(this),this.h=o,this.g={}}m(yn,S);var Wn=[];function Ut(o){de(o.g,function(c,f){this.g.hasOwnProperty(f)&&Nn(c)},o),o.g={}}yn.prototype.N=function(){yn.Z.N.call(this),Ut(this)},yn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cs=a.JSON.stringify,Tl=a.JSON.parse,Al=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function gr(){}function wl(){}var Cn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ni(){E.call(this,"d")}m(Ni,E);function jt(){E.call(this,"c")}m(jt,E);var Pt={},yr=null;function Rs(){return yr=yr||new He}Pt.Ia="serverreachability";function xl(o){E.call(this,Pt.Ia,o)}m(xl,E);function Rn(o){const c=Rs();Fe(c,new xl(c))}Pt.STAT_EVENT="statevent";function Ds(o,c){E.call(this,Pt.STAT_EVENT,o),this.stat=c}m(Ds,E);function ft(o){const c=Rs();Fe(c,new Ds(c,o))}Pt.Ja="timingevent";function Ci(o,c){E.call(this,Pt.Ja,o),this.size=c}m(Ci,E);function Is(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},c)}function ks(){this.g=!0}ks.prototype.ua=function(){this.g=!1};function Be(o,c,f,y,D,k){o.info(function(){if(o.g)if(k){var G="",W=k.split("&");for(let Te=0;Te<W.length;Te++){var tt=W[Te].split("=");if(tt.length>1){const rt=tt[0];tt=tt[1];const In=rt.split("_");G=In.length>=2&&In[1]=="type"?G+(rt+"="+tt+"&"):G+(rt+"=redacted&")}}}else G=null;else G=k;return"XMLHTTP REQ ("+y+") [attempt "+D+"]: "+c+`
`+f+`
`+G})}function Ri(o,c,f,y,D,k,G){o.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+D+"]: "+c+`
`+f+`
`+k+" "+G})}function Di(o,c,f,y){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+za(o,f)+(y?" "+y:"")})}function Ol(o,c){o.info(function(){return"TIMEOUT: "+c})}ks.prototype.info=function(){};function za(o,c){if(!o.g)return c;if(!c)return null;try{const k=JSON.parse(c);if(k){for(o=0;o<k.length;o++)if(Array.isArray(k[o])){var f=k[o];if(!(f.length<2)){var y=f[1];if(Array.isArray(y)&&!(y.length<1)){var D=y[0];if(D!="noop"&&D!="stop"&&D!="close")for(let G=1;G<y.length;G++)y[G]=""}}}}return Cs(k)}catch{return c}}var _r={NO_ERROR:0,TIMEOUT:8},Nl={},Cl;function Ot(){}m(Ot,gr),Ot.prototype.g=function(){return new XMLHttpRequest},Cl=new Ot;function Vt(o){return encodeURIComponent(String(o))}function Rl(o){var c=1;o=o.split(":");const f=[];for(;c>0&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function _n(o,c,f,y){this.j=o,this.i=c,this.l=f,this.S=y||1,this.V=new yn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vr}function vr(){this.i=null,this.g="",this.h=!1}var Ma={},Ht={};function Sr(o,c,f){o.M=1,o.A=Il(Dn(c)),o.u=f,o.R=!0,La(o,null)}function La(o,c){o.F=Date.now(),$(o),o.B=Dn(o.A);var f=o.B,y=o.S;Array.isArray(y)||(y=[String(y)]),Jp(f.i,"t",y),o.C=0,f=o.j.L,o.h=new vr,o.g=mm(o.j,f?c:null,!o.u),o.P>0&&(o.O=new ka(h(o.Y,o,o.g),o.P)),c=o.V,f=o.g,y=o.ba;var D="readystatechange";Array.isArray(D)||(D&&(Wn[0]=D.toString()),D=Wn);for(let k=0;k<D.length;k++){const G=Ra(f,D[k],y||c.handleEvent,!1,c.h||c);if(!G)break;c.g[G.key]=G}c=o.J?Ee(o.J):{},o.u?(o.v||(o.v="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,c)):(o.v="GET",o.g.ea(o.B,o.v,null,c)),Rn(),Be(o.i,o.v,o.B,o.l,o.S,o.u)}_n.prototype.ba=function(o){o=o.target;const c=this.O;c&&zi(o)==3?c.j():this.Y(o)},_n.prototype.Y=function(o){try{if(o==this.g)e:{const W=zi(this.g),tt=this.g.ya(),Te=this.g.ca();if(!(W<3)&&(W!=3||this.g&&(this.h.h||this.g.la()||sm(this.g)))){this.K||W!=4||tt==7||(tt==8||Te<=0?Rn(3):Rn(2)),H(this);var c=this.g.ca();this.X=c;var f=Dl(this);if(this.o=c==200,Ri(this.i,this.v,this.B,this.l,this.S,W,c),this.o){if(this.U&&!this.L){t:{if(this.g){var y,D=this.g;if((y=D.g?D.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(y)){var k=y;break t}}k=null}if(o=k)Di(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xe(this,o);else{this.o=!1,this.m=3,ft(12),le(this),q(this);break e}}if(this.R){o=!0;let rt;for(;!this.K&&this.C<f.length;)if(rt=nf(this,f),rt==Ht){W==4&&(this.m=4,ft(14),o=!1),Di(this.i,this.l,null,"[Incomplete Response]");break}else if(rt==Ma){this.m=4,ft(15),Di(this.i,this.l,f,"[Invalid Chunk]"),o=!1;break}else Di(this.i,this.l,rt,null),Xe(this,rt);if(Ua(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),W!=4||f.length!=0||this.h.h||(this.m=1,ft(16),o=!1),this.o=this.o&&o,!o)Di(this.i,this.l,f,"[Invalid Chunked Response]"),le(this),q(this);else if(f.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),cf(G),G.P=!0,ft(11))}}else Di(this.i,this.l,f,null),Xe(this,f);W==4&&le(this),this.o&&!this.K&&(W==4?fm(this.j,this):(this.o=!1,$(this)))}else CE(this.g),c==400&&f.indexOf("Unknown SID")>0?(this.m=3,ft(12)):(this.m=0,ft(13)),le(this),q(this)}}}catch{}finally{}};function Dl(o){if(!Ua(o))return o.g.la();const c=sm(o.g);if(c==="")return"";let f="";const y=c.length,D=zi(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return le(o),q(o),"";o.h.i=new a.TextDecoder}for(let k=0;k<y;k++)o.h.h=!0,f+=o.h.i.decode(c[k],{stream:!(D&&k==y-1)});return c.length=0,o.h.g+=f,o.C=0,o.h.g}function Ua(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function nf(o,c){var f=o.C,y=c.indexOf(`
`,f);return y==-1?Ht:(f=Number(c.substring(f,y)),isNaN(f)?Ma:(y+=1,y+f>c.length?Ht:(c=c.slice(y,y+f),o.C=y+f,c)))}_n.prototype.cancel=function(){this.K=!0,le(this)};function $(o){o.T=Date.now()+o.H,O(o,o.H)}function O(o,c){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Is(h(o.aa,o),c)}function H(o){o.D&&(a.clearTimeout(o.D),o.D=null)}_n.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(Ol(this.i,this.B),this.M!=2&&(Rn(),ft(17)),le(this),this.m=2,q(this)):O(this,this.T-o)};function q(o){o.j.I==0||o.K||fm(o.j,o)}function le(o){H(o);var c=o.O;c&&typeof c.dispose=="function"&&c.dispose(),o.O=null,Ut(o.V),o.g&&(c=o.g,o.g=null,c.abort(),c.dispose())}function Xe(o,c){try{var f=o.j;if(f.I!=0&&(f.g==o||zs(f.h,o))){if(!o.L&&zs(f.h,o)&&f.I==3){try{var y=f.Ba.g.parse(c)}catch{y=null}if(Array.isArray(y)&&y.length==3){var D=y;if(D[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<o.F)Ul(f),Ml(f);else break e;lf(f),ft(18)}}else f.xa=D[1],0<f.xa-f.K&&D[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=Is(h(f.Va,f),6e3));ei(f.h)<=1&&f.ta&&(f.ta=void 0)}else Ls(f,11)}else if((o.L||f.g==o)&&Ul(f),!A(c))for(D=f.Ba.g.parse(c),c=0;c<D.length;c++){let Te=D[c];const rt=Te[0];if(!(rt<=f.K))if(f.K=rt,Te=Te[1],f.I==2)if(Te[0]=="c"){f.M=Te[1],f.ba=Te[2];const In=Te[3];In!=null&&(f.ka=In,f.j.info("VER="+f.ka));const Us=Te[4];Us!=null&&(f.za=Us,f.j.info("SVER="+f.za));const Mi=Te[5];Mi!=null&&typeof Mi=="number"&&Mi>0&&(y=1.5*Mi,f.O=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;const Li=o.g;if(Li){const jl=Li.g?Li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jl){var k=y.h;k.g||jl.indexOf("spdy")==-1&&jl.indexOf("quic")==-1&&jl.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(Ge(k,k.h),k.h=null))}if(y.G){const uf=Li.g?Li.g.getResponseHeader("X-HTTP-Session-Id"):null;uf&&(y.wa=uf,Ne(y.J,y.G,uf))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-o.F,f.j.info("Handshake RTT: "+f.T+"ms")),y=f;var G=o;if(y.na=pm(y,y.L?y.ba:null,y.W),G.L){ja(y.h,G);var W=G,tt=y.O;tt&&(W.H=tt),W.D&&(H(W),$(W)),y.g=G}else cm(y);f.i.length>0&&Ll(f)}else Te[0]!="stop"&&Te[0]!="close"||Ls(f,7);else f.I==3&&(Te[0]=="stop"||Te[0]=="close"?Te[0]=="stop"?Ls(f,7):of(f):Te[0]!="noop"&&f.l&&f.l.qa(Te),f.A=0)}}Rn(4)}catch{}}var Le=class{constructor(o,c){this.g=o,this.map=c}};function ht(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wt(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ei(o){return o.h?1:o.g?o.g.size:0}function zs(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function Ge(o,c){o.g?o.g.add(c):o.h=c}function ja(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}ht.prototype.cancel=function(){if(this.i=Pa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Pa(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.G);return c}return T(o.i)}var $p=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yE(o,c){if(o){o=o.split("&");for(let f=0;f<o.length;f++){const y=o[f].indexOf("=");let D,k=null;y>=0?(D=o[f].substring(0,y),k=o[f].substring(y+1)):D=o[f],c(D,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function Ii(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let c;o instanceof Ii?(this.l=o.l,Va(this,o.j),this.o=o.o,this.g=o.g,Ha(this,o.u),this.h=o.h,sf(this,Qp(o.i)),this.m=o.m):o&&(c=String(o).match($p))?(this.l=!1,Va(this,c[1]||"",!0),this.o=Ba(c[2]||""),this.g=Ba(c[3]||"",!0),Ha(this,c[4]),this.h=Ba(c[5]||"",!0),sf(this,c[6]||"",!0),this.m=Ba(c[7]||"")):(this.l=!1,this.i=new Za(null,this.l))}Ii.prototype.toString=function(){const o=[];var c=this.j;c&&o.push(Ga(c,Fp,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(Ga(c,Fp,!0),"@"),o.push(Vt(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&o.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(Ga(f,f.charAt(0)=="/"?SE:vE,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",Ga(f,EE)),o.join("")},Ii.prototype.resolve=function(o){const c=Dn(this);let f=!!o.j;f?Va(c,o.j):f=!!o.o,f?c.o=o.o:f=!!o.g,f?c.g=o.g:f=o.u!=null;var y=o.h;if(f)Ha(c,o.u);else if(f=!!o.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var D=c.h.lastIndexOf("/");D!=-1&&(y=c.h.slice(0,D+1)+y)}if(D=y,D==".."||D==".")y="";else if(D.indexOf("./")!=-1||D.indexOf("/.")!=-1){y=D.lastIndexOf("/",0)==0,D=D.split("/");const k=[];for(let G=0;G<D.length;){const W=D[G++];W=="."?y&&G==D.length&&k.push(""):W==".."?((k.length>1||k.length==1&&k[0]!="")&&k.pop(),y&&G==D.length&&k.push("")):(k.push(W),y=!0)}y=k.join("/")}else y=D}return f?c.h=y:f=o.i.toString()!=="",f?sf(c,Qp(o.i)):f=!!o.m,f&&(c.m=o.m),c};function Dn(o){return new Ii(o)}function Va(o,c,f){o.j=f?Ba(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function Ha(o,c){if(c){if(c=Number(c),isNaN(c)||c<0)throw Error("Bad port number "+c);o.u=c}else o.u=null}function sf(o,c,f){c instanceof Za?(o.i=c,TE(o.i,o.l)):(f||(c=Ga(c,bE)),o.i=new Za(c,o.l))}function Ne(o,c,f){o.i.set(c,f)}function Il(o){return Ne(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Ba(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ga(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,_E),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function _E(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Fp=/[#\/\?@]/g,vE=/[#\?:]/g,SE=/[#\?]/g,bE=/[#\?@]/g,EE=/#/g;function Za(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function Ms(o){o.g||(o.g=new Map,o.h=0,o.i&&yE(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}e=Za.prototype,e.add=function(o,c){Ms(this),this.i=null,o=br(this,o);let f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function Xp(o,c){Ms(o),c=br(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function Yp(o,c){return Ms(o),c=br(o,c),o.g.has(c)}e.forEach=function(o,c){Ms(this),this.g.forEach(function(f,y){f.forEach(function(D){o.call(c,D,y,this)},this)},this)};function Kp(o,c){Ms(o);let f=[];if(typeof c=="string")Yp(o,c)&&(f=f.concat(o.g.get(br(o,c))));else for(o=Array.from(o.g.values()),c=0;c<o.length;c++)f=f.concat(o[c]);return f}e.set=function(o,c){return Ms(this),this.i=null,o=br(this,o),Yp(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},e.get=function(o,c){return o?(o=Kp(this,o),o.length>0?String(o[0]):c):c};function Jp(o,c,f){Xp(o,c),f.length>0&&(o.i=null,o.g.set(br(o,c),T(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(let y=0;y<c.length;y++){var f=c[y];const D=Vt(f);f=Kp(this,f);for(let k=0;k<f.length;k++){let G=D;f[k]!==""&&(G+="="+Vt(f[k])),o.push(G)}}return this.i=o.join("&")};function Qp(o){const c=new Za;return c.i=o.i,o.g&&(c.g=new Map(o.g),c.h=o.h),c}function br(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function TE(o,c){c&&!o.j&&(Ms(o),o.i=null,o.g.forEach(function(f,y){const D=y.toLowerCase();y!=D&&(Xp(this,y),Jp(this,D,f))},o)),o.j=c}function AE(o,c){const f=new ks;if(a.Image){const y=new Image;y.onload=d(ki,f,"TestLoadImage: loaded",!0,c,y),y.onerror=d(ki,f,"TestLoadImage: error",!1,c,y),y.onabort=d(ki,f,"TestLoadImage: abort",!1,c,y),y.ontimeout=d(ki,f,"TestLoadImage: timeout",!1,c,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=o}else c(!1)}function wE(o,c){const f=new ks,y=new AbortController,D=setTimeout(()=>{y.abort(),ki(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:y.signal}).then(k=>{clearTimeout(D),k.ok?ki(f,"TestPingServer: ok",!0,c):ki(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(D),ki(f,"TestPingServer: error",!1,c)})}function ki(o,c,f,y,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),y(f)}catch{}}function xE(){this.g=new Al}function rf(o){this.i=o.Sb||null,this.h=o.ab||!1}m(rf,gr),rf.prototype.g=function(){return new kl(this.i,this.h)};function kl(o,c){He.call(this),this.H=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(kl,He),e=kl.prototype,e.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=c,this.readyState=1,$a(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const c={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(c.body=o),(this.H||a).fetch(new Request(this.D,c)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,qa(this)),this.readyState=0},e.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,$a(this)),this.g&&(this.readyState=3,$a(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wp(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wp(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}e.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.B.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?qa(this):$a(this),this.readyState==3&&Wp(this)}},e.Oa=function(o){this.g&&(this.response=this.responseText=o,qa(this))},e.Na=function(o){this.g&&(this.response=o,qa(this))},e.ga=function(){this.g&&qa(this)};function qa(o){o.readyState=4,o.l=null,o.j=null,o.B=null,$a(o)}e.setRequestHeader=function(o,c){this.A.append(o,c)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function $a(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(kl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function em(o){let c="";return de(o,function(f,y){c+=y,c+=":",c+=f,c+=`\r
`}),c}function af(o,c,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=em(f),typeof o=="string"?f!=null&&Vt(f):Ne(o,c,f))}function Ze(o){He.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Ze,He);var OE=/^https?$/i,NE=["POST","PUT"];e=Ze.prototype,e.Fa=function(o){this.H=o},e.ea=function(o,c,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Cl.g(),this.g.onreadystatechange=g(h(this.Ca,this));try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(k){tm(this,k);return}if(o=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var D in y)f.set(D,y[D]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const k of y.keys())f.set(k,y.get(k));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(k=>k.toLowerCase()=="content-type"),D=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(NE,c,void 0)>=0)||y||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,G]of f)this.g.setRequestHeader(k,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(k){tm(this,k)}};function tm(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.o=5,nm(o),zl(o)}function nm(o){o.A||(o.A=!0,Fe(o,"complete"),Fe(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,Fe(this,"complete"),Fe(this,"abort"),zl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zl(this,!0)),Ze.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?im(this):this.Xa())},e.Xa=function(){im(this)};function im(o){if(o.h&&typeof r<"u"){if(o.v&&zi(o)==4)setTimeout(o.Ca.bind(o),0);else if(Fe(o,"readystatechange"),zi(o)==4){o.h=!1;try{const k=o.ca();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var f;if(!(f=c)){var y;if(y=k===0){let G=String(o.D).match($p)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),y=!OE.test(G?G.toLowerCase():"")}f=y}if(f)Fe(o,"complete"),Fe(o,"success");else{o.o=6;try{var D=zi(o)>2?o.g.statusText:""}catch{D=""}o.l=D+" ["+o.ca()+"]",nm(o)}}finally{zl(o)}}}}function zl(o,c){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const f=o.g;o.g=null,c||Fe(o,"ready");try{f.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function zi(o){return o.g?o.g.readyState:0}e.ca=function(){try{return zi(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.La=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),Tl(c)}};function sm(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function CE(o){const c={};o=(o.g&&zi(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<o.length;y++){if(A(o[y]))continue;var f=Rl(o[y]);const D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const k=c[D]||[];c[D]=k,k.push(f)}Oe(c,function(y){return y.join(", ")})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fa(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function rm(o){this.za=0,this.i=[],this.j=new ks,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fa("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fa("baseRetryDelayMs",5e3,o),this.Za=Fa("retryDelaySeedMs",1e4,o),this.Ta=Fa("forwardChannelMaxRetries",2,o),this.va=Fa("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new ht(o&&o.concurrentRequestLimit),this.Ba=new xE,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=rm.prototype,e.ka=8,e.I=1,e.connect=function(o,c,f,y){ft(0),this.W=o,this.H=c||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.J=pm(this,null,this.W),Ll(this)};function of(o){if(am(o),o.I==3){var c=o.V++,f=Dn(o.J);if(Ne(f,"SID",o.M),Ne(f,"RID",c),Ne(f,"TYPE","terminate"),Xa(o,f),c=new _n(o,o.j,c),c.M=2,c.A=Il(Dn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(c.A.toString(),"")}catch{}!f&&a.Image&&(new Image().src=c.A,f=!0),f||(c.g=mm(c.j,null),c.g.ea(c.A)),c.F=Date.now(),$(c)}dm(o)}function Ml(o){o.g&&(cf(o),o.g.cancel(),o.g=null)}function am(o){Ml(o),o.v&&(a.clearTimeout(o.v),o.v=null),Ul(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function Ll(o){if(!Wt(o.h)&&!o.m){o.m=!0;var c=o.Ea;V||_(),Z||(V(),Z=!0),b.add(c,o),o.D=0}}function RE(o,c){return ei(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=c.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Is(h(o.Ea,o,c),hm(o,o.D)),o.D++,!0)}e.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const D=new _n(this,this.j,o);let k=this.o;if(this.U&&(k?(k=Ee(k),Ie(k,this.U)):k=this.U),this.u!==null||this.R||(D.J=k,k=null),this.S)e:{for(var c=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(c+=y,c>4096){c=f;break e}if(c===4096||f===this.i.length-1){c=f+1;break e}}c=1e3}else c=1e3;c=lm(this,D,c),f=Dn(this.J),Ne(f,"RID",o),Ne(f,"CVER",22),this.G&&Ne(f,"X-HTTP-Session-Id",this.G),Xa(this,f),k&&(this.R?c="headers="+Vt(em(k))+"&"+c:this.u&&af(f,this.u,k)),Ge(this.h,D),this.Ra&&Ne(f,"TYPE","init"),this.S?(Ne(f,"$req",c),Ne(f,"SID","null"),D.U=!0,Sr(D,f,null)):Sr(D,f,c),this.I=2}}else this.I==3&&(o?om(this,o):this.i.length==0||Wt(this.h)||om(this))};function om(o,c){var f;c?f=c.l:f=o.V++;const y=Dn(o.J);Ne(y,"SID",o.M),Ne(y,"RID",f),Ne(y,"AID",o.K),Xa(o,y),o.u&&o.o&&af(y,o.u,o.o),f=new _n(o,o.j,f,o.D+1),o.u===null&&(f.J=o.o),c&&(o.i=c.G.concat(o.i)),c=lm(o,f,1e3),f.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Ge(o.h,f),Sr(f,y,c)}function Xa(o,c){o.H&&de(o.H,function(f,y){Ne(c,y,f)}),o.l&&de({},function(f,y){Ne(c,y,f)})}function lm(o,c,f){f=Math.min(o.i.length,f);const y=o.l?h(o.l.Ka,o.l,o):null;e:{var D=o.i;let W=-1;for(;;){const tt=["count="+f];W==-1?f>0?(W=D[0].g,tt.push("ofs="+W)):W=0:tt.push("ofs="+W);let Te=!0;for(let rt=0;rt<f;rt++){var k=D[rt].g;const In=D[rt].map;if(k-=W,k<0)W=Math.max(0,D[rt].g-100),Te=!1;else try{k="req"+k+"_"||"";try{var G=In instanceof Map?In:Object.entries(In);for(const[Us,Mi]of G){let Li=Mi;l(Mi)&&(Li=Cs(Mi)),tt.push(k+Us+"="+encodeURIComponent(Li))}}catch(Us){throw tt.push(k+"type="+encodeURIComponent("_badmap")),Us}}catch{y&&y(In)}}if(Te){G=tt.join("&");break e}}G=void 0}return o=o.i.splice(0,f),c.G=o,G}function cm(o){if(!o.g&&!o.v){o.Y=1;var c=o.Da;V||_(),Z||(V(),Z=!0),b.add(c,o),o.A=0}}function lf(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Is(h(o.Da,o),hm(o,o.A)),o.A++,!0)}e.Da=function(){if(this.v=null,um(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Is(h(this.Wa,this),o)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ft(10),Ml(this),um(this))};function cf(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function um(o){o.g=new _n(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var c=Dn(o.na);Ne(c,"RID","rpc"),Ne(c,"SID",o.M),Ne(c,"AID",o.K),Ne(c,"CI",o.F?"0":"1"),!o.F&&o.ia&&Ne(c,"TO",o.ia),Ne(c,"TYPE","xmlhttp"),Xa(o,c),o.u&&o.o&&af(c,o.u,o.o),o.O&&(o.g.H=o.O);var f=o.g;o=o.ba,f.M=1,f.A=Il(Dn(c)),f.u=null,f.R=!0,La(f,o)}e.Va=function(){this.C!=null&&(this.C=null,Ml(this),lf(this),ft(19))};function Ul(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function fm(o,c){var f=null;if(o.g==c){Ul(o),cf(o),o.g=null;var y=2}else if(zs(o.h,c))f=c.G,ja(o.h,c),y=1;else return;if(o.I!=0){if(c.o)if(y==1){f=c.u?c.u.length:0,c=Date.now()-c.F;var D=o.D;y=Rs(),Fe(y,new Ci(y,f)),Ll(o)}else cm(o);else if(D=c.m,D==3||D==0&&c.X>0||!(y==1&&RE(o,c)||y==2&&lf(o)))switch(f&&f.length>0&&(c=o.h,c.i=c.i.concat(f)),D){case 1:Ls(o,5);break;case 4:Ls(o,10);break;case 3:Ls(o,6);break;default:Ls(o,2)}}}function hm(o,c){let f=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(f*=2),f*c}function Ls(o,c){if(o.j.info("Error code "+c),c==2){var f=h(o.bb,o),y=o.Ua;const D=!y;y=new Ii(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Va(y,"https"),Il(y),D?AE(y.toString(),f):wE(y.toString(),f)}else ft(2);o.I=0,o.l&&o.l.pa(c),dm(o),am(o)}e.bb=function(o){o?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function dm(o){if(o.I=0,o.ja=[],o.l){const c=Pa(o.h);(c.length!=0||o.i.length!=0)&&(I(o.ja,c),I(o.ja,o.i),o.h.i.length=0,T(o.i),o.i.length=0),o.l.oa()}}function pm(o,c,f){var y=f instanceof Ii?Dn(f):new Ii(f);if(y.g!="")c&&(y.g=c+"."+y.g),Ha(y,y.u);else{var D=a.location;y=D.protocol,c=c?c+"."+D.hostname:D.hostname,D=+D.port;const k=new Ii(null);y&&Va(k,y),c&&(k.g=c),D&&Ha(k,D),f&&(k.h=f),y=k}return f=o.G,c=o.wa,f&&c&&Ne(y,f,c),Ne(y,"VER",o.ka),Xa(o,y),y}function mm(o,c,f){if(c&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Aa&&!o.ma?new Ze(new rf({ab:f})):new Ze(o.ma),c.Fa(o.L),c}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function gm(){}e=gm.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function en(o,c){He.call(this),this.g=new rm(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.sa&&(o?o["X-WebChannel-Client-Profile"]=c.sa:o={"X-WebChannel-Client-Profile":c.sa}),this.g.U=o,(o=c&&c.Qb)&&!A(o)&&(this.g.u=o),this.A=c&&c.supportsCrossDomainXhr||!1,this.v=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!A(c)&&(this.g.G=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new Er(this)}m(en,He),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){of(this.g)},en.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.v&&(f={},f.__data__=Cs(o),o=f);c.i.push(new Le(c.Ya++,o)),c.I==3&&Ll(c)},en.prototype.N=function(){this.g.l=null,delete this.j,of(this.g),delete this.g,en.Z.N.call(this)};function ym(o){Ni.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){e:{for(const f in c){o=f;break e}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}m(ym,Ni);function _m(){jt.call(this),this.status=1}m(_m,jt);function Er(o){this.g=o}m(Er,gm),Er.prototype.ra=function(){Fe(this.g,"a")},Er.prototype.qa=function(o){Fe(this.g,new ym(o))},Er.prototype.pa=function(o){Fe(this.g,new _m)},Er.prototype.oa=function(){Fe(this.g,"b")},en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,Nl.COMPLETE="complete",wl.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",He.prototype.listen=He.prototype.J,Ze.prototype.listenOnce=Ze.prototype.K,Ze.prototype.getLastError=Ze.prototype.Ha,Ze.prototype.getLastErrorCode=Ze.prototype.ya,Ze.prototype.getStatus=Ze.prototype.ca,Ze.prototype.getResponseJson=Ze.prototype.La,Ze.prototype.getResponseText=Ze.prototype.la,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Fa}).apply(typeof sc<"u"?sc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu="12.8.0";function eN(e){Yu=e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new wp("@firebase/firestore");function An(e,...t){if(yu.logLevel<=ge.DEBUG){const n=t.map(mb);yu.debug(`Firestore (${Yu}): ${e}`,...n)}}function pb(e,...t){if(yu.logLevel<=ge.ERROR){const n=t.map(mb);yu.error(`Firestore (${Yu}): ${e}`,...n)}}function mb(e){if(typeof e=="string")return e;try{return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(e,t,n){let i="Unexpected state";typeof t=="string"?i=t:n=t,gb(e,i,n)}function gb(e,t,n){let i=`FIRESTORE (${Yu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw pb(i),new Error(i)}function Io(e,t,n,i){let s="Unexpected state";typeof n=="string"?s=n:i=n,e||gb(t,s,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class ue extends Yn{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class nN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Gt.UNAUTHENTICATED))}shutdown(){}}class iN{constructor(t){this.t=t,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Io(this.o===void 0,42304);let i=this.i;const s=u=>this.i!==i?(i=this.i,n(u)):Promise.resolve();let r=new ko;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new ko,t.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=r;t.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{An("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(An("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new ko)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==t?(An("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Io(typeof i.accessToken=="string",31837,{l:i}),new tN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Io(t===null||typeof t=="string",2055,{h:t}),new Gt(t)}}class sN{constructor(t,n,i){this.P=t,this.T=n,this.I=i,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class rN{constructor(t,n,i){this.P=t,this.T=n,this.I=i}getToken(){return Promise.resolve(new sN(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ny{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aN{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,un(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Io(this.o===void 0,3512);const i=r=>{r.error!=null&&An("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,An("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>i(r))};const s=r=>{An("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?s(r):An("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ny(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Io(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ny(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=oN(40);for(let r=0;r<s.length;++r)i.length<20&&s[r]<n&&(i+=t.charAt(s[r]%62))}return i}}function ys(e,t){return e<t?-1:e>t?1:0}function cN(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const s=e.charAt(i),r=t.charAt(i);if(s!==r)return rh(s)===rh(r)?ys(s,r):rh(s)?1:-1}return ys(e.length,t.length)}const uN=55296,fN=57343;function rh(e){const t=e.charCodeAt(0);return t>=uN&&t<=fN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="__name__";class zn{constructor(t,n,i){n===void 0?n=0:n>t.length&&_u(637,{offset:n,range:t.length}),i===void 0?i=t.length-n:i>t.length-n&&_u(1746,{length:i,range:t.length-n}),this.segments=t,this.offset=n,this.len=i}get length(){return this.len}isEqual(t){return zn.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof zn?t.forEach(i=>{n.push(i)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,i=this.limit();n<i;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const i=Math.min(t.length,n.length);for(let s=0;s<i;s++){const r=zn.compareSegments(t.get(s),n.get(s));if(r!==0)return r}return ys(t.length,n.length)}static compareSegments(t,n){const i=zn.isNumericId(t),s=zn.isNumericId(n);return i&&!s?-1:!i&&s?1:i&&s?zn.extractNumericId(t).compare(zn.extractNumericId(n)):cN(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Mp.fromString(t.substring(4,t.length-2))}}class En extends zn{construct(t,n,i){return new En(t,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const i of t){if(i.indexOf("//")>=0)throw new ue(ce.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(s=>s.length>0))}return new En(n)}static emptyPath(){return new En([])}}const hN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zs extends zn{construct(t,n,i){return new Zs(t,n,i)}static isValidIdentifier(t){return hN.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zs.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cy}static keyField(){return new Zs([Cy])}static fromServerFormat(t){const n=[];let i="",s=0;const r=()=>{if(i.length===0)throw new ue(ce.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let a=!1;for(;s<t.length;){const l=t[s];if(l==="\\"){if(s+1===t.length)throw new ue(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const u=t[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ue(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=u,s+=2}else l==="`"?(a=!a,s++):l!=="."||a?(i+=l,s++):(r(),s++)}if(r(),a)throw new ue(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Zs(n)}static emptyPath(){return new Zs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(t){this.path=t}static fromPath(t){return new qs(En.fromString(t))}static fromName(t){return new qs(En.fromString(t).popFirst(5))}static empty(){return new qs(En.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&En.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return En.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new qs(new En(t.slice()))}}function dN(e,t,n,i){if(t===!0&&i===!0)throw new ue(ce.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function pN(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(e,t){const n={typeString:e};return t&&(n.value=t),n}function vl(e,t){if(!pN(e))throw new ue(ce.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const s=t[i].typeString,r="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const a=e[i];if(s&&typeof a!==s){n=`JSON field '${i}' must be a ${s}.`;break}if(r!==void 0&&a!==r.value){n=`Expected '${i}' field to equal '${r.value}'`;break}}if(n)throw new ue(ce.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=-62135596800,Dy=1e6;class Ln{static now(){return Ln.fromMillis(Date.now())}static fromDate(t){return Ln.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),i=Math.floor((t-1e3*n)*Dy);return new Ln(n,i)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ue(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Ry)throw new ue(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ue(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dy}_compareTo(t){return this.seconds===t.seconds?ys(this.nanoseconds,t.nanoseconds):ys(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ln._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(vl(t,Ln._jsonSchema))return new Ln(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Ry;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ln._jsonSchemaVersion="firestore/timestamp/1.0",Ln._jsonSchema={type:We("string",Ln._jsonSchemaVersion),seconds:We("number"),nanoseconds:We("number")};function mN(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new gN("Invalid base64 string: "+r):r}}(t);return new lr(n)}static fromUint8Array(t){const n=function(s){let r="";for(let a=0;a<s.length;++a)r+=String.fromCharCode(s[a]);return r}(t);return new lr(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ys(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}lr.EMPTY_BYTE_STRING=new lr("");const Iy="(default)";class vu{constructor(t,n){this.projectId=t,this.database=n||Iy}static empty(){return new vu("","")}get isDefaultDatabase(){return this.database===Iy}isEqual(t){return t instanceof vu&&t.projectId===this.projectId&&t.database===this.database}}function yN(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ue(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vu(e.options.projectId,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(t,n=null,i=[],s=[],r=null,a="F",l=null,u=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=s,this.limit=r,this.limitType=a,this.startAt=l,this.endAt=u,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function vN(e){return new _N(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ky,re;(re=ky||(ky={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Mp([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=1048576;function ah(){return typeof document<"u"?document:null}class EN{constructor(t,n,i=1e3,s=1.5,r=6e4){this.Ci=t,this.timerId=n,this.R_=i,this.A_=s,this.V_=r,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-i);s>0&&An("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),t())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(t,n,i,s,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=i,this.op=s,this.removalCallback=r,this.deferred=new ko,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,i,s,r){const a=Date.now()+i,l=new Lp(t,n,a,s,r);return l.start(i),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ce.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var zy,My;(My=zy||(zy={})).Ma="default",My.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="ComponentProvider",Ly=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="firestore.googleapis.com",Uy=!0;class jy{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ue(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wN,this.ssl=Uy}else this.host=t.host,this.ssl=t.ssl??Uy;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=SN;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<bN)throw new ue(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}dN("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TN(t.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ue(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ue(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ue(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xN{constructor(t,n,i,s){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ue(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jy(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new nN;switch(i.type){case"firstParty":return new rN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ue(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=Ly.get(n);i&&(An(AN,"Removing Datastore"),Ly.delete(n),i.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(t,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Up(this.firestore,t,this._query)}}class Hn{constructor(t,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jp(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Hn(this.firestore,t,this._key)}toJSON(){return{type:Hn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,i){if(vl(n,Hn._jsonSchema))return new Hn(t,i||null,new qs(En.fromString(n.referencePath)))}}Hn._jsonSchemaVersion="firestore/documentReference/1.0",Hn._jsonSchema={type:We("string",Hn._jsonSchemaVersion),referencePath:We("string")};class jp extends Up{constructor(t,n,i){super(t,n,vN(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Hn(this.firestore,null,new qs(t))}withConverter(t){return new jp(this.firestore,t,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="AsyncQueue";class Vy{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new EN(this,"async_queue_retry"),this._c=()=>{const i=ah();i&&An(Py,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const n=ah();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=ah();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new ko;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Yu.push(t),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!mN(t))throw t;An(Py,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(i=>{throw this.nc=i,this.rc=!1,pb("INTERNAL UNHANDLED ERROR: ",Hy(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(t,n,i){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const s=Lp.createAndSchedule(this,t,n,i,r=>this.hc(r));return this.tc.push(s),s}uc(){this.nc&&_u(47125,{Pc:Hy(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Hy(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class ON extends xN{constructor(t,n,i,s){super(t,n,i,s),this.type="firestore",this._queue=new Vy,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Vy(t),this._firestoreClient=void 0,await t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ui(lr.fromBase64String(t))}catch(n){throw new ue(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ui(lr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ui._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(vl(t,ui._jsonSchema))return ui.fromBase64String(t.bytes)}}ui._jsonSchemaVersion="firestore/bytes/1.0",ui._jsonSchema={type:We("string",ui._jsonSchemaVersion),bytes:We("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ue(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zs(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ue(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ue(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return ys(this._lat,t._lat)||ys(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Js._jsonSchemaVersion}}static fromJSON(t){if(vl(t,Js._jsonSchema))return new Js(t.latitude,t.longitude)}}Js._jsonSchemaVersion="firestore/geoPoint/1.0",Js._jsonSchema={type:We("string",Js._jsonSchemaVersion),latitude:We("number"),longitude:We("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,s){if(i.length!==s.length)return!1;for(let r=0;r<i.length;++r)if(i[r]!==s[r])return!1;return!0}(this._values,t._values)}toJSON(){return{type:Qs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(vl(t,Qs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new Qs(t.vectorValues);throw new ue(ce.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qs._jsonSchemaVersion="firestore/vectorValue/1.0",Qs._jsonSchema={type:We("string",Qs._jsonSchemaVersion),vectorValues:We("object")};function _b(e,t,n){if((t=mn(t))instanceof yb)return t._internalPath;if(typeof t=="string")return CN(e,t);throw Sd("Field path arguments must be of type string or ",e)}const NN=new RegExp("[~\\*/\\[\\]]");function CN(e,t,n){if(t.search(NN)>=0)throw Sd(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e);try{return new yb(...t.split("."))._internalPath}catch{throw Sd(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e)}}function Sd(e,t,n,i,s){let r=`Function ${t}() called with invalid data`;r+=". ";let a="";return new ue(ce.INVALID_ARGUMENT,r+e+a)}const By="@firebase/firestore",Gy="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(t,n,i,s,r){this._firestore=t,this._userDataWriter=n,this._key=i,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new RN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(_b("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RN extends vb{data(){return super.data()}}class rc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ea extends vb{constructor(t,n,i,s,r,a){super(t,n,i,s,a),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const i=this._document.data.field(_b("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ce.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:We("string",ea._jsonSchemaVersion),bundleSource:We("string","DocumentSnapshot"),bundleName:We("string"),bundle:We("string")};class Ic extends ea{data(t={}){return super.data(t)}}class zo{constructor(t,n,i,s){this._firestore=t,this._userDataWriter=n,this._snapshot=s,this.metadata=new rc(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(i=>{t.call(n,new Ic(this._firestore,this._userDataWriter,i.key,i,new rc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let a=0;return s._snapshot.docChanges.map(l=>{const u=new Ic(s._firestore,s._userDataWriter,l.doc.key,l.doc,new rc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:a++}})}{let a=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const u=new Ic(s._firestore,s._userDataWriter,l.doc.key,l.doc,new rc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,d=-1;return l.type!==0&&(h=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),d=a.indexOf(l.doc.key)),{type:DN(l.type),doc:u,oldIndex:h,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(ce.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=zo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=lN.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],s=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),i.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),s.push(r.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function DN(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _u(61501,{type:e})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zo._jsonSchemaVersion="firestore/querySnapshot/1.0",zo._jsonSchema={type:We("string",zo._jsonSchemaVersion),bundleSource:We("string","QuerySnapshot"),bundleName:We("string"),bundle:We("string")};(function(t,n=!0){eN(Oa),rr(new gs("firestore",(i,{instanceIdentifier:s,options:r})=>{const a=i.getProvider("app").getImmediate(),l=new ON(new iN(i.getProvider("auth-internal")),new aN(a,i.getProvider("app-check-internal")),yN(a,s),a);return r={useFetchStreams:n,...r},l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),Gn(By,Gy,t),Gn(By,Gy,"esm2020")})();const Sb={apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""},IN=typeof window<"u"&&(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1");let ac=null,oh=null,oc=null;function bb(){if(!ac){const e=Sw();e.length>0?ac=e[0]:ac=NS(Sb)}return ac}function lh(){return oh||(oh=QO(bb())),oh}function el(){if(!oc&&(oc=Kw(bb()),IN&&typeof window<"u"&&new URLSearchParams(window.location.search).get("emulator")==="true"))try{MS(oc,"localhost",5001)}catch{}return oc}function es(){const e=Sb.apiKey;if(!e||e.length<10)return!1;const t=["YOUR_API_KEY","your-api-key","YOUR-API-KEY","PLACEHOLDER","placeholder","API_KEY","api-key","xxx"],n=e.toLowerCase();return!t.some(i=>n.includes(i.toLowerCase()))}const kN=5e3,zN=2e3,Eb=3e4,t6=3e4,Tb=30*1e3,Ab=2e3,n6=60*60*1e3,wb=["wss://relay.damus.io","wss://relay.nostr.band","wss://nos.lol","wss://relay.primal.net","wss://relay.nostr.bg","wss://nostr-pub.wellorder.net","wss://nostr.mom"],MN=["wss://relay.snort.social","wss://relay.current.fyi","wss://nostr.zebedee.cloud"],LN=["none","learning","familiar","mastered"];function Zy(e){return LN.indexOf(e)}function UN(e,t){return Zy(e)>=Zy(t)?e:t}function bd(e,t){return e?t?new Date(e)<new Date(t)?e:t:e:t}function jN(e,t){const n=new Set,i=[];for(const s of[...e,...t]){const r=`${s.timestamp}-${s.difficulty}-${s.score}`;n.has(r)||(n.add(r),i.push(s))}return i.sort((s,r)=>new Date(s.timestamp).getTime()-new Date(r.timestamp).getTime())}function PN(e,t){return e?t?{sectionId:e.sectionId,visitedAt:bd(e.visitedAt,t.visitedAt),completedAt:bd(e.completedAt,t.completedAt),timeSpentSeconds:Math.max(e.timeSpentSeconds,t.timeSpentSeconds),quizAttempts:jN(e.quizAttempts,t.quizAttempts),masteryLevel:UN(e.masteryLevel,t.masteryLevel),visualizationsInteracted:[...new Set([...e.visualizationsInteracted,...t.visualizationsInteracted])]}:e:t}function VN(e,t){const n=new Set([...Object.keys(e),...Object.keys(t)]),i={};for(const s of n){const r=PN(e[s],t[s]);r&&(i[s]=r)}return i}function HN(e,t){return{totalXP:Math.max(e.totalXP,t.totalXP),level:Math.max(e.level,t.level),sectionsCompleted:[...new Set([...e.sectionsCompleted,...t.sectionsCompleted])],partsCompleted:[...new Set([...e.partsCompleted,...t.partsCompleted])],quizzesTaken:Math.max(e.quizzesTaken,t.quizzesTaken),perfectQuizzes:Math.max(e.perfectQuizzes,t.perfectQuizzes),visualizationsUsed:Math.max(e.visualizationsUsed,t.visualizationsUsed),totalTimeSpentMinutes:Math.max(e.totalTimeSpentMinutes,t.totalTimeSpentMinutes),joinedAt:bd(e.joinedAt,t.joinedAt)||e.joinedAt}}function BN(e,t){const n=new Map;for(const i of[...t,...e]){const s=n.get(i.id);s?(i.unlockedAt&&!s.unlockedAt||!i.unlockedAt&&!s.unlockedAt&&i.progress>s.progress)&&n.set(i.id,i):n.set(i.id,i)}return Array.from(n.values())}function GN(e,t){return{...e.longestStreak>=t.longestStreak?e:t,longestStreak:Math.max(e.longestStreak,t.longestStreak),freezesRemaining:Math.max(e.freezesRemaining,t.freezesRemaining)}}function ZN(e,t){return e.date>t.date?e:t.date>e.date?t:{date:e.date,xpEarned:Math.max(e.xpEarned,t.xpEarned),xpGoal:e.xpGoal,completed:e.completed||t.completed}}function qN(e,t){return{version:Math.max(e.version,t.version),user:HN(e.user,t.user),sections:VN(e.sections,t.sections),achievements:BN(e.achievements,t.achievements),streak:GN(e.streak,t.streak),dailyGoals:ZN(e.dailyGoals,t.dailyGoals),lastUpdated:new Date().toISOString()}}const ai=Xn("ProgressSync");class $N{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.lastSyncedAt=null,this.isAuthenticated=!1,this.pendingState=null,this._status="idle",this.statusListeners=new Set,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)}}get status(){return this._status}onStatusChange(t){return this.statusListeners.add(t),()=>this.statusListeners.delete(t)}setStatus(t){this._status=t;for(const n of this.statusListeners)n(t)}setAuthenticated(t){this.isAuthenticated=t,t||(this.lastSyncedAt=null)}getLastSyncedAt(){return this.lastSyncedAt}setLastSyncedAt(t){this.lastSyncedAt=t}async fetchServerProgress(){if(!this.isAuthenticated)return{found:!1,progress:null,lastSyncedAt:null};if(!es())return ai.warn("Firebase not configured, cannot fetch progress"),{found:!1,progress:null,lastSyncedAt:null};try{const t=el(),i=await ma(t,"getProgress")({});return i.data.found&&i.data.progress&&(this.lastSyncedAt=i.data.lastSyncedAt,ai.info("Fetched progress from server")),i.data}catch(t){return ai.error("Failed to fetch progress from server:",t),{found:!1,progress:null,lastSyncedAt:null}}}async migrateLocalProgress(t){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};ai.info("Starting migration of local progress to server");const n=await this.fetchServerProgress();let i;n.found&&n.progress?(ai.info("Server has existing progress, merging with local"),i=qN(t,n.progress)):i=t;const s=await this.syncNow(i);return s.success?(ai.info("Migration complete"),{success:!0,state:s.state||i,merged:n.found}):s}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.pendingState&&this.syncNow(this.pendingState)},Tb),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(t){this.isAuthenticated&&(this.pendingState=t,this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow(t)},Ab))}async syncNow(t){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!es())return{success:!1,error:"Firebase not configured"};const n=Date.now();if(n-this.lastSyncTime<Eb)return{success:!1,error:"Rate limited"};this.setStatus("syncing");try{const i=el(),r=await ma(i,"syncProgress")({progress:t,lastSyncedAt:this.lastSyncedAt});return this.lastSyncTime=n,this.lastSyncedAt=r.data.lastSyncedAt,this.pendingState=null,r.data.merged&&r.data.serverProgress?(ai.info("Server merged states due to conflict"),Gu(r.data.serverProgress),this.setStatus("success"),{success:!0,state:r.data.serverProgress,merged:!0}):(this.setStatus("success"),{success:!0,state:t,merged:!1})}catch(i){return ai.error("Sync failed:",i),this.setStatus("error"),{success:!1,error:i instanceof Error?i.message:"Unknown error"}}}async syncWithRetry(t,n=3){for(let i=0;i<n;i++){const s=await this.syncNow(t);if(s.success||s.error==="Not authenticated"||s.error==="Firebase not configured")return s;if(i<n-1){const r=1e3*Math.pow(2,i);ai.debug(`Sync retry ${i+1}/${n} in ${r}ms`),await new Promise(a=>setTimeout(a,r)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}}let ch=null;function qy(){return ch||(ch=new $N),ch}const Mn=Xn("NostrUtils"),Ed="qpzry9x8gf2tvdw0s3jn54khce6mua7l",FN=[996825010,642813549,513874426,1027748829,705979059];function xb(e){let t=1;for(const n of e){const i=t>>25;t=(t&33554431)<<5^n;for(let s=0;s<5;s++)i>>s&1&&(t^=FN[s])}return t}function Ob(e){const t=[];for(const n of e)t.push(n.charCodeAt(0)>>5);t.push(0);for(const n of e)t.push(n.charCodeAt(0)&31);return t}function XN(e,t){return xb([...Ob(e),...t])===1}function YN(e,t){const n=[...Ob(e),...t,0,0,0,0,0,0],i=xb(n)^1,s=[];for(let r=0;r<6;r++)s.push(i>>5*(5-r)&31);return s}function Nb(e,t,n,i){let s=0,r=0;const a=[],l=(1<<n)-1;for(const u of e){if(u<0||u>>t)return null;for(s=s<<t|u,r+=t;r>=n;)r-=n,a.push(s>>r&l)}if(i)r>0&&a.push(s<<n-r&l);else if(r>=t||s<<n-r&l)return null;return a}function KN(e,t){const n=Nb(t,8,5,!0);if(!n)throw new Error("Failed to convert data to 5-bit groups");const i=YN(e,n);let s=e+"1";for(const r of n)s+=Ed[r];for(const r of i)s+=Ed[r];return s}function JN(e){const t=e.toLowerCase(),n=e.toUpperCase();if(e!==t&&e!==n)return null;const i=t,s=i.lastIndexOf("1");if(s<1||s+7>i.length||i.length>90)return null;const r=i.slice(0,s),a=i.slice(s+1),l=[];for(const d of a){const m=Ed.indexOf(d);if(m===-1)return null;l.push(m)}if(!XN(r,l))return null;const u=l.slice(0,-6),h=Nb(new Uint8Array(u),5,8,!1);return h?{hrp:r,data:new Uint8Array(h)}:null}function QN(e){if(e.length%2!==0)throw new Error("Hex string must have even length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t}function WN(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}function e4(e){if(e.length!==64)throw new Error("Pubkey must be 32 bytes (64 hex characters)");const t=QN(e);return KN("npub",t)}function Cb(e){const t=JN(e);if(!t||t.hrp!=="npub")throw new Error("Invalid npub");return WN(t.data)}async function t4(e){try{const t=Cb(e),n=n4(),i=n.map(async a=>{try{return await Promise.race([Rb(a,t),new Promise(u=>setTimeout(()=>u(null),2e3))])}catch(l){return Mn.debug(`Failed to fetch profile from relay ${a}:`,l),null}}),r=(await Promise.allSettled(i)).filter(a=>a.status==="fulfilled"&&a.value!==null).map(a=>a.value);return r.length>0?r[0]:(Mn.debug(`No profile found for npub across ${n.length} relays`),null)}catch(t){return Mn.debug("Failed to convert npub to hex:",t),null}}function n4(){return[...wb,...MN]}function i6(e,t=8){return e.length<=t*2+3?e:`${e.slice(0,t)}...${e.slice(-t)}`}function Su(){return typeof window<"u"&&typeof window.nostr<"u"}function i4(e=3e3){return new Promise(t=>{if(Su()){t(!0);return}const n=Date.now(),i=setInterval(()=>{Su()?(clearInterval(i),t(!0)):Date.now()-n>e&&(clearInterval(i),t(!1))},100)})}function Rb(e,t){return new Promise(n=>{let i=!1,s=null,r=null;const a=()=>{if(!i&&(i=!0,r&&(clearTimeout(r),r=null),s&&s.readyState!==WebSocket.CLOSED&&s.readyState!==WebSocket.CLOSING))try{s.close()}catch(u){Mn.debug(`Error closing WebSocket for ${e}:`,u)}};r=setTimeout(()=>{Mn.debug(`WebSocket timeout for relay: ${e}`),a(),n(null)},kN);try{s=new WebSocket(e)}catch(u){Mn.debug(`Failed to create WebSocket for relay ${e}:`,u),a(),n(null);return}const l=Math.random().toString(36).substring(2,15);s.onopen=()=>{if(!(i||!s))try{const u=JSON.stringify(["REQ",l,{kinds:[0],authors:[t],limit:1}]);s.send(u)}catch(u){Mn.debug(`Failed to send subscription to ${e}:`,u),a(),n(null)}},s.onmessage=u=>{if(!i)try{const h=JSON.parse(u.data);if(h[0]==="EVENT"&&h[1]===l){const d=JSON.parse(h[2].content);a(),n({name:d.name||d.display_name,display_name:d.display_name,nip05:d.nip05,picture:d.picture,about:d.about})}else h[0]==="EOSE"&&(a(),n(null))}catch(h){Mn.debug(`Failed to parse WebSocket message from ${e}:`,h)}},s.onerror=u=>{Mn.debug(`WebSocket error for relay ${e}:`,u),a(),n(null)},s.onclose=u=>{i||(Mn.debug(`WebSocket closed for ${e}, code: ${u.code}, reason: ${u.reason}`),a(),n(null))}})}async function s6(e){const t=new Map,n=10;for(let i=0;i<e.length;i+=n){const r=e.slice(i,i+n).map(async a=>{const l=await t4(a);l&&t.set(a,l)});await Promise.all(r)}return t}const s4=22242;function L(e,t,n){function i(l,u){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:u,constr:a,traits:new Set},enumerable:!1}),l._zod.traits.has(e))return;l._zod.traits.add(e),t(l,u);const h=a.prototype,d=Object.keys(h);for(let m=0;m<d.length;m++){const g=d[m];g in l||(l[g]=h[g].bind(l))}}const s=(n==null?void 0:n.Parent)??Object;class r extends s{}Object.defineProperty(r,"name",{value:e});function a(l){var u;const h=n!=null&&n.Parent?new r:this;i(h,l),(u=h._zod).deferred??(u.deferred=[]);for(const d of h._zod.deferred)d();return h}return Object.defineProperty(a,"init",{value:i}),Object.defineProperty(a,Symbol.hasInstance,{value:l=>{var u,h;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(h=(u=l==null?void 0:l._zod)==null?void 0:u.traits)==null?void 0:h.has(e)}}),Object.defineProperty(a,"name",{value:e}),a}class ta extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Db extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const Ib={};function _s(e){return Ib}function kb(e){const t=Object.values(e).filter(i=>typeof i=="number");return Object.entries(e).filter(([i,s])=>t.indexOf(+i)===-1).map(([i,s])=>s)}function Td(e,t){return typeof t=="bigint"?t.toString():t}function Pp(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function Vp(e){return e==null}function Hp(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function r4(e,t){const n=(e.toString().split(".")[1]||"").length,i=t.toString();let s=(i.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(i)){const u=i.match(/\d?e-(\d?)/);u!=null&&u[1]&&(s=Number.parseInt(u[1]))}const r=n>s?n:s,a=Number.parseInt(e.toFixed(r).replace(".","")),l=Number.parseInt(t.toFixed(r).replace(".",""));return a%l/10**r}const $y=Symbol("evaluating");function _e(e,t,n){let i;Object.defineProperty(e,t,{get(){if(i!==$y)return i===void 0&&(i=$y,i=n()),i},set(s){Object.defineProperty(e,t,{value:s})},configurable:!0})}function pr(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Es(...e){const t={};for(const n of e){const i=Object.getOwnPropertyDescriptors(n);Object.assign(t,i)}return Object.defineProperties({},t)}function Fy(e){return JSON.stringify(e)}function a4(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const zb="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function bu(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const o4=Pp(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function ga(e){if(bu(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(bu(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Mb(e){return ga(e)?{...e}:Array.isArray(e)?[...e]:e}const l4=new Set(["string","number","symbol"]);function Ku(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ts(e,t,n){const i=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(i._zod.parent=e),i}function F(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function c4(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const u4={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function f4(e,t){const n=e._zod.def,i=n.checks;if(i&&i.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const r=Es(e._zod.def,{get shape(){const a={};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(a[l]=n.shape[l])}return pr(this,"shape",a),a},checks:[]});return Ts(e,r)}function h4(e,t){const n=e._zod.def,i=n.checks;if(i&&i.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const r=Es(e._zod.def,{get shape(){const a={...e._zod.def.shape};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&delete a[l]}return pr(this,"shape",a),a},checks:[]});return Ts(e,r)}function d4(e,t){if(!ga(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const r=e._zod.def.shape;for(const a in t)if(Object.getOwnPropertyDescriptor(r,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const s=Es(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return pr(this,"shape",r),r}});return Ts(e,s)}function p4(e,t){if(!ga(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=Es(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t};return pr(this,"shape",i),i}});return Ts(e,n)}function m4(e,t){const n=Es(e._zod.def,{get shape(){const i={...e._zod.def.shape,...t._zod.def.shape};return pr(this,"shape",i),i},get catchall(){return t._zod.def.catchall},checks:[]});return Ts(e,n)}function g4(e,t,n){const s=t._zod.def.checks;if(s&&s.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=Es(t._zod.def,{get shape(){const l=t._zod.def.shape,u={...l};if(n)for(const h in n){if(!(h in l))throw new Error(`Unrecognized key: "${h}"`);n[h]&&(u[h]=e?new e({type:"optional",innerType:l[h]}):l[h])}else for(const h in l)u[h]=e?new e({type:"optional",innerType:l[h]}):l[h];return pr(this,"shape",u),u},checks:[]});return Ts(t,a)}function y4(e,t,n){const i=Es(t._zod.def,{get shape(){const s=t._zod.def.shape,r={...s};if(n)for(const a in n){if(!(a in r))throw new Error(`Unrecognized key: "${a}"`);n[a]&&(r[a]=new e({type:"nonoptional",innerType:s[a]}))}else for(const a in s)r[a]=new e({type:"nonoptional",innerType:s[a]});return pr(this,"shape",r),r}});return Ts(t,i)}function Br(e,t=0){var n;if(e.aborted===!0)return!0;for(let i=t;i<e.issues.length;i++)if(((n=e.issues[i])==null?void 0:n.continue)!==!0)return!0;return!1}function Gr(e,t){return t.map(n=>{var i;return(i=n).path??(i.path=[]),n.path.unshift(e),n})}function lc(e){return typeof e=="string"?e:e==null?void 0:e.message}function vs(e,t,n){var s,r,a,l,u,h;const i={...e,path:e.path??[]};if(!e.message){const d=lc((a=(r=(s=e.inst)==null?void 0:s._zod.def)==null?void 0:r.error)==null?void 0:a.call(r,e))??lc((l=t==null?void 0:t.error)==null?void 0:l.call(t,e))??lc((u=n.customError)==null?void 0:u.call(n,e))??lc((h=n.localeError)==null?void 0:h.call(n,e))??"Invalid input";i.message=d}return delete i.inst,delete i.continue,t!=null&&t.reportInput||delete i.input,i}function Bp(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function tl(...e){const[t,n,i]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:i}:{...t}}const Lb=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Td,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Ub=L("$ZodError",Lb),jb=L("$ZodError",Lb,{Parent:Error});function _4(e,t=n=>n.message){const n={},i=[];for(const s of e.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(t(s))):i.push(t(s));return{formErrors:i,fieldErrors:n}}function v4(e,t=n=>n.message){const n={_errors:[]},i=s=>{for(const r of s.issues)if(r.code==="invalid_union"&&r.errors.length)r.errors.map(a=>i({issues:a}));else if(r.code==="invalid_key")i({issues:r.issues});else if(r.code==="invalid_element")i({issues:r.issues});else if(r.path.length===0)n._errors.push(t(r));else{let a=n,l=0;for(;l<r.path.length;){const u=r.path[l];l===r.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(t(r))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(e),n}const Gp=e=>(t,n,i,s)=>{const r=i?Object.assign(i,{async:!1}):{async:!1},a=t._zod.run({value:n,issues:[]},r);if(a instanceof Promise)throw new ta;if(a.issues.length){const l=new((s==null?void 0:s.Err)??e)(a.issues.map(u=>vs(u,r,_s())));throw zb(l,s==null?void 0:s.callee),l}return a.value},Zp=e=>async(t,n,i,s)=>{const r=i?Object.assign(i,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},r);if(a instanceof Promise&&(a=await a),a.issues.length){const l=new((s==null?void 0:s.Err)??e)(a.issues.map(u=>vs(u,r,_s())));throw zb(l,s==null?void 0:s.callee),l}return a.value},Ju=e=>(t,n,i)=>{const s=i?{...i,async:!1}:{async:!1},r=t._zod.run({value:n,issues:[]},s);if(r instanceof Promise)throw new ta;return r.issues.length?{success:!1,error:new(e??Ub)(r.issues.map(a=>vs(a,s,_s())))}:{success:!0,data:r.value}},S4=Ju(jb),Qu=e=>async(t,n,i)=>{const s=i?Object.assign(i,{async:!0}):{async:!0};let r=t._zod.run({value:n,issues:[]},s);return r instanceof Promise&&(r=await r),r.issues.length?{success:!1,error:new e(r.issues.map(a=>vs(a,s,_s())))}:{success:!0,data:r.value}},b4=Qu(jb),E4=e=>(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Gp(e)(t,n,s)},T4=e=>(t,n,i)=>Gp(e)(t,n,i),A4=e=>async(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Zp(e)(t,n,s)},w4=e=>async(t,n,i)=>Zp(e)(t,n,i),x4=e=>(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Ju(e)(t,n,s)},O4=e=>(t,n,i)=>Ju(e)(t,n,i),N4=e=>async(t,n,i)=>{const s=i?Object.assign(i,{direction:"backward"}):{direction:"backward"};return Qu(e)(t,n,s)},C4=e=>async(t,n,i)=>Qu(e)(t,n,i),R4=/^[cC][^\s-]{8,}$/,D4=/^[0-9a-z]+$/,I4=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,k4=/^[0-9a-vA-V]{20}$/,z4=/^[A-Za-z0-9]{27}$/,M4=/^[a-zA-Z0-9_-]{21}$/,L4=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,U4=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Xy=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,j4=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,P4="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function V4(){return new RegExp(P4,"u")}const H4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,B4=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,G4=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Z4=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,q4=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Pb=/^[A-Za-z0-9_-]*$/,$4=/^\+[1-9]\d{6,14}$/,Vb="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",F4=new RegExp(`^${Vb}$`);function Hb(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function X4(e){return new RegExp(`^${Hb(e)}$`)}function Y4(e){const t=Hb({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const i=`${t}(?:${n.join("|")})`;return new RegExp(`^${Vb}T(?:${i})$`)}const K4=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},J4=/^-?\d+$/,Bb=/^-?\d+(?:\.\d+)?$/,Q4=/^(?:true|false)$/i,W4=/^[^A-Z]*$/,eC=/^[^a-z]*$/,Lt=L("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),Gb={number:"number",bigint:"bigint",object:"date"},Zb=L("$ZodCheckLessThan",(e,t)=>{Lt.init(e,t);const n=Gb[typeof t.value];e._zod.onattach.push(i=>{const s=i._zod.bag,r=(t.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<r&&(t.inclusive?s.maximum=t.value:s.exclusiveMaximum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value<=t.value:i.value<t.value)||i.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),qb=L("$ZodCheckGreaterThan",(e,t)=>{Lt.init(e,t);const n=Gb[typeof t.value];e._zod.onattach.push(i=>{const s=i._zod.bag,r=(t.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>r&&(t.inclusive?s.minimum=t.value:s.exclusiveMinimum=t.value)}),e._zod.check=i=>{(t.inclusive?i.value>=t.value:i.value>t.value)||i.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:i.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),tC=L("$ZodCheckMultipleOf",(e,t)=>{Lt.init(e,t),e._zod.onattach.push(n=>{var i;(i=n._zod.bag).multipleOf??(i.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):r4(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),nC=L("$ZodCheckNumberFormat",(e,t)=>{var a;Lt.init(e,t),t.format=t.format||"float64";const n=(a=t.format)==null?void 0:a.includes("int"),i=n?"int":"number",[s,r]=u4[t.format];e._zod.onattach.push(l=>{const u=l._zod.bag;u.format=t.format,u.minimum=s,u.maximum=r,n&&(u.pattern=J4)}),e._zod.check=l=>{const u=l.value;if(n){if(!Number.isInteger(u)){l.issues.push({expected:i,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,inclusive:!0,continue:!t.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:i,inclusive:!0,continue:!t.abort});return}}u<s&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:s,inclusive:!0,inst:e,continue:!t.abort}),u>r&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:r,inclusive:!0,inst:e,continue:!t.abort})}}),iC=L("$ZodCheckMaxLength",(e,t)=>{var n;Lt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const s=i.value;return!Vp(s)&&s.length!==void 0}),e._zod.onattach.push(i=>{const s=i._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<s&&(i._zod.bag.maximum=t.maximum)}),e._zod.check=i=>{const s=i.value;if(s.length<=t.maximum)return;const a=Bp(s);i.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),sC=L("$ZodCheckMinLength",(e,t)=>{var n;Lt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const s=i.value;return!Vp(s)&&s.length!==void 0}),e._zod.onattach.push(i=>{const s=i._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>s&&(i._zod.bag.minimum=t.minimum)}),e._zod.check=i=>{const s=i.value;if(s.length>=t.minimum)return;const a=Bp(s);i.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),rC=L("$ZodCheckLengthEquals",(e,t)=>{var n;Lt.init(e,t),(n=e._zod.def).when??(n.when=i=>{const s=i.value;return!Vp(s)&&s.length!==void 0}),e._zod.onattach.push(i=>{const s=i._zod.bag;s.minimum=t.length,s.maximum=t.length,s.length=t.length}),e._zod.check=i=>{const s=i.value,r=s.length;if(r===t.length)return;const a=Bp(s),l=r>t.length;i.issues.push({origin:a,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:i.value,inst:e,continue:!t.abort})}}),Wu=L("$ZodCheckStringFormat",(e,t)=>{var n,i;Lt.init(e,t),e._zod.onattach.push(s=>{const r=s._zod.bag;r.format=t.format,t.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=s=>{t.pattern.lastIndex=0,!t.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:t.format,input:s.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(i=e._zod).check??(i.check=()=>{})}),aC=L("$ZodCheckRegex",(e,t)=>{Wu.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),oC=L("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=W4),Wu.init(e,t)}),lC=L("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=eC),Wu.init(e,t)}),cC=L("$ZodCheckIncludes",(e,t)=>{Lt.init(e,t);const n=Ku(t.includes),i=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=i,e._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(i)}),e._zod.check=s=>{s.value.includes(t.includes,t.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:s.value,inst:e,continue:!t.abort})}}),uC=L("$ZodCheckStartsWith",(e,t)=>{Lt.init(e,t);const n=new RegExp(`^${Ku(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=i=>{i.value.startsWith(t.prefix)||i.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:i.value,inst:e,continue:!t.abort})}}),fC=L("$ZodCheckEndsWith",(e,t)=>{Lt.init(e,t);const n=new RegExp(`.*${Ku(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(n)}),e._zod.check=i=>{i.value.endsWith(t.suffix)||i.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:i.value,inst:e,continue:!t.abort})}}),hC=L("$ZodCheckOverwrite",(e,t)=>{Lt.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class dC{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const i=t.split(`
`).filter(a=>a),s=Math.min(...i.map(a=>a.length-a.trimStart().length)),r=i.map(a=>a.slice(s)).map(a=>" ".repeat(this.indent*2)+a);for(const a of r)this.content.push(a)}compile(){const t=Function,n=this==null?void 0:this.args,s=[...((this==null?void 0:this.content)??[""]).map(r=>`  ${r}`)];return new t(...n,s.join(`
`))}}const pC={major:4,minor:3,patch:5},Pe=L("$ZodType",(e,t)=>{var s;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=pC;const i=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&i.unshift(e);for(const r of i)for(const a of r._zod.onattach)a(e);if(i.length===0)(n=e._zod).deferred??(n.deferred=[]),(s=e._zod.deferred)==null||s.push(()=>{e._zod.run=e._zod.parse});else{const r=(l,u,h)=>{let d=Br(l),m;for(const g of u){if(g._zod.def.when){if(!g._zod.def.when(l))continue}else if(d)continue;const T=l.issues.length,I=g._zod.check(l);if(I instanceof Promise&&(h==null?void 0:h.async)===!1)throw new ta;if(m||I instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await I,l.issues.length!==T&&(d||(d=Br(l,T)))});else{if(l.issues.length===T)continue;d||(d=Br(l,T))}}return m?m.then(()=>l):l},a=(l,u,h)=>{if(Br(l))return l.aborted=!0,l;const d=r(u,i,h);if(d instanceof Promise){if(h.async===!1)throw new ta;return d.then(m=>e._zod.parse(m,h))}return e._zod.parse(d,h)};e._zod.run=(l,u)=>{if(u.skipChecks)return e._zod.parse(l,u);if(u.direction==="backward"){const d=e._zod.parse({value:l.value,issues:[]},{...u,skipChecks:!0});return d instanceof Promise?d.then(m=>a(m,l,u)):a(d,l,u)}const h=e._zod.parse(l,u);if(h instanceof Promise){if(u.async===!1)throw new ta;return h.then(d=>r(d,i,u))}return r(h,i,u)}}_e(e,"~standard",()=>({validate:r=>{var a;try{const l=S4(e,r);return l.success?{value:l.data}:{issues:(a=l.error)==null?void 0:a.issues}}catch{return b4(e,r).then(u=>{var h;return u.success?{value:u.data}:{issues:(h=u.error)==null?void 0:h.issues}})}},vendor:"zod",version:1}))}),qp=L("$ZodString",(e,t)=>{var n;Pe.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??K4(e._zod.bag),e._zod.parse=(i,s)=>{if(t.coerce)try{i.value=String(i.value)}catch{}return typeof i.value=="string"||i.issues.push({expected:"string",code:"invalid_type",input:i.value,inst:e}),i}}),ze=L("$ZodStringFormat",(e,t)=>{Wu.init(e,t),qp.init(e,t)}),mC=L("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=U4),ze.init(e,t)}),gC=L("$ZodUUID",(e,t)=>{if(t.version){const i={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(i===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Xy(i))}else t.pattern??(t.pattern=Xy());ze.init(e,t)}),yC=L("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=j4),ze.init(e,t)}),_C=L("$ZodURL",(e,t)=>{ze.init(e,t),e._zod.check=n=>{try{const i=n.value.trim(),s=new URL(i);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(s.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=s.href:n.value=i;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),vC=L("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=V4()),ze.init(e,t)}),SC=L("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=M4),ze.init(e,t)}),bC=L("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=R4),ze.init(e,t)}),EC=L("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=D4),ze.init(e,t)}),TC=L("$ZodULID",(e,t)=>{t.pattern??(t.pattern=I4),ze.init(e,t)}),AC=L("$ZodXID",(e,t)=>{t.pattern??(t.pattern=k4),ze.init(e,t)}),wC=L("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=z4),ze.init(e,t)}),xC=L("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Y4(t)),ze.init(e,t)}),OC=L("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=F4),ze.init(e,t)}),NC=L("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=X4(t)),ze.init(e,t)}),CC=L("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=L4),ze.init(e,t)}),RC=L("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=H4),ze.init(e,t),e._zod.bag.format="ipv4"}),DC=L("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=B4),ze.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),IC=L("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=G4),ze.init(e,t)}),kC=L("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Z4),ze.init(e,t),e._zod.check=n=>{const i=n.value.split("/");try{if(i.length!==2)throw new Error;const[s,r]=i;if(!r)throw new Error;const a=Number(r);if(`${a}`!==r)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${s}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function $b(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const zC=L("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=q4),ze.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{$b(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function MC(e){if(!Pb.test(e))return!1;const t=e.replace(/[-_]/g,i=>i==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return $b(n)}const LC=L("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=Pb),ze.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{MC(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),UC=L("$ZodE164",(e,t)=>{t.pattern??(t.pattern=$4),ze.init(e,t)});function jC(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[i]=n;if(!i)return!1;const s=JSON.parse(atob(i));return!("typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&(!("alg"in s)||s.alg!==t))}catch{return!1}}const PC=L("$ZodJWT",(e,t)=>{ze.init(e,t),e._zod.check=n=>{jC(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),Fb=L("$ZodNumber",(e,t)=>{Pe.init(e,t),e._zod.pattern=e._zod.bag.pattern??Bb,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const s=n.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return n;const r=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:s,inst:e,...r?{received:r}:{}}),n}}),VC=L("$ZodNumberFormat",(e,t)=>{nC.init(e,t),Fb.init(e,t)}),HC=L("$ZodBoolean",(e,t)=>{Pe.init(e,t),e._zod.pattern=Q4,e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=!!n.value}catch{}const s=n.value;return typeof s=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:e}),n}}),BC=L("$ZodUnknown",(e,t)=>{Pe.init(e,t),e._zod.parse=n=>n}),GC=L("$ZodNever",(e,t)=>{Pe.init(e,t),e._zod.parse=(n,i)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function Yy(e,t,n){e.issues.length&&t.issues.push(...Gr(n,e.issues)),t.value[n]=e.value}const ZC=L("$ZodArray",(e,t)=>{Pe.init(e,t),e._zod.parse=(n,i)=>{const s=n.value;if(!Array.isArray(s))return n.issues.push({expected:"array",code:"invalid_type",input:s,inst:e}),n;n.value=Array(s.length);const r=[];for(let a=0;a<s.length;a++){const l=s[a],u=t.element._zod.run({value:l,issues:[]},i);u instanceof Promise?r.push(u.then(h=>Yy(h,n,a))):Yy(u,n,a)}return r.length?Promise.all(r).then(()=>n):n}});function Eu(e,t,n,i,s){if(e.issues.length){if(s&&!(n in i))return;t.issues.push(...Gr(n,e.issues))}e.value===void 0?n in i&&(t.value[n]=void 0):t.value[n]=e.value}function Xb(e){var i,s,r,a;const t=Object.keys(e.shape);for(const l of t)if(!((a=(r=(s=(i=e.shape)==null?void 0:i[l])==null?void 0:s._zod)==null?void 0:r.traits)!=null&&a.has("$ZodType")))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const n=c4(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function Yb(e,t,n,i,s,r){const a=[],l=s.keySet,u=s.catchall._zod,h=u.def.type,d=u.optout==="optional";for(const m in t){if(l.has(m))continue;if(h==="never"){a.push(m);continue}const g=u.run({value:t[m],issues:[]},i);g instanceof Promise?e.push(g.then(T=>Eu(T,n,m,t,d))):Eu(g,n,m,t,d)}return a.length&&n.issues.push({code:"unrecognized_keys",keys:a,input:t,inst:r}),e.length?Promise.all(e).then(()=>n):n}const qC=L("$ZodObject",(e,t)=>{Pe.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const l=t.shape;Object.defineProperty(t,"shape",{get:()=>{const u={...l};return Object.defineProperty(t,"shape",{value:u}),u}})}const i=Pp(()=>Xb(t));_e(e._zod,"propValues",()=>{const l=t.shape,u={};for(const h in l){const d=l[h]._zod;if(d.values){u[h]??(u[h]=new Set);for(const m of d.values)u[h].add(m)}}return u});const s=bu,r=t.catchall;let a;e._zod.parse=(l,u)=>{a??(a=i.value);const h=l.value;if(!s(h))return l.issues.push({expected:"object",code:"invalid_type",input:h,inst:e}),l;l.value={};const d=[],m=a.shape;for(const g of a.keys){const T=m[g],I=T._zod.optout==="optional",z=T._zod.run({value:h[g],issues:[]},u);z instanceof Promise?d.push(z.then(P=>Eu(P,l,g,h,I))):Eu(z,l,g,h,I)}return r?Yb(d,h,l,u,i.value,e):d.length?Promise.all(d).then(()=>l):l}}),$C=L("$ZodObjectJIT",(e,t)=>{qC.init(e,t);const n=e._zod.parse,i=Pp(()=>Xb(t)),s=g=>{var N;const T=new dC(["shape","payload","ctx"]),I=i.value,z=R=>{const V=Fy(R);return`shape[${V}]._zod.run({ value: input[${V}], issues: [] }, ctx)`};T.write("const input = payload.value;");const P=Object.create(null);let x=0;for(const R of I.keys)P[R]=`key_${x++}`;T.write("const newResult = {};");for(const R of I.keys){const V=P[R],Z=Fy(R),b=g[R],_=((N=b==null?void 0:b._zod)==null?void 0:N.optout)==="optional";T.write(`const ${V} = ${z(R)};`),_?T.write(`
        if (${V}.issues.length) {
          if (${Z} in input) {
            payload.issues = payload.issues.concat(${V}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${Z}, ...iss.path] : [${Z}]
            })));
          }
        }
        
        if (${V}.value === undefined) {
          if (${Z} in input) {
            newResult[${Z}] = undefined;
          }
        } else {
          newResult[${Z}] = ${V}.value;
        }
        
      `):T.write(`
        if (${V}.issues.length) {
          payload.issues = payload.issues.concat(${V}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${Z}, ...iss.path] : [${Z}]
          })));
        }
        
        if (${V}.value === undefined) {
          if (${Z} in input) {
            newResult[${Z}] = undefined;
          }
        } else {
          newResult[${Z}] = ${V}.value;
        }
        
      `)}T.write("payload.value = newResult;"),T.write("return payload;");const w=T.compile();return(R,V)=>w(g,R,V)};let r;const a=bu,l=!Ib.jitless,h=l&&o4.value,d=t.catchall;let m;e._zod.parse=(g,T)=>{m??(m=i.value);const I=g.value;return a(I)?l&&h&&(T==null?void 0:T.async)===!1&&T.jitless!==!0?(r||(r=s(t.shape)),g=r(g,T),d?Yb([],I,g,T,m,e):g):n(g,T):(g.issues.push({expected:"object",code:"invalid_type",input:I,inst:e}),g)}});function Ky(e,t,n,i){for(const r of e)if(r.issues.length===0)return t.value=r.value,t;const s=e.filter(r=>!Br(r));return s.length===1?(t.value=s[0].value,s[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(r=>r.issues.map(a=>vs(a,i,_s())))}),t)}const FC=L("$ZodUnion",(e,t)=>{Pe.init(e,t),_e(e._zod,"optin",()=>t.options.some(s=>s._zod.optin==="optional")?"optional":void 0),_e(e._zod,"optout",()=>t.options.some(s=>s._zod.optout==="optional")?"optional":void 0),_e(e._zod,"values",()=>{if(t.options.every(s=>s._zod.values))return new Set(t.options.flatMap(s=>Array.from(s._zod.values)))}),_e(e._zod,"pattern",()=>{if(t.options.every(s=>s._zod.pattern)){const s=t.options.map(r=>r._zod.pattern);return new RegExp(`^(${s.map(r=>Hp(r.source)).join("|")})$`)}});const n=t.options.length===1,i=t.options[0]._zod.run;e._zod.parse=(s,r)=>{if(n)return i(s,r);let a=!1;const l=[];for(const u of t.options){const h=u._zod.run({value:s.value,issues:[]},r);if(h instanceof Promise)l.push(h),a=!0;else{if(h.issues.length===0)return h;l.push(h)}}return a?Promise.all(l).then(u=>Ky(u,s,e,r)):Ky(l,s,e,r)}}),XC=L("$ZodIntersection",(e,t)=>{Pe.init(e,t),e._zod.parse=(n,i)=>{const s=n.value,r=t.left._zod.run({value:s,issues:[]},i),a=t.right._zod.run({value:s,issues:[]},i);return r instanceof Promise||a instanceof Promise?Promise.all([r,a]).then(([u,h])=>Jy(n,u,h)):Jy(n,r,a)}});function Ad(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(ga(e)&&ga(t)){const n=Object.keys(t),i=Object.keys(e).filter(r=>n.indexOf(r)!==-1),s={...e,...t};for(const r of i){const a=Ad(e[r],t[r]);if(!a.valid)return{valid:!1,mergeErrorPath:[r,...a.mergeErrorPath]};s[r]=a.data}return{valid:!0,data:s}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let i=0;i<e.length;i++){const s=e[i],r=t[i],a=Ad(s,r);if(!a.valid)return{valid:!1,mergeErrorPath:[i,...a.mergeErrorPath]};n.push(a.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function Jy(e,t,n){const i=new Map;let s;for(const l of t.issues)if(l.code==="unrecognized_keys"){s??(s=l);for(const u of l.keys)i.has(u)||i.set(u,{}),i.get(u).l=!0}else e.issues.push(l);for(const l of n.issues)if(l.code==="unrecognized_keys")for(const u of l.keys)i.has(u)||i.set(u,{}),i.get(u).r=!0;else e.issues.push(l);const r=[...i].filter(([,l])=>l.l&&l.r).map(([l])=>l);if(r.length&&s&&e.issues.push({...s,keys:r}),Br(e))return e;const a=Ad(t.value,n.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return e.value=a.data,e}const YC=L("$ZodRecord",(e,t)=>{Pe.init(e,t),e._zod.parse=(n,i)=>{const s=n.value;if(!ga(s))return n.issues.push({expected:"record",code:"invalid_type",input:s,inst:e}),n;const r=[],a=t.keyType._zod.values;if(a){n.value={};const l=new Set;for(const h of a)if(typeof h=="string"||typeof h=="number"||typeof h=="symbol"){l.add(typeof h=="number"?h.toString():h);const d=t.valueType._zod.run({value:s[h],issues:[]},i);d instanceof Promise?r.push(d.then(m=>{m.issues.length&&n.issues.push(...Gr(h,m.issues)),n.value[h]=m.value})):(d.issues.length&&n.issues.push(...Gr(h,d.issues)),n.value[h]=d.value)}let u;for(const h in s)l.has(h)||(u=u??[],u.push(h));u&&u.length>0&&n.issues.push({code:"unrecognized_keys",input:s,inst:e,keys:u})}else{n.value={};for(const l of Reflect.ownKeys(s)){if(l==="__proto__")continue;let u=t.keyType._zod.run({value:l,issues:[]},i);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof l=="string"&&Bb.test(l)&&u.issues.length&&u.issues.some(m=>m.code==="invalid_type"&&m.expected==="number")){const m=t.keyType._zod.run({value:Number(l),issues:[]},i);if(m instanceof Promise)throw new Error("Async schemas not supported in object keys currently");m.issues.length===0&&(u=m)}if(u.issues.length){t.mode==="loose"?n.value[l]=s[l]:n.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(m=>vs(m,i,_s())),input:l,path:[l],inst:e});continue}const d=t.valueType._zod.run({value:s[l],issues:[]},i);d instanceof Promise?r.push(d.then(m=>{m.issues.length&&n.issues.push(...Gr(l,m.issues)),n.value[u.value]=m.value})):(d.issues.length&&n.issues.push(...Gr(l,d.issues)),n.value[u.value]=d.value)}}return r.length?Promise.all(r).then(()=>n):n}}),KC=L("$ZodEnum",(e,t)=>{Pe.init(e,t);const n=kb(t.entries),i=new Set(n);e._zod.values=i,e._zod.pattern=new RegExp(`^(${n.filter(s=>l4.has(typeof s)).map(s=>typeof s=="string"?Ku(s):s.toString()).join("|")})$`),e._zod.parse=(s,r)=>{const a=s.value;return i.has(a)||s.issues.push({code:"invalid_value",values:n,input:a,inst:e}),s}}),JC=L("$ZodTransform",(e,t)=>{Pe.init(e,t),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new Db(e.constructor.name);const s=t.transform(n.value,n);if(i.async)return(s instanceof Promise?s:Promise.resolve(s)).then(a=>(n.value=a,n));if(s instanceof Promise)throw new ta;return n.value=s,n}});function Qy(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Kb=L("$ZodOptional",(e,t)=>{Pe.init(e,t),e._zod.optin="optional",e._zod.optout="optional",_e(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),_e(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Hp(n.source)})?$`):void 0}),e._zod.parse=(n,i)=>{if(t.innerType._zod.optin==="optional"){const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(r=>Qy(r,n.value)):Qy(s,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,i)}}),QC=L("$ZodExactOptional",(e,t)=>{Kb.init(e,t),_e(e._zod,"values",()=>t.innerType._zod.values),_e(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,i)=>t.innerType._zod.run(n,i)}),WC=L("$ZodNullable",(e,t)=>{Pe.init(e,t),_e(e._zod,"optin",()=>t.innerType._zod.optin),_e(e._zod,"optout",()=>t.innerType._zod.optout),_e(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${Hp(n.source)}|null)$`):void 0}),_e(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,i)=>n.value===null?n:t.innerType._zod.run(n,i)}),eR=L("$ZodDefault",(e,t)=>{Pe.init(e,t),e._zod.optin="optional",_e(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);if(n.value===void 0)return n.value=t.defaultValue,n;const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(r=>Wy(r,t)):Wy(s,t)}});function Wy(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const tR=L("$ZodPrefault",(e,t)=>{Pe.init(e,t),e._zod.optin="optional",_e(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>(i.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,i))}),nR=L("$ZodNonOptional",(e,t)=>{Pe.init(e,t),_e(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(i=>i!==void 0)):void 0}),e._zod.parse=(n,i)=>{const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(r=>e_(r,e)):e_(s,e)}});function e_(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const iR=L("$ZodCatch",(e,t)=>{Pe.init(e,t),_e(e._zod,"optin",()=>t.innerType._zod.optin),_e(e._zod,"optout",()=>t.innerType._zod.optout),_e(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(r=>(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(a=>vs(a,i,_s()))},input:n.value}),n.issues=[]),n)):(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(r=>vs(r,i,_s()))},input:n.value}),n.issues=[]),n)}}),sR=L("$ZodPipe",(e,t)=>{Pe.init(e,t),_e(e._zod,"values",()=>t.in._zod.values),_e(e._zod,"optin",()=>t.in._zod.optin),_e(e._zod,"optout",()=>t.out._zod.optout),_e(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,i)=>{if(i.direction==="backward"){const r=t.out._zod.run(n,i);return r instanceof Promise?r.then(a=>cc(a,t.in,i)):cc(r,t.in,i)}const s=t.in._zod.run(n,i);return s instanceof Promise?s.then(r=>cc(r,t.out,i)):cc(s,t.out,i)}});function cc(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const rR=L("$ZodReadonly",(e,t)=>{Pe.init(e,t),_e(e._zod,"propValues",()=>t.innerType._zod.propValues),_e(e._zod,"values",()=>t.innerType._zod.values),_e(e._zod,"optin",()=>{var n,i;return(i=(n=t.innerType)==null?void 0:n._zod)==null?void 0:i.optin}),_e(e._zod,"optout",()=>{var n,i;return(i=(n=t.innerType)==null?void 0:n._zod)==null?void 0:i.optout}),e._zod.parse=(n,i)=>{if(i.direction==="backward")return t.innerType._zod.run(n,i);const s=t.innerType._zod.run(n,i);return s instanceof Promise?s.then(t_):t_(s)}});function t_(e){return e.value=Object.freeze(e.value),e}const aR=L("$ZodCustom",(e,t)=>{Lt.init(e,t),Pe.init(e,t),e._zod.parse=(n,i)=>n,e._zod.check=n=>{const i=n.value,s=t.fn(i);if(s instanceof Promise)return s.then(r=>n_(r,n,i,e));n_(s,n,i,e)}});function n_(e,t,n,i){if(!e){const s={code:"custom",input:n,inst:i,path:[...i._zod.def.path??[]],continue:!i._zod.def.abort};i._zod.def.params&&(s.params=i._zod.def.params),t.issues.push(tl(s))}}var i_;class oR{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const i=n[0];return this._map.set(t,i),i&&typeof i=="object"&&"id"in i&&this._idmap.set(i.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const i={...this.get(n)??{}};delete i.id;const s={...i,...this._map.get(t)};return Object.keys(s).length?s:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function lR(){return new oR}(i_=globalThis).__zod_globalRegistry??(i_.__zod_globalRegistry=lR());const mo=globalThis.__zod_globalRegistry;function cR(e,t){return new e({type:"string",...F(t)})}function uR(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...F(t)})}function s_(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...F(t)})}function fR(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...F(t)})}function hR(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...F(t)})}function dR(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...F(t)})}function pR(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...F(t)})}function mR(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...F(t)})}function gR(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...F(t)})}function yR(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...F(t)})}function _R(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...F(t)})}function vR(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...F(t)})}function SR(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...F(t)})}function bR(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...F(t)})}function ER(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...F(t)})}function TR(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...F(t)})}function AR(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...F(t)})}function wR(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...F(t)})}function xR(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...F(t)})}function OR(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...F(t)})}function NR(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...F(t)})}function CR(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...F(t)})}function RR(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...F(t)})}function DR(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...F(t)})}function IR(e,t){return new e({type:"string",format:"date",check:"string_format",...F(t)})}function kR(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...F(t)})}function zR(e,t){return new e({type:"string",format:"duration",check:"string_format",...F(t)})}function MR(e,t){return new e({type:"number",checks:[],...F(t)})}function LR(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...F(t)})}function UR(e,t){return new e({type:"boolean",...F(t)})}function jR(e){return new e({type:"unknown"})}function PR(e,t){return new e({type:"never",...F(t)})}function r_(e,t){return new Zb({check:"less_than",...F(t),value:e,inclusive:!1})}function uh(e,t){return new Zb({check:"less_than",...F(t),value:e,inclusive:!0})}function a_(e,t){return new qb({check:"greater_than",...F(t),value:e,inclusive:!1})}function fh(e,t){return new qb({check:"greater_than",...F(t),value:e,inclusive:!0})}function o_(e,t){return new tC({check:"multiple_of",...F(t),value:e})}function Jb(e,t){return new iC({check:"max_length",...F(t),maximum:e})}function Tu(e,t){return new sC({check:"min_length",...F(t),minimum:e})}function Qb(e,t){return new rC({check:"length_equals",...F(t),length:e})}function VR(e,t){return new aC({check:"string_format",format:"regex",...F(t),pattern:e})}function HR(e){return new oC({check:"string_format",format:"lowercase",...F(e)})}function BR(e){return new lC({check:"string_format",format:"uppercase",...F(e)})}function GR(e,t){return new cC({check:"string_format",format:"includes",...F(t),includes:e})}function ZR(e,t){return new uC({check:"string_format",format:"starts_with",...F(t),prefix:e})}function qR(e,t){return new fC({check:"string_format",format:"ends_with",...F(t),suffix:e})}function Ca(e){return new hC({check:"overwrite",tx:e})}function $R(e){return Ca(t=>t.normalize(e))}function FR(){return Ca(e=>e.trim())}function XR(){return Ca(e=>e.toLowerCase())}function YR(){return Ca(e=>e.toUpperCase())}function KR(){return Ca(e=>a4(e))}function JR(e,t,n){return new e({type:"array",element:t,...F(n)})}function QR(e,t,n){return new e({type:"custom",check:"custom",fn:t,...F(n)})}function WR(e){const t=eD(n=>(n.addIssue=i=>{if(typeof i=="string")n.issues.push(tl(i,n.value,t._zod.def));else{const s=i;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),n.issues.push(tl(s))}},e(n.value,n)));return t}function eD(e,t){const n=new Lt({check:"custom",...F(t)});return n._zod.check=e,n}function Wb(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??mo,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function et(e,t,n={path:[],schemaPath:[]}){var d,m;var i;const s=e._zod.def,r=t.seen.get(e);if(r)return r.count++,n.schemaPath.includes(e)&&(r.cycle=n.path),r.schema;const a={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,a);const l=(m=(d=e._zod).toJSONSchema)==null?void 0:m.call(d);if(l)a.schema=l;else{const g={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,a.schema,g);else{const I=a.schema,z=t.processors[s.type];if(!z)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);z(e,t,I,g)}const T=e._zod.parent;T&&(a.ref||(a.ref=T),et(T,t,g),t.seen.get(T).isParent=!0)}const u=t.metadataRegistry.get(e);return u&&Object.assign(a.schema,u),t.io==="input"&&Et(e)&&(delete a.schema.examples,delete a.schema.default),t.io==="input"&&a.schema._prefault&&((i=a.schema).default??(i.default=a.schema._prefault)),delete a.schema._prefault,t.seen.get(e).schema}function eE(e,t){var a,l,u,h;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=new Map;for(const d of e.seen.entries()){const m=(a=e.metadataRegistry.get(d[0]))==null?void 0:a.id;if(m){const g=i.get(m);if(g&&g!==d[0])throw new Error(`Duplicate schema id "${m}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);i.set(m,d[0])}}const s=d=>{var z;const m=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const P=(z=e.external.registry.get(d[0]))==null?void 0:z.id,x=e.external.uri??(N=>N);if(P)return{ref:x(P)};const w=d[1].defId??d[1].schema.id??`schema${e.counter++}`;return d[1].defId=w,{defId:w,ref:`${x("__shared")}#/${m}/${w}`}}if(d[1]===n)return{ref:"#"};const T=`#/${m}/`,I=d[1].schema.id??`__schema${e.counter++}`;return{defId:I,ref:T+I}},r=d=>{if(d[1].schema.$ref)return;const m=d[1],{ref:g,defId:T}=s(d);m.def={...m.schema},T&&(m.defId=T);const I=m.schema;for(const z in I)delete I[z];I.$ref=g};if(e.cycles==="throw")for(const d of e.seen.entries()){const m=d[1];if(m.cycle)throw new Error(`Cycle detected: #/${(l=m.cycle)==null?void 0:l.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const d of e.seen.entries()){const m=d[1];if(t===d[0]){r(d);continue}if(e.external){const T=(u=e.external.registry.get(d[0]))==null?void 0:u.id;if(t!==d[0]&&T){r(d);continue}}if((h=e.metadataRegistry.get(d[0]))==null?void 0:h.id){r(d);continue}if(m.cycle){r(d);continue}if(m.count>1&&e.reused==="ref"){r(d);continue}}}function tE(e,t){var a,l,u;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=h=>{const d=e.seen.get(h);if(d.ref===null)return;const m=d.def??d.schema,g={...m},T=d.ref;if(d.ref=null,T){i(T);const z=e.seen.get(T),P=z.schema;if(P.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(m.allOf=m.allOf??[],m.allOf.push(P)):Object.assign(m,P),Object.assign(m,g),h._zod.parent===T)for(const w in m)w==="$ref"||w==="allOf"||w in g||delete m[w];if(P.$ref)for(const w in m)w==="$ref"||w==="allOf"||w in z.def&&JSON.stringify(m[w])===JSON.stringify(z.def[w])&&delete m[w]}const I=h._zod.parent;if(I&&I!==T){i(I);const z=e.seen.get(I);if(z!=null&&z.schema.$ref&&(m.$ref=z.schema.$ref,z.def))for(const P in m)P==="$ref"||P==="allOf"||P in z.def&&JSON.stringify(m[P])===JSON.stringify(z.def[P])&&delete m[P]}e.override({zodSchema:h,jsonSchema:m,path:d.path??[]})};for(const h of[...e.seen.entries()].reverse())i(h[0]);const s={};if(e.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":e.target,(a=e.external)!=null&&a.uri){const h=(l=e.external.registry.get(t))==null?void 0:l.id;if(!h)throw new Error("Schema is missing an `id` property");s.$id=e.external.uri(h)}Object.assign(s,n.def??n.schema);const r=((u=e.external)==null?void 0:u.defs)??{};for(const h of e.seen.entries()){const d=h[1];d.def&&d.defId&&(r[d.defId]=d.def)}e.external||Object.keys(r).length>0&&(e.target==="draft-2020-12"?s.$defs=r:s.definitions=r);try{const h=JSON.parse(JSON.stringify(s));return Object.defineProperty(h,"~standard",{value:{...t["~standard"],jsonSchema:{input:Au(t,"input",e.processors),output:Au(t,"output",e.processors)}},enumerable:!1,writable:!1}),h}catch{throw new Error("Error converting schema to JSON.")}}function Et(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const i=e._zod.def;if(i.type==="transform")return!0;if(i.type==="array")return Et(i.element,n);if(i.type==="set")return Et(i.valueType,n);if(i.type==="lazy")return Et(i.getter(),n);if(i.type==="promise"||i.type==="optional"||i.type==="nonoptional"||i.type==="nullable"||i.type==="readonly"||i.type==="default"||i.type==="prefault")return Et(i.innerType,n);if(i.type==="intersection")return Et(i.left,n)||Et(i.right,n);if(i.type==="record"||i.type==="map")return Et(i.keyType,n)||Et(i.valueType,n);if(i.type==="pipe")return Et(i.in,n)||Et(i.out,n);if(i.type==="object"){for(const s in i.shape)if(Et(i.shape[s],n))return!0;return!1}if(i.type==="union"){for(const s of i.options)if(Et(s,n))return!0;return!1}if(i.type==="tuple"){for(const s of i.items)if(Et(s,n))return!0;return!!(i.rest&&Et(i.rest,n))}return!1}const tD=(e,t={})=>n=>{const i=Wb({...n,processors:t});return et(e,i),eE(i,e),tE(i,e)},Au=(e,t,n={})=>i=>{const{libraryOptions:s,target:r}=i??{},a=Wb({...s??{},target:r,io:t,processors:n});return et(e,a),eE(a,e),tE(a,e)},nD={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},iD=(e,t,n,i)=>{const s=n;s.type="string";const{minimum:r,maximum:a,format:l,patterns:u,contentEncoding:h}=e._zod.bag;if(typeof r=="number"&&(s.minLength=r),typeof a=="number"&&(s.maxLength=a),l&&(s.format=nD[l]??l,s.format===""&&delete s.format,l==="time"&&delete s.format),h&&(s.contentEncoding=h),u&&u.size>0){const d=[...u];d.length===1?s.pattern=d[0].source:d.length>1&&(s.allOf=[...d.map(m=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:m.source}))])}},sD=(e,t,n,i)=>{const s=n,{minimum:r,maximum:a,format:l,multipleOf:u,exclusiveMaximum:h,exclusiveMinimum:d}=e._zod.bag;typeof l=="string"&&l.includes("int")?s.type="integer":s.type="number",typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.minimum=d,s.exclusiveMinimum=!0):s.exclusiveMinimum=d),typeof r=="number"&&(s.minimum=r,typeof d=="number"&&t.target!=="draft-04"&&(d>=r?delete s.minimum:delete s.exclusiveMinimum)),typeof h=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(s.maximum=h,s.exclusiveMaximum=!0):s.exclusiveMaximum=h),typeof a=="number"&&(s.maximum=a,typeof h=="number"&&t.target!=="draft-04"&&(h<=a?delete s.maximum:delete s.exclusiveMaximum)),typeof u=="number"&&(s.multipleOf=u)},rD=(e,t,n,i)=>{n.type="boolean"},aD=(e,t,n,i)=>{n.not={}},oD=(e,t,n,i)=>{},lD=(e,t,n,i)=>{const s=e._zod.def,r=kb(s.entries);r.every(a=>typeof a=="number")&&(n.type="number"),r.every(a=>typeof a=="string")&&(n.type="string"),n.enum=r},cD=(e,t,n,i)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},uD=(e,t,n,i)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},fD=(e,t,n,i)=>{const s=n,r=e._zod.def,{minimum:a,maximum:l}=e._zod.bag;typeof a=="number"&&(s.minItems=a),typeof l=="number"&&(s.maxItems=l),s.type="array",s.items=et(r.element,t,{...i,path:[...i.path,"items"]})},hD=(e,t,n,i)=>{var h;const s=n,r=e._zod.def;s.type="object",s.properties={};const a=r.shape;for(const d in a)s.properties[d]=et(a[d],t,{...i,path:[...i.path,"properties",d]});const l=new Set(Object.keys(a)),u=new Set([...l].filter(d=>{const m=r.shape[d]._zod;return t.io==="input"?m.optin===void 0:m.optout===void 0}));u.size>0&&(s.required=Array.from(u)),((h=r.catchall)==null?void 0:h._zod.def.type)==="never"?s.additionalProperties=!1:r.catchall?r.catchall&&(s.additionalProperties=et(r.catchall,t,{...i,path:[...i.path,"additionalProperties"]})):t.io==="output"&&(s.additionalProperties=!1)},dD=(e,t,n,i)=>{const s=e._zod.def,r=s.inclusive===!1,a=s.options.map((l,u)=>et(l,t,{...i,path:[...i.path,r?"oneOf":"anyOf",u]}));r?n.oneOf=a:n.anyOf=a},pD=(e,t,n,i)=>{const s=e._zod.def,r=et(s.left,t,{...i,path:[...i.path,"allOf",0]}),a=et(s.right,t,{...i,path:[...i.path,"allOf",1]}),l=h=>"allOf"in h&&Object.keys(h).length===1,u=[...l(r)?r.allOf:[r],...l(a)?a.allOf:[a]];n.allOf=u},mD=(e,t,n,i)=>{const s=n,r=e._zod.def;s.type="object";const a=r.keyType,l=a._zod.bag,u=l==null?void 0:l.patterns;if(r.mode==="loose"&&u&&u.size>0){const d=et(r.valueType,t,{...i,path:[...i.path,"patternProperties","*"]});s.patternProperties={};for(const m of u)s.patternProperties[m.source]=d}else(t.target==="draft-07"||t.target==="draft-2020-12")&&(s.propertyNames=et(r.keyType,t,{...i,path:[...i.path,"propertyNames"]})),s.additionalProperties=et(r.valueType,t,{...i,path:[...i.path,"additionalProperties"]});const h=a._zod.values;if(h){const d=[...h].filter(m=>typeof m=="string"||typeof m=="number");d.length>0&&(s.required=d)}},gD=(e,t,n,i)=>{const s=e._zod.def,r=et(s.innerType,t,i),a=t.seen.get(e);t.target==="openapi-3.0"?(a.ref=s.innerType,n.nullable=!0):n.anyOf=[r,{type:"null"}]},yD=(e,t,n,i)=>{const s=e._zod.def;et(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType},_D=(e,t,n,i)=>{const s=e._zod.def;et(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType,n.default=JSON.parse(JSON.stringify(s.defaultValue))},vD=(e,t,n,i)=>{const s=e._zod.def;et(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},SD=(e,t,n,i)=>{const s=e._zod.def;et(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType;let a;try{a=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=a},bD=(e,t,n,i)=>{const s=e._zod.def,r=t.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;et(r,t,i);const a=t.seen.get(e);a.ref=r},ED=(e,t,n,i)=>{const s=e._zod.def;et(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType,n.readOnly=!0},nE=(e,t,n,i)=>{const s=e._zod.def;et(s.innerType,t,i);const r=t.seen.get(e);r.ref=s.innerType},TD=L("ZodISODateTime",(e,t)=>{xC.init(e,t),Me.init(e,t)});function AD(e){return DR(TD,e)}const wD=L("ZodISODate",(e,t)=>{OC.init(e,t),Me.init(e,t)});function xD(e){return IR(wD,e)}const OD=L("ZodISOTime",(e,t)=>{NC.init(e,t),Me.init(e,t)});function ND(e){return kR(OD,e)}const CD=L("ZodISODuration",(e,t)=>{CC.init(e,t),Me.init(e,t)});function RD(e){return zR(CD,e)}const DD=(e,t)=>{Ub.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>v4(e,n)},flatten:{value:n=>_4(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Td,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Td,2)}},isEmpty:{get(){return e.issues.length===0}}})},gn=L("ZodError",DD,{Parent:Error}),ID=Gp(gn),kD=Zp(gn),zD=Ju(gn),MD=Qu(gn),LD=E4(gn),UD=T4(gn),jD=A4(gn),PD=w4(gn),VD=x4(gn),HD=O4(gn),BD=N4(gn),GD=C4(gn),Ve=L("ZodType",(e,t)=>(Pe.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:Au(e,"input"),output:Au(e,"output")}}),e.toJSONSchema=tD(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(Es(t,{checks:[...t.checks??[],...n.map(i=>typeof i=="function"?{_zod:{check:i,def:{check:"custom"},onattach:[]}}:i)]}),{parent:!0}),e.with=e.check,e.clone=(n,i)=>Ts(e,n,i),e.brand=()=>e,e.register=(n,i)=>(n.add(e,i),e),e.parse=(n,i)=>ID(e,n,i,{callee:e.parse}),e.safeParse=(n,i)=>zD(e,n,i),e.parseAsync=async(n,i)=>kD(e,n,i,{callee:e.parseAsync}),e.safeParseAsync=async(n,i)=>MD(e,n,i),e.spa=e.safeParseAsync,e.encode=(n,i)=>LD(e,n,i),e.decode=(n,i)=>UD(e,n,i),e.encodeAsync=async(n,i)=>jD(e,n,i),e.decodeAsync=async(n,i)=>PD(e,n,i),e.safeEncode=(n,i)=>VD(e,n,i),e.safeDecode=(n,i)=>HD(e,n,i),e.safeEncodeAsync=async(n,i)=>BD(e,n,i),e.safeDecodeAsync=async(n,i)=>GD(e,n,i),e.refine=(n,i)=>e.check(LI(n,i)),e.superRefine=n=>e.check(UI(n)),e.overwrite=n=>e.check(Ca(n)),e.optional=()=>u_(e),e.exactOptional=()=>TI(e),e.nullable=()=>f_(e),e.nullish=()=>u_(f_(e)),e.nonoptional=n=>CI(e,n),e.array=()=>ya(e),e.or=n=>rE([e,n]),e.and=n=>_I(e,n),e.transform=n=>h_(e,bI(n)),e.default=n=>xI(e,n),e.prefault=n=>NI(e,n),e.catch=n=>DI(e,n),e.pipe=n=>h_(e,n),e.readonly=()=>zI(e),e.describe=n=>{const i=e.clone();return mo.add(i,{description:n}),i},Object.defineProperty(e,"description",{get(){var n;return(n=mo.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return mo.get(e);const i=e.clone();return mo.add(i,n[0]),i},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),iE=L("_ZodString",(e,t)=>{qp.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(i,s,r)=>iD(e,i,s);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...i)=>e.check(VR(...i)),e.includes=(...i)=>e.check(GR(...i)),e.startsWith=(...i)=>e.check(ZR(...i)),e.endsWith=(...i)=>e.check(qR(...i)),e.min=(...i)=>e.check(Tu(...i)),e.max=(...i)=>e.check(Jb(...i)),e.length=(...i)=>e.check(Qb(...i)),e.nonempty=(...i)=>e.check(Tu(1,...i)),e.lowercase=i=>e.check(HR(i)),e.uppercase=i=>e.check(BR(i)),e.trim=()=>e.check(FR()),e.normalize=(...i)=>e.check($R(...i)),e.toLowerCase=()=>e.check(XR()),e.toUpperCase=()=>e.check(YR()),e.slugify=()=>e.check(KR())}),ZD=L("ZodString",(e,t)=>{qp.init(e,t),iE.init(e,t),e.email=n=>e.check(uR(qD,n)),e.url=n=>e.check(mR($D,n)),e.jwt=n=>e.check(RR(oI,n)),e.emoji=n=>e.check(gR(FD,n)),e.guid=n=>e.check(s_(l_,n)),e.uuid=n=>e.check(fR(uc,n)),e.uuidv4=n=>e.check(hR(uc,n)),e.uuidv6=n=>e.check(dR(uc,n)),e.uuidv7=n=>e.check(pR(uc,n)),e.nanoid=n=>e.check(yR(XD,n)),e.guid=n=>e.check(s_(l_,n)),e.cuid=n=>e.check(_R(YD,n)),e.cuid2=n=>e.check(vR(KD,n)),e.ulid=n=>e.check(SR(JD,n)),e.base64=n=>e.check(OR(sI,n)),e.base64url=n=>e.check(NR(rI,n)),e.xid=n=>e.check(bR(QD,n)),e.ksuid=n=>e.check(ER(WD,n)),e.ipv4=n=>e.check(TR(eI,n)),e.ipv6=n=>e.check(AR(tI,n)),e.cidrv4=n=>e.check(wR(nI,n)),e.cidrv6=n=>e.check(xR(iI,n)),e.e164=n=>e.check(CR(aI,n)),e.datetime=n=>e.check(AD(n)),e.date=n=>e.check(xD(n)),e.time=n=>e.check(ND(n)),e.duration=n=>e.check(RD(n))});function it(e){return cR(ZD,e)}const Me=L("ZodStringFormat",(e,t)=>{ze.init(e,t),iE.init(e,t)}),qD=L("ZodEmail",(e,t)=>{yC.init(e,t),Me.init(e,t)}),l_=L("ZodGUID",(e,t)=>{mC.init(e,t),Me.init(e,t)}),uc=L("ZodUUID",(e,t)=>{gC.init(e,t),Me.init(e,t)}),$D=L("ZodURL",(e,t)=>{_C.init(e,t),Me.init(e,t)}),FD=L("ZodEmoji",(e,t)=>{vC.init(e,t),Me.init(e,t)}),XD=L("ZodNanoID",(e,t)=>{SC.init(e,t),Me.init(e,t)}),YD=L("ZodCUID",(e,t)=>{bC.init(e,t),Me.init(e,t)}),KD=L("ZodCUID2",(e,t)=>{EC.init(e,t),Me.init(e,t)}),JD=L("ZodULID",(e,t)=>{TC.init(e,t),Me.init(e,t)}),QD=L("ZodXID",(e,t)=>{AC.init(e,t),Me.init(e,t)}),WD=L("ZodKSUID",(e,t)=>{wC.init(e,t),Me.init(e,t)}),eI=L("ZodIPv4",(e,t)=>{RC.init(e,t),Me.init(e,t)}),tI=L("ZodIPv6",(e,t)=>{DC.init(e,t),Me.init(e,t)}),nI=L("ZodCIDRv4",(e,t)=>{IC.init(e,t),Me.init(e,t)}),iI=L("ZodCIDRv6",(e,t)=>{kC.init(e,t),Me.init(e,t)}),sI=L("ZodBase64",(e,t)=>{zC.init(e,t),Me.init(e,t)}),rI=L("ZodBase64URL",(e,t)=>{LC.init(e,t),Me.init(e,t)}),aI=L("ZodE164",(e,t)=>{UC.init(e,t),Me.init(e,t)}),oI=L("ZodJWT",(e,t)=>{PC.init(e,t),Me.init(e,t)}),sE=L("ZodNumber",(e,t)=>{Fb.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(i,s,r)=>sD(e,i,s),e.gt=(i,s)=>e.check(a_(i,s)),e.gte=(i,s)=>e.check(fh(i,s)),e.min=(i,s)=>e.check(fh(i,s)),e.lt=(i,s)=>e.check(r_(i,s)),e.lte=(i,s)=>e.check(uh(i,s)),e.max=(i,s)=>e.check(uh(i,s)),e.int=i=>e.check(c_(i)),e.safe=i=>e.check(c_(i)),e.positive=i=>e.check(a_(0,i)),e.nonnegative=i=>e.check(fh(0,i)),e.negative=i=>e.check(r_(0,i)),e.nonpositive=i=>e.check(uh(0,i)),e.multipleOf=(i,s)=>e.check(o_(i,s)),e.step=(i,s)=>e.check(o_(i,s)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function pt(e){return MR(sE,e)}const lI=L("ZodNumberFormat",(e,t)=>{VC.init(e,t),sE.init(e,t)});function c_(e){return LR(lI,e)}const cI=L("ZodBoolean",(e,t)=>{HC.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(n,i,s)=>rD(e,n,i)});function uI(e){return UR(cI,e)}const fI=L("ZodUnknown",(e,t)=>{BC.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(n,i,s)=>oD()});function wd(){return jR(fI)}const hI=L("ZodNever",(e,t)=>{GC.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(n,i,s)=>aD(e,n,i)});function dI(e){return PR(hI,e)}const pI=L("ZodArray",(e,t)=>{ZC.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(n,i,s)=>fD(e,n,i,s),e.element=t.element,e.min=(n,i)=>e.check(Tu(n,i)),e.nonempty=n=>e.check(Tu(1,n)),e.max=(n,i)=>e.check(Jb(n,i)),e.length=(n,i)=>e.check(Qb(n,i)),e.unwrap=()=>e.element});function ya(e,t){return JR(pI,e,t)}const mI=L("ZodObject",(e,t)=>{$C.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(n,i,s)=>hD(e,n,i,s),_e(e,"shape",()=>t.shape),e.keyof=()=>Od(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:wd()}),e.loose=()=>e.clone({...e._zod.def,catchall:wd()}),e.strict=()=>e.clone({...e._zod.def,catchall:dI()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>d4(e,n),e.safeExtend=n=>p4(e,n),e.merge=n=>m4(e,n),e.pick=n=>f4(e,n),e.omit=n=>h4(e,n),e.partial=(...n)=>g4(oE,e,n[0]),e.required=(...n)=>y4(lE,e,n[0])});function wn(e,t){const n={type:"object",shape:e??{},...F(t)};return new mI(n)}const gI=L("ZodUnion",(e,t)=>{FC.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(n,i,s)=>dD(e,n,i,s),e.options=t.options});function rE(e,t){return new gI({type:"union",options:e,...F(t)})}const yI=L("ZodIntersection",(e,t)=>{XC.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(n,i,s)=>pD(e,n,i,s)});function _I(e,t){return new yI({type:"intersection",left:e,right:t})}const vI=L("ZodRecord",(e,t)=>{YC.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(n,i,s)=>mD(e,n,i,s),e.keyType=t.keyType,e.valueType=t.valueType});function aE(e,t,n){return new vI({type:"record",keyType:e,valueType:t,...F(n)})}const xd=L("ZodEnum",(e,t)=>{KC.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(i,s,r)=>lD(e,i,s),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(i,s)=>{const r={};for(const a of i)if(n.has(a))r[a]=t.entries[a];else throw new Error(`Key ${a} not found in enum`);return new xd({...t,checks:[],...F(s),entries:r})},e.exclude=(i,s)=>{const r={...t.entries};for(const a of i)if(n.has(a))delete r[a];else throw new Error(`Key ${a} not found in enum`);return new xd({...t,checks:[],...F(s),entries:r})}});function Od(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(i=>[i,i])):e;return new xd({type:"enum",entries:n,...F(t)})}const SI=L("ZodTransform",(e,t)=>{JC.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(n,i,s)=>uD(e,n),e._zod.parse=(n,i)=>{if(i.direction==="backward")throw new Db(e.constructor.name);n.addIssue=r=>{if(typeof r=="string")n.issues.push(tl(r,n.value,t));else{const a=r;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=n.value),a.inst??(a.inst=e),n.issues.push(tl(a))}};const s=t.transform(n.value,n);return s instanceof Promise?s.then(r=>(n.value=r,n)):(n.value=s,n)}});function bI(e){return new SI({type:"transform",transform:e})}const oE=L("ZodOptional",(e,t)=>{Kb.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(n,i,s)=>nE(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function u_(e){return new oE({type:"optional",innerType:e})}const EI=L("ZodExactOptional",(e,t)=>{QC.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(n,i,s)=>nE(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function TI(e){return new EI({type:"optional",innerType:e})}const AI=L("ZodNullable",(e,t)=>{WC.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(n,i,s)=>gD(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function f_(e){return new AI({type:"nullable",innerType:e})}const wI=L("ZodDefault",(e,t)=>{eR.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(n,i,s)=>_D(e,n,i,s),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function xI(e,t){return new wI({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():Mb(t)}})}const OI=L("ZodPrefault",(e,t)=>{tR.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(n,i,s)=>vD(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function NI(e,t){return new OI({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():Mb(t)}})}const lE=L("ZodNonOptional",(e,t)=>{nR.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(n,i,s)=>yD(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function CI(e,t){return new lE({type:"nonoptional",innerType:e,...F(t)})}const RI=L("ZodCatch",(e,t)=>{iR.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(n,i,s)=>SD(e,n,i,s),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function DI(e,t){return new RI({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const II=L("ZodPipe",(e,t)=>{sR.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(n,i,s)=>bD(e,n,i,s),e.in=t.in,e.out=t.out});function h_(e,t){return new II({type:"pipe",in:e,out:t})}const kI=L("ZodReadonly",(e,t)=>{rR.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(n,i,s)=>ED(e,n,i,s),e.unwrap=()=>e._zod.def.innerType});function zI(e){return new kI({type:"readonly",innerType:e})}const MI=L("ZodCustom",(e,t)=>{aR.init(e,t),Ve.init(e,t),e._zod.processJSONSchema=(n,i,s)=>cD(e,n)});function LI(e,t={}){return QR(MI,e,t)}function UI(e){return WR(e)}Xn("Validation");const d_=it().min(1).max(100);it().regex(/^[a-fA-F0-9]{64}$/);const ef=it().regex(/^npub1[1-9ac-hjk-np-z46-9]+$/),cE=it().min(1).max(50).regex(/^[a-zA-Z0-9\s\-'.]+$/);it().regex(/^[a-zA-Z0-9.\-_]+(@[a-zA-Z0-9.\-_]+\.[a-zA-Z]{2,})?$/);wn({challenge:it().min(10).max(200),expiresAt:pt().int().positive()});wn({kind:pt().int(),created_at:pt().int().nonnegative(),tags:ya(ya(it())),content:it()});const jI=wn({npub:ef,displayName:cE.nullable()}),uE=wn({visitedAt:it().nullable().optional(),completedAt:it().nullable().optional(),quizAttempts:ya(wn({xpEarned:pt().int().min(0).optional(),score:pt().min(0).max(100).optional(),timestamp:it().optional(),difficulty:Od(["easy","medium","hard"]).optional(),correctAnswers:pt().int().min(0).optional(),totalQuestions:pt().int().min(1).optional()})).optional(),visualizationsInteracted:ya(it().max(100)).optional(),masteryLevel:rE([pt().int().min(0).max(3),Od(["none","learning","familiar","mastered"])]).nullable().optional(),sectionId:it().optional(),timeSpentSeconds:pt().int().min(0).optional()});wn({user:wn({totalXP:pt().int().min(0),level:pt().int().min(1).max(10),sectionsCompleted:ya(d_)}),sections:aE(d_,uE),dailyGoals:wn({lastResetDate:it().nullable(),currentStreak:pt().int().min(0),xpEarned:pt().int().min(0),xpGoal:pt().int().min(0)}),lastUpdated:pt().int().nonnegative()});wn({success:uI(),totalXP:pt().int().min(0)});wn({npub:ef,displayName:cE.nullable(),xp:pt().int().min(0),lastSync:it()});wn({timestamp:it(),action:it(),targetNpub:ef.nullable(),performedBy:it(),details:aE(it(),wd()).nullable()});function r6(e){return ef.safeParse(e).success?{valid:!0}:{valid:!1,error:'Invalid npub format. Must start with "npub1" followed by bech32 characters.'}}function PI(e){const t=uE.safeParse(e);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid section data format"}}function VI(e){const t=jI.safeParse(e);return t.success?{valid:!0,data:t.data}:{valid:!1,error:"Invalid auth state format"}}const wu=Xn("SyncManager"),HI="magic-internet-math-progress";function p_(){try{const e=localStorage.getItem(HI);if(!e)return null;const t=JSON.parse(e);if(!(t!=null&&t.user)||!(t!=null&&t.sections))return null;const n=t.user.totalXP||0,i={ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0,"mod-race":0,"base-race":0,man_econ_state:0,koblitz:0,coding:0,west_graphs:0,"numbers-geometry":0,"ross-prob":0,"intro-discrete":0,road_to_serfdom:0,"only-the-strong-survive":0,orange_btc:0,math_history:0,rudin:0,df:0,"euler-intro":0,"tao-analysis-1":0,bfi:0,frost:0};for(const[s,r]of Object.entries(t.sections)){const[a]=s.split(":");if(!UA(a))continue;const l=a,u=PI(r);if(!u.valid||!u.data){wu.warn(`Invalid section data for ${s}, skipping`);continue}const h=u.data;if(h.quizAttempts)for(const d of h.quizAttempts)d.xpEarned&&(i[l]+=d.xpEarned);h.visitedAt&&(i[l]+=ut.SECTION_VISIT),h.completedAt&&(i[l]+=ut.SECTION_COMPLETE),h.visualizationsInteracted&&(i[l]+=h.visualizationsInteracted.length*ut.VISUALIZATION_USE)}return{scores:[{courseId:"ba",xp:i.ba},{courseId:"crypto",xp:i.crypto},{courseId:"aa",xp:i.aa},{courseId:"linalg",xp:i.linalg},{courseId:"advlinalg",xp:i.advlinalg},{courseId:"islr",xp:i.islr},{courseId:"ra",xp:i.ra},{courseId:"calc1",xp:i.calc1},{courseId:"calc_lib_art",xp:i.calc_lib_art},{courseId:"calc_easy",xp:i.calc_easy},{courseId:"wm",xp:i.wm},{courseId:"four_pillars",xp:i.four_pillars},{courseId:"mom",xp:i.mom},{courseId:"euclid",xp:i.euclid},{courseId:"thales",xp:i.thales},{courseId:"gauss",xp:i.gauss},{courseId:"human_action",xp:i.human_action},{courseId:"atlas_shrugged",xp:i.atlas_shrugged}],totalXP:n}}catch(e){return wu.error("Error extracting scores from storage:",e),null}}class BI{constructor(){this.syncInterval=null,this.debounceTimeout=null,this.lastSyncTime=0,this.isAuthenticated=!1,this.displayName=null,this.handleVisibilityChange=()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.syncNow()}}setAuthenticated(t){this.isAuthenticated=t,t&&this.syncNow()}setDisplayName(t){this.displayName=t}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.syncNow()},Tb),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(){this.isAuthenticated&&(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow()},Ab))}async syncNow(){if(!this.isAuthenticated)return{success:!1,error:"Not authenticated"};if(!es())return{success:!1,error:"Firebase not configured"};const t=Date.now();if(t-this.lastSyncTime<Eb)return{success:!1,error:"Rate limited"};try{const n=p_();if(!n)return{success:!1,error:"No scores to sync"};const i=el(),s=ma(i,"syncScores"),r={scores:n.scores,totalXP:n.totalXP};this.displayName!==void 0&&(r.displayName=this.displayName);const a=await s(r);return this.lastSyncTime=t,{success:a.data.success,totalXP:a.data.totalXP}}catch(n){return wu.error("Sync failed:",n),{success:!1,error:n instanceof Error?n.message:"Unknown error"}}}async syncWithRetry(t=3){for(let n=0;n<t;n++){const i=await this.syncNow();if(i.success||i.error==="Not authenticated"||i.error==="No scores to sync"||i.error==="Firebase not configured")return i;if(n<t-1){const s=1e3*Math.pow(2,n);wu.debug(`Sync retry ${n+1}/${t} in ${s}ms`),await new Promise(r=>setTimeout(r,s)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}getLocalScores(){const t=p_();return t?t.scores.reduce((n,i)=>(n[i.courseId]=i.xp,n),{ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,islr:0,ra:0,calc1:0,calc_lib_art:0,calc_easy:0,wm:0,four_pillars:0,mom:0,euclid:0,thales:0,gauss:0,human_action:0,atlas_shrugged:0,template:0}):null}}let hh=null;function oo(){return hh||(hh=new BI),hh}const at=Xn("NostrAuth"),fE=j.createContext(null),lo="magic-internet-math-nostr-auth";function GI({children:e}){const[t,n]=j.useState(!1),[i,s]=j.useState(null),[r,a]=j.useState(null),[l,u]=j.useState(null),[h,d]=j.useState(!1),[m,g]=j.useState(null),[T,I]=j.useState(!1),[z,P]=j.useState(!1),[x,w]=j.useState(null);j.useEffect(()=>{(async()=>{const S=await i4(zN);I(S),P(!0)})()},[]);const N=j.useCallback(async v=>{for(const S of wb)try{const E=await Rb(S,v);if(E){E.nip05&&u(E.nip05);const C=E.display_name||E.name;if(C){a(C);const A=oo();A.setDisplayName(C),A.requestSync()}return}}catch(E){at.warn(`Failed to fetch profile from ${S}:`,E)}},[]);j.useEffect(()=>{if(!es())return;const v=lh(),S=Vx(v,async E=>{if(w(E),E){s(E.uid);try{const A=await E.getIdTokenResult(!0);at.debug("Token claims:",A.claims),d(A.claims.isAdmin===!0)}catch(A){at.error("Error getting token:",A),d(!1)}try{const A=localStorage.getItem(lo);if(A){const ae=JSON.parse(A),oe=VI(ae);if(!oe.valid||!oe.data){at.warn("Invalid auth state in localStorage:",oe.error),localStorage.removeItem(lo);return}oe.data.npub===E.uid&&a(oe.data.displayName)}}catch(A){at.debug("Storage read error:",A)}const C=oo();C.setAuthenticated(!0),C.startPeriodicSync();try{const A=Cb(E.uid);N(A)}catch(A){at.debug("Npub conversion error:",A)}}else{s(null),u(null),d(!1),a(null);const C=oo();C.setAuthenticated(!1),C.stopPeriodicSync()}});return()=>S()},[N]);const R=j.useCallback(async()=>{if(at.debug("connect() called"),at.debug("isFirebaseConfigured:",es()),at.debug("hasNostrExtension:",Su()),!es()){at.info("Firebase not configured, cannot connect");return}if(!Su()){g("No Nostr extension found. Please install nos2x, Alby, or another NIP-07 extension."),at.warn("No extension found, returning");return}n(!0),g(null),at.info("Starting Nostr connection...");try{const v=window.nostr,S=el(),E=await v.getPublicKey(),C=e4(E),ae=await ma(S,"createChallenge")({pubkeyHex:E}),{challenge:oe}=ae.data,B={kind:s4,created_at:Math.floor(Date.now()/1e3),tags:[["challenge",oe]],content:oe},X=await v.signEvent(B),de=await ma(S,"verifyNostrAndCreateToken")({signedEvent:X,challenge:oe}),Oe=lh();await Ux(Oe,de.data.token);try{const vt={npub:C,displayName:null};localStorage.setItem(lo,JSON.stringify(vt))}catch(vt){at.warn("Failed to store auth state:",vt)}oo().syncNow().catch(vt=>{at.warn("Initial sync failed:",vt)})}catch(v){at.error("Nostr connect error:",v),g(v instanceof Error?v.message:"Failed to connect. Please try again.")}finally{n(!1)}},[T]),V=j.useCallback(async()=>{try{if(es()){const v=lh();await Hx(v)}try{localStorage.removeItem(lo)}catch(v){at.warn("Failed to clear auth state from storage:",v)}s(null),a(null),d(!1)}catch(v){at.error("Disconnect error:",v),g(v instanceof Error?v.message:"Failed to disconnect")}},[]),Z=j.useCallback(v=>{if(a(v),i)try{localStorage.setItem(lo,JSON.stringify({npub:i,displayName:v}))}catch(E){at.warn("Failed to update display name in storage:",E)}const S=oo();S.setDisplayName(v),S.requestSync()},[i]),b=j.useCallback(()=>{g(null)},[]),_=j.useMemo(()=>({isAuthenticated:!!x&&!!i,isConnecting:t,npub:i,displayName:r,nip05:l,isAdmin:h,error:m,hasExtension:T,extensionChecked:z,connect:R,disconnect:V,setDisplayName:Z,clearError:b}),[x,i,t,r,l,h,m,T,z,R,V,Z,b]);return p.jsx(fE.Provider,{value:_,children:e})}const ZI={isAuthenticated:!1,isConnecting:!1,npub:null,displayName:null,nip05:null,isAdmin:!1,error:null,hasExtension:!1,extensionChecked:!0,connect:async()=>{},disconnect:async()=>{},setDisplayName:()=>{},clearError:()=>{}};function qI(){const e=j.useContext(fE);return e||ZI}const ji=Xn("GamificationProgress"),$I=500,FI=()=>{var e,t;return!!((t=(e=window.webkit)==null?void 0:e.messageHandlers)!=null&&t.progressHandler)},wr=(e,t)=>{FI()&&window.webkit.messageHandlers.progressHandler.postMessage({type:e,...t})},hE=j.createContext(null);function XI({children:e,courseId:t,curriculum:n}){const[i,s]=j.useReducer(a2,gS()),[r,a]=j.useState(!0),[l,u]=j.useState([]),[h,d]=j.useState("idle"),m=j.useRef(null),g=j.useRef(!1),T=j.useRef(!1),{isAuthenticated:I,npub:z}=qI(),P=j.useCallback(S=>`${t}:${S}`,[t]),x=j.useCallback((S,E)=>{if(!n)return null;const C=n.find(X=>X.sections.some(Y=>Y.id===S));if(!C)return null;const A=`${t}:part${C.id}`;if(E.user.partsCompleted.includes(A))return null;const ae=C.sections.map(X=>P(X.id)),oe=P(S);return ae.every(X=>E.user.sectionsCompleted.includes(X)||X===oe)?A:null},[n,t,P]);j.useEffect(()=>{const S=sr();S&&s({type:"LOAD_STATE",payload:S}),I||queueMicrotask(()=>a(!1))},[]),j.useEffect(()=>{const S=qy(),E=S.onStatusChange(d),C=T.current;return T.current=I,I&&!C?(ji.info("User authenticated, fetching progress from server"),S.setAuthenticated(!0),(async()=>{a(!0);try{const ae=qA(),oe=sr();if(ae&&oe){ji.info("Migrating local progress to server");const B=await S.migrateLocalProgress(oe);B.success&&B.state?(s({type:"MERGE_WITH_SERVER",payload:B.state}),ZA(),ji.info("Migration complete")):ji.warn("Migration failed, using local state")}else{const B=await S.fetchServerProgress();B.found&&B.progress?(ji.info("Loaded progress from server"),s({type:"LOAD_FROM_SERVER",payload:B.progress}),S.setLastSyncedAt(B.lastSyncedAt)):ji.info("No server progress found, using local state")}}catch(ae){ji.error("Failed to sync with server:",ae)}finally{queueMicrotask(()=>a(!1)),g.current=!0}})(),S.startPeriodicSync()):!I&&C?(ji.info("User logged out"),S.setAuthenticated(!1),S.stopPeriodicSync(),g.current=!1):I||queueMicrotask(()=>a(!1)),()=>{E()}},[I,z]),j.useEffect(()=>{r||(Gu(i),I&&g.current&&qy().requestSync(i))},[i,r,I]),j.useEffect(()=>{r||s({type:"UPDATE_STREAK"})},[r]),j.useEffect(()=>{if(!r)return m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{const S=YA(i);S.length>0&&u(E=>[...E,...S])},$I),()=>{m.current&&clearTimeout(m.current)}},[i,r]);const w=j.useCallback(S=>{s({type:"VISIT_SECTION",payload:{sectionId:P(S)}})},[P]),N=j.useCallback(S=>{const E=x(S,i);s({type:"COMPLETE_SECTION",payload:{sectionId:P(S)}}),E&&(s({type:"COMPLETE_PART",payload:{partId:E}}),wr("partCompleted",{partId:E,courseId:t})),wr("sectionCompleted",{sectionId:P(S),courseId:t})},[P,t,x,i]),R=j.useCallback((S,E,C,A,ae)=>{const oe=P(S),B=C>=80?x(S,i):null;s({type:"RECORD_QUIZ",payload:{sectionId:oe,difficulty:E,score:C,correctAnswers:A,totalQuestions:ae}}),B&&(s({type:"COMPLETE_PART",payload:{partId:B}}),wr("partCompleted",{partId:B,courseId:t})),wr("quizCompleted",{sectionId:oe,courseId:t,score:C,correctAnswers:A,totalQuestions:ae}),C>=80&&wr("sectionCompleted",{sectionId:oe,courseId:t})},[P,t,x,i]),V=j.useCallback((S,E)=>{s({type:"USE_VISUALIZATION",payload:{sectionId:P(S),name:E}})},[P]),Z=j.useCallback(S=>{u(E=>E.filter(C=>C.id!==S))},[]),b=j.useCallback(()=>{s({type:"RESET_PROGRESS"})},[]),_=j.useCallback(S=>{s({type:"RECORD_RACE_GAME",payload:S}),wr("raceGameCompleted",{courseId:t,score:S.score,tier:S.tier,correctAnswers:S.correctAnswers,totalQuestions:S.totalQuestions,isMultiplayer:S.isMultiplayer})},[t]),v=j.useMemo(()=>({state:i,isLoading:r,notifications:l,syncStatus:h,visitSection:w,completeSection:N,recordQuiz:R,useVisualization:V,dismissNotification:Z,resetProgress:b,recordRaceGame:_,dispatch:s}),[i,r,l,h,w,N,R,V,Z,b,_,s]);return p.jsx(hE.Provider,{value:v,children:e})}function tf(){const e=j.useContext(hE);if(!e)throw new Error("useGamification must be used within a GamificationProvider");return e}const YI=Ko;function a6(e){return`${YI}:${e}`}function m_({children:e}){return p.jsx(XI,{courseId:Ko,children:e})}const dE=j.createContext(null);function KI({config:e,children:t}){return p.jsx(dE.Provider,{value:e,children:t})}function pE(){const e=j.useContext(dE);if(!e)throw new Error("useCourseConfig must be used within CourseConfigProvider");return e}const JI=Xn("ErrorBoundary");class QI extends j.Component{constructor(t){super(t),this.handleReset=()=>{this.setState({hasError:!1,error:null})},this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){JI.error("React Error Boundary caught an error:",{error:t.message,stack:t.stack,componentStack:n.componentStack})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:p.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:p.jsxs("div",{className:"max-w-md w-full text-center",children:[p.jsx("div",{className:"text-6xl mb-6",children:p.jsx("span",{role:"img","aria-label":"Warning",children:""})}),p.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Something went wrong"}),p.jsx("p",{className:"text-dark-400 mb-6",children:"An unexpected error occurred. Please try refreshing the page."}),this.state.error&&p.jsxs("details",{className:"mb-6 text-left",children:[p.jsx("summary",{className:"text-dark-500 cursor-pointer hover:text-dark-400 text-sm",children:"Error details"}),p.jsx("pre",{className:"mt-2 p-3 bg-dark-800 rounded-lg text-xs text-red-400 overflow-auto max-h-32",children:this.state.error.message})]}),p.jsxs("div",{className:"flex gap-4 justify-center",children:[p.jsx("button",{onClick:this.handleReset,className:"px-6 py-3 rounded-xl bg-dark-700 hover:bg-dark-600 text-dark-200 font-medium transition-colors",children:"Try Again"}),p.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:"Refresh Page"})]})]})}):this.props.children}}const kc=Xn("ErrorContext");async function WI(e){if(es())try{const t=el();if(!t){kc.debug("Firebase functions not initialized");return}await ma(t,"logClientError")({error:{message:e.message,details:e.details,recoverable:e.recoverable,userAgent:e.userAgent,url:e.url,severity:e.severity}}),kc.debug("Error logged to Firebase:",e.message)}catch(t){kc.debug("Failed to log error to Firebase:",t)}}const mE=j.createContext(null);function ek({children:e,onError:t}){const[n,i]=j.useState([]),s=j.useCallback(l=>{const u={id:crypto.randomUUID(),...l,timestamp:new Date,recoverable:l.recoverable??!0,userAgent:typeof navigator<"u"?navigator.userAgent:void 0,url:typeof window<"u"?window.location.href:void 0,severity:l.severity??"error"};i(h=>{const d=[...h,u];return t&&t(u),d}),WI(u).catch(()=>{}),kc.error("App error added:",u)},[t]),r=j.useCallback(l=>{i(u=>u.filter(h=>h.id!==l))},[]),a=j.useCallback(()=>{i([])},[]);return p.jsx(mE.Provider,{value:{errors:n,addError:s,dismissError:r,dismissAll:a},children:e})}function tk(){const e=j.useContext(mE);if(!e)throw new Error("useErrorContext must be used within ErrorProvider");return e}function nk({className:e=""}){const{errors:t,dismissError:n,dismissAll:i}=tk();return t.length===0?null:p.jsx("div",{className:`fixed bottom-4 right-4 z-50 max-w-md w-full ${e}`,children:p.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg shadow-lg p-4 space-y-3",children:[p.jsxs("div",{className:"flex items-start justify-between",children:[p.jsxs("h3",{className:"text-lg font-semibold text-red-900",children:[t.length===1?"Error":"Errors"," (",t.length,")"]}),t.length>1&&p.jsx("button",{onClick:i,className:"text-red-600 hover:text-red-800 text-sm underline",children:"Dismiss all"})]}),p.jsx("div",{className:"space-y-2",children:t.map(s=>p.jsx("div",{className:"bg-white p-3 rounded border border-red-100",children:p.jsxs("div",{className:"flex justify-between items-start gap-2",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx("p",{className:"text-red-900 font-medium",children:s.message}),s.details&&p.jsx("p",{className:"text-sm text-red-700 mt-1",children:s.details})]}),p.jsx("button",{onClick:()=>n(s.id),className:"text-red-500 hover:text-red-700","aria-label":"Dismiss error",children:""})]})},s.id))}),t.some(s=>!s.recoverable)&&p.jsxs("div",{className:"mt-3 p-2 bg-red-50 rounded text-sm text-red-700",children:[p.jsx("strong",{children:"Note:"})," Some errors cannot be recovered. Please try refreshing the page or contact support."]})]})})}const ik={sm:"h-6 w-6 border-2",md:"h-10 w-10 border-3",lg:"h-14 w-14 border-4"};function we({message:e="Loading...",size:t="lg",fullScreen:n=!0}){const i=p.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[p.jsx("div",{className:`animate-spin rounded-full border-t-primary-500 border-r-transparent border-b-primary-500/30 border-l-transparent ${ik[t]}`,role:"status","aria-label":"Loading"}),e&&p.jsx("p",{className:"text-dark-400 text-sm animate-pulse",children:e})]});return n?p.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:i}):i}function sk({xp:e,level:t,compact:n=!1}){const i=yS(e,t);return n?p.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",t]}),p.jsxs("span",{className:"text-dark-400",children:[e," XP"]})]}):p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:p.jsx("span",{className:"text-sm font-bold text-white",children:t})}),p.jsxs("div",{className:"flex-1 min-w-[80px]",children:[p.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[p.jsxs("span",{className:"text-dark-400",children:["Level ",t]}),p.jsxs("span",{className:"text-primary-400 font-medium",children:[e," XP"]})]}),p.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:p.jsx(Mo.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5}})})]})]})}function rk({streak:e}){return e===0?null:p.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[p.jsx("span",{className:"text-orange-400",children:""}),p.jsx("span",{className:"text-sm font-medium text-orange-400",children:e})]})}function ak({level:e,showLabel:t=!1}){const{label:n,color:i,symbol:s}=WA(e);return p.jsxs("div",{className:`flex items-center gap-1.5 ${i}`,children:[p.jsx("span",{className:"text-sm",children:s}),t&&p.jsx("span",{className:"text-xs",children:n})]})}function ok({onImportSuccess:e}){const[t,n]=j.useState(!1),[i,s]=j.useState(null),[r,a]=j.useState(!1),l=j.useRef(null),u=GA(),h=()=>{VA(),s({type:"success",text:"Progress exported! Check your downloads folder."}),setTimeout(()=>s(null),3e3)},d=()=>{var g;(g=l.current)==null||g.click()},m=async g=>{var z;const T=(z=g.target.files)==null?void 0:z[0];if(!T)return;a(!0),s(null);const I=await BA(T);a(!1),s({type:I.success?"success":"error",text:I.message}),I.success&&(e==null||e(),setTimeout(()=>{window.location.reload()},1500)),l.current&&(l.current.value="")};return p.jsxs("div",{className:"relative",children:[p.jsx("button",{onClick:()=>n(!t),className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":"Backup & restore progress",title:"Backup & restore progress",children:p.jsx("svg",{className:"w-5 h-5 text-dark-400 hover:text-dark-200",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})})}),t&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),p.jsxs("div",{className:"absolute right-0 top-full mt-2 w-72 bg-dark-800 rounded-lg shadow-xl border border-dark-700 z-50 p-4",children:[p.jsx("h3",{className:"text-sm font-semibold text-dark-100 mb-3",children:"Progress Backup"}),u&&p.jsxs("div",{className:"mb-4 p-3 bg-dark-900 rounded-lg",children:[p.jsx("div",{className:"text-xs text-dark-400 mb-1",children:"Current Progress"}),p.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[p.jsxs("span",{className:"text-accent-400 font-semibold",children:[u.totalXP," XP"]}),p.jsxs("span",{className:"text-dark-300",children:["Level ",u.level]}),p.jsxs("span",{className:"text-dark-400",children:[u.sectionsCompleted," sections"]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("button",{onClick:h,disabled:!u,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Export Progress"]}),p.jsxs("button",{onClick:d,disabled:r,className:"w-full flex items-center gap-2 px-3 py-2 bg-dark-700 hover:bg-dark-600 rounded-lg text-sm text-dark-100 transition-colors disabled:opacity-50",children:[p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),r?"Importing...":"Import Backup"]}),p.jsx("input",{ref:l,type:"file",accept:".json",onChange:m,className:"hidden"})]}),i&&p.jsx("div",{className:`mt-3 p-2 rounded text-xs ${i.type==="success"?"bg-green-900/50 text-green-300 border border-green-700":"bg-red-900/50 text-red-300 border border-red-700"}`,children:i.text}),p.jsx("p",{className:"mt-3 text-xs text-dark-500",children:"Export your progress regularly to avoid losing your XP. Import to restore from a backup file."})]})]})]})}const lk={progress:"",mastery:"",dedication:"",exploration:""};function ck({notification:e,onDismiss:t}){return j.useEffect(()=>{const n=setTimeout(t,5e3);return()=>clearTimeout(n)},[t]),p.jsx(Mo.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"pointer-events-auto",children:p.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl bg-dark-800 border border-primary-500/30 shadow-xl shadow-primary-500/10",children:[p.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:lk[e.category]||""}),p.jsxs("div",{className:"flex-1",children:[p.jsx("div",{className:"text-xs text-primary-400 font-medium uppercase tracking-wider mb-0.5",children:"Achievement Unlocked!"}),p.jsx("div",{className:"text-dark-100 font-semibold",children:e.title}),p.jsx("div",{className:"text-sm text-dark-400",children:e.description})]}),p.jsxs("div",{className:"text-right",children:[p.jsxs("div",{className:"text-lg font-bold text-primary-400",children:["+",e.xpReward]}),p.jsx("div",{className:"text-xs text-dark-500",children:"XP"})]}),p.jsx("button",{onClick:t,className:"p-1 text-dark-500 hover:text-dark-300 transition-colors",children:p.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function uk({notifications:e,onDismiss:t}){return p.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 pointer-events-none",children:p.jsx(dh,{mode:"popLayout",children:e.map(n=>p.jsx(ck,{notification:n,onDismiss:()=>t(n.id)},n.id))})})}function fk({onToggleSidebar:e,sidebarOpen:t}){const{name:n,icon:i,features:s,hubUrl:r}=pE(),a=tf(),l=s.gamification?a:null;return p.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800",children:p.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":t?"Close sidebar":"Open sidebar",children:p.jsx("svg",{className:"w-6 h-6 text-dark-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t?p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),p.jsxs(xr,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[p.jsx("span",{className:"text-2xl",children:i}),p.jsx("h1",{className:"text-lg font-semibold text-dark-100 hidden sm:block",children:n})]})]}),p.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[p.jsx("a",{href:r,className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Hub"}),p.jsx(xr,{to:"/",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Home"}),s.theoremIndex&&p.jsx(xr,{to:"/theorems",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Theorems"}),s.interactiveModules&&p.jsx(xr,{to:"/interactive",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Interactive"}),s.leaderboard&&p.jsx(xr,{to:"/leaderboard",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Leaderboard"})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[s.gamification&&l&&p.jsxs(p.Fragment,{children:[p.jsx(rk,{streak:l.state.streak.currentStreak}),p.jsx(sk,{xp:l.state.user.totalXP,level:l.state.user.level})]}),s.gamification&&p.jsx(ok,{})]})]})})}function hk({isOpen:e,onClose:t}){const{id:n,features:i,curriculum:s}=pE(),[r,a]=j.useState(new Set([1])),l=tf(),u=i.gamification?l:null,h=m=>{a(g=>{const T=new Set(g);return T.has(m)?T.delete(m):T.add(m),T})},d=m=>{var T;if(!u)return"none";const g=`${n}:${m}`;return((T=u.state.sections[g])==null?void 0:T.masteryLevel)??"none"};return p.jsxs(p.Fragment,{children:[p.jsx(dh,{children:e&&p.jsx(Mo.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/50 z-40 lg:hidden"})}),p.jsx("aside",{className:`
          fixed top-16 left-0 bottom-0 z-40
          w-72 bg-dark-900 border-r border-dark-800
          transform transition-transform duration-300 ease-in-out
          ${e?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0
          overflow-y-auto
        `,children:p.jsxs("nav",{className:"p-4",children:[p.jsxs("div",{className:"mb-6",children:[p.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mb-2",children:[p.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center",children:p.jsx("span",{className:"text-xs font-bold text-amber-400",children:""})}),p.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-dark-500",children:"Reference"})]}),p.jsxs("ul",{className:"space-y-0.5",children:[i.theoremIndex&&p.jsx("li",{children:p.jsxs(Pl,{to:"/theorems",className:({isActive:m})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${m?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[p.jsx("span",{className:"text-lg",children:""}),"Theorems"]})}),i.interactiveModules&&p.jsx("li",{children:p.jsxs(Pl,{to:"/interactive",className:({isActive:m})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${m?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[p.jsx("span",{className:"text-lg",children:""}),"Interactive Modules"]})}),i.problemSets&&p.jsx("li",{children:p.jsxs(Pl,{to:"/problems",className:({isActive:m})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${m?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[p.jsx("span",{className:"text-lg",children:""}),"Problem Sets"]})})]})]}),p.jsx("div",{className:"space-y-2",children:s.map(m=>p.jsxs("div",{children:[p.jsxs("button",{onClick:()=>h(m.id),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-dark-800 transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:p.jsx("span",{className:"text-xs font-bold text-primary-400",children:m.id})}),p.jsx("span",{className:"text-sm font-medium text-dark-200",children:m.title})]}),p.jsx("svg",{className:`w-4 h-4 text-dark-500 transition-transform ${r.has(m.id)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),p.jsx(dh,{children:r.has(m.id)&&p.jsx(Mo.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"ml-4 mt-1 space-y-0.5 overflow-hidden",children:m.sections.map(g=>p.jsx("li",{children:p.jsxs(Pl,{to:`/section/${g.id}`,onClick:()=>{window.innerWidth<1024&&t()},className:({isActive:T})=>`flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${T?"bg-primary-500/10 text-primary-400":"text-dark-400 hover:bg-dark-800 hover:text-dark-200"}`,children:[p.jsx("span",{className:"truncate",children:g.title}),i.gamification&&p.jsx(ak,{level:d(g.id)})]})},g.id))})})]},m.id))})]})})]})}const mr=[{id:0,title:"Preliminaries",slug:"preliminaries",sections:[{id:0,title:"Basics",slug:"basics",description:"Sets, functions, relations, and basic logical concepts."},{id:1,title:"Properties of the Integers",slug:"properties-integers",description:"Division algorithm, GCD, primes, and the Well-Ordering Property."},{id:2,title:"The Integers Modulo n",slug:"integers-modulo-n",description:"Congruences, residue classes, and the ring Z/nZ."}]},{id:1,title:"Introduction to Groups",slug:"intro-groups",sections:[{id:3,title:"Basic Axioms and Examples",slug:"basic-axioms",description:"Definition of a group, basic properties, and important examples."},{id:4,title:"Dihedral Groups",slug:"dihedral-groups",description:"Symmetries of regular n-gons and the dihedral group D_2n."},{id:5,title:"Symmetric Groups",slug:"symmetric-groups",description:"Permutation groups, cycle notation, and the symmetric group S_n."},{id:6,title:"Matrix Groups",slug:"matrix-groups",description:"General linear groups GL_n(F), special linear groups SL_n(F)."},{id:7,title:"The Quaternion Group",slug:"quaternion-group",description:"The quaternion group Q_8 and its properties."},{id:8,title:"Homomorphisms and Isomorphisms",slug:"homomorphisms-isomorphisms",description:"Group homomorphisms, isomorphisms, and structural equivalence."},{id:9,title:"Group Actions",slug:"group-actions-intro",description:"Introduction to group actions on sets."}]},{id:2,title:"Subgroups",slug:"subgroups",sections:[{id:10,title:"Definition and Examples",slug:"subgroup-definition",description:"Subgroup criteria and important examples."},{id:11,title:"Centralizers and Normalizers",slug:"centralizers-normalizers",description:"Centralizers, normalizers, stabilizers, and kernels."},{id:12,title:"Cyclic Groups",slug:"cyclic-groups",description:"Cyclic groups, generators, and their subgroup structure."},{id:13,title:"Subgroups Generated by Subsets",slug:"generated-subgroups",description:"Generating subgroups from arbitrary subsets."},{id:14,title:"Lattice of Subgroups",slug:"lattice-subgroups",description:"The lattice structure of subgroups of a group."}]},{id:3,title:"Quotient Groups and Homomorphisms",slug:"quotient-groups",sections:[{id:15,title:"Definitions and Examples",slug:"quotient-definitions",description:"Cosets, normal subgroups, and quotient groups."},{id:16,title:"Cosets and Lagrange's Theorem",slug:"lagrange-theorem",description:"Coset properties and Lagrange's fundamental theorem."},{id:17,title:"The Isomorphism Theorems",slug:"isomorphism-theorems",description:"The First, Second, and Third Isomorphism Theorems."},{id:18,title:"Composition Series",slug:"composition-series",description:"Composition series and the Holder program."},{id:19,title:"The Alternating Group",slug:"alternating-group",description:"Transpositions, sign of permutation, and the alternating group A_n."}]},{id:4,title:"Group Actions",slug:"group-actions",sections:[{id:20,title:"Group Actions and Permutation Representations",slug:"permutation-representations",description:"Orbits, stabilizers, and the orbit-stabilizer theorem."},{id:21,title:"Cayley's Theorem",slug:"cayleys-theorem",description:"Groups acting on themselves by left multiplication."},{id:22,title:"The Class Equation",slug:"class-equation",description:"Conjugation action and the class equation."},{id:23,title:"Automorphisms",slug:"automorphisms",description:"Inner and outer automorphisms of groups."},{id:24,title:"The Sylow Theorems",slug:"sylow-theorems",description:"Existence, conjugacy, and counting Sylow p-subgroups."},{id:25,title:"Simplicity of A_n",slug:"simplicity-an",description:"Proof that A_n is simple for n >= 5."}]},{id:5,title:"Direct and Semidirect Products",slug:"direct-semidirect",sections:[{id:26,title:"Direct Products",slug:"direct-products",description:"External and internal direct products of groups."},{id:27,title:"Finitely Generated Abelian Groups",slug:"finitely-generated-abelian",description:"The Fundamental Theorem of Finitely Generated Abelian Groups."},{id:28,title:"Groups of Small Order",slug:"small-order-groups",description:"Classification of groups of small order."},{id:29,title:"Recognizing Direct Products",slug:"recognizing-direct-products",description:"Criteria for recognizing internal direct products."},{id:30,title:"Semidirect Products",slug:"semidirect-products",description:"Construction and examples of semidirect products."}]},{id:6,title:"Further Topics in Group Theory",slug:"further-group-theory",sections:[{id:31,title:"p-groups and Nilpotent Groups",slug:"p-groups-nilpotent",description:"p-groups, nilpotent groups, and solvable groups."},{id:32,title:"Groups of Medium Order",slug:"medium-order-groups",description:"Applications and classification techniques."},{id:33,title:"Free Groups",slug:"free-groups",description:"Free groups and presentations."}]},{id:7,title:"Introduction to Rings",slug:"intro-rings",sections:[{id:34,title:"Basic Definitions and Examples",slug:"ring-definitions",description:"Rings, subrings, units, and zero divisors."},{id:35,title:"Polynomial and Matrix Rings",slug:"polynomial-matrix-rings",description:"Polynomial rings R[x], matrix rings, and group rings."},{id:36,title:"Ring Homomorphisms and Quotient Rings",slug:"ring-homomorphisms",description:"Ring homomorphisms, ideals, and quotient rings."},{id:37,title:"Properties of Ideals",slug:"ideal-properties",description:"Prime ideals, maximal ideals, and ideal operations."},{id:38,title:"Rings of Fractions",slug:"rings-fractions",description:"Localization and fields of fractions."},{id:39,title:"Chinese Remainder Theorem",slug:"crt-rings",description:"The Chinese Remainder Theorem for rings."}]},{id:8,title:"Euclidean Domains, PIDs, and UFDs",slug:"ed-pid-ufd",sections:[{id:40,title:"Euclidean Domains",slug:"euclidean-domains",description:"Euclidean domains and the division algorithm."},{id:41,title:"Principal Ideal Domains",slug:"pids",description:"PIDs and their properties."},{id:42,title:"Unique Factorization Domains",slug:"ufds",description:"UFDs, irreducibles, and primes."}]},{id:9,title:"Polynomial Rings",slug:"polynomial-rings",sections:[{id:43,title:"Definitions and Basic Properties",slug:"polynomial-basics",description:"Polynomial rings and basic operations."},{id:44,title:"Polynomial Rings over Fields I",slug:"poly-fields-1",description:"Division algorithm and factorization."},{id:45,title:"Polynomial UFDs",slug:"poly-ufds",description:"Polynomial rings that are UFDs."},{id:46,title:"Irreducibility Criteria",slug:"irreducibility",description:"Eisenstein criterion and reduction methods."},{id:47,title:"Polynomial Rings over Fields II",slug:"poly-fields-2",description:"Advanced properties of polynomial rings."},{id:48,title:"Grobner Bases",slug:"grobner-bases",description:"Polynomials in several variables and Grobner bases."}]},{id:10,title:"Introduction to Module Theory",slug:"intro-modules",sections:[{id:49,title:"Basic Definitions and Examples",slug:"module-definitions",description:"Modules over rings and basic examples."},{id:50,title:"Quotient Modules and Homomorphisms",slug:"module-homomorphisms",description:"Submodules, quotient modules, and module homomorphisms."},{id:51,title:"Direct Sums and Free Modules",slug:"free-modules",description:"Generation, direct sums, and free modules."},{id:52,title:"Tensor Products",slug:"tensor-products",description:"Tensor products of modules."},{id:53,title:"Exact Sequences",slug:"exact-sequences",description:"Projective, injective, and flat modules."}]},{id:11,title:"Vector Spaces",slug:"vector-spaces",sections:[{id:54,title:"Definitions and Basic Theory",slug:"vector-space-basics",description:"Vector spaces, bases, and dimension."},{id:55,title:"Linear Transformations",slug:"linear-transformations",description:"The matrix of a linear transformation."},{id:56,title:"Dual Vector Spaces",slug:"dual-spaces",description:"Dual spaces and dual bases."},{id:57,title:"Determinants",slug:"determinants",description:"Determinants and their properties."},{id:58,title:"Tensor Algebras",slug:"tensor-algebras",description:"Tensor, symmetric, and exterior algebras."}]},{id:12,title:"Modules over PIDs",slug:"modules-pids",sections:[{id:59,title:"Basic Theory",slug:"modules-pid-basic",description:"Structure theorem for modules over PIDs."},{id:60,title:"Rational Canonical Form",slug:"rational-canonical",description:"The rational canonical form of a matrix."},{id:61,title:"Jordan Canonical Form",slug:"jordan-canonical",description:"The Jordan canonical form."}]},{id:13,title:"Field Theory",slug:"field-theory",sections:[{id:62,title:"Field Extensions",slug:"field-extensions",description:"Basic theory of field extensions."},{id:63,title:"Algebraic Extensions",slug:"algebraic-extensions",description:"Algebraic elements and algebraic extensions."},{id:64,title:"Straightedge and Compass",slug:"straightedge-compass",description:"Classical geometric constructions."},{id:65,title:"Splitting Fields",slug:"splitting-fields",description:"Splitting fields and algebraic closures."},{id:66,title:"Separable Extensions",slug:"separable-extensions",description:"Separable and inseparable extensions."},{id:67,title:"Cyclotomic Polynomials",slug:"cyclotomic-polynomials",description:"Cyclotomic polynomials and extensions."}]},{id:14,title:"Galois Theory",slug:"galois-theory",sections:[{id:68,title:"Basic Definitions",slug:"galois-definitions",description:"Fixed fields and Galois groups."},{id:69,title:"Fundamental Theorem",slug:"fundamental-theorem-galois",description:"The Fundamental Theorem of Galois Theory."},{id:70,title:"Finite Fields",slug:"finite-fields",description:"Structure and classification of finite fields."},{id:71,title:"Composite and Simple Extensions",slug:"composite-extensions",description:"Composite extensions and simple extensions."},{id:72,title:"Cyclotomic Extensions",slug:"cyclotomic-extensions",description:"Cyclotomic extensions and abelian extensions over Q."},{id:73,title:"Galois Groups of Polynomials",slug:"galois-groups-polynomials",description:"Computing Galois groups of polynomials."},{id:74,title:"Solvable Extensions",slug:"solvable-extensions",description:"Solvable and radical extensions; insolvability of the quintic."},{id:75,title:"Computing Galois Groups",slug:"computing-galois",description:"Computation of Galois groups over Q."},{id:76,title:"Transcendental Extensions",slug:"transcendental-extensions",description:"Transcendental extensions and infinite Galois groups."}]},{id:15,title:"Commutative Rings and Algebraic Geometry",slug:"commutative-algebraic-geometry",sections:[{id:77,title:"Noetherian Rings",slug:"noetherian-rings",description:"Noetherian rings and affine algebraic sets."},{id:78,title:"Radicals and Varieties",slug:"radicals-varieties",description:"Radicals and affine varieties."},{id:79,title:"Hilbert's Nullstellensatz",slug:"nullstellensatz",description:"Integral extensions and Hilbert's Nullstellensatz."},{id:80,title:"Localization",slug:"localization",description:"Localization of rings and modules."},{id:81,title:"Prime Spectrum",slug:"prime-spectrum",description:"The prime spectrum of a ring."}]},{id:16,title:"Artinian Rings and Dedekind Domains",slug:"artinian-dedekind",sections:[{id:82,title:"Artinian Rings",slug:"artinian-rings",description:"Artinian rings and their structure."},{id:83,title:"Discrete Valuation Rings",slug:"dvrs",description:"Discrete valuation rings."},{id:84,title:"Dedekind Domains",slug:"dedekind-domains",description:"Dedekind domains and ideal factorization."}]},{id:17,title:"Homological Algebra",slug:"homological-algebra",sections:[{id:85,title:"Ext and Tor",slug:"ext-tor",description:"Introduction to homological algebra: Ext and Tor."},{id:86,title:"Cohomology of Groups",slug:"group-cohomology",description:"The cohomology of groups."},{id:87,title:"Crossed Homomorphisms",slug:"crossed-homomorphisms",description:"Crossed homomorphisms and H^1(G, A)."},{id:88,title:"Group Extensions",slug:"group-extensions",description:"Group extensions, factor sets, and H^2(G, A)."}]},{id:18,title:"Representation Theory",slug:"representation-theory",sections:[{id:89,title:"Linear Actions and Group Rings",slug:"linear-actions",description:"Linear actions and modules over group rings."},{id:90,title:"Wedderburn's Theorem",slug:"wedderburn-theorem",description:"Wedderburn's theorem and consequences."},{id:91,title:"Character Theory",slug:"character-theory",description:"Character theory and orthogonality relations."}]},{id:19,title:"Applications of Character Theory",slug:"character-applications",sections:[{id:92,title:"Characters of Small Groups",slug:"characters-small-groups",description:"Characters of groups of small order."},{id:93,title:"Burnside and Hall",slug:"burnside-hall",description:"Theorems of Burnside and Hall."},{id:94,title:"Induced Characters",slug:"induced-characters",description:"Introduction to the theory of induced characters."}]}];function o6(e){for(const t of mr){const n=t.sections.find(i=>i.id===e);if(n)return n}}function l6(e){return mr.find(t=>t.sections.some(n=>n.id===e))}function c6(e){const t=mr.flatMap(i=>i.sections),n=t.findIndex(i=>i.id===e);return{prev:n>0?t[n-1]:null,next:n<t.length-1?t[n+1]:null}}function dk(){return mr.reduce((e,t)=>e+t.sections.length,0)}function pk(){return mr.flatMap(e=>e.sections)}function u6(e){return pk().findIndex(n=>n.id===e)}function mk({xp:e,level:t,compact:n=!1}){const i=yS(e,t);return n?p.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",t]}),p.jsxs("span",{className:"text-dark-400",children:[e," XP"]})]}):p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:p.jsx("span",{className:"text-sm font-bold text-white",children:t})}),p.jsxs("div",{className:"flex-1 min-w-[80px]",children:[p.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[p.jsxs("span",{className:"text-dark-400",children:["Level ",t]}),p.jsxs("span",{className:"text-primary-400 font-medium",children:[e," XP"]})]}),p.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:p.jsx(Mo.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${i}%`},transition:{duration:.5}})})]})]})}function gk({streak:e}){return e===0?null:p.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[p.jsx("span",{className:"text-orange-400",children:""}),p.jsx("span",{className:"text-sm font-medium text-orange-400",children:e})]})}function g_(){const e=tf(),t=Vn.gamification?e:null,n=dk(),i=t?t.state.user.sectionsCompleted.filter(r=>r.startsWith(Ko)).length:0,s=Math.round(i/n*100);return p.jsx("div",{className:"py-8 px-4",children:p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs("div",{className:"text-center mb-12",children:[p.jsx("span",{className:"text-6xl mb-4 block",children:lS}),p.jsx("h1",{className:"text-4xl font-bold text-dark-100 mb-4",children:oS}),p.jsx("p",{className:"text-xl text-dark-400 max-w-2xl mx-auto",children:dA})]}),Vn.gamification&&t&&p.jsxs("div",{className:"mb-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h2",{className:"text-lg font-semibold text-dark-100",children:"Your Progress"}),p.jsx(gk,{streak:t.state.streak.currentStreak})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsx("div",{children:p.jsx(mk,{xp:t.state.user.totalXP,level:t.state.user.level})}),p.jsxs("div",{className:"flex flex-col justify-center",children:[p.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[p.jsx("span",{className:"text-dark-400",children:"Course Progress"}),p.jsxs("span",{className:"text-primary-400 font-medium",children:[s,"%"]})]}),p.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",style:{width:`${s}%`}})}),p.jsxs("div",{className:"text-xs text-dark-500 mt-1",children:[i," of ",n," sections"]})]}),p.jsxs("div",{className:"flex flex-col justify-center items-end",children:[p.jsx("div",{className:"text-2xl font-bold text-dark-100",children:t.state.user.quizzesTaken}),p.jsx("div",{className:"text-sm text-dark-400",children:"Quizzes Completed"})]})]})]}),p.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Course Content"}),p.jsx("div",{className:"space-y-4",children:mr.map(r=>p.jsxs("div",{className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-dark-600/50 transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[p.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:p.jsx("span",{className:"text-lg font-bold text-primary-400",children:r.id})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:r.title}),p.jsxs("p",{className:"text-sm text-dark-400",children:[r.sections.length," sections"]})]})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:r.sections.map(a=>{const l=`${Ko}:${a.id}`,u=t==null?void 0:t.state.user.sectionsCompleted.includes(l);return p.jsxs(xr,{to:`/section/${a.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-dark-700/50 transition-colors group",children:[p.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${u?"bg-emerald-500/20 text-emerald-400":"bg-dark-700 text-dark-400"}`,children:u?p.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):p.jsx("span",{className:"text-xs",children:a.id})}),p.jsx("span",{className:"text-sm text-dark-300 group-hover:text-dark-100 transition-colors",children:a.title})]},a.id)})})]},r.id))})]})})}function yk(e){const t={};for(const[n,i]of Object.entries(e)){const s=n.match(/Section(\d+)/);if(s){const r=parseInt(s[1],10);t[r]=i}}return t}const _k={id:Ko,name:oS,icon:lS,hubUrl:pA,features:Vn,curriculum:mr},vk=j.lazy(()=>M(()=>import("./Leaderboard-BlEG21QI.js"),__vite__mapDeps([0,1,2,3,4]))),Sk=j.lazy(()=>M(()=>import("./Theorems-DAmCndXx.js"),__vite__mapDeps([5,1,2,6,3,7,4]))),bk=j.lazy(()=>M(()=>import("./InteractiveModules-HQFiRofg.js"),__vite__mapDeps([8,1,2,6,3,4]))),Ek=j.lazy(()=>M(()=>import("./SectionQuizPage-Cvo0_MC2.js"),__vite__mapDeps([9,1,2,3,10,4]))),Tk=j.lazy(()=>M(()=>import("./ProblemsIndex-DZrXPJl2.js"),__vite__mapDeps([11,1,2,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,3,4]))),Ak=j.lazy(()=>M(()=>import("./ProblemsPart00-DXAiLiGH.js"),__vite__mapDeps([33,1,2,12,3,34,13,4]))),wk=j.lazy(()=>M(()=>import("./ProblemsPart01-Di1BRrmu.js"),__vite__mapDeps([35,1,2,12,3,34,14,4]))),xk=j.lazy(()=>M(()=>import("./ProblemsPart02-CDXOFZKW.js"),__vite__mapDeps([36,1,2,12,3,34,15,4]))),Ok=j.lazy(()=>M(()=>import("./ProblemsPart03-CR46w-oj.js"),__vite__mapDeps([37,1,2,12,3,34,16,4]))),Nk=j.lazy(()=>M(()=>import("./ProblemsPart04-C7_fXEiP.js"),__vite__mapDeps([38,1,2,12,3,34,17,4]))),Ck=j.lazy(()=>M(()=>import("./ProblemsPart05-B3zp_rBH.js"),__vite__mapDeps([39,1,2,12,3,34,18,4]))),Rk=j.lazy(()=>M(()=>import("./ProblemsPart06-aEprdADp.js"),__vite__mapDeps([40,1,2,12,3,34,19,4]))),Dk=j.lazy(()=>M(()=>import("./ProblemsPart07-mMzcuy1I.js"),__vite__mapDeps([41,1,2,12,3,34,20,4]))),Ik=j.lazy(()=>M(()=>import("./ProblemsPart08-DhqnGDmp.js"),__vite__mapDeps([42,1,2,12,3,34,21,4]))),kk=j.lazy(()=>M(()=>import("./ProblemsPart09-BpcnaztR.js"),__vite__mapDeps([43,1,2,12,3,34,22,4]))),zk=j.lazy(()=>M(()=>import("./ProblemsPart10-BXadKWtM.js"),__vite__mapDeps([44,1,2,12,3,34,23,4]))),Mk=j.lazy(()=>M(()=>import("./ProblemsPart11-CJiOeh7h.js"),__vite__mapDeps([45,1,2,12,3,34,24,4]))),Lk=j.lazy(()=>M(()=>import("./ProblemsPart12-WFsCawbL.js"),__vite__mapDeps([46,1,2,12,3,34,25,4]))),Uk=j.lazy(()=>M(()=>import("./ProblemsPart13-DFQYfflO.js"),__vite__mapDeps([47,1,2,12,3,34,26,4]))),jk=j.lazy(()=>M(()=>import("./ProblemsPart14-D8FujEws.js"),__vite__mapDeps([48,1,2,12,3,34,27,4]))),Pk=j.lazy(()=>M(()=>import("./ProblemsPart15-SqLEZvLc.js"),__vite__mapDeps([49,1,2,12,3,34,28,4]))),Vk=j.lazy(()=>M(()=>import("./ProblemsPart16-M27C_-j4.js"),__vite__mapDeps([50,1,2,12,3,34,29,4]))),Hk=j.lazy(()=>M(()=>import("./ProblemsPart17-CPzTmUyL.js"),__vite__mapDeps([51,1,2,12,3,34,30,4]))),Bk=j.lazy(()=>M(()=>import("./ProblemsPart18-BJkw4cms.js"),__vite__mapDeps([52,1,2,12,3,34,31,4]))),Gk=j.lazy(()=>M(()=>import("./ProblemsPart19-CCT3L6Q2.js"),__vite__mapDeps([53,1,2,12,3,34,32,4]))),Zk=Object.assign({"./pages/sections/Section00.tsx":()=>M(()=>import("./Section00-CpmpmlGQ.js"),__vite__mapDeps([54,1,2,55,10,3,7,56,4])),"./pages/sections/Section01.tsx":()=>M(()=>import("./Section01-BrG1b0JR.js"),__vite__mapDeps([57,1,2,55,10,3,7,56,4])),"./pages/sections/Section02.tsx":()=>M(()=>import("./Section02-DiN-fPon.js"),__vite__mapDeps([58,1,2,55,10,3,7,56,4])),"./pages/sections/Section03.tsx":()=>M(()=>import("./Section03-CN48igRE.js"),__vite__mapDeps([59,1,2,55,10,3,7,56,4])),"./pages/sections/Section04.tsx":()=>M(()=>import("./Section04-qc3KIQKp.js"),__vite__mapDeps([60,1,2,55,10,3,7,56,4])),"./pages/sections/Section05.tsx":()=>M(()=>import("./Section05-QYlJDQW8.js"),__vite__mapDeps([61,1,2,55,10,3,7,56,4])),"./pages/sections/Section06.tsx":()=>M(()=>import("./Section06-D5fumCmC.js"),__vite__mapDeps([62,1,2,55,10,3,7,56,4])),"./pages/sections/Section07.tsx":()=>M(()=>import("./Section07-DdW7SPPf.js"),__vite__mapDeps([63,1,2,55,10,3,7,56,4])),"./pages/sections/Section08.tsx":()=>M(()=>import("./Section08-DlUH4sUF.js"),__vite__mapDeps([64,1,2,55,10,3,7,56,4])),"./pages/sections/Section09.tsx":()=>M(()=>import("./Section09-BcV-_G8K.js"),__vite__mapDeps([65,1,2,55,10,3,7,56,4])),"./pages/sections/Section10.tsx":()=>M(()=>import("./Section10-5rnAq8SD.js"),__vite__mapDeps([66,1,2,55,10,3,7,56,4])),"./pages/sections/Section11.tsx":()=>M(()=>import("./Section11-CtgpKVxN.js"),__vite__mapDeps([67,1,2,55,10,3,7,56,4])),"./pages/sections/Section12.tsx":()=>M(()=>import("./Section12-CUrgtgB6.js"),__vite__mapDeps([68,1,2,55,10,3,7,56,4])),"./pages/sections/Section13.tsx":()=>M(()=>import("./Section13-BAz9hG52.js"),__vite__mapDeps([69,1,2,55,10,3,7,56,4])),"./pages/sections/Section14.tsx":()=>M(()=>import("./Section14-CiNM_Kpv.js"),__vite__mapDeps([70,1,2,55,10,3,7,56,4])),"./pages/sections/Section15.tsx":()=>M(()=>import("./Section15-9y3PnN1u.js"),__vite__mapDeps([71,1,2,55,10,3,7,4])),"./pages/sections/Section16.tsx":()=>M(()=>import("./Section16-h7DRU_39.js"),__vite__mapDeps([72,1,2,55,10,3,7,4])),"./pages/sections/Section17.tsx":()=>M(()=>import("./Section17--ETtMQRL.js"),__vite__mapDeps([73,1,2,55,10,3,7,4])),"./pages/sections/Section18.tsx":()=>M(()=>import("./Section18-DPZjlWir.js"),__vite__mapDeps([74,1,2,55,10,3,7,4])),"./pages/sections/Section19.tsx":()=>M(()=>import("./Section19-CQebyv8e.js"),__vite__mapDeps([75,1,2,55,10,3,7,4])),"./pages/sections/Section20.tsx":()=>M(()=>import("./Section20-BAbyltHI.js"),__vite__mapDeps([76,1,2,55,10,3,7,4])),"./pages/sections/Section21.tsx":()=>M(()=>import("./Section21-wyimos7N.js"),__vite__mapDeps([77,1,2,55,10,3,7,4])),"./pages/sections/Section22.tsx":()=>M(()=>import("./Section22-1E9NXLe0.js"),__vite__mapDeps([78,1,2,55,10,3,7,4])),"./pages/sections/Section23.tsx":()=>M(()=>import("./Section23-B0wOL5_M.js"),__vite__mapDeps([79,1,2,55,10,3,7,4])),"./pages/sections/Section24.tsx":()=>M(()=>import("./Section24-DitQYuRe.js"),__vite__mapDeps([80,1,2,55,10,3,7,4])),"./pages/sections/Section25.tsx":()=>M(()=>import("./Section25-C9Wli-Au.js"),__vite__mapDeps([81,1,2,55,10,3,7,4])),"./pages/sections/Section26.tsx":()=>M(()=>import("./Section26-BGrE7HWz.js"),__vite__mapDeps([82,1,2,55,10,3,7,4])),"./pages/sections/Section27.tsx":()=>M(()=>import("./Section27--uraJQ4t.js"),__vite__mapDeps([83,1,2,55,10,3,7,4])),"./pages/sections/Section28.tsx":()=>M(()=>import("./Section28-CdWC2Olh.js"),__vite__mapDeps([84,1,2,55,10,3,7,4])),"./pages/sections/Section29.tsx":()=>M(()=>import("./Section29-DGYyynma.js"),__vite__mapDeps([85,1,2,55,10,3,7,4])),"./pages/sections/Section30.tsx":()=>M(()=>import("./Section30-CipxK4c6.js"),__vite__mapDeps([86,1,2,55,10,3,7,4])),"./pages/sections/Section31.tsx":()=>M(()=>import("./Section31-B0dS828V.js"),__vite__mapDeps([87,1,2,55,10,3,7,4])),"./pages/sections/Section32.tsx":()=>M(()=>import("./Section32-BYoZbGXg.js"),__vite__mapDeps([88,1,2,55,10,3,89,7,4])),"./pages/sections/Section33.tsx":()=>M(()=>import("./Section33-D5BsBs4B.js"),__vite__mapDeps([90,1,2,55,10,3,89,7,4])),"./pages/sections/Section34.tsx":()=>M(()=>import("./Section34-CE5zC5UG.js"),__vite__mapDeps([91,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section35.tsx":()=>M(()=>import("./Section35-BcGBEP0O.js"),__vite__mapDeps([92,1,2,55,10,3,89,7,93,56,4])),"./pages/sections/Section36.tsx":()=>M(()=>import("./Section36-C43q7S6b.js"),__vite__mapDeps([94,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section37.tsx":()=>M(()=>import("./Section37-Bv8_6Va8.js"),__vite__mapDeps([95,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section38.tsx":()=>M(()=>import("./Section38-D9vV-_EX.js"),__vite__mapDeps([96,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section39.tsx":()=>M(()=>import("./Section39-IEGmsDok.js"),__vite__mapDeps([97,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section40.tsx":()=>M(()=>import("./Section40-CQpNViZP.js"),__vite__mapDeps([98,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section41.tsx":()=>M(()=>import("./Section41-Bn3DKd-b.js"),__vite__mapDeps([99,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section42.tsx":()=>M(()=>import("./Section42-DsLD0wOK.js"),__vite__mapDeps([100,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section43.tsx":()=>M(()=>import("./Section43-CuW0vgG9.js"),__vite__mapDeps([101,1,2,55,10,3,89,7,93,56,4])),"./pages/sections/Section44.tsx":()=>M(()=>import("./Section44-BNS--RAJ.js"),__vite__mapDeps([102,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section45.tsx":()=>M(()=>import("./Section45-CtCDea4C.js"),__vite__mapDeps([103,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section46.tsx":()=>M(()=>import("./Section46-BwJmydIJ.js"),__vite__mapDeps([104,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section47.tsx":()=>M(()=>import("./Section47-DsESYIiB.js"),__vite__mapDeps([105,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section48.tsx":()=>M(()=>import("./Section48-Cy4uZgHF.js"),__vite__mapDeps([106,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section49.tsx":()=>M(()=>import("./Section49-cGg_T1sD.js"),__vite__mapDeps([107,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section50.tsx":()=>M(()=>import("./Section50-Bbx86cVx.js"),__vite__mapDeps([108,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section51.tsx":()=>M(()=>import("./Section51-DOhBQVn0.js"),__vite__mapDeps([109,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section52.tsx":()=>M(()=>import("./Section52-BpJyYaOB.js"),__vite__mapDeps([110,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section53.tsx":()=>M(()=>import("./Section53-DgW13Imi.js"),__vite__mapDeps([111,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section54.tsx":()=>M(()=>import("./Section54-Nxt5sFLA.js"),__vite__mapDeps([112,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section55.tsx":()=>M(()=>import("./Section55-C8qfh2LG.js"),__vite__mapDeps([113,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section56.tsx":()=>M(()=>import("./Section56-CTK_My-w.js"),__vite__mapDeps([114,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section57.tsx":()=>M(()=>import("./Section57-D0IriHzq.js"),__vite__mapDeps([115,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section58.tsx":()=>M(()=>import("./Section58-Cs21IGY-.js"),__vite__mapDeps([116,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section59.tsx":()=>M(()=>import("./Section59-DSKD5Pty.js"),__vite__mapDeps([117,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section60.tsx":()=>M(()=>import("./Section60-BxcNiFKA.js"),__vite__mapDeps([118,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section61.tsx":()=>M(()=>import("./Section61-CRgHp5X8.js"),__vite__mapDeps([119,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section62.tsx":()=>M(()=>import("./Section62-BB_MUss7.js"),__vite__mapDeps([120,1,2,55,10,3,89,7,56,4])),"./pages/sections/Section63.tsx":()=>M(()=>import("./Section63-C9lFiIRk.js"),__vite__mapDeps([121,1,2,55,10,3,7,56,4])),"./pages/sections/Section64.tsx":()=>M(()=>import("./Section64-iaUBC3Pf.js"),__vite__mapDeps([122,1,2,55,10,3,7,56,4])),"./pages/sections/Section65.tsx":()=>M(()=>import("./Section65-CtNJaNZ1.js"),__vite__mapDeps([123,1,2,55,10,3,7,56,4])),"./pages/sections/Section66.tsx":()=>M(()=>import("./Section66-D4YLJ-1z.js"),__vite__mapDeps([124,1,2,55,10,3,7,56,4])),"./pages/sections/Section67.tsx":()=>M(()=>import("./Section67-CS-t5E4c.js"),__vite__mapDeps([125,1,2,55,10,3,7,56,4])),"./pages/sections/Section68.tsx":()=>M(()=>import("./Section68-C6VXE_I4.js"),__vite__mapDeps([126,1,2,55,10,3,7,56,4])),"./pages/sections/Section69.tsx":()=>M(()=>import("./Section69-YgGFfhGu.js"),__vite__mapDeps([127,1,2,55,10,3,7,56,4])),"./pages/sections/Section70.tsx":()=>M(()=>import("./Section70-WCVywCGB.js"),__vite__mapDeps([128,1,2,55,10,3,7,56,4])),"./pages/sections/Section71.tsx":()=>M(()=>import("./Section71-BtH6ekjz.js"),__vite__mapDeps([129,1,2,55,10,3,7,56,4])),"./pages/sections/Section72.tsx":()=>M(()=>import("./Section72-DpQQ6L3c.js"),__vite__mapDeps([130,1,2,55,10,3,7,56,4])),"./pages/sections/Section73.tsx":()=>M(()=>import("./Section73-D5Z0qQk3.js"),__vite__mapDeps([131,1,2,55,10,3,7,56,4])),"./pages/sections/Section74.tsx":()=>M(()=>import("./Section74-C25y9Gxx.js"),__vite__mapDeps([132,1,2,55,10,3,7,56,4])),"./pages/sections/Section75.tsx":()=>M(()=>import("./Section75-CwC41_fy.js"),__vite__mapDeps([133,1,2,55,10,3,7,56,4])),"./pages/sections/Section76.tsx":()=>M(()=>import("./Section76-DFovWjTR.js"),__vite__mapDeps([134,1,2,55,10,3,7,56,4])),"./pages/sections/Section77.tsx":()=>M(()=>import("./Section77-vRpgTl2k.js"),__vite__mapDeps([135,1,2,55,10,3,7,56,4])),"./pages/sections/Section78.tsx":()=>M(()=>import("./Section78-iy0Ec34q.js"),__vite__mapDeps([136,1,2,55,10,3,7,56,4])),"./pages/sections/Section79.tsx":()=>M(()=>import("./Section79-CG4mqbmZ.js"),__vite__mapDeps([137,1,2,55,10,3,7,56,4])),"./pages/sections/Section80.tsx":()=>M(()=>import("./Section80-D2P_uHey.js"),__vite__mapDeps([138,1,2,55,10,3,7,56,4])),"./pages/sections/Section81.tsx":()=>M(()=>import("./Section81-BT8imjp4.js"),__vite__mapDeps([139,1,2,55,10,3,7,56,4])),"./pages/sections/Section82.tsx":()=>M(()=>import("./Section82-C7SocN5P.js"),__vite__mapDeps([140,1,2,55,10,3,7,56,4])),"./pages/sections/Section83.tsx":()=>M(()=>import("./Section83-fuoC2Fdb.js"),__vite__mapDeps([141,1,2,55,10,3,7,56,4])),"./pages/sections/Section84.tsx":()=>M(()=>import("./Section84-BdDETUO_.js"),__vite__mapDeps([142,1,2,55,10,3,7,56,4])),"./pages/sections/Section85.tsx":()=>M(()=>import("./Section85-C40L902G.js"),__vite__mapDeps([143,1,2,55,10,3,7,56,4])),"./pages/sections/Section86.tsx":()=>M(()=>import("./Section86-vNU44Ano.js"),__vite__mapDeps([144,1,2,55,10,3,7,56,4])),"./pages/sections/Section87.tsx":()=>M(()=>import("./Section87-Qsc0B8AE.js"),__vite__mapDeps([145,1,2,55,10,3,7,56,4])),"./pages/sections/Section88.tsx":()=>M(()=>import("./Section88-C720XPcm.js"),__vite__mapDeps([146,1,2,55,10,3,7,56,4])),"./pages/sections/Section89.tsx":()=>M(()=>import("./Section89-DE6kGRRh.js"),__vite__mapDeps([147,1,2,55,10,3,7,56,4])),"./pages/sections/Section90.tsx":()=>M(()=>import("./Section90-DN4TJ4ZR.js"),__vite__mapDeps([148,1,2,55,10,3,7,56,4])),"./pages/sections/Section91.tsx":()=>M(()=>import("./Section91-Bmc253Fo.js"),__vite__mapDeps([149,1,2,55,10,3,7,56,4])),"./pages/sections/Section92.tsx":()=>M(()=>import("./Section92-JaAjwADb.js"),__vite__mapDeps([150,1,2,55,10,3,7,56,4])),"./pages/sections/Section93.tsx":()=>M(()=>import("./Section93--XLBImMW.js"),__vite__mapDeps([151,1,2,55,10,3,7,56,4])),"./pages/sections/Section94.tsx":()=>M(()=>import("./Section94-E6q2N-0W.js"),__vite__mapDeps([152,1,2,55,10,3,7,56,4]))}),qk=yk(Zk),gE={};for(const[e,t]of Object.entries(qk))gE[Number(e)]=j.lazy(t);function $k(){const{id:e}=zE(),t=parseInt(e||"0",10),n=gE[t];return n?p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading section..."}),children:p.jsx(n,{})}):p.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Section Not Found"}),p.jsx("p",{className:"text-dark-400",children:"This section is not yet implemented."})]})})}function Fk({children:e}){const[t,n]=j.useState(!1);return p.jsxs("div",{className:"min-h-screen bg-dark-950",children:[p.jsx(fk,{sidebarOpen:t,onToggleSidebar:()=>n(!t)}),p.jsx(hk,{isOpen:t,onClose:()=>n(!1)}),p.jsx("main",{className:"pt-16 lg:pl-72",children:e})]})}function fc(){return p.jsxs(p.Fragment,{children:[p.jsx(Fk,{children:p.jsxs(kE,{children:[p.jsx(ve,{path:"/",element:p.jsx(g_,{})}),Vn.leaderboard&&p.jsx(ve,{path:"/leaderboard",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading leaderboard..."}),children:p.jsx(vk,{})})}),Vn.theoremIndex&&p.jsx(ve,{path:"/theorems",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading theorems..."}),children:p.jsx(Sk,{})})}),Vn.interactiveModules&&p.jsx(ve,{path:"/interactive",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading modules..."}),children:p.jsx(bk,{})})}),p.jsx(ve,{path:"/problems",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading problems..."}),children:p.jsx(Tk,{})})}),p.jsx(ve,{path:"/problems/0",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading problems..."}),children:p.jsx(Ak,{})})}),p.jsx(ve,{path:"/problems/1",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading problems..."}),children:p.jsx(wk,{})})}),p.jsx(ve,{path:"/problems/2",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading problems..."}),children:p.jsx(xk,{})})}),p.jsx(ve,{path:"/problems/3",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading problems..."}),children:p.jsx(Ok,{})})}),p.jsx(ve,{path:"/problems/4",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading problems..."}),children:p.jsx(Nk,{})})}),p.jsx(ve,{path:"/problems/5",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading problems..."}),children:p.jsx(Ck,{})})}),p.jsx(ve,{path:"/problems/6",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading problems..."}),children:p.jsx(Rk,{})})}),p.jsx(ve,{path:"/problems/7",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading problems..."}),children:p.jsx(Dk,{})})}),p.jsx(ve,{path:"/problems/8",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading problems..."}),children:p.jsx(Ik,{})})}),p.jsx(ve,{path:"/problems/9",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading problems..."}),children:p.jsx(kk,{})})}),p.jsx(ve,{path:"/problems/10",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading problems..."}),children:p.jsx(zk,{})})}),p.jsx(ve,{path:"/problems/11",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading problems..."}),children:p.jsx(Mk,{})})}),p.jsx(ve,{path:"/problems/12",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading problems..."}),children:p.jsx(Lk,{})})}),p.jsx(ve,{path:"/problems/13",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading problems..."}),children:p.jsx(Uk,{})})}),p.jsx(ve,{path:"/problems/14",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading problems..."}),children:p.jsx(jk,{})})}),p.jsx(ve,{path:"/problems/15",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading problems..."}),children:p.jsx(Pk,{})})}),p.jsx(ve,{path:"/problems/16",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading problems..."}),children:p.jsx(Vk,{})})}),p.jsx(ve,{path:"/problems/17",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading problems..."}),children:p.jsx(Hk,{})})}),p.jsx(ve,{path:"/problems/18",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading problems..."}),children:p.jsx(Bk,{})})}),p.jsx(ve,{path:"/problems/19",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading problems..."}),children:p.jsx(Gk,{})})}),p.jsx(ve,{path:"/section/:id",element:p.jsx($k,{})}),p.jsx(ve,{path:"/quiz/section/:id",element:p.jsx(j.Suspense,{fallback:p.jsx(we,{message:"Loading quiz..."}),children:p.jsx(Ek,{})})}),p.jsx(ve,{path:"*",element:p.jsx(g_,{})})]})}),Vn.gamification&&p.jsx(Xk,{})]})}function Xk(){const{notifications:e,dismissNotification:t}=tf();return p.jsx(uk,{notifications:e,onDismiss:t})}function Yk(){return p.jsx(QI,{children:p.jsxs(ek,{children:[p.jsx(KI,{config:_k,children:p.jsx(IE,{children:Vn.nostrAuth?p.jsx(GI,{children:Vn.gamification?p.jsx(m_,{children:p.jsx(fc,{})}):p.jsx(fc,{})}):Vn.gamification?p.jsx(m_,{children:p.jsx(fc,{})}):p.jsx(fc,{})})}),p.jsx(nk,{})]})})}uA.createRoot(document.getElementById("root")).render(p.jsx(j.StrictMode,{children:p.jsx(Yk,{})}));export{oS as C,Vn as F,pA as H,n6 as L,t6 as R,gk as S,mk as X,Xn as a,oo as b,WA as c,GA as d,VA as e,s6 as f,el as g,ma as h,es as i,BA as j,tf as k,lS as l,mr as m,Ko as n,KA as o,e6 as p,ut as q,o6 as r,i6 as s,l6 as t,qI as u,r6 as v,c6 as w,dk as x,u6 as y,a6 as z};
