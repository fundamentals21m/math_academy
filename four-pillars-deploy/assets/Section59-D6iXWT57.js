import{j as e}from"./vendor-animation-0o8UKZ_1.js";import{L as X,D as Y,C as A,T as k,q as $}from"./index-Di3Gbot4.js";import{M as d}from"./MathBlock-DHMt0FrA.js";import{S as B}from"./SectionQuiz-CpRFyxwe.js";import{r as u}from"./vendor-react-Drj8qL0h.js";import"./index-IQqYxXMM.js";import"./vendor-math-p018AHG0.js";import"./vendor-firebase-core-BXWtuYvb.js";function H({className:F=""}){const E=u.useRef(null),[l,C]=u.useState("translation"),[h,q]=u.useState(1),[v,P]=u.useState(!1),[S,T]=u.useState(0),z=500,w=350,y=40,L=z/2,j=w-40,m=(t,s)=>[L+t*y,j-s*y],M=(t,s)=>{if(t.y<=0)return null;const a=h*s;switch(l){case"translation":return{x:t.x+a,y:t.y};case"scaling":{const r=Math.exp(a);return{x:t.x*r,y:t.y*r}}case"reflection":return{x:-t.x*s+t.x*(1-s),y:t.y};case"inversion":{const r=t.x*t.x+t.y*t.y;if(r<.01)return null;const o=t.x/r,p=t.y/r;return{x:t.x*(1-s)+o*s,y:t.y*(1-s)+p*s}}default:return t}},D=()=>{const t=[];for(let s=-3;s<=3;s+=1.5)t.push({type:"vertical",x:s});for(let s=-2;s<=2;s+=2)for(let a=1;a<=3;a+=1)t.push({type:"semicircle",center:s,radius:a});return t};u.useEffect(()=>{const t=E.current;if(!t)return;const s=t.getContext("2d");if(!s)return;if(s.fillStyle="#0f172a",s.fillRect(0,0,z,w),s.strokeStyle="#475569",s.lineWidth=2,s.beginPath(),s.moveTo(0,j),s.lineTo(z,j),s.stroke(),l==="inversion"){s.strokeStyle="#fbbf24",s.lineWidth=1,s.setLineDash([4,4]);const[i,x]=m(0,0);s.beginPath(),s.arc(i,x,y,0,Math.PI,!0),s.stroke(),s.setLineDash([]),s.fillStyle="#fbbf24",s.font="10px sans-serif",s.fillText("unit circle",i+y+5,x-5)}const a=S,r=D();s.lineWidth=1.5,r.forEach((i,x)=>{if(s.strokeStyle="rgba(148, 163, 184, 0.3)",i.type==="vertical"){const[n]=m(i.x,0);s.beginPath(),s.moveTo(n,j),s.lineTo(n,0),s.stroke()}else{const[n]=m(i.center,0);s.beginPath(),s.arc(n,j,i.radius*y,Math.PI,0,!1),s.stroke()}if(s.strokeStyle=x%2===0?"#22d3ee":"#a78bfa",s.beginPath(),i.type==="vertical")for(let n=.1;n<=6;n+=.1){const g=M({x:i.x,y:n},a);if(!g||g.y<=0)continue;const[N,f]=m(g.x,g.y);n===.1?s.moveTo(N,f):s.lineTo(N,f)}else for(let n=Math.PI;n>=0;n-=.05){const g=i.center+i.radius*Math.cos(n),N=i.radius*Math.sin(n),f=M({x:g,y:N},a);if(!f||f.y<=0)continue;const[I,R]=m(f.x,f.y);n===Math.PI?s.moveTo(I,R):s.lineTo(I,R)}s.stroke()});const o={x:1,y:2},[p,c]=m(o.x,o.y);s.fillStyle="rgba(244, 114, 182, 0.5)",s.beginPath(),s.arc(p,c,5,0,Math.PI*2),s.fill();const b=M(o,a);if(b&&b.y>0){const[i,x]=m(b.x,b.y);s.fillStyle="#f472b6",s.beginPath(),s.arc(i,x,6,0,Math.PI*2),s.fill(),s.strokeStyle="#f472b6",s.setLineDash([3,3]),s.beginPath(),s.moveTo(p,c),s.lineTo(i,x),s.stroke(),s.setLineDash([])}},[l,h,S]),u.useEffect(()=>{if(!v)return;let t,s=null;const a=2e3,r=o=>{s||(s=o);const p=o-s,c=Math.min(p/a,1),b=c<.5?2*c*c:1-Math.pow(-2*c+2,2)/2;T(b),c<1?t=requestAnimationFrame(r):P(!1)};return t=requestAnimationFrame(r),()=>cancelAnimationFrame(t)},[v]);const G=()=>{T(0),P(!0)},W=()=>{switch(l){case"translation":return`z → z + ${h.toFixed(1)}`;case"scaling":return`z → ${Math.exp(h).toFixed(2)}z`;case"reflection":return"z → -z̄";case"inversion":return"z → 1/z̄"}};return e.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${F}`,children:[e.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Möbius Transformation Demo"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx("canvas",{ref:E,width:z,height:w,className:"border border-slate-700 rounded"})}),e.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Transform Type"}),e.jsxs("select",{value:l,onChange:t=>{C(t.target.value),T(0)},className:"w-full px-2 py-1.5 bg-slate-800 border border-slate-600 rounded text-slate-200 text-sm",children:[e.jsx("option",{value:"translation",children:"Translation (z → z + l)"}),e.jsx("option",{value:"scaling",children:"Scaling (z → kz)"}),e.jsx("option",{value:"reflection",children:"Reflection (z → -z̄)"}),e.jsx("option",{value:"inversion",children:"Inversion (z → 1/z̄)"})]})]}),(l==="translation"||l==="scaling")&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Parameter: ",l==="translation"?h.toFixed(1):Math.exp(h).toFixed(2)]}),e.jsx("input",{type:"range",min:l==="translation"?-3:-1,max:l==="translation"?3:1,step:"0.1",value:h,onChange:t=>q(parseFloat(t.target.value)),className:"w-full"})]}),e.jsx("button",{onClick:G,disabled:v,className:"w-full px-3 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-slate-600 text-white rounded text-sm font-medium",children:v?"Animating...":"Animate Transform"}),e.jsx("div",{className:"p-2 bg-slate-800 rounded text-center",children:e.jsx("span",{className:"text-cyan-400 font-mono text-lg",children:W()})}),e.jsx("div",{className:"text-xs text-slate-400",children:e.jsx("p",{children:"Watch how geodesics (hyperbolic lines) map to geodesics under Möbius transformations."})})]})]})]})}function ee(){return e.jsxs(X,{sectionId:59,children:[e.jsx("h2",{children:"Reflections and Möbius Transformations"}),e.jsxs("p",{children:["Now we bring together complex conjugation and linear fractional transformations to define ",e.jsx("strong",{children:"reflections"})," in hyperbolic geometry. These reflections, together with the orientation-preserving transformations, generate all isometries of the hyperbolic plane."]}),e.jsx("h3",{children:"Möbius Transformations"}),e.jsxs(Y,{title:"Möbius Transformation",children:[e.jsxs("p",{children:["A ",e.jsx("strong",{children:"Möbius transformation"})," of the upper half plane is a map of one of the two forms:"]}),e.jsx(d,{children:"f(z) = \\frac{az + b}{cz + d} \\quad \\text{(orientation-preserving)}"}),e.jsx(d,{children:"f(z) = \\frac{a\\bar{z} + b}{c\\bar{z} + d} \\quad \\text{(orientation-reversing)}"}),e.jsx("p",{className:"mt-2",children:"where a, b, c, d are real numbers with ad - bc > 0 for the first form and ad - bc < 0 for the second form."})]}),e.jsxs(A,{type:"info",children:[e.jsx("strong",{children:"Sign Convention:"})," The condition on ad - bc ensures that the transformation maps the upper half plane to itself. For orientation-preserving maps we need ad - bc > 0, and for orientation-reversing maps we need ad - bc < 0."]}),e.jsx("h3",{children:"Generating Transformations"}),e.jsx("p",{children:"All Möbius transformations can be built from a small set of simple generators. This is analogous to how all isometries of the Euclidean plane can be built from translations, rotations, and reflections."}),e.jsxs(k,{title:"Generators of Möbius Transformations",children:[e.jsx("p",{children:"Every Möbius transformation of the upper half plane is a composition of the following generators:"}),e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsx(d,{children:"z \\mapsto z + l \\quad \\text{(horizontal translation by } l \\in \\mathbb{R}\\text{)}"}),e.jsx(d,{children:"z \\mapsto kz \\quad \\text{(scaling by } k > 0\\text{)}"}),e.jsx(d,{children:"z \\mapsto -\\bar{z} \\quad \\text{(reflection in imaginary axis)}"}),e.jsx(d,{children:"z \\mapsto \\frac{1}{\\bar{z}} \\quad \\text{(inversion-reflection)}"})]})]}),e.jsx("h3",{children:"Understanding the Generators"}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Horizontal Translation: z → z + l"}),e.jsx("p",{className:"text-slate-300",children:"This shifts every point horizontally by l units. If z = x + iy, then z + l = (x + l) + iy. The imaginary part (height above the x-axis) is unchanged."})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Scaling: z → kz"}),e.jsx("p",{className:"text-slate-300",children:"This scales distances from the origin by factor k. If z = x + iy, then kz = kx + iky. Both real and imaginary parts are multiplied by k. This is a dilation centered at the origin."})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Reflection in Imaginary Axis: z → -z̄"}),e.jsx("p",{className:"text-slate-300",children:"If z = x + iy, then -z̄ = -x + iy. This reflects points across the imaginary axis (the y-axis). Points on the imaginary axis are fixed."})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Inversion-Reflection: z → 1/z̄"}),e.jsx("p",{className:"text-slate-300 mb-2",children:"This is a composition of inversion in the unit circle and reflection across the real axis. It maps the unit semicircle to itself and exchanges points inside and outside the unit circle."}),e.jsx("p",{className:"text-slate-300",children:"For example: i → 1/(-i) = -1/i = i (fixed), and 2i → 1/(-2i) = i/2."})]}),e.jsx(H,{className:"my-6"}),e.jsx("h3",{children:"Reflections in Non-Euclidean Lines"}),e.jsxs("p",{children:["A ",e.jsx("strong",{children:"reflection"})," in a non-Euclidean line L is a Möbius transformation that fixes every point on L and reverses orientation."]}),e.jsxs(k,{title:"Reflection Formulas",children:[e.jsx("p",{children:"The reflection in a non-Euclidean line is given by:"}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Reflection in vertical line x = a:"}),e.jsx(d,{children:"z \\mapsto -\\bar{z} + 2a = 2a - \\bar{z}"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Reflection in semicircle with center c and radius r:"}),e.jsx(d,{children:"z \\mapsto c + \\frac{r^2}{\\bar{z} - c}"})]})]})]}),e.jsxs(A,{type:"warning",children:[e.jsx("strong",{children:"Circle Inversion:"}),' The reflection in a semicircular non-Euclidean line is related to "circle inversion" in Euclidean geometry. However, the conjugation ensures that the upper half plane maps to itself.']}),e.jsx("h3",{children:"Verification: Reflection in Imaginary Axis"}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Checking the Formula"}),e.jsx("p",{className:"text-slate-300 mb-2",children:"The imaginary axis is the vertical line x = 0. The reflection formula gives z → 2(0) - z̄ = -z̄."}),e.jsx("p",{className:"text-slate-300 mb-2",children:"Let's verify this works:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-300",children:[e.jsx("li",{children:"Points on the imaginary axis: z = iy → -z̄ = -(-iy) = iy ✓ (fixed)"}),e.jsx("li",{children:"The map z → -z̄ reverses orientation ✓"}),e.jsx("li",{children:"Applying twice: z → -z̄ → -(-z̄)̄ = -(-z) = z ✓ (involution)"})]})]}),e.jsx("h3",{children:"Composition of Reflections"}),e.jsx("p",{children:"An important fact, familiar from Euclidean geometry, is that the composition of two reflections gives an orientation-preserving transformation."}),e.jsx(k,{title:"Two Reflections",children:e.jsx("p",{children:"The composition of two reflections in non-Euclidean lines is an orientation-preserving Möbius transformation (a hyperbolic motion). Conversely, every orientation-preserving Möbius transformation is a composition of two reflections."})}),e.jsx("h3",{children:"Exercises"}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.3.1"}),e.jsx("p",{className:"text-slate-300",children:"Verify that z → z + l maps the upper half plane to itself."})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.3.2"}),e.jsx("p",{className:"text-slate-300",children:"Show that z → kz (for k > 0) maps non-Euclidean lines to non-Euclidean lines."})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.3.3"}),e.jsx("p",{className:"text-slate-300",children:"Find the image of the point 1 + i under the reflection in the non-Euclidean line x = 0 (the imaginary axis)."})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.3.4"}),e.jsx("p",{className:"text-slate-300",children:"Show that z → 1/z̄ fixes every point on the unit semicircle |z| = 1, y > 0."})]}),e.jsx(B,{sectionId:59,questions:$[59]||[],title:"Reflections and Möbius Transformations Quiz"})]})}export{ee as default};
