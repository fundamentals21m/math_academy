import{j as e}from"./vendor-animation-0o8UKZ_1.js";import{L as R,T as C,C as D,D as $,q as I}from"./index-D42mtZgu.js";import{M as d}from"./MathBlock-DHMt0FrA.js";import{S as z}from"./SectionQuiz-6yENJUid.js";import{r as f}from"./vendor-react-Drj8qL0h.js";import"./index-wPvFP65j.js";import"./vendor-math-p018AHG0.js";import"./vendor-firebase-functions-Bu93Ly_7.js";import"./vendor-firebase-core-_7V-tLLm.js";import"./vendor-firebase-auth-Br51EKMN.js";function B({className:M=""}){const F=f.useRef(null),[l,u]=f.useState(2),[x,j]=f.useState(1),[a,g]=f.useState(1),[n,y]=f.useState(1),[v,L]=f.useState(!1),h=600,m=400,w=i=>{const t=a*i+n;return Math.abs(t)<.001?null:(l*i+x)/t},_=l*n-x*a,b=Math.abs(_)>.001;f.useEffect(()=>{const i=F.current;if(!i)return;const t=i.getContext("2d");if(!t)return;t.fillStyle="#0f172a",t.fillRect(0,0,h,m);const p=h/2,N=m/2,k=40,q=40,c=s=>p+s*k,o=s=>N-s*q;t.strokeStyle="#1e293b",t.lineWidth=1;for(let s=-10;s<=10;s++)t.beginPath(),t.moveTo(c(s),0),t.lineTo(c(s),m),t.stroke();for(let s=-5;s<=5;s++)t.beginPath(),t.moveTo(0,o(s)),t.lineTo(h,o(s)),t.stroke();if(t.strokeStyle="#475569",t.lineWidth=2,t.beginPath(),t.moveTo(0,N),t.lineTo(h,N),t.stroke(),t.beginPath(),t.moveTo(p,0),t.lineTo(p,m),t.stroke(),t.fillStyle="#94a3b8",t.font="12px sans-serif",t.fillText("x",h-15,N-10),t.fillText("f(x)",p+10,15),Math.abs(a)>.001){const s=-n/a;Math.abs(s)<10&&(t.strokeStyle="rgba(239, 68, 68, 0.5)",t.lineWidth=2,t.setLineDash([5,5]),t.beginPath(),t.moveTo(c(s),0),t.lineTo(c(s),m),t.stroke(),t.setLineDash([]),t.fillStyle="#ef4444",t.font="11px sans-serif",t.fillText(`x = ${s.toFixed(2)}`,c(s)+5,30),t.fillText("(asymptote)",c(s)+5,45))}if(Math.abs(a)>.001){const s=l/a;Math.abs(s)<5&&(t.strokeStyle="rgba(34, 197, 94, 0.5)",t.lineWidth=2,t.setLineDash([5,5]),t.beginPath(),t.moveTo(0,o(s)),t.lineTo(h,o(s)),t.stroke(),t.setLineDash([]),t.fillStyle="#22c55e",t.font="11px sans-serif",t.fillText(`y = ${s.toFixed(2)}`,10,o(s)-5))}if(b){t.strokeStyle="#60a5fa",t.lineWidth=3,t.beginPath();let s=!1;for(let r=0;r<h;r++){const A=(r-p)/k,T=w(A);if(T!==null&&Math.abs(T)<10){const S=o(T);if(!s)t.moveTo(r,S),s=!0;else{const E=(r-1-p)/k,P=w(E);P!==null&&Math.abs(T-P)>5?(t.stroke(),t.beginPath(),t.moveTo(r,S)):t.lineTo(r,S)}}else s&&(t.stroke(),t.beginPath(),s=!1)}t.stroke(),t.strokeStyle="rgba(156, 163, 175, 0.4)",t.lineWidth=1,t.setLineDash([3,3]),t.beginPath(),t.moveTo(c(-10),o(-10)),t.lineTo(c(10),o(10)),t.stroke(),t.setLineDash([])}[-2,-1,0,1,2,3].forEach(s=>{const r=w(s);r!==null&&Math.abs(r)<5&&Math.abs(s)<8&&(t.fillStyle="#fbbf24",t.beginPath(),t.arc(c(s),o(0),4,0,Math.PI*2),t.fill(),t.strokeStyle="rgba(251, 191, 36, 0.6)",t.lineWidth=1,t.setLineDash([2,2]),t.beginPath(),t.moveTo(c(s),o(0)),t.lineTo(c(s),o(r)),t.lineTo(c(0),o(r)),t.stroke(),t.setLineDash([]),t.fillStyle="#ec4899",t.beginPath(),t.arc(c(s),o(r),5,0,Math.PI*2),t.fill())}),t.fillStyle="#e2e8f0",t.font="bold 16px sans-serif",t.fillText(`f(x) = (${l}x + ${x}) / (${a}x + ${n})`,20,30),t.font="12px sans-serif",t.fillStyle="#94a3b8",t.fillText(`det = ad - bc = ${_.toFixed(2)}`,20,50),t.fillStyle=b?"#22c55e":"#ef4444",t.fillText(b?"✓ Valid (det ≠ 0)":"✗ Invalid (det = 0)",20,70)},[l,x,a,n,b,_]);const W=()=>Math.abs(a)<.001?[{step:1,desc:`Multiply by ${(l/n).toFixed(2)}`,formula:`x → ${(l/n).toFixed(2)}x`},{step:2,desc:`Add ${(x/n).toFixed(2)}`,formula:`x → x + ${(x/n).toFixed(2)}`}]:[{step:1,desc:`Multiply by c = ${a}`,formula:`x → ${a}x`},{step:2,desc:`Add d = ${n}`,formula:`x → x + ${n}`},{step:3,desc:"Multiply by c again",formula:`x → ${a}x`},{step:4,desc:"Reciprocate",formula:"x → 1/x"},{step:5,desc:`Multiply by bc-ad = ${(x*a-l*n).toFixed(2)}`,formula:`x → ${(x*a-l*n).toFixed(2)}x`},{step:6,desc:`Add a/c = ${(l/a).toFixed(2)}`,formula:`x → x + ${(l/a).toFixed(2)}`}];return e.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${M}`,children:[e.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Linear Fractional Functions on ℝP¹"}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("canvas",{ref:F,width:h,height:m,className:"border border-slate-700 rounded"})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["a = ",l]}),e.jsx("input",{type:"range",min:"-3",max:"3",step:"0.5",value:l,onChange:i=>u(parseFloat(i.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["b = ",x]}),e.jsx("input",{type:"range",min:"-3",max:"3",step:"0.5",value:x,onChange:i=>j(parseFloat(i.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["c = ",a]}),e.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:a,onChange:i=>g(parseFloat(i.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["d = ",n]}),e.jsx("input",{type:"range",min:"-3",max:"3",step:"0.5",value:n,onChange:i=>y(parseFloat(i.target.value)),className:"w-full"})]})]}),e.jsxs("div",{className:"flex justify-center gap-3 mb-4",children:[e.jsx("button",{onClick:()=>{u(1),j(0),g(0),y(1)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Identity"}),e.jsx("button",{onClick:()=>{u(0),j(1),g(1),y(0)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Reciprocal (1/x)"}),e.jsx("button",{onClick:()=>{u(2),j(1),g(1),y(1)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Example"}),e.jsxs("button",{onClick:()=>L(!v),className:`px-3 py-2 text-sm rounded transition ${v?"bg-purple-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[v?"Hide":"Show"," Decomposition"]})]}),v&&b&&e.jsxs("div",{className:"bg-slate-900/50 p-3 rounded mb-4",children:[e.jsx("p",{className:"text-sm text-purple-400 font-semibold mb-2",children:"Decomposition into generators:"}),e.jsx("div",{className:"space-y-1 text-sm text-slate-300",children:W().map((i,t)=>e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("span",{className:"text-purple-400",children:[i.step,"."]}),e.jsxs("span",{children:[i.desc,":"]}),e.jsx("span",{className:"text-amber-400",children:i.formula})]},t))})]}),e.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[e.jsx("p",{className:"mb-2",children:e.jsx("strong",{children:"Key Properties:"})}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:["f(x) = (ax + b)/(cx + d) is valid when ",e.jsx("span",{className:"text-green-400",children:"ad - bc ≠ 0"})]}),e.jsxs("li",{children:[e.jsx("span",{className:"text-red-400",children:"Vertical asymptote"})," at x = -d/c (where denominator = 0)"]}),e.jsxs("li",{children:["f maps ∞ → a/c and -d/c → ∞ (works on ℝ ∪ ","{","∞","}",")"]}),e.jsxs("li",{children:["Every linear fractional function is a composition of ",e.jsx("span",{className:"text-amber-400",children:"translations, scalings, and reciprocation"})]})]})]})]})}function ee(){return e.jsxs(R,{sectionId:36,children:[e.jsx("h2",{children:"Linear Fractional Functions"}),e.jsxs("p",{children:["The functions sending x to 1/x, kx, and x + l are among the functions called",e.jsx("strong",{children:" linear fractional"}),", each of which has the form:"]}),e.jsx(d,{children:"f(x) = \\frac{ax + b}{cx + d} \\quad \\text{where } ad - bc \\neq 0"}),e.jsx("h3",{children:"Why ad − bc ≠ 0?"}),e.jsx("p",{children:"The condition ad − bc ≠ 0 ensures that f(x) is not constant. Constancy occurs only if ax + b = (a/c)(cx + d), in which case ad − bc = 0."}),e.jsxs(C,{title:"Decomposition of Linear Fractional Functions",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"We derive the decomposition algebraically. Starting with f(x) = (ax + b)/(cx + d) where c ≠ 0:"}),e.jsx(d,{math:"\\frac{ax + b}{cx + d} = \\frac{ax + b}{cx + d}"}),e.jsx("p",{className:"mt-2",children:"We perform polynomial long division of the numerator by the denominator. Since (a/c)(cx + d) = ax + ad/c, we have:"}),e.jsx(d,{math:"ax + b = \\frac{a}{c}(cx + d) + \\left(b - \\frac{ad}{c}\\right) = \\frac{a}{c}(cx + d) + \\frac{bc - ad}{c}"}),e.jsx("p",{className:"mt-2",children:"Therefore:"}),e.jsx(d,{math:"\\frac{ax + b}{cx + d} = \\frac{a}{c} + \\frac{bc - ad}{c(cx + d)}"}),e.jsx("p",{className:"mt-2",children:"To express this as a composition of generators, we trace the sequence of operations:"}),e.jsx(d,{math:"x \\xrightarrow{\\times c} cx \\xrightarrow{+d} cx + d \\xrightarrow{1/(\\cdot)} \\frac{1}{cx+d} \\xrightarrow{\\times(bc-ad)} \\frac{bc-ad}{cx+d} \\xrightarrow{\\div c} \\frac{bc-ad}{c(cx+d)} \\xrightarrow{+a/c} \\frac{a}{c} + \\frac{bc-ad}{c(cx+d)}"}),e.jsx("p",{className:"mt-2",children:"Each step is a translation, scaling, or reciprocation, confirming the decomposition."})]}),children:[e.jsx("p",{children:"By algebraic manipulation, any linear fractional function with c ≠ 0 may be written as:"}),e.jsx(d,{children:"f(x) = \\frac{a}{c} + \\frac{bc - ad}{c(cx + d)}"}),e.jsx("p",{className:"mt-2",children:"Such a function can therefore be composed from the generating transformations:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 mt-2",children:[e.jsx("li",{children:"First multiply x by c"}),e.jsx("li",{children:"Then add d"}),e.jsx("li",{children:"Then multiply again by c"}),e.jsx("li",{children:"Then reciprocate (take 1/x)"}),e.jsx("li",{children:"Then multiply by bc − ad"}),e.jsx("li",{children:"Finally add a/c"})]})]}),e.jsx("p",{children:"When c = 0, the linear fractional function is simply (ax + b)/d = (a/d)x + b/d, composed by multiplying by a/d and adding b/d."}),e.jsxs(D,{type:"info",children:[e.jsx("strong",{children:"Key Result:"})," Any linear fractional function is composed from functions that reciprocate, multiply by k, and add l. Hence, any linear fractional function on the number line is realized by a sequence of projections."]}),e.jsx("h3",{children:"The Converse"}),e.jsxs("p",{children:["We now prove the converse: ",e.jsx("strong",{children:"Any sequence of projections of the number line realizes a linear fractional function."})]}),e.jsx("p",{children:"Consider projecting a line onto a perpendicular line from point (a, b). To find where point t on the x-axis goes on the y-axis, we use the slope of the line through t and (a, b):"}),e.jsx(d,{children:"f(t) = \\frac{bt}{t - a}"}),e.jsx("p",{children:"This is a linear fractional function! For the general case of intersecting lines (not necessarily perpendicular), projecting the x-axis from (a, b) onto the line y = cx gives:"}),e.jsx(d,{children:"x = \\frac{bt}{ct - ac + b}"}),e.jsx("p",{children:"This is also a linear fractional function of t."}),e.jsx(C,{title:"Linear Fractional = Projection",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"We prove both directions of this correspondence."}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Projections give linear fractional functions:"})}),e.jsx("p",{children:"Consider projecting from a point P = (a, b) in the plane. A point t on the x-axis maps to the intersection of line Pt with another line (say, the y-axis or a line y = cx)."}),e.jsx("p",{className:"mt-2",children:"For projection onto the y-axis: The line through (t, 0) and (a, b) has slope b/(a - t). This line intersects the y-axis at y = bt/(t - a), which equals -bt/(a - t). Rearranging:"}),e.jsx(d,{math:"f(t) = \\frac{bt}{t - a} = \\frac{bt + 0}{1 \\cdot t + (-a)}"}),e.jsx("p",{className:"mt-2",children:"This is linear fractional with determinant b·(-a) - 0·1 = -ab ≠ 0 (assuming a, b ≠ 0)."}),e.jsx("p",{className:"mt-2",children:"For projection onto y = cx: Similar calculation gives f(t) = bt/(ct - ac + b), also linear fractional."}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Composition preserves the property:"})}),e.jsx("p",{children:"If f₁(x) = (a₁x + b₁)/(c₁x + d₁) and f₂(x) = (a₂x + b₂)/(c₂x + d₂), then:"}),e.jsx(d,{math:"f_1(f_2(x)) = \\frac{a_1 \\cdot \\frac{a_2x + b_2}{c_2x + d_2} + b_1}{c_1 \\cdot \\frac{a_2x + b_2}{c_2x + d_2} + d_1} = \\frac{(a_1a_2 + b_1c_2)x + (a_1b_2 + b_1d_2)}{(c_1a_2 + d_1c_2)x + (c_1b_2 + d_1d_2)}"}),e.jsx("p",{className:"mt-2",children:"This is again linear fractional, and the determinant is the product of the original determinants, hence nonzero."})]}),children:e.jsx("p",{children:"Any single projection of a line can be represented by a linear fractional function. Since composing linear fractional functions gives a linear fractional function, any finite sequence of projections is represented by a linear fractional function."})}),e.jsx("h3",{children:"Dividing by Zero"}),e.jsx("p",{children:"Division by zero is generally not valid, but in carefully controlled situations, it is permissible. The function f(x) = 1/x cannot send x = 0 anywhere (since 1/0 is undefined), nor can it send any point to y = 0."}),e.jsxs($,{title:"The Projective Line ℝ ∪ {'{'}∞{'}'}",children:[e.jsx("p",{children:"This defect is fixed by extending f(x) = 1/x to include x = ∞, declaring:"}),e.jsx(d,{children:"\\frac{1}{\\infty} = 0 \\quad \\text{and} \\quad \\frac{1}{0} = \\infty"}),e.jsxs("p",{className:"mt-2",children:["The new object ∞ is the point at infinity of the line. The function f(x) = 1/x works properly not on ℝ, but on the ",e.jsx("strong",{children:"real projective line"})," ℝ ∪ ","{","∞","}","."]})]}),e.jsx("h3",{children:"The Real Projective Line ℝP¹"}),e.jsxs($,{title:"ℝP¹",children:[e.jsxs("p",{children:["The ",e.jsx("strong",{children:"real projective line ℝP¹"})," is the set ℝ ∪ ","{","∞","}"," together with all the linear fractional functions mapping it onto itself."]}),e.jsxs("p",{className:"mt-2",children:["Any function f(x) = (ax + b)/(cx + d) with ad − bc ≠ 0 maps ℝ ∪ ","{","∞","}"," onto itself. The denominator is 0 when x = −d/c, and the correct value is f(−d/c) = ∞. Conversely, f(∞) = a/c."]})]}),e.jsxs(D,{type:"info",children:[e.jsx("strong",{children:"Elasticity of ℝP¹:"}),' Unlike the ordinary line ℝ, where every point is determined once we know 0 and 1, the projective line is more "elastic." There exists a projection sending 0 to 0, 1 to 1, but 2 to 3. However, if we know where three points go, the destination of every other point is determined.']}),e.jsx("h3",{children:"Exercises"}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.6.1"}),e.jsx("p",{className:"text-slate-300",children:"Solve the equation y = (ax + b)/(cx + d) for x, and note where your solution assumes ad − bc ≠ 0."})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.6.2"}),e.jsx("p",{className:"text-slate-300",children:"If f₁(x) = (a₁x + b₁)/(c₁x + d₁) and f₂(x) = (a₂x + b₂)/(c₂x + d₂), compute f₁(f₂(x)) and verify that it is of the form (Ax + B)/(Cx + D)."})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.6.3"}),e.jsx("p",{className:"text-slate-300",children:"Verify that the matrix product gives the coefficients of the composition:"}),e.jsx(d,{children:"\\begin{pmatrix} A & B \\\\ C & D \\end{pmatrix} = \\begin{pmatrix} a_1 & b_1 \\\\ c_1 & d_1 \\end{pmatrix} \\begin{pmatrix} a_2 & b_2 \\\\ c_2 & d_2 \\end{pmatrix}"})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.6.4"}),e.jsx("p",{className:"text-slate-300",children:"Show that if a₁d₁ − b₁c₁ ≠ 0 for f₁(x) and a₂d₂ − b₂c₂ ≠ 0 for f₂(x), then AD − BC ≠ 0 for f₁(f₂(x)). Why?"})]}),e.jsx(B,{className:"my-6"}),e.jsx(z,{sectionId:36,questions:I[36]||[],title:"Linear Fractional Functions Quiz"})]})}export{ee as default};
