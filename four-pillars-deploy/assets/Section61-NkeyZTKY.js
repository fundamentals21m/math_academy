import{j as e}from"./vendor-animation-0o8UKZ_1.js";import{L as ee,D as V,C as Q,T as F,q as se}from"./index-BTlU4ICT.js";import{M as z}from"./MathBlock-DHMt0FrA.js";import{S as te}from"./SectionQuiz-BeoSbGTB.js";import{r as m}from"./vendor-react-Drj8qL0h.js";import"./index-9ARvsEpo.js";import"./vendor-math-p018AHG0.js";import"./vendor-firebase-functions-Bu93Ly_7.js";import"./vendor-firebase-core-_7V-tLLm.js";import"./vendor-firebase-auth-Br51EKMN.js";function ne({className:K=""}){const R=m.useRef(null),[p,N]=m.useState(1),[f,w]=m.useState(1),[h,T]=m.useState(0),[d,M]=m.useState(1),[x,U]=m.useState(0),[g,J]=m.useState(90),u=600,b=380,_=(t,s)=>[t[0]+s[0],t[1]+s[1]],k=(t,s)=>[t[0]*s[0]-t[1]*s[1],t[0]*s[1]+t[1]*s[0]],H=(t,s)=>{const l=s[0]*s[0]+s[1]*s[1];return l<1e-4?null:[(t[0]*s[0]+t[1]*s[1])/l,(t[1]*s[0]-t[0]*s[1])/l]},Y=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),I=t=>{const s=[p,0],l=[f,0],c=[h,0],i=[d,0],n=_(k(s,t),l),A=_(k(c,t),i);return H(n,A)},Z=t=>{const s=p*d-f*h,l=[h,0],c=[d,0],i=_(k(l,t),c),n=k(i,i);return Y(n)<1e-4?null:H([s,0],n)},X=p*d-f*h,j=Math.abs(X)>.01;return m.useEffect(()=>{const t=R.current;if(!t)return;const s=t.getContext("2d");if(!s)return;s.fillStyle="#0f172a",s.fillRect(0,0,u,b);const l=u/4,c=3*u/4,i=b/2,n=50;s.strokeStyle="#334155",s.lineWidth=2,s.setLineDash([5,5]),s.beginPath(),s.moveTo(u/2,0),s.lineTo(u/2,b),s.stroke(),s.setLineDash([]),s.fillStyle="#e2e8f0",s.font="bold 14px sans-serif",s.fillText("Original (z-plane)",l-60,25),s.fillText("Transformed (w-plane)",c-75,25);const A=a=>{s.strokeStyle="#1e293b",s.lineWidth=1;for(let r=-3;r<=3;r++)s.beginPath(),s.moveTo(a+r*n,i-3*n),s.lineTo(a+r*n,i+3*n),s.stroke();for(let r=-3;r<=3;r++)s.beginPath(),s.moveTo(a-3*n,i-r*n),s.lineTo(a+3*n,i-r*n),s.stroke();s.strokeStyle="#475569",s.lineWidth=2,s.beginPath(),s.moveTo(a-3*n,i),s.lineTo(a+3*n,i),s.stroke(),s.beginPath(),s.moveTo(a,i-3*n),s.lineTo(a,i+3*n),s.stroke()};A(l),A(c);const o=[1,1.5],C=x*Math.PI/180,E=g*Math.PI/180,D=[],q=[];for(let a=-2;a<=2;a+=.1){const r=[o[0]+a*Math.cos(C),o[1]+a*Math.sin(C)],v=[o[0]+a*Math.cos(E),o[1]+a*Math.sin(E)];D.push(r),q.push(v)}const P=(a,r,v,W)=>{s.strokeStyle=r,s.lineWidth=2,s.beginPath();let y=!1;a.forEach(O=>{const S=W?I(O):O;if(S&&Math.abs(S[0])<5&&Math.abs(S[1])<5){const B=v+S[0]*n,G=i-S[1]*n;y?s.lineTo(B,G):(s.moveTo(B,G),y=!0)}else y&&(s.stroke(),s.beginPath(),y=!1)}),s.stroke()};if(P(D,"#60a5fa",l,!1),P(q,"#22c55e",l,!1),j&&(P(D,"#60a5fa",c,!0),P(q,"#22c55e",c,!0)),s.fillStyle="#f59e0b",s.beginPath(),s.arc(l+o[0]*n,i-o[1]*n,6,0,Math.PI*2),s.fill(),j){const a=I(o);a&&Math.abs(a[0])<5&&Math.abs(a[1])<5&&(s.fillStyle="#f59e0b",s.beginPath(),s.arc(c+a[0]*n,i-a[1]*n,6,0,Math.PI*2),s.fill())}const L=25,$=Math.abs(g-x);if(s.strokeStyle="#ec4899",s.lineWidth=2,s.beginPath(),s.arc(l+o[0]*n,i-o[1]*n,L,-E,-C,g>x),s.stroke(),s.fillStyle="#ec4899",s.font="12px sans-serif",s.fillText(`θ = ${$}°`,l+o[0]*n+30,i-o[1]*n-10),j){const a=I(o);if(a&&Math.abs(a[0])<5&&Math.abs(a[1])<5){const r=Z(o);if(r){const v=Math.atan2(r[1],r[0]),W=C+v,y=E+v;s.strokeStyle="#ec4899",s.lineWidth=2,s.beginPath(),s.arc(c+a[0]*n,i-a[1]*n,L,-y,-W,g>x),s.stroke(),s.fillStyle="#ec4899",s.fillText(`θ = ${$}°`,c+a[0]*n+30,i-a[1]*n-10)}}}s.fillStyle="#c084fc",s.font="12px sans-serif",s.fillText(`f(z) = (${p}z + ${f})/(${h}z + ${d})`,u/2-100,b-15),s.fillStyle=j?"#22c55e":"#ef4444",s.font="11px sans-serif",s.fillText(j?"✓ Conformal (angle-preserving)":"✗ det = 0 (degenerate)",10,b-15)},[p,f,h,d,x,g,j]),e.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${K}`,children:[e.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Conformality: Angle Preservation"}),e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("canvas",{ref:R,width:u,height:b,className:"border border-slate-700 rounded"})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-blue-400 mb-1",children:["Curve 1 angle: ",x,"°"]}),e.jsx("input",{type:"range",min:"0",max:"180",value:x,onChange:t=>U(parseInt(t.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-green-400 mb-1",children:["Curve 2 angle: ",g,"°"]}),e.jsx("input",{type:"range",min:"0",max:"180",value:g,onChange:t=>J(parseInt(t.target.value)),className:"w-full"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["a = ",p]}),e.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:p,onChange:t=>N(parseFloat(t.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["b = ",f]}),e.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:f,onChange:t=>w(parseFloat(t.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["c = ",h]}),e.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:h,onChange:t=>T(parseFloat(t.target.value)),className:"w-full"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["d = ",d]}),e.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:d,onChange:t=>M(parseFloat(t.target.value)),className:"w-full"})]})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[e.jsx("button",{onClick:()=>{N(1),w(1),T(0),M(1)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Translation"}),e.jsx("button",{onClick:()=>{N(2),w(0),T(0),M(1)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Scaling"}),e.jsx("button",{onClick:()=>{N(0),w(1),T(1),M(0)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Inversion"}),e.jsx("button",{onClick:()=>{N(1),w(1),T(1),M(2)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"General"})]}),e.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[e.jsx("p",{className:"mb-2",children:e.jsx("strong",{children:"Key Properties:"})}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsxs("li",{children:[e.jsx("span",{className:"text-purple-400",children:"Conformal"})," = angle-preserving at each point"]}),e.jsx("li",{children:"Möbius transformations preserve angles because f'(z) ≠ 0"}),e.jsxs("li",{children:["The angle ",e.jsx("span",{className:"text-pink-400",children:"θ"})," between curves is the same before and after"]}),e.jsxs("li",{children:["Distances and areas change, but ",e.jsx("span",{className:"text-green-400",children:"angles are preserved"})]}),e.jsx("li",{children:"This is why non-Euclidean lines (90° to boundary) map to non-Euclidean lines"})]})]})]})}function fe(){return e.jsxs(ee,{sectionId:61,children:[e.jsx("h2",{children:"Preserving Angle"}),e.jsxs("p",{children:["One of the most important properties of Möbius transformations is that they are ",e.jsx("strong",{children:"conformal"}),' — they preserve angles. This property is crucial for understanding why Möbius transformations are the natural "rigid motions" of hyperbolic geometry.']}),e.jsx("h3",{children:'What Does "Preserve Angles" Mean?'}),e.jsx(V,{title:"Conformal Map",children:e.jsxs("p",{children:["A map f is ",e.jsx("strong",{children:"conformal"})," (angle-preserving) at a point P if, whenever two smooth curves meet at P with angle θ, their images under f meet at f(P) with the same angle θ."]})}),e.jsx("p",{children:"More precisely, we consider the angles between the tangent vectors to the curves at the point of intersection. A conformal map preserves these angles in both magnitude and sense (unless it's orientation-reversing, in which case it preserves magnitude but reverses sense)."}),e.jsxs(Q,{type:"info",children:[e.jsx("strong",{children:"Local vs. Global:"})," Conformality is a local property — it says something about how the map behaves near each point. It doesn't require that distances or areas be preserved, only angles."]}),e.jsx("h3",{children:"Why Möbius Transformations Are Conformal"}),e.jsx("p",{children:"We can verify conformality by checking the generating transformations."}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Translation: z → z + l"}),e.jsx("p",{className:"text-slate-300",children:"Translation is an isometry of the Euclidean plane — it preserves all distances and angles. ✓"})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Scaling: z → kz"}),e.jsx("p",{className:"text-slate-300",children:"Scaling by k > 0 is a similarity transformation. While it changes distances (multiplying them by k), it preserves angles. ✓"})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Conjugation: z → z̄"}),e.jsx("p",{className:"text-slate-300",children:"Reflection across the real axis is an isometry. It preserves angle magnitudes but reverses orientation. ✓"})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Inversion: z → 1/z"}),e.jsx("p",{className:"text-slate-300 mb-2",children:"This is the key case. Inversion in a circle is known to be conformal. The proof requires calculus (checking that the derivative has constant argument at each point), but the result is classical."}),e.jsx("p",{className:"text-slate-300",children:"Since 1/z = z̄/|z|² is the composition of conjugation z → z̄ and scaling by 1/|z|², and both preserve angles, so does 1/z. ✓"})]}),e.jsx(F,{title:"Möbius Transformations Are Conformal",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"We prove conformality using the complex derivative."}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"For f(z) = (az + b)/(cz + d):"})}),e.jsx("p",{children:"Differentiating using the quotient rule:"}),e.jsx(z,{math:"f'(z) = \\frac{a(cz+d) - c(az+b)}{(cz+d)^2} = \\frac{ad - bc}{(cz+d)^2}"}),e.jsx("p",{className:"mt-2",children:"Since ad - bc ≠ 0 by definition of Möbius transformation, f'(z) is never zero where f is defined."}),e.jsx("p",{className:"mt-2",children:e.jsx("strong",{children:"Why nonzero derivative implies conformality:"})}),e.jsxs("p",{children:["At a point z₀, the derivative f'(z₀) = re^","{","iθ","}"," (in polar form). The map f locally acts like:"]}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"Rotation by angle θ (the argument of f'(z₀))"}),e.jsx("li",{children:"Scaling by factor r = |f'(z₀)|"})]}),e.jsx("p",{className:"mt-2",children:"Both rotation and scaling preserve angles. Therefore f is conformal at z₀."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Orientation:"})," If f involves conjugation (z → z̄), then the sense of angles is reversed (as reflection reverses orientation). Otherwise, orientation is preserved."]})]}),children:e.jsx("p",{children:"Every Möbius transformation is conformal. Orientation-preserving Möbius transformations preserve the sense of angles, while orientation-reversing ones (those involving conjugation) reverse the sense."})}),e.jsx("h3",{children:"The Derivative Approach"}),e.jsx("p",{children:"For those familiar with complex analysis, there's an elegant way to see why Möbius transformations are conformal."}),e.jsxs(V,{title:"Complex Derivative",children:[e.jsxs("p",{children:["A function f(z) is ",e.jsx("strong",{children:"complex differentiable"})," (or holomorphic) at z₀ if the limit"]}),e.jsx(z,{children:"f'(z_0) = \\lim_{z \\to z_0} \\frac{f(z) - f(z_0)}{z - z_0}"}),e.jsx("p",{className:"mt-2",children:"exists. If f'(z₀) ≠ 0, then f is conformal at z₀."})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Computing the Derivative"}),e.jsx("p",{className:"text-slate-300 mb-2",children:"For f(z) = (az + b)/(cz + d), using the quotient rule:"}),e.jsx(z,{children:"f'(z) = \\frac{a(cz+d) - c(az+b)}{(cz+d)^2} = \\frac{ad - bc}{(cz+d)^2}"}),e.jsx("p",{className:"text-slate-300 mt-2",children:"Since ad - bc ≠ 0 by assumption, we have f'(z) ≠ 0 wherever f is defined. Hence f is conformal everywhere in its domain."})]}),e.jsx("h3",{children:"Angle Preservation and Hyperbolic Geometry"}),e.jsx("p",{children:"The conformal property has important implications for hyperbolic geometry:"}),e.jsx(F,{title:"Hyperbolic Angles = Euclidean Angles",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"In the upper half-plane model, non-Euclidean lines are semicircles or vertical rays."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"The hyperbolic metric:"})," The hyperbolic metric at a point z = x + iy is ds = |dz|/y. At any point, this metric is a scalar multiple of the Euclidean metric."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Angles from metrics:"})," Angles are determined by inner products. If the hyperbolic metric is g_H = (1/y²)(dx² + dy²) and the Euclidean metric is g_E = dx² + dy², then:"]}),e.jsx(z,{math:"g_H = \\frac{1}{y^2} g_E"}),e.jsx("p",{className:"mt-2",children:"Since g_H is a positive scalar multiple of g_E at each point, the angle between any two tangent vectors is the same in both metrics."}),e.jsx("p",{className:"mt-2",children:"Specifically, if v and w are tangent vectors at z:"}),e.jsx(z,{math:"\\cos\\theta_H = \\frac{g_H(v,w)}{\\sqrt{g_H(v,v)g_H(w,w)}} = \\frac{(1/y^2)g_E(v,w)}{\\sqrt{(1/y^2)g_E(v,v) \\cdot (1/y^2)g_E(w,w)}} = \\cos\\theta_E"}),e.jsx("p",{className:"mt-2",children:"Therefore hyperbolic and Euclidean angles coincide."})]}),children:e.jsx("p",{children:"The angle between two non-Euclidean lines at their point of intersection equals the Euclidean angle between them (as curves in the complex plane)."})}),e.jsxs(Q,{type:"warning",children:[e.jsx("strong",{children:"Same Angles, Different Distances:"})," While hyperbolic geometry has its own notion of distance (which we'll see in the next section), the angles are the same as Euclidean angles. This is because we measure angles using the Euclidean metric on the tangent space."]}),e.jsx("h3",{children:"Application: Right Angles"}),e.jsx("p",{children:"The preservation of angles explains why non-Euclidean lines (which meet the boundary at right angles) map to non-Euclidean lines."}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Orthogonal Trajectories"}),e.jsx("p",{className:"text-slate-300",children:'If L₁ and L₂ are perpendicular non-Euclidean lines, and f is a Möbius transformation, then f(L₁) and f(L₂) are also perpendicular. This preserves the geometric structure of "perpendicular bisectors" and other orthogonality relationships in hyperbolic geometry.'})]}),e.jsx("h3",{children:"Conformality and the Cross-Ratio"}),e.jsx("p",{children:"The conformal property of Möbius transformations is closely related to their preservation of the cross-ratio, which we studied in projective geometry. Both properties make Möbius transformations the natural symmetries of the hyperbolic plane."}),e.jsx(F,{title:"Triple Transitivity",proof:e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"We construct the unique Möbius transformation explicitly."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Step 1:"})," Define f₁ mapping (z₁, z₂, z₃) → (0, 1, ∞):"]}),e.jsx(z,{math:"f_1(z) = \\frac{(z - z_1)(z_2 - z_3)}{(z - z_3)(z_2 - z_1)}"}),e.jsx("p",{className:"mt-2",children:"Verification: f₁(z₁) = 0, f₁(z₂) = 1, f₁(z₃) = ∞."}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Step 2:"})," Similarly define f₂ mapping (w₁, w₂, w₃) → (0, 1, ∞)."]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Step 3:"})," The composition f = f₂⁻¹ ∘ f₁ maps:"]}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:"z₁ → 0 → w₁"}),e.jsx("li",{children:"z₂ → 1 → w₂"}),e.jsx("li",{children:"z₃ → ∞ → w₃"})]}),e.jsxs("p",{className:"mt-2",children:[e.jsx("strong",{children:"Uniqueness:"})," Suppose g also maps (z₁, z₂, z₃) to (w₁, w₂, w₃). Then f⁻¹ ∘ g fixes z₁, z₂, z₃."]}),e.jsx("p",{className:"mt-2",children:"A Möbius transformation with three fixed points must be the identity (by the cross-ratio: if f(zᵢ) = zᵢ for i = 1,2,3, then [z₁, z₂; z₃, f(z)] = [z₁, z₂; z₃, z] for all z, so f(z) = z)."}),e.jsx("p",{className:"mt-2",children:"Therefore g = f, proving uniqueness."})]}),children:e.jsxs("p",{children:["Given any three distinct points on ℝ ∪ ","{","∞","}"," and any other three distinct points on ℝ ∪ ","{","∞","}",", there is a unique Möbius transformation mapping the first triple to the second."]})}),e.jsx("p",{children:'This means the group of Möbius transformations acts "triply transitively" on the boundary of the hyperbolic plane, just as the group of isometries acts transitively on oriented triangles in Euclidean geometry.'}),e.jsx("h3",{children:"Exercises"}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.5.1"}),e.jsx("p",{className:"text-slate-300",children:"Show that the composition of two conformal maps is conformal."})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.5.2"}),e.jsx("p",{className:"text-slate-300",children:"Verify that z → z² is conformal except at z = 0. What happens to angles at the origin?"})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.5.3"}),e.jsx("p",{className:"text-slate-300",children:"Find the angle between the imaginary axis and the semicircle centered at 1 with radius 1, at their point of intersection."})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[e.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.5.4"}),e.jsx("p",{className:"text-slate-300",children:"Show that z → -z̄ preserves angle magnitudes but reverses orientation (clockwise angles become counterclockwise)."})]}),e.jsx(ne,{className:"my-6"}),e.jsx(te,{sectionId:61,questions:se[61]||[],title:"Preserving Angle Quiz"})]})}export{fe as default};
