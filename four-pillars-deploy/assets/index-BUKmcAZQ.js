var IA=Object.defineProperty;var RA=(t,e,n)=>e in t?IA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var pr=(t,e,n)=>RA(t,typeof e!="symbol"?e+"":e,n);function _A(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(s,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function qA(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var l7={exports:{}},Mf={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OA=Symbol.for("react.transitional.element"),BA=Symbol.for("react.fragment");function o7(t,e,n){var s=null;if(n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),"key"in e){n={};for(var r in e)r!=="key"&&(n[r]=e[r])}else n=e;return e=n.ref,{$$typeof:OA,type:t,key:s,ref:e!==void 0?e:null,props:n}}Mf.Fragment=BA;Mf.jsx=o7;Mf.jsxs=o7;l7.exports=Mf;var i=l7.exports,c7={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z4=Symbol.for("react.transitional.element"),$A=Symbol.for("react.portal"),LA=Symbol.for("react.fragment"),FA=Symbol.for("react.strict_mode"),UA=Symbol.for("react.profiler"),HA=Symbol.for("react.consumer"),VA=Symbol.for("react.context"),GA=Symbol.for("react.forward_ref"),WA=Symbol.for("react.suspense"),YA=Symbol.for("react.memo"),h7=Symbol.for("react.lazy"),XA=Symbol.for("react.activity"),Uy=Symbol.iterator;function ZA(t){return t===null||typeof t!="object"?null:(t=Uy&&t[Uy]||t["@@iterator"],typeof t=="function"?t:null)}var u7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d7=Object.assign,f7={};function xc(t,e,n){this.props=t,this.context=e,this.refs=f7,this.updater=n||u7}xc.prototype.isReactComponent={};xc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function m7(){}m7.prototype=xc.prototype;function D4(t,e,n){this.props=t,this.context=e,this.refs=f7,this.updater=n||u7}var P4=D4.prototype=new m7;P4.constructor=D4;d7(P4,xc.prototype);P4.isPureReactComponent=!0;var Hy=Array.isArray;function C1(){}var Ft={H:null,A:null,T:null,S:null},p7=Object.prototype.hasOwnProperty;function I4(t,e,n){var s=n.ref;return{$$typeof:z4,type:t,key:e,ref:s!==void 0?s:null,props:n}}function QA(t,e){return I4(t.type,e,t.props)}function R4(t){return typeof t=="object"&&t!==null&&t.$$typeof===z4}function KA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vy=/\/+/g;function Dm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KA(""+t.key):e.toString(36)}function JA(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(C1,C1):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function go(t,e,n,s,r){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(a){case"bigint":case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case z4:case $A:l=!0;break;case h7:return l=t._init,go(l(t._payload),e,n,s,r)}}if(l)return r=r(t),l=s===""?"."+Dm(t,0):s,Hy(r)?(n="",l!=null&&(n=l.replace(Vy,"$&/")+"/"),go(r,e,n,"",function(h){return h})):r!=null&&(R4(r)&&(r=QA(r,n+(r.key==null||t&&t.key===r.key?"":(""+r.key).replace(Vy,"$&/")+"/")+l)),e.push(r)),1;l=0;var o=s===""?".":s+":";if(Hy(t))for(var c=0;c<t.length;c++)s=t[c],a=o+Dm(s,c),l+=go(s,e,n,a,r);else if(c=ZA(t),typeof c=="function")for(t=c.call(t),c=0;!(s=t.next()).done;)s=s.value,a=o+Dm(s,c++),l+=go(s,e,n,a,r);else if(a==="object"){if(typeof t.then=="function")return go(JA(t),e,n,s,r);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return l}function au(t,e,n){if(t==null)return t;var s=[],r=0;return go(t,s,"","",function(a){return e.call(n,a,r++)}),s}function ek(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gy=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},tk={map:au,forEach:function(t,e,n){au(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return au(t,function(){e++}),e},toArray:function(t){return au(t,function(e){return e})||[]},only:function(t){if(!R4(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};nt.Activity=XA;nt.Children=tk;nt.Component=xc;nt.Fragment=LA;nt.Profiler=UA;nt.PureComponent=D4;nt.StrictMode=FA;nt.Suspense=WA;nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ft;nt.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ft.H.useMemoCache(t)}};nt.cache=function(t){return function(){return t.apply(null,arguments)}};nt.cacheSignal=function(){return null};nt.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var s=d7({},t.props),r=t.key;if(e!=null)for(a in e.key!==void 0&&(r=""+e.key),e)!p7.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(s[a]=e[a]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),o=0;o<a;o++)l[o]=arguments[o+2];s.children=l}return I4(t.type,r,s)};nt.createContext=function(t){return t={$$typeof:VA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:HA,_context:t},t};nt.createElement=function(t,e,n){var s,r={},a=null;if(e!=null)for(s in e.key!==void 0&&(a=""+e.key),e)p7.call(e,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(r[s]=e[s]);var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){for(var o=Array(l),c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}if(t&&t.defaultProps)for(s in l=t.defaultProps,l)r[s]===void 0&&(r[s]=l[s]);return I4(t,a,r)};nt.createRef=function(){return{current:null}};nt.forwardRef=function(t){return{$$typeof:GA,render:t}};nt.isValidElement=R4;nt.lazy=function(t){return{$$typeof:h7,_payload:{_status:-1,_result:t},_init:ek}};nt.memo=function(t,e){return{$$typeof:YA,type:t,compare:e===void 0?null:e}};nt.startTransition=function(t){var e=Ft.T,n={};Ft.T=n;try{var s=t(),r=Ft.S;r!==null&&r(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(C1,Gy)}catch(a){Gy(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ft.T=e}};nt.unstable_useCacheRefresh=function(){return Ft.H.useCacheRefresh()};nt.use=function(t){return Ft.H.use(t)};nt.useActionState=function(t,e,n){return Ft.H.useActionState(t,e,n)};nt.useCallback=function(t,e){return Ft.H.useCallback(t,e)};nt.useContext=function(t){return Ft.H.useContext(t)};nt.useDebugValue=function(){};nt.useDeferredValue=function(t,e){return Ft.H.useDeferredValue(t,e)};nt.useEffect=function(t,e){return Ft.H.useEffect(t,e)};nt.useEffectEvent=function(t){return Ft.H.useEffectEvent(t)};nt.useId=function(){return Ft.H.useId()};nt.useImperativeHandle=function(t,e,n){return Ft.H.useImperativeHandle(t,e,n)};nt.useInsertionEffect=function(t,e){return Ft.H.useInsertionEffect(t,e)};nt.useLayoutEffect=function(t,e){return Ft.H.useLayoutEffect(t,e)};nt.useMemo=function(t,e){return Ft.H.useMemo(t,e)};nt.useOptimistic=function(t,e){return Ft.H.useOptimistic(t,e)};nt.useReducer=function(t,e,n){return Ft.H.useReducer(t,e,n)};nt.useRef=function(t){return Ft.H.useRef(t)};nt.useState=function(t){return Ft.H.useState(t)};nt.useSyncExternalStore=function(t,e,n){return Ft.H.useSyncExternalStore(t,e,n)};nt.useTransition=function(){return Ft.H.useTransition()};nt.version="19.2.3";c7.exports=nt;var q=c7.exports;const nk=qA(q),ik=_A({__proto__:null,default:nk},[q]);var x7={exports:{}},Ef={},g7={exports:{}},y7={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,V){var J=G.length;G.push(V);e:for(;0<J;){var ee=J-1>>>1,re=G[ee];if(0<r(re,V))G[ee]=V,G[J]=re,J=ee;else break e}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var V=G[0],J=G.pop();if(J!==V){G[0]=J;e:for(var ee=0,re=G.length,se=re>>>1;ee<se;){var he=2*(ee+1)-1,ae=G[he],Ne=he+1,Te=G[Ne];if(0>r(ae,J))Ne<re&&0>r(Te,ae)?(G[ee]=Te,G[Ne]=J,ee=Ne):(G[ee]=ae,G[he]=J,ee=he);else if(Ne<re&&0>r(Te,J))G[ee]=Te,G[Ne]=J,ee=Ne;else break e}}return V}function r(G,V){var J=G.sortIndex-V.sortIndex;return J!==0?J:G.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],h=[],u=1,f=null,x=3,b=!1,M=!1,y=!1,T=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function m(G){for(var V=n(h);V!==null;){if(V.callback===null)s(h);else if(V.startTime<=G)s(h),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(h)}}function g(G){if(y=!1,m(G),!M)if(n(c)!==null)M=!0,E||(E=!0,D());else{var V=n(h);V!==null&&B(g,V.startTime-G)}}var E=!1,v=-1,p=5,A=-1;function w(){return T?!0:!(t.unstable_now()-A<p)}function k(){if(T=!1,E){var G=t.unstable_now();A=G;var V=!0;try{e:{M=!1,y&&(y=!1,N(v),v=-1),b=!0;var J=x;try{t:{for(m(G),f=n(c);f!==null&&!(f.expirationTime>G&&w());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,x=f.priorityLevel;var re=ee(f.expirationTime<=G);if(G=t.unstable_now(),typeof re=="function"){f.callback=re,m(G),V=!0;break t}f===n(c)&&s(c),m(G)}else s(c);f=n(c)}if(f!==null)V=!0;else{var se=n(h);se!==null&&B(g,se.startTime-G),V=!1}}break e}finally{f=null,x=J,b=!1}V=void 0}}finally{V?D():E=!1}}}var D;if(typeof j=="function")D=function(){j(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,$=I.port2;I.port1.onmessage=k,D=function(){$.postMessage(null)}}else D=function(){S(k,0)};function B(G,V){v=S(function(){G(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):p=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(G){switch(x){case 1:case 2:case 3:var V=3;break;default:V=x}var J=x;x=V;try{return G()}finally{x=J}},t.unstable_requestPaint=function(){T=!0},t.unstable_runWithPriority=function(G,V){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var J=x;x=G;try{return V()}finally{x=J}},t.unstable_scheduleCallback=function(G,V,J){var ee=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?ee+J:ee):J=ee,G){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=J+re,G={id:u++,callback:V,priorityLevel:G,startTime:J,expirationTime:re,sortIndex:-1},J>ee?(G.sortIndex=J,e(h,G),n(c)===null&&G===n(h)&&(y?(N(v),v=-1):y=!0,B(g,J-ee))):(G.sortIndex=re,e(c,G),M||b||(M=!0,E||(E=!0,D()))),G},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(G){var V=x;return function(){var J=x;x=V;try{return G.apply(this,arguments)}finally{x=J}}}})(y7);g7.exports=y7;var sk=g7.exports,b7={exports:{}},ci={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rk=q;function v7(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function la(){}var ii={d:{f:la,r:function(){throw Error(v7(522))},D:la,C:la,L:la,m:la,X:la,S:la,M:la},p:0,findDOMNode:null},ak=Symbol.for("react.portal");function lk(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ak,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}var v0=rk.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Cf(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}ci.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ii;ci.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(v7(299));return lk(t,e,null,n)};ci.flushSync=function(t){var e=v0.T,n=ii.p;try{if(v0.T=null,ii.p=2,t)return t()}finally{v0.T=e,ii.p=n,ii.d.f()}};ci.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,ii.d.C(t,e))};ci.prefetchDNS=function(t){typeof t=="string"&&ii.d.D(t)};ci.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,s=Cf(n,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?ii.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:s,integrity:r,fetchPriority:a}):n==="script"&&ii.d.X(t,{crossOrigin:s,integrity:r,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};ci.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Cf(e.as,e.crossOrigin);ii.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&ii.d.M(t)};ci.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,s=Cf(n,e.crossOrigin);ii.d.L(t,n,{crossOrigin:s,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};ci.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Cf(e.as,e.crossOrigin);ii.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else ii.d.m(t)};ci.requestFormReset=function(t){ii.d.r(t)};ci.unstable_batchedUpdates=function(t,e){return t(e)};ci.useFormState=function(t,e,n){return v0.H.useFormState(t,e,n)};ci.useFormStatus=function(){return v0.H.useHostTransitionStatus()};ci.version="19.2.3";function j7(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j7)}catch(t){console.error(t)}}j7(),b7.exports=ci;var ok=b7.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dn=sk,w7=q,ck=ok;function me(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function T7(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function S7(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function N7(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wy(t){if(vh(t)!==t)throw Error(me(188))}function hk(t){var e=t.alternate;if(!e){if(e=vh(t),e===null)throw Error(me(188));return e!==t?null:t}for(var n=t,s=e;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return Wy(r),t;if(a===s)return Wy(r),e;a=a.sibling}throw Error(me(188))}if(n.return!==s.return)n=r,s=a;else{for(var l=!1,o=r.child;o;){if(o===n){l=!0,n=r,s=a;break}if(o===s){l=!0,s=r,n=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===n){l=!0,n=a,s=r;break}if(o===s){l=!0,s=a,n=r;break}o=o.sibling}if(!l)throw Error(me(189))}}if(n.alternate!==s)throw Error(me(190))}if(n.tag!==3)throw Error(me(188));return n.stateNode.current===n?t:e}function A7(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=A7(t),e!==null)return e;t=t.sibling}return null}var Ut=Object.assign,uk=Symbol.for("react.element"),lu=Symbol.for("react.transitional.element"),h0=Symbol.for("react.portal"),vo=Symbol.for("react.fragment"),k7=Symbol.for("react.strict_mode"),z1=Symbol.for("react.profiler"),M7=Symbol.for("react.consumer"),Ar=Symbol.for("react.context"),_4=Symbol.for("react.forward_ref"),D1=Symbol.for("react.suspense"),P1=Symbol.for("react.suspense_list"),q4=Symbol.for("react.memo"),ma=Symbol.for("react.lazy"),I1=Symbol.for("react.activity"),dk=Symbol.for("react.memo_cache_sentinel"),Yy=Symbol.iterator;function Qc(t){return t===null||typeof t!="object"?null:(t=Yy&&t[Yy]||t["@@iterator"],typeof t=="function"?t:null)}var fk=Symbol.for("react.client.reference");function R1(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===fk?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vo:return"Fragment";case z1:return"Profiler";case k7:return"StrictMode";case D1:return"Suspense";case P1:return"SuspenseList";case I1:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case h0:return"Portal";case Ar:return t.displayName||"Context";case M7:return(t._context.displayName||"Context")+".Consumer";case _4:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q4:return e=t.displayName||null,e!==null?e:R1(t.type)||"Memo";case ma:e=t._payload,t=t._init;try{return R1(t(e))}catch{}}return null}var u0=Array.isArray,Je=w7.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vt=ck.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Il={pending:!1,data:null,method:null,action:null},_1=[],jo=-1;function Js(t){return{current:t}}function Bn(t){0>jo||(t.current=_1[jo],_1[jo]=null,jo--)}function Pt(t,e){jo++,_1[jo]=t.current,t.current=e}var Ys=Js(null),V0=Js(null),Ea=Js(null),Td=Js(null);function Sd(t,e){switch(Pt(Ea,e),Pt(V0,t),Pt(Ys,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?eb(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=eb(e),t=Y9(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Bn(Ys),Pt(Ys,t)}function Ko(){Bn(Ys),Bn(V0),Bn(Ea)}function q1(t){t.memoizedState!==null&&Pt(Td,t);var e=Ys.current,n=Y9(e,t.type);e!==n&&(Pt(V0,t),Pt(Ys,n))}function Nd(t){V0.current===t&&(Bn(Ys),Bn(V0)),Td.current===t&&(Bn(Td),nh._currentValue=Il)}var Pm,Xy;function Tl(t){if(Pm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pm=e&&e[1]||"",Xy=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pm+t+Xy}var Im=!1;function Rm(t,e){if(!t||Im)return"";Im=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(b){var x=b}Reflect.construct(t,[],f)}else{try{f.call()}catch(b){x=b}t.call(f.prototype)}}else{try{throw Error()}catch(b){x=b}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(b){if(b&&x&&typeof b.stack=="string")return[b.stack,x.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=s.DetermineComponentFrameRoot(),l=a[0],o=a[1];if(l&&o){var c=l.split(`
`),h=o.split(`
`);for(r=s=0;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;for(;r<h.length&&!h[r].includes("DetermineComponentFrameRoot");)r++;if(s===c.length||r===h.length)for(s=c.length-1,r=h.length-1;1<=s&&0<=r&&c[s]!==h[r];)r--;for(;1<=s&&0<=r;s--,r--)if(c[s]!==h[r]){if(s!==1||r!==1)do if(s--,r--,0>r||c[s]!==h[r]){var u=`
`+c[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=r);break}}}finally{Im=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Tl(n):""}function mk(t,e){switch(t.tag){case 26:case 27:case 5:return Tl(t.type);case 16:return Tl("Lazy");case 13:return t.child!==e&&e!==null?Tl("Suspense Fallback"):Tl("Suspense");case 19:return Tl("SuspenseList");case 0:case 15:return Rm(t.type,!1);case 11:return Rm(t.type.render,!1);case 1:return Rm(t.type,!0);case 31:return Tl("Activity");default:return""}}function Zy(t){try{var e="",n=null;do e+=mk(t,n),n=t,t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var O1=Object.prototype.hasOwnProperty,O4=Dn.unstable_scheduleCallback,_m=Dn.unstable_cancelCallback,pk=Dn.unstable_shouldYield,xk=Dn.unstable_requestPaint,$i=Dn.unstable_now,gk=Dn.unstable_getCurrentPriorityLevel,E7=Dn.unstable_ImmediatePriority,C7=Dn.unstable_UserBlockingPriority,Ad=Dn.unstable_NormalPriority,yk=Dn.unstable_LowPriority,z7=Dn.unstable_IdlePriority,bk=Dn.log,vk=Dn.unstable_setDisableYieldValue,jh=null,Li=null;function va(t){if(typeof bk=="function"&&vk(t),Li&&typeof Li.setStrictMode=="function")try{Li.setStrictMode(jh,t)}catch{}}var Fi=Math.clz32?Math.clz32:Tk,jk=Math.log,wk=Math.LN2;function Tk(t){return t>>>=0,t===0?32:31-(jk(t)/wk|0)|0}var ou=256,cu=262144,hu=4194304;function Sl(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function zf(t,e,n){var s=t.pendingLanes;if(s===0)return 0;var r=0,a=t.suspendedLanes,l=t.pingedLanes;t=t.warmLanes;var o=s&134217727;return o!==0?(s=o&~a,s!==0?r=Sl(s):(l&=o,l!==0?r=Sl(l):n||(n=o&~t,n!==0&&(r=Sl(n))))):(o=s&~a,o!==0?r=Sl(o):l!==0?r=Sl(l):n||(n=s&~t,n!==0&&(r=Sl(n)))),r===0?0:e!==0&&e!==r&&!(e&a)&&(a=r&-r,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:r}function wh(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function Sk(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function D7(){var t=hu;return hu<<=1,!(hu&62914560)&&(hu=4194304),t}function qm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Th(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Nk(t,e,n,s,r,a){var l=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,c=t.expirationTimes,h=t.hiddenUpdates;for(n=l&~n;0<n;){var u=31-Fi(n),f=1<<u;o[u]=0,c[u]=-1;var x=h[u];if(x!==null)for(h[u]=null,u=0;u<x.length;u++){var b=x[u];b!==null&&(b.lane&=-536870913)}n&=~f}s!==0&&P7(t,s,0),a!==0&&r===0&&t.tag!==0&&(t.suspendedLanes|=a&~(l&~e))}function P7(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-Fi(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|n&261930}function I7(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-Fi(n),r=1<<s;r&e|t[s]&e&&(t[s]|=e),n&=~r}}function R7(t,e){var n=e&-e;return n=n&42?1:B4(n),n&(t.suspendedLanes|e)?0:n}function B4(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $4(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function _7(){var t=vt.p;return t!==0?t:(t=window.event,t===void 0?32:rj(t.type))}function Qy(t,e){var n=vt.p;try{return vt.p=t,e()}finally{vt.p=n}}var el=Math.random().toString(36).slice(2),Hn="__reactFiber$"+el,Ai="__reactProps$"+el,gc="__reactContainer$"+el,B1="__reactEvents$"+el,Ak="__reactListeners$"+el,kk="__reactHandles$"+el,Ky="__reactResources$"+el,Sh="__reactMarker$"+el;function L4(t){delete t[Hn],delete t[Ai],delete t[B1],delete t[Ak],delete t[kk]}function wo(t){var e=t[Hn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[gc]||n[Hn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rb(t);t!==null;){if(n=t[Hn])return n;t=rb(t)}return e}t=n,n=t.parentNode}return null}function yc(t){if(t=t[Hn]||t[gc]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function d0(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(me(33))}function Bo(t){var e=t[Ky];return e||(e=t[Ky]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function On(t){t[Sh]=!0}var q7=new Set,O7={};function Yl(t,e){Jo(t,e),Jo(t+"Capture",e)}function Jo(t,e){for(O7[t]=e,t=0;t<e.length;t++)q7.add(e[t])}var Mk=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jy={},e3={};function Ek(t){return O1.call(e3,t)?!0:O1.call(Jy,t)?!1:Mk.test(t)?e3[t]=!0:(Jy[t]=!0,!1)}function Qu(t,e,n){if(Ek(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function uu(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function xr(t,e,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+s)}}function ts(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function B7(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ck(t,e,n){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,a=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $1(t){if(!t._valueTracker){var e=B7(t)?"checked":"value";t._valueTracker=Ck(t,e,""+t[e])}}function $7(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=B7(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function kd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var zk=/[\n"\\]/g;function ss(t){return t.replace(zk,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function L1(t,e,n,s,r,a,l,o){t.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.type=l:t.removeAttribute("type"),e!=null?l==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+ts(e)):t.value!==""+ts(e)&&(t.value=""+ts(e)):l!=="submit"&&l!=="reset"||t.removeAttribute("value"),e!=null?F1(t,l,ts(e)):n!=null?F1(t,l,ts(n)):s!=null&&t.removeAttribute("value"),r==null&&a!=null&&(t.defaultChecked=!!a),r!=null&&(t.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+ts(o):t.removeAttribute("name")}function L7(t,e,n,s,r,a,l,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){$1(t);return}n=n!=null?""+ts(n):"",e=e!=null?""+ts(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=o?t.checked:!!s,t.defaultChecked=!!s,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(t.name=l),$1(t)}function F1(t,e,n){e==="number"&&kd(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function $o(t,e,n,s){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&s&&(t[n].defaultSelected=!0)}else{for(n=""+ts(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,s&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function F7(t,e,n){if(e!=null&&(e=""+ts(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+ts(n):""}function U7(t,e,n,s){if(e==null){if(s!=null){if(n!=null)throw Error(me(92));if(u0(s)){if(1<s.length)throw Error(me(93));s=s[0]}n=s}n==null&&(n=""),e=n}n=ts(e),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s),$1(t)}function ec(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Dk=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function t3(t,e,n){var s=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,n):typeof n!="number"||n===0||Dk.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function H7(t,e,n){if(e!=null&&typeof e!="object")throw Error(me(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var r in e)s=e[r],e.hasOwnProperty(r)&&n[r]!==s&&t3(t,r,s)}else for(var a in e)e.hasOwnProperty(a)&&t3(t,a,e[a])}function F4(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pk=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ik=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ku(t){return Ik.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function kr(){}var U1=null;function U4(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var To=null,Lo=null;function n3(t){var e=yc(t);if(e&&(t=e.stateNode)){var n=t[Ai]||null;e:switch(t=e.stateNode,e.type){case"input":if(L1(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ss(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var r=s[Ai]||null;if(!r)throw Error(me(90));L1(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<n.length;e++)s=n[e],s.form===t.form&&$7(s)}break e;case"textarea":F7(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&$o(t,!!n.multiple,e,!1)}}}var Om=!1;function V7(t,e,n){if(Om)return t(e,n);Om=!0;try{var s=t(e);return s}finally{if(Om=!1,(To!==null||Lo!==null)&&(Uf(),To&&(e=To,t=Lo,Lo=To=null,n3(e),t)))for(e=0;e<t.length;e++)n3(t[e])}}function G0(t,e){var n=t.stateNode;if(n===null)return null;var s=n[Ai]||null;if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(me(231,e,typeof n));return n}var _r=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),H1=!1;if(_r)try{var Kc={};Object.defineProperty(Kc,"passive",{get:function(){H1=!0}}),window.addEventListener("test",Kc,Kc),window.removeEventListener("test",Kc,Kc)}catch{H1=!1}var ja=null,H4=null,Ju=null;function G7(){if(Ju)return Ju;var t,e=H4,n=e.length,s,r="value"in ja?ja.value:ja.textContent,a=r.length;for(t=0;t<n&&e[t]===r[t];t++);var l=n-t;for(s=1;s<=l&&e[n-s]===r[a-s];s++);return Ju=r.slice(t,1<s?1-s:void 0)}function ed(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function du(){return!0}function i3(){return!1}function ki(t){function e(n,s,r,a,l){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?du:i3,this.isPropagationStopped=i3,this}return Ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=du)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=du)},persist:function(){},isPersistent:du}),e}var Xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Df=ki(Xl),Nh=Ut({},Xl,{view:0,detail:0}),Rk=ki(Nh),Bm,$m,Jc,Pf=Ut({},Nh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:V4,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jc&&(Jc&&t.type==="mousemove"?(Bm=t.screenX-Jc.screenX,$m=t.screenY-Jc.screenY):$m=Bm=0,Jc=t),Bm)},movementY:function(t){return"movementY"in t?t.movementY:$m}}),s3=ki(Pf),_k=Ut({},Pf,{dataTransfer:0}),qk=ki(_k),Ok=Ut({},Nh,{relatedTarget:0}),Lm=ki(Ok),Bk=Ut({},Xl,{animationName:0,elapsedTime:0,pseudoElement:0}),$k=ki(Bk),Lk=Ut({},Xl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fk=ki(Lk),Uk=Ut({},Xl,{data:0}),r3=ki(Uk),Hk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Gk[t])?!!e[t]:!1}function V4(){return Wk}var Yk=Ut({},Nh,{key:function(t){if(t.key){var e=Hk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ed(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:V4,charCode:function(t){return t.type==="keypress"?ed(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ed(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Xk=ki(Yk),Zk=Ut({},Pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),a3=ki(Zk),Qk=Ut({},Nh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:V4}),Kk=ki(Qk),Jk=Ut({},Xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),eM=ki(Jk),tM=Ut({},Pf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),nM=ki(tM),iM=Ut({},Xl,{newState:0,oldState:0}),sM=ki(iM),rM=[9,13,27,32],G4=_r&&"CompositionEvent"in window,j0=null;_r&&"documentMode"in document&&(j0=document.documentMode);var aM=_r&&"TextEvent"in window&&!j0,W7=_r&&(!G4||j0&&8<j0&&11>=j0),l3=" ",o3=!1;function Y7(t,e){switch(t){case"keyup":return rM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X7(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var So=!1;function lM(t,e){switch(t){case"compositionend":return X7(e);case"keypress":return e.which!==32?null:(o3=!0,l3);case"textInput":return t=e.data,t===l3&&o3?null:t;default:return null}}function oM(t,e){if(So)return t==="compositionend"||!G4&&Y7(t,e)?(t=G7(),Ju=H4=ja=null,So=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return W7&&e.locale!=="ko"?null:e.data;default:return null}}var cM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cM[t.type]:e==="textarea"}function Z7(t,e,n,s){To?Lo?Lo.push(s):Lo=[s]:To=s,e=Vd(e,"onChange"),0<e.length&&(n=new Df("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var w0=null,W0=null;function hM(t){V9(t,0)}function If(t){var e=d0(t);if($7(e))return t}function h3(t,e){if(t==="change")return e}var Q7=!1;if(_r){var Fm;if(_r){var Um="oninput"in document;if(!Um){var u3=document.createElement("div");u3.setAttribute("oninput","return;"),Um=typeof u3.oninput=="function"}Fm=Um}else Fm=!1;Q7=Fm&&(!document.documentMode||9<document.documentMode)}function d3(){w0&&(w0.detachEvent("onpropertychange",K7),W0=w0=null)}function K7(t){if(t.propertyName==="value"&&If(W0)){var e=[];Z7(e,W0,t,U4(t)),V7(hM,e)}}function uM(t,e,n){t==="focusin"?(d3(),w0=e,W0=n,w0.attachEvent("onpropertychange",K7)):t==="focusout"&&d3()}function dM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return If(W0)}function fM(t,e){if(t==="click")return If(e)}function mM(t,e){if(t==="input"||t==="change")return If(e)}function pM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vi=typeof Object.is=="function"?Object.is:pM;function Y0(t,e){if(Vi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!O1.call(e,r)||!Vi(t[r],e[r]))return!1}return!0}function f3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function m3(t,e){var n=f3(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=f3(n)}}function J7(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?J7(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function e8(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=kd(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=kd(t.document)}return e}function W4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var xM=_r&&"documentMode"in document&&11>=document.documentMode,No=null,V1=null,T0=null,G1=!1;function p3(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;G1||No==null||No!==kd(s)||(s=No,"selectionStart"in s&&W4(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),T0&&Y0(T0,s)||(T0=s,s=Vd(V1,"onSelect"),0<s.length&&(e=new Df("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=No)))}function gl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ao={animationend:gl("Animation","AnimationEnd"),animationiteration:gl("Animation","AnimationIteration"),animationstart:gl("Animation","AnimationStart"),transitionrun:gl("Transition","TransitionRun"),transitionstart:gl("Transition","TransitionStart"),transitioncancel:gl("Transition","TransitionCancel"),transitionend:gl("Transition","TransitionEnd")},Hm={},t8={};_r&&(t8=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function Zl(t){if(Hm[t])return Hm[t];if(!Ao[t])return t;var e=Ao[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in t8)return Hm[t]=e[n];return t}var n8=Zl("animationend"),i8=Zl("animationiteration"),s8=Zl("animationstart"),gM=Zl("transitionrun"),yM=Zl("transitionstart"),bM=Zl("transitioncancel"),r8=Zl("transitionend"),a8=new Map,W1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");W1.push("scrollEnd");function _s(t,e){a8.set(t,e),Yl(e,[t])}var Md=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ji=[],ko=0,Y4=0;function Rf(){for(var t=ko,e=Y4=ko=0;e<t;){var n=Ji[e];Ji[e++]=null;var s=Ji[e];Ji[e++]=null;var r=Ji[e];Ji[e++]=null;var a=Ji[e];if(Ji[e++]=null,s!==null&&r!==null){var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}a!==0&&l8(n,r,a)}}function _f(t,e,n,s){Ji[ko++]=t,Ji[ko++]=e,Ji[ko++]=n,Ji[ko++]=s,Y4|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function X4(t,e,n,s){return _f(t,e,n,s),Ed(t)}function Ql(t,e){return _f(t,null,null,e),Ed(t)}function l8(t,e,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var r=!1,a=t.return;a!==null;)a.childLanes|=n,s=a.alternate,s!==null&&(s.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(r=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,r&&e!==null&&(r=31-Fi(n),t=a.hiddenUpdates,s=t[r],s===null?t[r]=[e]:s.push(e),e.lane=n|536870912),a):null}function Ed(t){if(50<D0)throw D0=0,mx=null,Error(me(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Mo={};function vM(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _i(t,e,n,s){return new vM(t,e,n,s)}function Z4(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Er(t,e){var n=t.alternate;return n===null?(n=_i(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function o8(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function td(t,e,n,s,r,a){var l=0;if(s=t,typeof t=="function")Z4(t)&&(l=1);else if(typeof t=="string")l=NE(t,n,Ys.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I1:return t=_i(31,n,e,r),t.elementType=I1,t.lanes=a,t;case vo:return Rl(n.children,r,a,e);case k7:l=8,r|=24;break;case z1:return t=_i(12,n,e,r|2),t.elementType=z1,t.lanes=a,t;case D1:return t=_i(13,n,e,r),t.elementType=D1,t.lanes=a,t;case P1:return t=_i(19,n,e,r),t.elementType=P1,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ar:l=10;break e;case M7:l=9;break e;case _4:l=11;break e;case q4:l=14;break e;case ma:l=16,s=null;break e}l=29,n=Error(me(130,t===null?"null":typeof t,"")),s=null}return e=_i(l,n,e,r),e.elementType=t,e.type=s,e.lanes=a,e}function Rl(t,e,n,s){return t=_i(7,t,s,e),t.lanes=n,t}function Vm(t,e,n){return t=_i(6,t,null,e),t.lanes=n,t}function c8(t){var e=_i(18,null,null,0);return e.stateNode=t,e}function Gm(t,e,n){return e=_i(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var x3=new WeakMap;function rs(t,e){if(typeof t=="object"&&t!==null){var n=x3.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Zy(e)},x3.set(t,e),e)}return{value:t,source:e,stack:Zy(e)}}var Eo=[],Co=0,Cd=null,X0=0,ns=[],is=0,$a=null,Ls=1,Fs="";function Tr(t,e){Eo[Co++]=X0,Eo[Co++]=Cd,Cd=t,X0=e}function h8(t,e,n){ns[is++]=Ls,ns[is++]=Fs,ns[is++]=$a,$a=t;var s=Ls;t=Fs;var r=32-Fi(s)-1;s&=~(1<<r),n+=1;var a=32-Fi(e)+r;if(30<a){var l=r-r%5;a=(s&(1<<l)-1).toString(32),s>>=l,r-=l,Ls=1<<32-Fi(e)+r|n<<r|s,Fs=a+t}else Ls=1<<a|n<<r|s,Fs=t}function Q4(t){t.return!==null&&(Tr(t,1),h8(t,1,0))}function K4(t){for(;t===Cd;)Cd=Eo[--Co],Eo[Co]=null,X0=Eo[--Co],Eo[Co]=null;for(;t===$a;)$a=ns[--is],ns[is]=null,Fs=ns[--is],ns[is]=null,Ls=ns[--is],ns[is]=null}function u8(t,e){ns[is++]=Ls,ns[is++]=Fs,ns[is++]=$a,Ls=e.id,Fs=e.overflow,$a=t}var Vn=null,Lt=null,ut=!1,Ca=null,as=!1,Y1=Error(me(519));function La(t){var e=Error(me(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Z0(rs(e,t)),Y1}function g3(t){var e=t.stateNode,n=t.type,s=t.memoizedProps;switch(e[Hn]=t,e[Ai]=s,n){case"dialog":ot("cancel",e),ot("close",e);break;case"iframe":case"object":case"embed":ot("load",e);break;case"video":case"audio":for(n=0;n<eh.length;n++)ot(eh[n],e);break;case"source":ot("error",e);break;case"img":case"image":case"link":ot("error",e),ot("load",e);break;case"details":ot("toggle",e);break;case"input":ot("invalid",e),L7(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ot("invalid",e);break;case"textarea":ot("invalid",e),U7(e,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||s.suppressHydrationWarning===!0||W9(e.textContent,n)?(s.popover!=null&&(ot("beforetoggle",e),ot("toggle",e)),s.onScroll!=null&&ot("scroll",e),s.onScrollEnd!=null&&ot("scrollend",e),s.onClick!=null&&(e.onclick=kr),e=!0):e=!1,e||La(t,!0)}function y3(t){for(Vn=t.return;Vn;)switch(Vn.tag){case 5:case 31:case 13:as=!1;return;case 27:case 3:as=!0;return;default:Vn=Vn.return}}function fo(t){if(t!==Vn)return!1;if(!ut)return y3(t),ut=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||bx(t.type,t.memoizedProps)),n=!n),n&&Lt&&La(t),y3(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(me(317));Lt=sb(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(me(317));Lt=sb(t)}else e===27?(e=Lt,tl(t.type)?(t=Tx,Tx=null,Lt=t):Lt=e):Lt=Vn?us(t.stateNode.nextSibling):null;return!0}function Ll(){Lt=Vn=null,ut=!1}function Wm(){var t=Ca;return t!==null&&(vi===null?vi=t:vi.push.apply(vi,t),Ca=null),t}function Z0(t){Ca===null?Ca=[t]:Ca.push(t)}var X1=Js(null),Kl=null,Mr=null;function xa(t,e,n){Pt(X1,e._currentValue),e._currentValue=n}function Cr(t){t._currentValue=X1.current,Bn(X1)}function Z1(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Q1(t,e,n,s){var r=t.child;for(r!==null&&(r.return=t);r!==null;){var a=r.dependencies;if(a!==null){var l=r.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=r;for(var c=0;c<e.length;c++)if(o.context===e[c]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Z1(a.return,n,t),s||(l=null);break e}a=o.next}}else if(r.tag===18){if(l=r.return,l===null)throw Error(me(341));l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Z1(l,n,t),l=null}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===t){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}}function bc(t,e,n,s){t=null;for(var r=e,a=!1;r!==null;){if(!a){if(r.flags&524288)a=!0;else if(r.flags&262144)break}if(r.tag===10){var l=r.alternate;if(l===null)throw Error(me(387));if(l=l.memoizedProps,l!==null){var o=r.type;Vi(r.pendingProps.value,l.value)||(t!==null?t.push(o):t=[o])}}else if(r===Td.current){if(l=r.alternate,l===null)throw Error(me(387));l.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(t!==null?t.push(nh):t=[nh])}r=r.return}t!==null&&Q1(e,t,n,s),e.flags|=262144}function zd(t){for(t=t.firstContext;t!==null;){if(!Vi(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fl(t){Kl=t,Mr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gn(t){return d8(Kl,t)}function fu(t,e){return Kl===null&&Fl(t),d8(t,e)}function d8(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Mr===null){if(t===null)throw Error(me(308));Mr=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Mr=Mr.next=e;return n}var jM=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},wM=Dn.unstable_scheduleCallback,TM=Dn.unstable_NormalPriority,Tn={$$typeof:Ar,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function J4(){return{controller:new jM,data:new Map,refCount:0}}function Ah(t){t.refCount--,t.refCount===0&&wM(TM,function(){t.controller.abort()})}var S0=null,K1=0,tc=0,Fo=null;function SM(t,e){if(S0===null){var n=S0=[];K1=0,tc=Sg(),Fo={status:"pending",value:void 0,then:function(s){n.push(s)}}}return K1++,e.then(b3,b3),e}function b3(){if(--K1===0&&S0!==null){Fo!==null&&(Fo.status="fulfilled");var t=S0;S0=null,tc=0,Fo=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function NM(t,e){var n=[],s={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var r=0;r<n.length;r++)(0,n[r])(e)},function(r){for(s.status="rejected",s.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),s}var v3=Je.S;Je.S=function(t,e){A9=$i(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&SM(t,e),v3!==null&&v3(t,e)};var _l=Js(null);function eg(){var t=_l.current;return t!==null?t:Et.pooledCache}function nd(t,e){e===null?Pt(_l,_l.current):Pt(_l,e.pool)}function f8(){var t=eg();return t===null?null:{parent:Tn._currentValue,pool:t}}var vc=Error(me(460)),tg=Error(me(474)),qf=Error(me(542)),Dd={then:function(){}};function j3(t){return t=t.status,t==="fulfilled"||t==="rejected"}function m8(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(kr,kr),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,T3(t),t;default:if(typeof e.status=="string")e.then(kr,kr);else{if(t=Et,t!==null&&100<t.shellSuspendCounter)throw Error(me(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=s}},function(s){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,T3(t),t}throw ql=e,vc}}function Nl(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ql=n,vc):n}}var ql=null;function w3(){if(ql===null)throw Error(me(459));var t=ql;return ql=null,t}function T3(t){if(t===vc||t===qf)throw Error(me(483))}var Uo=null,Q0=0;function mu(t){var e=Q0;return Q0+=1,Uo===null&&(Uo=[]),m8(Uo,t,e)}function e0(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function pu(t,e){throw e.$$typeof===uk?Error(me(525)):(t=Object.prototype.toString.call(e),Error(me(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function p8(t){function e(S,N){if(t){var j=S.deletions;j===null?(S.deletions=[N],S.flags|=16):j.push(N)}}function n(S,N){if(!t)return null;for(;N!==null;)e(S,N),N=N.sibling;return null}function s(S){for(var N=new Map;S!==null;)S.key!==null?N.set(S.key,S):N.set(S.index,S),S=S.sibling;return N}function r(S,N){return S=Er(S,N),S.index=0,S.sibling=null,S}function a(S,N,j){return S.index=j,t?(j=S.alternate,j!==null?(j=j.index,j<N?(S.flags|=67108866,N):j):(S.flags|=67108866,N)):(S.flags|=1048576,N)}function l(S){return t&&S.alternate===null&&(S.flags|=67108866),S}function o(S,N,j,m){return N===null||N.tag!==6?(N=Vm(j,S.mode,m),N.return=S,N):(N=r(N,j),N.return=S,N)}function c(S,N,j,m){var g=j.type;return g===vo?u(S,N,j.props.children,m,j.key):N!==null&&(N.elementType===g||typeof g=="object"&&g!==null&&g.$$typeof===ma&&Nl(g)===N.type)?(N=r(N,j.props),e0(N,j),N.return=S,N):(N=td(j.type,j.key,j.props,null,S.mode,m),e0(N,j),N.return=S,N)}function h(S,N,j,m){return N===null||N.tag!==4||N.stateNode.containerInfo!==j.containerInfo||N.stateNode.implementation!==j.implementation?(N=Gm(j,S.mode,m),N.return=S,N):(N=r(N,j.children||[]),N.return=S,N)}function u(S,N,j,m,g){return N===null||N.tag!==7?(N=Rl(j,S.mode,m,g),N.return=S,N):(N=r(N,j),N.return=S,N)}function f(S,N,j){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Vm(""+N,S.mode,j),N.return=S,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case lu:return j=td(N.type,N.key,N.props,null,S.mode,j),e0(j,N),j.return=S,j;case h0:return N=Gm(N,S.mode,j),N.return=S,N;case ma:return N=Nl(N),f(S,N,j)}if(u0(N)||Qc(N))return N=Rl(N,S.mode,j,null),N.return=S,N;if(typeof N.then=="function")return f(S,mu(N),j);if(N.$$typeof===Ar)return f(S,fu(S,N),j);pu(S,N)}return null}function x(S,N,j,m){var g=N!==null?N.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return g!==null?null:o(S,N,""+j,m);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case lu:return j.key===g?c(S,N,j,m):null;case h0:return j.key===g?h(S,N,j,m):null;case ma:return j=Nl(j),x(S,N,j,m)}if(u0(j)||Qc(j))return g!==null?null:u(S,N,j,m,null);if(typeof j.then=="function")return x(S,N,mu(j),m);if(j.$$typeof===Ar)return x(S,N,fu(S,j),m);pu(S,j)}return null}function b(S,N,j,m,g){if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return S=S.get(j)||null,o(N,S,""+m,g);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case lu:return S=S.get(m.key===null?j:m.key)||null,c(N,S,m,g);case h0:return S=S.get(m.key===null?j:m.key)||null,h(N,S,m,g);case ma:return m=Nl(m),b(S,N,j,m,g)}if(u0(m)||Qc(m))return S=S.get(j)||null,u(N,S,m,g,null);if(typeof m.then=="function")return b(S,N,j,mu(m),g);if(m.$$typeof===Ar)return b(S,N,j,fu(N,m),g);pu(N,m)}return null}function M(S,N,j,m){for(var g=null,E=null,v=N,p=N=0,A=null;v!==null&&p<j.length;p++){v.index>p?(A=v,v=null):A=v.sibling;var w=x(S,v,j[p],m);if(w===null){v===null&&(v=A);break}t&&v&&w.alternate===null&&e(S,v),N=a(w,N,p),E===null?g=w:E.sibling=w,E=w,v=A}if(p===j.length)return n(S,v),ut&&Tr(S,p),g;if(v===null){for(;p<j.length;p++)v=f(S,j[p],m),v!==null&&(N=a(v,N,p),E===null?g=v:E.sibling=v,E=v);return ut&&Tr(S,p),g}for(v=s(v);p<j.length;p++)A=b(v,S,p,j[p],m),A!==null&&(t&&A.alternate!==null&&v.delete(A.key===null?p:A.key),N=a(A,N,p),E===null?g=A:E.sibling=A,E=A);return t&&v.forEach(function(k){return e(S,k)}),ut&&Tr(S,p),g}function y(S,N,j,m){if(j==null)throw Error(me(151));for(var g=null,E=null,v=N,p=N=0,A=null,w=j.next();v!==null&&!w.done;p++,w=j.next()){v.index>p?(A=v,v=null):A=v.sibling;var k=x(S,v,w.value,m);if(k===null){v===null&&(v=A);break}t&&v&&k.alternate===null&&e(S,v),N=a(k,N,p),E===null?g=k:E.sibling=k,E=k,v=A}if(w.done)return n(S,v),ut&&Tr(S,p),g;if(v===null){for(;!w.done;p++,w=j.next())w=f(S,w.value,m),w!==null&&(N=a(w,N,p),E===null?g=w:E.sibling=w,E=w);return ut&&Tr(S,p),g}for(v=s(v);!w.done;p++,w=j.next())w=b(v,S,p,w.value,m),w!==null&&(t&&w.alternate!==null&&v.delete(w.key===null?p:w.key),N=a(w,N,p),E===null?g=w:E.sibling=w,E=w);return t&&v.forEach(function(D){return e(S,D)}),ut&&Tr(S,p),g}function T(S,N,j,m){if(typeof j=="object"&&j!==null&&j.type===vo&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case lu:e:{for(var g=j.key;N!==null;){if(N.key===g){if(g=j.type,g===vo){if(N.tag===7){n(S,N.sibling),m=r(N,j.props.children),m.return=S,S=m;break e}}else if(N.elementType===g||typeof g=="object"&&g!==null&&g.$$typeof===ma&&Nl(g)===N.type){n(S,N.sibling),m=r(N,j.props),e0(m,j),m.return=S,S=m;break e}n(S,N);break}else e(S,N);N=N.sibling}j.type===vo?(m=Rl(j.props.children,S.mode,m,j.key),m.return=S,S=m):(m=td(j.type,j.key,j.props,null,S.mode,m),e0(m,j),m.return=S,S=m)}return l(S);case h0:e:{for(g=j.key;N!==null;){if(N.key===g)if(N.tag===4&&N.stateNode.containerInfo===j.containerInfo&&N.stateNode.implementation===j.implementation){n(S,N.sibling),m=r(N,j.children||[]),m.return=S,S=m;break e}else{n(S,N);break}else e(S,N);N=N.sibling}m=Gm(j,S.mode,m),m.return=S,S=m}return l(S);case ma:return j=Nl(j),T(S,N,j,m)}if(u0(j))return M(S,N,j,m);if(Qc(j)){if(g=Qc(j),typeof g!="function")throw Error(me(150));return j=g.call(j),y(S,N,j,m)}if(typeof j.then=="function")return T(S,N,mu(j),m);if(j.$$typeof===Ar)return T(S,N,fu(S,j),m);pu(S,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,N!==null&&N.tag===6?(n(S,N.sibling),m=r(N,j),m.return=S,S=m):(n(S,N),m=Vm(j,S.mode,m),m.return=S,S=m),l(S)):n(S,N)}return function(S,N,j,m){try{Q0=0;var g=T(S,N,j,m);return Uo=null,g}catch(v){if(v===vc||v===qf)throw v;var E=_i(29,v,null,S.mode);return E.lanes=m,E.return=S,E}finally{}}}var Ul=p8(!0),x8=p8(!1),pa=!1;function ng(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function J1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function za(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Da(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,bt&2){var r=s.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),s.pending=e,e=Ed(t),l8(t,null,n),e}return _f(t,s,e,n),Ed(t)}function N0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,I7(t,n)}}function Ym(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?r=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?r=a=e:a=a.next=e}else r=a=e;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var ex=!1;function A0(){if(ex){var t=Fo;if(t!==null)throw t}}function k0(t,e,n,s){ex=!1;var r=t.updateQueue;pa=!1;var a=r.firstBaseUpdate,l=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var c=o,h=c.next;c.next=null,l===null?a=h:l.next=h,l=c;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=h:o.next=h,u.lastBaseUpdate=c))}if(a!==null){var f=r.baseState;l=0,u=h=c=null,o=a;do{var x=o.lane&-536870913,b=x!==o.lane;if(b?(ht&x)===x:(s&x)===x){x!==0&&x===tc&&(ex=!0),u!==null&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var M=t,y=o;x=e;var T=n;switch(y.tag){case 1:if(M=y.payload,typeof M=="function"){f=M.call(T,f,x);break e}f=M;break e;case 3:M.flags=M.flags&-65537|128;case 0:if(M=y.payload,x=typeof M=="function"?M.call(T,f,x):M,x==null)break e;f=Ut({},f,x);break e;case 2:pa=!0}}x=o.callback,x!==null&&(t.flags|=64,b&&(t.flags|=8192),b=r.callbacks,b===null?r.callbacks=[x]:b.push(x))}else b={lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(h=u=b,c=f):u=u.next=b,l|=x;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;b=o,o=b.next,b.next=null,r.lastBaseUpdate=b,r.shared.pending=null}}while(!0);u===null&&(c=f),r.baseState=c,r.firstBaseUpdate=h,r.lastBaseUpdate=u,a===null&&(r.shared.lanes=0),Ua|=l,t.lanes=l,t.memoizedState=f}}function g8(t,e){if(typeof t!="function")throw Error(me(191,t));t.call(e)}function y8(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)g8(n[t],e)}var nc=Js(null),Pd=Js(0);function S3(t,e){t=$r,Pt(Pd,t),Pt(nc,e),$r=t|e.baseLanes}function tx(){Pt(Pd,$r),Pt(nc,nc.current)}function ig(){$r=Pd.current,Bn(nc),Bn(Pd)}var Gi=Js(null),hs=null;function ga(t){var e=t.alternate;Pt(pn,pn.current&1),Pt(Gi,t),hs===null&&(e===null||nc.current!==null||e.memoizedState!==null)&&(hs=t)}function nx(t){Pt(pn,pn.current),Pt(Gi,t),hs===null&&(hs=t)}function b8(t){t.tag===22?(Pt(pn,pn.current),Pt(Gi,t),hs===null&&(hs=t)):ya()}function ya(){Pt(pn,pn.current),Pt(Gi,Gi.current)}function Ri(t){Bn(Gi),hs===t&&(hs=null),Bn(pn)}var pn=Js(0);function Id(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||jx(n)||wx(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qr=0,it=null,At=null,jn=null,Rd=!1,Ho=!1,Hl=!1,_d=0,K0=0,Vo=null,AM=0;function ln(){throw Error(me(321))}function sg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vi(t[n],e[n]))return!1;return!0}function rg(t,e,n,s,r,a){return qr=a,it=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Je.H=t===null||t.memoizedState===null?Z8:xg,Hl=!1,a=n(s,r),Hl=!1,Ho&&(a=j8(e,n,s,r)),v8(t),a}function v8(t){Je.H=J0;var e=At!==null&&At.next!==null;if(qr=0,jn=At=it=null,Rd=!1,K0=0,Vo=null,e)throw Error(me(300));t===null||Sn||(t=t.dependencies,t!==null&&zd(t)&&(Sn=!0))}function j8(t,e,n,s){it=t;var r=0;do{if(Ho&&(Vo=null),K0=0,Ho=!1,25<=r)throw Error(me(301));if(r+=1,jn=At=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}Je.H=Q8,a=e(n,s)}while(Ho);return a}function kM(){var t=Je.H,e=t.useState()[0];return e=typeof e.then=="function"?kh(e):e,t=t.useState()[0],(At!==null?At.memoizedState:null)!==t&&(it.flags|=1024),e}function ag(){var t=_d!==0;return _d=0,t}function lg(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function og(t){if(Rd){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Rd=!1}qr=0,jn=At=it=null,Ho=!1,K0=_d=0,Vo=null}function ni(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?it.memoizedState=jn=t:jn=jn.next=t,jn}function yn(){if(At===null){var t=it.alternate;t=t!==null?t.memoizedState:null}else t=At.next;var e=jn===null?it.memoizedState:jn.next;if(e!==null)jn=e,At=t;else{if(t===null)throw it.alternate===null?Error(me(467)):Error(me(310));At=t,t={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},jn===null?it.memoizedState=jn=t:jn=jn.next=t}return jn}function Of(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kh(t){var e=K0;return K0+=1,Vo===null&&(Vo=[]),t=m8(Vo,t,e),e=it,(jn===null?e.memoizedState:jn.next)===null&&(e=e.alternate,Je.H=e===null||e.memoizedState===null?Z8:xg),t}function Bf(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return kh(t);if(t.$$typeof===Ar)return Gn(t)}throw Error(me(438,String(t)))}function cg(t){var e=null,n=it.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var s=it.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Of(),it.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),s=0;s<t;s++)n[s]=dk;return e.index++,n}function Or(t,e){return typeof e=="function"?e(t):e}function id(t){var e=yn();return hg(e,At,t)}function hg(t,e,n){var s=t.queue;if(s===null)throw Error(me(311));s.lastRenderedReducer=n;var r=t.baseQueue,a=s.pending;if(a!==null){if(r!==null){var l=r.next;r.next=a.next,a.next=l}e.baseQueue=r=a,s.pending=null}if(a=t.baseState,r===null)t.memoizedState=a;else{e=r.next;var o=l=null,c=null,h=e,u=!1;do{var f=h.lane&-536870913;if(f!==h.lane?(ht&f)===f:(qr&f)===f){var x=h.revertLane;if(x===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),f===tc&&(u=!0);else if((qr&x)===x){h=h.next,x===tc&&(u=!0);continue}else f={lane:0,revertLane:h.revertLane,gesture:null,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},c===null?(o=c=f,l=a):c=c.next=f,it.lanes|=x,Ua|=x;f=h.action,Hl&&n(a,f),a=h.hasEagerState?h.eagerState:n(a,f)}else x={lane:f,revertLane:h.revertLane,gesture:h.gesture,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null},c===null?(o=c=x,l=a):c=c.next=x,it.lanes|=f,Ua|=f;h=h.next}while(h!==null&&h!==e);if(c===null?l=a:c.next=o,!Vi(a,t.memoizedState)&&(Sn=!0,u&&(n=Fo,n!==null)))throw n;t.memoizedState=a,t.baseState=l,t.baseQueue=c,s.lastRenderedState=a}return r===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Xm(t){var e=yn(),n=e.queue;if(n===null)throw Error(me(311));n.lastRenderedReducer=t;var s=n.dispatch,r=n.pending,a=e.memoizedState;if(r!==null){n.pending=null;var l=r=r.next;do a=t(a,l.action),l=l.next;while(l!==r);Vi(a,e.memoizedState)||(Sn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,s]}function w8(t,e,n){var s=it,r=yn(),a=ut;if(a){if(n===void 0)throw Error(me(407));n=n()}else n=e();var l=!Vi((At||r).memoizedState,n);if(l&&(r.memoizedState=n,Sn=!0),r=r.queue,ug(N8.bind(null,s,r,t),[t]),r.getSnapshot!==e||l||jn!==null&&jn.memoizedState.tag&1){if(s.flags|=2048,ic(9,{destroy:void 0},S8.bind(null,s,r,n,e),null),Et===null)throw Error(me(349));a||qr&127||T8(s,e,n)}return n}function T8(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=it.updateQueue,e===null?(e=Of(),it.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function S8(t,e,n,s){e.value=n,e.getSnapshot=s,A8(e)&&k8(t)}function N8(t,e,n){return n(function(){A8(e)&&k8(t)})}function A8(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vi(t,n)}catch{return!0}}function k8(t){var e=Ql(t,2);e!==null&&Si(e,t,2)}function ix(t){var e=ni();if(typeof t=="function"){var n=t;if(t=n(),Hl){va(!0);try{n()}finally{va(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:t},e}function M8(t,e,n,s){return t.baseState=n,hg(t,At,typeof s=="function"?s:Or)}function MM(t,e,n,s,r){if(Lf(t))throw Error(me(485));if(t=e.action,t!==null){var a={payload:r,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){a.listeners.push(l)}};Je.T!==null?n(!0):a.isTransition=!1,s(a),n=e.pending,n===null?(a.next=e.pending=a,E8(e,a)):(a.next=n.next,e.pending=n.next=a)}}function E8(t,e){var n=e.action,s=e.payload,r=t.state;if(e.isTransition){var a=Je.T,l={};Je.T=l;try{var o=n(r,s),c=Je.S;c!==null&&c(l,o),N3(t,e,o)}catch(h){sx(t,e,h)}finally{a!==null&&l.types!==null&&(a.types=l.types),Je.T=a}}else try{a=n(r,s),N3(t,e,a)}catch(h){sx(t,e,h)}}function N3(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){A3(t,e,s)},function(s){return sx(t,e,s)}):A3(t,e,n)}function A3(t,e,n){e.status="fulfilled",e.value=n,C8(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,E8(t,n)))}function sx(t,e,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=n,C8(e),e=e.next;while(e!==s)}t.action=null}function C8(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function z8(t,e){return e}function k3(t,e){if(ut){var n=Et.formState;if(n!==null){e:{var s=it;if(ut){if(Lt){t:{for(var r=Lt,a=as;r.nodeType!==8;){if(!a){r=null;break t}if(r=us(r.nextSibling),r===null){r=null;break t}}a=r.data,r=a==="F!"||a==="F"?r:null}if(r){Lt=us(r.nextSibling),s=r.data==="F!";break e}}La(s)}s=!1}s&&(e=n[0])}}return n=ni(),n.memoizedState=n.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:z8,lastRenderedState:e},n.queue=s,n=W8.bind(null,it,s),s.dispatch=n,s=ix(!1),a=pg.bind(null,it,!1,s.queue),s=ni(),r={state:e,dispatch:null,action:t,pending:null},s.queue=r,n=MM.bind(null,it,r,a,n),r.dispatch=n,s.memoizedState=t,[e,n,!1]}function M3(t){var e=yn();return D8(e,At,t)}function D8(t,e,n){if(e=hg(t,e,z8)[0],t=id(Or)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=kh(e)}catch(l){throw l===vc?qf:l}else s=e;e=yn();var r=e.queue,a=r.dispatch;return n!==e.memoizedState&&(it.flags|=2048,ic(9,{destroy:void 0},EM.bind(null,r,n),null)),[s,a,t]}function EM(t,e){t.action=e}function E3(t){var e=yn(),n=At;if(n!==null)return D8(e,n,t);yn(),e=e.memoizedState,n=yn();var s=n.queue.dispatch;return n.memoizedState=t,[e,s,!1]}function ic(t,e,n,s){return t={tag:t,create:n,deps:s,inst:e,next:null},e=it.updateQueue,e===null&&(e=Of(),it.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function P8(){return yn().memoizedState}function sd(t,e,n,s){var r=ni();it.flags|=t,r.memoizedState=ic(1|e,{destroy:void 0},n,s===void 0?null:s)}function $f(t,e,n,s){var r=yn();s=s===void 0?null:s;var a=r.memoizedState.inst;At!==null&&s!==null&&sg(s,At.memoizedState.deps)?r.memoizedState=ic(e,a,n,s):(it.flags|=t,r.memoizedState=ic(1|e,a,n,s))}function C3(t,e){sd(8390656,8,t,e)}function ug(t,e){$f(2048,8,t,e)}function CM(t){it.flags|=4;var e=it.updateQueue;if(e===null)e=Of(),it.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function I8(t){var e=yn().memoizedState;return CM({ref:e,nextImpl:t}),function(){if(bt&2)throw Error(me(440));return e.impl.apply(void 0,arguments)}}function R8(t,e){return $f(4,2,t,e)}function _8(t,e){return $f(4,4,t,e)}function q8(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function O8(t,e,n){n=n!=null?n.concat([t]):null,$f(4,4,q8.bind(null,e,t),n)}function dg(){}function B8(t,e){var n=yn();e=e===void 0?null:e;var s=n.memoizedState;return e!==null&&sg(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function $8(t,e){var n=yn();e=e===void 0?null:e;var s=n.memoizedState;if(e!==null&&sg(e,s[1]))return s[0];if(s=t(),Hl){va(!0);try{t()}finally{va(!1)}}return n.memoizedState=[s,e],s}function fg(t,e,n){return n===void 0||qr&1073741824&&!(ht&261930)?t.memoizedState=e:(t.memoizedState=n,t=M9(),it.lanes|=t,Ua|=t,n)}function L8(t,e,n,s){return Vi(n,e)?n:nc.current!==null?(t=fg(t,n,s),Vi(t,e)||(Sn=!0),t):!(qr&42)||qr&1073741824&&!(ht&261930)?(Sn=!0,t.memoizedState=n):(t=M9(),it.lanes|=t,Ua|=t,e)}function F8(t,e,n,s,r){var a=vt.p;vt.p=a!==0&&8>a?a:8;var l=Je.T,o={};Je.T=o,pg(t,!1,e,n);try{var c=r(),h=Je.S;if(h!==null&&h(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=NM(c,s);M0(t,e,u,Ui(t))}else M0(t,e,s,Ui(t))}catch(f){M0(t,e,{then:function(){},status:"rejected",reason:f},Ui())}finally{vt.p=a,l!==null&&o.types!==null&&(l.types=o.types),Je.T=l}}function zM(){}function rx(t,e,n,s){if(t.tag!==5)throw Error(me(476));var r=U8(t).queue;F8(t,r,e,Il,n===null?zM:function(){return H8(t),n(s)})}function U8(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Il,baseState:Il,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:Il},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function H8(t){var e=U8(t);e.next===null&&(e=t.alternate.memoizedState),M0(t,e.next.queue,{},Ui())}function mg(){return Gn(nh)}function V8(){return yn().memoizedState}function G8(){return yn().memoizedState}function DM(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Ui();t=za(n);var s=Da(e,t,n);s!==null&&(Si(s,e,n),N0(s,e,n)),e={cache:J4()},t.payload=e;return}e=e.return}}function PM(t,e,n){var s=Ui();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Lf(t)?Y8(e,n):(n=X4(t,e,n,s),n!==null&&(Si(n,t,s),X8(n,e,s)))}function W8(t,e,n){var s=Ui();M0(t,e,n,s)}function M0(t,e,n,s){var r={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lf(t))Y8(e,r);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,o=a(l,n);if(r.hasEagerState=!0,r.eagerState=o,Vi(o,l))return _f(t,e,r,0),Et===null&&Rf(),!1}catch{}finally{}if(n=X4(t,e,r,s),n!==null)return Si(n,t,s),X8(n,e,s),!0}return!1}function pg(t,e,n,s){if(s={lane:2,revertLane:Sg(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Lf(t)){if(e)throw Error(me(479))}else e=X4(t,n,s,2),e!==null&&Si(e,t,2)}function Lf(t){var e=t.alternate;return t===it||e!==null&&e===it}function Y8(t,e){Ho=Rd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function X8(t,e,n){if(n&4194048){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,I7(t,n)}}var J0={readContext:Gn,use:Bf,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln};J0.useEffectEvent=ln;var Z8={readContext:Gn,use:Bf,useCallback:function(t,e){return ni().memoizedState=[t,e===void 0?null:e],t},useContext:Gn,useEffect:C3,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,sd(4194308,4,q8.bind(null,e,t),n)},useLayoutEffect:function(t,e){return sd(4194308,4,t,e)},useInsertionEffect:function(t,e){sd(4,2,t,e)},useMemo:function(t,e){var n=ni();e=e===void 0?null:e;var s=t();if(Hl){va(!0);try{t()}finally{va(!1)}}return n.memoizedState=[s,e],s},useReducer:function(t,e,n){var s=ni();if(n!==void 0){var r=n(e);if(Hl){va(!0);try{n(e)}finally{va(!1)}}}else r=e;return s.memoizedState=s.baseState=r,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},s.queue=t,t=t.dispatch=PM.bind(null,it,t),[s.memoizedState,t]},useRef:function(t){var e=ni();return t={current:t},e.memoizedState=t},useState:function(t){t=ix(t);var e=t.queue,n=W8.bind(null,it,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:dg,useDeferredValue:function(t,e){var n=ni();return fg(n,t,e)},useTransition:function(){var t=ix(!1);return t=F8.bind(null,it,t.queue,!0,!1),ni().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var s=it,r=ni();if(ut){if(n===void 0)throw Error(me(407));n=n()}else{if(n=e(),Et===null)throw Error(me(349));ht&127||T8(s,e,n)}r.memoizedState=n;var a={value:n,getSnapshot:e};return r.queue=a,C3(N8.bind(null,s,a,t),[t]),s.flags|=2048,ic(9,{destroy:void 0},S8.bind(null,s,a,n,e),null),n},useId:function(){var t=ni(),e=Et.identifierPrefix;if(ut){var n=Fs,s=Ls;n=(s&~(1<<32-Fi(s)-1)).toString(32)+n,e="_"+e+"R_"+n,n=_d++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=AM++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:mg,useFormState:k3,useActionState:k3,useOptimistic:function(t){var e=ni();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=pg.bind(null,it,!0,n),n.dispatch=e,[t,e]},useMemoCache:cg,useCacheRefresh:function(){return ni().memoizedState=DM.bind(null,it)},useEffectEvent:function(t){var e=ni(),n={impl:t};return e.memoizedState=n,function(){if(bt&2)throw Error(me(440));return n.impl.apply(void 0,arguments)}}},xg={readContext:Gn,use:Bf,useCallback:B8,useContext:Gn,useEffect:ug,useImperativeHandle:O8,useInsertionEffect:R8,useLayoutEffect:_8,useMemo:$8,useReducer:id,useRef:P8,useState:function(){return id(Or)},useDebugValue:dg,useDeferredValue:function(t,e){var n=yn();return L8(n,At.memoizedState,t,e)},useTransition:function(){var t=id(Or)[0],e=yn().memoizedState;return[typeof t=="boolean"?t:kh(t),e]},useSyncExternalStore:w8,useId:V8,useHostTransitionStatus:mg,useFormState:M3,useActionState:M3,useOptimistic:function(t,e){var n=yn();return M8(n,At,t,e)},useMemoCache:cg,useCacheRefresh:G8};xg.useEffectEvent=I8;var Q8={readContext:Gn,use:Bf,useCallback:B8,useContext:Gn,useEffect:ug,useImperativeHandle:O8,useInsertionEffect:R8,useLayoutEffect:_8,useMemo:$8,useReducer:Xm,useRef:P8,useState:function(){return Xm(Or)},useDebugValue:dg,useDeferredValue:function(t,e){var n=yn();return At===null?fg(n,t,e):L8(n,At.memoizedState,t,e)},useTransition:function(){var t=Xm(Or)[0],e=yn().memoizedState;return[typeof t=="boolean"?t:kh(t),e]},useSyncExternalStore:w8,useId:V8,useHostTransitionStatus:mg,useFormState:E3,useActionState:E3,useOptimistic:function(t,e){var n=yn();return At!==null?M8(n,At,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:cg,useCacheRefresh:G8};Q8.useEffectEvent=I8;function Zm(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Ut({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ax={enqueueSetState:function(t,e,n){t=t._reactInternals;var s=Ui(),r=za(s);r.payload=e,n!=null&&(r.callback=n),e=Da(t,r,s),e!==null&&(Si(e,t,s),N0(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=Ui(),r=za(s);r.tag=1,r.payload=e,n!=null&&(r.callback=n),e=Da(t,r,s),e!==null&&(Si(e,t,s),N0(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ui(),s=za(n);s.tag=2,e!=null&&(s.callback=e),e=Da(t,s,n),e!==null&&(Si(e,t,n),N0(e,t,n))}};function z3(t,e,n,s,r,a,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,a,l):e.prototype&&e.prototype.isPureReactComponent?!Y0(n,s)||!Y0(r,a):!0}function D3(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&ax.enqueueReplaceState(e,e.state,null)}function Vl(t,e){var n=e;if("ref"in e){n={};for(var s in e)s!=="ref"&&(n[s]=e[s])}if(t=t.defaultProps){n===e&&(n=Ut({},n));for(var r in t)n[r]===void 0&&(n[r]=t[r])}return n}function K8(t){Md(t)}function J8(t){console.error(t)}function e9(t){Md(t)}function qd(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function P3(t,e,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function lx(t,e,n){return n=za(n),n.tag=3,n.payload={element:null},n.callback=function(){qd(t,e)},n}function t9(t){return t=za(t),t.tag=3,t}function n9(t,e,n,s){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var a=s.value;t.payload=function(){return r(a)},t.callback=function(){P3(e,n,s)}}var l=n.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(t.callback=function(){P3(e,n,s),typeof r!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})})}function IM(t,e,n,s,r){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=n.alternate,e!==null&&bc(e,n,r,!0),n=Gi.current,n!==null){switch(n.tag){case 31:case 13:return hs===null?Fd():n.alternate===null&&cn===0&&(cn=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===Dd?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([s]):e.add(s),lp(t,s,r)),!1;case 22:return n.flags|=65536,s===Dd?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([s]):n.add(s)),lp(t,s,r)),!1}throw Error(me(435,n.tag))}return lp(t,s,r),Fd(),!1}if(ut)return e=Gi.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,s!==Y1&&(t=Error(me(422),{cause:s}),Z0(rs(t,n)))):(s!==Y1&&(e=Error(me(423),{cause:s}),Z0(rs(e,n))),t=t.current.alternate,t.flags|=65536,r&=-r,t.lanes|=r,s=rs(s,n),r=lx(t.stateNode,s,r),Ym(t,r),cn!==4&&(cn=2)),!1;var a=Error(me(520),{cause:s});if(a=rs(a,n),z0===null?z0=[a]:z0.push(a),cn!==4&&(cn=2),e===null)return!0;s=rs(s,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=r&-r,n.lanes|=t,t=lx(n.stateNode,s,t),Ym(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(Pa===null||!Pa.has(a))))return n.flags|=65536,r&=-r,n.lanes|=r,r=t9(r),n9(r,t,n,s),Ym(n,r),!1}n=n.return}while(n!==null);return!1}var gg=Error(me(461)),Sn=!1;function Fn(t,e,n,s){e.child=t===null?x8(e,null,n,s):Ul(e,t.child,n,s)}function I3(t,e,n,s,r){n=n.render;var a=e.ref;if("ref"in s){var l={};for(var o in s)o!=="ref"&&(l[o]=s[o])}else l=s;return Fl(e),s=rg(t,e,n,l,a,r),o=ag(),t!==null&&!Sn?(lg(t,e,r),Br(t,e,r)):(ut&&o&&Q4(e),e.flags|=1,Fn(t,e,s,r),e.child)}function R3(t,e,n,s,r){if(t===null){var a=n.type;return typeof a=="function"&&!Z4(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,i9(t,e,a,s,r)):(t=td(n.type,null,s,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!yg(t,r)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:Y0,n(l,s)&&t.ref===e.ref)return Br(t,e,r)}return e.flags|=1,t=Er(a,s),t.ref=e.ref,t.return=e,e.child=t}function i9(t,e,n,s,r){if(t!==null){var a=t.memoizedProps;if(Y0(a,s)&&t.ref===e.ref)if(Sn=!1,e.pendingProps=s=a,yg(t,r))t.flags&131072&&(Sn=!0);else return e.lanes=t.lanes,Br(t,e,r)}return ox(t,e,n,s,r)}function s9(t,e,n,s){var r=s.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(s=e.child=t.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;s=r&~a}else s=0,e.child=null;return _3(t,e,a,n,s)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&nd(e,a!==null?a.cachePool:null),a!==null?S3(e,a):tx(),b8(e);else return s=e.lanes=536870912,_3(t,e,a!==null?a.baseLanes|n:n,n,s)}else a!==null?(nd(e,a.cachePool),S3(e,a),ya(),e.memoizedState=null):(t!==null&&nd(e,null),tx(),ya());return Fn(t,e,r,n),e.child}function f0(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function _3(t,e,n,s,r){var a=eg();return a=a===null?null:{parent:Tn._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&nd(e,null),tx(),b8(e),t!==null&&bc(t,e,s,!0),e.childLanes=r,null}function rd(t,e){return e=Od({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function q3(t,e,n){return Ul(e,t.child,null,n),t=rd(e,e.pendingProps),t.flags|=2,Ri(e),e.memoizedState=null,t}function RM(t,e,n){var s=e.pendingProps,r=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(ut){if(s.mode==="hidden")return t=rd(e,s),e.lanes=536870912,f0(null,t);if(nx(e),(t=Lt)?(t=Z9(t,as),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:$a!==null?{id:Ls,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},n=c8(t),n.return=e,e.child=n,Vn=e,Lt=null)):t=null,t===null)throw La(e);return e.lanes=536870912,null}return rd(e,s)}var a=t.memoizedState;if(a!==null){var l=a.dehydrated;if(nx(e),r)if(e.flags&256)e.flags&=-257,e=q3(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(me(558));else if(Sn||bc(t,e,n,!1),r=(n&t.childLanes)!==0,Sn||r){if(s=Et,s!==null&&(l=R7(s,n),l!==0&&l!==a.retryLane))throw a.retryLane=l,Ql(t,l),Si(s,t,l),gg;Fd(),e=q3(t,e,n)}else t=a.treeContext,Lt=us(l.nextSibling),Vn=e,ut=!0,Ca=null,as=!1,t!==null&&u8(e,t),e=rd(e,s),e.flags|=4096;return e}return t=Er(t.child,{mode:s.mode,children:s.children}),t.ref=e.ref,e.child=t,t.return=e,t}function ad(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(me(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function ox(t,e,n,s,r){return Fl(e),n=rg(t,e,n,s,void 0,r),s=ag(),t!==null&&!Sn?(lg(t,e,r),Br(t,e,r)):(ut&&s&&Q4(e),e.flags|=1,Fn(t,e,n,r),e.child)}function O3(t,e,n,s,r,a){return Fl(e),e.updateQueue=null,n=j8(e,s,n,r),v8(t),s=ag(),t!==null&&!Sn?(lg(t,e,a),Br(t,e,a)):(ut&&s&&Q4(e),e.flags|=1,Fn(t,e,n,a),e.child)}function B3(t,e,n,s,r){if(Fl(e),e.stateNode===null){var a=Mo,l=n.contextType;typeof l=="object"&&l!==null&&(a=Gn(l)),a=new n(s,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=ax,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=s,a.state=e.memoizedState,a.refs={},ng(e),l=n.contextType,a.context=typeof l=="object"&&l!==null?Gn(l):Mo,a.state=e.memoizedState,l=n.getDerivedStateFromProps,typeof l=="function"&&(Zm(e,n,l,s),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(l=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),l!==a.state&&ax.enqueueReplaceState(a,a.state,null),k0(e,s,a,r),A0(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,c=Vl(n,o);a.props=c;var h=a.context,u=n.contextType;l=Mo,typeof u=="object"&&u!==null&&(l=Gn(u));var f=n.getDerivedStateFromProps;u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,u||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||h!==l)&&D3(e,a,s,l),pa=!1;var x=e.memoizedState;a.state=x,k0(e,s,a,r),A0(),h=e.memoizedState,o||x!==h||pa?(typeof f=="function"&&(Zm(e,n,f,s),h=e.memoizedState),(c=pa||z3(e,n,c,s,x,h,l))?(u||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=h),a.props=s,a.state=h,a.context=l,s=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{a=e.stateNode,J1(t,e),l=e.memoizedProps,u=Vl(n,l),a.props=u,f=e.pendingProps,x=a.context,h=n.contextType,c=Mo,typeof h=="object"&&h!==null&&(c=Gn(h)),o=n.getDerivedStateFromProps,(h=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||x!==c)&&D3(e,a,s,c),pa=!1,x=e.memoizedState,a.state=x,k0(e,s,a,r),A0();var b=e.memoizedState;l!==f||x!==b||pa||t!==null&&t.dependencies!==null&&zd(t.dependencies)?(typeof o=="function"&&(Zm(e,n,o,s),b=e.memoizedState),(u=pa||z3(e,n,u,s,x,b,c)||t!==null&&t.dependencies!==null&&zd(t.dependencies))?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(s,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(s,b,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=b),a.props=s,a.state=b,a.context=c,s=u):(typeof a.componentDidUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&x===t.memoizedState||(e.flags|=1024),s=!1)}return a=s,ad(t,e),s=(e.flags&128)!==0,a||s?(a=e.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&s?(e.child=Ul(e,t.child,null,r),e.child=Ul(e,null,n,r)):Fn(t,e,n,r),e.memoizedState=a.state,t=e.child):t=Br(t,e,r),t}function $3(t,e,n,s){return Ll(),e.flags|=256,Fn(t,e,n,s),e.child}var Qm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Km(t){return{baseLanes:t,cachePool:f8()}}function Jm(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Bi),t}function r9(t,e,n){var s=e.pendingProps,r=!1,a=(e.flags&128)!==0,l;if((l=a)||(l=t!==null&&t.memoizedState===null?!1:(pn.current&2)!==0),l&&(r=!0,e.flags&=-129),l=(e.flags&32)!==0,e.flags&=-33,t===null){if(ut){if(r?ga(e):ya(),(t=Lt)?(t=Z9(t,as),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:$a!==null?{id:Ls,overflow:Fs}:null,retryLane:536870912,hydrationErrors:null},n=c8(t),n.return=e,e.child=n,Vn=e,Lt=null)):t=null,t===null)throw La(e);return wx(t)?e.lanes=32:e.lanes=536870912,null}var o=s.children;return s=s.fallback,r?(ya(),r=e.mode,o=Od({mode:"hidden",children:o},r),s=Rl(s,r,n,null),o.return=e,s.return=e,o.sibling=s,e.child=o,s=e.child,s.memoizedState=Km(n),s.childLanes=Jm(t,l,n),e.memoizedState=Qm,f0(null,s)):(ga(e),cx(e,o))}var c=t.memoizedState;if(c!==null&&(o=c.dehydrated,o!==null)){if(a)e.flags&256?(ga(e),e.flags&=-257,e=ep(t,e,n)):e.memoizedState!==null?(ya(),e.child=t.child,e.flags|=128,e=null):(ya(),o=s.fallback,r=e.mode,s=Od({mode:"visible",children:s.children},r),o=Rl(o,r,n,null),o.flags|=2,s.return=e,o.return=e,s.sibling=o,e.child=s,Ul(e,t.child,null,n),s=e.child,s.memoizedState=Km(n),s.childLanes=Jm(t,l,n),e.memoizedState=Qm,e=f0(null,s));else if(ga(e),wx(o)){if(l=o.nextSibling&&o.nextSibling.dataset,l)var h=l.dgst;l=h,s=Error(me(419)),s.stack="",s.digest=l,Z0({value:s,source:null,stack:null}),e=ep(t,e,n)}else if(Sn||bc(t,e,n,!1),l=(n&t.childLanes)!==0,Sn||l){if(l=Et,l!==null&&(s=R7(l,n),s!==0&&s!==c.retryLane))throw c.retryLane=s,Ql(t,s),Si(l,t,s),gg;jx(o)||Fd(),e=ep(t,e,n)}else jx(o)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,Lt=us(o.nextSibling),Vn=e,ut=!0,Ca=null,as=!1,t!==null&&u8(e,t),e=cx(e,s.children),e.flags|=4096);return e}return r?(ya(),o=s.fallback,r=e.mode,c=t.child,h=c.sibling,s=Er(c,{mode:"hidden",children:s.children}),s.subtreeFlags=c.subtreeFlags&65011712,h!==null?o=Er(h,o):(o=Rl(o,r,n,null),o.flags|=2),o.return=e,s.return=e,s.sibling=o,e.child=s,f0(null,s),s=e.child,o=t.child.memoizedState,o===null?o=Km(n):(r=o.cachePool,r!==null?(c=Tn._currentValue,r=r.parent!==c?{parent:c,pool:c}:r):r=f8(),o={baseLanes:o.baseLanes|n,cachePool:r}),s.memoizedState=o,s.childLanes=Jm(t,l,n),e.memoizedState=Qm,f0(t.child,s)):(ga(e),n=t.child,t=n.sibling,n=Er(n,{mode:"visible",children:s.children}),n.return=e,n.sibling=null,t!==null&&(l=e.deletions,l===null?(e.deletions=[t],e.flags|=16):l.push(t)),e.child=n,e.memoizedState=null,n)}function cx(t,e){return e=Od({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Od(t,e){return t=_i(22,t,null,e),t.lanes=0,t}function ep(t,e,n){return Ul(e,t.child,null,n),t=cx(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function L3(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),Z1(t.return,e,n)}function tp(t,e,n,s,r,a){var l=t.memoizedState;l===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r,treeForkCount:a}:(l.isBackwards=e,l.rendering=null,l.renderingStartTime=0,l.last=s,l.tail=n,l.tailMode=r,l.treeForkCount=a)}function a9(t,e,n){var s=e.pendingProps,r=s.revealOrder,a=s.tail;s=s.children;var l=pn.current,o=(l&2)!==0;if(o?(l=l&1|2,e.flags|=128):l&=1,Pt(pn,l),Fn(t,e,s,n),s=ut?X0:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&L3(t,n,e);else if(t.tag===19)L3(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Id(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),tp(e,!1,r,n,a,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Id(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}tp(e,!0,n,null,a,s);break;case"together":tp(e,!1,null,null,void 0,s);break;default:e.memoizedState=null}return e.child}function Br(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ua|=e.lanes,!(n&e.childLanes))if(t!==null){if(bc(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(me(153));if(e.child!==null){for(t=e.child,n=Er(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Er(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function yg(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&zd(t)))}function _M(t,e,n){switch(e.tag){case 3:Sd(e,e.stateNode.containerInfo),xa(e,Tn,t.memoizedState.cache),Ll();break;case 27:case 5:q1(e);break;case 4:Sd(e,e.stateNode.containerInfo);break;case 10:xa(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,nx(e),null;break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(ga(e),e.flags|=128,null):n&e.child.childLanes?r9(t,e,n):(ga(e),t=Br(t,e,n),t!==null?t.sibling:null);ga(e);break;case 19:var r=(t.flags&128)!==0;if(s=(n&e.childLanes)!==0,s||(bc(t,e,n,!1),s=(n&e.childLanes)!==0),r){if(s)return a9(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Pt(pn,pn.current),s)break;return null;case 22:return e.lanes=0,s9(t,e,n,e.pendingProps);case 24:xa(e,Tn,t.memoizedState.cache)}return Br(t,e,n)}function l9(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Sn=!0;else{if(!yg(t,n)&&!(e.flags&128))return Sn=!1,_M(t,e,n);Sn=!!(t.flags&131072)}else Sn=!1,ut&&e.flags&1048576&&h8(e,X0,e.index);switch(e.lanes=0,e.tag){case 16:e:{var s=e.pendingProps;if(t=Nl(e.elementType),e.type=t,typeof t=="function")Z4(t)?(s=Vl(t,s),e.tag=1,e=B3(null,e,t,s,n)):(e.tag=0,e=ox(null,e,t,s,n));else{if(t!=null){var r=t.$$typeof;if(r===_4){e.tag=11,e=I3(null,e,t,s,n);break e}else if(r===q4){e.tag=14,e=R3(null,e,t,s,n);break e}}throw e=R1(t)||t,Error(me(306,e,""))}}return e;case 0:return ox(t,e,e.type,e.pendingProps,n);case 1:return s=e.type,r=Vl(s,e.pendingProps),B3(t,e,s,r,n);case 3:e:{if(Sd(e,e.stateNode.containerInfo),t===null)throw Error(me(387));s=e.pendingProps;var a=e.memoizedState;r=a.element,J1(t,e),k0(e,s,null,n);var l=e.memoizedState;if(s=l.cache,xa(e,Tn,s),s!==a.cache&&Q1(e,[Tn],n,!0),A0(),s=l.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:l.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=$3(t,e,s,n);break e}else if(s!==r){r=rs(Error(me(424)),e),Z0(r),e=$3(t,e,s,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Lt=us(t.firstChild),Vn=e,ut=!0,Ca=null,as=!0,n=x8(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ll(),s===r){e=Br(t,e,n);break e}Fn(t,e,s,n)}e=e.child}return e;case 26:return ad(t,e),t===null?(n=lb(e.type,null,e.pendingProps,null))?e.memoizedState=n:ut||(n=e.type,t=e.pendingProps,s=Gd(Ea.current).createElement(n),s[Hn]=e,s[Ai]=t,Wn(s,n,t),On(s),e.stateNode=s):e.memoizedState=lb(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return q1(e),t===null&&ut&&(s=e.stateNode=Q9(e.type,e.pendingProps,Ea.current),Vn=e,as=!0,r=Lt,tl(e.type)?(Tx=r,Lt=us(s.firstChild)):Lt=r),Fn(t,e,e.pendingProps.children,n),ad(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&ut&&((r=s=Lt)&&(s=dE(s,e.type,e.pendingProps,as),s!==null?(e.stateNode=s,Vn=e,Lt=us(s.firstChild),as=!1,r=!0):r=!1),r||La(e)),q1(e),r=e.type,a=e.pendingProps,l=t!==null?t.memoizedProps:null,s=a.children,bx(r,a)?s=null:l!==null&&bx(r,l)&&(e.flags|=32),e.memoizedState!==null&&(r=rg(t,e,kM,null,null,n),nh._currentValue=r),ad(t,e),Fn(t,e,s,n),e.child;case 6:return t===null&&ut&&((t=n=Lt)&&(n=fE(n,e.pendingProps,as),n!==null?(e.stateNode=n,Vn=e,Lt=null,t=!0):t=!1),t||La(e)),null;case 13:return r9(t,e,n);case 4:return Sd(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=Ul(e,null,s,n):Fn(t,e,s,n),e.child;case 11:return I3(t,e,e.type,e.pendingProps,n);case 7:return Fn(t,e,e.pendingProps,n),e.child;case 8:return Fn(t,e,e.pendingProps.children,n),e.child;case 12:return Fn(t,e,e.pendingProps.children,n),e.child;case 10:return s=e.pendingProps,xa(e,e.type,s.value),Fn(t,e,s.children,n),e.child;case 9:return r=e.type._context,s=e.pendingProps.children,Fl(e),r=Gn(r),s=s(r),e.flags|=1,Fn(t,e,s,n),e.child;case 14:return R3(t,e,e.type,e.pendingProps,n);case 15:return i9(t,e,e.type,e.pendingProps,n);case 19:return a9(t,e,n);case 31:return RM(t,e,n);case 22:return s9(t,e,n,e.pendingProps);case 24:return Fl(e),s=Gn(Tn),t===null?(r=eg(),r===null&&(r=Et,a=J4(),r.pooledCache=a,a.refCount++,a!==null&&(r.pooledCacheLanes|=n),r=a),e.memoizedState={parent:s,cache:r},ng(e),xa(e,Tn,r)):(t.lanes&n&&(J1(t,e),k0(e,null,null,n),A0()),r=t.memoizedState,a=e.memoizedState,r.parent!==s?(r={parent:s,cache:s},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),xa(e,Tn,s)):(s=a.cache,xa(e,Tn,s),s!==r.cache&&Q1(e,[Tn],n,!0))),Fn(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(me(156,e.tag))}function gr(t){t.flags|=4}function np(t,e,n,s,r){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(r&335544128)===r)if(t.stateNode.complete)t.flags|=8192;else if(z9())t.flags|=8192;else throw ql=Dd,tg}else t.flags&=-16777217}function F3(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!ej(e))if(z9())t.flags|=8192;else throw ql=Dd,tg}function xu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?D7():536870912,t.lanes|=e,sc|=e)}function t0(t,e){if(!ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function $t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function qM(t,e,n){var s=e.pendingProps;switch(K4(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(e),null;case 1:return $t(e),null;case 3:return n=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),Cr(Tn),Ko(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(fo(e)?gr(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wm())),$t(e),null;case 26:var r=e.type,a=e.memoizedState;return t===null?(gr(e),a!==null?($t(e),F3(e,a)):($t(e),np(e,r,null,s,n))):a?a!==t.memoizedState?(gr(e),$t(e),F3(e,a)):($t(e),e.flags&=-16777217):(t=t.memoizedProps,t!==s&&gr(e),$t(e),np(e,r,t,s,n)),null;case 27:if(Nd(e),n=Ea.current,r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&gr(e);else{if(!s){if(e.stateNode===null)throw Error(me(166));return $t(e),null}t=Ys.current,fo(e)?g3(e):(t=Q9(r,s,n),e.stateNode=t,gr(e))}return $t(e),null;case 5:if(Nd(e),r=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&gr(e);else{if(!s){if(e.stateNode===null)throw Error(me(166));return $t(e),null}if(a=Ys.current,fo(e))g3(e);else{var l=Gd(Ea.current);switch(a){case 1:a=l.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:a=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":a=l.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":a=l.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":a=l.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof s.is=="string"?l.createElement("select",{is:s.is}):l.createElement("select"),s.multiple?a.multiple=!0:s.size&&(a.size=s.size);break;default:a=typeof s.is=="string"?l.createElement(r,{is:s.is}):l.createElement(r)}}a[Hn]=e,a[Ai]=s;e:for(l=e.child;l!==null;){if(l.tag===5||l.tag===6)a.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}e.stateNode=a;e:switch(Wn(a,r,s),r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&gr(e)}}return $t(e),np(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&gr(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(me(166));if(t=Ea.current,fo(e)){if(t=e.stateNode,n=e.memoizedProps,s=null,r=Vn,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}t[Hn]=e,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||W9(t.nodeValue,n)),t||La(e,!0)}else t=Gd(t).createTextNode(s),t[Hn]=e,e.stateNode=t}return $t(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(s=fo(e),n!==null){if(t===null){if(!s)throw Error(me(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(me(557));t[Hn]=e}else Ll(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),t=!1}else n=Wm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(Ri(e),e):(Ri(e),null);if(e.flags&128)throw Error(me(558))}return $t(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(r=fo(e),s!==null&&s.dehydrated!==null){if(t===null){if(!r)throw Error(me(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(me(317));r[Hn]=e}else Ll(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$t(e),r=!1}else r=Wm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(Ri(e),e):(Ri(e),null)}return Ri(e),e.flags&128?(e.lanes=n,e):(n=s!==null,t=t!==null&&t.memoizedState!==null,n&&(s=e.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==r&&(s.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),xu(e,e.updateQueue),$t(e),null);case 4:return Ko(),t===null&&Ng(e.stateNode.containerInfo),$t(e),null;case 10:return Cr(e.type),$t(e),null;case 19:if(Bn(pn),s=e.memoizedState,s===null)return $t(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)t0(s,!1);else{if(cn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Id(t),a!==null){for(e.flags|=128,t0(s,!1),t=a.updateQueue,e.updateQueue=t,xu(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)o8(n,t),n=n.sibling;return Pt(pn,pn.current&1|2),ut&&Tr(e,s.treeForkCount),e.child}t=t.sibling}s.tail!==null&&$i()>$d&&(e.flags|=128,r=!0,t0(s,!1),e.lanes=4194304)}else{if(!r)if(t=Id(a),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,xu(e,t),t0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ut)return $t(e),null}else 2*$i()-s.renderingStartTime>$d&&n!==536870912&&(e.flags|=128,r=!0,t0(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=$i(),t.sibling=null,n=pn.current,Pt(pn,r?n&1|2:n&1),ut&&Tr(e,s.treeForkCount),t):($t(e),null);case 22:case 23:return Ri(e),ig(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?n&536870912&&!(e.flags&128)&&($t(e),e.subtreeFlags&6&&(e.flags|=8192)):$t(e),n=e.updateQueue,n!==null&&xu(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==n&&(e.flags|=2048),t!==null&&Bn(_l),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Cr(Tn),$t(e),null;case 25:return null;case 30:return null}throw Error(me(156,e.tag))}function OM(t,e){switch(K4(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cr(Tn),Ko(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Nd(e),null;case 31:if(e.memoizedState!==null){if(Ri(e),e.alternate===null)throw Error(me(340));Ll()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(Ri(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(me(340));Ll()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Bn(pn),null;case 4:return Ko(),null;case 10:return Cr(e.type),null;case 22:case 23:return Ri(e),ig(),t!==null&&Bn(_l),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Cr(Tn),null;case 25:return null;default:return null}}function o9(t,e){switch(K4(e),e.tag){case 3:Cr(Tn),Ko();break;case 26:case 27:case 5:Nd(e);break;case 4:Ko();break;case 31:e.memoizedState!==null&&Ri(e);break;case 13:Ri(e);break;case 19:Bn(pn);break;case 10:Cr(e.type);break;case 22:case 23:Ri(e),ig(),t!==null&&Bn(_l);break;case 24:Cr(Tn)}}function Mh(t,e){try{var n=e.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&t)===t){s=void 0;var a=n.create,l=n.inst;s=a(),l.destroy=s}n=n.next}while(n!==r)}}catch(o){Tt(e,e.return,o)}}function Fa(t,e,n){try{var s=e.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var a=r.next;s=a;do{if((s.tag&t)===t){var l=s.inst,o=l.destroy;if(o!==void 0){l.destroy=void 0,r=e;var c=n,h=o;try{h()}catch(u){Tt(r,c,u)}}}s=s.next}while(s!==a)}}catch(u){Tt(e,e.return,u)}}function c9(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{y8(e,n)}catch(s){Tt(t,t.return,s)}}}function h9(t,e,n){n.props=Vl(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){Tt(t,e,s)}}function E0(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(r){Tt(t,e,r)}}function Us(t,e){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(r){Tt(t,e,r)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){Tt(t,e,r)}else n.current=null}function u9(t){var e=t.type,n=t.memoizedProps,s=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){Tt(t,t.return,r)}}function ip(t,e,n){try{var s=t.stateNode;aE(s,t.type,n,e),s[Ai]=e}catch(r){Tt(t,t.return,r)}}function d9(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&tl(t.type)||t.tag===4}function sp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||d9(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&tl(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hx(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kr));else if(s!==4&&(s===27&&tl(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(hx(t,e,n),t=t.sibling;t!==null;)hx(t,e,n),t=t.sibling}function Bd(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(s===27&&tl(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Bd(t,e,n),t=t.sibling;t!==null;)Bd(t,e,n),t=t.sibling}function f9(t){var e=t.stateNode,n=t.memoizedProps;try{for(var s=t.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Wn(e,s,n),e[Hn]=t,e[Ai]=n}catch(a){Tt(t,t.return,a)}}var Nr=!1,wn=!1,rp=!1,U3=typeof WeakSet=="function"?WeakSet:Set,qn=null;function BM(t,e){if(t=t.containerInfo,gx=Zd,t=e8(t),W4(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,h=0,u=0,f=t,x=null;t:for(;;){for(var b;f!==n||r!==0&&f.nodeType!==3||(o=l+r),f!==a||s!==0&&f.nodeType!==3||(c=l+s),f.nodeType===3&&(l+=f.nodeValue.length),(b=f.firstChild)!==null;)x=f,f=b;for(;;){if(f===t)break t;if(x===n&&++h===r&&(o=l),x===a&&++u===s&&(c=l),(b=f.nextSibling)!==null)break;f=x,x=f.parentNode}f=b}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(yx={focusedElem:t,selectionRange:n},Zd=!1,qn=e;qn!==null;)if(e=qn,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,qn=t;else for(;qn!==null;){switch(e=qn,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)r=t[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,r=a.memoizedProps,a=a.memoizedState,s=n.stateNode;try{var M=Vl(n.type,r);t=s.getSnapshotBeforeUpdate(M,a),s.__reactInternalSnapshotBeforeUpdate=t}catch(y){Tt(n,n.return,y)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)vx(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vx(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(me(163))}if(t=e.sibling,t!==null){t.return=e.return,qn=t;break}qn=e.return}}function m9(t,e,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:br(t,n),s&4&&Mh(5,n);break;case 1:if(br(t,n),s&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(l){Tt(n,n.return,l)}else{var r=Vl(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(r,e,t.__reactInternalSnapshotBeforeUpdate)}catch(l){Tt(n,n.return,l)}}s&64&&c9(n),s&512&&E0(n,n.return);break;case 3:if(br(t,n),s&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{y8(t,e)}catch(l){Tt(n,n.return,l)}}break;case 27:e===null&&s&4&&f9(n);case 26:case 5:br(t,n),e===null&&s&4&&u9(n),s&512&&E0(n,n.return);break;case 12:br(t,n);break;case 31:br(t,n),s&4&&g9(t,n);break;case 13:br(t,n),s&4&&y9(t,n),s&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=YM.bind(null,n),mE(t,n))));break;case 22:if(s=n.memoizedState!==null||Nr,!s){e=e!==null&&e.memoizedState!==null||wn,r=Nr;var a=wn;Nr=s,(wn=e)&&!a?wr(t,n,(n.subtreeFlags&8772)!==0):br(t,n),Nr=r,wn=a}break;case 30:break;default:br(t,n)}}function p9(t){var e=t.alternate;e!==null&&(t.alternate=null,p9(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&L4(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Vt=null,gi=!1;function yr(t,e,n){for(n=n.child;n!==null;)x9(t,e,n),n=n.sibling}function x9(t,e,n){if(Li&&typeof Li.onCommitFiberUnmount=="function")try{Li.onCommitFiberUnmount(jh,n)}catch{}switch(n.tag){case 26:wn||Us(n,e),yr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:wn||Us(n,e);var s=Vt,r=gi;tl(n.type)&&(Vt=n.stateNode,gi=!1),yr(t,e,n),P0(n.stateNode),Vt=s,gi=r;break;case 5:wn||Us(n,e);case 6:if(s=Vt,r=gi,Vt=null,yr(t,e,n),Vt=s,gi=r,Vt!==null)if(gi)try{(Vt.nodeType===9?Vt.body:Vt.nodeName==="HTML"?Vt.ownerDocument.body:Vt).removeChild(n.stateNode)}catch(a){Tt(n,e,a)}else try{Vt.removeChild(n.stateNode)}catch(a){Tt(n,e,a)}break;case 18:Vt!==null&&(gi?(t=Vt,nb(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),oc(t)):nb(Vt,n.stateNode));break;case 4:s=Vt,r=gi,Vt=n.stateNode.containerInfo,gi=!0,yr(t,e,n),Vt=s,gi=r;break;case 0:case 11:case 14:case 15:Fa(2,n,e),wn||Fa(4,n,e),yr(t,e,n);break;case 1:wn||(Us(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"&&h9(n,e,s)),yr(t,e,n);break;case 21:yr(t,e,n);break;case 22:wn=(s=wn)||n.memoizedState!==null,yr(t,e,n),wn=s;break;default:yr(t,e,n)}}function g9(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{oc(t)}catch(n){Tt(e,e.return,n)}}}function y9(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{oc(t)}catch(n){Tt(e,e.return,n)}}function $M(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new U3),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new U3),e;default:throw Error(me(435,t.tag))}}function gu(t,e){var n=$M(t);e.forEach(function(s){if(!n.has(s)){n.add(s);var r=XM.bind(null,t,s);s.then(r,r)}})}function pi(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s],a=t,l=e,o=l;e:for(;o!==null;){switch(o.tag){case 27:if(tl(o.type)){Vt=o.stateNode,gi=!1;break e}break;case 5:Vt=o.stateNode,gi=!1;break e;case 3:case 4:Vt=o.stateNode.containerInfo,gi=!0;break e}o=o.return}if(Vt===null)throw Error(me(160));x9(a,l,r),Vt=null,gi=!1,a=r.alternate,a!==null&&(a.return=null),r.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)b9(e,t),e=e.sibling}var ks=null;function b9(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pi(e,t),xi(t),s&4&&(Fa(3,t,t.return),Mh(3,t),Fa(5,t,t.return));break;case 1:pi(e,t),xi(t),s&512&&(wn||n===null||Us(n,n.return)),s&64&&Nr&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var r=ks;if(pi(e,t),xi(t),s&512&&(wn||n===null||Us(n,n.return)),s&4){var a=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){e:{s=t.type,n=t.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":a=r.getElementsByTagName("title")[0],(!a||a[Sh]||a[Hn]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=r.createElement(s),r.head.insertBefore(a,r.querySelector("head > title"))),Wn(a,s,n),a[Hn]=t,On(a),s=a;break e;case"link":var l=cb("link","href",r).get(s+(n.href||""));if(l){for(var o=0;o<l.length;o++)if(a=l[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){l.splice(o,1);break t}}a=r.createElement(s),Wn(a,s,n),r.head.appendChild(a);break;case"meta":if(l=cb("meta","content",r).get(s+(n.content||""))){for(o=0;o<l.length;o++)if(a=l[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){l.splice(o,1);break t}}a=r.createElement(s),Wn(a,s,n),r.head.appendChild(a);break;default:throw Error(me(468,s))}a[Hn]=t,On(a),s=a}t.stateNode=s}else hb(r,t.type,t.stateNode);else t.stateNode=ob(r,s,t.memoizedProps);else a!==s?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,s===null?hb(r,t.type,t.stateNode):ob(r,s,t.memoizedProps)):s===null&&t.stateNode!==null&&ip(t,t.memoizedProps,n.memoizedProps)}break;case 27:pi(e,t),xi(t),s&512&&(wn||n===null||Us(n,n.return)),n!==null&&s&4&&ip(t,t.memoizedProps,n.memoizedProps);break;case 5:if(pi(e,t),xi(t),s&512&&(wn||n===null||Us(n,n.return)),t.flags&32){r=t.stateNode;try{ec(r,"")}catch(M){Tt(t,t.return,M)}}s&4&&t.stateNode!=null&&(r=t.memoizedProps,ip(t,r,n!==null?n.memoizedProps:r)),s&1024&&(rp=!0);break;case 6:if(pi(e,t),xi(t),s&4){if(t.stateNode===null)throw Error(me(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(M){Tt(t,t.return,M)}}break;case 3:if(cd=null,r=ks,ks=Wd(e.containerInfo),pi(e,t),ks=r,xi(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{oc(e.containerInfo)}catch(M){Tt(t,t.return,M)}rp&&(rp=!1,v9(t));break;case 4:s=ks,ks=Wd(t.stateNode.containerInfo),pi(e,t),xi(t),ks=s;break;case 12:pi(e,t),xi(t);break;case 31:pi(e,t),xi(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,gu(t,s)));break;case 13:pi(e,t),xi(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ff=$i()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,gu(t,s)));break;case 22:r=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,h=Nr,u=wn;if(Nr=h||r,wn=u||c,pi(e,t),wn=u,Nr=h,xi(t),s&8192)e:for(e=t.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(n===null||c||Nr||wn||Al(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(a=c.stateNode,r)l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{o=c.stateNode;var f=c.memoizedProps.style,x=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=x==null||typeof x=="boolean"?"":(""+x).trim()}}catch(M){Tt(c,c.return,M)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(M){Tt(c,c.return,M)}}}else if(e.tag===18){if(n===null){c=e;try{var b=c.stateNode;r?ib(b,!0):ib(c.stateNode,!1)}catch(M){Tt(c,c.return,M)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,gu(t,n))));break;case 19:pi(e,t),xi(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,gu(t,s)));break;case 30:break;case 21:break;default:pi(e,t),xi(t)}}function xi(t){var e=t.flags;if(e&2){try{for(var n,s=t.return;s!==null;){if(d9(s)){n=s;break}s=s.return}if(n==null)throw Error(me(160));switch(n.tag){case 27:var r=n.stateNode,a=sp(t);Bd(t,a,r);break;case 5:var l=n.stateNode;n.flags&32&&(ec(l,""),n.flags&=-33);var o=sp(t);Bd(t,o,l);break;case 3:case 4:var c=n.stateNode.containerInfo,h=sp(t);hx(t,h,c);break;default:throw Error(me(161))}}catch(u){Tt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function v9(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;v9(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function br(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)m9(t,e.alternate,e),e=e.sibling}function Al(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Fa(4,e,e.return),Al(e);break;case 1:Us(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&h9(e,e.return,n),Al(e);break;case 27:P0(e.stateNode);case 26:case 5:Us(e,e.return),Al(e);break;case 22:e.memoizedState===null&&Al(e);break;case 30:Al(e);break;default:Al(e)}t=t.sibling}}function wr(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,r=t,a=e,l=a.flags;switch(a.tag){case 0:case 11:case 15:wr(r,a,n),Mh(4,a);break;case 1:if(wr(r,a,n),s=a,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(h){Tt(s,s.return,h)}if(s=a,r=s.updateQueue,r!==null){var o=s.stateNode;try{var c=r.shared.hiddenCallbacks;if(c!==null)for(r.shared.hiddenCallbacks=null,r=0;r<c.length;r++)g8(c[r],o)}catch(h){Tt(s,s.return,h)}}n&&l&64&&c9(a),E0(a,a.return);break;case 27:f9(a);case 26:case 5:wr(r,a,n),n&&s===null&&l&4&&u9(a),E0(a,a.return);break;case 12:wr(r,a,n);break;case 31:wr(r,a,n),n&&l&4&&g9(r,a);break;case 13:wr(r,a,n),n&&l&4&&y9(r,a);break;case 22:a.memoizedState===null&&wr(r,a,n),E0(a,a.return);break;case 30:break;default:wr(r,a,n)}e=e.sibling}}function bg(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Ah(n))}function vg(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ah(t))}function Ts(t,e,n,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)j9(t,e,n,s),e=e.sibling}function j9(t,e,n,s){var r=e.flags;switch(e.tag){case 0:case 11:case 15:Ts(t,e,n,s),r&2048&&Mh(9,e);break;case 1:Ts(t,e,n,s);break;case 3:Ts(t,e,n,s),r&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ah(t)));break;case 12:if(r&2048){Ts(t,e,n,s),t=e.stateNode;try{var a=e.memoizedProps,l=a.id,o=a.onPostCommit;typeof o=="function"&&o(l,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){Tt(e,e.return,c)}}else Ts(t,e,n,s);break;case 31:Ts(t,e,n,s);break;case 13:Ts(t,e,n,s);break;case 23:break;case 22:a=e.stateNode,l=e.alternate,e.memoizedState!==null?a._visibility&2?Ts(t,e,n,s):C0(t,e):a._visibility&2?Ts(t,e,n,s):(a._visibility|=2,yo(t,e,n,s,(e.subtreeFlags&10256)!==0||!1)),r&2048&&bg(l,e);break;case 24:Ts(t,e,n,s),r&2048&&vg(e.alternate,e);break;default:Ts(t,e,n,s)}}function yo(t,e,n,s,r){for(r=r&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,l=e,o=n,c=s,h=l.flags;switch(l.tag){case 0:case 11:case 15:yo(a,l,o,c,r),Mh(8,l);break;case 23:break;case 22:var u=l.stateNode;l.memoizedState!==null?u._visibility&2?yo(a,l,o,c,r):C0(a,l):(u._visibility|=2,yo(a,l,o,c,r)),r&&h&2048&&bg(l.alternate,l);break;case 24:yo(a,l,o,c,r),r&&h&2048&&vg(l.alternate,l);break;default:yo(a,l,o,c,r)}e=e.sibling}}function C0(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,s=e,r=s.flags;switch(s.tag){case 22:C0(n,s),r&2048&&bg(s.alternate,s);break;case 24:C0(n,s),r&2048&&vg(s.alternate,s);break;default:C0(n,s)}e=e.sibling}}var m0=8192;function mo(t,e,n){if(t.subtreeFlags&m0)for(t=t.child;t!==null;)w9(t,e,n),t=t.sibling}function w9(t,e,n){switch(t.tag){case 26:mo(t,e,n),t.flags&m0&&t.memoizedState!==null&&AE(n,ks,t.memoizedState,t.memoizedProps);break;case 5:mo(t,e,n);break;case 3:case 4:var s=ks;ks=Wd(t.stateNode.containerInfo),mo(t,e,n),ks=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=m0,m0=16777216,mo(t,e,n),m0=s):mo(t,e,n));break;default:mo(t,e,n)}}function T9(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function n0(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];qn=s,N9(s,t)}T9(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)S9(t),t=t.sibling}function S9(t){switch(t.tag){case 0:case 11:case 15:n0(t),t.flags&2048&&Fa(9,t,t.return);break;case 3:n0(t);break;case 12:n0(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,ld(t)):n0(t);break;default:n0(t)}}function ld(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];qn=s,N9(s,t)}T9(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Fa(8,e,e.return),ld(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,ld(e));break;default:ld(e)}t=t.sibling}}function N9(t,e){for(;qn!==null;){var n=qn;switch(n.tag){case 0:case 11:case 15:Fa(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ah(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,qn=s;else e:for(n=t;qn!==null;){s=qn;var r=s.sibling,a=s.return;if(p9(s),s===n){qn=null;break e}if(r!==null){r.return=a,qn=r;break e}qn=a}}}var LM={getCacheForType:function(t){var e=Gn(Tn),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Gn(Tn).controller.signal}},FM=typeof WeakMap=="function"?WeakMap:Map,bt=0,Et=null,ct=null,ht=0,jt=0,Pi=null,wa=!1,jc=!1,jg=!1,$r=0,cn=0,Ua=0,Ol=0,wg=0,Bi=0,sc=0,z0=null,vi=null,ux=!1,Ff=0,A9=0,$d=1/0,Ld=null,Pa=null,Cn=0,Ia=null,rc=null,zr=0,dx=0,fx=null,k9=null,D0=0,mx=null;function Ui(){return bt&2&&ht!==0?ht&-ht:Je.T!==null?Sg():_7()}function M9(){if(Bi===0)if(!(ht&536870912)||ut){var t=cu;cu<<=1,!(cu&3932160)&&(cu=262144),Bi=t}else Bi=536870912;return t=Gi.current,t!==null&&(t.flags|=32),Bi}function Si(t,e,n){(t===Et&&(jt===2||jt===9)||t.cancelPendingCommit!==null)&&(ac(t,0),Ta(t,ht,Bi,!1)),Th(t,n),(!(bt&2)||t!==Et)&&(t===Et&&(!(bt&2)&&(Ol|=n),cn===4&&Ta(t,ht,Bi,!1)),er(t))}function E9(t,e,n){if(bt&6)throw Error(me(327));var s=!n&&(e&127)===0&&(e&t.expiredLanes)===0||wh(t,e),r=s?VM(t,e):ap(t,e,!0),a=s;do{if(r===0){jc&&!s&&Ta(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!UM(n)){r=ap(t,e,!1),a=!1;continue}if(r===2){if(a=e,t.errorRecoveryDisabledLanes&a)var l=0;else l=t.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){e=l;e:{var o=t;r=z0;var c=o.current.memoizedState.isDehydrated;if(c&&(ac(o,l).flags|=256),l=ap(o,l,!1),l!==2){if(jg&&!c){o.errorRecoveryDisabledLanes|=a,Ol|=a,r=4;break e}a=vi,vi=r,a!==null&&(vi===null?vi=a:vi.push.apply(vi,a))}r=l}if(a=!1,r!==2)continue}}if(r===1){ac(t,0),Ta(t,e,0,!0);break}e:{switch(s=t,a=r,a){case 0:case 1:throw Error(me(345));case 4:if((e&4194048)!==e)break;case 6:Ta(s,e,Bi,!wa);break e;case 2:vi=null;break;case 3:case 5:break;default:throw Error(me(329))}if((e&62914560)===e&&(r=Ff+300-$i(),10<r)){if(Ta(s,e,Bi,!wa),zf(s,0,!0)!==0)break e;zr=e,s.timeoutHandle=X9(H3.bind(null,s,n,vi,Ld,ux,e,Bi,Ol,sc,wa,a,"Throttled",-0,0),r);break e}H3(s,n,vi,Ld,ux,e,Bi,Ol,sc,wa,a,null,-0,0)}}break}while(!0);er(t)}function H3(t,e,n,s,r,a,l,o,c,h,u,f,x,b){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kr},w9(e,a,f);var M=(a&62914560)===a?Ff-$i():(a&4194048)===a?A9-$i():0;if(M=kE(f,M),M!==null){zr=a,t.cancelPendingCommit=M(G3.bind(null,t,e,a,n,s,r,l,o,c,u,f,null,x,b)),Ta(t,a,l,!h);return}}G3(t,e,a,n,s,r,l,o,c)}function UM(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var r=n[s],a=r.getSnapshot;r=r.value;try{if(!Vi(a(),r))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ta(t,e,n,s){e&=~wg,e&=~Ol,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var r=e;0<r;){var a=31-Fi(r),l=1<<a;s[a]=-1,r&=~l}n!==0&&P7(t,n,e)}function Uf(){return bt&6?!0:(Eh(0),!1)}function Tg(){if(ct!==null){if(jt===0)var t=ct.return;else t=ct,Mr=Kl=null,og(t),Uo=null,Q0=0,t=ct;for(;t!==null;)o9(t.alternate,t),t=t.return;ct=null}}function ac(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,cE(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),zr=0,Tg(),Et=t,ct=n=Er(t.current,null),ht=e,jt=0,Pi=null,wa=!1,jc=wh(t,e),jg=!1,sc=Bi=wg=Ol=Ua=cn=0,vi=z0=null,ux=!1,e&8&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var r=31-Fi(s),a=1<<r;e|=t[r],s&=~a}return $r=e,Rf(),n}function C9(t,e){it=null,Je.H=J0,e===vc||e===qf?(e=w3(),jt=3):e===tg?(e=w3(),jt=4):jt=e===gg?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Pi=e,ct===null&&(cn=1,qd(t,rs(e,t.current)))}function z9(){var t=Gi.current;return t===null?!0:(ht&4194048)===ht?hs===null:(ht&62914560)===ht||ht&536870912?t===hs:!1}function D9(){var t=Je.H;return Je.H=J0,t===null?J0:t}function P9(){var t=Je.A;return Je.A=LM,t}function Fd(){cn=4,wa||(ht&4194048)!==ht&&Gi.current!==null||(jc=!0),!(Ua&134217727)&&!(Ol&134217727)||Et===null||Ta(Et,ht,Bi,!1)}function ap(t,e,n){var s=bt;bt|=2;var r=D9(),a=P9();(Et!==t||ht!==e)&&(Ld=null,ac(t,e)),e=!1;var l=cn;e:do try{if(jt!==0&&ct!==null){var o=ct,c=Pi;switch(jt){case 8:Tg(),l=6;break e;case 3:case 2:case 9:case 6:Gi.current===null&&(e=!0);var h=jt;if(jt=0,Pi=null,zo(t,o,c,h),n&&jc){l=0;break e}break;default:h=jt,jt=0,Pi=null,zo(t,o,c,h)}}HM(),l=cn;break}catch(u){C9(t,u)}while(!0);return e&&t.shellSuspendCounter++,Mr=Kl=null,bt=s,Je.H=r,Je.A=a,ct===null&&(Et=null,ht=0,Rf()),l}function HM(){for(;ct!==null;)I9(ct)}function VM(t,e){var n=bt;bt|=2;var s=D9(),r=P9();Et!==t||ht!==e?(Ld=null,$d=$i()+500,ac(t,e)):jc=wh(t,e);e:do try{if(jt!==0&&ct!==null){e=ct;var a=Pi;t:switch(jt){case 1:jt=0,Pi=null,zo(t,e,a,1);break;case 2:case 9:if(j3(a)){jt=0,Pi=null,V3(e);break}e=function(){jt!==2&&jt!==9||Et!==t||(jt=7),er(t)},a.then(e,e);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:j3(a)?(jt=0,Pi=null,V3(e)):(jt=0,Pi=null,zo(t,e,a,7));break;case 5:var l=null;switch(ct.tag){case 26:l=ct.memoizedState;case 5:case 27:var o=ct;if(l?ej(l):o.stateNode.complete){jt=0,Pi=null;var c=o.sibling;if(c!==null)ct=c;else{var h=o.return;h!==null?(ct=h,Hf(h)):ct=null}break t}}jt=0,Pi=null,zo(t,e,a,5);break;case 6:jt=0,Pi=null,zo(t,e,a,6);break;case 8:Tg(),cn=6;break e;default:throw Error(me(462))}}GM();break}catch(u){C9(t,u)}while(!0);return Mr=Kl=null,Je.H=s,Je.A=r,bt=n,ct!==null?0:(Et=null,ht=0,Rf(),cn)}function GM(){for(;ct!==null&&!pk();)I9(ct)}function I9(t){var e=l9(t.alternate,t,$r);t.memoizedProps=t.pendingProps,e===null?Hf(t):ct=e}function V3(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=O3(n,e,e.pendingProps,e.type,void 0,ht);break;case 11:e=O3(n,e,e.pendingProps,e.type.render,e.ref,ht);break;case 5:og(e);default:o9(n,e),e=ct=o8(e,$r),e=l9(n,e,$r)}t.memoizedProps=t.pendingProps,e===null?Hf(t):ct=e}function zo(t,e,n,s){Mr=Kl=null,og(e),Uo=null,Q0=0;var r=e.return;try{if(IM(t,r,e,n,ht)){cn=1,qd(t,rs(n,t.current)),ct=null;return}}catch(a){if(r!==null)throw ct=r,a;cn=1,qd(t,rs(n,t.current)),ct=null;return}e.flags&32768?(ut||s===1?t=!0:jc||ht&536870912?t=!1:(wa=t=!0,(s===2||s===9||s===3||s===6)&&(s=Gi.current,s!==null&&s.tag===13&&(s.flags|=16384))),R9(e,t)):Hf(e)}function Hf(t){var e=t;do{if(e.flags&32768){R9(e,wa);return}t=e.return;var n=qM(e.alternate,e,$r);if(n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);cn===0&&(cn=5)}function R9(t,e){do{var n=OM(t.alternate,t);if(n!==null){n.flags&=32767,ct=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ct=t;return}ct=t=n}while(t!==null);cn=6,ct=null}function G3(t,e,n,s,r,a,l,o,c){t.cancelPendingCommit=null;do Vf();while(Cn!==0);if(bt&6)throw Error(me(327));if(e!==null){if(e===t.current)throw Error(me(177));if(a=e.lanes|e.childLanes,a|=Y4,Nk(t,n,a,l,o,c),t===Et&&(ct=Et=null,ht=0),rc=e,Ia=t,zr=n,dx=a,fx=r,k9=s,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,ZM(Ad,function(){return $9(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=Je.T,Je.T=null,r=vt.p,vt.p=2,l=bt,bt|=4;try{BM(t,e,n)}finally{bt=l,vt.p=r,Je.T=s}}Cn=1,_9(),q9(),O9()}}function _9(){if(Cn===1){Cn=0;var t=Ia,e=rc,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=Je.T,Je.T=null;var s=vt.p;vt.p=2;var r=bt;bt|=4;try{b9(e,t);var a=yx,l=e8(t.containerInfo),o=a.focusedElem,c=a.selectionRange;if(l!==o&&o&&o.ownerDocument&&J7(o.ownerDocument.documentElement,o)){if(c!==null&&W4(o)){var h=c.start,u=c.end;if(u===void 0&&(u=h),"selectionStart"in o)o.selectionStart=h,o.selectionEnd=Math.min(u,o.value.length);else{var f=o.ownerDocument||document,x=f&&f.defaultView||window;if(x.getSelection){var b=x.getSelection(),M=o.textContent.length,y=Math.min(c.start,M),T=c.end===void 0?y:Math.min(c.end,M);!b.extend&&y>T&&(l=T,T=y,y=l);var S=m3(o,y),N=m3(o,T);if(S&&N&&(b.rangeCount!==1||b.anchorNode!==S.node||b.anchorOffset!==S.offset||b.focusNode!==N.node||b.focusOffset!==N.offset)){var j=f.createRange();j.setStart(S.node,S.offset),b.removeAllRanges(),y>T?(b.addRange(j),b.extend(N.node,N.offset)):(j.setEnd(N.node,N.offset),b.addRange(j))}}}}for(f=[],b=o;b=b.parentNode;)b.nodeType===1&&f.push({element:b,left:b.scrollLeft,top:b.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var m=f[o];m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}Zd=!!gx,yx=gx=null}finally{bt=r,vt.p=s,Je.T=n}}t.current=e,Cn=2}}function q9(){if(Cn===2){Cn=0;var t=Ia,e=rc,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=Je.T,Je.T=null;var s=vt.p;vt.p=2;var r=bt;bt|=4;try{m9(t,e.alternate,e)}finally{bt=r,vt.p=s,Je.T=n}}Cn=3}}function O9(){if(Cn===4||Cn===3){Cn=0,xk();var t=Ia,e=rc,n=zr,s=k9;e.subtreeFlags&10256||e.flags&10256?Cn=5:(Cn=0,rc=Ia=null,B9(t,t.pendingLanes));var r=t.pendingLanes;if(r===0&&(Pa=null),$4(n),e=e.stateNode,Li&&typeof Li.onCommitFiberRoot=="function")try{Li.onCommitFiberRoot(jh,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=Je.T,r=vt.p,vt.p=2,Je.T=null;try{for(var a=t.onRecoverableError,l=0;l<s.length;l++){var o=s[l];a(o.value,{componentStack:o.stack})}}finally{Je.T=e,vt.p=r}}zr&3&&Vf(),er(t),r=t.pendingLanes,n&261930&&r&42?t===mx?D0++:(D0=0,mx=t):D0=0,Eh(0)}}function B9(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ah(e)))}function Vf(){return _9(),q9(),O9(),$9()}function $9(){if(Cn!==5)return!1;var t=Ia,e=dx;dx=0;var n=$4(zr),s=Je.T,r=vt.p;try{vt.p=32>n?32:n,Je.T=null,n=fx,fx=null;var a=Ia,l=zr;if(Cn=0,rc=Ia=null,zr=0,bt&6)throw Error(me(331));var o=bt;if(bt|=4,S9(a.current),j9(a,a.current,l,n),bt=o,Eh(0,!1),Li&&typeof Li.onPostCommitFiberRoot=="function")try{Li.onPostCommitFiberRoot(jh,a)}catch{}return!0}finally{vt.p=r,Je.T=s,B9(t,e)}}function W3(t,e,n){e=rs(n,e),e=lx(t.stateNode,e,2),t=Da(t,e,2),t!==null&&(Th(t,2),er(t))}function Tt(t,e,n){if(t.tag===3)W3(t,t,n);else for(;e!==null;){if(e.tag===3){W3(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Pa===null||!Pa.has(s))){t=rs(n,t),n=t9(2),s=Da(e,n,2),s!==null&&(n9(n,s,e,t),Th(s,2),er(s));break}}e=e.return}}function lp(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new FM;var r=new Set;s.set(e,r)}else r=s.get(e),r===void 0&&(r=new Set,s.set(e,r));r.has(n)||(jg=!0,r.add(n),t=WM.bind(null,t,e,n),e.then(t,t))}function WM(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Et===t&&(ht&n)===n&&(cn===4||cn===3&&(ht&62914560)===ht&&300>$i()-Ff?!(bt&2)&&ac(t,0):wg|=n,sc===ht&&(sc=0)),er(t)}function L9(t,e){e===0&&(e=D7()),t=Ql(t,e),t!==null&&(Th(t,e),er(t))}function YM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),L9(t,n)}function XM(t,e){var n=0;switch(t.tag){case 31:case 13:var s=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(me(314))}s!==null&&s.delete(e),L9(t,n)}function ZM(t,e){return O4(t,e)}var Ud=null,bo=null,px=!1,Hd=!1,op=!1,Sa=0;function er(t){t!==bo&&t.next===null&&(bo===null?Ud=bo=t:bo=bo.next=t),Hd=!0,px||(px=!0,KM())}function Eh(t,e){if(!op&&Hd){op=!0;do for(var n=!1,s=Ud;s!==null;){if(t!==0){var r=s.pendingLanes;if(r===0)var a=0;else{var l=s.suspendedLanes,o=s.pingedLanes;a=(1<<31-Fi(42|t)+1)-1,a&=r&~(l&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Y3(s,a))}else a=ht,a=zf(s,s===Et?a:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(a&3)||wh(s,a)||(n=!0,Y3(s,a));s=s.next}while(n);op=!1}}function QM(){F9()}function F9(){Hd=px=!1;var t=0;Sa!==0&&oE()&&(t=Sa);for(var e=$i(),n=null,s=Ud;s!==null;){var r=s.next,a=U9(s,e);a===0?(s.next=null,n===null?Ud=r:n.next=r,r===null&&(bo=n)):(n=s,(t!==0||a&3)&&(Hd=!0)),s=r}Cn!==0&&Cn!==5||Eh(t),Sa!==0&&(Sa=0)}function U9(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var l=31-Fi(a),o=1<<l,c=r[l];c===-1?(!(o&n)||o&s)&&(r[l]=Sk(o,e)):c<=e&&(t.expiredLanes|=o),a&=~o}if(e=Et,n=ht,n=zf(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,n===0||t===e&&(jt===2||jt===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&_m(s),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||wh(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(s!==null&&_m(s),$4(n)){case 2:case 8:n=C7;break;case 32:n=Ad;break;case 268435456:n=z7;break;default:n=Ad}return s=H9.bind(null,t),n=O4(n,s),t.callbackPriority=e,t.callbackNode=n,e}return s!==null&&s!==null&&_m(s),t.callbackPriority=2,t.callbackNode=null,2}function H9(t,e){if(Cn!==0&&Cn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Vf()&&t.callbackNode!==n)return null;var s=ht;return s=zf(t,t===Et?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(E9(t,s,e),U9(t,$i()),t.callbackNode!=null&&t.callbackNode===n?H9.bind(null,t):null)}function Y3(t,e){if(Vf())return null;E9(t,e,!0)}function KM(){hE(function(){bt&6?O4(E7,QM):F9()})}function Sg(){if(Sa===0){var t=tc;t===0&&(t=ou,ou<<=1,!(ou&261888)&&(ou=256)),Sa=t}return Sa}function X3(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ku(""+t)}function Z3(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function JM(t,e,n,s,r){if(e==="submit"&&n&&n.stateNode===r){var a=X3((r[Ai]||null).action),l=s.submitter;l&&(e=(e=l[Ai]||null)?X3(e.formAction):l.getAttribute("formAction"),e!==null&&(a=e,l=null));var o=new Df("action","action",null,s,r);t.push({event:o,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Sa!==0){var c=l?Z3(r,l):new FormData(r);rx(n,{pending:!0,data:c,method:r.method,action:a},null,c)}}else typeof a=="function"&&(o.preventDefault(),c=l?Z3(r,l):new FormData(r),rx(n,{pending:!0,data:c,method:r.method,action:a},a,c))},currentTarget:r}]})}}for(var cp=0;cp<W1.length;cp++){var hp=W1[cp],eE=hp.toLowerCase(),tE=hp[0].toUpperCase()+hp.slice(1);_s(eE,"on"+tE)}_s(n8,"onAnimationEnd");_s(i8,"onAnimationIteration");_s(s8,"onAnimationStart");_s("dblclick","onDoubleClick");_s("focusin","onFocus");_s("focusout","onBlur");_s(gM,"onTransitionRun");_s(yM,"onTransitionStart");_s(bM,"onTransitionCancel");_s(r8,"onTransitionEnd");Jo("onMouseEnter",["mouseout","mouseover"]);Jo("onMouseLeave",["mouseout","mouseover"]);Jo("onPointerEnter",["pointerout","pointerover"]);Jo("onPointerLeave",["pointerout","pointerover"]);Yl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eh));function V9(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],r=s.event;s=s.listeners;e:{var a=void 0;if(e)for(var l=s.length-1;0<=l;l--){var o=s[l],c=o.instance,h=o.currentTarget;if(o=o.listener,c!==a&&r.isPropagationStopped())break e;a=o,r.currentTarget=h;try{a(r)}catch(u){Md(u)}r.currentTarget=null,a=c}else for(l=0;l<s.length;l++){if(o=s[l],c=o.instance,h=o.currentTarget,o=o.listener,c!==a&&r.isPropagationStopped())break e;a=o,r.currentTarget=h;try{a(r)}catch(u){Md(u)}r.currentTarget=null,a=c}}}}function ot(t,e){var n=e[B1];n===void 0&&(n=e[B1]=new Set);var s=t+"__bubble";n.has(s)||(G9(e,t,2,!1),n.add(s))}function up(t,e,n){var s=0;e&&(s|=4),G9(n,t,s,e)}var yu="_reactListening"+Math.random().toString(36).slice(2);function Ng(t){if(!t[yu]){t[yu]=!0,q7.forEach(function(n){n!=="selectionchange"&&(nE.has(n)||up(n,!1,t),up(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yu]||(e[yu]=!0,up("selectionchange",!1,e))}}function G9(t,e,n,s){switch(rj(e)){case 2:var r=CE;break;case 8:r=zE;break;default:r=Eg}n=r.bind(null,e,n,t),r=void 0,!H1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),s?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function dp(t,e,n,s,r){var a=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var l=s.tag;if(l===3||l===4){var o=s.stateNode.containerInfo;if(o===r)break;if(l===4)for(l=s.return;l!==null;){var c=l.tag;if((c===3||c===4)&&l.stateNode.containerInfo===r)return;l=l.return}for(;o!==null;){if(l=wo(o),l===null)return;if(c=l.tag,c===5||c===6||c===26||c===27){s=a=l;continue e}o=o.parentNode}}s=s.return}V7(function(){var h=a,u=U4(n),f=[];e:{var x=a8.get(t);if(x!==void 0){var b=Df,M=t;switch(t){case"keypress":if(ed(n)===0)break e;case"keydown":case"keyup":b=Xk;break;case"focusin":M="focus",b=Lm;break;case"focusout":M="blur",b=Lm;break;case"beforeblur":case"afterblur":b=Lm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=s3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=qk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=Kk;break;case n8:case i8:case s8:b=$k;break;case r8:b=eM;break;case"scroll":case"scrollend":b=Rk;break;case"wheel":b=nM;break;case"copy":case"cut":case"paste":b=Fk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=a3;break;case"toggle":case"beforetoggle":b=sM}var y=(e&4)!==0,T=!y&&(t==="scroll"||t==="scrollend"),S=y?x!==null?x+"Capture":null:x;y=[];for(var N=h,j;N!==null;){var m=N;if(j=m.stateNode,m=m.tag,m!==5&&m!==26&&m!==27||j===null||S===null||(m=G0(N,S),m!=null&&y.push(th(N,m,j))),T)break;N=N.return}0<y.length&&(x=new b(x,M,null,n,u),f.push({event:x,listeners:y}))}}if(!(e&7)){e:{if(x=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",x&&n!==U1&&(M=n.relatedTarget||n.fromElement)&&(wo(M)||M[gc]))break e;if((b||x)&&(x=u.window===u?u:(x=u.ownerDocument)?x.defaultView||x.parentWindow:window,b?(M=n.relatedTarget||n.toElement,b=h,M=M?wo(M):null,M!==null&&(T=vh(M),y=M.tag,M!==T||y!==5&&y!==27&&y!==6)&&(M=null)):(b=null,M=h),b!==M)){if(y=s3,m="onMouseLeave",S="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(y=a3,m="onPointerLeave",S="onPointerEnter",N="pointer"),T=b==null?x:d0(b),j=M==null?x:d0(M),x=new y(m,N+"leave",b,n,u),x.target=T,x.relatedTarget=j,m=null,wo(u)===h&&(y=new y(S,N+"enter",M,n,u),y.target=j,y.relatedTarget=T,m=y),T=m,b&&M)t:{for(y=iE,S=b,N=M,j=0,m=S;m;m=y(m))j++;m=0;for(var g=N;g;g=y(g))m++;for(;0<j-m;)S=y(S),j--;for(;0<m-j;)N=y(N),m--;for(;j--;){if(S===N||N!==null&&S===N.alternate){y=S;break t}S=y(S),N=y(N)}y=null}else y=null;b!==null&&Q3(f,x,b,y,!1),M!==null&&T!==null&&Q3(f,T,M,y,!0)}}e:{if(x=h?d0(h):window,b=x.nodeName&&x.nodeName.toLowerCase(),b==="select"||b==="input"&&x.type==="file")var E=h3;else if(c3(x))if(Q7)E=mM;else{E=dM;var v=uM}else b=x.nodeName,!b||b.toLowerCase()!=="input"||x.type!=="checkbox"&&x.type!=="radio"?h&&F4(h.elementType)&&(E=h3):E=fM;if(E&&(E=E(t,h))){Z7(f,E,n,u);break e}v&&v(t,x,h),t==="focusout"&&h&&x.type==="number"&&h.memoizedProps.value!=null&&F1(x,"number",x.value)}switch(v=h?d0(h):window,t){case"focusin":(c3(v)||v.contentEditable==="true")&&(No=v,V1=h,T0=null);break;case"focusout":T0=V1=No=null;break;case"mousedown":G1=!0;break;case"contextmenu":case"mouseup":case"dragend":G1=!1,p3(f,n,u);break;case"selectionchange":if(xM)break;case"keydown":case"keyup":p3(f,n,u)}var p;if(G4)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else So?Y7(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(W7&&n.locale!=="ko"&&(So||A!=="onCompositionStart"?A==="onCompositionEnd"&&So&&(p=G7()):(ja=u,H4="value"in ja?ja.value:ja.textContent,So=!0)),v=Vd(h,A),0<v.length&&(A=new r3(A,t,null,n,u),f.push({event:A,listeners:v}),p?A.data=p:(p=X7(n),p!==null&&(A.data=p)))),(p=aM?lM(t,n):oM(t,n))&&(A=Vd(h,"onBeforeInput"),0<A.length&&(v=new r3("onBeforeInput","beforeinput",null,n,u),f.push({event:v,listeners:A}),v.data=p)),JM(f,t,h,n,u)}V9(f,e)})}function th(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vd(t,e){for(var n=e+"Capture",s=[];t!==null;){var r=t,a=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||a===null||(r=G0(t,n),r!=null&&s.unshift(th(t,r,a)),r=G0(t,e),r!=null&&s.push(th(t,r,a))),t.tag===3)return s;t=t.return}return[]}function iE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Q3(t,e,n,s,r){for(var a=e._reactName,l=[];n!==null&&n!==s;){var o=n,c=o.alternate,h=o.stateNode;if(o=o.tag,c!==null&&c===s)break;o!==5&&o!==26&&o!==27||h===null||(c=h,r?(h=G0(n,a),h!=null&&l.unshift(th(n,h,c))):r||(h=G0(n,a),h!=null&&l.push(th(n,h,c)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var sE=/\r\n?/g,rE=/\u0000|\uFFFD/g;function K3(t){return(typeof t=="string"?t:""+t).replace(sE,`
`).replace(rE,"")}function W9(t,e){return e=K3(e),K3(t)===e}function Nt(t,e,n,s,r,a){switch(n){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||ec(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&ec(t,""+s);break;case"className":uu(t,"class",s);break;case"tabIndex":uu(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":uu(t,n,s);break;case"style":H7(t,s,a);break;case"data":if(e!=="object"){uu(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=Ku(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&Nt(t,e,"name",r.name,r,null),Nt(t,e,"formEncType",r.formEncType,r,null),Nt(t,e,"formMethod",r.formMethod,r,null),Nt(t,e,"formTarget",r.formTarget,r,null)):(Nt(t,e,"encType",r.encType,r,null),Nt(t,e,"method",r.method,r,null),Nt(t,e,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=Ku(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=kr);break;case"onScroll":s!=null&&ot("scroll",t);break;case"onScrollEnd":s!=null&&ot("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(me(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(me(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=Ku(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":ot("beforetoggle",t),ot("toggle",t),Qu(t,"popover",s);break;case"xlinkActuate":xr(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":xr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":xr(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":xr(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":xr(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":xr(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":xr(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":xr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":xr(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Qu(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Pk.get(n)||n,Qu(t,n,s))}}function xx(t,e,n,s,r,a){switch(n){case"style":H7(t,s,a);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(me(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(me(60));t.innerHTML=n}}break;case"children":typeof s=="string"?ec(t,s):(typeof s=="number"||typeof s=="bigint")&&ec(t,""+s);break;case"onScroll":s!=null&&ot("scroll",t);break;case"onScrollEnd":s!=null&&ot("scrollend",t);break;case"onClick":s!=null&&(t.onclick=kr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!O7.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),e=n.slice(2,r?n.length-7:void 0),a=t[Ai]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,r),typeof s=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,s,r);break e}n in t?t[n]=s:s===!0?t.setAttribute(n,""):Qu(t,n,s)}}}function Wn(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",t),ot("load",t);var s=!1,r=!1,a;for(a in n)if(n.hasOwnProperty(a)){var l=n[a];if(l!=null)switch(a){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(me(137,e));default:Nt(t,e,a,l,n,null)}}r&&Nt(t,e,"srcSet",n.srcSet,n,null),s&&Nt(t,e,"src",n.src,n,null);return;case"input":ot("invalid",t);var o=a=l=r=null,c=null,h=null;for(s in n)if(n.hasOwnProperty(s)){var u=n[s];if(u!=null)switch(s){case"name":r=u;break;case"type":l=u;break;case"checked":c=u;break;case"defaultChecked":h=u;break;case"value":a=u;break;case"defaultValue":o=u;break;case"children":case"dangerouslySetInnerHTML":if(u!=null)throw Error(me(137,e));break;default:Nt(t,e,s,u,n,null)}}L7(t,a,o,c,h,l,r,!1);return;case"select":ot("invalid",t),s=l=a=null;for(r in n)if(n.hasOwnProperty(r)&&(o=n[r],o!=null))switch(r){case"value":a=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:Nt(t,e,r,o,n,null)}e=a,n=l,t.multiple=!!s,e!=null?$o(t,!!s,e,!1):n!=null&&$o(t,!!s,n,!0);return;case"textarea":ot("invalid",t),a=r=s=null;for(l in n)if(n.hasOwnProperty(l)&&(o=n[l],o!=null))switch(l){case"value":s=o;break;case"defaultValue":r=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(me(91));break;default:Nt(t,e,l,o,n,null)}U7(t,s,r,a);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(s=n[c],s!=null))switch(c){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Nt(t,e,c,s,n,null)}return;case"dialog":ot("beforetoggle",t),ot("toggle",t),ot("cancel",t),ot("close",t);break;case"iframe":case"object":ot("load",t);break;case"video":case"audio":for(s=0;s<eh.length;s++)ot(eh[s],t);break;case"image":ot("error",t),ot("load",t);break;case"details":ot("toggle",t);break;case"embed":case"source":case"link":ot("error",t),ot("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(h in n)if(n.hasOwnProperty(h)&&(s=n[h],s!=null))switch(h){case"children":case"dangerouslySetInnerHTML":throw Error(me(137,e));default:Nt(t,e,h,s,n,null)}return;default:if(F4(e)){for(u in n)n.hasOwnProperty(u)&&(s=n[u],s!==void 0&&xx(t,e,u,s,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(s=n[o],s!=null&&Nt(t,e,o,s,n,null))}function aE(t,e,n,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,a=null,l=null,o=null,c=null,h=null,u=null;for(b in n){var f=n[b];if(n.hasOwnProperty(b)&&f!=null)switch(b){case"checked":break;case"value":break;case"defaultValue":c=f;default:s.hasOwnProperty(b)||Nt(t,e,b,null,s,f)}}for(var x in s){var b=s[x];if(f=n[x],s.hasOwnProperty(x)&&(b!=null||f!=null))switch(x){case"type":a=b;break;case"name":r=b;break;case"checked":h=b;break;case"defaultChecked":u=b;break;case"value":l=b;break;case"defaultValue":o=b;break;case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(me(137,e));break;default:b!==f&&Nt(t,e,x,b,s,f)}}L1(t,l,o,c,h,u,a,r);return;case"select":b=l=o=x=null;for(a in n)if(c=n[a],n.hasOwnProperty(a)&&c!=null)switch(a){case"value":break;case"multiple":b=c;default:s.hasOwnProperty(a)||Nt(t,e,a,null,s,c)}for(r in s)if(a=s[r],c=n[r],s.hasOwnProperty(r)&&(a!=null||c!=null))switch(r){case"value":x=a;break;case"defaultValue":o=a;break;case"multiple":l=a;default:a!==c&&Nt(t,e,r,a,s,c)}e=o,n=l,s=b,x!=null?$o(t,!!n,x,!1):!!s!=!!n&&(e!=null?$o(t,!!n,e,!0):$o(t,!!n,n?[]:"",!1));return;case"textarea":b=x=null;for(o in n)if(r=n[o],n.hasOwnProperty(o)&&r!=null&&!s.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Nt(t,e,o,null,s,r)}for(l in s)if(r=s[l],a=n[l],s.hasOwnProperty(l)&&(r!=null||a!=null))switch(l){case"value":x=r;break;case"defaultValue":b=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(me(91));break;default:r!==a&&Nt(t,e,l,r,s,a)}F7(t,x,b);return;case"option":for(var M in n)if(x=n[M],n.hasOwnProperty(M)&&x!=null&&!s.hasOwnProperty(M))switch(M){case"selected":t.selected=!1;break;default:Nt(t,e,M,null,s,x)}for(c in s)if(x=s[c],b=n[c],s.hasOwnProperty(c)&&x!==b&&(x!=null||b!=null))switch(c){case"selected":t.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Nt(t,e,c,x,s,b)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in n)x=n[y],n.hasOwnProperty(y)&&x!=null&&!s.hasOwnProperty(y)&&Nt(t,e,y,null,s,x);for(h in s)if(x=s[h],b=n[h],s.hasOwnProperty(h)&&x!==b&&(x!=null||b!=null))switch(h){case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(me(137,e));break;default:Nt(t,e,h,x,s,b)}return;default:if(F4(e)){for(var T in n)x=n[T],n.hasOwnProperty(T)&&x!==void 0&&!s.hasOwnProperty(T)&&xx(t,e,T,void 0,s,x);for(u in s)x=s[u],b=n[u],!s.hasOwnProperty(u)||x===b||x===void 0&&b===void 0||xx(t,e,u,x,s,b);return}}for(var S in n)x=n[S],n.hasOwnProperty(S)&&x!=null&&!s.hasOwnProperty(S)&&Nt(t,e,S,null,s,x);for(f in s)x=s[f],b=n[f],!s.hasOwnProperty(f)||x===b||x==null&&b==null||Nt(t,e,f,x,s,b)}function J3(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var r=n[s],a=r.transferSize,l=r.initiatorType,o=r.duration;if(a&&o&&J3(l)){for(l=0,o=r.responseEnd,s+=1;s<n.length;s++){var c=n[s],h=c.startTime;if(h>o)break;var u=c.transferSize,f=c.initiatorType;u&&J3(f)&&(c=c.responseEnd,l+=u*(c<o?1:(o-h)/(c-h)))}if(--s,e+=8*(a+l)/(r.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var gx=null,yx=null;function Gd(t){return t.nodeType===9?t:t.ownerDocument}function eb(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Y9(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function bx(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var fp=null;function oE(){var t=window.event;return t&&t.type==="popstate"?t===fp?!1:(fp=t,!0):(fp=null,!1)}var X9=typeof setTimeout=="function"?setTimeout:void 0,cE=typeof clearTimeout=="function"?clearTimeout:void 0,tb=typeof Promise=="function"?Promise:void 0,hE=typeof queueMicrotask=="function"?queueMicrotask:typeof tb<"u"?function(t){return tb.resolve(null).then(t).catch(uE)}:X9;function uE(t){setTimeout(function(){throw t})}function tl(t){return t==="head"}function nb(t,e){var n=e,s=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(s===0){t.removeChild(r),oc(e);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")P0(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,P0(n);for(var a=n.firstChild;a;){var l=a.nextSibling,o=a.nodeName;a[Sh]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=l}}else n==="body"&&P0(t.ownerDocument.body);n=r}while(n);oc(e)}function ib(t,e){var n=t;t=0;do{var s=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=s}while(n)}function vx(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":vx(n),L4(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function dE(t,e,n,s){for(;t.nodeType===1;){var r=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Sh])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==r.rel||t.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||t.getAttribute("title")!==(r.title==null?null:r.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(r.src==null?null:r.src)||t.getAttribute("type")!==(r.type==null?null:r.type)||t.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=r.name==null?null:""+r.name;if(r.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=us(t.nextSibling),t===null)break}return null}function fE(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=us(t.nextSibling),t===null))return null;return t}function Z9(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=us(t.nextSibling),t===null))return null;return t}function jx(t){return t.data==="$?"||t.data==="$~"}function wx(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function mE(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var s=function(){e(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function us(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var Tx=null;function sb(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return us(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function rb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Q9(t,e,n){switch(e=Gd(n),t){case"html":if(t=e.documentElement,!t)throw Error(me(452));return t;case"head":if(t=e.head,!t)throw Error(me(453));return t;case"body":if(t=e.body,!t)throw Error(me(454));return t;default:throw Error(me(451))}}function P0(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);L4(t)}var fs=new Map,ab=new Set;function Wd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Zr=vt.d;vt.d={f:pE,r:xE,D:gE,C:yE,L:bE,m:vE,X:wE,S:jE,M:TE};function pE(){var t=Zr.f(),e=Uf();return t||e}function xE(t){var e=yc(t);e!==null&&e.tag===5&&e.type==="form"?H8(e):Zr.r(t)}var wc=typeof document>"u"?null:document;function K9(t,e,n){var s=wc;if(s&&typeof e=="string"&&e){var r=ss(e);r='link[rel="'+t+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),ab.has(r)||(ab.add(r),t={rel:t,crossOrigin:n,href:e},s.querySelector(r)===null&&(e=s.createElement("link"),Wn(e,"link",t),On(e),s.head.appendChild(e)))}}function gE(t){Zr.D(t),K9("dns-prefetch",t,null)}function yE(t,e){Zr.C(t,e),K9("preconnect",t,e)}function bE(t,e,n){Zr.L(t,e,n);var s=wc;if(s&&t&&e){var r='link[rel="preload"][as="'+ss(e)+'"]';e==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+ss(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+ss(n.imageSizes)+'"]')):r+='[href="'+ss(t)+'"]';var a=r;switch(e){case"style":a=lc(t);break;case"script":a=Tc(t)}fs.has(a)||(t=Ut({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),fs.set(a,t),s.querySelector(r)!==null||e==="style"&&s.querySelector(Ch(a))||e==="script"&&s.querySelector(zh(a))||(e=s.createElement("link"),Wn(e,"link",t),On(e),s.head.appendChild(e)))}}function vE(t,e){Zr.m(t,e);var n=wc;if(n&&t){var s=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+ss(s)+'"][href="'+ss(t)+'"]',a=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Tc(t)}if(!fs.has(a)&&(t=Ut({rel:"modulepreload",href:t},e),fs.set(a,t),n.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(zh(a)))return}s=n.createElement("link"),Wn(s,"link",t),On(s),n.head.appendChild(s)}}}function jE(t,e,n){Zr.S(t,e,n);var s=wc;if(s&&t){var r=Bo(s).hoistableStyles,a=lc(t);e=e||"default";var l=r.get(a);if(!l){var o={loading:0,preload:null};if(l=s.querySelector(Ch(a)))o.loading=5;else{t=Ut({rel:"stylesheet",href:t,"data-precedence":e},n),(n=fs.get(a))&&Ag(t,n);var c=l=s.createElement("link");On(c),Wn(c,"link",t),c._p=new Promise(function(h,u){c.onload=h,c.onerror=u}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,od(l,e,s)}l={type:"stylesheet",instance:l,count:1,state:o},r.set(a,l)}}}function wE(t,e){Zr.X(t,e);var n=wc;if(n&&t){var s=Bo(n).hoistableScripts,r=Tc(t),a=s.get(r);a||(a=n.querySelector(zh(r)),a||(t=Ut({src:t,async:!0},e),(e=fs.get(r))&&kg(t,e),a=n.createElement("script"),On(a),Wn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},s.set(r,a))}}function TE(t,e){Zr.M(t,e);var n=wc;if(n&&t){var s=Bo(n).hoistableScripts,r=Tc(t),a=s.get(r);a||(a=n.querySelector(zh(r)),a||(t=Ut({src:t,async:!0,type:"module"},e),(e=fs.get(r))&&kg(t,e),a=n.createElement("script"),On(a),Wn(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},s.set(r,a))}}function lb(t,e,n,s){var r=(r=Ea.current)?Wd(r):null;if(!r)throw Error(me(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=lc(n.href),n=Bo(r).hoistableStyles,s=n.get(e),s||(s={type:"style",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=lc(n.href);var a=Bo(r).hoistableStyles,l=a.get(t);if(l||(r=r.ownerDocument||r,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,l),(a=r.querySelector(Ch(t)))&&!a._p&&(l.instance=a,l.state.loading=5),fs.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},fs.set(t,n),a||SE(r,t,n,l.state))),e&&s===null)throw Error(me(528,""));return l}if(e&&s!==null)throw Error(me(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Tc(n),n=Bo(r).hoistableScripts,s=n.get(e),s||(s={type:"script",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(me(444,t))}}function lc(t){return'href="'+ss(t)+'"'}function Ch(t){return'link[rel="stylesheet"]['+t+"]"}function J9(t){return Ut({},t,{"data-precedence":t.precedence,precedence:null})}function SE(t,e,n,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),Wn(e,"link",n),On(e),t.head.appendChild(e))}function Tc(t){return'[src="'+ss(t)+'"]'}function zh(t){return"script[async]"+t}function ob(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+ss(n.href)+'"]');if(s)return e.instance=s,On(s),s;var r=Ut({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),On(s),Wn(s,"style",r),od(s,n.precedence,t),e.instance=s;case"stylesheet":r=lc(n.href);var a=t.querySelector(Ch(r));if(a)return e.state.loading|=4,e.instance=a,On(a),a;s=J9(n),(r=fs.get(r))&&Ag(s,r),a=(t.ownerDocument||t).createElement("link"),On(a);var l=a;return l._p=new Promise(function(o,c){l.onload=o,l.onerror=c}),Wn(a,"link",s),e.state.loading|=4,od(a,n.precedence,t),e.instance=a;case"script":return a=Tc(n.src),(r=t.querySelector(zh(a)))?(e.instance=r,On(r),r):(s=n,(r=fs.get(a))&&(s=Ut({},n),kg(s,r)),t=t.ownerDocument||t,r=t.createElement("script"),On(r),Wn(r,"link",s),t.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(me(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,od(s,n.precedence,t));return e.instance}function od(t,e,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,a=r,l=0;l<s.length;l++){var o=s[l];if(o.dataset.precedence===e)a=o;else if(a!==r)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Ag(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function kg(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var cd=null;function cb(t,e,n){if(cd===null){var s=new Map,r=cd=new Map;r.set(n,s)}else r=cd,s=r.get(n),s||(s=new Map,r.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),r=0;r<n.length;r++){var a=n[r];if(!(a[Sh]||a[Hn]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var l=a.getAttribute(e)||"";l=t+l;var o=s.get(l);o?o.push(a):s.set(l,[a])}}return s}function hb(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function NE(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function ej(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function AE(t,e,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var r=lc(s.href),a=e.querySelector(Ch(r));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Yd.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,On(a);return}a=e.ownerDocument||e,s=J9(s),(r=fs.get(r))&&Ag(s,r),a=a.createElement("link"),On(a);var l=a;l._p=new Promise(function(o,c){l.onload=o,l.onerror=c}),Wn(a,"link",s),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Yd.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var mp=0;function kE(t,e){return t.stylesheets&&t.count===0&&hd(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var s=setTimeout(function(){if(t.stylesheets&&hd(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&mp===0&&(mp=62500*lE());var r=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&hd(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>mp?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(r)}}:null}function Yd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xd=null;function hd(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xd=new Map,e.forEach(ME,t),Xd=null,Yd.call(t))}function ME(t,e){if(!(e.state.loading&4)){var n=Xd.get(t);if(n)var s=n.get(null);else{n=new Map,Xd.set(t,n);for(var r=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<r.length;a++){var l=r[a];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(n.set(l.dataset.precedence,l),s=l)}s&&n.set(null,s)}r=e.instance,l=r.getAttribute("data-precedence"),a=n.get(l)||s,a===s&&n.set(null,r),n.set(l,r),this.count++,s=Yd.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),a?a.parentNode.insertBefore(r,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(r,t.firstChild)),e.state.loading|=4}}var nh={$$typeof:Ar,Provider:null,Consumer:null,_currentValue:Il,_currentValue2:Il,_threadCount:0};function EE(t,e,n,s,r,a,l,o,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qm(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qm(0),this.hiddenUpdates=qm(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=a,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function tj(t,e,n,s,r,a,l,o,c,h,u,f){return t=new EE(t,e,n,l,c,h,u,f,o),e=1,a===!0&&(e|=24),a=_i(3,null,null,e),t.current=a,a.stateNode=t,e=J4(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:s,isDehydrated:n,cache:e},ng(a),t}function nj(t){return t?(t=Mo,t):Mo}function ij(t,e,n,s,r,a){r=nj(r),s.context===null?s.context=r:s.pendingContext=r,s=za(e),s.payload={element:n},a=a===void 0?null:a,a!==null&&(s.callback=a),n=Da(t,s,e),n!==null&&(Si(n,t,e),N0(n,t,e))}function ub(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Mg(t,e){ub(t,e),(t=t.alternate)&&ub(t,e)}function sj(t){if(t.tag===13||t.tag===31){var e=Ql(t,67108864);e!==null&&Si(e,t,67108864),Mg(t,67108864)}}function db(t){if(t.tag===13||t.tag===31){var e=Ui();e=B4(e);var n=Ql(t,e);n!==null&&Si(n,t,e),Mg(t,e)}}var Zd=!0;function CE(t,e,n,s){var r=Je.T;Je.T=null;var a=vt.p;try{vt.p=2,Eg(t,e,n,s)}finally{vt.p=a,Je.T=r}}function zE(t,e,n,s){var r=Je.T;Je.T=null;var a=vt.p;try{vt.p=8,Eg(t,e,n,s)}finally{vt.p=a,Je.T=r}}function Eg(t,e,n,s){if(Zd){var r=Sx(s);if(r===null)dp(t,e,s,Qd,n),fb(t,s);else if(PE(r,t,e,n,s))s.stopPropagation();else if(fb(t,s),e&4&&-1<DE.indexOf(t)){for(;r!==null;){var a=yc(r);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var l=Sl(a.pendingLanes);if(l!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;l;){var c=1<<31-Fi(l);o.entanglements[1]|=c,l&=~c}er(a),!(bt&6)&&($d=$i()+500,Eh(0))}}break;case 31:case 13:o=Ql(a,2),o!==null&&Si(o,a,2),Uf(),Mg(a,2)}if(a=Sx(s),a===null&&dp(t,e,s,Qd,n),a===r)break;r=a}r!==null&&s.stopPropagation()}else dp(t,e,s,null,n)}}function Sx(t){return t=U4(t),Cg(t)}var Qd=null;function Cg(t){if(Qd=null,t=wo(t),t!==null){var e=vh(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=S7(e),t!==null)return t;t=null}else if(n===31){if(t=N7(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Qd=t,null}function rj(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gk()){case E7:return 2;case C7:return 8;case Ad:case yk:return 32;case z7:return 268435456;default:return 32}default:return 32}}var Nx=!1,Ra=null,_a=null,qa=null,ih=new Map,sh=new Map,ba=[],DE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fb(t,e){switch(t){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":qa=null;break;case"pointerover":case"pointerout":ih.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":sh.delete(e.pointerId)}}function i0(t,e,n,s,r,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[r]},e!==null&&(e=yc(e),e!==null&&sj(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function PE(t,e,n,s,r){switch(e){case"focusin":return Ra=i0(Ra,t,e,n,s,r),!0;case"dragenter":return _a=i0(_a,t,e,n,s,r),!0;case"mouseover":return qa=i0(qa,t,e,n,s,r),!0;case"pointerover":var a=r.pointerId;return ih.set(a,i0(ih.get(a)||null,t,e,n,s,r)),!0;case"gotpointercapture":return a=r.pointerId,sh.set(a,i0(sh.get(a)||null,t,e,n,s,r)),!0}return!1}function aj(t){var e=wo(t.target);if(e!==null){var n=vh(e);if(n!==null){if(e=n.tag,e===13){if(e=S7(n),e!==null){t.blockedOn=e,Qy(t.priority,function(){db(n)});return}}else if(e===31){if(e=N7(n),e!==null){t.blockedOn=e,Qy(t.priority,function(){db(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ud(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sx(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);U1=s,n.target.dispatchEvent(s),U1=null}else return e=yc(n),e!==null&&sj(e),t.blockedOn=n,!1;e.shift()}return!0}function mb(t,e,n){ud(t)&&n.delete(e)}function IE(){Nx=!1,Ra!==null&&ud(Ra)&&(Ra=null),_a!==null&&ud(_a)&&(_a=null),qa!==null&&ud(qa)&&(qa=null),ih.forEach(mb),sh.forEach(mb)}function bu(t,e){t.blockedOn===e&&(t.blockedOn=null,Nx||(Nx=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,IE)))}var vu=null;function pb(t){vu!==t&&(vu=t,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,function(){vu===t&&(vu=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],r=t[e+2];if(typeof s!="function"){if(Cg(s||n)===null)continue;break}var a=yc(n);a!==null&&(t.splice(e,3),e-=3,rx(a,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function oc(t){function e(c){return bu(c,t)}Ra!==null&&bu(Ra,t),_a!==null&&bu(_a,t),qa!==null&&bu(qa,t),ih.forEach(e),sh.forEach(e);for(var n=0;n<ba.length;n++){var s=ba[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<ba.length&&(n=ba[0],n.blockedOn===null);)aj(n),n.blockedOn===null&&ba.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var r=n[s],a=n[s+1],l=r[Ai]||null;if(typeof a=="function")l||pb(n);else if(l){var o=null;if(a&&a.hasAttribute("formAction")){if(r=a,l=a[Ai]||null)o=l.formAction;else if(Cg(r)!==null)continue}else o=l.action;typeof o=="function"?n[s+1]=o:(n.splice(s,3),s-=3),pb(n)}}}function lj(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(l){return r=l})},focusReset:"manual",scroll:"manual"})}function e(){r!==null&&(r(),r=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,r=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),r!==null&&(r(),r=null)}}}function zg(t){this._internalRoot=t}Gf.prototype.render=zg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(me(409));var n=e.current,s=Ui();ij(n,s,t,e,null,null)};Gf.prototype.unmount=zg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ij(t.current,2,null,t,null,null),Uf(),e[gc]=null}};function Gf(t){this._internalRoot=t}Gf.prototype.unstable_scheduleHydration=function(t){if(t){var e=_7();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ba.length&&e!==0&&e<ba[n].priority;n++);ba.splice(n,0,t),n===0&&aj(t)}};var xb=w7.version;if(xb!=="19.2.3")throw Error(me(527,xb,"19.2.3"));vt.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(me(188)):(t=Object.keys(t).join(","),Error(me(268,t)));return t=hk(e),t=t!==null?A7(t):null,t=t===null?null:t.stateNode,t};var RE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Je,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{jh=ju.inject(RE),Li=ju}catch{}}Ef.createRoot=function(t,e){if(!T7(t))throw Error(me(299));var n=!1,s="",r=K8,a=J8,l=e9;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(l=e.onRecoverableError)),e=tj(t,1,!1,null,null,n,s,null,r,a,l,lj),t[gc]=e.current,Ng(t),new zg(e)};Ef.hydrateRoot=function(t,e,n){if(!T7(t))throw Error(me(299));var s=!1,r="",a=K8,l=J8,o=e9,c=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(l=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),e=tj(t,1,!0,e,n??null,s,r,c,a,l,o,lj),e.context=nj(null),n=e.current,s=Ui(),s=B4(s),r=za(s),r.callback=null,Da(n,r,s),n=s,e.current.lanes=n,Th(e,n),er(e),t[gc]=e.current,Ng(t),new Gf(e)};Ef.version="19.2.3";function oj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oj)}catch(t){console.error(t)}}oj(),x7.exports=Ef;var _E=x7.exports;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rh(){return rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},rh.apply(this,arguments)}var Na;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Na||(Na={}));const gb="popstate";function qE(t){t===void 0&&(t={});function e(r,a){let{pathname:l="/",search:o="",hash:c=""}=Jl(r.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Ax("",{pathname:l,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){let l=r.document.querySelector("base"),o="";if(l&&l.getAttribute("href")){let c=r.location.href,h=c.indexOf("#");o=h===-1?c:c.slice(0,h)}return o+"#"+(typeof a=="string"?a:Kd(a))}function s(r,a){Wf(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(a)+")")}return BE(e,n,s,t)}function hn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OE(){return Math.random().toString(36).substr(2,8)}function yb(t,e){return{usr:t.state,key:t.key,idx:e}}function Ax(t,e,n,s){return n===void 0&&(n=null),rh({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Jl(e):e,{state:n,key:e&&e.key||s||OE()})}function Kd(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Jl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function BE(t,e,n,s){s===void 0&&(s={});let{window:r=document.defaultView,v5Compat:a=!1}=s,l=r.history,o=Na.Pop,c=null,h=u();h==null&&(h=0,l.replaceState(rh({},l.state,{idx:h}),""));function u(){return(l.state||{idx:null}).idx}function f(){o=Na.Pop;let T=u(),S=T==null?null:T-h;h=T,c&&c({action:o,location:y.location,delta:S})}function x(T,S){o=Na.Push;let N=Ax(y.location,T,S);n&&n(N,T),h=u()+1;let j=yb(N,h),m=y.createHref(N);try{l.pushState(j,"",m)}catch(g){if(g instanceof DOMException&&g.name==="DataCloneError")throw g;r.location.assign(m)}a&&c&&c({action:o,location:y.location,delta:1})}function b(T,S){o=Na.Replace;let N=Ax(y.location,T,S);n&&n(N,T),h=u();let j=yb(N,h),m=y.createHref(N);l.replaceState(j,"",m),a&&c&&c({action:o,location:y.location,delta:0})}function M(T){let S=r.location.origin!=="null"?r.location.origin:r.location.href,N=typeof T=="string"?T:Kd(T);return N=N.replace(/ $/,"%20"),hn(S,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,S)}let y={get action(){return o},get location(){return t(r,l)},listen(T){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(gb,f),c=T,()=>{r.removeEventListener(gb,f),c=null}},createHref(T){return e(r,T)},createURL:M,encodeLocation(T){let S=M(T);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:x,replace:b,go(T){return l.go(T)}};return y}var bb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bb||(bb={}));function $E(t,e,n){return n===void 0&&(n="/"),LE(t,e,n)}function LE(t,e,n,s){let r=typeof e=="string"?Jl(e):e,a=cc(r.pathname||"/",n);if(a==null)return null;let l=cj(t);FE(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let h=JE(a);o=QE(l[c],h)}return o}function cj(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let r=(a,l,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};c.relativePath.startsWith("/")&&(hn(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let h=Oa([s,c.relativePath]),u=n.concat(c);a.children&&a.children.length>0&&(hn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),cj(a.children,e,u,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:XE(h,a.index),routesMeta:u})};return t.forEach((a,l)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))r(a,l);else for(let c of hj(a.path))r(a,l,c)}),e}function hj(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return r?[a,""]:[a];let l=hj(s.join("/")),o=[];return o.push(...l.map(c=>c===""?a:[a,c].join("/"))),r&&o.push(...l),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function FE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZE(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const UE=/^:[\w-]+$/,HE=3,VE=2,GE=1,WE=10,YE=-2,vb=t=>t==="*";function XE(t,e){let n=t.split("/"),s=n.length;return n.some(vb)&&(s+=YE),e&&(s+=VE),n.filter(r=>!vb(r)).reduce((r,a)=>r+(UE.test(a)?HE:a===""?GE:WE),s)}function ZE(t,e){return t.length===e.length&&t.slice(0,-1).every((s,r)=>s===e[r])?t[t.length-1]-e[e.length-1]:0}function QE(t,e,n){let{routesMeta:s}=t,r={},a="/",l=[];for(let o=0;o<s.length;++o){let c=s[o],h=o===s.length-1,u=a==="/"?e:e.slice(a.length)||"/",f=kx({path:c.relativePath,caseSensitive:c.caseSensitive,end:h},u),x=c.route;if(!f)return null;Object.assign(r,f.params),l.push({params:r,pathname:Oa([a,f.pathname]),pathnameBase:sC(Oa([a,f.pathnameBase])),route:x}),f.pathnameBase!=="/"&&(a=Oa([a,f.pathnameBase]))}return l}function kx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=KE(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let a=r[0],l=a.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:s.reduce((h,u,f)=>{let{paramName:x,isOptional:b}=u;if(x==="*"){let y=o[f]||"";l=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const M=o[f];return b&&!M?h[x]=void 0:h[x]=(M||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:t}}function KE(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Wf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(s.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),s]}function JE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}const eC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tC=t=>eC.test(t);function nC(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:r=""}=typeof t=="string"?Jl(t):t,a;if(n)if(tC(n))a=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Wf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?a=jb(n.substring(1),"/"):a=jb(n,e)}else a=e;return{pathname:a,search:rC(s),hash:aC(r)}}function jb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function pp(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function uj(t,e){let n=iC(t);return e?n.map((s,r)=>r===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function dj(t,e,n,s){s===void 0&&(s=!1);let r;typeof t=="string"?r=Jl(t):(r=rh({},t),hn(!r.pathname||!r.pathname.includes("?"),pp("?","pathname","search",r)),hn(!r.pathname||!r.pathname.includes("#"),pp("#","pathname","hash",r)),hn(!r.search||!r.search.includes("#"),pp("#","search","hash",r)));let a=t===""||r.pathname==="",l=a?"/":r.pathname,o;if(l==null)o=n;else{let f=e.length-1;if(!s&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),f-=1;r.pathname=x.join("/")}o=f>=0?e[f]:"/"}let c=nC(r,o),h=l&&l!=="/"&&l.endsWith("/"),u=(a||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(h||u)&&(c.pathname+="/"),c}const Oa=t=>t.join("/").replace(/\/\/+/g,"/"),sC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),rC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const fj=["post","put","patch","delete"];new Set(fj);const oC=["get",...fj];new Set(oC);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ah(){return ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ah.apply(this,arguments)}const Yf=q.createContext(null),mj=q.createContext(null),nl=q.createContext(null),Xf=q.createContext(null),eo=q.createContext({outlet:null,matches:[],isDataRoute:!1}),pj=q.createContext(null);function cC(t,e){let{relative:n}=e===void 0?{}:e;Dh()||hn(!1);let{basename:s,navigator:r}=q.useContext(nl),{hash:a,pathname:l,search:o}=Zf(t,{relative:n}),c=l;return s!=="/"&&(c=l==="/"?s:Oa([s,l])),r.createHref({pathname:c,search:o,hash:a})}function Dh(){return q.useContext(Xf)!=null}function Ph(){return Dh()||hn(!1),q.useContext(Xf).location}function xj(t){q.useContext(nl).static||q.useLayoutEffect(t)}function hC(){let{isDataRoute:t}=q.useContext(eo);return t?TC():uC()}function uC(){Dh()||hn(!1);let t=q.useContext(Yf),{basename:e,future:n,navigator:s}=q.useContext(nl),{matches:r}=q.useContext(eo),{pathname:a}=Ph(),l=JSON.stringify(uj(r,n.v7_relativeSplatPath)),o=q.useRef(!1);return xj(()=>{o.current=!0}),q.useCallback(function(h,u){if(u===void 0&&(u={}),!o.current)return;if(typeof h=="number"){s.go(h);return}let f=dj(h,JSON.parse(l),a,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Oa([e,f.pathname])),(u.replace?s.replace:s.push)(f,u.state,u)},[e,s,l,a,t])}function Zf(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=q.useContext(nl),{matches:r}=q.useContext(eo),{pathname:a}=Ph(),l=JSON.stringify(uj(r,s.v7_relativeSplatPath));return q.useMemo(()=>dj(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function dC(t,e){return fC(t,e)}function fC(t,e,n,s){Dh()||hn(!1);let{navigator:r}=q.useContext(nl),{matches:a}=q.useContext(eo),l=a[a.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let h=Ph(),u;if(e){var f;let T=typeof e=="string"?Jl(e):e;c==="/"||(f=T.pathname)!=null&&f.startsWith(c)||hn(!1),u=T}else u=h;let x=u.pathname||"/",b=x;if(c!=="/"){let T=c.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(T.length).join("/")}let M=$E(t,{pathname:b}),y=yC(M&&M.map(T=>Object.assign({},T,{params:Object.assign({},o,T.params),pathname:Oa([c,r.encodeLocation?r.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?c:Oa([c,r.encodeLocation?r.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),a,n,s);return e&&y?q.createElement(Xf.Provider,{value:{location:ah({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Na.Pop}},y):y}function mC(){let t=wC(),e=lC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:r},n):null,null)}const pC=q.createElement(mC,null);class xC extends q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?q.createElement(eo.Provider,{value:this.props.routeContext},q.createElement(pj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gC(t){let{routeContext:e,match:n,children:s}=t,r=q.useContext(Yf);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),q.createElement(eo.Provider,{value:e},s)}function yC(t,e,n,s){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let u=l.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||hn(!1),l=l.slice(0,Math.min(l.length,u+1))}let c=!1,h=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<l.length;u++){let f=l[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(h=u),f.route.id){let{loaderData:x,errors:b}=n,M=f.route.loader&&x[f.route.id]===void 0&&(!b||b[f.route.id]===void 0);if(f.route.lazy||M){c=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((u,f,x)=>{let b,M=!1,y=null,T=null;n&&(b=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||pC,c&&(h<0&&x===0?(SC("route-fallback"),M=!0,T=null):h===x&&(M=!0,T=f.route.hydrateFallbackElement||null)));let S=e.concat(l.slice(0,x+1)),N=()=>{let j;return b?j=y:M?j=T:f.route.Component?j=q.createElement(f.route.Component,null):f.route.element?j=f.route.element:j=u,q.createElement(gC,{match:f,routeContext:{outlet:u,matches:S,isDataRoute:n!=null},children:j})};return n&&(f.route.ErrorBoundary||f.route.errorElement||x===0)?q.createElement(xC,{location:n.location,revalidation:n.revalidation,component:y,error:b,children:N(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):N()},null)}var gj=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(gj||{}),yj=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(yj||{});function bC(t){let e=q.useContext(Yf);return e||hn(!1),e}function vC(t){let e=q.useContext(mj);return e||hn(!1),e}function jC(t){let e=q.useContext(eo);return e||hn(!1),e}function bj(t){let e=jC(),n=e.matches[e.matches.length-1];return n.route.id||hn(!1),n.route.id}function wC(){var t;let e=q.useContext(pj),n=vC(),s=bj();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function TC(){let{router:t}=bC(gj.UseNavigateStable),e=bj(yj.UseNavigateStable),n=q.useRef(!1);return xj(()=>{n.current=!0}),q.useCallback(function(r,a){a===void 0&&(a={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,ah({fromRouteId:e},a)))},[t,e])}const wb={};function SC(t,e,n){wb[t]||(wb[t]=!0)}function NC(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function kl(t){hn(!1)}function AC(t){let{basename:e="/",children:n=null,location:s,navigationType:r=Na.Pop,navigator:a,static:l=!1,future:o}=t;Dh()&&hn(!1);let c=e.replace(/^\/*/,"/"),h=q.useMemo(()=>({basename:c,navigator:a,static:l,future:ah({v7_relativeSplatPath:!1},o)}),[c,o,a,l]);typeof s=="string"&&(s=Jl(s));let{pathname:u="/",search:f="",hash:x="",state:b=null,key:M="default"}=s,y=q.useMemo(()=>{let T=cc(u,c);return T==null?null:{location:{pathname:T,search:f,hash:x,state:b,key:M},navigationType:r}},[c,u,f,x,b,M,r]);return y==null?null:q.createElement(nl.Provider,{value:h},q.createElement(Xf.Provider,{children:n,value:y}))}function kC(t){let{children:e,location:n}=t;return dC(Mx(e),n)}new Promise(()=>{});function Mx(t,e){e===void 0&&(e=[]);let n=[];return q.Children.forEach(t,(s,r)=>{if(!q.isValidElement(s))return;let a=[...e,r];if(s.type===q.Fragment){n.push.apply(n,Mx(s.props.children,a));return}s.type!==kl&&hn(!1),!s.props.index||!s.props.children||hn(!1);let l={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=Mx(s.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jd(){return Jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Jd.apply(this,arguments)}function vj(t,e){if(t==null)return{};var n={},s=Object.keys(t),r,a;for(a=0;a<s.length;a++)r=s[a],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function MC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function EC(t,e){return t.button===0&&(!e||e==="_self")&&!MC(t)}const CC=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zC=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],DC="6";try{window.__reactRouterVersion=DC}catch{}const PC=q.createContext({isTransitioning:!1}),IC="startTransition",Tb=ik[IC];function RC(t){let{basename:e,children:n,future:s,window:r}=t,a=q.useRef();a.current==null&&(a.current=qE({window:r,v5Compat:!0}));let l=a.current,[o,c]=q.useState({action:l.action,location:l.location}),{v7_startTransition:h}=s||{},u=q.useCallback(f=>{h&&Tb?Tb(()=>c(f)):c(f)},[c,h]);return q.useLayoutEffect(()=>l.listen(u),[l,u]),q.useEffect(()=>NC(s),[s]),q.createElement(AC,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:l,future:s})}const _C=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wi=q.forwardRef(function(e,n){let{onClick:s,relative:r,reloadDocument:a,replace:l,state:o,target:c,to:h,preventScrollReset:u,viewTransition:f}=e,x=vj(e,CC),{basename:b}=q.useContext(nl),M,y=!1;if(typeof h=="string"&&qC.test(h)&&(M=h,_C))try{let j=new URL(window.location.href),m=h.startsWith("//")?new URL(j.protocol+h):new URL(h),g=cc(m.pathname,b);m.origin===j.origin&&g!=null?h=g+m.search+m.hash:y=!0}catch{}let T=cC(h,{relative:r}),S=BC(h,{replace:l,state:o,target:c,preventScrollReset:u,relative:r,viewTransition:f});function N(j){s&&s(j),j.defaultPrevented||S(j)}return q.createElement("a",Jd({},x,{href:M||T,onClick:y||a?s:N,ref:n,target:c}))}),xp=q.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:r=!1,className:a="",end:l=!1,style:o,to:c,viewTransition:h,children:u}=e,f=vj(e,zC),x=Zf(c,{relative:f.relative}),b=Ph(),M=q.useContext(mj),{navigator:y,basename:T}=q.useContext(nl),S=M!=null&&$C(x)&&h===!0,N=y.encodeLocation?y.encodeLocation(x).pathname:x.pathname,j=b.pathname,m=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;r||(j=j.toLowerCase(),m=m?m.toLowerCase():null,N=N.toLowerCase()),m&&T&&(m=cc(m,T)||m);const g=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let E=j===N||!l&&j.startsWith(N)&&j.charAt(g)==="/",v=m!=null&&(m===N||!l&&m.startsWith(N)&&m.charAt(N.length)==="/"),p={isActive:E,isPending:v,isTransitioning:S},A=E?s:void 0,w;typeof a=="function"?w=a(p):w=[a,E?"active":null,v?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(p):o;return q.createElement(wi,Jd({},f,{"aria-current":A,className:w,ref:n,style:k,to:c,viewTransition:h}),typeof u=="function"?u(p):u)});var Ex;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ex||(Ex={}));var Sb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Sb||(Sb={}));function OC(t){let e=q.useContext(Yf);return e||hn(!1),e}function BC(t,e){let{target:n,replace:s,state:r,preventScrollReset:a,relative:l,viewTransition:o}=e===void 0?{}:e,c=hC(),h=Ph(),u=Zf(t,{relative:l});return q.useCallback(f=>{if(EC(f,n)){f.preventDefault();let x=s!==void 0?s:Kd(h)===Kd(u);c(t,{replace:x,state:r,preventScrollReset:a,relative:l,viewTransition:o})}},[h,c,u,s,r,n,t,a,l,o])}function $C(t,e){e===void 0&&(e={});let n=q.useContext(PC);n==null&&hn(!1);let{basename:s}=OC(Ex.useViewTransitionState),r=Zf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=cc(n.currentLocation.pathname,s)||n.currentLocation.pathname,l=cc(n.nextLocation.pathname,s)||n.nextLocation.pathname;return kx(r.pathname,l)!=null||kx(r.pathname,a)!=null}const ef="four_pillars",Dg="Advanced Geometry",LC="An interactive course in advanced geometry",jj="",FC="https://mathacademy-cyan.vercel.app",wj={leaderboard:!1};var Nb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},UC=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const a=t[n++];e[s++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=t[n++],l=t[n++],o=t[n++],c=((r&7)<<18|(a&63)<<12|(l&63)<<6|o&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],l=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Sj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const a=t[r],l=r+1<t.length,o=l?t[r+1]:0,c=r+2<t.length,h=c?t[r+2]:0,u=a>>2,f=(a&3)<<4|o>>4;let x=(o&15)<<2|h>>6,b=h&63;c||(b=64,l||(x=64)),s.push(n[u],n[f],n[x],n[b])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Tj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const a=n[t.charAt(r++)],o=r<t.length?n[t.charAt(r)]:0;++r;const h=r<t.length?n[t.charAt(r)]:64;++r;const f=r<t.length?n[t.charAt(r)]:64;if(++r,a==null||o==null||h==null||f==null)throw new HC;const x=a<<2|o>>4;if(s.push(x),h!==64){const b=o<<4&240|h>>2;if(s.push(b),f!==64){const M=h<<6&192|f;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VC=function(t){const e=Tj(t);return Sj.encodeByteArray(e,!0)},Nj=function(t){return VC(t).replace(/\./g,"")},Aj=function(t){try{return Sj.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=()=>GC().__FIREBASE_DEFAULTS__,YC=()=>{if(typeof process>"u"||typeof Nb>"u")return;const t=Nb.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Aj(t[1]);return e&&JSON.parse(e)},ZC=()=>{try{return WC()||YC()||XC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QC=t=>{var e;return(e=ZC())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ks())}function JC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ez(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tz(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nz(){try{return typeof indexedDB=="object"}catch{return!1}}function iz(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;e(((a=r.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz="FirebaseError";class il extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=sz,Object.setPrototypeOf(this,il.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ih.prototype.create)}}class Ih{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,a=this.errors[e],l=a?rz(a,s):"Error",o=`${this.serviceName}: ${l} (${r}).`;return new il(r,o,s)}}function rz(t,e){return t.replace(az,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const az=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function lz(t,e){const n=new oz(t,e);return n.subscribe.bind(n)}class oz{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let r;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");cz(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:s},r.next===void 0&&(r.next=gp),r.error===void 0&&(r.error=gp),r.complete===void 0&&(r.complete=gp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cz(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t){return t&&t._delegate?t._delegate:t}class Gl{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(wt||(wt={}));const hz={debug:wt.DEBUG,verbose:wt.VERBOSE,info:wt.INFO,warn:wt.WARN,error:wt.ERROR,silent:wt.SILENT},uz=wt.INFO,dz={[wt.DEBUG]:"log",[wt.VERBOSE]:"log",[wt.INFO]:"info",[wt.WARN]:"warn",[wt.ERROR]:"error"},fz=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=dz[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pg{constructor(e){this.name=e,this._logLevel=uz,this._logHandler=fz,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wt.DEBUG,...e),this._logHandler(this,wt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wt.VERBOSE,...e),this._logHandler(this,wt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wt.INFO,...e),this._logHandler(this,wt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wt.WARN,...e),this._logHandler(this,wt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wt.ERROR,...e),this._logHandler(this,wt.ERROR,...e)}}const mz=(t,e)=>e.some(n=>t instanceof n);let Ab,kb;function pz(){return Ab||(Ab=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xz(){return kb||(kb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Mj=new WeakMap,Cx=new WeakMap,Ej=new WeakMap,yp=new WeakMap,Ig=new WeakMap;function gz(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Ba(t.result)),r()},l=()=>{s(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Mj.set(n,t)}).catch(()=>{}),Ig.set(e,t),e}function yz(t){if(Cx.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),r()},l=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Cx.set(t,e)}let zx={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cx.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ej.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ba(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bz(t){zx=t(zx)}function vz(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(bp(this),e,...n);return Ej.set(s,e.sort?e.sort():[e]),Ba(s)}:xz().includes(t)?function(...e){return t.apply(bp(this),e),Ba(Mj.get(this))}:function(...e){return Ba(t.apply(bp(this),e))}}function jz(t){return typeof t=="function"?vz(t):(t instanceof IDBTransaction&&yz(t),mz(t,pz())?new Proxy(t,zx):t)}function Ba(t){if(t instanceof IDBRequest)return gz(t);if(yp.has(t))return yp.get(t);const e=jz(t);return e!==t&&(yp.set(t,e),Ig.set(e,t)),e}const bp=t=>Ig.get(t);function wz(t,e,{blocked:n,upgrade:s,blocking:r,terminated:a}={}){const l=indexedDB.open(t,e),o=Ba(l);return s&&l.addEventListener("upgradeneeded",c=>{s(Ba(l.result),c.oldVersion,c.newVersion,Ba(l.transaction),c)}),n&&l.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{a&&c.addEventListener("close",()=>a()),r&&c.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),o}const Tz=["get","getKey","getAll","getAllKeys","count"],Sz=["put","add","delete","clear"],vp=new Map;function Mb(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vp.get(e))return vp.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=Sz.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||Tz.includes(n)))return;const a=async function(l,...o){const c=this.transaction(l,r?"readwrite":"readonly");let h=c.store;return s&&(h=h.index(o.shift())),(await Promise.all([h[n](...o),r&&c.done]))[0]};return vp.set(e,a),a}bz(t=>({...t,get:(e,n,s)=>Mb(e,n)||t.get(e,n,s),has:(e,n)=>!!Mb(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nz{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Az(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Az(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dx="@firebase/app",Eb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr=new Pg("@firebase/app"),kz="@firebase/app-compat",Mz="@firebase/analytics-compat",Ez="@firebase/analytics",Cz="@firebase/app-check-compat",zz="@firebase/app-check",Dz="@firebase/auth",Pz="@firebase/auth-compat",Iz="@firebase/database",Rz="@firebase/data-connect",_z="@firebase/database-compat",qz="@firebase/functions",Oz="@firebase/functions-compat",Bz="@firebase/installations",$z="@firebase/installations-compat",Lz="@firebase/messaging",Fz="@firebase/messaging-compat",Uz="@firebase/performance",Hz="@firebase/performance-compat",Vz="@firebase/remote-config",Gz="@firebase/remote-config-compat",Wz="@firebase/storage",Yz="@firebase/storage-compat",Xz="@firebase/firestore",Zz="@firebase/vertexai-preview",Qz="@firebase/firestore-compat",Kz="firebase",Jz="10.14.1",eD={[Dx]:"fire-core",[kz]:"fire-core-compat",[Ez]:"fire-analytics",[Mz]:"fire-analytics-compat",[zz]:"fire-app-check",[Cz]:"fire-app-check-compat",[Dz]:"fire-auth",[Pz]:"fire-auth-compat",[Iz]:"fire-rtdb",[Rz]:"fire-data-connect",[_z]:"fire-rtdb-compat",[qz]:"fire-fn",[Oz]:"fire-fn-compat",[Bz]:"fire-iid",[$z]:"fire-iid-compat",[Lz]:"fire-fcm",[Fz]:"fire-fcm-compat",[Uz]:"fire-perf",[Hz]:"fire-perf-compat",[Vz]:"fire-rc",[Gz]:"fire-rc-compat",[Wz]:"fire-gcs",[Yz]:"fire-gcs-compat",[Xz]:"fire-fst",[Qz]:"fire-fst-compat",[Zz]:"fire-vertex","fire-js":"fire-js",[Kz]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new Map,nD=new Map,Cb=new Map;function zb(t,e){try{t.container.addComponent(e)}catch(n){Lr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wl(t){const e=t.name;if(Cb.has(e))return Lr.debug(`There were multiple attempts to register component ${e}.`),!1;Cb.set(e,t);for(const n of tD.values())zb(n,t);for(const n of nD.values())zb(n,t);return!0}function p0(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rg=new Ih("app","Firebase",iD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf=Jz;function Xs(t,e,n){var s;let r=(s=eD[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const o=[`Unable to register library "${r}" with version "${e}":`];a&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&o.push("and"),l&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Lr.warn(o.join(" "));return}Wl(new Gl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD="firebase-heartbeat-database",rD=1,lh="firebase-heartbeat-store";let jp=null;function Cj(){return jp||(jp=wz(sD,rD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Rg.create("idb-open",{originalErrorMessage:t.message})})),jp}async function aD(t){try{const n=(await Cj()).transaction(lh),s=await n.objectStore(lh).get(zj(t));return await n.done,s}catch(e){if(e instanceof il)Lr.warn(e.message);else{const n=Rg.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Lr.warn(n.message)}}}async function Db(t,e){try{const s=(await Cj()).transaction(lh,"readwrite");await s.objectStore(lh).put(e,zj(t)),await s.done}catch(n){if(n instanceof il)Lr.warn(n.message);else{const s=Rg.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Lr.warn(s.message)}}}function zj(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=1024,oD=30*24*60*60*1e3;class cD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Pb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const o=new Date(l.date).valueOf();return Date.now()-o<=oD}),this._storage.overwrite(this._heartbeatsCache))}catch(s){Lr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Pb(),{heartbeatsToSend:s,unsentEntries:r}=hD(this._heartbeatsCache.heartbeats),a=Nj(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Lr.warn(n),""}}}function Pb(){return new Date().toISOString().substring(0,10)}function hD(t,e=lD){const n=[];let s=t.slice();for(const r of t){const a=n.find(l=>l.agent===r.agent);if(a){if(a.dates.push(r.date),Ib(n)>e){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Ib(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class uD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nz()?iz().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Db(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Db(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ib(t){return Nj(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t){Wl(new Gl("platform-logger",e=>new Nz(e),"PRIVATE")),Wl(new Gl("heartbeat",e=>new cD(e),"PRIVATE")),Xs(Dx,Eb,t),Xs(Dx,Eb,"esm2017"),Xs("fire-js","")}dD("");var fD="firebase",mD="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xs(fD,mD,"app");function Dj(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)e.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n}function Pj(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pD=Pj,Ij=new Ih("auth","Firebase",Pj());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf=new Pg("@firebase/auth");function xD(t,...e){tf.logLevel<=wt.WARN&&tf.warn(`Auth (${Kf}): ${t}`,...e)}function dd(t,...e){tf.logLevel<=wt.ERROR&&tf.error(`Auth (${Kf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(t,...e){throw _g(t,...e)}function Rj(t,...e){return _g(t,...e)}function _j(t,e,n){const s=Object.assign(Object.assign({},pD()),{[e]:n});return new Ih("auth","Firebase",s).create(e,{appName:t.name})}function fd(t){return _j(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _g(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return Ij.create(t,...e)}function yt(t,e,...n){if(!t)throw _g(e,...n)}function I0(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dd(e),new Error(e)}function nf(t,e){t||I0(e)}function gD(){return _b()==="http:"||_b()==="https:"}function _b(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gD()||ez()||"connection"in navigator)?navigator.onLine:!0}function bD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){this.shortDelay=e,this.longDelay=n,nf(n>e,"Short delay should be less than long delay!"),this.isMobile=KC()||tz()}get(){return yD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t,e){nf(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;I0("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;I0("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;I0("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=new Rh(3e4,6e4);function Oj(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Jf(t,e,n,s,r={}){return Bj(t,r,async()=>{let a={},l={};s&&(e==="GET"?l=s:a={body:JSON.stringify(s)});const o=kj(Object.assign({key:t.config.apiKey},l)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:c},a);return JC()||(h.referrerPolicy="no-referrer"),qj.fetch()($j(t,t.config.apiHost,n,o),h)})}async function Bj(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},jD),e);try{const r=new TD(t),a=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw wu(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const o=a.ok?l.errorMessage:l.error.message,[c,h]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw wu(t,"credential-already-in-use",l);if(c==="EMAIL_EXISTS")throw wu(t,"email-already-in-use",l);if(c==="USER_DISABLED")throw wu(t,"user-disabled",l);const u=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw _j(t,u,h);Rb(t,u)}}catch(r){if(r instanceof il)throw r;Rb(t,"network-request-failed",{message:String(r)})}}function $j(t,e,n,s){const r=`${e}${n}?${s}`;return t.config.emulator?vD(t.config,r):`${t.config.apiScheme}://${r}`}class TD{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Rj(this.auth,"network-request-failed")),wD.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wu(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const r=Rj(t,e,s);return r.customData._tokenResponse=n,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(t,e){return Jf(t,"POST","/v1/accounts:delete",e)}async function Lj(t,e){return Jf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ND(t,e=!1){const n=Qf(t),s=await n.getIdToken(e),r=Fj(s);yt(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:r,token:s,authTime:R0(wp(r.auth_time)),issuedAtTime:R0(wp(r.iat)),expirationTime:R0(wp(r.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function wp(t){return Number(t)*1e3}function Fj(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return dd("JWT malformed, contained fewer than 3 sections"),null;try{const r=Aj(n);return r?JSON.parse(r):(dd("Failed to decode base64 JWT payload"),null)}catch(r){return dd("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function qb(t){const e=Fj(t);return yt(e,"internal-error"),yt(typeof e.exp<"u","internal-error"),yt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof il&&AD(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function AD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=R0(this.lastLoginAt),this.creationTime=R0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sf(t){var e;const n=t.auth,s=await t.getIdToken(),r=await Px(t,Lj(n,{idToken:s}));yt(r==null?void 0:r.users.length,n,"internal-error");const a=r.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?Uj(a.providerUserInfo):[],o=ED(t.providerData,l),c=t.isAnonymous,h=!(t.email&&a.passwordHash)&&!(o!=null&&o.length),u=c?h:!1,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Ix(a.createdAt,a.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function MD(t){const e=Qf(t);await sf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ED(t,e){return[...t.filter(s=>!e.some(r=>r.providerId===s.providerId)),...e]}function Uj(t){return t.map(e=>{var{providerId:n}=e,s=Dj(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CD(t,e){const n=await Bj(t,{},async()=>{const s=kj({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=t.config,l=$j(t,r,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",qj.fetch()(l,{method:"POST",headers:o,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zD(t,e){return Jf(t,"POST","/v2/accounts:revokeToken",Oj(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){yt(e.idToken,"internal-error"),yt(typeof e.idToken<"u","internal-error"),yt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){yt(e.length!==0,"internal-error");const n=qb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:r,expiresIn:a}=await CD(e,n);this.updateTokensAndExpiration(s,r,Number(a))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:r,expirationTime:a}=n,l=new Go;return s&&(yt(typeof s=="string","internal-error",{appName:e}),l.refreshToken=s),r&&(yt(typeof r=="string","internal-error",{appName:e}),l.accessToken=r),a&&(yt(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Go,this.toJSON())}_performRefresh(){return I0("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(t,e){yt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Aa{constructor(e){var{uid:n,auth:s,stsTokenManager:r}=e,a=Dj(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ix(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Px(this,this.stsTokenManager.getToken(this.auth,e));return yt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return ND(this,e)}reload(){return MD(this)}_assign(e){this!==e&&(yt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Aa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await sf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(p0(this.auth.app))return Promise.reject(fd(this.auth));const e=await this.getIdToken();return await Px(this,SD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,r,a,l,o,c,h,u;const f=(s=n.displayName)!==null&&s!==void 0?s:void 0,x=(r=n.email)!==null&&r!==void 0?r:void 0,b=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,M=(l=n.photoURL)!==null&&l!==void 0?l:void 0,y=(o=n.tenantId)!==null&&o!==void 0?o:void 0,T=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,S=(h=n.createdAt)!==null&&h!==void 0?h:void 0,N=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:j,emailVerified:m,isAnonymous:g,providerData:E,stsTokenManager:v}=n;yt(j&&v,e,"internal-error");const p=Go.fromJSON(this.name,v);yt(typeof j=="string",e,"internal-error"),oa(f,e.name),oa(x,e.name),yt(typeof m=="boolean",e,"internal-error"),yt(typeof g=="boolean",e,"internal-error"),oa(b,e.name),oa(M,e.name),oa(y,e.name),oa(T,e.name),oa(S,e.name),oa(N,e.name);const A=new Aa({uid:j,auth:e,email:x,emailVerified:m,displayName:f,isAnonymous:g,photoURL:M,phoneNumber:b,tenantId:y,stsTokenManager:p,createdAt:S,lastLoginAt:N});return E&&Array.isArray(E)&&(A.providerData=E.map(w=>Object.assign({},w))),T&&(A._redirectEventId=T),A}static async _fromIdTokenResponse(e,n,s=!1){const r=new Go;r.updateFromServerResponse(n);const a=new Aa({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:s});return await sf(a),a}static async _fromGetAccountInfoResponse(e,n,s){const r=n.users[0];yt(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?Uj(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),o=new Go;o.updateFromIdToken(s);const c=new Aa({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:l}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new Ix(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob=new Map;function zl(t){nf(t instanceof Function,"Expected a class definition");let e=Ob.get(t);return e?(nf(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ob.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Hj.type="NONE";const Bb=Hj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t,e,n){return`firebase:${t}:${e}:${n}`}class Wo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:r,name:a}=this.auth;this.fullUserKey=Tp(this.userKey,r.apiKey,a),this.fullPersistenceKey=Tp("persistence",r.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Aa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Wo(zl(Bb),e,s);const r=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let a=r[0]||zl(Bb);const l=Tp(s,e.config.apiKey,e.name);let o=null;for(const h of n)try{const u=await h._get(l);if(u){const f=Aa._fromJSON(e,u);h!==a&&(o=f),a=h;break}}catch{}const c=r.filter(h=>h._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Wo(a,e,s):(a=c[0],o&&await a._set(l,o.toJSON()),await Promise.all(n.map(async h=>{if(h!==a)try{await h._remove(l)}catch{}})),new Wo(a,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(DD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qD(e))return"Blackberry";if(OD(e))return"Webos";if(PD(e))return"Safari";if((e.includes("chrome/")||ID(e))&&!e.includes("edge/"))return"Chrome";if(_D(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function DD(t=Ks()){return/firefox\//i.test(t)}function PD(t=Ks()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ID(t=Ks()){return/crios\//i.test(t)}function RD(t=Ks()){return/iemobile/i.test(t)}function _D(t=Ks()){return/android/i.test(t)}function qD(t=Ks()){return/blackberry/i.test(t)}function OD(t=Ks()){return/webos/i.test(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(t,e=[]){let n;switch(t){case"Browser":n=$b(Ks());break;case"Worker":n=`${$b(Ks())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Kf}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=a=>new Promise((l,o)=>{try{const c=e(a);l(c)}catch(c){o(c)}});s.onAbort=n,this.queue.push(s);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(t,e={}){return Jf(t,"GET","/v2/passwordPolicy",Oj(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=6;class FD{constructor(e){var n,s,r,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:LD,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,r,a,l,o;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(s=c.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(r=c.containsLowercaseLetter)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(a=c.containsUppercaseLetter)!==null&&a!==void 0?a:!0),c.isValid&&(c.isValid=(l=c.containsNumericCharacter)!==null&&l!==void 0?l:!0),c.isValid&&(c.isValid=(o=c.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),c}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let r=0;r<e.length;r++)s=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,n,s,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lb(this),this.idTokenSubscription=new Lb(this),this.beforeStateQueue=new BD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ij,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zl(n)),this._initializationPromise=this.queue(async()=>{var s,r;if(!this._deleted&&(this.persistenceManager=await Wo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Lj(this,{idToken:e}),s=await Aa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(p0(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(o,o))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let r=s,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!l||l===o)&&(c!=null&&c.user)&&(r=c.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(p0(this.app))return Promise.reject(fd(this));const n=e?Qf(e):null;return n&&yt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&yt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return p0(this.app)?Promise.reject(fd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return p0(this.app)?Promise.reject(fd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $D(this),n=new FD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ih("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await zD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zl(e)||this._popupRedirectResolver;yt(n,this,"argument-error"),this.redirectPersistenceManager=await Wo.create(this,[zl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,r){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(o,this,"internal-error"),o.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,r);return()=>{l=!0,c()}}else{const c=e.addObserver(n);return()=>{l=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&xD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function HD(t){return Qf(t)}class Lb{constructor(e){this.auth=e,this.observer=null,this.addObserver=lz(n=>this.observer=n)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function VD(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(zl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}new Rh(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Rh(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Rh(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Rh(5e3,15e3);var Fb="@firebase/auth",Ub="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WD(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function YD(t){Wl(new Gl("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:o}=s.options;yt(l&&!l.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:l,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vj(t)},h=new UD(s,r,a,c);return VD(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Wl(new Gl("auth-internal",e=>{const n=HD(e.getProvider("auth").getImmediate());return(s=>new GD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xs(Fb,Ub,WD(t)),Xs(Fb,Ub,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=5*60;QC("authIdTokenMaxAge");YD("Browser");var Hb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gj;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(v,p){function A(){}A.prototype=p.prototype,v.D=p.prototype,v.prototype=new A,v.prototype.constructor=v,v.C=function(w,k,D){for(var I=Array(arguments.length-2),$=2;$<arguments.length;$++)I[$-2]=arguments[$];return p.prototype[k].apply(w,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(v,p,A){A||(A=0);var w=Array(16);if(typeof p=="string")for(var k=0;16>k;++k)w[k]=p.charCodeAt(A++)|p.charCodeAt(A++)<<8|p.charCodeAt(A++)<<16|p.charCodeAt(A++)<<24;else for(k=0;16>k;++k)w[k]=p[A++]|p[A++]<<8|p[A++]<<16|p[A++]<<24;p=v.g[0],A=v.g[1],k=v.g[2];var D=v.g[3],I=p+(D^A&(k^D))+w[0]+3614090360&4294967295;p=A+(I<<7&4294967295|I>>>25),I=D+(k^p&(A^k))+w[1]+3905402710&4294967295,D=p+(I<<12&4294967295|I>>>20),I=k+(A^D&(p^A))+w[2]+606105819&4294967295,k=D+(I<<17&4294967295|I>>>15),I=A+(p^k&(D^p))+w[3]+3250441966&4294967295,A=k+(I<<22&4294967295|I>>>10),I=p+(D^A&(k^D))+w[4]+4118548399&4294967295,p=A+(I<<7&4294967295|I>>>25),I=D+(k^p&(A^k))+w[5]+1200080426&4294967295,D=p+(I<<12&4294967295|I>>>20),I=k+(A^D&(p^A))+w[6]+2821735955&4294967295,k=D+(I<<17&4294967295|I>>>15),I=A+(p^k&(D^p))+w[7]+4249261313&4294967295,A=k+(I<<22&4294967295|I>>>10),I=p+(D^A&(k^D))+w[8]+1770035416&4294967295,p=A+(I<<7&4294967295|I>>>25),I=D+(k^p&(A^k))+w[9]+2336552879&4294967295,D=p+(I<<12&4294967295|I>>>20),I=k+(A^D&(p^A))+w[10]+4294925233&4294967295,k=D+(I<<17&4294967295|I>>>15),I=A+(p^k&(D^p))+w[11]+2304563134&4294967295,A=k+(I<<22&4294967295|I>>>10),I=p+(D^A&(k^D))+w[12]+1804603682&4294967295,p=A+(I<<7&4294967295|I>>>25),I=D+(k^p&(A^k))+w[13]+4254626195&4294967295,D=p+(I<<12&4294967295|I>>>20),I=k+(A^D&(p^A))+w[14]+2792965006&4294967295,k=D+(I<<17&4294967295|I>>>15),I=A+(p^k&(D^p))+w[15]+1236535329&4294967295,A=k+(I<<22&4294967295|I>>>10),I=p+(k^D&(A^k))+w[1]+4129170786&4294967295,p=A+(I<<5&4294967295|I>>>27),I=D+(A^k&(p^A))+w[6]+3225465664&4294967295,D=p+(I<<9&4294967295|I>>>23),I=k+(p^A&(D^p))+w[11]+643717713&4294967295,k=D+(I<<14&4294967295|I>>>18),I=A+(D^p&(k^D))+w[0]+3921069994&4294967295,A=k+(I<<20&4294967295|I>>>12),I=p+(k^D&(A^k))+w[5]+3593408605&4294967295,p=A+(I<<5&4294967295|I>>>27),I=D+(A^k&(p^A))+w[10]+38016083&4294967295,D=p+(I<<9&4294967295|I>>>23),I=k+(p^A&(D^p))+w[15]+3634488961&4294967295,k=D+(I<<14&4294967295|I>>>18),I=A+(D^p&(k^D))+w[4]+3889429448&4294967295,A=k+(I<<20&4294967295|I>>>12),I=p+(k^D&(A^k))+w[9]+568446438&4294967295,p=A+(I<<5&4294967295|I>>>27),I=D+(A^k&(p^A))+w[14]+3275163606&4294967295,D=p+(I<<9&4294967295|I>>>23),I=k+(p^A&(D^p))+w[3]+4107603335&4294967295,k=D+(I<<14&4294967295|I>>>18),I=A+(D^p&(k^D))+w[8]+1163531501&4294967295,A=k+(I<<20&4294967295|I>>>12),I=p+(k^D&(A^k))+w[13]+2850285829&4294967295,p=A+(I<<5&4294967295|I>>>27),I=D+(A^k&(p^A))+w[2]+4243563512&4294967295,D=p+(I<<9&4294967295|I>>>23),I=k+(p^A&(D^p))+w[7]+1735328473&4294967295,k=D+(I<<14&4294967295|I>>>18),I=A+(D^p&(k^D))+w[12]+2368359562&4294967295,A=k+(I<<20&4294967295|I>>>12),I=p+(A^k^D)+w[5]+4294588738&4294967295,p=A+(I<<4&4294967295|I>>>28),I=D+(p^A^k)+w[8]+2272392833&4294967295,D=p+(I<<11&4294967295|I>>>21),I=k+(D^p^A)+w[11]+1839030562&4294967295,k=D+(I<<16&4294967295|I>>>16),I=A+(k^D^p)+w[14]+4259657740&4294967295,A=k+(I<<23&4294967295|I>>>9),I=p+(A^k^D)+w[1]+2763975236&4294967295,p=A+(I<<4&4294967295|I>>>28),I=D+(p^A^k)+w[4]+1272893353&4294967295,D=p+(I<<11&4294967295|I>>>21),I=k+(D^p^A)+w[7]+4139469664&4294967295,k=D+(I<<16&4294967295|I>>>16),I=A+(k^D^p)+w[10]+3200236656&4294967295,A=k+(I<<23&4294967295|I>>>9),I=p+(A^k^D)+w[13]+681279174&4294967295,p=A+(I<<4&4294967295|I>>>28),I=D+(p^A^k)+w[0]+3936430074&4294967295,D=p+(I<<11&4294967295|I>>>21),I=k+(D^p^A)+w[3]+3572445317&4294967295,k=D+(I<<16&4294967295|I>>>16),I=A+(k^D^p)+w[6]+76029189&4294967295,A=k+(I<<23&4294967295|I>>>9),I=p+(A^k^D)+w[9]+3654602809&4294967295,p=A+(I<<4&4294967295|I>>>28),I=D+(p^A^k)+w[12]+3873151461&4294967295,D=p+(I<<11&4294967295|I>>>21),I=k+(D^p^A)+w[15]+530742520&4294967295,k=D+(I<<16&4294967295|I>>>16),I=A+(k^D^p)+w[2]+3299628645&4294967295,A=k+(I<<23&4294967295|I>>>9),I=p+(k^(A|~D))+w[0]+4096336452&4294967295,p=A+(I<<6&4294967295|I>>>26),I=D+(A^(p|~k))+w[7]+1126891415&4294967295,D=p+(I<<10&4294967295|I>>>22),I=k+(p^(D|~A))+w[14]+2878612391&4294967295,k=D+(I<<15&4294967295|I>>>17),I=A+(D^(k|~p))+w[5]+4237533241&4294967295,A=k+(I<<21&4294967295|I>>>11),I=p+(k^(A|~D))+w[12]+1700485571&4294967295,p=A+(I<<6&4294967295|I>>>26),I=D+(A^(p|~k))+w[3]+2399980690&4294967295,D=p+(I<<10&4294967295|I>>>22),I=k+(p^(D|~A))+w[10]+4293915773&4294967295,k=D+(I<<15&4294967295|I>>>17),I=A+(D^(k|~p))+w[1]+2240044497&4294967295,A=k+(I<<21&4294967295|I>>>11),I=p+(k^(A|~D))+w[8]+1873313359&4294967295,p=A+(I<<6&4294967295|I>>>26),I=D+(A^(p|~k))+w[15]+4264355552&4294967295,D=p+(I<<10&4294967295|I>>>22),I=k+(p^(D|~A))+w[6]+2734768916&4294967295,k=D+(I<<15&4294967295|I>>>17),I=A+(D^(k|~p))+w[13]+1309151649&4294967295,A=k+(I<<21&4294967295|I>>>11),I=p+(k^(A|~D))+w[4]+4149444226&4294967295,p=A+(I<<6&4294967295|I>>>26),I=D+(A^(p|~k))+w[11]+3174756917&4294967295,D=p+(I<<10&4294967295|I>>>22),I=k+(p^(D|~A))+w[2]+718787259&4294967295,k=D+(I<<15&4294967295|I>>>17),I=A+(D^(k|~p))+w[9]+3951481745&4294967295,v.g[0]=v.g[0]+p&4294967295,v.g[1]=v.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,v.g[2]=v.g[2]+k&4294967295,v.g[3]=v.g[3]+D&4294967295}s.prototype.u=function(v,p){p===void 0&&(p=v.length);for(var A=p-this.blockSize,w=this.B,k=this.h,D=0;D<p;){if(k==0)for(;D<=A;)r(this,v,D),D+=this.blockSize;if(typeof v=="string"){for(;D<p;)if(w[k++]=v.charCodeAt(D++),k==this.blockSize){r(this,w),k=0;break}}else for(;D<p;)if(w[k++]=v[D++],k==this.blockSize){r(this,w),k=0;break}}this.h=k,this.o+=p},s.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var p=1;p<v.length-8;++p)v[p]=0;var A=8*this.o;for(p=v.length-8;p<v.length;++p)v[p]=A&255,A/=256;for(this.u(v),v=Array(16),p=A=0;4>p;++p)for(var w=0;32>w;w+=8)v[A++]=this.g[p]>>>w&255;return v};function a(v,p){var A=o;return Object.prototype.hasOwnProperty.call(A,v)?A[v]:A[v]=p(v)}function l(v,p){this.h=p;for(var A=[],w=!0,k=v.length-1;0<=k;k--){var D=v[k]|0;w&&D==p||(A[k]=D,w=!1)}this.g=A}var o={};function c(v){return-128<=v&&128>v?a(v,function(p){return new l([p|0],0>p?-1:0)}):new l([v|0],0>v?-1:0)}function h(v){if(isNaN(v)||!isFinite(v))return f;if(0>v)return T(h(-v));for(var p=[],A=1,w=0;v>=A;w++)p[w]=v/A|0,A*=4294967296;return new l(p,0)}function u(v,p){if(v.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(v.charAt(0)=="-")return T(u(v.substring(1),p));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=h(Math.pow(p,8)),w=f,k=0;k<v.length;k+=8){var D=Math.min(8,v.length-k),I=parseInt(v.substring(k,k+D),p);8>D?(D=h(Math.pow(p,D)),w=w.j(D).add(h(I))):(w=w.j(A),w=w.add(h(I)))}return w}var f=c(0),x=c(1),b=c(16777216);t=l.prototype,t.m=function(){if(y(this))return-T(this).m();for(var v=0,p=1,A=0;A<this.g.length;A++){var w=this.i(A);v+=(0<=w?w:4294967296+w)*p,p*=4294967296}return v},t.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(M(this))return"0";if(y(this))return"-"+T(this).toString(v);for(var p=h(Math.pow(v,6)),A=this,w="";;){var k=m(A,p).g;A=S(A,k.j(p));var D=((0<A.g.length?A.g[0]:A.h)>>>0).toString(v);if(A=k,M(A))return D+w;for(;6>D.length;)D="0"+D;w=D+w}},t.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function M(v){if(v.h!=0)return!1;for(var p=0;p<v.g.length;p++)if(v.g[p]!=0)return!1;return!0}function y(v){return v.h==-1}t.l=function(v){return v=S(this,v),y(v)?-1:M(v)?0:1};function T(v){for(var p=v.g.length,A=[],w=0;w<p;w++)A[w]=~v.g[w];return new l(A,~v.h).add(x)}t.abs=function(){return y(this)?T(this):this},t.add=function(v){for(var p=Math.max(this.g.length,v.g.length),A=[],w=0,k=0;k<=p;k++){var D=w+(this.i(k)&65535)+(v.i(k)&65535),I=(D>>>16)+(this.i(k)>>>16)+(v.i(k)>>>16);w=I>>>16,D&=65535,I&=65535,A[k]=I<<16|D}return new l(A,A[A.length-1]&-2147483648?-1:0)};function S(v,p){return v.add(T(p))}t.j=function(v){if(M(this)||M(v))return f;if(y(this))return y(v)?T(this).j(T(v)):T(T(this).j(v));if(y(v))return T(this.j(T(v)));if(0>this.l(b)&&0>v.l(b))return h(this.m()*v.m());for(var p=this.g.length+v.g.length,A=[],w=0;w<2*p;w++)A[w]=0;for(w=0;w<this.g.length;w++)for(var k=0;k<v.g.length;k++){var D=this.i(w)>>>16,I=this.i(w)&65535,$=v.i(k)>>>16,B=v.i(k)&65535;A[2*w+2*k]+=I*B,N(A,2*w+2*k),A[2*w+2*k+1]+=D*B,N(A,2*w+2*k+1),A[2*w+2*k+1]+=I*$,N(A,2*w+2*k+1),A[2*w+2*k+2]+=D*$,N(A,2*w+2*k+2)}for(w=0;w<p;w++)A[w]=A[2*w+1]<<16|A[2*w];for(w=p;w<2*p;w++)A[w]=0;return new l(A,0)};function N(v,p){for(;(v[p]&65535)!=v[p];)v[p+1]+=v[p]>>>16,v[p]&=65535,p++}function j(v,p){this.g=v,this.h=p}function m(v,p){if(M(p))throw Error("division by zero");if(M(v))return new j(f,f);if(y(v))return p=m(T(v),p),new j(T(p.g),T(p.h));if(y(p))return p=m(v,T(p)),new j(T(p.g),p.h);if(30<v.g.length){if(y(v)||y(p))throw Error("slowDivide_ only works with positive integers.");for(var A=x,w=p;0>=w.l(v);)A=g(A),w=g(w);var k=E(A,1),D=E(w,1);for(w=E(w,2),A=E(A,2);!M(w);){var I=D.add(w);0>=I.l(v)&&(k=k.add(A),D=I),w=E(w,1),A=E(A,1)}return p=S(v,k.j(p)),new j(k,p)}for(k=f;0<=v.l(p);){for(A=Math.max(1,Math.floor(v.m()/p.m())),w=Math.ceil(Math.log(A)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),D=h(A),I=D.j(p);y(I)||0<I.l(v);)A-=w,D=h(A),I=D.j(p);M(D)&&(D=x),k=k.add(D),v=S(v,I)}return new j(k,v)}t.A=function(v){return m(this,v).h},t.and=function(v){for(var p=Math.max(this.g.length,v.g.length),A=[],w=0;w<p;w++)A[w]=this.i(w)&v.i(w);return new l(A,this.h&v.h)},t.or=function(v){for(var p=Math.max(this.g.length,v.g.length),A=[],w=0;w<p;w++)A[w]=this.i(w)|v.i(w);return new l(A,this.h|v.h)},t.xor=function(v){for(var p=Math.max(this.g.length,v.g.length),A=[],w=0;w<p;w++)A[w]=this.i(w)^v.i(w);return new l(A,this.h^v.h)};function g(v){for(var p=v.g.length+1,A=[],w=0;w<p;w++)A[w]=v.i(w)<<1|v.i(w-1)>>>31;return new l(A,v.h)}function E(v,p){var A=p>>5;p%=32;for(var w=v.g.length-A,k=[],D=0;D<w;D++)k[D]=0<p?v.i(D+A)>>>p|v.i(D+A+1)<<32-p:v.i(D+A);return new l(k,v.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=u,Gj=l}).apply(typeof Hb<"u"?Hb:typeof self<"u"?self:typeof window<"u"?window:{});var Tu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,P,O){return d==Array.prototype||d==Object.prototype||(d[P]=O.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tu=="object"&&Tu];for(var P=0;P<d.length;++P){var O=d[P];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var s=n(this);function r(d,P){if(P)e:{var O=s;d=d.split(".");for(var W=0;W<d.length-1;W++){var le=d[W];if(!(le in O))break e;O=O[le]}d=d[d.length-1],W=O[d],P=P(W),P!=W&&P!=null&&e(O,d,{configurable:!0,writable:!0,value:P})}}function a(d,P){d instanceof String&&(d+="");var O=0,W=!1,le={next:function(){if(!W&&O<d.length){var de=O++;return{value:P(de,d[de]),done:!1}}return W=!0,{done:!0,value:void 0}}};return le[Symbol.iterator]=function(){return le},le}r("Array.prototype.values",function(d){return d||function(){return a(this,function(P,O){return O})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},o=this||self;function c(d){var P=typeof d;return P=P!="object"?P:d?Array.isArray(d)?"array":P:"null",P=="array"||P=="object"&&typeof d.length=="number"}function h(d){var P=typeof d;return P=="object"&&d!=null||P=="function"}function u(d,P,O){return d.call.apply(d.bind,arguments)}function f(d,P,O){if(!d)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var le=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(le,W),d.apply(P,le)}}return function(){return d.apply(P,arguments)}}function x(d,P,O){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,x.apply(null,arguments)}function b(d,P){var O=Array.prototype.slice.call(arguments,1);return function(){var W=O.slice();return W.push.apply(W,arguments),d.apply(this,W)}}function M(d,P){function O(){}O.prototype=P.prototype,d.aa=P.prototype,d.prototype=new O,d.prototype.constructor=d,d.Qb=function(W,le,de){for(var Ee=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)Ee[Mt-2]=arguments[Mt];return P.prototype[le].apply(W,Ee)}}function y(d){const P=d.length;if(0<P){const O=Array(P);for(let W=0;W<P;W++)O[W]=d[W];return O}return[]}function T(d,P){for(let O=1;O<arguments.length;O++){const W=arguments[O];if(c(W)){const le=d.length||0,de=W.length||0;d.length=le+de;for(let Ee=0;Ee<de;Ee++)d[le+Ee]=W[Ee]}else d.push(W)}}class S{constructor(P,O){this.i=P,this.j=O,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function N(d){return/^[\s\xa0]*$/.test(d)}function j(){var d=o.navigator;return d&&(d=d.userAgent)?d:""}function m(d){return m[" "](d),d}m[" "]=function(){};var g=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function E(d,P,O){for(const W in d)P.call(O,d[W],W,d)}function v(d,P){for(const O in d)P.call(void 0,d[O],O,d)}function p(d){const P={};for(const O in d)P[O]=d[O];return P}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(d,P){let O,W;for(let le=1;le<arguments.length;le++){W=arguments[le];for(O in W)d[O]=W[O];for(let de=0;de<A.length;de++)O=A[de],Object.prototype.hasOwnProperty.call(W,O)&&(d[O]=W[O])}}function k(d){var P=1;d=d.split(":");const O=[];for(;0<P&&d.length;)O.push(d.shift()),P--;return d.length&&O.push(d.join(":")),O}function D(d){o.setTimeout(()=>{throw d},0)}function I(){var d=ee;let P=null;return d.g&&(P=d.g,d.g=d.g.next,d.g||(d.h=null),P.next=null),P}class ${constructor(){this.h=this.g=null}add(P,O){const W=B.get();W.set(P,O),this.h?this.h.next=W:this.g=W,this.h=W}}var B=new S(()=>new G,d=>d.reset());class G{constructor(){this.next=this.g=this.h=null}set(P,O){this.h=P,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let V,J=!1,ee=new $,re=()=>{const d=o.Promise.resolve(void 0);V=()=>{d.then(se)}};var se=()=>{for(var d;d=I();){try{d.h.call(d.g)}catch(O){D(O)}var P=B;P.j(d),100>P.h&&(P.h++,d.next=P.g,P.g=d)}J=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ae(d,P){this.type=d,this.g=this.target=P,this.defaultPrevented=!1}ae.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var d=!1,P=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const O=()=>{};o.addEventListener("test",O,P),o.removeEventListener("test",O,P)}catch{}return d}();function Te(d,P){if(ae.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var O=this.type=d.type,W=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=P,P=d.relatedTarget){if(g){e:{try{m(P.nodeName);var le=!0;break e}catch{}le=!1}le||(P=null)}}else O=="mouseover"?P=d.fromElement:O=="mouseout"&&(P=d.toElement);this.relatedTarget=P,W?(this.clientX=W.clientX!==void 0?W.clientX:W.pageX,this.clientY=W.clientY!==void 0?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:tt[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Te.aa.h.call(this)}}M(Te,ae);var tt={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Ae=0;function Fe(d,P,O,W,le){this.listener=d,this.proxy=null,this.src=P,this.type=O,this.capture=!!W,this.ha=le,this.key=++Ae,this.da=this.fa=!1}function Be(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function at(d){this.src=d,this.g={},this.h=0}at.prototype.add=function(d,P,O,W,le){var de=d.toString();d=this.g[de],d||(d=this.g[de]=[],this.h++);var Ee=et(d,P,W,le);return-1<Ee?(P=d[Ee],O||(P.fa=!1)):(P=new Fe(P,this.src,de,!!W,le),P.fa=O,d.push(P)),P};function Ue(d,P){var O=P.type;if(O in d.g){var W=d.g[O],le=Array.prototype.indexOf.call(W,P,void 0),de;(de=0<=le)&&Array.prototype.splice.call(W,le,1),de&&(Be(P),d.g[O].length==0&&(delete d.g[O],d.h--))}}function et(d,P,O,W){for(var le=0;le<d.length;++le){var de=d[le];if(!de.da&&de.listener==P&&de.capture==!!O&&de.ha==W)return le}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),$e={};function qt(d,P,O,W,le){if(Array.isArray(P)){for(var de=0;de<P.length;de++)qt(d,P[de],O,W,le);return null}return O=zi(O),d&&d[Ce]?d.K(P,O,h(W)?!!W.capture:!1,le):Ht(d,P,O,!1,W,le)}function Ht(d,P,O,W,le,de){if(!P)throw Error("Invalid event type");var Ee=h(le)?!!le.capture:!!le,Mt=or(d);if(Mt||(d[_e]=Mt=new at(d)),O=Mt.add(P,O,W,Ee,de),O.proxy)return O;if(W=kt(),O.proxy=W,W.src=d,W.listener=O,d.addEventListener)Ne||(le=Ee),le===void 0&&(le=!1),d.addEventListener(P.toString(),W,le);else if(d.attachEvent)d.attachEvent(fi(P.toString()),W);else if(d.addListener&&d.removeListener)d.addListener(W);else throw Error("addEventListener and attachEvent are unavailable.");return O}function kt(){function d(O){return P.call(d.src,d.listener,O)}const P=Jr;return d}function dn(d,P,O,W,le){if(Array.isArray(P))for(var de=0;de<P.length;de++)dn(d,P[de],O,W,le);else W=h(W)?!!W.capture:!!W,O=zi(O),d&&d[Ce]?(d=d.i,P=String(P).toString(),P in d.g&&(de=d.g[P],O=et(de,O,W,le),-1<O&&(Be(de[O]),Array.prototype.splice.call(de,O,1),de.length==0&&(delete d.g[P],d.h--)))):d&&(d=or(d))&&(P=d.g[P.toString()],d=-1,P&&(d=et(P,O,W,le)),(O=-1<d?P[d]:null)&&di(O))}function di(d){if(typeof d!="number"&&d&&!d.da){var P=d.src;if(P&&P[Ce])Ue(P.i,d);else{var O=d.type,W=d.proxy;P.removeEventListener?P.removeEventListener(O,W,d.capture):P.detachEvent?P.detachEvent(fi(O),W):P.addListener&&P.removeListener&&P.removeListener(W),(O=or(P))?(Ue(O,d),O.h==0&&(O.src=null,P[_e]=null)):Be(d)}}}function fi(d){return d in $e?$e[d]:$e[d]="on"+d}function Jr(d,P){if(d.da)d=!0;else{P=new Te(P,this);var O=d.listener,W=d.ha||d.src;d.fa&&di(d),d=O.call(W,P)}return d}function or(d){return d=d[_e],d instanceof at?d:null}var Xi="__closure_events_fn_"+(1e9*Math.random()>>>0);function zi(d){return typeof d=="function"?d:(d[Xi]||(d[Xi]=function(P){return d.handleEvent(P)}),d[Xi])}function Ot(){he.call(this),this.i=new at(this),this.M=this,this.F=null}M(Ot,he),Ot.prototype[Ce]=!0,Ot.prototype.removeEventListener=function(d,P,O,W){dn(this,d,P,O,W)};function St(d,P){var O,W=d.F;if(W)for(O=[];W;W=W.F)O.push(W);if(d=d.M,W=P.type||P,typeof P=="string")P=new ae(P,d);else if(P instanceof ae)P.target=P.target||d;else{var le=P;P=new ae(W,d),w(P,le)}if(le=!0,O)for(var de=O.length-1;0<=de;de--){var Ee=P.g=O[de];le=ea(Ee,W,!0,P)&&le}if(Ee=P.g=d,le=ea(Ee,W,!0,P)&&le,le=ea(Ee,W,!1,P)&&le,O)for(de=0;de<O.length;de++)Ee=P.g=O[de],le=ea(Ee,W,!1,P)&&le}Ot.prototype.N=function(){if(Ot.aa.N.call(this),this.i){var d=this.i,P;for(P in d.g){for(var O=d.g[P],W=0;W<O.length;W++)Be(O[W]);delete d.g[P],d.h--}}this.F=null},Ot.prototype.K=function(d,P,O,W){return this.i.add(String(d),P,!1,O,W)},Ot.prototype.L=function(d,P,O,W){return this.i.add(String(d),P,!0,O,W)};function ea(d,P,O,W){if(P=d.i.g[String(P)],!P)return!0;P=P.concat();for(var le=!0,de=0;de<P.length;++de){var Ee=P[de];if(Ee&&!Ee.da&&Ee.capture==O){var Mt=Ee.listener,$n=Ee.ha||Ee.src;Ee.fa&&Ue(d.i,Ee),le=Mt.call($n,W)!==!1&&le}}return le&&!W.defaultPrevented}function Pc(d,P,O){if(typeof d=="function")O&&(d=x(d,O));else if(d&&typeof d.handleEvent=="function")d=x(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(P)?-1:o.setTimeout(d,P||0)}function Ic(d){d.g=Pc(()=>{d.g=null,d.i&&(d.i=!1,Ic(d))},d.l);const P=d.h;d.h=null,d.m.apply(null,P)}class Rc extends he{constructor(P,O){super(),this.m=P,this.l=O,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:Ic(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ta(d){he.call(this),this.h=d,this.g={}}M(ta,he);var ol=[];function cl(d){E(d.g,function(P,O){this.g.hasOwnProperty(O)&&di(P)},d),d.g={}}ta.prototype.N=function(){ta.aa.N.call(this),cl(this)},ta.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Di=o.JSON.stringify,na=o.JSON.parse,_c=class{stringify(d){return o.JSON.stringify(d,void 0)}parse(d){return o.JSON.parse(d,void 0)}};function hl(){}hl.prototype.h=null;function Gh(d){return d.h||(d.h=d.i())}function ao(){}var qs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qc(){ae.call(this,"d")}M(qc,ae);function cr(){ae.call(this,"c")}M(cr,ae);var ia={},Wh=null;function Zt(){return Wh=Wh||new Ot}ia.La="serverreachability";function hr(d){ae.call(this,ia.La,d)}M(hr,ae);function ul(d){const P=Zt();St(P,new hr(P))}ia.STAT_EVENT="statevent";function Oc(d,P){ae.call(this,ia.STAT_EVENT,d),this.stat=P}M(Oc,ae);function kn(d){const P=Zt();St(P,new Oc(P,d))}ia.Ma="timingevent";function Bc(d,P){ae.call(this,ia.Ma,d),this.size=P}M(Bc,ae);function sa(d,P){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){d()},P)}function dl(){this.g=!0}dl.prototype.xa=function(){this.g=!1};function Zi(d,P,O,W,le,de){d.info(function(){if(d.g)if(de)for(var Ee="",Mt=de.split("&"),$n=0;$n<Mt.length;$n++){var pt=Mt[$n].split("=");if(1<pt.length){var Yn=pt[0];pt=pt[1];var Xn=Yn.split("_");Ee=2<=Xn.length&&Xn[1]=="type"?Ee+(Yn+"="+pt+"&"):Ee+(Yn+"=redacted&")}}else Ee=null;else Ee=de;return"XMLHTTP REQ ("+W+") [attempt "+le+"]: "+P+`
`+O+`
`+Ee})}function ur(d,P,O,W,le,de,Ee){d.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+le+"]: "+P+`
`+O+`
`+de+" "+Ee})}function dr(d,P,O,W){d.info(function(){return"XMLHTTP TEXT ("+P+"): "+$c(d,O)+(W?" "+W:"")})}function Yh(d,P){d.info(function(){return"TIMEOUT: "+P})}dl.prototype.info=function(){};function $c(d,P){if(!d.g)return P;if(!P)return null;try{var O=JSON.parse(P);if(O){for(d=0;d<O.length;d++)if(Array.isArray(O[d])){var W=O[d];if(!(2>W.length)){var le=W[1];if(Array.isArray(le)&&!(1>le.length)){var de=le[0];if(de!="noop"&&de!="stop"&&de!="close")for(var Ee=1;Ee<le.length;Ee++)le[Ee]=""}}}}return Di(O)}catch{return P}}var lo={NO_ERROR:0,TIMEOUT:8},vs={},oo;function fl(){}M(fl,hl),fl.prototype.g=function(){return new XMLHttpRequest},fl.prototype.i=function(){return{}},oo=new fl;function js(d,P,O,W){this.j=d,this.i=P,this.l=O,this.R=W||1,this.U=new ta(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lc}function Lc(){this.i=null,this.g="",this.h=!1}var Xh={},Le={};function te(d,P,O){d.L=1,d.v=Kh(fr(P)),d.m=O,d.P=!0,je(d,null)}function je(d,P){d.F=Date.now(),fn(d),d.A=fr(d.v);var O=d.A,W=d.R;Array.isArray(W)||(W=[String(W)]),jy(O.i,"t",W),d.C=0,O=d.j.J,d.h=new Lc,d.g=By(d.j,O?P:null,!d.m),0<d.O&&(d.M=new Rc(x(d.Y,d,d.g),d.O)),P=d.U,O=d.g,W=d.ca;var le="readystatechange";Array.isArray(le)||(le&&(ol[0]=le.toString()),le=ol);for(var de=0;de<le.length;de++){var Ee=qt(O,le[de],W||P.handleEvent,!1,P.h||P);if(!Ee)break;P.g[Ee.key]=Ee}P=d.H?p(d.H):{},d.m?(d.u||(d.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,P)):(d.u="GET",d.g.ea(d.A,d.u,null,P)),ul(),Zi(d.i,d.u,d.A,d.l,d.R,d.m)}js.prototype.ca=function(d){d=d.target;const P=this.M;P&&mr(d)==3?P.j():this.Y(d)},js.prototype.Y=function(d){try{if(d==this.g)e:{const Xn=mr(this.g);var P=this.g.Ba();const uo=this.g.Z();if(!(3>Xn)&&(Xn!=3||this.g&&(this.h.h||this.g.oa()||My(this.g)))){this.J||Xn!=4||P==7||(P==8||0>=uo?ul(3):ul(2)),_n(this);var O=this.g.Z();this.X=O;t:if(Oe(this)){var W=My(this.g);d="";var le=W.length,de=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),Qn(this);var Ee="";break t}this.h.i=new o.TextDecoder}for(P=0;P<le;P++)this.h.h=!0,d+=this.h.i.decode(W[P],{stream:!(de&&P==le-1)});W.length=0,this.h.g+=d,this.C=0,Ee=this.h.g}else Ee=this.g.oa();if(this.o=O==200,ur(this.i,this.u,this.A,this.l,this.R,Xn,O),this.o){if(this.T&&!this.K){t:{if(this.g){var Mt,$n=this.g;if((Mt=$n.g?$n.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(Mt)){var pt=Mt;break t}}pt=null}if(O=pt)dr(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ml(this,O);else{this.o=!1,this.s=3,kn(12),mi(this),Qn(this);break e}}if(this.P){O=!0;let ws;for(;!this.J&&this.C<Ee.length;)if(ws=Dt(this,Ee),ws==Le){Xn==4&&(this.s=4,kn(14),O=!1),dr(this.i,this.l,null,"[Incomplete Response]");break}else if(ws==Xh){this.s=4,kn(15),dr(this.i,this.l,Ee,"[Invalid Chunk]"),O=!1;break}else dr(this.i,this.l,ws,null),ml(this,ws);if(Oe(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xn!=4||Ee.length!=0||this.h.h||(this.s=1,kn(16),O=!1),this.o=this.o&&O,!O)dr(this.i,this.l,Ee,"[Invalid Chunked Response]"),mi(this),Qn(this);else if(0<Ee.length&&!this.W){this.W=!0;var Yn=this.j;Yn.g==this&&Yn.ba&&!Yn.M&&(Yn.j.info("Great, no buffering proxy detected. Bytes received: "+Ee.length),Cm(Yn),Yn.M=!0,kn(11))}}else dr(this.i,this.l,Ee,null),ml(this,Ee);Xn==4&&mi(this),this.o&&!this.J&&(Xn==4?Ry(this.j,this):(this.o=!1,fn(this)))}else DA(this.g),O==400&&0<Ee.indexOf("Unknown SID")?(this.s=3,kn(12)):(this.s=0,kn(13)),mi(this),Qn(this)}}}catch{}finally{}};function Oe(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Dt(d,P){var O=d.C,W=P.indexOf(`
`,O);return W==-1?Le:(O=Number(P.substring(O,W)),isNaN(O)?Xh:(W+=1,W+O>P.length?Le:(P=P.slice(W,W+O),d.C=W+O,P)))}js.prototype.cancel=function(){this.J=!0,mi(this)};function fn(d){d.S=Date.now()+d.I,Qt(d,d.I)}function Qt(d,P){if(d.B!=null)throw Error("WatchDog timer not null");d.B=sa(x(d.ba,d),P)}function _n(d){d.B&&(o.clearTimeout(d.B),d.B=null)}js.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Yh(this.i,this.A),this.L!=2&&(ul(),kn(17)),mi(this),this.s=2,Qn(this)):Qt(this,this.S-d)};function Qn(d){d.j.G==0||d.J||Ry(d.j,d)}function mi(d){_n(d);var P=d.M;P&&typeof P.ma=="function"&&P.ma(),d.M=null,cl(d.U),d.g&&(P=d.g,d.g=null,P.abort(),P.ma())}function ml(d,P){try{var O=d.j;if(O.G!=0&&(O.g==d||Nm(O.h,d))){if(!d.K&&Nm(O.h,d)&&O.G==3){try{var W=O.Da.g.parse(P)}catch{W=null}if(Array.isArray(W)&&W.length==3){var le=W;if(le[0]==0){e:if(!O.u){if(O.g)if(O.g.F+3e3<d.F)su(O),nu(O);else break e;Em(O),kn(18)}}else O.za=le[1],0<O.za-O.T&&37500>le[2]&&O.F&&O.v==0&&!O.C&&(O.C=sa(x(O.Za,O),6e3));if(1>=dy(O.h)&&O.ca){try{O.ca()}catch{}O.ca=void 0}}else xl(O,11)}else if((d.K||O.g==d)&&su(O),!N(P))for(le=O.Da.g.parse(P),P=0;P<le.length;P++){let pt=le[P];if(O.T=pt[0],pt=pt[1],O.G==2)if(pt[0]=="c"){O.K=pt[1],O.ia=pt[2];const Yn=pt[3];Yn!=null&&(O.la=Yn,O.j.info("VER="+O.la));const Xn=pt[4];Xn!=null&&(O.Aa=Xn,O.j.info("SVER="+O.Aa));const uo=pt[5];uo!=null&&typeof uo=="number"&&0<uo&&(W=1.5*uo,O.L=W,O.j.info("backChannelRequestTimeoutMs_="+W)),W=O;const ws=d.g;if(ws){const ru=ws.g?ws.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ru){var de=W.h;de.g||ru.indexOf("spdy")==-1&&ru.indexOf("quic")==-1&&ru.indexOf("h2")==-1||(de.j=de.l,de.g=new Set,de.h&&(Am(de,de.h),de.h=null))}if(W.D){const zm=ws.g?ws.g.getResponseHeader("X-HTTP-Session-Id"):null;zm&&(W.ya=zm,Bt(W.I,W.D,zm))}}O.G=3,O.l&&O.l.ua(),O.ba&&(O.R=Date.now()-d.F,O.j.info("Handshake RTT: "+O.R+"ms")),W=O;var Ee=d;if(W.qa=Oy(W,W.J?W.ia:null,W.W),Ee.K){fy(W.h,Ee);var Mt=Ee,$n=W.L;$n&&(Mt.I=$n),Mt.B&&(_n(Mt),fn(Mt)),W.g=Ee}else Py(W);0<O.i.length&&iu(O)}else pt[0]!="stop"&&pt[0]!="close"||xl(O,7);else O.G==3&&(pt[0]=="stop"||pt[0]=="close"?pt[0]=="stop"?xl(O,7):Mm(O):pt[0]!="noop"&&O.l&&O.l.ta(pt),O.v=0)}}ul(4)}catch{}}var Mn=class{constructor(d,P){this.g=d,this.map=P}};function Fc(d){this.l=d||10,o.PerformanceNavigationTiming?(d=o.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Uc(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function dy(d){return d.h?1:d.g?d.g.size:0}function Nm(d,P){return d.h?d.h==P:d.g?d.g.has(P):!1}function Am(d,P){d.g?d.g.add(P):d.h=P}function fy(d,P){d.h&&d.h==P?d.h=null:d.g&&d.g.has(P)&&d.g.delete(P)}Fc.prototype.cancel=function(){if(this.i=my(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function my(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let P=d.i;for(const O of d.g.values())P=P.concat(O.D);return P}return y(d.i)}function gA(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(c(d)){for(var P=[],O=d.length,W=0;W<O;W++)P.push(d[W]);return P}P=[],O=0;for(W in d)P[O++]=d[W];return P}function yA(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(c(d)||typeof d=="string"){var P=[];d=d.length;for(var O=0;O<d;O++)P.push(O);return P}P=[],O=0;for(const W in d)P[O++]=W;return P}}}function py(d,P){if(d.forEach&&typeof d.forEach=="function")d.forEach(P,void 0);else if(c(d)||typeof d=="string")Array.prototype.forEach.call(d,P,void 0);else for(var O=yA(d),W=gA(d),le=W.length,de=0;de<le;de++)P.call(void 0,W[de],O&&O[de],d)}var xy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bA(d,P){if(d){d=d.split("&");for(var O=0;O<d.length;O++){var W=d[O].indexOf("="),le=null;if(0<=W){var de=d[O].substring(0,W);le=d[O].substring(W+1)}else de=d[O];P(de,le?decodeURIComponent(le.replace(/\+/g," ")):"")}}}function pl(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof pl){this.h=d.h,Zh(this,d.j),this.o=d.o,this.g=d.g,Qh(this,d.s),this.l=d.l;var P=d.i,O=new Gc;O.i=P.i,P.g&&(O.g=new Map(P.g),O.h=P.h),gy(this,O),this.m=d.m}else d&&(P=String(d).match(xy))?(this.h=!1,Zh(this,P[1]||"",!0),this.o=Hc(P[2]||""),this.g=Hc(P[3]||"",!0),Qh(this,P[4]),this.l=Hc(P[5]||"",!0),gy(this,P[6]||"",!0),this.m=Hc(P[7]||"")):(this.h=!1,this.i=new Gc(null,this.h))}pl.prototype.toString=function(){var d=[],P=this.j;P&&d.push(Vc(P,yy,!0),":");var O=this.g;return(O||P=="file")&&(d.push("//"),(P=this.o)&&d.push(Vc(P,yy,!0),"@"),d.push(encodeURIComponent(String(O)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.s,O!=null&&d.push(":",String(O))),(O=this.l)&&(this.g&&O.charAt(0)!="/"&&d.push("/"),d.push(Vc(O,O.charAt(0)=="/"?wA:jA,!0))),(O=this.i.toString())&&d.push("?",O),(O=this.m)&&d.push("#",Vc(O,SA)),d.join("")};function fr(d){return new pl(d)}function Zh(d,P,O){d.j=O?Hc(P,!0):P,d.j&&(d.j=d.j.replace(/:$/,""))}function Qh(d,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);d.s=P}else d.s=null}function gy(d,P,O){P instanceof Gc?(d.i=P,NA(d.i,d.h)):(O||(P=Vc(P,TA)),d.i=new Gc(P,d.h))}function Bt(d,P,O){d.i.set(P,O)}function Kh(d){return Bt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Hc(d,P){return d?P?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Vc(d,P,O){return typeof d=="string"?(d=encodeURI(d).replace(P,vA),O&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function vA(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var yy=/[#\/\?@]/g,jA=/[#\?:]/g,wA=/[#\?]/g,TA=/[#\?@]/g,SA=/#/g;function Gc(d,P){this.h=this.g=null,this.i=d||null,this.j=!!P}function ra(d){d.g||(d.g=new Map,d.h=0,d.i&&bA(d.i,function(P,O){d.add(decodeURIComponent(P.replace(/\+/g," ")),O)}))}t=Gc.prototype,t.add=function(d,P){ra(this),this.i=null,d=co(this,d);var O=this.g.get(d);return O||this.g.set(d,O=[]),O.push(P),this.h+=1,this};function by(d,P){ra(d),P=co(d,P),d.g.has(P)&&(d.i=null,d.h-=d.g.get(P).length,d.g.delete(P))}function vy(d,P){return ra(d),P=co(d,P),d.g.has(P)}t.forEach=function(d,P){ra(this),this.g.forEach(function(O,W){O.forEach(function(le){d.call(P,le,W,this)},this)},this)},t.na=function(){ra(this);const d=Array.from(this.g.values()),P=Array.from(this.g.keys()),O=[];for(let W=0;W<P.length;W++){const le=d[W];for(let de=0;de<le.length;de++)O.push(P[W])}return O},t.V=function(d){ra(this);let P=[];if(typeof d=="string")vy(this,d)&&(P=P.concat(this.g.get(co(this,d))));else{d=Array.from(this.g.values());for(let O=0;O<d.length;O++)P=P.concat(d[O])}return P},t.set=function(d,P){return ra(this),this.i=null,d=co(this,d),vy(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[P]),this.h+=1,this},t.get=function(d,P){return d?(d=this.V(d),0<d.length?String(d[0]):P):P};function jy(d,P,O){by(d,P),0<O.length&&(d.i=null,d.g.set(co(d,P),y(O)),d.h+=O.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],P=Array.from(this.g.keys());for(var O=0;O<P.length;O++){var W=P[O];const de=encodeURIComponent(String(W)),Ee=this.V(W);for(W=0;W<Ee.length;W++){var le=de;Ee[W]!==""&&(le+="="+encodeURIComponent(String(Ee[W]))),d.push(le)}}return this.i=d.join("&")};function co(d,P){return P=String(P),d.j&&(P=P.toLowerCase()),P}function NA(d,P){P&&!d.j&&(ra(d),d.i=null,d.g.forEach(function(O,W){var le=W.toLowerCase();W!=le&&(by(this,W),jy(this,le,O))},d)),d.j=P}function AA(d,P){const O=new dl;if(o.Image){const W=new Image;W.onload=b(aa,O,"TestLoadImage: loaded",!0,P,W),W.onerror=b(aa,O,"TestLoadImage: error",!1,P,W),W.onabort=b(aa,O,"TestLoadImage: abort",!1,P,W),W.ontimeout=b(aa,O,"TestLoadImage: timeout",!1,P,W),o.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=d}else P(!1)}function kA(d,P){const O=new dl,W=new AbortController,le=setTimeout(()=>{W.abort(),aa(O,"TestPingServer: timeout",!1,P)},1e4);fetch(d,{signal:W.signal}).then(de=>{clearTimeout(le),de.ok?aa(O,"TestPingServer: ok",!0,P):aa(O,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(le),aa(O,"TestPingServer: error",!1,P)})}function aa(d,P,O,W,le){try{le&&(le.onload=null,le.onerror=null,le.onabort=null,le.ontimeout=null),W(O)}catch{}}function MA(){this.g=new _c}function EA(d,P,O){const W=O||"";try{py(d,function(le,de){let Ee=le;h(le)&&(Ee=Di(le)),P.push(W+de+"="+encodeURIComponent(Ee))})}catch(le){throw P.push(W+"type="+encodeURIComponent("_badmap")),le}}function Jh(d){this.l=d.Ub||null,this.j=d.eb||!1}M(Jh,hl),Jh.prototype.g=function(){return new eu(this.l,this.j)},Jh.prototype.i=function(d){return function(){return d}}({});function eu(d,P){Ot.call(this),this.D=d,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(eu,Ot),t=eu.prototype,t.open=function(d,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=P,this.readyState=1,Yc(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(P.body=d),(this.D||o).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wc(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Yc(this)),this.g&&(this.readyState=3,Yc(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wy(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function wy(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var P=d.value?d.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!d.done}))&&(this.response=this.responseText+=P)}d.done?Wc(this):Yc(this),this.readyState==3&&wy(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,Wc(this))},t.Qa=function(d){this.g&&(this.response=d,Wc(this))},t.ga=function(){this.g&&Wc(this)};function Wc(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Yc(d)}t.setRequestHeader=function(d,P){this.u.append(d,P)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],P=this.h.entries();for(var O=P.next();!O.done;)O=O.value,d.push(O[0]+": "+O[1]),O=P.next();return d.join(`\r
`)};function Yc(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(eu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Ty(d){let P="";return E(d,function(O,W){P+=W,P+=":",P+=O,P+=`\r
`}),P}function km(d,P,O){e:{for(W in O){var W=!1;break e}W=!0}W||(O=Ty(O),typeof d=="string"?O!=null&&encodeURIComponent(String(O)):Bt(d,P,O))}function mn(d){Ot.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(mn,Ot);var CA=/^https?$/i,zA=["POST","PUT"];t=mn.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,P,O,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);P=P?P.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oo.g(),this.v=this.o?Gh(this.o):Gh(oo),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(P,String(d),!0),this.B=!1}catch(de){Sy(this,de);return}if(d=O||"",O=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var le in W)O.set(le,W[le]);else if(typeof W.keys=="function"&&typeof W.get=="function")for(const de of W.keys())O.set(de,W.get(de));else throw Error("Unknown input type for opt_headers: "+String(W));W=Array.from(O.keys()).find(de=>de.toLowerCase()=="content-type"),le=o.FormData&&d instanceof o.FormData,!(0<=Array.prototype.indexOf.call(zA,P,void 0))||W||le||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[de,Ee]of O)this.g.setRequestHeader(de,Ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ky(this),this.u=!0,this.g.send(d),this.u=!1}catch(de){Sy(this,de)}};function Sy(d,P){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=P,d.m=5,Ny(d),tu(d)}function Ny(d){d.A||(d.A=!0,St(d,"complete"),St(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,St(this,"complete"),St(this,"abort"),tu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tu(this,!0)),mn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ay(this):this.bb())},t.bb=function(){Ay(this)};function Ay(d){if(d.h&&typeof l<"u"&&(!d.v[1]||mr(d)!=4||d.Z()!=2)){if(d.u&&mr(d)==4)Pc(d.Ea,0,d);else if(St(d,"readystatechange"),mr(d)==4){d.h=!1;try{const Ee=d.Z();e:switch(Ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var O;if(!(O=P)){var W;if(W=Ee===0){var le=String(d.D).match(xy)[1]||null;!le&&o.self&&o.self.location&&(le=o.self.location.protocol.slice(0,-1)),W=!CA.test(le?le.toLowerCase():"")}O=W}if(O)St(d,"complete"),St(d,"success");else{d.m=6;try{var de=2<mr(d)?d.g.statusText:""}catch{de=""}d.l=de+" ["+d.Z()+"]",Ny(d)}}finally{tu(d)}}}}function tu(d,P){if(d.g){ky(d);const O=d.g,W=d.v[0]?()=>{}:null;d.g=null,d.v=null,P||St(d,"ready");try{O.onreadystatechange=W}catch{}}}function ky(d){d.I&&(o.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function mr(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var P=this.g.responseText;return d&&P.indexOf(d)==0&&(P=P.substring(d.length)),na(P)}};function My(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function DA(d){const P={};d=(d.g&&2<=mr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let W=0;W<d.length;W++){if(N(d[W]))continue;var O=k(d[W]);const le=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const de=P[le]||[];P[le]=de,de.push(O)}v(P,function(W){return W.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xc(d,P,O){return O&&O.internalChannelParams&&O.internalChannelParams[d]||P}function Ey(d){this.Aa=0,this.i=[],this.j=new dl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xc("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xc("baseRetryDelayMs",5e3,d),this.cb=Xc("retryDelaySeedMs",1e4,d),this.Wa=Xc("forwardChannelMaxRetries",2,d),this.wa=Xc("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Fc(d&&d.concurrentRequestLimit),this.Da=new MA,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ey.prototype,t.la=8,t.G=1,t.connect=function(d,P,O,W){kn(0),this.W=d,this.H=P||{},O&&W!==void 0&&(this.H.OSID=O,this.H.OAID=W),this.F=this.X,this.I=Oy(this,null,this.W),iu(this)};function Mm(d){if(Cy(d),d.G==3){var P=d.U++,O=fr(d.I);if(Bt(O,"SID",d.K),Bt(O,"RID",P),Bt(O,"TYPE","terminate"),Zc(d,O),P=new js(d,d.j,P),P.L=2,P.v=Kh(fr(O)),O=!1,o.navigator&&o.navigator.sendBeacon)try{O=o.navigator.sendBeacon(P.v.toString(),"")}catch{}!O&&o.Image&&(new Image().src=P.v,O=!0),O||(P.g=By(P.j,null),P.g.ea(P.v)),P.F=Date.now(),fn(P)}qy(d)}function nu(d){d.g&&(Cm(d),d.g.cancel(),d.g=null)}function Cy(d){nu(d),d.u&&(o.clearTimeout(d.u),d.u=null),su(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&o.clearTimeout(d.s),d.s=null)}function iu(d){if(!Uc(d.h)&&!d.s){d.s=!0;var P=d.Ga;V||re(),J||(V(),J=!0),ee.add(P,d),d.B=0}}function PA(d,P){return dy(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=P.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=sa(x(d.Ga,d,P),_y(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const le=new js(this,this.j,d);let de=this.o;if(this.S&&(de?(de=p(de),w(de,this.S)):de=this.S),this.m!==null||this.O||(le.H=de,de=null),this.P)e:{for(var P=0,O=0;O<this.i.length;O++){t:{var W=this.i[O];if("__data__"in W.map&&(W=W.map.__data__,typeof W=="string")){W=W.length;break t}W=void 0}if(W===void 0)break;if(P+=W,4096<P){P=O;break e}if(P===4096||O===this.i.length-1){P=O+1;break e}}P=1e3}else P=1e3;P=Dy(this,le,P),O=fr(this.I),Bt(O,"RID",d),Bt(O,"CVER",22),this.D&&Bt(O,"X-HTTP-Session-Id",this.D),Zc(this,O),de&&(this.O?P="headers="+encodeURIComponent(String(Ty(de)))+"&"+P:this.m&&km(O,this.m,de)),Am(this.h,le),this.Ua&&Bt(O,"TYPE","init"),this.P?(Bt(O,"$req",P),Bt(O,"SID","null"),le.T=!0,te(le,O,null)):te(le,O,P),this.G=2}}else this.G==3&&(d?zy(this,d):this.i.length==0||Uc(this.h)||zy(this))};function zy(d,P){var O;P?O=P.l:O=d.U++;const W=fr(d.I);Bt(W,"SID",d.K),Bt(W,"RID",O),Bt(W,"AID",d.T),Zc(d,W),d.m&&d.o&&km(W,d.m,d.o),O=new js(d,d.j,O,d.B+1),d.m===null&&(O.H=d.o),P&&(d.i=P.D.concat(d.i)),P=Dy(d,O,1e3),O.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Am(d.h,O),te(O,W,P)}function Zc(d,P){d.H&&E(d.H,function(O,W){Bt(P,W,O)}),d.l&&py({},function(O,W){Bt(P,W,O)})}function Dy(d,P,O){O=Math.min(d.i.length,O);var W=d.l?x(d.l.Na,d.l,d):null;e:{var le=d.i;let de=-1;for(;;){const Ee=["count="+O];de==-1?0<O?(de=le[0].g,Ee.push("ofs="+de)):de=0:Ee.push("ofs="+de);let Mt=!0;for(let $n=0;$n<O;$n++){let pt=le[$n].g;const Yn=le[$n].map;if(pt-=de,0>pt)de=Math.max(0,le[$n].g-100),Mt=!1;else try{EA(Yn,Ee,"req"+pt+"_")}catch{W&&W(Yn)}}if(Mt){W=Ee.join("&");break e}}}return d=d.i.splice(0,O),P.D=d,W}function Py(d){if(!d.g&&!d.u){d.Y=1;var P=d.Fa;V||re(),J||(V(),J=!0),ee.add(P,d),d.v=0}}function Em(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=sa(x(d.Fa,d),_y(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Iy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=sa(x(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kn(10),nu(this),Iy(this))};function Cm(d){d.A!=null&&(o.clearTimeout(d.A),d.A=null)}function Iy(d){d.g=new js(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var P=fr(d.qa);Bt(P,"RID","rpc"),Bt(P,"SID",d.K),Bt(P,"AID",d.T),Bt(P,"CI",d.F?"0":"1"),!d.F&&d.ja&&Bt(P,"TO",d.ja),Bt(P,"TYPE","xmlhttp"),Zc(d,P),d.m&&d.o&&km(P,d.m,d.o),d.L&&(d.g.I=d.L);var O=d.g;d=d.ia,O.L=1,O.v=Kh(fr(P)),O.m=null,O.P=!0,je(O,d)}t.Za=function(){this.C!=null&&(this.C=null,nu(this),Em(this),kn(19))};function su(d){d.C!=null&&(o.clearTimeout(d.C),d.C=null)}function Ry(d,P){var O=null;if(d.g==P){su(d),Cm(d),d.g=null;var W=2}else if(Nm(d.h,P))O=P.D,fy(d.h,P),W=1;else return;if(d.G!=0){if(P.o)if(W==1){O=P.m?P.m.length:0,P=Date.now()-P.F;var le=d.B;W=Zt(),St(W,new Bc(W,O)),iu(d)}else Py(d);else if(le=P.s,le==3||le==0&&0<P.X||!(W==1&&PA(d,P)||W==2&&Em(d)))switch(O&&0<O.length&&(P=d.h,P.i=P.i.concat(O)),le){case 1:xl(d,5);break;case 4:xl(d,10);break;case 3:xl(d,6);break;default:xl(d,2)}}}function _y(d,P){let O=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(O*=2),O*P}function xl(d,P){if(d.j.info("Error code "+P),P==2){var O=x(d.fb,d),W=d.Xa;const le=!W;W=new pl(W||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Zh(W,"https"),Kh(W),le?AA(W.toString(),O):kA(W.toString(),O)}else kn(2);d.G=0,d.l&&d.l.sa(P),qy(d),Cy(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),kn(2)):(this.j.info("Failed to ping google.com"),kn(1))};function qy(d){if(d.G=0,d.ka=[],d.l){const P=my(d.h);(P.length!=0||d.i.length!=0)&&(T(d.ka,P),T(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function Oy(d,P,O){var W=O instanceof pl?fr(O):new pl(O);if(W.g!="")P&&(W.g=P+"."+W.g),Qh(W,W.s);else{var le=o.location;W=le.protocol,P=P?P+"."+le.hostname:le.hostname,le=+le.port;var de=new pl(null);W&&Zh(de,W),P&&(de.g=P),le&&Qh(de,le),O&&(de.l=O),W=de}return O=d.D,P=d.ya,O&&P&&Bt(W,O,P),Bt(W,"VER",d.la),Zc(d,W),W}function By(d,P,O){if(P&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return P=d.Ca&&!d.pa?new mn(new Jh({eb:O})):new mn(d.pa),P.Ha(d.J),P}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $y(){}t=$y.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qi(d,P){Ot.call(this),this.g=new Ey(P),this.l=d,this.h=P&&P.messageUrlParams||null,d=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(d?d["X-WebChannel-Content-Type"]=P.messageContentType:d={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(d?d["X-WebChannel-Client-Profile"]=P.va:d={"X-WebChannel-Client-Profile":P.va}),this.g.S=d,(d=P&&P.Sb)&&!N(d)&&(this.g.m=d),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!N(P)&&(this.g.D=P,d=this.h,d!==null&&P in d&&(d=this.h,P in d&&delete d[P])),this.j=new ho(this)}M(Qi,Ot),Qi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qi.prototype.close=function(){Mm(this.g)},Qi.prototype.o=function(d){var P=this.g;if(typeof d=="string"){var O={};O.__data__=d,d=O}else this.u&&(O={},O.__data__=Di(d),d=O);P.i.push(new Mn(P.Ya++,d)),P.G==3&&iu(P)},Qi.prototype.N=function(){this.g.l=null,delete this.j,Mm(this.g),delete this.g,Qi.aa.N.call(this)};function Ly(d){qc.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var P=d.__sm__;if(P){e:{for(const O in P){d=O;break e}d=void 0}(this.i=d)&&(d=this.i,P=P!==null&&d in P?P[d]:void 0),this.data=P}else this.data=d}M(Ly,qc);function Fy(){cr.call(this),this.status=1}M(Fy,cr);function ho(d){this.g=d}M(ho,$y),ho.prototype.ua=function(){St(this.g,"a")},ho.prototype.ta=function(d){St(this.g,new Ly(d))},ho.prototype.sa=function(d){St(this.g,new Fy)},ho.prototype.ra=function(){St(this.g,"b")},Qi.prototype.send=Qi.prototype.o,Qi.prototype.open=Qi.prototype.m,Qi.prototype.close=Qi.prototype.close,lo.NO_ERROR=0,lo.TIMEOUT=8,lo.HTTP_ERROR=6,vs.COMPLETE="complete",ao.EventType=qs,qs.OPEN="a",qs.CLOSE="b",qs.ERROR="c",qs.MESSAGE="d",Ot.prototype.listen=Ot.prototype.K,mn.prototype.listenOnce=mn.prototype.L,mn.prototype.getLastError=mn.prototype.Ka,mn.prototype.getLastErrorCode=mn.prototype.Ba,mn.prototype.getStatus=mn.prototype.Z,mn.prototype.getResponseJson=mn.prototype.Oa,mn.prototype.getResponseText=mn.prototype.oa,mn.prototype.send=mn.prototype.ea,mn.prototype.setWithCredentials=mn.prototype.Ha}).apply(typeof Tu<"u"?Tu:typeof self<"u"?self:typeof window<"u"?window:{});const Vb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ii.UNAUTHENTICATED=new Ii(null),Ii.GOOGLE_CREDENTIALS=new Ii("google-credentials-uid"),Ii.FIRST_PARTY=new Ii("first-party-uid"),Ii.MOCK_USER=new Ii("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rf=new Pg("@firebase/firestore");function Ds(t,...e){if(rf.logLevel<=wt.DEBUG){const n=e.map(Yj);rf.debug(`Firestore (${em}): ${t}`,...n)}}function Wj(t,...e){if(rf.logLevel<=wt.ERROR){const n=e.map(Yj);rf.error(`Firestore (${em}): ${t}`,...n)}}function Yj(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(t="Unexpected state"){const e=`FIRESTORE (${em}) INTERNAL ASSERTION FAILED: `+t;throw Wj(e),new Error(e)}function _0(t,e){t||Xj()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition"};class zs extends il{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ii.UNAUTHENTICATED))}shutdown(){}}class KD{constructor(e){this.t=e,this.currentUser=Ii.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){_0(this.o===void 0);let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let a=new q0;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new q0,e.enqueueRetryable(()=>r(this.currentUser))};const l=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},o=c=>{Ds("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(Ds("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new q0)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(Ds("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(_0(typeof s.accessToken=="string"),new ZD(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _0(e===null||typeof e=="string"),new Ii(e)}}class JD{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Ii.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class eP{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new JD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ii.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){_0(this.o===void 0);const s=a=>{a.error!=null&&Ds("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,Ds("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>s(a))};const r=a=>{Ds("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?r(a):Ds("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(_0(typeof n.token=="string"),this.R=n.token,new tP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function iP(t){return t.name==="IndexedDbTransactionError"}class af{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new af("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof af&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gb,dt;(dt=Gb||(Gb={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Gj([4294967295,4294967295],0);function Sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n,s=1e3,r=1.5,a=6e4){this.ui=e,this.timerId=n,this.ko=s,this.qo=r,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-s);r>0&&Ds("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,s,r,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=a,this.deferred=new q0,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,r,a){const l=Date.now()+s,o=new qg(e,n,l,r,a);return o.start(s),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new zs(Cs.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var Wb,Yb;(Yb=Wb||(Wb={})).ea="default",Yb.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=new Map;function aP(t,e,n,s){if(e===!0&&s===!0)throw new zs(Cs.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new zs(Cs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new zs(Cs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rP((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new zs(Cs.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new zs(Cs.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new zs(Cs.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,r){return s.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lP{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new zs(Cs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new zs(Cs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zb(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new QD;switch(s.type){case"firstParty":return new eP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new zs(Cs.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Xb.get(n);s&&(Ds("ComponentProvider","Removing Datastore"),Xb.delete(n),s.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new sP(this,"async_queue_retry"),this.Vu=()=>{const s=Sp();s&&Ds("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const n=Sp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Sp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new q0;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!iP(e))throw e;Ds("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(s=>{this.Eu=s,this.du=!1;const r=function(l){let o=l.message||"";return l.stack&&(o=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),o}(s);throw Wj("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.du=!1,s))));return this.mu=n,n}enqueueAfterDelay(e,n,s){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const r=qg.createAndSchedule(this,e,n,s,a=>this.yu(a));return this.Tu.push(r),r}fu(){this.Eu&&Xj()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class oP extends lP{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new Qb,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qb(e),this._firestoreClient=void 0,await e}}}(function(e,n=!0){(function(r){em=r})(Kf),Wl(new Gl("firestore",(s,{instanceIdentifier:r,options:a})=>{const l=s.getProvider("app").getImmediate(),o=new oP(new KD(s.getProvider("auth-internal")),new nP(s.getProvider("app-check-internal")),function(h,u){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new zs(Cs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new af(h.options.projectId,u)}(l,r),l);return a=Object.assign({useFetchStreams:n},a),o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),Xs(Vb,"4.7.3",e),Xs(Vb,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,n,s){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||n.get().then(r=>this.messaging=r,()=>{}),this.appCheck||s.get().then(r=>this.appCheck=r,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),s=await this.getMessagingToken(),r=await this.getAppCheckToken(e);return{authToken:n,messagingToken:s,appCheckToken:r}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="us-central1";class uP{constructor(e,n,s,r,a=Kb,l){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new hP(n,s,r),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(a);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=Kb}catch{this.customDomain=null,this.region=a}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const Jb="@firebase/functions",e5="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="auth-internal",fP="app-check-internal",mP="messaging-internal";function pP(t,e){const n=(s,{instanceIdentifier:r})=>{const a=s.getProvider("app").getImmediate(),l=s.getProvider(dP),o=s.getProvider(mP),c=s.getProvider(fP);return new uP(a,l,o,c,r,t)};Wl(new Gl(cP,n,"PUBLIC").setMultipleInstances(!0)),Xs(Jb,e5,e),Xs(Jb,e5,"esm2017")}pP(fetch.bind(self));const xP=30*1e3,gP=2e3;class yP{constructor(e="",n=!0){pr(this,"prefix");pr(this,"enabled");this.prefix=e?`[${e}]`:"",this.enabled=n}log(e,n,s){if(!this.enabled)return;const r=this.prefix?`${this.prefix} ${n}`:n;if(e==="debug"||e==="info")return;const a=console[e]||console.log;s!==void 0?a(r,s):a(r)}debug(e,n){this.log("debug",e,n)}info(e,n){this.log("info",e,n)}warn(e,n){this.log("warn",e,n)}error(e,n){this.log("error",e,n)}setEnabled(e){this.enabled=e}}const Np={};function tr(t){const e=t||"__default__";return Np[e]||(Np[e]=new yP(t)),Np[e]}tr("NostrUtils");const bP=["ba","aa","crypto","linalg","advlinalg","template","islr","ra","calc1","calc_lib_art","men_of_math","four_pillars"];function vP(t){return bP.includes(t)}function pe(t,e,n){function s(o,c){if(o._zod||Object.defineProperty(o,"_zod",{value:{def:c,constr:l,traits:new Set},enumerable:!1}),o._zod.traits.has(t))return;o._zod.traits.add(t),e(o,c);const h=l.prototype,u=Object.keys(h);for(let f=0;f<u.length;f++){const x=u[f];x in o||(o[x]=h[x].bind(o))}}const r=(n==null?void 0:n.Parent)??Object;class a extends r{}Object.defineProperty(a,"name",{value:t});function l(o){var c;const h=n!=null&&n.Parent?new a:this;s(h,o),(c=h._zod).deferred??(c.deferred=[]);for(const u of h._zod.deferred)u();return h}return Object.defineProperty(l,"init",{value:s}),Object.defineProperty(l,Symbol.hasInstance,{value:o=>{var c,h;return n!=null&&n.Parent&&o instanceof n.Parent?!0:(h=(c=o==null?void 0:o._zod)==null?void 0:c.traits)==null?void 0:h.has(t)}}),Object.defineProperty(l,"name",{value:t}),l}class Yo extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Zj extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const Qj={};function Ha(t){return Qj}function Kj(t){const e=Object.values(t).filter(s=>typeof s=="number");return Object.entries(t).filter(([s,r])=>e.indexOf(+s)===-1).map(([s,r])=>r)}function Rx(t,e){return typeof e=="bigint"?e.toString():e}function Og(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Bg(t){return t==null}function $g(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function jP(t,e){const n=(t.toString().split(".")[1]||"").length,s=e.toString();let r=(s.split(".")[1]||"").length;if(r===0&&/\d?e-\d?/.test(s)){const c=s.match(/\d?e-(\d?)/);c!=null&&c[1]&&(r=Number.parseInt(c[1]))}const a=n>r?n:r,l=Number.parseInt(t.toFixed(a).replace(".","")),o=Number.parseInt(e.toFixed(a).replace(".",""));return l%o/10**a}const t5=Symbol("evaluating");function It(t,e,n){let s;Object.defineProperty(t,e,{get(){if(s!==t5)return s===void 0&&(s=t5,s=n()),s},set(r){Object.defineProperty(t,e,{value:r})},configurable:!0})}function to(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function no(...t){const e={};for(const n of t){const s=Object.getOwnPropertyDescriptors(n);Object.assign(e,s)}return Object.defineProperties({},e)}function n5(t){return JSON.stringify(t)}function wP(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Jj="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function lf(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const TP=Og(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function hc(t){if(lf(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(lf(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function ew(t){return hc(t)?{...t}:Array.isArray(t)?[...t]:t}const SP=new Set(["string","number","symbol"]);function tm(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function sl(t,e,n){const s=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(s._zod.parent=t),s}function He(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function NP(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const AP={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function kP(t,e){const n=t._zod.def,s=no(t._zod.def,{get shape(){const r={};for(const a in e){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&(r[a]=n.shape[a])}return to(this,"shape",r),r},checks:[]});return sl(t,s)}function MP(t,e){const n=t._zod.def,s=no(t._zod.def,{get shape(){const r={...t._zod.def.shape};for(const a in e){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&delete r[a]}return to(this,"shape",r),r},checks:[]});return sl(t,s)}function EP(t,e){if(!hc(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const r=no(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e};return to(this,"shape",a),a},checks:[]});return sl(t,r)}function CP(t,e){if(!hc(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const s={...t._zod.def.shape,...e};return to(this,"shape",s),s},checks:t._zod.def.checks};return sl(t,n)}function zP(t,e){const n=no(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e._zod.def.shape};return to(this,"shape",s),s},get catchall(){return e._zod.def.catchall},checks:[]});return sl(t,n)}function DP(t,e,n){const s=no(e._zod.def,{get shape(){const r=e._zod.def.shape,a={...r};if(n)for(const l in n){if(!(l in r))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(a[l]=t?new t({type:"optional",innerType:r[l]}):r[l])}else for(const l in r)a[l]=t?new t({type:"optional",innerType:r[l]}):r[l];return to(this,"shape",a),a},checks:[]});return sl(e,s)}function PP(t,e,n){const s=no(e._zod.def,{get shape(){const r=e._zod.def.shape,a={...r};if(n)for(const l in n){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(a[l]=new t({type:"nonoptional",innerType:r[l]}))}else for(const l in r)a[l]=new t({type:"nonoptional",innerType:r[l]});return to(this,"shape",a),a},checks:[]});return sl(e,s)}function Do(t,e=0){var n;if(t.aborted===!0)return!0;for(let s=e;s<t.issues.length;s++)if(((n=t.issues[s])==null?void 0:n.continue)!==!0)return!0;return!1}function Po(t,e){return e.map(n=>{var s;return(s=n).path??(s.path=[]),n.path.unshift(t),n})}function Su(t){return typeof t=="string"?t:t==null?void 0:t.message}function Va(t,e,n){var r,a,l,o,c,h;const s={...t,path:t.path??[]};if(!t.message){const u=Su((l=(a=(r=t.inst)==null?void 0:r._zod.def)==null?void 0:a.error)==null?void 0:l.call(a,t))??Su((o=e==null?void 0:e.error)==null?void 0:o.call(e,t))??Su((c=n.customError)==null?void 0:c.call(n,t))??Su((h=n.localeError)==null?void 0:h.call(n,t))??"Invalid input";s.message=u}return delete s.inst,delete s.continue,e!=null&&e.reportInput||delete s.input,s}function Lg(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function oh(...t){const[e,n,s]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:s}:{...e}}const tw=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Rx,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},nw=pe("$ZodError",tw),iw=pe("$ZodError",tw,{Parent:Error});function IP(t,e=n=>n.message){const n={},s=[];for(const r of t.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(e(r))):s.push(e(r));return{formErrors:s,fieldErrors:n}}function RP(t,e=n=>n.message){const n={_errors:[]},s=r=>{for(const a of r.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(l=>s({issues:l}));else if(a.code==="invalid_key")s({issues:a.issues});else if(a.code==="invalid_element")s({issues:a.issues});else if(a.path.length===0)n._errors.push(e(a));else{let l=n,o=0;for(;o<a.path.length;){const c=a.path[o];o===a.path.length-1?(l[c]=l[c]||{_errors:[]},l[c]._errors.push(e(a))):l[c]=l[c]||{_errors:[]},l=l[c],o++}}};return s(t),n}const Fg=t=>(e,n,s,r)=>{const a=s?Object.assign(s,{async:!1}):{async:!1},l=e._zod.run({value:n,issues:[]},a);if(l instanceof Promise)throw new Yo;if(l.issues.length){const o=new((r==null?void 0:r.Err)??t)(l.issues.map(c=>Va(c,a,Ha())));throw Jj(o,r==null?void 0:r.callee),o}return l.value},Ug=t=>async(e,n,s,r)=>{const a=s?Object.assign(s,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},a);if(l instanceof Promise&&(l=await l),l.issues.length){const o=new((r==null?void 0:r.Err)??t)(l.issues.map(c=>Va(c,a,Ha())));throw Jj(o,r==null?void 0:r.callee),o}return l.value},nm=t=>(e,n,s)=>{const r=s?{...s,async:!1}:{async:!1},a=e._zod.run({value:n,issues:[]},r);if(a instanceof Promise)throw new Yo;return a.issues.length?{success:!1,error:new(t??nw)(a.issues.map(l=>Va(l,r,Ha())))}:{success:!0,data:a.value}},_P=nm(iw),im=t=>async(e,n,s)=>{const r=s?Object.assign(s,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},r);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new t(a.issues.map(l=>Va(l,r,Ha())))}:{success:!0,data:a.value}},qP=im(iw),OP=t=>(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Fg(t)(e,n,r)},BP=t=>(e,n,s)=>Fg(t)(e,n,s),$P=t=>async(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Ug(t)(e,n,r)},LP=t=>async(e,n,s)=>Ug(t)(e,n,s),FP=t=>(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return nm(t)(e,n,r)},UP=t=>(e,n,s)=>nm(t)(e,n,s),HP=t=>async(e,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return im(t)(e,n,r)},VP=t=>async(e,n,s)=>im(t)(e,n,s),GP=/^[cC][^\s-]{8,}$/,WP=/^[0-9a-z]+$/,YP=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,XP=/^[0-9a-vA-V]{20}$/,ZP=/^[A-Za-z0-9]{27}$/,QP=/^[a-zA-Z0-9_-]{21}$/,KP=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,JP=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,i5=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,eI=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,tI="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function nI(){return new RegExp(tI,"u")}const iI=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,sI=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,rI=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,aI=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,lI=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,sw=/^[A-Za-z0-9_-]*$/,oI=/^\+(?:[0-9]){6,14}[0-9]$/,rw="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",cI=new RegExp(`^${rw}$`);function aw(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function hI(t){return new RegExp(`^${aw(t)}$`)}function uI(t){const e=aw({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${e}(?:${n.join("|")})`;return new RegExp(`^${rw}T(?:${s})$`)}const dI=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},fI=/^-?\d+$/,mI=/^-?\d+(?:\.\d+)?/,pI=/^(?:true|false)$/i,xI=/^[^A-Z]*$/,gI=/^[^a-z]*$/,Mi=pe("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),lw={number:"number",bigint:"bigint",object:"date"},ow=pe("$ZodCheckLessThan",(t,e)=>{Mi.init(t,e);const n=lw[typeof e.value];t._zod.onattach.push(s=>{const r=s._zod.bag,a=(e.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<a&&(e.inclusive?r.maximum=e.value:r.exclusiveMaximum=e.value)}),t._zod.check=s=>{(e.inclusive?s.value<=e.value:s.value<e.value)||s.issues.push({origin:n,code:"too_big",maximum:e.value,input:s.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),cw=pe("$ZodCheckGreaterThan",(t,e)=>{Mi.init(t,e);const n=lw[typeof e.value];t._zod.onattach.push(s=>{const r=s._zod.bag,a=(e.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>a&&(e.inclusive?r.minimum=e.value:r.exclusiveMinimum=e.value)}),t._zod.check=s=>{(e.inclusive?s.value>=e.value:s.value>e.value)||s.issues.push({origin:n,code:"too_small",minimum:e.value,input:s.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),yI=pe("$ZodCheckMultipleOf",(t,e)=>{Mi.init(t,e),t._zod.onattach.push(n=>{var s;(s=n._zod.bag).multipleOf??(s.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):jP(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),bI=pe("$ZodCheckNumberFormat",(t,e)=>{var l;Mi.init(t,e),e.format=e.format||"float64";const n=(l=e.format)==null?void 0:l.includes("int"),s=n?"int":"number",[r,a]=AP[e.format];t._zod.onattach.push(o=>{const c=o._zod.bag;c.format=e.format,c.minimum=r,c.maximum=a,n&&(c.pattern=fI)}),t._zod.check=o=>{const c=o.value;if(n){if(!Number.isInteger(c)){o.issues.push({expected:s,format:e.format,code:"invalid_type",continue:!1,input:c,inst:t});return}if(!Number.isSafeInteger(c)){c>0?o.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:s,continue:!e.abort}):o.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:s,continue:!e.abort});return}}c<r&&o.issues.push({origin:"number",input:c,code:"too_small",minimum:r,inclusive:!0,inst:t,continue:!e.abort}),c>a&&o.issues.push({origin:"number",input:c,code:"too_big",maximum:a,inst:t})}}),vI=pe("$ZodCheckMaxLength",(t,e)=>{var n;Mi.init(t,e),(n=t._zod.def).when??(n.when=s=>{const r=s.value;return!Bg(r)&&r.length!==void 0}),t._zod.onattach.push(s=>{const r=s._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<r&&(s._zod.bag.maximum=e.maximum)}),t._zod.check=s=>{const r=s.value;if(r.length<=e.maximum)return;const l=Lg(r);s.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),jI=pe("$ZodCheckMinLength",(t,e)=>{var n;Mi.init(t,e),(n=t._zod.def).when??(n.when=s=>{const r=s.value;return!Bg(r)&&r.length!==void 0}),t._zod.onattach.push(s=>{const r=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>r&&(s._zod.bag.minimum=e.minimum)}),t._zod.check=s=>{const r=s.value;if(r.length>=e.minimum)return;const l=Lg(r);s.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:r,inst:t,continue:!e.abort})}}),wI=pe("$ZodCheckLengthEquals",(t,e)=>{var n;Mi.init(t,e),(n=t._zod.def).when??(n.when=s=>{const r=s.value;return!Bg(r)&&r.length!==void 0}),t._zod.onattach.push(s=>{const r=s._zod.bag;r.minimum=e.length,r.maximum=e.length,r.length=e.length}),t._zod.check=s=>{const r=s.value,a=r.length;if(a===e.length)return;const l=Lg(r),o=a>e.length;s.issues.push({origin:l,...o?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:s.value,inst:t,continue:!e.abort})}}),sm=pe("$ZodCheckStringFormat",(t,e)=>{var n,s;Mi.init(t,e),t._zod.onattach.push(r=>{const a=r._zod.bag;a.format=e.format,e.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:e.format,input:r.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(s=t._zod).check??(s.check=()=>{})}),TI=pe("$ZodCheckRegex",(t,e)=>{sm.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),SI=pe("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=xI),sm.init(t,e)}),NI=pe("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=gI),sm.init(t,e)}),AI=pe("$ZodCheckIncludes",(t,e)=>{Mi.init(t,e);const n=tm(e.includes),s=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=s,t._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(s)}),t._zod.check=r=>{r.value.includes(e.includes,e.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:r.value,inst:t,continue:!e.abort})}}),kI=pe("$ZodCheckStartsWith",(t,e)=>{Mi.init(t,e);const n=new RegExp(`^${tm(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=s=>{s.value.startsWith(e.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:s.value,inst:t,continue:!e.abort})}}),MI=pe("$ZodCheckEndsWith",(t,e)=>{Mi.init(t,e);const n=new RegExp(`.*${tm(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),t._zod.check=s=>{s.value.endsWith(e.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:s.value,inst:t,continue:!e.abort})}}),EI=pe("$ZodCheckOverwrite",(t,e)=>{Mi.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class CI{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const s=e.split(`
`).filter(l=>l),r=Math.min(...s.map(l=>l.length-l.trimStart().length)),a=s.map(l=>l.slice(r)).map(l=>" ".repeat(this.indent*2)+l);for(const l of a)this.content.push(l)}compile(){const e=Function,n=this==null?void 0:this.args,r=[...((this==null?void 0:this.content)??[""]).map(a=>`  ${a}`)];return new e(...n,r.join(`
`))}}const zI={major:4,minor:2,patch:1},un=pe("$ZodType",(t,e)=>{var r;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=zI;const s=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&s.unshift(t);for(const a of s)for(const l of a._zod.onattach)l(t);if(s.length===0)(n=t._zod).deferred??(n.deferred=[]),(r=t._zod.deferred)==null||r.push(()=>{t._zod.run=t._zod.parse});else{const a=(o,c,h)=>{let u=Do(o),f;for(const x of c){if(x._zod.def.when){if(!x._zod.def.when(o))continue}else if(u)continue;const b=o.issues.length,M=x._zod.check(o);if(M instanceof Promise&&(h==null?void 0:h.async)===!1)throw new Yo;if(f||M instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await M,o.issues.length!==b&&(u||(u=Do(o,b)))});else{if(o.issues.length===b)continue;u||(u=Do(o,b))}}return f?f.then(()=>o):o},l=(o,c,h)=>{if(Do(o))return o.aborted=!0,o;const u=a(c,s,h);if(u instanceof Promise){if(h.async===!1)throw new Yo;return u.then(f=>t._zod.parse(f,h))}return t._zod.parse(u,h)};t._zod.run=(o,c)=>{if(c.skipChecks)return t._zod.parse(o,c);if(c.direction==="backward"){const u=t._zod.parse({value:o.value,issues:[]},{...c,skipChecks:!0});return u instanceof Promise?u.then(f=>l(f,o,c)):l(u,o,c)}const h=t._zod.parse(o,c);if(h instanceof Promise){if(c.async===!1)throw new Yo;return h.then(u=>a(u,s,c))}return a(h,s,c)}}t["~standard"]={validate:a=>{var l;try{const o=_P(t,a);return o.success?{value:o.data}:{issues:(l=o.error)==null?void 0:l.issues}}catch{return qP(t,a).then(c=>{var h;return c.success?{value:c.data}:{issues:(h=c.error)==null?void 0:h.issues}})}},vendor:"zod",version:1}}),Hg=pe("$ZodString",(t,e)=>{var n;un.init(t,e),t._zod.pattern=[...((n=t==null?void 0:t._zod.bag)==null?void 0:n.patterns)??[]].pop()??dI(t._zod.bag),t._zod.parse=(s,r)=>{if(e.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:t}),s}}),Wt=pe("$ZodStringFormat",(t,e)=>{sm.init(t,e),Hg.init(t,e)}),DI=pe("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=JP),Wt.init(t,e)}),PI=pe("$ZodUUID",(t,e)=>{if(e.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(s===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=i5(s))}else e.pattern??(e.pattern=i5());Wt.init(t,e)}),II=pe("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=eI),Wt.init(t,e)}),RI=pe("$ZodURL",(t,e)=>{Wt.init(t,e),t._zod.check=n=>{try{const s=n.value.trim(),r=new URL(s);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=r.href:n.value=s;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),_I=pe("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=nI()),Wt.init(t,e)}),qI=pe("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=QP),Wt.init(t,e)}),OI=pe("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=GP),Wt.init(t,e)}),BI=pe("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=WP),Wt.init(t,e)}),$I=pe("$ZodULID",(t,e)=>{e.pattern??(e.pattern=YP),Wt.init(t,e)}),LI=pe("$ZodXID",(t,e)=>{e.pattern??(e.pattern=XP),Wt.init(t,e)}),FI=pe("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=ZP),Wt.init(t,e)}),UI=pe("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=uI(e)),Wt.init(t,e)}),HI=pe("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=cI),Wt.init(t,e)}),VI=pe("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=hI(e)),Wt.init(t,e)}),GI=pe("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=KP),Wt.init(t,e)}),WI=pe("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=iI),Wt.init(t,e),t._zod.bag.format="ipv4"}),YI=pe("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=sI),Wt.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),XI=pe("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=rI),Wt.init(t,e)}),ZI=pe("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=aI),Wt.init(t,e),t._zod.check=n=>{const s=n.value.split("/");try{if(s.length!==2)throw new Error;const[r,a]=s;if(!a)throw new Error;const l=Number(a);if(`${l}`!==a)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function hw(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const QI=pe("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=lI),Wt.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{hw(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function KI(t){if(!sw.test(t))return!1;const e=t.replace(/[-_]/g,s=>s==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return hw(n)}const JI=pe("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=sw),Wt.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{KI(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),eR=pe("$ZodE164",(t,e)=>{e.pattern??(e.pattern=oI),Wt.init(t,e)});function tR(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[s]=n;if(!s)return!1;const r=JSON.parse(atob(s));return!("typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&(!("alg"in r)||r.alg!==e))}catch{return!1}}const nR=pe("$ZodJWT",(t,e)=>{Wt.init(t,e),t._zod.check=n=>{tR(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),uw=pe("$ZodNumber",(t,e)=>{un.init(t,e),t._zod.pattern=t._zod.bag.pattern??mI,t._zod.parse=(n,s)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;const a=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:t,...a?{received:a}:{}}),n}}),iR=pe("$ZodNumberFormat",(t,e)=>{bI.init(t,e),uw.init(t,e)}),sR=pe("$ZodBoolean",(t,e)=>{un.init(t,e),t._zod.pattern=pI,t._zod.parse=(n,s)=>{if(e.coerce)try{n.value=!!n.value}catch{}const r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:t}),n}}),rR=pe("$ZodUnknown",(t,e)=>{un.init(t,e),t._zod.parse=n=>n}),aR=pe("$ZodNever",(t,e)=>{un.init(t,e),t._zod.parse=(n,s)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function s5(t,e,n){t.issues.length&&e.issues.push(...Po(n,t.issues)),e.value[n]=t.value}const lR=pe("$ZodArray",(t,e)=>{un.init(t,e),t._zod.parse=(n,s)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:t}),n;n.value=Array(r.length);const a=[];for(let l=0;l<r.length;l++){const o=r[l],c=e.element._zod.run({value:o,issues:[]},s);c instanceof Promise?a.push(c.then(h=>s5(h,n,l))):s5(c,n,l)}return a.length?Promise.all(a).then(()=>n):n}});function of(t,e,n,s){t.issues.length&&e.issues.push(...Po(n,t.issues)),t.value===void 0?n in s&&(e.value[n]=void 0):e.value[n]=t.value}function dw(t){var s,r,a,l;const e=Object.keys(t.shape);for(const o of e)if(!((l=(a=(r=(s=t.shape)==null?void 0:s[o])==null?void 0:r._zod)==null?void 0:a.traits)!=null&&l.has("$ZodType")))throw new Error(`Invalid element at key "${o}": expected a Zod schema`);const n=NP(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function fw(t,e,n,s,r,a){const l=[],o=r.keySet,c=r.catchall._zod,h=c.def.type;for(const u in e){if(o.has(u))continue;if(h==="never"){l.push(u);continue}const f=c.run({value:e[u],issues:[]},s);f instanceof Promise?t.push(f.then(x=>of(x,n,u,e))):of(f,n,u,e)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:e,inst:a}),t.length?Promise.all(t).then(()=>n):n}const oR=pe("$ZodObject",(t,e)=>{un.init(t,e);const n=Object.getOwnPropertyDescriptor(e,"shape");if(!(n!=null&&n.get)){const o=e.shape;Object.defineProperty(e,"shape",{get:()=>{const c={...o};return Object.defineProperty(e,"shape",{value:c}),c}})}const s=Og(()=>dw(e));It(t._zod,"propValues",()=>{const o=e.shape,c={};for(const h in o){const u=o[h]._zod;if(u.values){c[h]??(c[h]=new Set);for(const f of u.values)c[h].add(f)}}return c});const r=lf,a=e.catchall;let l;t._zod.parse=(o,c)=>{l??(l=s.value);const h=o.value;if(!r(h))return o.issues.push({expected:"object",code:"invalid_type",input:h,inst:t}),o;o.value={};const u=[],f=l.shape;for(const x of l.keys){const M=f[x]._zod.run({value:h[x],issues:[]},c);M instanceof Promise?u.push(M.then(y=>of(y,o,x,h))):of(M,o,x,h)}return a?fw(u,h,o,c,s.value,t):u.length?Promise.all(u).then(()=>o):o}}),cR=pe("$ZodObjectJIT",(t,e)=>{oR.init(t,e);const n=t._zod.parse,s=Og(()=>dw(e)),r=x=>{const b=new CI(["shape","payload","ctx"]),M=s.value,y=j=>{const m=n5(j);return`shape[${m}]._zod.run({ value: input[${m}], issues: [] }, ctx)`};b.write("const input = payload.value;");const T=Object.create(null);let S=0;for(const j of M.keys)T[j]=`key_${S++}`;b.write("const newResult = {};");for(const j of M.keys){const m=T[j],g=n5(j);b.write(`const ${m} = ${y(j)};`),b.write(`
        if (${m}.issues.length) {
          payload.issues = payload.issues.concat(${m}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${g}, ...iss.path] : [${g}]
          })));
        }
        
        
        if (${m}.value === undefined) {
          if (${g} in input) {
            newResult[${g}] = undefined;
          }
        } else {
          newResult[${g}] = ${m}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");const N=b.compile();return(j,m)=>N(x,j,m)};let a;const l=lf,o=!Qj.jitless,h=o&&TP.value,u=e.catchall;let f;t._zod.parse=(x,b)=>{f??(f=s.value);const M=x.value;return l(M)?o&&h&&(b==null?void 0:b.async)===!1&&b.jitless!==!0?(a||(a=r(e.shape)),x=a(x,b),u?fw([],M,x,b,f,t):x):n(x,b):(x.issues.push({expected:"object",code:"invalid_type",input:M,inst:t}),x)}});function r5(t,e,n,s){for(const a of t)if(a.issues.length===0)return e.value=a.value,e;const r=t.filter(a=>!Do(a));return r.length===1?(e.value=r[0].value,r[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(a=>a.issues.map(l=>Va(l,s,Ha())))}),e)}const hR=pe("$ZodUnion",(t,e)=>{un.init(t,e),It(t._zod,"optin",()=>e.options.some(r=>r._zod.optin==="optional")?"optional":void 0),It(t._zod,"optout",()=>e.options.some(r=>r._zod.optout==="optional")?"optional":void 0),It(t._zod,"values",()=>{if(e.options.every(r=>r._zod.values))return new Set(e.options.flatMap(r=>Array.from(r._zod.values)))}),It(t._zod,"pattern",()=>{if(e.options.every(r=>r._zod.pattern)){const r=e.options.map(a=>a._zod.pattern);return new RegExp(`^(${r.map(a=>$g(a.source)).join("|")})$`)}});const n=e.options.length===1,s=e.options[0]._zod.run;t._zod.parse=(r,a)=>{if(n)return s(r,a);let l=!1;const o=[];for(const c of e.options){const h=c._zod.run({value:r.value,issues:[]},a);if(h instanceof Promise)o.push(h),l=!0;else{if(h.issues.length===0)return h;o.push(h)}}return l?Promise.all(o).then(c=>r5(c,r,t,a)):r5(o,r,t,a)}}),uR=pe("$ZodIntersection",(t,e)=>{un.init(t,e),t._zod.parse=(n,s)=>{const r=n.value,a=e.left._zod.run({value:r,issues:[]},s),l=e.right._zod.run({value:r,issues:[]},s);return a instanceof Promise||l instanceof Promise?Promise.all([a,l]).then(([c,h])=>a5(n,c,h)):a5(n,a,l)}});function _x(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(hc(t)&&hc(e)){const n=Object.keys(e),s=Object.keys(t).filter(a=>n.indexOf(a)!==-1),r={...t,...e};for(const a of s){const l=_x(t[a],e[a]);if(!l.valid)return{valid:!1,mergeErrorPath:[a,...l.mergeErrorPath]};r[a]=l.data}return{valid:!0,data:r}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let s=0;s<t.length;s++){const r=t[s],a=e[s],l=_x(r,a);if(!l.valid)return{valid:!1,mergeErrorPath:[s,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function a5(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Do(t))return t;const s=_x(e.value,n.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return t.value=s.data,t}const dR=pe("$ZodRecord",(t,e)=>{un.init(t,e),t._zod.parse=(n,s)=>{const r=n.value;if(!hc(r))return n.issues.push({expected:"record",code:"invalid_type",input:r,inst:t}),n;const a=[],l=e.keyType._zod.values;if(l){n.value={};const o=new Set;for(const h of l)if(typeof h=="string"||typeof h=="number"||typeof h=="symbol"){o.add(typeof h=="number"?h.toString():h);const u=e.valueType._zod.run({value:r[h],issues:[]},s);u instanceof Promise?a.push(u.then(f=>{f.issues.length&&n.issues.push(...Po(h,f.issues)),n.value[h]=f.value})):(u.issues.length&&n.issues.push(...Po(h,u.issues)),n.value[h]=u.value)}let c;for(const h in r)o.has(h)||(c=c??[],c.push(h));c&&c.length>0&&n.issues.push({code:"unrecognized_keys",input:r,inst:t,keys:c})}else{n.value={};for(const o of Reflect.ownKeys(r)){if(o==="__proto__")continue;const c=e.keyType._zod.run({value:o,issues:[]},s);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(c.issues.length){e.mode==="loose"?n.value[o]=r[o]:n.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(u=>Va(u,s,Ha())),input:o,path:[o],inst:t});continue}const h=e.valueType._zod.run({value:r[o],issues:[]},s);h instanceof Promise?a.push(h.then(u=>{u.issues.length&&n.issues.push(...Po(o,u.issues)),n.value[c.value]=u.value})):(h.issues.length&&n.issues.push(...Po(o,h.issues)),n.value[c.value]=h.value)}}return a.length?Promise.all(a).then(()=>n):n}}),fR=pe("$ZodEnum",(t,e)=>{un.init(t,e);const n=Kj(e.entries),s=new Set(n);t._zod.values=s,t._zod.pattern=new RegExp(`^(${n.filter(r=>SP.has(typeof r)).map(r=>typeof r=="string"?tm(r):r.toString()).join("|")})$`),t._zod.parse=(r,a)=>{const l=r.value;return s.has(l)||r.issues.push({code:"invalid_value",values:n,input:l,inst:t}),r}}),mR=pe("$ZodTransform",(t,e)=>{un.init(t,e),t._zod.parse=(n,s)=>{if(s.direction==="backward")throw new Zj(t.constructor.name);const r=e.transform(n.value,n);if(s.async)return(r instanceof Promise?r:Promise.resolve(r)).then(l=>(n.value=l,n));if(r instanceof Promise)throw new Yo;return n.value=r,n}});function l5(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const pR=pe("$ZodOptional",(t,e)=>{un.init(t,e),t._zod.optin="optional",t._zod.optout="optional",It(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),It(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${$g(n.source)})?$`):void 0}),t._zod.parse=(n,s)=>{if(e.innerType._zod.optin==="optional"){const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>l5(a,n.value)):l5(r,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,s)}}),xR=pe("$ZodNullable",(t,e)=>{un.init(t,e),It(t._zod,"optin",()=>e.innerType._zod.optin),It(t._zod,"optout",()=>e.innerType._zod.optout),It(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${$g(n.source)}|null)$`):void 0}),It(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,s)=>n.value===null?n:e.innerType._zod.run(n,s)}),gR=pe("$ZodDefault",(t,e)=>{un.init(t,e),t._zod.optin="optional",It(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>{if(s.direction==="backward")return e.innerType._zod.run(n,s);if(n.value===void 0)return n.value=e.defaultValue,n;const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>o5(a,e)):o5(r,e)}});function o5(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const yR=pe("$ZodPrefault",(t,e)=>{un.init(t,e),t._zod.optin="optional",It(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>(s.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,s))}),bR=pe("$ZodNonOptional",(t,e)=>{un.init(t,e),It(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(s=>s!==void 0)):void 0}),t._zod.parse=(n,s)=>{const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>c5(a,t)):c5(r,t)}});function c5(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const vR=pe("$ZodCatch",(t,e)=>{un.init(t,e),It(t._zod,"optin",()=>e.innerType._zod.optin),It(t._zod,"optout",()=>e.innerType._zod.optout),It(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,s)=>{if(s.direction==="backward")return e.innerType._zod.run(n,s);const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(l=>Va(l,s,Ha()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=e.catchValue({...n,error:{issues:r.issues.map(a=>Va(a,s,Ha()))},input:n.value}),n.issues=[]),n)}}),jR=pe("$ZodPipe",(t,e)=>{un.init(t,e),It(t._zod,"values",()=>e.in._zod.values),It(t._zod,"optin",()=>e.in._zod.optin),It(t._zod,"optout",()=>e.out._zod.optout),It(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,s)=>{if(s.direction==="backward"){const a=e.out._zod.run(n,s);return a instanceof Promise?a.then(l=>Nu(l,e.in,s)):Nu(a,e.in,s)}const r=e.in._zod.run(n,s);return r instanceof Promise?r.then(a=>Nu(a,e.out,s)):Nu(r,e.out,s)}});function Nu(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const wR=pe("$ZodReadonly",(t,e)=>{un.init(t,e),It(t._zod,"propValues",()=>e.innerType._zod.propValues),It(t._zod,"values",()=>e.innerType._zod.values),It(t._zod,"optin",()=>{var n,s;return(s=(n=e.innerType)==null?void 0:n._zod)==null?void 0:s.optin}),It(t._zod,"optout",()=>{var n,s;return(s=(n=e.innerType)==null?void 0:n._zod)==null?void 0:s.optout}),t._zod.parse=(n,s)=>{if(s.direction==="backward")return e.innerType._zod.run(n,s);const r=e.innerType._zod.run(n,s);return r instanceof Promise?r.then(h5):h5(r)}});function h5(t){return t.value=Object.freeze(t.value),t}const TR=pe("$ZodCustom",(t,e)=>{Mi.init(t,e),un.init(t,e),t._zod.parse=(n,s)=>n,t._zod.check=n=>{const s=n.value,r=e.fn(s);if(r instanceof Promise)return r.then(a=>u5(a,n,s,t));u5(r,n,s,t)}});function u5(t,e,n,s){if(!t){const r={code:"custom",input:n,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(r.params=s._zod.def.params),e.issues.push(oh(r))}}var d5;class SR{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const s=n[0];if(this._map.set(e,s),s&&typeof s=="object"&&"id"in s){if(this._idmap.has(s.id))throw new Error(`ID ${s.id} already exists in the registry`);this._idmap.set(s.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const s={...this.get(n)??{}};delete s.id;const r={...s,...this._map.get(e)};return Object.keys(r).length?r:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function NR(){return new SR}(d5=globalThis).__zod_globalRegistry??(d5.__zod_globalRegistry=NR());const x0=globalThis.__zod_globalRegistry;function AR(t,e){return new t({type:"string",...He(e)})}function kR(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...He(e)})}function f5(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...He(e)})}function MR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...He(e)})}function ER(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...He(e)})}function CR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...He(e)})}function zR(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...He(e)})}function DR(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...He(e)})}function PR(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...He(e)})}function IR(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...He(e)})}function RR(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...He(e)})}function _R(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...He(e)})}function qR(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...He(e)})}function OR(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...He(e)})}function BR(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...He(e)})}function $R(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...He(e)})}function LR(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...He(e)})}function FR(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...He(e)})}function UR(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...He(e)})}function HR(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...He(e)})}function VR(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...He(e)})}function GR(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...He(e)})}function WR(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...He(e)})}function YR(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...He(e)})}function XR(t,e){return new t({type:"string",format:"date",check:"string_format",...He(e)})}function ZR(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...He(e)})}function QR(t,e){return new t({type:"string",format:"duration",check:"string_format",...He(e)})}function KR(t,e){return new t({type:"number",checks:[],...He(e)})}function JR(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...He(e)})}function e_(t,e){return new t({type:"boolean",...He(e)})}function t_(t){return new t({type:"unknown"})}function n_(t,e){return new t({type:"never",...He(e)})}function m5(t,e){return new ow({check:"less_than",...He(e),value:t,inclusive:!1})}function Ap(t,e){return new ow({check:"less_than",...He(e),value:t,inclusive:!0})}function p5(t,e){return new cw({check:"greater_than",...He(e),value:t,inclusive:!1})}function kp(t,e){return new cw({check:"greater_than",...He(e),value:t,inclusive:!0})}function x5(t,e){return new yI({check:"multiple_of",...He(e),value:t})}function mw(t,e){return new vI({check:"max_length",...He(e),maximum:t})}function cf(t,e){return new jI({check:"min_length",...He(e),minimum:t})}function pw(t,e){return new wI({check:"length_equals",...He(e),length:t})}function i_(t,e){return new TI({check:"string_format",format:"regex",...He(e),pattern:t})}function s_(t){return new SI({check:"string_format",format:"lowercase",...He(t)})}function r_(t){return new NI({check:"string_format",format:"uppercase",...He(t)})}function a_(t,e){return new AI({check:"string_format",format:"includes",...He(e),includes:t})}function l_(t,e){return new kI({check:"string_format",format:"starts_with",...He(e),prefix:t})}function o_(t,e){return new MI({check:"string_format",format:"ends_with",...He(e),suffix:t})}function Sc(t){return new EI({check:"overwrite",tx:t})}function c_(t){return Sc(e=>e.normalize(t))}function h_(){return Sc(t=>t.trim())}function u_(){return Sc(t=>t.toLowerCase())}function d_(){return Sc(t=>t.toUpperCase())}function f_(){return Sc(t=>wP(t))}function m_(t,e,n){return new t({type:"array",element:e,...He(n)})}function p_(t,e,n){return new t({type:"custom",check:"custom",fn:e,...He(n)})}function x_(t){const e=g_(n=>(n.addIssue=s=>{if(typeof s=="string")n.issues.push(oh(s,n.value,e._zod.def));else{const r=s;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=e),r.continue??(r.continue=!e._zod.def.abort),n.issues.push(oh(r))}},t(n.value,n)));return e}function g_(t,e){const n=new Mi({check:"custom",...He(e)});return n._zod.check=t,n}function xw(t){let e=(t==null?void 0:t.target)??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:(t==null?void 0:t.metadata)??x0,target:e,unrepresentable:(t==null?void 0:t.unrepresentable)??"throw",override:(t==null?void 0:t.override)??(()=>{}),io:(t==null?void 0:t.io)??"output",counter:0,seen:new Map,cycles:(t==null?void 0:t.cycles)??"ref",reused:(t==null?void 0:t.reused)??"inline",external:(t==null?void 0:t.external)??void 0}}function Pn(t,e,n={path:[],schemaPath:[]}){var u,f;var s;const r=t._zod.def,a=e.seen.get(t);if(a)return a.count++,n.schemaPath.includes(t)&&(a.cycle=n.path),a.schema;const l={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,l);const o=(f=(u=t._zod).toJSONSchema)==null?void 0:f.call(u);if(o)l.schema=o;else{const x={...n,schemaPath:[...n.schemaPath,t],path:n.path},b=t._zod.parent;if(b)l.ref=b,Pn(b,e,x),e.seen.get(b).isParent=!0;else if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,l.schema,x);else{const M=l.schema,y=e.processors[r.type];if(!y)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${r.type}`);y(t,e,M,x)}}const c=e.metadataRegistry.get(t);return c&&Object.assign(l.schema,c),e.io==="input"&&ti(t)&&(delete l.schema.examples,delete l.schema.default),e.io==="input"&&l.schema._prefault&&((s=l.schema).default??(s.default=l.schema._prefault)),delete l.schema._prefault,e.seen.get(t).schema}function gw(t,e){var a,l,o;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=c=>{var b;const h=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const M=(b=t.external.registry.get(c[0]))==null?void 0:b.id,y=t.external.uri??(S=>S);if(M)return{ref:y(M)};const T=c[1].defId??c[1].schema.id??`schema${t.counter++}`;return c[1].defId=T,{defId:T,ref:`${y("__shared")}#/${h}/${T}`}}if(c[1]===n)return{ref:"#"};const f=`#/${h}/`,x=c[1].schema.id??`__schema${t.counter++}`;return{defId:x,ref:f+x}},r=c=>{if(c[1].schema.$ref)return;const h=c[1],{ref:u,defId:f}=s(c);h.def={...h.schema},f&&(h.defId=f);const x=h.schema;for(const b in x)delete x[b];x.$ref=u};if(t.cycles==="throw")for(const c of t.seen.entries()){const h=c[1];if(h.cycle)throw new Error(`Cycle detected: #/${(a=h.cycle)==null?void 0:a.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const c of t.seen.entries()){const h=c[1];if(e===c[0]){r(c);continue}if(t.external){const f=(l=t.external.registry.get(c[0]))==null?void 0:l.id;if(e!==c[0]&&f){r(c);continue}}if((o=t.metadataRegistry.get(c[0]))==null?void 0:o.id){r(c);continue}if(h.cycle){r(c);continue}if(h.count>1&&t.reused==="ref"){r(c);continue}}}function yw(t,e){var l,o,c;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=h=>{const u=t.seen.get(h),f=u.def??u.schema,x={...f};if(u.ref===null)return;const b=u.ref;if(u.ref=null,b){s(b);const M=t.seen.get(b).schema;M.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(f.allOf=f.allOf??[],f.allOf.push(M)):(Object.assign(f,M),Object.assign(f,x))}u.isParent||t.override({zodSchema:h,jsonSchema:f,path:u.path??[]})};for(const h of[...t.seen.entries()].reverse())s(h[0]);const r={};if(t.target==="draft-2020-12"?r.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?r.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?r.$schema="http://json-schema.org/draft-04/schema#":t.target,(l=t.external)!=null&&l.uri){const h=(o=t.external.registry.get(e))==null?void 0:o.id;if(!h)throw new Error("Schema is missing an `id` property");r.$id=t.external.uri(h)}Object.assign(r,n.def??n.schema);const a=((c=t.external)==null?void 0:c.defs)??{};for(const h of t.seen.entries()){const u=h[1];u.def&&u.defId&&(a[u.defId]=u.def)}t.external||Object.keys(a).length>0&&(t.target==="draft-2020-12"?r.$defs=a:r.definitions=a);try{const h=JSON.parse(JSON.stringify(r));return Object.defineProperty(h,"~standard",{value:{...e["~standard"],jsonSchema:{input:hf(e,"input"),output:hf(e,"output")}},enumerable:!1,writable:!1}),h}catch{throw new Error("Error converting schema to JSON.")}}function ti(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const s=t._zod.def;if(s.type==="transform")return!0;if(s.type==="array")return ti(s.element,n);if(s.type==="set")return ti(s.valueType,n);if(s.type==="lazy")return ti(s.getter(),n);if(s.type==="promise"||s.type==="optional"||s.type==="nonoptional"||s.type==="nullable"||s.type==="readonly"||s.type==="default"||s.type==="prefault")return ti(s.innerType,n);if(s.type==="intersection")return ti(s.left,n)||ti(s.right,n);if(s.type==="record"||s.type==="map")return ti(s.keyType,n)||ti(s.valueType,n);if(s.type==="pipe")return ti(s.in,n)||ti(s.out,n);if(s.type==="object"){for(const r in s.shape)if(ti(s.shape[r],n))return!0;return!1}if(s.type==="union"){for(const r of s.options)if(ti(r,n))return!0;return!1}if(s.type==="tuple"){for(const r of s.items)if(ti(r,n))return!0;return!!(s.rest&&ti(s.rest,n))}return!1}const y_=(t,e={})=>n=>{const s=xw({...n,processors:e});return Pn(t,s),gw(s,t),yw(s,t)},hf=(t,e)=>n=>{const{libraryOptions:s,target:r}=n??{},a=xw({...s??{},target:r,io:e,processors:{}});return Pn(t,a),gw(a,t),yw(a,t)},b_={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},v_=(t,e,n,s)=>{const r=n;r.type="string";const{minimum:a,maximum:l,format:o,patterns:c,contentEncoding:h}=t._zod.bag;if(typeof a=="number"&&(r.minLength=a),typeof l=="number"&&(r.maxLength=l),o&&(r.format=b_[o]??o,r.format===""&&delete r.format),h&&(r.contentEncoding=h),c&&c.size>0){const u=[...c];u.length===1?r.pattern=u[0].source:u.length>1&&(r.allOf=[...u.map(f=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:f.source}))])}},j_=(t,e,n,s)=>{const r=n,{minimum:a,maximum:l,format:o,multipleOf:c,exclusiveMaximum:h,exclusiveMinimum:u}=t._zod.bag;typeof o=="string"&&o.includes("int")?r.type="integer":r.type="number",typeof u=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(r.minimum=u,r.exclusiveMinimum=!0):r.exclusiveMinimum=u),typeof a=="number"&&(r.minimum=a,typeof u=="number"&&e.target!=="draft-04"&&(u>=a?delete r.minimum:delete r.exclusiveMinimum)),typeof h=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(r.maximum=h,r.exclusiveMaximum=!0):r.exclusiveMaximum=h),typeof l=="number"&&(r.maximum=l,typeof h=="number"&&e.target!=="draft-04"&&(h<=l?delete r.maximum:delete r.exclusiveMaximum)),typeof c=="number"&&(r.multipleOf=c)},w_=(t,e,n,s)=>{n.type="boolean"},T_=(t,e,n,s)=>{n.not={}},S_=(t,e,n,s)=>{},N_=(t,e,n,s)=>{const r=t._zod.def,a=Kj(r.entries);a.every(l=>typeof l=="number")&&(n.type="number"),a.every(l=>typeof l=="string")&&(n.type="string"),n.enum=a},A_=(t,e,n,s)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},k_=(t,e,n,s)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},M_=(t,e,n,s)=>{const r=n,a=t._zod.def,{minimum:l,maximum:o}=t._zod.bag;typeof l=="number"&&(r.minItems=l),typeof o=="number"&&(r.maxItems=o),r.type="array",r.items=Pn(a.element,e,{...s,path:[...s.path,"items"]})},E_=(t,e,n,s)=>{var h;const r=n,a=t._zod.def;r.type="object",r.properties={};const l=a.shape;for(const u in l)r.properties[u]=Pn(l[u],e,{...s,path:[...s.path,"properties",u]});const o=new Set(Object.keys(l)),c=new Set([...o].filter(u=>{const f=a.shape[u]._zod;return e.io==="input"?f.optin===void 0:f.optout===void 0}));c.size>0&&(r.required=Array.from(c)),((h=a.catchall)==null?void 0:h._zod.def.type)==="never"?r.additionalProperties=!1:a.catchall?a.catchall&&(r.additionalProperties=Pn(a.catchall,e,{...s,path:[...s.path,"additionalProperties"]})):e.io==="output"&&(r.additionalProperties=!1)},C_=(t,e,n,s)=>{const r=t._zod.def,a=r.inclusive===!1,l=r.options.map((o,c)=>Pn(o,e,{...s,path:[...s.path,a?"oneOf":"anyOf",c]}));a?n.oneOf=l:n.anyOf=l},z_=(t,e,n,s)=>{const r=t._zod.def,a=Pn(r.left,e,{...s,path:[...s.path,"allOf",0]}),l=Pn(r.right,e,{...s,path:[...s.path,"allOf",1]}),o=h=>"allOf"in h&&Object.keys(h).length===1,c=[...o(a)?a.allOf:[a],...o(l)?l.allOf:[l]];n.allOf=c},D_=(t,e,n,s)=>{const r=n,a=t._zod.def;r.type="object",(e.target==="draft-07"||e.target==="draft-2020-12")&&(r.propertyNames=Pn(a.keyType,e,{...s,path:[...s.path,"propertyNames"]})),r.additionalProperties=Pn(a.valueType,e,{...s,path:[...s.path,"additionalProperties"]})},P_=(t,e,n,s)=>{const r=t._zod.def,a=Pn(r.innerType,e,s),l=e.seen.get(t);e.target==="openapi-3.0"?(l.ref=r.innerType,n.nullable=!0):n.anyOf=[a,{type:"null"}]},I_=(t,e,n,s)=>{const r=t._zod.def;Pn(r.innerType,e,s);const a=e.seen.get(t);a.ref=r.innerType},R_=(t,e,n,s)=>{const r=t._zod.def;Pn(r.innerType,e,s);const a=e.seen.get(t);a.ref=r.innerType,n.default=JSON.parse(JSON.stringify(r.defaultValue))},__=(t,e,n,s)=>{const r=t._zod.def;Pn(r.innerType,e,s);const a=e.seen.get(t);a.ref=r.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(r.defaultValue)))},q_=(t,e,n,s)=>{const r=t._zod.def;Pn(r.innerType,e,s);const a=e.seen.get(t);a.ref=r.innerType;let l;try{l=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=l},O_=(t,e,n,s)=>{const r=t._zod.def,a=e.io==="input"?r.in._zod.def.type==="transform"?r.out:r.in:r.out;Pn(a,e,s);const l=e.seen.get(t);l.ref=a},B_=(t,e,n,s)=>{const r=t._zod.def;Pn(r.innerType,e,s);const a=e.seen.get(t);a.ref=r.innerType,n.readOnly=!0},$_=(t,e,n,s)=>{const r=t._zod.def;Pn(r.innerType,e,s);const a=e.seen.get(t);a.ref=r.innerType},L_=pe("ZodISODateTime",(t,e)=>{UI.init(t,e),sn.init(t,e)});function F_(t){return YR(L_,t)}const U_=pe("ZodISODate",(t,e)=>{HI.init(t,e),sn.init(t,e)});function H_(t){return XR(U_,t)}const V_=pe("ZodISOTime",(t,e)=>{VI.init(t,e),sn.init(t,e)});function G_(t){return ZR(V_,t)}const W_=pe("ZodISODuration",(t,e)=>{GI.init(t,e),sn.init(t,e)});function Y_(t){return QR(W_,t)}const X_=(t,e)=>{nw.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>RP(t,n)},flatten:{value:n=>IP(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Rx,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Rx,2)}},isEmpty:{get(){return t.issues.length===0}}})},bs=pe("ZodError",X_,{Parent:Error}),Z_=Fg(bs),Q_=Ug(bs),K_=nm(bs),J_=im(bs),eq=OP(bs),tq=BP(bs),nq=$P(bs),iq=LP(bs),sq=FP(bs),rq=UP(bs),aq=HP(bs),lq=VP(bs),bn=pe("ZodType",(t,e)=>(un.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:hf(t,"input"),output:hf(t,"output")}}),t.toJSONSchema=y_(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(no(e,{checks:[...e.checks??[],...n.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]})),t.clone=(n,s)=>sl(t,n,s),t.brand=()=>t,t.register=(n,s)=>(n.add(t,s),t),t.parse=(n,s)=>Z_(t,n,s,{callee:t.parse}),t.safeParse=(n,s)=>K_(t,n,s),t.parseAsync=async(n,s)=>Q_(t,n,s,{callee:t.parseAsync}),t.safeParseAsync=async(n,s)=>J_(t,n,s),t.spa=t.safeParseAsync,t.encode=(n,s)=>eq(t,n,s),t.decode=(n,s)=>tq(t,n,s),t.encodeAsync=async(n,s)=>nq(t,n,s),t.decodeAsync=async(n,s)=>iq(t,n,s),t.safeEncode=(n,s)=>sq(t,n,s),t.safeDecode=(n,s)=>rq(t,n,s),t.safeEncodeAsync=async(n,s)=>aq(t,n,s),t.safeDecodeAsync=async(n,s)=>lq(t,n,s),t.refine=(n,s)=>t.check(Kq(n,s)),t.superRefine=n=>t.check(Jq(n)),t.overwrite=n=>t.check(Sc(n)),t.optional=()=>b5(t),t.nullable=()=>v5(t),t.nullish=()=>b5(v5(t)),t.nonoptional=n=>Vq(t,n),t.array=()=>uc(t),t.or=n=>jw([t,n]),t.and=n=>_q(t,n),t.transform=n=>j5(t,Bq(n)),t.default=n=>Fq(t,n),t.prefault=n=>Hq(t,n),t.catch=n=>Wq(t,n),t.pipe=n=>j5(t,n),t.readonly=()=>Zq(t),t.describe=n=>{const s=t.clone();return x0.add(s,{description:n}),s},Object.defineProperty(t,"description",{get(){var n;return(n=x0.get(t))==null?void 0:n.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return x0.get(t);const s=t.clone();return x0.add(s,n[0]),s},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),bw=pe("_ZodString",(t,e)=>{Hg.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(s,r,a)=>v_(t,s,r);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...s)=>t.check(i_(...s)),t.includes=(...s)=>t.check(a_(...s)),t.startsWith=(...s)=>t.check(l_(...s)),t.endsWith=(...s)=>t.check(o_(...s)),t.min=(...s)=>t.check(cf(...s)),t.max=(...s)=>t.check(mw(...s)),t.length=(...s)=>t.check(pw(...s)),t.nonempty=(...s)=>t.check(cf(1,...s)),t.lowercase=s=>t.check(s_(s)),t.uppercase=s=>t.check(r_(s)),t.trim=()=>t.check(h_()),t.normalize=(...s)=>t.check(c_(...s)),t.toLowerCase=()=>t.check(u_()),t.toUpperCase=()=>t.check(d_()),t.slugify=()=>t.check(f_())}),oq=pe("ZodString",(t,e)=>{Hg.init(t,e),bw.init(t,e),t.email=n=>t.check(kR(cq,n)),t.url=n=>t.check(DR(hq,n)),t.jwt=n=>t.check(WR(Nq,n)),t.emoji=n=>t.check(PR(uq,n)),t.guid=n=>t.check(f5(g5,n)),t.uuid=n=>t.check(MR(Au,n)),t.uuidv4=n=>t.check(ER(Au,n)),t.uuidv6=n=>t.check(CR(Au,n)),t.uuidv7=n=>t.check(zR(Au,n)),t.nanoid=n=>t.check(IR(dq,n)),t.guid=n=>t.check(f5(g5,n)),t.cuid=n=>t.check(RR(fq,n)),t.cuid2=n=>t.check(_R(mq,n)),t.ulid=n=>t.check(qR(pq,n)),t.base64=n=>t.check(HR(wq,n)),t.base64url=n=>t.check(VR(Tq,n)),t.xid=n=>t.check(OR(xq,n)),t.ksuid=n=>t.check(BR(gq,n)),t.ipv4=n=>t.check($R(yq,n)),t.ipv6=n=>t.check(LR(bq,n)),t.cidrv4=n=>t.check(FR(vq,n)),t.cidrv6=n=>t.check(UR(jq,n)),t.e164=n=>t.check(GR(Sq,n)),t.datetime=n=>t.check(F_(n)),t.date=n=>t.check(H_(n)),t.time=n=>t.check(G_(n)),t.duration=n=>t.check(Y_(n))});function zn(t){return AR(oq,t)}const sn=pe("ZodStringFormat",(t,e)=>{Wt.init(t,e),bw.init(t,e)}),cq=pe("ZodEmail",(t,e)=>{II.init(t,e),sn.init(t,e)}),g5=pe("ZodGUID",(t,e)=>{DI.init(t,e),sn.init(t,e)}),Au=pe("ZodUUID",(t,e)=>{PI.init(t,e),sn.init(t,e)}),hq=pe("ZodURL",(t,e)=>{RI.init(t,e),sn.init(t,e)}),uq=pe("ZodEmoji",(t,e)=>{_I.init(t,e),sn.init(t,e)}),dq=pe("ZodNanoID",(t,e)=>{qI.init(t,e),sn.init(t,e)}),fq=pe("ZodCUID",(t,e)=>{OI.init(t,e),sn.init(t,e)}),mq=pe("ZodCUID2",(t,e)=>{BI.init(t,e),sn.init(t,e)}),pq=pe("ZodULID",(t,e)=>{$I.init(t,e),sn.init(t,e)}),xq=pe("ZodXID",(t,e)=>{LI.init(t,e),sn.init(t,e)}),gq=pe("ZodKSUID",(t,e)=>{FI.init(t,e),sn.init(t,e)}),yq=pe("ZodIPv4",(t,e)=>{WI.init(t,e),sn.init(t,e)}),bq=pe("ZodIPv6",(t,e)=>{YI.init(t,e),sn.init(t,e)}),vq=pe("ZodCIDRv4",(t,e)=>{XI.init(t,e),sn.init(t,e)}),jq=pe("ZodCIDRv6",(t,e)=>{ZI.init(t,e),sn.init(t,e)}),wq=pe("ZodBase64",(t,e)=>{QI.init(t,e),sn.init(t,e)}),Tq=pe("ZodBase64URL",(t,e)=>{JI.init(t,e),sn.init(t,e)}),Sq=pe("ZodE164",(t,e)=>{eR.init(t,e),sn.init(t,e)}),Nq=pe("ZodJWT",(t,e)=>{nR.init(t,e),sn.init(t,e)}),vw=pe("ZodNumber",(t,e)=>{uw.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(s,r,a)=>j_(t,s,r),t.gt=(s,r)=>t.check(p5(s,r)),t.gte=(s,r)=>t.check(kp(s,r)),t.min=(s,r)=>t.check(kp(s,r)),t.lt=(s,r)=>t.check(m5(s,r)),t.lte=(s,r)=>t.check(Ap(s,r)),t.max=(s,r)=>t.check(Ap(s,r)),t.int=s=>t.check(y5(s)),t.safe=s=>t.check(y5(s)),t.positive=s=>t.check(p5(0,s)),t.nonnegative=s=>t.check(kp(0,s)),t.negative=s=>t.check(m5(0,s)),t.nonpositive=s=>t.check(Ap(0,s)),t.multipleOf=(s,r)=>t.check(x5(s,r)),t.step=(s,r)=>t.check(x5(s,r)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function Un(t){return KR(vw,t)}const Aq=pe("ZodNumberFormat",(t,e)=>{iR.init(t,e),vw.init(t,e)});function y5(t){return JR(Aq,t)}const kq=pe("ZodBoolean",(t,e)=>{sR.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>w_(t,n,s)});function Mq(t){return e_(kq,t)}const Eq=pe("ZodUnknown",(t,e)=>{rR.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>S_()});function qx(){return t_(Eq)}const Cq=pe("ZodNever",(t,e)=>{aR.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>T_(t,n,s)});function zq(t){return n_(Cq,t)}const Dq=pe("ZodArray",(t,e)=>{lR.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>M_(t,n,s,r),t.element=e.element,t.min=(n,s)=>t.check(cf(n,s)),t.nonempty=n=>t.check(cf(1,n)),t.max=(n,s)=>t.check(mw(n,s)),t.length=(n,s)=>t.check(pw(n,s)),t.unwrap=()=>t.element});function uc(t,e){return m_(Dq,t,e)}const Pq=pe("ZodObject",(t,e)=>{cR.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>E_(t,n,s,r),It(t,"shape",()=>e.shape),t.keyof=()=>Bx(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:qx()}),t.loose=()=>t.clone({...t._zod.def,catchall:qx()}),t.strict=()=>t.clone({...t._zod.def,catchall:zq()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>EP(t,n),t.safeExtend=n=>CP(t,n),t.merge=n=>zP(t,n),t.pick=n=>kP(t,n),t.omit=n=>MP(t,n),t.partial=(...n)=>DP(Tw,t,n[0]),t.required=(...n)=>PP(Sw,t,n[0])});function Is(t,e){const n={type:"object",shape:t??{},...He(e)};return new Pq(n)}const Iq=pe("ZodUnion",(t,e)=>{hR.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>C_(t,n,s,r),t.options=e.options});function jw(t,e){return new Iq({type:"union",options:t,...He(e)})}const Rq=pe("ZodIntersection",(t,e)=>{uR.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>z_(t,n,s,r)});function _q(t,e){return new Rq({type:"intersection",left:t,right:e})}const qq=pe("ZodRecord",(t,e)=>{dR.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>D_(t,n,s,r),t.keyType=e.keyType,t.valueType=e.valueType});function ww(t,e,n){return new qq({type:"record",keyType:t,valueType:e,...He(n)})}const Ox=pe("ZodEnum",(t,e)=>{fR.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(s,r,a)=>N_(t,s,r),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(s,r)=>{const a={};for(const l of s)if(n.has(l))a[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new Ox({...e,checks:[],...He(r),entries:a})},t.exclude=(s,r)=>{const a={...e.entries};for(const l of s)if(n.has(l))delete a[l];else throw new Error(`Key ${l} not found in enum`);return new Ox({...e,checks:[],...He(r),entries:a})}});function Bx(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(s=>[s,s])):t;return new Ox({type:"enum",entries:n,...He(e)})}const Oq=pe("ZodTransform",(t,e)=>{mR.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>k_(t,n),t._zod.parse=(n,s)=>{if(s.direction==="backward")throw new Zj(t.constructor.name);n.addIssue=a=>{if(typeof a=="string")n.issues.push(oh(a,n.value,e));else{const l=a;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=t),n.issues.push(oh(l))}};const r=e.transform(n.value,n);return r instanceof Promise?r.then(a=>(n.value=a,n)):(n.value=r,n)}});function Bq(t){return new Oq({type:"transform",transform:t})}const Tw=pe("ZodOptional",(t,e)=>{pR.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>$_(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function b5(t){return new Tw({type:"optional",innerType:t})}const $q=pe("ZodNullable",(t,e)=>{xR.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>P_(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function v5(t){return new $q({type:"nullable",innerType:t})}const Lq=pe("ZodDefault",(t,e)=>{gR.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>R_(t,n,s,r),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function Fq(t,e){return new Lq({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():ew(e)}})}const Uq=pe("ZodPrefault",(t,e)=>{yR.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>__(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function Hq(t,e){return new Uq({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():ew(e)}})}const Sw=pe("ZodNonOptional",(t,e)=>{bR.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>I_(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function Vq(t,e){return new Sw({type:"nonoptional",innerType:t,...He(e)})}const Gq=pe("ZodCatch",(t,e)=>{vR.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>q_(t,n,s,r),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function Wq(t,e){return new Gq({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const Yq=pe("ZodPipe",(t,e)=>{jR.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>O_(t,n,s,r),t.in=e.in,t.out=e.out});function j5(t,e){return new Yq({type:"pipe",in:t,out:e})}const Xq=pe("ZodReadonly",(t,e)=>{wR.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>B_(t,n,s,r),t.unwrap=()=>t._zod.def.innerType});function Zq(t){return new Xq({type:"readonly",innerType:t})}const Qq=pe("ZodCustom",(t,e)=>{TR.init(t,e),bn.init(t,e),t._zod.processJSONSchema=(n,s,r)=>A_(t,n)});function Kq(t,e={}){return p_(Qq,t,e)}function Jq(t){return x_(t)}tr("Validation");const w5=zn().min(1).max(100);zn().regex(/^[a-fA-F0-9]{64}$/);const Vg=zn().regex(/^npub1[1-9ac-hjk-np-z46-9]+$/),Nw=zn().min(1).max(50).regex(/^[a-zA-Z0-9\s\-\'\.]+$/);zn().regex(/^[a-zA-Z0-9\.\-_]+(@[a-zA-Z0-9\.\-_]+\.[a-zA-Z]{2,})?$/);Is({challenge:zn().min(10).max(200),expiresAt:Un().int().positive()});Is({kind:Un().int(),created_at:Un().int().nonnegative(),tags:uc(uc(zn())),content:zn()});Is({npub:Vg,displayName:Nw.nullable()});const Aw=Is({visitedAt:zn().nullable().optional(),completedAt:zn().nullable().optional(),quizAttempts:uc(Is({xpEarned:Un().int().min(0).optional(),score:Un().min(0).max(100).optional(),timestamp:zn().optional(),difficulty:Bx(["easy","medium","hard"]).optional(),correctAnswers:Un().int().min(0).optional(),totalQuestions:Un().int().min(1).optional()})).optional(),visualizationsInteracted:uc(zn().max(100)).optional(),masteryLevel:jw([Un().int().min(0).max(3),Bx(["none","learning","familiar","mastered"])]).nullable().optional(),sectionId:zn().optional(),timeSpentSeconds:Un().int().min(0).optional()});Is({user:Is({totalXP:Un().int().min(0),level:Un().int().min(1).max(10),sectionsCompleted:uc(w5)}),sections:ww(w5,Aw),dailyGoals:Is({lastResetDate:zn().nullable(),currentStreak:Un().int().min(0),xpEarned:Un().int().min(0),xpGoal:Un().int().min(0)}),lastUpdated:Un().int().nonnegative()});Is({success:Mq(),totalXP:Un().int().min(0)});Is({npub:Vg,displayName:Nw.nullable(),xp:Un().int().min(0),lastSync:zn()});Is({timestamp:zn(),action:zn(),targetNpub:Vg.nullable(),performedBy:zn(),details:ww(zn(),qx()).nullable()});function eO(t){const e=Aw.safeParse(t);return e.success?{valid:!0,data:e.data}:{valid:!1,error:"Invalid section data format"}}const Ni={SECTION_VISIT:10,SECTION_COMPLETE:25,QUIZ_EASY:15,QUIZ_MEDIUM:25,QUIZ_HARD:40,QUIZ_PERFECT_BONUS:.5,VISUALIZATION_USE:5,PART_COMPLETE_BONUS:50,STREAK_DAILY_BONUS:5,STREAK_BONUS_CAP:50},O0=[0,100,250,500,850,1300,1900,2650,3550,4600],kw=50,$x=tr("SyncManager"),tO="magic-internet-math-progress";function nO(){try{const t=localStorage.getItem(tO);if(!t)return null;const e=JSON.parse(t);if(!(e!=null&&e.user)||!(e!=null&&e.sections))return null;const n={ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,template:0,islr:0,ra:0,calc1:0,calc_lib_art:0,men_of_math:0,four_pillars:0};for(const[s,r]of Object.entries(e.sections)){const[a]=s.split(":");if(!vP(a))continue;const l=a,o=eO(r);if(!o.valid||!o.data){$x.warn(`Invalid section data for ${s}, skipping`);continue}const c=o.data;if(c.quizAttempts)for(const h of c.quizAttempts)h.xpEarned&&(n[l]+=h.xpEarned);c.visitedAt&&(n[l]+=Ni.SECTION_VISIT),c.completedAt&&(n[l]+=Ni.SECTION_COMPLETE),c.visualizationsInteracted&&(n[l]+=c.visualizationsInteracted.length*Ni.VISUALIZATION_USE)}return[{courseId:"ba",xp:n.ba},{courseId:"crypto",xp:n.crypto},{courseId:"aa",xp:n.aa},{courseId:"linalg",xp:n.linalg},{courseId:"advlinalg",xp:n.advlinalg},{courseId:"template",xp:n.template},{courseId:"islr",xp:n.islr},{courseId:"ra",xp:n.ra},{courseId:"calc1",xp:n.calc1},{courseId:"calc_lib_art",xp:n.calc_lib_art},{courseId:"men_of_math",xp:n.men_of_math},{courseId:"four_pillars",xp:n.four_pillars}]}catch(t){return $x.error("Error extracting scores from storage:",t),null}}class iO{constructor(){pr(this,"syncInterval",null);pr(this,"debounceTimeout",null);pr(this,"lastSyncTime",0);pr(this,"isAuthenticated",!1);pr(this,"displayName",null);pr(this,"handleVisibilityChange",()=>{document.visibilityState==="visible"&&this.isAuthenticated&&this.syncNow()})}setAuthenticated(e){this.isAuthenticated=e,e&&this.syncNow()}setDisplayName(e){this.displayName=e}startPeriodicSync(){this.syncInterval||(this.syncInterval=setInterval(()=>{this.isAuthenticated&&this.syncNow()},xP),typeof document<"u"&&document.addEventListener("visibilitychange",this.handleVisibilityChange))}stopPeriodicSync(){this.syncInterval&&(clearInterval(this.syncInterval),this.syncInterval=null),typeof document<"u"&&document.removeEventListener("visibilitychange",this.handleVisibilityChange)}requestSync(){this.isAuthenticated&&(this.debounceTimeout&&clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(()=>{this.syncNow()},gP))}async syncNow(){return this.isAuthenticated?{success:!1,error:"Firebase not configured"}:{success:!1,error:"Not authenticated"}}async syncWithRetry(e=3){for(let n=0;n<e;n++){const s=await this.syncNow();if(s.success||s.error==="Not authenticated"||s.error==="No scores to sync"||s.error==="Firebase not configured")return s;if(n<e-1){const r=1e3*Math.pow(2,n);$x.debug(`Sync retry ${n+1}/${e} in ${r}ms`),await new Promise(a=>setTimeout(a,r)),this.lastSyncTime=0}}return{success:!1,error:"Sync failed after multiple retries"}}getLocalScores(){const e=nO();return e?e.reduce((n,s)=>(n[s.courseId]=s.xp,n),{ba:0,crypto:0,aa:0,linalg:0,advlinalg:0,template:0,islr:0,ra:0,calc1:0,calc_lib_art:0,men_of_math:0,four_pillars:0}):null}}let Mp=null;function sO(){return Mp||(Mp=new iO),Mp}tr("NostrAuth");q.createContext(null);tr("ErrorContext");q.createContext(null);tr("ErrorBoundary");tr("AdminPanel");tr("Leaderboard");let es=class Mw{constructor(e,n,s){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=s}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new Mw(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}},Rs=class Ew{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Ew(n,es.range(this,e))}},Se=class Cw{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var s="KaTeX parse error: "+e,r,a,l=n&&n.loc;if(l&&l.start<=l.end){var o=l.lexer.input;r=l.start,a=l.end,r===o.length?s+=" at end of input: ":s+=" at position "+(r+1)+": ";var c=o.slice(r,a).replace(/[^]/g,"$&"),h;r>15?h=""+o.slice(r-15,r):h=o.slice(0,r);var u;a+15<o.length?u=o.slice(a,a+15)+"":u=o.slice(a),s+=h+c+u}var f=new Error(s);return f.name="ParseError",f.__proto__=Cw.prototype,f.position=r,r!=null&&a!=null&&(f.length=a-r),f.rawMessage=e,f}};Se.prototype.__proto__=Error.prototype;var rO=function(e,n){return e===void 0?n:e},aO=/([A-Z])/g,lO=function(e){return e.replace(aO,"-$1").toLowerCase()},oO={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},cO=/[&><"']/g;function hO(t){return String(t).replace(cO,e=>oO[e])}var zw=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},uO=function(e){var n=zw(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},dO=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},fO=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},xt={deflt:rO,escape:hO,hyphenate:lO,getBaseElem:zw,isCharacterBox:uO,protocolFromUrl:fO},md={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function mO(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}let Gg=class{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in md)if(md.hasOwnProperty(n)){var s=md[n];this[n]=e[n]!==void 0?s.processor?s.processor(e[n]):e[n]:mO(s)}}reportNonstrict(e,n,s){var r=this.strict;if(typeof r=="function"&&(r=r(e,n,s)),!(!r||r==="ignore")){if(r===!0||r==="error")throw new Se("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),s);r==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,s){var r=this.strict;if(typeof r=="function")try{r=r(e,n,s)}catch{r="error"}return!r||r==="ignore"?!1:r===!0||r==="error"?!0:r==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=xt.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var s=typeof this.trust=="function"?this.trust(e):this.trust;return!!s}},ca=class{constructor(e,n,s){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=s}sup(){return Bs[pO[this.id]]}sub(){return Bs[xO[this.id]]}fracNum(){return Bs[gO[this.id]]}fracDen(){return Bs[yO[this.id]]}cramp(){return Bs[bO[this.id]]}text(){return Bs[vO[this.id]]}isTight(){return this.size>=2}};var Wg=0,uf=1,Xo=2,Dr=3,ch=4,ls=5,dc=6,si=7,Bs=[new ca(Wg,0,!1),new ca(uf,0,!0),new ca(Xo,1,!1),new ca(Dr,1,!0),new ca(ch,2,!1),new ca(ls,2,!0),new ca(dc,3,!1),new ca(si,3,!0)],pO=[ch,ls,ch,ls,dc,si,dc,si],xO=[ls,ls,ls,ls,si,si,si,si],gO=[Xo,Dr,ch,ls,dc,si,dc,si],yO=[Dr,Dr,ls,ls,si,si,si,si],bO=[uf,uf,Dr,Dr,ls,ls,si,si],vO=[Wg,uf,Xo,Dr,Xo,Dr,Xo,Dr],We={DISPLAY:Bs[Wg],TEXT:Bs[Xo],SCRIPT:Bs[ch],SCRIPTSCRIPT:Bs[dc]},Lx=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function jO(t){for(var e=0;e<Lx.length;e++)for(var n=Lx[e],s=0;s<n.blocks.length;s++){var r=n.blocks[s];if(t>=r[0]&&t<=r[1])return n.name}return null}var pd=[];Lx.forEach(t=>t.blocks.forEach(e=>pd.push(...e)));function Dw(t){for(var e=0;e<pd.length;e+=2)if(t>=pd[e]&&t<=pd[e+1])return!0;return!1}var po=80,wO=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},TO=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},SO=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},NO=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},AO=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},kO=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},MO=function(e,n,s){var r=s-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+r+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},EO=function(e,n,s){n=1e3*n;var r="";switch(e){case"sqrtMain":r=wO(n,po);break;case"sqrtSize1":r=TO(n,po);break;case"sqrtSize2":r=SO(n,po);break;case"sqrtSize3":r=NO(n,po);break;case"sqrtSize4":r=AO(n,po);break;case"sqrtTall":r=MO(n,po,s)}return r},CO=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},T5={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},zO=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};let _h=class{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}};var Hs={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},ku={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},S5={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function DO(t,e){Hs[t]=e}function Yg(t,e,n){if(!Hs[e])throw new Error("Font metrics not found for font: "+e+".");var s=t.charCodeAt(0),r=Hs[e][s];if(!r&&t[0]in S5&&(s=S5[t[0]].charCodeAt(0),r=Hs[e][s]),!r&&n==="text"&&Dw(s)&&(r=Hs[e][77]),r)return{depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]}}var Ep={};function PO(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!Ep[e]){var n=Ep[e]={cssEmPerMu:ku.quad[e]/18};for(var s in ku)ku.hasOwnProperty(s)&&(n[s]=ku[s][e])}return Ep[e]}var IO=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],N5=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],A5=function(e,n){return n.size<2?e:IO[e-1][n.size-1]};let Pw=class Ml{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Ml.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=N5[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var s in e)e.hasOwnProperty(s)&&(n[s]=e[s]);return new Ml(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:A5(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:N5[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=A5(Ml.BASESIZE,e);return this.size===n&&this.textSize===Ml.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ml.BASESIZE?["sizing","reset-size"+this.size,"size"+Ml.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=PO(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}};Pw.BASESIZE=6;var Fx={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},RO={ex:!0,em:!0,mu:!0},Iw=function(e){return typeof e!="string"&&(e=e.unit),e in Fx||e in RO||e==="ex"},en=function(e,n){var s;if(e.unit in Fx)s=Fx[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")s=n.fontMetrics().cssEmPerMu;else{var r;if(n.style.isTight()?r=n.havingStyle(n.style.text()):r=n,e.unit==="ex")s=r.fontMetrics().xHeight;else if(e.unit==="em")s=r.fontMetrics().quad;else throw new Se("Invalid unit: '"+e.unit+"'");r!==n&&(s*=r.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*s,n.maxSize)},ke=function(e){return+e.toFixed(4)+"em"},Ga=function(e){return e.filter(n=>n).join(" ")},Rw=function(e,n,s){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=s||{},n){n.style.isTight()&&this.classes.push("mtight");var r=n.getColor();r&&(this.style.color=r)}},_w=function(e){var n=document.createElement(e);n.className=Ga(this.classes);for(var s in this.style)this.style.hasOwnProperty(s)&&(n.style[s]=this.style[s]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&n.setAttribute(r,this.attributes[r]);for(var a=0;a<this.children.length;a++)n.appendChild(this.children[a].toNode());return n},_O=/[\s"'>/=\x00-\x1f]/,qw=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+xt.escape(Ga(this.classes))+'"');var s="";for(var r in this.style)this.style.hasOwnProperty(r)&&(s+=xt.hyphenate(r)+":"+this.style[r]+";");s&&(n+=' style="'+xt.escape(s)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(_O.test(a))throw new Se("Invalid attribute name '"+a+"'");n+=" "+a+'="'+xt.escape(this.attributes[a])+'"'}n+=">";for(var l=0;l<this.children.length;l++)n+=this.children[l].toMarkup();return n+="</"+e+">",n};let qh=class{constructor(e,n,s,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Rw.call(this,e,s,r),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return _w.call(this,"span")}toMarkup(){return qw.call(this,"span")}},Xg=class{constructor(e,n,s,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Rw.call(this,n,r),this.children=s||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return _w.call(this,"a")}toMarkup(){return qw.call(this,"a")}},qO=class{constructor(e,n,s){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=s}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+xt.escape(this.src)+'"'+(' alt="'+xt.escape(this.alt)+'"'),n="";for(var s in this.style)this.style.hasOwnProperty(s)&&(n+=xt.hyphenate(s)+":"+this.style[s]+";");return n&&(e+=' style="'+xt.escape(n)+'"'),e+="'/>",e}};var OO={:"",:"",:"",:""};let ms=class{constructor(e,n,s,r,a,l,o,c){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=s||0,this.italic=r||0,this.skew=a||0,this.width=l||0,this.classes=o||[],this.style=c||{},this.maxFontSize=0;var h=jO(this.text.charCodeAt(0));h&&this.classes.push(h+"_fallback"),/[]/.test(this.text)&&(this.text=OO[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=ke(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Ga(this.classes));for(var s in this.style)this.style.hasOwnProperty(s)&&(n=n||document.createElement("span"),n.style[s]=this.style[s]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=xt.escape(Ga(this.classes)),n+='"');var s="";this.italic>0&&(s+="margin-right:"+this.italic+"em;");for(var r in this.style)this.style.hasOwnProperty(r)&&(s+=xt.hyphenate(r)+":"+this.style[r]+";");s&&(e=!0,n+=' style="'+xt.escape(s)+'"');var a=xt.escape(this.text);return e?(n+=">",n+=a,n+="</span>",n):a}},Fr=class{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var s in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,s)&&n.setAttribute(s,this.attributes[s]);for(var r=0;r<this.children.length;r++)n.appendChild(this.children[r].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+xt.escape(this.attributes[n])+'"');e+=">";for(var s=0;s<this.children.length;s++)e+=this.children[s].toMarkup();return e+="</svg>",e}},Wa=class{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",T5[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+xt.escape(this.alternate)+'"/>':'<path d="'+xt.escape(T5[this.pathName])+'"/>'}},Ux=class{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var s in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,s)&&n.setAttribute(s,this.attributes[s]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+xt.escape(this.attributes[n])+'"');return e+="/>",e}};function k5(t){if(t instanceof ms)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function BO(t){if(t instanceof qh)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var $O={bin:1,close:1,inner:1,open:1,punct:1,rel:1},LO={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Rt={math:{},text:{}};function C(t,e,n,s,r,a){Rt[t][r]={font:e,group:n,replace:s},a&&s&&(Rt[t][s]=Rt[t][r])}var R="math",ge="text",L="main",X="ams",Yt="accent-token",Pe="bin",hi="close",Nc="inner",Ve="mathord",Nn="op-token",Wi="open",rm="punct",Q="rel",Qr="spacing",ne="textord";C(R,L,Q,"","\\equiv",!0);C(R,L,Q,"","\\prec",!0);C(R,L,Q,"","\\succ",!0);C(R,L,Q,"","\\sim",!0);C(R,L,Q,"","\\perp");C(R,L,Q,"","\\preceq",!0);C(R,L,Q,"","\\succeq",!0);C(R,L,Q,"","\\simeq",!0);C(R,L,Q,"","\\mid",!0);C(R,L,Q,"","\\ll",!0);C(R,L,Q,"","\\gg",!0);C(R,L,Q,"","\\asymp",!0);C(R,L,Q,"","\\parallel");C(R,L,Q,"","\\bowtie",!0);C(R,L,Q,"","\\smile",!0);C(R,L,Q,"","\\sqsubseteq",!0);C(R,L,Q,"","\\sqsupseteq",!0);C(R,L,Q,"","\\doteq",!0);C(R,L,Q,"","\\frown",!0);C(R,L,Q,"","\\ni",!0);C(R,L,Q,"","\\propto",!0);C(R,L,Q,"","\\vdash",!0);C(R,L,Q,"","\\dashv",!0);C(R,L,Q,"","\\owns");C(R,L,rm,".","\\ldotp");C(R,L,rm,"","\\cdotp");C(R,L,ne,"#","\\#");C(ge,L,ne,"#","\\#");C(R,L,ne,"&","\\&");C(ge,L,ne,"&","\\&");C(R,L,ne,"","\\aleph",!0);C(R,L,ne,"","\\forall",!0);C(R,L,ne,"","\\hbar",!0);C(R,L,ne,"","\\exists",!0);C(R,L,ne,"","\\nabla",!0);C(R,L,ne,"","\\flat",!0);C(R,L,ne,"","\\ell",!0);C(R,L,ne,"","\\natural",!0);C(R,L,ne,"","\\clubsuit",!0);C(R,L,ne,"","\\wp",!0);C(R,L,ne,"","\\sharp",!0);C(R,L,ne,"","\\diamondsuit",!0);C(R,L,ne,"","\\Re",!0);C(R,L,ne,"","\\heartsuit",!0);C(R,L,ne,"","\\Im",!0);C(R,L,ne,"","\\spadesuit",!0);C(R,L,ne,"","\\S",!0);C(ge,L,ne,"","\\S");C(R,L,ne,"","\\P",!0);C(ge,L,ne,"","\\P");C(R,L,ne,"","\\dag");C(ge,L,ne,"","\\dag");C(ge,L,ne,"","\\textdagger");C(R,L,ne,"","\\ddag");C(ge,L,ne,"","\\ddag");C(ge,L,ne,"","\\textdaggerdbl");C(R,L,hi,"","\\rmoustache",!0);C(R,L,Wi,"","\\lmoustache",!0);C(R,L,hi,"","\\rgroup",!0);C(R,L,Wi,"","\\lgroup",!0);C(R,L,Pe,"","\\mp",!0);C(R,L,Pe,"","\\ominus",!0);C(R,L,Pe,"","\\uplus",!0);C(R,L,Pe,"","\\sqcap",!0);C(R,L,Pe,"","\\ast");C(R,L,Pe,"","\\sqcup",!0);C(R,L,Pe,"","\\bigcirc",!0);C(R,L,Pe,"","\\bullet",!0);C(R,L,Pe,"","\\ddagger");C(R,L,Pe,"","\\wr",!0);C(R,L,Pe,"","\\amalg");C(R,L,Pe,"&","\\And");C(R,L,Q,"","\\longleftarrow",!0);C(R,L,Q,"","\\Leftarrow",!0);C(R,L,Q,"","\\Longleftarrow",!0);C(R,L,Q,"","\\longrightarrow",!0);C(R,L,Q,"","\\Rightarrow",!0);C(R,L,Q,"","\\Longrightarrow",!0);C(R,L,Q,"","\\leftrightarrow",!0);C(R,L,Q,"","\\longleftrightarrow",!0);C(R,L,Q,"","\\Leftrightarrow",!0);C(R,L,Q,"","\\Longleftrightarrow",!0);C(R,L,Q,"","\\mapsto",!0);C(R,L,Q,"","\\longmapsto",!0);C(R,L,Q,"","\\nearrow",!0);C(R,L,Q,"","\\hookleftarrow",!0);C(R,L,Q,"","\\hookrightarrow",!0);C(R,L,Q,"","\\searrow",!0);C(R,L,Q,"","\\leftharpoonup",!0);C(R,L,Q,"","\\rightharpoonup",!0);C(R,L,Q,"","\\swarrow",!0);C(R,L,Q,"","\\leftharpoondown",!0);C(R,L,Q,"","\\rightharpoondown",!0);C(R,L,Q,"","\\nwarrow",!0);C(R,L,Q,"","\\rightleftharpoons",!0);C(R,X,Q,"","\\nless",!0);C(R,X,Q,"","\\@nleqslant");C(R,X,Q,"","\\@nleqq");C(R,X,Q,"","\\lneq",!0);C(R,X,Q,"","\\lneqq",!0);C(R,X,Q,"","\\@lvertneqq");C(R,X,Q,"","\\lnsim",!0);C(R,X,Q,"","\\lnapprox",!0);C(R,X,Q,"","\\nprec",!0);C(R,X,Q,"","\\npreceq",!0);C(R,X,Q,"","\\precnsim",!0);C(R,X,Q,"","\\precnapprox",!0);C(R,X,Q,"","\\nsim",!0);C(R,X,Q,"","\\@nshortmid");C(R,X,Q,"","\\nmid",!0);C(R,X,Q,"","\\nvdash",!0);C(R,X,Q,"","\\nvDash",!0);C(R,X,Q,"","\\ntriangleleft");C(R,X,Q,"","\\ntrianglelefteq",!0);C(R,X,Q,"","\\subsetneq",!0);C(R,X,Q,"","\\@varsubsetneq");C(R,X,Q,"","\\subsetneqq",!0);C(R,X,Q,"","\\@varsubsetneqq");C(R,X,Q,"","\\ngtr",!0);C(R,X,Q,"","\\@ngeqslant");C(R,X,Q,"","\\@ngeqq");C(R,X,Q,"","\\gneq",!0);C(R,X,Q,"","\\gneqq",!0);C(R,X,Q,"","\\@gvertneqq");C(R,X,Q,"","\\gnsim",!0);C(R,X,Q,"","\\gnapprox",!0);C(R,X,Q,"","\\nsucc",!0);C(R,X,Q,"","\\nsucceq",!0);C(R,X,Q,"","\\succnsim",!0);C(R,X,Q,"","\\succnapprox",!0);C(R,X,Q,"","\\ncong",!0);C(R,X,Q,"","\\@nshortparallel");C(R,X,Q,"","\\nparallel",!0);C(R,X,Q,"","\\nVDash",!0);C(R,X,Q,"","\\ntriangleright");C(R,X,Q,"","\\ntrianglerighteq",!0);C(R,X,Q,"","\\@nsupseteqq");C(R,X,Q,"","\\supsetneq",!0);C(R,X,Q,"","\\@varsupsetneq");C(R,X,Q,"","\\supsetneqq",!0);C(R,X,Q,"","\\@varsupsetneqq");C(R,X,Q,"","\\nVdash",!0);C(R,X,Q,"","\\precneqq",!0);C(R,X,Q,"","\\succneqq",!0);C(R,X,Q,"","\\@nsubseteqq");C(R,X,Pe,"","\\unlhd");C(R,X,Pe,"","\\unrhd");C(R,X,Q,"","\\nleftarrow",!0);C(R,X,Q,"","\\nrightarrow",!0);C(R,X,Q,"","\\nLeftarrow",!0);C(R,X,Q,"","\\nRightarrow",!0);C(R,X,Q,"","\\nleftrightarrow",!0);C(R,X,Q,"","\\nLeftrightarrow",!0);C(R,X,Q,"","\\vartriangle");C(R,X,ne,"","\\hslash");C(R,X,ne,"","\\triangledown");C(R,X,ne,"","\\lozenge");C(R,X,ne,"","\\circledS");C(R,X,ne,"","\\circledR");C(ge,X,ne,"","\\circledR");C(R,X,ne,"","\\measuredangle",!0);C(R,X,ne,"","\\nexists");C(R,X,ne,"","\\mho");C(R,X,ne,"","\\Finv",!0);C(R,X,ne,"","\\Game",!0);C(R,X,ne,"","\\backprime");C(R,X,ne,"","\\blacktriangle");C(R,X,ne,"","\\blacktriangledown");C(R,X,ne,"","\\blacksquare");C(R,X,ne,"","\\blacklozenge");C(R,X,ne,"","\\bigstar");C(R,X,ne,"","\\sphericalangle",!0);C(R,X,ne,"","\\complement",!0);C(R,X,ne,"","\\eth",!0);C(ge,L,ne,"","");C(R,X,ne,"","\\diagup");C(R,X,ne,"","\\diagdown");C(R,X,ne,"","\\square");C(R,X,ne,"","\\Box");C(R,X,ne,"","\\Diamond");C(R,X,ne,"","\\yen",!0);C(ge,X,ne,"","\\yen",!0);C(R,X,ne,"","\\checkmark",!0);C(ge,X,ne,"","\\checkmark");C(R,X,ne,"","\\beth",!0);C(R,X,ne,"","\\daleth",!0);C(R,X,ne,"","\\gimel",!0);C(R,X,ne,"","\\digamma",!0);C(R,X,ne,"","\\varkappa");C(R,X,Wi,"","\\@ulcorner",!0);C(R,X,hi,"","\\@urcorner",!0);C(R,X,Wi,"","\\@llcorner",!0);C(R,X,hi,"","\\@lrcorner",!0);C(R,X,Q,"","\\leqq",!0);C(R,X,Q,"","\\leqslant",!0);C(R,X,Q,"","\\eqslantless",!0);C(R,X,Q,"","\\lesssim",!0);C(R,X,Q,"","\\lessapprox",!0);C(R,X,Q,"","\\approxeq",!0);C(R,X,Pe,"","\\lessdot");C(R,X,Q,"","\\lll",!0);C(R,X,Q,"","\\lessgtr",!0);C(R,X,Q,"","\\lesseqgtr",!0);C(R,X,Q,"","\\lesseqqgtr",!0);C(R,X,Q,"","\\doteqdot");C(R,X,Q,"","\\risingdotseq",!0);C(R,X,Q,"","\\fallingdotseq",!0);C(R,X,Q,"","\\backsim",!0);C(R,X,Q,"","\\backsimeq",!0);C(R,X,Q,"","\\subseteqq",!0);C(R,X,Q,"","\\Subset",!0);C(R,X,Q,"","\\sqsubset",!0);C(R,X,Q,"","\\preccurlyeq",!0);C(R,X,Q,"","\\curlyeqprec",!0);C(R,X,Q,"","\\precsim",!0);C(R,X,Q,"","\\precapprox",!0);C(R,X,Q,"","\\vartriangleleft");C(R,X,Q,"","\\trianglelefteq");C(R,X,Q,"","\\vDash",!0);C(R,X,Q,"","\\Vvdash",!0);C(R,X,Q,"","\\smallsmile");C(R,X,Q,"","\\smallfrown");C(R,X,Q,"","\\bumpeq",!0);C(R,X,Q,"","\\Bumpeq",!0);C(R,X,Q,"","\\geqq",!0);C(R,X,Q,"","\\geqslant",!0);C(R,X,Q,"","\\eqslantgtr",!0);C(R,X,Q,"","\\gtrsim",!0);C(R,X,Q,"","\\gtrapprox",!0);C(R,X,Pe,"","\\gtrdot");C(R,X,Q,"","\\ggg",!0);C(R,X,Q,"","\\gtrless",!0);C(R,X,Q,"","\\gtreqless",!0);C(R,X,Q,"","\\gtreqqless",!0);C(R,X,Q,"","\\eqcirc",!0);C(R,X,Q,"","\\circeq",!0);C(R,X,Q,"","\\triangleq",!0);C(R,X,Q,"","\\thicksim");C(R,X,Q,"","\\thickapprox");C(R,X,Q,"","\\supseteqq",!0);C(R,X,Q,"","\\Supset",!0);C(R,X,Q,"","\\sqsupset",!0);C(R,X,Q,"","\\succcurlyeq",!0);C(R,X,Q,"","\\curlyeqsucc",!0);C(R,X,Q,"","\\succsim",!0);C(R,X,Q,"","\\succapprox",!0);C(R,X,Q,"","\\vartriangleright");C(R,X,Q,"","\\trianglerighteq");C(R,X,Q,"","\\Vdash",!0);C(R,X,Q,"","\\shortmid");C(R,X,Q,"","\\shortparallel");C(R,X,Q,"","\\between",!0);C(R,X,Q,"","\\pitchfork",!0);C(R,X,Q,"","\\varpropto");C(R,X,Q,"","\\blacktriangleleft");C(R,X,Q,"","\\therefore",!0);C(R,X,Q,"","\\backepsilon");C(R,X,Q,"","\\blacktriangleright");C(R,X,Q,"","\\because",!0);C(R,X,Q,"","\\llless");C(R,X,Q,"","\\gggtr");C(R,X,Pe,"","\\lhd");C(R,X,Pe,"","\\rhd");C(R,X,Q,"","\\eqsim",!0);C(R,L,Q,"","\\Join");C(R,X,Q,"","\\Doteq",!0);C(R,X,Pe,"","\\dotplus",!0);C(R,X,Pe,"","\\smallsetminus");C(R,X,Pe,"","\\Cap",!0);C(R,X,Pe,"","\\Cup",!0);C(R,X,Pe,"","\\doublebarwedge",!0);C(R,X,Pe,"","\\boxminus",!0);C(R,X,Pe,"","\\boxplus",!0);C(R,X,Pe,"","\\divideontimes",!0);C(R,X,Pe,"","\\ltimes",!0);C(R,X,Pe,"","\\rtimes",!0);C(R,X,Pe,"","\\leftthreetimes",!0);C(R,X,Pe,"","\\rightthreetimes",!0);C(R,X,Pe,"","\\curlywedge",!0);C(R,X,Pe,"","\\curlyvee",!0);C(R,X,Pe,"","\\circleddash",!0);C(R,X,Pe,"","\\circledast",!0);C(R,X,Pe,"","\\centerdot");C(R,X,Pe,"","\\intercal",!0);C(R,X,Pe,"","\\doublecap");C(R,X,Pe,"","\\doublecup");C(R,X,Pe,"","\\boxtimes",!0);C(R,X,Q,"","\\dashrightarrow",!0);C(R,X,Q,"","\\dashleftarrow",!0);C(R,X,Q,"","\\leftleftarrows",!0);C(R,X,Q,"","\\leftrightarrows",!0);C(R,X,Q,"","\\Lleftarrow",!0);C(R,X,Q,"","\\twoheadleftarrow",!0);C(R,X,Q,"","\\leftarrowtail",!0);C(R,X,Q,"","\\looparrowleft",!0);C(R,X,Q,"","\\leftrightharpoons",!0);C(R,X,Q,"","\\curvearrowleft",!0);C(R,X,Q,"","\\circlearrowleft",!0);C(R,X,Q,"","\\Lsh",!0);C(R,X,Q,"","\\upuparrows",!0);C(R,X,Q,"","\\upharpoonleft",!0);C(R,X,Q,"","\\downharpoonleft",!0);C(R,L,Q,"","\\origof",!0);C(R,L,Q,"","\\imageof",!0);C(R,X,Q,"","\\multimap",!0);C(R,X,Q,"","\\leftrightsquigarrow",!0);C(R,X,Q,"","\\rightrightarrows",!0);C(R,X,Q,"","\\rightleftarrows",!0);C(R,X,Q,"","\\twoheadrightarrow",!0);C(R,X,Q,"","\\rightarrowtail",!0);C(R,X,Q,"","\\looparrowright",!0);C(R,X,Q,"","\\curvearrowright",!0);C(R,X,Q,"","\\circlearrowright",!0);C(R,X,Q,"","\\Rsh",!0);C(R,X,Q,"","\\downdownarrows",!0);C(R,X,Q,"","\\upharpoonright",!0);C(R,X,Q,"","\\downharpoonright",!0);C(R,X,Q,"","\\rightsquigarrow",!0);C(R,X,Q,"","\\leadsto");C(R,X,Q,"","\\Rrightarrow",!0);C(R,X,Q,"","\\restriction");C(R,L,ne,"","`");C(R,L,ne,"$","\\$");C(ge,L,ne,"$","\\$");C(ge,L,ne,"$","\\textdollar");C(R,L,ne,"%","\\%");C(ge,L,ne,"%","\\%");C(R,L,ne,"_","\\_");C(ge,L,ne,"_","\\_");C(ge,L,ne,"_","\\textunderscore");C(R,L,ne,"","\\angle",!0);C(R,L,ne,"","\\infty",!0);C(R,L,ne,"","\\prime");C(R,L,ne,"","\\triangle");C(R,L,ne,"","\\Gamma",!0);C(R,L,ne,"","\\Delta",!0);C(R,L,ne,"","\\Theta",!0);C(R,L,ne,"","\\Lambda",!0);C(R,L,ne,"","\\Xi",!0);C(R,L,ne,"","\\Pi",!0);C(R,L,ne,"","\\Sigma",!0);C(R,L,ne,"","\\Upsilon",!0);C(R,L,ne,"","\\Phi",!0);C(R,L,ne,"","\\Psi",!0);C(R,L,ne,"","\\Omega",!0);C(R,L,ne,"A","");C(R,L,ne,"B","");C(R,L,ne,"E","");C(R,L,ne,"Z","");C(R,L,ne,"H","");C(R,L,ne,"I","");C(R,L,ne,"K","");C(R,L,ne,"M","");C(R,L,ne,"N","");C(R,L,ne,"O","");C(R,L,ne,"P","");C(R,L,ne,"T","");C(R,L,ne,"X","");C(R,L,ne,"","\\neg",!0);C(R,L,ne,"","\\lnot");C(R,L,ne,"","\\top");C(R,L,ne,"","\\bot");C(R,L,ne,"","\\emptyset");C(R,X,ne,"","\\varnothing");C(R,L,Ve,"","\\alpha",!0);C(R,L,Ve,"","\\beta",!0);C(R,L,Ve,"","\\gamma",!0);C(R,L,Ve,"","\\delta",!0);C(R,L,Ve,"","\\epsilon",!0);C(R,L,Ve,"","\\zeta",!0);C(R,L,Ve,"","\\eta",!0);C(R,L,Ve,"","\\theta",!0);C(R,L,Ve,"","\\iota",!0);C(R,L,Ve,"","\\kappa",!0);C(R,L,Ve,"","\\lambda",!0);C(R,L,Ve,"","\\mu",!0);C(R,L,Ve,"","\\nu",!0);C(R,L,Ve,"","\\xi",!0);C(R,L,Ve,"","\\omicron",!0);C(R,L,Ve,"","\\pi",!0);C(R,L,Ve,"","\\rho",!0);C(R,L,Ve,"","\\sigma",!0);C(R,L,Ve,"","\\tau",!0);C(R,L,Ve,"","\\upsilon",!0);C(R,L,Ve,"","\\phi",!0);C(R,L,Ve,"","\\chi",!0);C(R,L,Ve,"","\\psi",!0);C(R,L,Ve,"","\\omega",!0);C(R,L,Ve,"","\\varepsilon",!0);C(R,L,Ve,"","\\vartheta",!0);C(R,L,Ve,"","\\varpi",!0);C(R,L,Ve,"","\\varrho",!0);C(R,L,Ve,"","\\varsigma",!0);C(R,L,Ve,"","\\varphi",!0);C(R,L,Pe,"","*",!0);C(R,L,Pe,"+","+");C(R,L,Pe,"","-",!0);C(R,L,Pe,"","\\cdot",!0);C(R,L,Pe,"","\\circ",!0);C(R,L,Pe,"","\\div",!0);C(R,L,Pe,"","\\pm",!0);C(R,L,Pe,"","\\times",!0);C(R,L,Pe,"","\\cap",!0);C(R,L,Pe,"","\\cup",!0);C(R,L,Pe,"","\\setminus",!0);C(R,L,Pe,"","\\land");C(R,L,Pe,"","\\lor");C(R,L,Pe,"","\\wedge",!0);C(R,L,Pe,"","\\vee",!0);C(R,L,ne,"","\\surd");C(R,L,Wi,"","\\langle",!0);C(R,L,Wi,"","\\lvert");C(R,L,Wi,"","\\lVert");C(R,L,hi,"?","?");C(R,L,hi,"!","!");C(R,L,hi,"","\\rangle",!0);C(R,L,hi,"","\\rvert");C(R,L,hi,"","\\rVert");C(R,L,Q,"=","=");C(R,L,Q,":",":");C(R,L,Q,"","\\approx",!0);C(R,L,Q,"","\\cong",!0);C(R,L,Q,"","\\ge");C(R,L,Q,"","\\geq",!0);C(R,L,Q,"","\\gets");C(R,L,Q,">","\\gt",!0);C(R,L,Q,"","\\in",!0);C(R,L,Q,"","\\@not");C(R,L,Q,"","\\subset",!0);C(R,L,Q,"","\\supset",!0);C(R,L,Q,"","\\subseteq",!0);C(R,L,Q,"","\\supseteq",!0);C(R,X,Q,"","\\nsubseteq",!0);C(R,X,Q,"","\\nsupseteq",!0);C(R,L,Q,"","\\models");C(R,L,Q,"","\\leftarrow",!0);C(R,L,Q,"","\\le");C(R,L,Q,"","\\leq",!0);C(R,L,Q,"<","\\lt",!0);C(R,L,Q,"","\\rightarrow",!0);C(R,L,Q,"","\\to");C(R,X,Q,"","\\ngeq",!0);C(R,X,Q,"","\\nleq",!0);C(R,L,Qr,"","\\ ");C(R,L,Qr,"","\\space");C(R,L,Qr,"","\\nobreakspace");C(ge,L,Qr,"","\\ ");C(ge,L,Qr,""," ");C(ge,L,Qr,"","\\space");C(ge,L,Qr,"","\\nobreakspace");C(R,L,Qr,null,"\\nobreak");C(R,L,Qr,null,"\\allowbreak");C(R,L,rm,",",",");C(R,L,rm,";",";");C(R,X,Pe,"","\\barwedge",!0);C(R,X,Pe,"","\\veebar",!0);C(R,L,Pe,"","\\odot",!0);C(R,L,Pe,"","\\oplus",!0);C(R,L,Pe,"","\\otimes",!0);C(R,L,ne,"","\\partial",!0);C(R,L,Pe,"","\\oslash",!0);C(R,X,Pe,"","\\circledcirc",!0);C(R,X,Pe,"","\\boxdot",!0);C(R,L,Pe,"","\\bigtriangleup");C(R,L,Pe,"","\\bigtriangledown");C(R,L,Pe,"","\\dagger");C(R,L,Pe,"","\\diamond");C(R,L,Pe,"","\\star");C(R,L,Pe,"","\\triangleleft");C(R,L,Pe,"","\\triangleright");C(R,L,Wi,"{","\\{");C(ge,L,ne,"{","\\{");C(ge,L,ne,"{","\\textbraceleft");C(R,L,hi,"}","\\}");C(ge,L,ne,"}","\\}");C(ge,L,ne,"}","\\textbraceright");C(R,L,Wi,"{","\\lbrace");C(R,L,hi,"}","\\rbrace");C(R,L,Wi,"[","\\lbrack",!0);C(ge,L,ne,"[","\\lbrack",!0);C(R,L,hi,"]","\\rbrack",!0);C(ge,L,ne,"]","\\rbrack",!0);C(R,L,Wi,"(","\\lparen",!0);C(R,L,hi,")","\\rparen",!0);C(ge,L,ne,"<","\\textless",!0);C(ge,L,ne,">","\\textgreater",!0);C(R,L,Wi,"","\\lfloor",!0);C(R,L,hi,"","\\rfloor",!0);C(R,L,Wi,"","\\lceil",!0);C(R,L,hi,"","\\rceil",!0);C(R,L,ne,"\\","\\backslash");C(R,L,ne,"","|");C(R,L,ne,"","\\vert");C(ge,L,ne,"|","\\textbar",!0);C(R,L,ne,"","\\|");C(R,L,ne,"","\\Vert");C(ge,L,ne,"","\\textbardbl");C(ge,L,ne,"~","\\textasciitilde");C(ge,L,ne,"\\","\\textbackslash");C(ge,L,ne,"^","\\textasciicircum");C(R,L,Q,"","\\uparrow",!0);C(R,L,Q,"","\\Uparrow",!0);C(R,L,Q,"","\\downarrow",!0);C(R,L,Q,"","\\Downarrow",!0);C(R,L,Q,"","\\updownarrow",!0);C(R,L,Q,"","\\Updownarrow",!0);C(R,L,Nn,"","\\coprod");C(R,L,Nn,"","\\bigvee");C(R,L,Nn,"","\\bigwedge");C(R,L,Nn,"","\\biguplus");C(R,L,Nn,"","\\bigcap");C(R,L,Nn,"","\\bigcup");C(R,L,Nn,"","\\int");C(R,L,Nn,"","\\intop");C(R,L,Nn,"","\\iint");C(R,L,Nn,"","\\iiint");C(R,L,Nn,"","\\prod");C(R,L,Nn,"","\\sum");C(R,L,Nn,"","\\bigotimes");C(R,L,Nn,"","\\bigoplus");C(R,L,Nn,"","\\bigodot");C(R,L,Nn,"","\\oint");C(R,L,Nn,"","\\oiint");C(R,L,Nn,"","\\oiiint");C(R,L,Nn,"","\\bigsqcup");C(R,L,Nn,"","\\smallint");C(ge,L,Nc,"","\\textellipsis");C(R,L,Nc,"","\\mathellipsis");C(ge,L,Nc,"","\\ldots",!0);C(R,L,Nc,"","\\ldots",!0);C(R,L,Nc,"","\\@cdots",!0);C(R,L,Nc,"","\\ddots",!0);C(R,L,ne,"","\\varvdots");C(ge,L,ne,"","\\varvdots");C(R,L,Yt,"","\\acute");C(R,L,Yt,"","\\grave");C(R,L,Yt,"","\\ddot");C(R,L,Yt,"~","\\tilde");C(R,L,Yt,"","\\bar");C(R,L,Yt,"","\\breve");C(R,L,Yt,"","\\check");C(R,L,Yt,"^","\\hat");C(R,L,Yt,"","\\vec");C(R,L,Yt,"","\\dot");C(R,L,Yt,"","\\mathring");C(R,L,Ve,"","\\@imath");C(R,L,Ve,"","\\@jmath");C(R,L,ne,"","");C(R,L,ne,"","");C(ge,L,ne,"","\\i",!0);C(ge,L,ne,"","\\j",!0);C(ge,L,ne,"","\\ss",!0);C(ge,L,ne,"","\\ae",!0);C(ge,L,ne,"","\\oe",!0);C(ge,L,ne,"","\\o",!0);C(ge,L,ne,"","\\AE",!0);C(ge,L,ne,"","\\OE",!0);C(ge,L,ne,"","\\O",!0);C(ge,L,Yt,"","\\'");C(ge,L,Yt,"","\\`");C(ge,L,Yt,"","\\^");C(ge,L,Yt,"","\\~");C(ge,L,Yt,"","\\=");C(ge,L,Yt,"","\\u");C(ge,L,Yt,"","\\.");C(ge,L,Yt,"","\\c");C(ge,L,Yt,"","\\r");C(ge,L,Yt,"","\\v");C(ge,L,Yt,"",'\\"');C(ge,L,Yt,"","\\H");C(ge,L,Yt,"","\\textcircled");var Ow={"--":!0,"---":!0,"``":!0,"''":!0};C(ge,L,ne,"","--",!0);C(ge,L,ne,"","\\textendash");C(ge,L,ne,"","---",!0);C(ge,L,ne,"","\\textemdash");C(ge,L,ne,"","`",!0);C(ge,L,ne,"","\\textquoteleft");C(ge,L,ne,"","'",!0);C(ge,L,ne,"","\\textquoteright");C(ge,L,ne,"","``",!0);C(ge,L,ne,"","\\textquotedblleft");C(ge,L,ne,"","''",!0);C(ge,L,ne,"","\\textquotedblright");C(R,L,ne,"","\\degree",!0);C(ge,L,ne,"","\\degree");C(ge,L,ne,"","\\textdegree",!0);C(R,L,ne,"","\\pounds");C(R,L,ne,"","\\mathsterling",!0);C(ge,L,ne,"","\\pounds");C(ge,L,ne,"","\\textsterling",!0);C(R,X,ne,"","\\maltese");C(ge,X,ne,"","\\maltese");var M5='0123456789/@."';for(var Cp=0;Cp<M5.length;Cp++){var E5=M5.charAt(Cp);C(R,L,ne,E5,E5)}var C5='0123456789!@*()-=+";:?/.,';for(var zp=0;zp<C5.length;zp++){var z5=C5.charAt(zp);C(ge,L,ne,z5,z5)}var df="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Dp=0;Dp<df.length;Dp++){var Mu=df.charAt(Dp);C(R,L,Ve,Mu,Mu),C(ge,L,ne,Mu,Mu)}C(R,X,ne,"C","");C(ge,X,ne,"C","");C(R,X,ne,"H","");C(ge,X,ne,"H","");C(R,X,ne,"N","");C(ge,X,ne,"N","");C(R,X,ne,"P","");C(ge,X,ne,"P","");C(R,X,ne,"Q","");C(ge,X,ne,"Q","");C(R,X,ne,"R","");C(ge,X,ne,"R","");C(R,X,ne,"Z","");C(ge,X,ne,"Z","");C(R,L,Ve,"h","");C(ge,L,Ve,"h","");var Ze="";for(var Kn=0;Kn<df.length;Kn++){var rn=df.charAt(Kn);Ze=String.fromCharCode(55349,56320+Kn),C(R,L,Ve,rn,Ze),C(ge,L,ne,rn,Ze),Ze=String.fromCharCode(55349,56372+Kn),C(R,L,Ve,rn,Ze),C(ge,L,ne,rn,Ze),Ze=String.fromCharCode(55349,56424+Kn),C(R,L,Ve,rn,Ze),C(ge,L,ne,rn,Ze),Ze=String.fromCharCode(55349,56580+Kn),C(R,L,Ve,rn,Ze),C(ge,L,ne,rn,Ze),Ze=String.fromCharCode(55349,56684+Kn),C(R,L,Ve,rn,Ze),C(ge,L,ne,rn,Ze),Ze=String.fromCharCode(55349,56736+Kn),C(R,L,Ve,rn,Ze),C(ge,L,ne,rn,Ze),Ze=String.fromCharCode(55349,56788+Kn),C(R,L,Ve,rn,Ze),C(ge,L,ne,rn,Ze),Ze=String.fromCharCode(55349,56840+Kn),C(R,L,Ve,rn,Ze),C(ge,L,ne,rn,Ze),Ze=String.fromCharCode(55349,56944+Kn),C(R,L,Ve,rn,Ze),C(ge,L,ne,rn,Ze),Kn<26&&(Ze=String.fromCharCode(55349,56632+Kn),C(R,L,Ve,rn,Ze),C(ge,L,ne,rn,Ze),Ze=String.fromCharCode(55349,56476+Kn),C(R,L,Ve,rn,Ze),C(ge,L,ne,rn,Ze))}Ze="";C(R,L,Ve,"k",Ze);C(ge,L,ne,"k",Ze);for(var yl=0;yl<10;yl++){var ha=yl.toString();Ze=String.fromCharCode(55349,57294+yl),C(R,L,Ve,ha,Ze),C(ge,L,ne,ha,Ze),Ze=String.fromCharCode(55349,57314+yl),C(R,L,Ve,ha,Ze),C(ge,L,ne,ha,Ze),Ze=String.fromCharCode(55349,57324+yl),C(R,L,Ve,ha,Ze),C(ge,L,ne,ha,Ze),Ze=String.fromCharCode(55349,57334+yl),C(R,L,Ve,ha,Ze),C(ge,L,ne,ha,Ze)}var Hx="";for(var Pp=0;Pp<Hx.length;Pp++){var Eu=Hx.charAt(Pp);C(R,L,Ve,Eu,Eu),C(ge,L,ne,Eu,Eu)}var Cu=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],D5=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],FO=function(e,n){var s=e.charCodeAt(0),r=e.charCodeAt(1),a=(s-55296)*1024+(r-56320)+65536,l=n==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[Cu[o][2],Cu[o][l]]}else if(120782<=a&&a<=120831){var c=Math.floor((a-120782)/10);return[D5[c][2],D5[c][l]]}else{if(a===120485||a===120486)return[Cu[0][2],Cu[0][l]];if(120486<a&&a<120782)return["",""];throw new Se("Unsupported character: "+e)}},am=function(e,n,s){return Rt[s][e]&&Rt[s][e].replace&&(e=Rt[s][e].replace),{value:e,metrics:Yg(e,n,s)}},Ms=function(e,n,s,r,a){var l=am(e,n,s),o=l.metrics;e=l.value;var c;if(o){var h=o.italic;(s==="text"||r&&r.font==="mathit")&&(h=0),c=new ms(e,o.height,o.depth,h,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+s+"'")),c=new ms(e,0,0,0,0,0,a);if(r){c.maxFontSize=r.sizeMultiplier,r.style.isTight()&&c.classes.push("mtight");var u=r.getColor();u&&(c.style.color=u)}return c},UO=function(e,n,s,r){return r===void 0&&(r=[]),s.font==="boldsymbol"&&am(e,"Main-Bold",n).metrics?Ms(e,"Main-Bold",n,s,r.concat(["mathbf"])):e==="\\"||Rt[n][e].font==="main"?Ms(e,"Main-Regular",n,s,r):Ms(e,"AMS-Regular",n,s,r.concat(["amsrm"]))},HO=function(e,n,s,r,a){return a!=="textord"&&am(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},VO=function(e,n,s){var r=e.mode,a=e.text,l=["mord"],o=r==="math"||r==="text"&&n.font,c=o?n.font:n.fontFamily,h="",u="";if(a.charCodeAt(0)===55349&&([h,u]=FO(a,r)),h.length>0)return Ms(a,h,r,n,l.concat(u));if(c){var f,x;if(c==="boldsymbol"){var b=HO(a,r,n,l,s);f=b.fontName,x=[b.fontClass]}else o?(f=Lw[c].fontName,x=[c]):(f=zu(c,n.fontWeight,n.fontShape),x=[c,n.fontWeight,n.fontShape]);if(am(a,f,r).metrics)return Ms(a,f,r,n,l.concat(x));if(Ow.hasOwnProperty(a)&&f.slice(0,10)==="Typewriter"){for(var M=[],y=0;y<a.length;y++)M.push(Ms(a[y],f,r,n,l.concat(x)));return $w(M)}}if(s==="mathord")return Ms(a,"Math-Italic",r,n,l.concat(["mathnormal"]));if(s==="textord"){var T=Rt[r][a]&&Rt[r][a].font;if(T==="ams"){var S=zu("amsrm",n.fontWeight,n.fontShape);return Ms(a,S,r,n,l.concat("amsrm",n.fontWeight,n.fontShape))}else if(T==="main"||!T){var N=zu("textrm",n.fontWeight,n.fontShape);return Ms(a,N,r,n,l.concat(n.fontWeight,n.fontShape))}else{var j=zu(T,n.fontWeight,n.fontShape);return Ms(a,j,r,n,l.concat(j,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+s+" in makeOrd")},GO=(t,e)=>{if(Ga(t.classes)!==Ga(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var s in t.style)if(t.style.hasOwnProperty(s)&&t.style[s]!==e.style[s])return!1;for(var r in e.style)if(e.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;return!0},WO=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],s=t[e+1];n instanceof ms&&s instanceof ms&&GO(n,s)&&(n.text+=s.text,n.height=Math.max(n.height,s.height),n.depth=Math.max(n.depth,s.depth),n.italic=s.italic,t.splice(e+1,1),e--)}return t},Zg=function(e){for(var n=0,s=0,r=0,a=0;a<e.children.length;a++){var l=e.children[a];l.height>n&&(n=l.height),l.depth>s&&(s=l.depth),l.maxFontSize>r&&(r=l.maxFontSize)}e.height=n,e.depth=s,e.maxFontSize=r},yi=function(e,n,s,r){var a=new qh(e,n,s,r);return Zg(a),a},Bw=(t,e,n,s)=>new qh(t,e,n,s),YO=function(e,n,s){var r=yi([e],[],n);return r.height=Math.max(s||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),r.style.borderBottomWidth=ke(r.height),r.maxFontSize=1,r},XO=function(e,n,s,r){var a=new Xg(e,n,s,r);return Zg(a),a},$w=function(e){var n=new _h(e);return Zg(n),n},ZO=function(e,n){return e instanceof _h?yi([],[e],n):e},QO=function(e){if(e.positionType==="individualShift"){for(var n=e.children,s=[n[0]],r=-n[0].shift-n[0].elem.depth,a=r,l=1;l<n.length;l++){var o=-n[l].shift-a-n[l].elem.depth,c=o-(n[l-1].elem.height+n[l-1].elem.depth);a=a+o,s.push({type:"kern",size:c}),s.push(n[l])}return{children:s,depth:r}}var h;if(e.positionType==="top"){for(var u=e.positionData,f=0;f<e.children.length;f++){var x=e.children[f];u-=x.type==="kern"?x.size:x.elem.height+x.elem.depth}h=u}else if(e.positionType==="bottom")h=-e.positionData;else{var b=e.children[0];if(b.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")h=-b.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")h=-b.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:h}},KO=function(e,n){for(var{children:s,depth:r}=QO(e),a=0,l=0;l<s.length;l++){var o=s[l];if(o.type==="elem"){var c=o.elem;a=Math.max(a,c.maxFontSize,c.height)}}a+=2;var h=yi(["pstrut"],[]);h.style.height=ke(a);for(var u=[],f=r,x=r,b=r,M=0;M<s.length;M++){var y=s[M];if(y.type==="kern")b+=y.size;else{var T=y.elem,S=y.wrapperClasses||[],N=y.wrapperStyle||{},j=yi(S,[h,T],void 0,N);j.style.top=ke(-a-b-T.depth),y.marginLeft&&(j.style.marginLeft=y.marginLeft),y.marginRight&&(j.style.marginRight=y.marginRight),u.push(j),b+=T.height+T.depth}f=Math.min(f,b),x=Math.max(x,b)}var m=yi(["vlist"],u);m.style.height=ke(x);var g;if(f<0){var E=yi([],[]),v=yi(["vlist"],[E]);v.style.height=ke(-f);var p=yi(["vlist-s"],[new ms("")]);g=[yi(["vlist-r"],[m,p]),yi(["vlist-r"],[v])]}else g=[yi(["vlist-r"],[m])];var A=yi(["vlist-t"],g);return g.length===2&&A.classes.push("vlist-t2"),A.height=x,A.depth=-f,A},JO=(t,e)=>{var n=yi(["mspace"],[],e),s=en(t,e);return n.style.marginRight=ke(s),n},zu=function(e,n,s){var r="";switch(e){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=e}var a;return n==="textbf"&&s==="textit"?a="BoldItalic":n==="textbf"?a="Bold":n==="textit"?a="Italic":a="Regular",r+"-"+a},Lw={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Fw={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},eB=function(e,n){var[s,r,a]=Fw[e],l=new Wa(s),o=new Fr([l],{width:ke(r),height:ke(a),style:"width:"+ke(r),viewBox:"0 0 "+1e3*r+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),c=Bw(["overlay"],[o],n);return c.height=a,c.style.height=ke(a),c.style.width=ke(r),c},oe={fontMap:Lw,makeSymbol:Ms,mathsym:UO,makeSpan:yi,makeSvgSpan:Bw,makeLineSpan:YO,makeAnchor:XO,makeFragment:$w,wrapFragment:ZO,makeVList:KO,makeOrd:VO,makeGlue:JO,staticSvg:eB,svgData:Fw,tryCombineChars:WO},Kt={number:3,unit:"mu"},bl={number:4,unit:"mu"},vr={number:5,unit:"mu"},tB={mord:{mop:Kt,mbin:bl,mrel:vr,minner:Kt},mop:{mord:Kt,mop:Kt,mrel:vr,minner:Kt},mbin:{mord:bl,mop:bl,mopen:bl,minner:bl},mrel:{mord:vr,mop:vr,mopen:vr,minner:vr},mopen:{},mclose:{mop:Kt,mbin:bl,mrel:vr,minner:Kt},mpunct:{mord:Kt,mop:Kt,mrel:vr,mopen:Kt,mclose:Kt,mpunct:Kt,minner:Kt},minner:{mord:Kt,mop:Kt,mbin:bl,mrel:vr,mopen:Kt,mpunct:Kt,minner:Kt}},nB={mord:{mop:Kt},mop:{mord:Kt,mop:Kt},mbin:{},mrel:{},mopen:{},mclose:{mop:Kt},mpunct:{},minner:{mop:Kt}},Uw={},ff={},mf={};function ze(t){for(var{type:e,names:n,props:s,handler:r,htmlBuilder:a,mathmlBuilder:l}=t,o={type:e,numArgs:s.numArgs,argTypes:s.argTypes,allowedInArgument:!!s.allowedInArgument,allowedInText:!!s.allowedInText,allowedInMath:s.allowedInMath===void 0?!0:s.allowedInMath,numOptionalArgs:s.numOptionalArgs||0,infix:!!s.infix,primitive:!!s.primitive,handler:r},c=0;c<n.length;++c)Uw[n[c]]=o;e&&(a&&(ff[e]=a),l&&(mf[e]=l))}function io(t){var{type:e,htmlBuilder:n,mathmlBuilder:s}=t;ze({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:s})}var pf=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},xn=function(e){return e.type==="ordgroup"?e.body:[e]},Ur=oe.makeSpan,iB=["leftmost","mbin","mopen","mrel","mop","mpunct"],sB=["rightmost","mrel","mclose","mpunct"],rB={display:We.DISPLAY,text:We.TEXT,script:We.SCRIPT,scriptscript:We.SCRIPTSCRIPT},aB={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},In=function(e,n,s,r){r===void 0&&(r=[null,null]);for(var a=[],l=0;l<e.length;l++){var o=ft(e[l],n);if(o instanceof _h){var c=o.children;a.push(...c)}else a.push(o)}if(oe.tryCombineChars(a),!s)return a;var h=n;if(e.length===1){var u=e[0];u.type==="sizing"?h=n.havingSize(u.size):u.type==="styling"&&(h=n.havingStyle(rB[u.style]))}var f=Ur([r[0]||"leftmost"],[],n),x=Ur([r[1]||"rightmost"],[],n),b=s==="root";return P5(a,(M,y)=>{var T=y.classes[0],S=M.classes[0];T==="mbin"&&sB.includes(S)?y.classes[0]="mord":S==="mbin"&&iB.includes(T)&&(M.classes[0]="mord")},{node:f},x,b),P5(a,(M,y)=>{var T=Vx(y),S=Vx(M),N=T&&S?M.hasClass("mtight")?nB[T][S]:tB[T][S]:null;if(N)return oe.makeGlue(N,h)},{node:f},x,b),a},P5=function t(e,n,s,r,a){r&&e.push(r);for(var l=0;l<e.length;l++){var o=e[l],c=Hw(o);if(c){t(c.children,n,s,null,a);continue}var h=!o.hasClass("mspace");if(h){var u=n(o,s.node);u&&(s.insertAfter?s.insertAfter(u):(e.unshift(u),l++))}h?s.node=o:a&&o.hasClass("newline")&&(s.node=Ur(["leftmost"])),s.insertAfter=(f=>x=>{e.splice(f+1,0,x),l++})(l)}r&&e.pop()},Hw=function(e){return e instanceof _h||e instanceof Xg||e instanceof qh&&e.hasClass("enclosing")?e:null},lB=function t(e,n){var s=Hw(e);if(s){var r=s.children;if(r.length){if(n==="right")return t(r[r.length-1],"right");if(n==="left")return t(r[0],"left")}}return e},Vx=function(e,n){return e?(n&&(e=lB(e,n)),aB[e.classes[0]]||null):null},hh=function(e,n){var s=["nulldelimiter"].concat(e.baseSizingClasses());return Ur(n.concat(s))},ft=function(e,n,s){if(!e)return Ur();if(ff[e.type]){var r=ff[e.type](e,n);if(s&&n.size!==s.size){r=Ur(n.sizingClasses(s),[r],n);var a=n.sizeMultiplier/s.sizeMultiplier;r.height*=a,r.depth*=a}return r}else throw new Se("Got group of unknown type: '"+e.type+"'")};function Du(t,e){var n=Ur(["base"],t,e),s=Ur(["strut"]);return s.style.height=ke(n.height+n.depth),n.depth&&(s.style.verticalAlign=ke(-n.depth)),n.children.unshift(s),n}function Gx(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var s=In(t,e,"root"),r;s.length===2&&s[1].hasClass("tag")&&(r=s.pop());for(var a=[],l=[],o=0;o<s.length;o++)if(l.push(s[o]),s[o].hasClass("mbin")||s[o].hasClass("mrel")||s[o].hasClass("allowbreak")){for(var c=!1;o<s.length-1&&s[o+1].hasClass("mspace")&&!s[o+1].hasClass("newline");)o++,l.push(s[o]),s[o].hasClass("nobreak")&&(c=!0);c||(a.push(Du(l,e)),l=[])}else s[o].hasClass("newline")&&(l.pop(),l.length>0&&(a.push(Du(l,e)),l=[]),a.push(s[o]));l.length>0&&a.push(Du(l,e));var h;n?(h=Du(In(n,e,!0)),h.classes=["tag"],a.push(h)):r&&a.push(r);var u=Ur(["katex-html"],a);if(u.setAttribute("aria-hidden","true"),h){var f=h.children[0];f.style.height=ke(u.height+u.depth),u.depth&&(f.style.verticalAlign=ke(-u.depth))}return u}function Vw(t){return new _h(t)}let qi=class{constructor(e,n,s){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=s||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Ga(this.classes));for(var s=0;s<this.children.length;s++)if(this.children[s]instanceof Vs&&this.children[s+1]instanceof Vs){for(var r=this.children[s].toText()+this.children[++s].toText();this.children[s+1]instanceof Vs;)r+=this.children[++s].toText();e.appendChild(new Vs(r).toNode())}else e.appendChild(this.children[s].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=xt.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+xt.escape(Ga(this.classes))+'"'),e+=">";for(var s=0;s<this.children.length;s++)e+=this.children[s].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}},Vs=class{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return xt.escape(this.toText())}toText(){return this.text}},oB=class{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",ke(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ke(this.width)+'"/>'}toText(){return this.character?this.character:" "}};var be={MathNode:qi,TextNode:Vs,SpaceNode:oB,newDocumentFragment:Vw},ps=function(e,n,s){return Rt[n][e]&&Rt[n][e].replace&&e.charCodeAt(0)!==55349&&!(Ow.hasOwnProperty(e)&&s&&(s.fontFamily&&s.fontFamily.slice(4,6)==="tt"||s.font&&s.font.slice(4,6)==="tt"))&&(e=Rt[n][e].replace),new be.TextNode(e)},Qg=function(e){return e.length===1?e[0]:new be.MathNode("mrow",e)},Kg=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var s=n.font;if(!s||s==="mathnormal")return null;var r=e.mode;if(s==="mathit")return"italic";if(s==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(s==="mathbf")return"bold";if(s==="mathbb")return"double-struck";if(s==="mathsfit")return"sans-serif-italic";if(s==="mathfrak")return"fraktur";if(s==="mathscr"||s==="mathcal")return"script";if(s==="mathsf")return"sans-serif";if(s==="mathtt")return"monospace";var a=e.text;if(["\\imath","\\jmath"].includes(a))return null;Rt[r][a]&&Rt[r][a].replace&&(a=Rt[r][a].replace);var l=oe.fontMap[s].fontName;return Yg(a,l,r)?oe.fontMap[s].variant:null};function Ip(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Vs&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof Vs&&n.text===","}else return!1}var Ei=function(e,n,s){if(e.length===1){var r=Ct(e[0],n);return s&&r instanceof qi&&r.type==="mo"&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var a=[],l,o=0;o<e.length;o++){var c=Ct(e[o],n);if(c instanceof qi&&l instanceof qi){if(c.type==="mtext"&&l.type==="mtext"&&c.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...c.children);continue}else if(c.type==="mn"&&l.type==="mn"){l.children.push(...c.children);continue}else if(Ip(c)&&l.type==="mn"){l.children.push(...c.children);continue}else if(c.type==="mn"&&Ip(l))c.children=[...l.children,...c.children],a.pop();else if((c.type==="msup"||c.type==="msub")&&c.children.length>=1&&(l.type==="mn"||Ip(l))){var h=c.children[0];h instanceof qi&&h.type==="mn"&&(h.children=[...l.children,...h.children],a.pop())}else if(l.type==="mi"&&l.children.length===1){var u=l.children[0];if(u instanceof Vs&&u.text===""&&(c.type==="mo"||c.type==="mi"||c.type==="mn")){var f=c.children[0];f instanceof Vs&&f.text.length>0&&(f.text=f.text.slice(0,1)+""+f.text.slice(1),a.pop())}}}a.push(c),l=c}return a},Ya=function(e,n,s){return Qg(Ei(e,n,s))},Ct=function(e,n){if(!e)return new be.MathNode("mrow");if(mf[e.type]){var s=mf[e.type](e,n);return s}else throw new Se("Got group of unknown type: '"+e.type+"'")};function I5(t,e,n,s,r){var a=Ei(t,n),l;a.length===1&&a[0]instanceof qi&&["mrow","mtable"].includes(a[0].type)?l=a[0]:l=new be.MathNode("mrow",a);var o=new be.MathNode("annotation",[new be.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var c=new be.MathNode("semantics",[l,o]),h=new be.MathNode("math",[c]);h.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),s&&h.setAttribute("display","block");var u=r?"katex":"katex-mathml";return oe.makeSpan([u],[h])}var Gw=function(e){return new Pw({style:e.displayMode?We.DISPLAY:We.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Ww=function(e,n){if(n.displayMode){var s=["katex-display"];n.leqno&&s.push("leqno"),n.fleqn&&s.push("fleqn"),e=oe.makeSpan(s,[e])}return e},cB=function(e,n,s){var r=Gw(s),a;if(s.output==="mathml")return I5(e,n,r,s.displayMode,!0);if(s.output==="html"){var l=Gx(e,r);a=oe.makeSpan(["katex"],[l])}else{var o=I5(e,n,r,s.displayMode,!1),c=Gx(e,r);a=oe.makeSpan(["katex"],[o,c])}return Ww(a,s)},hB=function(e,n,s){var r=Gw(s),a=Gx(e,r),l=oe.makeSpan(["katex"],[a]);return Ww(l,s)},uB={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},dB=function(e){var n=new be.MathNode("mo",[new be.TextNode(uB[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},fB={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},mB=function(e){return e.type==="ordgroup"?e.body.length:1},pB=function(e,n){function s(){var o=4e5,c=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(c)){var h=e,u=mB(h.base),f,x,b;if(u>5)c==="widehat"||c==="widecheck"?(f=420,o=2364,b=.42,x=c+"4"):(f=312,o=2340,b=.34,x="tilde4");else{var M=[1,1,2,2,3,3][u];c==="widehat"||c==="widecheck"?(o=[0,1062,2364,2364,2364][M],f=[0,239,300,360,420][M],b=[0,.24,.3,.3,.36,.42][M],x=c+M):(o=[0,600,1033,2339,2340][M],f=[0,260,286,306,312][M],b=[0,.26,.286,.3,.306,.34][M],x="tilde"+M)}var y=new Wa(x),T=new Fr([y],{width:"100%",height:ke(b),viewBox:"0 0 "+o+" "+f,preserveAspectRatio:"none"});return{span:oe.makeSvgSpan([],[T],n),minWidth:0,height:b}}else{var S=[],N=fB[c],[j,m,g]=N,E=g/1e3,v=j.length,p,A;if(v===1){var w=N[3];p=["hide-tail"],A=[w]}else if(v===2)p=["halfarrow-left","halfarrow-right"],A=["xMinYMin","xMaxYMin"];else if(v===3)p=["brace-left","brace-center","brace-right"],A=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+v+" children.");for(var k=0;k<v;k++){var D=new Wa(j[k]),I=new Fr([D],{width:"400em",height:ke(E),viewBox:"0 0 "+o+" "+g,preserveAspectRatio:A[k]+" slice"}),$=oe.makeSvgSpan([p[k]],[I],n);if(v===1)return{span:$,minWidth:m,height:E};$.style.height=ke(E),S.push($)}return{span:oe.makeSpan(["stretchy"],S,n),minWidth:m,height:E}}}var{span:r,minWidth:a,height:l}=s();return r.height=l,r.style.height=ke(l),a>0&&(r.style.minWidth=ke(a)),r},xB=function(e,n,s,r,a){var l,o=e.height+e.depth+s+r;if(/fbox|color|angl/.test(n)){if(l=oe.makeSpan(["stretchy",n],[],a),n==="fbox"){var c=a.color&&a.getColor();c&&(l.style.borderColor=c)}}else{var h=[];/^[bx]cancel$/.test(n)&&h.push(new Ux({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&h.push(new Ux({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var u=new Fr(h,{width:"100%",height:ke(o)});l=oe.makeSvgSpan([],[u],a)}return l.height=o,l.style.height=ke(o),l},Hr={encloseSpan:xB,mathMLnode:dB,svgSpan:pB};function st(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function Jg(t){var e=lm(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function lm(t){return t&&(t.type==="atom"||LO.hasOwnProperty(t.type))?t:null}var e2=(t,e)=>{var n,s,r;t&&t.type==="supsub"?(s=st(t.base,"accent"),n=s.base,t.base=n,r=BO(ft(t,e)),t.base=s):(s=st(t,"accent"),n=s.base);var a=ft(n,e.havingCrampedStyle()),l=s.isShifty&&xt.isCharacterBox(n),o=0;if(l){var c=xt.getBaseElem(n),h=ft(c,e.havingCrampedStyle());o=k5(h).skew}var u=s.label==="\\c",f=u?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),x;if(s.isStretchy)x=Hr.svgSpan(s,e),x=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:x,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+ke(2*o)+")",marginLeft:ke(2*o)}:void 0}]},e);else{var b,M;s.label==="\\vec"?(b=oe.staticSvg("vec",e),M=oe.svgData.vec[1]):(b=oe.makeOrd({mode:s.mode,text:s.label},e,"textord"),b=k5(b),b.italic=0,M=b.width,u&&(f+=b.depth)),x=oe.makeSpan(["accent-body"],[b]);var y=s.label==="\\textcircled";y&&(x.classes.push("accent-full"),f=a.height);var T=o;y||(T-=M/2),x.style.left=ke(T),s.label==="\\textcircled"&&(x.style.top=".2em"),x=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-f},{type:"elem",elem:x}]},e)}var S=oe.makeSpan(["mord","accent"],[x],e);return r?(r.children[0]=S,r.height=Math.max(S.height,r.height),r.classes[0]="mord",r):S},Yw=(t,e)=>{var n=t.isStretchy?Hr.mathMLnode(t.label):new be.MathNode("mo",[ps(t.label,t.mode)]),s=new be.MathNode("mover",[Ct(t.base,e),n]);return s.setAttribute("accent","true"),s},gB=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));ze({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=pf(e[0]),s=!gB.test(t.funcName),r=!s||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:s,isShifty:r,base:n}},htmlBuilder:e2,mathmlBuilder:Yw});ze({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],s=t.parser.mode;return s==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),s="text"),{type:"accent",mode:s,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:e2,mathmlBuilder:Yw});ze({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0];return{type:"accentUnder",mode:n.mode,label:s,base:r}},htmlBuilder:(t,e)=>{var n=ft(t.base,e),s=Hr.svgSpan(t,e),r=t.label==="\\utilde"?.12:0,a=oe.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:s,wrapperClasses:["svg-align"]},{type:"kern",size:r},{type:"elem",elem:n}]},e);return oe.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(t,e)=>{var n=Hr.mathMLnode(t.label),s=new be.MathNode("munder",[Ct(t.base,e),n]);return s.setAttribute("accentunder","true"),s}});var Pu=t=>{var e=new be.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};ze({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:s,funcName:r}=t;return{type:"xArrow",mode:s.mode,label:r,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,s=e.havingStyle(n.sup()),r=oe.wrapFragment(ft(t.body,s,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";r.classes.push(a+"-arrow-pad");var l;t.below&&(s=e.havingStyle(n.sub()),l=oe.wrapFragment(ft(t.below,s,e),e),l.classes.push(a+"-arrow-pad"));var o=Hr.svgSpan(t,e),c=-e.fontMetrics().axisHeight+.5*o.height,h=-e.fontMetrics().axisHeight-.5*o.height-.111;(r.depth>.25||t.label==="\\xleftequilibrium")&&(h-=r.depth);var u;if(l){var f=-e.fontMetrics().axisHeight+l.height+.5*o.height+.111;u=oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:h},{type:"elem",elem:o,shift:c},{type:"elem",elem:l,shift:f}]},e)}else u=oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:h},{type:"elem",elem:o,shift:c}]},e);return u.children[0].children[0].children[1].classes.push("svg-align"),oe.makeSpan(["mrel","x-arrow"],[u],e)},mathmlBuilder(t,e){var n=Hr.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var s;if(t.body){var r=Pu(Ct(t.body,e));if(t.below){var a=Pu(Ct(t.below,e));s=new be.MathNode("munderover",[n,a,r])}else s=new be.MathNode("mover",[n,r])}else if(t.below){var l=Pu(Ct(t.below,e));s=new be.MathNode("munder",[n,l])}else s=Pu(),s=new be.MathNode("mover",[n,s]);return s}});var yB=oe.makeSpan;function Xw(t,e){var n=In(t.body,e,!0);return yB([t.mclass],n,e)}function Zw(t,e){var n,s=Ei(t.body,e);return t.mclass==="minner"?n=new be.MathNode("mpadded",s):t.mclass==="mord"?t.isCharacterBox?(n=s[0],n.type="mi"):n=new be.MathNode("mi",s):(t.isCharacterBox?(n=s[0],n.type="mo"):n=new be.MathNode("mo",s),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}ze({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:s}=t,r=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+s.slice(5),body:xn(r),isCharacterBox:xt.isCharacterBox(r)}},htmlBuilder:Xw,mathmlBuilder:Zw});var om=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};ze({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:om(e[0]),body:xn(e[1]),isCharacterBox:xt.isCharacterBox(e[1])}}});ze({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:s}=t,r=e[1],a=e[0],l;s!=="\\stackrel"?l=om(r):l="mrel";var o={type:"op",mode:r.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:s!=="\\stackrel",body:xn(r)},c={type:"supsub",mode:a.mode,base:o,sup:s==="\\underset"?null:a,sub:s==="\\underset"?a:null};return{type:"mclass",mode:n.mode,mclass:l,body:[c],isCharacterBox:xt.isCharacterBox(c)}},htmlBuilder:Xw,mathmlBuilder:Zw});ze({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:om(e[0]),body:xn(e[0])}},htmlBuilder(t,e){var n=In(t.body,e,!0),s=oe.makeSpan([t.mclass],n,e);return s.style.textShadow="0.02em 0.01em 0.04px",s},mathmlBuilder(t,e){var n=Ei(t.body,e),s=new be.MathNode("mstyle",n);return s.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),s}});var bB={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},R5=()=>({type:"styling",body:[],mode:"math",style:"display"}),_5=t=>t.type==="textord"&&t.text==="@",vB=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function jB(t,e,n){var s=bB[t];switch(s){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(s,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var r=n.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:s,mode:"math",family:"rel"},l=n.callFunction("\\Big",[a],[]),o=n.callFunction("\\\\cdright",[e[1]],[]),c={type:"ordgroup",mode:"math",body:[r,l,o]};return n.callFunction("\\\\cdparent",[c],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var h={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[h],[])}default:return{type:"textord",text:" ",mode:"math"}}}function wB(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new Se("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var s=[],r=[s],a=0;a<e.length;a++){for(var l=e[a],o=R5(),c=0;c<l.length;c++)if(!_5(l[c]))o.body.push(l[c]);else{s.push(o),c+=1;var h=Jg(l[c]).text,u=new Array(2);if(u[0]={type:"ordgroup",mode:"math",body:[]},u[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(h)>-1))if("<>AV".indexOf(h)>-1)for(var f=0;f<2;f++){for(var x=!0,b=c+1;b<l.length;b++){if(vB(l[b],h)){x=!1,c=b;break}if(_5(l[b]))throw new Se("Missing a "+h+" character to complete a CD arrow.",l[b]);u[f].body.push(l[b])}if(x)throw new Se("Missing a "+h+" character to complete a CD arrow.",l[c])}else throw new Se('Expected one of "<>AV=|." after @',l[c]);var M=jB(h,u,t),y={type:"styling",body:[M],mode:"math",style:"display"};s.push(y),o=R5()}a%2===0?s.push(o):s.shift(),s=[],r.push(s)}t.gullet.endGroup(),t.gullet.endGroup();var T=new Array(r[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:r,arraystretch:1,addJot:!0,rowGaps:[null],cols:T,colSeparationType:"CD",hLinesBeforeRow:new Array(r.length+1).fill([])}}ze({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:s}=t;return{type:"cdlabel",mode:n.mode,side:s.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),s=oe.wrapFragment(ft(t.label,n,e),e);return s.classes.push("cd-label-"+t.side),s.style.bottom=ke(.8-s.depth),s.height=0,s.depth=0,s},mathmlBuilder(t,e){var n=new be.MathNode("mrow",[Ct(t.label,e)]);return n=new be.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new be.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});ze({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=oe.wrapFragment(ft(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new be.MathNode("mrow",[Ct(t.fragment,e)])}});ze({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,s=st(e[0],"ordgroup"),r=s.body,a="",l=0;l<r.length;l++){var o=st(r[l],"textord");a+=o.text}var c=parseInt(a),h;if(isNaN(c))throw new Se("\\@char has non-numeric argument "+a);if(c<0||c>=1114111)throw new Se("\\@char with invalid code point "+a);return c<=65535?h=String.fromCharCode(c):(c-=65536,h=String.fromCharCode((c>>10)+55296,(c&1023)+56320)),{type:"textord",mode:n.mode,text:h}}});var Qw=(t,e)=>{var n=In(t.body,e.withColor(t.color),!1);return oe.makeFragment(n)},Kw=(t,e)=>{var n=Ei(t.body,e.withColor(t.color)),s=new be.MathNode("mstyle",n);return s.setAttribute("mathcolor",t.color),s};ze({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,s=st(e[0],"color-token").color,r=e[1];return{type:"color",mode:n.mode,color:s,body:xn(r)}},htmlBuilder:Qw,mathmlBuilder:Kw});ze({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:s}=t,r=st(e[0],"color-token").color;n.gullet.macros.set("\\current@color",r);var a=n.parseExpression(!0,s);return{type:"color",mode:n.mode,color:r,body:a}},htmlBuilder:Qw,mathmlBuilder:Kw});ze({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:s}=t,r=s.gullet.future().text==="["?s.parseSizeGroup(!0):null,a=!s.settings.displayMode||!s.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:s.mode,newLine:a,size:r&&st(r,"size").value}},htmlBuilder(t,e){var n=oe.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=ke(en(t.size,e)))),n},mathmlBuilder(t,e){var n=new be.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",ke(en(t.size,e)))),n}});var Wx={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Jw=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new Se("Expected a control sequence",t);return e},TB=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},eT=(t,e,n,s)=>{var r=t.gullet.macros.get(n.text);r==null&&(n.noexpand=!0,r={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,r,s)};ze({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var s=e.fetch();if(Wx[s.text])return(n==="\\global"||n==="\\\\globallong")&&(s.text=Wx[s.text]),st(e.parseFunction(),"internal");throw new Se("Invalid token after macro prefix",s)}});ze({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,s=e.gullet.popToken(),r=s.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(r))throw new Se("Expected a control sequence",s);for(var a=0,l,o=[[]];e.gullet.future().text!=="{";)if(s=e.gullet.popToken(),s.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),o[a].push("{");break}if(s=e.gullet.popToken(),!/^[1-9]$/.test(s.text))throw new Se('Invalid argument number "'+s.text+'"');if(parseInt(s.text)!==a+1)throw new Se('Argument number "'+s.text+'" out of order');a++,o.push([])}else{if(s.text==="EOF")throw new Se("Expected a macro definition");o[a].push(s.text)}var{tokens:c}=e.gullet.consumeArg();return l&&c.unshift(l),(n==="\\edef"||n==="\\xdef")&&(c=e.gullet.expandTokens(c),c.reverse()),e.gullet.macros.set(r,{tokens:c,numArgs:a,delimiters:o},n===Wx[n]),{type:"internal",mode:e.mode}}});ze({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,s=Jw(e.gullet.popToken());e.gullet.consumeSpaces();var r=TB(e);return eT(e,s,r,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});ze({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,s=Jw(e.gullet.popToken()),r=e.gullet.popToken(),a=e.gullet.popToken();return eT(e,s,a,n==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(r),{type:"internal",mode:e.mode}}});var g0=function(e,n,s){var r=Rt.math[e]&&Rt.math[e].replace,a=Yg(r||e,n,s);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return a},t2=function(e,n,s,r){var a=s.havingBaseStyle(n),l=oe.makeSpan(r.concat(a.sizingClasses(s)),[e],s),o=a.sizeMultiplier/s.sizeMultiplier;return l.height*=o,l.depth*=o,l.maxFontSize=a.sizeMultiplier,l},tT=function(e,n,s){var r=n.havingBaseStyle(s),a=(1-n.sizeMultiplier/r.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=ke(a),e.height-=a,e.depth+=a},SB=function(e,n,s,r,a,l){var o=oe.makeSymbol(e,"Main-Regular",a,r),c=t2(o,n,r,l);return s&&tT(c,r,n),c},NB=function(e,n,s,r){return oe.makeSymbol(e,"Size"+n+"-Regular",s,r)},nT=function(e,n,s,r,a,l){var o=NB(e,n,a,r),c=t2(oe.makeSpan(["delimsizing","size"+n],[o],r),We.TEXT,r,l);return s&&tT(c,r,We.TEXT),c},Rp=function(e,n,s){var r;n==="Size1-Regular"?r="delim-size1":r="delim-size4";var a=oe.makeSpan(["delimsizinginner",r],[oe.makeSpan([],[oe.makeSymbol(e,n,s)])]);return{type:"elem",elem:a}},_p=function(e,n,s){var r=Hs["Size4-Regular"][e.charCodeAt(0)]?Hs["Size4-Regular"][e.charCodeAt(0)][4]:Hs["Size1-Regular"][e.charCodeAt(0)][4],a=new Wa("inner",CO(e,Math.round(1e3*n))),l=new Fr([a],{width:ke(r),height:ke(n),style:"width:"+ke(r),viewBox:"0 0 "+1e3*r+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),o=oe.makeSvgSpan([],[l],s);return o.height=n,o.style.height=ke(n),o.style.width=ke(r),{type:"elem",elem:o}},Yx=.008,Iu={type:"kern",size:-1*Yx},AB=["|","\\lvert","\\rvert","\\vert"],kB=["\\|","\\lVert","\\rVert","\\Vert"],iT=function(e,n,s,r,a,l){var o,c,h,u,f="",x=0;o=h=u=e,c=null;var b="Size1-Regular";e==="\\uparrow"?h=u="":e==="\\Uparrow"?h=u="":e==="\\downarrow"?o=h="":e==="\\Downarrow"?o=h="":e==="\\updownarrow"?(o="\\uparrow",h="",u="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",h="",u="\\Downarrow"):AB.includes(e)?(h="",f="vert",x=333):kB.includes(e)?(h="",f="doublevert",x=556):e==="["||e==="\\lbrack"?(o="",h="",u="",b="Size4-Regular",f="lbrack",x=667):e==="]"||e==="\\rbrack"?(o="",h="",u="",b="Size4-Regular",f="rbrack",x=667):e==="\\lfloor"||e===""?(h=o="",u="",b="Size4-Regular",f="lfloor",x=667):e==="\\lceil"||e===""?(o="",h=u="",b="Size4-Regular",f="lceil",x=667):e==="\\rfloor"||e===""?(h=o="",u="",b="Size4-Regular",f="rfloor",x=667):e==="\\rceil"||e===""?(o="",h=u="",b="Size4-Regular",f="rceil",x=667):e==="("||e==="\\lparen"?(o="",h="",u="",b="Size4-Regular",f="lparen",x=875):e===")"||e==="\\rparen"?(o="",h="",u="",b="Size4-Regular",f="rparen",x=875):e==="\\{"||e==="\\lbrace"?(o="",c="",u="",h="",b="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="",c="",u="",h="",b="Size4-Regular"):e==="\\lgroup"||e===""?(o="",u="",h="",b="Size4-Regular"):e==="\\rgroup"||e===""?(o="",u="",h="",b="Size4-Regular"):e==="\\lmoustache"||e===""?(o="",u="",h="",b="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(o="",u="",h="",b="Size4-Regular");var M=g0(o,b,a),y=M.height+M.depth,T=g0(h,b,a),S=T.height+T.depth,N=g0(u,b,a),j=N.height+N.depth,m=0,g=1;if(c!==null){var E=g0(c,b,a);m=E.height+E.depth,g=2}var v=y+j+m,p=Math.max(0,Math.ceil((n-v)/(g*S))),A=v+p*g*S,w=r.fontMetrics().axisHeight;s&&(w*=r.sizeMultiplier);var k=A/2-w,D=[];if(f.length>0){var I=A-y-j,$=Math.round(A*1e3),B=zO(f,Math.round(I*1e3)),G=new Wa(f,B),V=(x/1e3).toFixed(3)+"em",J=($/1e3).toFixed(3)+"em",ee=new Fr([G],{width:V,height:J,viewBox:"0 0 "+x+" "+$}),re=oe.makeSvgSpan([],[ee],r);re.height=$/1e3,re.style.width=V,re.style.height=J,D.push({type:"elem",elem:re})}else{if(D.push(Rp(u,b,a)),D.push(Iu),c===null){var se=A-y-j+2*Yx;D.push(_p(h,se,r))}else{var he=(A-y-j-m)/2+2*Yx;D.push(_p(h,he,r)),D.push(Iu),D.push(Rp(c,b,a)),D.push(Iu),D.push(_p(h,he,r))}D.push(Iu),D.push(Rp(o,b,a))}var ae=r.havingBaseStyle(We.TEXT),Ne=oe.makeVList({positionType:"bottom",positionData:k,children:D},ae);return t2(oe.makeSpan(["delimsizing","mult"],[Ne],ae),We.TEXT,r,l)},qp=80,Op=.08,Bp=function(e,n,s,r,a){var l=EO(e,r,s),o=new Wa(e,l),c=new Fr([o],{width:"400em",height:ke(n),viewBox:"0 0 400000 "+s,preserveAspectRatio:"xMinYMin slice"});return oe.makeSvgSpan(["hide-tail"],[c],a)},MB=function(e,n){var s=n.havingBaseSizing(),r=lT("\\surd",e*s.sizeMultiplier,aT,s),a=s.sizeMultiplier,l=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),o,c=0,h=0,u=0,f;return r.type==="small"?(u=1e3+1e3*l+qp,e<1?a=1:e<1.4&&(a=.7),c=(1+l+Op)/a,h=(1+l)/a,o=Bp("sqrtMain",c,u,l,n),o.style.minWidth="0.853em",f=.833/a):r.type==="large"?(u=(1e3+qp)*B0[r.size],h=(B0[r.size]+l)/a,c=(B0[r.size]+l+Op)/a,o=Bp("sqrtSize"+r.size,c,u,l,n),o.style.minWidth="1.02em",f=1/a):(c=e+l+Op,h=e+l,u=Math.floor(1e3*e+l)+qp,o=Bp("sqrtTall",c,u,l,n),o.style.minWidth="0.742em",f=1.056),o.height=h,o.style.height=ke(c),{span:o,advanceWidth:f,ruleWidth:(n.fontMetrics().sqrtRuleThickness+l)*a}},sT=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],EB=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],rT=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],B0=[0,1.2,1.8,2.4,3],CB=function(e,n,s,r,a){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),sT.includes(e)||rT.includes(e))return nT(e,n,!1,s,r,a);if(EB.includes(e))return iT(e,B0[n],!1,s,r,a);throw new Se("Illegal delimiter: '"+e+"'")},zB=[{type:"small",style:We.SCRIPTSCRIPT},{type:"small",style:We.SCRIPT},{type:"small",style:We.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],DB=[{type:"small",style:We.SCRIPTSCRIPT},{type:"small",style:We.SCRIPT},{type:"small",style:We.TEXT},{type:"stack"}],aT=[{type:"small",style:We.SCRIPTSCRIPT},{type:"small",style:We.SCRIPT},{type:"small",style:We.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],PB=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},lT=function(e,n,s,r){for(var a=Math.min(2,3-r.style.size),l=a;l<s.length&&s[l].type!=="stack";l++){var o=g0(e,PB(s[l]),"math"),c=o.height+o.depth;if(s[l].type==="small"){var h=r.havingBaseStyle(s[l].style);c*=h.sizeMultiplier}if(c>n)return s[l]}return s[s.length-1]},oT=function(e,n,s,r,a,l){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var o;rT.includes(e)?o=zB:sT.includes(e)?o=aT:o=DB;var c=lT(e,n,o,r);return c.type==="small"?SB(e,c.style,s,r,a,l):c.type==="large"?nT(e,c.size,s,r,a,l):iT(e,n,s,r,a,l)},IB=function(e,n,s,r,a,l){var o=r.fontMetrics().axisHeight*r.sizeMultiplier,c=901,h=5/r.fontMetrics().ptPerEm,u=Math.max(n-o,s+o),f=Math.max(u/500*c,2*u-h);return oT(e,f,!0,r,a,l)},Pr={sqrtImage:MB,sizedDelim:CB,sizeToMaxHeight:B0,customSizedDelim:oT,leftRightDelim:IB},q5={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},RB=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function cm(t,e){var n=lm(t);if(n&&RB.includes(n.text))return n;throw n?new Se("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new Se("Invalid delimiter type '"+t.type+"'",t)}ze({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=cm(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:q5[t.funcName].size,mclass:q5[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?oe.makeSpan([t.mclass]):Pr.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(ps(t.delim,t.mode));var n=new be.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var s=ke(Pr.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",s),n.setAttribute("maxsize",s),n}});function O5(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ze({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new Se("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:cm(e[0],t).text,color:n}}});ze({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=cm(e[0],t),s=t.parser;++s.leftrightDepth;var r=s.parseExpression(!1);--s.leftrightDepth,s.expect("\\right",!1);var a=st(s.parseFunction(),"leftright-right");return{type:"leftright",mode:s.mode,body:r,left:n.text,right:a.delim,rightColor:a.color}},htmlBuilder:(t,e)=>{O5(t);for(var n=In(t.body,e,!0,["mopen","mclose"]),s=0,r=0,a=!1,l=0;l<n.length;l++)n[l].isMiddle?a=!0:(s=Math.max(n[l].height,s),r=Math.max(n[l].depth,r));s*=e.sizeMultiplier,r*=e.sizeMultiplier;var o;if(t.left==="."?o=hh(e,["mopen"]):o=Pr.leftRightDelim(t.left,s,r,e,t.mode,["mopen"]),n.unshift(o),a)for(var c=1;c<n.length;c++){var h=n[c],u=h.isMiddle;u&&(n[c]=Pr.leftRightDelim(u.delim,s,r,u.options,t.mode,[]))}var f;if(t.right===".")f=hh(e,["mclose"]);else{var x=t.rightColor?e.withColor(t.rightColor):e;f=Pr.leftRightDelim(t.right,s,r,x,t.mode,["mclose"])}return n.push(f),oe.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{O5(t);var n=Ei(t.body,e);if(t.left!=="."){var s=new be.MathNode("mo",[ps(t.left,t.mode)]);s.setAttribute("fence","true"),n.unshift(s)}if(t.right!=="."){var r=new be.MathNode("mo",[ps(t.right,t.mode)]);r.setAttribute("fence","true"),t.rightColor&&r.setAttribute("mathcolor",t.rightColor),n.push(r)}return Qg(n)}});ze({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=cm(e[0],t);if(!t.parser.leftrightDepth)throw new Se("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=hh(e,[]);else{n=Pr.sizedDelim(t.delim,1,e,t.mode,[]);var s={delim:t.delim,options:e};n.isMiddle=s}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?ps("|","text"):ps(t.delim,t.mode),s=new be.MathNode("mo",[n]);return s.setAttribute("fence","true"),s.setAttribute("lspace","0.05em"),s.setAttribute("rspace","0.05em"),s}});var n2=(t,e)=>{var n=oe.wrapFragment(ft(t.body,e),e),s=t.label.slice(1),r=e.sizeMultiplier,a,l=0,o=xt.isCharacterBox(t.body);if(s==="sout")a=oe.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/r,l=-.5*e.fontMetrics().xHeight;else if(s==="phase"){var c=en({number:.6,unit:"pt"},e),h=en({number:.35,unit:"ex"},e),u=e.havingBaseSizing();r=r/u.sizeMultiplier;var f=n.height+n.depth+c+h;n.style.paddingLeft=ke(f/2+c);var x=Math.floor(1e3*f*r),b=kO(x),M=new Fr([new Wa("phase",b)],{width:"400em",height:ke(x/1e3),viewBox:"0 0 400000 "+x,preserveAspectRatio:"xMinYMin slice"});a=oe.makeSvgSpan(["hide-tail"],[M],e),a.style.height=ke(f),l=n.depth+c+h}else{/cancel/.test(s)?o||n.classes.push("cancel-pad"):s==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var y=0,T=0,S=0;/box/.test(s)?(S=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),y=e.fontMetrics().fboxsep+(s==="colorbox"?0:S),T=y):s==="angl"?(S=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),y=4*S,T=Math.max(0,.25-n.depth)):(y=o?.2:0,T=y),a=Hr.encloseSpan(n,s,y,T,e),/fbox|boxed|fcolorbox/.test(s)?(a.style.borderStyle="solid",a.style.borderWidth=ke(S)):s==="angl"&&S!==.049&&(a.style.borderTopWidth=ke(S),a.style.borderRightWidth=ke(S)),l=n.depth+T,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var N;if(t.backgroundColor)N=oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:l},{type:"elem",elem:n,shift:0}]},e);else{var j=/cancel|phase/.test(s)?["svg-align"]:[];N=oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:a,shift:l,wrapperClasses:j}]},e)}return/cancel/.test(s)&&(N.height=n.height,N.depth=n.depth),/cancel/.test(s)&&!o?oe.makeSpan(["mord","cancel-lap"],[N],e):oe.makeSpan(["mord"],[N],e)},i2=(t,e)=>{var n=0,s=new be.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ct(t.body,e)]);switch(t.label){case"\\cancel":s.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":s.setAttribute("notation","downdiagonalstrike");break;case"\\phase":s.setAttribute("notation","phasorangle");break;case"\\sout":s.setAttribute("notation","horizontalstrike");break;case"\\fbox":s.setAttribute("notation","box");break;case"\\angl":s.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,s.setAttribute("width","+"+2*n+"pt"),s.setAttribute("height","+"+2*n+"pt"),s.setAttribute("lspace",n+"pt"),s.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var r=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);s.setAttribute("style","border: "+r+"em solid "+String(t.borderColor))}break;case"\\xcancel":s.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&s.setAttribute("mathbackground",t.backgroundColor),s};ze({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:s,funcName:r}=t,a=st(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:s.mode,label:r,backgroundColor:a,body:l}},htmlBuilder:n2,mathmlBuilder:i2});ze({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:s,funcName:r}=t,a=st(e[0],"color-token").color,l=st(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:s.mode,label:r,backgroundColor:l,borderColor:a,body:o}},htmlBuilder:n2,mathmlBuilder:i2});ze({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});ze({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:s}=t,r=e[0];return{type:"enclose",mode:n.mode,label:s,body:r}},htmlBuilder:n2,mathmlBuilder:i2});ze({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var cT={};function nr(t){for(var{type:e,names:n,props:s,handler:r,htmlBuilder:a,mathmlBuilder:l}=t,o={type:e,numArgs:s.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:r},c=0;c<n.length;++c)cT[n[c]]=o;a&&(ff[e]=a),l&&(mf[e]=l)}var hT={};function U(t,e){hT[t]=e}function B5(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var hm=t=>{var e=t.parser.settings;if(!e.displayMode)throw new Se("{"+t.envName+"} can be used only in display mode.")};function s2(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function rl(t,e,n){var{hskipBeforeAndAfter:s,addJot:r,cols:a,arraystretch:l,colSeparationType:o,autoTag:c,singleRow:h,emptySingleRow:u,maxNumCols:f,leqno:x}=e;if(t.gullet.beginGroup(),h||t.gullet.macros.set("\\cr","\\\\\\relax"),!l){var b=t.gullet.expandMacroAsText("\\arraystretch");if(b==null)l=1;else if(l=parseFloat(b),!l||l<0)throw new Se("Invalid \\arraystretch: "+b)}t.gullet.beginGroup();var M=[],y=[M],T=[],S=[],N=c!=null?[]:void 0;function j(){c&&t.gullet.macros.set("\\@eqnsw","1",!0)}function m(){N&&(t.gullet.macros.get("\\df@tag")?(N.push(t.subparse([new Rs("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):N.push(!!c&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(j(),S.push(B5(t));;){var g=t.parseExpression(!1,h?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),g={type:"ordgroup",mode:t.mode,body:g},n&&(g={type:"styling",mode:t.mode,style:n,body:[g]}),M.push(g);var E=t.fetch().text;if(E==="&"){if(f&&M.length===f){if(h||o)throw new Se("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(E==="\\end"){m(),M.length===1&&g.type==="styling"&&g.body[0].body.length===0&&(y.length>1||!u)&&y.pop(),S.length<y.length+1&&S.push([]);break}else if(E==="\\\\"){t.consume();var v=void 0;t.gullet.future().text!==" "&&(v=t.parseSizeGroup(!0)),T.push(v?v.value:null),m(),S.push(B5(t)),M=[],y.push(M),j()}else throw new Se("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:r,arraystretch:l,body:y,cols:a,rowGaps:T,hskipBeforeAndAfter:s,hLinesBeforeRow:S,colSeparationType:o,tags:N,leqno:x}}function r2(t){return t.slice(0,1)==="d"?"display":"text"}var ir=function(e,n){var s,r,a=e.body.length,l=e.hLinesBeforeRow,o=0,c=new Array(a),h=[],u=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),f=1/n.fontMetrics().ptPerEm,x=5*f;if(e.colSeparationType&&e.colSeparationType==="small"){var b=n.havingStyle(We.SCRIPT).sizeMultiplier;x=.2778*(b/n.sizeMultiplier)}var M=e.colSeparationType==="CD"?en({number:3,unit:"ex"},n):12*f,y=3*f,T=e.arraystretch*M,S=.7*T,N=.3*T,j=0;function m(kt){for(var dn=0;dn<kt.length;++dn)dn>0&&(j+=.25),h.push({pos:j,isDashed:kt[dn]})}for(m(l[0]),s=0;s<e.body.length;++s){var g=e.body[s],E=S,v=N;o<g.length&&(o=g.length);var p=new Array(g.length);for(r=0;r<g.length;++r){var A=ft(g[r],n);v<A.depth&&(v=A.depth),E<A.height&&(E=A.height),p[r]=A}var w=e.rowGaps[s],k=0;w&&(k=en(w,n),k>0&&(k+=N,v<k&&(v=k),k=0)),e.addJot&&(v+=y),p.height=E,p.depth=v,j+=E,p.pos=j,j+=v+k,c[s]=p,m(l[s+1])}var D=j/2+n.fontMetrics().axisHeight,I=e.cols||[],$=[],B,G,V=[];if(e.tags&&e.tags.some(kt=>kt))for(s=0;s<a;++s){var J=c[s],ee=J.pos-D,re=e.tags[s],se=void 0;re===!0?se=oe.makeSpan(["eqn-num"],[],n):re===!1?se=oe.makeSpan([],[],n):se=oe.makeSpan([],In(re,n,!0),n),se.depth=J.depth,se.height=J.height,V.push({type:"elem",elem:se,shift:ee})}for(r=0,G=0;r<o||G<I.length;++r,++G){for(var he=I[G]||{},ae=!0;he.type==="separator";){if(ae||(B=oe.makeSpan(["arraycolsep"],[]),B.style.width=ke(n.fontMetrics().doubleRuleSep),$.push(B)),he.separator==="|"||he.separator===":"){var Ne=he.separator==="|"?"solid":"dashed",Te=oe.makeSpan(["vertical-separator"],[],n);Te.style.height=ke(j),Te.style.borderRightWidth=ke(u),Te.style.borderRightStyle=Ne,Te.style.margin="0 "+ke(-u/2);var tt=j-D;tt&&(Te.style.verticalAlign=ke(-tt)),$.push(Te)}else throw new Se("Invalid separator type: "+he.separator);G++,he=I[G]||{},ae=!1}if(!(r>=o)){var Ce=void 0;(r>0||e.hskipBeforeAndAfter)&&(Ce=xt.deflt(he.pregap,x),Ce!==0&&(B=oe.makeSpan(["arraycolsep"],[]),B.style.width=ke(Ce),$.push(B)));var Ae=[];for(s=0;s<a;++s){var Fe=c[s],Be=Fe[r];if(Be){var at=Fe.pos-D;Be.depth=Fe.depth,Be.height=Fe.height,Ae.push({type:"elem",elem:Be,shift:at})}}Ae=oe.makeVList({positionType:"individualShift",children:Ae},n),Ae=oe.makeSpan(["col-align-"+(he.align||"c")],[Ae]),$.push(Ae),(r<o-1||e.hskipBeforeAndAfter)&&(Ce=xt.deflt(he.postgap,x),Ce!==0&&(B=oe.makeSpan(["arraycolsep"],[]),B.style.width=ke(Ce),$.push(B)))}}if(c=oe.makeSpan(["mtable"],$),h.length>0){for(var Ue=oe.makeLineSpan("hline",n,u),et=oe.makeLineSpan("hdashline",n,u),_e=[{type:"elem",elem:c,shift:0}];h.length>0;){var $e=h.pop(),qt=$e.pos-D;$e.isDashed?_e.push({type:"elem",elem:et,shift:qt}):_e.push({type:"elem",elem:Ue,shift:qt})}c=oe.makeVList({positionType:"individualShift",children:_e},n)}if(V.length===0)return oe.makeSpan(["mord"],[c],n);var Ht=oe.makeVList({positionType:"individualShift",children:V},n);return Ht=oe.makeSpan(["tag"],[Ht],n),oe.makeFragment([c,Ht])},_B={c:"center ",l:"left ",r:"right "},sr=function(e,n){for(var s=[],r=new be.MathNode("mtd",[],["mtr-glue"]),a=new be.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var o=e.body[l],c=[],h=0;h<o.length;h++)c.push(new be.MathNode("mtd",[Ct(o[h],n)]));e.tags&&e.tags[l]&&(c.unshift(r),c.push(r),e.leqno?c.unshift(a):c.push(a)),s.push(new be.MathNode("mtr",c))}var u=new be.MathNode("mtable",s),f=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);u.setAttribute("rowspacing",ke(f));var x="",b="";if(e.cols&&e.cols.length>0){var M=e.cols,y="",T=!1,S=0,N=M.length;M[0].type==="separator"&&(x+="top ",S=1),M[M.length-1].type==="separator"&&(x+="bottom ",N-=1);for(var j=S;j<N;j++)M[j].type==="align"?(b+=_B[M[j].align],T&&(y+="none "),T=!0):M[j].type==="separator"&&T&&(y+=M[j].separator==="|"?"solid ":"dashed ",T=!1);u.setAttribute("columnalign",b.trim()),/[sd]/.test(y)&&u.setAttribute("columnlines",y.trim())}if(e.colSeparationType==="align"){for(var m=e.cols||[],g="",E=1;E<m.length;E++)g+=E%2?"0em ":"1em ";u.setAttribute("columnspacing",g.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?u.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?u.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?u.setAttribute("columnspacing","0.5em"):u.setAttribute("columnspacing","1em");var v="",p=e.hLinesBeforeRow;x+=p[0].length>0?"left ":"",x+=p[p.length-1].length>0?"right ":"";for(var A=1;A<p.length-1;A++)v+=p[A].length===0?"none ":p[A][0]?"dashed ":"solid ";return/[sd]/.test(v)&&u.setAttribute("rowlines",v.trim()),x!==""&&(u=new be.MathNode("menclose",[u]),u.setAttribute("notation",x.trim())),e.arraystretch&&e.arraystretch<1&&(u=new be.MathNode("mstyle",[u]),u.setAttribute("scriptlevel","1")),u},uT=function(e,n){e.envName.indexOf("ed")===-1&&hm(e);var s=[],r=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",l=rl(e.parser,{cols:s,addJot:!0,autoTag:a?void 0:s2(e.envName),emptySingleRow:!0,colSeparationType:r,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),o,c=0,h={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var u="",f=0;f<n[0].body.length;f++){var x=st(n[0].body[f],"textord");u+=x.text}o=Number(u),c=o*2}var b=!c;l.body.forEach(function(S){for(var N=1;N<S.length;N+=2){var j=st(S[N],"styling"),m=st(j.body[0],"ordgroup");m.body.unshift(h)}if(b)c<S.length&&(c=S.length);else{var g=S.length/2;if(o<g)throw new Se("Too many math in a row: "+("expected "+o+", but got "+g),S[0])}});for(var M=0;M<c;++M){var y="r",T=0;M%2===1?y="l":M>0&&b&&(T=1),s[M]={type:"align",align:y,pregap:T,postgap:0}}return l.colSeparationType=b?"align":"alignat",l};nr({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=lm(e[0]),s=n?[e[0]]:st(e[0],"ordgroup").body,r=s.map(function(l){var o=Jg(l),c=o.text;if("lcr".indexOf(c)!==-1)return{type:"align",align:c};if(c==="|")return{type:"separator",separator:"|"};if(c===":")return{type:"separator",separator:":"};throw new Se("Unknown column alignment: "+c,l)}),a={cols:r,hskipBeforeAndAfter:!0,maxNumCols:r.length};return rl(t.parser,a,r2(t.envName))},htmlBuilder:ir,mathmlBuilder:sr});nr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",s={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var r=t.parser;if(r.consumeSpaces(),r.fetch().text==="["){if(r.consume(),r.consumeSpaces(),n=r.fetch().text,"lcr".indexOf(n)===-1)throw new Se("Expected l or c or r",r.nextToken);r.consume(),r.consumeSpaces(),r.expect("]"),r.consume(),s.cols=[{type:"align",align:n}]}}var a=rl(t.parser,s,r2(t.envName)),l=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(l).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:ir,mathmlBuilder:sr});nr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=rl(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:ir,mathmlBuilder:sr});nr({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=lm(e[0]),s=n?[e[0]]:st(e[0],"ordgroup").body,r=s.map(function(l){var o=Jg(l),c=o.text;if("lc".indexOf(c)!==-1)return{type:"align",align:c};throw new Se("Unknown column alignment: "+c,l)});if(r.length>1)throw new Se("{subarray} can contain only one column");var a={cols:r,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=rl(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new Se("{subarray} can contain only one column");return a},htmlBuilder:ir,mathmlBuilder:sr});nr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=rl(t.parser,e,r2(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ir,mathmlBuilder:sr});nr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:uT,htmlBuilder:ir,mathmlBuilder:sr});nr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&hm(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:s2(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return rl(t.parser,e,"display")},htmlBuilder:ir,mathmlBuilder:sr});nr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:uT,htmlBuilder:ir,mathmlBuilder:sr});nr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){hm(t);var e={autoTag:s2(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return rl(t.parser,e,"display")},htmlBuilder:ir,mathmlBuilder:sr});nr({type:"array",names:["CD"],props:{numArgs:0},handler(t){return hm(t),wB(t.parser)},htmlBuilder:ir,mathmlBuilder:sr});U("\\nonumber","\\gdef\\@eqnsw{0}");U("\\notag","\\nonumber");ze({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new Se(t.funcName+" valid only within array environment")}});var $5=cT;ze({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:s}=t,r=e[0];if(r.type!=="ordgroup")throw new Se("Invalid environment name",r);for(var a="",l=0;l<r.body.length;++l)a+=st(r.body[l],"textord").text;if(s==="\\begin"){if(!$5.hasOwnProperty(a))throw new Se("No such environment: "+a,r);var o=$5[a],{args:c,optArgs:h}=n.parseArguments("\\begin{"+a+"}",o),u={mode:n.mode,envName:a,parser:n},f=o.handler(u,c,h);n.expect("\\end",!1);var x=n.nextToken,b=st(n.parseFunction(),"environment");if(b.name!==a)throw new Se("Mismatch: \\begin{"+a+"} matched by \\end{"+b.name+"}",x);return f}return{type:"environment",mode:n.mode,name:a,nameGroup:r}}});var dT=(t,e)=>{var n=t.font,s=e.withFont(n);return ft(t.body,s)},fT=(t,e)=>{var n=t.font,s=e.withFont(n);return Ct(t.body,s)},L5={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ze({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=pf(e[0]),a=s;return a in L5&&(a=L5[a]),{type:"font",mode:n.mode,font:a.slice(1),body:r}},htmlBuilder:dT,mathmlBuilder:fT});ze({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,s=e[0],r=xt.isCharacterBox(s);return{type:"mclass",mode:n.mode,mclass:om(s),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:s}],isCharacterBox:r}}});ze({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:s,breakOnTokenText:r}=t,{mode:a}=n,l=n.parseExpression(!0,r),o="math"+s.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:n.mode,body:l}}},htmlBuilder:dT,mathmlBuilder:fT});var mT=(t,e)=>{var n=e;return t==="display"?n=n.id>=We.SCRIPT.id?n.text():We.DISPLAY:t==="text"&&n.size===We.DISPLAY.size?n=We.TEXT:t==="script"?n=We.SCRIPT:t==="scriptscript"&&(n=We.SCRIPTSCRIPT),n},a2=(t,e)=>{var n=mT(t.size,e.style),s=n.fracNum(),r=n.fracDen(),a;a=e.havingStyle(s);var l=ft(t.numer,a,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,c=3.5/e.fontMetrics().ptPerEm;l.height=l.height<o?o:l.height,l.depth=l.depth<c?c:l.depth}a=e.havingStyle(r);var h=ft(t.denom,a,e),u,f,x;t.hasBarLine?(t.barSize?(f=en(t.barSize,e),u=oe.makeLineSpan("frac-line",e,f)):u=oe.makeLineSpan("frac-line",e),f=u.height,x=u.height):(u=null,f=0,x=e.fontMetrics().defaultRuleThickness);var b,M,y;n.size===We.DISPLAY.size||t.size==="display"?(b=e.fontMetrics().num1,f>0?M=3*x:M=7*x,y=e.fontMetrics().denom1):(f>0?(b=e.fontMetrics().num2,M=x):(b=e.fontMetrics().num3,M=3*x),y=e.fontMetrics().denom2);var T;if(u){var N=e.fontMetrics().axisHeight;b-l.depth-(N+.5*f)<M&&(b+=M-(b-l.depth-(N+.5*f))),N-.5*f-(h.height-y)<M&&(y+=M-(N-.5*f-(h.height-y)));var j=-(N-.5*f);T=oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:y},{type:"elem",elem:u,shift:j},{type:"elem",elem:l,shift:-b}]},e)}else{var S=b-l.depth-(h.height-y);S<M&&(b+=.5*(M-S),y+=.5*(M-S)),T=oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:y},{type:"elem",elem:l,shift:-b}]},e)}a=e.havingStyle(n),T.height*=a.sizeMultiplier/e.sizeMultiplier,T.depth*=a.sizeMultiplier/e.sizeMultiplier;var m;n.size===We.DISPLAY.size?m=e.fontMetrics().delim1:n.size===We.SCRIPTSCRIPT.size?m=e.havingStyle(We.SCRIPT).fontMetrics().delim2:m=e.fontMetrics().delim2;var g,E;return t.leftDelim==null?g=hh(e,["mopen"]):g=Pr.customSizedDelim(t.leftDelim,m,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?E=oe.makeSpan([]):t.rightDelim==null?E=hh(e,["mclose"]):E=Pr.customSizedDelim(t.rightDelim,m,!0,e.havingStyle(n),t.mode,["mclose"]),oe.makeSpan(["mord"].concat(a.sizingClasses(e)),[g,oe.makeSpan(["mfrac"],[T]),E],e)},l2=(t,e)=>{var n=new be.MathNode("mfrac",[Ct(t.numer,e),Ct(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var s=en(t.barSize,e);n.setAttribute("linethickness",ke(s))}var r=mT(t.size,e.style);if(r.size!==e.style.size){n=new be.MathNode("mstyle",[n]);var a=r.size===We.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",a),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var l=[];if(t.leftDelim!=null){var o=new be.MathNode("mo",[new be.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),l.push(o)}if(l.push(n),t.rightDelim!=null){var c=new be.MathNode("mo",[new be.TextNode(t.rightDelim.replace("\\",""))]);c.setAttribute("fence","true"),l.push(c)}return Qg(l)}return n};ze({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0],a=e[1],l,o=null,c=null,h="auto";switch(s){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,o="(",c=")";break;case"\\\\bracefrac":l=!1,o="\\{",c="\\}";break;case"\\\\brackfrac":l=!1,o="[",c="]";break;default:throw new Error("Unrecognized genfrac command")}switch(s){case"\\dfrac":case"\\dbinom":h="display";break;case"\\tfrac":case"\\tbinom":h="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:r,denom:a,hasBarLine:l,leftDelim:o,rightDelim:c,size:h,barSize:null}},htmlBuilder:a2,mathmlBuilder:l2});ze({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0],a=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:r,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});ze({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:s}=t,r;switch(n){case"\\over":r="\\frac";break;case"\\choose":r="\\binom";break;case"\\atop":r="\\\\atopfrac";break;case"\\brace":r="\\\\bracefrac";break;case"\\brack":r="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:r,token:s}}});var F5=["display","text","script","scriptscript"],U5=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};ze({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,s=e[4],r=e[5],a=pf(e[0]),l=a.type==="atom"&&a.family==="open"?U5(a.text):null,o=pf(e[1]),c=o.type==="atom"&&o.family==="close"?U5(o.text):null,h=st(e[2],"size"),u,f=null;h.isBlank?u=!0:(f=h.value,u=f.number>0);var x="auto",b=e[3];if(b.type==="ordgroup"){if(b.body.length>0){var M=st(b.body[0],"textord");x=F5[Number(M.text)]}}else b=st(b,"textord"),x=F5[Number(b.text)];return{type:"genfrac",mode:n.mode,numer:s,denom:r,continued:!1,hasBarLine:u,barSize:f,leftDelim:l,rightDelim:c,size:x}},htmlBuilder:a2,mathmlBuilder:l2});ze({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:s,token:r}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:st(e[0],"size").value,token:r}}});ze({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0],a=dO(st(e[1],"infix").size),l=e[2],o=a.number>0;return{type:"genfrac",mode:n.mode,numer:r,denom:l,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:a2,mathmlBuilder:l2});var pT=(t,e)=>{var n=e.style,s,r;t.type==="supsub"?(s=t.sup?ft(t.sup,e.havingStyle(n.sup()),e):ft(t.sub,e.havingStyle(n.sub()),e),r=st(t.base,"horizBrace")):r=st(t,"horizBrace");var a=ft(r.base,e.havingBaseStyle(We.DISPLAY)),l=Hr.svgSpan(r,e),o;if(r.isOver?(o=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:l}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=oe.makeVList({positionType:"bottom",positionData:a.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),s){var c=oe.makeSpan(["mord",r.isOver?"mover":"munder"],[o],e);r.isOver?o=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:.2},{type:"elem",elem:s}]},e):o=oe.makeVList({positionType:"bottom",positionData:c.depth+.2+s.height+s.depth,children:[{type:"elem",elem:s},{type:"kern",size:.2},{type:"elem",elem:c}]},e)}return oe.makeSpan(["mord",r.isOver?"mover":"munder"],[o],e)},qB=(t,e)=>{var n=Hr.mathMLnode(t.label);return new be.MathNode(t.isOver?"mover":"munder",[Ct(t.base,e),n])};ze({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:s}=t;return{type:"horizBrace",mode:n.mode,label:s,isOver:/^\\over/.test(s),base:e[0]}},htmlBuilder:pT,mathmlBuilder:qB});ze({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,s=e[1],r=st(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:r})?{type:"href",mode:n.mode,href:r,body:xn(s)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=In(t.body,e,!1);return oe.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=Ya(t.body,e);return n instanceof qi||(n=new qi("mrow",[n])),n.setAttribute("href",t.href),n}});ze({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,s=st(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:s}))return n.formatUnsupportedCmd("\\url");for(var r=[],a=0;a<s.length;a++){var l=s[a];l==="~"&&(l="\\textasciitilde"),r.push({type:"textord",mode:"text",text:l})}var o={type:"text",mode:n.mode,font:"\\texttt",body:r};return{type:"href",mode:n.mode,href:s,body:xn(o)}}});ze({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:xn(e[0])}},htmlBuilder(t,e){var n=In(t.body,e,!1);return oe.makeFragment(n)},mathmlBuilder(t,e){return new be.MathNode("mrow",Ei(t.body,e))}});ze({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:s,token:r}=t,a=st(e[0],"raw").string,l=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,c={};switch(s){case"\\htmlClass":c.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":c.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":c.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var h=a.split(","),u=0;u<h.length;u++){var f=h[u],x=f.indexOf("=");if(x<0)throw new Se("\\htmlData key/value '"+f+"' missing equals sign");var b=f.slice(0,x),M=f.slice(x+1);c["data-"+b.trim()]=M}o={command:"\\htmlData",attributes:c};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(o)?{type:"html",mode:n.mode,attributes:c,body:xn(l)}:n.formatUnsupportedCmd(s)},htmlBuilder:(t,e)=>{var n=In(t.body,e,!1),s=["enclosing"];t.attributes.class&&s.push(...t.attributes.class.trim().split(/\s+/));var r=oe.makeSpan(s,n,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&r.setAttribute(a,t.attributes[a]);return r},mathmlBuilder:(t,e)=>Ya(t.body,e)});ze({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:xn(e[0]),mathml:xn(e[1])}},htmlBuilder:(t,e)=>{var n=In(t.html,e,!1);return oe.makeFragment(n)},mathmlBuilder:(t,e)=>Ya(t.mathml,e)});var $p=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new Se("Invalid size: '"+e+"' in \\includegraphics");var s={number:+(n[1]+n[2]),unit:n[3]};if(!Iw(s))throw new Se("Invalid unit: '"+s.unit+"' in \\includegraphics.");return s};ze({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:s}=t,r={number:0,unit:"em"},a={number:.9,unit:"em"},l={number:0,unit:"em"},o="";if(n[0])for(var c=st(n[0],"raw").string,h=c.split(","),u=0;u<h.length;u++){var f=h[u].split("=");if(f.length===2){var x=f[1].trim();switch(f[0].trim()){case"alt":o=x;break;case"width":r=$p(x);break;case"height":a=$p(x);break;case"totalheight":l=$p(x);break;default:throw new Se("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var b=st(e[0],"url").url;return o===""&&(o=b,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),s.settings.isTrusted({command:"\\includegraphics",url:b})?{type:"includegraphics",mode:s.mode,alt:o,width:r,height:a,totalheight:l,src:b}:s.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=en(t.height,e),s=0;t.totalheight.number>0&&(s=en(t.totalheight,e)-n);var r=0;t.width.number>0&&(r=en(t.width,e));var a={height:ke(n+s)};r>0&&(a.width=ke(r)),s>0&&(a.verticalAlign=ke(-s));var l=new qO(t.src,t.alt,a);return l.height=n,l.depth=s,l},mathmlBuilder:(t,e)=>{var n=new be.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var s=en(t.height,e),r=0;if(t.totalheight.number>0&&(r=en(t.totalheight,e)-s,n.setAttribute("valign",ke(-r))),n.setAttribute("height",ke(s+r)),t.width.number>0){var a=en(t.width,e);n.setAttribute("width",ke(a))}return n.setAttribute("src",t.src),n}});ze({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:s}=t,r=st(e[0],"size");if(n.settings.strict){var a=s[1]==="m",l=r.value.unit==="mu";a?(l||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" supports only mu units, "+("not "+r.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" works only in math mode")):l&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:r.value}},htmlBuilder(t,e){return oe.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=en(t.dimension,e);return new be.SpaceNode(n)}});ze({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0];return{type:"lap",mode:n.mode,alignment:s.slice(5),body:r}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=oe.makeSpan([],[ft(t.body,e)]),n=oe.makeSpan(["inner"],[n],e)):n=oe.makeSpan(["inner"],[ft(t.body,e)]);var s=oe.makeSpan(["fix"],[]),r=oe.makeSpan([t.alignment],[n,s],e),a=oe.makeSpan(["strut"]);return a.style.height=ke(r.height+r.depth),r.depth&&(a.style.verticalAlign=ke(-r.depth)),r.children.unshift(a),r=oe.makeSpan(["thinbox"],[r],e),oe.makeSpan(["mord","vbox"],[r],e)},mathmlBuilder:(t,e)=>{var n=new be.MathNode("mpadded",[Ct(t.body,e)]);if(t.alignment!=="rlap"){var s=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",s+"width")}return n.setAttribute("width","0px"),n}});ze({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:s}=t,r=s.mode;s.switchMode("math");var a=n==="\\("?"\\)":"$",l=s.parseExpression(!1,a);return s.expect(a),s.switchMode(r),{type:"styling",mode:s.mode,style:"text",body:l}}});ze({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new Se("Mismatched "+t.funcName)}});var H5=(t,e)=>{switch(e.style.size){case We.DISPLAY.size:return t.display;case We.TEXT.size:return t.text;case We.SCRIPT.size:return t.script;case We.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};ze({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:xn(e[0]),text:xn(e[1]),script:xn(e[2]),scriptscript:xn(e[3])}},htmlBuilder:(t,e)=>{var n=H5(t,e),s=In(n,e,!1);return oe.makeFragment(s)},mathmlBuilder:(t,e)=>{var n=H5(t,e);return Ya(n,e)}});var xT=(t,e,n,s,r,a,l)=>{t=oe.makeSpan([],[t]);var o=n&&xt.isCharacterBox(n),c,h;if(e){var u=ft(e,s.havingStyle(r.sup()),s);h={elem:u,kern:Math.max(s.fontMetrics().bigOpSpacing1,s.fontMetrics().bigOpSpacing3-u.depth)}}if(n){var f=ft(n,s.havingStyle(r.sub()),s);c={elem:f,kern:Math.max(s.fontMetrics().bigOpSpacing2,s.fontMetrics().bigOpSpacing4-f.height)}}var x;if(h&&c){var b=s.fontMetrics().bigOpSpacing5+c.elem.height+c.elem.depth+c.kern+t.depth+l;x=oe.makeVList({positionType:"bottom",positionData:b,children:[{type:"kern",size:s.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:ke(-a)},{type:"kern",size:c.kern},{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:ke(a)},{type:"kern",size:s.fontMetrics().bigOpSpacing5}]},s)}else if(c){var M=t.height-l;x=oe.makeVList({positionType:"top",positionData:M,children:[{type:"kern",size:s.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:ke(-a)},{type:"kern",size:c.kern},{type:"elem",elem:t}]},s)}else if(h){var y=t.depth+l;x=oe.makeVList({positionType:"bottom",positionData:y,children:[{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:ke(a)},{type:"kern",size:s.fontMetrics().bigOpSpacing5}]},s)}else return t;var T=[x];if(c&&a!==0&&!o){var S=oe.makeSpan(["mspace"],[],s);S.style.marginRight=ke(a),T.unshift(S)}return oe.makeSpan(["mop","op-limits"],T,s)},gT=["\\smallint"],Ac=(t,e)=>{var n,s,r=!1,a;t.type==="supsub"?(n=t.sup,s=t.sub,a=st(t.base,"op"),r=!0):a=st(t,"op");var l=e.style,o=!1;l.size===We.DISPLAY.size&&a.symbol&&!gT.includes(a.name)&&(o=!0);var c;if(a.symbol){var h=o?"Size2-Regular":"Size1-Regular",u="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(u=a.name.slice(1),a.name=u==="oiint"?"\\iint":"\\iiint"),c=oe.makeSymbol(a.name,h,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),u.length>0){var f=c.italic,x=oe.staticSvg(u+"Size"+(o?"2":"1"),e);c=oe.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:0},{type:"elem",elem:x,shift:o?.08:0}]},e),a.name="\\"+u,c.classes.unshift("mop"),c.italic=f}}else if(a.body){var b=In(a.body,e,!0);b.length===1&&b[0]instanceof ms?(c=b[0],c.classes[0]="mop"):c=oe.makeSpan(["mop"],b,e)}else{for(var M=[],y=1;y<a.name.length;y++)M.push(oe.mathsym(a.name[y],a.mode,e));c=oe.makeSpan(["mop"],M,e)}var T=0,S=0;return(c instanceof ms||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(T=(c.height-c.depth)/2-e.fontMetrics().axisHeight,S=c.italic),r?xT(c,n,s,e,l,S,T):(T&&(c.style.position="relative",c.style.top=ke(T)),c)},Oh=(t,e)=>{var n;if(t.symbol)n=new qi("mo",[ps(t.name,t.mode)]),gT.includes(t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new qi("mo",Ei(t.body,e));else{n=new qi("mi",[new Vs(t.name.slice(1))]);var s=new qi("mo",[ps("","text")]);t.parentIsSupSub?n=new qi("mrow",[n,s]):n=Vw([n,s])}return n},OB={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};ze({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=s;return r.length===1&&(r=OB[r]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Ac,mathmlBuilder:Oh});ze({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,s=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:xn(s)}},htmlBuilder:Ac,mathmlBuilder:Oh});var BB={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};ze({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Ac,mathmlBuilder:Oh});ze({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Ac,mathmlBuilder:Oh});ze({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:n}=t,s=n;return s.length===1&&(s=BB[s]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:s}},htmlBuilder:Ac,mathmlBuilder:Oh});var yT=(t,e)=>{var n,s,r=!1,a;t.type==="supsub"?(n=t.sup,s=t.sub,a=st(t.base,"operatorname"),r=!0):a=st(t,"operatorname");var l;if(a.body.length>0){for(var o=a.body.map(f=>{var x=f.text;return typeof x=="string"?{type:"textord",mode:f.mode,text:x}:f}),c=In(o,e.withFont("mathrm"),!0),h=0;h<c.length;h++){var u=c[h];u instanceof ms&&(u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=oe.makeSpan(["mop"],c,e)}else l=oe.makeSpan(["mop"],[],e);return r?xT(l,n,s,e,e.style,0,0):l},$B=(t,e)=>{for(var n=Ei(t.body,e.withFont("mathrm")),s=!0,r=0;r<n.length;r++){var a=n[r];if(!(a instanceof be.SpaceNode))if(a instanceof be.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=a.children[0];a.children.length===1&&l instanceof be.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):s=!1;break}default:s=!1}else s=!1}if(s){var o=n.map(u=>u.toText()).join("");n=[new be.TextNode(o)]}var c=new be.MathNode("mi",n);c.setAttribute("mathvariant","normal");var h=new be.MathNode("mo",[ps("","text")]);return t.parentIsSupSub?new be.MathNode("mrow",[c,h]):be.newDocumentFragment([c,h])};ze({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0];return{type:"operatorname",mode:n.mode,body:xn(r),alwaysHandleSupSub:s==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:yT,mathmlBuilder:$B});U("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");io({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?oe.makeFragment(In(t.body,e,!1)):oe.makeSpan(["mord"],In(t.body,e,!0),e)},mathmlBuilder(t,e){return Ya(t.body,e,!0)}});ze({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,s=e[0];return{type:"overline",mode:n.mode,body:s}},htmlBuilder(t,e){var n=ft(t.body,e.havingCrampedStyle()),s=oe.makeLineSpan("overline-line",e),r=e.fontMetrics().defaultRuleThickness,a=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*r},{type:"elem",elem:s},{type:"kern",size:r}]},e);return oe.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var n=new be.MathNode("mo",[new be.TextNode("")]);n.setAttribute("stretchy","true");var s=new be.MathNode("mover",[Ct(t.body,e),n]);return s.setAttribute("accent","true"),s}});ze({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,s=e[0];return{type:"phantom",mode:n.mode,body:xn(s)}},htmlBuilder:(t,e)=>{var n=In(t.body,e.withPhantom(),!1);return oe.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Ei(t.body,e);return new be.MathNode("mphantom",n)}});ze({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,s=e[0];return{type:"hphantom",mode:n.mode,body:s}},htmlBuilder:(t,e)=>{var n=oe.makeSpan([],[ft(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var s=0;s<n.children.length;s++)n.children[s].height=0,n.children[s].depth=0;return n=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),oe.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Ei(xn(t.body),e),s=new be.MathNode("mphantom",n),r=new be.MathNode("mpadded",[s]);return r.setAttribute("height","0px"),r.setAttribute("depth","0px"),r}});ze({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,s=e[0];return{type:"vphantom",mode:n.mode,body:s}},htmlBuilder:(t,e)=>{var n=oe.makeSpan(["inner"],[ft(t.body,e.withPhantom())]),s=oe.makeSpan(["fix"],[]);return oe.makeSpan(["mord","rlap"],[n,s],e)},mathmlBuilder:(t,e)=>{var n=Ei(xn(t.body),e),s=new be.MathNode("mphantom",n),r=new be.MathNode("mpadded",[s]);return r.setAttribute("width","0px"),r}});ze({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,s=st(e[0],"size").value,r=e[1];return{type:"raisebox",mode:n.mode,dy:s,body:r}},htmlBuilder(t,e){var n=ft(t.body,e),s=en(t.dy,e);return oe.makeVList({positionType:"shift",positionData:-s,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new be.MathNode("mpadded",[Ct(t.body,e)]),s=t.dy.number+t.dy.unit;return n.setAttribute("voffset",s),n}});ze({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});ze({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:s}=t,r=n[0],a=st(e[0],"size"),l=st(e[1],"size");return{type:"rule",mode:s.mode,shift:r&&st(r,"size").value,width:a.value,height:l.value}},htmlBuilder(t,e){var n=oe.makeSpan(["mord","rule"],[],e),s=en(t.width,e),r=en(t.height,e),a=t.shift?en(t.shift,e):0;return n.style.borderRightWidth=ke(s),n.style.borderTopWidth=ke(r),n.style.bottom=ke(a),n.width=s,n.height=r+a,n.depth=-a,n.maxFontSize=r*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=en(t.width,e),s=en(t.height,e),r=t.shift?en(t.shift,e):0,a=e.color&&e.getColor()||"black",l=new be.MathNode("mspace");l.setAttribute("mathbackground",a),l.setAttribute("width",ke(n)),l.setAttribute("height",ke(s));var o=new be.MathNode("mpadded",[l]);return r>=0?o.setAttribute("height",ke(r)):(o.setAttribute("height",ke(r)),o.setAttribute("depth",ke(-r))),o.setAttribute("voffset",ke(r)),o}});function bT(t,e,n){for(var s=In(t,e,!1),r=e.sizeMultiplier/n.sizeMultiplier,a=0;a<s.length;a++){var l=s[a].classes.indexOf("sizing");l<0?Array.prototype.push.apply(s[a].classes,e.sizingClasses(n)):s[a].classes[l+1]==="reset-size"+e.size&&(s[a].classes[l+1]="reset-size"+n.size),s[a].height*=r,s[a].depth*=r}return oe.makeFragment(s)}var V5=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],LB=(t,e)=>{var n=e.havingSize(t.size);return bT(t.body,n,e)};ze({type:"sizing",names:V5,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:s,parser:r}=t,a=r.parseExpression(!1,n);return{type:"sizing",mode:r.mode,size:V5.indexOf(s)+1,body:a}},htmlBuilder:LB,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),s=Ei(t.body,n),r=new be.MathNode("mstyle",s);return r.setAttribute("mathsize",ke(n.sizeMultiplier)),r}});ze({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:s}=t,r=!1,a=!1,l=n[0]&&st(n[0],"ordgroup");if(l)for(var o="",c=0;c<l.body.length;++c){var h=l.body[c];if(o=h.text,o==="t")r=!0;else if(o==="b")a=!0;else{r=!1,a=!1;break}}else r=!0,a=!0;var u=e[0];return{type:"smash",mode:s.mode,body:u,smashHeight:r,smashDepth:a}},htmlBuilder:(t,e)=>{var n=oe.makeSpan([],[ft(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var s=0;s<n.children.length;s++)n.children[s].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].depth=0;var a=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return oe.makeSpan(["mord"],[a],e)},mathmlBuilder:(t,e)=>{var n=new be.MathNode("mpadded",[Ct(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});ze({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:s}=t,r=n[0],a=e[0];return{type:"sqrt",mode:s.mode,body:a,index:r}},htmlBuilder(t,e){var n=ft(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=oe.wrapFragment(n,e);var s=e.fontMetrics(),r=s.defaultRuleThickness,a=r;e.style.id<We.TEXT.id&&(a=e.fontMetrics().xHeight);var l=r+a/4,o=n.height+n.depth+l+r,{span:c,ruleWidth:h,advanceWidth:u}=Pr.sqrtImage(o,e),f=c.height-h;f>n.height+n.depth+l&&(l=(l+f-n.height-n.depth)/2);var x=c.height-n.height-l-h;n.style.paddingLeft=ke(u);var b=oe.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+x)},{type:"elem",elem:c},{type:"kern",size:h}]},e);if(t.index){var M=e.havingStyle(We.SCRIPTSCRIPT),y=ft(t.index,M,e),T=.6*(b.height-b.depth),S=oe.makeVList({positionType:"shift",positionData:-T,children:[{type:"elem",elem:y}]},e),N=oe.makeSpan(["root"],[S]);return oe.makeSpan(["mord","sqrt"],[N,b],e)}else return oe.makeSpan(["mord","sqrt"],[b],e)},mathmlBuilder(t,e){var{body:n,index:s}=t;return s?new be.MathNode("mroot",[Ct(n,e),Ct(s,e)]):new be.MathNode("msqrt",[Ct(n,e)])}});var G5={display:We.DISPLAY,text:We.TEXT,script:We.SCRIPT,scriptscript:We.SCRIPTSCRIPT};ze({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:s,parser:r}=t,a=r.parseExpression(!0,n),l=s.slice(1,s.length-5);return{type:"styling",mode:r.mode,style:l,body:a}},htmlBuilder(t,e){var n=G5[t.style],s=e.havingStyle(n).withFont("");return bT(t.body,s,e)},mathmlBuilder(t,e){var n=G5[t.style],s=e.havingStyle(n),r=Ei(t.body,s),a=new be.MathNode("mstyle",r),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=l[t.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var FB=function(e,n){var s=e.base;if(s)if(s.type==="op"){var r=s.limits&&(n.style.size===We.DISPLAY.size||s.alwaysHandleSupSub);return r?Ac:null}else if(s.type==="operatorname"){var a=s.alwaysHandleSupSub&&(n.style.size===We.DISPLAY.size||s.limits);return a?yT:null}else{if(s.type==="accent")return xt.isCharacterBox(s.base)?e2:null;if(s.type==="horizBrace"){var l=!e.sub;return l===s.isOver?pT:null}else return null}else return null};io({type:"supsub",htmlBuilder(t,e){var n=FB(t,e);if(n)return n(t,e);var{base:s,sup:r,sub:a}=t,l=ft(s,e),o,c,h=e.fontMetrics(),u=0,f=0,x=s&&xt.isCharacterBox(s);if(r){var b=e.havingStyle(e.style.sup());o=ft(r,b,e),x||(u=l.height-b.fontMetrics().supDrop*b.sizeMultiplier/e.sizeMultiplier)}if(a){var M=e.havingStyle(e.style.sub());c=ft(a,M,e),x||(f=l.depth+M.fontMetrics().subDrop*M.sizeMultiplier/e.sizeMultiplier)}var y;e.style===We.DISPLAY?y=h.sup1:e.style.cramped?y=h.sup3:y=h.sup2;var T=e.sizeMultiplier,S=ke(.5/h.ptPerEm/T),N=null;if(c){var j=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(l instanceof ms||j)&&(N=ke(-l.italic))}var m;if(o&&c){u=Math.max(u,y,o.depth+.25*h.xHeight),f=Math.max(f,h.sub2);var g=h.defaultRuleThickness,E=4*g;if(u-o.depth-(c.height-f)<E){f=E-(u-o.depth)+c.height;var v=.8*h.xHeight-(u-o.depth);v>0&&(u+=v,f-=v)}var p=[{type:"elem",elem:c,shift:f,marginRight:S,marginLeft:N},{type:"elem",elem:o,shift:-u,marginRight:S}];m=oe.makeVList({positionType:"individualShift",children:p},e)}else if(c){f=Math.max(f,h.sub1,c.height-.8*h.xHeight);var A=[{type:"elem",elem:c,marginLeft:N,marginRight:S}];m=oe.makeVList({positionType:"shift",positionData:f,children:A},e)}else if(o)u=Math.max(u,y,o.depth+.25*h.xHeight),m=oe.makeVList({positionType:"shift",positionData:-u,children:[{type:"elem",elem:o,marginRight:S}]},e);else throw new Error("supsub must have either sup or sub.");var w=Vx(l,"right")||"mord";return oe.makeSpan([w],[l,oe.makeSpan(["msupsub"],[m])],e)},mathmlBuilder(t,e){var n=!1,s,r;t.base&&t.base.type==="horizBrace"&&(r=!!t.sup,r===t.base.isOver&&(n=!0,s=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[Ct(t.base,e)];t.sub&&a.push(Ct(t.sub,e)),t.sup&&a.push(Ct(t.sup,e));var l;if(n)l=s?"mover":"munder";else if(t.sub)if(t.sup){var h=t.base;h&&h.type==="op"&&h.limits&&e.style===We.DISPLAY||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(e.style===We.DISPLAY||h.limits)?l="munderover":l="msubsup"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===We.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===We.DISPLAY)?l="munder":l="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===We.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===We.DISPLAY)?l="mover":l="msup"}return new be.MathNode(l,a)}});io({type:"atom",htmlBuilder(t,e){return oe.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new be.MathNode("mo",[ps(t.text,t.mode)]);if(t.family==="bin"){var s=Kg(t,e);s==="bold-italic"&&n.setAttribute("mathvariant",s)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var vT={mi:"italic",mn:"normal",mtext:"normal"};io({type:"mathord",htmlBuilder(t,e){return oe.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new be.MathNode("mi",[ps(t.text,t.mode,e)]),s=Kg(t,e)||"italic";return s!==vT[n.type]&&n.setAttribute("mathvariant",s),n}});io({type:"textord",htmlBuilder(t,e){return oe.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=ps(t.text,t.mode,e),s=Kg(t,e)||"normal",r;return t.mode==="text"?r=new be.MathNode("mtext",[n]):/[0-9]/.test(t.text)?r=new be.MathNode("mn",[n]):t.text==="\\prime"?r=new be.MathNode("mo",[n]):r=new be.MathNode("mi",[n]),s!==vT[r.type]&&r.setAttribute("mathvariant",s),r}});var Lp={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Fp={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};io({type:"spacing",htmlBuilder(t,e){if(Fp.hasOwnProperty(t.text)){var n=Fp[t.text].className||"";if(t.mode==="text"){var s=oe.makeOrd(t,e,"textord");return s.classes.push(n),s}else return oe.makeSpan(["mspace",n],[oe.mathsym(t.text,t.mode,e)],e)}else{if(Lp.hasOwnProperty(t.text))return oe.makeSpan(["mspace",Lp[t.text]],[],e);throw new Se('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(Fp.hasOwnProperty(t.text))n=new be.MathNode("mtext",[new be.TextNode("")]);else{if(Lp.hasOwnProperty(t.text))return new be.MathNode("mspace");throw new Se('Unknown type of space "'+t.text+'"')}return n}});var W5=()=>{var t=new be.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};io({type:"tag",mathmlBuilder(t,e){var n=new be.MathNode("mtable",[new be.MathNode("mtr",[W5(),new be.MathNode("mtd",[Ya(t.body,e)]),W5(),new be.MathNode("mtd",[Ya(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var Y5={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},X5={"\\textbf":"textbf","\\textmd":"textmd"},UB={"\\textit":"textit","\\textup":"textup"},Z5=(t,e)=>{var n=t.font;if(n){if(Y5[n])return e.withTextFontFamily(Y5[n]);if(X5[n])return e.withTextFontWeight(X5[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(UB[n])};ze({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:s}=t,r=e[0];return{type:"text",mode:n.mode,body:xn(r),font:s}},htmlBuilder(t,e){var n=Z5(t,e),s=In(t.body,n,!0);return oe.makeSpan(["mord","text"],s,n)},mathmlBuilder(t,e){var n=Z5(t,e);return Ya(t.body,n)}});ze({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=ft(t.body,e),s=oe.makeLineSpan("underline-line",e),r=e.fontMetrics().defaultRuleThickness,a=oe.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:r},{type:"elem",elem:s},{type:"kern",size:3*r},{type:"elem",elem:n}]},e);return oe.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var n=new be.MathNode("mo",[new be.TextNode("")]);n.setAttribute("stretchy","true");var s=new be.MathNode("munder",[Ct(t.body,e),n]);return s.setAttribute("accentunder","true"),s}});ze({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=ft(t.body,e),s=e.fontMetrics().axisHeight,r=.5*(n.height-s-(n.depth+s));return oe.makeVList({positionType:"shift",positionData:r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new be.MathNode("mpadded",[Ct(t.body,e)],["vcenter"])}});ze({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new Se("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=Q5(t),s=[],r=e.havingStyle(e.style.text()),a=0;a<n.length;a++){var l=n[a];l==="~"&&(l="\\textasciitilde"),s.push(oe.makeSymbol(l,"Typewriter-Regular",t.mode,r,["mord","texttt"]))}return oe.makeSpan(["mord","text"].concat(r.sizingClasses(e)),oe.tryCombineChars(s),r)},mathmlBuilder(t,e){var n=new be.TextNode(Q5(t)),s=new be.MathNode("mtext",[n]);return s.setAttribute("mathvariant","monospace"),s}});var Q5=t=>t.body.replace(/ /g,t.star?"":""),ka=Uw,jT=`[ \r
	]`,HB="\\\\[a-zA-Z@]+",VB="\\\\[^\uD800-\uDFFF]",GB="("+HB+")"+jT+"*",WB=`\\\\(
|[ \r	]+
?)[ \r	]*`,Xx="[-]",YB=new RegExp(Xx+"+$"),XB="("+jT+"+)|"+(WB+"|")+"([!-\\[\\]---]"+(Xx+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Xx+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+GB)+("|"+VB+")");let K5=class{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(XB,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new Rs("EOF",new es(this,n,n));var s=this.tokenRegex.exec(e);if(s===null||s.index!==n)throw new Se("Unexpected character: '"+e[n]+"'",new Rs(e[n],new es(this,n,n+1)));var r=s[6]||s[3]||(s[2]?"\\ ":" ");if(this.catcodes[r]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new Rs(r,new es(this,n,this.tokenRegex.lastIndex))}},ZB=class{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Se("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,s){if(s===void 0&&(s=!1),s){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}};var QB=hT;U("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});U("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});U("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});U("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});U("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});U("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");U("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var J5={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};U("\\char",function(t){var e=t.popToken(),n,s="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")s=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new Se("\\char` missing argument");s=e.text.charCodeAt(0)}else n=10;if(n){if(s=J5[e.text],s==null||s>=n)throw new Se("Invalid base-"+n+" digit "+e.text);for(var r;(r=J5[t.future().text])!=null&&r<n;)s*=n,s+=r,t.popToken()}return"\\@char{"+s+"}"});var o2=(t,e,n,s)=>{var r=t.consumeArg().tokens;if(r.length!==1)throw new Se("\\newcommand's first argument must be a macro name");var a=r[0].text,l=t.isDefined(a);if(l&&!e)throw new Se("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!l&&!n)throw new Se("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var o=0;if(r=t.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var c="",h=t.expandNextToken();h.text!=="]"&&h.text!=="EOF";)c+=h.text,h=t.expandNextToken();if(!c.match(/^\s*[0-9]+\s*$/))throw new Se("Invalid number of arguments: "+c);o=parseInt(c),r=t.consumeArg().tokens}return l&&s||t.macros.set(a,{tokens:r,numArgs:o}),""};U("\\newcommand",t=>o2(t,!1,!0,!1));U("\\renewcommand",t=>o2(t,!0,!1,!1));U("\\providecommand",t=>o2(t,!0,!0,!0));U("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});U("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});U("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),ka[n],Rt.math[n],Rt.text[n]),""});U("\\bgroup","{");U("\\egroup","}");U("~","\\nobreakspace");U("\\lq","`");U("\\rq","'");U("\\aa","\\r a");U("\\AA","\\r A");U("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");U("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");U("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");U("","\\mathscr{B}");U("","\\mathscr{E}");U("","\\mathscr{F}");U("","\\mathscr{H}");U("","\\mathscr{I}");U("","\\mathscr{L}");U("","\\mathscr{M}");U("","\\mathscr{R}");U("","\\mathfrak{C}");U("","\\mathfrak{H}");U("","\\mathfrak{Z}");U("\\Bbbk","\\Bbb{k}");U("","\\cdotp");U("\\llap","\\mathllap{\\textrm{#1}}");U("\\rlap","\\mathrlap{\\textrm{#1}}");U("\\clap","\\mathclap{\\textrm{#1}}");U("\\mathstrut","\\vphantom{(}");U("\\underbar","\\underline{\\text{#1}}");U("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');U("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");U("\\ne","\\neq");U("","\\neq");U("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");U("","\\notin");U("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");U("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");U("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");U("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");U("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");U("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");U("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");U("","\\perp");U("","\\mathclose{!\\mkern-0.8mu!}");U("","\\notni");U("","\\ulcorner");U("","\\urcorner");U("","\\llcorner");U("","\\lrcorner");U("","\\copyright");U("","\\textregistered");U("","\\textregistered");U("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');U("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');U("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');U("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');U("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");U("","\\vdots");U("\\varGamma","\\mathit{\\Gamma}");U("\\varDelta","\\mathit{\\Delta}");U("\\varTheta","\\mathit{\\Theta}");U("\\varLambda","\\mathit{\\Lambda}");U("\\varXi","\\mathit{\\Xi}");U("\\varPi","\\mathit{\\Pi}");U("\\varSigma","\\mathit{\\Sigma}");U("\\varUpsilon","\\mathit{\\Upsilon}");U("\\varPhi","\\mathit{\\Phi}");U("\\varPsi","\\mathit{\\Psi}");U("\\varOmega","\\mathit{\\Omega}");U("\\substack","\\begin{subarray}{c}#1\\end{subarray}");U("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");U("\\boxed","\\fbox{$\\displaystyle{#1}$}");U("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");U("\\implies","\\DOTSB\\;\\Longrightarrow\\;");U("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");U("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");U("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var ev={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};U("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in ev?e=ev[n]:(n.slice(0,4)==="\\not"||n in Rt.math&&["bin","rel"].includes(Rt.math[n].group))&&(e="\\dotsb"),e});var c2={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};U("\\dotso",function(t){var e=t.future().text;return e in c2?"\\ldots\\,":"\\ldots"});U("\\dotsc",function(t){var e=t.future().text;return e in c2&&e!==","?"\\ldots\\,":"\\ldots"});U("\\cdots",function(t){var e=t.future().text;return e in c2?"\\@cdots\\,":"\\@cdots"});U("\\dotsb","\\cdots");U("\\dotsm","\\cdots");U("\\dotsi","\\!\\cdots");U("\\dotsx","\\ldots\\,");U("\\DOTSI","\\relax");U("\\DOTSB","\\relax");U("\\DOTSX","\\relax");U("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");U("\\,","\\tmspace+{3mu}{.1667em}");U("\\thinspace","\\,");U("\\>","\\mskip{4mu}");U("\\:","\\tmspace+{4mu}{.2222em}");U("\\medspace","\\:");U("\\;","\\tmspace+{5mu}{.2777em}");U("\\thickspace","\\;");U("\\!","\\tmspace-{3mu}{.1667em}");U("\\negthinspace","\\!");U("\\negmedspace","\\tmspace-{4mu}{.2222em}");U("\\negthickspace","\\tmspace-{5mu}{.277em}");U("\\enspace","\\kern.5em ");U("\\enskip","\\hskip.5em\\relax");U("\\quad","\\hskip1em\\relax");U("\\qquad","\\hskip2em\\relax");U("\\tag","\\@ifstar\\tag@literal\\tag@paren");U("\\tag@paren","\\tag@literal{({#1})}");U("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new Se("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});U("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");U("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");U("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");U("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");U("\\newline","\\\\\\relax");U("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var wT=ke(Hs["Main-Regular"][84][1]-.7*Hs["Main-Regular"][65][1]);U("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+wT+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");U("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+wT+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");U("\\hspace","\\@ifstar\\@hspacer\\@hspace");U("\\@hspace","\\hskip #1\\relax");U("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");U("\\ordinarycolon",":");U("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");U("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');U("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');U("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');U("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');U("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');U("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');U("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');U("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');U("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');U("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');U("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');U("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');U("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');U("","\\dblcolon");U("","\\eqcolon");U("","\\coloneqq");U("","\\eqqcolon");U("","\\Coloneqq");U("\\ratio","\\vcentcolon");U("\\coloncolon","\\dblcolon");U("\\colonequals","\\coloneqq");U("\\coloncolonequals","\\Coloneqq");U("\\equalscolon","\\eqqcolon");U("\\equalscoloncolon","\\Eqqcolon");U("\\colonminus","\\coloneq");U("\\coloncolonminus","\\Coloneq");U("\\minuscolon","\\eqcolon");U("\\minuscoloncolon","\\Eqcolon");U("\\coloncolonapprox","\\Colonapprox");U("\\coloncolonsim","\\Colonsim");U("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");U("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");U("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");U("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");U("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");U("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");U("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");U("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");U("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");U("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");U("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");U("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");U("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");U("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");U("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");U("\\ngeqq","\\html@mathml{\\@ngeqq}{}");U("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");U("\\nleqq","\\html@mathml{\\@nleqq}{}");U("\\nleqslant","\\html@mathml{\\@nleqslant}{}");U("\\nshortmid","\\html@mathml{\\@nshortmid}{}");U("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");U("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");U("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");U("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");U("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");U("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");U("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");U("\\imath","\\html@mathml{\\@imath}{}");U("\\jmath","\\html@mathml{\\@jmath}{}");U("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");U("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");U("","\\llbracket");U("","\\rrbracket");U("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");U("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");U("","\\lBrace");U("","\\rBrace");U("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");U("","\\minuso");U("\\darr","\\downarrow");U("\\dArr","\\Downarrow");U("\\Darr","\\Downarrow");U("\\lang","\\langle");U("\\rang","\\rangle");U("\\uarr","\\uparrow");U("\\uArr","\\Uparrow");U("\\Uarr","\\Uparrow");U("\\N","\\mathbb{N}");U("\\R","\\mathbb{R}");U("\\Z","\\mathbb{Z}");U("\\alef","\\aleph");U("\\alefsym","\\aleph");U("\\Alpha","\\mathrm{A}");U("\\Beta","\\mathrm{B}");U("\\bull","\\bullet");U("\\Chi","\\mathrm{X}");U("\\clubs","\\clubsuit");U("\\cnums","\\mathbb{C}");U("\\Complex","\\mathbb{C}");U("\\Dagger","\\ddagger");U("\\diamonds","\\diamondsuit");U("\\empty","\\emptyset");U("\\Epsilon","\\mathrm{E}");U("\\Eta","\\mathrm{H}");U("\\exist","\\exists");U("\\harr","\\leftrightarrow");U("\\hArr","\\Leftrightarrow");U("\\Harr","\\Leftrightarrow");U("\\hearts","\\heartsuit");U("\\image","\\Im");U("\\infin","\\infty");U("\\Iota","\\mathrm{I}");U("\\isin","\\in");U("\\Kappa","\\mathrm{K}");U("\\larr","\\leftarrow");U("\\lArr","\\Leftarrow");U("\\Larr","\\Leftarrow");U("\\lrarr","\\leftrightarrow");U("\\lrArr","\\Leftrightarrow");U("\\Lrarr","\\Leftrightarrow");U("\\Mu","\\mathrm{M}");U("\\natnums","\\mathbb{N}");U("\\Nu","\\mathrm{N}");U("\\Omicron","\\mathrm{O}");U("\\plusmn","\\pm");U("\\rarr","\\rightarrow");U("\\rArr","\\Rightarrow");U("\\Rarr","\\Rightarrow");U("\\real","\\Re");U("\\reals","\\mathbb{R}");U("\\Reals","\\mathbb{R}");U("\\Rho","\\mathrm{P}");U("\\sdot","\\cdot");U("\\sect","\\S");U("\\spades","\\spadesuit");U("\\sub","\\subset");U("\\sube","\\subseteq");U("\\supe","\\supseteq");U("\\Tau","\\mathrm{T}");U("\\thetasym","\\vartheta");U("\\weierp","\\wp");U("\\Zeta","\\mathrm{Z}");U("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");U("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");U("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");U("\\bra","\\mathinner{\\langle{#1}|}");U("\\ket","\\mathinner{|{#1}\\rangle}");U("\\braket","\\mathinner{\\langle{#1}\\rangle}");U("\\Bra","\\left\\langle#1\\right|");U("\\Ket","\\left|#1\\right\\rangle");var TT=t=>e=>{var n=e.consumeArg().tokens,s=e.consumeArg().tokens,r=e.consumeArg().tokens,a=e.consumeArg().tokens,l=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var c=f=>x=>{t&&(x.macros.set("|",l),r.length&&x.macros.set("\\|",o));var b=f;if(!f&&r.length){var M=x.future();M.text==="|"&&(x.popToken(),b=!0)}return{tokens:b?r:s,numArgs:0}};e.macros.set("|",c(!1)),r.length&&e.macros.set("\\|",c(!0));var h=e.consumeArg().tokens,u=e.expandTokens([...a,...h,...n]);return e.macros.endGroup(),{tokens:u.reverse(),numArgs:0}};U("\\bra@ket",TT(!1));U("\\bra@set",TT(!0));U("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");U("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");U("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");U("\\angln","{\\angl n}");U("\\blue","\\textcolor{##6495ed}{#1}");U("\\orange","\\textcolor{##ffa500}{#1}");U("\\pink","\\textcolor{##ff00af}{#1}");U("\\red","\\textcolor{##df0030}{#1}");U("\\green","\\textcolor{##28ae7b}{#1}");U("\\gray","\\textcolor{gray}{#1}");U("\\purple","\\textcolor{##9d38bd}{#1}");U("\\blueA","\\textcolor{##ccfaff}{#1}");U("\\blueB","\\textcolor{##80f6ff}{#1}");U("\\blueC","\\textcolor{##63d9ea}{#1}");U("\\blueD","\\textcolor{##11accd}{#1}");U("\\blueE","\\textcolor{##0c7f99}{#1}");U("\\tealA","\\textcolor{##94fff5}{#1}");U("\\tealB","\\textcolor{##26edd5}{#1}");U("\\tealC","\\textcolor{##01d1c1}{#1}");U("\\tealD","\\textcolor{##01a995}{#1}");U("\\tealE","\\textcolor{##208170}{#1}");U("\\greenA","\\textcolor{##b6ffb0}{#1}");U("\\greenB","\\textcolor{##8af281}{#1}");U("\\greenC","\\textcolor{##74cf70}{#1}");U("\\greenD","\\textcolor{##1fab54}{#1}");U("\\greenE","\\textcolor{##0d923f}{#1}");U("\\goldA","\\textcolor{##ffd0a9}{#1}");U("\\goldB","\\textcolor{##ffbb71}{#1}");U("\\goldC","\\textcolor{##ff9c39}{#1}");U("\\goldD","\\textcolor{##e07d10}{#1}");U("\\goldE","\\textcolor{##a75a05}{#1}");U("\\redA","\\textcolor{##fca9a9}{#1}");U("\\redB","\\textcolor{##ff8482}{#1}");U("\\redC","\\textcolor{##f9685d}{#1}");U("\\redD","\\textcolor{##e84d39}{#1}");U("\\redE","\\textcolor{##bc2612}{#1}");U("\\maroonA","\\textcolor{##ffbde0}{#1}");U("\\maroonB","\\textcolor{##ff92c6}{#1}");U("\\maroonC","\\textcolor{##ed5fa6}{#1}");U("\\maroonD","\\textcolor{##ca337c}{#1}");U("\\maroonE","\\textcolor{##9e034e}{#1}");U("\\purpleA","\\textcolor{##ddd7ff}{#1}");U("\\purpleB","\\textcolor{##c6b9fc}{#1}");U("\\purpleC","\\textcolor{##aa87ff}{#1}");U("\\purpleD","\\textcolor{##7854ab}{#1}");U("\\purpleE","\\textcolor{##543b78}{#1}");U("\\mintA","\\textcolor{##f5f9e8}{#1}");U("\\mintB","\\textcolor{##edf2df}{#1}");U("\\mintC","\\textcolor{##e0e5cc}{#1}");U("\\grayA","\\textcolor{##f6f7f7}{#1}");U("\\grayB","\\textcolor{##f0f1f2}{#1}");U("\\grayC","\\textcolor{##e3e5e6}{#1}");U("\\grayD","\\textcolor{##d6d8da}{#1}");U("\\grayE","\\textcolor{##babec2}{#1}");U("\\grayF","\\textcolor{##888d93}{#1}");U("\\grayG","\\textcolor{##626569}{#1}");U("\\grayH","\\textcolor{##3b3e40}{#1}");U("\\grayI","\\textcolor{##21242c}{#1}");U("\\kaBlue","\\textcolor{##314453}{#1}");U("\\kaGreen","\\textcolor{##71B307}{#1}");var ST={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};let KB=class{constructor(e,n,s){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new ZB(QB,n.macros),this.mode=s,this.stack=[]}feed(e){this.lexer=new K5(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,s,r;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:r,end:s}=this.consumeArg(["]"])}else({tokens:r,start:n,end:s}=this.consumeArg());return this.pushToken(new Rs("EOF",s.loc)),this.pushTokens(r),new Rs("",es.range(n,s))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],s=e&&e.length>0;s||this.consumeSpaces();var r=this.future(),a,l=0,o=0;do{if(a=this.popToken(),n.push(a),a.text==="{")++l;else if(a.text==="}"){if(--l,l===-1)throw new Se("Extra }",a)}else if(a.text==="EOF")throw new Se("Unexpected end of input in a macro argument, expected '"+(e&&s?e[o]:"}")+"'",a);if(e&&s)if((l===0||l===1&&e[o]==="{")&&a.text===e[o]){if(++o,o===e.length){n.splice(-o,o);break}}else o=0}while(l!==0||s);return r.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:r,end:a}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new Se("The length of delimiters doesn't match the number of args!");for(var s=n[0],r=0;r<s.length;r++){var a=this.popToken();if(s[r]!==a.text)throw new Se("Use of the macro doesn't match its definition",a)}}for(var l=[],o=0;o<e;o++)l.push(this.consumeArg(n&&n[o+1]).tokens);return l}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new Se("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),s=n.text,r=n.noexpand?null:this._getExpansion(s);if(r==null||e&&r.unexpandable){if(e&&r==null&&s[0]==="\\"&&!this.isDefined(s))throw new Se("Undefined control sequence: "+s);return this.pushToken(n),!1}this.countExpansion(1);var a=r.tokens,l=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var c=a[o];if(c.text==="#"){if(o===0)throw new Se("Incomplete placeholder at end of macro body",c);if(c=a[--o],c.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(c.text))a.splice(o,2,...l[+c.text-1]);else throw new Se("Not a valid argument number",c)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Rs(e)]):void 0}expandTokens(e){var n=[],s=this.stack.length;for(this.pushTokens(e);this.stack.length>s;)if(this.expandOnce(!0)===!1){var r=this.stack.pop();r.treatAsRelax&&(r.noexpand=!1,r.treatAsRelax=!1),n.push(r)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(s=>s.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var s=this.lexer.catcodes[e];if(s!=null&&s!==13)return}var r=typeof n=="function"?n(this):n;if(typeof r=="string"){var a=0;if(r.indexOf("#")!==-1)for(var l=r.replace(/##/g,"");l.indexOf("#"+(a+1))!==-1;)++a;for(var o=new K5(r,this.settings),c=[],h=o.lex();h.text!=="EOF";)c.push(h),h=o.lex();c.reverse();var u={tokens:c,numArgs:a};return u}return r}isDefined(e){return this.macros.has(e)||ka.hasOwnProperty(e)||Rt.math.hasOwnProperty(e)||Rt.text.hasOwnProperty(e)||ST.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:ka.hasOwnProperty(e)&&!ka[e].primitive}};var tv=/^[]/,Ru=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Up={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},nv={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};let NT=class AT{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new KB(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new Se("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Rs("}")),this.gullet.pushTokens(e);var s=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,s}parseExpression(e,n){for(var s=[];;){this.mode==="math"&&this.consumeSpaces();var r=this.fetch();if(AT.endOfExpression.indexOf(r.text)!==-1||n&&r.text===n||e&&ka[r.text]&&ka[r.text].infix)break;var a=this.parseAtom(n);if(a){if(a.type==="internal")continue}else break;s.push(a)}return this.mode==="text"&&this.formLigatures(s),this.handleInfixNodes(s)}handleInfixNodes(e){for(var n=-1,s,r=0;r<e.length;r++)if(e[r].type==="infix"){if(n!==-1)throw new Se("only one infix operator per group",e[r].token);n=r,s=e[r].replaceWith}if(n!==-1&&s){var a,l,o=e.slice(0,n),c=e.slice(n+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},c.length===1&&c[0].type==="ordgroup"?l=c[0]:l={type:"ordgroup",mode:this.mode,body:c};var h;return s==="\\\\abovefrac"?h=this.callFunction(s,[a,e[n],l],[]):h=this.callFunction(s,[a,l],[]),[h]}else return e}handleSupSubscript(e){var n=this.fetch(),s=n.text;this.consume(),this.consumeSpaces();var r;do{var a;r=this.parseGroup(e)}while(((a=r)==null?void 0:a.type)==="internal");if(!r)throw new Se("Expected group after '"+s+"'",n);return r}formatUnsupportedCmd(e){for(var n=[],s=0;s<e.length;s++)n.push({type:"textord",mode:"text",text:e[s]});var r={type:"text",mode:this.mode,body:n},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[r]};return a}parseAtom(e){var n=this.parseGroup("atom",e);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var s,r;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(n&&n.type==="op"){var l=a.text==="\\limits";n.limits=l,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=a.text==="\\limits");else throw new Se("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(s)throw new Se("Double superscript",a);s=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(r)throw new Se("Double subscript",a);r=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(s)throw new Se("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},c=[o];for(this.consume();this.fetch().text==="'";)c.push(o),this.consume();this.fetch().text==="^"&&c.push(this.handleSupSubscript("superscript")),s={type:"ordgroup",mode:this.mode,body:c}}else if(Ru[a.text]){var h=tv.test(a.text),u=[];for(u.push(new Rs(Ru[a.text])),this.consume();;){var f=this.fetch().text;if(!Ru[f]||tv.test(f)!==h)break;u.unshift(new Rs(Ru[f])),this.consume()}var x=this.subparse(u);h?r={type:"ordgroup",mode:"math",body:x}:s={type:"ordgroup",mode:"math",body:x}}else break}return s||r?{type:"supsub",mode:this.mode,base:n,sup:s,sub:r}:n}parseFunction(e,n){var s=this.fetch(),r=s.text,a=ka[r];if(!a)return null;if(this.consume(),n&&n!=="atom"&&!a.allowedInArgument)throw new Se("Got function '"+r+"' with no arguments"+(n?" as "+n:""),s);if(this.mode==="text"&&!a.allowedInText)throw new Se("Can't use function '"+r+"' in text mode",s);if(this.mode==="math"&&a.allowedInMath===!1)throw new Se("Can't use function '"+r+"' in math mode",s);var{args:l,optArgs:o}=this.parseArguments(r,a);return this.callFunction(r,l,o,s,e)}callFunction(e,n,s,r,a){var l={funcName:e,parser:this,token:r,breakOnTokenText:a},o=ka[e];if(o&&o.handler)return o.handler(l,n,s);throw new Se("No function handler for "+e)}parseArguments(e,n){var s=n.numArgs+n.numOptionalArgs;if(s===0)return{args:[],optArgs:[]};for(var r=[],a=[],l=0;l<s;l++){var o=n.argTypes&&n.argTypes[l],c=l<n.numOptionalArgs;(n.primitive&&o==null||n.type==="sqrt"&&l===1&&a[0]==null)&&(o="primitive");var h=this.parseGroupOfType("argument to '"+e+"'",o,c);if(c)a.push(h);else if(h!=null)r.push(h);else throw new Se("Null argument, please report this as a bug")}return{args:r,optArgs:a}}parseGroupOfType(e,n,s){switch(n){case"color":return this.parseColorGroup(s);case"size":return this.parseSizeGroup(s);case"url":return this.parseUrlGroup(s);case"math":case"text":return this.parseArgumentGroup(s,n);case"hbox":{var r=this.parseArgumentGroup(s,"text");return r!=null?{type:"styling",mode:r.mode,body:[r],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",s);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(s)throw new Se("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new Se("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(s);default:throw new Se("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var s=this.gullet.scanArgument(n);if(s==null)return null;for(var r="",a;(a=this.fetch()).text!=="EOF";)r+=a.text,this.consume();return this.consume(),s.text=r,s}parseRegexGroup(e,n){for(var s=this.fetch(),r=s,a="",l;(l=this.fetch()).text!=="EOF"&&e.test(a+l.text);)r=l,a+=r.text,this.consume();if(a==="")throw new Se("Invalid "+n+": '"+s.text+"'",s);return s.range(r,a)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var s=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!s)throw new Se("Invalid color: '"+n.text+"'",n);var r=s[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}}parseSizeGroup(e){var n,s=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",s=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!r)throw new Se("Invalid size: '"+n.text+"'",n);var a={number:+(r[1]+r[2]),unit:r[3]};if(!Iw(a))throw new Se("Invalid unit: '"+a.unit+"'",n);return{type:"size",mode:this.mode,value:a,isBlank:s}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var s=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:s}}parseArgumentGroup(e,n){var s=this.gullet.scanArgument(e);if(s==null)return null;var r=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:s.loc,body:a};return n&&this.switchMode(r),l}parseGroup(e,n){var s=this.fetch(),r=s.text,a;if(r==="{"||r==="\\begingroup"){this.consume();var l=r==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,l),c=this.fetch();this.expect(l),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:es.range(s,c),body:o,semisimple:r==="\\begingroup"||void 0}}else if(a=this.parseFunction(n,e)||this.parseSymbol(),a==null&&r[0]==="\\"&&!ST.hasOwnProperty(r)){if(this.settings.throwOnError)throw new Se("Undefined control sequence: "+r,s);a=this.formatUnsupportedCmd(r),this.consume()}return a}formLigatures(e){for(var n=e.length-1,s=0;s<n;++s){var r=e[s],a=r.text;a==="-"&&e[s+1].text==="-"&&(s+1<n&&e[s+2].text==="-"?(e.splice(s,3,{type:"textord",mode:"text",loc:es.range(r,e[s+2]),text:"---"}),n-=2):(e.splice(s,2,{type:"textord",mode:"text",loc:es.range(r,e[s+1]),text:"--"}),n-=1)),(a==="'"||a==="`")&&e[s+1].text===a&&(e.splice(s,2,{type:"textord",mode:"text",loc:es.range(r,e[s+1]),text:a+a}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var s=n.slice(5),r=s.charAt(0)==="*";if(r&&(s=s.slice(1)),s.length<2||s.charAt(0)!==s.slice(-1))throw new Se(`\\verb assertion failed --
                    please report what input caused this bug`);return s=s.slice(1,-1),{type:"verb",mode:"text",body:s,star:r}}nv.hasOwnProperty(n[0])&&!Rt[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=nv[n[0]]+n.slice(1));var a=YB.exec(n);a&&(n=n.substring(0,a.index),n==="i"?n="":n==="j"&&(n=""));var l;if(Rt[this.mode][n]){this.settings.strict&&this.mode==="math"&&Hx.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var o=Rt[this.mode][n].group,c=es.range(e),h;if($O.hasOwnProperty(o)){var u=o;h={type:"atom",mode:this.mode,family:u,loc:c,text:n}}else h={type:o,mode:this.mode,loc:c,text:n};l=h}else if(n.charCodeAt(0)>=128)this.settings.strict&&(Dw(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:es.range(e),text:n};else return null;if(this.consume(),a)for(var f=0;f<a[0].length;f++){var x=a[0][f];if(!Up[x])throw new Se("Unknown accent ' "+x+"'",e);var b=Up[x][this.mode]||Up[x].text;if(!b)throw new Se("Accent "+x+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:es.range(e),label:b,isStretchy:!1,isShifty:!0,base:l}}return l}};NT.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var h2=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var s=new NT(e,n);delete s.gullet.macros.current["\\df@tag"];var r=s.parse();if(delete s.gullet.macros.current["\\current@color"],delete s.gullet.macros.current["\\color"],s.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new Se("\\tag works only in display equations");r=[{type:"tag",mode:"text",body:r,tag:s.subparse([new Rs("\\df@tag")])}]}return r},kT=function(e,n,s){n.textContent="";var r=u2(e,s).toNode();n.appendChild(r)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),kT=function(){throw new Se("KaTeX doesn't work in quirks mode.")});var JB=function(e,n){var s=u2(e,n).toMarkup();return s},e$=function(e,n){var s=new Gg(n);return h2(e,s)},MT=function(e,n,s){if(s.throwOnError||!(e instanceof Se))throw e;var r=oe.makeSpan(["katex-error"],[new ms(n)]);return r.setAttribute("title",e.toString()),r.setAttribute("style","color:"+s.errorColor),r},u2=function(e,n){var s=new Gg(n);try{var r=h2(e,s);return cB(r,e,s)}catch(a){return MT(a,e,s)}},t$=function(e,n){var s=new Gg(n);try{var r=h2(e,s);return hB(r,e,s)}catch(a){return MT(a,e,s)}},n$="0.16.27",i$={Span:qh,Anchor:Xg,SymbolNode:ms,SvgNode:Fr,PathNode:Wa,LineNode:Ux},iv={version:n$,render:kT,renderToString:JB,ParseError:Se,SETTINGS_SCHEMA:md,__parse:e$,__renderToDomTree:u2,__renderToHTMLTree:t$,__setFontMetrics:DO,__defineSymbol:C,__defineFunction:ze,__defineMacro:U,__domTree:i$};/*! @license DOMPurify 3.3.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.3.1/LICENSE */const{entries:ET,setPrototypeOf:sv,isFrozen:s$,getPrototypeOf:r$,getOwnPropertyDescriptor:a$}=Object;let{freeze:li,seal:xs,create:Zx}=Object,{apply:Qx,construct:Kx}=typeof Reflect<"u"&&Reflect;li||(li=function(e){return e});xs||(xs=function(e){return e});Qx||(Qx=function(e,n){for(var s=arguments.length,r=new Array(s>2?s-2:0),a=2;a<s;a++)r[a-2]=arguments[a];return e.apply(n,r)});Kx||(Kx=function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return new e(...s)});const _u=oi(Array.prototype.forEach),l$=oi(Array.prototype.lastIndexOf),rv=oi(Array.prototype.pop),s0=oi(Array.prototype.push),o$=oi(Array.prototype.splice),xd=oi(String.prototype.toLowerCase),Hp=oi(String.prototype.toString),Vp=oi(String.prototype.match),r0=oi(String.prototype.replace),c$=oi(String.prototype.indexOf),h$=oi(String.prototype.trim),Ns=oi(Object.prototype.hasOwnProperty),Jn=oi(RegExp.prototype.test),a0=u$(TypeError);function oi(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return Qx(t,e,s)}}function u$(t){return function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return Kx(t,n)}}function lt(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xd;sv&&sv(t,null);let s=e.length;for(;s--;){let r=e[s];if(typeof r=="string"){const a=n(r);a!==r&&(s$(e)||(e[s]=a),r=a)}t[r]=!0}return t}function d$(t){for(let e=0;e<t.length;e++)Ns(t,e)||(t[e]=null);return t}function Os(t){const e=Zx(null);for(const[n,s]of ET(t))Ns(t,n)&&(Array.isArray(s)?e[n]=d$(s):s&&typeof s=="object"&&s.constructor===Object?e[n]=Os(s):e[n]=s);return e}function l0(t,e){for(;t!==null;){const s=a$(t,e);if(s){if(s.get)return oi(s.get);if(typeof s.value=="function")return oi(s.value)}t=r$(t)}function n(){return null}return n}const av=li(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Gp=li(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Wp=li(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),f$=li(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Yp=li(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),m$=li(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),lv=li(["#text"]),ov=li(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Xp=li(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),cv=li(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),qu=li(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),p$=xs(/\{\{[\w\W]*|[\w\W]*\}\}/gm),x$=xs(/<%[\w\W]*|[\w\W]*%>/gm),g$=xs(/\$\{[\w\W]*/gm),y$=xs(/^data-[\-\w.\u00B7-\uFFFF]+$/),b$=xs(/^aria-[\-\w]+$/),CT=xs(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),v$=xs(/^(?:\w+script|data):/i),j$=xs(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),zT=xs(/^html$/i),w$=xs(/^[a-z][.\w]*(-[.\w]+)+$/i);var hv=Object.freeze({__proto__:null,ARIA_ATTR:b$,ATTR_WHITESPACE:j$,CUSTOM_ELEMENT:w$,DATA_ATTR:y$,DOCTYPE_NAME:zT,ERB_EXPR:x$,IS_ALLOWED_URI:CT,IS_SCRIPT_OR_DATA:v$,MUSTACHE_EXPR:p$,TMPLIT_EXPR:g$});const o0={element:1,text:3,progressingInstruction:7,comment:8,document:9},T$=function(){return typeof window>"u"?null:window},S$=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let s=null;const r="data-tt-policy-suffix";n&&n.hasAttribute(r)&&(s=n.getAttribute(r));const a="dompurify"+(s?"#"+s:"");try{return e.createPolicy(a,{createHTML(l){return l},createScriptURL(l){return l}})}catch{return console.warn("TrustedTypes policy "+a+" could not be created."),null}},uv=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function DT(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T$();const e=Le=>DT(Le);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==o0.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const s=n,r=s.currentScript,{DocumentFragment:a,HTMLTemplateElement:l,Node:o,Element:c,NodeFilter:h,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:x,trustedTypes:b}=t,M=c.prototype,y=l0(M,"cloneNode"),T=l0(M,"remove"),S=l0(M,"nextSibling"),N=l0(M,"childNodes"),j=l0(M,"parentNode");if(typeof l=="function"){const Le=n.createElement("template");Le.content&&Le.content.ownerDocument&&(n=Le.content.ownerDocument)}let m,g="";const{implementation:E,createNodeIterator:v,createDocumentFragment:p,getElementsByTagName:A}=n,{importNode:w}=s;let k=uv();e.isSupported=typeof ET=="function"&&typeof j=="function"&&E&&E.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:D,ERB_EXPR:I,TMPLIT_EXPR:$,DATA_ATTR:B,ARIA_ATTR:G,IS_SCRIPT_OR_DATA:V,ATTR_WHITESPACE:J,CUSTOM_ELEMENT:ee}=hv;let{IS_ALLOWED_URI:re}=hv,se=null;const he=lt({},[...av,...Gp,...Wp,...Yp,...lv]);let ae=null;const Ne=lt({},[...ov,...Xp,...cv,...qu]);let Te=Object.seal(Zx(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),tt=null,Ce=null;const Ae=Object.seal(Zx(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Fe=!0,Be=!0,at=!1,Ue=!0,et=!1,_e=!0,$e=!1,qt=!1,Ht=!1,kt=!1,dn=!1,di=!1,fi=!0,Jr=!1;const or="user-content-";let Xi=!0,zi=!1,Ot={},St=null;const ea=lt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Pc=null;const Ic=lt({},["audio","video","img","source","image","track"]);let Rc=null;const ta=lt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ol="http://www.w3.org/1998/Math/MathML",cl="http://www.w3.org/2000/svg",Di="http://www.w3.org/1999/xhtml";let na=Di,_c=!1,hl=null;const Gh=lt({},[ol,cl,Di],Hp);let ao=lt({},["mi","mo","mn","ms","mtext"]),qs=lt({},["annotation-xml"]);const qc=lt({},["title","style","font","a","script"]);let cr=null;const ia=["application/xhtml+xml","text/html"],Wh="text/html";let Zt=null,hr=null;const ul=n.createElement("form"),Oc=function(te){return te instanceof RegExp||te instanceof Function},kn=function(){let te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(hr&&hr===te)){if((!te||typeof te!="object")&&(te={}),te=Os(te),cr=ia.indexOf(te.PARSER_MEDIA_TYPE)===-1?Wh:te.PARSER_MEDIA_TYPE,Zt=cr==="application/xhtml+xml"?Hp:xd,se=Ns(te,"ALLOWED_TAGS")?lt({},te.ALLOWED_TAGS,Zt):he,ae=Ns(te,"ALLOWED_ATTR")?lt({},te.ALLOWED_ATTR,Zt):Ne,hl=Ns(te,"ALLOWED_NAMESPACES")?lt({},te.ALLOWED_NAMESPACES,Hp):Gh,Rc=Ns(te,"ADD_URI_SAFE_ATTR")?lt(Os(ta),te.ADD_URI_SAFE_ATTR,Zt):ta,Pc=Ns(te,"ADD_DATA_URI_TAGS")?lt(Os(Ic),te.ADD_DATA_URI_TAGS,Zt):Ic,St=Ns(te,"FORBID_CONTENTS")?lt({},te.FORBID_CONTENTS,Zt):ea,tt=Ns(te,"FORBID_TAGS")?lt({},te.FORBID_TAGS,Zt):Os({}),Ce=Ns(te,"FORBID_ATTR")?lt({},te.FORBID_ATTR,Zt):Os({}),Ot=Ns(te,"USE_PROFILES")?te.USE_PROFILES:!1,Fe=te.ALLOW_ARIA_ATTR!==!1,Be=te.ALLOW_DATA_ATTR!==!1,at=te.ALLOW_UNKNOWN_PROTOCOLS||!1,Ue=te.ALLOW_SELF_CLOSE_IN_ATTR!==!1,et=te.SAFE_FOR_TEMPLATES||!1,_e=te.SAFE_FOR_XML!==!1,$e=te.WHOLE_DOCUMENT||!1,kt=te.RETURN_DOM||!1,dn=te.RETURN_DOM_FRAGMENT||!1,di=te.RETURN_TRUSTED_TYPE||!1,Ht=te.FORCE_BODY||!1,fi=te.SANITIZE_DOM!==!1,Jr=te.SANITIZE_NAMED_PROPS||!1,Xi=te.KEEP_CONTENT!==!1,zi=te.IN_PLACE||!1,re=te.ALLOWED_URI_REGEXP||CT,na=te.NAMESPACE||Di,ao=te.MATHML_TEXT_INTEGRATION_POINTS||ao,qs=te.HTML_INTEGRATION_POINTS||qs,Te=te.CUSTOM_ELEMENT_HANDLING||{},te.CUSTOM_ELEMENT_HANDLING&&Oc(te.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Te.tagNameCheck=te.CUSTOM_ELEMENT_HANDLING.tagNameCheck),te.CUSTOM_ELEMENT_HANDLING&&Oc(te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Te.attributeNameCheck=te.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),te.CUSTOM_ELEMENT_HANDLING&&typeof te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Te.allowCustomizedBuiltInElements=te.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),et&&(Be=!1),dn&&(kt=!0),Ot&&(se=lt({},lv),ae=[],Ot.html===!0&&(lt(se,av),lt(ae,ov)),Ot.svg===!0&&(lt(se,Gp),lt(ae,Xp),lt(ae,qu)),Ot.svgFilters===!0&&(lt(se,Wp),lt(ae,Xp),lt(ae,qu)),Ot.mathMl===!0&&(lt(se,Yp),lt(ae,cv),lt(ae,qu))),te.ADD_TAGS&&(typeof te.ADD_TAGS=="function"?Ae.tagCheck=te.ADD_TAGS:(se===he&&(se=Os(se)),lt(se,te.ADD_TAGS,Zt))),te.ADD_ATTR&&(typeof te.ADD_ATTR=="function"?Ae.attributeCheck=te.ADD_ATTR:(ae===Ne&&(ae=Os(ae)),lt(ae,te.ADD_ATTR,Zt))),te.ADD_URI_SAFE_ATTR&&lt(Rc,te.ADD_URI_SAFE_ATTR,Zt),te.FORBID_CONTENTS&&(St===ea&&(St=Os(St)),lt(St,te.FORBID_CONTENTS,Zt)),te.ADD_FORBID_CONTENTS&&(St===ea&&(St=Os(St)),lt(St,te.ADD_FORBID_CONTENTS,Zt)),Xi&&(se["#text"]=!0),$e&&lt(se,["html","head","body"]),se.table&&(lt(se,["tbody"]),delete tt.tbody),te.TRUSTED_TYPES_POLICY){if(typeof te.TRUSTED_TYPES_POLICY.createHTML!="function")throw a0('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof te.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw a0('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');m=te.TRUSTED_TYPES_POLICY,g=m.createHTML("")}else m===void 0&&(m=S$(b,r)),m!==null&&typeof g=="string"&&(g=m.createHTML(""));li&&li(te),hr=te}},Bc=lt({},[...Gp,...Wp,...f$]),sa=lt({},[...Yp,...m$]),dl=function(te){let je=j(te);(!je||!je.tagName)&&(je={namespaceURI:na,tagName:"template"});const Oe=xd(te.tagName),Dt=xd(je.tagName);return hl[te.namespaceURI]?te.namespaceURI===cl?je.namespaceURI===Di?Oe==="svg":je.namespaceURI===ol?Oe==="svg"&&(Dt==="annotation-xml"||ao[Dt]):!!Bc[Oe]:te.namespaceURI===ol?je.namespaceURI===Di?Oe==="math":je.namespaceURI===cl?Oe==="math"&&qs[Dt]:!!sa[Oe]:te.namespaceURI===Di?je.namespaceURI===cl&&!qs[Dt]||je.namespaceURI===ol&&!ao[Dt]?!1:!sa[Oe]&&(qc[Oe]||!Bc[Oe]):!!(cr==="application/xhtml+xml"&&hl[te.namespaceURI]):!1},Zi=function(te){s0(e.removed,{element:te});try{j(te).removeChild(te)}catch{T(te)}},ur=function(te,je){try{s0(e.removed,{attribute:je.getAttributeNode(te),from:je})}catch{s0(e.removed,{attribute:null,from:je})}if(je.removeAttribute(te),te==="is")if(kt||dn)try{Zi(je)}catch{}else try{je.setAttribute(te,"")}catch{}},dr=function(te){let je=null,Oe=null;if(Ht)te="<remove></remove>"+te;else{const Qt=Vp(te,/^[\r\n\t ]+/);Oe=Qt&&Qt[0]}cr==="application/xhtml+xml"&&na===Di&&(te='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+te+"</body></html>");const Dt=m?m.createHTML(te):te;if(na===Di)try{je=new x().parseFromString(Dt,cr)}catch{}if(!je||!je.documentElement){je=E.createDocument(na,"template",null);try{je.documentElement.innerHTML=_c?g:Dt}catch{}}const fn=je.body||je.documentElement;return te&&Oe&&fn.insertBefore(n.createTextNode(Oe),fn.childNodes[0]||null),na===Di?A.call(je,$e?"html":"body")[0]:$e?je.documentElement:fn},Yh=function(te){return v.call(te.ownerDocument||te,te,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},$c=function(te){return te instanceof f&&(typeof te.nodeName!="string"||typeof te.textContent!="string"||typeof te.removeChild!="function"||!(te.attributes instanceof u)||typeof te.removeAttribute!="function"||typeof te.setAttribute!="function"||typeof te.namespaceURI!="string"||typeof te.insertBefore!="function"||typeof te.hasChildNodes!="function")},lo=function(te){return typeof o=="function"&&te instanceof o};function vs(Le,te,je){_u(Le,Oe=>{Oe.call(e,te,je,hr)})}const oo=function(te){let je=null;if(vs(k.beforeSanitizeElements,te,null),$c(te))return Zi(te),!0;const Oe=Zt(te.nodeName);if(vs(k.uponSanitizeElement,te,{tagName:Oe,allowedTags:se}),_e&&te.hasChildNodes()&&!lo(te.firstElementChild)&&Jn(/<[/\w!]/g,te.innerHTML)&&Jn(/<[/\w!]/g,te.textContent)||te.nodeType===o0.progressingInstruction||_e&&te.nodeType===o0.comment&&Jn(/<[/\w]/g,te.data))return Zi(te),!0;if(!(Ae.tagCheck instanceof Function&&Ae.tagCheck(Oe))&&(!se[Oe]||tt[Oe])){if(!tt[Oe]&&js(Oe)&&(Te.tagNameCheck instanceof RegExp&&Jn(Te.tagNameCheck,Oe)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(Oe)))return!1;if(Xi&&!St[Oe]){const Dt=j(te)||te.parentNode,fn=N(te)||te.childNodes;if(fn&&Dt){const Qt=fn.length;for(let _n=Qt-1;_n>=0;--_n){const Qn=y(fn[_n],!0);Qn.__removalCount=(te.__removalCount||0)+1,Dt.insertBefore(Qn,S(te))}}}return Zi(te),!0}return te instanceof c&&!dl(te)||(Oe==="noscript"||Oe==="noembed"||Oe==="noframes")&&Jn(/<\/no(script|embed|frames)/i,te.innerHTML)?(Zi(te),!0):(et&&te.nodeType===o0.text&&(je=te.textContent,_u([D,I,$],Dt=>{je=r0(je,Dt," ")}),te.textContent!==je&&(s0(e.removed,{element:te.cloneNode()}),te.textContent=je)),vs(k.afterSanitizeElements,te,null),!1)},fl=function(te,je,Oe){if(fi&&(je==="id"||je==="name")&&(Oe in n||Oe in ul))return!1;if(!(Be&&!Ce[je]&&Jn(B,je))){if(!(Fe&&Jn(G,je))){if(!(Ae.attributeCheck instanceof Function&&Ae.attributeCheck(je,te))){if(!ae[je]||Ce[je]){if(!(js(te)&&(Te.tagNameCheck instanceof RegExp&&Jn(Te.tagNameCheck,te)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(te))&&(Te.attributeNameCheck instanceof RegExp&&Jn(Te.attributeNameCheck,je)||Te.attributeNameCheck instanceof Function&&Te.attributeNameCheck(je,te))||je==="is"&&Te.allowCustomizedBuiltInElements&&(Te.tagNameCheck instanceof RegExp&&Jn(Te.tagNameCheck,Oe)||Te.tagNameCheck instanceof Function&&Te.tagNameCheck(Oe))))return!1}else if(!Rc[je]){if(!Jn(re,r0(Oe,J,""))){if(!((je==="src"||je==="xlink:href"||je==="href")&&te!=="script"&&c$(Oe,"data:")===0&&Pc[te])){if(!(at&&!Jn(V,r0(Oe,J,"")))){if(Oe)return!1}}}}}}}return!0},js=function(te){return te!=="annotation-xml"&&Vp(te,ee)},Lc=function(te){vs(k.beforeSanitizeAttributes,te,null);const{attributes:je}=te;if(!je||$c(te))return;const Oe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ae,forceKeepAttr:void 0};let Dt=je.length;for(;Dt--;){const fn=je[Dt],{name:Qt,namespaceURI:_n,value:Qn}=fn,mi=Zt(Qt),ml=Qn;let Mn=Qt==="value"?ml:h$(ml);if(Oe.attrName=mi,Oe.attrValue=Mn,Oe.keepAttr=!0,Oe.forceKeepAttr=void 0,vs(k.uponSanitizeAttribute,te,Oe),Mn=Oe.attrValue,Jr&&(mi==="id"||mi==="name")&&(ur(Qt,te),Mn=or+Mn),_e&&Jn(/((--!?|])>)|<\/(style|title|textarea)/i,Mn)){ur(Qt,te);continue}if(mi==="attributename"&&Vp(Mn,"href")){ur(Qt,te);continue}if(Oe.forceKeepAttr)continue;if(!Oe.keepAttr){ur(Qt,te);continue}if(!Ue&&Jn(/\/>/i,Mn)){ur(Qt,te);continue}et&&_u([D,I,$],Uc=>{Mn=r0(Mn,Uc," ")});const Fc=Zt(te.nodeName);if(!fl(Fc,mi,Mn)){ur(Qt,te);continue}if(m&&typeof b=="object"&&typeof b.getAttributeType=="function"&&!_n)switch(b.getAttributeType(Fc,mi)){case"TrustedHTML":{Mn=m.createHTML(Mn);break}case"TrustedScriptURL":{Mn=m.createScriptURL(Mn);break}}if(Mn!==ml)try{_n?te.setAttributeNS(_n,Qt,Mn):te.setAttribute(Qt,Mn),$c(te)?Zi(te):rv(e.removed)}catch{ur(Qt,te)}}vs(k.afterSanitizeAttributes,te,null)},Xh=function Le(te){let je=null;const Oe=Yh(te);for(vs(k.beforeSanitizeShadowDOM,te,null);je=Oe.nextNode();)vs(k.uponSanitizeShadowNode,je,null),oo(je),Lc(je),je.content instanceof a&&Le(je.content);vs(k.afterSanitizeShadowDOM,te,null)};return e.sanitize=function(Le){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},je=null,Oe=null,Dt=null,fn=null;if(_c=!Le,_c&&(Le="<!-->"),typeof Le!="string"&&!lo(Le))if(typeof Le.toString=="function"){if(Le=Le.toString(),typeof Le!="string")throw a0("dirty is not a string, aborting")}else throw a0("toString is not a function");if(!e.isSupported)return Le;if(qt||kn(te),e.removed=[],typeof Le=="string"&&(zi=!1),zi){if(Le.nodeName){const Qn=Zt(Le.nodeName);if(!se[Qn]||tt[Qn])throw a0("root node is forbidden and cannot be sanitized in-place")}}else if(Le instanceof o)je=dr("<!---->"),Oe=je.ownerDocument.importNode(Le,!0),Oe.nodeType===o0.element&&Oe.nodeName==="BODY"||Oe.nodeName==="HTML"?je=Oe:je.appendChild(Oe);else{if(!kt&&!et&&!$e&&Le.indexOf("<")===-1)return m&&di?m.createHTML(Le):Le;if(je=dr(Le),!je)return kt?null:di?g:""}je&&Ht&&Zi(je.firstChild);const Qt=Yh(zi?Le:je);for(;Dt=Qt.nextNode();)oo(Dt),Lc(Dt),Dt.content instanceof a&&Xh(Dt.content);if(zi)return Le;if(kt){if(dn)for(fn=p.call(je.ownerDocument);je.firstChild;)fn.appendChild(je.firstChild);else fn=je;return(ae.shadowroot||ae.shadowrootmode)&&(fn=w.call(s,fn,!0)),fn}let _n=$e?je.outerHTML:je.innerHTML;return $e&&se["!doctype"]&&je.ownerDocument&&je.ownerDocument.doctype&&je.ownerDocument.doctype.name&&Jn(zT,je.ownerDocument.doctype.name)&&(_n="<!DOCTYPE "+je.ownerDocument.doctype.name+`>
`+_n),et&&_u([D,I,$],Qn=>{_n=r0(_n,Qn," ")}),m&&di?m.createHTML(_n):_n},e.setConfig=function(){let Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};kn(Le),qt=!0},e.clearConfig=function(){hr=null,qt=!1},e.isValidAttribute=function(Le,te,je){hr||kn({});const Oe=Zt(Le),Dt=Zt(te);return fl(Oe,Dt,je)},e.addHook=function(Le,te){typeof te=="function"&&s0(k[Le],te)},e.removeHook=function(Le,te){if(te!==void 0){const je=l$(k[Le],te);return je===-1?void 0:o$(k[Le],je,1)[0]}return rv(k[Le])},e.removeHooks=function(Le){k[Le]=[]},e.removeAllHooks=function(){k=uv()},e}var N$=DT();function Zp(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function A$(t){if(!t)return[];const e=[];let n=0;const s=[],r=/\$\$([^$]*?)\$\$/g;let a;for(;(a=r.exec(t))!==null;)s.push({type:"display",latex:a[1],start:a.index,end:a.index+a[0].length});const l=/\$([^$]+?)\$/g;let o;for(;(o=l.exec(t))!==null;)s.some(h=>o.index>=h.start&&o.index<h.end)||s.push({type:"inline",latex:o[1],start:o.index,end:o.index+o[0].length});return s.sort((c,h)=>c.start-h.start),s.forEach(c=>{const h=t.slice(n,c.start);h&&e.push({type:"text",content:h}),e.push({type:c.type==="display"?"display-math":"inline-math",content:c.latex}),n=c.end}),n<t.length&&e.push({type:"text",content:t.slice(n)}),e}function k$(t){if(!t)return"";const n=A$(t).map(s=>{if(s.type==="text")return Zp(s.content);if(s.type==="inline-math")try{return iv.renderToString(s.content,{throwOnError:!1,displayMode:!1})}catch{return Zp(s.content)}else if(s.type==="display-math")try{return iv.renderToString(s.content,{throwOnError:!1,displayMode:!0})}catch{return Zp(s.content)}return""}).join("");return N$.sanitize(n,{ADD_TAGS:["semantics","mrow","mi","mo","mn","msup","msub","mfrac","mroot","msqrt","mtext","annotation"],ADD_ATTR:["encoding","mathvariant","stretchy","fence","separator","lspace","rspace"]})}function Qp(t){return typeof t=="string"?k$(t):t.map(e=>(e.type==="text",e.content)).join("")}const Cl=tr("Storage"),Jx="magic-internet-math-progress",Kp=2;function PT(){try{const t="__storage_test__";return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}function M$(t){if(t===null||typeof t!="object")return!1;const e=t;if(typeof e.version!="number"||typeof e.user!="object"||e.user===null||typeof e.sections!="object"||e.sections===null||typeof e.streak!="object"||e.streak===null)return!1;const n=e.user;if(typeof n.totalXP!="number"||typeof n.level!="number")return!1;const s=e.streak;return!(typeof s.currentStreak!="number"||typeof s.longestStreak!="number")}function E$(){if(!PT())return Cl.warn("localStorage is not available"),null;try{const t=localStorage.getItem(Jx);if(!t)return null;const e=JSON.parse(t);return M$(e)?(e.version!==Kp&&(Cl.info(`Migrating state from v${e.version} to v${Kp}`),e.version=Kp),e):(Cl.warn("Invalid gamification state structure in localStorage"),null)}catch(t){Cl.error("Failed to load gamification state:",t);try{localStorage.removeItem(Jx),Cl.info("Cleared corrupted gamification state from localStorage")}catch{}return null}}function C$(t){if(!PT()){Cl.warn("localStorage is not available, state not saved");return}try{localStorage.setItem(Jx,JSON.stringify(t))}catch(e){Cl.error("Failed to save gamification state:",e)}}function IT(){const t=new Date().toISOString(),e=t.split("T")[0];return{version:2,user:{totalXP:0,level:1,sectionsCompleted:[],partsCompleted:[],quizzesTaken:0,perfectQuizzes:0,visualizationsUsed:0,totalTimeSpentMinutes:0,joinedAt:t},sections:{},achievements:z$(),streak:{currentStreak:0,longestStreak:0,lastActivityDate:null,freezesRemaining:2,freezeUsedToday:!1},dailyGoals:{date:e,xpEarned:0,xpGoal:kw,completed:!1},lastUpdated:t}}function z$(){return[{id:"first-section",unlockedAt:null,progress:0,target:1},{id:"ten-sections",unlockedAt:null,progress:0,target:10},{id:"half-course",unlockedAt:null,progress:0,target:50},{id:"course-complete",unlockedAt:null,progress:0,target:100},{id:"first-mastery",unlockedAt:null,progress:0,target:1},{id:"quiz-master",unlockedAt:null,progress:0,target:10},{id:"perfectionist",unlockedAt:null,progress:0,target:5},{id:"week-streak",unlockedAt:null,progress:0,target:7},{id:"month-streak",unlockedAt:null,progress:0,target:30},{id:"level-5",unlockedAt:null,progress:0,target:5},{id:"level-10",unlockedAt:null,progress:0,target:10},{id:"first-visualization",unlockedAt:null,progress:0,target:1},{id:"explorer",unlockedAt:null,progress:0,target:10}]}const D$=50;function dv(t){return Math.round(t/D$*100)}const P$=[{id:"first-section",title:"First Steps",description:"Complete your first section",category:"progress",xpReward:25,check:t=>t.user.sectionsCompleted.length,target:1},{id:"ten-sections",title:"Getting Started",description:"Complete 10 sections",category:"progress",xpReward:50,check:t=>t.user.sectionsCompleted.length,target:10},{id:"half-course",title:"Halfway There",description:"Complete 50% of the course",category:"progress",xpReward:100,check:t=>dv(t.user.sectionsCompleted.length),target:50},{id:"course-complete",title:"Course Complete",description:"Complete 100% of the course",category:"progress",xpReward:200,check:t=>dv(t.user.sectionsCompleted.length),target:100},{id:"first-mastery",title:"Master of One",description:"Master your first section",category:"mastery",xpReward:30,check:t=>Object.values(t.sections).filter(e=>e.masteryLevel==="mastered").length,target:1},{id:"quiz-master",title:"Quiz Master",description:"Complete 10 quizzes",category:"mastery",xpReward:50,check:t=>t.user.quizzesTaken,target:10},{id:"perfectionist",title:"Perfectionist",description:"Get 5 perfect quiz scores",category:"mastery",xpReward:75,check:t=>t.user.perfectQuizzes,target:5},{id:"week-streak",title:"Week Warrior",description:"Maintain a 7-day streak",category:"dedication",xpReward:50,check:t=>t.streak.longestStreak,target:7},{id:"month-streak",title:"Monthly Master",description:"Maintain a 30-day streak",category:"dedication",xpReward:150,check:t=>t.streak.longestStreak,target:30},{id:"level-5",title:"Level Up",description:"Reach level 5",category:"dedication",xpReward:50,check:t=>t.user.level,target:5},{id:"level-10",title:"Expert",description:"Reach level 10",category:"dedication",xpReward:100,check:t=>t.user.level,target:10},{id:"first-visualization",title:"Visual Learner",description:"Use your first interactive visualization",category:"exploration",xpReward:15,check:t=>t.user.visualizationsUsed,target:1},{id:"explorer",title:"Explorer",description:"Use 10 different visualizations",category:"exploration",xpReward:50,check:t=>t.user.visualizationsUsed,target:10}];function I$(t){const e=[];for(const n of P$){const s=t.achievements.find(a=>a.id===n.id);if(s!=null&&s.unlockedAt)continue;n.check(t)>=n.target&&e.push({id:n.id,title:n.title,description:n.description,category:n.category,xpReward:n.xpReward,timestamp:Date.now()})}return e}function um(t){for(let e=O0.length-1;e>=0;e--)if(t>=O0[e])return e+1;return 1}function R$(t,e){if(e>=O0.length)return 100;const n=O0[e-1],s=O0[e],r=(t-n)/(s-n)*100;return Math.min(100,Math.max(0,r))}function RT(t,e){const n={easy:Ni.QUIZ_EASY,medium:Ni.QUIZ_MEDIUM,hard:Ni.QUIZ_HARD}[t];return Math.round(n*(e/100))}const _$=1e3*60*60*24;function q$(t){const e=new Date,n=e.toISOString().split("T")[0],s=t.streak.lastActivityDate;if(t.dailyGoals.date!==n&&(t={...t,dailyGoals:{date:n,xpEarned:0,xpGoal:kw,completed:!1},streak:{...t.streak,freezeUsedToday:!1}}),!s)return{...t,streak:{...t.streak,currentStreak:1,longestStreak:Math.max(1,t.streak.longestStreak),lastActivityDate:n}};const r=new Date(s),a=Math.floor((e.getTime()-r.getTime())/_$);if(a===0)return t;if(a===1){const l=t.streak.currentStreak+1;return{...t,streak:{...t.streak,currentStreak:l,longestStreak:Math.max(l,t.streak.longestStreak),lastActivityDate:n}}}return a===2&&t.streak.freezesRemaining>0&&!t.streak.freezeUsedToday?{...t,streak:{...t.streak,freezesRemaining:t.streak.freezesRemaining-1,freezeUsedToday:!0,lastActivityDate:n}}:{...t,streak:{...t.streak,currentStreak:1,lastActivityDate:n}}}function _T(t){const{quizAttempts:e}=t;if(e.length===0)return"learning";const n=Math.max(...e.map(a=>a.score)),s=e.reduce((a,l)=>a+l.score,0)/e.length;return e.filter(a=>a.score===100).length>=1||s>=90&&e.length>=3?"mastered":n>=80||s>=70&&e.length>=2?"familiar":"learning"}function O$(t){switch(t){case"mastered":return{label:"Mastered",color:"text-emerald-400",symbol:""};case"familiar":return{label:"Familiar",color:"text-yellow-400",symbol:""};case"learning":return{label:"Learning",color:"text-blue-400",symbol:""};case"none":default:return{label:"Not Started",color:"text-dark-600",symbol:""}}}const d2=tr("GamificationReducer");function B$(t,e,n){const s=t.sections[e];if(s!=null&&s.visitedAt)return t;const r=t.user.totalXP+Ni.SECTION_VISIT;return{...t,user:{...t.user,totalXP:r,level:um(r)},sections:{...t.sections,[e]:{sectionId:e,visitedAt:n,completedAt:(s==null?void 0:s.completedAt)??null,timeSpentSeconds:(s==null?void 0:s.timeSpentSeconds)??0,quizAttempts:(s==null?void 0:s.quizAttempts)??[],masteryLevel:(s==null?void 0:s.masteryLevel)??"learning",visualizationsInteracted:(s==null?void 0:s.visualizationsInteracted)??[]}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+Ni.SECTION_VISIT},lastUpdated:n}}function $$(t,e,n){const s=t.sections[e];if(s!=null&&s.completedAt)return t;if(!s)return d2.warn(`Attempted to complete unvisited section: ${e}`),t;const r=t.user.totalXP+Ni.SECTION_COMPLETE,a=[...t.user.sectionsCompleted,e];return{...t,user:{...t.user,totalXP:r,level:um(r),sectionsCompleted:a},sections:{...t.sections,[e]:{...s,completedAt:n,masteryLevel:_T(s)}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+Ni.SECTION_COMPLETE},lastUpdated:n}}function L$(t,e,n){const{sectionId:s,difficulty:r,score:a,correctAnswers:l,totalQuestions:o}=e,c=t.sections[s];if(!c)return d2.warn(`Section ${s} was not visited before quiz`),t;const h=RT(r,a),u=l===o,f=u?Math.round(h*(1+Ni.QUIZ_PERFECT_BONUS)):h,x=t.user.totalXP+f,b={timestamp:n,difficulty:r,score:a,correctAnswers:l,totalQuestions:o,xpEarned:f},M=[...c.quizAttempts,b],y={...c,quizAttempts:M};return{...t,user:{...t.user,totalXP:x,level:um(x),quizzesTaken:t.user.quizzesTaken+1,perfectQuizzes:u?t.user.perfectQuizzes+1:t.user.perfectQuizzes},sections:{...t.sections,[s]:{...y,masteryLevel:_T(y)}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+f},lastUpdated:n}}function F$(t,e,n,s){const r=t.sections[e];if(r!=null&&r.visualizationsInteracted.includes(n))return t;if(!r)return d2.warn(`Section ${e} was not visited before visualization`),t;const a=t.user.totalXP+Ni.VISUALIZATION_USE,l=[...r.visualizationsInteracted,n];return{...t,user:{...t.user,totalXP:a,level:um(a),visualizationsUsed:t.user.visualizationsUsed+1},sections:{...t.sections,[e]:{...r,visualizationsInteracted:l}},dailyGoals:{...t.dailyGoals,xpEarned:t.dailyGoals.xpEarned+Ni.VISUALIZATION_USE},lastUpdated:s}}function U$(t,e){const n=new Date().toISOString();switch(e.type){case"LOAD_STATE":return e.payload;case"VISIT_SECTION":return B$(t,e.payload.sectionId,n);case"COMPLETE_SECTION":return $$(t,e.payload.sectionId,n);case"RECORD_QUIZ":return L$(t,e.payload,n);case"USE_VISUALIZATION":return F$(t,e.payload.sectionId,e.payload.name,n);case"UPDATE_STREAK":return q$(t);case"RESET_PROGRESS":return IT();default:return t}}const H$=500,qT=q.createContext(null);function V$({children:t,courseId:e}){const[n,s]=q.useReducer(U$,IT()),[r,a]=q.useState(!0),[l,o]=q.useState([]),c=q.useRef(null),h=q.useCallback(S=>`${e}:${S}`,[e]);q.useEffect(()=>{const S=E$();S&&s({type:"LOAD_STATE",payload:S}),a(!1)},[]),q.useEffect(()=>{r||(C$(n),sO().requestSync())},[n,r]),q.useEffect(()=>{r||s({type:"UPDATE_STREAK"})},[r]),q.useEffect(()=>{if(!r)return c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{const S=I$(n);S.length>0&&o(N=>[...N,...S])},H$),()=>{c.current&&clearTimeout(c.current)}},[n,r]);const u=q.useCallback(S=>{s({type:"VISIT_SECTION",payload:{sectionId:h(S)}})},[h]),f=q.useCallback(S=>{s({type:"COMPLETE_SECTION",payload:{sectionId:h(S)}})},[h]),x=q.useCallback((S,N,j,m,g)=>{s({type:"RECORD_QUIZ",payload:{sectionId:h(S),difficulty:N,score:j,correctAnswers:m,totalQuestions:g}})},[h]),b=q.useCallback((S,N)=>{s({type:"USE_VISUALIZATION",payload:{sectionId:h(S),name:N}})},[h]),M=q.useCallback(S=>{o(N=>N.filter(j=>j.id!==S))},[]),y=q.useCallback(()=>{s({type:"RESET_PROGRESS"})},[]),T=q.useMemo(()=>({state:n,isLoading:r,notifications:l,visitSection:u,completeSection:f,recordQuiz:x,useVisualization:b,dismissNotification:M,resetProgress:y}),[n,r,l,u,f,x,b,M,y]);return i.jsx(qT.Provider,{value:T,children:t})}function kc(){const t=q.useContext(qT);if(!t)throw new Error("useGamification must be used within a GamificationProvider");return t}function G$({children:t}){return i.jsx(V$,{courseId:ef,children:t})}const f2=q.createContext({});function m2(t){const e=q.useRef(null);return e.current===null&&(e.current=t()),e.current}const p2=typeof window<"u",OT=p2?q.useLayoutEffect:q.useEffect,dm=q.createContext(null);function x2(t,e){t.indexOf(e)===-1&&t.push(e)}function g2(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Vr=(t,e,n)=>n>e?e:n<t?t:n;let y2=()=>{};const Gr={},BT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function $T(t){return typeof t=="object"&&t!==null}const LT=t=>/^0[^.\s]+$/u.test(t);function b2(t){let e;return()=>(e===void 0&&(e=t()),e)}const ds=t=>t,W$=(t,e)=>n=>e(t(n)),Bh=(...t)=>t.reduce(W$),uh=(t,e,n)=>{const s=e-t;return s===0?1:(n-t)/s};class v2{constructor(){this.subscriptions=[]}add(e){return x2(this.subscriptions,e),()=>g2(this.subscriptions,e)}notify(e,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,s);else for(let a=0;a<r;a++){const l=this.subscriptions[a];l&&l(e,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zs=t=>t*1e3,os=t=>t/1e3;function FT(t,e){return e?t*(1e3/e):0}const UT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Y$=1e-7,X$=12;function Z$(t,e,n,s,r){let a,l,o=0;do l=e+(n-e)/2,a=UT(l,s,r)-t,a>0?n=l:e=l;while(Math.abs(a)>Y$&&++o<X$);return l}function $h(t,e,n,s){if(t===e&&n===s)return ds;const r=a=>Z$(a,0,1,t,n);return a=>a===0||a===1?a:UT(r(a),e,s)}const HT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,VT=t=>e=>1-t(1-e),GT=$h(.33,1.53,.69,.99),j2=VT(GT),WT=HT(j2),YT=t=>(t*=2)<1?.5*j2(t):.5*(2-Math.pow(2,-10*(t-1))),w2=t=>1-Math.sin(Math.acos(t)),XT=VT(w2),ZT=HT(w2),Q$=$h(.42,0,1,1),K$=$h(0,0,.58,1),QT=$h(.42,0,.58,1),J$=t=>Array.isArray(t)&&typeof t[0]!="number",KT=t=>Array.isArray(t)&&typeof t[0]=="number",eL={linear:ds,easeIn:Q$,easeInOut:QT,easeOut:K$,circIn:w2,circInOut:ZT,circOut:XT,backIn:j2,backInOut:WT,backOut:GT,anticipate:YT},tL=t=>typeof t=="string",fv=t=>{if(KT(t)){y2(t.length===4);const[e,n,s,r]=t;return $h(e,n,s,r)}else if(tL(t))return eL[t];return t},Ou=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function nL(t,e){let n=new Set,s=new Set,r=!1,a=!1;const l=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(u){l.has(u)&&(h.schedule(u),t()),u(o)}const h={schedule:(u,f=!1,x=!1)=>{const M=x&&r?n:s;return f&&l.add(u),M.has(u)||M.add(u),u},cancel:u=>{s.delete(u),l.delete(u)},process:u=>{if(o=u,r){a=!0;return}r=!0,[n,s]=[s,n],n.forEach(c),n.clear(),r=!1,a&&(a=!1,h.process(u))}};return h}const iL=40;function JT(t,e){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=Ou.reduce((j,m)=>(j[m]=nL(a),j),{}),{setup:o,read:c,resolveKeyframes:h,preUpdate:u,update:f,preRender:x,render:b,postRender:M}=l,y=()=>{const j=Gr.useManualTiming?r.timestamp:performance.now();n=!1,Gr.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(j-r.timestamp,iL),1)),r.timestamp=j,r.isProcessing=!0,o.process(r),c.process(r),h.process(r),u.process(r),f.process(r),x.process(r),b.process(r),M.process(r),r.isProcessing=!1,n&&e&&(s=!1,t(y))},T=()=>{n=!0,s=!0,r.isProcessing||t(y)};return{schedule:Ou.reduce((j,m)=>{const g=l[m];return j[m]=(E,v=!1,p=!1)=>(n||T(),g.schedule(E,v,p)),j},{}),cancel:j=>{for(let m=0;m<Ou.length;m++)l[Ou[m]].cancel(j)},state:r,steps:l}}const{schedule:Gt,cancel:Xa,state:Ln,steps:Jp}=JT(typeof requestAnimationFrame<"u"?requestAnimationFrame:ds,!0);let gd;function sL(){gd=void 0}const Ti={now:()=>(gd===void 0&&Ti.set(Ln.isProcessing||Gr.useManualTiming?Ln.timestamp:performance.now()),gd),set:t=>{gd=t,queueMicrotask(sL)}},eS=t=>e=>typeof e=="string"&&e.startsWith(t),tS=eS("--"),rL=eS("var(--"),T2=t=>rL(t)?aL.test(t.split("/*")[0].trim()):!1,aL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Mc={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},dh={...Mc,transform:t=>Vr(0,1,t)},Bu={...Mc,default:1},$0=t=>Math.round(t*1e5)/1e5,S2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function lL(t){return t==null}const oL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,N2=(t,e)=>n=>!!(typeof n=="string"&&oL.test(n)&&n.startsWith(t)||e&&!lL(n)&&Object.prototype.hasOwnProperty.call(n,e)),nS=(t,e,n)=>s=>{if(typeof s!="string")return s;const[r,a,l,o]=s.match(S2);return{[t]:parseFloat(r),[e]:parseFloat(a),[n]:parseFloat(l),alpha:o!==void 0?parseFloat(o):1}},cL=t=>Vr(0,255,t),e1={...Mc,transform:t=>Math.round(cL(t))},Dl={test:N2("rgb","red"),parse:nS("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:s=1})=>"rgba("+e1.transform(t)+", "+e1.transform(e)+", "+e1.transform(n)+", "+$0(dh.transform(s))+")"};function hL(t){let e="",n="",s="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),s=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),s=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,s+=s,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const e4={test:N2("#"),parse:hL,transform:Dl.transform},Lh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),fa=Lh("deg"),Qs=Lh("%"),Ke=Lh("px"),uL=Lh("vh"),dL=Lh("vw"),mv={...Qs,parse:t=>Qs.parse(t)/100,transform:t=>Qs.transform(t*100)},Io={test:N2("hsl","hue"),parse:nS("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:s=1})=>"hsla("+Math.round(t)+", "+Qs.transform($0(e))+", "+Qs.transform($0(n))+", "+$0(dh.transform(s))+")"},vn={test:t=>Dl.test(t)||e4.test(t)||Io.test(t),parse:t=>Dl.test(t)?Dl.parse(t):Io.test(t)?Io.parse(t):e4.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Dl.transform(t):Io.transform(t),getAnimatableNone:t=>{const e=vn.parse(t);return e.alpha=0,vn.transform(e)}},fL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mL(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(S2))==null?void 0:e.length)||0)+(((n=t.match(fL))==null?void 0:n.length)||0)>0}const iS="number",sS="color",pL="var",xL="var(",pv="${}",gL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fh(t){const e=t.toString(),n=[],s={color:[],number:[],var:[]},r=[];let a=0;const o=e.replace(gL,c=>(vn.test(c)?(s.color.push(a),r.push(sS),n.push(vn.parse(c))):c.startsWith(xL)?(s.var.push(a),r.push(pL),n.push(c)):(s.number.push(a),r.push(iS),n.push(parseFloat(c))),++a,pv)).split(pv);return{values:n,split:o,indexes:s,types:r}}function rS(t){return fh(t).values}function aS(t){const{split:e,types:n}=fh(t),s=e.length;return r=>{let a="";for(let l=0;l<s;l++)if(a+=e[l],r[l]!==void 0){const o=n[l];o===iS?a+=$0(r[l]):o===sS?a+=vn.transform(r[l]):a+=r[l]}return a}}const yL=t=>typeof t=="number"?0:vn.test(t)?vn.getAnimatableNone(t):t;function bL(t){const e=rS(t);return aS(t)(e.map(yL))}const Za={test:mL,parse:rS,createTransformer:aS,getAnimatableNone:bL};function t1(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function vL({hue:t,saturation:e,lightness:n,alpha:s}){t/=360,e/=100,n/=100;let r=0,a=0,l=0;if(!e)r=a=l=n;else{const o=n<.5?n*(1+e):n+e-n*e,c=2*n-o;r=t1(c,o,t+1/3),a=t1(c,o,t),l=t1(c,o,t-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:s}}function xf(t,e){return n=>n>0?e:t}const nn=(t,e,n)=>t+(e-t)*n,n1=(t,e,n)=>{const s=t*t,r=n*(e*e-s)+s;return r<0?0:Math.sqrt(r)},jL=[e4,Dl,Io],wL=t=>jL.find(e=>e.test(t));function xv(t){const e=wL(t);if(!e)return!1;let n=e.parse(t);return e===Io&&(n=vL(n)),n}const gv=(t,e)=>{const n=xv(t),s=xv(e);if(!n||!s)return xf(t,e);const r={...n};return a=>(r.red=n1(n.red,s.red,a),r.green=n1(n.green,s.green,a),r.blue=n1(n.blue,s.blue,a),r.alpha=nn(n.alpha,s.alpha,a),Dl.transform(r))},t4=new Set(["none","hidden"]);function TL(t,e){return t4.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function SL(t,e){return n=>nn(t,e,n)}function A2(t){return typeof t=="number"?SL:typeof t=="string"?T2(t)?xf:vn.test(t)?gv:kL:Array.isArray(t)?lS:typeof t=="object"?vn.test(t)?gv:NL:xf}function lS(t,e){const n=[...t],s=n.length,r=t.map((a,l)=>A2(a)(a,e[l]));return a=>{for(let l=0;l<s;l++)n[l]=r[l](a);return n}}function NL(t,e){const n={...t,...e},s={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(s[r]=A2(t[r])(t[r],e[r]));return r=>{for(const a in s)n[a]=s[a](r);return n}}function AL(t,e){const n=[],s={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const a=e.types[r],l=t.indexes[a][s[a]],o=t.values[l]??0;n[r]=o,s[a]++}return n}const kL=(t,e)=>{const n=Za.createTransformer(e),s=fh(t),r=fh(e);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?t4.has(t)&&!r.values.length||t4.has(e)&&!s.values.length?TL(t,e):Bh(lS(AL(s,r),r.values),n):xf(t,e)};function oS(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?nn(t,e,n):A2(t)(t,e)}const ML=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Gt.update(e,n),stop:()=>Xa(e),now:()=>Ln.isProcessing?Ln.timestamp:Ti.now()}},cS=(t,e,n=10)=>{let s="";const r=Math.max(Math.round(e/n),2);for(let a=0;a<r;a++)s+=Math.round(t(a/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},gf=2e4;function k2(t){let e=0;const n=50;let s=t.next(e);for(;!s.done&&e<gf;)e+=n,s=t.next(e);return e>=gf?1/0:e}function EL(t,e=100,n){const s=n({...t,keyframes:[0,e]}),r=Math.min(k2(s),gf);return{type:"keyframes",ease:a=>s.next(r*a).value/e,duration:os(r)}}const CL=5;function hS(t,e,n){const s=Math.max(e-CL,0);return FT(n-t(s),e-s)}const on={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},i1=.001;function zL({duration:t=on.duration,bounce:e=on.bounce,velocity:n=on.velocity,mass:s=on.mass}){let r,a,l=1-e;l=Vr(on.minDamping,on.maxDamping,l),t=Vr(on.minDuration,on.maxDuration,os(t)),l<1?(r=h=>{const u=h*l,f=u*t,x=u-n,b=n4(h,l),M=Math.exp(-f);return i1-x/b*M},a=h=>{const f=h*l*t,x=f*n+n,b=Math.pow(l,2)*Math.pow(h,2)*t,M=Math.exp(-f),y=n4(Math.pow(h,2),l);return(-r(h)+i1>0?-1:1)*((x-b)*M)/y}):(r=h=>{const u=Math.exp(-h*t),f=(h-n)*t+1;return-i1+u*f},a=h=>{const u=Math.exp(-h*t),f=(n-h)*(t*t);return u*f});const o=5/t,c=PL(r,a,o);if(t=Zs(t),isNaN(c))return{stiffness:on.stiffness,damping:on.damping,duration:t};{const h=Math.pow(c,2)*s;return{stiffness:h,damping:l*2*Math.sqrt(s*h),duration:t}}}const DL=12;function PL(t,e,n){let s=n;for(let r=1;r<DL;r++)s=s-t(s)/e(s);return s}function n4(t,e){return t*Math.sqrt(1-e*e)}const IL=["duration","bounce"],RL=["stiffness","damping","mass"];function yv(t,e){return e.some(n=>t[n]!==void 0)}function _L(t){let e={velocity:on.velocity,stiffness:on.stiffness,damping:on.damping,mass:on.mass,isResolvedFromDuration:!1,...t};if(!yv(t,RL)&&yv(t,IL))if(t.visualDuration){const n=t.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,a=2*Vr(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:on.mass,stiffness:r,damping:a}}else{const n=zL(t);e={...e,...n,mass:on.mass},e.isResolvedFromDuration=!0}return e}function yf(t=on.visualDuration,e=on.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:s,restDelta:r}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],o={done:!1,value:a},{stiffness:c,damping:h,mass:u,duration:f,velocity:x,isResolvedFromDuration:b}=_L({...n,velocity:-os(n.velocity||0)}),M=x||0,y=h/(2*Math.sqrt(c*u)),T=l-a,S=os(Math.sqrt(c/u)),N=Math.abs(T)<5;s||(s=N?on.restSpeed.granular:on.restSpeed.default),r||(r=N?on.restDelta.granular:on.restDelta.default);let j;if(y<1){const g=n4(S,y);j=E=>{const v=Math.exp(-y*S*E);return l-v*((M+y*S*T)/g*Math.sin(g*E)+T*Math.cos(g*E))}}else if(y===1)j=g=>l-Math.exp(-S*g)*(T+(M+S*T)*g);else{const g=S*Math.sqrt(y*y-1);j=E=>{const v=Math.exp(-y*S*E),p=Math.min(g*E,300);return l-v*((M+y*S*T)*Math.sinh(p)+g*T*Math.cosh(p))/g}}const m={calculatedDuration:b&&f||null,next:g=>{const E=j(g);if(b)o.done=g>=f;else{let v=g===0?M:0;y<1&&(v=g===0?Zs(M):hS(j,g,E));const p=Math.abs(v)<=s,A=Math.abs(l-E)<=r;o.done=p&&A}return o.value=o.done?l:E,o},toString:()=>{const g=Math.min(k2(m),gf),E=cS(v=>m.next(g*v).value,g,30);return g+"ms "+E},toTransition:()=>{}};return m}yf.applyToOptions=t=>{const e=EL(t,100,yf);return t.ease=e.ease,t.duration=Zs(e.duration),t.type="keyframes",t};function i4({keyframes:t,velocity:e=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:l,min:o,max:c,restDelta:h=.5,restSpeed:u}){const f=t[0],x={done:!1,value:f},b=p=>o!==void 0&&p<o||c!==void 0&&p>c,M=p=>o===void 0?c:c===void 0||Math.abs(o-p)<Math.abs(c-p)?o:c;let y=n*e;const T=f+y,S=l===void 0?T:l(T);S!==T&&(y=S-f);const N=p=>-y*Math.exp(-p/s),j=p=>S+N(p),m=p=>{const A=N(p),w=j(p);x.done=Math.abs(A)<=h,x.value=x.done?S:w};let g,E;const v=p=>{b(x.value)&&(g=p,E=yf({keyframes:[x.value,M(x.value)],velocity:hS(j,p,x.value),damping:r,stiffness:a,restDelta:h,restSpeed:u}))};return v(0),{calculatedDuration:null,next:p=>{let A=!1;return!E&&g===void 0&&(A=!0,m(p),v(p)),g!==void 0&&p>=g?E.next(p-g):(!A&&m(p),x)}}}function qL(t,e,n){const s=[],r=n||Gr.mix||oS,a=t.length-1;for(let l=0;l<a;l++){let o=r(t[l],t[l+1]);if(e){const c=Array.isArray(e)?e[l]||ds:e;o=Bh(c,o)}s.push(o)}return s}function OL(t,e,{clamp:n=!0,ease:s,mixer:r}={}){const a=t.length;if(y2(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=qL(e,s,r),c=o.length,h=u=>{if(l&&u<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(u<t[f+1]);f++);const x=uh(t[f],t[f+1],u);return o[f](x)};return n?u=>h(Vr(t[0],t[a-1],u)):h}function BL(t,e){const n=t[t.length-1];for(let s=1;s<=e;s++){const r=uh(0,e,s);t.push(nn(n,1,r))}}function $L(t){const e=[0];return BL(e,t.length-1),e}function LL(t,e){return t.map(n=>n*e)}function FL(t,e){return t.map(()=>e||QT).splice(0,t.length-1)}function L0({duration:t=300,keyframes:e,times:n,ease:s="easeInOut"}){const r=J$(s)?s.map(fv):fv(s),a={done:!1,value:e[0]},l=LL(n&&n.length===e.length?n:$L(e),t),o=OL(l,e,{ease:Array.isArray(r)?r:FL(e,r)});return{calculatedDuration:t,next:c=>(a.value=o(c),a.done=c>=t,a)}}const UL=t=>t!==null;function M2(t,{repeat:e,repeatType:n="loop"},s,r=1){const a=t.filter(UL),o=r<0||e&&n!=="loop"&&e%2===1?0:a.length-1;return!o||s===void 0?a[o]:s}const HL={decay:i4,inertia:i4,tween:L0,keyframes:L0,spring:yf};function uS(t){typeof t.type=="string"&&(t.type=HL[t.type])}class E2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const VL=t=>t/100;class C2 extends E2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:n}=this.options;n&&n.updatedAt!==Ti.now()&&this.tick(Ti.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;uS(e);const{type:n=L0,repeat:s=0,repeatDelay:r=0,repeatType:a,velocity:l=0}=e;let{keyframes:o}=e;const c=n||L0;c!==L0&&typeof o[0]!="number"&&(this.mixKeyframes=Bh(VL,oS(o[0],o[1])),o=[0,100]);const h=c({...e,keyframes:o});a==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...o].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=k2(h));const{calculatedDuration:u}=h;this.calculatedDuration=u,this.resolvedDuration=u+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=h}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:s,totalDuration:r,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return s.next(0);const{delay:h=0,keyframes:u,repeat:f,repeatType:x,repeatDelay:b,type:M,onUpdate:y,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const S=this.currentTime-h*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?S<0:S>r;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let j=this.currentTime,m=s;if(f){const p=Math.min(this.currentTime,r)/o;let A=Math.floor(p),w=p%1;!w&&p>=1&&(w=1),w===1&&A--,A=Math.min(A,f+1),!!(A%2)&&(x==="reverse"?(w=1-w,b&&(w-=b/o)):x==="mirror"&&(m=l)),j=Vr(0,1,w)*o}const g=N?{done:!1,value:u[0]}:m.next(j);a&&(g.value=a(g.value));let{done:E}=g;!N&&c!==null&&(E=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const v=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return v&&M!==i4&&(g.value=M2(u,this.options,T,this.speed)),y&&y(g.value),v&&this.finish(),g}then(e,n){return this.finished.then(e,n)}get duration(){return os(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+os(e)}get time(){return os(this.currentTime)}set time(e){var n;e=Zs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ti.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=os(this.currentTime))}play(){var r,a;if(this.isStopped)return;const{driver:e=ML,startTime:n}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),(a=(r=this.options).onPlay)==null||a.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ti.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function GL(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Pl=t=>t*180/Math.PI,s4=t=>{const e=Pl(Math.atan2(t[1],t[0]));return r4(e)},WL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:s4,rotateZ:s4,skewX:t=>Pl(Math.atan(t[1])),skewY:t=>Pl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},r4=t=>(t=t%360,t<0&&(t+=360),t),bv=s4,vv=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),jv=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),YL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:vv,scaleY:jv,scale:t=>(vv(t)+jv(t))/2,rotateX:t=>r4(Pl(Math.atan2(t[6],t[5]))),rotateY:t=>r4(Pl(Math.atan2(-t[2],t[0]))),rotateZ:bv,rotate:bv,skewX:t=>Pl(Math.atan(t[4])),skewY:t=>Pl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function a4(t){return t.includes("scale")?1:0}function l4(t,e){if(!t||t==="none")return a4(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=YL,r=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=WL,r=o}if(!r)return a4(e);const a=s[e],l=r[1].split(",").map(ZL);return typeof a=="function"?a(l):l[a]}const XL=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return l4(n,e)};function ZL(t){return parseFloat(t.trim())}const Ec=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cc=new Set(Ec),wv=t=>t===Mc||t===Ke,QL=new Set(["x","y","z"]),KL=Ec.filter(t=>!QL.has(t));function JL(t){const e=[];return KL.forEach(n=>{const s=t.getValue(n);s!==void 0&&(e.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),e}const Bl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>l4(e,"x"),y:(t,{transform:e})=>l4(e,"y")};Bl.translateX=Bl.x;Bl.translateY=Bl.y;const $l=new Set;let o4=!1,c4=!1,h4=!1;function dS(){if(c4){const t=Array.from($l).filter(s=>s.needsMeasurement),e=new Set(t.map(s=>s.element)),n=new Map;e.forEach(s=>{const r=JL(s);r.length&&(n.set(s,r),s.render())}),t.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([a,l])=>{var o;(o=s.getValue(a))==null||o.set(l)})}),t.forEach(s=>s.measureEndState()),t.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}c4=!1,o4=!1,$l.forEach(t=>t.complete(h4)),$l.clear()}function fS(){$l.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(c4=!0)})}function eF(){h4=!0,fS(),dS(),h4=!1}class z2{constructor(e,n,s,r,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=s,this.motionValue=r,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?($l.add(this),o4||(o4=!0,Gt.read(fS),Gt.resolveKeyframes(dS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:s,motionValue:r}=this;if(e[0]===null){const a=r==null?void 0:r.get(),l=e[e.length-1];if(a!==void 0)e[0]=a;else if(s&&n){const o=s.readValue(n,l);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=l),r&&a===void 0&&r.set(e[0])}GL(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),$l.delete(this)}cancel(){this.state==="scheduled"&&($l.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const tF=t=>t.startsWith("--");function nF(t,e,n){tF(e)?t.style.setProperty(e,n):t.style[e]=n}const iF=b2(()=>window.ScrollTimeline!==void 0),sF={};function rF(t,e){const n=b2(t);return()=>sF[e]??n()}const mS=rF(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),y0=([t,e,n,s])=>`cubic-bezier(${t}, ${e}, ${n}, ${s})`,Tv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:y0([0,.65,.55,1]),circOut:y0([.55,0,1,.45]),backIn:y0([.31,.01,.66,-.59]),backOut:y0([.33,1.53,.69,.99])};function pS(t,e){if(t)return typeof t=="function"?mS()?cS(t,e):"ease-out":KT(t)?y0(t):Array.isArray(t)?t.map(n=>pS(n,e)||Tv.easeOut):Tv[t]}function aF(t,e,n,{delay:s=0,duration:r=300,repeat:a=0,repeatType:l="loop",ease:o="easeOut",times:c}={},h=void 0){const u={[e]:n};c&&(u.offset=c);const f=pS(o,r);Array.isArray(f)&&(u.easing=f);const x={delay:s,duration:r,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return h&&(x.pseudoElement=h),t.animate(u,x)}function xS(t){return typeof t=="function"&&"applyToOptions"in t}function lF({type:t,...e}){return xS(t)&&mS()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class oF extends E2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:s,keyframes:r,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:o,onComplete:c}=e;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=e,y2(typeof e.type!="string");const h=lF(e);this.animation=aF(n,s,r,h,a),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const u=M2(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):nF(n,s,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,s;const e=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return os(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+os(e)}get time(){return os(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Zs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&iF()?(this.animation.timeline=e,ds):n(this)}}const gS={anticipate:YT,backInOut:WT,circInOut:ZT};function cF(t){return t in gS}function hF(t){typeof t.ease=="string"&&cF(t.ease)&&(t.ease=gS[t.ease])}const Sv=10;class uF extends oF{constructor(e){hF(e),uS(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:s,onComplete:r,element:a,...l}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new C2({...l,autoplay:!1}),c=Zs(this.finishedTime??this.time);n.setWithVelocity(o.sample(c-Sv).value,o.sample(c).value,Sv),o.stop()}}const Nv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Za.test(t)||t==="0")&&!t.startsWith("url("));function dF(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function fF(t,e,n,s){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=Nv(r,e),o=Nv(a,e);return!l||!o?!1:dF(t)||(n==="spring"||xS(n))&&s}function u4(t){t.duration=0,t.type="keyframes"}const mF=new Set(["opacity","clipPath","filter","transform"]),pF=b2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function xF(t){var u;const{motionValue:e,name:n,repeatDelay:s,repeatType:r,damping:a,type:l}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:h}=e.owner.getProps();return pF()&&n&&mF.has(n)&&(n!=="transform"||!h)&&!c&&!s&&r!=="mirror"&&a!==0&&l!=="inertia"}const gF=40;class yF extends E2{constructor({autoplay:e=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:l="loop",keyframes:o,name:c,motionValue:h,element:u,...f}){var M;super(),this.stop=()=>{var y,T;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=Ti.now();const x={autoplay:e,delay:n,type:s,repeat:r,repeatDelay:a,repeatType:l,name:c,motionValue:h,element:u,...f},b=(u==null?void 0:u.KeyframeResolver)||z2;this.keyframeResolver=new b(o,(y,T,S)=>this.onKeyframesResolved(y,T,x,!S),c,h,u),(M=this.keyframeResolver)==null||M.scheduleResolve()}onKeyframesResolved(e,n,s,r){this.keyframeResolver=void 0;const{name:a,type:l,velocity:o,delay:c,isHandoff:h,onUpdate:u}=s;this.resolvedAt=Ti.now(),fF(e,a,l,o)||((Gr.instantAnimations||!c)&&(u==null||u(M2(e,s,n))),e[0]=e[e.length-1],u4(s),s.repeat=0);const x={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>gF?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:e},b=!h&&xF(x)?new uF({...x,element:x.motionValue.owner.current}):new C2(x);b.finished.then(()=>this.notifyFinished()).catch(ds),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),eF()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const bF=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vF(t){const e=bF.exec(t);if(!e)return[,];const[,n,s,r]=e;return[`--${n??s}`,r]}function yS(t,e,n=1){const[s,r]=vF(t);if(!s)return;const a=window.getComputedStyle(e).getPropertyValue(s);if(a){const l=a.trim();return BT(l)?parseFloat(l):l}return T2(r)?yS(r,e,n+1):r}function D2(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const bS=new Set(["width","height","top","left","right","bottom",...Ec]),jF={test:t=>t==="auto",parse:t=>t},vS=t=>e=>e.test(t),jS=[Mc,Ke,Qs,fa,dL,uL,jF],Av=t=>jS.find(vS(t));function wF(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||LT(t):!0}const TF=new Set(["brightness","contrast","saturate","opacity"]);function SF(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[s]=n.match(S2)||[];if(!s)return t;const r=n.replace(s,"");let a=TF.has(e)?1:0;return s!==n&&(a*=100),e+"("+a+r+")"}const NF=/\b([a-z-]*)\(.*?\)/gu,d4={...Za,getAnimatableNone:t=>{const e=t.match(NF);return e?e.map(SF).join(" "):t}},kv={...Mc,transform:Math.round},AF={rotate:fa,rotateX:fa,rotateY:fa,rotateZ:fa,scale:Bu,scaleX:Bu,scaleY:Bu,scaleZ:Bu,skew:fa,skewX:fa,skewY:fa,distance:Ke,translateX:Ke,translateY:Ke,translateZ:Ke,x:Ke,y:Ke,z:Ke,perspective:Ke,transformPerspective:Ke,opacity:dh,originX:mv,originY:mv,originZ:Ke},P2={borderWidth:Ke,borderTopWidth:Ke,borderRightWidth:Ke,borderBottomWidth:Ke,borderLeftWidth:Ke,borderRadius:Ke,radius:Ke,borderTopLeftRadius:Ke,borderTopRightRadius:Ke,borderBottomRightRadius:Ke,borderBottomLeftRadius:Ke,width:Ke,maxWidth:Ke,height:Ke,maxHeight:Ke,top:Ke,right:Ke,bottom:Ke,left:Ke,padding:Ke,paddingTop:Ke,paddingRight:Ke,paddingBottom:Ke,paddingLeft:Ke,margin:Ke,marginTop:Ke,marginRight:Ke,marginBottom:Ke,marginLeft:Ke,backgroundPositionX:Ke,backgroundPositionY:Ke,...AF,zIndex:kv,fillOpacity:dh,strokeOpacity:dh,numOctaves:kv},kF={...P2,color:vn,backgroundColor:vn,outlineColor:vn,fill:vn,stroke:vn,borderColor:vn,borderTopColor:vn,borderRightColor:vn,borderBottomColor:vn,borderLeftColor:vn,filter:d4,WebkitFilter:d4},wS=t=>kF[t];function TS(t,e){let n=wS(t);return n!==d4&&(n=Za),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const MF=new Set(["auto","none","0"]);function EF(t,e,n){let s=0,r;for(;s<t.length&&!r;){const a=t[s];typeof a=="string"&&!MF.has(a)&&fh(a).values.length&&(r=t[s]),s++}if(r&&n)for(const a of e)t[a]=TS(n,r)}class CF extends z2{constructor(e,n,s,r,a){super(e,n,s,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let h=e[c];if(typeof h=="string"&&(h=h.trim(),T2(h))){const u=yS(h,n.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!bS.has(s)||e.length!==2)return;const[r,a]=e,l=Av(r),o=Av(a);if(l!==o)if(wv(l)&&wv(o))for(let c=0;c<e.length;c++){const h=e[c];typeof h=="string"&&(e[c]=parseFloat(h))}else Bl[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,s=[];for(let r=0;r<e.length;r++)(e[r]===null||wF(e[r]))&&s.push(r);s.length&&EF(e,s,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bl[s](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(s,r).jump(r,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const a=s.length-1,l=s[a];s[a]=Bl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([c,h])=>{e.getValue(c).set(h)}),this.resolveNoneKeyframes()}}function zF(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const r=(n==null?void 0:n[t])??s.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const SS=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function NS(t){return $T(t)&&"offsetHeight"in t}const Mv=30,DF=t=>!isNaN(parseFloat(t));class PF{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var a;const r=Ti.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ti.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=DF(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new v2);const s=this.events[e].add(n);return e==="change"?()=>{s(),Gt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ti.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Mv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Mv);return FT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fc(t,e){return new PF(t,e)}const{schedule:I2}=JT(queueMicrotask,!1),As={x:!1,y:!1};function AS(){return As.x||As.y}function IF(t){return t==="x"||t==="y"?As[t]?null:(As[t]=!0,()=>{As[t]=!1}):As.x||As.y?null:(As.x=As.y=!0,()=>{As.x=As.y=!1})}function kS(t,e){const n=zF(t),s=new AbortController,r={passive:!0,...e,signal:s.signal};return[n,r,()=>s.abort()]}function Ev(t){return!(t.pointerType==="touch"||AS())}function RF(t,e,n={}){const[s,r,a]=kS(t,n),l=o=>{if(!Ev(o))return;const{target:c}=o,h=e(c,o);if(typeof h!="function"||!c)return;const u=f=>{Ev(f)&&(h(f),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,r)};return s.forEach(o=>{o.addEventListener("pointerenter",l,r)}),a}const MS=(t,e)=>e?t===e?!0:MS(t,e.parentElement):!1,R2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,_F=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qF(t){return _F.has(t.tagName)||t.tabIndex!==-1}const yd=new WeakSet;function Cv(t){return e=>{e.key==="Enter"&&t(e)}}function s1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const OF=(t,e)=>{const n=t.currentTarget;if(!n)return;const s=Cv(()=>{if(yd.has(n))return;s1(n,"down");const r=Cv(()=>{s1(n,"up")}),a=()=>s1(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",s,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),e)};function zv(t){return R2(t)&&!AS()}function BF(t,e,n={}){const[s,r,a]=kS(t,n),l=o=>{const c=o.currentTarget;if(!zv(o))return;yd.add(c);const h=e(c,o),u=(b,M)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",x),yd.has(c)&&yd.delete(c),zv(b)&&typeof h=="function"&&h(b,{success:M})},f=b=>{u(b,c===window||c===document||n.useGlobalTarget||MS(c,b.target))},x=b=>{u(b,!1)};window.addEventListener("pointerup",f,r),window.addEventListener("pointercancel",x,r)};return s.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",l,r),NS(o)&&(o.addEventListener("focus",h=>OF(h,r)),!qF(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function ES(t){return $T(t)&&"ownerSVGElement"in t}function $F(t){return ES(t)&&t.tagName==="svg"}const Zn=t=>!!(t&&t.getVelocity),LF=[...jS,vn,Za],FF=t=>LF.find(vS(t)),_2=q.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Dv(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function UF(...t){return e=>{let n=!1;const s=t.map(r=>{const a=Dv(r,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let r=0;r<s.length;r++){const a=s[r];typeof a=="function"?a():Dv(t[r],null)}}}}function HF(...t){return q.useCallback(UF(...t),t)}class VF extends q.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=NS(s)&&s.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function GF({children:t,isPresent:e,anchorX:n,root:s}){const r=q.useId(),a=q.useRef(null),l=q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=q.useContext(_2),c=HF(a,t==null?void 0:t.ref);return q.useInsertionEffect(()=>{const{width:h,height:u,top:f,left:x,right:b}=l.current;if(e||!a.current||!h||!u)return;const M=n==="left"?`left: ${x}`:`right: ${b}`;a.current.dataset.motionPopId=r;const y=document.createElement("style");o&&(y.nonce=o);const T=s??document.head;return T.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${u}px !important;
            ${M}px !important;
            top: ${f}px !important;
          }
        `),()=>{T.contains(y)&&T.removeChild(y)}},[e]),i.jsx(VF,{isPresent:e,childRef:a,sizeRef:l,children:q.cloneElement(t,{ref:c})})}const WF=({children:t,initial:e,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:a,mode:l,anchorX:o,root:c})=>{const h=m2(YF),u=q.useId();let f=!0,x=q.useMemo(()=>(f=!1,{id:u,initial:e,isPresent:n,custom:r,onExitComplete:b=>{h.set(b,!0);for(const M of h.values())if(!M)return;s&&s()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[n,h,s]);return a&&f&&(x={...x}),q.useMemo(()=>{h.forEach((b,M)=>h.set(M,!1))},[n]),q.useEffect(()=>{!n&&!h.size&&s&&s()},[n]),l==="popLayout"&&(t=i.jsx(GF,{isPresent:n,anchorX:o,root:c,children:t})),i.jsx(dm.Provider,{value:x,children:t})};function YF(){return new Map}function CS(t=!0){const e=q.useContext(dm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=e,a=q.useId();q.useEffect(()=>{if(t)return r(a)},[t]);const l=q.useCallback(()=>t&&s&&s(a),[a,s,t]);return!n&&s?[!1,l]:[!0]}const $u=t=>t.key||"";function Pv(t){const e=[];return q.Children.forEach(t,n=>{q.isValidElement(n)&&e.push(n)}),e}const mh=({children:t,custom:e,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:a="sync",propagate:l=!1,anchorX:o="left",root:c})=>{const[h,u]=CS(l),f=q.useMemo(()=>Pv(t),[t]),x=l&&!h?[]:f.map($u),b=q.useRef(!0),M=q.useRef(f),y=m2(()=>new Map),[T,S]=q.useState(f),[N,j]=q.useState(f);OT(()=>{b.current=!1,M.current=f;for(let E=0;E<N.length;E++){const v=$u(N[E]);x.includes(v)?y.delete(v):y.get(v)!==!0&&y.set(v,!1)}},[N,x.length,x.join("-")]);const m=[];if(f!==T){let E=[...f];for(let v=0;v<N.length;v++){const p=N[v],A=$u(p);x.includes(A)||(E.splice(v,0,p),m.push(p))}return a==="wait"&&m.length&&(E=m),j(Pv(E)),S(f),null}const{forceRender:g}=q.useContext(f2);return i.jsx(i.Fragment,{children:N.map(E=>{const v=$u(E),p=l&&!h?!1:f===N||x.includes(v),A=()=>{if(y.has(v))y.set(v,!0);else return;let w=!0;y.forEach(k=>{k||(w=!1)}),w&&(g==null||g(),j(M.current),l&&(u==null||u()),s&&s())};return i.jsx(WF,{isPresent:p,initial:!b.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:a,root:c,onExitComplete:p?void 0:A,anchorX:o,children:E},v)})})},zS=q.createContext({strict:!1}),Iv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mc={};for(const t in Iv)mc[t]={isEnabled:e=>Iv[t].some(n=>!!e[n])};function XF(t){for(const e in t)mc[e]={...mc[e],...t[e]}}const ZF=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ZF.has(t)}let DS=t=>!bf(t);function QF(t){typeof t=="function"&&(DS=e=>e.startsWith("on")?!bf(e):t(e))}try{QF(require("@emotion/is-prop-valid").default)}catch{}function KF(t,e,n){const s={};for(const r in t)r==="values"&&typeof t.values=="object"||(DS(r)||n===!0&&bf(r)||!e&&!bf(r)||t.draggable&&r.startsWith("onDrag"))&&(s[r]=t[r]);return s}const fm=q.createContext({});function mm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ph(t){return typeof t=="string"||Array.isArray(t)}const q2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],O2=["initial",...q2];function pm(t){return mm(t.animate)||O2.some(e=>ph(t[e]))}function PS(t){return!!(pm(t)||t.variants)}function JF(t,e){if(pm(t)){const{initial:n,animate:s}=t;return{initial:n===!1||ph(n)?n:void 0,animate:ph(s)?s:void 0}}return t.inherit!==!1?e:{}}function eU(t){const{initial:e,animate:n}=JF(t,q.useContext(fm));return q.useMemo(()=>({initial:e,animate:n}),[Rv(e),Rv(n)])}function Rv(t){return Array.isArray(t)?t.join(" "):t}function _v(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const c0={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ke.test(t))t=parseFloat(t);else return t;const n=_v(t,e.target.x),s=_v(t,e.target.y);return`${n}% ${s}%`}},tU={correct:(t,{treeScale:e,projectionDelta:n})=>{const s=t,r=Za.parse(t);if(r.length>5)return s;const a=Za.createTransformer(t),l=typeof r[0]!="number"?1:0,o=n.x.scale*e.x,c=n.y.scale*e.y;r[0+l]/=o,r[1+l]/=c;const h=nn(o,c,.5);return typeof r[2+l]=="number"&&(r[2+l]/=h),typeof r[3+l]=="number"&&(r[3+l]/=h),a(r)}},f4={borderRadius:{...c0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:c0,borderTopRightRadius:c0,borderBottomLeftRadius:c0,borderBottomRightRadius:c0,boxShadow:tU};function IS(t,{layout:e,layoutId:n}){return Cc.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!f4[t]||t==="opacity")}const nU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iU=Ec.length;function sU(t,e,n){let s="",r=!0;for(let a=0;a<iU;a++){const l=Ec[a],o=t[l];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(l.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||n){const h=SS(o,P2[l]);if(!c){r=!1;const u=nU[l]||l;s+=`${u}(${h}) `}n&&(e[l]=h)}}return s=s.trim(),n?s=n(e,r?"":s):r&&(s="none"),s}function B2(t,e,n){const{style:s,vars:r,transformOrigin:a}=t;let l=!1,o=!1;for(const c in e){const h=e[c];if(Cc.has(c)){l=!0;continue}else if(tS(c)){r[c]=h;continue}else{const u=SS(h,P2[c]);c.startsWith("origin")?(o=!0,a[c]=u):s[c]=u}}if(e.transform||(l||n?s.transform=sU(e,t.transform,n):s.transform&&(s.transform="none")),o){const{originX:c="50%",originY:h="50%",originZ:u=0}=a;s.transformOrigin=`${c} ${h} ${u}`}}const $2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function RS(t,e,n){for(const s in e)!Zn(e[s])&&!IS(s,n)&&(t[s]=e[s])}function rU({transformTemplate:t},e){return q.useMemo(()=>{const n=$2();return B2(n,e,t),Object.assign({},n.vars,n.style)},[e])}function aU(t,e){const n=t.style||{},s={};return RS(s,n,t),Object.assign(s,rU(t,e)),s}function lU(t,e){const n={},s=aU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=s,n}const oU={offset:"stroke-dashoffset",array:"stroke-dasharray"},cU={offset:"strokeDashoffset",array:"strokeDasharray"};function hU(t,e,n=1,s=0,r=!0){t.pathLength=1;const a=r?oU:cU;t[a.offset]=Ke.transform(-s);const l=Ke.transform(e),o=Ke.transform(n);t[a.array]=`${l} ${o}`}function _S(t,{attrX:e,attrY:n,attrScale:s,pathLength:r,pathSpacing:a=1,pathOffset:l=0,...o},c,h,u){if(B2(t,o,h),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:x}=t;f.transform&&(x.transform=f.transform,delete f.transform),(x.transform||f.transformOrigin)&&(x.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),x.transform&&(x.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),s!==void 0&&(f.scale=s),r!==void 0&&hU(f,r,a,l,!1)}const qS=()=>({...$2(),attrs:{}}),OS=t=>typeof t=="string"&&t.toLowerCase()==="svg";function uU(t,e,n,s){const r=q.useMemo(()=>{const a=qS();return _S(a,e,OS(s),t.transformTemplate,t.style),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};RS(a,t.style,t),r.style={...a,...r.style}}return r}const dU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function L2(t){return typeof t!="string"||t.includes("-")?!1:!!(dU.indexOf(t)>-1||/[A-Z]/u.test(t))}function fU(t,e,n,{latestValues:s},r,a=!1){const o=(L2(t)?uU:lU)(e,s,r,t),c=KF(e,typeof t=="string",a),h=t!==q.Fragment?{...c,...o,ref:n}:{},{children:u}=e,f=q.useMemo(()=>Zn(u)?u.get():u,[u]);return q.createElement(t,{...h,children:f})}function qv(t){const e=[{},{}];return t==null||t.values.forEach((n,s)=>{e[0][s]=n.get(),e[1][s]=n.getVelocity()}),e}function F2(t,e,n,s){if(typeof e=="function"){const[r,a]=qv(s);e=e(n!==void 0?n:t.custom,r,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,a]=qv(s);e=e(n!==void 0?n:t.custom,r,a)}return e}function bd(t){return Zn(t)?t.get():t}function mU({scrapeMotionValuesFromProps:t,createRenderState:e},n,s,r){return{latestValues:pU(n,s,r,t),renderState:e()}}function pU(t,e,n,s){const r={},a=s(t,{});for(const x in a)r[x]=bd(a[x]);let{initial:l,animate:o}=t;const c=pm(t),h=PS(t);e&&h&&!c&&t.inherit!==!1&&(l===void 0&&(l=e.initial),o===void 0&&(o=e.animate));let u=n?n.initial===!1:!1;u=u||l===!1;const f=u?o:l;if(f&&typeof f!="boolean"&&!mm(f)){const x=Array.isArray(f)?f:[f];for(let b=0;b<x.length;b++){const M=F2(t,x[b]);if(M){const{transitionEnd:y,transition:T,...S}=M;for(const N in S){let j=S[N];if(Array.isArray(j)){const m=u?j.length-1:0;j=j[m]}j!==null&&(r[N]=j)}for(const N in y)r[N]=y[N]}}}return r}const BS=t=>(e,n)=>{const s=q.useContext(fm),r=q.useContext(dm),a=()=>mU(t,e,s,r);return n?a():m2(a)};function U2(t,e,n){var a;const{style:s}=t,r={};for(const l in s)(Zn(s[l])||e.style&&Zn(e.style[l])||IS(l,t)||((a=n==null?void 0:n.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(r[l]=s[l]);return r}const xU=BS({scrapeMotionValuesFromProps:U2,createRenderState:$2});function $S(t,e,n){const s=U2(t,e,n);for(const r in t)if(Zn(t[r])||Zn(e[r])){const a=Ec.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[a]=t[r]}return s}const gU=BS({scrapeMotionValuesFromProps:$S,createRenderState:qS}),yU=Symbol.for("motionComponentSymbol");function Ro(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function bU(t,e,n){return q.useCallback(s=>{s&&t.onMount&&t.onMount(s),e&&(s?e.mount(s):e.unmount()),n&&(typeof n=="function"?n(s):Ro(n)&&(n.current=s))},[e])}const H2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vU="framerAppearId",LS="data-"+H2(vU),FS=q.createContext({});function jU(t,e,n,s,r){var y,T;const{visualElement:a}=q.useContext(fm),l=q.useContext(zS),o=q.useContext(dm),c=q.useContext(_2).reducedMotion,h=q.useRef(null);s=s||l.renderer,!h.current&&s&&(h.current=s(t,{visualState:e,parent:a,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const u=h.current,f=q.useContext(FS);u&&!u.projection&&r&&(u.type==="html"||u.type==="svg")&&wU(h.current,n,r,f);const x=q.useRef(!1);q.useInsertionEffect(()=>{u&&x.current&&u.update(n,o)});const b=n[LS],M=q.useRef(!!b&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,b))&&((T=window.MotionHasOptimisedAnimation)==null?void 0:T.call(window,b)));return OT(()=>{u&&(x.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),M.current&&u.animationState&&u.animationState.animateChanges())}),q.useEffect(()=>{u&&(!M.current&&u.animationState&&u.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,b)}),M.current=!1),u.enteringChildren=void 0)}),u}function wU(t,e,n,s){const{layoutId:r,layout:a,drag:l,dragConstraints:o,layoutScroll:c,layoutRoot:h,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:US(t.parent)),t.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!l||o&&Ro(o),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:u,layoutScroll:c,layoutRoot:h})}function US(t){if(t)return t.options.allowProjection!==!1?t.projection:US(t.parent)}function r1(t,{forwardMotionProps:e=!1}={},n,s){n&&XF(n);const r=L2(t)?gU:xU;function a(o,c){let h;const u={...q.useContext(_2),...o,layoutId:TU(o)},{isStatic:f}=u,x=eU(o),b=r(o,f);if(!f&&p2){SU();const M=NU(u);h=M.MeasureLayout,x.visualElement=jU(t,b,u,s,M.ProjectionNode)}return i.jsxs(fm.Provider,{value:x,children:[h&&x.visualElement?i.jsx(h,{visualElement:x.visualElement,...u}):null,fU(t,o,bU(b,x.visualElement,c),b,f,e)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=q.forwardRef(a);return l[yU]=t,l}function TU({layoutId:t}){const e=q.useContext(f2).id;return e&&t!==void 0?e+"-"+t:t}function SU(t,e){q.useContext(zS).strict}function NU(t){const{drag:e,layout:n}=mc;if(!e&&!n)return{};const s={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function AU(t,e){if(typeof Proxy>"u")return r1;const n=new Map,s=(a,l)=>r1(a,l,t,e),r=(a,l)=>s(a,l);return new Proxy(r,{get:(a,l)=>l==="create"?s:(n.has(l)||n.set(l,r1(l,void 0,t,e)),n.get(l))})}function HS({top:t,left:e,right:n,bottom:s}){return{x:{min:e,max:n},y:{min:t,max:s}}}function kU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function MU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),s=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function a1(t){return t===void 0||t===1}function m4({scale:t,scaleX:e,scaleY:n}){return!a1(t)||!a1(e)||!a1(n)}function El(t){return m4(t)||VS(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function VS(t){return Ov(t.x)||Ov(t.y)}function Ov(t){return t&&t!=="0%"}function vf(t,e,n){const s=t-n,r=e*s;return n+r}function Bv(t,e,n,s,r){return r!==void 0&&(t=vf(t,r,s)),vf(t,n,s)+e}function p4(t,e=0,n=1,s,r){t.min=Bv(t.min,e,n,s,r),t.max=Bv(t.max,e,n,s,r)}function GS(t,{x:e,y:n}){p4(t.x,e.translate,e.scale,e.originPoint),p4(t.y,n.translate,n.scale,n.originPoint)}const $v=.999999999999,Lv=1.0000000000001;function EU(t,e,n,s=!1){const r=n.length;if(!r)return;e.x=e.y=1;let a,l;for(let o=0;o<r;o++){a=n[o],l=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&qo(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,GS(t,l)),s&&El(a.latestValues)&&qo(t,a.latestValues))}e.x<Lv&&e.x>$v&&(e.x=1),e.y<Lv&&e.y>$v&&(e.y=1)}function _o(t,e){t.min=t.min+e,t.max=t.max+e}function Fv(t,e,n,s,r=.5){const a=nn(t.min,t.max,r);p4(t,e,n,a,s)}function qo(t,e){Fv(t.x,e.x,e.scaleX,e.scale,e.originX),Fv(t.y,e.y,e.scaleY,e.scale,e.originY)}function WS(t,e){return HS(MU(t.getBoundingClientRect(),e))}function CU(t,e,n){const s=WS(t,n),{scroll:r}=e;return r&&(_o(s.x,r.offset.x),_o(s.y,r.offset.y)),s}const Uv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Oo=()=>({x:Uv(),y:Uv()}),Hv=()=>({min:0,max:0}),En=()=>({x:Hv(),y:Hv()}),x4={current:null},YS={current:!1};function zU(){if(YS.current=!0,!!p2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>x4.current=t.matches;t.addEventListener("change",e),e()}else x4.current=!1}const DU=new WeakMap;function PU(t,e,n){for(const s in e){const r=e[s],a=n[s];if(Zn(r))t.addValue(s,r);else if(Zn(a))t.addValue(s,fc(r,{owner:t}));else if(a!==r)if(t.hasValue(s)){const l=t.getValue(s);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=t.getStaticValue(s);t.addValue(s,fc(l!==void 0?l:r,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const Vv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class IU{scrapeMotionValuesFromProps(e,n,s){return{}}constructor({parent:e,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:a,visualState:l},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=z2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Ti.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Gt.render(this.render,!1,!0))};const{latestValues:c,renderState:h}=l;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=h,this.parent=e,this.props=n,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=pm(n),this.isVariantNode=PS(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in f){const b=f[x];c[x]!==void 0&&Zn(b)&&b.set(c[x])}}mount(e){var n;this.current=e,DU.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),YS.current||zU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:x4.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Xa(this.notifyUpdate),Xa(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Cc.has(e);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Gt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),a&&a(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in mc){const n=mc[e];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[e]&&r&&s(this.props)&&(this.features[e]=new r(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):En()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<Vv.length;s++){const r=Vv[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,l=e[a];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=PU(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const s=this.values.get(e);n!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&n!==void 0&&(s=fc(n===null?void 0:n,{owner:this}),this.addValue(e,s)),s}readValue(e,n){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(BT(s)||LT(s))?s=parseFloat(s):!FF(s)&&Za.test(n)&&(s=TS(e,n)),this.setBaseTarget(e,Zn(s)?s.get():s)),Zn(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var a;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const l=F2(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);l&&(s=l[e])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Zn(r)?r:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new v2),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){I2.render(this.render)}}class XS extends IU{constructor(){super(...arguments),this.KeyframeResolver=CF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:s}){delete n[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ZS(t,{style:e,vars:n},s,r){const a=t.style;let l;for(l in e)a[l]=e[l];r==null||r.applyProjectionStyles(a,s);for(l in n)a.setProperty(l,n[l])}function RU(t){return window.getComputedStyle(t)}class _U extends XS{constructor(){super(...arguments),this.type="html",this.renderInstance=ZS}readValueFromInstance(e,n){var s;if(Cc.has(n))return(s=this.projection)!=null&&s.isProjecting?a4(n):XL(e,n);{const r=RU(e),a=(tS(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:n}){return WS(e,n)}build(e,n,s){B2(e,n,s.transformTemplate)}scrapeMotionValuesFromProps(e,n,s){return U2(e,n,s)}}const QS=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function qU(t,e,n,s){ZS(t,e,void 0,s);for(const r in e.attrs)t.setAttribute(QS.has(r)?r:H2(r),e.attrs[r])}class OU extends XS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=En}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Cc.has(n)){const s=wS(n);return s&&s.default||0}return n=QS.has(n)?n:H2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,s){return $S(e,n,s)}build(e,n,s){_S(e,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,n,s,r){qU(e,n,s,r)}mount(e){this.isSVGTag=OS(e.tagName),super.mount(e)}}const BU=(t,e)=>L2(t)?new OU(e):new _U(e,{allowProjection:t!==q.Fragment});function Zo(t,e,n){const s=t.getProps();return F2(s,e,n!==void 0?n:s.custom,t)}const g4=t=>Array.isArray(t);function $U(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,fc(n))}function LU(t){return g4(t)?t[t.length-1]||0:t}function FU(t,e){const n=Zo(t,e);let{transitionEnd:s={},transition:r={},...a}=n||{};a={...a,...s};for(const l in a){const o=LU(a[l]);$U(t,l,o)}}function UU(t){return!!(Zn(t)&&t.add)}function y4(t,e){const n=t.getValue("willChange");if(UU(n))return n.add(e);if(!n&&Gr.WillChange){const s=new Gr.WillChange("auto");t.addValue("willChange",s),s.add(e)}}function KS(t){return t.props[LS]}const HU=t=>t!==null;function VU(t,{repeat:e,repeatType:n="loop"},s){const r=t.filter(HU),a=e&&n!=="loop"&&e%2===1?0:r.length-1;return r[a]}const GU={type:"spring",stiffness:500,damping:25,restSpeed:10},WU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),YU={type:"keyframes",duration:.8},XU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZU=(t,{keyframes:e})=>e.length>2?YU:Cc.has(t)?t.startsWith("scale")?WU(e[1]):GU:XU;function QU({when:t,delay:e,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:a,repeatType:l,repeatDelay:o,from:c,elapsed:h,...u}){return!!Object.keys(u).length}const V2=(t,e,n,s={},r,a)=>l=>{const o=D2(s,t)||{},c=o.delay||s.delay||0;let{elapsed:h=0}=s;h=h-Zs(c);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-h,onUpdate:x=>{e.set(x),o.onUpdate&&o.onUpdate(x)},onComplete:()=>{l(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:a?void 0:r};QU(o)||Object.assign(u,ZU(t,u)),u.duration&&(u.duration=Zs(u.duration)),u.repeatDelay&&(u.repeatDelay=Zs(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u4(u),u.delay===0&&(f=!0)),(Gr.instantAnimations||Gr.skipAnimations)&&(f=!0,u4(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!a&&e.get()!==void 0){const x=VU(u.keyframes,o);if(x!==void 0){Gt.update(()=>{u.onUpdate(x),u.onComplete()});return}}return o.isSync?new C2(u):new yF(u)};function KU({protectedKeys:t,needsAnimating:e},n){const s=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,s}function JS(t,e,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:a=t.getDefaultTransition(),transitionEnd:l,...o}=e;s&&(a=s);const c=[],h=r&&t.animationState&&t.animationState.getState()[r];for(const u in o){const f=t.getValue(u,t.latestValues[u]??null),x=o[u];if(x===void 0||h&&KU(h,u))continue;const b={delay:n,...D2(a||{},u)},M=f.get();if(M!==void 0&&!f.isAnimating&&!Array.isArray(x)&&x===M&&!b.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const S=KS(t);if(S){const N=window.MotionHandoffAnimation(S,u,Gt);N!==null&&(b.startTime=N,y=!0)}}y4(t,u),f.start(V2(u,f,x,t.shouldReduceMotion&&bS.has(u)?{type:!1}:b,t,y));const T=f.animation;T&&c.push(T)}return l&&Promise.all(c).then(()=>{Gt.update(()=>{l&&FU(t,l)})}),c}function eN(t,e,n,s=0,r=1){const a=Array.from(t).sort((h,u)=>h.sortNodePosition(u)).indexOf(e),l=t.size,o=(l-1)*s;return typeof n=="function"?n(a,l):r===1?a*s:o-a*s}function b4(t,e,n={}){var c;const s=Zo(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const a=s?()=>Promise.all(JS(t,s,n)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(h=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:x}=r;return JU(t,e,h,u,f,x,n)}:()=>Promise.resolve(),{when:o}=r;if(o){const[h,u]=o==="beforeChildren"?[a,l]:[l,a];return h().then(()=>u())}else return Promise.all([a(),l(n.delay)])}function JU(t,e,n=0,s=0,r=0,a=1,l){const o=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),o.push(b4(c,e,{...l,delay:n+(typeof s=="function"?0:s)+eN(t.variantChildren,c,s,r,a)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(o)}function eH(t,e,n={}){t.notify("AnimationStart",e);let s;if(Array.isArray(e)){const r=e.map(a=>b4(t,a,n));s=Promise.all(r)}else if(typeof e=="string")s=b4(t,e,n);else{const r=typeof e=="function"?Zo(t,e,n.custom):e;s=Promise.all(JS(t,r,n))}return s.then(()=>{t.notify("AnimationComplete",e)})}function tN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(e[s]!==t[s])return!1;return!0}const tH=O2.length;function nN(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?nN(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<tH;n++){const s=O2[n],r=t.props[s];(ph(r)||r===!1)&&(e[s]=r)}return e}const nH=[...q2].reverse(),iH=q2.length;function sH(t){return e=>Promise.all(e.map(({animation:n,options:s})=>eH(t,n,s)))}function rH(t){let e=sH(t),n=Gv(),s=!0;const r=c=>(h,u)=>{var x;const f=Zo(t,u,c==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(f){const{transition:b,transitionEnd:M,...y}=f;h={...h,...y,...M}}return h};function a(c){e=c(t)}function l(c){const{props:h}=t,u=nN(t.parent)||{},f=[],x=new Set;let b={},M=1/0;for(let T=0;T<iH;T++){const S=nH[T],N=n[S],j=h[S]!==void 0?h[S]:u[S],m=ph(j),g=S===c?N.isActive:null;g===!1&&(M=T);let E=j===u[S]&&j!==h[S]&&m;if(E&&s&&t.manuallyAnimateOnMount&&(E=!1),N.protectedKeys={...b},!N.isActive&&g===null||!j&&!N.prevProp||mm(j)||typeof j=="boolean")continue;const v=aH(N.prevProp,j);let p=v||S===c&&N.isActive&&!E&&m||T>M&&m,A=!1;const w=Array.isArray(j)?j:[j];let k=w.reduce(r(S),{});g===!1&&(k={});const{prevResolvedValues:D={}}=N,I={...D,...k},$=V=>{p=!0,x.has(V)&&(A=!0,x.delete(V)),N.needsAnimating[V]=!0;const J=t.getValue(V);J&&(J.liveStyle=!1)};for(const V in I){const J=k[V],ee=D[V];if(b.hasOwnProperty(V))continue;let re=!1;g4(J)&&g4(ee)?re=!tN(J,ee):re=J!==ee,re?J!=null?$(V):x.add(V):J!==void 0&&x.has(V)?$(V):N.protectedKeys[V]=!0}N.prevProp=j,N.prevResolvedValues=k,N.isActive&&(b={...b,...k}),s&&t.blockInitialAnimation&&(p=!1);const B=E&&v;p&&(!B||A)&&f.push(...w.map(V=>{const J={type:S};if(typeof V=="string"&&s&&!B&&t.manuallyAnimateOnMount&&t.parent){const{parent:ee}=t,re=Zo(ee,V);if(ee.enteringChildren&&re){const{delayChildren:se}=re.transition||{};J.delay=eN(ee.enteringChildren,t,se)}}return{animation:V,options:J}}))}if(x.size){const T={};if(typeof h.initial!="boolean"){const S=Zo(t,Array.isArray(h.initial)?h.initial[0]:h.initial);S&&S.transition&&(T.transition=S.transition)}x.forEach(S=>{const N=t.getBaseTarget(S),j=t.getValue(S);j&&(j.liveStyle=!0),T[S]=N??null}),f.push({animation:T})}let y=!!f.length;return s&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(y=!1),s=!1,y?e(f):Promise.resolve()}function o(c,h){var f;if(n[c].isActive===h)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(x=>{var b;return(b=x.animationState)==null?void 0:b.setActive(c,h)}),n[c].isActive=h;const u=l(c);for(const x in n)n[x].protectedKeys={};return u}return{animateChanges:l,setActive:o,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Gv()}}}function aH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!tN(e,t):!1}function vl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Gv(){return{animate:vl(!0),whileInView:vl(),whileHover:vl(),whileTap:vl(),whileDrag:vl(),whileFocus:vl(),exit:vl()}}class al{constructor(e){this.isMounted=!1,this.node=e}update(){}}class lH extends al{constructor(e){super(e),e.animationState||(e.animationState=rH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();mm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let oH=0;class cH extends al{constructor(){super(...arguments),this.id=oH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const hH={animation:{Feature:lH},exit:{Feature:cH}};function xh(t,e,n,s={passive:!0}){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n)}function Fh(t){return{point:{x:t.pageX,y:t.pageY}}}const uH=t=>e=>R2(e)&&t(e,Fh(e));function F0(t,e,n,s){return xh(t,e,uH(n),s)}const iN=1e-4,dH=1-iN,fH=1+iN,sN=.01,mH=0-sN,pH=0+sN;function ri(t){return t.max-t.min}function xH(t,e,n){return Math.abs(t-e)<=n}function Wv(t,e,n,s=.5){t.origin=s,t.originPoint=nn(e.min,e.max,t.origin),t.scale=ri(n)/ri(e),t.translate=nn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=dH&&t.scale<=fH||isNaN(t.scale))&&(t.scale=1),(t.translate>=mH&&t.translate<=pH||isNaN(t.translate))&&(t.translate=0)}function U0(t,e,n,s){Wv(t.x,e.x,n.x,s?s.originX:void 0),Wv(t.y,e.y,n.y,s?s.originY:void 0)}function Yv(t,e,n){t.min=n.min+e.min,t.max=t.min+ri(e)}function gH(t,e,n){Yv(t.x,e.x,n.x),Yv(t.y,e.y,n.y)}function Xv(t,e,n){t.min=e.min-n.min,t.max=t.min+ri(e)}function jf(t,e,n){Xv(t.x,e.x,n.x),Xv(t.y,e.y,n.y)}function Ki(t){return[t("x"),t("y")]}const rN=({current:t})=>t?t.ownerDocument.defaultView:null,Zv=(t,e)=>Math.abs(t-e);function yH(t,e){const n=Zv(t.x,e.x),s=Zv(t.y,e.y);return Math.sqrt(n**2+s**2)}class aN{constructor(e,n,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=o1(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,M=yH(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!M)return;const{point:y}=x,{timestamp:T}=Ln;this.history.push({...y,timestamp:T});const{onStart:S,onMove:N}=this.handlers;b||(S&&S(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=l1(b,this.transformPagePoint),Gt.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:M,onSessionEnd:y,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=o1(x.type==="pointercancel"?this.lastMoveEventInfo:l1(b,this.transformPagePoint),this.history);this.startEvent&&M&&M(x,S),y&&y(x,S)},!R2(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=l,this.contextWindow=r||window;const o=Fh(e),c=l1(o,this.transformPagePoint),{point:h}=c,{timestamp:u}=Ln;this.history=[{...h,timestamp:u}];const{onSessionStart:f}=n;f&&f(e,o1(c,this.history)),this.removeListeners=Bh(F0(this.contextWindow,"pointermove",this.handlePointerMove),F0(this.contextWindow,"pointerup",this.handlePointerUp),F0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Xa(this.updatePoint)}}function l1(t,e){return e?{point:e(t.point)}:t}function Qv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function o1({point:t},e){return{point:t,delta:Qv(t,lN(e)),offset:Qv(t,bH(e)),velocity:vH(e,.1)}}function bH(t){return t[0]}function lN(t){return t[t.length-1]}function vH(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,s=null;const r=lN(t);for(;n>=0&&(s=t[n],!(r.timestamp-s.timestamp>Zs(e)));)n--;if(!s)return{x:0,y:0};const a=os(r.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const l={x:(r.x-s.x)/a,y:(r.y-s.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function jH(t,{min:e,max:n},s){return e!==void 0&&t<e?t=s?nn(e,t,s.min):Math.max(t,e):n!==void 0&&t>n&&(t=s?nn(n,t,s.max):Math.min(t,n)),t}function Kv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function wH(t,{top:e,left:n,bottom:s,right:r}){return{x:Kv(t.x,n,r),y:Kv(t.y,e,s)}}function Jv(t,e){let n=e.min-t.min,s=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,s]=[s,n]),{min:n,max:s}}function TH(t,e){return{x:Jv(t.x,e.x),y:Jv(t.y,e.y)}}function SH(t,e){let n=.5;const s=ri(t),r=ri(e);return r>s?n=uh(e.min,e.max-s,t.min):s>r&&(n=uh(t.min,t.max-r,e.min)),Vr(0,1,n)}function NH(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const v4=.35;function AH(t=v4){return t===!1?t=0:t===!0&&(t=v4),{x:e6(t,"left","right"),y:e6(t,"top","bottom")}}function e6(t,e,n){return{min:t6(t,e),max:t6(t,n)}}function t6(t,e){return typeof t=="number"?t:t[e]||0}const kH=new WeakMap;class MH{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=En(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=f=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Fh(f).point)},l=(f,x)=>{const{drag:b,dragPropagation:M,onDragStart:y}=this.getProps();if(b&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=IF(b),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ki(S=>{let N=this.getAxisMotionValue(S).get()||0;if(Qs.test(N)){const{projection:j}=this.visualElement;if(j&&j.layout){const m=j.layout.layoutBox[S];m&&(N=ri(m)*(parseFloat(N)/100))}}this.originPoint[S]=N}),y&&Gt.postRender(()=>y(f,x)),y4(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},o=(f,x)=>{this.latestPointerEvent=f,this.latestPanInfo=x;const{dragPropagation:b,dragDirectionLock:M,onDirectionLock:y,onDrag:T}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:S}=x;if(M&&this.currentDirection===null){this.currentDirection=EH(S),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",x.point,S),this.updateAxis("y",x.point,S),this.visualElement.render(),T&&T(f,x)},c=(f,x)=>{this.latestPointerEvent=f,this.latestPanInfo=x,this.stop(f,x),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Ki(f=>{var x;return this.getAnimationState(f)==="paused"&&((x=this.getAxisMotionValue(f).animation)==null?void 0:x.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new aN(e,{onSessionStart:a,onStart:l,onMove:o,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:s,contextWindow:rN(this.visualElement)})}stop(e,n){const s=e||this.latestPointerEvent,r=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!s)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:o}=this.getProps();o&&Gt.postRender(()=>o(s,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,s){const{drag:r}=this.getProps();if(!s||!Lu(e,r,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(l=jH(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:e,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,r=this.constraints;e&&Ro(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=wH(s.layoutBox,e):this.constraints=!1,this.elastic=AH(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ki(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=NH(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ro(e))return!1;const s=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=CU(s,r.root,this.visualElement.getTransformPagePoint());let l=TH(r.layout.layoutBox,a);if(n){const o=n(kU(l));this.hasMutatedConstraints=!!o,o&&(l=HS(o))}return l}startAnimation(e){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},h=Ki(u=>{if(!Lu(u,n,this.currentDirection))return;let f=c&&c[u]||{};l&&(f={min:0,max:0});const x=r?200:1e6,b=r?40:1e7,M={type:"inertia",velocity:s?e[u]:0,bounceStiffness:x,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(u,M)});return Promise.all(h).then(o)}startAxisValueAnimation(e,n){const s=this.getAxisMotionValue(e);return y4(this.visualElement,e),s.start(V2(e,s,0,n,this.visualElement,!1))}stopAnimation(){Ki(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ki(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Ki(n=>{const{drag:s}=this.getProps();if(!Lu(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:l,max:o}=r.layout.layoutBox[n];a.set(e[n]-nn(l,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!Ro(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Ki(l=>{const o=this.getAxisMotionValue(l);if(o&&this.constraints!==!1){const c=o.get();r[l]=SH({min:c,max:c},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Ki(l=>{if(!Lu(l,e,null))return;const o=this.getAxisMotionValue(l),{min:c,max:h}=this.constraints[l];o.set(nn(c,h,r[l]))})}addListeners(){if(!this.visualElement.current)return;kH.set(this.visualElement,this);const e=this.visualElement.current,n=F0(e,"pointerdown",c=>{const{drag:h,dragListener:u=!0}=this.getProps();h&&u&&this.start(c)}),s=()=>{const{dragConstraints:c}=this.getProps();Ro(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Gt.read(s);const l=xh(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",({delta:c,hasLayoutChanged:h})=>{this.isDragging&&h&&(Ki(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=c[u].translate,f.set(f.get()+c[u].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:l=v4,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:a,dragElastic:l,dragMomentum:o}}}function Lu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function EH(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class CH extends al{constructor(e){super(e),this.removeGroupControls=ds,this.removeListeners=ds,this.controls=new MH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ds}unmount(){this.removeGroupControls(),this.removeListeners()}}const n6=t=>(e,n)=>{t&&Gt.postRender(()=>t(e,n))};class zH extends al{constructor(){super(...arguments),this.removePointerDownListener=ds}onPointerDown(e){this.session=new aN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rN(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:n6(e),onStart:n6(n),onMove:s,onEnd:(a,l)=>{delete this.session,r&&Gt.postRender(()=>r(a,l))}}}mount(){this.removePointerDownListener=F0(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const vd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let c1=!1;class DH extends q.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:a}=e;a&&(n.group&&n.group.add(a),s&&s.register&&r&&s.register(a),c1&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),vd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:s,drag:r,isPresent:a}=this.props,{projection:l}=s;return l&&(l.isPresent=a,c1=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Gt.postRender(()=>{const o=l.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),I2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=e;c1=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function oN(t){const[e,n]=CS(),s=q.useContext(f2);return i.jsx(DH,{...t,layoutGroup:s,switchLayoutGroup:q.useContext(FS),isPresent:e,safeToRemove:n})}function PH(t,e,n){const s=Zn(t)?t:fc(t);return s.start(V2("",s,e,n)),s.animation}const IH=(t,e)=>t.depth-e.depth;class RH{constructor(){this.children=[],this.isDirty=!1}add(e){x2(this.children,e),this.isDirty=!0}remove(e){g2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(IH),this.isDirty=!1,this.children.forEach(e)}}function _H(t,e){const n=Ti.now(),s=({timestamp:r})=>{const a=r-n;a>=e&&(Xa(s),t(a-e))};return Gt.setup(s,!0),()=>Xa(s)}const cN=["TopLeft","TopRight","BottomLeft","BottomRight"],qH=cN.length,i6=t=>typeof t=="string"?parseFloat(t):t,s6=t=>typeof t=="number"||Ke.test(t);function OH(t,e,n,s,r,a){r?(t.opacity=nn(0,n.opacity??1,BH(s)),t.opacityExit=nn(e.opacity??1,0,$H(s))):a&&(t.opacity=nn(e.opacity??1,n.opacity??1,s));for(let l=0;l<qH;l++){const o=`border${cN[l]}Radius`;let c=r6(e,o),h=r6(n,o);if(c===void 0&&h===void 0)continue;c||(c=0),h||(h=0),c===0||h===0||s6(c)===s6(h)?(t[o]=Math.max(nn(i6(c),i6(h),s),0),(Qs.test(h)||Qs.test(c))&&(t[o]+="%")):t[o]=h}(e.rotate||n.rotate)&&(t.rotate=nn(e.rotate||0,n.rotate||0,s))}function r6(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const BH=hN(0,.5,XT),$H=hN(.5,.95,ds);function hN(t,e,n){return s=>s<t?0:s>e?1:n(uh(t,e,s))}function a6(t,e){t.min=e.min,t.max=e.max}function Ss(t,e){a6(t.x,e.x),a6(t.y,e.y)}function l6(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function o6(t,e,n,s,r){return t-=e,t=vf(t,1/n,s),r!==void 0&&(t=vf(t,1/r,s)),t}function LH(t,e=0,n=1,s=.5,r,a=t,l=t){if(Qs.test(e)&&(e=parseFloat(e),e=nn(l.min,l.max,e/100)-l.min),typeof e!="number")return;let o=nn(a.min,a.max,s);t===a&&(o-=e),t.min=o6(t.min,e,n,o,r),t.max=o6(t.max,e,n,o,r)}function c6(t,e,[n,s,r],a,l){LH(t,e[n],e[s],e[r],e.scale,a,l)}const FH=["x","scaleX","originX"],UH=["y","scaleY","originY"];function h6(t,e,n,s){c6(t.x,e,FH,n?n.x:void 0,s?s.x:void 0),c6(t.y,e,UH,n?n.y:void 0,s?s.y:void 0)}function u6(t){return t.translate===0&&t.scale===1}function uN(t){return u6(t.x)&&u6(t.y)}function d6(t,e){return t.min===e.min&&t.max===e.max}function HH(t,e){return d6(t.x,e.x)&&d6(t.y,e.y)}function f6(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function dN(t,e){return f6(t.x,e.x)&&f6(t.y,e.y)}function m6(t){return ri(t.x)/ri(t.y)}function p6(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class VH{constructor(){this.members=[]}add(e){x2(this.members,e),e.scheduleRender()}remove(e){if(g2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(e,n){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,n&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:s}=e;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function GH(t,e,n){let s="";const r=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((r||a||l)&&(s=`translate3d(${r}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:h,rotate:u,rotateX:f,rotateY:x,skewX:b,skewY:M}=n;h&&(s=`perspective(${h}px) ${s}`),u&&(s+=`rotate(${u}deg) `),f&&(s+=`rotateX(${f}deg) `),x&&(s+=`rotateY(${x}deg) `),b&&(s+=`skewX(${b}deg) `),M&&(s+=`skewY(${M}deg) `)}const o=t.x.scale*e.x,c=t.y.scale*e.y;return(o!==1||c!==1)&&(s+=`scale(${o}, ${c})`),s||"none"}const h1=["","X","Y","Z"],WH=1e3;let YH=0;function u1(t,e,n,s){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),s&&(s[t]=0))}function fN(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=KS(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Gt,!(r||a))}const{parent:s}=t;s&&!s.hasCheckedOptimisedAppear&&fN(s)}function mN({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(l={},o=e==null?void 0:e()){this.id=YH++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(QH),this.nodes.forEach(tV),this.nodes.forEach(nV),this.nodes.forEach(KH)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new RH)}addEventListener(l,o){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new v2),this.eventHandlers.get(l).add(o)}notifyListeners(l,...o){const c=this.eventHandlers.get(l);c&&c.notify(...o)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=ES(l)&&!$F(l),this.instance=l;const{layoutId:o,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),t){let u,f=0;const x=()=>this.root.updateBlockedByResize=!1;Gt.read(()=>{f=window.innerWidth}),t(l,()=>{const b=window.innerWidth;b!==f&&(f=b,this.root.updateBlockedByResize=!0,u&&u(),u=_H(x,250),vd.hasAnimatedSinceResize&&(vd.hasAnimatedSinceResize=!1,this.nodes.forEach(y6)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&h&&(o||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:x,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||h.getDefaultTransition()||lV,{onLayoutAnimationStart:y,onLayoutAnimationComplete:T}=h.getProps(),S=!this.targetLayout||!dN(this.targetLayout,b),N=!f&&x;if(this.options.layoutRoot||this.resumeFrom||N||f&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...D2(M,"layout"),onPlay:y,onComplete:T};(h.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(u,N)}else f||y6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iV),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(x6);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(g6);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(eV),this.nodes.forEach(XH),this.nodes.forEach(ZH)):this.nodes.forEach(g6),this.clearAllSnapshots();const o=Ti.now();Ln.delta=Vr(0,1e3/60,o-Ln.timestamp),Ln.timestamp=o,Ln.isProcessing=!0,Jp.update.process(Ln),Jp.preRender.process(Ln),Jp.render.process(Ln),Ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,I2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(JH),this.sharedNodes.forEach(sV)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ri(this.snapshot.measuredBox.x)&&!ri(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=En(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(o=!1),o&&this.instance){const c=s(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!uN(this.projectionDelta),c=this.getTransformTemplate(),h=c?c(this.latestValues,""):void 0,u=h!==this.prevTransformTemplateValue;l&&this.instance&&(o||El(this.latestValues)||u)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return l&&(c=this.removeTransform(c)),oV(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:l}=this.options;if(!l)return En();const o=l.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(cV))){const{scroll:u}=this.root;u&&(_o(o.x,u.offset.x),_o(o.y,u.offset.y))}return o}removeElementScroll(l){var c;const o=En();if(Ss(o,l),(c=this.scroll)!=null&&c.wasRoot)return o;for(let h=0;h<this.path.length;h++){const u=this.path[h],{scroll:f,options:x}=u;u!==this.root&&f&&x.layoutScroll&&(f.wasRoot&&Ss(o,l),_o(o.x,f.offset.x),_o(o.y,f.offset.y))}return o}applyTransform(l,o=!1){const c=En();Ss(c,l);for(let h=0;h<this.path.length;h++){const u=this.path[h];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&qo(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),El(u.latestValues)&&qo(c,u.latestValues)}return El(this.latestValues)&&qo(c,this.latestValues),c}removeTransform(l){const o=En();Ss(o,l);for(let c=0;c<this.path.length;c++){const h=this.path[c];if(!h.instance||!El(h.latestValues))continue;m4(h.latestValues)&&h.updateSnapshot();const u=En(),f=h.measurePageBox();Ss(u,f),h6(o,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,u)}return El(this.latestValues)&&h6(o,this.latestValues),o}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var b;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(l||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!this.layout||!(u||f))return;this.resolvedRelativeTargetAt=Ln.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=En(),this.targetWithTransforms=En()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ss(this.target,this.layout.layoutBox),GS(this.target,this.targetDelta)):Ss(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||m4(this.parent.latestValues)||VS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,o,c){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=En(),this.relativeTargetOrigin=En(),jf(this.relativeTargetOrigin,o,c),Ss(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var M;const l=this.getLead(),o=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||(M=this.parent)!=null&&M.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ln.timestamp&&(c=!1),c)return;const{layout:h,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||u))return;Ss(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,x=this.treeScale.y;EU(this.layoutCorrected,this.treeScale,this.path,o),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=En());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(l6(this.prevProjectionDelta.x,this.projectionDelta.x),l6(this.prevProjectionDelta.y,this.projectionDelta.y)),U0(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==x||!p6(this.projectionDelta.x,this.prevProjectionDelta.x)||!p6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Oo(),this.projectionDelta=Oo(),this.projectionDeltaWithTransform=Oo()}setAnimationOrigin(l,o=!1){const c=this.snapshot,h=c?c.latestValues:{},u={...this.latestValues},f=Oo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const x=En(),b=c?c.source:void 0,M=this.layout?this.layout.source:void 0,y=b!==M,T=this.getStack(),S=!T||T.members.length<=1,N=!!(y&&!S&&this.options.crossfade===!0&&!this.path.some(aV));this.animationProgress=0;let j;this.mixTargetDelta=m=>{const g=m/1e3;b6(f.x,l.x,g),b6(f.y,l.y,g),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jf(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rV(this.relativeTarget,this.relativeTargetOrigin,x,g),j&&HH(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=En()),Ss(j,this.relativeTarget)),y&&(this.animationValues=u,OH(u,h,this.latestValues,g,N,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=g},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var o,c,h;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(h=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Xa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gt.update(()=>{vd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=fc(0)),this.currentAnimation=PH(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(WH),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:o,target:c,layout:h,latestValues:u}=l;if(!(!o||!c||!h)){if(this!==l&&this.layout&&h&&pN(this.options.animationType,this.layout.layoutBox,h.layoutBox)){c=this.target||En();const f=ri(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+f;const x=ri(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+x}Ss(o,c),qo(o,u),U0(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(l,o){this.sharedNodes.has(l)||this.sharedNodes.set(l,new VH),this.sharedNodes.get(l).add(o);const h=o.options.initialPromotionConfig;o.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(o):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:o,preserveFollowOpacity:c}={}){const h=this.getStack();h&&h.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let o=!1;const{latestValues:c}=l;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const h={};c.z&&u1("z",l,h,this.animationValues);for(let u=0;u<h1.length;u++)u1(`rotate${h1[u]}`,l,h,this.animationValues),u1(`skew${h1[u]}`,l,h,this.animationValues);l.render();for(const u in h)l.setStaticValue(u,h[u]),this.animationValues&&(this.animationValues[u]=h[u]);l.scheduleRender()}applyProjectionStyles(l,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=bd(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=bd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!El(this.latestValues)&&(l.transform=c?c({},""):"none",this.hasProjected=!1);return}l.visibility="";const u=h.animationValues||h.latestValues;this.applyTransformsToTarget();let f=GH(this.projectionDeltaWithTransform,this.treeScale,u);c&&(f=c(u,f)),l.transform=f;const{x,y:b}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${b.origin*100}% 0`,h.animationValues?l.opacity=h===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:l.opacity=h===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const M in f4){if(u[M]===void 0)continue;const{correct:y,applyTo:T,isCSSVariable:S}=f4[M],N=f==="none"?u[M]:y(u[M],h);if(T){const j=T.length;for(let m=0;m<j;m++)l[T[m]]=N}else S?this.options.visualElement.renderState.vars[M]=N:l[M]=N}this.options.layoutId&&(l.pointerEvents=h===this?bd(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var o;return(o=l.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(x6),this.root.sharedNodes.clear()}}}function XH(t){t.updateLayout()}function ZH(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=t.layout,{animationType:a}=t.options,l=e.source!==t.layout.source;a==="size"?Ki(f=>{const x=l?e.measuredBox[f]:e.layoutBox[f],b=ri(x);x.min=s[f].min,x.max=x.min+b}):pN(a,e.layoutBox,s)&&Ki(f=>{const x=l?e.measuredBox[f]:e.layoutBox[f],b=ri(s[f]);x.max=x.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+b)});const o=Oo();U0(o,s,e.layoutBox);const c=Oo();l?U0(c,t.applyTransform(r,!0),e.measuredBox):U0(c,s,e.layoutBox);const h=!uN(o);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:x,layout:b}=f;if(x&&b){const M=En();jf(M,e.layoutBox,x.layoutBox);const y=En();jf(y,s,b.layoutBox),dN(M,y)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=M,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:h,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function QH(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function KH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function JH(t){t.clearSnapshot()}function x6(t){t.clearMeasurements()}function g6(t){t.isLayoutDirty=!1}function eV(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function y6(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function tV(t){t.resolveTargetDelta()}function nV(t){t.calcProjection()}function iV(t){t.resetSkewAndRotation()}function sV(t){t.removeLeadSnapshot()}function b6(t,e,n){t.translate=nn(e.translate,0,n),t.scale=nn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function v6(t,e,n,s){t.min=nn(e.min,n.min,s),t.max=nn(e.max,n.max,s)}function rV(t,e,n,s){v6(t.x,e.x,n.x,s),v6(t.y,e.y,n.y,s)}function aV(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const lV={duration:.45,ease:[.4,0,.1,1]},j6=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),w6=j6("applewebkit/")&&!j6("chrome/")?Math.round:ds;function T6(t){t.min=w6(t.min),t.max=w6(t.max)}function oV(t){T6(t.x),T6(t.y)}function pN(t,e,n){return t==="position"||t==="preserve-aspect"&&!xH(m6(e),m6(n),.2)}function cV(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const hV=mN({attachResizeListener:(t,e)=>xh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),d1={current:void 0},xN=mN({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!d1.current){const t=new hV({});t.mount(window),t.setOptions({layoutScroll:!0}),d1.current=t}return d1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),uV={pan:{Feature:zH},drag:{Feature:CH,ProjectionNode:xN,MeasureLayout:oN}};function S6(t,e,n){const{props:s}=t;t.animationState&&s.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,a=s[r];a&&Gt.postRender(()=>a(e,Fh(e)))}class dV extends al{mount(){const{current:e}=this.node;e&&(this.unmount=RF(e,(n,s)=>(S6(this.node,s,"Start"),r=>S6(this.node,r,"End"))))}unmount(){}}class fV extends al{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Bh(xh(this.node.current,"focus",()=>this.onFocus()),xh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function N6(t,e,n){const{props:s}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&s.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),a=s[r];a&&Gt.postRender(()=>a(e,Fh(e)))}class mV extends al{mount(){const{current:e}=this.node;e&&(this.unmount=BF(e,(n,s)=>(N6(this.node,s,"Start"),(r,{success:a})=>N6(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const j4=new WeakMap,f1=new WeakMap,pV=t=>{const e=j4.get(t.target);e&&e(t)},xV=t=>{t.forEach(pV)};function gV({root:t,...e}){const n=t||document;f1.has(n)||f1.set(n,{});const s=f1.get(n),r=JSON.stringify(e);return s[r]||(s[r]=new IntersectionObserver(xV,{root:t,...e})),s[r]}function yV(t,e,n){const s=gV(e);return j4.set(t,n),s.observe(t),()=>{j4.delete(t),s.unobserve(t)}}const bV={some:0,all:1};class vV extends al{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:bV[r]},o=c=>{const{isIntersecting:h}=c;if(this.isInView===h||(this.isInView=h,a&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),x=h?u:f;x&&x(c)};return yV(this.node.current,l,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(jV(e,n))&&this.startObserver()}unmount(){}}function jV({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const wV={inView:{Feature:vV},tap:{Feature:mV},focus:{Feature:fV},hover:{Feature:dV}},TV={layout:{ProjectionNode:xN,MeasureLayout:oN}},SV={...hH,...wV,...uV,...TV},Ps=AU(SV,BU);function gN({xp:t,level:e,compact:n=!1}){const s=R$(t,e);return n?i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsxs("span",{className:"text-primary-400 font-medium",children:["Lv.",e]}),i.jsxs("span",{className:"text-dark-400",children:[t," XP"]})]}):i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-primary-500 to-primary-600 flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-bold text-white",children:e})}),i.jsxs("div",{className:"flex-1 min-w-[80px]",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[i.jsxs("span",{className:"text-dark-400",children:["Level ",e]}),i.jsxs("span",{className:"text-primary-400 font-medium",children:[t," XP"]})]}),i.jsx("div",{className:"h-1.5 bg-dark-700 rounded-full overflow-hidden",children:i.jsx(Ps.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${s}%`},transition:{duration:.5}})})]})]})}function yN({streak:t}){return t===0?null:i.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-lg bg-orange-500/10 border border-orange-500/20",children:[i.jsx("span",{className:"text-orange-400",children:""}),i.jsx("span",{className:"text-sm font-medium text-orange-400",children:t})]})}function NV({level:t,showLabel:e=!1}){const{label:n,color:s,symbol:r}=O$(t);return i.jsxs("div",{className:`flex items-center gap-1.5 ${s}`,children:[i.jsx("span",{className:"text-sm",children:r}),e&&i.jsx("span",{className:"text-xs",children:n})]})}const AV={progress:"",mastery:"",dedication:"",exploration:""};function kV({notification:t,onDismiss:e}){return q.useEffect(()=>{const n=setTimeout(e,5e3);return()=>clearTimeout(n)},[e]),i.jsx(Ps.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},className:"pointer-events-auto",children:i.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 rounded-xl bg-dark-800 border border-primary-500/30 shadow-xl shadow-primary-500/10",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:AV[t.category]||""}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-xs text-primary-400 font-medium uppercase tracking-wider mb-0.5",children:"Achievement Unlocked!"}),i.jsx("div",{className:"text-dark-100 font-semibold",children:t.title}),i.jsx("div",{className:"text-sm text-dark-400",children:t.description})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-lg font-bold text-primary-400",children:["+",t.xpReward]}),i.jsx("div",{className:"text-xs text-dark-500",children:"XP"})]}),i.jsx("button",{onClick:e,className:"p-1 text-dark-500 hover:text-dark-300 transition-colors",children:i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})}function MV(){const{notifications:t,dismissNotification:e}=kc();return i.jsx("div",{className:"fixed bottom-4 right-4 z-50 flex flex-col gap-3 pointer-events-none",children:i.jsx(mh,{mode:"popLayout",children:t.map(n=>i.jsx(kV,{notification:n,onDismiss:()=>e(n.id)},n.id))})})}function xm({onToggleSidebar:t,sidebarOpen:e}){const s=kc();return i.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-dark-900/95 backdrop-blur-sm border-b border-dark-800",children:i.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-dark-800 transition-colors","aria-label":e?"Close sidebar":"Open sidebar",children:i.jsx("svg",{className:"w-6 h-6 text-dark-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e?i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),i.jsxs(wi,{to:"/",className:"flex items-center gap-3 hover:opacity-80 transition-opacity",children:[i.jsx("span",{className:"text-2xl",children:jj}),i.jsx("h1",{className:"text-lg font-semibold text-dark-100 hidden sm:block",children:Dg})]})]}),i.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[i.jsx("a",{href:FC,className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Hub"}),i.jsx(wi,{to:"/",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Home"}),i.jsx(wi,{to:"/theorems",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Theorems"}),i.jsx(wi,{to:"/interactive",className:"text-dark-400 hover:text-dark-100 transition-colors text-sm font-medium",children:"Interactive"}),wj.leaderboard]}),s&&i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(yN,{streak:s.state.streak.currentStreak}),i.jsx(gN,{xp:s.state.user.totalXP,level:s.state.user.level})]})]})})}const so=[{id:1,title:"Straightedge and Compass",slug:"straightedge-compass",sections:[{id:0,title:"Euclid's Construction Axioms",slug:"euclids-construction-axioms",description:"The fundamental axioms for straightedge and compass constructions."},{id:1,title:"Euclid's Construction of the Equilateral Triangle",slug:"equilateral-triangle-construction",description:"The first proposition of the Elements: constructing an equilateral triangle."},{id:2,title:"Some Basic Constructions",slug:"basic-constructions",description:"Essential constructions including perpendiculars and angle bisectors."},{id:3,title:"Multiplication and Division",slug:"multiplication-division",description:"Geometric constructions for arithmetic operations."},{id:4,title:"Similar Triangles",slug:"similar-triangles",description:"Properties and constructions involving similar triangles."},{id:5,title:"Discussion",slug:"ch1-discussion",description:"Historical context and the scope of straightedge and compass constructions."}]},{id:2,title:"Euclid's Approach to Geometry",slug:"euclids-approach",sections:[{id:6,title:"The Parallel Axiom",slug:"parallel-axiom",description:"The famous fifth postulate and its significance in geometry."},{id:7,title:"Congruence Axioms",slug:"congruence-axioms",description:"Axioms governing the congruence of geometric figures."},{id:8,title:"Area and Equality",slug:"area-equality",description:"The concept of area and equality of figures."},{id:9,title:"Area of Parallelograms and Triangles",slug:"area-parallelograms-triangles",description:"Computing areas of basic geometric shapes."},{id:10,title:"The Pythagorean Theorem",slug:"pythagorean-theorem",description:"The most famous theorem in geometry and its proof."},{id:11,title:"Proof of the Thales Theorem",slug:"thales-theorem-proof",description:"Proving that an angle inscribed in a semicircle is a right angle."},{id:12,title:"Angles in a Circle",slug:"angles-in-circle",description:"Relationships between angles and arcs in circles."},{id:13,title:"The Pythagorean Theorem Revisited",slug:"pythagorean-theorem-revisited",description:"Alternative proofs and deeper understanding of the theorem."},{id:14,title:"Discussion",slug:"ch2-discussion",description:"The axiomatic method and its role in mathematics."}]},{id:3,title:"Coordinates",slug:"coordinates",sections:[{id:15,title:"The Number Line and the Number Plane",slug:"number-line-plane",description:"Introduction to coordinate systems and the Cartesian plane."},{id:16,title:"Lines and Their Equations",slug:"lines-equations",description:"Algebraic representation of lines in the coordinate plane."},{id:17,title:"Distance",slug:"distance",description:"The distance formula derived from the Pythagorean theorem."},{id:18,title:"Intersections of Lines and Circles",slug:"intersections-lines-circles",description:"Finding intersection points using algebra."},{id:19,title:"Angle and Slope",slug:"angle-slope",description:"The relationship between angle and slope of a line."},{id:20,title:"Isometries",slug:"isometries",description:"Distance-preserving transformations in the plane."},{id:21,title:"The Three Reflections Theorem",slug:"three-reflections-theorem",description:"Every isometry is a composition of at most three reflections."},{id:22,title:"Discussion",slug:"ch3-discussion",description:"The power of coordinates in geometry."}]},{id:4,title:"Vectors and Euclidean Spaces",slug:"vectors-euclidean-spaces",sections:[{id:23,title:"Vectors",slug:"vectors",description:"Introduction to vectors and vector operations."},{id:24,title:"Direction and Linear Independence",slug:"direction-linear-independence",description:"Linear independence and spanning sets."},{id:25,title:"Midpoints and Centroids",slug:"midpoints-centroids",description:"Using vectors to find midpoints and centroids."},{id:26,title:"The Inner Product",slug:"inner-product",description:"The dot product and its geometric meaning."},{id:27,title:"Inner Product and Cosine",slug:"inner-product-cosine",description:"The relationship between inner product and angle."},{id:28,title:"The Triangle Inequality",slug:"triangle-inequality",description:"Proving the triangle inequality using vectors."},{id:29,title:"Rotations, Matrices, and Complex Numbers",slug:"rotations-matrices-complex",description:"Representing rotations with matrices and complex numbers."},{id:30,title:"Discussion",slug:"ch4-discussion",description:"The algebraic approach to geometry."}]},{id:5,title:"Perspective",slug:"perspective",sections:[{id:31,title:"Perspective Drawing",slug:"perspective-drawing",description:"The mathematics behind perspective art."},{id:32,title:"Drawing with Straightedge Alone",slug:"straightedge-alone",description:"What can be constructed without a compass."},{id:33,title:"Projective Plane Axioms and Their Models",slug:"projective-plane-axioms",description:"The axiomatic foundation of projective geometry."},{id:34,title:"Homogeneous Coordinates",slug:"homogeneous-coordinates",description:"A coordinate system for projective geometry."},{id:35,title:"Projection",slug:"projection",description:"The mathematics of projection from 3D to 2D."},{id:36,title:"Linear Fractional Functions",slug:"linear-fractional-functions",description:"Transformations of the projective line."},{id:37,title:"The Cross-Ratio",slug:"cross-ratio",description:"The fundamental invariant of projective geometry."},{id:38,title:"What is Special About the Cross-Ratio?",slug:"cross-ratio-special",description:"Why the cross-ratio is preserved under projection."},{id:39,title:"Discussion",slug:"ch5-discussion",description:"The role of perspective in mathematics and art."}]},{id:6,title:"Projective Planes",slug:"projective-planes",sections:[{id:40,title:"Pappus and Desargues Revisited",slug:"pappus-desargues-revisited",description:"Classic theorems of projective geometry."},{id:41,title:"Coincidences",slug:"coincidences",description:"Incidence relations in projective planes."},{id:42,title:"Variations on the Desargues Theorem",slug:"desargues-variations",description:"Different forms and consequences of Desargues theorem."},{id:43,title:"Projective Arithmetic",slug:"projective-arithmetic",description:"Constructing number systems from projective geometry."},{id:44,title:"The Field Axioms",slug:"field-axioms",description:"How geometry gives rise to algebraic structures."},{id:45,title:"The Associative Laws",slug:"associative-laws",description:"Proving associativity from geometric axioms."},{id:46,title:"The Distributive Law",slug:"distributive-law",description:"Proving distributivity from geometric axioms."},{id:47,title:"Discussion",slug:"ch6-discussion",description:"The deep connection between geometry and algebra."}]},{id:7,title:"Transformations",slug:"transformations",sections:[{id:48,title:"The Group of Isometries of the Plane",slug:"isometry-group",description:"Isometries form a mathematical group."},{id:49,title:"Vector Transformations",slug:"vector-transformations",description:"Linear transformations and their properties."},{id:50,title:"Transformations of the Projective Line",slug:"projective-line-transformations",description:"Mobius transformations and their geometry."},{id:51,title:"Spherical Geometry",slug:"spherical-geometry",description:"Geometry on the surface of a sphere."},{id:52,title:"The Rotation Group of the Sphere",slug:"sphere-rotation-group",description:"The group SO(3) of rotations in three dimensions."},{id:53,title:"Representing Space Rotations by Quaternions",slug:"quaternions",description:"Hamilton's quaternions and 3D rotations."},{id:54,title:"A Finite Group of Space Rotations",slug:"finite-rotation-groups",description:"Symmetry groups of regular polyhedra."},{id:55,title:"The Groups S3 and RP3",slug:"s3-rp3-groups",description:"The 3-sphere and real projective 3-space."},{id:56,title:"Discussion",slug:"ch7-discussion",description:"The Erlangen program: geometry as transformation groups."}]},{id:8,title:"Non-Euclidean Geometry",slug:"non-euclidean-geometry",sections:[{id:57,title:"Extending the Projective Line to a Plane",slug:"extending-projective-line",description:"Building the hyperbolic plane from projective concepts."},{id:58,title:"Complex Conjugation",slug:"complex-conjugation",description:"Complex numbers and their conjugates in geometry."},{id:59,title:"Reflections and Mobius Transformations",slug:"reflections-mobius",description:"Mobius transformations and hyperbolic reflections."},{id:60,title:"Preserving Non-Euclidean Lines",slug:"preserving-non-euclidean-lines",description:"Geodesics in hyperbolic geometry."},{id:61,title:"Preserving Angle",slug:"preserving-angle",description:"Conformal mappings in hyperbolic geometry."},{id:62,title:"Non-Euclidean Distance",slug:"non-euclidean-distance",description:"The hyperbolic metric and distance formula."},{id:63,title:"Non-Euclidean Translations and Rotations",slug:"non-euclidean-translations-rotations",description:"Isometries of the hyperbolic plane."},{id:64,title:"Three Reflections or Two Involutions",slug:"three-reflections-two-involutions",description:"Decomposing hyperbolic isometries."},{id:65,title:"Discussion",slug:"ch8-discussion",description:"The significance of non-Euclidean geometry in mathematics."}]}];function EV(t){for(const e of so){const n=e.sections.find(s=>s.id===t);if(n)return n}}function CV(t){return so.find(e=>e.sections.some(n=>n.id===t))}function zV(t){const e=so.flatMap(s=>s.sections),n=e.findIndex(s=>s.id===t);return{prev:n>0?e[n-1]:null,next:n<e.length-1?e[n+1]:null}}function bN(){return so.reduce((t,e)=>t+e.sections.length,0)}function DV(){return so.flatMap(t=>t.sections)}function PV(t){return DV().findIndex(n=>n.id===t)}function gm({isOpen:t,onClose:e}){const[n,s]=q.useState(new Set([1])),a=kc(),l=c=>{s(h=>{const u=new Set(h);return u.has(c)?u.delete(c):u.add(c),u})},o=c=>{var u;if(!a)return"none";const h=`${ef}:${c}`;return((u=a.state.sections[h])==null?void 0:u.masteryLevel)??"none"};return i.jsxs(i.Fragment,{children:[i.jsx(mh,{children:t&&i.jsx(Ps.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 bg-black/50 z-40 lg:hidden"})}),i.jsx("aside",{className:`
          fixed top-16 left-0 bottom-0 z-40
          w-72 bg-dark-900 border-r border-dark-800
          transform transition-transform duration-300 ease-in-out
          ${t?"translate-x-0":"-translate-x-full"}
          lg:translate-x-0
          overflow-y-auto
        `,children:i.jsxs("nav",{className:"p-4",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 mb-2",children:[i.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center",children:i.jsx("span",{className:"text-xs font-bold text-amber-400",children:""})}),i.jsx("span",{className:"text-xs font-bold uppercase tracking-wider text-dark-500",children:"Reference"})]}),i.jsxs("ul",{className:"space-y-0.5",children:[i.jsx("li",{children:i.jsxs(xp,{to:"/theorems",className:({isActive:c})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${c?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[i.jsx("span",{className:"text-lg",children:""}),"Theorems"]})}),i.jsx("li",{children:i.jsxs(xp,{to:"/interactive",className:({isActive:c})=>`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors ${c?"bg-primary-500/10 text-primary-400":"text-dark-300 hover:bg-dark-800 hover:text-dark-100"}`,children:[i.jsx("span",{className:"text-lg",children:""}),"Interactive Modules"]})})]})]}),i.jsx("div",{className:"space-y-2",children:so.map(c=>i.jsxs("div",{children:[i.jsxs("button",{onClick:()=>l(c.id),className:"w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-dark-800 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-6 h-6 rounded-lg bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:i.jsx("span",{className:"text-xs font-bold text-primary-400",children:c.id})}),i.jsx("span",{className:"text-sm font-medium text-dark-200",children:c.title})]}),i.jsx("svg",{className:`w-4 h-4 text-dark-500 transition-transform ${n.has(c.id)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i.jsx(mh,{children:n.has(c.id)&&i.jsx(Ps.ul,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"ml-4 mt-1 space-y-0.5 overflow-hidden",children:c.sections.map(h=>i.jsx("li",{children:i.jsxs(xp,{to:`/section/${h.id}`,onClick:()=>{window.innerWidth<1024&&e()},className:({isActive:u})=>`flex items-center justify-between px-3 py-2 rounded-lg text-sm transition-colors ${u?"bg-primary-500/10 text-primary-400":"text-dark-400 hover:bg-dark-800 hover:text-dark-200"}`,children:[i.jsx("span",{className:"truncate",children:h.title}),i.jsx(NV,{level:o(h.id)})]})},h.id))})})]},c.id))})]})})]})}function Re({sectionId:t,questions:e,title:n="Section Quiz"}){var J,ee,re;const r=kc(),[a,l]=q.useState(0),[o,c]=q.useState(null),[h,u]=q.useState(null),[f,x]=q.useState(""),[b,M]=q.useState(!1),[y,T]=q.useState(0),[S,N]=q.useState([]),[j,m]=q.useState(!1),[g,E]=q.useState(""),[v,p]=q.useState(0),A=q.useMemo(()=>[...e].sort(()=>globalThis.Math.random()-.5).slice(0,5),[e]),w=A[a],k=A.length,D=(w==null?void 0:w.type)??"multiple-choice";if(!w&&!j)return i.jsx("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:i.jsx("p",{className:"text-dark-400 text-center",children:"No quiz questions available for this section."})});const I=se=>{if(o!==null)return;c(se);const he=se===w.correctIndex;he&&T(ae=>ae+1),N(ae=>[...ae,he]),M(!0)},$=()=>{if(h===null||Number.isNaN(h)){E("Please enter a number");return}const{min:se,max:he}=w.numericRange??{};if(se!==void 0&&h<se){E(`Answer must be at least ${se}`);return}if(he!==void 0&&h>he){E(`Answer must be at most ${he}`);return}E("");const ae=h===w.correctAnswer;ae&&T(Ne=>Ne+1),N(Ne=>[...Ne,ae]),M(!0)},B=()=>{const se=f.trim();if(se==="")return;const he=se.toLowerCase()===String(w.correctAnswer??"").toLowerCase();he&&T(ae=>ae+1),N(ae=>[...ae,he]),M(!0)},G=()=>{if(a<k-1)l(se=>se+1),c(null),u(null),x(""),M(!1),E("");else{m(!0);const se=y+(b&&(D==="multiple-choice"&&o===w.correctIndex||D==="numeric"&&h===w.correctAnswer||D==="text"&&f.toLowerCase()===String(w.correctAnswer??"").toLowerCase())?1:0),he=globalThis.Math.round(se/k*100);let ae=RT(w.difficulty,he);he===100&&(ae=globalThis.Math.round(ae*(1+Ni.QUIZ_PERFECT_BONUS))),p(ae),r&&r.recordQuiz(t,w.difficulty,he,se,k)}},V=()=>{l(0),c(null),u(null),x(""),M(!1),T(0),N([]),m(!1),E(""),p(0)};if(j){const se=S.filter(Boolean).length,he=globalThis.Math.round(se/k*100);return i.jsx("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-6xl mb-4",children:he>=80?"":he>=60?"":""}),i.jsx("h3",{className:"text-2xl font-bold text-dark-100 mb-2",children:"Quiz Complete!"}),i.jsxs("p",{className:"text-dark-400 mb-4",children:["You scored ",se," out of ",k," (",he,"%)"]}),v>0&&i.jsxs(Ps.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl bg-amber-500/20 border border-amber-500/30 mb-4",children:[i.jsx("span",{className:"text-2xl",children:""}),i.jsxs("span",{className:"text-amber-300 font-bold text-lg",children:["+",v," XP"]}),he===100&&i.jsx("span",{className:"text-amber-400 text-sm",children:"(Perfect bonus!)"})]}),i.jsx("div",{className:"flex items-center justify-center gap-2 mb-6",children:S.map((ae,Ne)=>i.jsx("div",{className:`w-3 h-3 rounded-full ${ae?"bg-emerald-500":"bg-red-500"}`},Ne))}),i.jsx("button",{onClick:V,className:"px-6 py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:"Try Again"})]})})}return i.jsxs("div",{className:"mt-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-dark-100",children:n}),i.jsxs("span",{className:"text-sm text-dark-400",children:["Question ",a+1," of ",k]})]}),i.jsx("div",{className:"h-1 bg-dark-700 rounded-full mb-6 overflow-hidden",children:i.jsx(Ps.div,{className:"h-full bg-primary-500",initial:{width:0},animate:{width:`${(a+1)/k*100}%`}})}),i.jsx("div",{className:"mb-4",children:i.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${w.difficulty==="easy"?"bg-emerald-500/20 text-emerald-400":w.difficulty==="medium"?"bg-amber-500/20 text-amber-400":"bg-red-500/20 text-red-400"}`,children:w.difficulty.charAt(0).toUpperCase()+w.difficulty.slice(1)})}),i.jsx("p",{className:"text-lg text-dark-200 mb-6",children:i.jsx("span",{dangerouslySetInnerHTML:{__html:Qp(w.question)}})}),D==="multiple-choice"&&w.options&&i.jsx("div",{className:"space-y-3 mb-6",children:w.options.map((se,he)=>{const ae=o===he,Ne=he===w.correctIndex,Te=b&&Ne,tt=b&&ae&&!Ne;return i.jsx("button",{onClick:()=>I(he),disabled:b,className:`w-full p-4 rounded-xl text-left transition-all ${Te?"bg-emerald-500/20 border-emerald-500/50 text-emerald-300":tt?"bg-red-500/20 border-red-500/50 text-red-300":ae?"bg-primary-500/20 border-primary-500/50 text-primary-300":"bg-dark-700/50 border-dark-600/50 text-dark-200 hover:bg-dark-700 hover:border-dark-500"} border`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"w-6 h-6 rounded-full bg-dark-600 flex items-center justify-center text-sm font-medium",children:String.fromCharCode(65+he)}),i.jsx("span",{dangerouslySetInnerHTML:{__html:Qp(se)}})]})},he)})}),D==="numeric"&&i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsx("input",{type:"number",step:(J=w.numericRange)!=null&&J.precision?1/globalThis.Math.pow(10,w.numericRange.precision):1,min:(ee=w.numericRange)==null?void 0:ee.min,max:(re=w.numericRange)==null?void 0:re.max,value:h??"",onChange:se=>{const he=se.target.value;u(he===""?null:parseFloat(he))},disabled:b,className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors",placeholder:"Enter your answer..."}),g&&i.jsx("p",{className:"text-red-400 text-sm",children:g}),i.jsx("button",{onClick:$,disabled:b||h===null||Number.isNaN(h),className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:bg-dark-600 disabled:cursor-not-allowed",children:"Check Answer"})]}),D==="text"&&i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsx("input",{type:"text",value:f,onChange:se=>x(se.target.value),disabled:b,className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors",placeholder:"Type your answer..."}),i.jsx("button",{onClick:B,disabled:b||!f.trim(),className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors disabled:bg-dark-600 disabled:cursor-not-allowed",children:"Check Answer"})]}),b&&w.explanation&&i.jsx(Ps.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 rounded-xl bg-dark-700/50 border border-dark-600/50 mb-6",children:i.jsxs("p",{className:"text-sm text-dark-300",children:[i.jsx("span",{className:"font-medium text-dark-200",children:"Explanation: "}),i.jsx("span",{dangerouslySetInnerHTML:{__html:Qp(w.explanation)}})]})}),b&&i.jsx(Ps.button,{initial:{opacity:0},animate:{opacity:1},onClick:G,className:"w-full py-3 rounded-xl bg-primary-500 hover:bg-primary-600 text-white font-medium transition-colors",children:a<k-1?"Next Question":"See Results"})]})}const vN=[{id:1,type:"multiple-choice",question:"How many construction axioms did Euclid use for straightedge and compass constructions?",options:["$2$","$3$","$4$","$5$"],correctIndex:1,difficulty:"easy",explanation:"Euclid used three construction axioms: (1) draw a line segment between two points, (2) extend a line segment, and (3) draw a circle with given center and radius."},{id:2,type:"multiple-choice",question:"What is the key difference between a straightedge and a ruler?",options:["A straightedge is longer","A straightedge has no markings for measurement","A ruler can only draw curved lines","There is no difference"],correctIndex:1,difficulty:"easy",explanation:"A straightedge has no scale marked on it and can only be used for drawing straight linesnot for measurement. Euclid deliberately separates the function of measurement from drawing straight lines."},{id:3,type:"multiple-choice",question:"In Euclidean geometry, which tool is used for measuring and transferring lengths?",options:["The straightedge","The protractor","The compass","The ruler"],correctIndex:2,difficulty:"easy",explanation:'The compass "stores" the length of a radius and allows this length to be transferred elsewhere. The power of measuring lengths resides in the compass.'},{id:4,type:"multiple-choice",question:"Which of the following is NOT one of Euclid's construction axioms?",options:["Draw a straight line segment between any two points","Extend a straight line segment indefinitely","Measure the angle between two lines","Draw a circle with given center and radius"],correctIndex:2,difficulty:"medium",explanation:"Euclid's three construction axioms are: (1) draw a line segment, (2) extend a line segment, and (3) draw a circle. Measuring angles is not one of the construction axioms."},{id:5,type:"multiple-choice",question:"To add the length $|AB|$ to the length $|CD|$ using a compass, what should you do?",options:["Draw a line from A to D","Set the compass to radius $|AB|$ and draw a circle centered at D","Use a ruler to measure both lengths","Draw perpendicular lines from each segment"],correctIndex:1,difficulty:"medium",explanation:"To add lengths, you pick up the compass with radius set to $|AB|$ and describe a circle with center D. Where this circle intersects the extended line CD gives you the sum $|CD| + |AB|$."},{id:6,type:"multiple-choice",question:'Why did Euclid separate the concepts of "straightness" and "length" into different tools?',options:["He didn't have access to rulers","It simplifies the axioms and clarifies the foundations of geometry","Compasses were easier to manufacture","Ancient Greek law required separate tools"],correctIndex:1,difficulty:"medium",explanation:'Separating "straightness" (straightedge) and "length" (compass) turns out to be important for understanding the foundations of geometry. This same separation reappears in different approaches to geometry.'}],IV={0:vN};function RV(t){return IV[t]??null}function qe({sectionId:t,children:e}){const n=EV(t),s=CV(t),{prev:r,next:a}=zV(t),l=bN(),o=PV(t),h=kc();if(q.useEffect(()=>{h&&h.visitSection(t)},[t,h]),!n||!s)return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-dark-950",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Section Not Found"}),i.jsx(wi,{to:"/",className:"text-primary-400 hover:text-primary-300",children:"Return to Home"})]})});const u=(o+1)/l*100;return i.jsxs("div",{children:[i.jsx("div",{className:"fixed top-16 left-0 right-0 z-30 h-1 bg-dark-800 lg:left-72",children:i.jsx(Ps.div,{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",initial:{width:0},animate:{width:`${u}%`},transition:{duration:.5}})}),i.jsx("main",{className:"pt-4 pb-24 px-4 lg:px-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("nav",{className:"mb-6 flex items-center gap-2 text-sm text-dark-400",children:[i.jsx(wi,{to:"/",className:"hover:text-dark-200 transition-colors",children:"Home"}),i.jsx("span",{children:"/"}),i.jsx("span",{className:"text-dark-500",children:s.title}),i.jsx("span",{children:"/"}),i.jsx("span",{className:"text-dark-200",children:n.title})]}),i.jsxs("header",{className:"mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsxs("span",{className:"text-sm font-medium text-primary-400",children:["Section ",t]}),i.jsx("span",{className:"text-dark-600",children:""}),i.jsx("span",{className:"text-sm text-dark-500",children:s.title})]}),i.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-3",children:n.title}),i.jsx("p",{className:"text-dark-400 text-lg",children:n.description})]}),i.jsx("article",{className:"prose prose-invert prose-lg max-w-none",children:e}),(()=>{const f=RV(t);return f&&f.length>0?i.jsx(Re,{sectionId:t,questions:f}):null})(),i.jsxs("nav",{className:"mt-16 flex items-center justify-between gap-4 pt-8 border-t border-dark-800",children:[r?i.jsxs(wi,{to:`/section/${r.id}`,className:"flex items-center gap-2 px-4 py-3 rounded-xl bg-dark-800/50 hover:bg-dark-800 transition-colors group",children:[i.jsx("svg",{className:"w-5 h-5 text-dark-400 group-hover:text-dark-200 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"text-xs text-dark-500",children:"Previous"}),i.jsx("div",{className:"text-sm text-dark-200 group-hover:text-dark-100",children:r.title})]})]}):i.jsx("div",{}),a?i.jsxs(wi,{to:`/section/${a.id}`,className:"flex items-center gap-2 px-4 py-3 rounded-xl bg-dark-800/50 hover:bg-dark-800 transition-colors group",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-xs text-dark-500",children:"Next"}),i.jsx("div",{className:"text-sm text-dark-200 group-hover:text-dark-100",children:a.title})]}),i.jsx("svg",{className:"w-5 h-5 text-dark-400 group-hover:text-dark-200 transition-colors",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}):i.jsxs(wi,{to:"/",className:"flex items-center gap-2 px-4 py-3 rounded-xl bg-primary-500/10 hover:bg-primary-500/20 transition-colors text-primary-400",children:[i.jsx("span",{children:"Complete Course"}),i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})]})]})]})})]})}function A6(){const[t,e]=q.useState(!1),s=kc(),r=bN(),a=s?s.state.user.sectionsCompleted.filter(o=>o.startsWith(ef)).length:0,l=Math.round(a/r*100);return i.jsxs("div",{className:"min-h-screen bg-dark-950",children:[i.jsx(xm,{onToggleSidebar:()=>e(!t),sidebarOpen:t}),i.jsx(gm,{isOpen:t,onClose:()=>e(!1)}),i.jsx("main",{className:"pt-20 pb-12 px-4 lg:pl-80 lg:pr-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("span",{className:"text-6xl mb-4 block",children:jj}),i.jsx("h1",{className:"text-4xl font-bold text-dark-100 mb-4",children:Dg}),i.jsx("p",{className:"text-xl text-dark-400 max-w-2xl mx-auto",children:LC})]}),s&&i.jsxs("div",{className:"mb-12 p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-dark-100",children:"Your Progress"}),i.jsx(yN,{streak:s.state.streak.currentStreak})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{children:i.jsx(gN,{xp:s.state.user.totalXP,level:s.state.user.level})}),i.jsxs("div",{className:"flex flex-col justify-center",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[i.jsx("span",{className:"text-dark-400",children:"Course Progress"}),i.jsxs("span",{className:"text-primary-400 font-medium",children:[l,"%"]})]}),i.jsx("div",{className:"h-2 bg-dark-700 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-primary-500 to-primary-400",style:{width:`${l}%`}})}),i.jsxs("div",{className:"text-xs text-dark-500 mt-1",children:[a," of ",r," sections"]})]}),i.jsxs("div",{className:"flex flex-col justify-center items-end",children:[i.jsx("div",{className:"text-2xl font-bold text-dark-100",children:s.state.user.quizzesTaken}),i.jsx("div",{className:"text-sm text-dark-400",children:"Quizzes Completed"})]})]})]}),i.jsx("h2",{className:"text-2xl font-bold text-dark-100 mb-6",children:"Course Content"}),i.jsx("div",{className:"space-y-4",children:so.map(o=>i.jsxs("div",{className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-dark-600/50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center",children:i.jsx("span",{className:"text-lg font-bold text-primary-400",children:o.id})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:o.title}),i.jsxs("p",{className:"text-sm text-dark-400",children:[o.sections.length," sections"]})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:o.sections.map(c=>{const h=`${ef}:${c.id}`,u=s==null?void 0:s.state.user.sectionsCompleted.includes(h);return i.jsxs(wi,{to:`/section/${c.id}`,className:"flex items-center gap-3 p-3 rounded-xl hover:bg-dark-700/50 transition-colors group",children:[i.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${u?"bg-emerald-500/20 text-emerald-400":"bg-dark-700 text-dark-400"}`,children:u?i.jsx("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):i.jsx("span",{className:"text-xs",children:c.id})}),i.jsx("span",{className:"text-sm text-dark-300 group-hover:text-dark-100 transition-colors",children:c.title})]},c.id)})})]},o.id))})]})})]})}class ji{constructor(e,n,s){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=s}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new ji(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class Hi{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Hi(n,ji.range(this,e))}}class we{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var s="KaTeX parse error: "+e,r,a,l=n&&n.loc;if(l&&l.start<=l.end){var o=l.lexer.input;r=l.start,a=l.end,r===o.length?s+=" at end of input: ":s+=" at position "+(r+1)+": ";var c=o.slice(r,a).replace(/[^]/g,"$&"),h;r>15?h=""+o.slice(r-15,r):h=o.slice(0,r);var u;a+15<o.length?u=o.slice(a,a+15)+"":u=o.slice(a),s+=h+c+u}var f=new Error(s);return f.name="ParseError",f.__proto__=we.prototype,f.position=r,r!=null&&a!=null&&(f.length=a-r),f.rawMessage=e,f}}we.prototype.__proto__=Error.prototype;var _V=function(e,n){return e===void 0?n:e},qV=/([A-Z])/g,OV=function(e){return e.replace(qV,"-$1").toLowerCase()},BV={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},$V=/[&><"']/g;function LV(t){return String(t).replace($V,e=>BV[e])}var jN=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},FV=function(e){var n=jN(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},UV=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},HV=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},gt={deflt:_V,escape:LV,hyphenate:OV,getBaseElem:jN,isCharacterBox:FV,protocolFromUrl:HV},jd={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function VV(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class G2{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in jd)if(jd.hasOwnProperty(n)){var s=jd[n];this[n]=e[n]!==void 0?s.processor?s.processor(e[n]):e[n]:VV(s)}}reportNonstrict(e,n,s){var r=this.strict;if(typeof r=="function"&&(r=r(e,n,s)),!(!r||r==="ignore")){if(r===!0||r==="error")throw new we("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),s);r==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,s){var r=this.strict;if(typeof r=="function")try{r=r(e,n,s)}catch{r="error"}return!r||r==="ignore"?!1:r===!0||r==="error"?!0:r==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=gt.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var s=typeof this.trust=="function"?this.trust(e):this.trust;return!!s}}class ua{constructor(e,n,s){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=s}sup(){return $s[GV[this.id]]}sub(){return $s[WV[this.id]]}fracNum(){return $s[YV[this.id]]}fracDen(){return $s[XV[this.id]]}cramp(){return $s[ZV[this.id]]}text(){return $s[QV[this.id]]}isTight(){return this.size>=2}}var W2=0,wf=1,Qo=2,Ir=3,gh=4,cs=5,pc=6,ai=7,$s=[new ua(W2,0,!1),new ua(wf,0,!0),new ua(Qo,1,!1),new ua(Ir,1,!0),new ua(gh,2,!1),new ua(cs,2,!0),new ua(pc,3,!1),new ua(ai,3,!0)],GV=[gh,cs,gh,cs,pc,ai,pc,ai],WV=[cs,cs,cs,cs,ai,ai,ai,ai],YV=[Qo,Ir,gh,cs,pc,ai,pc,ai],XV=[Ir,Ir,cs,cs,ai,ai,ai,ai],ZV=[wf,wf,Ir,Ir,cs,cs,ai,ai],QV=[W2,wf,Qo,Ir,Qo,Ir,Qo,Ir],Ye={DISPLAY:$s[W2],TEXT:$s[Qo],SCRIPT:$s[gh],SCRIPTSCRIPT:$s[pc]},w4=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function KV(t){for(var e=0;e<w4.length;e++)for(var n=w4[e],s=0;s<n.blocks.length;s++){var r=n.blocks[s];if(t>=r[0]&&t<=r[1])return n.name}return null}var wd=[];w4.forEach(t=>t.blocks.forEach(e=>wd.push(...e)));function wN(t){for(var e=0;e<wd.length;e+=2)if(t>=wd[e]&&t<=wd[e+1])return!0;return!1}var xo=80,JV=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},eG=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},tG=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},nG=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},iG=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},sG=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},rG=function(e,n,s){var r=s-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+r+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},aG=function(e,n,s){n=1e3*n;var r="";switch(e){case"sqrtMain":r=JV(n,xo);break;case"sqrtSize1":r=eG(n,xo);break;case"sqrtSize2":r=tG(n,xo);break;case"sqrtSize3":r=nG(n,xo);break;case"sqrtSize4":r=iG(n,xo);break;case"sqrtTall":r=rG(n,xo,s)}return r},lG=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},k6={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},oG=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Uh{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var Gs={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Fu={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},M6={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function cG(t,e){Gs[t]=e}function Y2(t,e,n){if(!Gs[e])throw new Error("Font metrics not found for font: "+e+".");var s=t.charCodeAt(0),r=Gs[e][s];if(!r&&t[0]in M6&&(s=M6[t[0]].charCodeAt(0),r=Gs[e][s]),!r&&n==="text"&&wN(s)&&(r=Gs[e][77]),r)return{depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]}}var m1={};function hG(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!m1[e]){var n=m1[e]={cssEmPerMu:Fu.quad[e]/18};for(var s in Fu)Fu.hasOwnProperty(s)&&(n[s]=Fu[s][e])}return m1[e]}var uG=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],E6=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],C6=function(e,n){return n.size<2?e:uG[e-1][n.size-1]};class Sr{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Sr.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=E6[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var s in e)e.hasOwnProperty(s)&&(n[s]=e[s]);return new Sr(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:C6(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:E6[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=C6(Sr.BASESIZE,e);return this.size===n&&this.textSize===Sr.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Sr.BASESIZE?["sizing","reset-size"+this.size,"size"+Sr.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=hG(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Sr.BASESIZE=6;var T4={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},dG={ex:!0,em:!0,mu:!0},TN=function(e){return typeof e!="string"&&(e=e.unit),e in T4||e in dG||e==="ex"},tn=function(e,n){var s;if(e.unit in T4)s=T4[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")s=n.fontMetrics().cssEmPerMu;else{var r;if(n.style.isTight()?r=n.havingStyle(n.style.text()):r=n,e.unit==="ex")s=r.fontMetrics().xHeight;else if(e.unit==="em")s=r.fontMetrics().quad;else throw new we("Invalid unit: '"+e.unit+"'");r!==n&&(s*=r.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*s,n.maxSize)},Me=function(e){return+e.toFixed(4)+"em"},Qa=function(e){return e.filter(n=>n).join(" ")},SN=function(e,n,s){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=s||{},n){n.style.isTight()&&this.classes.push("mtight");var r=n.getColor();r&&(this.style.color=r)}},NN=function(e){var n=document.createElement(e);n.className=Qa(this.classes);for(var s in this.style)this.style.hasOwnProperty(s)&&(n.style[s]=this.style[s]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&n.setAttribute(r,this.attributes[r]);for(var a=0;a<this.children.length;a++)n.appendChild(this.children[a].toNode());return n},fG=/[\s"'>/=\x00-\x1f]/,AN=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+gt.escape(Qa(this.classes))+'"');var s="";for(var r in this.style)this.style.hasOwnProperty(r)&&(s+=gt.hyphenate(r)+":"+this.style[r]+";");s&&(n+=' style="'+gt.escape(s)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(fG.test(a))throw new we("Invalid attribute name '"+a+"'");n+=" "+a+'="'+gt.escape(this.attributes[a])+'"'}n+=">";for(var l=0;l<this.children.length;l++)n+=this.children[l].toMarkup();return n+="</"+e+">",n};class Hh{constructor(e,n,s,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,SN.call(this,e,s,r),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return NN.call(this,"span")}toMarkup(){return AN.call(this,"span")}}class X2{constructor(e,n,s,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,SN.call(this,n,r),this.children=s||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return NN.call(this,"a")}toMarkup(){return AN.call(this,"a")}}class mG{constructor(e,n,s){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=s}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+gt.escape(this.src)+'"'+(' alt="'+gt.escape(this.alt)+'"'),n="";for(var s in this.style)this.style.hasOwnProperty(s)&&(n+=gt.hyphenate(s)+":"+this.style[s]+";");return n&&(e+=' style="'+gt.escape(n)+'"'),e+="'/>",e}}var pG={:"",:"",:"",:""};class gs{constructor(e,n,s,r,a,l,o,c){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=s||0,this.italic=r||0,this.skew=a||0,this.width=l||0,this.classes=o||[],this.style=c||{},this.maxFontSize=0;var h=KV(this.text.charCodeAt(0));h&&this.classes.push(h+"_fallback"),/[]/.test(this.text)&&(this.text=pG[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Me(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Qa(this.classes));for(var s in this.style)this.style.hasOwnProperty(s)&&(n=n||document.createElement("span"),n.style[s]=this.style[s]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=gt.escape(Qa(this.classes)),n+='"');var s="";this.italic>0&&(s+="margin-right:"+this.italic+"em;");for(var r in this.style)this.style.hasOwnProperty(r)&&(s+=gt.hyphenate(r)+":"+this.style[r]+";");s&&(e=!0,n+=' style="'+gt.escape(s)+'"');var a=gt.escape(this.text);return e?(n+=">",n+=a,n+="</span>",n):a}}class Wr{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var s in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,s)&&n.setAttribute(s,this.attributes[s]);for(var r=0;r<this.children.length;r++)n.appendChild(this.children[r].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+gt.escape(this.attributes[n])+'"');e+=">";for(var s=0;s<this.children.length;s++)e+=this.children[s].toMarkup();return e+="</svg>",e}}class Ka{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",k6[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+gt.escape(this.alternate)+'"/>':'<path d="'+gt.escape(k6[this.pathName])+'"/>'}}class S4{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var s in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,s)&&n.setAttribute(s,this.attributes[s]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+gt.escape(this.attributes[n])+'"');return e+="/>",e}}function z6(t){if(t instanceof gs)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function xG(t){if(t instanceof Hh)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var gG={bin:1,close:1,inner:1,open:1,punct:1,rel:1},yG={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},_t={math:{},text:{}};function z(t,e,n,s,r,a){_t[t][r]={font:e,group:n,replace:s},a&&s&&(_t[t][s]=_t[t][r])}var _="math",ye="text",F="main",Z="ams",Xt="accent-token",Ie="bin",ui="close",zc="inner",Ge="mathord",An="op-token",Yi="open",ym="punct",K="rel",Kr="spacing",ie="textord";z(_,F,K,"","\\equiv",!0);z(_,F,K,"","\\prec",!0);z(_,F,K,"","\\succ",!0);z(_,F,K,"","\\sim",!0);z(_,F,K,"","\\perp");z(_,F,K,"","\\preceq",!0);z(_,F,K,"","\\succeq",!0);z(_,F,K,"","\\simeq",!0);z(_,F,K,"","\\mid",!0);z(_,F,K,"","\\ll",!0);z(_,F,K,"","\\gg",!0);z(_,F,K,"","\\asymp",!0);z(_,F,K,"","\\parallel");z(_,F,K,"","\\bowtie",!0);z(_,F,K,"","\\smile",!0);z(_,F,K,"","\\sqsubseteq",!0);z(_,F,K,"","\\sqsupseteq",!0);z(_,F,K,"","\\doteq",!0);z(_,F,K,"","\\frown",!0);z(_,F,K,"","\\ni",!0);z(_,F,K,"","\\propto",!0);z(_,F,K,"","\\vdash",!0);z(_,F,K,"","\\dashv",!0);z(_,F,K,"","\\owns");z(_,F,ym,".","\\ldotp");z(_,F,ym,"","\\cdotp");z(_,F,ie,"#","\\#");z(ye,F,ie,"#","\\#");z(_,F,ie,"&","\\&");z(ye,F,ie,"&","\\&");z(_,F,ie,"","\\aleph",!0);z(_,F,ie,"","\\forall",!0);z(_,F,ie,"","\\hbar",!0);z(_,F,ie,"","\\exists",!0);z(_,F,ie,"","\\nabla",!0);z(_,F,ie,"","\\flat",!0);z(_,F,ie,"","\\ell",!0);z(_,F,ie,"","\\natural",!0);z(_,F,ie,"","\\clubsuit",!0);z(_,F,ie,"","\\wp",!0);z(_,F,ie,"","\\sharp",!0);z(_,F,ie,"","\\diamondsuit",!0);z(_,F,ie,"","\\Re",!0);z(_,F,ie,"","\\heartsuit",!0);z(_,F,ie,"","\\Im",!0);z(_,F,ie,"","\\spadesuit",!0);z(_,F,ie,"","\\S",!0);z(ye,F,ie,"","\\S");z(_,F,ie,"","\\P",!0);z(ye,F,ie,"","\\P");z(_,F,ie,"","\\dag");z(ye,F,ie,"","\\dag");z(ye,F,ie,"","\\textdagger");z(_,F,ie,"","\\ddag");z(ye,F,ie,"","\\ddag");z(ye,F,ie,"","\\textdaggerdbl");z(_,F,ui,"","\\rmoustache",!0);z(_,F,Yi,"","\\lmoustache",!0);z(_,F,ui,"","\\rgroup",!0);z(_,F,Yi,"","\\lgroup",!0);z(_,F,Ie,"","\\mp",!0);z(_,F,Ie,"","\\ominus",!0);z(_,F,Ie,"","\\uplus",!0);z(_,F,Ie,"","\\sqcap",!0);z(_,F,Ie,"","\\ast");z(_,F,Ie,"","\\sqcup",!0);z(_,F,Ie,"","\\bigcirc",!0);z(_,F,Ie,"","\\bullet",!0);z(_,F,Ie,"","\\ddagger");z(_,F,Ie,"","\\wr",!0);z(_,F,Ie,"","\\amalg");z(_,F,Ie,"&","\\And");z(_,F,K,"","\\longleftarrow",!0);z(_,F,K,"","\\Leftarrow",!0);z(_,F,K,"","\\Longleftarrow",!0);z(_,F,K,"","\\longrightarrow",!0);z(_,F,K,"","\\Rightarrow",!0);z(_,F,K,"","\\Longrightarrow",!0);z(_,F,K,"","\\leftrightarrow",!0);z(_,F,K,"","\\longleftrightarrow",!0);z(_,F,K,"","\\Leftrightarrow",!0);z(_,F,K,"","\\Longleftrightarrow",!0);z(_,F,K,"","\\mapsto",!0);z(_,F,K,"","\\longmapsto",!0);z(_,F,K,"","\\nearrow",!0);z(_,F,K,"","\\hookleftarrow",!0);z(_,F,K,"","\\hookrightarrow",!0);z(_,F,K,"","\\searrow",!0);z(_,F,K,"","\\leftharpoonup",!0);z(_,F,K,"","\\rightharpoonup",!0);z(_,F,K,"","\\swarrow",!0);z(_,F,K,"","\\leftharpoondown",!0);z(_,F,K,"","\\rightharpoondown",!0);z(_,F,K,"","\\nwarrow",!0);z(_,F,K,"","\\rightleftharpoons",!0);z(_,Z,K,"","\\nless",!0);z(_,Z,K,"","\\@nleqslant");z(_,Z,K,"","\\@nleqq");z(_,Z,K,"","\\lneq",!0);z(_,Z,K,"","\\lneqq",!0);z(_,Z,K,"","\\@lvertneqq");z(_,Z,K,"","\\lnsim",!0);z(_,Z,K,"","\\lnapprox",!0);z(_,Z,K,"","\\nprec",!0);z(_,Z,K,"","\\npreceq",!0);z(_,Z,K,"","\\precnsim",!0);z(_,Z,K,"","\\precnapprox",!0);z(_,Z,K,"","\\nsim",!0);z(_,Z,K,"","\\@nshortmid");z(_,Z,K,"","\\nmid",!0);z(_,Z,K,"","\\nvdash",!0);z(_,Z,K,"","\\nvDash",!0);z(_,Z,K,"","\\ntriangleleft");z(_,Z,K,"","\\ntrianglelefteq",!0);z(_,Z,K,"","\\subsetneq",!0);z(_,Z,K,"","\\@varsubsetneq");z(_,Z,K,"","\\subsetneqq",!0);z(_,Z,K,"","\\@varsubsetneqq");z(_,Z,K,"","\\ngtr",!0);z(_,Z,K,"","\\@ngeqslant");z(_,Z,K,"","\\@ngeqq");z(_,Z,K,"","\\gneq",!0);z(_,Z,K,"","\\gneqq",!0);z(_,Z,K,"","\\@gvertneqq");z(_,Z,K,"","\\gnsim",!0);z(_,Z,K,"","\\gnapprox",!0);z(_,Z,K,"","\\nsucc",!0);z(_,Z,K,"","\\nsucceq",!0);z(_,Z,K,"","\\succnsim",!0);z(_,Z,K,"","\\succnapprox",!0);z(_,Z,K,"","\\ncong",!0);z(_,Z,K,"","\\@nshortparallel");z(_,Z,K,"","\\nparallel",!0);z(_,Z,K,"","\\nVDash",!0);z(_,Z,K,"","\\ntriangleright");z(_,Z,K,"","\\ntrianglerighteq",!0);z(_,Z,K,"","\\@nsupseteqq");z(_,Z,K,"","\\supsetneq",!0);z(_,Z,K,"","\\@varsupsetneq");z(_,Z,K,"","\\supsetneqq",!0);z(_,Z,K,"","\\@varsupsetneqq");z(_,Z,K,"","\\nVdash",!0);z(_,Z,K,"","\\precneqq",!0);z(_,Z,K,"","\\succneqq",!0);z(_,Z,K,"","\\@nsubseteqq");z(_,Z,Ie,"","\\unlhd");z(_,Z,Ie,"","\\unrhd");z(_,Z,K,"","\\nleftarrow",!0);z(_,Z,K,"","\\nrightarrow",!0);z(_,Z,K,"","\\nLeftarrow",!0);z(_,Z,K,"","\\nRightarrow",!0);z(_,Z,K,"","\\nleftrightarrow",!0);z(_,Z,K,"","\\nLeftrightarrow",!0);z(_,Z,K,"","\\vartriangle");z(_,Z,ie,"","\\hslash");z(_,Z,ie,"","\\triangledown");z(_,Z,ie,"","\\lozenge");z(_,Z,ie,"","\\circledS");z(_,Z,ie,"","\\circledR");z(ye,Z,ie,"","\\circledR");z(_,Z,ie,"","\\measuredangle",!0);z(_,Z,ie,"","\\nexists");z(_,Z,ie,"","\\mho");z(_,Z,ie,"","\\Finv",!0);z(_,Z,ie,"","\\Game",!0);z(_,Z,ie,"","\\backprime");z(_,Z,ie,"","\\blacktriangle");z(_,Z,ie,"","\\blacktriangledown");z(_,Z,ie,"","\\blacksquare");z(_,Z,ie,"","\\blacklozenge");z(_,Z,ie,"","\\bigstar");z(_,Z,ie,"","\\sphericalangle",!0);z(_,Z,ie,"","\\complement",!0);z(_,Z,ie,"","\\eth",!0);z(ye,F,ie,"","");z(_,Z,ie,"","\\diagup");z(_,Z,ie,"","\\diagdown");z(_,Z,ie,"","\\square");z(_,Z,ie,"","\\Box");z(_,Z,ie,"","\\Diamond");z(_,Z,ie,"","\\yen",!0);z(ye,Z,ie,"","\\yen",!0);z(_,Z,ie,"","\\checkmark",!0);z(ye,Z,ie,"","\\checkmark");z(_,Z,ie,"","\\beth",!0);z(_,Z,ie,"","\\daleth",!0);z(_,Z,ie,"","\\gimel",!0);z(_,Z,ie,"","\\digamma",!0);z(_,Z,ie,"","\\varkappa");z(_,Z,Yi,"","\\@ulcorner",!0);z(_,Z,ui,"","\\@urcorner",!0);z(_,Z,Yi,"","\\@llcorner",!0);z(_,Z,ui,"","\\@lrcorner",!0);z(_,Z,K,"","\\leqq",!0);z(_,Z,K,"","\\leqslant",!0);z(_,Z,K,"","\\eqslantless",!0);z(_,Z,K,"","\\lesssim",!0);z(_,Z,K,"","\\lessapprox",!0);z(_,Z,K,"","\\approxeq",!0);z(_,Z,Ie,"","\\lessdot");z(_,Z,K,"","\\lll",!0);z(_,Z,K,"","\\lessgtr",!0);z(_,Z,K,"","\\lesseqgtr",!0);z(_,Z,K,"","\\lesseqqgtr",!0);z(_,Z,K,"","\\doteqdot");z(_,Z,K,"","\\risingdotseq",!0);z(_,Z,K,"","\\fallingdotseq",!0);z(_,Z,K,"","\\backsim",!0);z(_,Z,K,"","\\backsimeq",!0);z(_,Z,K,"","\\subseteqq",!0);z(_,Z,K,"","\\Subset",!0);z(_,Z,K,"","\\sqsubset",!0);z(_,Z,K,"","\\preccurlyeq",!0);z(_,Z,K,"","\\curlyeqprec",!0);z(_,Z,K,"","\\precsim",!0);z(_,Z,K,"","\\precapprox",!0);z(_,Z,K,"","\\vartriangleleft");z(_,Z,K,"","\\trianglelefteq");z(_,Z,K,"","\\vDash",!0);z(_,Z,K,"","\\Vvdash",!0);z(_,Z,K,"","\\smallsmile");z(_,Z,K,"","\\smallfrown");z(_,Z,K,"","\\bumpeq",!0);z(_,Z,K,"","\\Bumpeq",!0);z(_,Z,K,"","\\geqq",!0);z(_,Z,K,"","\\geqslant",!0);z(_,Z,K,"","\\eqslantgtr",!0);z(_,Z,K,"","\\gtrsim",!0);z(_,Z,K,"","\\gtrapprox",!0);z(_,Z,Ie,"","\\gtrdot");z(_,Z,K,"","\\ggg",!0);z(_,Z,K,"","\\gtrless",!0);z(_,Z,K,"","\\gtreqless",!0);z(_,Z,K,"","\\gtreqqless",!0);z(_,Z,K,"","\\eqcirc",!0);z(_,Z,K,"","\\circeq",!0);z(_,Z,K,"","\\triangleq",!0);z(_,Z,K,"","\\thicksim");z(_,Z,K,"","\\thickapprox");z(_,Z,K,"","\\supseteqq",!0);z(_,Z,K,"","\\Supset",!0);z(_,Z,K,"","\\sqsupset",!0);z(_,Z,K,"","\\succcurlyeq",!0);z(_,Z,K,"","\\curlyeqsucc",!0);z(_,Z,K,"","\\succsim",!0);z(_,Z,K,"","\\succapprox",!0);z(_,Z,K,"","\\vartriangleright");z(_,Z,K,"","\\trianglerighteq");z(_,Z,K,"","\\Vdash",!0);z(_,Z,K,"","\\shortmid");z(_,Z,K,"","\\shortparallel");z(_,Z,K,"","\\between",!0);z(_,Z,K,"","\\pitchfork",!0);z(_,Z,K,"","\\varpropto");z(_,Z,K,"","\\blacktriangleleft");z(_,Z,K,"","\\therefore",!0);z(_,Z,K,"","\\backepsilon");z(_,Z,K,"","\\blacktriangleright");z(_,Z,K,"","\\because",!0);z(_,Z,K,"","\\llless");z(_,Z,K,"","\\gggtr");z(_,Z,Ie,"","\\lhd");z(_,Z,Ie,"","\\rhd");z(_,Z,K,"","\\eqsim",!0);z(_,F,K,"","\\Join");z(_,Z,K,"","\\Doteq",!0);z(_,Z,Ie,"","\\dotplus",!0);z(_,Z,Ie,"","\\smallsetminus");z(_,Z,Ie,"","\\Cap",!0);z(_,Z,Ie,"","\\Cup",!0);z(_,Z,Ie,"","\\doublebarwedge",!0);z(_,Z,Ie,"","\\boxminus",!0);z(_,Z,Ie,"","\\boxplus",!0);z(_,Z,Ie,"","\\divideontimes",!0);z(_,Z,Ie,"","\\ltimes",!0);z(_,Z,Ie,"","\\rtimes",!0);z(_,Z,Ie,"","\\leftthreetimes",!0);z(_,Z,Ie,"","\\rightthreetimes",!0);z(_,Z,Ie,"","\\curlywedge",!0);z(_,Z,Ie,"","\\curlyvee",!0);z(_,Z,Ie,"","\\circleddash",!0);z(_,Z,Ie,"","\\circledast",!0);z(_,Z,Ie,"","\\centerdot");z(_,Z,Ie,"","\\intercal",!0);z(_,Z,Ie,"","\\doublecap");z(_,Z,Ie,"","\\doublecup");z(_,Z,Ie,"","\\boxtimes",!0);z(_,Z,K,"","\\dashrightarrow",!0);z(_,Z,K,"","\\dashleftarrow",!0);z(_,Z,K,"","\\leftleftarrows",!0);z(_,Z,K,"","\\leftrightarrows",!0);z(_,Z,K,"","\\Lleftarrow",!0);z(_,Z,K,"","\\twoheadleftarrow",!0);z(_,Z,K,"","\\leftarrowtail",!0);z(_,Z,K,"","\\looparrowleft",!0);z(_,Z,K,"","\\leftrightharpoons",!0);z(_,Z,K,"","\\curvearrowleft",!0);z(_,Z,K,"","\\circlearrowleft",!0);z(_,Z,K,"","\\Lsh",!0);z(_,Z,K,"","\\upuparrows",!0);z(_,Z,K,"","\\upharpoonleft",!0);z(_,Z,K,"","\\downharpoonleft",!0);z(_,F,K,"","\\origof",!0);z(_,F,K,"","\\imageof",!0);z(_,Z,K,"","\\multimap",!0);z(_,Z,K,"","\\leftrightsquigarrow",!0);z(_,Z,K,"","\\rightrightarrows",!0);z(_,Z,K,"","\\rightleftarrows",!0);z(_,Z,K,"","\\twoheadrightarrow",!0);z(_,Z,K,"","\\rightarrowtail",!0);z(_,Z,K,"","\\looparrowright",!0);z(_,Z,K,"","\\curvearrowright",!0);z(_,Z,K,"","\\circlearrowright",!0);z(_,Z,K,"","\\Rsh",!0);z(_,Z,K,"","\\downdownarrows",!0);z(_,Z,K,"","\\upharpoonright",!0);z(_,Z,K,"","\\downharpoonright",!0);z(_,Z,K,"","\\rightsquigarrow",!0);z(_,Z,K,"","\\leadsto");z(_,Z,K,"","\\Rrightarrow",!0);z(_,Z,K,"","\\restriction");z(_,F,ie,"","`");z(_,F,ie,"$","\\$");z(ye,F,ie,"$","\\$");z(ye,F,ie,"$","\\textdollar");z(_,F,ie,"%","\\%");z(ye,F,ie,"%","\\%");z(_,F,ie,"_","\\_");z(ye,F,ie,"_","\\_");z(ye,F,ie,"_","\\textunderscore");z(_,F,ie,"","\\angle",!0);z(_,F,ie,"","\\infty",!0);z(_,F,ie,"","\\prime");z(_,F,ie,"","\\triangle");z(_,F,ie,"","\\Gamma",!0);z(_,F,ie,"","\\Delta",!0);z(_,F,ie,"","\\Theta",!0);z(_,F,ie,"","\\Lambda",!0);z(_,F,ie,"","\\Xi",!0);z(_,F,ie,"","\\Pi",!0);z(_,F,ie,"","\\Sigma",!0);z(_,F,ie,"","\\Upsilon",!0);z(_,F,ie,"","\\Phi",!0);z(_,F,ie,"","\\Psi",!0);z(_,F,ie,"","\\Omega",!0);z(_,F,ie,"A","");z(_,F,ie,"B","");z(_,F,ie,"E","");z(_,F,ie,"Z","");z(_,F,ie,"H","");z(_,F,ie,"I","");z(_,F,ie,"K","");z(_,F,ie,"M","");z(_,F,ie,"N","");z(_,F,ie,"O","");z(_,F,ie,"P","");z(_,F,ie,"T","");z(_,F,ie,"X","");z(_,F,ie,"","\\neg",!0);z(_,F,ie,"","\\lnot");z(_,F,ie,"","\\top");z(_,F,ie,"","\\bot");z(_,F,ie,"","\\emptyset");z(_,Z,ie,"","\\varnothing");z(_,F,Ge,"","\\alpha",!0);z(_,F,Ge,"","\\beta",!0);z(_,F,Ge,"","\\gamma",!0);z(_,F,Ge,"","\\delta",!0);z(_,F,Ge,"","\\epsilon",!0);z(_,F,Ge,"","\\zeta",!0);z(_,F,Ge,"","\\eta",!0);z(_,F,Ge,"","\\theta",!0);z(_,F,Ge,"","\\iota",!0);z(_,F,Ge,"","\\kappa",!0);z(_,F,Ge,"","\\lambda",!0);z(_,F,Ge,"","\\mu",!0);z(_,F,Ge,"","\\nu",!0);z(_,F,Ge,"","\\xi",!0);z(_,F,Ge,"","\\omicron",!0);z(_,F,Ge,"","\\pi",!0);z(_,F,Ge,"","\\rho",!0);z(_,F,Ge,"","\\sigma",!0);z(_,F,Ge,"","\\tau",!0);z(_,F,Ge,"","\\upsilon",!0);z(_,F,Ge,"","\\phi",!0);z(_,F,Ge,"","\\chi",!0);z(_,F,Ge,"","\\psi",!0);z(_,F,Ge,"","\\omega",!0);z(_,F,Ge,"","\\varepsilon",!0);z(_,F,Ge,"","\\vartheta",!0);z(_,F,Ge,"","\\varpi",!0);z(_,F,Ge,"","\\varrho",!0);z(_,F,Ge,"","\\varsigma",!0);z(_,F,Ge,"","\\varphi",!0);z(_,F,Ie,"","*",!0);z(_,F,Ie,"+","+");z(_,F,Ie,"","-",!0);z(_,F,Ie,"","\\cdot",!0);z(_,F,Ie,"","\\circ",!0);z(_,F,Ie,"","\\div",!0);z(_,F,Ie,"","\\pm",!0);z(_,F,Ie,"","\\times",!0);z(_,F,Ie,"","\\cap",!0);z(_,F,Ie,"","\\cup",!0);z(_,F,Ie,"","\\setminus",!0);z(_,F,Ie,"","\\land");z(_,F,Ie,"","\\lor");z(_,F,Ie,"","\\wedge",!0);z(_,F,Ie,"","\\vee",!0);z(_,F,ie,"","\\surd");z(_,F,Yi,"","\\langle",!0);z(_,F,Yi,"","\\lvert");z(_,F,Yi,"","\\lVert");z(_,F,ui,"?","?");z(_,F,ui,"!","!");z(_,F,ui,"","\\rangle",!0);z(_,F,ui,"","\\rvert");z(_,F,ui,"","\\rVert");z(_,F,K,"=","=");z(_,F,K,":",":");z(_,F,K,"","\\approx",!0);z(_,F,K,"","\\cong",!0);z(_,F,K,"","\\ge");z(_,F,K,"","\\geq",!0);z(_,F,K,"","\\gets");z(_,F,K,">","\\gt",!0);z(_,F,K,"","\\in",!0);z(_,F,K,"","\\@not");z(_,F,K,"","\\subset",!0);z(_,F,K,"","\\supset",!0);z(_,F,K,"","\\subseteq",!0);z(_,F,K,"","\\supseteq",!0);z(_,Z,K,"","\\nsubseteq",!0);z(_,Z,K,"","\\nsupseteq",!0);z(_,F,K,"","\\models");z(_,F,K,"","\\leftarrow",!0);z(_,F,K,"","\\le");z(_,F,K,"","\\leq",!0);z(_,F,K,"<","\\lt",!0);z(_,F,K,"","\\rightarrow",!0);z(_,F,K,"","\\to");z(_,Z,K,"","\\ngeq",!0);z(_,Z,K,"","\\nleq",!0);z(_,F,Kr,"","\\ ");z(_,F,Kr,"","\\space");z(_,F,Kr,"","\\nobreakspace");z(ye,F,Kr,"","\\ ");z(ye,F,Kr,""," ");z(ye,F,Kr,"","\\space");z(ye,F,Kr,"","\\nobreakspace");z(_,F,Kr,null,"\\nobreak");z(_,F,Kr,null,"\\allowbreak");z(_,F,ym,",",",");z(_,F,ym,";",";");z(_,Z,Ie,"","\\barwedge",!0);z(_,Z,Ie,"","\\veebar",!0);z(_,F,Ie,"","\\odot",!0);z(_,F,Ie,"","\\oplus",!0);z(_,F,Ie,"","\\otimes",!0);z(_,F,ie,"","\\partial",!0);z(_,F,Ie,"","\\oslash",!0);z(_,Z,Ie,"","\\circledcirc",!0);z(_,Z,Ie,"","\\boxdot",!0);z(_,F,Ie,"","\\bigtriangleup");z(_,F,Ie,"","\\bigtriangledown");z(_,F,Ie,"","\\dagger");z(_,F,Ie,"","\\diamond");z(_,F,Ie,"","\\star");z(_,F,Ie,"","\\triangleleft");z(_,F,Ie,"","\\triangleright");z(_,F,Yi,"{","\\{");z(ye,F,ie,"{","\\{");z(ye,F,ie,"{","\\textbraceleft");z(_,F,ui,"}","\\}");z(ye,F,ie,"}","\\}");z(ye,F,ie,"}","\\textbraceright");z(_,F,Yi,"{","\\lbrace");z(_,F,ui,"}","\\rbrace");z(_,F,Yi,"[","\\lbrack",!0);z(ye,F,ie,"[","\\lbrack",!0);z(_,F,ui,"]","\\rbrack",!0);z(ye,F,ie,"]","\\rbrack",!0);z(_,F,Yi,"(","\\lparen",!0);z(_,F,ui,")","\\rparen",!0);z(ye,F,ie,"<","\\textless",!0);z(ye,F,ie,">","\\textgreater",!0);z(_,F,Yi,"","\\lfloor",!0);z(_,F,ui,"","\\rfloor",!0);z(_,F,Yi,"","\\lceil",!0);z(_,F,ui,"","\\rceil",!0);z(_,F,ie,"\\","\\backslash");z(_,F,ie,"","|");z(_,F,ie,"","\\vert");z(ye,F,ie,"|","\\textbar",!0);z(_,F,ie,"","\\|");z(_,F,ie,"","\\Vert");z(ye,F,ie,"","\\textbardbl");z(ye,F,ie,"~","\\textasciitilde");z(ye,F,ie,"\\","\\textbackslash");z(ye,F,ie,"^","\\textasciicircum");z(_,F,K,"","\\uparrow",!0);z(_,F,K,"","\\Uparrow",!0);z(_,F,K,"","\\downarrow",!0);z(_,F,K,"","\\Downarrow",!0);z(_,F,K,"","\\updownarrow",!0);z(_,F,K,"","\\Updownarrow",!0);z(_,F,An,"","\\coprod");z(_,F,An,"","\\bigvee");z(_,F,An,"","\\bigwedge");z(_,F,An,"","\\biguplus");z(_,F,An,"","\\bigcap");z(_,F,An,"","\\bigcup");z(_,F,An,"","\\int");z(_,F,An,"","\\intop");z(_,F,An,"","\\iint");z(_,F,An,"","\\iiint");z(_,F,An,"","\\prod");z(_,F,An,"","\\sum");z(_,F,An,"","\\bigotimes");z(_,F,An,"","\\bigoplus");z(_,F,An,"","\\bigodot");z(_,F,An,"","\\oint");z(_,F,An,"","\\oiint");z(_,F,An,"","\\oiiint");z(_,F,An,"","\\bigsqcup");z(_,F,An,"","\\smallint");z(ye,F,zc,"","\\textellipsis");z(_,F,zc,"","\\mathellipsis");z(ye,F,zc,"","\\ldots",!0);z(_,F,zc,"","\\ldots",!0);z(_,F,zc,"","\\@cdots",!0);z(_,F,zc,"","\\ddots",!0);z(_,F,ie,"","\\varvdots");z(ye,F,ie,"","\\varvdots");z(_,F,Xt,"","\\acute");z(_,F,Xt,"","\\grave");z(_,F,Xt,"","\\ddot");z(_,F,Xt,"~","\\tilde");z(_,F,Xt,"","\\bar");z(_,F,Xt,"","\\breve");z(_,F,Xt,"","\\check");z(_,F,Xt,"^","\\hat");z(_,F,Xt,"","\\vec");z(_,F,Xt,"","\\dot");z(_,F,Xt,"","\\mathring");z(_,F,Ge,"","\\@imath");z(_,F,Ge,"","\\@jmath");z(_,F,ie,"","");z(_,F,ie,"","");z(ye,F,ie,"","\\i",!0);z(ye,F,ie,"","\\j",!0);z(ye,F,ie,"","\\ss",!0);z(ye,F,ie,"","\\ae",!0);z(ye,F,ie,"","\\oe",!0);z(ye,F,ie,"","\\o",!0);z(ye,F,ie,"","\\AE",!0);z(ye,F,ie,"","\\OE",!0);z(ye,F,ie,"","\\O",!0);z(ye,F,Xt,"","\\'");z(ye,F,Xt,"","\\`");z(ye,F,Xt,"","\\^");z(ye,F,Xt,"","\\~");z(ye,F,Xt,"","\\=");z(ye,F,Xt,"","\\u");z(ye,F,Xt,"","\\.");z(ye,F,Xt,"","\\c");z(ye,F,Xt,"","\\r");z(ye,F,Xt,"","\\v");z(ye,F,Xt,"",'\\"');z(ye,F,Xt,"","\\H");z(ye,F,Xt,"","\\textcircled");var kN={"--":!0,"---":!0,"``":!0,"''":!0};z(ye,F,ie,"","--",!0);z(ye,F,ie,"","\\textendash");z(ye,F,ie,"","---",!0);z(ye,F,ie,"","\\textemdash");z(ye,F,ie,"","`",!0);z(ye,F,ie,"","\\textquoteleft");z(ye,F,ie,"","'",!0);z(ye,F,ie,"","\\textquoteright");z(ye,F,ie,"","``",!0);z(ye,F,ie,"","\\textquotedblleft");z(ye,F,ie,"","''",!0);z(ye,F,ie,"","\\textquotedblright");z(_,F,ie,"","\\degree",!0);z(ye,F,ie,"","\\degree");z(ye,F,ie,"","\\textdegree",!0);z(_,F,ie,"","\\pounds");z(_,F,ie,"","\\mathsterling",!0);z(ye,F,ie,"","\\pounds");z(ye,F,ie,"","\\textsterling",!0);z(_,Z,ie,"","\\maltese");z(ye,Z,ie,"","\\maltese");var D6='0123456789/@."';for(var p1=0;p1<D6.length;p1++){var P6=D6.charAt(p1);z(_,F,ie,P6,P6)}var I6='0123456789!@*()-=+";:?/.,';for(var x1=0;x1<I6.length;x1++){var R6=I6.charAt(x1);z(ye,F,ie,R6,R6)}var Tf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var g1=0;g1<Tf.length;g1++){var Uu=Tf.charAt(g1);z(_,F,Ge,Uu,Uu),z(ye,F,ie,Uu,Uu)}z(_,Z,ie,"C","");z(ye,Z,ie,"C","");z(_,Z,ie,"H","");z(ye,Z,ie,"H","");z(_,Z,ie,"N","");z(ye,Z,ie,"N","");z(_,Z,ie,"P","");z(ye,Z,ie,"P","");z(_,Z,ie,"Q","");z(ye,Z,ie,"Q","");z(_,Z,ie,"R","");z(ye,Z,ie,"R","");z(_,Z,ie,"Z","");z(ye,Z,ie,"Z","");z(_,F,Ge,"h","");z(ye,F,Ge,"h","");var Qe="";for(var ei=0;ei<Tf.length;ei++){var an=Tf.charAt(ei);Qe=String.fromCharCode(55349,56320+ei),z(_,F,Ge,an,Qe),z(ye,F,ie,an,Qe),Qe=String.fromCharCode(55349,56372+ei),z(_,F,Ge,an,Qe),z(ye,F,ie,an,Qe),Qe=String.fromCharCode(55349,56424+ei),z(_,F,Ge,an,Qe),z(ye,F,ie,an,Qe),Qe=String.fromCharCode(55349,56580+ei),z(_,F,Ge,an,Qe),z(ye,F,ie,an,Qe),Qe=String.fromCharCode(55349,56684+ei),z(_,F,Ge,an,Qe),z(ye,F,ie,an,Qe),Qe=String.fromCharCode(55349,56736+ei),z(_,F,Ge,an,Qe),z(ye,F,ie,an,Qe),Qe=String.fromCharCode(55349,56788+ei),z(_,F,Ge,an,Qe),z(ye,F,ie,an,Qe),Qe=String.fromCharCode(55349,56840+ei),z(_,F,Ge,an,Qe),z(ye,F,ie,an,Qe),Qe=String.fromCharCode(55349,56944+ei),z(_,F,Ge,an,Qe),z(ye,F,ie,an,Qe),ei<26&&(Qe=String.fromCharCode(55349,56632+ei),z(_,F,Ge,an,Qe),z(ye,F,ie,an,Qe),Qe=String.fromCharCode(55349,56476+ei),z(_,F,Ge,an,Qe),z(ye,F,ie,an,Qe))}Qe="";z(_,F,Ge,"k",Qe);z(ye,F,ie,"k",Qe);for(var jl=0;jl<10;jl++){var da=jl.toString();Qe=String.fromCharCode(55349,57294+jl),z(_,F,Ge,da,Qe),z(ye,F,ie,da,Qe),Qe=String.fromCharCode(55349,57314+jl),z(_,F,Ge,da,Qe),z(ye,F,ie,da,Qe),Qe=String.fromCharCode(55349,57324+jl),z(_,F,Ge,da,Qe),z(ye,F,ie,da,Qe),Qe=String.fromCharCode(55349,57334+jl),z(_,F,Ge,da,Qe),z(ye,F,ie,da,Qe)}var N4="";for(var y1=0;y1<N4.length;y1++){var Hu=N4.charAt(y1);z(_,F,Ge,Hu,Hu),z(ye,F,ie,Hu,Hu)}var Vu=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],_6=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],bG=function(e,n){var s=e.charCodeAt(0),r=e.charCodeAt(1),a=(s-55296)*1024+(r-56320)+65536,l=n==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[Vu[o][2],Vu[o][l]]}else if(120782<=a&&a<=120831){var c=Math.floor((a-120782)/10);return[_6[c][2],_6[c][l]]}else{if(a===120485||a===120486)return[Vu[0][2],Vu[0][l]];if(120486<a&&a<120782)return["",""];throw new we("Unsupported character: "+e)}},bm=function(e,n,s){return _t[s][e]&&_t[s][e].replace&&(e=_t[s][e].replace),{value:e,metrics:Y2(e,n,s)}},Es=function(e,n,s,r,a){var l=bm(e,n,s),o=l.metrics;e=l.value;var c;if(o){var h=o.italic;(s==="text"||r&&r.font==="mathit")&&(h=0),c=new gs(e,o.height,o.depth,h,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+s+"'")),c=new gs(e,0,0,0,0,0,a);if(r){c.maxFontSize=r.sizeMultiplier,r.style.isTight()&&c.classes.push("mtight");var u=r.getColor();u&&(c.style.color=u)}return c},vG=function(e,n,s,r){return r===void 0&&(r=[]),s.font==="boldsymbol"&&bm(e,"Main-Bold",n).metrics?Es(e,"Main-Bold",n,s,r.concat(["mathbf"])):e==="\\"||_t[n][e].font==="main"?Es(e,"Main-Regular",n,s,r):Es(e,"AMS-Regular",n,s,r.concat(["amsrm"]))},jG=function(e,n,s,r,a){return a!=="textord"&&bm(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},wG=function(e,n,s){var r=e.mode,a=e.text,l=["mord"],o=r==="math"||r==="text"&&n.font,c=o?n.font:n.fontFamily,h="",u="";if(a.charCodeAt(0)===55349&&([h,u]=bG(a,r)),h.length>0)return Es(a,h,r,n,l.concat(u));if(c){var f,x;if(c==="boldsymbol"){var b=jG(a,r,n,l,s);f=b.fontName,x=[b.fontClass]}else o?(f=CN[c].fontName,x=[c]):(f=Gu(c,n.fontWeight,n.fontShape),x=[c,n.fontWeight,n.fontShape]);if(bm(a,f,r).metrics)return Es(a,f,r,n,l.concat(x));if(kN.hasOwnProperty(a)&&f.slice(0,10)==="Typewriter"){for(var M=[],y=0;y<a.length;y++)M.push(Es(a[y],f,r,n,l.concat(x)));return EN(M)}}if(s==="mathord")return Es(a,"Math-Italic",r,n,l.concat(["mathnormal"]));if(s==="textord"){var T=_t[r][a]&&_t[r][a].font;if(T==="ams"){var S=Gu("amsrm",n.fontWeight,n.fontShape);return Es(a,S,r,n,l.concat("amsrm",n.fontWeight,n.fontShape))}else if(T==="main"||!T){var N=Gu("textrm",n.fontWeight,n.fontShape);return Es(a,N,r,n,l.concat(n.fontWeight,n.fontShape))}else{var j=Gu(T,n.fontWeight,n.fontShape);return Es(a,j,r,n,l.concat(j,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+s+" in makeOrd")},TG=(t,e)=>{if(Qa(t.classes)!==Qa(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var s in t.style)if(t.style.hasOwnProperty(s)&&t.style[s]!==e.style[s])return!1;for(var r in e.style)if(e.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;return!0},SG=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],s=t[e+1];n instanceof gs&&s instanceof gs&&TG(n,s)&&(n.text+=s.text,n.height=Math.max(n.height,s.height),n.depth=Math.max(n.depth,s.depth),n.italic=s.italic,t.splice(e+1,1),e--)}return t},Z2=function(e){for(var n=0,s=0,r=0,a=0;a<e.children.length;a++){var l=e.children[a];l.height>n&&(n=l.height),l.depth>s&&(s=l.depth),l.maxFontSize>r&&(r=l.maxFontSize)}e.height=n,e.depth=s,e.maxFontSize=r},bi=function(e,n,s,r){var a=new Hh(e,n,s,r);return Z2(a),a},MN=(t,e,n,s)=>new Hh(t,e,n,s),NG=function(e,n,s){var r=bi([e],[],n);return r.height=Math.max(s||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),r.style.borderBottomWidth=Me(r.height),r.maxFontSize=1,r},AG=function(e,n,s,r){var a=new X2(e,n,s,r);return Z2(a),a},EN=function(e){var n=new Uh(e);return Z2(n),n},kG=function(e,n){return e instanceof Uh?bi([],[e],n):e},MG=function(e){if(e.positionType==="individualShift"){for(var n=e.children,s=[n[0]],r=-n[0].shift-n[0].elem.depth,a=r,l=1;l<n.length;l++){var o=-n[l].shift-a-n[l].elem.depth,c=o-(n[l-1].elem.height+n[l-1].elem.depth);a=a+o,s.push({type:"kern",size:c}),s.push(n[l])}return{children:s,depth:r}}var h;if(e.positionType==="top"){for(var u=e.positionData,f=0;f<e.children.length;f++){var x=e.children[f];u-=x.type==="kern"?x.size:x.elem.height+x.elem.depth}h=u}else if(e.positionType==="bottom")h=-e.positionData;else{var b=e.children[0];if(b.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")h=-b.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")h=-b.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:h}},EG=function(e,n){for(var{children:s,depth:r}=MG(e),a=0,l=0;l<s.length;l++){var o=s[l];if(o.type==="elem"){var c=o.elem;a=Math.max(a,c.maxFontSize,c.height)}}a+=2;var h=bi(["pstrut"],[]);h.style.height=Me(a);for(var u=[],f=r,x=r,b=r,M=0;M<s.length;M++){var y=s[M];if(y.type==="kern")b+=y.size;else{var T=y.elem,S=y.wrapperClasses||[],N=y.wrapperStyle||{},j=bi(S,[h,T],void 0,N);j.style.top=Me(-a-b-T.depth),y.marginLeft&&(j.style.marginLeft=y.marginLeft),y.marginRight&&(j.style.marginRight=y.marginRight),u.push(j),b+=T.height+T.depth}f=Math.min(f,b),x=Math.max(x,b)}var m=bi(["vlist"],u);m.style.height=Me(x);var g;if(f<0){var E=bi([],[]),v=bi(["vlist"],[E]);v.style.height=Me(-f);var p=bi(["vlist-s"],[new gs("")]);g=[bi(["vlist-r"],[m,p]),bi(["vlist-r"],[v])]}else g=[bi(["vlist-r"],[m])];var A=bi(["vlist-t"],g);return g.length===2&&A.classes.push("vlist-t2"),A.height=x,A.depth=-f,A},CG=(t,e)=>{var n=bi(["mspace"],[],e),s=tn(t,e);return n.style.marginRight=Me(s),n},Gu=function(e,n,s){var r="";switch(e){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=e}var a;return n==="textbf"&&s==="textit"?a="BoldItalic":n==="textbf"?a="Bold":n==="textit"?a="Italic":a="Regular",r+"-"+a},CN={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},zN={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},zG=function(e,n){var[s,r,a]=zN[e],l=new Ka(s),o=new Wr([l],{width:Me(r),height:Me(a),style:"width:"+Me(r),viewBox:"0 0 "+1e3*r+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),c=MN(["overlay"],[o],n);return c.height=a,c.style.height=Me(a),c.style.width=Me(r),c},ce={fontMap:CN,makeSymbol:Es,mathsym:vG,makeSpan:bi,makeSvgSpan:MN,makeLineSpan:NG,makeAnchor:AG,makeFragment:EN,wrapFragment:kG,makeVList:EG,makeOrd:wG,makeGlue:CG,staticSvg:zG,svgData:zN,tryCombineChars:SG},Jt={number:3,unit:"mu"},wl={number:4,unit:"mu"},jr={number:5,unit:"mu"},DG={mord:{mop:Jt,mbin:wl,mrel:jr,minner:Jt},mop:{mord:Jt,mop:Jt,mrel:jr,minner:Jt},mbin:{mord:wl,mop:wl,mopen:wl,minner:wl},mrel:{mord:jr,mop:jr,mopen:jr,minner:jr},mopen:{},mclose:{mop:Jt,mbin:wl,mrel:jr,minner:Jt},mpunct:{mord:Jt,mop:Jt,mrel:jr,mopen:Jt,mclose:Jt,mpunct:Jt,minner:Jt},minner:{mord:Jt,mop:Jt,mbin:wl,mrel:jr,mopen:Jt,mpunct:Jt,minner:Jt}},PG={mord:{mop:Jt},mop:{mord:Jt,mop:Jt},mbin:{},mrel:{},mopen:{},mclose:{mop:Jt},mpunct:{},minner:{mop:Jt}},DN={},Sf={},Nf={};function De(t){for(var{type:e,names:n,props:s,handler:r,htmlBuilder:a,mathmlBuilder:l}=t,o={type:e,numArgs:s.numArgs,argTypes:s.argTypes,allowedInArgument:!!s.allowedInArgument,allowedInText:!!s.allowedInText,allowedInMath:s.allowedInMath===void 0?!0:s.allowedInMath,numOptionalArgs:s.numOptionalArgs||0,infix:!!s.infix,primitive:!!s.primitive,handler:r},c=0;c<n.length;++c)DN[n[c]]=o;e&&(a&&(Sf[e]=a),l&&(Nf[e]=l))}function ro(t){var{type:e,htmlBuilder:n,mathmlBuilder:s}=t;De({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:s})}var Af=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},gn=function(e){return e.type==="ordgroup"?e.body:[e]},Yr=ce.makeSpan,IG=["leftmost","mbin","mopen","mrel","mop","mpunct"],RG=["rightmost","mrel","mclose","mpunct"],_G={display:Ye.DISPLAY,text:Ye.TEXT,script:Ye.SCRIPT,scriptscript:Ye.SCRIPTSCRIPT},qG={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Rn=function(e,n,s,r){r===void 0&&(r=[null,null]);for(var a=[],l=0;l<e.length;l++){var o=mt(e[l],n);if(o instanceof Uh){var c=o.children;a.push(...c)}else a.push(o)}if(ce.tryCombineChars(a),!s)return a;var h=n;if(e.length===1){var u=e[0];u.type==="sizing"?h=n.havingSize(u.size):u.type==="styling"&&(h=n.havingStyle(_G[u.style]))}var f=Yr([r[0]||"leftmost"],[],n),x=Yr([r[1]||"rightmost"],[],n),b=s==="root";return q6(a,(M,y)=>{var T=y.classes[0],S=M.classes[0];T==="mbin"&&RG.includes(S)?y.classes[0]="mord":S==="mbin"&&IG.includes(T)&&(M.classes[0]="mord")},{node:f},x,b),q6(a,(M,y)=>{var T=A4(y),S=A4(M),N=T&&S?M.hasClass("mtight")?PG[T][S]:DG[T][S]:null;if(N)return ce.makeGlue(N,h)},{node:f},x,b),a},q6=function t(e,n,s,r,a){r&&e.push(r);for(var l=0;l<e.length;l++){var o=e[l],c=PN(o);if(c){t(c.children,n,s,null,a);continue}var h=!o.hasClass("mspace");if(h){var u=n(o,s.node);u&&(s.insertAfter?s.insertAfter(u):(e.unshift(u),l++))}h?s.node=o:a&&o.hasClass("newline")&&(s.node=Yr(["leftmost"])),s.insertAfter=(f=>x=>{e.splice(f+1,0,x),l++})(l)}r&&e.pop()},PN=function(e){return e instanceof Uh||e instanceof X2||e instanceof Hh&&e.hasClass("enclosing")?e:null},OG=function t(e,n){var s=PN(e);if(s){var r=s.children;if(r.length){if(n==="right")return t(r[r.length-1],"right");if(n==="left")return t(r[0],"left")}}return e},A4=function(e,n){return e?(n&&(e=OG(e,n)),qG[e.classes[0]]||null):null},yh=function(e,n){var s=["nulldelimiter"].concat(e.baseSizingClasses());return Yr(n.concat(s))},mt=function(e,n,s){if(!e)return Yr();if(Sf[e.type]){var r=Sf[e.type](e,n);if(s&&n.size!==s.size){r=Yr(n.sizingClasses(s),[r],n);var a=n.sizeMultiplier/s.sizeMultiplier;r.height*=a,r.depth*=a}return r}else throw new we("Got group of unknown type: '"+e.type+"'")};function Wu(t,e){var n=Yr(["base"],t,e),s=Yr(["strut"]);return s.style.height=Me(n.height+n.depth),n.depth&&(s.style.verticalAlign=Me(-n.depth)),n.children.unshift(s),n}function k4(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var s=Rn(t,e,"root"),r;s.length===2&&s[1].hasClass("tag")&&(r=s.pop());for(var a=[],l=[],o=0;o<s.length;o++)if(l.push(s[o]),s[o].hasClass("mbin")||s[o].hasClass("mrel")||s[o].hasClass("allowbreak")){for(var c=!1;o<s.length-1&&s[o+1].hasClass("mspace")&&!s[o+1].hasClass("newline");)o++,l.push(s[o]),s[o].hasClass("nobreak")&&(c=!0);c||(a.push(Wu(l,e)),l=[])}else s[o].hasClass("newline")&&(l.pop(),l.length>0&&(a.push(Wu(l,e)),l=[]),a.push(s[o]));l.length>0&&a.push(Wu(l,e));var h;n?(h=Wu(Rn(n,e,!0)),h.classes=["tag"],a.push(h)):r&&a.push(r);var u=Yr(["katex-html"],a);if(u.setAttribute("aria-hidden","true"),h){var f=h.children[0];f.style.height=Me(u.height+u.depth),u.depth&&(f.style.verticalAlign=Me(-u.depth))}return u}function IN(t){return new Uh(t)}class Oi{constructor(e,n,s){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=s||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Qa(this.classes));for(var s=0;s<this.children.length;s++)if(this.children[s]instanceof Ws&&this.children[s+1]instanceof Ws){for(var r=this.children[s].toText()+this.children[++s].toText();this.children[s+1]instanceof Ws;)r+=this.children[++s].toText();e.appendChild(new Ws(r).toNode())}else e.appendChild(this.children[s].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=gt.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+gt.escape(Qa(this.classes))+'"'),e+=">";for(var s=0;s<this.children.length;s++)e+=this.children[s].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Ws{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return gt.escape(this.toText())}toText(){return this.text}}class BG{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Me(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Me(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ve={MathNode:Oi,TextNode:Ws,SpaceNode:BG,newDocumentFragment:IN},ys=function(e,n,s){return _t[n][e]&&_t[n][e].replace&&e.charCodeAt(0)!==55349&&!(kN.hasOwnProperty(e)&&s&&(s.fontFamily&&s.fontFamily.slice(4,6)==="tt"||s.font&&s.font.slice(4,6)==="tt"))&&(e=_t[n][e].replace),new ve.TextNode(e)},Q2=function(e){return e.length===1?e[0]:new ve.MathNode("mrow",e)},K2=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var s=n.font;if(!s||s==="mathnormal")return null;var r=e.mode;if(s==="mathit")return"italic";if(s==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(s==="mathbf")return"bold";if(s==="mathbb")return"double-struck";if(s==="mathsfit")return"sans-serif-italic";if(s==="mathfrak")return"fraktur";if(s==="mathscr"||s==="mathcal")return"script";if(s==="mathsf")return"sans-serif";if(s==="mathtt")return"monospace";var a=e.text;if(["\\imath","\\jmath"].includes(a))return null;_t[r][a]&&_t[r][a].replace&&(a=_t[r][a].replace);var l=ce.fontMap[s].fontName;return Y2(a,l,r)?ce.fontMap[s].variant:null};function b1(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof Ws&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof Ws&&n.text===","}else return!1}var Ci=function(e,n,s){if(e.length===1){var r=zt(e[0],n);return s&&r instanceof Oi&&r.type==="mo"&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var a=[],l,o=0;o<e.length;o++){var c=zt(e[o],n);if(c instanceof Oi&&l instanceof Oi){if(c.type==="mtext"&&l.type==="mtext"&&c.getAttribute("mathvariant")===l.getAttribute("mathvariant")){l.children.push(...c.children);continue}else if(c.type==="mn"&&l.type==="mn"){l.children.push(...c.children);continue}else if(b1(c)&&l.type==="mn"){l.children.push(...c.children);continue}else if(c.type==="mn"&&b1(l))c.children=[...l.children,...c.children],a.pop();else if((c.type==="msup"||c.type==="msub")&&c.children.length>=1&&(l.type==="mn"||b1(l))){var h=c.children[0];h instanceof Oi&&h.type==="mn"&&(h.children=[...l.children,...h.children],a.pop())}else if(l.type==="mi"&&l.children.length===1){var u=l.children[0];if(u instanceof Ws&&u.text===""&&(c.type==="mo"||c.type==="mi"||c.type==="mn")){var f=c.children[0];f instanceof Ws&&f.text.length>0&&(f.text=f.text.slice(0,1)+""+f.text.slice(1),a.pop())}}}a.push(c),l=c}return a},Ja=function(e,n,s){return Q2(Ci(e,n,s))},zt=function(e,n){if(!e)return new ve.MathNode("mrow");if(Nf[e.type]){var s=Nf[e.type](e,n);return s}else throw new we("Got group of unknown type: '"+e.type+"'")};function O6(t,e,n,s,r){var a=Ci(t,n),l;a.length===1&&a[0]instanceof Oi&&["mrow","mtable"].includes(a[0].type)?l=a[0]:l=new ve.MathNode("mrow",a);var o=new ve.MathNode("annotation",[new ve.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var c=new ve.MathNode("semantics",[l,o]),h=new ve.MathNode("math",[c]);h.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),s&&h.setAttribute("display","block");var u=r?"katex":"katex-mathml";return ce.makeSpan([u],[h])}var RN=function(e){return new Sr({style:e.displayMode?Ye.DISPLAY:Ye.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},_N=function(e,n){if(n.displayMode){var s=["katex-display"];n.leqno&&s.push("leqno"),n.fleqn&&s.push("fleqn"),e=ce.makeSpan(s,[e])}return e},$G=function(e,n,s){var r=RN(s),a;if(s.output==="mathml")return O6(e,n,r,s.displayMode,!0);if(s.output==="html"){var l=k4(e,r);a=ce.makeSpan(["katex"],[l])}else{var o=O6(e,n,r,s.displayMode,!1),c=k4(e,r);a=ce.makeSpan(["katex"],[o,c])}return _N(a,s)},LG=function(e,n,s){var r=RN(s),a=k4(e,r),l=ce.makeSpan(["katex"],[a]);return _N(l,s)},FG={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},UG=function(e){var n=new ve.MathNode("mo",[new ve.TextNode(FG[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},HG={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},VG=function(e){return e.type==="ordgroup"?e.body.length:1},GG=function(e,n){function s(){var o=4e5,c=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(c)){var h=e,u=VG(h.base),f,x,b;if(u>5)c==="widehat"||c==="widecheck"?(f=420,o=2364,b=.42,x=c+"4"):(f=312,o=2340,b=.34,x="tilde4");else{var M=[1,1,2,2,3,3][u];c==="widehat"||c==="widecheck"?(o=[0,1062,2364,2364,2364][M],f=[0,239,300,360,420][M],b=[0,.24,.3,.3,.36,.42][M],x=c+M):(o=[0,600,1033,2339,2340][M],f=[0,260,286,306,312][M],b=[0,.26,.286,.3,.306,.34][M],x="tilde"+M)}var y=new Ka(x),T=new Wr([y],{width:"100%",height:Me(b),viewBox:"0 0 "+o+" "+f,preserveAspectRatio:"none"});return{span:ce.makeSvgSpan([],[T],n),minWidth:0,height:b}}else{var S=[],N=HG[c],[j,m,g]=N,E=g/1e3,v=j.length,p,A;if(v===1){var w=N[3];p=["hide-tail"],A=[w]}else if(v===2)p=["halfarrow-left","halfarrow-right"],A=["xMinYMin","xMaxYMin"];else if(v===3)p=["brace-left","brace-center","brace-right"],A=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+v+" children.");for(var k=0;k<v;k++){var D=new Ka(j[k]),I=new Wr([D],{width:"400em",height:Me(E),viewBox:"0 0 "+o+" "+g,preserveAspectRatio:A[k]+" slice"}),$=ce.makeSvgSpan([p[k]],[I],n);if(v===1)return{span:$,minWidth:m,height:E};$.style.height=Me(E),S.push($)}return{span:ce.makeSpan(["stretchy"],S,n),minWidth:m,height:E}}}var{span:r,minWidth:a,height:l}=s();return r.height=l,r.style.height=Me(l),a>0&&(r.style.minWidth=Me(a)),r},WG=function(e,n,s,r,a){var l,o=e.height+e.depth+s+r;if(/fbox|color|angl/.test(n)){if(l=ce.makeSpan(["stretchy",n],[],a),n==="fbox"){var c=a.color&&a.getColor();c&&(l.style.borderColor=c)}}else{var h=[];/^[bx]cancel$/.test(n)&&h.push(new S4({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&h.push(new S4({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var u=new Wr(h,{width:"100%",height:Me(o)});l=ce.makeSvgSpan([],[u],a)}return l.height=o,l.style.height=Me(o),l},Xr={encloseSpan:WG,mathMLnode:UG,svgSpan:GG};function rt(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function J2(t){var e=vm(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function vm(t){return t&&(t.type==="atom"||yG.hasOwnProperty(t.type))?t:null}var ey=(t,e)=>{var n,s,r;t&&t.type==="supsub"?(s=rt(t.base,"accent"),n=s.base,t.base=n,r=xG(mt(t,e)),t.base=s):(s=rt(t,"accent"),n=s.base);var a=mt(n,e.havingCrampedStyle()),l=s.isShifty&&gt.isCharacterBox(n),o=0;if(l){var c=gt.getBaseElem(n),h=mt(c,e.havingCrampedStyle());o=z6(h).skew}var u=s.label==="\\c",f=u?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),x;if(s.isStretchy)x=Xr.svgSpan(s,e),x=ce.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:x,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+Me(2*o)+")",marginLeft:Me(2*o)}:void 0}]},e);else{var b,M;s.label==="\\vec"?(b=ce.staticSvg("vec",e),M=ce.svgData.vec[1]):(b=ce.makeOrd({mode:s.mode,text:s.label},e,"textord"),b=z6(b),b.italic=0,M=b.width,u&&(f+=b.depth)),x=ce.makeSpan(["accent-body"],[b]);var y=s.label==="\\textcircled";y&&(x.classes.push("accent-full"),f=a.height);var T=o;y||(T-=M/2),x.style.left=Me(T),s.label==="\\textcircled"&&(x.style.top=".2em"),x=ce.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-f},{type:"elem",elem:x}]},e)}var S=ce.makeSpan(["mord","accent"],[x],e);return r?(r.children[0]=S,r.height=Math.max(S.height,r.height),r.classes[0]="mord",r):S},qN=(t,e)=>{var n=t.isStretchy?Xr.mathMLnode(t.label):new ve.MathNode("mo",[ys(t.label,t.mode)]),s=new ve.MathNode("mover",[zt(t.base,e),n]);return s.setAttribute("accent","true"),s},YG=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));De({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=Af(e[0]),s=!YG.test(t.funcName),r=!s||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:s,isShifty:r,base:n}},htmlBuilder:ey,mathmlBuilder:qN});De({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],s=t.parser.mode;return s==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),s="text"),{type:"accent",mode:s,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:ey,mathmlBuilder:qN});De({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0];return{type:"accentUnder",mode:n.mode,label:s,base:r}},htmlBuilder:(t,e)=>{var n=mt(t.base,e),s=Xr.svgSpan(t,e),r=t.label==="\\utilde"?.12:0,a=ce.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:s,wrapperClasses:["svg-align"]},{type:"kern",size:r},{type:"elem",elem:n}]},e);return ce.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(t,e)=>{var n=Xr.mathMLnode(t.label),s=new ve.MathNode("munder",[zt(t.base,e),n]);return s.setAttribute("accentunder","true"),s}});var Yu=t=>{var e=new ve.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};De({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:s,funcName:r}=t;return{type:"xArrow",mode:s.mode,label:r,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,s=e.havingStyle(n.sup()),r=ce.wrapFragment(mt(t.body,s,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";r.classes.push(a+"-arrow-pad");var l;t.below&&(s=e.havingStyle(n.sub()),l=ce.wrapFragment(mt(t.below,s,e),e),l.classes.push(a+"-arrow-pad"));var o=Xr.svgSpan(t,e),c=-e.fontMetrics().axisHeight+.5*o.height,h=-e.fontMetrics().axisHeight-.5*o.height-.111;(r.depth>.25||t.label==="\\xleftequilibrium")&&(h-=r.depth);var u;if(l){var f=-e.fontMetrics().axisHeight+l.height+.5*o.height+.111;u=ce.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:h},{type:"elem",elem:o,shift:c},{type:"elem",elem:l,shift:f}]},e)}else u=ce.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:h},{type:"elem",elem:o,shift:c}]},e);return u.children[0].children[0].children[1].classes.push("svg-align"),ce.makeSpan(["mrel","x-arrow"],[u],e)},mathmlBuilder(t,e){var n=Xr.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var s;if(t.body){var r=Yu(zt(t.body,e));if(t.below){var a=Yu(zt(t.below,e));s=new ve.MathNode("munderover",[n,a,r])}else s=new ve.MathNode("mover",[n,r])}else if(t.below){var l=Yu(zt(t.below,e));s=new ve.MathNode("munder",[n,l])}else s=Yu(),s=new ve.MathNode("mover",[n,s]);return s}});var XG=ce.makeSpan;function ON(t,e){var n=Rn(t.body,e,!0);return XG([t.mclass],n,e)}function BN(t,e){var n,s=Ci(t.body,e);return t.mclass==="minner"?n=new ve.MathNode("mpadded",s):t.mclass==="mord"?t.isCharacterBox?(n=s[0],n.type="mi"):n=new ve.MathNode("mi",s):(t.isCharacterBox?(n=s[0],n.type="mo"):n=new ve.MathNode("mo",s),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}De({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:s}=t,r=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+s.slice(5),body:gn(r),isCharacterBox:gt.isCharacterBox(r)}},htmlBuilder:ON,mathmlBuilder:BN});var jm=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};De({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:jm(e[0]),body:gn(e[1]),isCharacterBox:gt.isCharacterBox(e[1])}}});De({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:s}=t,r=e[1],a=e[0],l;s!=="\\stackrel"?l=jm(r):l="mrel";var o={type:"op",mode:r.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:s!=="\\stackrel",body:gn(r)},c={type:"supsub",mode:a.mode,base:o,sup:s==="\\underset"?null:a,sub:s==="\\underset"?a:null};return{type:"mclass",mode:n.mode,mclass:l,body:[c],isCharacterBox:gt.isCharacterBox(c)}},htmlBuilder:ON,mathmlBuilder:BN});De({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:jm(e[0]),body:gn(e[0])}},htmlBuilder(t,e){var n=Rn(t.body,e,!0),s=ce.makeSpan([t.mclass],n,e);return s.style.textShadow="0.02em 0.01em 0.04px",s},mathmlBuilder(t,e){var n=Ci(t.body,e),s=new ve.MathNode("mstyle",n);return s.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),s}});var ZG={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},B6=()=>({type:"styling",body:[],mode:"math",style:"display"}),$6=t=>t.type==="textord"&&t.text==="@",QG=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function KG(t,e,n){var s=ZG[t];switch(s){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(s,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var r=n.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:s,mode:"math",family:"rel"},l=n.callFunction("\\Big",[a],[]),o=n.callFunction("\\\\cdright",[e[1]],[]),c={type:"ordgroup",mode:"math",body:[r,l,o]};return n.callFunction("\\\\cdparent",[c],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var h={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[h],[])}default:return{type:"textord",text:" ",mode:"math"}}}function JG(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new we("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var s=[],r=[s],a=0;a<e.length;a++){for(var l=e[a],o=B6(),c=0;c<l.length;c++)if(!$6(l[c]))o.body.push(l[c]);else{s.push(o),c+=1;var h=J2(l[c]).text,u=new Array(2);if(u[0]={type:"ordgroup",mode:"math",body:[]},u[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(h)>-1))if("<>AV".indexOf(h)>-1)for(var f=0;f<2;f++){for(var x=!0,b=c+1;b<l.length;b++){if(QG(l[b],h)){x=!1,c=b;break}if($6(l[b]))throw new we("Missing a "+h+" character to complete a CD arrow.",l[b]);u[f].body.push(l[b])}if(x)throw new we("Missing a "+h+" character to complete a CD arrow.",l[c])}else throw new we('Expected one of "<>AV=|." after @',l[c]);var M=KG(h,u,t),y={type:"styling",body:[M],mode:"math",style:"display"};s.push(y),o=B6()}a%2===0?s.push(o):s.shift(),s=[],r.push(s)}t.gullet.endGroup(),t.gullet.endGroup();var T=new Array(r[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:r,arraystretch:1,addJot:!0,rowGaps:[null],cols:T,colSeparationType:"CD",hLinesBeforeRow:new Array(r.length+1).fill([])}}De({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:s}=t;return{type:"cdlabel",mode:n.mode,side:s.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),s=ce.wrapFragment(mt(t.label,n,e),e);return s.classes.push("cd-label-"+t.side),s.style.bottom=Me(.8-s.depth),s.height=0,s.depth=0,s},mathmlBuilder(t,e){var n=new ve.MathNode("mrow",[zt(t.label,e)]);return n=new ve.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new ve.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});De({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=ce.wrapFragment(mt(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new ve.MathNode("mrow",[zt(t.fragment,e)])}});De({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,s=rt(e[0],"ordgroup"),r=s.body,a="",l=0;l<r.length;l++){var o=rt(r[l],"textord");a+=o.text}var c=parseInt(a),h;if(isNaN(c))throw new we("\\@char has non-numeric argument "+a);if(c<0||c>=1114111)throw new we("\\@char with invalid code point "+a);return c<=65535?h=String.fromCharCode(c):(c-=65536,h=String.fromCharCode((c>>10)+55296,(c&1023)+56320)),{type:"textord",mode:n.mode,text:h}}});var $N=(t,e)=>{var n=Rn(t.body,e.withColor(t.color),!1);return ce.makeFragment(n)},LN=(t,e)=>{var n=Ci(t.body,e.withColor(t.color)),s=new ve.MathNode("mstyle",n);return s.setAttribute("mathcolor",t.color),s};De({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,s=rt(e[0],"color-token").color,r=e[1];return{type:"color",mode:n.mode,color:s,body:gn(r)}},htmlBuilder:$N,mathmlBuilder:LN});De({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:s}=t,r=rt(e[0],"color-token").color;n.gullet.macros.set("\\current@color",r);var a=n.parseExpression(!0,s);return{type:"color",mode:n.mode,color:r,body:a}},htmlBuilder:$N,mathmlBuilder:LN});De({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:s}=t,r=s.gullet.future().text==="["?s.parseSizeGroup(!0):null,a=!s.settings.displayMode||!s.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:s.mode,newLine:a,size:r&&rt(r,"size").value}},htmlBuilder(t,e){var n=ce.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=Me(tn(t.size,e)))),n},mathmlBuilder(t,e){var n=new ve.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",Me(tn(t.size,e)))),n}});var M4={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},FN=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new we("Expected a control sequence",t);return e},eW=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},UN=(t,e,n,s)=>{var r=t.gullet.macros.get(n.text);r==null&&(n.noexpand=!0,r={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,r,s)};De({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var s=e.fetch();if(M4[s.text])return(n==="\\global"||n==="\\\\globallong")&&(s.text=M4[s.text]),rt(e.parseFunction(),"internal");throw new we("Invalid token after macro prefix",s)}});De({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,s=e.gullet.popToken(),r=s.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(r))throw new we("Expected a control sequence",s);for(var a=0,l,o=[[]];e.gullet.future().text!=="{";)if(s=e.gullet.popToken(),s.text==="#"){if(e.gullet.future().text==="{"){l=e.gullet.future(),o[a].push("{");break}if(s=e.gullet.popToken(),!/^[1-9]$/.test(s.text))throw new we('Invalid argument number "'+s.text+'"');if(parseInt(s.text)!==a+1)throw new we('Argument number "'+s.text+'" out of order');a++,o.push([])}else{if(s.text==="EOF")throw new we("Expected a macro definition");o[a].push(s.text)}var{tokens:c}=e.gullet.consumeArg();return l&&c.unshift(l),(n==="\\edef"||n==="\\xdef")&&(c=e.gullet.expandTokens(c),c.reverse()),e.gullet.macros.set(r,{tokens:c,numArgs:a,delimiters:o},n===M4[n]),{type:"internal",mode:e.mode}}});De({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,s=FN(e.gullet.popToken());e.gullet.consumeSpaces();var r=eW(e);return UN(e,s,r,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});De({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,s=FN(e.gullet.popToken()),r=e.gullet.popToken(),a=e.gullet.popToken();return UN(e,s,a,n==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(r),{type:"internal",mode:e.mode}}});var b0=function(e,n,s){var r=_t.math[e]&&_t.math[e].replace,a=Y2(r||e,n,s);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return a},ty=function(e,n,s,r){var a=s.havingBaseStyle(n),l=ce.makeSpan(r.concat(a.sizingClasses(s)),[e],s),o=a.sizeMultiplier/s.sizeMultiplier;return l.height*=o,l.depth*=o,l.maxFontSize=a.sizeMultiplier,l},HN=function(e,n,s){var r=n.havingBaseStyle(s),a=(1-n.sizeMultiplier/r.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Me(a),e.height-=a,e.depth+=a},tW=function(e,n,s,r,a,l){var o=ce.makeSymbol(e,"Main-Regular",a,r),c=ty(o,n,r,l);return s&&HN(c,r,n),c},nW=function(e,n,s,r){return ce.makeSymbol(e,"Size"+n+"-Regular",s,r)},VN=function(e,n,s,r,a,l){var o=nW(e,n,a,r),c=ty(ce.makeSpan(["delimsizing","size"+n],[o],r),Ye.TEXT,r,l);return s&&HN(c,r,Ye.TEXT),c},v1=function(e,n,s){var r;n==="Size1-Regular"?r="delim-size1":r="delim-size4";var a=ce.makeSpan(["delimsizinginner",r],[ce.makeSpan([],[ce.makeSymbol(e,n,s)])]);return{type:"elem",elem:a}},j1=function(e,n,s){var r=Gs["Size4-Regular"][e.charCodeAt(0)]?Gs["Size4-Regular"][e.charCodeAt(0)][4]:Gs["Size1-Regular"][e.charCodeAt(0)][4],a=new Ka("inner",lG(e,Math.round(1e3*n))),l=new Wr([a],{width:Me(r),height:Me(n),style:"width:"+Me(r),viewBox:"0 0 "+1e3*r+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),o=ce.makeSvgSpan([],[l],s);return o.height=n,o.style.height=Me(n),o.style.width=Me(r),{type:"elem",elem:o}},E4=.008,Xu={type:"kern",size:-1*E4},iW=["|","\\lvert","\\rvert","\\vert"],sW=["\\|","\\lVert","\\rVert","\\Vert"],GN=function(e,n,s,r,a,l){var o,c,h,u,f="",x=0;o=h=u=e,c=null;var b="Size1-Regular";e==="\\uparrow"?h=u="":e==="\\Uparrow"?h=u="":e==="\\downarrow"?o=h="":e==="\\Downarrow"?o=h="":e==="\\updownarrow"?(o="\\uparrow",h="",u="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",h="",u="\\Downarrow"):iW.includes(e)?(h="",f="vert",x=333):sW.includes(e)?(h="",f="doublevert",x=556):e==="["||e==="\\lbrack"?(o="",h="",u="",b="Size4-Regular",f="lbrack",x=667):e==="]"||e==="\\rbrack"?(o="",h="",u="",b="Size4-Regular",f="rbrack",x=667):e==="\\lfloor"||e===""?(h=o="",u="",b="Size4-Regular",f="lfloor",x=667):e==="\\lceil"||e===""?(o="",h=u="",b="Size4-Regular",f="lceil",x=667):e==="\\rfloor"||e===""?(h=o="",u="",b="Size4-Regular",f="rfloor",x=667):e==="\\rceil"||e===""?(o="",h=u="",b="Size4-Regular",f="rceil",x=667):e==="("||e==="\\lparen"?(o="",h="",u="",b="Size4-Regular",f="lparen",x=875):e===")"||e==="\\rparen"?(o="",h="",u="",b="Size4-Regular",f="rparen",x=875):e==="\\{"||e==="\\lbrace"?(o="",c="",u="",h="",b="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="",c="",u="",h="",b="Size4-Regular"):e==="\\lgroup"||e===""?(o="",u="",h="",b="Size4-Regular"):e==="\\rgroup"||e===""?(o="",u="",h="",b="Size4-Regular"):e==="\\lmoustache"||e===""?(o="",u="",h="",b="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(o="",u="",h="",b="Size4-Regular");var M=b0(o,b,a),y=M.height+M.depth,T=b0(h,b,a),S=T.height+T.depth,N=b0(u,b,a),j=N.height+N.depth,m=0,g=1;if(c!==null){var E=b0(c,b,a);m=E.height+E.depth,g=2}var v=y+j+m,p=Math.max(0,Math.ceil((n-v)/(g*S))),A=v+p*g*S,w=r.fontMetrics().axisHeight;s&&(w*=r.sizeMultiplier);var k=A/2-w,D=[];if(f.length>0){var I=A-y-j,$=Math.round(A*1e3),B=oG(f,Math.round(I*1e3)),G=new Ka(f,B),V=(x/1e3).toFixed(3)+"em",J=($/1e3).toFixed(3)+"em",ee=new Wr([G],{width:V,height:J,viewBox:"0 0 "+x+" "+$}),re=ce.makeSvgSpan([],[ee],r);re.height=$/1e3,re.style.width=V,re.style.height=J,D.push({type:"elem",elem:re})}else{if(D.push(v1(u,b,a)),D.push(Xu),c===null){var se=A-y-j+2*E4;D.push(j1(h,se,r))}else{var he=(A-y-j-m)/2+2*E4;D.push(j1(h,he,r)),D.push(Xu),D.push(v1(c,b,a)),D.push(Xu),D.push(j1(h,he,r))}D.push(Xu),D.push(v1(o,b,a))}var ae=r.havingBaseStyle(Ye.TEXT),Ne=ce.makeVList({positionType:"bottom",positionData:k,children:D},ae);return ty(ce.makeSpan(["delimsizing","mult"],[Ne],ae),Ye.TEXT,r,l)},w1=80,T1=.08,S1=function(e,n,s,r,a){var l=aG(e,r,s),o=new Ka(e,l),c=new Wr([o],{width:"400em",height:Me(n),viewBox:"0 0 400000 "+s,preserveAspectRatio:"xMinYMin slice"});return ce.makeSvgSpan(["hide-tail"],[c],a)},rW=function(e,n){var s=n.havingBaseSizing(),r=ZN("\\surd",e*s.sizeMultiplier,XN,s),a=s.sizeMultiplier,l=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),o,c=0,h=0,u=0,f;return r.type==="small"?(u=1e3+1e3*l+w1,e<1?a=1:e<1.4&&(a=.7),c=(1+l+T1)/a,h=(1+l)/a,o=S1("sqrtMain",c,u,l,n),o.style.minWidth="0.853em",f=.833/a):r.type==="large"?(u=(1e3+w1)*H0[r.size],h=(H0[r.size]+l)/a,c=(H0[r.size]+l+T1)/a,o=S1("sqrtSize"+r.size,c,u,l,n),o.style.minWidth="1.02em",f=1/a):(c=e+l+T1,h=e+l,u=Math.floor(1e3*e+l)+w1,o=S1("sqrtTall",c,u,l,n),o.style.minWidth="0.742em",f=1.056),o.height=h,o.style.height=Me(c),{span:o,advanceWidth:f,ruleWidth:(n.fontMetrics().sqrtRuleThickness+l)*a}},WN=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],aW=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],YN=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],H0=[0,1.2,1.8,2.4,3],lW=function(e,n,s,r,a){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),WN.includes(e)||YN.includes(e))return VN(e,n,!1,s,r,a);if(aW.includes(e))return GN(e,H0[n],!1,s,r,a);throw new we("Illegal delimiter: '"+e+"'")},oW=[{type:"small",style:Ye.SCRIPTSCRIPT},{type:"small",style:Ye.SCRIPT},{type:"small",style:Ye.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],cW=[{type:"small",style:Ye.SCRIPTSCRIPT},{type:"small",style:Ye.SCRIPT},{type:"small",style:Ye.TEXT},{type:"stack"}],XN=[{type:"small",style:Ye.SCRIPTSCRIPT},{type:"small",style:Ye.SCRIPT},{type:"small",style:Ye.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],hW=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},ZN=function(e,n,s,r){for(var a=Math.min(2,3-r.style.size),l=a;l<s.length&&s[l].type!=="stack";l++){var o=b0(e,hW(s[l]),"math"),c=o.height+o.depth;if(s[l].type==="small"){var h=r.havingBaseStyle(s[l].style);c*=h.sizeMultiplier}if(c>n)return s[l]}return s[s.length-1]},QN=function(e,n,s,r,a,l){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var o;YN.includes(e)?o=oW:WN.includes(e)?o=XN:o=cW;var c=ZN(e,n,o,r);return c.type==="small"?tW(e,c.style,s,r,a,l):c.type==="large"?VN(e,c.size,s,r,a,l):GN(e,n,s,r,a,l)},uW=function(e,n,s,r,a,l){var o=r.fontMetrics().axisHeight*r.sizeMultiplier,c=901,h=5/r.fontMetrics().ptPerEm,u=Math.max(n-o,s+o),f=Math.max(u/500*c,2*u-h);return QN(e,f,!0,r,a,l)},Rr={sqrtImage:rW,sizedDelim:lW,sizeToMaxHeight:H0,customSizedDelim:QN,leftRightDelim:uW},L6={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},dW=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function wm(t,e){var n=vm(t);if(n&&dW.includes(n.text))return n;throw n?new we("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new we("Invalid delimiter type '"+t.type+"'",t)}De({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=wm(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:L6[t.funcName].size,mclass:L6[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?ce.makeSpan([t.mclass]):Rr.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(ys(t.delim,t.mode));var n=new ve.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var s=Me(Rr.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",s),n.setAttribute("maxsize",s),n}});function F6(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}De({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new we("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:wm(e[0],t).text,color:n}}});De({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=wm(e[0],t),s=t.parser;++s.leftrightDepth;var r=s.parseExpression(!1);--s.leftrightDepth,s.expect("\\right",!1);var a=rt(s.parseFunction(),"leftright-right");return{type:"leftright",mode:s.mode,body:r,left:n.text,right:a.delim,rightColor:a.color}},htmlBuilder:(t,e)=>{F6(t);for(var n=Rn(t.body,e,!0,["mopen","mclose"]),s=0,r=0,a=!1,l=0;l<n.length;l++)n[l].isMiddle?a=!0:(s=Math.max(n[l].height,s),r=Math.max(n[l].depth,r));s*=e.sizeMultiplier,r*=e.sizeMultiplier;var o;if(t.left==="."?o=yh(e,["mopen"]):o=Rr.leftRightDelim(t.left,s,r,e,t.mode,["mopen"]),n.unshift(o),a)for(var c=1;c<n.length;c++){var h=n[c],u=h.isMiddle;u&&(n[c]=Rr.leftRightDelim(u.delim,s,r,u.options,t.mode,[]))}var f;if(t.right===".")f=yh(e,["mclose"]);else{var x=t.rightColor?e.withColor(t.rightColor):e;f=Rr.leftRightDelim(t.right,s,r,x,t.mode,["mclose"])}return n.push(f),ce.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{F6(t);var n=Ci(t.body,e);if(t.left!=="."){var s=new ve.MathNode("mo",[ys(t.left,t.mode)]);s.setAttribute("fence","true"),n.unshift(s)}if(t.right!=="."){var r=new ve.MathNode("mo",[ys(t.right,t.mode)]);r.setAttribute("fence","true"),t.rightColor&&r.setAttribute("mathcolor",t.rightColor),n.push(r)}return Q2(n)}});De({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=wm(e[0],t);if(!t.parser.leftrightDepth)throw new we("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=yh(e,[]);else{n=Rr.sizedDelim(t.delim,1,e,t.mode,[]);var s={delim:t.delim,options:e};n.isMiddle=s}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?ys("|","text"):ys(t.delim,t.mode),s=new ve.MathNode("mo",[n]);return s.setAttribute("fence","true"),s.setAttribute("lspace","0.05em"),s.setAttribute("rspace","0.05em"),s}});var ny=(t,e)=>{var n=ce.wrapFragment(mt(t.body,e),e),s=t.label.slice(1),r=e.sizeMultiplier,a,l=0,o=gt.isCharacterBox(t.body);if(s==="sout")a=ce.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/r,l=-.5*e.fontMetrics().xHeight;else if(s==="phase"){var c=tn({number:.6,unit:"pt"},e),h=tn({number:.35,unit:"ex"},e),u=e.havingBaseSizing();r=r/u.sizeMultiplier;var f=n.height+n.depth+c+h;n.style.paddingLeft=Me(f/2+c);var x=Math.floor(1e3*f*r),b=sG(x),M=new Wr([new Ka("phase",b)],{width:"400em",height:Me(x/1e3),viewBox:"0 0 400000 "+x,preserveAspectRatio:"xMinYMin slice"});a=ce.makeSvgSpan(["hide-tail"],[M],e),a.style.height=Me(f),l=n.depth+c+h}else{/cancel/.test(s)?o||n.classes.push("cancel-pad"):s==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var y=0,T=0,S=0;/box/.test(s)?(S=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),y=e.fontMetrics().fboxsep+(s==="colorbox"?0:S),T=y):s==="angl"?(S=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),y=4*S,T=Math.max(0,.25-n.depth)):(y=o?.2:0,T=y),a=Xr.encloseSpan(n,s,y,T,e),/fbox|boxed|fcolorbox/.test(s)?(a.style.borderStyle="solid",a.style.borderWidth=Me(S)):s==="angl"&&S!==.049&&(a.style.borderTopWidth=Me(S),a.style.borderRightWidth=Me(S)),l=n.depth+T,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var N;if(t.backgroundColor)N=ce.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:l},{type:"elem",elem:n,shift:0}]},e);else{var j=/cancel|phase/.test(s)?["svg-align"]:[];N=ce.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:a,shift:l,wrapperClasses:j}]},e)}return/cancel/.test(s)&&(N.height=n.height,N.depth=n.depth),/cancel/.test(s)&&!o?ce.makeSpan(["mord","cancel-lap"],[N],e):ce.makeSpan(["mord"],[N],e)},iy=(t,e)=>{var n=0,s=new ve.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[zt(t.body,e)]);switch(t.label){case"\\cancel":s.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":s.setAttribute("notation","downdiagonalstrike");break;case"\\phase":s.setAttribute("notation","phasorangle");break;case"\\sout":s.setAttribute("notation","horizontalstrike");break;case"\\fbox":s.setAttribute("notation","box");break;case"\\angl":s.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,s.setAttribute("width","+"+2*n+"pt"),s.setAttribute("height","+"+2*n+"pt"),s.setAttribute("lspace",n+"pt"),s.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var r=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);s.setAttribute("style","border: "+r+"em solid "+String(t.borderColor))}break;case"\\xcancel":s.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&s.setAttribute("mathbackground",t.backgroundColor),s};De({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:s,funcName:r}=t,a=rt(e[0],"color-token").color,l=e[1];return{type:"enclose",mode:s.mode,label:r,backgroundColor:a,body:l}},htmlBuilder:ny,mathmlBuilder:iy});De({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:s,funcName:r}=t,a=rt(e[0],"color-token").color,l=rt(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:s.mode,label:r,backgroundColor:l,borderColor:a,body:o}},htmlBuilder:ny,mathmlBuilder:iy});De({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});De({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:s}=t,r=e[0];return{type:"enclose",mode:n.mode,label:s,body:r}},htmlBuilder:ny,mathmlBuilder:iy});De({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var KN={};function rr(t){for(var{type:e,names:n,props:s,handler:r,htmlBuilder:a,mathmlBuilder:l}=t,o={type:e,numArgs:s.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:r},c=0;c<n.length;++c)KN[n[c]]=o;a&&(Sf[e]=a),l&&(Nf[e]=l)}var JN={};function H(t,e){JN[t]=e}function U6(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var Tm=t=>{var e=t.parser.settings;if(!e.displayMode)throw new we("{"+t.envName+"} can be used only in display mode.")};function sy(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function ll(t,e,n){var{hskipBeforeAndAfter:s,addJot:r,cols:a,arraystretch:l,colSeparationType:o,autoTag:c,singleRow:h,emptySingleRow:u,maxNumCols:f,leqno:x}=e;if(t.gullet.beginGroup(),h||t.gullet.macros.set("\\cr","\\\\\\relax"),!l){var b=t.gullet.expandMacroAsText("\\arraystretch");if(b==null)l=1;else if(l=parseFloat(b),!l||l<0)throw new we("Invalid \\arraystretch: "+b)}t.gullet.beginGroup();var M=[],y=[M],T=[],S=[],N=c!=null?[]:void 0;function j(){c&&t.gullet.macros.set("\\@eqnsw","1",!0)}function m(){N&&(t.gullet.macros.get("\\df@tag")?(N.push(t.subparse([new Hi("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):N.push(!!c&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(j(),S.push(U6(t));;){var g=t.parseExpression(!1,h?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),g={type:"ordgroup",mode:t.mode,body:g},n&&(g={type:"styling",mode:t.mode,style:n,body:[g]}),M.push(g);var E=t.fetch().text;if(E==="&"){if(f&&M.length===f){if(h||o)throw new we("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(E==="\\end"){m(),M.length===1&&g.type==="styling"&&g.body[0].body.length===0&&(y.length>1||!u)&&y.pop(),S.length<y.length+1&&S.push([]);break}else if(E==="\\\\"){t.consume();var v=void 0;t.gullet.future().text!==" "&&(v=t.parseSizeGroup(!0)),T.push(v?v.value:null),m(),S.push(U6(t)),M=[],y.push(M),j()}else throw new we("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:r,arraystretch:l,body:y,cols:a,rowGaps:T,hskipBeforeAndAfter:s,hLinesBeforeRow:S,colSeparationType:o,tags:N,leqno:x}}function ry(t){return t.slice(0,1)==="d"?"display":"text"}var ar=function(e,n){var s,r,a=e.body.length,l=e.hLinesBeforeRow,o=0,c=new Array(a),h=[],u=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),f=1/n.fontMetrics().ptPerEm,x=5*f;if(e.colSeparationType&&e.colSeparationType==="small"){var b=n.havingStyle(Ye.SCRIPT).sizeMultiplier;x=.2778*(b/n.sizeMultiplier)}var M=e.colSeparationType==="CD"?tn({number:3,unit:"ex"},n):12*f,y=3*f,T=e.arraystretch*M,S=.7*T,N=.3*T,j=0;function m(kt){for(var dn=0;dn<kt.length;++dn)dn>0&&(j+=.25),h.push({pos:j,isDashed:kt[dn]})}for(m(l[0]),s=0;s<e.body.length;++s){var g=e.body[s],E=S,v=N;o<g.length&&(o=g.length);var p=new Array(g.length);for(r=0;r<g.length;++r){var A=mt(g[r],n);v<A.depth&&(v=A.depth),E<A.height&&(E=A.height),p[r]=A}var w=e.rowGaps[s],k=0;w&&(k=tn(w,n),k>0&&(k+=N,v<k&&(v=k),k=0)),e.addJot&&(v+=y),p.height=E,p.depth=v,j+=E,p.pos=j,j+=v+k,c[s]=p,m(l[s+1])}var D=j/2+n.fontMetrics().axisHeight,I=e.cols||[],$=[],B,G,V=[];if(e.tags&&e.tags.some(kt=>kt))for(s=0;s<a;++s){var J=c[s],ee=J.pos-D,re=e.tags[s],se=void 0;re===!0?se=ce.makeSpan(["eqn-num"],[],n):re===!1?se=ce.makeSpan([],[],n):se=ce.makeSpan([],Rn(re,n,!0),n),se.depth=J.depth,se.height=J.height,V.push({type:"elem",elem:se,shift:ee})}for(r=0,G=0;r<o||G<I.length;++r,++G){for(var he=I[G]||{},ae=!0;he.type==="separator";){if(ae||(B=ce.makeSpan(["arraycolsep"],[]),B.style.width=Me(n.fontMetrics().doubleRuleSep),$.push(B)),he.separator==="|"||he.separator===":"){var Ne=he.separator==="|"?"solid":"dashed",Te=ce.makeSpan(["vertical-separator"],[],n);Te.style.height=Me(j),Te.style.borderRightWidth=Me(u),Te.style.borderRightStyle=Ne,Te.style.margin="0 "+Me(-u/2);var tt=j-D;tt&&(Te.style.verticalAlign=Me(-tt)),$.push(Te)}else throw new we("Invalid separator type: "+he.separator);G++,he=I[G]||{},ae=!1}if(!(r>=o)){var Ce=void 0;(r>0||e.hskipBeforeAndAfter)&&(Ce=gt.deflt(he.pregap,x),Ce!==0&&(B=ce.makeSpan(["arraycolsep"],[]),B.style.width=Me(Ce),$.push(B)));var Ae=[];for(s=0;s<a;++s){var Fe=c[s],Be=Fe[r];if(Be){var at=Fe.pos-D;Be.depth=Fe.depth,Be.height=Fe.height,Ae.push({type:"elem",elem:Be,shift:at})}}Ae=ce.makeVList({positionType:"individualShift",children:Ae},n),Ae=ce.makeSpan(["col-align-"+(he.align||"c")],[Ae]),$.push(Ae),(r<o-1||e.hskipBeforeAndAfter)&&(Ce=gt.deflt(he.postgap,x),Ce!==0&&(B=ce.makeSpan(["arraycolsep"],[]),B.style.width=Me(Ce),$.push(B)))}}if(c=ce.makeSpan(["mtable"],$),h.length>0){for(var Ue=ce.makeLineSpan("hline",n,u),et=ce.makeLineSpan("hdashline",n,u),_e=[{type:"elem",elem:c,shift:0}];h.length>0;){var $e=h.pop(),qt=$e.pos-D;$e.isDashed?_e.push({type:"elem",elem:et,shift:qt}):_e.push({type:"elem",elem:Ue,shift:qt})}c=ce.makeVList({positionType:"individualShift",children:_e},n)}if(V.length===0)return ce.makeSpan(["mord"],[c],n);var Ht=ce.makeVList({positionType:"individualShift",children:V},n);return Ht=ce.makeSpan(["tag"],[Ht],n),ce.makeFragment([c,Ht])},fW={c:"center ",l:"left ",r:"right "},lr=function(e,n){for(var s=[],r=new ve.MathNode("mtd",[],["mtr-glue"]),a=new ve.MathNode("mtd",[],["mml-eqn-num"]),l=0;l<e.body.length;l++){for(var o=e.body[l],c=[],h=0;h<o.length;h++)c.push(new ve.MathNode("mtd",[zt(o[h],n)]));e.tags&&e.tags[l]&&(c.unshift(r),c.push(r),e.leqno?c.unshift(a):c.push(a)),s.push(new ve.MathNode("mtr",c))}var u=new ve.MathNode("mtable",s),f=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);u.setAttribute("rowspacing",Me(f));var x="",b="";if(e.cols&&e.cols.length>0){var M=e.cols,y="",T=!1,S=0,N=M.length;M[0].type==="separator"&&(x+="top ",S=1),M[M.length-1].type==="separator"&&(x+="bottom ",N-=1);for(var j=S;j<N;j++)M[j].type==="align"?(b+=fW[M[j].align],T&&(y+="none "),T=!0):M[j].type==="separator"&&T&&(y+=M[j].separator==="|"?"solid ":"dashed ",T=!1);u.setAttribute("columnalign",b.trim()),/[sd]/.test(y)&&u.setAttribute("columnlines",y.trim())}if(e.colSeparationType==="align"){for(var m=e.cols||[],g="",E=1;E<m.length;E++)g+=E%2?"0em ":"1em ";u.setAttribute("columnspacing",g.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?u.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?u.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?u.setAttribute("columnspacing","0.5em"):u.setAttribute("columnspacing","1em");var v="",p=e.hLinesBeforeRow;x+=p[0].length>0?"left ":"",x+=p[p.length-1].length>0?"right ":"";for(var A=1;A<p.length-1;A++)v+=p[A].length===0?"none ":p[A][0]?"dashed ":"solid ";return/[sd]/.test(v)&&u.setAttribute("rowlines",v.trim()),x!==""&&(u=new ve.MathNode("menclose",[u]),u.setAttribute("notation",x.trim())),e.arraystretch&&e.arraystretch<1&&(u=new ve.MathNode("mstyle",[u]),u.setAttribute("scriptlevel","1")),u},eA=function(e,n){e.envName.indexOf("ed")===-1&&Tm(e);var s=[],r=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",l=ll(e.parser,{cols:s,addJot:!0,autoTag:a?void 0:sy(e.envName),emptySingleRow:!0,colSeparationType:r,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),o,c=0,h={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var u="",f=0;f<n[0].body.length;f++){var x=rt(n[0].body[f],"textord");u+=x.text}o=Number(u),c=o*2}var b=!c;l.body.forEach(function(S){for(var N=1;N<S.length;N+=2){var j=rt(S[N],"styling"),m=rt(j.body[0],"ordgroup");m.body.unshift(h)}if(b)c<S.length&&(c=S.length);else{var g=S.length/2;if(o<g)throw new we("Too many math in a row: "+("expected "+o+", but got "+g),S[0])}});for(var M=0;M<c;++M){var y="r",T=0;M%2===1?y="l":M>0&&b&&(T=1),s[M]={type:"align",align:y,pregap:T,postgap:0}}return l.colSeparationType=b?"align":"alignat",l};rr({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=vm(e[0]),s=n?[e[0]]:rt(e[0],"ordgroup").body,r=s.map(function(l){var o=J2(l),c=o.text;if("lcr".indexOf(c)!==-1)return{type:"align",align:c};if(c==="|")return{type:"separator",separator:"|"};if(c===":")return{type:"separator",separator:":"};throw new we("Unknown column alignment: "+c,l)}),a={cols:r,hskipBeforeAndAfter:!0,maxNumCols:r.length};return ll(t.parser,a,ry(t.envName))},htmlBuilder:ar,mathmlBuilder:lr});rr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",s={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var r=t.parser;if(r.consumeSpaces(),r.fetch().text==="["){if(r.consume(),r.consumeSpaces(),n=r.fetch().text,"lcr".indexOf(n)===-1)throw new we("Expected l or c or r",r.nextToken);r.consume(),r.consumeSpaces(),r.expect("]"),r.consume(),s.cols=[{type:"align",align:n}]}}var a=ll(t.parser,s,ry(t.envName)),l=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(l).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:ar,mathmlBuilder:lr});rr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=ll(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:ar,mathmlBuilder:lr});rr({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=vm(e[0]),s=n?[e[0]]:rt(e[0],"ordgroup").body,r=s.map(function(l){var o=J2(l),c=o.text;if("lc".indexOf(c)!==-1)return{type:"align",align:c};throw new we("Unknown column alignment: "+c,l)});if(r.length>1)throw new we("{subarray} can contain only one column");var a={cols:r,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=ll(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new we("{subarray} can contain only one column");return a},htmlBuilder:ar,mathmlBuilder:lr});rr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=ll(t.parser,e,ry(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:ar,mathmlBuilder:lr});rr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:eA,htmlBuilder:ar,mathmlBuilder:lr});rr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&Tm(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:sy(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return ll(t.parser,e,"display")},htmlBuilder:ar,mathmlBuilder:lr});rr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:eA,htmlBuilder:ar,mathmlBuilder:lr});rr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){Tm(t);var e={autoTag:sy(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return ll(t.parser,e,"display")},htmlBuilder:ar,mathmlBuilder:lr});rr({type:"array",names:["CD"],props:{numArgs:0},handler(t){return Tm(t),JG(t.parser)},htmlBuilder:ar,mathmlBuilder:lr});H("\\nonumber","\\gdef\\@eqnsw{0}");H("\\notag","\\nonumber");De({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new we(t.funcName+" valid only within array environment")}});var H6=KN;De({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:s}=t,r=e[0];if(r.type!=="ordgroup")throw new we("Invalid environment name",r);for(var a="",l=0;l<r.body.length;++l)a+=rt(r.body[l],"textord").text;if(s==="\\begin"){if(!H6.hasOwnProperty(a))throw new we("No such environment: "+a,r);var o=H6[a],{args:c,optArgs:h}=n.parseArguments("\\begin{"+a+"}",o),u={mode:n.mode,envName:a,parser:n},f=o.handler(u,c,h);n.expect("\\end",!1);var x=n.nextToken,b=rt(n.parseFunction(),"environment");if(b.name!==a)throw new we("Mismatch: \\begin{"+a+"} matched by \\end{"+b.name+"}",x);return f}return{type:"environment",mode:n.mode,name:a,nameGroup:r}}});var tA=(t,e)=>{var n=t.font,s=e.withFont(n);return mt(t.body,s)},nA=(t,e)=>{var n=t.font,s=e.withFont(n);return zt(t.body,s)},V6={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};De({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=Af(e[0]),a=s;return a in V6&&(a=V6[a]),{type:"font",mode:n.mode,font:a.slice(1),body:r}},htmlBuilder:tA,mathmlBuilder:nA});De({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,s=e[0],r=gt.isCharacterBox(s);return{type:"mclass",mode:n.mode,mclass:jm(s),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:s}],isCharacterBox:r}}});De({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:s,breakOnTokenText:r}=t,{mode:a}=n,l=n.parseExpression(!0,r),o="math"+s.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:n.mode,body:l}}},htmlBuilder:tA,mathmlBuilder:nA});var iA=(t,e)=>{var n=e;return t==="display"?n=n.id>=Ye.SCRIPT.id?n.text():Ye.DISPLAY:t==="text"&&n.size===Ye.DISPLAY.size?n=Ye.TEXT:t==="script"?n=Ye.SCRIPT:t==="scriptscript"&&(n=Ye.SCRIPTSCRIPT),n},ay=(t,e)=>{var n=iA(t.size,e.style),s=n.fracNum(),r=n.fracDen(),a;a=e.havingStyle(s);var l=mt(t.numer,a,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,c=3.5/e.fontMetrics().ptPerEm;l.height=l.height<o?o:l.height,l.depth=l.depth<c?c:l.depth}a=e.havingStyle(r);var h=mt(t.denom,a,e),u,f,x;t.hasBarLine?(t.barSize?(f=tn(t.barSize,e),u=ce.makeLineSpan("frac-line",e,f)):u=ce.makeLineSpan("frac-line",e),f=u.height,x=u.height):(u=null,f=0,x=e.fontMetrics().defaultRuleThickness);var b,M,y;n.size===Ye.DISPLAY.size||t.size==="display"?(b=e.fontMetrics().num1,f>0?M=3*x:M=7*x,y=e.fontMetrics().denom1):(f>0?(b=e.fontMetrics().num2,M=x):(b=e.fontMetrics().num3,M=3*x),y=e.fontMetrics().denom2);var T;if(u){var N=e.fontMetrics().axisHeight;b-l.depth-(N+.5*f)<M&&(b+=M-(b-l.depth-(N+.5*f))),N-.5*f-(h.height-y)<M&&(y+=M-(N-.5*f-(h.height-y)));var j=-(N-.5*f);T=ce.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:y},{type:"elem",elem:u,shift:j},{type:"elem",elem:l,shift:-b}]},e)}else{var S=b-l.depth-(h.height-y);S<M&&(b+=.5*(M-S),y+=.5*(M-S)),T=ce.makeVList({positionType:"individualShift",children:[{type:"elem",elem:h,shift:y},{type:"elem",elem:l,shift:-b}]},e)}a=e.havingStyle(n),T.height*=a.sizeMultiplier/e.sizeMultiplier,T.depth*=a.sizeMultiplier/e.sizeMultiplier;var m;n.size===Ye.DISPLAY.size?m=e.fontMetrics().delim1:n.size===Ye.SCRIPTSCRIPT.size?m=e.havingStyle(Ye.SCRIPT).fontMetrics().delim2:m=e.fontMetrics().delim2;var g,E;return t.leftDelim==null?g=yh(e,["mopen"]):g=Rr.customSizedDelim(t.leftDelim,m,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?E=ce.makeSpan([]):t.rightDelim==null?E=yh(e,["mclose"]):E=Rr.customSizedDelim(t.rightDelim,m,!0,e.havingStyle(n),t.mode,["mclose"]),ce.makeSpan(["mord"].concat(a.sizingClasses(e)),[g,ce.makeSpan(["mfrac"],[T]),E],e)},ly=(t,e)=>{var n=new ve.MathNode("mfrac",[zt(t.numer,e),zt(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var s=tn(t.barSize,e);n.setAttribute("linethickness",Me(s))}var r=iA(t.size,e.style);if(r.size!==e.style.size){n=new ve.MathNode("mstyle",[n]);var a=r.size===Ye.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",a),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var l=[];if(t.leftDelim!=null){var o=new ve.MathNode("mo",[new ve.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),l.push(o)}if(l.push(n),t.rightDelim!=null){var c=new ve.MathNode("mo",[new ve.TextNode(t.rightDelim.replace("\\",""))]);c.setAttribute("fence","true"),l.push(c)}return Q2(l)}return n};De({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0],a=e[1],l,o=null,c=null,h="auto";switch(s){case"\\dfrac":case"\\frac":case"\\tfrac":l=!0;break;case"\\\\atopfrac":l=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":l=!1,o="(",c=")";break;case"\\\\bracefrac":l=!1,o="\\{",c="\\}";break;case"\\\\brackfrac":l=!1,o="[",c="]";break;default:throw new Error("Unrecognized genfrac command")}switch(s){case"\\dfrac":case"\\dbinom":h="display";break;case"\\tfrac":case"\\tbinom":h="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:r,denom:a,hasBarLine:l,leftDelim:o,rightDelim:c,size:h,barSize:null}},htmlBuilder:ay,mathmlBuilder:ly});De({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0],a=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:r,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});De({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:s}=t,r;switch(n){case"\\over":r="\\frac";break;case"\\choose":r="\\binom";break;case"\\atop":r="\\\\atopfrac";break;case"\\brace":r="\\\\bracefrac";break;case"\\brack":r="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:r,token:s}}});var G6=["display","text","script","scriptscript"],W6=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};De({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,s=e[4],r=e[5],a=Af(e[0]),l=a.type==="atom"&&a.family==="open"?W6(a.text):null,o=Af(e[1]),c=o.type==="atom"&&o.family==="close"?W6(o.text):null,h=rt(e[2],"size"),u,f=null;h.isBlank?u=!0:(f=h.value,u=f.number>0);var x="auto",b=e[3];if(b.type==="ordgroup"){if(b.body.length>0){var M=rt(b.body[0],"textord");x=G6[Number(M.text)]}}else b=rt(b,"textord"),x=G6[Number(b.text)];return{type:"genfrac",mode:n.mode,numer:s,denom:r,continued:!1,hasBarLine:u,barSize:f,leftDelim:l,rightDelim:c,size:x}},htmlBuilder:ay,mathmlBuilder:ly});De({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:s,token:r}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:rt(e[0],"size").value,token:r}}});De({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0],a=UV(rt(e[1],"infix").size),l=e[2],o=a.number>0;return{type:"genfrac",mode:n.mode,numer:r,denom:l,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:ay,mathmlBuilder:ly});var sA=(t,e)=>{var n=e.style,s,r;t.type==="supsub"?(s=t.sup?mt(t.sup,e.havingStyle(n.sup()),e):mt(t.sub,e.havingStyle(n.sub()),e),r=rt(t.base,"horizBrace")):r=rt(t,"horizBrace");var a=mt(r.base,e.havingBaseStyle(Ye.DISPLAY)),l=Xr.svgSpan(r,e),o;if(r.isOver?(o=ce.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:l}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=ce.makeVList({positionType:"bottom",positionData:a.depth+.1+l.height,children:[{type:"elem",elem:l},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),s){var c=ce.makeSpan(["mord",r.isOver?"mover":"munder"],[o],e);r.isOver?o=ce.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:c},{type:"kern",size:.2},{type:"elem",elem:s}]},e):o=ce.makeVList({positionType:"bottom",positionData:c.depth+.2+s.height+s.depth,children:[{type:"elem",elem:s},{type:"kern",size:.2},{type:"elem",elem:c}]},e)}return ce.makeSpan(["mord",r.isOver?"mover":"munder"],[o],e)},mW=(t,e)=>{var n=Xr.mathMLnode(t.label);return new ve.MathNode(t.isOver?"mover":"munder",[zt(t.base,e),n])};De({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:s}=t;return{type:"horizBrace",mode:n.mode,label:s,isOver:/^\\over/.test(s),base:e[0]}},htmlBuilder:sA,mathmlBuilder:mW});De({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,s=e[1],r=rt(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:r})?{type:"href",mode:n.mode,href:r,body:gn(s)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=Rn(t.body,e,!1);return ce.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=Ja(t.body,e);return n instanceof Oi||(n=new Oi("mrow",[n])),n.setAttribute("href",t.href),n}});De({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,s=rt(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:s}))return n.formatUnsupportedCmd("\\url");for(var r=[],a=0;a<s.length;a++){var l=s[a];l==="~"&&(l="\\textasciitilde"),r.push({type:"textord",mode:"text",text:l})}var o={type:"text",mode:n.mode,font:"\\texttt",body:r};return{type:"href",mode:n.mode,href:s,body:gn(o)}}});De({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:gn(e[0])}},htmlBuilder(t,e){var n=Rn(t.body,e,!1);return ce.makeFragment(n)},mathmlBuilder(t,e){return new ve.MathNode("mrow",Ci(t.body,e))}});De({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:s,token:r}=t,a=rt(e[0],"raw").string,l=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,c={};switch(s){case"\\htmlClass":c.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":c.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":c.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var h=a.split(","),u=0;u<h.length;u++){var f=h[u],x=f.indexOf("=");if(x<0)throw new we("\\htmlData key/value '"+f+"' missing equals sign");var b=f.slice(0,x),M=f.slice(x+1);c["data-"+b.trim()]=M}o={command:"\\htmlData",attributes:c};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(o)?{type:"html",mode:n.mode,attributes:c,body:gn(l)}:n.formatUnsupportedCmd(s)},htmlBuilder:(t,e)=>{var n=Rn(t.body,e,!1),s=["enclosing"];t.attributes.class&&s.push(...t.attributes.class.trim().split(/\s+/));var r=ce.makeSpan(s,n,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&r.setAttribute(a,t.attributes[a]);return r},mathmlBuilder:(t,e)=>Ja(t.body,e)});De({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:gn(e[0]),mathml:gn(e[1])}},htmlBuilder:(t,e)=>{var n=Rn(t.html,e,!1);return ce.makeFragment(n)},mathmlBuilder:(t,e)=>Ja(t.mathml,e)});var N1=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new we("Invalid size: '"+e+"' in \\includegraphics");var s={number:+(n[1]+n[2]),unit:n[3]};if(!TN(s))throw new we("Invalid unit: '"+s.unit+"' in \\includegraphics.");return s};De({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:s}=t,r={number:0,unit:"em"},a={number:.9,unit:"em"},l={number:0,unit:"em"},o="";if(n[0])for(var c=rt(n[0],"raw").string,h=c.split(","),u=0;u<h.length;u++){var f=h[u].split("=");if(f.length===2){var x=f[1].trim();switch(f[0].trim()){case"alt":o=x;break;case"width":r=N1(x);break;case"height":a=N1(x);break;case"totalheight":l=N1(x);break;default:throw new we("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var b=rt(e[0],"url").url;return o===""&&(o=b,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),s.settings.isTrusted({command:"\\includegraphics",url:b})?{type:"includegraphics",mode:s.mode,alt:o,width:r,height:a,totalheight:l,src:b}:s.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=tn(t.height,e),s=0;t.totalheight.number>0&&(s=tn(t.totalheight,e)-n);var r=0;t.width.number>0&&(r=tn(t.width,e));var a={height:Me(n+s)};r>0&&(a.width=Me(r)),s>0&&(a.verticalAlign=Me(-s));var l=new mG(t.src,t.alt,a);return l.height=n,l.depth=s,l},mathmlBuilder:(t,e)=>{var n=new ve.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var s=tn(t.height,e),r=0;if(t.totalheight.number>0&&(r=tn(t.totalheight,e)-s,n.setAttribute("valign",Me(-r))),n.setAttribute("height",Me(s+r)),t.width.number>0){var a=tn(t.width,e);n.setAttribute("width",Me(a))}return n.setAttribute("src",t.src),n}});De({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:s}=t,r=rt(e[0],"size");if(n.settings.strict){var a=s[1]==="m",l=r.value.unit==="mu";a?(l||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" supports only mu units, "+("not "+r.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" works only in math mode")):l&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+s+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:r.value}},htmlBuilder(t,e){return ce.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=tn(t.dimension,e);return new ve.SpaceNode(n)}});De({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0];return{type:"lap",mode:n.mode,alignment:s.slice(5),body:r}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=ce.makeSpan([],[mt(t.body,e)]),n=ce.makeSpan(["inner"],[n],e)):n=ce.makeSpan(["inner"],[mt(t.body,e)]);var s=ce.makeSpan(["fix"],[]),r=ce.makeSpan([t.alignment],[n,s],e),a=ce.makeSpan(["strut"]);return a.style.height=Me(r.height+r.depth),r.depth&&(a.style.verticalAlign=Me(-r.depth)),r.children.unshift(a),r=ce.makeSpan(["thinbox"],[r],e),ce.makeSpan(["mord","vbox"],[r],e)},mathmlBuilder:(t,e)=>{var n=new ve.MathNode("mpadded",[zt(t.body,e)]);if(t.alignment!=="rlap"){var s=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",s+"width")}return n.setAttribute("width","0px"),n}});De({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:s}=t,r=s.mode;s.switchMode("math");var a=n==="\\("?"\\)":"$",l=s.parseExpression(!1,a);return s.expect(a),s.switchMode(r),{type:"styling",mode:s.mode,style:"text",body:l}}});De({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new we("Mismatched "+t.funcName)}});var Y6=(t,e)=>{switch(e.style.size){case Ye.DISPLAY.size:return t.display;case Ye.TEXT.size:return t.text;case Ye.SCRIPT.size:return t.script;case Ye.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};De({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:gn(e[0]),text:gn(e[1]),script:gn(e[2]),scriptscript:gn(e[3])}},htmlBuilder:(t,e)=>{var n=Y6(t,e),s=Rn(n,e,!1);return ce.makeFragment(s)},mathmlBuilder:(t,e)=>{var n=Y6(t,e);return Ja(n,e)}});var rA=(t,e,n,s,r,a,l)=>{t=ce.makeSpan([],[t]);var o=n&&gt.isCharacterBox(n),c,h;if(e){var u=mt(e,s.havingStyle(r.sup()),s);h={elem:u,kern:Math.max(s.fontMetrics().bigOpSpacing1,s.fontMetrics().bigOpSpacing3-u.depth)}}if(n){var f=mt(n,s.havingStyle(r.sub()),s);c={elem:f,kern:Math.max(s.fontMetrics().bigOpSpacing2,s.fontMetrics().bigOpSpacing4-f.height)}}var x;if(h&&c){var b=s.fontMetrics().bigOpSpacing5+c.elem.height+c.elem.depth+c.kern+t.depth+l;x=ce.makeVList({positionType:"bottom",positionData:b,children:[{type:"kern",size:s.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:Me(-a)},{type:"kern",size:c.kern},{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:Me(a)},{type:"kern",size:s.fontMetrics().bigOpSpacing5}]},s)}else if(c){var M=t.height-l;x=ce.makeVList({positionType:"top",positionData:M,children:[{type:"kern",size:s.fontMetrics().bigOpSpacing5},{type:"elem",elem:c.elem,marginLeft:Me(-a)},{type:"kern",size:c.kern},{type:"elem",elem:t}]},s)}else if(h){var y=t.depth+l;x=ce.makeVList({positionType:"bottom",positionData:y,children:[{type:"elem",elem:t},{type:"kern",size:h.kern},{type:"elem",elem:h.elem,marginLeft:Me(a)},{type:"kern",size:s.fontMetrics().bigOpSpacing5}]},s)}else return t;var T=[x];if(c&&a!==0&&!o){var S=ce.makeSpan(["mspace"],[],s);S.style.marginRight=Me(a),T.unshift(S)}return ce.makeSpan(["mop","op-limits"],T,s)},aA=["\\smallint"],Dc=(t,e)=>{var n,s,r=!1,a;t.type==="supsub"?(n=t.sup,s=t.sub,a=rt(t.base,"op"),r=!0):a=rt(t,"op");var l=e.style,o=!1;l.size===Ye.DISPLAY.size&&a.symbol&&!aA.includes(a.name)&&(o=!0);var c;if(a.symbol){var h=o?"Size2-Regular":"Size1-Regular",u="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(u=a.name.slice(1),a.name=u==="oiint"?"\\iint":"\\iiint"),c=ce.makeSymbol(a.name,h,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),u.length>0){var f=c.italic,x=ce.staticSvg(u+"Size"+(o?"2":"1"),e);c=ce.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:0},{type:"elem",elem:x,shift:o?.08:0}]},e),a.name="\\"+u,c.classes.unshift("mop"),c.italic=f}}else if(a.body){var b=Rn(a.body,e,!0);b.length===1&&b[0]instanceof gs?(c=b[0],c.classes[0]="mop"):c=ce.makeSpan(["mop"],b,e)}else{for(var M=[],y=1;y<a.name.length;y++)M.push(ce.mathsym(a.name[y],a.mode,e));c=ce.makeSpan(["mop"],M,e)}var T=0,S=0;return(c instanceof gs||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(T=(c.height-c.depth)/2-e.fontMetrics().axisHeight,S=c.italic),r?rA(c,n,s,e,l,S,T):(T&&(c.style.position="relative",c.style.top=Me(T)),c)},Vh=(t,e)=>{var n;if(t.symbol)n=new Oi("mo",[ys(t.name,t.mode)]),aA.includes(t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Oi("mo",Ci(t.body,e));else{n=new Oi("mi",[new Ws(t.name.slice(1))]);var s=new Oi("mo",[ys("","text")]);t.parentIsSupSub?n=new Oi("mrow",[n,s]):n=IN([n,s])}return n},pW={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};De({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=s;return r.length===1&&(r=pW[r]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Dc,mathmlBuilder:Vh});De({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,s=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:gn(s)}},htmlBuilder:Dc,mathmlBuilder:Vh});var xW={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};De({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Dc,mathmlBuilder:Vh});De({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Dc,mathmlBuilder:Vh});De({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:n}=t,s=n;return s.length===1&&(s=xW[s]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:s}},htmlBuilder:Dc,mathmlBuilder:Vh});var lA=(t,e)=>{var n,s,r=!1,a;t.type==="supsub"?(n=t.sup,s=t.sub,a=rt(t.base,"operatorname"),r=!0):a=rt(t,"operatorname");var l;if(a.body.length>0){for(var o=a.body.map(f=>{var x=f.text;return typeof x=="string"?{type:"textord",mode:f.mode,text:x}:f}),c=Rn(o,e.withFont("mathrm"),!0),h=0;h<c.length;h++){var u=c[h];u instanceof gs&&(u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}l=ce.makeSpan(["mop"],c,e)}else l=ce.makeSpan(["mop"],[],e);return r?rA(l,n,s,e,e.style,0,0):l},gW=(t,e)=>{for(var n=Ci(t.body,e.withFont("mathrm")),s=!0,r=0;r<n.length;r++){var a=n[r];if(!(a instanceof ve.SpaceNode))if(a instanceof ve.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var l=a.children[0];a.children.length===1&&l instanceof ve.TextNode?l.text=l.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):s=!1;break}default:s=!1}else s=!1}if(s){var o=n.map(u=>u.toText()).join("");n=[new ve.TextNode(o)]}var c=new ve.MathNode("mi",n);c.setAttribute("mathvariant","normal");var h=new ve.MathNode("mo",[ys("","text")]);return t.parentIsSupSub?new ve.MathNode("mrow",[c,h]):ve.newDocumentFragment([c,h])};De({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:s}=t,r=e[0];return{type:"operatorname",mode:n.mode,body:gn(r),alwaysHandleSupSub:s==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:lA,mathmlBuilder:gW});H("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");ro({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?ce.makeFragment(Rn(t.body,e,!1)):ce.makeSpan(["mord"],Rn(t.body,e,!0),e)},mathmlBuilder(t,e){return Ja(t.body,e,!0)}});De({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,s=e[0];return{type:"overline",mode:n.mode,body:s}},htmlBuilder(t,e){var n=mt(t.body,e.havingCrampedStyle()),s=ce.makeLineSpan("overline-line",e),r=e.fontMetrics().defaultRuleThickness,a=ce.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*r},{type:"elem",elem:s},{type:"kern",size:r}]},e);return ce.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var n=new ve.MathNode("mo",[new ve.TextNode("")]);n.setAttribute("stretchy","true");var s=new ve.MathNode("mover",[zt(t.body,e),n]);return s.setAttribute("accent","true"),s}});De({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,s=e[0];return{type:"phantom",mode:n.mode,body:gn(s)}},htmlBuilder:(t,e)=>{var n=Rn(t.body,e.withPhantom(),!1);return ce.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=Ci(t.body,e);return new ve.MathNode("mphantom",n)}});De({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,s=e[0];return{type:"hphantom",mode:n.mode,body:s}},htmlBuilder:(t,e)=>{var n=ce.makeSpan([],[mt(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var s=0;s<n.children.length;s++)n.children[s].height=0,n.children[s].depth=0;return n=ce.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),ce.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=Ci(gn(t.body),e),s=new ve.MathNode("mphantom",n),r=new ve.MathNode("mpadded",[s]);return r.setAttribute("height","0px"),r.setAttribute("depth","0px"),r}});De({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,s=e[0];return{type:"vphantom",mode:n.mode,body:s}},htmlBuilder:(t,e)=>{var n=ce.makeSpan(["inner"],[mt(t.body,e.withPhantom())]),s=ce.makeSpan(["fix"],[]);return ce.makeSpan(["mord","rlap"],[n,s],e)},mathmlBuilder:(t,e)=>{var n=Ci(gn(t.body),e),s=new ve.MathNode("mphantom",n),r=new ve.MathNode("mpadded",[s]);return r.setAttribute("width","0px"),r}});De({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,s=rt(e[0],"size").value,r=e[1];return{type:"raisebox",mode:n.mode,dy:s,body:r}},htmlBuilder(t,e){var n=mt(t.body,e),s=tn(t.dy,e);return ce.makeVList({positionType:"shift",positionData:-s,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new ve.MathNode("mpadded",[zt(t.body,e)]),s=t.dy.number+t.dy.unit;return n.setAttribute("voffset",s),n}});De({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});De({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:s}=t,r=n[0],a=rt(e[0],"size"),l=rt(e[1],"size");return{type:"rule",mode:s.mode,shift:r&&rt(r,"size").value,width:a.value,height:l.value}},htmlBuilder(t,e){var n=ce.makeSpan(["mord","rule"],[],e),s=tn(t.width,e),r=tn(t.height,e),a=t.shift?tn(t.shift,e):0;return n.style.borderRightWidth=Me(s),n.style.borderTopWidth=Me(r),n.style.bottom=Me(a),n.width=s,n.height=r+a,n.depth=-a,n.maxFontSize=r*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=tn(t.width,e),s=tn(t.height,e),r=t.shift?tn(t.shift,e):0,a=e.color&&e.getColor()||"black",l=new ve.MathNode("mspace");l.setAttribute("mathbackground",a),l.setAttribute("width",Me(n)),l.setAttribute("height",Me(s));var o=new ve.MathNode("mpadded",[l]);return r>=0?o.setAttribute("height",Me(r)):(o.setAttribute("height",Me(r)),o.setAttribute("depth",Me(-r))),o.setAttribute("voffset",Me(r)),o}});function oA(t,e,n){for(var s=Rn(t,e,!1),r=e.sizeMultiplier/n.sizeMultiplier,a=0;a<s.length;a++){var l=s[a].classes.indexOf("sizing");l<0?Array.prototype.push.apply(s[a].classes,e.sizingClasses(n)):s[a].classes[l+1]==="reset-size"+e.size&&(s[a].classes[l+1]="reset-size"+n.size),s[a].height*=r,s[a].depth*=r}return ce.makeFragment(s)}var X6=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],yW=(t,e)=>{var n=e.havingSize(t.size);return oA(t.body,n,e)};De({type:"sizing",names:X6,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:s,parser:r}=t,a=r.parseExpression(!1,n);return{type:"sizing",mode:r.mode,size:X6.indexOf(s)+1,body:a}},htmlBuilder:yW,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),s=Ci(t.body,n),r=new ve.MathNode("mstyle",s);return r.setAttribute("mathsize",Me(n.sizeMultiplier)),r}});De({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:s}=t,r=!1,a=!1,l=n[0]&&rt(n[0],"ordgroup");if(l)for(var o="",c=0;c<l.body.length;++c){var h=l.body[c];if(o=h.text,o==="t")r=!0;else if(o==="b")a=!0;else{r=!1,a=!1;break}}else r=!0,a=!0;var u=e[0];return{type:"smash",mode:s.mode,body:u,smashHeight:r,smashDepth:a}},htmlBuilder:(t,e)=>{var n=ce.makeSpan([],[mt(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var s=0;s<n.children.length;s++)n.children[s].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].depth=0;var a=ce.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return ce.makeSpan(["mord"],[a],e)},mathmlBuilder:(t,e)=>{var n=new ve.MathNode("mpadded",[zt(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});De({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:s}=t,r=n[0],a=e[0];return{type:"sqrt",mode:s.mode,body:a,index:r}},htmlBuilder(t,e){var n=mt(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=ce.wrapFragment(n,e);var s=e.fontMetrics(),r=s.defaultRuleThickness,a=r;e.style.id<Ye.TEXT.id&&(a=e.fontMetrics().xHeight);var l=r+a/4,o=n.height+n.depth+l+r,{span:c,ruleWidth:h,advanceWidth:u}=Rr.sqrtImage(o,e),f=c.height-h;f>n.height+n.depth+l&&(l=(l+f-n.height-n.depth)/2);var x=c.height-n.height-l-h;n.style.paddingLeft=Me(u);var b=ce.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+x)},{type:"elem",elem:c},{type:"kern",size:h}]},e);if(t.index){var M=e.havingStyle(Ye.SCRIPTSCRIPT),y=mt(t.index,M,e),T=.6*(b.height-b.depth),S=ce.makeVList({positionType:"shift",positionData:-T,children:[{type:"elem",elem:y}]},e),N=ce.makeSpan(["root"],[S]);return ce.makeSpan(["mord","sqrt"],[N,b],e)}else return ce.makeSpan(["mord","sqrt"],[b],e)},mathmlBuilder(t,e){var{body:n,index:s}=t;return s?new ve.MathNode("mroot",[zt(n,e),zt(s,e)]):new ve.MathNode("msqrt",[zt(n,e)])}});var Z6={display:Ye.DISPLAY,text:Ye.TEXT,script:Ye.SCRIPT,scriptscript:Ye.SCRIPTSCRIPT};De({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:s,parser:r}=t,a=r.parseExpression(!0,n),l=s.slice(1,s.length-5);return{type:"styling",mode:r.mode,style:l,body:a}},htmlBuilder(t,e){var n=Z6[t.style],s=e.havingStyle(n).withFont("");return oA(t.body,s,e)},mathmlBuilder(t,e){var n=Z6[t.style],s=e.havingStyle(n),r=Ci(t.body,s),a=new ve.MathNode("mstyle",r),l={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=l[t.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var bW=function(e,n){var s=e.base;if(s)if(s.type==="op"){var r=s.limits&&(n.style.size===Ye.DISPLAY.size||s.alwaysHandleSupSub);return r?Dc:null}else if(s.type==="operatorname"){var a=s.alwaysHandleSupSub&&(n.style.size===Ye.DISPLAY.size||s.limits);return a?lA:null}else{if(s.type==="accent")return gt.isCharacterBox(s.base)?ey:null;if(s.type==="horizBrace"){var l=!e.sub;return l===s.isOver?sA:null}else return null}else return null};ro({type:"supsub",htmlBuilder(t,e){var n=bW(t,e);if(n)return n(t,e);var{base:s,sup:r,sub:a}=t,l=mt(s,e),o,c,h=e.fontMetrics(),u=0,f=0,x=s&&gt.isCharacterBox(s);if(r){var b=e.havingStyle(e.style.sup());o=mt(r,b,e),x||(u=l.height-b.fontMetrics().supDrop*b.sizeMultiplier/e.sizeMultiplier)}if(a){var M=e.havingStyle(e.style.sub());c=mt(a,M,e),x||(f=l.depth+M.fontMetrics().subDrop*M.sizeMultiplier/e.sizeMultiplier)}var y;e.style===Ye.DISPLAY?y=h.sup1:e.style.cramped?y=h.sup3:y=h.sup2;var T=e.sizeMultiplier,S=Me(.5/h.ptPerEm/T),N=null;if(c){var j=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(l instanceof gs||j)&&(N=Me(-l.italic))}var m;if(o&&c){u=Math.max(u,y,o.depth+.25*h.xHeight),f=Math.max(f,h.sub2);var g=h.defaultRuleThickness,E=4*g;if(u-o.depth-(c.height-f)<E){f=E-(u-o.depth)+c.height;var v=.8*h.xHeight-(u-o.depth);v>0&&(u+=v,f-=v)}var p=[{type:"elem",elem:c,shift:f,marginRight:S,marginLeft:N},{type:"elem",elem:o,shift:-u,marginRight:S}];m=ce.makeVList({positionType:"individualShift",children:p},e)}else if(c){f=Math.max(f,h.sub1,c.height-.8*h.xHeight);var A=[{type:"elem",elem:c,marginLeft:N,marginRight:S}];m=ce.makeVList({positionType:"shift",positionData:f,children:A},e)}else if(o)u=Math.max(u,y,o.depth+.25*h.xHeight),m=ce.makeVList({positionType:"shift",positionData:-u,children:[{type:"elem",elem:o,marginRight:S}]},e);else throw new Error("supsub must have either sup or sub.");var w=A4(l,"right")||"mord";return ce.makeSpan([w],[l,ce.makeSpan(["msupsub"],[m])],e)},mathmlBuilder(t,e){var n=!1,s,r;t.base&&t.base.type==="horizBrace"&&(r=!!t.sup,r===t.base.isOver&&(n=!0,s=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[zt(t.base,e)];t.sub&&a.push(zt(t.sub,e)),t.sup&&a.push(zt(t.sup,e));var l;if(n)l=s?"mover":"munder";else if(t.sub)if(t.sup){var h=t.base;h&&h.type==="op"&&h.limits&&e.style===Ye.DISPLAY||h&&h.type==="operatorname"&&h.alwaysHandleSupSub&&(e.style===Ye.DISPLAY||h.limits)?l="munderover":l="msubsup"}else{var c=t.base;c&&c.type==="op"&&c.limits&&(e.style===Ye.DISPLAY||c.alwaysHandleSupSub)||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(c.limits||e.style===Ye.DISPLAY)?l="munder":l="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===Ye.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===Ye.DISPLAY)?l="mover":l="msup"}return new ve.MathNode(l,a)}});ro({type:"atom",htmlBuilder(t,e){return ce.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new ve.MathNode("mo",[ys(t.text,t.mode)]);if(t.family==="bin"){var s=K2(t,e);s==="bold-italic"&&n.setAttribute("mathvariant",s)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var cA={mi:"italic",mn:"normal",mtext:"normal"};ro({type:"mathord",htmlBuilder(t,e){return ce.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new ve.MathNode("mi",[ys(t.text,t.mode,e)]),s=K2(t,e)||"italic";return s!==cA[n.type]&&n.setAttribute("mathvariant",s),n}});ro({type:"textord",htmlBuilder(t,e){return ce.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=ys(t.text,t.mode,e),s=K2(t,e)||"normal",r;return t.mode==="text"?r=new ve.MathNode("mtext",[n]):/[0-9]/.test(t.text)?r=new ve.MathNode("mn",[n]):t.text==="\\prime"?r=new ve.MathNode("mo",[n]):r=new ve.MathNode("mi",[n]),s!==cA[r.type]&&r.setAttribute("mathvariant",s),r}});var A1={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},k1={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};ro({type:"spacing",htmlBuilder(t,e){if(k1.hasOwnProperty(t.text)){var n=k1[t.text].className||"";if(t.mode==="text"){var s=ce.makeOrd(t,e,"textord");return s.classes.push(n),s}else return ce.makeSpan(["mspace",n],[ce.mathsym(t.text,t.mode,e)],e)}else{if(A1.hasOwnProperty(t.text))return ce.makeSpan(["mspace",A1[t.text]],[],e);throw new we('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(k1.hasOwnProperty(t.text))n=new ve.MathNode("mtext",[new ve.TextNode("")]);else{if(A1.hasOwnProperty(t.text))return new ve.MathNode("mspace");throw new we('Unknown type of space "'+t.text+'"')}return n}});var Q6=()=>{var t=new ve.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};ro({type:"tag",mathmlBuilder(t,e){var n=new ve.MathNode("mtable",[new ve.MathNode("mtr",[Q6(),new ve.MathNode("mtd",[Ja(t.body,e)]),Q6(),new ve.MathNode("mtd",[Ja(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var K6={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},J6={"\\textbf":"textbf","\\textmd":"textmd"},vW={"\\textit":"textit","\\textup":"textup"},e7=(t,e)=>{var n=t.font;if(n){if(K6[n])return e.withTextFontFamily(K6[n]);if(J6[n])return e.withTextFontWeight(J6[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(vW[n])};De({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:s}=t,r=e[0];return{type:"text",mode:n.mode,body:gn(r),font:s}},htmlBuilder(t,e){var n=e7(t,e),s=Rn(t.body,n,!0);return ce.makeSpan(["mord","text"],s,n)},mathmlBuilder(t,e){var n=e7(t,e);return Ja(t.body,n)}});De({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=mt(t.body,e),s=ce.makeLineSpan("underline-line",e),r=e.fontMetrics().defaultRuleThickness,a=ce.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:r},{type:"elem",elem:s},{type:"kern",size:3*r},{type:"elem",elem:n}]},e);return ce.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var n=new ve.MathNode("mo",[new ve.TextNode("")]);n.setAttribute("stretchy","true");var s=new ve.MathNode("munder",[zt(t.body,e),n]);return s.setAttribute("accentunder","true"),s}});De({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=mt(t.body,e),s=e.fontMetrics().axisHeight,r=.5*(n.height-s-(n.depth+s));return ce.makeVList({positionType:"shift",positionData:r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new ve.MathNode("mpadded",[zt(t.body,e)],["vcenter"])}});De({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new we("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=t7(t),s=[],r=e.havingStyle(e.style.text()),a=0;a<n.length;a++){var l=n[a];l==="~"&&(l="\\textasciitilde"),s.push(ce.makeSymbol(l,"Typewriter-Regular",t.mode,r,["mord","texttt"]))}return ce.makeSpan(["mord","text"].concat(r.sizingClasses(e)),ce.tryCombineChars(s),r)},mathmlBuilder(t,e){var n=new ve.TextNode(t7(t)),s=new ve.MathNode("mtext",[n]);return s.setAttribute("mathvariant","monospace"),s}});var t7=t=>t.body.replace(/ /g,t.star?"":""),Ma=DN,hA=`[ \r
	]`,jW="\\\\[a-zA-Z@]+",wW="\\\\[^\uD800-\uDFFF]",TW="("+jW+")"+hA+"*",SW=`\\\\(
|[ \r	]+
?)[ \r	]*`,C4="[-]",NW=new RegExp(C4+"+$"),AW="("+hA+"+)|"+(SW+"|")+"([!-\\[\\]---]"+(C4+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(C4+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+TW)+("|"+wW+")");class n7{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(AW,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new Hi("EOF",new ji(this,n,n));var s=this.tokenRegex.exec(e);if(s===null||s.index!==n)throw new we("Unexpected character: '"+e[n]+"'",new Hi(e[n],new ji(this,n,n+1)));var r=s[6]||s[3]||(s[2]?"\\ ":" ");if(this.catcodes[r]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new Hi(r,new ji(this,n,this.tokenRegex.lastIndex))}}class kW{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new we("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,s){if(s===void 0&&(s=!1),s){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var MW=JN;H("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});H("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});H("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});H("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});H("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});H("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");H("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var i7={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};H("\\char",function(t){var e=t.popToken(),n,s="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")s=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new we("\\char` missing argument");s=e.text.charCodeAt(0)}else n=10;if(n){if(s=i7[e.text],s==null||s>=n)throw new we("Invalid base-"+n+" digit "+e.text);for(var r;(r=i7[t.future().text])!=null&&r<n;)s*=n,s+=r,t.popToken()}return"\\@char{"+s+"}"});var oy=(t,e,n,s)=>{var r=t.consumeArg().tokens;if(r.length!==1)throw new we("\\newcommand's first argument must be a macro name");var a=r[0].text,l=t.isDefined(a);if(l&&!e)throw new we("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!l&&!n)throw new we("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var o=0;if(r=t.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var c="",h=t.expandNextToken();h.text!=="]"&&h.text!=="EOF";)c+=h.text,h=t.expandNextToken();if(!c.match(/^\s*[0-9]+\s*$/))throw new we("Invalid number of arguments: "+c);o=parseInt(c),r=t.consumeArg().tokens}return l&&s||t.macros.set(a,{tokens:r,numArgs:o}),""};H("\\newcommand",t=>oy(t,!1,!0,!1));H("\\renewcommand",t=>oy(t,!0,!1,!1));H("\\providecommand",t=>oy(t,!0,!0,!0));H("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});H("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});H("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),Ma[n],_t.math[n],_t.text[n]),""});H("\\bgroup","{");H("\\egroup","}");H("~","\\nobreakspace");H("\\lq","`");H("\\rq","'");H("\\aa","\\r a");H("\\AA","\\r A");H("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");H("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");H("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");H("","\\mathscr{B}");H("","\\mathscr{E}");H("","\\mathscr{F}");H("","\\mathscr{H}");H("","\\mathscr{I}");H("","\\mathscr{L}");H("","\\mathscr{M}");H("","\\mathscr{R}");H("","\\mathfrak{C}");H("","\\mathfrak{H}");H("","\\mathfrak{Z}");H("\\Bbbk","\\Bbb{k}");H("","\\cdotp");H("\\llap","\\mathllap{\\textrm{#1}}");H("\\rlap","\\mathrlap{\\textrm{#1}}");H("\\clap","\\mathclap{\\textrm{#1}}");H("\\mathstrut","\\vphantom{(}");H("\\underbar","\\underline{\\text{#1}}");H("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');H("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");H("\\ne","\\neq");H("","\\neq");H("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");H("","\\notin");H("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");H("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");H("","\\perp");H("","\\mathclose{!\\mkern-0.8mu!}");H("","\\notni");H("","\\ulcorner");H("","\\urcorner");H("","\\llcorner");H("","\\lrcorner");H("","\\copyright");H("","\\textregistered");H("","\\textregistered");H("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');H("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');H("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');H("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');H("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");H("","\\vdots");H("\\varGamma","\\mathit{\\Gamma}");H("\\varDelta","\\mathit{\\Delta}");H("\\varTheta","\\mathit{\\Theta}");H("\\varLambda","\\mathit{\\Lambda}");H("\\varXi","\\mathit{\\Xi}");H("\\varPi","\\mathit{\\Pi}");H("\\varSigma","\\mathit{\\Sigma}");H("\\varUpsilon","\\mathit{\\Upsilon}");H("\\varPhi","\\mathit{\\Phi}");H("\\varPsi","\\mathit{\\Psi}");H("\\varOmega","\\mathit{\\Omega}");H("\\substack","\\begin{subarray}{c}#1\\end{subarray}");H("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");H("\\boxed","\\fbox{$\\displaystyle{#1}$}");H("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");H("\\implies","\\DOTSB\\;\\Longrightarrow\\;");H("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");H("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");H("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var s7={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};H("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in s7?e=s7[n]:(n.slice(0,4)==="\\not"||n in _t.math&&["bin","rel"].includes(_t.math[n].group))&&(e="\\dotsb"),e});var cy={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};H("\\dotso",function(t){var e=t.future().text;return e in cy?"\\ldots\\,":"\\ldots"});H("\\dotsc",function(t){var e=t.future().text;return e in cy&&e!==","?"\\ldots\\,":"\\ldots"});H("\\cdots",function(t){var e=t.future().text;return e in cy?"\\@cdots\\,":"\\@cdots"});H("\\dotsb","\\cdots");H("\\dotsm","\\cdots");H("\\dotsi","\\!\\cdots");H("\\dotsx","\\ldots\\,");H("\\DOTSI","\\relax");H("\\DOTSB","\\relax");H("\\DOTSX","\\relax");H("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");H("\\,","\\tmspace+{3mu}{.1667em}");H("\\thinspace","\\,");H("\\>","\\mskip{4mu}");H("\\:","\\tmspace+{4mu}{.2222em}");H("\\medspace","\\:");H("\\;","\\tmspace+{5mu}{.2777em}");H("\\thickspace","\\;");H("\\!","\\tmspace-{3mu}{.1667em}");H("\\negthinspace","\\!");H("\\negmedspace","\\tmspace-{4mu}{.2222em}");H("\\negthickspace","\\tmspace-{5mu}{.277em}");H("\\enspace","\\kern.5em ");H("\\enskip","\\hskip.5em\\relax");H("\\quad","\\hskip1em\\relax");H("\\qquad","\\hskip2em\\relax");H("\\tag","\\@ifstar\\tag@literal\\tag@paren");H("\\tag@paren","\\tag@literal{({#1})}");H("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new we("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});H("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");H("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");H("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");H("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");H("\\newline","\\\\\\relax");H("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var uA=Me(Gs["Main-Regular"][84][1]-.7*Gs["Main-Regular"][65][1]);H("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+uA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");H("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+uA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");H("\\hspace","\\@ifstar\\@hspacer\\@hspace");H("\\@hspace","\\hskip #1\\relax");H("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");H("\\ordinarycolon",":");H("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");H("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');H("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');H("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');H("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');H("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');H("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');H("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');H("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');H("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');H("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');H("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');H("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');H("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');H("","\\dblcolon");H("","\\eqcolon");H("","\\coloneqq");H("","\\eqqcolon");H("","\\Coloneqq");H("\\ratio","\\vcentcolon");H("\\coloncolon","\\dblcolon");H("\\colonequals","\\coloneqq");H("\\coloncolonequals","\\Coloneqq");H("\\equalscolon","\\eqqcolon");H("\\equalscoloncolon","\\Eqqcolon");H("\\colonminus","\\coloneq");H("\\coloncolonminus","\\Coloneq");H("\\minuscolon","\\eqcolon");H("\\minuscoloncolon","\\Eqcolon");H("\\coloncolonapprox","\\Colonapprox");H("\\coloncolonsim","\\Colonsim");H("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");H("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");H("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");H("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");H("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");H("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");H("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");H("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");H("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");H("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");H("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");H("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");H("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");H("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");H("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");H("\\ngeqq","\\html@mathml{\\@ngeqq}{}");H("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");H("\\nleqq","\\html@mathml{\\@nleqq}{}");H("\\nleqslant","\\html@mathml{\\@nleqslant}{}");H("\\nshortmid","\\html@mathml{\\@nshortmid}{}");H("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");H("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");H("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");H("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");H("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");H("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");H("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");H("\\imath","\\html@mathml{\\@imath}{}");H("\\jmath","\\html@mathml{\\@jmath}{}");H("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");H("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");H("","\\llbracket");H("","\\rrbracket");H("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");H("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");H("","\\lBrace");H("","\\rBrace");H("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");H("","\\minuso");H("\\darr","\\downarrow");H("\\dArr","\\Downarrow");H("\\Darr","\\Downarrow");H("\\lang","\\langle");H("\\rang","\\rangle");H("\\uarr","\\uparrow");H("\\uArr","\\Uparrow");H("\\Uarr","\\Uparrow");H("\\N","\\mathbb{N}");H("\\R","\\mathbb{R}");H("\\Z","\\mathbb{Z}");H("\\alef","\\aleph");H("\\alefsym","\\aleph");H("\\Alpha","\\mathrm{A}");H("\\Beta","\\mathrm{B}");H("\\bull","\\bullet");H("\\Chi","\\mathrm{X}");H("\\clubs","\\clubsuit");H("\\cnums","\\mathbb{C}");H("\\Complex","\\mathbb{C}");H("\\Dagger","\\ddagger");H("\\diamonds","\\diamondsuit");H("\\empty","\\emptyset");H("\\Epsilon","\\mathrm{E}");H("\\Eta","\\mathrm{H}");H("\\exist","\\exists");H("\\harr","\\leftrightarrow");H("\\hArr","\\Leftrightarrow");H("\\Harr","\\Leftrightarrow");H("\\hearts","\\heartsuit");H("\\image","\\Im");H("\\infin","\\infty");H("\\Iota","\\mathrm{I}");H("\\isin","\\in");H("\\Kappa","\\mathrm{K}");H("\\larr","\\leftarrow");H("\\lArr","\\Leftarrow");H("\\Larr","\\Leftarrow");H("\\lrarr","\\leftrightarrow");H("\\lrArr","\\Leftrightarrow");H("\\Lrarr","\\Leftrightarrow");H("\\Mu","\\mathrm{M}");H("\\natnums","\\mathbb{N}");H("\\Nu","\\mathrm{N}");H("\\Omicron","\\mathrm{O}");H("\\plusmn","\\pm");H("\\rarr","\\rightarrow");H("\\rArr","\\Rightarrow");H("\\Rarr","\\Rightarrow");H("\\real","\\Re");H("\\reals","\\mathbb{R}");H("\\Reals","\\mathbb{R}");H("\\Rho","\\mathrm{P}");H("\\sdot","\\cdot");H("\\sect","\\S");H("\\spades","\\spadesuit");H("\\sub","\\subset");H("\\sube","\\subseteq");H("\\supe","\\supseteq");H("\\Tau","\\mathrm{T}");H("\\thetasym","\\vartheta");H("\\weierp","\\wp");H("\\Zeta","\\mathrm{Z}");H("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");H("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");H("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");H("\\bra","\\mathinner{\\langle{#1}|}");H("\\ket","\\mathinner{|{#1}\\rangle}");H("\\braket","\\mathinner{\\langle{#1}\\rangle}");H("\\Bra","\\left\\langle#1\\right|");H("\\Ket","\\left|#1\\right\\rangle");var dA=t=>e=>{var n=e.consumeArg().tokens,s=e.consumeArg().tokens,r=e.consumeArg().tokens,a=e.consumeArg().tokens,l=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var c=f=>x=>{t&&(x.macros.set("|",l),r.length&&x.macros.set("\\|",o));var b=f;if(!f&&r.length){var M=x.future();M.text==="|"&&(x.popToken(),b=!0)}return{tokens:b?r:s,numArgs:0}};e.macros.set("|",c(!1)),r.length&&e.macros.set("\\|",c(!0));var h=e.consumeArg().tokens,u=e.expandTokens([...a,...h,...n]);return e.macros.endGroup(),{tokens:u.reverse(),numArgs:0}};H("\\bra@ket",dA(!1));H("\\bra@set",dA(!0));H("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");H("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");H("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");H("\\angln","{\\angl n}");H("\\blue","\\textcolor{##6495ed}{#1}");H("\\orange","\\textcolor{##ffa500}{#1}");H("\\pink","\\textcolor{##ff00af}{#1}");H("\\red","\\textcolor{##df0030}{#1}");H("\\green","\\textcolor{##28ae7b}{#1}");H("\\gray","\\textcolor{gray}{#1}");H("\\purple","\\textcolor{##9d38bd}{#1}");H("\\blueA","\\textcolor{##ccfaff}{#1}");H("\\blueB","\\textcolor{##80f6ff}{#1}");H("\\blueC","\\textcolor{##63d9ea}{#1}");H("\\blueD","\\textcolor{##11accd}{#1}");H("\\blueE","\\textcolor{##0c7f99}{#1}");H("\\tealA","\\textcolor{##94fff5}{#1}");H("\\tealB","\\textcolor{##26edd5}{#1}");H("\\tealC","\\textcolor{##01d1c1}{#1}");H("\\tealD","\\textcolor{##01a995}{#1}");H("\\tealE","\\textcolor{##208170}{#1}");H("\\greenA","\\textcolor{##b6ffb0}{#1}");H("\\greenB","\\textcolor{##8af281}{#1}");H("\\greenC","\\textcolor{##74cf70}{#1}");H("\\greenD","\\textcolor{##1fab54}{#1}");H("\\greenE","\\textcolor{##0d923f}{#1}");H("\\goldA","\\textcolor{##ffd0a9}{#1}");H("\\goldB","\\textcolor{##ffbb71}{#1}");H("\\goldC","\\textcolor{##ff9c39}{#1}");H("\\goldD","\\textcolor{##e07d10}{#1}");H("\\goldE","\\textcolor{##a75a05}{#1}");H("\\redA","\\textcolor{##fca9a9}{#1}");H("\\redB","\\textcolor{##ff8482}{#1}");H("\\redC","\\textcolor{##f9685d}{#1}");H("\\redD","\\textcolor{##e84d39}{#1}");H("\\redE","\\textcolor{##bc2612}{#1}");H("\\maroonA","\\textcolor{##ffbde0}{#1}");H("\\maroonB","\\textcolor{##ff92c6}{#1}");H("\\maroonC","\\textcolor{##ed5fa6}{#1}");H("\\maroonD","\\textcolor{##ca337c}{#1}");H("\\maroonE","\\textcolor{##9e034e}{#1}");H("\\purpleA","\\textcolor{##ddd7ff}{#1}");H("\\purpleB","\\textcolor{##c6b9fc}{#1}");H("\\purpleC","\\textcolor{##aa87ff}{#1}");H("\\purpleD","\\textcolor{##7854ab}{#1}");H("\\purpleE","\\textcolor{##543b78}{#1}");H("\\mintA","\\textcolor{##f5f9e8}{#1}");H("\\mintB","\\textcolor{##edf2df}{#1}");H("\\mintC","\\textcolor{##e0e5cc}{#1}");H("\\grayA","\\textcolor{##f6f7f7}{#1}");H("\\grayB","\\textcolor{##f0f1f2}{#1}");H("\\grayC","\\textcolor{##e3e5e6}{#1}");H("\\grayD","\\textcolor{##d6d8da}{#1}");H("\\grayE","\\textcolor{##babec2}{#1}");H("\\grayF","\\textcolor{##888d93}{#1}");H("\\grayG","\\textcolor{##626569}{#1}");H("\\grayH","\\textcolor{##3b3e40}{#1}");H("\\grayI","\\textcolor{##21242c}{#1}");H("\\kaBlue","\\textcolor{##314453}{#1}");H("\\kaGreen","\\textcolor{##71B307}{#1}");var fA={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class EW{constructor(e,n,s){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new kW(MW,n.macros),this.mode=s,this.stack=[]}feed(e){this.lexer=new n7(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,s,r;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:r,end:s}=this.consumeArg(["]"])}else({tokens:r,start:n,end:s}=this.consumeArg());return this.pushToken(new Hi("EOF",s.loc)),this.pushTokens(r),new Hi("",ji.range(n,s))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],s=e&&e.length>0;s||this.consumeSpaces();var r=this.future(),a,l=0,o=0;do{if(a=this.popToken(),n.push(a),a.text==="{")++l;else if(a.text==="}"){if(--l,l===-1)throw new we("Extra }",a)}else if(a.text==="EOF")throw new we("Unexpected end of input in a macro argument, expected '"+(e&&s?e[o]:"}")+"'",a);if(e&&s)if((l===0||l===1&&e[o]==="{")&&a.text===e[o]){if(++o,o===e.length){n.splice(-o,o);break}}else o=0}while(l!==0||s);return r.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:r,end:a}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new we("The length of delimiters doesn't match the number of args!");for(var s=n[0],r=0;r<s.length;r++){var a=this.popToken();if(s[r]!==a.text)throw new we("Use of the macro doesn't match its definition",a)}}for(var l=[],o=0;o<e;o++)l.push(this.consumeArg(n&&n[o+1]).tokens);return l}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new we("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),s=n.text,r=n.noexpand?null:this._getExpansion(s);if(r==null||e&&r.unexpandable){if(e&&r==null&&s[0]==="\\"&&!this.isDefined(s))throw new we("Undefined control sequence: "+s);return this.pushToken(n),!1}this.countExpansion(1);var a=r.tokens,l=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var c=a[o];if(c.text==="#"){if(o===0)throw new we("Incomplete placeholder at end of macro body",c);if(c=a[--o],c.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(c.text))a.splice(o,2,...l[+c.text-1]);else throw new we("Not a valid argument number",c)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Hi(e)]):void 0}expandTokens(e){var n=[],s=this.stack.length;for(this.pushTokens(e);this.stack.length>s;)if(this.expandOnce(!0)===!1){var r=this.stack.pop();r.treatAsRelax&&(r.noexpand=!1,r.treatAsRelax=!1),n.push(r)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(s=>s.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var s=this.lexer.catcodes[e];if(s!=null&&s!==13)return}var r=typeof n=="function"?n(this):n;if(typeof r=="string"){var a=0;if(r.indexOf("#")!==-1)for(var l=r.replace(/##/g,"");l.indexOf("#"+(a+1))!==-1;)++a;for(var o=new n7(r,this.settings),c=[],h=o.lex();h.text!=="EOF";)c.push(h),h=o.lex();c.reverse();var u={tokens:c,numArgs:a};return u}return r}isDefined(e){return this.macros.has(e)||Ma.hasOwnProperty(e)||_t.math.hasOwnProperty(e)||_t.text.hasOwnProperty(e)||fA.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Ma.hasOwnProperty(e)&&!Ma[e].primitive}}var r7=/^[]/,Zu=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),M1={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},a7={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class Sm{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new EW(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new we("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Hi("}")),this.gullet.pushTokens(e);var s=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,s}parseExpression(e,n){for(var s=[];;){this.mode==="math"&&this.consumeSpaces();var r=this.fetch();if(Sm.endOfExpression.indexOf(r.text)!==-1||n&&r.text===n||e&&Ma[r.text]&&Ma[r.text].infix)break;var a=this.parseAtom(n);if(a){if(a.type==="internal")continue}else break;s.push(a)}return this.mode==="text"&&this.formLigatures(s),this.handleInfixNodes(s)}handleInfixNodes(e){for(var n=-1,s,r=0;r<e.length;r++)if(e[r].type==="infix"){if(n!==-1)throw new we("only one infix operator per group",e[r].token);n=r,s=e[r].replaceWith}if(n!==-1&&s){var a,l,o=e.slice(0,n),c=e.slice(n+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},c.length===1&&c[0].type==="ordgroup"?l=c[0]:l={type:"ordgroup",mode:this.mode,body:c};var h;return s==="\\\\abovefrac"?h=this.callFunction(s,[a,e[n],l],[]):h=this.callFunction(s,[a,l],[]),[h]}else return e}handleSupSubscript(e){var n=this.fetch(),s=n.text;this.consume(),this.consumeSpaces();var r;do{var a;r=this.parseGroup(e)}while(((a=r)==null?void 0:a.type)==="internal");if(!r)throw new we("Expected group after '"+s+"'",n);return r}formatUnsupportedCmd(e){for(var n=[],s=0;s<e.length;s++)n.push({type:"textord",mode:"text",text:e[s]});var r={type:"text",mode:this.mode,body:n},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[r]};return a}parseAtom(e){var n=this.parseGroup("atom",e);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var s,r;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(n&&n.type==="op"){var l=a.text==="\\limits";n.limits=l,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=a.text==="\\limits");else throw new we("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(s)throw new we("Double superscript",a);s=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(r)throw new we("Double subscript",a);r=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(s)throw new we("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},c=[o];for(this.consume();this.fetch().text==="'";)c.push(o),this.consume();this.fetch().text==="^"&&c.push(this.handleSupSubscript("superscript")),s={type:"ordgroup",mode:this.mode,body:c}}else if(Zu[a.text]){var h=r7.test(a.text),u=[];for(u.push(new Hi(Zu[a.text])),this.consume();;){var f=this.fetch().text;if(!Zu[f]||r7.test(f)!==h)break;u.unshift(new Hi(Zu[f])),this.consume()}var x=this.subparse(u);h?r={type:"ordgroup",mode:"math",body:x}:s={type:"ordgroup",mode:"math",body:x}}else break}return s||r?{type:"supsub",mode:this.mode,base:n,sup:s,sub:r}:n}parseFunction(e,n){var s=this.fetch(),r=s.text,a=Ma[r];if(!a)return null;if(this.consume(),n&&n!=="atom"&&!a.allowedInArgument)throw new we("Got function '"+r+"' with no arguments"+(n?" as "+n:""),s);if(this.mode==="text"&&!a.allowedInText)throw new we("Can't use function '"+r+"' in text mode",s);if(this.mode==="math"&&a.allowedInMath===!1)throw new we("Can't use function '"+r+"' in math mode",s);var{args:l,optArgs:o}=this.parseArguments(r,a);return this.callFunction(r,l,o,s,e)}callFunction(e,n,s,r,a){var l={funcName:e,parser:this,token:r,breakOnTokenText:a},o=Ma[e];if(o&&o.handler)return o.handler(l,n,s);throw new we("No function handler for "+e)}parseArguments(e,n){var s=n.numArgs+n.numOptionalArgs;if(s===0)return{args:[],optArgs:[]};for(var r=[],a=[],l=0;l<s;l++){var o=n.argTypes&&n.argTypes[l],c=l<n.numOptionalArgs;(n.primitive&&o==null||n.type==="sqrt"&&l===1&&a[0]==null)&&(o="primitive");var h=this.parseGroupOfType("argument to '"+e+"'",o,c);if(c)a.push(h);else if(h!=null)r.push(h);else throw new we("Null argument, please report this as a bug")}return{args:r,optArgs:a}}parseGroupOfType(e,n,s){switch(n){case"color":return this.parseColorGroup(s);case"size":return this.parseSizeGroup(s);case"url":return this.parseUrlGroup(s);case"math":case"text":return this.parseArgumentGroup(s,n);case"hbox":{var r=this.parseArgumentGroup(s,"text");return r!=null?{type:"styling",mode:r.mode,body:[r],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",s);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(s)throw new we("A primitive argument cannot be optional");var l=this.parseGroup(e);if(l==null)throw new we("Expected group as "+e,this.fetch());return l}case"original":case null:case void 0:return this.parseArgumentGroup(s);default:throw new we("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var s=this.gullet.scanArgument(n);if(s==null)return null;for(var r="",a;(a=this.fetch()).text!=="EOF";)r+=a.text,this.consume();return this.consume(),s.text=r,s}parseRegexGroup(e,n){for(var s=this.fetch(),r=s,a="",l;(l=this.fetch()).text!=="EOF"&&e.test(a+l.text);)r=l,a+=r.text,this.consume();if(a==="")throw new we("Invalid "+n+": '"+s.text+"'",s);return s.range(r,a)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var s=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!s)throw new we("Invalid color: '"+n.text+"'",n);var r=s[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}}parseSizeGroup(e){var n,s=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",s=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!r)throw new we("Invalid size: '"+n.text+"'",n);var a={number:+(r[1]+r[2]),unit:r[3]};if(!TN(a))throw new we("Invalid unit: '"+a.unit+"'",n);return{type:"size",mode:this.mode,value:a,isBlank:s}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var s=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:s}}parseArgumentGroup(e,n){var s=this.gullet.scanArgument(e);if(s==null)return null;var r=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var l={type:"ordgroup",mode:this.mode,loc:s.loc,body:a};return n&&this.switchMode(r),l}parseGroup(e,n){var s=this.fetch(),r=s.text,a;if(r==="{"||r==="\\begingroup"){this.consume();var l=r==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,l),c=this.fetch();this.expect(l),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:ji.range(s,c),body:o,semisimple:r==="\\begingroup"||void 0}}else if(a=this.parseFunction(n,e)||this.parseSymbol(),a==null&&r[0]==="\\"&&!fA.hasOwnProperty(r)){if(this.settings.throwOnError)throw new we("Undefined control sequence: "+r,s);a=this.formatUnsupportedCmd(r),this.consume()}return a}formLigatures(e){for(var n=e.length-1,s=0;s<n;++s){var r=e[s],a=r.text;a==="-"&&e[s+1].text==="-"&&(s+1<n&&e[s+2].text==="-"?(e.splice(s,3,{type:"textord",mode:"text",loc:ji.range(r,e[s+2]),text:"---"}),n-=2):(e.splice(s,2,{type:"textord",mode:"text",loc:ji.range(r,e[s+1]),text:"--"}),n-=1)),(a==="'"||a==="`")&&e[s+1].text===a&&(e.splice(s,2,{type:"textord",mode:"text",loc:ji.range(r,e[s+1]),text:a+a}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var s=n.slice(5),r=s.charAt(0)==="*";if(r&&(s=s.slice(1)),s.length<2||s.charAt(0)!==s.slice(-1))throw new we(`\\verb assertion failed --
                    please report what input caused this bug`);return s=s.slice(1,-1),{type:"verb",mode:"text",body:s,star:r}}a7.hasOwnProperty(n[0])&&!_t[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=a7[n[0]]+n.slice(1));var a=NW.exec(n);a&&(n=n.substring(0,a.index),n==="i"?n="":n==="j"&&(n=""));var l;if(_t[this.mode][n]){this.settings.strict&&this.mode==="math"&&N4.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var o=_t[this.mode][n].group,c=ji.range(e),h;if(gG.hasOwnProperty(o)){var u=o;h={type:"atom",mode:this.mode,family:u,loc:c,text:n}}else h={type:o,mode:this.mode,loc:c,text:n};l=h}else if(n.charCodeAt(0)>=128)this.settings.strict&&(wN(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),l={type:"textord",mode:"text",loc:ji.range(e),text:n};else return null;if(this.consume(),a)for(var f=0;f<a[0].length;f++){var x=a[0][f];if(!M1[x])throw new we("Unknown accent ' "+x+"'",e);var b=M1[x][this.mode]||M1[x].text;if(!b)throw new we("Accent "+x+" unsupported in "+this.mode+" mode",e);l={type:"accent",mode:this.mode,loc:ji.range(e),label:b,isStretchy:!1,isShifty:!0,base:l}}return l}}Sm.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var hy=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var s=new Sm(e,n);delete s.gullet.macros.current["\\df@tag"];var r=s.parse();if(delete s.gullet.macros.current["\\current@color"],delete s.gullet.macros.current["\\color"],s.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new we("\\tag works only in display equations");r=[{type:"tag",mode:"text",body:r,tag:s.subparse([new Hi("\\df@tag")])}]}return r},mA=function(e,n,s){n.textContent="";var r=uy(e,s).toNode();n.appendChild(r)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),mA=function(){throw new we("KaTeX doesn't work in quirks mode.")});var CW=function(e,n){var s=uy(e,n).toMarkup();return s},zW=function(e,n){var s=new G2(n);return hy(e,s)},pA=function(e,n,s){if(s.throwOnError||!(e instanceof we))throw e;var r=ce.makeSpan(["katex-error"],[new gs(n)]);return r.setAttribute("title",e.toString()),r.setAttribute("style","color:"+s.errorColor),r},uy=function(e,n){var s=new G2(n);try{var r=hy(e,s);return $G(r,e,s)}catch(a){return pA(a,e,s)}},DW=function(e,n){var s=new G2(n);try{var r=hy(e,s);return LG(r,e,s)}catch(a){return pA(a,e,s)}},PW="0.16.27",IW={Span:Hh,Anchor:X2,SymbolNode:gs,SvgNode:Wr,PathNode:Ka,LineNode:S4},RW={version:PW,render:mA,renderToString:CW,ParseError:we,SETTINGS_SCHEMA:jd,__parse:zW,__renderToDomTree:uy,__renderToHTMLTree:DW,__setFontMetrics:cG,__defineSymbol:z,__defineFunction:De,__defineMacro:H,__domTree:IW};function Y({children:t,className:e=""}){const n=q.useRef(null);return q.useEffect(()=>{n.current&&RW.render(t,n.current,{throwOnError:!1,displayMode:!0})},[t]),i.jsx("div",{ref:n,className:`my-6 text-center text-lg overflow-x-auto ${e}`})}const kf=[{id:"def-sample",title:"Sample Definition",statement:"A function $f: A \\to B$ is a mapping from set $A$ to set $B$.",sectionId:1,category:"Fundamentals",type:"definition"},{id:"thm-sample",title:"Sample Theorem",statement:"If $A \\subseteq B$ and $B \\subseteq A$, then $A = B$",sectionId:2,category:"Fundamentals",type:"theorem",hasProof:!0,proof:`
      Let $x \\in A$. Since $A \\subseteq B$, we have $x \\in B$ by definition of subset.
      Therefore, every element of $A$ is in $B$.
      
      Now, let $y \\in B$. Since $B \\subseteq A$, we have $y \\in A$ by definition.
      Therefore, every element of $B$ is in $A$.
      
      Since $A \\subseteq B$ and $B \\subseteq A$, the two sets contain exactly the same elements.
      Thus, $A = B$.
    `}];function _W(){return[...new Set(kf.map(t=>t.category).filter(t=>!!t))]}function qW(t){const e=t.toLowerCase();return kf.filter(n=>n.title.toLowerCase().includes(e)||n.statement.toLowerCase().includes(e))}function OW(){const[t,e]=q.useState(!1),[n,s]=q.useState(""),[r,a]=q.useState(null),l=n?qW(n):kf,o=n?[{category:"Search Results",items:l}]:_W().map(u=>({category:u,items:kf.filter(f=>f.category===u)})),c=u=>{a(r===u?null:u)},h={theorem:"text-amber-400 bg-amber-500/10",definition:"text-blue-400 bg-blue-500/10",lemma:"text-purple-400 bg-purple-500/10",corollary:"text-green-400 bg-green-500/10",proposition:"text-cyan-400 bg-cyan-500/10"};return i.jsxs("div",{className:"min-h-screen bg-dark-950",children:[i.jsx(xm,{onToggleSidebar:()=>e(!t),sidebarOpen:t}),i.jsx(gm,{isOpen:t,onClose:()=>e(!1)}),i.jsx("main",{className:"pt-20 pb-12 px-4 lg:pl-80 lg:pr-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-2",children:"Theorems & Definitions"}),i.jsxs("p",{className:"text-dark-400 mb-8",children:["Quick reference for all theorems and definitions in ",Dg]}),i.jsx("div",{className:"mb-8",children:i.jsx("input",{type:"text",placeholder:"Search theorems and definitions...",value:n,onChange:u=>s(u.target.value),className:"w-full px-4 py-3 rounded-xl bg-dark-800 border border-dark-700 text-dark-100 placeholder-dark-500 focus:outline-none focus:border-primary-500 transition-colors"})}),i.jsx("div",{className:"bg-gradient-to-br from-amber-500/10 to-dark-800/50 border border-amber-500/20 rounded-2xl p-4 mb-8",children:i.jsxs("p",{className:"text-amber-300 text-sm",children:[i.jsx("span",{className:"font-semibold",children:"Tip:"})," Click any theorem to go to its section. Many include expandable proofs with LaTeX!"]})}),i.jsx("div",{className:"space-y-8",children:o.map(({category:u,items:f})=>i.jsxs("div",{className:"space-y-3",children:[i.jsxs("h2",{className:"text-xl font-bold text-dark-200 border-b border-dark-700/50 pb-2 flex items-center gap-3",children:[i.jsx("span",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-500/20 to-orange-500/10 flex items-center justify-center text-sm font-bold text-amber-400",children:f.length}),u]}),i.jsx("div",{className:"space-y-2",children:f.map(x=>i.jsx(wi,{to:`/section/${x.sectionId}`,className:"block group",children:i.jsxs("div",{className:"relative overflow-hidden rounded-xl bg-dark-800/40 border border-dark-700/50 p-4 transition-all duration-200 hover:border-amber-500/30 hover:bg-dark-800/60",children:[i.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-gradient-to-b from-amber-500 to-orange-600 opacity-40 group-hover:opacity-100 transition-opacity"}),i.jsxs("div",{className:"pl-3",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[x.type&&i.jsx("span",{className:`text-[10px] font-semibold uppercase tracking-wider px-2 py-0.5 rounded ${h[x.type]||"text-dark-400 bg-dark-700"}`,children:x.type}),i.jsxs("span",{className:"text-[10px] text-dark-500",children:["Section ",x.sectionId]}),x.sectionTitle&&i.jsx("span",{className:"text-[10px] text-dark-600",children:x.sectionTitle}),x.hasProof&&x.proof&&i.jsx("span",{onClick:b=>{b.preventDefault(),c(x.id)},className:"ml-auto text-[10px] text-amber-500/70 font-medium cursor-pointer hover:text-amber-400 transition-colors",children:r===x.id?"Hide Proof":"View Proof"})]}),i.jsx("h3",{className:"font-semibold text-amber-400 group-hover:text-amber-300 transition-colors",children:x.title}),i.jsx("p",{className:"text-sm text-dark-400 mt-1",children:x.statement}),x.hasProof&&x.proof&&i.jsx("div",{className:"mt-3",children:i.jsx(mh,{children:r===x.id?i.jsx(Ps.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:i.jsxs("div",{className:"pt-4 border-t border-dark-700/50",children:[i.jsx("h4",{className:"text-sm font-semibold text-amber-400 mb-2",children:"Proof:"}),i.jsx(Y,{children:x.proof})]})}):null})})]})]})},x.id))})]},u))}),l.length===0&&i.jsx("div",{className:"text-center py-12 text-dark-400",children:"No theorems found matching your search."}),i.jsx("div",{className:"mt-12 pt-8 border-t border-dark-700/50 flex justify-between items-center",children:i.jsxs(wi,{to:"/interactive",className:"text-primary-400 hover:text-primary-300 transition-colors flex items-center gap-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-5-9-5 5-2-9 0-9 5 5 9 12 19 19 2 12 0 0 0 9 5-2-9-5-9 0-9 5-9-5 5-2 9 0 9-5"})}),"Interactive Modules"]})})]})})]})}const E1=[{id:"demo-1",title:"Example Demo",description:"An interactive demonstration of the concept.",sectionId:0,sectionTitle:"Welcome",category:"Basics",icon:""}];function BW(){const[t,e]=q.useState(!1),[n,s]=q.useState(null),r=[...new Set(E1.map(l=>l.category))],a=n?E1.filter(l=>l.category===n):E1;return i.jsxs("div",{className:"min-h-screen bg-dark-950",children:[i.jsx(xm,{onToggleSidebar:()=>e(!t),sidebarOpen:t}),i.jsx(gm,{isOpen:t,onClose:()=>e(!1)}),i.jsx("main",{className:"pt-20 pb-12 px-4 lg:pl-80 lg:pr-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("h1",{className:"text-3xl font-bold text-dark-100 mb-2",children:"Interactive Modules"}),i.jsx("p",{className:"text-dark-400 mb-8",children:"Explore concepts through hands-on interactive visualizations"}),i.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[i.jsx("button",{onClick:()=>s(null),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===null?"bg-primary-500 text-white":"bg-dark-800 text-dark-300 hover:bg-dark-700"}`,children:"All"}),r.map(l=>i.jsx("button",{onClick:()=>s(l),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===l?"bg-primary-500 text-white":"bg-dark-800 text-dark-300 hover:bg-dark-700"}`,children:l},l))]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(l=>i.jsx(wi,{to:`/section/${l.sectionId}`,className:"p-6 rounded-2xl bg-dark-800/50 border border-dark-700/50 hover:border-primary-500/30 transition-colors group",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500/20 to-primary-600/10 flex items-center justify-center text-2xl",children:l.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-dark-100 group-hover:text-primary-400 transition-colors",children:l.title}),i.jsx("p",{className:"text-sm text-dark-400 mt-1",children:l.description}),i.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[i.jsx("span",{className:"text-xs px-2 py-1 rounded bg-dark-700 text-dark-300",children:l.category}),i.jsxs("span",{className:"text-xs text-dark-500",children:["Section ",l.sectionId]})]})]})]})},l.id))}),a.length===0&&i.jsx("div",{className:"text-center py-12 text-dark-400",children:"No modules found in this category."})]})})]})}function xe({title:t,children:e,className:n=""}){return i.jsxs("div",{className:`my-6 p-6 rounded-2xl bg-gradient-to-br from-blue-500/10 to-blue-600/5 border border-blue-500/20 ${n}`,children:[i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:i.jsx("svg",{className:"w-4 h-4 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs font-semibold text-blue-400 uppercase tracking-wider",children:"Definition"}),i.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:t})]})]}),i.jsx("div",{className:"text-dark-300 pl-11",children:e})]})}function ue({title:t,children:e,proof:n,className:s=""}){const[r,a]=q.useState(!1);return i.jsxs("div",{className:`my-6 p-6 rounded-2xl bg-gradient-to-br from-amber-500/10 to-amber-600/5 border border-amber-500/20 ${s}`,children:[i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-amber-500/20 flex items-center justify-center flex-shrink-0",children:i.jsx("svg",{className:"w-4 h-4 text-amber-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs font-semibold text-amber-400 uppercase tracking-wider",children:"Theorem"}),i.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:t})]})]}),i.jsx("div",{className:"text-dark-300 pl-11",children:e}),n&&i.jsxs("div",{className:"mt-4 pl-11",children:[i.jsxs("button",{onClick:()=>a(!r),className:"flex items-center gap-2 text-sm text-amber-400 hover:text-amber-300 transition-colors",children:[i.jsx("svg",{className:`w-4 h-4 transition-transform ${r?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),r?"Hide Proof":"Show Proof"]}),i.jsx(mh,{children:r&&i.jsx(Ps.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden",children:i.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-dark-800/50 border border-dark-700/50 text-dark-300",children:[i.jsx("div",{className:"text-xs font-semibold text-dark-500 uppercase tracking-wider mb-2",children:"Proof"}),n,i.jsx("div",{className:"text-right mt-4 text-dark-500",children:""})]})})})]})]})}function bh({title:t,children:e,className:n=""}){return i.jsxs("div",{className:`my-6 p-6 rounded-2xl bg-gradient-to-br from-emerald-500/10 to-emerald-600/5 border border-emerald-500/20 ${n}`,children:[i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-500/20 flex items-center justify-center flex-shrink-0",children:i.jsx("svg",{className:"w-4 h-4 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs font-semibold text-emerald-400 uppercase tracking-wider",children:"Example"}),i.jsx("h3",{className:"text-lg font-semibold text-dark-100",children:t})]})]}),i.jsx("div",{className:"text-dark-300 pl-11",children:e})]})}const $W={info:{bg:"bg-blue-500/5",border:"border-blue-500/30",icon:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",iconColor:"text-blue-400"},warning:{bg:"bg-yellow-500/5",border:"border-yellow-500/30",icon:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",iconColor:"text-yellow-400"},danger:{bg:"bg-red-500/5",border:"border-red-500/30",icon:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",iconColor:"text-red-400"},success:{bg:"bg-emerald-500/5",border:"border-emerald-500/30",icon:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",iconColor:"text-emerald-400"},important:{bg:"bg-purple-500/5",border:"border-purple-500/30",icon:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z",iconColor:"text-purple-400"}};function fe({type:t="info",title:e,children:n,className:s=""}){const r=$W[t];return i.jsx("div",{className:`my-6 p-4 rounded-xl ${r.bg} border ${r.border} ${s}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("svg",{className:`w-5 h-5 ${r.iconColor} flex-shrink-0 mt-0.5`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:r.icon})}),i.jsxs("div",{className:"flex-1",children:[e&&i.jsx("h4",{className:`font-semibold ${r.iconColor} mb-1`,children:e}),i.jsx("div",{className:"text-dark-300 text-sm",children:n})]})]})})}const LW=[{id:1,type:"multiple-choice",question:"Who are the two mathematicians credited with independently discovering the coordinate approach to geometry around 1630?",options:["Euclid and Pythagoras","Fermat and Descartes","Newton and Leibniz","Gauss and Riemann"],correctIndex:1,difficulty:"easy",explanation:"Pierre de Fermat and Ren Descartes independently discovered the advantages of using coordinates in geometry around 1630. Descartes published first in 1637."},{id:2,type:"multiple-choice",question:'Why is the coordinate approach called "Cartesian" geometry?',options:["It was developed in Carthage","It uses carts to measure distances","From the old way of writing Descartes' name: Des Cartes","It was named after a Greek mathematician"],correctIndex:2,difficulty:"easy",explanation:`The coordinate approach became known as "Cartesian" from the old way of writing Descartes' name: Des Cartes.`},{id:3,type:"multiple-choice",question:"What notation represents the Cartesian plane (number plane)?",options:["$\\mathbb{Z}$","$\\mathbb{Q}$","$\\mathbb{R}^2$","$\\mathbb{C}$"],correctIndex:2,difficulty:"easy",explanation:"The Cartesian plane is denoted $\\mathbb{R}^2$, which is the set of all ordered pairs of real numbers."},{id:4,type:"multiple-choice",question:"Why is the order in an ordered pair $(a, b)$ important?",options:["It's not important - $(a, b) = (b, a)$","The first number is always larger","$(3, 4)$ and $(4, 3)$ represent different points","Order only matters for negative numbers"],correctIndex:2,difficulty:"medium",explanation:"The order matters because (3, 4) is the point with x-coordinate 3 and y-coordinate 4, which is different from (4, 3). Just as 3rd Street and 4th Avenue differs from 4th Street and 3rd Avenue!"}],FW=[{id:1,type:"multiple-choice",question:"What is the slope of a line?",options:["The y-intercept","The ratio of rise to run","The length of the line","The x-intercept"],correctIndex:1,difficulty:"easy",explanation:"The slope is the ratio of the vertical change (rise) to the horizontal change (run) between any two points on the line: $\\frac{y_2 - y_1}{x_2 - x_1}$."},{id:2,type:"multiple-choice",question:"In the equation $y = ax + c$, what does $c$ represent?",options:["The slope","The x-intercept","The y-intercept","The length of the line"],correctIndex:2,difficulty:"easy",explanation:"In the slope-intercept form $y = ax + c$, $a$ is the slope and $c$ is the y-intercept (where the line crosses the y-axis)."},{id:3,type:"multiple-choice",question:"What type of line does NOT have a finite slope?",options:["Horizontal line","Diagonal line","Vertical line","All lines have finite slopes"],correctIndex:2,difficulty:"medium",explanation:"Vertical lines do not have a finite slope (they have infinite slope) because they don't cross the y-axis and have the form $x = c$."},{id:4,type:"multiple-choice",question:"What is true about parallel lines?",options:["They have perpendicular slopes","They have the same slope","They always intersect","They have different y-intercepts only"],correctIndex:1,difficulty:"medium",explanation:"Parallel lines have the same slope. Distinct lines $y = ax + c$ and $y = a'x + c'$ have a common point unless they have the same slope ($a = a'$)."}],UW=[{id:1,type:"multiple-choice",question:"What is the distance formula for points $(x_1, y_1)$ and $(x_2, y_2)$?",options:["$|x_2 - x_1| + |y_2 - y_1|$","$\\sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2}$","$(x_2 - x_1)(y_2 - y_1)$","$\\frac{x_2 + y_2}{x_1 + y_1}$"],correctIndex:1,difficulty:"easy",explanation:"The distance formula comes from the Pythagorean theorem: $d = \\sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2}$."},{id:2,type:"multiple-choice",question:"What is the equation of a circle with center $(a, b)$ and radius $r$?",options:["$(x + a)^2 + (y + b)^2 = r$","$(x - a)^2 + (y - b)^2 = r^2$","$x^2 + y^2 = a^2 + b^2$","$(x - a) + (y - b) = r$"],correctIndex:1,difficulty:"easy",explanation:"A circle is all points at distance $r$ from center $(a, b)$, giving the equation $(x - a)^2 + (y - b)^2 = r^2$."},{id:3,type:"multiple-choice",question:"The set of all points equidistant from two points A and B forms what?",options:["A circle","A parabola","A line (the perpendicular bisector)","An ellipse"],correctIndex:2,difficulty:"medium",explanation:"The set of all points equidistant from two distinct points forms the perpendicular bisector of the segment connecting them."},{id:4,type:"multiple-choice",question:"What does the triangle inequality state?",options:["All triangles have equal sides","Any two sides together are greater than the third side","The angles of a triangle sum to 180","Triangles have three vertices"],correctIndex:1,difficulty:"medium",explanation:"The triangle inequality states that for any triangle, the sum of any two sides is greater than the third side: $|OP| + |PQ| > |OQ|$."}],HW=[{id:1,type:"multiple-choice",question:"What operations are needed to find all intersection points in straightedge and compass constructions?",options:["Only $+$ and $-$","Only $\\times$ and $\\div$","$+$, $-$, $\\times$, $\\div$, and $\\sqrt{}$","Trigonometric functions"],correctIndex:2,difficulty:"medium",explanation:"All intersection points can be found using $+$, $-$, $\\times$, $\\div$, and $\\sqrt{}$. This is the algebraic criterion for constructibility."},{id:2,type:"multiple-choice",question:"When finding the intersection of two circles, what happens when you subtract one equation from the other?",options:["You get another circle equation","The $x^2$ and $y^2$ terms cancel, leaving a linear equation","You get a cubic equation","The equations have no solution"],correctIndex:1,difficulty:"medium",explanation:"Subtracting one circle equation from another eliminates the $x^2$ and $y^2$ terms, leaving a linear equation (the radical axis)."},{id:3,type:"multiple-choice",question:"Why can't we trisect an arbitrary angle with straightedge and compass?",options:["It requires too many steps","$\\cos(\\pi/9)$ cannot be expressed with finite square roots","Ancient Greeks forbade it","The compass isn't accurate enough"],correctIndex:1,difficulty:"hard",explanation:"Trisecting $\\pi/3$ requires constructing $\\cos(\\pi/9)$, which cannot be expressed by a finite number of square roots, making it impossible with straightedge and compass."}],VW=[{id:1,type:"multiple-choice",question:"Why do we use slope instead of angle in algebraic geometry?",options:["Slope is easier to measure","Angles don't exist in geometry","Slope is an algebraic function, but $\\tan^{-1}$ is not","Ancient Greeks didn't know about angles"],correctIndex:2,difficulty:"medium",explanation:"The angle $\\theta = \\tan^{-1}(t)$ is not an algebraic function. To stay within the world of algebra, we work with slope $t$ rather than angle."},{id:2,type:"multiple-choice",question:"Two lines with slopes $t_1$ and $t_2$ are perpendicular if and only if:",options:["$t_1 = t_2$","$t_1 + t_2 = 0$","$t_1 \\cdot t_2 = -1$","$t_1 \\cdot t_2 = 1$"],correctIndex:2,difficulty:"easy",explanation:"The condition for perpendicularity is $t_1 \\cdot t_2 = -1$. The product of slopes of perpendicular lines is $-1$."},{id:3,type:"multiple-choice",question:"A rotation $r_{c,s}$ about the origin sends $(x, y)$ to:",options:["$(x + c, y + s)$","$(cx, sy)$","$(cx - sy, sx + cy)$","$(x - c, y - s)$"],correctIndex:2,difficulty:"medium",explanation:"The rotation $r_{c,s}$ sends $(x, y)$ to $(cx - sy, sx + cy)$, where $c = \\cos\\theta$ and $s = \\sin\\theta$."}],GW=[{id:1,type:"multiple-choice",question:"What is an isometry?",options:["A transformation that changes all distances","A transformation that preserves distances","A type of triangle","A measurement tool"],correctIndex:1,difficulty:"easy",explanation:'An isometry (from Greek for "same length") is a transformation that preserves the distance between any two points: $|f(P_1)f(P_2)| = |P_1P_2|$.'},{id:2,type:"multiple-choice",question:"Which of the following is NOT a type of isometry?",options:["Translation","Rotation","Dilation (scaling)","Reflection"],correctIndex:2,difficulty:"easy",explanation:"Dilation (scaling) changes distances and is not an isometry. The four types of plane isometries are translation, rotation, reflection, and glide reflection."},{id:3,type:"multiple-choice",question:"A translation $t_{a,b}$ sends the point $(x, y)$ to:",options:["$(ax, by)$","$(x + a, y + b)$","$(x - a, y - b)$","$(xa, yb)$"],correctIndex:1,difficulty:"easy",explanation:"A translation moves every point by the same amount: $t_{a,b}(x, y) = (x + a, y + b)$."},{id:4,type:"multiple-choice",question:"Reflection in the x-axis sends $(x, y)$ to:",options:["$(-x, y)$","$(x, -y)$","$(-x, -y)$","$(y, x)$"],correctIndex:1,difficulty:"easy",explanation:"Reflection in the x-axis flips the y-coordinate: $(x, y) \\mapsto (x, -y)$."}],WW=[{id:1,type:"multiple-choice",question:"An isometry of $\\mathbb{R}^2$ is determined by the images of how many points (not in a line)?",options:["One","Two","Three","Four"],correctIndex:2,difficulty:"medium",explanation:"An isometry is completely determined by the images of three points not in a line, because any point P is uniquely determined by its distances from three non-collinear points."},{id:2,type:"multiple-choice",question:"According to the Three Reflections Theorem, any isometry is a combination of at most how many reflections?",options:["One","Two","Three","Four"],correctIndex:2,difficulty:"easy",explanation:"The Three Reflections Theorem states that any isometry of $\\mathbb{R}^2$ is a combination of one, two, or three reflections."},{id:3,type:"multiple-choice",question:"A combination of two reflections in parallel lines produces:",options:["A rotation","A translation","A glide reflection","Another reflection"],correctIndex:1,difficulty:"medium",explanation:"Two reflections in parallel lines combine to form a translation perpendicular to the lines, through twice the distance between them."},{id:4,type:"multiple-choice",question:"A combination of two reflections in intersecting lines produces:",options:["A translation","A rotation","A glide reflection","The identity"],correctIndex:1,difficulty:"medium",explanation:"Two reflections in lines meeting at angle $\\theta/2$ combine to form a rotation through angle $\\theta$ about the point of intersection."}],YW=[{id:1,type:"multiple-choice",question:"What is the name of Felix Klein's 1872 address that characterized geometry as the study of transformation groups?",options:["The Principia","The Elements","The Erlanger Programm","The Foundations"],correctIndex:2,difficulty:"medium",explanation:"Klein's Erlanger Programm (1872) characterized geometry as the study of transformation groups and their invariants."},{id:2,type:"multiple-choice",question:"What are the invariants preserved by the isometry group of $\\mathbb{R}^2$?",options:["Only length","Length, angle, and straightness","Only area","Only orientation"],correctIndex:1,difficulty:"medium",explanation:"Isometries preserve length, angle, and straightness. These are the geometric properties unchanged by translations, rotations, reflections, and glide reflections."},{id:3,type:"multiple-choice",question:'What is the "arithmetization of geometry"?',options:["Counting geometric shapes","Building geometry from numbers using coordinates","Measuring angles numerically","Using calculators in geometry"],correctIndex:1,difficulty:"easy",explanation:"The arithmetization of geometry means building geometry from numbers, using coordinates to define points, lines, circles, and other geometric objects."}],XW=[{id:1,type:"multiple-choice",question:"What is the parallelogram rule for vector addition?",options:["Vectors are multiplied component by component","$\\mathbf{u} + \\mathbf{v}$ is the fourth vertex of a parallelogram formed by $\\mathbf{0}$, $\\mathbf{u}$, and $\\mathbf{v}$","Vectors are added by concatenating them end to end","The sum is always perpendicular to both vectors"],correctIndex:1,difficulty:"easy",explanation:"The vector sum $\\mathbf{u} + \\mathbf{v}$ is the fourth vertex of the parallelogram formed by the points $\\mathbf{0}$, $\\mathbf{u}$, and $\\mathbf{v}$."},{id:2,type:"multiple-choice",question:"What does scalar multiplication by $a$ represent geometrically?",options:["Rotation by angle $a$","Translation by $a$ units","Magnification (dilation) by factor $a$","Reflection across the origin"],correctIndex:2,difficulty:"easy",explanation:"Scalar multiplication by $a$ magnifies or dilates the whole plane by the factor $a$, transforming each figure into a similar copy of itself."},{id:3,type:"multiple-choice",question:"How many properties must vector addition and scalar multiplication satisfy to form a real vector space?",options:["Four","Six","Eight","Ten"],correctIndex:2,difficulty:"medium",explanation:"A real vector space requires eight properties: commutativity, associativity, zero element, additive inverse for addition, plus identity, and three distributive/associative properties for scalar multiplication."},{id:4,type:"multiple-choice",question:"What is the geometric meaning when every vector in $\\mathbb{R}^2$ is multiplied by $-1$?",options:["Rotation by 90","Rotation by 180 (point reflection through origin)","Reflection across the x-axis","No change"],correctIndex:1,difficulty:"medium",explanation:"Multiplying every vector by $-1$ is equivalent to rotation by 180 about the origin, also called point reflection through the origin."}],ZW=[{id:1,type:"multiple-choice",question:"When are two nonzero vectors $\\mathbf{u}$ and $\\mathbf{v}$ linearly independent?",options:["When $\\mathbf{u} = \\mathbf{v}$","When neither is a multiple of the other","When $\\mathbf{u} \\cdot \\mathbf{v} = 0$","When they have the same length"],correctIndex:1,difficulty:"easy",explanation:"Vectors $\\mathbf{u}$ and $\\mathbf{v}$ are linearly independent if neither is a multiple of the other, meaning there are no real numbers $a$ and $b$ (not both zero) with $a\\mathbf{u} + b\\mathbf{v} = \\mathbf{0}$."},{id:2,type:"multiple-choice",question:"Line segments from $\\mathbf{v}$ to $\\mathbf{w}$ and from $\\mathbf{s}$ to $\\mathbf{t}$ are parallel if:",options:["$\\mathbf{w} + \\mathbf{v} = \\mathbf{t} + \\mathbf{s}$","$\\mathbf{w} - \\mathbf{v} = a(\\mathbf{t} - \\mathbf{s})$ for some $a \\neq 0$","$|\\mathbf{w} - \\mathbf{v}| = |\\mathbf{t} - \\mathbf{s}|$","$\\mathbf{v} = \\mathbf{s}$ and $\\mathbf{w} = \\mathbf{t}$"],correctIndex:1,difficulty:"medium",explanation:"Line segments are parallel if they have the same direction, which means $\\mathbf{w} - \\mathbf{v} = a(\\mathbf{t} - \\mathbf{s})$ for some nonzero real number $a$."},{id:3,type:"multiple-choice",question:"In the Vector Thales theorem, if $\\mathbf{w} - \\mathbf{v}$ is parallel to $\\mathbf{t} - \\mathbf{s}$, what can we conclude?",options:["$\\mathbf{v} = \\mathbf{s}$ and $\\mathbf{w} = \\mathbf{t}$","$\\mathbf{v} = a\\mathbf{s}$ and $\\mathbf{w} = a\\mathbf{t}$ for some number $a$","The vectors are perpendicular","The sum $\\mathbf{v} + \\mathbf{w} = \\mathbf{s} + \\mathbf{t}$"],correctIndex:1,difficulty:"hard",explanation:"The Vector Thales theorem states that if $\\mathbf{s}$, $\\mathbf{v}$ are on one line through $\\mathbf{0}$, $\\mathbf{t}$, $\\mathbf{w}$ are on another, and $\\mathbf{w} - \\mathbf{v}$ is parallel to $\\mathbf{t} - \\mathbf{s}$, then $\\mathbf{v} = a\\mathbf{s}$ and $\\mathbf{w} = a\\mathbf{t}$ for some $a$."}],QW=[{id:1,type:"multiple-choice",question:"What is the formula for the midpoint of the segment between $\\mathbf{u}$ and $\\mathbf{v}$?",options:["$\\mathbf{u} - \\mathbf{v}$","$\\mathbf{u} \\cdot \\mathbf{v}$","$\\frac{1}{2}(\\mathbf{u} + \\mathbf{v})$","$2(\\mathbf{u} + \\mathbf{v})$"],correctIndex:2,difficulty:"easy",explanation:"The midpoint is the vector average: $\\frac{1}{2}(\\mathbf{u} + \\mathbf{v})$."},{id:2,type:"multiple-choice",question:"What is the centroid of a triangle with vertices $\\mathbf{u}$, $\\mathbf{v}$, and $\\mathbf{w}$?",options:["$\\mathbf{u} + \\mathbf{v} + \\mathbf{w}$","$\\frac{1}{2}(\\mathbf{u} + \\mathbf{v} + \\mathbf{w})$","$\\frac{1}{3}(\\mathbf{u} + \\mathbf{v} + \\mathbf{w})$","$\\frac{1}{4}(\\mathbf{u} + \\mathbf{v} + \\mathbf{w})$"],correctIndex:2,difficulty:"easy",explanation:"The centroid of a triangle is the vector average of its vertices: $\\frac{1}{3}(\\mathbf{u} + \\mathbf{v} + \\mathbf{w})$."},{id:3,type:"multiple-choice",question:"What fraction of the way along a median does the centroid lie from a vertex?",options:["$\\frac{1}{2}$","$\\frac{1}{3}$","$\\frac{2}{3}$","$\\frac{3}{4}$"],correctIndex:2,difficulty:"medium",explanation:"The centroid lies $\\frac{2}{3}$ of the way from each vertex to the midpoint of the opposite side."},{id:4,type:"multiple-choice",question:"The medians of any triangle:",options:["Are all equal in length","Are all perpendicular","All pass through the same point (the centroid)","Never intersect"],correctIndex:2,difficulty:"easy",explanation:"The three medians of any triangle are concurrentthey all pass through the centroid."}],KW=[{id:1,type:"multiple-choice",question:"For $\\mathbf{u} = (u_1, u_2)$ and $\\mathbf{v} = (v_1, v_2)$, what is $\\mathbf{u} \\cdot \\mathbf{v}$?",options:["$(u_1v_1, u_2v_2)$","$u_1v_2 + u_2v_1$","$u_1v_1 + u_2v_2$","$u_1v_2 - u_2v_1$"],correctIndex:2,difficulty:"easy",explanation:"The inner product (or scalar product) is defined as $\\mathbf{u} \\cdot \\mathbf{v} = u_1v_1 + u_2v_2$."},{id:2,type:"multiple-choice",question:"Two vectors $\\mathbf{u}$ and $\\mathbf{v}$ are perpendicular if and only if:",options:["$\\mathbf{u} \\cdot \\mathbf{v} = 1$","$\\mathbf{u} \\cdot \\mathbf{v} = -1$","$\\mathbf{u} \\cdot \\mathbf{v} = 0$","$|\\mathbf{u}| = |\\mathbf{v}|$"],correctIndex:2,difficulty:"easy",explanation:"Vectors are perpendicular if and only if their inner product is zero: $\\mathbf{u} \\cdot \\mathbf{v} = 0$."},{id:3,type:"multiple-choice",question:"What is $|\\mathbf{u}|^2$ in terms of the inner product?",options:["$\\mathbf{u} \\cdot \\mathbf{0}$","$\\mathbf{u} \\cdot \\mathbf{u}$","$2\\mathbf{u} \\cdot \\mathbf{u}$","$\\sqrt{\\mathbf{u} \\cdot \\mathbf{u}}$"],correctIndex:1,difficulty:"easy",explanation:"The square of the length is the inner product of a vector with itself: $|\\mathbf{u}|^2 = \\mathbf{u} \\cdot \\mathbf{u}$."},{id:4,type:"multiple-choice",question:"The altitudes of any triangle:",options:["Are always equal in length","Pass through the centroid","Meet at a common point (the orthocenter)","Are parallel to the sides"],correctIndex:2,difficulty:"medium",explanation:"The three altitudes of any triangle are concurrentthey all meet at the orthocenter."}],JW=[{id:1,type:"multiple-choice",question:"The inner product formula states that $\\mathbf{u} \\cdot \\mathbf{v}$ equals:",options:["$|\\mathbf{u}| + |\\mathbf{v}|$","$|\\mathbf{u}||\\mathbf{v}|$","$|\\mathbf{u}||\\mathbf{v}|\\cos\\theta$","$|\\mathbf{u}||\\mathbf{v}|\\sin\\theta$"],correctIndex:2,difficulty:"easy",explanation:"The inner product formula is $\\mathbf{u} \\cdot \\mathbf{v} = |\\mathbf{u}||\\mathbf{v}|\\cos\\theta$, where $\\theta$ is the angle between the vectors."},{id:2,type:"multiple-choice",question:"The cosine rule (law of cosines) states that for a triangle with angle $\\theta$ opposite side $\\mathbf{u} - \\mathbf{v}$:",options:["$|\\mathbf{u} - \\mathbf{v}| = |\\mathbf{u}| - |\\mathbf{v}|$","$|\\mathbf{u} - \\mathbf{v}|^2 = |\\mathbf{u}|^2 + |\\mathbf{v}|^2$","$|\\mathbf{u} - \\mathbf{v}|^2 = |\\mathbf{u}|^2 + |\\mathbf{v}|^2 - 2|\\mathbf{u}||\\mathbf{v}|\\cos\\theta$","$|\\mathbf{u} - \\mathbf{v}|^2 = |\\mathbf{u}|^2 - |\\mathbf{v}|^2$"],correctIndex:2,difficulty:"medium",explanation:"The cosine rule is $|\\mathbf{u} - \\mathbf{v}|^2 = |\\mathbf{u}|^2 + |\\mathbf{v}|^2 - 2|\\mathbf{u}||\\mathbf{v}|\\cos\\theta$."},{id:3,type:"multiple-choice",question:"When $\\mathbf{u}$ and $\\mathbf{v}$ are perpendicular, the cosine rule becomes:",options:["The triangle inequality","The Pythagorean theorem","The midpoint formula","The Cauchy-Schwarz inequality"],correctIndex:1,difficulty:"medium",explanation:"When $\\mathbf{u} \\perp \\mathbf{v}$, $\\cos\\theta = 0$, and the cosine rule reduces to $|\\mathbf{u} - \\mathbf{v}|^2 = |\\mathbf{u}|^2 + |\\mathbf{v}|^2$the Pythagorean theorem."},{id:4,type:"multiple-choice",question:"The formula $(\\mathbf{v} + \\mathbf{u}) \\cdot (\\mathbf{v} - \\mathbf{u})$ equals:",options:["$|\\mathbf{v}|^2 + |\\mathbf{u}|^2$","$|\\mathbf{v}|^2 - |\\mathbf{u}|^2$","$2\\mathbf{u} \\cdot \\mathbf{v}$","$0$"],correctIndex:1,difficulty:"medium",explanation:"This is a difference of squares: $(\\mathbf{v} + \\mathbf{u}) \\cdot (\\mathbf{v} - \\mathbf{u}) = |\\mathbf{v}|^2 - |\\mathbf{u}|^2$."}],eY=[{id:1,type:"multiple-choice",question:"The Cauchy-Schwarz inequality states:",options:["$|\\mathbf{u} \\cdot \\mathbf{v}| \\geq |\\mathbf{u}||\\mathbf{v}|$","$|\\mathbf{u} \\cdot \\mathbf{v}| \\leq |\\mathbf{u}||\\mathbf{v}|$","$|\\mathbf{u} + \\mathbf{v}| = |\\mathbf{u}| + |\\mathbf{v}|$","$|\\mathbf{u}| = |\\mathbf{v}|$"],correctIndex:1,difficulty:"easy",explanation:"The Cauchy-Schwarz inequality states $|\\mathbf{u} \\cdot \\mathbf{v}| \\leq |\\mathbf{u}||\\mathbf{v}|$."},{id:2,type:"multiple-choice",question:"The triangle inequality states:",options:["$|\\mathbf{u} + \\mathbf{v}| = |\\mathbf{u}| + |\\mathbf{v}|$","$|\\mathbf{u} + \\mathbf{v}| \\geq |\\mathbf{u}| + |\\mathbf{v}|$","$|\\mathbf{u} + \\mathbf{v}| \\leq |\\mathbf{u}| + |\\mathbf{v}|$","$|\\mathbf{u} + \\mathbf{v}| = |\\mathbf{u}| - |\\mathbf{v}|$"],correctIndex:2,difficulty:"easy",explanation:"The triangle inequality states $|\\mathbf{u} + \\mathbf{v}| \\leq |\\mathbf{u}| + |\\mathbf{v}|$."},{id:3,type:"multiple-choice",question:"The Cauchy-Schwarz inequality follows from the inner product formula because:",options:["$\\cos\\theta$ can be any real number","$|\\cos\\theta| \\leq 1$ for any angle $\\theta$","$\\sin\\theta$ is always positive","The inner product is always positive"],correctIndex:1,difficulty:"medium",explanation:"Since $\\mathbf{u} \\cdot \\mathbf{v} = |\\mathbf{u}||\\mathbf{v}|\\cos\\theta$ and $|\\cos\\theta| \\leq 1$, we get $|\\mathbf{u} \\cdot \\mathbf{v}| \\leq |\\mathbf{u}||\\mathbf{v}|$."},{id:4,type:"multiple-choice",question:"In $\\mathbb{R}^n$, the inner product is defined as:",options:["$u_1v_1 \\cdot u_2v_2 \\cdots u_nv_n$","$u_1v_1 + u_2v_2 + \\cdots + u_nv_n$","$(u_1 + v_1, u_2 + v_2, \\ldots, u_n + v_n)$","$\\max(u_1v_1, u_2v_2, \\ldots, u_nv_n)$"],correctIndex:1,difficulty:"easy",explanation:"The inner product in $\\mathbb{R}^n$ is the sum of products: $\\mathbf{u} \\cdot \\mathbf{v} = u_1v_1 + u_2v_2 + \\cdots + u_nv_n$."}],tY=[{id:1,type:"multiple-choice",question:"A rotation through angle $\\theta$ is represented by the matrix:",options:["$\\begin{pmatrix} \\cos\\theta & \\sin\\theta \\\\ \\sin\\theta & \\cos\\theta \\end{pmatrix}$","$\\begin{pmatrix} \\cos\\theta & -\\sin\\theta \\\\ \\sin\\theta & \\cos\\theta \\end{pmatrix}$","$\\begin{pmatrix} \\sin\\theta & \\cos\\theta \\\\ \\cos\\theta & \\sin\\theta \\end{pmatrix}$","$\\begin{pmatrix} 1 & \\theta \\\\ \\theta & 1 \\end{pmatrix}$"],correctIndex:1,difficulty:"medium",explanation:"The rotation matrix is $\\begin{pmatrix} \\cos\\theta & -\\sin\\theta \\\\ \\sin\\theta & \\cos\\theta \\end{pmatrix}$."},{id:2,type:"multiple-choice",question:"In complex number notation, rotation through angle $\\theta$ is achieved by multiplying by:",options:["$\\theta$","$e^{\\theta}$","$\\cos\\theta + i\\sin\\theta$","$\\cos\\theta - i\\sin\\theta$"],correctIndex:2,difficulty:"easy",explanation:"Rotation through angle $\\theta$ is multiplication by $\\cos\\theta + i\\sin\\theta$."},{id:3,type:"multiple-choice",question:"Why does $i^2 = -1$ in complex numbers?",options:["It is defined arbitrarily","Multiplication by $i$ rotates through $\\pi/2$, so $i^2$ rotates through $\\pi$, which equals multiplication by $-1$","Because $i = \\sqrt{-1}$ by definition only","It follows from the triangle inequality"],correctIndex:1,difficulty:"hard",explanation:"Multiplication by $i$ rotates the plane through $\\pi/2$, so $i^2$ rotates through $\\pi$, which is the same as multiplication by $-1$."},{id:4,type:"multiple-choice",question:"The angle addition formulas can be derived from:",options:["The Pythagorean theorem only","Multiplication of rotation matrices or complex numbers","The triangle inequality","The midpoint formula"],correctIndex:1,difficulty:"medium",explanation:"The angle addition formulas for sine and cosine follow from multiplying rotation matrices or complex numbers representing consecutive rotations."}],nY=[{id:1,type:"multiple-choice",question:"How many Hilbert axioms are needed to describe the Euclidean plane?",options:["8","12","17 (or 16 without completeness)","20"],correctIndex:2,difficulty:"medium",explanation:"It takes 17 Hilbert axioms to describe the Euclidean plane, or 16 if we drop completeness of the line."},{id:2,type:"multiple-choice",question:"The field axioms are needed in vector space geometry because:",options:["They define what a vector is","They describe the rules for the scalars (real numbers)","They prove the Pythagorean theorem","They are equivalent to the Hilbert axioms"],correctIndex:1,difficulty:"medium",explanation:"The field axioms describe the ordinary rules of calculation for the scalars (real numbers) used in scalar multiplication."},{id:3,type:"multiple-choice",question:"What geometry is used in Einstein's special theory of relativity?",options:["Euclidean geometry","Spherical geometry","Minkowski space","Projective geometry"],correctIndex:2,difficulty:"easy",explanation:"Minkowski space, obtained by varying the inner product, is used in Einstein's special theory of relativity."},{id:4,type:"multiple-choice",question:"After this chapter, what type of geometry promises a simpler axiom system?",options:["Spherical geometry","Hyperbolic geometry","Projective geometry","Riemannian geometry"],correctIndex:2,difficulty:"easy",explanation:"Projective geometry, studied in Chapters 5 and 6, can be built on a much simpler set of axioms."}],iY=[{id:1,type:"multiple-choice",question:"What is the key technique introduced by Brunelleschi around 1420 for drawing in perspective?",options:["Using only circles and arcs","The costruzione legittima (legitimate construction)","Drawing without any vanishing points","Using parallel projection only"],correctIndex:1,difficulty:"easy",explanation:"Brunelleschi introduced the costruzione legittima (legitimate construction), a method for creating correct perspective drawings using vanishing points."},{id:2,type:"multiple-choice",question:"Where do parallel lines appear to meet in a perspective drawing?",options:["At the center of the picture","At random points","At a vanishing point on the horizon","They never meet"],correctIndex:2,difficulty:"easy",explanation:"In perspective drawing, parallel lines (except those parallel to the picture plane) appear to meet at a vanishing point on the horizon."},{id:3,type:"multiple-choice",question:"What is the horizon line in perspective drawing?",options:["The bottom edge of the picture","The line at eye level where all vanishing points for ground-level parallel lines lie","A vertical line through the center","The top edge of the canvas"],correctIndex:1,difficulty:"medium",explanation:"The horizon is the line at eye level that contains the vanishing points for all sets of parallel lines on the ground plane."},{id:4,type:"multiple-choice",question:"In a one-point perspective drawing of a tiled floor, the diagonals help determine:",options:["The color of the tiles","The correct spacing of rows receding into the distance","The height of the viewer","The number of tiles"],correctIndex:1,difficulty:"medium",explanation:"The diagonals of square tiles have their own vanishing point, which helps determine where to place the horizontal lines for each row of tiles."}],sY=[{id:1,type:"multiple-choice",question:"In projective geometry, what replaces compass constructions?",options:["Protractor constructions","Ruler measurements","Points at infinity (vanishing points)","Curved line segments"],correctIndex:2,difficulty:"easy",explanation:"Points at infinity (vanishing points) allow straightedge-only constructions to accomplish tasks that would otherwise require a compass."},{id:2,type:"multiple-choice",question:"How can you draw a line through point $P$ parallel to line $\\mathcal{L}$ using only a straightedge?",options:["It is impossible with straightedge alone","Draw a line from $P$ through the vanishing point of $\\mathcal{L}$","Draw a perpendicular first","Measure equal distances with the straightedge"],correctIndex:1,difficulty:"medium",explanation:"A line through $P$ parallel to $\\mathcal{L}$ is drawn by connecting $P$ to the vanishing point of $\\mathcal{L}$, since parallel lines share the same vanishing point."},{id:3,type:"multiple-choice",question:"Given two parallel lines and their vanishing point $V$, how do you find the midpoint of a segment $AB$ on one line?",options:["Measure with a ruler","Draw parallel lines from $A$ and $B$ to the other line, then use diagonals and $V$","Use a compass to bisect","It cannot be done with straightedge alone"],correctIndex:1,difficulty:"hard",explanation:"Using the vanishing point and a second parallel line, you can construct a parallelogram and use its diagonals to find the midpoint."},{id:4,type:"multiple-choice",question:"What is the key advantage of using points at infinity in straightedge constructions?",options:["Drawings become more colorful","Lines can be made perfectly straight","Parallelism becomes a matter of incidence (passing through a point)","The drawings become three-dimensional"],correctIndex:2,difficulty:"medium",explanation:"Points at infinity convert the property of parallelism into incidenceparallel lines all pass through their vanishing point."}],rY=[{id:1,type:"multiple-choice",question:"How many axioms define a projective plane?",options:["One","Two","Three","Five"],correctIndex:2,difficulty:"easy",explanation:"A projective plane is defined by exactly three axioms about incidence of points and lines."},{id:2,type:"multiple-choice",question:"Which of the following is one of the projective plane axioms?",options:["Any two points lie on exactly one line","Parallel lines never meet","All lines have the same length","Every line passes through the origin"],correctIndex:0,difficulty:"easy",explanation:'One axiom states: Any two "points" lie on exactly one "line."'},{id:3,type:"multiple-choice",question:'In the model $\\mathbb{R}P^2$, what are the "points"?',options:["Points in $\\mathbb{R}^2$","Lines through the origin $O$ in $\\mathbb{R}^3$","Circles in the plane","Triangles in space"],correctIndex:1,difficulty:"medium",explanation:'In $\\mathbb{R}P^2$, each "point" is a line through the origin $O$ in $\\mathbb{R}^3$.'},{id:4,type:"multiple-choice",question:'In $\\mathbb{R}P^2$, what are the "lines"?',options:["Lines in $\\mathbb{R}^2$","Planes through the origin $O$ in $\\mathbb{R}^3$","Spheres centered at the origin","Cylinders around the z-axis"],correctIndex:1,difficulty:"medium",explanation:'In $\\mathbb{R}P^2$, each "line" is a plane through the origin $O$ in $\\mathbb{R}^3$.'},{id:5,type:"multiple-choice",question:"What distinguishes projective geometry from Euclidean geometry regarding parallel lines?",options:["Projective geometry has more parallel lines","In projective geometry, any two lines meet","Euclidean geometry has no parallel lines","They are identical in this regard"],correctIndex:1,difficulty:"easy",explanation:"In projective geometry, there are no parallel linesany two distinct lines meet at exactly one point."}],aY=[{id:1,type:"multiple-choice",question:"Homogeneous coordinates for a point in $\\mathbb{R}P^2$ consist of:",options:["A pair $(x, y)$","A triple $(x, y, z)$ not all zero, where $(kx, ky, kz)$ represents the same point","A single number $x$","Four coordinates $(w, x, y, z)$"],correctIndex:1,difficulty:"easy",explanation:"A point in $\\mathbb{R}P^2$ is represented by a triple $(x, y, z)$ where not all are zero, and $(kx, ky, kz)$ represents the same point for any nonzero $k$."},{id:2,type:"multiple-choice",question:'A "line" in $\\mathbb{R}P^2$ is defined by what type of equation?',options:["$x^2 + y^2 + z^2 = 1$","$ax + by + cz = 0$ (linear, homogeneous)","$ax + by + cz = 1$ (linear, non-homogeneous)","$xyz = 0$"],correctIndex:1,difficulty:"medium",explanation:"Lines in $\\mathbb{R}P^2$ are defined by homogeneous linear equations $ax + by + cz = 0$."},{id:3,type:"multiple-choice",question:'The "ordinary" points of $\\mathbb{R}P^2$ are those with:',options:["$x = 0$","$y = 0$","$z \\neq 0$","$z = 0$"],correctIndex:2,difficulty:"medium",explanation:"Ordinary points have $z \\neq 0$ and can be normalized to $(x, y, 1)$, corresponding to $(x, y)$ in $\\mathbb{R}^2$."},{id:4,type:"multiple-choice",question:"Points with $z = 0$ in homogeneous coordinates correspond to:",options:["The origin",'Points at infinity (the "line at infinity")',"The y-axis","Invalid coordinates"],correctIndex:1,difficulty:"medium",explanation:'Points with $z = 0$ are the "points at infinity" which together form the line at infinity in $\\mathbb{R}P^2$.'},{id:5,type:"multiple-choice",question:'To find the "line" through two "points" $(x_1, y_1, z_1)$ and $(x_2, y_2, z_2)$ in $\\mathbb{R}P^2$, you solve:',options:["A quadratic equation in $a, b, c$","Two linear equations $ax_1 + by_1 + cz_1 = 0$ and $ax_2 + by_2 + cz_2 = 0$","The equation $x_1 x_2 + y_1 y_2 + z_1 z_2 = 0$","No solution is needed; just connect the points"],correctIndex:1,difficulty:"medium",explanation:"The coefficients $(a, b, c)$ of the line must satisfy both $ax_1 + by_1 + cz_1 = 0$ and $ax_2 + by_2 + cz_2 = 0$, giving a family of solutions $(ta, tb, tc)$."},{id:6,type:"multiple-choice",question:"What makes the complex projective plane $\\mathbb{C}P^2$ different from $\\mathbb{R}P^2$?",options:["It has different axioms","The coordinates $x, y, z$ and scalar $t$ are complex numbers instead of real","Lines are defined by non-homogeneous equations","It has no points at infinity"],correctIndex:1,difficulty:"medium",explanation:"In $\\mathbb{C}P^2$, the coordinates are complex numbers and $t$ ranges over nonzero complex numbers. The algebraic structure and axioms remain the same."},{id:7,type:"multiple-choice",question:'In $\\mathbb{R}P^3$ (projective 3-space), a "point" is represented by:',options:["A triple $(x, y, z)$","A quadruple $(w, x, y, z)$ with multiples $(tw, tx, ty, tz)$ representing the same point","A pair $(x, y)$","A single coordinate $x$"],correctIndex:1,difficulty:"easy",explanation:"In $\\mathbb{R}P^3$, points are represented by quadruples $(w, x, y, z)$ not all zero, with $(tw, tx, ty, tz)$ representing the same point for any $t \\neq 0$."},{id:8,type:"multiple-choice",question:'In $\\mathbb{R}P^3$, what is a "line"?',options:["A 1-dimensional subspace (line through O) in $\\mathbb{R}^4$","A 2-dimensional subspace (plane through O) in $\\mathbb{R}^4$","A 3-dimensional subspace in $\\mathbb{R}^4$","A circle in $\\mathbb{R}^4$"],correctIndex:1,difficulty:"hard",explanation:'In $\\mathbb{R}P^3$, a "line" is a plane through the origin in $\\mathbb{R}^4$, spanned by two linearly independent vectors.'},{id:9,type:"multiple-choice",question:"Which property holds in $\\mathbb{R}P^3$?",options:['Two "points" determine a unique "plane"','Two "planes" have a unique "point" in common','Two "planes" have a unique "line" in common','Three "planes" always have a common "line"'],correctIndex:2,difficulty:"medium",explanation:'In $\\mathbb{R}P^3$, any two distinct "planes" intersect in exactly one "line." This follows from linear algebra: two 3-dimensional subspaces of $\\mathbb{R}^4$ through O intersect in a 2-dimensional subspace.'},{id:10,type:"multiple-choice",question:'Why is the equation $ax + by + cz = 0$ called "homogeneous"?',options:["Because all terms have the same degree (degree 1)","Because the coefficients $a, b, c$ are equal","Because it has a unique solution","Because it describes a sphere"],correctIndex:0,difficulty:"easy",explanation:"A homogeneous equation has all terms of the same degree. In $ax + by + cz = 0$, each term has degree 1. This ensures that if $(x, y, z)$ is a solution, so is $(tx, ty, tz)$ for any $t$."}],lY=[{id:1,type:"multiple-choice",question:"When projecting parallel lines $\\mathcal{L}_1$ and $\\mathcal{L}_2$, what transformation does the map represent?",options:["Rotation","Reflection","$x \\mapsto x + l$ (translation)","$x \\mapsto 1/x$ (reciprocation)"],correctIndex:2,difficulty:"easy",explanation:"Projection from a point at infinity onto parallel lines produces a translation: $x \\mapsto x + l$."},{id:2,type:"multiple-choice",question:"Projection from a finite point onto parallel lines produces:",options:["$x \\mapsto x + l$","$x \\mapsto kx$ (scaling)","$x \\mapsto 1/x$","$x \\mapsto x^2$"],correctIndex:1,difficulty:"easy",explanation:"Projection from a finite point onto parallel lines scales distances by a constant factor: $x \\mapsto kx$."},{id:3,type:"multiple-choice",question:"Projection onto perpendicular lines (from an equidistant point) produces:",options:["$x \\mapsto x + l$","$x \\mapsto kx$","$x \\mapsto 1/x$ (reciprocation)","$x \\mapsto -x$"],correctIndex:2,difficulty:"medium",explanation:"When projecting onto perpendicular lines from an equidistant point, the transformation is $x \\mapsto 1/x$."},{id:4,type:"multiple-choice",question:"Any combination of projections can be expressed as:",options:["A rotation","A linear fractional function $f(x) = (ax + b)/(cx + d)$","A polynomial","An exponential function"],correctIndex:1,difficulty:"medium",explanation:"Any sequence of projections is equivalent to a linear fractional function $f(x) = (ax + b)/(cx + d)$ where $ad - bc \\neq 0$."}],oY=[{id:1,type:"multiple-choice",question:"A linear fractional function has the form $f(x) = (ax + b)/(cx + d)$. What condition must the coefficients satisfy?",options:["$a + b + c + d = 1$","$ad - bc \\neq 0$","$a = d$ and $b = c$","$abcd = 1$"],correctIndex:1,difficulty:"easy",explanation:"The condition $ad - bc \\neq 0$ ensures the function is not constant."},{id:2,type:"multiple-choice",question:"What is the real projective line $\\mathbb{R}P^1$?",options:["Just the real numbers $\\mathbb{R}$","$\\mathbb{R} \\cup \\{\\infty\\}$, the real numbers plus a point at infinity","The complex numbers","The integers"],correctIndex:1,difficulty:"easy",explanation:"$\\mathbb{R}P^1 = \\mathbb{R} \\cup \\{\\infty\\}$ extends the real line by adding a single point at infinity."},{id:3,type:"multiple-choice",question:"On $\\mathbb{R}P^1$, what is $1/0$?",options:["Undefined","$0$","$1$","$\\infty$"],correctIndex:3,difficulty:"easy",explanation:"On the projective line, we define $1/0 = \\infty$ and $1/\\infty = 0$, making reciprocation well-defined everywhere."},{id:4,type:"multiple-choice",question:"How many points on $\\mathbb{R}P^1$ determine a unique linear fractional transformation?",options:["One point","Two points","Three points (and their images)","Four points"],correctIndex:2,difficulty:"medium",explanation:"Three points and their images determine a unique linear fractional transformation. Once three points are fixed, every other point is determined."},{id:5,type:"multiple-choice",question:"The composition of two linear fractional functions is:",options:["Not a linear fractional function","Always the identity","Another linear fractional function","A quadratic function"],correctIndex:2,difficulty:"medium",explanation:"The composition of linear fractional functions is again linear fractional, and corresponds to matrix multiplication of the coefficient matrices."}],cY=[{id:1,type:"multiple-choice",question:"The cross-ratio of four points $p, q, r, s$ on a line is defined as:",options:["$(r - p) + (s - q)$","$\\frac{(r - p)(s - q)}{(r - q)(s - p)}$","$(r - p)(s - q)(r - q)(s - p)$","$\\frac{r + s}{p + q}$"],correctIndex:1,difficulty:"easy",explanation:"The cross-ratio is $\\frac{(r - p)(s - q)}{(r - q)(s - p)}$, a ratio of ratios."},{id:2,type:"multiple-choice",question:'The cross-ratio is called a "ratio of ratios" because:',options:["It involves four additions","It is the ratio $\\frac{(r-p)/(s-p)}{(r-q)/(s-q)}$","It always equals a ratio of integers","It is computed by taking ratios repeatedly"],correctIndex:1,difficulty:"medium",explanation:"The cross-ratio can be written as $\\frac{(r-p)/(s-p)}{(r-q)/(s-q)}$, making it a ratio of two ratios."},{id:3,type:"multiple-choice",question:"The cross-ratio is preserved by:",options:["Only translations","Only rotations","All linear fractional transformations (projections)","No transformations"],correctIndex:2,difficulty:"easy",explanation:"The cross-ratio is invariant under all linear fractional transformations, which represent projections."},{id:4,type:"multiple-choice",question:"For four equally spaced points $p = 0, q = 1, r = 2, s = 3$, what is the cross-ratio?",options:["$1$","$2$","$4/3$","$3/2$"],correctIndex:2,difficulty:"medium",explanation:"The cross-ratio is $\\frac{(2-0)(3-1)}{(2-1)(3-0)} = \\frac{2 \\cdot 2}{1 \\cdot 3} = \\frac{4}{3}$."}],hY=[{id:1,type:"multiple-choice",question:"Why is there no nontrivial projective invariant for three points?",options:["Three points do not determine a line","Any three points can be sent to any other three points by a linear fractional transformation","Three is not enough points for a ratio","The formula requires four variables"],correctIndex:1,difficulty:"medium",explanation:"Since any three points can be mapped to any three points by a linear fractional transformation, any invariant of triples would have the same value for all triplesthus trivial."},{id:2,type:"multiple-choice",question:'The theorem of "fourth point determination" states:',options:["Any fourth point is arbitrary","Given three points and a cross-ratio value, the fourth point is uniquely determined","Four points always have cross-ratio 1","The fourth point can be anywhere"],correctIndex:1,difficulty:"medium",explanation:"Given three points $p, q, r$ and a cross-ratio value $y$, there is exactly one fourth point $x$ such that $[p, q; r, x] = y$."},{id:3,type:"multiple-choice",question:"Linear fractional transformations are characterized as precisely those maps that:",options:["Preserve distances","Preserve angles","Preserve the cross-ratio","Preserve areas"],correctIndex:2,difficulty:"easy",explanation:"Linear fractional transformations are exactly the transformations of $\\mathbb{R}P^1$ that preserve the cross-ratio."},{id:4,type:"multiple-choice",question:"How many distinct values can the cross-ratio take when we permute four points?",options:["$24$ (all permutations give different values)","$6$ (generated by $1/y$ and $1-y$)","$4$","$2$"],correctIndex:1,difficulty:"hard",explanation:"Although there are 24 permutations of four points, only 6 distinct cross-ratio values arise, generated by the transformations $y \\mapsto 1/y$ and $y \\mapsto 1-y$."},{id:5,type:"multiple-choice",question:"If $[p, q; r, s] = y$, then $[p, q; s, r] = $",options:["$y$","$-y$","$1/y$","$1 - y$"],correctIndex:2,difficulty:"medium",explanation:"Swapping the last two points inverts the cross-ratio: $[p, q; s, r] = 1/y$."}],uY=[{id:1,type:"multiple-choice",question:"The projective plane $FP^2$ can be constructed over any:",options:["Ring","Group","Field","Vector space"],correctIndex:2,difficulty:"easy",explanation:"The projective plane construction works over any field $F$, using triples from $F^3$."},{id:2,type:"multiple-choice",question:"The smallest projective plane, the Fano plane $F_2P^2$, has how many points?",options:["$3$","$5$","$7$","$9$"],correctIndex:2,difficulty:"easy",explanation:"The Fano plane has 7 points, corresponding to the 7 nonzero points in $F_2^3$."},{id:3,type:"multiple-choice",question:"In the field $F_2 = \\{0, 1\\}$, what is $1 + 1$?",options:["$0$","$1$","$2$","Undefined"],correctIndex:0,difficulty:"medium",explanation:"In $F_2$ (the field with two elements), $1 + 1 = 0$. This is addition modulo 2."},{id:4,type:"multiple-choice",question:"The invariance of the cross-ratio was discovered by:",options:["Euclid around 300 BCE","Pappus around 300 CE","Newton in the 17th century","Gauss in the 19th century"],correctIndex:1,difficulty:"medium",explanation:"The invariance of the cross-ratio was discovered by Pappus around 300 CE and rediscovered by Desargues around 1640."},{id:5,type:"multiple-choice",question:"What additional axiom ensures that a projective plane has coordinates from a field?",options:["The parallel axiom","The theorem of Pappus","The completeness axiom","The Archimedean axiom"],correctIndex:1,difficulty:"hard",explanation:"The theorem of Pappus is the fourth axiom needed to ensure that the projective plane has coordinates satisfying the field axioms."}],dY=[{id:1,type:"multiple-choice",question:"The theorems of Pappus and Desargues are examples of what type of theorem?",options:["Measurement theorems","Incidence theorems","Angle theorems","Area theorems"],correctIndex:1,difficulty:"easy",explanation:"The Pappus and Desargues theorems are incidence theoremsthey involve only points, lines, and their meetings (incidences)."},{id:2,type:"multiple-choice",question:"What is a Pappian plane?",options:["Any projective plane","A plane that satisfies the three projective axioms plus Pappus and Desargues","A plane with no parallel lines","A Euclidean plane with coordinates"],correctIndex:1,difficulty:"medium",explanation:"A Pappian plane satisfies the three projective plane axioms together with the Pappus and Desargues theorems."},{id:3,type:"multiple-choice",question:"What is the Moulton plane an example of?",options:["A Pappian plane","A projective plane where Desargues fails","A Euclidean plane","A plane satisfying all field axioms"],correctIndex:1,difficulty:"medium",explanation:"The Moulton plane is a projective plane where even the little Desargues theorem fails, showing that Desargues cannot be proved from the basic axioms."},{id:4,type:"multiple-choice",question:"What is the little Desargues theorem?",options:["A weaker version where the center P lies on the line L","The converse of Desargues","Desargues applied to small triangles","A theorem about parallel lines only"],correctIndex:0,difficulty:"medium",explanation:"The little Desargues theorem is the special case where the center of projection P lies on the line L where corresponding sides meet."}],fY=[{id:1,type:"multiple-choice",question:'In projective geometry, what is a "coincidence"?',options:["Two lines being parallel","Two incidences occurring together (co-incidence)","A measurement error","Two points being equal"],correctIndex:1,difficulty:"easy",explanation:'A coincidence is literally a "co-incidence"two incidences occurring together, such as three points lying on the same line.'},{id:2,type:"multiple-choice",question:"The tiled floor construction involves coincidences that can be traced to which theorem?",options:["The Pythagorean theorem","The little Desargues theorem","The Pappus theorem only","No theoremit is purely computational"],correctIndex:1,difficulty:"medium",explanation:"The coincidence in the tiled floor construction can be traced to a special case of the little Desargues theorem."},{id:3,type:"multiple-choice",question:"When lines that meet on the horizon are drawn as actual parallels, what formulation of little Desargues applies?",options:["The affine formulation","The parallel formulation","The Euclidean formulation","The metric formulation"],correctIndex:1,difficulty:"medium",explanation:"The parallel formulation of little Desargues is easier to visualize because lines meeting at infinity become actual parallel lines."},{id:4,type:"multiple-choice",question:"Does the tiled floor coincidence hold in the Moulton plane?",options:["Yes, it always holds","No, it fails when the x-axis is suitably positioned","It depends on the size of the tiles","The Moulton plane cannot have tiled floors"],correctIndex:1,difficulty:"hard",explanation:"The tiled floor coincidence fails in the Moulton plane when the x-axis is placed in a suitable position."}],mY=[{id:1,type:"multiple-choice",question:"What does the converse Desargues theorem state?",options:["If triangles are in perspective from a point, corresponding sides meet on a line","If corresponding sides meet on a line, triangles are in perspective from a point","Parallel lines meet at infinity","The sum construction is independent of auxiliary choices"],correctIndex:1,difficulty:"easy",explanation:"The converse Desargues theorem states: If corresponding sides of two triangles meet on a line, then the triangles are in perspective from a point."},{id:2,type:"multiple-choice",question:"What is the scissors theorem?",options:["A theorem about cutting paper","If three pairs of corresponding sides of quadrilaterals are parallel, the fourth pair is parallel","Two triangles always have parallel sides","Scissors-shaped figures have equal areas"],correctIndex:1,difficulty:"medium",explanation:"The scissors theorem states: If ABCD and A'B'C'D' are quadrilaterals with vertices alternately on two lines, and if three pairs of corresponding sides are parallel, then the fourth pair is also parallel."},{id:3,type:"multiple-choice",question:"How is the scissors theorem proved?",options:["Using only the projective plane axioms","Using the converse Desargues theorem and the Desargues theorem","By direct computation","Using compass and straightedge"],correctIndex:1,difficulty:"medium",explanation:"The scissors theorem is proved by applying the converse Desargues theorem to find a center of perspective, then applying Desargues to conclude the fourth pair of sides is parallel."},{id:4,type:"multiple-choice",question:"Who introduced the Moulton plane and when?",options:["Hilbert in 1899","Moulton in 1902","Pappus around 300 CE","Desargues in 1640"],correctIndex:1,difficulty:"easy",explanation:"Moulton introduced the Moulton plane in 1902 to show that the Desargues theorem cannot be proved from the basic projective plane axioms."}],pY=[{id:1,type:"multiple-choice",question:"In projective arithmetic, how is the sum $a + b$ constructed?",options:["By measuring lengths with a ruler",'By "copying" the length $Oa$ to the point $b$ using parallel lines',"By computing coordinates numerically","By using a compass"],correctIndex:1,difficulty:"medium",explanation:'The sum $a + b$ is constructed by using parallel lines to "copy" the segment $Oa$ to the point $b$, analogous to compass constructions in Euclidean geometry.'},{id:2,type:"multiple-choice",question:"The sum $a + b$ in projective arithmetic is independent of:",options:["The choice of origin $O$","The choice of auxiliary line $L$ parallel to the x-axis","The positions of $a$ and $b$","The choice of unit 1"],correctIndex:1,difficulty:"medium",explanation:"The sum $a + b$ is independent of the choice of the auxiliary line $L$ parallel to the x-axis, as shown by the little Desargues theorem."},{id:3,type:"multiple-choice",question:"What does the product construction in projective arithmetic require that addition does not?",options:["A compass","A choice of unit point 1","Measurement of angles","Calculation of areas"],correctIndex:1,difficulty:"easy",explanation:"The product construction requires choosing a point to be 1 (the unit), which determines the scale for multiplication."},{id:4,type:"multiple-choice",question:"Why do sums and products correspond on the x- and y-axes?",options:["By definition only","The Pappus theorem (for sums) and scissors theorem (for products)","They do not correspond","By the Euclidean parallel postulate"],correctIndex:1,difficulty:"hard",explanation:"Sums correspond by a Pappus configuration, and products correspond by the scissors theorem."}],xY=[{id:1,type:"multiple-choice",question:"How many field axioms are there?",options:["Five","Seven","Nine","Twelve"],correctIndex:2,difficulty:"easy",explanation:"There are nine field axioms: two commutative laws, two associative laws, two identity laws, two inverse laws, and one distributive law."},{id:2,type:"multiple-choice",question:"Which theorem implies the commutative law of multiplication $ab = ba$?",options:["The Desargues theorem","The Pappus theorem","The scissors theorem","The Pythagorean theorem"],correctIndex:1,difficulty:"easy",explanation:"The Pappus theorem implies that $ab = ba$. This is demonstrated by showing both constructions on the same diagram."},{id:3,type:"multiple-choice",question:"What does the Desargues theorem imply about the field axioms?",options:["All nine field axioms","Eight field axiomsall but $ab = ba$","Only the commutative laws","Only the identity laws"],correctIndex:1,difficulty:"medium",explanation:"The Desargues theorem implies eight of the nine field axiomsall except the commutative law of multiplication $ab = ba$."},{id:4,type:"multiple-choice",question:'What is the "little Pappus theorem"?',options:["The Pappus theorem for small hexagons","A special case with hexagon vertices on parallel lines","A converse of the Pappus theorem","The Pappus theorem in finite planes"],correctIndex:1,difficulty:"medium",explanation:"The little Pappus theorem is the special case where the vertices of the hexagon lie on two lines that meet at a point $P$, with two pairs of opposite sides meeting on a line through $P$."}],gY=[{id:1,type:"multiple-choice",question:"Which theorem is used to prove $a + (b + c) = (a + b) + c$?",options:["The Pappus theorem","The scissors theorem (from Desargues)","The Pythagorean theorem","The parallel postulate"],correctIndex:1,difficulty:"medium",explanation:"The associative law of addition is proved using the scissors theorem, which follows from the Desargues theorem."},{id:2,type:"multiple-choice",question:"For the associative law of addition, which form of Desargues is sufficient?",options:["The full Desargues theorem","The little Desargues theorem (little scissors theorem)","The converse Desargues theorem","No form of Desargues is needed"],correctIndex:1,difficulty:"medium",explanation:"Because the scissors in the addition proof lie between parallel lines, only the little scissors theorem (and hence little Desargues) is needed."},{id:3,type:"multiple-choice",question:"What are quaternions?",options:["Four-dimensional real numbers with noncommutative multiplication","Complex numbers with four components","Pairs of real numbers","Numbers that commute under multiplication"],correctIndex:0,difficulty:"easy",explanation:"Quaternions are a four-dimensional number system (H = R^4) with noncommutative but associative multiplication."},{id:4,type:"multiple-choice",question:"Who discovered the quaternions?",options:["Euclid","Sir William Rowan Hamilton in 1843","David Hilbert in 1899","Ruth Moufang in 1930"],correctIndex:1,difficulty:"easy",explanation:"Hamilton discovered the quaternions in 1843 and famously carved the key formula on Brougham Bridge in Dublin."},{id:5,type:"multiple-choice",question:"Why does the quaternion projective plane HP satisfy Desargues but not Pappus?",options:["Quaternions are not real numbers","Quaternion multiplication is associative but not commutative","HP is not a projective plane","Desargues implies Pappus"],correctIndex:1,difficulty:"hard",explanation:"HP satisfies Desargues because quaternion multiplication is associative, but fails Pappus because multiplication is not commutative."}],yY=[{id:1,type:"multiple-choice",question:"Which theorem is used to prove the distributive law $a(b + c) = ab + ac$?",options:["The Desargues theorem","The Pappus theorem","The scissors theorem","The little Desargues theorem"],correctIndex:1,difficulty:"medium",explanation:"The distributive law is proved using the Pappus theorem, by combining addition on the x-axis with multiplication via parallels."},{id:2,type:"multiple-choice",question:"Why is the other distributive law $(b + c)a = ba + ca$ not proved separately?",options:["It is false","It follows from Pappus implying commutative multiplication","It requires different techniques","It is an axiom, not a theorem"],correctIndex:1,difficulty:"medium",explanation:"Since Pappus implies $ab = ba$, we have $(b+c)a = a(b+c) = ab + ac = ba + ca$."},{id:3,type:"multiple-choice",question:"In systems with noncommutative multiplication like quaternions, how many distributive laws hold?",options:["None","One (left distribution)","Both left and right distribution","Distribution depends on the elements"],correctIndex:2,difficulty:"medium",explanation:"Both distributive laws hold for quaternions because they are defined as matrices, and matrix multiplication distributes over addition from both sides."},{id:4,type:"multiple-choice",question:"The proof of the distributive law has the same structure as which earlier proof?",options:["The proof of $ab = ba$","The proof that sums correspond on both axes","The proof of the scissors theorem","The proof of the associative laws"],correctIndex:1,difficulty:"hard",explanation:"The distributive law proof has the same structure as the proof that sums correspond on both axesonly the labels change."}],bY=[{id:1,type:"multiple-choice",question:"Who first developed projective geometry without using numbers?",options:["Euclid","Christian von Staudt in 1847","Felix Klein in 1872","Desargues in 1640"],correctIndex:1,difficulty:"medium",explanation:"Christian von Staudt developed projective geometry without numbers in 1847, an approach later refined by Hilbert."},{id:2,type:"multiple-choice",question:"Who first proved that Pappus implies Desargues?",options:["Hilbert in 1899","Gerhard Hessenberg in 1904","Ruth Moufang in 1930","Hamilton in 1843"],correctIndex:1,difficulty:"medium",explanation:"Hessenberg first proved this implication in 1904, though his original proof had an error corrected later."},{id:3,type:"multiple-choice",question:"What algebraic property does the little Desargues theorem correspond to?",options:["Commutativity","Associativity","Alternativity (partial associativity)","Distributivity"],correctIndex:2,difficulty:"hard",explanation:"The little Desargues theorem corresponds to alternativity: $a^{-1}(ab) = b = (ba)a^{-1}$, as discovered by Ruth Moufang."},{id:4,type:"multiple-choice",question:"What are the octonions?",options:["Eight-dimensional numbers with alternative but nonassociative multiplication","Complex numbers in eight dimensions","Quaternions with eight components","Numbers that satisfy all field axioms"],correctIndex:0,difficulty:"medium",explanation:"The octonions (O) are an eight-dimensional number system with alternative but nonassociative multiplication, discovered by Graves in 1843."},{id:5,type:"multiple-choice",question:"Why does the octonion projective space OP not exist?",options:["Octonions are too complicated","The Desargues theorem holds in 3D projective spaces, but octonions are not associative","There are not enough octonions","OP would require 24 dimensions"],correctIndex:1,difficulty:"hard",explanation:"In any 3D projective space, Desargues holds (by spatial reasoning). This would imply octonions are associativewhich they are not."},{id:6,type:"multiple-choice",question:'In which dimensions can "reasonable" multiplication be defined on R^n?',options:["Any dimension","Only dimensions 1, 2, 3, and 4","Only dimensions 1, 2, 4, and 8","Only even dimensions"],correctIndex:2,difficulty:"hard",explanation:"Reasonable multiplication (respecting dimension) exists only on R^1 (reals), R^2 (complex), R^4 (quaternions), and R^8 (octonions)."}],vY=[{id:1,type:"multiple-choice",question:"What is an isometry of the plane?",options:["A function that changes distances proportionally","A function that preserves distance","A function that preserves angles only","A function that maps lines to lines"],correctIndex:1,difficulty:"easy",explanation:"An isometry is a distance-preserving map. For any two points P and Q, an isometry f satisfies |f(P) - f(Q)| = |P - Q|."},{id:2,type:"multiple-choice",question:"Which of the following is NOT an isometry of the plane?",options:["Rotation","Reflection","Scaling by factor 2","Translation"],correctIndex:2,difficulty:"easy",explanation:"Scaling by factor 2 doubles all distances, so it is not an isometry. Rotations, reflections, and translations all preserve distances."},{id:3,type:"multiple-choice",question:"Every isometry of the plane can be expressed as a product of at most how many reflections?",options:["One","Two","Three","Four"],correctIndex:2,difficulty:"medium",explanation:"The Three Reflections Theorem states that every isometry of the plane is a product of at most three reflections."},{id:4,type:"multiple-choice",question:"What is the product of two reflections in lines that meet at angle ?",options:["A reflection","A translation","A rotation through angle ","A rotation through angle 2"],correctIndex:3,difficulty:"medium",explanation:"The product of reflections in two lines meeting at angle  is a rotation about their intersection through angle 2."}],jY=[{id:1,type:"multiple-choice",question:"What is a linear transformation of ?",options:["Any function from  to ","A function that preserves vector addition and scalar multiplication","A function that preserves distances","A function defined by a polynomial"],correctIndex:1,difficulty:"easy",explanation:"A linear transformation T satisfies T(u + v) = T(u) + T(v) and T(cu) = cT(u) for all vectors u, v and scalars c."},{id:2,type:"multiple-choice",question:"What is the key property of an orthogonal matrix?",options:["All entries are positive","The determinant is 1","A^T A = I (transpose times itself equals identity)","All entries are integers"],correctIndex:2,difficulty:"medium",explanation:"A matrix A is orthogonal if A^T A = I, meaning its transpose equals its inverse. This is equivalent to having orthonormal columns."},{id:3,type:"multiple-choice",question:"What does the determinant of an orthogonal matrix tell us?",options:["The area of the transformation","Whether it is a rotation (det = 1) or reflection (det = -1)","The angle of rotation","The number of fixed points"],correctIndex:1,difficulty:"medium",explanation:"For orthogonal matrices, det = 1 indicates a rotation (orientation-preserving) and det = -1 indicates a reflection (orientation-reversing)."},{id:4,type:"multiple-choice",question:"Why are homogeneous coordinates useful for representing affine transformations?",options:["They make matrices smaller","They allow translations to be represented as matrix multiplications","They preserve angles","They eliminate the need for inverses"],correctIndex:1,difficulty:"hard",explanation:"Homogeneous coordinates allow translations (which are not linear) to be combined with linear transformations into a single matrix multiplication."}],wY=[{id:1,type:"multiple-choice",question:"What is a linear fractional function?",options:["A polynomial of degree 1","A function of the form f(x) = (ax + b)/(cx + d)","A function that preserves ratios","Any function with a fraction"],correctIndex:1,difficulty:"easy",explanation:"A linear fractional function (Mbius transformation) has the form f(x) = (ax + b)/(cx + d) where ad - bc  0."},{id:2,type:"multiple-choice",question:"What quantity is preserved by all linear fractional transformations?",options:["Distance","Angle","Cross-ratio","Area"],correctIndex:2,difficulty:"medium",explanation:"The cross-ratio of four points is preserved by linear fractional transformations. This is the fundamental invariant of projective geometry on the line."},{id:3,type:"multiple-choice",question:"How many points are needed to uniquely determine a linear fractional transformation?",options:["One point","Two points","Three points","Four points"],correctIndex:2,difficulty:"medium",explanation:"A linear fractional transformation is uniquely determined by its action on three pointsgiven three points and their images, there is exactly one such transformation."},{id:4,type:"multiple-choice",question:"What is the group of all linear fractional transformations of P called?",options:["GL(2, )","SL(2, )","PGL(2, )","O(2)"],correctIndex:2,difficulty:"hard",explanation:"The projective general linear group PGL(2, ) consists of linear fractional transformations, represented by 22 matrices up to scalar multiplication."}],TY=[{id:1,type:"multiple-choice",question:'What are the "lines" in spherical geometry?',options:["Lines of latitude","Great circles","Any circle on the sphere","Meridians only"],correctIndex:1,difficulty:"easy",explanation:'Great circlesintersections of the sphere with planes through its centerare the "lines" of spherical geometry because they are geodesics (shortest paths).'},{id:2,type:"multiple-choice",question:"How do any two great circles relate to each other?",options:["They never meet","They meet at exactly one point","They meet at exactly two antipodal points","They may or may not meet"],correctIndex:2,difficulty:"medium",explanation:"Any two great circles on S intersect at exactly two antipodal points. There are no parallel lines in spherical geometry."},{id:3,type:"multiple-choice",question:"What is true about the angles of a spherical triangle?",options:["They sum to less than 180","They sum to exactly 180","They sum to more than 180","The sum depends on the triangle size"],correctIndex:2,difficulty:"medium",explanation:"The angles of a spherical triangle always sum to more than 180. The excess over 180 is proportional to the triangle's area."},{id:4,type:"multiple-choice",question:"The isometry group of S is isomorphic to which group?",options:["O(2)","SO(2)","O(3)","SO(3)"],correctIndex:2,difficulty:"hard",explanation:"Isom(S)  O(3), the group of 33 orthogonal matrices. Every isometry of S extends to an orthogonal transformation of ."}],SY=[{id:1,type:"multiple-choice",question:"What is SO(3)?",options:["All 33 matrices","All orthogonal 33 matrices","33 orthogonal matrices with determinant 1","33 matrices with determinant 1"],correctIndex:2,difficulty:"easy",explanation:"SO(3) is the special orthogonal group33 orthogonal matrices with determinant 1. These represent rotations of ."},{id:2,type:"multiple-choice",question:"What is special about rotations in 3D compared to 2D?",options:["3D rotations preserve area","3D rotations do not commute in general","3D rotations require matrices","3D rotations have no fixed points"],correctIndex:1,difficulty:"medium",explanation:"Unlike in 2D, rotations in 3D generally do not commute. The order of rotations matters: RR  RR in general."},{id:3,type:"multiple-choice",question:"Every rotation of S is a product of exactly how many reflections?",options:["One","Two","Three","Any number"],correctIndex:1,difficulty:"medium",explanation:"Every rotation of S is a product of exactly two reflections in great circles. The angle between the great circles determines the rotation angle."},{id:4,type:"multiple-choice",question:"The rotation group SO(3) is topologically equivalent to which space?",options:["S","S","P",""],correctIndex:2,difficulty:"hard",explanation:"SO(3) is homeomorphic to P, the real projective 3-space. This can be seen by parameterizing rotations as a ball with antipodal boundary points identified."}],NY=[{id:1,type:"multiple-choice",question:"What is a quaternion?",options:["A 44 matrix","A number of the form a + bi + cj + dk","A 4-dimensional vector","A type of polynomial"],correctIndex:1,difficulty:"easy",explanation:"A quaternion is a number q = a + bi + cj + dk where i = j = k = ijk = -1, extending complex numbers to four dimensions."},{id:2,type:"multiple-choice",question:"How does a unit quaternion q represent a rotation?",options:["By p  qp","By p  pq","By p  qpq","By p  q + p"],correctIndex:2,difficulty:"medium",explanation:"A unit quaternion q represents a rotation via the map p  qpq, where p is a pure quaternion representing a point in ."},{id:3,type:"multiple-choice",question:"What is special about the quaternion representation of rotations?",options:["It is one-to-one","Both q and -q represent the same rotation","Only positive quaternions give rotations","Each rotation has infinitely many quaternions"],correctIndex:1,difficulty:"medium",explanation:"The quaternion representation is 2-to-1: both q and -q give the same rotation p  qpq, since (-q)p(-q) = qpq."},{id:4,type:"multiple-choice",question:"For rotation about axis n through angle , the quaternion uses which angle?",options:["","/2","2",""],correctIndex:1,difficulty:"hard",explanation:"The unit quaternion for rotation about n through angle  is q = cos(/2) + sin(/2)(ni + nj + nk). The half-angle appears because of the 2-to-1 correspondence."}],AY=[{id:1,type:"multiple-choice",question:"How many rotational symmetries does a regular tetrahedron have?",options:["4","8","12","24"],correctIndex:2,difficulty:"easy",explanation:"The tetrahedron has 12 rotational symmetries: 1 identity, 8 face rotations (120 and 240 about each vertex-face axis), and 3 edge rotations (180 about edge midpoint axes)."},{id:2,type:"multiple-choice",question:"The rotation group of the tetrahedron is isomorphic to which group?",options:["S","A","S","A"],correctIndex:1,difficulty:"medium",explanation:"The rotation group of the tetrahedron is isomorphic to A, the alternating group of even permutations of 4 objects (the vertices)."},{id:3,type:"multiple-choice",question:"The 24 quaternions representing tetrahedron rotations form the vertices of which 4D polytope?",options:["The 4-simplex","The hypercube","The 24-cell","The 600-cell"],correctIndex:2,difficulty:"medium",explanation:"The 24 unit quaternions (1, i, j, k and the 16 of form (1  i  j  k)) form the vertices of the 24-cell, an exceptional regular 4D polytope."},{id:4,type:"multiple-choice",question:"Why do the cube and octahedron have the same rotation group?",options:["They have the same number of faces","They are dual polyhedra","They have the same volume","They have the same surface area"],correctIndex:1,difficulty:"hard",explanation:"The cube and octahedron are dualvertices of one correspond to face centers of the other. Duality preserves the symmetry group, so both have 24 rotations (S)."}],kY=[{id:1,type:"multiple-choice",question:"What is the 3-sphere S?",options:["The surface of a ball in ","Points at unit distance from O in ","A 3-dimensional sphere","The set of unit quaternions in "],correctIndex:1,difficulty:"easy",explanation:'S = {(a,b,c,d)   : a + b + c + d = 1}. It lives in 4-dimensional space and is the "surface" of a 4-ball.'},{id:2,type:"multiple-choice",question:"Unit quaternions are in one-to-one correspondence with points of which space?",options:["","S","S","P"],correctIndex:2,difficulty:"medium",explanation:"Unit quaternions q = a + bi + cj + dk with |q| = 1 correspond exactly to points (a,b,c,d) on S, since |q| = a + b + c + d = 1."},{id:3,type:"multiple-choice",question:"Which spheres have continuous group structures?",options:["All spheres S","Only S","Only S and S","S, S, and S"],correctIndex:2,difficulty:"hard",explanation:"Only S and S have continuous group structures. S gets its structure from complex multiplication, S from quaternion multiplication. S cannot have a continuous group structure."},{id:4,type:"multiple-choice",question:"What is an isomorphism between groups?",options:["Any function between groups","A one-to-one correspondence that preserves products","A function that preserves the identity","A bijection between sets"],correctIndex:1,difficulty:"medium",explanation:`An isomorphism : G  G' is a bijection satisfying (gg) = (g)(g). Isomorphic groups are "the same" as abstract groups.`}],MY=[{id:1,type:"multiple-choice",question:"Which branch of geometry is described as being concerned with how objects look rather than what they are?",options:["Euclidean geometry","Affine geometry","Projective geometry","Differential geometry"],correctIndex:2,difficulty:"easy",explanation:"Projective geometry is the most visual branch, concerned with how objects look (perspective) rather than their actual measurements."},{id:2,type:"multiple-choice",question:"Classical Chinese and Japanese art typically uses which type of geometric projection?",options:["Perspective projection","Affine (parallel) projection","Orthogonal projection","Spherical projection"],correctIndex:1,difficulty:"medium",explanation:'Classical East Asian art often uses affine (parallel) projection, preserving parallel lines and giving a "view from infinity" that differs from Renaissance perspective.'},{id:3,type:"multiple-choice",question:'Why is there no "number system" with multiplicative absolute value on ?',options:["Three is an odd number","There is no multiplication rule that makes |uv| = |u||v| while satisfying field axioms"," is too small","Complex numbers already exist in "],correctIndex:1,difficulty:"hard",explanation:"It is impossible to define a multiplication on  that satisfies the field axioms (or even weaker conditions) while having a multiplicative absolute value. The next dimension where this works is  (quaternions)."},{id:4,type:"multiple-choice",question:"According to Klein's Erlangen program, what defines a geometry?",options:["Its axioms","Its transformation group","Its dimension","Its coordinate system"],correctIndex:1,difficulty:"medium",explanation:"Klein's Erlangen program (1872) proposed that each geometry is characterized by its group of transformations. The properties of the geometry are exactly the invariants of its transformation group."}],EY=[{id:1,type:"multiple-choice",question:"What is the upper half plane in the context of hyperbolic geometry?",options:["The set of real numbers greater than zero","The set of complex numbers z = x + iy with y > 0","The upper hemisphere of a sphere","The top half of the Euclidean plane"],correctIndex:1,difficulty:"easy",explanation:"The upper half plane  = {z = x + iy   : y > 0} consists of all complex numbers with positive imaginary part."},{id:2,type:"multiple-choice",question:"What are the two types of non-Euclidean lines in the upper half plane model?",options:["Horizontal lines and circles","Diagonal lines and ellipses","Vertical rays and semicircles with centers on the x-axis","Parabolas and hyperbolas"],correctIndex:2,difficulty:"easy",explanation:"Non-Euclidean lines are either vertical rays (x = constant, y > 0) or semicircles with centers on the x-axis."},{id:3,type:"multiple-choice",question:"In hyperbolic geometry, how many lines through a point P are parallel to a given line L?",options:["Zero","Exactly one","Exactly two","Infinitely many"],correctIndex:3,difficulty:"medium",explanation:"Unlike Euclidean geometry where there is exactly one parallel, hyperbolic geometry has infinitely many lines through P that do not intersect L."},{id:4,type:"multiple-choice",question:"What condition ensures a linear fractional transformation f(z) = (az+b)/(cz+d) maps the upper half plane to itself?",options:["a, b, c, d are complex and ad - bc = 1","a, b, c, d are real and ad - bc > 0","a, b, c, d are integers","c = 0"],correctIndex:1,difficulty:"hard",explanation:"When a, b, c, d are real and ad - bc > 0, the transformation preserves the upper half plane. If ad - bc < 0, it maps to the lower half plane."}],CY=[{id:1,type:"multiple-choice",question:"What is the complex conjugate of z = 3 + 4i?",options:["3 + 4i","3 - 4i","-3 + 4i","-3 - 4i"],correctIndex:1,difficulty:"easy",explanation:"The complex conjugate of z = x + iy is z = x - iy. So the conjugate of 3 + 4i is 3 - 4i."},{id:2,type:"multiple-choice",question:"What is z  z for any complex number z = x + iy?",options:["x - y","x + y","2xy","x - y"],correctIndex:1,difficulty:"easy",explanation:"z  z = (x + iy)(x - iy) = x + y = |z|, the square of the absolute value."},{id:3,type:"multiple-choice",question:"Which transformation maps the upper half plane to itself?",options:["z  z","z  -z","z  -z","z  iz"],correctIndex:2,difficulty:"medium",explanation:"z  -z reflects across the imaginary axis while preserving the upper half plane. z  z sends y > 0 to y < 0."},{id:4,type:"multiple-choice",question:"What property makes complex conjugation an automorphism of ?",options:["It is continuous","It preserves addition and multiplication","It is bijective","It fixes real numbers"],correctIndex:1,difficulty:"medium",explanation:"Conjugation satisfies (z + w) = z + w and (zw) = zw, meaning it preserves the algebraic structure of ."}],zY=[{id:1,type:"multiple-choice",question:"Which transformations generate all Mbius transformations of the upper half plane?",options:["Only translations","Only rotations and reflections","z  z + l, z  kz, z  -z, z  1/z","Only inversions"],correctIndex:2,difficulty:"medium",explanation:"All Mbius transformations can be built from translations (z  z + l), scalings (z  kz), reflection in the imaginary axis (z  -z), and inversion-reflection (z  1/z)."},{id:2,type:"multiple-choice",question:"What is the formula for reflection in the vertical line x = a?",options:["z  z + 2a","z  2a - z","z  z - 2a","z  a/z"],correctIndex:1,difficulty:"medium",explanation:"Reflection in the vertical line x = a is given by z  2a - z. This fixes points on x = a and reverses orientation."},{id:3,type:"multiple-choice",question:"What type of transformation is z  kz for k > 0?",options:["Rotation","Reflection","Scaling (dilation)","Translation"],correctIndex:2,difficulty:"easy",explanation:"z  kz is a scaling or dilation centered at the origin. It multiplies all distances from the origin by k."},{id:4,type:"multiple-choice",question:"The composition of two reflections in non-Euclidean lines produces what type of transformation?",options:["A reflection","An orientation-preserving Mbius transformation","A translation only","A rotation only"],correctIndex:1,difficulty:"hard",explanation:"The composition of two reflections is always orientation-preserving. Depending on how the lines meet, it could be a translation, rotation, or limit rotation."}],DY=[{id:1,type:"multiple-choice",question:'What is a "generalized circle" in complex analysis?',options:["An ellipse","A circle or a straight line","Any closed curve","A spiral"],correctIndex:1,difficulty:"easy",explanation:'A generalized circle is either an ordinary circle or a straight line (viewed as a "circle through ").'},{id:2,type:"multiple-choice",question:"What do Mbius transformations preserve?",options:["Euclidean distances","Areas","Generalized circles","Curvature"],correctIndex:2,difficulty:"medium",explanation:"Mbius transformations map generalized circles to generalized circles. A line might map to a circle and vice versa, but circles/lines map to circles/lines."},{id:3,type:"multiple-choice",question:"Why do Mbius transformations preserve non-Euclidean lines?",options:["They preserve distances","They preserve angles, and non-Euclidean lines meet the boundary orthogonally","They are linear","They fix the origin"],correctIndex:1,difficulty:"hard",explanation:"Non-Euclidean lines are characterized by meeting the x-axis at right angles. Since Mbius transformations preserve both the boundary and angles, they preserve non-Euclidean lines."},{id:4,type:"multiple-choice",question:"What happens to the vertical line x = 1 under the map z  1/z?",options:["It remains a vertical line","It becomes a semicircle through the origin","It becomes a horizontal line","It becomes the unit circle"],correctIndex:1,difficulty:"medium",explanation:"Under z  1/z, lines not through the origin map to circles through the origin. The vertical line x = 1 maps to a circle passing through 0."}],PY=[{id:1,type:"multiple-choice",question:"What does it mean for a map to be conformal?",options:["It preserves distances","It preserves angles","It preserves areas","It preserves straight lines"],correctIndex:1,difficulty:"easy",explanation:"A conformal map preserves angles between curves at their intersection points."},{id:2,type:"multiple-choice",question:"Are all Mbius transformations conformal?",options:["No, only rotations are conformal","Yes, all Mbius transformations preserve angles","Only orientation-preserving ones","Only at certain points"],correctIndex:1,difficulty:"medium",explanation:"All Mbius transformations are conformal. Orientation-preserving ones preserve the sense of angles; orientation-reversing ones (involving conjugation) reverse the sense but preserve magnitude."},{id:3,type:"multiple-choice",question:"For f(z) = (az + b)/(cz + d), where is f conformal?",options:["Only at z = 0","Everywhere except where cz + d = 0","Only on the real line","Everywhere including at poles"],correctIndex:1,difficulty:"medium",explanation:"A Mbius transformation is conformal everywhere in its domain. It is undefined only where cz + d = 0 (the pole)."},{id:4,type:"multiple-choice",question:"In hyperbolic geometry, how are angles measured?",options:["Using a special hyperbolic protractor","Using the Euclidean angle between curves","Using the cross-ratio","They cannot be measured"],correctIndex:1,difficulty:"hard",explanation:"Hyperbolic angles equal Euclidean angles. We measure angles using the standard Euclidean metric on tangent vectors."}],IY=[{id:1,type:"multiple-choice",question:"What is the hyperbolic distance from i to 2i on the imaginary axis?",options:["1","log 2","2",""],correctIndex:1,difficulty:"easy",explanation:"For points pi and qi on the imaginary axis, ndist(pi, qi) = |log(q/p)|. So ndist(i, 2i) = log(2/1) = log 2."},{id:2,type:"multiple-choice",question:"Why does z  kz (k > 0) preserve hyperbolic distance on the imaginary axis?",options:["It preserves the ratio q/p","It fixes the origin","It is a rotation","It preserves Euclidean distance"],correctIndex:0,difficulty:"medium",explanation:"ndist(kpi, kqi) = log(kq/kp) = log(q/p) = ndist(pi, qi). The k cancels in the ratio."},{id:3,type:"multiple-choice",question:"What is the hyperbolic distance from any point in  to the boundary (x-axis)?",options:["Zero","One","Finite but depends on the point","Infinite"],correctIndex:3,difficulty:"medium",explanation:'The boundary is at infinite hyperbolic distance from every interior point. This is why the boundary is "unreachable" in finite hyperbolic time.'},{id:4,type:"multiple-choice",question:"The hyperbolic metric ds = |dz|/y means that at height y, the hyperbolic length of a Euclidean segment is:",options:["Multiplied by y","Divided by y","Independent of y","Squared by y"],correctIndex:1,difficulty:"hard",explanation:"The metric ds = |dz|/y means hyperbolic length = Euclidean length / y. Near the x-axis (small y), even small Euclidean distances are large hyperbolic distances."}],RY=[{id:1,type:"multiple-choice",question:"How are orientation-preserving Mbius transformations classified?",options:["By their determinant","By the number of fixed points on   {}","By their trace only","By whether they preserve area"],correctIndex:1,difficulty:"easy",explanation:"They are classified as hyperbolic (2 fixed points on boundary), elliptic (1 fixed point in interior), or parabolic (1 fixed point on boundary)."},{id:2,type:"multiple-choice",question:"What is a hyperbolic translation?",options:["Movement along a horocycle","Movement along a non-Euclidean line (geodesic)","Rotation about a point","Reflection in a line"],correctIndex:1,difficulty:"medium",explanation:"A hyperbolic translation moves points along a geodesic (non-Euclidean line). It has two fixed points on the boundary, the endpoints of its axis."},{id:3,type:"multiple-choice",question:"What is a horocycle?",options:["A hyperbolic circle","A curve tangent to the boundary at one point","A geodesic","An ellipse"],correctIndex:1,difficulty:"medium",explanation:"A horocycle is tangent to the boundary at exactly one point. In the upper half plane, horocycles are horizontal lines (tangent to ) or circles tangent to the x-axis."},{id:4,type:"multiple-choice",question:"The transformation z  z + 1 is which type?",options:["Hyperbolic (translation along a geodesic)","Elliptic (rotation)","Parabolic (limit rotation)","Reflection"],correctIndex:2,difficulty:"hard",explanation:"z  z + 1 has only  as a fixed point (one fixed point on boundary), making it parabolic. Points move along horizontal horocycles."}],_Y=[{id:1,type:"multiple-choice",question:"Every Mbius transformation of the upper half plane can be expressed as a product of at most how many reflections?",options:["One","Two","Three","Four"],correctIndex:2,difficulty:"easy",explanation:"The Three Reflections Theorem states that every Mbius transformation is a composition of at most three reflections in non-Euclidean lines."},{id:2,type:"multiple-choice",question:"What is an involution?",options:["A transformation with no fixed points","A transformation that is its own inverse (f  f = id)","A transformation with exactly one fixed point","A continuous transformation"],correctIndex:1,difficulty:"easy",explanation:"An involution satisfies f(f(z)) = z for all z. Applying it twice returns to the original. Every reflection is an involution."},{id:3,type:"multiple-choice",question:"What is a half-turn in hyperbolic geometry?",options:["A reflection","A rotation by 180 about a point in ","A translation by half the distance","A parabolic transformation"],correctIndex:1,difficulty:"medium",explanation:"A half-turn is a rotation by  (180) about a point. It is an orientation-preserving involution: applying it twice gives the identity."},{id:4,type:"multiple-choice",question:"Every orientation-preserving Mbius transformation can be written as a product of how many involutions?",options:["One","Two","Three","It varies"],correctIndex:1,difficulty:"hard",explanation:"The Two Involutions Theorem states that every orientation-preserving Mbius transformation is a product of exactly two involutions (such as half-turns)."}],qY=[{id:1,type:"multiple-choice",question:"Who were the independent discoverers of hyperbolic geometry?",options:["Newton and Leibniz","Bolyai and Lobachevsky","Euclid and Pythagoras","Gauss and Riemann"],correctIndex:1,difficulty:"easy",explanation:"Jnos Bolyai (Hungary) and Nikolai Lobachevsky (Russia) independently discovered hyperbolic geometry around 1830. Gauss also knew of it but never published."},{id:2,type:"multiple-choice",question:"What did Saccheri attempt to prove in 1733?",options:["The existence of non-Euclidean geometry","The parallel postulate by contradiction","The consistency of Euclidean geometry","The Pythagorean theorem"],correctIndex:1,difficulty:"medium",explanation:"Saccheri tried to prove the parallel postulate by assuming its negation and deriving a contradiction. He derived many hyperbolic theorems but rejected the valid geometry he had discovered."},{id:3,type:"multiple-choice",question:"What does the existence of a model prove about hyperbolic geometry?",options:["That it is true in the real world","That it is consistent (if Euclidean geometry is)","That the parallel postulate is false","That Euclid was wrong"],correctIndex:1,difficulty:"medium",explanation:"A model shows that hyperbolic geometry is consistent relative to Euclidean geometry: if Euclidean geometry has no contradictions, neither does hyperbolic geometry."},{id:4,type:"multiple-choice",question:"In the three constant-curvature geometries, which has angle sums greater than 180 for triangles?",options:["Euclidean","Hyperbolic","Spherical","Projective"],correctIndex:2,difficulty:"hard",explanation:"Spherical geometry (positive curvature) has triangles with angle sum > 180. Euclidean has exactly 180. Hyperbolic (negative curvature) has < 180."}],Xe={0:vN,15:LW,16:FW,17:UW,18:HW,19:VW,20:GW,21:WW,22:YW,23:XW,24:ZW,25:QW,26:KW,27:JW,28:eY,29:tY,30:nY,31:iY,32:sY,33:rY,34:aY,35:lY,36:oY,37:cY,38:hY,39:uY,40:dY,41:fY,42:mY,43:pY,44:xY,45:gY,46:yY,47:bY,48:vY,49:jY,50:wY,51:TY,52:SY,53:NY,54:AY,55:kY,56:MY,57:EY,58:CY,59:zY,60:DY,61:PY,62:IY,63:RY,64:_Y,65:qY};function OY(){return i.jsxs(qe,{sectionId:0,children:[i.jsx("h2",{children:"Euclid's Construction Axioms"}),i.jsxs("p",{children:["For over 2000 years, mathematics was almost synonymous with the geometry of Euclid's ",i.jsx("em",{children:"Elements"}),", a book written around 300 BCE and used in school mathematics instruction until the 20th century. Euclidean geometry, as it is now called, was thought to be the foundation of all exact science."]}),i.jsxs("p",{children:["A naive way to describe Euclidean geometry is to say it concerns the geometric figures that can be drawn (or ",i.jsx("em",{children:"constructed"})," as we say) by straightedge and compass. Euclid assumes that it is possible to draw a straight line between any two given points, and to draw a circle with given center and radius. All of the propositions he proves are about figures built from straight lines and circles."]}),i.jsx("h3",{children:"The Three Construction Axioms"}),i.jsxs("p",{children:["Euclid assumes that certain constructions can be done and he states these assumptions in a list called his ",i.jsx("em",{children:"axioms"})," (traditionally called ",i.jsx("em",{children:"postulates"}),"). He assumes that it is possible to:"]}),i.jsx(xe,{title:"Euclid's Construction Axioms",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-3 mt-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Draw a straight line segment"})," between any two points."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Extend a straight line segment"})," indefinitely."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Draw a circle"})," with given center and radius."]})]})}),i.jsx("h3",{children:"The Straightedge"}),i.jsxs("p",{children:["Axioms 1 and 2 say we have a ",i.jsx("em",{children:"straightedge"}),', an instrument for drawing arbitrarily long line segments. Euclid and his contemporaries tried to avoid infinity, so they worked with line segments rather than with whole lines. This is no real restriction, but it involves the annoyance of having to extend line segments (or "produce" them, as they say in old geometry books).']}),i.jsxs("p",{children:["Today we replace Axioms 1 and 2 by the single axiom that ",i.jsx("em",{children:"a line can be drawn through any two points"}),"."]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Key Distinction:"})," The straightedge (unlike a ruler) has no scale marked on it and hence can be used ",i.jsx("em",{children:"only"})," for drawing linesnot for measurement. Euclid separates the function of measurement from the function of drawing straight lines."]}),i.jsx("h3",{children:"The Compass"}),i.jsx("p",{children:"The compass is used to draw the circle through a given point B, with a given point A as center. To do this job, the compass must rotate rigidly about A after being initially set on the two points A and B."}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 300 200",className:"w-full max-w-md",children:[i.jsx("circle",{cx:"100",cy:"100",r:"70",fill:"none",stroke:"#60a5fa",strokeWidth:"2"}),i.jsx("circle",{cx:"100",cy:"100",r:"4",fill:"#60a5fa"}),i.jsx("text",{x:"85",y:"115",fill:"#60a5fa",fontSize:"16",fontStyle:"italic",children:"A"}),i.jsx("circle",{cx:"170",cy:"100",r:"4",fill:"#60a5fa"}),i.jsx("text",{x:"175",y:"115",fill:"#60a5fa",fontSize:"16",fontStyle:"italic",children:"B"}),i.jsx("line",{x1:"100",y1:"100",x2:"170",y2:"100",stroke:"#60a5fa",strokeWidth:"1.5",strokeDasharray:"5,5"}),i.jsx("line",{x1:"100",y1:"100",x2:"100",y2:"30",stroke:"#94a3b8",strokeWidth:"2"}),i.jsx("line",{x1:"100",y1:"30",x2:"170",y2:"100",stroke:"#94a3b8",strokeWidth:"2"}),i.jsx("circle",{cx:"100",cy:"30",r:"5",fill:"#475569",stroke:"#94a3b8",strokeWidth:"2"})]})}),i.jsx("p",{children:'Thus, the compass "stores" the length of the radius AB and allows this length to be transferred elsewhere. The power of measuring lengths resides in the compass.'}),i.jsx("h3",{children:"Adding and Subtracting Lengths"}),i.jsxs("p",{children:["The compass enables us to ",i.jsx("strong",{children:"add"})," and ",i.jsx("strong",{children:"subtract"})," lengths. To add the length |AB| to the length |CD|, or subtract |AB| from |CD|, we pick up the compass with radius set to |AB| and describe a circle with center D."]}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 400 120",className:"w-full max-w-lg",children:[i.jsx("line",{x1:"30",y1:"60",x2:"370",y2:"60",stroke:"#475569",strokeWidth:"1"}),i.jsx("circle",{cx:"50",cy:"60",r:"4",fill:"#60a5fa"}),i.jsx("text",{x:"45",y:"85",fill:"#60a5fa",fontSize:"14",fontStyle:"italic",children:"C"}),i.jsx("circle",{cx:"200",cy:"60",r:"4",fill:"#60a5fa"}),i.jsx("text",{x:"195",y:"85",fill:"#60a5fa",fontSize:"14",fontStyle:"italic",children:"D"}),i.jsx("path",{d:"M 130 60 A 70 70 0 0 1 270 60",fill:"none",stroke:"#34d399",strokeWidth:"1.5"}),i.jsx("line",{x1:"50",y1:"50",x2:"130",y2:"50",stroke:"#f472b6",strokeWidth:"2"}),i.jsx("text",{x:"70",y:"40",fill:"#f472b6",fontSize:"12",children:"|CD| - |AB|"}),i.jsx("line",{x1:"50",y1:"70",x2:"200",y2:"70",stroke:"#60a5fa",strokeWidth:"2"}),i.jsx("text",{x:"110",y:"95",fill:"#60a5fa",fontSize:"12",children:"|CD|"}),i.jsx("text",{x:"220",y:"40",fill:"#34d399",fontSize:"12",children:"|AB|"}),i.jsx("line",{x1:"200",y1:"50",x2:"350",y2:"50",stroke:"#34d399",strokeWidth:"2"}),i.jsx("text",{x:"250",y:"40",fill:"#34d399",fontSize:"12",children:"|CD| + |AB|"})]})}),i.jsx("p",{children:'By adding a fixed length repeatedly, one can construct a "scale" on a given line, effectively creating a ruler. This process illustrates how the power of measuring lengths resides in the compass.'}),i.jsxs(ue,{title:"The Scope of Straightedge and Compass",children:[i.jsx("p",{children:"Exactly which lengths can be measured by straightedge and compass is a deep question, which belongs to algebra and analysis. The question for general constructions turns out to depend on a problem about prime numbers that has not yet been solved:"}),i.jsx(Y,{children:"\\text{For which } m \\text{ is } 2^{2^m} + 1 \\text{ a prime number?}"})]}),i.jsx("h3",{children:"Separation of Concepts"}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"Fundamental Insight:"}),' Separating the concepts of "straightness" and "length," as the straightedge and the compass do, turns out to be important for understanding the foundations of geometry. The same separation of concepts reappears in different approaches to geometry developed later in this course.']}),i.jsxs("p",{children:["This chapter reviews some basic constructions, to give a quick impression of the extent of Euclidean geometry, and to suggest why ",i.jsx("em",{children:"right angles"})," and",i.jsx("em",{children:"parallel lines"})," play a special role in it. Constructions also help to expose the role of length, area, and angle in geometry. The deeper meaning of these concepts, and the related role of numbers in geometry, is a thread we will pursue throughout the course."]}),i.jsx(Re,{sectionId:0,questions:Xe[0]||[],title:"Euclid's Construction Axioms Quiz"})]})}function BY({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("equilateral"),[r,a]=q.useState(0),[l,o]=q.useState(!1),c=500,h=400,u={equilateral:{name:"Equilateral Triangle",steps:["Draw base segment AB","Draw circle centered at A with radius AB","Draw circle centered at B with radius BA","Mark intersection point C","Connect A-C and B-C to complete triangle"],maxStep:4},perpendicular:{name:"Perpendicular Bisector",steps:["Start with segment AB","Draw circle centered at A with radius > AB/2","Draw circle centered at B with same radius","Mark intersection points P and Q","Draw line through P and Q"],maxStep:4},bisector:{name:"Angle Bisector",steps:["Start with angle BAC","Draw arc from A intersecting both rays at D and E","Draw equal arcs from D and E","Mark intersection point F","Draw ray AF (the bisector)"],maxStep:4},parallel:{name:"Parallel Line",steps:["Start with line L and point P not on L","Draw perpendicular from P to L at point Q","At P, construct perpendicular to PQ","This line is parallel to L"],maxStep:3}};q.useEffect(()=>{const M=e.current;if(!M)return;const y=M.getContext("2d");if(!y)return;y.fillStyle="#0f172a",y.fillRect(0,0,c,h),y.strokeStyle="#1e293b",y.lineWidth=1;for(let m=0;m<=c;m+=40)y.beginPath(),y.moveTo(m,0),y.lineTo(m,h),y.stroke();for(let m=0;m<=h;m+=40)y.beginPath(),y.moveTo(0,m),y.lineTo(c,m),y.stroke();const T=(m,g,E="#22d3ee")=>{y.fillStyle=E,y.beginPath(),y.arc(m.x,m.y,5,0,Math.PI*2),y.fill(),y.fillStyle="#e2e8f0",y.font="bold 14px sans-serif",y.fillText(g,m.x+8,m.y-8)},S=(m,g,E="#f472b6")=>{y.strokeStyle=E,y.lineWidth=2,y.beginPath(),y.moveTo(m.x,m.y),y.lineTo(g.x,g.y),y.stroke()},N=(m,g,E="#a78bfa",v=!1)=>{y.strokeStyle=E,y.lineWidth=1.5,v&&y.setLineDash([5,5]),y.beginPath(),y.arc(m.x,m.y,g,0,Math.PI*2),y.stroke(),y.setLineDash([])},j=(m,g,E,v,p="#a78bfa")=>{y.strokeStyle=p,y.lineWidth=1.5,y.beginPath(),y.arc(m.x,m.y,g,E,v),y.stroke()};switch(n){case"equilateral":{const m={x:150,y:280},g={x:350,y:280},E=Math.sqrt((g.x-m.x)**2+(g.y-m.y)**2),v={x:250,y:280-E*Math.sin(Math.PI/3)};r>=0&&(S(m,g),T(m,"A"),T(g,"B")),r>=1&&N(m,E,"#a78bfa",!0),r>=2&&N(g,E,"#22d3ee",!0),r>=3&&T(v,"C","#fbbf24"),r>=4&&(S(m,v,"#34d399"),S(g,v,"#34d399"));break}case"perpendicular":{const m={x:150,y:250},g={x:350,y:250},E=130,v=(m.x+g.x)/2,p=Math.sqrt(E**2-((g.x-m.x)/2)**2),A={x:v,y:250-p},w={x:v,y:250+p};if(r>=0&&(S(m,g),T(m,"A"),T(g,"B")),r>=1&&N(m,E,"#a78bfa",!0),r>=2&&N(g,E,"#22d3ee",!0),r>=3&&(T(A,"P","#fbbf24"),T(w,"Q","#fbbf24")),r>=4){S(A,w,"#34d399");const k={x:v,y:250};y.strokeStyle="#34d399",y.lineWidth=1,y.beginPath(),y.moveTo(k.x+10,k.y),y.lineTo(k.x+10,k.y-10),y.lineTo(k.x,k.y-10),y.stroke()}break}case"bisector":{const m={x:150,y:300},g=Math.PI/3,E=200,v={x:m.x+E,y:m.y},p={x:m.x+E*Math.cos(g),y:m.y-E*Math.sin(g)},A=80,w={x:m.x+A,y:m.y},k={x:m.x+A*Math.cos(g),y:m.y-A*Math.sin(g)},D=g/2,I={x:m.x+120*Math.cos(D),y:m.y-120*Math.sin(D)};if(r>=0&&(S(m,v),S(m,p),T(m,"A"),T(v,"B","#94a3b8"),T(p,"C","#94a3b8")),r>=1&&(j(m,A,-g,0,"#a78bfa"),T(w,"D","#fbbf24"),T(k,"E","#fbbf24")),r>=2&&(j(w,60,-Math.PI,Math.PI,"#22d3ee"),j(k,60,-Math.PI,Math.PI,"#22d3ee")),r>=3&&T(I,"F","#34d399"),r>=4){const $={x:m.x+E*Math.cos(D),y:m.y-E*Math.sin(D)};S(m,$,"#34d399")}break}case"parallel":{const m={x:50,y:300},g={x:450,y:300},E={x:250,y:150},v={x:250,y:300};r>=0&&(S(m,g,"#f472b6"),T(E,"P","#22d3ee"),y.fillStyle="#94a3b8",y.font="12px sans-serif",y.fillText("Line L",g.x-40,g.y+20)),r>=1&&(S(E,v,"#a78bfa"),T(v,"Q","#fbbf24"),y.strokeStyle="#a78bfa",y.lineWidth=1,y.beginPath(),y.moveTo(v.x+10,v.y),y.lineTo(v.x+10,v.y-10),y.lineTo(v.x,v.y-10),y.stroke()),r>=2&&(y.strokeStyle="#34d399",y.lineWidth=1,y.beginPath(),y.moveTo(E.x+10,E.y),y.lineTo(E.x+10,E.y+10),y.lineTo(E.x,E.y+10),y.stroke()),r>=3&&(S({x:50,y:E.y},{x:450,y:E.y},"#34d399"),y.fillStyle="#34d399",y.font="12px sans-serif",y.fillText("Parallel to L",360,E.y-10));break}}y.fillStyle="#94a3b8",y.font="11px sans-serif",y.fillText(`Step ${r+1} of ${u[n].maxStep+1}`,10,h-10)},[n,r]);const f=()=>{r<u[n].maxStep&&a(r+1)},x=()=>{r>0&&a(r-1)},b=()=>{o(!0),a(0);let M=0;const y=setInterval(()=>{M<u[n].maxStep?(M++,a(M)):(clearInterval(y),o(!1))},1e3)};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Compass & Straightedge Construction"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Construction Type"}),i.jsxs("select",{value:n,onChange:M=>{s(M.target.value),a(0)},className:"w-full px-2 py-1.5 bg-slate-800 border border-slate-600 rounded text-slate-200 text-sm",children:[i.jsx("option",{value:"equilateral",children:"Equilateral Triangle"}),i.jsx("option",{value:"perpendicular",children:"Perpendicular Bisector"}),i.jsx("option",{value:"bisector",children:"Angle Bisector"}),i.jsx("option",{value:"parallel",children:"Parallel Line"})]})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Current Step:"}),i.jsx("div",{className:"text-sm text-slate-200",children:u[n].steps[r]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:x,disabled:r===0||l,className:"flex-1 px-3 py-1.5 bg-slate-700 hover:bg-slate-600 disabled:opacity-50 text-slate-200 rounded text-sm",children:"Previous"}),i.jsx("button",{onClick:f,disabled:r===u[n].maxStep||l,className:"flex-1 px-3 py-1.5 bg-slate-700 hover:bg-slate-600 disabled:opacity-50 text-slate-200 rounded text-sm",children:"Next"})]}),i.jsx("button",{onClick:b,disabled:l,className:"w-full px-3 py-1.5 bg-blue-600 hover:bg-blue-500 disabled:opacity-50 text-white rounded text-sm",children:l?"Animating...":"Animate All Steps"}),i.jsx("button",{onClick:()=>a(0),className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Reset"}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Given segments"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-purple-400",children:"Purple:"})," Circle from A"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," Circle from B"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-green-400",children:"Green:"})," Result"]})]})]})]})]})}function $Y({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(150),[r,a]=q.useState(!1),l=500,o=380,c={x:100,y:320},h={x:400,y:320},u={x:300,y:80},f=y=>{if(y>=c.y||y<=u.y)return null;const T=(c.y-y)/(c.y-u.y),S={x:c.x+T*(u.x-c.x),y},N=(h.y-y)/(h.y-u.y),j={x:h.x+N*(u.x-h.x),y};return{C:S,D:j}};q.useEffect(()=>{const y=e.current;if(!y)return;const T=y.getContext("2d");if(!T)return;T.fillStyle="#0f172a",T.fillRect(0,0,l,o),T.strokeStyle="#1e293b",T.lineWidth=1;for(let j=0;j<=l;j+=40)T.beginPath(),T.moveTo(j,0),T.lineTo(j,o),T.stroke();for(let j=0;j<=o;j+=40)T.beginPath(),T.moveTo(0,j),T.lineTo(l,j),T.stroke();T.strokeStyle="#f472b6",T.lineWidth=2,T.beginPath(),T.moveTo(c.x,c.y),T.lineTo(h.x,h.y),T.lineTo(u.x,u.y),T.closePath(),T.stroke(),T.strokeStyle="#475569",T.lineWidth=1,T.setLineDash([5,5]),T.beginPath(),T.moveTo(50,c.y),T.lineTo(450,c.y),T.stroke(),T.setLineDash([]);const S=(j,m,g)=>{T.fillStyle=g,T.beginPath(),T.arc(j.x,j.y,6,0,Math.PI*2),T.fill(),T.fillStyle="#e2e8f0",T.font="bold 14px sans-serif",T.fillText(m,j.x+10,j.y-8)};S(c,"O","#f472b6"),S(h,"A","#f472b6"),S(u,"B","#f472b6");const N=f(n);if(N){const{C:j,D:m}=N;T.strokeStyle="#22d3ee",T.lineWidth=2,T.beginPath(),T.moveTo(50,n),T.lineTo(450,n),T.stroke(),S(j,"C","#22d3ee"),S(m,"D","#22d3ee");const g=Math.sqrt((j.x-c.x)**2+(j.y-c.y)**2),E=Math.sqrt((u.x-c.x)**2+(u.y-c.y)**2),v=Math.sqrt((m.x-h.x)**2+(m.y-h.y)**2),p=Math.sqrt((u.x-h.x)**2+(u.y-h.y)**2),A=Math.sqrt((m.x-j.x)**2+(m.y-j.y)**2),w=Math.sqrt((h.x-c.x)**2+(h.y-c.y)**2),k=g/E,D=v/p,I=A/w;T.fillStyle="#0f172a",T.fillRect(10,10,200,100),T.strokeStyle="#334155",T.strokeRect(10,10,200,100),T.fillStyle="#e2e8f0",T.font="12px sans-serif",T.fillText("Thales Theorem:",20,30),T.fillText(`OC/OB = ${k.toFixed(3)}`,20,50),T.fillText(`AD/AB = ${D.toFixed(3)}`,20,70),T.fillText(`CD/OA = ${I.toFixed(3)}`,20,90),T.fillStyle="#34d399",T.fillText("All ratios equal!",120,50),T.fillStyle="#22d3ee",T.font="11px sans-serif",T.fillText("CD  OA",380,n-10)}T.fillStyle="#94a3b8",T.font="11px sans-serif",T.fillText("Drag the cyan line up/down",10,o-10)},[n]);const x=y=>{var N;const T=(N=e.current)==null?void 0:N.getBoundingClientRect();if(!T)return;const S=y.clientY-T.top;Math.abs(S-n)<20&&a(!0)},b=y=>{var N;if(!r)return;const T=(N=e.current)==null?void 0:N.getBoundingClientRect();if(!T)return;let S=y.clientY-T.top;S=Math.max(u.y+20,Math.min(c.y-20,S)),s(S)},M=()=>{a(!1)};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Thales' Theorem (Intercept Theorem)"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:l,height:o,className:"border border-slate-700 rounded cursor-ns-resize",onMouseDown:x,onMouseMove:b,onMouseUp:M,onMouseLeave:M})}),i.jsxs("div",{className:"w-full md:w-52 space-y-3",children:[i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-blue-400 mb-2",children:"Thales' Theorem"}),i.jsx("p",{className:"text-xs text-slate-300",children:"If a line CD is drawn parallel to the base OA of a triangle OAB, then it divides the other two sides proportionally:"}),i.jsx("p",{className:"text-sm text-cyan-400 mt-2 font-mono",children:"OC/OB = AD/AB = CD/OA"})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-yellow-400 mb-2",children:"Key Insight"}),i.jsx("p",{className:"text-xs text-slate-300",children:"This theorem is fundamental for similar triangles. The parallel line creates a smaller triangle similar to the original."})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Original triangle OAB"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," Parallel line CD"]}),i.jsx("p",{children:"Drag the line to see ratios change"})]})]})]})]})}function LY({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(0),[r,a]=q.useState(0),[l,o]=q.useState(!1),c=q.useRef(),h=500,u=400,f=h/2,x=u/2+40,b=120,M={x:f-b/2,y:x},y={x:f+b/2,y:x},T={x:f,y:x-b*Math.sqrt(3)/2},S=["Draw points A and B (the base)","Draw circle with center A, radius AB","Draw circle with center B, radius AB","Mark intersection point C","Draw triangle ABC"];q.useEffect(()=>{const g=e.current;if(!g)return;const E=g.getContext("2d");if(!E)return;E.fillStyle="#0f172a",E.fillRect(0,0,h,u),E.strokeStyle="#1e293b",E.lineWidth=1;for(let w=0;w<=h;w+=40)E.beginPath(),E.moveTo(w,0),E.lineTo(w,u),E.stroke();for(let w=0;w<=u;w+=40)E.beginPath(),E.moveTo(0,w),E.lineTo(h,w),E.stroke();const v=(w,k,D,I,$,B,G)=>{E.strokeStyle=G,E.lineWidth=2,E.setLineDash([5,5]),E.beginPath();const V=($-I)*B;E.arc(w,k,D,I,I+V),E.stroke(),E.setLineDash([])},p=(w,k,D,I,$,B)=>{E.strokeStyle=B,E.lineWidth=2,E.beginPath(),E.moveTo(w,k),E.lineTo(w+(D-w)*$,k+(I-k)*$),E.stroke()},A=(w,k,D,I,$={x:0,y:20})=>{E.fillStyle=D,E.beginPath(),E.arc(w,k,5,0,Math.PI*2),E.fill(),E.font="italic 16px serif",E.fillStyle=D,E.fillText(I,w+$.x,k+$.y)};if(n>=0&&(p(M.x,M.y,y.x,y.y,n===0?r:1,"#f472b6"),A(M.x,M.y,"#60a5fa","A",{x:-20,y:20}),A(y.x,y.y,"#34d399","B",{x:10,y:20})),n>=1){const w=n===1?r:1;v(M.x,M.y,b,-Math.PI/3,Math.PI/3,w,"#60a5fa")}if(n>=2){const w=n===2?r:1;v(y.x,y.y,b,2*Math.PI/3,4*Math.PI/3,w,"#34d399")}if(n>=3){const w=n===3?r:1;w>.5&&(E.fillStyle="#fbbf24",E.beginPath(),E.arc(T.x,T.y,6*(w-.5)*2,0,Math.PI*2),E.fill(),E.font="italic 16px serif",E.fillStyle="#fbbf24",E.fillText("C",T.x+10,T.y-10))}if(n>=4){const w=n===4?r:1;w<.5?p(M.x,M.y,T.x,T.y,w*2,"#f472b6"):(p(M.x,M.y,T.x,T.y,1,"#f472b6"),p(y.x,y.y,T.x,T.y,(w-.5)*2,"#f472b6"))}if(n>=4&&r>=1){E.font="12px sans-serif",E.fillStyle="#94a3b8",E.fillText("= r",(M.x+y.x)/2,(M.y+y.y)/2+20);const w=(M.x+T.x)/2,k=(M.y+T.y)/2;E.fillText("= r",w-25,k);const D=(y.x+T.x)/2,I=(y.y+T.y)/2;E.fillText("= r",D+10,I)}},[n,r]),q.useEffect(()=>{if(l){const g=Date.now(),E=1e3,v=()=>{const p=Date.now()-g,A=Math.min(p/E,1);a(A),A<1?c.current=requestAnimationFrame(v):o(!1)};return c.current=requestAnimationFrame(v),()=>{c.current&&cancelAnimationFrame(c.current)}}},[l,n]);const N=()=>{n<S.length-1&&!l&&(s(n+1),a(0),o(!0))},j=()=>{n>0&&!l&&(s(n-1),a(1))},m=()=>{s(0),a(1),o(!1)};return i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Interactive Equilateral Triangle Construction"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:h,height:u,className:"border border-slate-700 rounded"})}),i.jsx("div",{className:"bg-slate-900/50 p-3 rounded mb-4",children:i.jsxs("p",{className:"text-slate-300",children:[i.jsxs("strong",{children:["Step ",n+1,":"]})," ",S[n]]})}),i.jsxs("div",{className:"flex justify-center gap-3 mb-4",children:[i.jsx("button",{onClick:j,disabled:n===0||l,className:`px-4 py-2 bg-slate-700 text-white rounded hover:bg-slate-600
                     disabled:opacity-50 disabled:cursor-not-allowed transition`,children:"Previous"}),i.jsx("button",{onClick:N,disabled:n===S.length-1||l,className:`px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-500
                     disabled:opacity-50 disabled:cursor-not-allowed transition`,children:"Next Step"}),i.jsx("button",{onClick:m,className:"px-4 py-2 bg-slate-700 text-white rounded hover:bg-slate-600 transition",children:"Reset"})]}),i.jsx("div",{className:"flex justify-center gap-2",children:S.map((g,E)=>i.jsx("div",{className:`w-3 h-3 rounded-full transition-colors ${E<=n?"bg-blue-500":"bg-slate-600"}`},E))}),i.jsxs("div",{className:"mt-4 text-sm text-slate-400",children:[i.jsx("p",{children:i.jsx("strong",{children:"Why it works:"})}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsxs("li",{children:[i.jsx("span",{className:"text-blue-400",children:"CA"})," = radius of circle A = AB"]}),i.jsxs("li",{children:[i.jsx("span",{className:"text-green-400",children:"CB"})," = radius of circle B = AB"]}),i.jsx("li",{children:"Therefore all three sides are equal!"})]})]})]})}function FY({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("multiply"),[r,a]=q.useState(2),[l,o]=q.useState(1.5),c=550,h=400,u={x:60,y:h-60},f=80;return q.useEffect(()=>{const x=e.current;if(!x)return;const b=x.getContext("2d");if(!b)return;b.fillStyle="#0f172a",b.fillRect(0,0,c,h),b.strokeStyle="#1e293b",b.lineWidth=1;for(let g=u.x;g<=c;g+=f)b.beginPath(),b.moveTo(g,0),b.lineTo(g,h),b.stroke();for(let g=0;g<=h;g+=f)b.beginPath(),b.moveTo(0,g),b.lineTo(c,g),b.stroke();b.strokeStyle="#475569",b.lineWidth=2,b.beginPath(),b.moveTo(u.x-20,u.y),b.lineTo(c-20,u.y),b.stroke();const M=350,y=Math.PI/3;b.beginPath(),b.moveTo(u.x,u.y),b.lineTo(u.x+M*Math.cos(y),u.y-M*Math.sin(y)),b.stroke();const T=(g,E)=>({x:u.x+g*f,y:u.y-E*f}),S=g=>({x:u.x+g*f*Math.cos(y),y:u.y-g*f*Math.sin(y)}),N=T(0,0),j=S(1),m=T(r,0);if(b.fillStyle="#60a5fa",b.beginPath(),b.arc(j.x,j.y,5,0,Math.PI*2),b.fill(),b.font="italic 14px serif",b.fillText("U (1)",j.x-10,j.y-12),b.fillStyle="#f472b6",b.beginPath(),b.arc(N.x,N.y,5,0,Math.PI*2),b.fill(),b.fillText("O",N.x-15,N.y+5),b.fillStyle="#34d399",b.beginPath(),b.arc(m.x,m.y,5,0,Math.PI*2),b.fill(),b.fillText("A",m.x-5,m.y+20),b.strokeStyle="#94a3b8",b.lineWidth=1.5,b.beginPath(),b.moveTo(j.x,j.y),b.lineTo(m.x,m.y),b.stroke(),n==="multiply"){const g=S(1+l);b.fillStyle="#fbbf24",b.beginPath(),b.arc(g.x,g.y,5,0,Math.PI*2),b.fill(),b.font="italic 14px serif",b.fillText("B",g.x-25,g.y-5),b.strokeStyle="#60a5fa",b.lineWidth=1.5,b.beginPath(),b.moveTo(N.x,N.y),b.lineTo(g.x,g.y),b.stroke();const E=1+l,v=T(r*E,0);b.fillStyle="#c084fc",b.beginPath(),b.arc(v.x,v.y,6,0,Math.PI*2),b.fill(),b.fillText("C",v.x-5,v.y+20),b.strokeStyle="#fbbf24",b.setLineDash([6,4]),b.beginPath(),b.moveTo(g.x,g.y),b.lineTo(v.x,v.y),b.stroke(),b.setLineDash([]),b.strokeStyle="#34d399",b.lineWidth=1.5,b.beginPath(),b.moveTo(N.x,N.y),b.lineTo(v.x,v.y),b.stroke(),b.font="12px sans-serif",b.fillStyle="#60a5fa";const p={x:(N.x+j.x)/2,y:(N.y+j.y)/2};b.fillText("1",p.x-15,p.y+5),b.fillStyle="#fbbf24";const A={x:(j.x+g.x)/2,y:(j.y+g.y)/2};b.fillText(`b=${l.toFixed(1)}`,A.x-30,A.y),b.fillStyle="#34d399";const w={x:(N.x+m.x)/2,y:(N.y+m.y)/2};b.fillText(`a=${r.toFixed(1)}`,w.x,w.y+20),b.fillStyle="#c084fc",b.font="bold 14px sans-serif";const k=r*l;b.fillText(`AC = ab = ${k.toFixed(2)}`,v.x-60,v.y+40)}else{const g=T(r+l,0);b.fillStyle="#fbbf24",b.beginPath(),b.arc(g.x,g.y,5,0,Math.PI*2),b.fill(),b.font="italic 14px serif",b.fillText("B",g.x-5,g.y+20);const E=(r+l)/r,v=S(E);b.fillStyle="#c084fc",b.beginPath(),b.arc(v.x,v.y,6,0,Math.PI*2),b.fill(),b.fillText("D",v.x-25,v.y-5),b.strokeStyle="#60a5fa",b.lineWidth=1.5,b.beginPath(),b.moveTo(N.x,N.y),b.lineTo(v.x,v.y),b.stroke(),b.strokeStyle="#fbbf24",b.setLineDash([6,4]),b.beginPath(),b.moveTo(g.x,g.y),b.lineTo(v.x,v.y),b.stroke(),b.setLineDash([]),b.strokeStyle="#34d399",b.lineWidth=1.5,b.beginPath(),b.moveTo(N.x,N.y),b.lineTo(g.x,g.y),b.stroke(),b.font="12px sans-serif",b.fillStyle="#60a5fa";const p={x:(N.x+j.x)/2,y:(N.y+j.y)/2};b.fillText("1",p.x-15,p.y+5),b.fillStyle="#34d399";const A={x:(N.x+m.x)/2,y:(N.y+m.y)/2};b.fillText(`a=${r.toFixed(1)}`,A.x,A.y+20),b.fillStyle="#fbbf24";const w={x:(m.x+g.x)/2,y:(m.y+g.y)/2};b.fillText(`b=${l.toFixed(1)}`,w.x,w.y+20),b.fillStyle="#c084fc",b.font="bold 14px sans-serif";const k=l/r;b.fillText(`UD = b/a = ${k.toFixed(2)}`,v.x+10,v.y+5)}b.fillStyle="#94a3b8",b.font="11px sans-serif",b.fillText(" (parallel to UA)",c-150,30)},[n,r,l]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Geometric Multiplication and Division"}),i.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[i.jsx("button",{onClick:()=>s("multiply"),className:`px-4 py-2 rounded transition ${n==="multiply"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Multiplication (a  b)"}),i.jsx("button",{onClick:()=>s("divide"),className:`px-4 py-2 rounded transition ${n==="divide"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Division (b  a)"})]}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["a = ",r.toFixed(1)]}),i.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:r,onChange:x=>a(parseFloat(x.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["b = ",l.toFixed(1)]}),i.jsx("input",{type:"range",min:"0.5",max:"2.5",step:"0.1",value:l,onChange:x=>o(parseFloat(x.target.value)),className:"w-full"})]})]}),i.jsx("div",{className:"bg-slate-900/50 p-3 rounded text-sm",children:n==="multiply"?i.jsxs("p",{className:"text-slate-300",children:[i.jsx("strong",{children:"Multiplication:"})," The parallel through B to line UA meets the extension of OA at C. By similar triangles (Thales theorem), the length AC equals the product ",i.jsxs("span",{className:"text-purple-400",children:["a  b = ",(r*l).toFixed(2)]}),"."]}):i.jsxs("p",{className:"text-slate-300",children:[i.jsx("strong",{children:"Division:"})," The parallel through B to line UA meets the extension of OU at D. By similar triangles (Thales theorem), the length UD equals the quotient ",i.jsxs("span",{className:"text-purple-400",children:["b  a = ",(l/r).toFixed(2)]}),"."]})})]})}function UY(){return i.jsxs(qe,{sectionId:1,children:[i.jsx("h2",{children:"Euclid's Construction of the Equilateral Triangle"}),i.jsxs("p",{children:["Constructing an equilateral triangle on a given side is the ",i.jsx("strong",{children:"first proposition"})," of Euclid's ",i.jsx("em",{children:"Elements"}),". This construction elegantly demonstrates the interplay between construction axioms, geometric axioms, and logical reasoning."]}),i.jsx("h3",{children:"The Construction"}),i.jsx("p",{children:"Given a line segment AB, we construct an equilateral triangle in three steps:"}),i.jsx(xe,{title:"Construction of the Equilateral Triangle",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-3 mt-4",children:[i.jsx("li",{children:"Draw the circle with center A and radius AB."}),i.jsx("li",{children:"Draw the circle with center B and radius AB."}),i.jsx("li",{children:"Draw the line segments from A and B to the intersection C of the two circles."})]})}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 300 280",className:"w-full max-w-md",children:[i.jsx("circle",{cx:"80",cy:"200",r:"100",fill:"none",stroke:"#60a5fa",strokeWidth:"1.5",strokeDasharray:"4,4"}),i.jsx("circle",{cx:"180",cy:"200",r:"100",fill:"none",stroke:"#34d399",strokeWidth:"1.5",strokeDasharray:"4,4"}),i.jsx("line",{x1:"80",y1:"200",x2:"180",y2:"200",stroke:"#f472b6",strokeWidth:"2"}),i.jsx("line",{x1:"80",y1:"200",x2:"130",y2:"113",stroke:"#f472b6",strokeWidth:"2"}),i.jsx("line",{x1:"180",y1:"200",x2:"130",y2:"113",stroke:"#f472b6",strokeWidth:"2"}),i.jsx("circle",{cx:"80",cy:"200",r:"4",fill:"#60a5fa"}),i.jsx("text",{x:"65",y:"225",fill:"#60a5fa",fontSize:"16",fontStyle:"italic",children:"A"}),i.jsx("circle",{cx:"180",cy:"200",r:"4",fill:"#34d399"}),i.jsx("text",{x:"185",y:"225",fill:"#34d399",fontSize:"16",fontStyle:"italic",children:"B"}),i.jsx("circle",{cx:"130",cy:"113",r:"4",fill:"#f472b6"}),i.jsx("text",{x:"135",y:"105",fill:"#f472b6",fontSize:"16",fontStyle:"italic",children:"C"})]})}),i.jsx("h3",{children:"Why It Works"}),i.jsx("p",{children:"The result is the triangle ABC with sides AB, BC, and CA. Let's verify that all three sides are equal:"}),i.jsx(ue,{title:"Equality of Sides",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-4",children:[i.jsxs("li",{children:["Sides ",i.jsx("strong",{children:"AB"})," and ",i.jsx("strong",{children:"CA"})," have equal length because they are both radii of the first circle (centered at A)."]}),i.jsxs("li",{children:["Sides ",i.jsx("strong",{children:"AB"})," and ",i.jsx("strong",{children:"BC"})," have equal length because they are both radii of the second circle (centered at B)."]}),i.jsx("li",{children:"Hence, all three sides of triangle ABC are equal: |AB| = |BC| = |CA|."})]})}),i.jsx("h3",{children:"The Interplay of Axioms and Logic"}),i.jsx("p",{children:"This example nicely shows the interplay among three essential components of geometry:"}),i.jsxs("div",{className:"space-y-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-blue-500",children:[i.jsx("h4",{className:"font-semibold text-blue-400",children:"Construction Axioms"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Guarantee the existence of the construction lines and circles (initially the two circles on radius AB, and later the line segments BC and CA)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h4",{className:"font-semibold text-green-400",children:"Geometric Axioms"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Guarantee the existence of points required for later steps in the construction (the intersection C of the two circles)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-pink-500",children:[i.jsx("h4",{className:"font-semibold text-pink-400",children:"Logic"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Guarantees that certain conclusions follow. Here we use the principle that things equal to the same thing (both |BC| and |CA| equal |AB|) are equal to each other (so |BC| = |CA|)."})]})]}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"A Gap in Euclid:"})," Euclid states no axiom about the intersection of circles, so he has not justified the existence of the point C used in his very first proposition! This is one of several gaps in Euclid that were only filled by modern mathematicians."]}),i.jsx("h3",{children:"Regular Polygons"}),i.jsxs("p",{children:["The equilateral triangle is an example of a ",i.jsx("em",{children:"regular polygon"}),": a geometric figure bounded by equal line segments that meet at equal angles. If the polygon has n sides, we call it an ",i.jsx("em",{children:"n-gon"}),"."]}),i.jsxs(bh,{title:"Constructing a Regular Hexagon",children:[i.jsx("p",{children:"By extending Euclid's construction of the equilateral triangle, we can construct a regular hexagon:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-4",children:[i.jsx("li",{children:"Start with a circle of radius r."}),i.jsx("li",{children:"Mark any point on the circle."}),i.jsx("li",{children:"Using the compass set to radius r, mark successive points around the circle."}),i.jsx("li",{children:"Connect adjacent points to form the hexagon."})]})]}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 300 300",className:"w-full max-w-sm",children:[i.jsx("circle",{cx:"150",cy:"150",r:"80",fill:"none",stroke:"#475569",strokeWidth:"1"}),i.jsx("polygon",{points:"230,150 190,219 110,219 70,150 110,81 190,81",fill:"none",stroke:"#60a5fa",strokeWidth:"2"}),i.jsx("circle",{cx:"230",cy:"150",r:"3",fill:"#60a5fa"}),i.jsx("circle",{cx:"190",cy:"219",r:"3",fill:"#60a5fa"}),i.jsx("circle",{cx:"110",cy:"219",r:"3",fill:"#60a5fa"}),i.jsx("circle",{cx:"70",cy:"150",r:"3",fill:"#60a5fa"}),i.jsx("circle",{cx:"110",cy:"81",r:"3",fill:"#60a5fa"}),i.jsx("circle",{cx:"190",cy:"81",r:"3",fill:"#60a5fa"}),i.jsx("circle",{cx:"150",cy:"150",r:"3",fill:"#f472b6"}),i.jsx("line",{x1:"150",y1:"150",x2:"230",y2:"150",stroke:"#f472b6",strokeWidth:"1.5",strokeDasharray:"4,4"}),i.jsx("text",{x:"185",y:"140",fill:"#f472b6",fontSize:"12",children:"r"})]})}),i.jsx("h3",{children:"The Question of Constructibility"}),i.jsx("p",{children:"So the regular 3-gon and the regular 6-gon are constructible. This raises a natural question:"}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Open Question:"})," For which n is the regular n-gon constructible by straightedge and compass?"]}),i.jsx("p",{children:"This question turns out to belong to algebra and number theory. A complete answer depends on a problem about prime numbers that has not yet been solved:"}),i.jsx(Y,{children:"\\text{For which } m \\text{ is } 2^{2^m} + 1 \\text{ a prime number?}"}),i.jsxs(ue,{title:"Gauss-Wantzel Theorem (Preview)",children:[i.jsxs("p",{children:["A regular polygon with a prime number p of sides is constructible by straightedge and compass if and only if p is of the form 2",i.jsxs("sup",{children:["2",i.jsx("sup",{children:"m"})]})," + 1."]}),i.jsx("p",{className:"mt-4",children:"This gives three constructible p-gons not known to the Greeks:"}),i.jsx(Y,{children:"2^4 + 1 = 17, \\quad 2^8 + 1 = 257, \\quad 2^{16} + 1 = 65537"}),i.jsx("p",{className:"mt-4",children:"These are all prime numbers. But no larger prime numbers of this form are known!"})]}),i.jsx(LY,{className:"my-6"}),i.jsx(Re,{sectionId:1,questions:[],title:"Equilateral Triangle Construction Quiz"})]})}function HY(){return i.jsxs(qe,{sectionId:2,children:[i.jsx("h2",{children:"Some Basic Constructions"}),i.jsxs("p",{children:["The equilateral triangle construction comes first in the ",i.jsx("em",{children:"Elements"}),' because several other constructions follow from it. Among them are constructions for bisecting a line segment and bisecting an angle. ("Bisect" is from the Latin for "cut in two.")']}),i.jsx("h3",{children:"Bisecting a Line Segment"}),i.jsx("p",{children:"To bisect a given line segment AB, we use a variation of the equilateral triangle construction:"}),i.jsxs(xe,{title:"Line Segment Bisection",children:[i.jsxs("ol",{className:"list-decimal list-inside space-y-3 mt-4",children:[i.jsx("li",{children:"Draw the circle with center A and radius AB."}),i.jsx("li",{children:"Draw the circle with center B and radius AB."}),i.jsxs("li",{children:["Find ",i.jsx("em",{children:"both"})," intersection points C and D of the two circles."]}),i.jsx("li",{children:"Draw the line CD connecting these points."})]}),i.jsx("p",{className:"mt-4",children:"The line CD bisects the line segment AB at its midpoint."})]}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 300 300",className:"w-full max-w-md",children:[i.jsx("circle",{cx:"100",cy:"150",r:"80",fill:"none",stroke:"#60a5fa",strokeWidth:"1.5",strokeDasharray:"4,4"}),i.jsx("circle",{cx:"200",cy:"150",r:"80",fill:"none",stroke:"#34d399",strokeWidth:"1.5",strokeDasharray:"4,4"}),i.jsx("line",{x1:"100",y1:"150",x2:"200",y2:"150",stroke:"#f472b6",strokeWidth:"2"}),i.jsx("line",{x1:"150",y1:"80",x2:"150",y2:"220",stroke:"#fbbf24",strokeWidth:"2"}),i.jsx("circle",{cx:"100",cy:"150",r:"4",fill:"#60a5fa"}),i.jsx("text",{x:"85",y:"175",fill:"#60a5fa",fontSize:"16",fontStyle:"italic",children:"A"}),i.jsx("circle",{cx:"200",cy:"150",r:"4",fill:"#34d399"}),i.jsx("text",{x:"205",y:"175",fill:"#34d399",fontSize:"16",fontStyle:"italic",children:"B"}),i.jsx("circle",{cx:"150",cy:"80",r:"4",fill:"#fbbf24"}),i.jsx("text",{x:"155",y:"75",fill:"#fbbf24",fontSize:"16",fontStyle:"italic",children:"C"}),i.jsx("circle",{cx:"150",cy:"220",r:"4",fill:"#fbbf24"}),i.jsx("text",{x:"155",y:"240",fill:"#fbbf24",fontSize:"16",fontStyle:"italic",children:"D"}),i.jsx("circle",{cx:"150",cy:"150",r:"4",fill:"#f472b6"})]})}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Important Observation:"})," Notice that CD is ",i.jsx("em",{children:"perpendicular"})," to AB. This construction can be adapted to construct perpendiculars in general."]}),i.jsx("h3",{children:"Constructing Perpendiculars"}),i.jsx("p",{children:"The bisection construction gives us a method to construct perpendicular lines:"}),i.jsxs(bh,{title:"Perpendicular at a Point on a Line",children:[i.jsx("p",{children:"To construct the perpendicular to a line L at a point E on the line:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-4",children:[i.jsx("li",{children:"Draw a circle with center E, cutting L at points A and B."}),i.jsx("li",{children:"Construct the bisector CD of segment AB (as above)."}),i.jsx("li",{children:"The line CD is the perpendicular through E."})]})]}),i.jsxs(bh,{title:"Perpendicular Through a Point Not on a Line",children:[i.jsx("p",{children:"To construct the perpendicular to a line L through a point E not on L:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-4",children:[i.jsx("li",{children:"Draw a circle with center E large enough to cut L at two points A and B."}),i.jsx("li",{children:"Construct the bisector CD of segment AB."}),i.jsx("li",{children:"The line CD passes through E and is perpendicular to L."})]})]}),i.jsx("h3",{children:"Bisecting an Angle"}),i.jsx("p",{children:"To bisect an angle POQ, we use a similar technique:"}),i.jsx(xe,{title:"Angle Bisection",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-3 mt-4",children:[i.jsx("li",{children:"Draw a circle with center O, cutting OP at A and OQ at B."}),i.jsx("li",{children:"Construct the perpendicular bisector CD of line segment AB."}),i.jsx("li",{children:"The line CD (passing through O) bisects the angle POQ."})]})}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 350 250",className:"w-full max-w-lg",children:[i.jsx("line",{x1:"50",y1:"200",x2:"300",y2:"200",stroke:"#475569",strokeWidth:"1.5"}),i.jsx("line",{x1:"50",y1:"200",x2:"200",y2:"50",stroke:"#475569",strokeWidth:"1.5"}),i.jsx("path",{d:"M 100 200 A 50 50 0 0 1 85 165",fill:"none",stroke:"#60a5fa",strokeWidth:"2"}),i.jsx("circle",{cx:"130",cy:"200",r:"4",fill:"#34d399"}),i.jsx("text",{x:"130",y:"220",fill:"#34d399",fontSize:"14",fontStyle:"italic",children:"B"}),i.jsx("circle",{cx:"105",cy:"140",r:"4",fill:"#34d399"}),i.jsx("text",{x:"85",y:"140",fill:"#34d399",fontSize:"14",fontStyle:"italic",children:"A"}),i.jsx("line",{x1:"50",y1:"200",x2:"250",y2:"100",stroke:"#fbbf24",strokeWidth:"2",strokeDasharray:"6,4"}),i.jsx("circle",{cx:"50",cy:"200",r:"4",fill:"#f472b6"}),i.jsx("text",{x:"35",y:"215",fill:"#f472b6",fontSize:"16",fontStyle:"italic",children:"O"}),i.jsx("text",{x:"280",y:"195",fill:"#475569",fontSize:"14",fontStyle:"italic",children:"Q"}),i.jsx("text",{x:"195",y:"45",fill:"#475569",fontSize:"14",fontStyle:"italic",children:"P"})]})}),i.jsx("h3",{children:"A Crucial Distinction"}),i.jsxs("p",{children:["It seems from these two constructions that bisecting a line segment and bisecting an angle are virtually the same problem. However, a crucial distinction emerges when we attempt ",i.jsx("em",{children:"division into three or more parts"}),"."]}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Key Difference:"}),' There is a simple tool for dividing a line segment into any number of equal partsparallel linesbut no corresponding tool for dividing angles. This is why angle trisection became one of the famous "impossible problems" of ancient geometry.']}),i.jsx("h3",{children:"Constructing Parallel Lines"}),i.jsx("p",{children:"We use two perpendicular constructions to construct a parallel:"}),i.jsxs(xe,{title:"Parallel Line Construction",children:[i.jsx("p",{children:"Given a line L and a point P outside L:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-3 mt-4",children:[i.jsx("li",{children:"Construct the perpendicular line M to L through P."}),i.jsx("li",{children:"Construct the perpendicular to M through P."}),i.jsx("li",{children:"This second perpendicular is the parallel to L through P."})]})]}),i.jsx("h3",{children:"Dividing a Line Segment into n Equal Parts"}),i.jsx("p",{children:"Given a line segment AB, we can divide it into any number n of equal parts:"}),i.jsxs(xe,{title:"Division into Equal Parts",children:[i.jsxs("ol",{className:"list-decimal list-inside space-y-3 mt-4",children:[i.jsx("li",{children:"Draw any other line L through A."}),i.jsxs("li",{children:["Mark n successive, equally spaced points A",i.jsx("sub",{children:"1"}),", A",i.jsx("sub",{children:"2"}),", ..., A",i.jsx("sub",{children:"n"})," along L using a fixed compass radius."]}),i.jsxs("li",{children:["Connect A",i.jsx("sub",{children:"n"})," to B."]}),i.jsxs("li",{children:["Draw parallels to BA",i.jsx("sub",{children:"n"})," through each of A",i.jsx("sub",{children:"1"}),", A",i.jsx("sub",{children:"2"}),", ..., A",i.jsx("sub",{children:"n-1"}),"."]})]}),i.jsx("p",{className:"mt-4",children:"These parallels divide AB into n equal parts."})]}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 400 200",className:"w-full max-w-lg",children:[i.jsx("line",{x1:"50",y1:"150",x2:"350",y2:"150",stroke:"#f472b6",strokeWidth:"2"}),i.jsx("line",{x1:"50",y1:"150",x2:"200",y2:"30",stroke:"#60a5fa",strokeWidth:"1.5"}),i.jsx("circle",{cx:"80",cy:"126",r:"3",fill:"#60a5fa"}),i.jsx("text",{x:"65",y:"120",fill:"#60a5fa",fontSize:"11",children:"A"}),i.jsx("circle",{cx:"110",cy:"102",r:"3",fill:"#60a5fa"}),i.jsx("text",{x:"95",y:"96",fill:"#60a5fa",fontSize:"11",children:"A"}),i.jsx("circle",{cx:"140",cy:"78",r:"3",fill:"#60a5fa"}),i.jsx("text",{x:"125",y:"72",fill:"#60a5fa",fontSize:"11",children:"A"}),i.jsx("circle",{cx:"170",cy:"54",r:"3",fill:"#60a5fa"}),i.jsx("text",{x:"155",y:"48",fill:"#60a5fa",fontSize:"11",children:"A"}),i.jsx("circle",{cx:"200",cy:"30",r:"3",fill:"#60a5fa"}),i.jsx("text",{x:"185",y:"24",fill:"#60a5fa",fontSize:"11",children:"A"}),i.jsx("line",{x1:"200",y1:"30",x2:"350",y2:"150",stroke:"#34d399",strokeWidth:"1.5"}),i.jsx("line",{x1:"80",y1:"126",x2:"110",y2:"150",stroke:"#fbbf24",strokeWidth:"1",strokeDasharray:"4,4"}),i.jsx("line",{x1:"110",y1:"102",x2:"170",y2:"150",stroke:"#fbbf24",strokeWidth:"1",strokeDasharray:"4,4"}),i.jsx("line",{x1:"140",y1:"78",x2:"230",y2:"150",stroke:"#fbbf24",strokeWidth:"1",strokeDasharray:"4,4"}),i.jsx("line",{x1:"170",y1:"54",x2:"290",y2:"150",stroke:"#fbbf24",strokeWidth:"1",strokeDasharray:"4,4"}),i.jsx("circle",{cx:"110",cy:"150",r:"3",fill:"#fbbf24"}),i.jsx("circle",{cx:"170",cy:"150",r:"3",fill:"#fbbf24"}),i.jsx("circle",{cx:"230",cy:"150",r:"3",fill:"#fbbf24"}),i.jsx("circle",{cx:"290",cy:"150",r:"3",fill:"#fbbf24"}),i.jsx("circle",{cx:"50",cy:"150",r:"4",fill:"#f472b6"}),i.jsx("text",{x:"40",y:"170",fill:"#f472b6",fontSize:"14",fontStyle:"italic",children:"A"}),i.jsx("circle",{cx:"350",cy:"150",r:"4",fill:"#f472b6"}),i.jsx("text",{x:"345",y:"170",fill:"#f472b6",fontSize:"14",fontStyle:"italic",children:"B"}),i.jsx("text",{x:"205",y:"25",fill:"#60a5fa",fontSize:"12",fontStyle:"italic",children:"L"})]})}),i.jsxs(ue,{title:"The Thales Theorem",children:[i.jsx("p",{children:"This construction depends on a property of parallel lines attributed to Thales (Greek mathematician, c. 600 BCE):"}),i.jsx("p",{className:"mt-4 font-semibold text-blue-400",children:"Parallels cut any lines they cross in proportional segments."}),i.jsx("p",{className:"mt-4",children:"More precisely: If a line L parallel to side BC of a triangle cuts sides AB and AC at points P and Q respectively, then:"}),i.jsx(Y,{children:"\\frac{|AP|}{|PB|} = \\frac{|AQ|}{|QC|}"})]}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"Fundamental Importance:"})," The Thales theorem is the key to using algebra in geometry. It enables us to multiply and divide line segments, as we will see in the next section."]}),i.jsx(BY,{className:"my-6"}),i.jsx(Re,{sectionId:2,questions:[],title:"Basic Constructions Quiz"})]})}function VY(){return i.jsxs(qe,{sectionId:3,children:[i.jsx("h2",{children:"Multiplication and Division"}),i.jsxs("p",{children:["Not only can one add and subtract line segments (as we saw in Section 1.1); one can also ",i.jsx("strong",{children:"multiply"})," and ",i.jsx("strong",{children:"divide"})," them. The product ab and quotient a/b of line segments a and b are obtained by straightedge and compass constructions. The key ingredients are parallel lines, and the key geometric property involved is the Thales theorem."]}),i.jsx("h3",{children:"The Unit Length"}),i.jsxs("p",{children:["To get started, it is necessary to choose a line segment as the ",i.jsx("em",{children:"unit of length"}),", denoted 1. This unit has the property that 1  a = a for any length a."]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Why We Need a Unit:"})," Unlike addition, which combines two lengths directly, multiplication requires a reference length. The choice of unit is arbitrary, but once chosen, it determines all products and quotients."]}),i.jsx("h3",{children:"Product of Line Segments"}),i.jsxs(xe,{title:"Geometric Multiplication",children:[i.jsx("p",{children:"To multiply line segment b by line segment a:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-3 mt-4",children:[i.jsx("li",{children:"Construct any triangle UOA with |OU| = 1 and |OA| = a."}),i.jsxs("li",{children:["Extend OU by length b to point B",i.jsx("sub",{children:"1"}),"."]}),i.jsxs("li",{children:["Construct the parallel to UA through B",i.jsx("sub",{children:"1"}),"."]}),i.jsx("li",{children:"This parallel meets the extension of OA at point C."})]}),i.jsxs("p",{className:"mt-4",children:["By the Thales theorem, ",i.jsx("strong",{children:"|AC| = ab"}),"."]})]}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 400 280",className:"w-full max-w-lg",children:[i.jsx("circle",{cx:"50",cy:"230",r:"4",fill:"#f472b6"}),i.jsx("text",{x:"35",y:"245",fill:"#f472b6",fontSize:"14",fontStyle:"italic",children:"O"}),i.jsx("circle",{cx:"100",cy:"180",r:"4",fill:"#60a5fa"}),i.jsx("text",{x:"85",y:"170",fill:"#60a5fa",fontSize:"14",fontStyle:"italic",children:"U"}),i.jsx("circle",{cx:"150",cy:"230",r:"4",fill:"#34d399"}),i.jsx("text",{x:"145",y:"250",fill:"#34d399",fontSize:"14",fontStyle:"italic",children:"A"}),i.jsx("circle",{cx:"180",cy:"100",r:"4",fill:"#fbbf24"}),i.jsx("text",{x:"165",y:"90",fill:"#fbbf24",fontSize:"14",children:"B"}),i.jsx("circle",{cx:"330",cy:"230",r:"4",fill:"#c084fc"}),i.jsx("text",{x:"325",y:"250",fill:"#c084fc",fontSize:"14",fontStyle:"italic",children:"C"}),i.jsx("line",{x1:"50",y1:"230",x2:"180",y2:"100",stroke:"#60a5fa",strokeWidth:"1.5"}),i.jsx("line",{x1:"50",y1:"230",x2:"330",y2:"230",stroke:"#34d399",strokeWidth:"1.5"}),i.jsx("line",{x1:"100",y1:"180",x2:"150",y2:"230",stroke:"#94a3b8",strokeWidth:"1.5"}),i.jsx("line",{x1:"180",y1:"100",x2:"330",y2:"230",stroke:"#fbbf24",strokeWidth:"1.5",strokeDasharray:"6,4"}),i.jsx("text",{x:"65",y:"215",fill:"#60a5fa",fontSize:"12",children:"1"}),i.jsx("text",{x:"90",y:"245",fill:"#34d399",fontSize:"12",children:"a"}),i.jsx("text",{x:"130",y:"130",fill:"#fbbf24",fontSize:"12",children:"b"}),i.jsx("text",{x:"230",y:"245",fill:"#c084fc",fontSize:"12",children:"ab"}),i.jsx("text",{x:"280",y:"165",fill:"#94a3b8",fontSize:"11",children:"Multiply by a"}),i.jsx("path",{d:"M 330 175 L 320 185 M 330 175 L 340 185",fill:"none",stroke:"#94a3b8",strokeWidth:"1"})]})}),i.jsx("h3",{children:"Quotient of Line Segments"}),i.jsxs(xe,{title:"Geometric Division",children:[i.jsx("p",{children:"To divide line segment b by line segment a:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-3 mt-4",children:[i.jsx("li",{children:"Begin with the same triangle UOA with |OU| = 1 and |OA| = a."}),i.jsxs("li",{children:["Extend OA by distance b to point B",i.jsx("sub",{children:"2"}),"."]}),i.jsxs("li",{children:["Construct the parallel to UA through B",i.jsx("sub",{children:"2"}),"."]}),i.jsx("li",{children:"This parallel meets the extension of OU at point D."})]}),i.jsxs("p",{className:"mt-4",children:["By the Thales theorem, ",i.jsx("strong",{children:"|UD| = b/a"}),"."]})]}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 400 280",className:"w-full max-w-lg",children:[i.jsx("circle",{cx:"50",cy:"230",r:"4",fill:"#f472b6"}),i.jsx("text",{x:"35",y:"245",fill:"#f472b6",fontSize:"14",fontStyle:"italic",children:"O"}),i.jsx("circle",{cx:"100",cy:"180",r:"4",fill:"#60a5fa"}),i.jsx("text",{x:"85",y:"170",fill:"#60a5fa",fontSize:"14",fontStyle:"italic",children:"U"}),i.jsx("circle",{cx:"150",cy:"230",r:"4",fill:"#34d399"}),i.jsx("text",{x:"145",y:"250",fill:"#34d399",fontSize:"14",fontStyle:"italic",children:"A"}),i.jsx("circle",{cx:"300",cy:"230",r:"4",fill:"#fbbf24"}),i.jsx("text",{x:"295",y:"250",fill:"#fbbf24",fontSize:"14",children:"B"}),i.jsx("circle",{cx:"200",cy:"80",r:"4",fill:"#c084fc"}),i.jsx("text",{x:"205",y:"75",fill:"#c084fc",fontSize:"14",fontStyle:"italic",children:"D"}),i.jsx("line",{x1:"50",y1:"230",x2:"200",y2:"80",stroke:"#60a5fa",strokeWidth:"1.5"}),i.jsx("line",{x1:"50",y1:"230",x2:"300",y2:"230",stroke:"#34d399",strokeWidth:"1.5"}),i.jsx("line",{x1:"100",y1:"180",x2:"150",y2:"230",stroke:"#94a3b8",strokeWidth:"1.5"}),i.jsx("line",{x1:"300",y1:"230",x2:"200",y2:"80",stroke:"#fbbf24",strokeWidth:"1.5",strokeDasharray:"6,4"}),i.jsx("text",{x:"65",y:"215",fill:"#60a5fa",fontSize:"12",children:"1"}),i.jsx("text",{x:"90",y:"245",fill:"#34d399",fontSize:"12",children:"a"}),i.jsx("text",{x:"210",y:"245",fill:"#fbbf24",fontSize:"12",children:"b"}),i.jsx("text",{x:"145",y:"115",fill:"#c084fc",fontSize:"12",children:"b/a"}),i.jsx("text",{x:"250",y:"140",fill:"#94a3b8",fontSize:"11",children:"Divide by a"}),i.jsx("path",{d:"M 230 155 L 220 145 M 230 155 L 240 145",fill:"none",stroke:"#94a3b8",strokeWidth:"1"})]})}),i.jsx("h3",{children:"Constructing Rational Lengths"}),i.jsxs(ue,{title:"Rational Lengths are Constructible",children:[i.jsx("p",{children:"The sum operation allows us to construct a segment n units in length, for any natural number n, simply by adding the segment 1 to itself n times."}),i.jsx("p",{className:"mt-4",children:"The quotient operation then allows us to construct a segment of length m/n, for any natural numbers m and n  0."}),i.jsxs("p",{className:"mt-4",children:["These are what we call the ",i.jsx("strong",{children:"rational lengths"}),"."]})]}),i.jsx("h3",{children:"The Discovery of Irrational Lengths"}),i.jsxs("p",{children:["A great discovery of the Pythagoreans was that ",i.jsx("em",{children:"some lengths are not rational"}),', and that some of these "irrational" lengths can be constructed by straightedge and compass.']}),i.jsxs(bh,{title:"The Diagonal of the Unit Square",children:[i.jsx("p",{children:"Consider a square with side length 1. What is the length of its diagonal?"}),i.jsx("p",{className:"mt-4",children:"By the Pythagorean theorem (which we'll prove later):"}),i.jsx(Y,{children:"d^2 = 1^2 + 1^2 = 2"}),i.jsx("p",{className:"mt-4",children:"Therefore d = 2."})]}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full max-w-xs",children:[i.jsx("rect",{x:"30",y:"30",width:"140",height:"140",fill:"none",stroke:"#60a5fa",strokeWidth:"2"}),i.jsx("line",{x1:"30",y1:"170",x2:"170",y2:"30",stroke:"#f472b6",strokeWidth:"2"}),i.jsx("text",{x:"95",y:"185",fill:"#60a5fa",fontSize:"14",children:"1"}),i.jsx("text",{x:"175",y:"105",fill:"#60a5fa",fontSize:"14",children:"1"}),i.jsx("text",{x:"110",y:"95",fill:"#f472b6",fontSize:"14",children:"2"})]})}),i.jsxs(ue,{title:"Irrationality of 2",children:[i.jsxs("p",{children:["The Pythagoreans discovered that 2 is ",i.jsx("em",{children:"irrational"}),"there are no natural numbers m and n such that 2 = m/n."]}),i.jsx("p",{className:"mt-4",children:i.jsx("strong",{children:"Proof by contradiction:"})}),i.jsx("p",{className:"mt-2",children:"Suppose 2 = m/n where m and n have no common divisor. Then:"}),i.jsxs("div",{className:"mt-4 space-y-2 pl-4 border-l-2 border-slate-600",children:[i.jsx("p",{children:"2 = m/n (squaring both sides)"}),i.jsx("p",{children:"m = 2n (multiplying by n)"}),i.jsx("p",{children:" m is even  m is even (since odd is odd)"}),i.jsx("p",{children:" m = 2l for some integer l"}),i.jsx("p",{children:" 4l = 2n  n = 2l"}),i.jsx("p",{children:" n is even  n is even"})]}),i.jsx("p",{className:"mt-4",children:"But this means m and n share the common divisor 2, contradicting our assumption. Therefore 2 is irrational."})]}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"Profound Implication:"})," Geometry obviously includes the diagonal of the unit square, hence geometry includes the study of irrational lengths. This discovery troubled the ancient Greeks, who believed all lengths should be expressible as ratios of whole numbers."]}),i.jsx("h3",{children:"Product as Area vs. Product as Length"}),i.jsxs("p",{children:["The Greeks viewed the product of line segments a and b as the ",i.jsx("em",{children:"rectangle"}),"with perpendicular sides a and b. This interpretation has its merits:"]}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsxs("li",{children:["The product of two lengths is an ",i.jsx("em",{children:"area"})]}),i.jsxs("li",{children:["The product of three lengths is a ",i.jsx("em",{children:"volume"})]}),i.jsx("li",{children:"But then the product of four lengths seems to have no meaning!"})]}),i.jsxs("p",{children:["The idea of interpreting the product of line segments as another ",i.jsx("em",{children:"line segment"}),"(as we did above) first appears in Descartes' ",i.jsx("em",{children:"Gomtrie"})," of 1637, where algebra is used systematically in geometry for the first time."]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Historical Note:"})," This conceptual difficulty perhaps explains why algebra appeared comparatively late in the development of geometry. On the other hand, interpreting the product of lengths as an area gives some remarkable insights, as we will see in Chapter 2."]}),i.jsx(FY,{className:"my-6"}),i.jsx(Re,{sectionId:3,questions:[],title:"Multiplication and Division Quiz"})]})}function GY(){return i.jsxs(qe,{sectionId:4,children:[i.jsx("h2",{children:"Similar Triangles"}),i.jsxs("p",{children:["Two triangles are called ",i.jsx("strong",{children:"similar"}),' if their corresponding angles are equal. It turns out that equal angles imply that all sides are proportional, so we may say that one triangle is a magnification of the other, or that they have the same "shape."']}),i.jsxs(xe,{title:"Similar Triangles",children:[i.jsxs("p",{children:["Triangles ABC and ABC are called ",i.jsx("strong",{children:"similar"})," if their corresponding angles are equal:"]}),i.jsxs("div",{className:"mt-4 space-y-2 pl-4",children:[i.jsx("p",{children:"angle at A = angle at A (=  say)"}),i.jsx("p",{children:"angle at B = angle at B (=  say)"}),i.jsx("p",{children:"angle at C = angle at C (=  say)"})]})]}),i.jsx("h3",{children:"Why Similar Triangles Have Proportional Sides"}),i.jsx("p",{children:"This important result extends the Thales theorem and follows from it."}),i.jsxs(ue,{title:"Proportional Sides of Similar Triangles",children:[i.jsx("p",{children:"If triangles ABC and ABC are similar, then all corresponding sides are proportional:"}),i.jsx(Y,{children:"\\frac{b}{c} = \\frac{b'}{c'}"}),i.jsx("p",{className:"mt-4",children:"where b, c are sides of ABC opposite to angles  and , and b, c are the corresponding sides of ABC."})]}),i.jsx("h4",{children:"Proof"}),i.jsx("p",{children:"Imagine moving triangle ABC so that vertex A coincides with A and sides AB and AC lie on sides AB and AC respectively. We obtain the following situation:"}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 400 300",className:"w-full max-w-lg",children:[i.jsx("polygon",{points:"50,250 350,250 200,50",fill:"none",stroke:"#60a5fa",strokeWidth:"2"}),i.jsx("polygon",{points:"50,250 200,250 125,150",fill:"none",stroke:"#f472b6",strokeWidth:"2"}),i.jsx("line",{x1:"125",y1:"150",x2:"200",y2:"250",stroke:"#f472b6",strokeWidth:"2"}),i.jsx("text",{x:"35",y:"265",fill:"#60a5fa",fontSize:"14",children:"A = A"}),i.jsx("text",{x:"340",y:"265",fill:"#60a5fa",fontSize:"14",children:"C"}),i.jsx("text",{x:"195",y:"40",fill:"#60a5fa",fontSize:"14",children:"B"}),i.jsx("text",{x:"190",y:"265",fill:"#f472b6",fontSize:"14",children:"C"}),i.jsx("text",{x:"110",y:"145",fill:"#f472b6",fontSize:"14",children:"B"}),i.jsx("path",{d:"M 70 250 A 20 20 0 0 1 60 235",fill:"none",stroke:"#fbbf24",strokeWidth:"1.5"}),i.jsx("text",{x:"75",y:"238",fill:"#fbbf24",fontSize:"12",children:""}),i.jsx("text",{x:"80",y:"210",fill:"#f472b6",fontSize:"12",children:"c"}),i.jsx("text",{x:"160",y:"210",fill:"#f472b6",fontSize:"12",children:"b"}),i.jsx("text",{x:"60",y:"160",fill:"#60a5fa",fontSize:"12",children:"c"}),i.jsx("text",{x:"200",y:"160",fill:"#60a5fa",fontSize:"12",children:"b"}),i.jsx("path",{d:"M 125 150 L 140 165 L 155 150",fill:"none",stroke:"#34d399",strokeWidth:"1.5"}),i.jsx("text",{x:"145",y:"140",fill:"#34d399",fontSize:"12",children:""}),i.jsx("path",{d:"M 200 50 L 185 75 L 210 85",fill:"none",stroke:"#34d399",strokeWidth:"1.5"}),i.jsx("text",{x:"175",y:"70",fill:"#34d399",fontSize:"12",children:""})]})}),i.jsxs("p",{children:["Because BC and BC both meet AB at angle , they are ",i.jsx("em",{children:"parallel"}),". By the Thales theorem:"]}),i.jsx(Y,{children:"\\frac{b}{c} = \\frac{b' - b}{c' - c}"}),i.jsx("p",{children:"Multiplying both sides by c(c - c):"}),i.jsx(Y,{children:"b(c' - c) = c(b' - b)"}),i.jsx("p",{children:"Expanding: bc - bc = cb - cb, hence bc = cb."}),i.jsx("p",{children:"Dividing both sides by cc:"}),i.jsx(Y,{children:"\\frac{b}{c} = \\frac{b'}{c'}"}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Note:"})," By making different angles coincide, we can show that",i.jsx("em",{children:"all"})," corresponding sides are proportional."]}),i.jsx("h3",{children:"Applications of Similar Triangles"}),i.jsx("p",{children:"The theorem on similar triangles has many implications:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"In everyday life: scale maps, house plans, engineering drawings"}),i.jsx("li",{children:"In pure geometry: countless theorems and constructions"})]}),i.jsx(bh,{title:"The Diagonal of the Unit Square is 2",children:i.jsx("p",{children:"The diagonals of the unit square cut it into four quarters, each of which is a triangle similar to the half square cut off by a diagonal."})}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 200 200",className:"w-full max-w-xs",children:[i.jsx("rect",{x:"30",y:"30",width:"140",height:"140",fill:"none",stroke:"#60a5fa",strokeWidth:"2"}),i.jsx("line",{x1:"30",y1:"30",x2:"170",y2:"170",stroke:"#f472b6",strokeWidth:"1.5"}),i.jsx("line",{x1:"170",y1:"30",x2:"30",y2:"170",stroke:"#f472b6",strokeWidth:"1.5"}),i.jsx("text",{x:"175",y:"105",fill:"#60a5fa",fontSize:"12",children:"1"}),i.jsx("text",{x:"130",y:"90",fill:"#34d399",fontSize:"10",children:"d/2"}),i.jsx("text",{x:"90",y:"90",fill:"#34d399",fontSize:"10",children:"d/2"}),i.jsx("text",{x:"90",y:"125",fill:"#34d399",fontSize:"10",children:"d/2"}),i.jsx("text",{x:"130",y:"125",fill:"#34d399",fontSize:"10",children:"d/2"})]})}),i.jsx("p",{children:"Each of these triangles has one right angle and two half right angles (45 each). If we compare the half square (short side 1, long side d) with the quarter square (short side d/2, long side 1):"}),i.jsx(Y,{children:"\\frac{\\text{short}}{\\text{long}} = \\frac{1}{d} = \\frac{d/2}{1}"}),i.jsxs("p",{children:["Multiplying both sides by 2d: 2 = d, so ",i.jsx("strong",{children:"d = 2"}),"."]}),i.jsx("h3",{children:"The Famous Theorems of Pappus and Desargues"}),i.jsx("p",{children:"The Thales theorem leads to two famous theorems that play an important role in the foundations of geometry."}),i.jsxs(ue,{title:"Pappus's Theorem (Parallel Case)",children:[i.jsx("p",{children:"Suppose that points A, B, C, D, E, F lie alternately on two lines L and M meeting at O."}),i.jsx("p",{className:"mt-4",children:"If AB is parallel to ED and FE is parallel to BC, then AF is parallel to CD."})]}),i.jsx("div",{className:"my-8 flex justify-center",children:i.jsxs("svg",{viewBox:"0 0 400 250",className:"w-full max-w-lg",children:[i.jsx("line",{x1:"30",y1:"200",x2:"370",y2:"200",stroke:"#475569",strokeWidth:"1.5"}),i.jsx("text",{x:"375",y:"205",fill:"#475569",fontSize:"12",children:"L"}),i.jsx("line",{x1:"30",y1:"200",x2:"300",y2:"50",stroke:"#475569",strokeWidth:"1.5"}),i.jsx("text",{x:"305",y:"45",fill:"#475569",fontSize:"12",children:"M"}),i.jsx("circle",{cx:"30",cy:"200",r:"4",fill:"#f472b6"}),i.jsx("text",{x:"15",y:"215",fill:"#f472b6",fontSize:"14",children:"O"}),i.jsx("circle",{cx:"100",cy:"200",r:"3",fill:"#60a5fa"}),i.jsx("text",{x:"95",y:"220",fill:"#60a5fa",fontSize:"12",children:"F"}),i.jsx("circle",{cx:"180",cy:"200",r:"3",fill:"#60a5fa"}),i.jsx("text",{x:"175",y:"220",fill:"#60a5fa",fontSize:"12",children:"B"}),i.jsx("circle",{cx:"280",cy:"200",r:"3",fill:"#60a5fa"}),i.jsx("text",{x:"275",y:"220",fill:"#60a5fa",fontSize:"12",children:"D"}),i.jsx("circle",{cx:"100",cy:"145",r:"3",fill:"#34d399"}),i.jsx("text",{x:"85",y:"140",fill:"#34d399",fontSize:"12",children:"A"}),i.jsx("circle",{cx:"170",cy:"100",r:"3",fill:"#34d399"}),i.jsx("text",{x:"155",y:"95",fill:"#34d399",fontSize:"12",children:"E"}),i.jsx("circle",{cx:"240",cy:"55",r:"3",fill:"#34d399"}),i.jsx("text",{x:"245",y:"50",fill:"#34d399",fontSize:"12",children:"C"}),i.jsx("line",{x1:"100",y1:"145",x2:"180",y2:"200",stroke:"#fbbf24",strokeWidth:"1",strokeDasharray:"4,4"}),i.jsx("line",{x1:"170",y1:"100",x2:"280",y2:"200",stroke:"#fbbf24",strokeWidth:"1",strokeDasharray:"4,4"}),i.jsx("line",{x1:"100",y1:"145",x2:"170",y2:"100",stroke:"#fbbf24",strokeWidth:"1",strokeDasharray:"4,4"}),i.jsx("line",{x1:"180",y1:"200",x2:"240",y2:"55",stroke:"#fbbf24",strokeWidth:"1",strokeDasharray:"4,4"}),i.jsx("line",{x1:"100",y1:"200",x2:"240",y2:"55",stroke:"#c084fc",strokeWidth:"2"}),i.jsx("line",{x1:"280",y1:"200",x2:"170",y2:"100",stroke:"#c084fc",strokeWidth:"2"})]})}),i.jsxs(ue,{title:"Desargues's Theorem (Parallel Case)",children:[i.jsx("p",{children:'Suppose that triangles ABC and ABC are "in perspective from O"meaning points A, B, C, A, B, C lie on concurrent lines through O.'}),i.jsx("p",{className:"mt-4",children:"If AB is parallel to AB and BC is parallel to BC, then AC is parallel to AC."})]}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"Looking Ahead:"})," We will meet the Pappus and Desargues theorems again in more general form when we study projective geometry in Chapter 5. They play a fundamental role in understanding the relationship between geometry and algebra."]}),i.jsx($Y,{className:"my-6"}),i.jsx(Re,{sectionId:4,questions:[],title:"Similar Triangles Quiz"})]})}function WY(){return i.jsxs(qe,{sectionId:5,children:[i.jsx("h2",{children:"Discussion"}),i.jsxs("p",{children:["Euclid's ",i.jsx("em",{children:"Elements"})," is the most influential book in the history of mathematics. Written around 300 BCE, it was used in school mathematics instruction until the 20th century. Anyone interested in geometry should be familiar with this foundational work."]}),i.jsx("h3",{children:"The Legacy of Euclid"}),i.jsxs("p",{children:["The ",i.jsx("em",{children:"Elements"})," is not easy reading, but you will find yourself returning to it year after year and noticing something new. The standard edition in English is Heath's translation, first published in 1925 and still available today."]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Recommended Resources:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsxs("li",{children:["Heath's translation of Euclid's ",i.jsx("em",{children:"Elements"})," (Dover reprint)"]}),i.jsxs("li",{children:["David Joyce's online interactive ",i.jsx("em",{children:"Elements"})]}),i.jsxs("li",{children:["Benno Artmann's ",i.jsx("em",{children:"Euclid: The Creation of Mathematics"})]}),i.jsxs("li",{children:["Robin Hartshorne's ",i.jsx("em",{children:"Geometry: Euclid and Beyond"})]})]})]}),i.jsx("h3",{children:"The Regular Polyhedra"}),i.jsxs("p",{children:["The climax of the ",i.jsx("em",{children:"Elements"})," is the theory of regular polyhedra in Book XIII. Only ",i.jsx("strong",{children:"five regular polyhedra"})," exist, and they are:"]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("h4",{className:"font-semibold text-blue-400",children:"Tetrahedron"}),i.jsx("p",{className:"text-sm text-slate-400",children:"4 triangular faces"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("h4",{className:"font-semibold text-green-400",children:"Cube"}),i.jsx("p",{className:"text-sm text-slate-400",children:"6 square faces"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("h4",{className:"font-semibold text-yellow-400",children:"Octahedron"}),i.jsx("p",{className:"text-sm text-slate-400",children:"8 triangular faces"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("h4",{className:"font-semibold text-pink-400",children:"Dodecahedron"}),i.jsx("p",{className:"text-sm text-slate-400",children:"12 pentagonal faces"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[i.jsx("div",{className:"text-4xl mb-2",children:""}),i.jsx("h4",{className:"font-semibold text-purple-400",children:"Icosahedron"}),i.jsx("p",{className:"text-sm text-slate-400",children:"20 triangular faces"})]})]}),i.jsxs("p",{children:["Notice that three of them are built from ",i.jsx("strong",{children:"equilateral triangles"}),", one from ",i.jsx("strong",{children:"squares"}),", and one from ",i.jsx("strong",{children:"regular pentagons"}),". This remarkable phenomenon underlines the importance of equilateral triangles and squares, and draws attention to the regular pentagon."]}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"Historical Significance:"})," Some geometers believe that the material in the ",i.jsx("em",{children:"Elements"})," was chosen very much with the theory of regular polyhedra in mind. Euclid needs to construct the equilateral triangle, square, and pentagon in order to construct the regular polyhedra."]}),i.jsx("h3",{children:"Constructible Regular Polygons"}),i.jsx("p",{children:"It is fortunate that Euclid did not need regular polygons more complex than the pentagon, because none were constructed until modern times."}),i.jsx(ue,{title:"Gauss's Discovery (1796)",children:i.jsxs("p",{children:["The regular 17-gon was constructed by the 19-year-old Carl Friedrich Gauss in 1796. This discovery was the key to answering: ",i.jsx("em",{children:"For which n is the regular n-gon constructible?"})]})}),i.jsxs("p",{children:["Gauss showed (with some steps filled in by Pierre Wantzel in 1837) that a regular polygon with a ",i.jsx("strong",{children:"prime number p of sides"})," is constructible by straightedge and compass if and only if p is a ",i.jsx("em",{children:"Fermat prime"}),":"]}),i.jsxs(xe,{title:"Fermat Primes",children:[i.jsxs("p",{children:["A ",i.jsx("strong",{children:"Fermat prime"})," is a prime number of the form:"]}),i.jsx(Y,{children:"F_m = 2^{2^m} + 1"}),i.jsx("p",{className:"mt-4",children:"The known Fermat primes are:"}),i.jsx(Y,{children:"F_0 = 3, \\quad F_1 = 5, \\quad F_2 = 17, \\quad F_3 = 257, \\quad F_4 = 65537"})]}),i.jsx("p",{children:"This result gives three constructible p-gons not known to the Greeks:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsxs("li",{children:["The regular ",i.jsx("strong",{children:"17-gon"})," (F",i.jsx("sub",{children:"2"})," = 17)"]}),i.jsxs("li",{children:["The regular ",i.jsx("strong",{children:"257-gon"})," (F",i.jsx("sub",{children:"3"})," = 257)"]}),i.jsxs("li",{children:["The regular ",i.jsx("strong",{children:"65537-gon"})," (F",i.jsx("sub",{children:"4"})," = 65537)"]})]}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Open Problem:"})," No larger prime numbers of the form 2",i.jsxs("sup",{children:["2",i.jsx("sup",{children:"m"})]})," + 1 are known! Fermat himself conjectured that all numbers of this form are prime, but Euler showed in 1732 that F",i.jsx("sub",{children:"5"})," = 4,294,967,297 is composite (divisible by 641). Thus we do not know whether a larger constructible p-gon exists."]}),i.jsx("h3",{children:"The Scope of Straightedge and Compass"}),i.jsxs("p",{children:["These results show that the ",i.jsx("em",{children:"Elements"})," is not all of geometry, even if one accepts the same subject matter as Euclid. Many questions about straightedge and compass constructions require tools from algebra and number theory."]}),i.jsxs(ue,{title:"Complete Characterization",children:[i.jsx("p",{children:"A regular n-gon is constructible by straightedge and compass if and only if n is of the form:"}),i.jsx(Y,{children:"n = 2^k \\cdot p_1 \\cdot p_2 \\cdots p_r"}),i.jsxs("p",{className:"mt-4",children:["where k  0 and p",i.jsx("sub",{children:"1"}),", p",i.jsx("sub",{children:"2"}),", ..., p",i.jsx("sub",{children:"r"})," are",i.jsx("em",{children:"distinct"})," Fermat primes (or r = 0, meaning no Fermat primes)."]})]}),i.jsx("h3",{children:"Looking Ahead: The Four Pillars"}),i.jsxs("p",{children:["In this chapter, we have explored the first pillar of geometry: ",i.jsx("strong",{children:"Euclid-style constructions"}),". The constructions with straightedge and compass reveal the interplay between geometric intuition and logical reasoning."]}),i.jsx("p",{children:"In the chapters ahead, we will explore three more approaches to geometry:"}),i.jsxs("div",{className:"space-y-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-blue-500",children:[i.jsx("h4",{className:"font-semibold text-blue-400",children:"Coordinates (Chapter 3)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Using algebra to describe geometric objects with numbers and equations."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h4",{className:"font-semibold text-green-400",children:"Projective Geometry (Chapters 5-6)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Understanding perspective, vanishing points, and the geometry of projection."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-pink-500",children:[i.jsx("h4",{className:"font-semibold text-pink-400",children:"Transformations (Chapters 7-8)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Studying geometry through the lens of symmetry and transformation groups."})]})]}),i.jsxs("p",{children:["But first, in Chapter 2, we will examine ",i.jsx("strong",{children:"Euclid's axiomatic approach"}),"more carefully, exploring how he builds his theory on a foundation of axioms and logical deduction."]}),i.jsx(Re,{sectionId:5,questions:[],title:"Chapter 1 Discussion Quiz"})]})}function YY(){return i.jsxs(qe,{sectionId:6,children:[i.jsx("h2",{children:"The Parallel Axiom"}),i.jsxs("p",{children:["Euclid begins the ",i.jsx("em",{children:"Elements"})," with five axioms. Four of them are straightforward and uncontroversial, but the fifththe ",i.jsx("strong",{children:"parallel axiom"}),"stands out as more complex and has been the subject of much debate throughout history."]}),i.jsx(xe,{title:"Euclid's Parallel Axiom (Postulate 5)",children:i.jsx("p",{children:"If a straight line falling on two straight lines makes the interior angles on the same side less than two right angles, the two straight lines, if produced indefinitely, meet on that side on which are the angles less than two right angles."})}),i.jsxs("p",{children:["This axiom describes when two lines are ",i.jsx("em",{children:"not"})," parallel. Notice that it says nothing about what happens when the angles ",i.jsx("em",{children:"equal"})," two right anglesin that case, the lines are parallel and never meet."]}),i.jsx("h3",{children:"Understanding the Parallel Axiom"}),i.jsxs("p",{children:["Consider a line ",i.jsx("em",{children:"L"})," crossing two other lines, creating interior angles  and  on one side. Euclid's axiom states:"]}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"If  +  <  (two right angles), the lines meet on that side"}),i.jsxs("li",{children:["If  +  > , the lines meet on the ",i.jsx("em",{children:"other"})," side"]}),i.jsx("li",{children:"If  +  = , the lines are parallel (never meet)"})]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Note:"})," The parallel axiom is equivalent to saying that parallel lines exist and are uniquegiven a line and a point not on it, there is exactly one parallel through that point."]}),i.jsx("h3",{children:"The Modern Form: Playfair's Axiom"}),i.jsx("p",{children:"In 1795, John Playfair gave an equivalent but simpler statement that is now commonly used in modern geometry courses:"}),i.jsx(xe,{title:"Playfair's Axiom",children:i.jsxs("p",{children:["Given a line ",i.jsx("em",{children:"L"})," and a point ",i.jsx("em",{children:"P"})," not on ",i.jsx("em",{children:"L"}),", there is exactly one line through ",i.jsx("em",{children:"P"})," parallel to ",i.jsx("em",{children:"L"}),"."]})}),i.jsx("p",{children:"This statement is logically equivalent to Euclid's fifth postulate but is easier to understand and work with."}),i.jsx("h3",{children:"Alternate Interior Angles"}),i.jsxs("p",{children:["Using the parallel axiom, we can prove a fundamental property of parallel lines. When a transversal crosses two parallel lines, it creates pairs of",i.jsx("strong",{children:"alternate interior angles"}),"."]}),i.jsx(ue,{title:"Alternate Interior Angles",children:i.jsxs("p",{children:["If a line ",i.jsx("em",{children:"L"})," crosses two parallel lines, then the alternate interior angles are equal."]})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," Suppose lines ",i.jsx("em",{children:"M"})," and ",i.jsx("em",{children:"N"})," are parallel, and line ",i.jsx("em",{children:"L"})," crosses them, making angles  and  as alternate interior angles. If   , then the sum of angles on one side would be either less than or greater than , meaning the lines would meetcontradicting that they are parallel. Therefore  = . "]}),i.jsx("h3",{children:"The Angle Sum of a Triangle"}),i.jsx("p",{children:"One of the most important consequences of the parallel axiom is the classical theorem about the sum of angles in a triangle."}),i.jsxs(ue,{title:"Triangle Angle Sum",children:[i.jsx("p",{children:"The sum of the angles in any triangle equals  (180):"}),i.jsx(Y,{children:"\\alpha + \\beta + \\gamma = \\pi"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," Consider a triangle ABC with angles  at A,  at B, and  at C. Draw a line through A parallel to BC."]}),i.jsx("p",{children:"By the alternate interior angles theorem:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"The angle between the parallel line and AB equals "}),i.jsx("li",{children:"The angle between the parallel line and AC equals "})]}),i.jsx("p",{children:"Since these three angles (, , ) form a straight line at A, their sum is . Therefore  +  +  = . "}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"Historical Note:"})," The angle sum theorem depends essentially on the parallel axiom. In non-Euclidean geometries (discovered in the 19th century), the angle sum of a triangle can be greater than  (spherical geometry) or less than  (hyperbolic geometry)."]}),i.jsx("h3",{children:"Exterior Angles"}),i.jsxs("p",{children:["An ",i.jsx("strong",{children:"exterior angle"})," of a triangle is formed by extending one side. The angle sum theorem immediately gives us:"]}),i.jsx(ue,{title:"Exterior Angle Theorem",children:i.jsx("p",{children:"An exterior angle of a triangle equals the sum of the two non-adjacent interior angles."})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," If the interior angles are , ,  and we extend the side opposite to , the exterior angle  satisfies  +  =  (they form a straight line). Since  +  +  = , we have  =  + . "]}),i.jsx(Re,{sectionId:6,questions:[],title:"The Parallel Axiom Quiz"})]})}function XY(){return i.jsxs(qe,{sectionId:7,children:[i.jsx("h2",{children:"Congruence Axioms"}),i.jsxs("p",{children:["Two geometric figures are ",i.jsx("strong",{children:"congruent"}),' if one can be moved to coincide exactly with the other. Euclid uses this concept implicitly when he speaks of placing one figure on top of another, though he never formally defines what "moving" means.']}),i.jsxs("p",{children:["For triangles, congruence is completely determined by their sides and angles. The key results are the ",i.jsx("strong",{children:"SAS"})," and ",i.jsx("strong",{children:"ASA"}),"congruence conditions."]}),i.jsx("h3",{children:"Side-Angle-Side (SAS) Congruence"}),i.jsx(xe,{title:"SAS Congruence Axiom",children:i.jsx("p",{children:"Two triangles are congruent if two sides and the included angle of one triangle are equal to two sides and the included angle of the other."})}),i.jsx("p",{children:"In symbols, if triangle ABC has:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"AB = DE"}),i.jsx("li",{children:"ABC = DEF"}),i.jsx("li",{children:"BC = EF"})]}),i.jsx("p",{children:"then triangle ABC  triangle DEF."}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Why is SAS an axiom?"}),' Euclid proves SAS by "superposition" imagining one triangle placed on top of the other. This is geometrically intuitive but logically problematic. Modern treatments take SAS as an axiom rather than trying to prove it from more basic principles.']}),i.jsx("h3",{children:"Angle-Side-Angle (ASA) Congruence"}),i.jsxs("p",{children:["The ASA condition can be ",i.jsx("em",{children:"proved"})," from SAS, so it's a theorem rather than an axiom."]}),i.jsx(ue,{title:"ASA Congruence Theorem",children:i.jsx("p",{children:"Two triangles are congruent if two angles and the included side of one triangle are equal to two angles and the included side of the other."})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof sketch:"})," Given triangles ABC and DEF with A = D, AB = DE, and B = E, we need to show BC = EF. If BC  EF, say BC > EF, we can find a point B' on BC with BB' = EF. Then triangles AB'B and DEF would be congruent by SAS, giving AB'B = E = B. But this is impossible since the exterior angle AB'B of triangle AB'C must be greater than the interior angle B. "]}),i.jsx("h3",{children:"The Isosceles Triangle Theorem"}),i.jsx("p",{children:"One of the most elegant applications of congruence is the classical theorem about isosceles triangles."}),i.jsx(ue,{title:"Isosceles Triangle Theorem (Euclid I.5)",children:i.jsx("p",{children:"In a triangle with two equal sides, the angles opposite those sides are equal."})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," Consider triangle ABC with AB = AC. We show that ABC = ACB."]}),i.jsx("p",{children:"The key insight is to compare the triangle with itself! Consider:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"Triangle ABC (reading vertices as A, B, C)"}),i.jsx("li",{children:"Triangle ACB (reading vertices as A, C, B)"})]}),i.jsx("p",{children:"These triangles have:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"AB = AC (given)"}),i.jsx("li",{children:"BAC = CAB (the same angle)"}),i.jsx("li",{children:"AC = AB (given)"})]}),i.jsx("p",{children:"By SAS, triangle ABC  triangle ACB. Therefore ABC = ACB. "}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"Pappus's Proof:"})," This elegant proof, where a triangle is compared with its mirror image, was discovered by Pappus of Alexandria (circa 320 CE). Euclid's original proof was more complicated, involving the construction of additional points."]}),i.jsx("h3",{children:"The Converse"}),i.jsx("p",{children:"The converse of the isosceles triangle theorem is also true and can be proved using ASA."}),i.jsx(ue,{title:"Converse of Isosceles Triangle Theorem",children:i.jsx("p",{children:"If two angles of a triangle are equal, then the sides opposite those angles are equal."})}),i.jsx("h3",{children:"Properties of Parallelograms"}),i.jsx("p",{children:"The congruence axioms allow us to prove fundamental properties of parallelogramsquadrilaterals whose opposite sides are parallel."}),i.jsx(ue,{title:"Opposite Sides of a Parallelogram",children:i.jsx("p",{children:"In a parallelogram, opposite sides are equal."})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," Let ABCD be a parallelogram with AB  CD and AD  BC. Draw the diagonal AC."]}),i.jsx("p",{children:"Since AB  CD, the alternate interior angles satisfy BAC = DCA. Since AD  BC, we have DAC = BCA."}),i.jsx("p",{children:"Now triangles ABC and CDA have:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"BAC = DCA"}),i.jsx("li",{children:"AC = CA (common side)"}),i.jsx("li",{children:"BCA = DAC"})]}),i.jsx("p",{children:"By ASA, triangle ABC  triangle CDA. Therefore AB = CD and BC = DA. "}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.2.1"}),i.jsx("p",{className:"text-slate-300",children:"Prove that the diagonals of a parallelogram bisect each other. (Hint: Use the fact that opposite sides are equal and apply ASA to appropriate triangles.)"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.2.2"}),i.jsx("p",{className:"text-slate-300",children:"Prove that if a quadrilateral has both pairs of opposite sides equal, then it is a parallelogram."})]}),i.jsx(Re,{sectionId:7,questions:[],title:"Congruence Axioms Quiz"})]})}function ZY(){return i.jsxs(qe,{sectionId:8,children:[i.jsx("h2",{children:"Area and Equality"}),i.jsxs("p",{children:["Euclid's treatment of area is remarkably sophisticated. Rather than assigning numerical values to areas (as we do today), he works with the concept of ",i.jsx("strong",{children:"equality of areas"}),"two figures are equal if they have the same area, even if they have different shapes."]}),i.jsx("h3",{children:"Euclid's Common Notions"}),i.jsxs("p",{children:["The ",i.jsx("em",{children:"Elements"}),' begins with five "common notions" that govern how equal quantities can be combined and compared:']}),i.jsx(xe,{title:"Common Notions",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsx("li",{children:"Things equal to the same thing are equal to each other."}),i.jsx("li",{children:"If equals are added to equals, the wholes are equal."}),i.jsx("li",{children:"If equals are subtracted from equals, the remainders are equal."}),i.jsx("li",{children:"Things that coincide with one another are equal to one another."}),i.jsx("li",{children:"The whole is greater than the part."})]})}),i.jsx("p",{children:"These common notions allow Euclid to reason about areas algebraically, even without numbers."}),i.jsx("h3",{children:"A Modern Perspective on Area"}),i.jsx("p",{children:"Today we think of area as a function assigning a positive real number to each figure, satisfying:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Additivity:"})," If a figure is divided into non-overlapping parts, its area equals the sum of the parts' areas."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Congruence:"})," Congruent figures have equal areas."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Unit square:"})," A square with side 1 has area 1."]})]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Historical Note:"}),` Euclid never defines area numerically. Instead, he proves that certain figures are "equal"meaning they can be cut up and rearranged to form the same shape. This approach avoids the conceptual difficulties of real numbers that weren't fully resolved until the 19th century.`]}),i.jsx("h3",{children:"The Square of a Sum"}),i.jsxs("p",{children:["One of the fundamental area relationships is the geometric version of the algebraic identity (a + b) = a + 2ab + b. Euclid proves this in",i.jsx("em",{children:"Elements"})," II.4."]}),i.jsxs(ue,{title:"Square of a Sum (Euclid II.4)",children:[i.jsx("p",{children:"If a line segment is divided into two parts, then the square on the whole equals the sum of the squares on the two parts plus twice the rectangle formed by the parts."}),i.jsx(Y,{children:"(a + b)^2 = a^2 + 2ab + b^2"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Geometric Proof:"})," Consider a square with side a + b. Divide it into regions by drawing lines parallel to the sides at distance a from one corner."]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("p",{className:"text-slate-300",children:"The square decomposes into:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2 text-slate-300",children:[i.jsx("li",{children:"A square of side a (area a) in one corner"}),i.jsx("li",{children:"A square of side b (area b) in the opposite corner"}),i.jsx("li",{children:"Two rectangles, each with sides a and b (each with area ab)"})]})]}),i.jsx("p",{children:"Since these four pieces tile the large square without overlapping:"}),i.jsx(Y,{children:"(a + b)^2 = a^2 + ab + ab + b^2 = a^2 + 2ab + b^2"}),i.jsx("h3",{children:"The Difference of Squares"}),i.jsx("p",{children:"Similarly, the identity a  b = (a+b)(ab) has a beautiful geometric interpretation (Euclid II.5)."}),i.jsxs(ue,{title:"Difference of Squares",children:[i.jsx("p",{children:"The difference of two squares equals a rectangle whose sides are the sum and difference of the original sides:"}),i.jsx(Y,{children:"a^2 - b^2 = (a + b)(a - b)"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Geometric Proof:"})," Start with a square of side a and remove a smaller square of side b from one corner. The remaining L-shaped region (called a ",i.jsx("em",{children:"gnomon"}),") can be cut and rearranged into a rectangle with dimensions (a + b)  (a  b). "]}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"Geometric Algebra:"})," Book II of the ",i.jsx("em",{children:"Elements"}),'is sometimes called "geometric algebra" because it proves algebraic identities using geometric constructions. This approach was the foundation of algebra for nearly two millennia, until symbolic algebra was developed in the Renaissance.']}),i.jsx("h3",{children:"Why Area Matters"}),i.jsx("p",{children:"Euclid's area theory is crucial for proving major results like:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"The Pythagorean theorem (next section)"}),i.jsx("li",{children:"The theory of similar figures"}),i.jsx("li",{children:"The construction of square roots"}),i.jsx("li",{children:"The quadrature (area calculation) of polygons"})]}),i.jsx("p",{children:"By working with areas geometrically rather than numerically, Euclid achieved a level of rigor that wouldn't be matched until the development of modern analysis in the 19th century."}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.3.1"}),i.jsx("p",{className:"text-slate-300",children:"Draw a geometric proof of the identity (a  b) = a  2ab + b."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.3.2"}),i.jsx("p",{className:"text-slate-300",children:"Show geometrically that a gnomon (L-shaped region) formed by removing a small square from the corner of a large square can always be rearranged into a rectangle."})]}),i.jsx(Re,{sectionId:8,questions:[],title:"Area and Equality Quiz"})]})}function QY({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("squares"),[r,a]=q.useState(3),[l,o]=q.useState(4),[c,h]=q.useState(0),u=520,f=400,x=30,b=Math.sqrt(r*r+l*l);return q.useEffect(()=>{const M=e.current;if(!M)return;const y=M.getContext("2d");if(!y)return;y.fillStyle="#0f172a",y.fillRect(0,0,u,f);const T=50,S=f-80,N=(j,m,g,E,v)=>{y.fillStyle=v,y.beginPath(),y.moveTo(j,m),y.lineTo(j+g*x,m),y.lineTo(j,m-E*x),y.closePath(),y.fill(),y.strokeStyle="#e2e8f0",y.lineWidth=1,y.stroke()};switch(n){case"squares":{const j=T+100,m=S-50;N(j,m,r,l,"rgba(244, 114, 182, 0.5)"),y.fillStyle="rgba(167, 139, 250, 0.4)",y.fillRect(j,m,r*x,r*x),y.strokeStyle="#a78bfa",y.lineWidth=2,y.strokeRect(j,m,r*x,r*x),y.fillStyle="rgba(34, 211, 238, 0.4)",y.save(),y.translate(j,m-l*x),y.fillRect(-l*x,0,l*x,l*x),y.strokeStyle="#22d3ee",y.strokeRect(-l*x,0,l*x,l*x),y.restore();const g=Math.atan2(l,r);y.save(),y.translate(j+r*x,m),y.rotate(-g),y.fillStyle="rgba(52, 211, 153, 0.4)",y.fillRect(0,0,b*x,b*x),y.strokeStyle="#34d399",y.lineWidth=2,y.strokeRect(0,0,b*x,b*x),y.restore(),y.fillStyle="#a78bfa",y.font="bold 14px sans-serif",y.fillText(`a = ${(r*r).toFixed(0)}`,j+r*x/2-15,m+r*x/2+5),y.fillStyle="#22d3ee",y.fillText(`b = ${(l*l).toFixed(0)}`,j-l*x+10,m-l*x/2),y.fillStyle="#34d399";const E=j+r*x+30,v=m-30;y.fillText(`c = ${(b*b).toFixed(1)}`,E,v),y.fillStyle="#e2e8f0",y.font="16px sans-serif",y.fillText(`a + b = ${r*r} + ${l*l} = ${r*r+l*l}`,20,30),y.fillText(`c = ${(b*b).toFixed(1)}`,20,55),y.fillStyle="#34d399",y.fillText(" Equal!",150,55);break}case"rearrangement":{const j=r+l,m=j*x*.6,g=30,E=40,v=60;y.strokeStyle="#475569",y.lineWidth=2,y.strokeRect(E,v,m,m);const p=m/j;y.fillStyle="rgba(244, 114, 182, 0.5)",y.beginPath(),y.moveTo(E,v),y.lineTo(E+r*p,v),y.lineTo(E,v+l*p),y.closePath(),y.fill(),y.stroke(),y.beginPath(),y.moveTo(E+m,v),y.lineTo(E+m,v+r*p),y.lineTo(E+r*p,v),y.closePath(),y.fill(),y.stroke(),y.beginPath(),y.moveTo(E+m,v+m),y.lineTo(E+l*p,v+m),y.lineTo(E+m,v+r*p),y.closePath(),y.fill(),y.stroke(),y.beginPath(),y.moveTo(E,v+m),y.lineTo(E,v+l*p),y.lineTo(E+l*p,v+m),y.closePath(),y.fill(),y.stroke(),y.fillStyle="rgba(52, 211, 153, 0.4)",y.beginPath(),y.moveTo(E+r*p,v),y.lineTo(E+m,v+r*p),y.lineTo(E+l*p,v+m),y.lineTo(E,v+l*p),y.closePath(),y.fill(),y.strokeStyle="#34d399",y.stroke(),y.fillStyle="#34d399",y.font="bold 14px sans-serif",y.fillText("c",E+m/2-10,v+m/2+5);const A=E+m+g+50,w=v;y.strokeStyle="#475569",y.lineWidth=2,y.strokeRect(A,w,m,m),y.fillStyle="rgba(244, 114, 182, 0.5)",y.strokeStyle="#f472b6",y.beginPath(),y.moveTo(A,w),y.lineTo(A+r*p,w),y.lineTo(A+r*p,w+l*p),y.lineTo(A,w+l*p),y.closePath(),y.fill(),y.stroke(),y.beginPath(),y.moveTo(A+r*p,w+l*p),y.lineTo(A+m,w+l*p),y.lineTo(A+m,w+m),y.lineTo(A+r*p,w+m),y.closePath(),y.fill(),y.stroke(),y.fillStyle="rgba(167, 139, 250, 0.4)",y.fillRect(A+r*p,w,r*p,r*p),y.strokeStyle="#a78bfa",y.strokeRect(A+r*p,w,r*p,r*p),y.fillStyle="rgba(34, 211, 238, 0.4)",y.fillRect(A,w+l*p,l*p,l*p),y.strokeStyle="#22d3ee",y.strokeRect(A,w+l*p,l*p,l*p),y.fillStyle="#a78bfa",y.font="bold 14px sans-serif",y.fillText("a",A+r*p+r*p/2-10,w+r*p/2+5),y.fillStyle="#22d3ee",y.fillText("b",A+l*p/2-10,w+l*p+l*p/2+5),y.fillStyle="#e2e8f0",y.font="12px sans-serif",y.fillText("4 triangles + c",E+m/2-40,v+m+25),y.fillText("4 triangles + a + b",A+m/2-55,w+m+25),y.fillStyle="#fbbf24",y.font="14px sans-serif",y.fillText("Same total area  c = a + b",u/2-100,f-20);break}case"similar":{const m=f-100;y.fillStyle="rgba(244, 114, 182, 0.3)",y.beginPath(),y.moveTo(100,m),y.lineTo(100+b*x,m),y.lineTo(100,m-l*x),y.closePath(),y.fill(),y.strokeStyle="#f472b6",y.lineWidth=2,y.stroke(),y.strokeStyle="#fbbf24",y.lineWidth=2,y.setLineDash([5,5]),y.beginPath(),y.moveTo(100,m-l*x);const g=100+r*r/b*x,E=m-r*l/b*x;y.lineTo(g,E),y.stroke(),y.setLineDash([]),y.fillStyle="#e2e8f0",y.font="bold 14px sans-serif",y.fillText("c",100+b*x/2,m+20),y.fillText("b",80,m-l*x/2),y.fillText("a",100+b*x/2+20,m-l*x/2-20),y.fillStyle="#fbbf24",y.fillText("h",g+10,E-10),y.fillStyle="#e2e8f0",y.font="13px sans-serif";const v=280;let p=40;y.fillText("Similar Triangles Proof:",v,p),p+=25,y.font="12px sans-serif",y.fillText("The altitude creates 3 similar triangles.",v,p),p+=25,y.fillStyle="#a78bfa",y.fillText("From small triangle: a/c = (a/c)/a",v,p),p+=20,y.fillStyle="#22d3ee",y.fillText("From other small: b/c = (b/c)/b",v,p),p+=25,y.fillStyle="#34d399",y.fillText("Adding: a/c + b/c = c",v,p),p+=20,y.fillText("Therefore: a + b = c",v,p);break}}y.fillStyle="#94a3b8",y.font="11px sans-serif",y.fillText(`a = ${r}, b = ${l}, c = ${b.toFixed(2)}`,10,f-10)},[n,r,l,b,c]),i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Pythagorean Theorem Visualizer"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:u,height:f,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-52 space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Proof Type"}),i.jsxs("select",{value:n,onChange:M=>s(M.target.value),className:"w-full px-2 py-1.5 bg-slate-800 border border-slate-600 rounded text-slate-200 text-sm",children:[i.jsx("option",{value:"squares",children:"Squares on Sides"}),i.jsx("option",{value:"rearrangement",children:"Area Rearrangement"}),i.jsx("option",{value:"similar",children:"Similar Triangles"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Side a: ",r]}),i.jsx("input",{type:"range",min:"1",max:"5",step:"0.5",value:r,onChange:M=>a(parseFloat(M.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Side b: ",l]}),i.jsx("input",{type:"range",min:"1",max:"5",step:"0.5",value:l,onChange:M=>o(parseFloat(M.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsxs("div",{className:"text-sm font-mono text-slate-200",children:["a + b = ",(r*r).toFixed(1)," + ",(l*l).toFixed(1)," = ",(r*r+l*l).toFixed(1)]}),i.jsxs("div",{className:"text-sm font-mono text-slate-200 mt-1",children:["c = ",(b*b).toFixed(1)]}),i.jsx("div",{className:"text-green-400 text-sm mt-1",children:" Equal!"})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-purple-400",children:"Purple:"})," a"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," b"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-green-400",children:"Green:"})," c"]})]})]})]})]})}function xA({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(Math.PI*.7),[r,a]=q.useState(Math.PI*1.2),[l,o]=q.useState(Math.PI*1.8),[c,h]=q.useState(null),u=480,f=400,x=240,b=200,M=150,y=j=>({x:x+M*Math.cos(j),y:b-M*Math.sin(j)});q.useEffect(()=>{const j=e.current;if(!j)return;const m=j.getContext("2d");if(!m)return;m.fillStyle="#0f172a",m.fillRect(0,0,u,f),m.strokeStyle="#475569",m.lineWidth=2,m.beginPath(),m.arc(x,b,M,0,Math.PI*2),m.stroke(),m.fillStyle="#64748b",m.beginPath(),m.arc(x,b,4,0,Math.PI*2),m.fill(),m.fillStyle="#94a3b8",m.font="12px sans-serif",m.fillText("O",x+8,b+4);const g=y(r),E=y(l),v=y(n);m.strokeStyle="#f472b6",m.lineWidth=4,m.beginPath();const p=-l,A=-r;m.arc(x,b,M,p,A),m.stroke(),m.strokeStyle="#fbbf24",m.lineWidth=2,m.beginPath(),m.moveTo(x,b),m.lineTo(g.x,g.y),m.stroke(),m.beginPath(),m.moveTo(x,b),m.lineTo(E.x,E.y),m.stroke(),m.strokeStyle="#fbbf24",m.lineWidth=2,m.beginPath(),m.arc(x,b,30,-l,-r),m.stroke(),m.strokeStyle="#22d3ee",m.lineWidth=2,m.beginPath(),m.moveTo(v.x,v.y),m.lineTo(g.x,g.y),m.stroke(),m.beginPath(),m.moveTo(v.x,v.y),m.lineTo(E.x,E.y),m.stroke();const w=Math.atan2(-(g.y-v.y),g.x-v.x),k=Math.atan2(-(E.y-v.y),E.x-v.x);m.strokeStyle="#22d3ee",m.lineWidth=2,m.beginPath();let D=Math.min(w,k),I=Math.max(w,k);I-D>Math.PI&&([D,I]=[I,D-Math.PI*2]),m.arc(v.x,v.y,25,-I,-D),m.stroke();const $=(V,J,ee)=>{m.fillStyle=ee,m.beginPath(),m.arc(V.x,V.y,8,0,Math.PI*2),m.fill(),m.fillStyle="#e2e8f0",m.font="bold 14px sans-serif";const re=V.x>x?12:-20,se=V.y>b?20:-10;m.fillText(J,V.x+re,V.y+se)};$(g,"A","#f472b6"),$(E,"B","#f472b6"),$(v,"P","#22d3ee");let B=r-l;B<0&&(B+=Math.PI*2),B>Math.PI*2&&(B-=Math.PI*2);const G=B/2;m.fillStyle="#0f172a",m.fillRect(10,10,180,90),m.strokeStyle="#334155",m.strokeRect(10,10,180,90),m.fillStyle="#fbbf24",m.font="13px sans-serif",m.fillText(`Central angle: ${(B*180/Math.PI).toFixed(1)}`,20,35),m.fillStyle="#22d3ee",m.fillText(`Inscribed angle: ${(G*180/Math.PI).toFixed(1)}`,20,60),m.fillStyle="#34d399",m.fillText("Ratio: 2:1 ",20,85),m.fillStyle="#94a3b8",m.font="11px sans-serif",m.fillText("Drag P, A, or B to explore",10,f-10)},[n,r,l]);const T=j=>{var w;const m=(w=e.current)==null?void 0:w.getBoundingClientRect();if(!m)return;const g=j.clientX-m.left,E=j.clientY-m.top,v=y(n),p=y(r),A=y(l);Math.hypot(g-v.x,E-v.y)<15?h("point"):Math.hypot(g-p.x,E-p.y)<15?h("start"):Math.hypot(g-A.x,E-A.y)<15&&h("end")},S=j=>{var p;if(!c)return;const m=(p=e.current)==null?void 0:p.getBoundingClientRect();if(!m)return;const g=j.clientX-m.left,E=j.clientY-m.top,v=Math.atan2(-(E-b),g-x);c==="point"?s(v):c==="start"?a(v):c==="end"&&o(v)},N=()=>{h(null)};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Inscribed Angle Theorem"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:u,height:f,className:"border border-slate-700 rounded cursor-grab",onMouseDown:T,onMouseMove:S,onMouseUp:N,onMouseLeave:N})}),i.jsxs("div",{className:"w-full md:w-52 space-y-3",children:[i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-blue-400 mb-2",children:"The Theorem"}),i.jsxs("p",{className:"text-xs text-slate-300",children:["An inscribed angle is ",i.jsx("span",{className:"text-cyan-400",children:"half"})," the central angle that subtends the same arc."]})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-yellow-400 mb-2",children:"Thales' Corollary"}),i.jsx("p",{className:"text-xs text-slate-300",children:"When the arc is a semicircle (central angle = 180), the inscribed angle is always 90."})]}),i.jsx("button",{onClick:()=>{a(Math.PI),o(0),s(Math.PI*.6)},className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Show Thales' Case (90)"}),i.jsx("button",{onClick:()=>{a(Math.PI*1.2),o(Math.PI*1.8),s(Math.PI*.7)},className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Reset"}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink arc:"})," Subtended arc AB"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," Central angle"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," Inscribed angle"]})]})]})]})]})}function KY({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(0),[r,a]=q.useState(!1),[l,o]=q.useState(!1),c=q.useRef(),h=550,u=400,f=180,x=120,b=100,M=u-80;q.useEffect(()=>{const T=e.current;if(!T)return;const S=T.getContext("2d");if(!S)return;S.fillStyle="#0f172a",S.fillRect(0,0,h,u),S.strokeStyle="#334155",S.lineWidth=1,S.setLineDash([5,5]),S.beginPath(),S.moveTo(0,M-x),S.lineTo(h,M-x),S.stroke(),S.beginPath(),S.moveTo(0,M),S.lineTo(h,M),S.stroke(),S.setLineDash([]),S.fillStyle="#94a3b8",S.font="12px sans-serif",S.save(),S.translate(30,M-x/2),S.rotate(-Math.PI/2),S.fillText("height = h",-20,0),S.restore(),S.strokeStyle="#94a3b8",S.beginPath(),S.moveTo(50,M),S.lineTo(50,M-x),S.stroke(),S.beginPath(),S.moveTo(45,M-5),S.lineTo(50,M),S.lineTo(55,M-5),S.stroke(),S.beginPath(),S.moveTo(45,M-x+5),S.lineTo(50,M-x),S.lineTo(55,M-x+5),S.stroke();const N=n*100,j={x:b,y:M},m={x:b+f,y:M},g={x:b+f+N,y:M-x},E={x:b+N,y:M-x};n!==0&&(S.strokeStyle="#475569",S.lineWidth=1,S.setLineDash([3,3]),S.beginPath(),S.moveTo(b,M),S.lineTo(b+f,M),S.lineTo(b+f,M-x),S.lineTo(b,M-x),S.closePath(),S.stroke(),S.setLineDash([]));const v=S.createLinearGradient(j.x,j.y,g.x,g.y);if(v.addColorStop(0,"rgba(96, 165, 250, 0.3)"),v.addColorStop(1,"rgba(96, 165, 250, 0.1)"),S.fillStyle=v,S.beginPath(),S.moveTo(j.x,j.y),S.lineTo(m.x,m.y),S.lineTo(g.x,g.y),S.lineTo(E.x,E.y),S.closePath(),S.fill(),S.strokeStyle="#60a5fa",S.lineWidth=2,S.stroke(),r){S.strokeStyle="#fbbf24",S.lineWidth=2,S.setLineDash([4,4]),S.beginPath(),S.moveTo(j.x,j.y),S.lineTo(g.x,g.y),S.stroke(),S.setLineDash([]);const I=S.createLinearGradient(j.x,j.y,g.x,g.y);I.addColorStop(0,"rgba(251, 191, 36, 0.3)"),I.addColorStop(1,"rgba(251, 191, 36, 0.1)"),S.fillStyle=I,S.beginPath(),S.moveTo(j.x,j.y),S.lineTo(m.x,m.y),S.lineTo(g.x,g.y),S.closePath(),S.fill(),S.strokeStyle="#fbbf24",S.lineWidth=2,S.stroke()}const p=[j,m,g,E],A=["A","B","C","D"],w=["#60a5fa","#60a5fa","#60a5fa","#60a5fa"],k=[{x:-15,y:20},{x:5,y:20},{x:5,y:-10},{x:-15,y:-10}];p.forEach((I,$)=>{S.fillStyle=w[$],S.beginPath(),S.arc(I.x,I.y,4,0,Math.PI*2),S.fill(),S.font="italic 14px serif",S.fillText(A[$],I.x+k[$].x,I.y+k[$].y)}),S.fillStyle="#60a5fa",S.font="12px sans-serif",S.fillText("base = b",(j.x+m.x)/2-25,j.y+25);const D=f*x;if(S.fillStyle="#34d399",S.font="bold 16px sans-serif",r?S.fillText(`Triangle Area =   b  h = ${(D/2).toFixed(0)} sq units`,h/2-130,40):S.fillText(`Parallelogram Area = b  h = ${D.toFixed(0)} sq units`,h/2-130,40),l||n!==0){S.strokeStyle="#f472b6",S.lineWidth=2;const I=M-x-30;S.beginPath(),S.moveTo(b,I),S.lineTo(b+80,I),S.lineTo(b+70,I-8),S.moveTo(b+80,I),S.lineTo(b+70,I+8),S.stroke(),S.fillStyle="#f472b6",S.font="12px sans-serif",S.fillText("shear",b+30,I-12)}},[n,r,l]);const y=()=>{if(l)return;o(!0);let T=null;const S=2e3,N=n,j=N===0?1:0,m=g=>{T||(T=g);const E=g-T,v=Math.min(E/S,1),p=v<.5?2*v*v:1-Math.pow(-2*v+2,2)/2;s(N+(j-N)*p),v<1?c.current=requestAnimationFrame(m):o(!1)};c.current=requestAnimationFrame(m)};return i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Shearing Preserves Area"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:h,height:u,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Shear Amount: ",n.toFixed(2)]}),i.jsx("input",{type:"range",min:"-1",max:"1",step:"0.01",value:n,onChange:T=>s(parseFloat(T.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"flex justify-center gap-3 mb-4",children:[i.jsx("button",{onClick:y,disabled:l,className:`px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-500
                     disabled:opacity-50 disabled:cursor-not-allowed transition`,children:n===0?"Animate Shear":"Animate Back"}),i.jsx("button",{onClick:()=>a(!r),className:`px-4 py-2 rounded transition ${r?"bg-yellow-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:r?"Show Parallelogram":"Show Triangle"}),i.jsx("button",{onClick:()=>s(0),className:"px-4 py-2 bg-slate-700 text-white rounded hover:bg-slate-600 transition",children:"Reset"})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Key Insight:"})," Sliding the top edge parallel to the base (shearing) does not change the area because both the ",i.jsx("em",{children:"base"})," and"," ",i.jsx("em",{children:"height"})," remain constant."]}),r&&i.jsx("p",{className:"mt-2 text-yellow-400",children:"The diagonal divides the parallelogram into two congruent triangles, each with half the area."})]})]})}function JY({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(.4),[r,a]=q.useState(0),[l,o]=q.useState(!1),c=550,h=420,u={x:80,y:h-60},f={x:280,y:h-60},x={x:180,y:80},b={x:u.x+n*(f.x-u.x),y:u.y+n*(f.y-u.y)},M={x:u.x+n*(x.x-u.x),y:u.y+n*(x.y-u.y)},y=q.useCallback(m=>{const g=e.current;if(!g)return{x:0,y:0};const E=g.getBoundingClientRect();return{x:m.clientX-E.left,y:m.clientY-E.top}},[]),T=q.useCallback(m=>{const g=y(m);Math.sqrt((g.x-b.x)**2+(g.y-b.y)**2)<15&&o(!0)},[y,b]),S=q.useCallback(m=>{if(!l)return;const g=y(m),E=f.x-u.x,v=f.y-u.y,p=g.x-u.x,A=g.y-u.y;let w=(p*E+A*v)/(E*E+v*v);w=Math.max(.1,Math.min(.9,w)),s(w)},[l,y]),N=q.useCallback(()=>{o(!1)},[]);q.useEffect(()=>{const m=e.current;if(!m)return;const g=m.getContext("2d");if(!g)return;g.fillStyle="#0f172a",g.fillRect(0,0,c,h);const E=(I,$,B)=>Math.abs(($.x-I.x)*(B.y-I.y)-(B.x-I.x)*($.y-I.y))/2;if(g.strokeStyle="#475569",g.lineWidth=1,g.beginPath(),g.moveTo(u.x,u.y),g.lineTo(f.x,f.y),g.lineTo(x.x,x.y),g.closePath(),g.stroke(),g.strokeStyle="#f472b6",g.lineWidth=2,g.beginPath(),g.moveTo(b.x,b.y),g.lineTo(M.x,M.y),g.stroke(),g.strokeStyle="#94a3b8",g.lineWidth=2,g.beginPath(),g.moveTo(f.x,f.y),g.lineTo(x.x,x.y),g.stroke(),r>=1){const I=g.createLinearGradient(u.x,u.y,M.x,M.y);I.addColorStop(0,"rgba(96, 165, 250, 0.4)"),I.addColorStop(1,"rgba(96, 165, 250, 0.1)"),g.fillStyle=I,g.beginPath(),g.moveTo(u.x,u.y),g.lineTo(b.x,b.y),g.lineTo(M.x,M.y),g.closePath(),g.fill(),g.strokeStyle="#60a5fa",g.lineWidth=2,g.stroke()}if(r>=2){const I=g.createLinearGradient(b.x,b.y,f.x,f.y);I.addColorStop(0,"rgba(251, 191, 36, 0.4)"),I.addColorStop(1,"rgba(251, 191, 36, 0.1)"),g.fillStyle=I,g.beginPath(),g.moveTo(b.x,b.y),g.lineTo(f.x,f.y),g.lineTo(M.x,M.y),g.closePath(),g.fill(),g.strokeStyle="#fbbf24",g.lineWidth=2,g.stroke()}if(r>=3){const I=g.createLinearGradient(b.x,b.y,x.x,x.y);I.addColorStop(0,"rgba(52, 211, 153, 0.4)"),I.addColorStop(1,"rgba(52, 211, 153, 0.1)"),g.fillStyle=I,g.beginPath(),g.moveTo(b.x,b.y),g.lineTo(M.x,M.y),g.lineTo(x.x,x.y),g.closePath(),g.fill(),g.strokeStyle="#34d399",g.lineWidth=2,g.stroke()}[{p:u,label:"A",color:"#f472b6",offset:{x:-20,y:20}},{p:f,label:"B",color:"#f472b6",offset:{x:5,y:20}},{p:x,label:"C",color:"#f472b6",offset:{x:5,y:-15}},{p:b,label:"D",color:"#60a5fa",offset:{x:-5,y:20}},{p:M,label:"E",color:"#34d399",offset:{x:-20,y:-5}}].forEach(({p:I,label:$,color:B,offset:G})=>{g.fillStyle=B,g.beginPath(),g.arc(I.x,I.y,$==="D"?8:5,0,Math.PI*2),g.fill(),g.font="italic 16px serif",g.fillText($,I.x+G.x,I.y+G.y)}),l||(g.font="10px sans-serif",g.fillStyle="#94a3b8",g.fillText("drag",b.x-12,b.y+30)),g.fillStyle="#f472b6",g.font="12px sans-serif",g.fillText("DE  BC",(b.x+M.x)/2-20,(b.y+M.y)/2-15);const p=n,A=1-n,w=n,k=1-n,D=340;if(g.fillStyle="#1e293b",g.fillRect(D,50,190,320),g.strokeStyle="#334155",g.strokeRect(D,50,190,320),g.font="bold 14px sans-serif",g.fillStyle="#e2e8f0",g.fillText("Thales Theorem Proof",D+20,75),g.font="12px sans-serif",g.fillStyle=r>=1?"#60a5fa":"#64748b",g.fillText("Step 1: Consider ADE",D+10,105),g.fillStyle=r>=2?"#fbbf24":"#64748b",g.fillText("Step 2: DBE has same",D+10,145),g.fillText("height from E to AB",D+10,160),g.fillStyle=r>=3?"#34d399":"#64748b",g.fillText("Step 3: DEC has same",D+10,200),g.fillText("height from D to AC",D+10,215),g.fillStyle=r>=4?"#c084fc":"#64748b",g.fillText("Key: Since DE  BC,",D+10,255),g.fillText("DBE = DEC (same",D+10,270),g.fillText("base DE, same height)",D+10,285),g.fillStyle="#e2e8f0",g.font="bold 13px sans-serif",g.fillText("Therefore:",D+10,315),g.fillStyle="#f472b6",g.fillText(`AD/DB = ${p.toFixed(2)}/${A.toFixed(2)}`,D+10,335),g.fillText(`AE/EC = ${w.toFixed(2)}/${k.toFixed(2)}`,D+10,352),Math.abs(p/A-w/k)<.01&&(g.fillStyle="#34d399",g.fillText("= "+(p/A).toFixed(2)+" ",D+120,343)),r>=2){const I=E(u,b,M),$=E(b,f,M),B=E(b,M,x);g.font="11px sans-serif",g.fillStyle="#60a5fa",g.fillText(`Area(ADE) = ${I.toFixed(0)}`,80,h-20),r>=2&&(g.fillStyle="#fbbf24",g.fillText(`Area(DBE) = ${$.toFixed(0)}`,180,h-20)),r>=3&&(g.fillStyle="#34d399",g.fillText(`Area(DEC) = ${B.toFixed(0)}`,280,h-20))}},[n,r,l,b,M]);const j=["View the triangle","Triangle ADE","Add triangle DBE","Add triangle DEC","Complete proof"];return i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Thales Theorem: Area-Based Proof"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded cursor-pointer",onMouseDown:T,onMouseMove:S,onMouseUp:N,onMouseLeave:N})}),i.jsx("div",{className:"flex justify-center gap-2 mb-4",children:j.map((m,g)=>i.jsx("button",{onClick:()=>a(g),className:`px-3 py-1 text-sm rounded transition ${r===g?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:g===0?"Start":`Step ${g}`},g))}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Thales' Theorem:"})," If DE is parallel to BC, then"," ",i.jsx("span",{className:"text-pink-400",children:"AD/DB = AE/EC"}),"."]}),i.jsxs("p",{className:"mt-2",children:["The proof uses the fact that triangles with the same base and height have equal areas. Drag point ",i.jsx("span",{className:"text-blue-400",children:"D"})," to see how the ratio stays constant!"]})]})]})}function eX(){return i.jsxs(qe,{sectionId:9,children:[i.jsx("h2",{children:"Area of Parallelograms and Triangles"}),i.jsx("p",{children:"Having established the basic principles of area, Euclid develops formulas for the areas of fundamental shapes. These results form the foundation for the Pythagorean theorem and the theory of similar triangles."}),i.jsx("h3",{children:"Area of a Parallelogram"}),i.jsx("p",{children:"The key insight for parallelograms is that they can be transformed into rectangles without changing their area."}),i.jsx(ue,{title:"Parallelograms with Equal Base and Height (Euclid I.35)",children:i.jsx("p",{children:"Parallelograms with the same base and the same height have equal areas."})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," Consider two parallelograms ABCD and ABEF that share the same base AB and lie between the same parallel lines (so they have the same height)."]}),i.jsx("p",{children:"The key observation is that both parallelograms differ from a common triangle by another triangle of equal area:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"ABCD = triangle ABX + (common region) for some point X"}),i.jsx("li",{children:"ABEF = triangle ABY + (same common region) for some point Y"})]}),i.jsx("p",{children:"Since the triangles ABX and ABY are congruent (by SAS), the parallelograms have equal areas. "}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Modern Formula:"})," From this theorem, we derive the familiar formula:",i.jsx(Y,{children:"\\text{Area of parallelogram} = \\text{base} \\times \\text{height}"})]}),i.jsx("h3",{children:"Area of a Triangle"}),i.jsx("p",{children:"The relationship between parallelograms and triangles is fundamental."}),i.jsx(ue,{title:"Triangle Area (Euclid I.37)",children:i.jsx("p",{children:"Triangles with the same base and the same height have equal areas."})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," A triangle is exactly half of a parallelogram with the same base and height. If two triangles share the same base and height, they are each half of equal parallelograms, so they have equal areas. "]}),i.jsxs(xe,{title:"Triangle Area Formula",children:[i.jsx("p",{children:"The area of a triangle is half the product of its base and height:"}),i.jsx(Y,{children:"\\text{Area} = \\frac{1}{2} \\times \\text{base} \\times \\text{height}"})]}),i.jsx("h3",{children:"The Parallelogram-Triangle Relationship"}),i.jsx("p",{children:"A crucial relationship connects parallelograms and triangles:"}),i.jsx(ue,{title:"Parallelogram is Double the Triangle (Euclid I.41)",children:i.jsx("p",{children:"If a parallelogram and a triangle share the same base and lie between the same parallels, then the parallelogram has twice the area of the triangle."})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," Draw a diagonal of the parallelogram. This creates two congruent triangles, each equal in area to the given triangle (by I.37). Therefore the parallelogram has twice the area of the triangle. "]}),i.jsx("h3",{children:"Proportionality of Triangle Areas"}),i.jsx("p",{children:"These area relationships lead to important proportionality results."}),i.jsxs(ue,{title:"Area Ratio for Equal Heights",children:[i.jsx("p",{children:"Triangles with the same height have areas proportional to their bases."}),i.jsx(Y,{children:"\\frac{\\text{Area}(\\triangle ABC)}{\\text{Area}(\\triangle DEF)} = \\frac{BC}{EF}"}),i.jsx("p",{className:"mt-2",children:"(when both triangles have the same height)"})]}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"Key Application:"})," This proportionality is essential for proving the Thales theorem (which we'll see in Section 11). If a line parallel to one side of a triangle divides the other two sides, it divides them proportionally."]}),i.jsx("h3",{children:"Shearing Transformations"}),i.jsxs("p",{children:["The theorems above demonstrate an important principle: ",i.jsx("strong",{children:"shearing"}),"a parallelogram or triangle (sliding one side parallel to itself) does not change its area."]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Shearing Principle"}),i.jsx("p",{className:"text-slate-300",children:'If you take a parallelogram and "slide" the top edge left or right (keeping it parallel to the base and at the same height), the area remains unchanged. This is the geometric content of Euclid I.35.'})]}),i.jsx("p",{children:"This shearing principle is the key to many area proofs, including Euclid's proof of the Pythagorean theorem."}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.4.1"}),i.jsx("p",{className:"text-slate-300",children:"Prove that the diagonal of a parallelogram divides it into two congruent triangles."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.4.2"}),i.jsx("p",{className:"text-slate-300",children:"Show that if a triangle ABC has a point P on side BC, then:"}),i.jsx(Y,{children:"\\frac{\\text{Area}(\\triangle ABP)}{\\text{Area}(\\triangle APC)} = \\frac{BP}{PC}"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.4.3"}),i.jsx("p",{className:"text-slate-300",children:"Prove that the medians of a triangle divide it into six smaller triangles of equal area."})]}),i.jsx(KY,{className:"my-6"}),i.jsx(Re,{sectionId:9,questions:[],title:"Area of Parallelograms and Triangles Quiz"})]})}function tX(){return i.jsxs(qe,{sectionId:10,children:[i.jsx("h2",{children:"The Pythagorean Theorem"}),i.jsxs("p",{children:["The Pythagorean theorem is perhaps the most famous result in all of mathematics. It appears as Proposition I.47 in Euclid's ",i.jsx("em",{children:"Elements"}),", and Euclid's proof is a masterpiece of geometric reasoning that uses the area concepts developed in the previous sections."]}),i.jsxs(ue,{title:"Pythagorean Theorem (Euclid I.47)",children:[i.jsx("p",{children:"In a right triangle, the square on the hypotenuse equals the sum of the squares on the other two sides."}),i.jsx(Y,{children:"a^2 + b^2 = c^2"}),i.jsx("p",{className:"mt-2",children:"where c is the hypotenuse and a, b are the legs."})]}),i.jsx("h3",{children:"Euclid's Proof"}),i.jsx("p",{children:"Euclid's proof is constructive and elegant. Given a right triangle ABC with the right angle at C, construct squares on all three sides."}),i.jsx("p",{children:i.jsx("strong",{children:"Step 1: Set up the construction"})}),i.jsx("p",{children:"Draw the altitude from C to the hypotenuse AB, meeting it at H. Extend this line to meet the opposite side of the square on AB."}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Key Insight:"})," The altitude CH divides the large square into two rectangles. Euclid shows that each rectangle equals one of the smaller squares."]}),i.jsx("p",{children:i.jsx("strong",{children:"Step 2: Connect key points"})}),i.jsx("p",{children:"Draw lines AC and BC extended through the construction. These create triangles that we can compare using congruence."}),i.jsx("p",{children:i.jsx("strong",{children:"Step 3: Apply shearing"})}),i.jsx("p",{children:'The square on side AC can be "sheared" (using the principle from I.35) into a parallelogram with the same base and height, which is then sheared again to align with the rectangle portion of the square on AB.'}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"The Shearing Argument"}),i.jsx("p",{className:"text-slate-300",children:"Consider the square on AC. By Euclid I.35, this square has the same area as any parallelogram with the same base and height. We can shear this square into a rectangle that exactly matches one piece of the square on the hypotenuse."})]}),i.jsx("p",{children:i.jsx("strong",{children:"Step 4: Complete the proof"})}),i.jsx("p",{children:"The same argument applied to the square on BC shows it equals the other rectangle. Since the two rectangles together form the square on AB:"}),i.jsx(Y,{children:"\\text{square on } AC + \\text{square on } BC = \\text{square on } AB"}),i.jsx("h3",{children:"Why This Proof Matters"}),i.jsx("p",{children:"Euclid's proof is significant because it:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"Uses only the theorems developed earlier in Book I"}),i.jsx("li",{children:"Relies on the shearing principle (area-preserving transformations)"}),i.jsx("li",{children:"Works with areas directly, without needing numerical values"}),i.jsx("li",{children:"Demonstrates the power of axiomatic reasoning"})]}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"The Windmill Proof:"}),` Euclid's proof is sometimes called the "windmill proof" because the construction with its extended lines resembles a windmill. It's considerably more complex than some modern proofs but uses only the basic tools available to Euclid.`]}),i.jsx("h3",{children:"The Converse"}),i.jsx("p",{children:"Euclid also proves the converse (I.48):"}),i.jsx(ue,{title:"Converse of Pythagorean Theorem (Euclid I.48)",children:i.jsx("p",{children:"If the square on one side of a triangle equals the sum of the squares on the other two sides, then the angle opposite that side is a right angle."})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," Suppose triangle ABC has a + b = c where c = AB. Construct a right triangle DEF with legs DE = a and EF = b. By the Pythagorean theorem, DF = a + b = c, so DF = c = AB."]}),i.jsx("p",{children:"Now triangles ABC and DEF have all three sides equal (a, b, c), so they are congruent by SSS. Therefore ACB = DEF = 90. "}),i.jsx("h3",{children:"Historical Context"}),i.jsx("p",{children:"The Pythagorean theorem was known before Euclid and even before Pythagoras. Babylonian clay tablets from around 1800 BCE show knowledge of Pythagorean triples like (3, 4, 5) and (5, 12, 13)."}),i.jsxs("p",{children:["What makes Euclid's contribution significant is the ",i.jsx("em",{children:"proof"})," demonstrating that the theorem follows logically from basic axioms rather than being an empirical observation."]}),i.jsx("h3",{children:"Pythagorean Triples"}),i.jsxs("p",{children:["A ",i.jsx("strong",{children:"Pythagorean triple"})," is a set of three positive integers (a, b, c) satisfying a + b = c."]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-400",children:"(3, 4, 5)"}),i.jsx("p",{className:"text-sm text-slate-400",children:"9 + 16 = 25"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-green-400",children:"(5, 12, 13)"}),i.jsx("p",{className:"text-sm text-slate-400",children:"25 + 144 = 169"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:"(8, 15, 17)"}),i.jsx("p",{className:"text-sm text-slate-400",children:"64 + 225 = 289"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-pink-400",children:"(7, 24, 25)"}),i.jsx("p",{className:"text-sm text-slate-400",children:"49 + 576 = 625"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-purple-400",children:"(20, 21, 29)"}),i.jsx("p",{className:"text-sm text-slate-400",children:"400 + 441 = 841"})]})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.5.1"}),i.jsx("p",{className:"text-slate-300",children:"Verify that if m > n are positive integers, then (m  n, 2mn, m + n) is a Pythagorean triple."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.5.2"}),i.jsx("p",{className:"text-slate-300",children:"In Euclid's proof, explain why the altitude from C to the hypotenuse creates two triangles that are each similar to the original triangle."})]}),i.jsx(QY,{className:"my-6"}),i.jsx(Re,{sectionId:10,questions:[],title:"The Pythagorean Theorem Quiz"})]})}function nX(){return i.jsxs(qe,{sectionId:11,children:[i.jsx("h2",{children:"Proof of the Thales Theorem"}),i.jsx("p",{children:"In Chapter 1, we stated the Thales theorem without proof. Now, with Euclid's theory of areas at our disposal, we can prove it rigorously. This theorem is fundamental to the theory of similar triangles."}),i.jsxs(ue,{title:"Thales Theorem (Basic Proportionality)",children:[i.jsx("p",{children:"A line parallel to one side of a triangle divides the other two sides proportionally."}),i.jsx("p",{className:"mt-2",children:"More precisely: If line DE is parallel to BC in triangle ABC, with D on AB and E on AC, then:"}),i.jsx(Y,{children:"\\frac{AD}{DB} = \\frac{AE}{EC}"})]}),i.jsx("h3",{children:"The Proof Using Areas"}),i.jsx("p",{children:"The key insight is that triangles with the same height have areas proportional to their bases."}),i.jsx("p",{children:i.jsx("strong",{children:"Step 1: Set up the triangles"})}),i.jsx("p",{children:"Consider triangles ADE and DBE. They share the same height (the perpendicular distance from E to line AB)."}),i.jsx(Y,{children:"\\frac{\\text{Area}(\\triangle ADE)}{\\text{Area}(\\triangle DBE)} = \\frac{AD}{DB}"}),i.jsx("p",{children:i.jsx("strong",{children:"Step 2: Consider another pair"})}),i.jsx("p",{children:"Similarly, triangles ADE and DEC share the same height (the perpendicular distance from D to line AC)."}),i.jsx(Y,{children:"\\frac{\\text{Area}(\\triangle ADE)}{\\text{Area}(\\triangle DEC)} = \\frac{AE}{EC}"}),i.jsx("p",{children:i.jsx("strong",{children:"Step 3: Key observation"})}),i.jsx("p",{children:"Triangles DBE and DEC have the same base DE. Since DE  BC, these triangles also have the same height (the perpendicular distance between the parallel lines DE and BC)."}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Critical Point:"})," Because DE is parallel to BC, the triangles DBE and DEC have equal areas. They share base DE and lie between the same parallel lines."]}),i.jsx("p",{children:i.jsx("strong",{children:"Step 4: Conclude the proof"})}),i.jsx("p",{children:"Since Area(DBE) = Area(DEC), we have:"}),i.jsx(Y,{children:"\\frac{AD}{DB} = \\frac{\\text{Area}(\\triangle ADE)}{\\text{Area}(\\triangle DBE)} = \\frac{\\text{Area}(\\triangle ADE)}{\\text{Area}(\\triangle DEC)} = \\frac{AE}{EC}"}),i.jsx("p",{children:"This completes the proof. "}),i.jsx("h3",{children:"The Converse of Thales' Theorem"}),i.jsx(ue,{title:"Converse of Thales Theorem",children:i.jsx("p",{children:"If a line divides two sides of a triangle proportionally, then it is parallel to the third side."})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," Suppose D is on AB and E is on AC with AD/DB = AE/EC. We want to show DE  BC."]}),i.jsx("p",{children:"Assume, for contradiction, that DE is not parallel to BC. Then draw the line through D parallel to BC, meeting AC at some point E'. By the Thales theorem:"}),i.jsx(Y,{children:"\\frac{AD}{DB} = \\frac{AE'}{E'C}"}),i.jsx("p",{children:"But we also have AD/DB = AE/EC. Therefore AE'/E'C = AE/EC, which means E' = E. So DE is indeed parallel to BC. "}),i.jsx("h3",{children:"Applications of Thales' Theorem"}),i.jsx("p",{children:"The Thales theorem has many important applications:"}),i.jsxs("div",{className:"space-y-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-blue-500",children:[i.jsx("h4",{className:"font-semibold text-blue-400",children:"Similar Triangles"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"If a line parallel to one side creates a smaller triangle, that triangle is similar to the original with proportional sides."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h4",{className:"font-semibold text-green-400",children:"Dividing Segments"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"To divide a segment in a given ratio, construct parallel lines using the Thales theorem."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-yellow-500",children:[i.jsx("h4",{className:"font-semibold text-yellow-400",children:"The Midpoint Theorem"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"The line joining the midpoints of two sides is parallel to the third side and half its length."})]})]}),i.jsx("h3",{children:"The Midpoint Theorem"}),i.jsx("p",{children:"A special case of the Thales theorem is particularly useful:"}),i.jsx(ue,{title:"Midpoint Theorem",children:i.jsx("p",{children:"The segment joining the midpoints of two sides of a triangle is parallel to the third side and equal to half of it."})}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," If D and E are midpoints of AB and AC respectively, then AD/DB = AE/EC = 1. By the converse of Thales' theorem, DE  BC."]}),i.jsx("p",{children:"For the length, note that triangles ADE and ABC are similar with ratio 1:2 (since AD = AB and AE = AC). Therefore DE = BC. "}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"Historical Note:"})," Thales of Miletus (c. 624-546 BCE) is often considered the first mathematician in the Greek tradition. While the theorem bears his name, the rigorous proof we've seen here was formalized by Euclid."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.6.1"}),i.jsx("p",{className:"text-slate-300",children:"In triangle ABC, D is on AB such that AD = 2DB, and E is on AC such that DE  BC. Find the ratio AE:EC."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.6.2"}),i.jsx("p",{className:"text-slate-300",children:"Prove that the medians of a triangle are concurrent (meet at a single point) using the Thales theorem."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.6.3"}),i.jsx("p",{className:"text-slate-300",children:"Use Thales' theorem to construct a line segment that is  the length of a given segment."})]}),i.jsx(JY,{className:"my-6"}),i.jsx(Re,{sectionId:11,questions:[],title:"Proof of the Thales Theorem Quiz"})]})}function iX(){return i.jsxs(qe,{sectionId:12,children:[i.jsx("h2",{children:"Angles in a Circle"}),i.jsxs("p",{children:["One of the most beautiful results in Euclidean geometry concerns the angles formed by points on a circle. The ",i.jsx("strong",{children:"inscribed angle theorem"})," shows that these angles have a remarkable invariance property."]}),i.jsx("h3",{children:"Central and Inscribed Angles"}),i.jsx(xe,{title:"Central Angle",children:i.jsxs("p",{children:["A ",i.jsx("strong",{children:"central angle"}),' is an angle whose vertex is at the center of the circle. It "subtends" an arc of the circle.']})}),i.jsx(xe,{title:"Inscribed Angle",children:i.jsxs("p",{children:["An ",i.jsx("strong",{children:"inscribed angle"})," is an angle whose vertex lies on the circle and whose sides are chords of the circle."]})}),i.jsx("h3",{children:"The Inscribed Angle Theorem"}),i.jsxs(ue,{title:"Inscribed Angle Theorem (Euclid III.20)",children:[i.jsx("p",{children:"An inscribed angle is half the central angle that subtends the same arc."}),i.jsx("p",{className:"mt-2",children:"Equivalently: All inscribed angles subtending the same arc are equal."})]}),i.jsx("p",{children:i.jsx("strong",{children:"Proof (Case 1: Center lies on one side)"})}),i.jsx("p",{children:"Consider an inscribed angle BAC where the center O lies on one of the sides, say AC. Draw the radius OB."}),i.jsx("p",{children:"Since OA = OB (both radii), triangle OAB is isosceles. Therefore OAB = OBA =  (say)."}),i.jsx("p",{children:"The central angle BOC is an exterior angle of triangle OAB, so:"}),i.jsx(Y,{children:"\\angle BOC = \\angle OAB + \\angle OBA = \\alpha + \\alpha = 2\\alpha"}),i.jsx("p",{children:"Thus the inscribed angle  is half the central angle. "}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"General Case:"})," When the center doesn't lie on either side of the inscribed angle, we draw a diameter through the vertex and apply the result to each half separately."]}),i.jsx("h3",{children:"Corollary: Angles on the Same Arc"}),i.jsx(ue,{title:"Equal Inscribed Angles",children:i.jsx("p",{children:"All inscribed angles subtending the same arc are equal."})}),i.jsx("p",{children:"This follows immediately because each inscribed angle is half of the same central angle."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Visualization"}),i.jsx("p",{className:"text-slate-300",children:"Imagine fixing two points A and B on a circle. As a third point C moves along the arc on one side of AB, the angle ACB remains constant! This invariance is the key geometric insight."})]}),i.jsx("h3",{children:"Thales' Circle Theorem"}),i.jsx("p",{children:"A special case of enormous importance occurs when the inscribed angle subtends a diameter:"}),i.jsxs(ue,{title:"Thales' Circle Theorem (Euclid III.31)",children:[i.jsx("p",{children:"An angle inscribed in a semicircle is a right angle."}),i.jsx(Y,{children:"\\text{If } AB \\text{ is a diameter and } C \\text{ is on the circle, then } \\angle ACB = 90"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," The central angle subtending a diameter is 180 (a straight line through the center). By the inscribed angle theorem, the inscribed angle is half of 180, which is 90. "]}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"Historical Note:"}),` This theorem is attributed to Thales of Miletus and is sometimes called "Thales' theorem" (distinct from the proportionality theorem we proved earlier). Legend says Thales sacrificed an ox to the gods in gratitude for this discovery!`]}),i.jsx("h3",{children:"The Converse"}),i.jsx("p",{children:"The converse of Thales' circle theorem is equally important:"}),i.jsx(ue,{title:"Converse of Thales' Circle Theorem",children:i.jsx("p",{children:"If ACB = 90, then C lies on the circle with diameter AB."})}),i.jsx("p",{children:"This means the locus of points from which a segment AB subtends a right angle is exactly the circle with AB as diameter."}),i.jsx("h3",{children:"Applications"}),i.jsxs("div",{className:"space-y-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-blue-500",children:[i.jsx("h4",{className:"font-semibold text-blue-400",children:"Constructing Right Angles"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Given a point P and a line L, we can construct a perpendicular from P to L by using a semicircle."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h4",{className:"font-semibold text-green-400",children:"Finding Circle Centers"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"If we have three points on a circle, we can find the center by constructing perpendicular bisectors."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-yellow-500",children:[i.jsx("h4",{className:"font-semibold text-yellow-400",children:"Square Root Construction"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Thales' theorem provides a method to construct the geometric mean (and hence square roots), which we'll see in the next section."})]})]}),i.jsx("h3",{children:"Cyclic Quadrilaterals"}),i.jsxs("p",{children:["A quadrilateral whose vertices all lie on a circle is called",i.jsx("strong",{children:"cyclic"}),". The inscribed angle theorem gives us:"]}),i.jsxs(ue,{title:"Cyclic Quadrilateral Theorem",children:[i.jsx("p",{children:"In a cyclic quadrilateral, opposite angles sum to 180."}),i.jsx(Y,{children:"\\alpha + \\gamma = 180 \\quad \\text{and} \\quad \\beta + \\delta = 180"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," The opposite angles subtend arcs that together form the entire circle. Since the full circle corresponds to a central angle of 360, the sum of the two inscribed angles is 180. "]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.7.1"}),i.jsx("p",{className:"text-slate-300",children:"Prove that a parallelogram inscribed in a circle must be a rectangle."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.7.2"}),i.jsx("p",{className:"text-slate-300",children:"Given a circle and a point P outside it, construct the tangent lines from P to the circle using only the properties proved in this section."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.7.3"}),i.jsx("p",{className:"text-slate-300",children:"Prove that if a quadrilateral has opposite angles summing to 180, then it is cyclic."})]}),i.jsx(xA,{className:"my-6"}),i.jsx(Re,{sectionId:12,questions:[],title:"Angles in a Circle Quiz"})]})}function sX(){return i.jsxs(qe,{sectionId:13,children:[i.jsx("h2",{children:"The Pythagorean Theorem Revisited"}),i.jsx("p",{children:"Having developed the theory of similar triangles, we can now give a different proof of the Pythagorean theoremone that many consider more elegant than Euclid's original proof. This approach also leads directly to a fundamental construction: the square root."}),i.jsx("h3",{children:"Similar Triangles in a Right Triangle"}),i.jsx("p",{children:"Consider a right triangle ABC with the right angle at C. Drop the altitude from C to the hypotenuse AB, meeting it at point H."}),i.jsxs(ue,{title:"Altitude Creates Similar Triangles",children:[i.jsx("p",{children:"The altitude from the right angle to the hypotenuse divides the right triangle into two smaller triangles, each similar to the original and to each other."}),i.jsx(Y,{children:"\\triangle ACH \\sim \\triangle ABC \\sim \\triangle CBH"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," In triangle ACH:"]}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"AHC = 90 (by construction)"}),i.jsx("li",{children:"A is shared with triangle ABC"}),i.jsx("li",{children:"Therefore ACH = B (angle sum)"})]}),i.jsx("p",{children:"So triangle ACH has the same angles as triangle ABC, making them similar. The same argument applies to triangle CBH. "}),i.jsx("h3",{children:"Proof of Pythagorean Theorem via Similar Triangles"}),i.jsx("p",{children:"From the similarity ACH  ABC, we get the proportion:"}),i.jsx(Y,{children:"\\frac{AC}{AB} = \\frac{AH}{AC}"}),i.jsx("p",{children:"Cross-multiplying: AC = AB  AH, or b = c  AH."}),i.jsx("p",{children:"From CBH  ABC:"}),i.jsx(Y,{children:"\\frac{BC}{AB} = \\frac{BH}{BC}"}),i.jsx("p",{children:"Cross-multiplying: BC = AB  BH, or a = c  BH."}),i.jsx("p",{children:i.jsx("strong",{children:"Adding these equations:"})}),i.jsx(Y,{children:"a^2 + b^2 = c \\cdot BH + c \\cdot AH = c(AH + BH) = c \\cdot c = c^2"}),i.jsx("p",{children:"This completes the proof. "}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Comparison with Euclid's Proof:"})," While Euclid's proof uses area-shearing arguments, this proof uses the theory of similar triangles and proportions. Both are valid, but the similar triangles proof is often considered more intuitive."]}),i.jsx("h3",{children:"The Geometric Mean"}),i.jsx("p",{children:"The altitude construction reveals another important relationship:"}),i.jsxs(ue,{title:"Altitude as Geometric Mean",children:[i.jsx("p",{children:"The altitude to the hypotenuse is the geometric mean of the two segments it creates."}),i.jsx(Y,{children:"CH^2 = AH \\cdot HB"}),i.jsx("p",{className:"mt-2",children:"Equivalently: CH = (AH  HB)"})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Proof:"})," From the similarity ACH  CBH:"]}),i.jsx(Y,{children:"\\frac{AH}{CH} = \\frac{CH}{HB}"}),i.jsx("p",{children:"Cross-multiplying gives CH = AH  HB. "}),i.jsx("h3",{children:"Constructing Square Roots"}),i.jsx("p",{children:"This geometric mean relationship gives us a powerful construction:"}),i.jsxs(xe,{title:"Square Root Construction",children:[i.jsx("p",{children:"To construct a using straightedge and compass:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsx("li",{children:"Draw a line segment of length a + 1"}),i.jsx("li",{children:"Mark the point dividing it into lengths a and 1"}),i.jsx("li",{children:"Draw a semicircle with this segment as diameter"}),i.jsx("li",{children:"Draw a perpendicular at the dividing point"}),i.jsx("li",{children:"The perpendicular meets the semicircle at height a"})]})]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Why it works:"})," By Thales' theorem, the triangle formed has a right angle at the top of the perpendicular. By the geometric mean theorem, the height h satisfies h = a  1 = a, so h = a."]}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"Significance:"})," This construction shows that square roots of integers are constructible with straightedge and compass. This is the key to understanding which lengths can be constructed and which cannot."]}),i.jsx("h3",{children:"The Regular Pentagon Revisited"}),i.jsx("p",{children:"With the square root construction, we can now understand why the regular pentagon is constructible. Recall from Chapter 1 that constructing a pentagon requires the golden ratio  = (1 + 5)/2."}),i.jsx("p",{children:"Since 5 is constructible (take a = 5 in our construction), and we can add 1 and divide by 2, the golden ratio  is constructible. Therefore the regular pentagon is constructible. "}),i.jsx("h3",{children:"Constructible Numbers"}),i.jsxs("p",{children:["A number is ",i.jsx("strong",{children:"constructible"})," if a segment of that length can be created starting from a unit segment using only straightedge and compass."]}),i.jsxs(ue,{title:"Constructible Numbers Form a Field",children:[i.jsx("p",{children:"If a and b are constructible, then so are:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 mt-2",children:[i.jsx("li",{children:"a + b and a - b (addition and subtraction)"}),i.jsx("li",{children:"a  b and a/b (multiplication and division)"}),i.jsx("li",{children:"a (if a > 0)"})]})]}),i.jsx("p",{children:"We've seen constructions for all of these operations:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Addition/Subtraction:"})," Copying segments along a line"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Multiplication:"})," Using similar triangles (Thales)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Division:"})," Using similar triangles (inverse of multiplication)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Square root:"})," The semicircle construction above"]})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.8.1"}),i.jsx("p",{className:"text-slate-300",children:"Construct 3 using straightedge and compass. Verify your construction by measuring."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.8.2"}),i.jsx("p",{className:"text-slate-300",children:"Show how to construct a segment of length (a + b) given segments of lengths a and b."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.8.3"}),i.jsx("p",{className:"text-slate-300",children:"Prove that if a is constructible, then so is a (the fourth root). Hint: Apply the square root construction twice."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 2.8.4"}),i.jsx("p",{className:"text-slate-300",children:"Using the fact that  =  + 1, show that 1/ =  - 1 and construct a segment of length 1/."})]}),i.jsx(xA,{className:"my-6"}),i.jsx(Re,{sectionId:13,questions:[],title:"Pythagorean Theorem Revisited Quiz"})]})}function rX(){return i.jsxs(qe,{sectionId:14,children:[i.jsx("h2",{children:"Discussion"}),i.jsx("p",{children:"Having explored Euclid's axiomatic approach to geometry, it's worth reflecting on the foundations of his system and how our understanding of axiomatics has evolved over the past two millennia."}),i.jsx("h3",{children:"Gaps in Euclid"}),i.jsxs("p",{children:["While Euclid's ",i.jsx("em",{children:"Elements"})," was the gold standard of mathematical rigor for over 2000 years, modern mathematicians have identified some logical gaps. Euclid sometimes assumes properties that aren't stated in his axioms, such as:"]}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"That lines and circles actually intersect when they appear to"}),i.jsx("li",{children:'The concept of "betweenness" (when is a point between two others?)'}),i.jsx("li",{children:"The continuity of geometric objects"})]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Example:"}),' In the very first proposition (constructing an equilateral triangle), Euclid draws two circles and claims they intersect. But this requires an axiom about continuitythe circles might "pass through" each other without meeting!']}),i.jsx("h3",{children:"Hilbert's Axioms"}),i.jsxs("p",{children:["In 1899, David Hilbert published ",i.jsx("em",{children:"Foundations of Geometry"}),", which gave a complete and rigorous axiom system for Euclidean geometry. Hilbert's system has 20 axioms organized into five groups:"]}),i.jsxs("div",{className:"space-y-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-blue-500",children:[i.jsx("h4",{className:"font-semibold text-blue-400",children:"I. Incidence Axioms (8 axioms)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:'These govern the relationships between points, lines, and planes. For example: "Two distinct points determine a unique line."'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h4",{className:"font-semibold text-green-400",children:"II. Order Axioms (4 axioms)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:'These formalize "betweenness"when a point lies between two others. This concept was used implicitly by Euclid but never defined.'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-yellow-500",children:[i.jsx("h4",{className:"font-semibold text-yellow-400",children:"III. Congruence Axioms (5 axioms)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"These include the SAS axiom and related properties of congruence for segments and angles."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-pink-500",children:[i.jsx("h4",{className:"font-semibold text-pink-400",children:"IV. Parallel Axiom (1 axiom)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Playfair's axiom: Given a line and a point not on it, there exists exactly one parallel through that point."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-purple-500",children:[i.jsx("h4",{className:"font-semibold text-purple-400",children:"V. Continuity Axioms (2 axioms)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:'These include the Archimedean axiom (no segment is infinitely large or small) and a completeness axiom ensuring no "gaps."'})]})]}),i.jsx("h3",{children:"The Parallel Axiom and Non-Euclidean Geometry"}),i.jsx("p",{children:"For centuries, mathematicians tried to prove the parallel axiom from the other axioms, believing it was a theorem rather than an axiom. All such attempts failed."}),i.jsxs("p",{children:["In the 19th century, Gauss, Bolyai, and Lobachevsky independently discovered that the parallel axiom is ",i.jsx("em",{children:"independent"}),"it cannot be proved from the other axioms. This led to:"]}),i.jsx(xe,{title:"Non-Euclidean Geometries",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Hyperbolic geometry:"})," Given a line and a point, there are ",i.jsx("em",{children:"infinitely many"})," parallels through the point. The angle sum of a triangle is less than 180."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Spherical geometry:"})," There are ",i.jsx("em",{children:"no"})," parallel lines (all great circles intersect). The angle sum of a triangle is greater than 180."]})]})}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"Physical Implications:"})," Einstein's general relativity shows that the geometry of spacetime is actually non-Euclidean! The presence of mass causes space to curve, making hyperbolic or spherical geometry more accurate descriptions of the universe than Euclidean geometry."]}),i.jsx("h3",{children:"The Axiomatic Method"}),i.jsx("p",{children:"Hilbert's work established the modern axiomatic method:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"Undefined terms (point, line, plane) that get meaning from the axioms"}),i.jsx("li",{children:"Axioms that describe relationships between undefined terms"}),i.jsx("li",{children:"Theorems that follow logically from the axioms"}),i.jsx("li",{children:"Questions of consistency and independence"})]}),i.jsxs(ue,{title:"Hilbert's Philosophy",children:[i.jsx("p",{children:'"One must be able to say at all timesinstead of points, lines, and planestables, chairs, and beer mugs."'}),i.jsx("p",{className:"mt-2 text-sm text-slate-400",children:" David Hilbert"})]}),i.jsx("p",{children:"This quote captures the essence of formal axiomatics: the meaning of geometric terms comes entirely from how they relate to each other through the axioms, not from our intuitive notions."}),i.jsx("h3",{children:"Looking Ahead"}),i.jsx("p",{children:"In the chapters that follow, we will explore three more approaches to geometry:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Coordinates (Chapter 3):"})," Using algebra to describe geometry, leading to analytic geometry."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Vectors (Chapter 4):"})," A hybrid of algebra and geometry with powerful applications."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Projective geometry (Chapter 5):"})," The geometry of perspective and projection."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Transformations (Chapter 7-8):"})," Understanding geometry through symmetry and groups."]})]}),i.jsx("p",{children:"Each approach offers different insights and techniques, but they all describe the same underlying geometric reality. Understanding how these perspectives connect is one of the great achievements of modern mathematics."}),i.jsx("h3",{children:"Recommended Reading"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-300",children:[i.jsxs("li",{children:["Hilbert, D. ",i.jsx("em",{children:"Foundations of Geometry"})," (1899)"]}),i.jsxs("li",{children:["Hartshorne, R. ",i.jsx("em",{children:"Geometry: Euclid and Beyond"})," (2000)"]}),i.jsxs("li",{children:["Greenberg, M. ",i.jsx("em",{children:"Euclidean and Non-Euclidean Geometries"})," (2008)"]}),i.jsxs("li",{children:["Heath's translation of Euclid's ",i.jsx("em",{children:"Elements"})," with commentary"]})]})}),i.jsx(Re,{sectionId:14,questions:[],title:"Chapter 2 Discussion Quiz"})]})}function aX(){return i.jsxs(qe,{sectionId:15,children:[i.jsx("h2",{children:"The Number Line and the Number Plane"}),i.jsxs("p",{children:["Around 1630, Pierre de Fermat and Ren Descartes independently discovered the advantages of using numbers in geometry as ",i.jsx("strong",{children:"coordinates"}),". Descartes was the first to publish a detailed account in his book",i.jsx("em",{children:" Gomtrie"})," of 1637. For this reason, the coordinate approach to geometry became known as ",i.jsx("strong",{children:"Cartesian"})," (from the old way of writing his name: Des Cartes)."]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Historical Note:"}),' Descartes initially thought that geometry was as Euclid described it, and that numbers merely assist in studying geometric figures. But later mathematicians discovered objects with "non-Euclidean" properties, making it desirable to ',i.jsx("em",{children:"define"})," points, lines, and length, and to ",i.jsx("em",{children:"prove"})," that they satisfy Euclid's axioms."]}),i.jsx("h3",{children:"The Number Line"}),i.jsxs("p",{children:["The set  of real numbers results from filling the gaps in the set  of rational numbers with irrational numbers, such as 2. This innovation enables us to consider  as a ",i.jsx("strong",{children:"line"}),", because it has no gaps and the numbers in it are ordered just as we imagine points on a line to be."]}),i.jsx(xe,{title:"The Number Line",children:i.jsxs("p",{children:["We say that , together with its ordering, is a ",i.jsx("strong",{children:"model"}),` of the line. One of our goals is to use  to build a model for all of Euclidean plane geometry: a structure containing "lines," "circles," "line segments," and so on, with all of the properties required by Euclid's or Hilbert's axioms.`]})}),i.jsx("h3",{children:"Building the Number Plane"}),i.jsxs("p",{children:[`The first step is to build the "plane," and in this we are guided by the properties of parallels in Euclid's geometry. We imagine a pair of perpendicular lines, called the `,i.jsx("strong",{children:"x-axis"})," and the",i.jsx("strong",{children:" y-axis"}),", intersecting at a point O called the",i.jsx("strong",{children:" origin"}),"."]}),i.jsx("p",{children:"We interpret the axes as number lines, with O the number 0 on each, and we assume that:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsxs("li",{children:["The positive direction on the x-axis is to the ",i.jsx("strong",{children:"right"})]}),i.jsxs("li",{children:["The positive direction on the y-axis is ",i.jsx("strong",{children:"upward"})]})]}),i.jsx("h3",{children:"Coordinates of a Point"}),i.jsxs("p",{children:["Through any point P, there is (by the parallel axiom) a unique line parallel to the y-axis and a unique line parallel to the x-axis. These two lines meet the x-axis and y-axis at numbers ",i.jsx("em",{children:"a"})," and ",i.jsx("em",{children:"b"})," called the ",i.jsx("strong",{children:"x-coordinate"})," and ",i.jsx("strong",{children:"y-coordinate"})," of P, respectively."]}),i.jsxs(xe,{title:"Ordered Pairs",children:[i.jsxs("p",{children:["To keep the x-coordinate ",i.jsx("em",{children:"a"})," and the y-coordinate ",i.jsx("em",{children:"b"})," in their places, we use the ",i.jsx("strong",{children:"ordered pair"})," (a, b). For example:"]}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[i.jsx("li",{children:"(3, 4) is the point with x-coordinate = 3 and y-coordinate = 4"}),i.jsxs("li",{children:["(4, 3) is a ",i.jsx("em",{children:"different"})," point with x-coordinate = 4 and y-coordinate = 3"]})]}),i.jsx("p",{className:"mt-2",children:"Just as the intersection of 3rd Street and 4th Avenue is different from the intersection of 4th Street and 3rd Avenue!"})]}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"Uniqueness:"})," The ordered pair (a, b) specifies P uniquely because any other point will have at least one different parallel passing through it and hence will differ from P in either the x- or y-coordinate."]}),i.jsx("h3",{children:"The Number Plane "}),i.jsxs("p",{children:["Given the existence of a number line  whose points are real numbers, we also have a ",i.jsx("strong",{children:"number plane"})," whose points are ordered pairs of real numbers."]}),i.jsxs(xe,{title:"The Cartesian Plane",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"Cartesian plane"})," (or ",i.jsx("strong",{children:"number plane"}),") is the set of all ordered pairs of real numbers:"]}),i.jsx(Y,{children:"\\mathbb{R}^2 = \\{(x, y) : x, y \\in \\mathbb{R}\\}"}),i.jsx("p",{className:"mt-2",children:"We often write this as    or simply ."})]}),i.jsx("h3",{children:"The Power of Coordinates"}),i.jsxs("p",{children:["This program of building geometry from numbers is called the",i.jsx("strong",{children:" arithmetization of geometry"}),". It accomplishes much:"]}),i.jsxs("div",{className:"space-y-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-blue-500",children:[i.jsx("h4",{className:"font-semibold text-blue-400",children:"Algebraic Description"}),i.jsxs("p",{className:"text-slate-300 mt-2",children:["It gives an algebraic description of constructibility by straightedge and compass, which makes it possible to prove that certain figures are ",i.jsx("em",{children:"not"})," constructible."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h4",{className:"font-semibold text-green-400",children:"Motion and Transformations"}),i.jsx("p",{className:"text-slate-300 mt-2",children:`It enables us to define what it means to "move" a geometric figure, which provides justification for Euclid's proof of SAS and raises a new kind of geometric question: What kinds of "motion" exist?`})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-yellow-500",children:[i.jsx("h4",{className:"font-semibold text-yellow-400",children:"Access to Algebra"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"One clear advantage is access to algebra, which reduces many geometric problems to simple calculations. Algebra also offers some conceptual advantages, as we will see."})]})]}),i.jsx(ue,{title:"The Foundation",children:i.jsxs("p",{children:["By defining points, lines, and circles using real numbers and equations, we can ",i.jsx("em",{children:"prove"})," that all of Euclid's axioms are satisfied. This shows that geometry follows from properties of the real numbers."]})}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.1.1"}),i.jsx("p",{className:"text-slate-300",children:"Plot the following points on the coordinate plane: (2, 3), (-1, 4), (0, -2), and (-3, -1). In which quadrant does each point lie?"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.1.2"}),i.jsx("p",{className:"text-slate-300",children:"Explain why the point (a, b) is different from the point (b, a) when a  b. Give a specific example."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.1.3"}),i.jsx("p",{className:"text-slate-300",children:"What are the coordinates of the origin? What are the coordinates of a point on the positive x-axis? On the negative y-axis?"})]}),i.jsx(Re,{sectionId:15,questions:Xe[15]||[],title:"Number Line and Plane Quiz"})]})}function lX({className:t=""}){const e=q.useRef(null),[n,s]=q.useState({x:1,y:2}),[r,a]=q.useState({x:4,y:6}),[l,o]=q.useState(!0),[c,h]=q.useState(!0),[u,f]=q.useState(null),x=480,b=400,M=40,y=60,T=b-60,S=(A,w)=>[y+A*M,T-w*M],N=(A,w)=>({x:(A-y)/M,y:(T-w)/M}),j=Math.sqrt((r.x-n.x)**2+(r.y-n.y)**2),m={x:(n.x+r.x)/2,y:(n.y+r.y)/2},g=r.x!==n.x?(r.y-n.y)/(r.x-n.x):1/0;q.useEffect(()=>{const A=e.current;if(!A)return;const w=A.getContext("2d");if(!w)return;w.fillStyle="#0f172a",w.fillRect(0,0,x,b),w.strokeStyle="#1e293b",w.lineWidth=1;for(let B=0;B<=10;B++){const[G]=S(B,0);w.beginPath(),w.moveTo(G,20),w.lineTo(G,T+20),w.stroke()}for(let B=0;B<=8;B++){const[,G]=S(0,B);w.beginPath(),w.moveTo(y-20,G),w.lineTo(x-20,G),w.stroke()}w.strokeStyle="#64748b",w.lineWidth=2,w.beginPath(),w.moveTo(y-20,T),w.lineTo(x-20,T),w.stroke(),w.beginPath(),w.moveTo(y,T+20),w.lineTo(y,20),w.stroke(),w.fillStyle="#94a3b8",w.font="12px sans-serif";for(let B=1;B<=9;B++){const[G]=S(B,0);w.fillText(B.toString(),G-4,T+18)}for(let B=1;B<=7;B++){const[,G]=S(0,B);w.fillText(B.toString(),y-18,G+4)}w.fillText("x",x-30,T+18),w.fillText("y",y-5,30);const[k,D]=S(n.x,n.y),[I,$]=S(r.x,r.y);if(l&&g!==1/0){w.strokeStyle="rgba(167, 139, 250, 0.5)",w.lineWidth=1;const B=n.y-g*n.x,[G,V]=S(0,B),[J,ee]=S(10,g*10+B);w.beginPath(),w.moveTo(G,V),w.lineTo(J,ee),w.stroke()}if(w.strokeStyle="#a78bfa",w.lineWidth=2,w.beginPath(),w.moveTo(k,D),w.lineTo(I,$),w.stroke(),w.strokeStyle="#22d3ee",w.lineWidth=1,w.setLineDash([5,5]),w.beginPath(),w.moveTo(k,D),w.lineTo(I,D),w.stroke(),w.strokeStyle="#f472b6",w.beginPath(),w.moveTo(I,D),w.lineTo(I,$),w.stroke(),w.setLineDash([]),w.font="11px sans-serif",w.fillStyle="#22d3ee",w.fillText(`run = ${(r.x-n.x).toFixed(1)}`,(k+I)/2-25,D+15),w.fillStyle="#f472b6",w.fillText(`rise = ${(r.y-n.y).toFixed(1)}`,I+5,(D+$)/2),c){const[B,G]=S(m.x,m.y);w.fillStyle="#fbbf24",w.beginPath(),w.arc(B,G,6,0,Math.PI*2),w.fill(),w.fillStyle="#fbbf24",w.font="11px sans-serif",w.fillText("M",B+10,G-5)}w.fillStyle="#f472b6",w.beginPath(),w.arc(k,D,8,0,Math.PI*2),w.fill(),w.fillStyle="#fce7f3",w.font="bold 12px sans-serif",w.fillText("A",k-4,D+4),w.fillStyle="#22d3ee",w.beginPath(),w.arc(I,$,8,0,Math.PI*2),w.fill(),w.fillStyle="#cffafe",w.font="bold 12px sans-serif",w.fillText("B",I-4,$+4),w.fillStyle="#94a3b8",w.font="11px sans-serif",w.fillText("Drag points A and B",10,20)},[n,r,l,c,g,m]);const E=A=>{var V;const w=(V=e.current)==null?void 0:V.getBoundingClientRect();if(!w)return;const k=A.clientX-w.left,D=A.clientY-w.top,[I,$]=S(n.x,n.y),[B,G]=S(r.x,r.y);Math.hypot(k-I,D-$)<15?f(1):Math.hypot(k-B,D-G)<15&&f(2)},v=A=>{var $;if(!u)return;const w=($=e.current)==null?void 0:$.getBoundingClientRect();if(!w)return;const k=A.clientX-w.left,D=A.clientY-w.top;let I=N(k,D);I.x=Math.round(I.x*2)/2,I.y=Math.round(I.y*2)/2,I.x=Math.max(0,Math.min(9,I.x)),I.y=Math.max(0,Math.min(7,I.y)),u===1?s(I):a(I)},p=()=>{f(null)};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Coordinate Plane Explorer"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:x,height:b,className:"border border-slate-700 rounded cursor-grab",onMouseDown:E,onMouseMove:v,onMouseUp:p,onMouseLeave:p})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{className:"p-3 bg-slate-800 rounded space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-pink-400",children:"A:"}),i.jsxs("span",{className:"font-mono text-slate-200",children:["(",n.x.toFixed(1),", ",n.y.toFixed(1),")"]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-cyan-400",children:"B:"}),i.jsxs("span",{className:"font-mono text-slate-200",children:["(",r.x.toFixed(1),", ",r.y.toFixed(1),")"]})]})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded space-y-2",children:[i.jsx("div",{className:"text-xs text-slate-400",children:"Slope (rise/run):"}),i.jsx("div",{className:"text-lg font-mono text-purple-400",children:g===1/0?" (vertical)":g.toFixed(3)}),i.jsx("div",{className:"text-xs text-slate-400 mt-2",children:"Distance:"}),i.jsx("div",{className:"text-lg font-mono text-green-400",children:j.toFixed(3)}),c&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-xs text-slate-400 mt-2",children:"Midpoint M:"}),i.jsxs("div",{className:"text-sm font-mono text-yellow-400",children:["(",m.x.toFixed(1),", ",m.y.toFixed(1),")"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:l,onChange:A=>o(A.target.checked),className:"rounded"}),"Show extended line"]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:c,onChange:A=>h(A.target.checked),className:"rounded"}),"Show midpoint"]})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsx("p",{className:"mb-1",children:i.jsx("strong",{children:"Distance formula:"})}),i.jsx("p",{className:"font-mono text-xs",children:"d = [(x) + (y)]"}),i.jsx("p",{className:"mt-2",children:i.jsx("strong",{children:"Slope formula:"})}),i.jsx("p",{className:"font-mono text-xs",children:"m = y/x = rise/run"})]})]})]})]})}function oX({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("reflection"),[r,a]=q.useState(0),l=500,o=400,c=35,h=l/2,u=o/2,f=(y,T)=>[h+y*c,u-T*c],x=[{x:1,y:1},{x:3,y:1},{x:2,y:3}],b=y=>{switch(n){case"reflection":{const T=r,S=Math.cos(2*T),N=Math.sin(2*T);return{x:y.x*S+y.y*N,y:y.x*N-y.y*S}}case"rotation":{const T=Math.cos(r),S=Math.sin(r);return{x:y.x*T-y.y*S,y:y.x*S+y.y*T}}case"translation":return{x:y.x+r*2,y:y.y};case"glide":return{x:y.x+r*2,y:-y.y}}};q.useEffect(()=>{const y=e.current;if(!y)return;const T=y.getContext("2d");if(!T)return;T.fillStyle="#0f172a",T.fillRect(0,0,l,o),T.strokeStyle="#1e293b",T.lineWidth=1;for(let j=-7;j<=7;j++){const[m]=f(j,0);T.beginPath(),T.moveTo(m,0),T.lineTo(m,o),T.stroke()}for(let j=-5;j<=5;j++){const[,m]=f(0,j);T.beginPath(),T.moveTo(0,m),T.lineTo(l,m),T.stroke()}switch(T.strokeStyle="#475569",T.lineWidth=2,T.beginPath(),T.moveTo(0,u),T.lineTo(l,u),T.stroke(),T.beginPath(),T.moveTo(h,0),T.lineTo(h,o),T.stroke(),T.setLineDash([5,5]),T.lineWidth=1.5,n){case"reflection":{T.strokeStyle="#fbbf24";const j=200,[m,g]=f(-j/c*Math.cos(r),-j/c*Math.sin(r)),[E,v]=f(j/c*Math.cos(r),j/c*Math.sin(r));T.beginPath(),T.moveTo(m,g),T.lineTo(E,v),T.stroke();break}case"rotation":{T.strokeStyle="#fbbf24";const[j,m]=f(0,0);T.beginPath(),T.arc(j,m,50,0,-r,r>0),T.stroke(),T.fillStyle="#fbbf24",T.beginPath();const g=-r;T.arc(j+50*Math.cos(g),m+50*Math.sin(g),5,0,Math.PI*2),T.fill();break}case"translation":{T.strokeStyle="#fbbf24";const[j,m]=f(0,-4),[g,E]=f(r*2,-4);T.beginPath(),T.moveTo(j,m),T.lineTo(g,E),T.stroke(),r!==0&&(T.fillStyle="#fbbf24",T.beginPath(),T.arc(g,E,5,0,Math.PI*2),T.fill());break}case"glide":{T.strokeStyle="#fbbf24",T.beginPath(),T.moveTo(0,u),T.lineTo(l,u),T.stroke();const[j,m]=f(0,4),[g,E]=f(r*2,4);T.beginPath(),T.moveTo(j,m),T.lineTo(g,E),T.stroke();break}}T.setLineDash([]);const S=(j,m,g=.3)=>{const E=j.map(v=>f(v.x,v.y));T.fillStyle=m.replace(")",`, ${g})`).replace("rgb","rgba"),T.beginPath(),T.moveTo(E[0][0],E[0][1]);for(let v=1;v<E.length;v++)T.lineTo(E[v][0],E[v][1]);T.closePath(),T.fill(),T.strokeStyle=m,T.lineWidth=2,T.stroke(),E.forEach(([v,p],A)=>{T.fillStyle=m,T.beginPath(),T.arc(v,p,5,0,Math.PI*2),T.fill()})};S(x,"rgb(244, 114, 182)");const N=x.map(b);S(N,"rgb(34, 211, 238)"),T.fillStyle="#f472b6",T.font="12px sans-serif",T.fillText("Original",10,20),T.fillStyle="#22d3ee",T.fillText("Transformed",10,40),T.fillStyle="#fbbf24",T.fillText(n==="reflection"?"Reflection line":n==="rotation"?"Rotation":n==="translation"?"Translation vector":"Glide reflection",10,60)},[n,r]);const M=()=>{switch(n){case"reflection":return`Line angle: ${(r*180/Math.PI).toFixed(0)}`;case"rotation":return`Rotation: ${(r*180/Math.PI).toFixed(0)}`;case"translation":return`Translation: ${(r*2).toFixed(1)} units`;case"glide":return`Glide: ${(r*2).toFixed(1)} units`}};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Isometry Transformations"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:l,height:o,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Transform Type"}),i.jsxs("select",{value:n,onChange:y=>{s(y.target.value),a(0)},className:"w-full px-2 py-1.5 bg-slate-800 border border-slate-600 rounded text-slate-200 text-sm",children:[i.jsx("option",{value:"reflection",children:"Reflection"}),i.jsx("option",{value:"rotation",children:"Rotation"}),i.jsx("option",{value:"translation",children:"Translation"}),i.jsx("option",{value:"glide",children:"Glide Reflection"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:M()}),i.jsx("input",{type:"range",min:n==="rotation"||n==="reflection"?-Math.PI:-2,max:n==="rotation"||n==="reflection"?Math.PI:2,step:"0.05",value:r,onChange:y=>a(parseFloat(y.target.value)),className:"w-full"})]}),i.jsx("button",{onClick:()=>a(0),className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Reset"}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-green-400 mb-2",children:"Isometry Properties"}),i.jsxs("ul",{className:"text-xs text-slate-300 space-y-1",children:[i.jsx("li",{children:" Preserves distances"}),i.jsx("li",{children:" Preserves angles"}),i.jsx("li",{children:n==="reflection"||n==="glide"?" Reverses orientation":" Preserves orientation"})]})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Original triangle"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," Transformed"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," Transform axis"]})]})]})]})]})}function cX({className:t=""}){const e=q.useRef(null),[n,s]=q.useState({x:100,y:250}),[r,a]=q.useState({x:300,y:100}),[l,o]=q.useState(null),[c,h]=q.useState(!1),[u,f]=q.useState(!1),x=500,b=400,M=N=>({x:(N.x-50)/40,y:(350-N.y)/40});q.useEffect(()=>{const N=e.current;if(!N)return;const j=N.getContext("2d");if(!j)return;j.fillStyle="#0f172a",j.fillRect(0,0,x,b),j.strokeStyle="#1e293b",j.lineWidth=1;for(let A=0;A<=10;A++){const w=50+A*40,k=350-A*40;j.beginPath(),j.moveTo(w,0),j.lineTo(w,b),j.stroke(),j.beginPath(),j.moveTo(0,k),j.lineTo(x,k),j.stroke()}j.strokeStyle="#475569",j.lineWidth=2,j.beginPath(),j.moveTo(50,0),j.lineTo(50,b),j.stroke(),j.beginPath(),j.moveTo(0,350),j.lineTo(x,350),j.stroke(),j.fillStyle="#94a3b8",j.font="12px sans-serif";for(let A=1;A<=10;A++)j.fillText(A.toString(),50+A*40-4,365),j.fillText(A.toString(),30,350-A*40+4);j.fillText("x",x-15,365),j.fillText("y",55,15);const m=M(n),g=M(r),E=g.x-m.x,v=g.y-m.y,p=Math.sqrt(E*E+v*v);if(c&&(j.strokeStyle="#34d399",j.lineWidth=2,j.setLineDash([5,5]),j.beginPath(),j.arc(n.x,n.y,p*40,0,Math.PI*2),j.stroke(),j.setLineDash([])),u){const A=(n.x+r.x)/2,w=(n.y+r.y)/2,k=-(r.y-n.y),D=r.x-n.x,I=Math.sqrt(k*k+D*D);j.strokeStyle="#c084fc",j.lineWidth=2,j.beginPath(),j.moveTo(A-k/I*300,w-D/I*300),j.lineTo(A+k/I*300,w+D/I*300),j.stroke(),j.fillStyle="#c084fc",j.beginPath(),j.arc(A,w,5,0,Math.PI*2),j.fill()}j.strokeStyle="#64748b",j.lineWidth=1,j.setLineDash([3,3]),j.beginPath(),j.moveTo(n.x,n.y),j.lineTo(r.x,n.y),j.lineTo(r.x,r.y),j.stroke(),j.setLineDash([]),j.fillStyle="#60a5fa",j.font="12px sans-serif",j.fillText(`x = ${E.toFixed(2)}`,(n.x+r.x)/2-25,n.y+20),j.fillStyle="#f472b6",j.fillText(`y = ${Math.abs(v).toFixed(2)}`,r.x+10,(n.y+r.y)/2),j.strokeStyle="#fbbf24",j.lineWidth=3,j.beginPath(),j.moveTo(n.x,n.y),j.lineTo(r.x,r.y),j.stroke(),j.fillStyle="#22d3ee",j.beginPath(),j.arc(n.x,n.y,8,0,Math.PI*2),j.fill(),j.fillStyle="#f472b6",j.beginPath(),j.arc(r.x,r.y,8,0,Math.PI*2),j.fill(),j.fillStyle="#e2e8f0",j.font="bold 14px sans-serif",j.fillText(`P(${m.x.toFixed(1)}, ${m.y.toFixed(1)})`,n.x-30,n.y+25),j.fillText(`P(${g.x.toFixed(1)}, ${g.y.toFixed(1)})`,r.x-30,r.y-15),j.fillStyle="#0f172a",j.fillRect(x-200,10,190,80),j.strokeStyle="#334155",j.strokeRect(x-200,10,190,80),j.fillStyle="#fbbf24",j.font="bold 13px sans-serif",j.fillText("Distance Formula:",x-190,30),j.fillStyle="#e2e8f0",j.font="12px sans-serif",j.fillText("d = ((x) + (y))",x-190,50),j.fillText(`d = (${E.toFixed(2)} + ${v.toFixed(2)})`,x-190,68),j.fillStyle="#34d399",j.font="bold 14px sans-serif",j.fillText(`d = ${p.toFixed(3)}`,x-190,86),j.fillStyle="#94a3b8",j.font="11px sans-serif",j.fillText("Drag points to explore distance",10,b-10)},[n,r,c,u]);const y=N=>{var E;const j=(E=e.current)==null?void 0:E.getBoundingClientRect();if(!j)return;const m=N.clientX-j.left,g=N.clientY-j.top;Math.hypot(m-n.x,g-n.y)<15?o("p1"):Math.hypot(m-r.x,g-r.y)<15&&o("p2")},T=N=>{var E;if(!l)return;const j=(E=e.current)==null?void 0:E.getBoundingClientRect();if(!j)return;const m=Math.max(50,Math.min(x-10,N.clientX-j.left)),g=Math.max(10,Math.min(350,N.clientY-j.top));l==="p1"?s({x:m,y:g}):a({x:m,y:g})},S=()=>{o(null)};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Distance Formula Explorer"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:x,height:b,className:"border border-slate-700 rounded cursor-grab",onMouseDown:y,onMouseMove:T,onMouseUp:S,onMouseLeave:S})}),i.jsxs("div",{className:"w-full md:w-48 space-y-3",children:[i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-yellow-400 mb-2",children:"Pythagorean Theorem"}),i.jsx("p",{className:"text-xs text-slate-300",children:"Distance = (x + y)"}),i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"The hypotenuse of the right triangle formed by horizontal and vertical displacements."})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:c,onChange:N=>h(N.target.checked),className:"rounded"}),"Show circle (radius = d)"]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:u,onChange:N=>f(N.target.checked),className:"rounded"}),"Show perpendicular bisector"]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," Point P"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Point P"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," Distance"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-green-400",children:"Green:"})," Circle"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-purple-400",children:"Purple:"})," Bisector"]})]})]})]})]})}function hX({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("translation"),[r,a]=q.useState(2),[l,o]=q.useState(1),[c,h]=q.useState(45),[u,f]=q.useState(!0),x=500,b=400,M=250,y=200,T=30,S=[{x:-2,y:0},{x:0,y:3},{x:1,y:0}],N=m=>({x:M+m.x*T,y:y-m.y*T}),j=m=>{switch(n){case"translation":return{x:m.x+r,y:m.y+l};case"rotation":{const g=c*Math.PI/180,E=Math.cos(g),v=Math.sin(g);return{x:m.x*E-m.y*v,y:m.x*v+m.y*E}}case"reflection":return{x:m.x,y:-m.y};case"glide":return{x:m.x+r,y:-m.y};default:return m}};return q.useEffect(()=>{const m=e.current;if(!m)return;const g=m.getContext("2d");if(!g)return;g.fillStyle="#0f172a",g.fillRect(0,0,x,b),g.strokeStyle="#1e293b",g.lineWidth=1;for(let w=-8;w<=8;w++){const k=M+w*T,D=y-w*T;g.beginPath(),g.moveTo(k,0),g.lineTo(k,b),g.stroke(),g.beginPath(),g.moveTo(0,D),g.lineTo(x,D),g.stroke()}if(g.strokeStyle="#475569",g.lineWidth=2,g.beginPath(),g.moveTo(M,0),g.lineTo(M,b),g.stroke(),g.beginPath(),g.moveTo(0,y),g.lineTo(x,y),g.stroke(),g.fillStyle="#94a3b8",g.beginPath(),g.arc(M,y,4,0,Math.PI*2),g.fill(),g.font="12px sans-serif",g.fillText("O",M+8,y+15),(n==="reflection"||n==="glide")&&(g.strokeStyle="#c084fc",g.lineWidth=2,g.setLineDash([5,5]),g.beginPath(),g.moveTo(0,y),g.lineTo(x,y),g.stroke(),g.setLineDash([]),g.fillStyle="#c084fc",g.font="11px sans-serif",g.fillText("reflection line (y = 0)",10,y-10)),u){g.strokeStyle="#60a5fa",g.fillStyle="rgba(96, 165, 250, 0.2)",g.lineWidth=2,g.beginPath();const w=N(S[0]);g.moveTo(w.x,w.y);for(let k=1;k<S.length;k++){const D=N(S[k]);g.lineTo(D.x,D.y)}g.closePath(),g.fill(),g.stroke(),S.forEach((k,D)=>{const I=N(k);g.fillStyle="#60a5fa",g.beginPath(),g.arc(I.x,I.y,4,0,Math.PI*2),g.fill(),g.fillStyle="#e2e8f0",g.font="11px sans-serif",g.fillText(String.fromCharCode(65+D),I.x+6,I.y-6)})}const E=S.map(j);g.strokeStyle="#f472b6",g.fillStyle="rgba(244, 114, 182, 0.2)",g.lineWidth=2,g.beginPath();const v=N(E[0]);g.moveTo(v.x,v.y);for(let w=1;w<E.length;w++){const k=N(E[w]);g.lineTo(k.x,k.y)}if(g.closePath(),g.fill(),g.stroke(),E.forEach((w,k)=>{const D=N(w);g.fillStyle="#f472b6",g.beginPath(),g.arc(D.x,D.y,4,0,Math.PI*2),g.fill(),g.fillStyle="#e2e8f0",g.font="11px sans-serif",g.fillText(String.fromCharCode(65+k)+"'",D.x+6,D.y-6)}),n==="rotation"&&(g.strokeStyle="#fbbf24",g.lineWidth=1,g.setLineDash([3,3]),g.beginPath(),g.arc(M,y,40,0,-c*Math.PI/180,!0),g.stroke(),g.setLineDash([]),g.fillStyle="#fbbf24",g.fillText(`${c}`,M+45,y-10)),n==="translation"||n==="glide"){g.strokeStyle="#34d399",g.lineWidth=2,g.beginPath(),g.moveTo(M,y),g.lineTo(M+r*T,n==="glide"?y:y-l*T),g.stroke();const w=M+r*T,k=n==="glide"?y:y-l*T,D=Math.atan2(y-k,w-M);g.beginPath(),g.moveTo(w,k),g.lineTo(w-10*Math.cos(D-.3),k+10*Math.sin(D-.3)),g.lineTo(w-10*Math.cos(D+.3),k+10*Math.sin(D+.3)),g.closePath(),g.fillStyle="#34d399",g.fill()}g.fillStyle="#0f172a",g.fillRect(10,10,180,45),g.strokeStyle="#334155",g.strokeRect(10,10,180,45),g.fillStyle="#f472b6",g.font="bold 14px sans-serif";const p={translation:"Translation",rotation:"Rotation",reflection:"Reflection",glide:"Glide Reflection"};g.fillText(p[n],20,30),g.fillStyle="#94a3b8",g.font="11px sans-serif";const A={translation:`(x, y)  (x + ${r}, y + ${l})`,rotation:"(x, y)  (x cos  - y sin , ...)",reflection:"(x, y)  (x, -y)",glide:`(x, y)  (x + ${r}, -y)`};g.fillText(A[n],20,48)},[n,r,l,c,u]),i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Isometries of the Plane"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:x,height:b,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm text-slate-300 font-medium",children:"Isometry Type:"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:["translation","rotation","reflection","glide"].map(m=>i.jsx("button",{onClick:()=>s(m),className:`px-2 py-1.5 text-xs rounded ${n===m?"bg-pink-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:m.charAt(0).toUpperCase()+m.slice(1)},m))})]}),(n==="translation"||n==="glide")&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm text-slate-300",children:["Translation: (",r,", ",n==="glide"?0:l,")"]}),i.jsx("input",{type:"range",min:"-4",max:"4",step:"0.5",value:r,onChange:m=>a(parseFloat(m.target.value)),className:"w-full"}),n==="translation"&&i.jsx("input",{type:"range",min:"-4",max:"4",step:"0.5",value:l,onChange:m=>o(parseFloat(m.target.value)),className:"w-full"})]}),n==="rotation"&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm text-slate-300",children:["Angle: ",c,""]}),i.jsx("input",{type:"range",min:"0",max:"360",step:"15",value:c,onChange:m=>h(parseInt(m.target.value)),className:"w-full"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:u,onChange:m=>f(m.target.checked),className:"rounded"}),"Show original"]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded text-xs",children:[i.jsxs("p",{className:"text-slate-300 mb-2",children:[i.jsx("strong",{className:"text-blue-400",children:"Isometries"})," preserve distances between points."]}),i.jsxs("ul",{className:"text-slate-400 space-y-1",children:[i.jsx("li",{children:" Translation: slides all points"}),i.jsx("li",{children:" Rotation: turns about a center"}),i.jsx("li",{children:" Reflection: flips across a line"}),i.jsx("li",{children:" Glide: reflect then translate"})]})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-blue-400",children:"Blue:"})," Original ABC"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Image A'B'C'"]})]})]})]})]})}function uX({className:t=""}){const e=q.useRef(null),[n,s]=q.useState({x:180,y:200}),[r,a]=q.useState({x:320,y:220}),[l,o]=q.useState(100),[c,h]=q.useState(80),[u,f]=q.useState(null),x=550,b=400,M=q.useCallback(N=>{const j=e.current;if(!j)return{x:0,y:0};const m=j.getBoundingClientRect();return{x:N.clientX-m.left,y:N.clientY-m.top}},[]),y=q.useCallback(N=>{const j=M(N),m=Math.sqrt((j.x-n.x)**2+(j.y-n.y)**2),g=Math.sqrt((j.x-r.x)**2+(j.y-r.y)**2);m<20?f("c1"):g<20&&f("c2")},[M,n,r]),T=q.useCallback(N=>{if(!u)return;const j=M(N),m=Math.max(50,Math.min(x-50,j.x)),g=Math.max(50,Math.min(b-50,j.y));u==="c1"?s({x:m,y:g}):u==="c2"&&a({x:m,y:g})},[u,M]),S=q.useCallback(()=>{f(null)},[]);return q.useEffect(()=>{const N=e.current;if(!N)return;const j=N.getContext("2d");if(!j)return;j.fillStyle="#0f172a",j.fillRect(0,0,x,b),j.strokeStyle="#1e293b",j.lineWidth=1;for(let I=0;I<=x;I+=40)j.beginPath(),j.moveTo(I,0),j.lineTo(I,b),j.stroke();for(let I=0;I<=b;I+=40)j.beginPath(),j.moveTo(0,I),j.lineTo(x,I),j.stroke();const m=n,g=r,E=l,v=c,p=g.x-m.x,A=g.y-m.y,w=Math.sqrt(p*p+A*A);j.strokeStyle="#60a5fa",j.lineWidth=2,j.beginPath(),j.arc(m.x,m.y,E,0,Math.PI*2),j.stroke(),j.strokeStyle="#34d399",j.lineWidth=2,j.beginPath(),j.arc(g.x,g.y,v,0,Math.PI*2),j.stroke(),j.fillStyle="#60a5fa",j.beginPath(),j.arc(m.x,m.y,6,0,Math.PI*2),j.fill(),j.font="12px sans-serif",j.fillText("drag",m.x-12,m.y+20),j.fillStyle="#34d399",j.beginPath(),j.arc(g.x,g.y,6,0,Math.PI*2),j.fill(),j.fillText("drag",g.x-12,g.y+20);let k=[],D="";if(w>E+v)D="No intersection (circles too far apart)";else if(w<Math.abs(E-v))D="No intersection (one circle inside the other)";else{const I=(E*E-v*v+w*w)/(2*w),$=Math.sqrt(E*E-I*I),B=m.x+I*p/w,G=m.y+I*A/w,V={x:B+$*(-A/w),y:G+$*(p/w)},J={x:B-$*(-A/w),y:G-$*(p/w)};k=[V,J],Math.abs($)<.1?D="Circles are tangent (1 intersection)":D="2 intersection points found";const ee=J.x-V.x,re=J.y-V.y,se=Math.sqrt(ee*ee+re*re);if(se>.1){const he=500/se;j.strokeStyle="#f472b6",j.lineWidth=2,j.setLineDash([6,4]),j.beginPath(),j.moveTo(V.x-ee*he,V.y-re*he),j.lineTo(V.x+ee*he,V.y+re*he),j.stroke(),j.setLineDash([]),j.fillStyle="#f472b6",j.font="12px sans-serif",j.fillText("Radical Axis",10,30)}k.forEach((he,ae)=>{j.fillStyle="#fbbf24",j.beginPath(),j.arc(he.x,he.y,6,0,Math.PI*2),j.fill(),j.font="italic 14px serif";const Ne=ae===0?"P":"P";j.fillText(Ne,he.x+10,he.y-10)})}j.strokeStyle="#94a3b8",j.lineWidth=1,j.setLineDash([4,4]),j.beginPath(),j.moveTo(m.x,m.y),j.lineTo(g.x,g.y),j.stroke(),j.setLineDash([]),j.fillStyle="#e2e8f0",j.font="14px sans-serif",j.fillText(D,10,b-20),j.font="11px sans-serif",j.fillStyle="#60a5fa",j.fillText(`Circle 1: (x${m.x.toFixed(0)}) + (y${m.y.toFixed(0)}) = ${E}`,10,b-70),j.fillStyle="#34d399",j.fillText(`Circle 2: (x${g.x.toFixed(0)}) + (y${g.y.toFixed(0)}) = ${v}`,10,b-50)},[n,r,l,c]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Circle Intersections"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:x,height:b,className:"border border-slate-700 rounded cursor-pointer",onMouseDown:y,onMouseMove:T,onMouseUp:S,onMouseLeave:S})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-blue-400 mb-1",children:["Circle 1 Radius: ",l]}),i.jsx("input",{type:"range",min:"30",max:"150",value:l,onChange:N=>o(parseInt(N.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-green-400 mb-1",children:["Circle 2 Radius: ",c]}),i.jsx("input",{type:"range",min:"30",max:"150",value:c,onChange:N=>h(parseInt(N.target.value)),className:"w-full"})]})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Key Insight:"})," The intersection points of two circles lie on the ",i.jsx("span",{className:"text-pink-400",children:"radical axis"}),"  a line perpendicular to the line joining the centers. This is found by subtracting the circle equations to eliminate x and y."]}),i.jsx("p",{className:"mt-2",children:"Drag the circle centers to explore different configurations!"})]})]})}function dX({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(.5),[r,a]=q.useState(-2),[l,o]=q.useState(!0),c=550,h=400,u=c/2,f=h/2,x=40,b=n!==0?-1/n:1/0;return q.useEffect(()=>{const M=e.current;if(!M)return;const y=M.getContext("2d");if(!y)return;y.fillStyle="#0f172a",y.fillRect(0,0,c,h),y.strokeStyle="#1e293b",y.lineWidth=1;for(let g=0;g<=c;g+=x)y.beginPath(),y.moveTo(g,0),y.lineTo(g,h),y.stroke();for(let g=0;g<=h;g+=x)y.beginPath(),y.moveTo(0,g),y.lineTo(c,g),y.stroke();y.strokeStyle="#475569",y.lineWidth=2,y.beginPath(),y.moveTo(0,f),y.lineTo(c,f),y.moveTo(u,0),y.lineTo(u,h),y.stroke();const T=(g,E,v)=>{if(y.strokeStyle=E,y.lineWidth=2,y.beginPath(),Math.abs(g)>100)y.moveTo(u,0),y.lineTo(u,h);else{const I=f-g*-u,$=f-g*(c-u);y.moveTo(0,I),y.lineTo(c,$)}y.stroke();const p=2*x,A=g*p,w=u+x,k=f-g*x;Math.abs(g)<5&&(y.strokeStyle=E,y.lineWidth=1,y.setLineDash([3,3]),y.beginPath(),y.moveTo(w,k),y.lineTo(w+p,k),y.stroke(),y.beginPath(),y.moveTo(w+p,k),y.lineTo(w+p,k-A),y.stroke(),y.setLineDash([]),y.font="11px sans-serif",y.fillStyle=E,y.fillText("run",w+p/2-10,k+15),y.fillText("rise",w+p+5,k-A/2));const D=Math.atan(g)*180/Math.PI;y.fillStyle=E,y.font="13px sans-serif",y.fillText(`${v}: slope = ${g.toFixed(2)},  = ${D.toFixed(1)}`,10,v==="L"?30:50)};T(n,"#60a5fa","L"),T(l?b:r,"#34d399","L");const S=l?b:r,N=n*S;if(Math.abs(N+1)<.1){const E=Math.sqrt(1+n*n),v=1/E,p=n/E,A=Math.abs(S)>100?1:Math.sqrt(1+S*S),w=Math.abs(S)>100?0:1/A,k=Math.abs(S)>100?1:S/A;y.strokeStyle="#fbbf24",y.lineWidth=2,y.beginPath(),y.moveTo(u+v*15*x/40,f-p*15*x/40),y.lineTo(u+v*15*x/40+w*15*x/40,f-p*15*x/40-k*15*x/40),y.lineTo(u+w*15*x/40,f-k*15*x/40),y.stroke()}y.fillStyle="#f472b6",y.beginPath(),y.arc(u,f,5,0,Math.PI*2),y.fill(),y.font="italic 14px serif",y.fillText("O",u+10,f+20),y.fillStyle="#e2e8f0",y.font="14px sans-serif";const j=n*S,m=Math.abs(j+1)<.1;y.fillText(`t  t = ${n.toFixed(2)}  ${S.toFixed(2)} = ${j.toFixed(2)}`,c-250,h-60),m?(y.fillStyle="#34d399",y.fillText(" 1    Perpendicular! ",c-250,h-40)):(y.fillStyle="#94a3b8",y.fillText(" 1    Not perpendicular",c-250,h-40))},[n,r,l,b]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Angle, Slope, and Perpendicularity"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-blue-400 mb-1",children:["Slope of L: ",n.toFixed(2)]}),i.jsx("input",{type:"range",min:"-3",max:"3",step:"0.1",value:n,onChange:M=>s(parseFloat(M.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-green-400 mb-1",children:l?`Perpendicular slope: ${b===1/0?"":b.toFixed(2)}`:`Slope of L: ${r.toFixed(2)}`}),!l&&i.jsx("input",{type:"range",min:"-3",max:"3",step:"0.1",value:r,onChange:M=>a(parseFloat(M.target.value)),className:"w-full"})]})]}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("button",{onClick:()=>o(!l),className:`px-4 py-2 rounded transition ${l?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:l?"Show Perpendicular Line":"Free Line Mode"})}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Perpendicularity Condition:"})," Two lines with slopes t and t are perpendicular if and only if:"]}),i.jsx("p",{className:"text-center text-pink-400 font-mono text-lg my-2",children:"t  t = 1"}),i.jsx("p",{children:"The slope t = rise/run = tan(), where  is the angle the line makes with the x-axis. Perpendicular lines have angles differing by 90."})]})]})}function fX(){return i.jsxs(qe,{sectionId:16,children:[i.jsx("h2",{children:"Lines and Their Equations"}),i.jsxs("p",{children:["One of the most important consequences of the parallel axiom is the Thales theorem and hence the proportionality of similar triangles. When coordinates are introduced, this allows us to define the property of straight lines known as ",i.jsx("strong",{children:"slope"}),"."]}),i.jsx("h3",{children:"The Concept of Slope"}),i.jsx("p",{children:'You know from high-school mathematics that slope is the quotient "rise over run" and, more importantly, that the value of the slope does not depend on which two points of the line define the rise and the run.'}),i.jsxs(xe,{title:"Slope",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"slope"})," of a line is the ratio of the vertical change (rise) to the horizontal change (run) between any two points on the line:"]}),i.jsx(Y,{children:"\\text{slope} = \\frac{\\text{rise}}{\\text{run}} = \\frac{y_2 - y_1}{x_2 - x_1}"})]}),i.jsx("h3",{children:"Why Slope is Constant"}),i.jsx("p",{children:"Consider two segments of the same line: AB with rise |BC| and run |AC|, and A'B' with rise |B'C'| and run |A'C'|. The angles at corresponding vertices are equal because parallel lines create equal angles."}),i.jsxs(ue,{title:"Constant Slope",children:[i.jsx("p",{children:"Triangles ABC and A'B'C' are similar (by AA similarity), and so their corresponding sides are proportional. In particular:"}),i.jsx(Y,{children:"\\frac{|BC|}{|AC|} = \\frac{|B'C'|}{|A'C'|}"}),i.jsx("p",{className:"mt-2",children:"That is, slope = constant for all points on the line."})]}),i.jsx("h3",{children:"The Equation of a Line"}),i.jsxs("p",{children:["Suppose we are given a line of slope ",i.jsx("em",{children:"a"})," that crosses the y-axis at the point Q where y = c. If P = (x, y) is any point on this line, then the rise from Q to P is y - c and the run is x. Hence:"]}),i.jsx(Y,{children:"\\text{slope} = a = \\frac{y - c}{x}"}),i.jsx("p",{children:"Multiplying both sides by x gives y - c = ax, that is:"}),i.jsx(Y,{children:"y = ax + c"}),i.jsxs(xe,{title:"Slope-Intercept Form",children:[i.jsxs("p",{children:["The equation ",i.jsx("strong",{children:"y = ax + c"})," is called the",i.jsx("strong",{children:" slope-intercept form"})," of a line, where:"]}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"a"})," is the slope of the line"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"c"})," is the y-intercept (where the line crosses the y-axis)"]})]}),i.jsx("p",{className:"mt-2",children:"This equation is satisfied by all points on the line, and only by them."})]}),i.jsx("h3",{children:"Vertical Lines"}),i.jsxs("p",{children:["Almost all lines have equations of the slope-intercept form; the only exceptions are lines that do not cross the y-axis. These are the",i.jsx("strong",{children:" vertical lines"}),", which do not have a finite slope (we could say they have infinite slope)."]}),i.jsx("p",{children:"A vertical line has an equation of the form:"}),i.jsx(Y,{children:"x = c, \\quad \\text{for some constant } c"}),i.jsx("h3",{children:"General Form of a Line"}),i.jsx("p",{children:"Combining both cases, all lines have equations of the form:"}),i.jsx(Y,{children:"ax + by + c = 0, \\quad \\text{for some constants } a, b, \\text{ and } c"}),i.jsx(xe,{title:"Linear Equation",children:i.jsxs("p",{children:["An equation of the form ax + by + c = 0 is called a",i.jsx("strong",{children:" linear equation"})," in the variables x and y. The set of all points (x, y) satisfying this equation forms a line in ."]})}),i.jsx("h3",{children:"Two Key Axioms as Theorems"}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"A Change in Perspective:"})," Descartes viewed equations of lines as information deduced from Euclid's axioms (in particular, from the parallel axiom). But we can also take the opposite view: Equations",i.jsx("em",{children:" define"})," what lines are, and they provide a ",i.jsx("em",{children:"model"})," of Euclid's axiomsshowing that geometry follows from properties of real numbers."]}),i.jsxs("p",{children:["If a line is defined to be the set of points (x, y) in the number plane satisfying a linear equation, then we can ",i.jsx("em",{children:"prove"})," the following statements that Euclid took as axioms:"]}),i.jsxs(ue,{title:"Unique Line Through Two Points",children:[i.jsx("p",{children:"There is a unique line through any two distinct points."}),i.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"Given distinct points P = (x, y) and P = (x, y), any point P = (x, y) on the line through them satisfies:"}),i.jsx(Y,{children:"\\frac{y_2 - y_1}{x_2 - x_1} = \\frac{y - y_1}{x - x_1} \\quad \\text{(if } x_2 \\neq x_1\\text{)}"})]}),i.jsxs(ue,{title:"Parallel Axiom",children:[i.jsx("p",{children:"For any line L and point P outside L, there is a unique line through P not meeting L."}),i.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"The parallel to L through P is the unique line through P with the same slope as L."})]}),i.jsx("h3",{children:"Parallel Lines"}),i.jsx("p",{children:"Parallel lines, not surprisingly, turn out to be lines with the same slope:"}),i.jsx(ue,{title:"Parallel Lines Have Equal Slopes",children:i.jsx("p",{children:"Distinct lines y = ax + c and y = a'x + c' have a common point unless they have the same slope (a = a'). Lines with the same slope are parallel."})}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.2.1"}),i.jsx("p",{className:"text-slate-300",children:"Given distinct points P = (x, y) and P = (x, y), show that any point P = (x, y) on the line through P and P satisfies the equation by equating slopes."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.2.2"}),i.jsx("p",{className:"text-slate-300",children:"Find the equation of the line passing through (1, 2) and (3, 6)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.2.3"}),i.jsx("p",{className:"text-slate-300",children:"If a line L has equation y = 3x, what is the equation of the parallel to L through P = (2, 2)?"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.2.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that distinct lines y = ax + c and y = a'x + c' have a common point unless they have the same slope. What happens when one line is vertical?"})]}),i.jsx(lX,{className:"my-6"}),i.jsx(Re,{sectionId:16,questions:Xe[16]||[],title:"Lines and Equations Quiz"})]})}function mX(){return i.jsxs(qe,{sectionId:17,children:[i.jsx("h2",{children:"Distance"}),i.jsxs("p",{children:["Having established coordinates and equations for lines, we now turn to one of the most fundamental concepts in geometry: ",i.jsx("strong",{children:"distance"}),". The Pythagorean theorem gives us a way to calculate distance in the coordinate plane."]}),i.jsx("h3",{children:"The Distance Formula"}),i.jsx("p",{children:"The distance between two points in the plane can be found using the Pythagorean theorem. If we have points P = (x, y) and P = (x, y), we can form a right triangle where the horizontal leg has length |x - x| and the vertical leg has length |y - y|."}),i.jsxs(xe,{title:"Distance Formula",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"distance"})," between points P = (x, y) and P = (x, y) is:"]}),i.jsx(Y,{children:"|P_1P_2| = \\sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2}"}),i.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"This follows directly from the Pythagorean theorem applied to the right triangle formed by the horizontal and vertical displacements."})]}),i.jsx("h3",{children:"The Equation of a Circle"}),i.jsxs("p",{children:["A circle is defined as the set of all points at a fixed distance (the",i.jsx("strong",{children:" radius"}),") from a fixed point (the ",i.jsx("strong",{children:"center"}),"). Using the distance formula, we can write the equation of a circle."]}),i.jsxs(xe,{title:"Equation of a Circle",children:[i.jsx("p",{children:"The circle with center (a, b) and radius r consists of all points (x, y) satisfying:"}),i.jsx(Y,{children:"(x - a)^2 + (y - b)^2 = r^2"}),i.jsx("p",{className:"mt-2",children:"This equation says that the distance from (x, y) to (a, b) equals r."})]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Special Case:"})," When the center is at the origin (0, 0), the equation simplifies to x + y = r. This is the simplest form of a circle equation."]}),i.jsx("h3",{children:"Equidistant Lines"}),i.jsx("p",{children:"An important application of the distance formula is finding the set of all points equidistant from two given points."}),i.jsxs(ue,{title:"Equidistant Line",children:[i.jsxs("p",{children:["The set of all points equidistant from two distinct points A and B forms a linethe ",i.jsx("strong",{children:"perpendicular bisector"})," of segment AB."]}),i.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"This line passes through the midpoint of AB and is perpendicular to AB."})]}),i.jsx("p",{children:"To prove this, suppose A = (a, a) and B = (b, b). A point P = (x, y) is equidistant from A and B when |PA| = |PB|, which means:"}),i.jsx(Y,{children:"(x - a_1)^2 + (y - a_2)^2 = (x - b_1)^2 + (y - b_2)^2"}),i.jsx("p",{children:"Expanding and simplifying gives a linear equationthe equation of a line!"}),i.jsx("h3",{children:"The Triangle Inequality"}),i.jsx("p",{children:"The triangle inequality states that any two sides of a triangle are together greater than the third side. In coordinate terms:"}),i.jsxs(ue,{title:"Triangle Inequality",children:[i.jsx("p",{children:"For any three points O, P, Q not on a line:"}),i.jsx(Y,{children:"|OP| + |PQ| > |OQ|"}),i.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"This inequality becomes an equality if and only if P lies on the line segment from O to Q."})]}),i.jsxs("p",{children:["To prove this algebraically, we can place the triangle with one vertex at O = (0, 0), another at P = (x, 0) with x ",">"," 0, and the third at Q = (x, y). Then:"]}),i.jsx(Y,{children:"|OP| = x_1, \\quad |PQ| = \\sqrt{(x_2 - x_1)^2 + y_2^2}, \\quad |OQ| = \\sqrt{x_2^2 + y_2^2}"}),i.jsxs("p",{children:["The triangle inequality |OP| + |PQ| ",">"," |OQ| can be verified by showing that (|OP| + |PQ|) ",">"," |OQ|."]}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"Application:"})," The triangle inequality tells us that the straight line is the shortest path between two points. Any detour through a third point (not on the line) increases the total distance."]}),i.jsx("h3",{children:"Three Points on a Circle"}),i.jsx("p",{children:"An elegant application of equidistant lines is the following theorem:"}),i.jsxs(ue,{title:"Circumscribed Circle",children:[i.jsx("p",{children:"Any three points not on a line lie on a unique circle."}),i.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"The center of this circle is equidistant from all three points, so it lies on the intersection of the perpendicular bisectors of any two sides of the triangle formed by the points."})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.3.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that any three points not in a line lie on a unique circle. (Hint: the center of the circle is equidistant from the three points.)"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.3.2"}),i.jsxs("p",{className:"text-slate-300",children:["Consider a triangle with vertices at O = (0, 0), P = (x, 0) with x ",">"," 0, and Q = (x, y). Verify the distance formulas for |OP|, |PQ|, and |OQ|."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.3.3"}),i.jsx("p",{className:"text-slate-300",children:"Show that (|OP| + |PQ|) - |OQ| = 2x[((x - x) + y) - (x - x)]."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.3.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that the term in square brackets in Exercise 3.3.3 is positive if y  0, and hence that the triangle inequality holds in this case."})]}),i.jsx(cX,{className:"my-6"}),i.jsx(Re,{sectionId:17,questions:Xe[17]||[],title:"Distance Quiz"})]})}function pX(){return i.jsxs(qe,{sectionId:18,children:[i.jsx("h2",{children:"Intersections of Lines and Circles"}),i.jsx("p",{children:"Now that lines and circles are defined by equations, we can give exact algebraic equivalents of straightedge and compass operations. This connection reveals the deep relationship between geometry and algebra."}),i.jsx("h3",{children:"Algebraic Equivalents of Constructions"}),i.jsxs("div",{className:"space-y-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-blue-500",children:[i.jsx("h4",{className:"font-semibold text-blue-400",children:"Drawing a Line"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Drawing a line through given points (x, y) and (x, y) corresponds to finding the equation of the line. The slope between these points must equal the slope from any point (x, y) to (x, y):"}),i.jsx(Y,{children:"\\frac{y - y_1}{x - x_1} = \\frac{y_2 - y_1}{x_2 - x_1}"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h4",{className:"font-semibold text-green-400",children:"Drawing a Circle"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Drawing a circle with center (a, b) and radius r corresponds to finding the equation:"}),i.jsx(Y,{children:"(x - a)^2 + (y - b)^2 = r^2"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-yellow-500",children:[i.jsx("h4",{className:"font-semibold text-yellow-400",children:"Finding Intersections"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Finding new points as intersections corresponds to solving systems of equations:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 text-slate-300",children:[i.jsx("li",{children:"A pair of line equations"}),i.jsx("li",{children:"A pair of circle equations"}),i.jsx("li",{children:"A line equation and a circle equation"})]})]})]}),i.jsx("h3",{children:"Intersection of Two Circles"}),i.jsx("p",{children:"Consider two circles with equations:"}),i.jsx(Y,{children:"(x - a_1)^2 + (y - b_1)^2 = r_1^2"}),i.jsx(Y,{children:"(x - a_2)^2 + (y - b_2)^2 = r_2^2"}),i.jsx("p",{children:"Expanding these equations and subtracting one from the other eliminates the x and y terms, leaving a linear equation:"}),i.jsx(Y,{children:"2(a_2 - a_1)x + 2(b_2 - b_1)y + r_2^2 - r_1^2 = 0"}),i.jsx(ue,{title:"Circle Intersection",children:i.jsxs("p",{children:["The intersection points of two circles lie on a line (called the",i.jsx("strong",{children:" radical axis"}),"). To find the actual intersection points, solve this linear equation along with either circle equation."]})}),i.jsx("h3",{children:"Solving the Equations"}),i.jsx("p",{children:"When we substitute the solution from the linear equation back into a circle equation, we get a quadratic equation. If this equation is of the form Ax + Bx + C = 0, then the solutions are:"}),i.jsx(Y,{children:"x = \\frac{-B \\pm \\sqrt{B^2 - 4AC}}{2A}"}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Key Observation:"})," Solving linear equations requires only the operations +, , , and . The quadratic formula shows that  is the only additional operation needed to solve quadratic equations."]}),i.jsx("h3",{children:"The Algebraic Criterion for Constructibility"}),i.jsx("p",{children:"Since all intersection points in a straightedge and compass construction can be found with the operations +, , , , and , and these operations can all be carried out by straightedge and compass, we get:"}),i.jsx(xe,{title:"Algebraic Criterion for Constructibility",children:i.jsxs("p",{children:["A point is ",i.jsx("strong",{children:"constructible"})," (starting from the points 0 and 1) if and only if its coordinates are obtainable from the number 1 by the operations +, , , , and ."]})}),i.jsx("h3",{children:"Impossibility Results"}),i.jsxs("p",{children:["The algebraic criterion for constructibility, discovered by Descartes, enables us to prove that certain figures are ",i.jsx("em",{children:"not"})," constructible:"]}),i.jsxs("div",{className:"space-y-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-red-500",children:[i.jsx("h4",{className:"font-semibold text-red-400",children:"Doubling the Cube"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"The number 2 is not constructible because it cannot be expressed by a finite number of square roots."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-red-500",children:[i.jsx("h4",{className:"font-semibold text-red-400",children:"Trisecting an Angle"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"The angle /3 cannot be trisected because cos(/9) cannot be expressed by a finite number of square roots."})]})]}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"Historical Note:"})," These impossibility results were not proved until the 19th century, by Pierre Wantzel. The proofs require sophisticated algebra that goes beyond Descartes' concept of constructibility to survey the totality of constructible numbers."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.4.1"}),i.jsx("p",{className:"text-slate-300",children:"Find the intersections of the circles x + y = 1 and (x - 1) + (y - 2) = 4."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.4.2"}),i.jsx("p",{className:"text-slate-300",children:"Check the plausibility of your answer to Exercise 3.4.1 by sketching the two circles."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.4.3"}),i.jsx("p",{className:"text-slate-300",children:"The line x + 2y - 1 = 0 found by eliminating x and y from the equations of the circles should have some geometric meaning. What is it?"})]}),i.jsx(uX,{className:"my-6"}),i.jsx(Re,{sectionId:18,questions:Xe[18]||[],title:"Intersections Quiz"})]})}function xX(){return i.jsxs(qe,{sectionId:19,children:[i.jsx("h2",{children:"Angle and Slope"}),i.jsxs("p",{children:["The concept of distance is easy to handle in coordinate geometry because the distance between points is an algebraic function of their coordinates. However, the concept of ",i.jsx("strong",{children:"angle"})," is more subtle."]}),i.jsx("h3",{children:"Distance vs. Angle"}),i.jsx("p",{children:"The distance between points (x, y) and (x, y) is:"}),i.jsx(Y,{children:"\\sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2}"}),i.jsxs("p",{children:["This is an ",i.jsx("em",{children:"algebraic function"})," of the coordinates. However, the angle  between a line y = tx and the x-axis is tan(t), and tan(t) is ",i.jsx("em",{children:"not"})," an algebraic function. Nor is tan , sin , or cos ."]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Staying Algebraic:"})," To remain in the world of algebra, we work with the ",i.jsx("strong",{children:"slope"})," t rather than the angle . Lines make the same angle with the x-axis if they have the same slope."]}),i.jsx("h3",{children:"Relative Slope"}),i.jsxs("p",{children:["To test equality of angles in general, we need the concept of",i.jsx("strong",{children:" relative slope"}),"."]}),i.jsxs(xe,{title:"Relative Slope",children:[i.jsxs("p",{children:["If line L has slope t and line L has slope t, then the",i.jsx("strong",{children:" slope of L relative to L"})," is defined to be:"]}),i.jsx(Y,{children:"\\pm \\left| \\frac{t_1 - t_2}{1 + t_1 t_2} \\right|"})]}),i.jsx("p",{children:"This definition comes from the trigonometric identity:"}),i.jsx(Y,{children:"\\tan(\\theta_1 - \\theta_2) = \\frac{\\tan\\theta_1 - \\tan\\theta_2}{1 + \\tan\\theta_1 \\tan\\theta_2}"}),i.jsx("p",{children:"The  sign and absolute value arise because slopes t, t alone specify only a pair of lines and hence a pair of angles that add to a straight angle."}),i.jsx("h3",{children:"Perpendicular Lines"}),i.jsx("p",{children:"The most useful case of relative slope is when lines are perpendicular."}),i.jsxs(ue,{title:"Condition for Perpendicularity",children:[i.jsxs("p",{children:["Lines of slopes t and t are ",i.jsx("strong",{children:"perpendicular"})," if and only if:"]}),i.jsx(Y,{children:"t_1 \\cdot t_2 = -1"}),i.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"In other words, the product of the slopes of perpendicular lines is -1."})]}),i.jsx("h3",{children:"Rotations in Coordinates"}),i.jsxs("p",{children:["A ",i.jsx("strong",{children:"rotation about the origin O"})," can be described as a transformation r_","{c,s}"," of  depending on two real numbers c and s such that c + s = 1."]}),i.jsxs(xe,{title:"Rotation Transformation",children:[i.jsxs("p",{children:["The rotation r_","{c,s}"," sends the point (x, y) to the point:"]}),i.jsx(Y,{children:"(cx - sy, sx + cy)"}),i.jsx("p",{className:"mt-2",children:"Here c = cos  and s = sin , where  is the angle of rotation."})]}),i.jsx("h3",{children:"Addition Formulas from Rotations"}),i.jsxs("p",{children:["Composing two rotations leads to proofs of the trigonometric addition formulas. If r_","{c,s}"," and r_","{c,s}"," are rotations with:"]}),i.jsx(Y,{children:"c_1 = \\cos\\theta_1, \\quad s_1 = \\sin\\theta_1; \\quad c_2 = \\cos\\theta_2, \\quad s_2 = \\sin\\theta_2"}),i.jsx("p",{children:"Then composing these rotations yields:"}),i.jsxs(ue,{title:"Trigonometric Addition Formulas",children:[i.jsx(Y,{children:"\\cos(\\theta_1 + \\theta_2) = \\cos\\theta_1 \\cos\\theta_2 - \\sin\\theta_1 \\sin\\theta_2"}),i.jsx(Y,{children:"\\sin(\\theta_1 + \\theta_2) = \\sin\\theta_1 \\cos\\theta_2 + \\cos\\theta_1 \\sin\\theta_2"})]}),i.jsx("p",{children:"From these, we can derive:"}),i.jsx(Y,{children:"\\tan(\\theta_1 + \\theta_2) = \\frac{\\tan\\theta_1 + \\tan\\theta_2}{1 - \\tan\\theta_1 \\tan\\theta_2}"}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"Looking Ahead:"})," With coordinates, it becomes possible to",i.jsx("em",{children:" define"}),' the concept of "motion" that Euclid appealed to in his proof of SAS. This will be done in the next section on isometries.']}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.5.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that lines of slopes t and t are perpendicular just in case tt = -1."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.5.2"}),i.jsx("p",{className:"text-slate-300",children:"Use the condition for perpendicularity to show that the line from (1, 0) to (3, 4) is perpendicular to the line from (0, 2) to (4, 0)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.5.3"}),i.jsxs("p",{className:"text-slate-300",children:["Show that the outcome of r_","{c,s}"," followed by r_","{c,s}"," sends (x, y) to:",i.jsx("br",{}),"((cc - ss)x - (sc + cs)y, (sc + cs)x + (cc - ss)y)"]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.5.4"}),i.jsxs("p",{className:"text-slate-300",children:["Assuming r_","{c,s}"," is a rotation through angle  and r_","{c,s}"," is a rotation through angle , deduce the addition formulas for cos and sin."]})]}),i.jsx(dX,{className:"my-6"}),i.jsx(Re,{sectionId:19,questions:Xe[19]||[],title:"Angle and Slope Quiz"})]})}function gX(){return i.jsxs(qe,{sectionId:20,children:[i.jsx("h2",{children:"Isometries"}),i.jsx("p",{children:"A possible weakness of our model of the plane  is that it seems to single out a particular point (the origin O) and particular lines (the x- and y-axes). In Euclid's plane, each point is like any other point and each line is like any other line."}),i.jsxs("p",{children:["We can overcome this apparent bias by considering ",i.jsx("strong",{children:"transformations"}),'that allow any point to become the origin and any line to become the x-axis. As a bonus, this gives meaning to the idea of "motion" that Euclid used in his proof of SAS.']}),i.jsx(xe,{title:"Transformation",children:i.jsxs("p",{children:["A ",i.jsx("strong",{children:"transformation"})," of the plane is simply a function f :   a function that sends points to points."]})}),i.jsxs(xe,{title:"Isometry",children:[i.jsxs("p",{children:["A transformation f is called an ",i.jsx("strong",{children:"isometry"}),' (from the Greek for "same length") if it sends any two points P and P to points f(P) and f(P) the same distance apart:']}),i.jsx(Y,{children:"|f(P_1)f(P_2)| = |P_1P_2|"}),i.jsx("p",{className:"mt-2",children:'Intuitively, an isometry "moves the plane rigidly" because it preserves the distance between points.'})]}),i.jsx("h3",{children:"Types of Isometries"}),i.jsx("p",{children:"There are many isometries of the plane, but they can be divided into a few simple and obvious types."}),i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mt-6 mb-3",children:"Translations"}),i.jsxs("p",{children:["A ",i.jsx("strong",{children:"translation"})," moves each point of the plane the same distance in the same direction."]}),i.jsxs(xe,{title:"Translation",children:[i.jsxs("p",{children:["The translation t_","{a,b}"," sends each point (x, y) to the point (x + a, y + b)."]}),i.jsx(Y,{children:"t_{a,b}(x, y) = (x + a, y + b)"})]}),i.jsxs(ue,{title:"Translations Preserve Distance",children:[i.jsx("p",{children:"For points P = (x, y) and P = (x, y):"}),i.jsx(Y,{children:"|t_{a,b}(P_1)t_{a,b}(P_2)| = \\sqrt{(x_2 - x_1)^2 + (y_2 - y_1)^2} = |P_1P_2|"})]}),i.jsx("h4",{className:"text-lg font-semibold text-green-400 mt-6 mb-3",children:"Rotations"}),i.jsxs("p",{children:["A ",i.jsx("strong",{children:"rotation"})," about the origin is described by two numbers c and s such that c + s = 1 (where c = cos  and s = sin )."]}),i.jsxs(xe,{title:"Rotation",children:[i.jsxs("p",{children:["The rotation r_","{c,s}"," sends the point (x, y) to:"]}),i.jsx(Y,{children:"r_{c,s}(x, y) = (cx - sy, sx + cy)"})]}),i.jsxs("p",{children:["The rotation r_","{c,s}"," preserves lengths because:"]}),i.jsx(Y,{children:"|r_{c,s}(P_1)r_{c,s}(P_2)| = \\sqrt{(c^2 + s^2)(x_2 - x_1)^2 + (c^2 + s^2)(y_2 - y_1)^2} = |P_1P_2|"}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Why It's a Rotation:"})," The transformation r_","{c,s}"," sends (0, 0) to itself, moves (1, 0) to (c, s), and moves (0, 1) to (-s, c). This is exactly what rotation about O through angle  does!"]}),i.jsx("h4",{className:"text-lg font-semibold text-yellow-400 mt-6 mb-3",children:"Reflections"}),i.jsxs("p",{children:["The easiest reflection to describe is ",i.jsx("strong",{children:"reflection in the x-axis"}),", which sends P = (x, y) to P = (x, -y)."]}),i.jsx(xe,{title:"Reflection in the x-axis",children:i.jsx(Y,{children:"\\text{reflection}(x, y) = (x, -y)"})}),i.jsx("p",{children:"We can reflect the plane in any line by combining reflection in the x-axis with translations and rotations. For example, reflection in the line y = 1 is the result of:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-2 my-4",children:[i.jsxs("li",{children:["t_","{0,-1}",", a translation that moves the line y = 1 to the x-axis"]}),i.jsx("li",{children:"Reflection in the x-axis"}),i.jsxs("li",{children:["t_","{0,1}",", which moves the x-axis back to the line y = 1"]})]}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"Fundamental Fact:"})," Reflections are the most fundamental isometries, because any isometry is a combination of reflections. In particular:",i.jsxs("ul",{className:"list-disc list-inside mt-2",children:[i.jsx("li",{children:"Any translation is a combination of two reflections"}),i.jsx("li",{children:"Any rotation is a combination of two reflections"})]})]}),i.jsx("h4",{className:"text-lg font-semibold text-pink-400 mt-6 mb-3",children:"Glide Reflections"}),i.jsxs("p",{children:["A ",i.jsx("strong",{children:"glide reflection"})," is the result of a reflection followed by a translation in the direction of the line of reflection."]}),i.jsx(xe,{title:"Glide Reflection",children:i.jsxs("p",{children:["For example, if we reflect in the x-axis and follow with the translation t_","{1,0}",", then (x, y) ends up at (x + 1, -y)."]})}),i.jsx("p",{children:"A glide reflection with nonzero translation length is different from translations, rotations, and reflections:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"Not a translation: only one line maps to itself (the reflection line)"}),i.jsx("li",{children:"Not a rotation: no fixed point exists"}),i.jsx("li",{children:"Not a reflection: no fixed points (reflection has the whole line as fixed)"})]}),i.jsx("h3",{children:"The Power of Isometries"}),i.jsx("p",{children:"Translations and rotations make it possible to move the origin to any point in the plane and the x-axis to any line. Thus,  is really like Euclid's plane: each point is like any other point and each line is like any other line."}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.6.1"}),i.jsx("p",{className:"text-slate-300",children:"Check that reflection in the x-axis preserves the distance between any two points."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.6.2"}),i.jsxs("p",{className:"text-slate-300",children:["Reflect the plane in the x-axis, and then in the line y = 1/2. Show that the resulting isometry sends (x, y) to (x, y + 1), so it is the translation t_","{0,1}","."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.6.3"}),i.jsx("p",{className:"text-slate-300",children:"Generalize to show that the combination of reflections in parallel lines, distance d/2 apart, is a translation through distance d, perpendicular to the lines of reflection."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.6.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that the combination of reflections in lines that meet at angle /2 is a rotation through angle , about the point of intersection."})]}),i.jsx(hX,{className:"my-6"}),i.jsx(Re,{sectionId:20,questions:Xe[20]||[],title:"Isometries Quiz"})]})}function yX(){return i.jsxs(qe,{sectionId:21,children:[i.jsx("h2",{children:"The Three Reflections Theorem"}),i.jsx("p",{children:"We saw in Section 3.3 that the points equidistant from two points A and B form a line. This fact has a powerful consequence for understanding isometries of the plane."}),i.jsx("h3",{children:"Determination by Three Points"}),i.jsx(ue,{title:"Three Point Determination",children:i.jsx("p",{children:"An isometry f of  is determined by the images f(A), f(B), f(C) of three points A, B, C not in a line."})}),i.jsx("p",{children:"The proof follows from three simple observations:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-3 my-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Determination by distances:"})," Any point P in  is determined by its distances from A, B, C. If Q had the same distances from A, B, C as P, then A, B, C would lie in the equidistant line of P and Qcontradicting that they're not in a line."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Distance preservation:"})," The isometry f preserves distances, so f(P) lies at the same respective distances from f(A), f(B), f(C) as P does from A, B, C."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Uniqueness:"})," There is only one point at given distances from f(A), f(B), f(C) because these three points form a triangle congruent to triangle ABC."]})]}),i.jsx("h3",{children:"The Three Reflections Theorem"}),i.jsx(ue,{title:"Three Reflections Theorem",children:i.jsx("p",{children:i.jsx("strong",{children:"Any isometry of  is a combination of one, two, or three reflections."})})}),i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mt-6 mb-3",children:"Proof Outline"}),i.jsx("p",{children:"Given an isometry f, we choose three points A, B, C not in a line, and we look for a combination of reflections that sends A to f(A), B to f(B), and C to f(C). Such a combination is necessarily equal to f."}),i.jsxs("div",{className:"space-y-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-blue-500",children:[i.jsx("h5",{className:"font-semibold text-blue-400",children:"Step 1: Move A to f(A)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Reflect in the equidistant line of A and f(A). Call this reflection r_A."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h5",{className:"font-semibold text-green-400",children:"Step 2: Move B to f(B)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"If r_A(B)  f(B), reflect in the equidistant line of r_A(B) and f(B). Since f(A) is equidistant from r_A(B) and f(B), this reflection doesn't move f(A)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-yellow-500",children:[i.jsx("h5",{className:"font-semibold text-yellow-400",children:"Step 3: Move C to f(C)"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"If C hasn't reached f(C) yet, reflect in the line equidistant from f(C) and where C has been sent. Both f(A) and f(B) lie on this line, so they're not moved."})]})]}),i.jsx("p",{children:"Thus, we have a combination of at most three reflections that moves A to f(A), B to f(B), and C to f(C), as required."}),i.jsx("h3",{children:"Classification of Isometries"}),i.jsx("p",{children:"The Three Reflections Theorem, combined with our earlier results, gives a complete classification:"}),i.jsxs(xe,{title:"Classification of Plane Isometries",children:[i.jsx("p",{children:"An isometry of  is either:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"A translation"})," (two reflections in parallel lines)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"A rotation"})," (two reflections in intersecting lines)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"A glide reflection"})," (three reflections)"]})]}),i.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"Note: A single reflection is a special case of a glide reflection (with zero translation)."})]}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"Identifying Isometry Type:"})," Given three points A, B, C and their images f(A), f(B), f(C), you can determine the type of isometry:",i.jsxs("ul",{className:"list-disc list-inside mt-2",children:[i.jsx("li",{children:"Translation: the triangles ABC and f(A)f(B)f(C) have the same orientation and corresponding sides are parallel"}),i.jsx("li",{children:"Rotation: the triangles have the same orientation but sides aren't parallel"}),i.jsx("li",{children:"Glide reflection: the triangles have opposite orientations"})]})]}),i.jsx("h3",{children:"Orientation"}),i.jsxs("p",{children:["The key to distinguishing isometry types is ",i.jsx("strong",{children:"orientation"}),". When you traverse the vertices of a triangle, you go either clockwise or counterclockwise. This is the triangle's orientation."]}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsxs("li",{children:["Translations and rotations ",i.jsx("strong",{children:"preserve"})," orientation"]}),i.jsxs("li",{children:["Reflections and glide reflections ",i.jsx("strong",{children:"reverse"})," orientation"]})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.7.1"}),i.jsx("p",{className:"text-slate-300",children:"Suppose that f(A) = (1.4, 2), f(B) = (1.4, 1), and f(C) = (2.4, 1), where A = (0, 1), B = (0, 0), C = (1, 0). Is f a translation or a rotation? How can you tell that f is not a glide reflection?"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.7.2"}),i.jsx("p",{className:"text-slate-300",children:"Suppose that f(A) = (0.4, 1.8), f(B) = (1, 1), and f(C) = (1.8, 1.6). We can tell that f is not a translation or glide reflection (hence, it must be a rotation). How?"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.7.3"}),i.jsx("p",{className:"text-slate-300",children:"Suppose that f(A) = (1.8, 1.6), f(B) = (1, 1), and f(C) = (0.4, 1.8). How do I know that this is a glide reflection?"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.7.4"}),i.jsx("p",{className:"text-slate-300",children:"State a simple test for telling whether f is a translation, rotation, or glide reflection from the positions of f(A), f(B), and f(C)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.6.5"}),i.jsx("p",{className:"text-slate-300",children:"Show that reflections in lines L, M, and N (in that order) have the same outcome as reflections in lines L', M', and N, where M' is perpendicular to N."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 3.6.6"}),i.jsx("p",{className:"text-slate-300",children:"Deduce from the previous exercises that the combination of any three reflections is a glide reflection."})]}),i.jsx(oX,{className:"my-6"}),i.jsx(Re,{sectionId:21,questions:Xe[21]||[],title:"Three Reflections Quiz"})]})}function bX(){return i.jsxs(qe,{sectionId:22,children:[i.jsx("h2",{children:"Discussion"}),i.jsx("p",{children:"The discovery of coordinates is rightly considered a turning point in the development of mathematics because it reveals a vast new panorama of geometry, open to exploration in at least three different directions."}),i.jsx("h3",{children:"Three Directions from Coordinates"}),i.jsxs("div",{className:"space-y-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-blue-500",children:[i.jsx("h4",{className:"font-semibold text-blue-400",children:"1. Algebraic Geometry"}),i.jsx("p",{className:"text-slate-300 mt-2",children:i.jsx("strong",{children:"Description of curves by equations, and their analysis by algebra."})}),i.jsxs("p",{className:"text-slate-300 mt-2",children:["The curves described by polynomial equations are called",i.jsx("em",{children:" algebraic curves"}),". Straight lines, described by linear equations ax + by + c = 0, are curves of ",i.jsx("strong",{children:"degree 1"}),". Circles, described by (x - a) + (y - b) = r, are curves of",i.jsx("strong",{children:" degree 2"}),"."]}),i.jsx("p",{className:"text-slate-300 mt-2",children:"There are curves of arbitrarily high degree, making algebraic geometry a vast subject. Even curves of degree 3 (elliptic curves) merit their own book!"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-green-500",children:[i.jsx("h4",{className:"font-semibold text-green-400",children:"2. Linear Algebra"}),i.jsx("p",{className:"text-slate-300 mt-2",children:i.jsx("strong",{children:"Algebraic study of objects described by linear equations."})}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Although technically part of algebraic geometry, linear algebra has a special flavor, very close to that of Euclidean geometry. We explore plane geometry from the viewpoint of linear algebra in Chapter 4."}),i.jsxs("p",{className:"text-slate-300 mt-2",children:["The real strength of linear algebra is its ability to describe spaces of ",i.jsx("em",{children:"any number of dimensions"})," in geometric language."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg border-l-4 border-yellow-500",children:[i.jsx("h4",{className:"font-semibold text-yellow-400",children:"3. Transformation Groups"}),i.jsx("p",{className:"text-slate-300 mt-2",children:i.jsx("strong",{children:"The study of transformations, drawing on group theory."})}),i.jsxs("p",{className:"text-slate-300 mt-2",children:["Because many geometric transformations are described by linear equations, this overlaps with linear algebra. The role of transformations was first emphasized by Felix Klein in his famous ",i.jsx("em",{children:"Erlanger Programm"})," (1872)."]})]})]}),i.jsx("h3",{children:"The Erlanger Programm"}),i.jsx(ue,{title:"Klein's Vision",children:i.jsxs("p",{children:["Felix Klein's ",i.jsx("em",{children:"Erlanger Programm"})," (1872) characterizes geometry as the study of ",i.jsx("strong",{children:"transformation groups"})," and their",i.jsx("strong",{children:" invariants"}),"."]})}),i.jsx("p",{children:"So far, we have seen one transformation group and a handful of invariants:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Group:"})," The isometries of "]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Invariants:"})," Length, angle, straightness"]})]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Looking Ahead:"}),` In Chapter 5, we introduce projective transformations and the cross-ratio invariant. In Chapters 7 and 8, we develop Klein's idea further with the "non-Euclidean" plane.`]}),i.jsx("h3",{children:"What We've Achieved"}),i.jsx("p",{children:"In this chapter on coordinates, we have:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsx("li",{children:"Built a model of the Euclidean plane using ordered pairs of real numbers"}),i.jsx("li",{children:"Characterized lines by linear equations and circles by quadratic equations"}),i.jsx("li",{children:"Derived the distance formula from the Pythagorean theorem"}),i.jsx("li",{children:"Found the algebraic criterion for constructibility with straightedge and compass"}),i.jsx("li",{children:"Classified all isometries as translations, rotations, or glide reflections"}),i.jsx("li",{children:"Proved the Three Reflections Theorem"})]}),i.jsx("h3",{children:"The Power of Arithmetization"}),i.jsxs(xe,{title:"Arithmetization of Geometry",children:[i.jsxs("p",{children:["Building geometry from numbers is called the ",i.jsx("strong",{children:"arithmetization of geometry"}),". It accomplishes much:"]}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:["It gives an algebraic description of constructibility, making it possible to prove that certain figures are ",i.jsx("em",{children:"not"})," constructible."]}),i.jsx("li",{children:`It enables us to define what it means to "move" a geometric figure, providing justification for Euclid's proof of SAS.`}),i.jsx("li",{children:"It gives access to algebra, reducing many geometric problems to simple calculations."})]})]}),i.jsx("h3",{children:"Recommended Reading"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("p",{className:"text-slate-300 mb-2",children:"For algebraic curves:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-300",children:[i.jsxs("li",{children:["McKean, H. P. and Moll, V. ",i.jsx("em",{children:"Elliptic Curves"})]}),i.jsxs("li",{children:["Brieskorn, E. and Knrrer, H. ",i.jsx("em",{children:"Plane Algebraic Curves"})]})]})]}),i.jsx("h3",{children:"Looking Forward"}),i.jsxs("p",{children:["The next chapter introduces ",i.jsx("strong",{children:"vectors"}),", which provide another powerful approach to geometry. Vectors can be added and multiplied by numbers, and the ",i.jsx("strong",{children:"inner product"})," gives an efficient algebraic method for handling both lengths and angles."]}),i.jsxs(fe,{type:"important",children:[i.jsx("strong",{children:"The Four Approaches:"})," We now have two approaches to geometry:",i.jsxs("ol",{className:"list-decimal list-inside mt-2",children:[i.jsx("li",{children:"Euclid's axiomatic approach (Chapter 2)"}),i.jsx("li",{children:"Coordinates (Chapter 3)"})]}),i.jsx("p",{className:"mt-2",children:"Coming up: Vectors (Chapter 4) and Projective Geometry (Chapter 5). Each approach offers different insights and techniques, but they all describe the same underlying geometric reality."})]}),i.jsx(Re,{sectionId:22,questions:Xe[22]||[],title:"Chapter 3 Discussion Quiz"})]})}function vX({className:t=""}){const e=q.useRef(null),[n,s]=q.useState({x:3,y:2}),[r,a]=q.useState({x:1,y:3}),[l,o]=q.useState(!0),[c,h]=q.useState(!0),[u,f]=q.useState(null),x=480,b=400,M=40,y=x/2,T=b/2,S=(w,k)=>[y+w*M,T-k*M],N=(w,k)=>({x:(w-y)/M,y:(T-k)/M}),j=w=>Math.sqrt(w.x**2+w.y**2),m=n.x*r.x+n.y*r.y,g=Math.acos(m/(j(n)*j(r)))*180/Math.PI,E={x:n.x+r.x,y:n.y+r.y};q.useEffect(()=>{const w=e.current;if(!w)return;const k=w.getContext("2d");if(!k)return;k.fillStyle="#0f172a",k.fillRect(0,0,x,b),k.strokeStyle="#1e293b",k.lineWidth=1;for(let V=-6;V<=6;V++){const[J]=S(V,0);k.beginPath(),k.moveTo(J,0),k.lineTo(J,b),k.stroke()}for(let V=-5;V<=5;V++){const[,J]=S(0,V);k.beginPath(),k.moveTo(0,J),k.lineTo(x,J),k.stroke()}k.strokeStyle="#475569",k.lineWidth=2,k.beginPath(),k.moveTo(0,T),k.lineTo(x,T),k.stroke(),k.beginPath(),k.moveTo(y,0),k.lineTo(y,b),k.stroke();const D=(V,J,ee,re=!0,se)=>{const he={x:0,y:0},[ae,Ne]=S(he.x,he.y),[Te,tt]=S(he.x+V.x,he.y+V.y);k.strokeStyle=J,k.lineWidth=3,k.beginPath(),k.moveTo(ae,Ne),k.lineTo(Te,tt),k.stroke();const Ce=Math.atan2(Ne-tt,Te-ae),Ae=12;k.fillStyle=J,k.beginPath(),k.moveTo(Te,tt),k.lineTo(Te-Ae*Math.cos(Ce-Math.PI/6),tt+Ae*Math.sin(Ce-Math.PI/6)),k.lineTo(Te-Ae*Math.cos(Ce+Math.PI/6),tt+Ae*Math.sin(Ce+Math.PI/6)),k.closePath(),k.fill(),k.fillStyle=J,k.font="bold 14px sans-serif";const Fe=(ae+Te)/2+(ee==="a"?-15:10),Be=(Ne+tt)/2-5;k.fillText(ee,Fe,Be)};if(D(n,"#f472b6","a"),D(r,"#22d3ee","b"),l){k.strokeStyle="rgba(167, 139, 250, 0.4)",k.lineWidth=1,k.setLineDash([5,5]);const[V,J]=S(n.x,n.y),[ee,re]=S(r.x,r.y),[se,he]=S(E.x,E.y);k.beginPath(),k.moveTo(V,J),k.lineTo(se,he),k.stroke(),k.beginPath(),k.moveTo(ee,re),k.lineTo(se,he),k.stroke(),k.setLineDash([]),D(E,"#a78bfa","a+b")}if(c&&!isNaN(g)){k.strokeStyle="#fbbf24",k.lineWidth=1.5;const V=Math.atan2(n.y,n.x),J=Math.atan2(r.y,r.x);k.beginPath(),k.arc(y,T,35,-Math.max(V,J),-Math.min(V,J)),k.stroke(),k.fillStyle="#fbbf24",k.font="11px sans-serif";const ee=(V+J)/2;k.fillText(`${g.toFixed(0)}`,y+45*Math.cos(ee),T-45*Math.sin(ee))}const[I,$]=S(n.x,n.y),[B,G]=S(r.x,r.y);k.fillStyle="rgba(244, 114, 182, 0.3)",k.beginPath(),k.arc(I,$,10,0,Math.PI*2),k.fill(),k.fillStyle="rgba(34, 211, 238, 0.3)",k.beginPath(),k.arc(B,G,10,0,Math.PI*2),k.fill(),k.fillStyle="#94a3b8",k.font="11px sans-serif",k.fillText("Drag vector endpoints",10,20)},[n,r,l,c,g,E]);const v=w=>{var J;const k=(J=e.current)==null?void 0:J.getBoundingClientRect();if(!k)return;const D=w.clientX-k.left,I=w.clientY-k.top,[$,B]=S(n.x,n.y),[G,V]=S(r.x,r.y);Math.hypot(D-$,I-B)<15?f("a"):Math.hypot(D-G,I-V)<15&&f("b")},p=w=>{var B;if(!u)return;const k=(B=e.current)==null?void 0:B.getBoundingClientRect();if(!k)return;const D=w.clientX-k.left,I=w.clientY-k.top;let $=N(D,I);$.x=Math.round($.x*2)/2,$.y=Math.round($.y*2)/2,$.x=Math.max(-5,Math.min(5,$.x)),$.y=Math.max(-4,Math.min(4,$.y)),u==="a"?s($):a($)},A=()=>{f(null)};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Vector Operations"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:x,height:b,className:"border border-slate-700 rounded cursor-grab",onMouseDown:v,onMouseMove:p,onMouseUp:A,onMouseLeave:A})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{className:"p-3 bg-slate-800 rounded space-y-2",children:[i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"text-pink-400 font-semibold",children:"a"}),i.jsxs("span",{className:"text-slate-300",children:[" = (",n.x.toFixed(1),", ",n.y.toFixed(1),")"]})]}),i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"text-cyan-400 font-semibold",children:"b"}),i.jsxs("span",{className:"text-slate-300",children:[" = (",r.x.toFixed(1),", ",r.y.toFixed(1),")"]})]})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded space-y-2",children:[i.jsx("div",{className:"text-xs text-slate-400",children:"Dot Product (a  b):"}),i.jsx("div",{className:"text-lg font-mono text-yellow-400",children:m.toFixed(2)}),i.jsx("div",{className:"text-xs text-slate-400 mt-2",children:"Angle between:"}),i.jsx("div",{className:"text-lg font-mono text-yellow-400",children:isNaN(g)?"":`${g.toFixed(1)}`}),l&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-xs text-slate-400 mt-2",children:"Sum (a + b):"}),i.jsxs("div",{className:"text-sm font-mono text-purple-400",children:["(",E.x.toFixed(1),", ",E.y.toFixed(1),")"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:l,onChange:w=>o(w.target.checked),className:"rounded"}),"Show vector sum"]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:c,onChange:w=>h(w.target.checked),className:"rounded"}),"Show angle"]})]}),i.jsxs("div",{className:"p-2 bg-slate-800/50 rounded text-xs text-slate-400",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Perpendicular:"})," a  b = 0"]}),i.jsx("p",{className:m===0?"text-green-400":"",children:Math.abs(m)<.1?" Perpendicular!":`a  b = ${m.toFixed(1)}`})]})]})]})]})}function jX({className:t=""}){const e=q.useRef(null),[n,s]=q.useState([{x:1,y:1},{x:5,y:1},{x:3,y:4}]),[r,a]=q.useState("centroid"),[l,o]=q.useState(null),c=480,h=400,u=50,f=80,x=h-80,b=($,B)=>[f+$*u,x-B*u],M=($,B)=>({x:($-f)/u,y:(x-B)/u}),[y,T,S]=n,N={x:(y.x+T.x+S.x)/3,y:(y.y+T.y+S.y)/3},m=(()=>{const $=2*(y.x*(T.y-S.y)+T.x*(S.y-y.y)+S.x*(y.y-T.y));if(Math.abs($)<1e-4)return N;const B=((y.x**2+y.y**2)*(T.y-S.y)+(T.x**2+T.y**2)*(S.y-y.y)+(S.x**2+S.y**2)*(y.y-T.y))/$,G=((y.x**2+y.y**2)*(S.x-T.x)+(T.x**2+T.y**2)*(y.x-S.x)+(S.x**2+S.y**2)*(T.x-y.x))/$;return{x:B,y:G}})(),E=(()=>{const $=(S.y-T.y)/(S.x-T.x),B=(y.y-S.y)/(y.x-S.x);if(!isFinite($)||!isFinite(B))return N;const G=-1/$,V=-1/B;if(!isFinite(G)||!isFinite(V))return N;const J=(G*y.x-V*T.x+T.y-y.y)/(G-V),ee=y.y+G*(J-y.x);return{x:J,y:ee}})(),p=(()=>{const $=Math.sqrt((S.x-T.x)**2+(S.y-T.y)**2),B=Math.sqrt((y.x-S.x)**2+(y.y-S.y)**2),G=Math.sqrt((T.x-y.x)**2+(T.y-y.y)**2),V=$+B+G;return{x:($*y.x+B*T.x+G*S.x)/V,y:($*y.y+B*T.y+G*S.y)/V}})(),A=()=>{switch(r){case"centroid":return N;case"circumcenter":return m;case"orthocenter":return E;case"incenter":return p}};q.useEffect(()=>{const $=e.current;if(!$)return;const B=$.getContext("2d");if(!B)return;B.fillStyle="#0f172a",B.fillRect(0,0,c,h),B.strokeStyle="#1e293b",B.lineWidth=1;for(let Ae=0;Ae<=8;Ae++){const[Fe]=b(Ae,0);B.beginPath(),B.moveTo(Fe,0),B.lineTo(Fe,h),B.stroke()}for(let Ae=0;Ae<=6;Ae++){const[,Fe]=b(0,Ae);B.beginPath(),B.moveTo(0,Fe),B.lineTo(c,Fe),B.stroke()}const[G,V]=b(y.x,y.y),[J,ee]=b(T.x,T.y),[re,se]=b(S.x,S.y);B.fillStyle="rgba(244, 114, 182, 0.2)",B.beginPath(),B.moveTo(G,V),B.lineTo(J,ee),B.lineTo(re,se),B.closePath(),B.fill(),B.strokeStyle="#f472b6",B.lineWidth=2,B.stroke(),B.setLineDash([4,4]),B.lineWidth=1;const he=A(),[ae,Ne]=b(he.x,he.y);switch(r){case"centroid":{B.strokeStyle="#a78bfa";const Ae={x:(T.x+S.x)/2,y:(T.y+S.y)/2},[Fe,Be]=b(Ae.x,Ae.y);B.beginPath(),B.moveTo(G,V),B.lineTo(Fe,Be),B.stroke();const at={x:(y.x+S.x)/2,y:(y.y+S.y)/2},[Ue,et]=b(at.x,at.y);B.beginPath(),B.moveTo(J,ee),B.lineTo(Ue,et),B.stroke();const _e={x:(y.x+T.x)/2,y:(y.y+T.y)/2},[$e,qt]=b(_e.x,_e.y);B.beginPath(),B.moveTo(re,se),B.lineTo($e,qt),B.stroke();break}case"circumcenter":{B.strokeStyle="#22d3ee";const Ae=Math.sqrt((y.x-m.x)**2+(y.y-m.y)**2);B.beginPath(),B.arc(ae,Ne,Ae*u,0,Math.PI*2),B.stroke();break}case"orthocenter":{B.strokeStyle="#fbbf24",B.beginPath(),B.moveTo(G,V),B.lineTo(ae,Ne),B.stroke(),B.beginPath(),B.moveTo(J,ee),B.lineTo(ae,Ne),B.stroke(),B.beginPath(),B.moveTo(re,se),B.lineTo(ae,Ne),B.stroke();break}case"incenter":{B.strokeStyle="#34d399";const Ae=Math.sqrt((S.x-T.x)**2+(S.y-T.y)**2),Fe=Math.sqrt((y.x-S.x)**2+(y.y-S.y)**2),Be=Math.sqrt((T.x-y.x)**2+(T.y-y.y)**2),at=(Ae+Fe+Be)/2,et=Math.sqrt(at*(at-Ae)*(at-Fe)*(at-Be))/at;B.beginPath(),B.arc(ae,Ne,et*u,0,Math.PI*2),B.stroke();break}}B.setLineDash([]);const Te=(Ae,Fe,Be)=>{B.fillStyle="#f472b6",B.beginPath(),B.arc(Ae,Fe,8,0,Math.PI*2),B.fill(),B.fillStyle="#fce7f3",B.font="bold 14px sans-serif",B.fillText(Be,Ae+10,Fe-10)};Te(G,V,"A"),Te(J,ee,"B"),Te(re,se,"C");const tt={centroid:"#a78bfa",circumcenter:"#22d3ee",orthocenter:"#fbbf24",incenter:"#34d399"};B.fillStyle=tt[r],B.beginPath(),B.arc(ae,Ne,7,0,Math.PI*2),B.fill();const Ce={centroid:"G",circumcenter:"O",orthocenter:"H",incenter:"I"};B.fillStyle=tt[r],B.font="bold 14px sans-serif",B.fillText(Ce[r],ae+10,Ne-10),B.fillStyle="#94a3b8",B.font="11px sans-serif",B.fillText("Drag vertices A, B, C",10,20)},[n,r,y,T,S,N,m,E,p]);const w=$=>{var J;const B=(J=e.current)==null?void 0:J.getBoundingClientRect();if(!B)return;const G=$.clientX-B.left,V=$.clientY-B.top;n.forEach((ee,re)=>{const[se,he]=b(ee.x,ee.y);Math.hypot(G-se,V-he)<15&&o(re)})},k=$=>{var re;if(l===null)return;const B=(re=e.current)==null?void 0:re.getBoundingClientRect();if(!B)return;const G=$.clientX-B.left,V=$.clientY-B.top;let J=M(G,V);J.x=Math.round(J.x*2)/2,J.y=Math.round(J.y*2)/2,J.x=Math.max(.5,Math.min(7,J.x)),J.y=Math.max(.5,Math.min(5.5,J.y));const ee=[...n];ee[l]=J,s(ee)},D=()=>{o(null)},I=A();return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Triangle Centers"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded cursor-grab",onMouseDown:w,onMouseMove:k,onMouseUp:D,onMouseLeave:D})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Center Type"}),i.jsxs("select",{value:r,onChange:$=>a($.target.value),className:"w-full px-2 py-1.5 bg-slate-800 border border-slate-600 rounded text-slate-200 text-sm",children:[i.jsx("option",{value:"centroid",children:"Centroid (Medians)"}),i.jsx("option",{value:"circumcenter",children:"Circumcenter (Perp. Bisectors)"}),i.jsx("option",{value:"orthocenter",children:"Orthocenter (Altitudes)"}),i.jsx("option",{value:"incenter",children:"Incenter (Angle Bisectors)"})]})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Center coordinates:"}),i.jsxs("div",{className:"text-sm font-mono text-slate-200",children:["(",I.x.toFixed(2),", ",I.y.toFixed(2),")"]})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded text-xs text-slate-300",children:[r==="centroid"&&i.jsx("p",{children:"The centroid is the intersection of medians. It divides each median in ratio 2:1."}),r==="circumcenter"&&i.jsx("p",{children:"The circumcenter is equidistant from all vertices - it's the center of the circumscribed circle."}),r==="orthocenter"&&i.jsx("p",{children:"The orthocenter is the intersection of the three altitudes of the triangle."}),r==="incenter"&&i.jsx("p",{children:"The incenter is equidistant from all sides - it's the center of the inscribed circle."})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Triangle vertices"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-purple-400",children:"Purple:"})," Centroid"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," Circumcenter"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," Orthocenter"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-green-400",children:"Green:"})," Incenter"]})]})]})]})]})}function wX({className:t=""}){const e=q.useRef(null),[n,s]=q.useState({x:3,y:1}),[r,a]=q.useState({x:1,y:2}),[l,o]=q.useState(1.5),[c,h]=q.useState(null),[u,f]=q.useState("add"),x=500,b=400,M=200,y=250,T=40,S=v=>({x:M+v.x*T,y:y-v.y*T}),N=(v,p)=>({x:(v-M)/T,y:(y-p)/T}),j=(v,p,A,w,k=2)=>{const D=A.x-p.x,I=A.y-p.y,$=Math.atan2(I,D);Math.sqrt(D*D+I*I)<5||(v.strokeStyle=w,v.lineWidth=k,v.beginPath(),v.moveTo(p.x,p.y),v.lineTo(A.x,A.y),v.stroke(),v.fillStyle=w,v.beginPath(),v.moveTo(A.x,A.y),v.lineTo(A.x-12*Math.cos($-.3),A.y-12*Math.sin($-.3)),v.lineTo(A.x-12*Math.cos($+.3),A.y-12*Math.sin($+.3)),v.closePath(),v.fill())};q.useEffect(()=>{const v=e.current;if(!v)return;const p=v.getContext("2d");if(!p)return;p.fillStyle="#0f172a",p.fillRect(0,0,x,b),p.strokeStyle="#1e293b",p.lineWidth=1;for(let D=-5;D<=10;D++){const I=M+D*T,$=y-D*T;p.beginPath(),p.moveTo(I,0),p.lineTo(I,b),p.stroke(),p.beginPath(),p.moveTo(0,$),p.lineTo(x,$),p.stroke()}p.strokeStyle="#475569",p.lineWidth=2,p.beginPath(),p.moveTo(M,0),p.lineTo(M,b),p.stroke(),p.beginPath(),p.moveTo(0,y),p.lineTo(x,y),p.stroke(),p.fillStyle="#94a3b8",p.font="12px sans-serif",p.fillText("O",M-15,y+15);const A=S({x:0,y:0}),w=S(n),k=S(r);if(u==="add"){const D={x:n.x+r.x,y:n.y+r.y},I=S(D);p.strokeStyle="#475569",p.lineWidth=1,p.setLineDash([5,5]),p.beginPath(),p.moveTo(w.x,w.y),p.lineTo(I.x,I.y),p.stroke(),p.beginPath(),p.moveTo(k.x,k.y),p.lineTo(I.x,I.y),p.stroke(),p.setLineDash([]),j(p,A,w,"#60a5fa",3),j(p,A,k,"#f472b6",3),j(p,A,I,"#34d399",3),p.font="bold 14px sans-serif",p.fillStyle="#60a5fa",p.fillText("u",(A.x+w.x)/2-15,(A.y+w.y)/2-5),p.fillStyle="#f472b6",p.fillText("v",(A.x+k.x)/2+10,(A.y+k.y)/2),p.fillStyle="#34d399",p.fillText("u + v",(A.x+I.x)/2+10,(A.y+I.y)/2-10),p.fillStyle="#60a5fa",p.beginPath(),p.arc(w.x,w.y,8,0,Math.PI*2),p.fill(),p.fillStyle="#f472b6",p.beginPath(),p.arc(k.x,k.y,8,0,Math.PI*2),p.fill(),p.fillStyle="#0f172a",p.fillRect(x-160,10,150,100),p.strokeStyle="#334155",p.strokeRect(x-160,10,150,100),p.fillStyle="#e2e8f0",p.font="bold 12px sans-serif",p.fillText("Parallelogram Rule",x-150,30),p.font="11px sans-serif",p.fillStyle="#60a5fa",p.fillText(`u = (${n.x.toFixed(1)}, ${n.y.toFixed(1)})`,x-150,50),p.fillStyle="#f472b6",p.fillText(`v = (${r.x.toFixed(1)}, ${r.y.toFixed(1)})`,x-150,68),p.fillStyle="#34d399",p.fillText(`u+v = (${D.x.toFixed(1)}, ${D.y.toFixed(1)})`,x-150,86),p.fillStyle="#94a3b8",p.fillText("Drag u or v endpoints",x-150,105)}else{const D={x:n.x*l,y:n.y*l},I=S(D);j(p,A,w,"#60a5fa",2),j(p,A,I,"#fbbf24",3),p.font="bold 14px sans-serif",p.fillStyle="#60a5fa",p.fillText("u",(A.x+w.x)/2+10,(A.y+w.y)/2),p.fillStyle="#fbbf24",p.fillText(`${l}u`,(A.x+I.x)/2+10,(A.y+I.y)/2-10),p.fillStyle="#60a5fa",p.beginPath(),p.arc(w.x,w.y,8,0,Math.PI*2),p.fill(),p.fillStyle="#0f172a",p.fillRect(x-160,10,150,85),p.strokeStyle="#334155",p.strokeRect(x-160,10,150,85),p.fillStyle="#e2e8f0",p.font="bold 12px sans-serif",p.fillText("Scalar Multiplication",x-150,30),p.font="11px sans-serif",p.fillStyle="#60a5fa",p.fillText(`u = (${n.x.toFixed(1)}, ${n.y.toFixed(1)})`,x-150,50),p.fillStyle="#fbbf24",p.fillText(`${l}u = (${D.x.toFixed(1)}, ${D.y.toFixed(1)})`,x-150,68),p.fillStyle="#94a3b8",p.fillText(`|${l}u| = ${l}  |u|`,x-150,86)}p.fillStyle="#94a3b8",p.font="11px sans-serif",p.fillText("Drag vector endpoints",10,b-10)},[n,r,l,u]);const m=v=>{var I;const p=(I=e.current)==null?void 0:I.getBoundingClientRect();if(!p)return;const A=v.clientX-p.left,w=v.clientY-p.top,k=S(n),D=S(r);Math.hypot(A-k.x,w-k.y)<15?h("u"):u==="add"&&Math.hypot(A-D.x,w-D.y)<15&&h("v")},g=v=>{var D;if(!c)return;const p=(D=e.current)==null?void 0:D.getBoundingClientRect();if(!p)return;const A=v.clientX-p.left,w=v.clientY-p.top,k=N(A,w);k.x=Math.max(-4,Math.min(6,k.x)),k.y=Math.max(-3,Math.min(5,k.y)),c==="u"?s(k):c==="v"&&a(k)},E=()=>{h(null)};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Vector Operations"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:x,height:b,className:"border border-slate-700 rounded cursor-grab",onMouseDown:m,onMouseMove:g,onMouseUp:E,onMouseLeave:E})}),i.jsxs("div",{className:"w-full md:w-52 space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm text-slate-300 font-medium",children:"Mode:"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>f("add"),className:`flex-1 px-3 py-1.5 text-sm rounded ${u==="add"?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Addition"}),i.jsx("button",{onClick:()=>f("scalar"),className:`flex-1 px-3 py-1.5 text-sm rounded ${u==="scalar"?"bg-yellow-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Scalar "})]})]}),u==="scalar"&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm text-slate-300",children:["Scalar: ",l.toFixed(1)]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:l,onChange:v=>o(parseFloat(v.target.value)),className:"w-full"})]}),i.jsx("div",{className:"p-3 bg-slate-800 rounded text-xs",children:u==="add"?i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-slate-300 mb-2",children:i.jsx("strong",{className:"text-green-400",children:"Vector Addition:"})}),i.jsx("p",{className:"text-slate-400",children:"(u, u) + (v, v) = (u+v, u+v)"}),i.jsx("p",{className:"text-slate-400 mt-2",children:"The sum u + v is the diagonal of the parallelogram formed by u and v."})]}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-slate-300 mb-2",children:i.jsx("strong",{className:"text-yellow-400",children:"Scalar Multiplication:"})}),i.jsx("p",{className:"text-slate-400",children:"a(u, u) = (au, au)"}),i.jsx("p",{className:"text-slate-400 mt-2",children:"Stretches or shrinks the vector. Negative scalars reverse direction."})]})}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-blue-400",children:"Blue:"})," Vector u"]}),u==="add"?i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Vector v"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-green-400",children:"Green:"})," Sum u + v"]})]}):i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," Scalar  u"]})]})]})]})]})}function TX({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(45),[r,a]=q.useState(!1),[l,o]=q.useState(!1),c=q.useRef(null),h=500,u=420,f=250,x=210,b=80,M=y=>({x:f+y.x*b,y:x-y.y*b});return q.useEffect(()=>{const y=e.current;if(!y)return;const T=y.getContext("2d");if(!T)return;T.fillStyle="#0f172a",T.fillRect(0,0,h,u),T.strokeStyle="#1e293b",T.lineWidth=1;for(let w=-3;w<=3;w++){const k=f+w*b,D=x-w*b;T.beginPath(),T.moveTo(k,0),T.lineTo(k,u),T.stroke(),T.beginPath(),T.moveTo(0,D),T.lineTo(h,D),T.stroke()}T.strokeStyle="#475569",T.lineWidth=2,T.beginPath(),T.moveTo(f,0),T.lineTo(f,u),T.stroke(),T.beginPath(),T.moveTo(0,x),T.lineTo(h,x),T.stroke(),T.fillStyle="#94a3b8",T.font="14px sans-serif",T.fillText("Re",h-25,x+20),T.fillText("Im",f+10,20),T.fillText("1",f+b-5,x+20),T.fillText("i",f+8,x-b+5),T.fillText("-1",f-b-15,x+20),T.fillText("-i",f+8,x+b+15),T.strokeStyle="#475569",T.lineWidth=1,T.beginPath(),T.arc(f,x,b,0,Math.PI*2),T.stroke();const S=n*Math.PI/180,N=Math.cos(S),j=Math.sin(S),m=M({x:N,y:j});T.strokeStyle="#fbbf24",T.lineWidth=2,T.beginPath(),T.moveTo(f,x),T.lineTo(m.x,m.y),T.stroke(),T.strokeStyle="#fbbf24",T.lineWidth=2,T.beginPath(),T.arc(f,x,30,0,-S,S>0),T.stroke(),T.fillStyle="#fbbf24",T.font="12px sans-serif",T.fillText(`${n}`,f+35,x-10),T.fillStyle="#fbbf24",T.beginPath(),T.arc(m.x,m.y,8,0,Math.PI*2),T.fill(),T.fillStyle="#fbbf24",T.font="bold 12px sans-serif";const g=n>90&&n<270?-60:15;T.fillText(`e^{i} = ${N.toFixed(2)} + ${j.toFixed(2)}i`,m.x+g,m.y-15);const E=[{x:1.5,y:.5},{x:1,y:1.5},{x:.5,y:.5}];T.strokeStyle="#60a5fa",T.fillStyle="rgba(96, 165, 250, 0.2)",T.lineWidth=2,T.beginPath();const v=M(E[0]);T.moveTo(v.x,v.y);for(let w=1;w<E.length;w++){const k=M(E[w]);T.lineTo(k.x,k.y)}T.closePath(),T.fill(),T.stroke();const p=E.map(w=>({x:w.x*N-w.y*j,y:w.x*j+w.y*N}));T.strokeStyle="#f472b6",T.fillStyle="rgba(244, 114, 182, 0.2)",T.lineWidth=2,T.beginPath();const A=M(p[0]);T.moveTo(A.x,A.y);for(let w=1;w<p.length;w++){const k=M(p[w]);T.lineTo(k.x,k.y)}T.closePath(),T.fill(),T.stroke(),E.forEach(w=>{const k=M(w);T.fillStyle="#60a5fa",T.beginPath(),T.arc(k.x,k.y,5,0,Math.PI*2),T.fill()}),p.forEach(w=>{const k=M(w);T.fillStyle="#f472b6",T.beginPath(),T.arc(k.x,k.y,5,0,Math.PI*2),T.fill()}),r&&(T.fillStyle="#0f172a",T.fillRect(10,10,180,95),T.strokeStyle="#334155",T.strokeRect(10,10,180,95),T.fillStyle="#e2e8f0",T.font="bold 11px sans-serif",T.fillText("Rotation Matrix:",20,28),T.font="12px monospace",T.fillStyle="#34d399",T.fillText(` ${N.toFixed(3)}  ${(-j).toFixed(3)} `,20,50),T.fillText(` ${j.toFixed(3)}   ${N.toFixed(3)} `,20,70),T.fillStyle="#94a3b8",T.font="10px sans-serif",T.fillText("cos  = "+N.toFixed(3),20,90),T.fillText("sin  = "+j.toFixed(3),100,90)),T.fillStyle="#0f172a",T.fillRect(h-180,u-70,170,60),T.strokeStyle="#334155",T.strokeRect(h-180,u-70,170,60),T.fillStyle="#fbbf24",T.font="bold 11px sans-serif",T.fillText("Multiply by:",h-170,u-52),T.fillStyle="#e2e8f0",T.font="12px sans-serif",T.fillText(`cos(${n}) + isin(${n})`,h-170,u-35),T.fillStyle="#94a3b8",T.font="11px sans-serif",T.fillText("= rotation by ",h-170,u-18)},[n,r]),q.useEffect(()=>{if(l){let y=n;const T=()=>{y=(y+2)%360,s(y),c.current=requestAnimationFrame(T)};c.current=requestAnimationFrame(T)}else c.current&&cancelAnimationFrame(c.current);return()=>{c.current&&cancelAnimationFrame(c.current)}},[l]),i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Complex Number Rotation"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:h,height:u,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm text-slate-300",children:["Rotation Angle: ",n,""]}),i.jsx("input",{type:"range",min:"0",max:"360",step:"5",value:n,onChange:y=>{o(!1),s(parseInt(y.target.value))},className:"w-full"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>o(!l),className:`flex-1 px-3 py-1.5 text-sm rounded ${l?"bg-red-600 text-white":"bg-green-600 text-white"}`,children:l?"Stop":"Animate"}),i.jsx("button",{onClick:()=>s(90),className:"px-3 py-1.5 text-sm bg-slate-700 text-slate-200 rounded hover:bg-slate-600",children:"90"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:r,onChange:y=>a(y.target.checked),className:"rounded"}),"Show rotation matrix"]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded text-xs",children:[i.jsx("p",{className:"text-slate-300 mb-2",children:i.jsx("strong",{className:"text-yellow-400",children:"Key Insight:"})}),i.jsxs("p",{className:"text-slate-400",children:["Multiplying z = x + iy by",i.jsx("br",{}),i.jsx("span",{className:"text-yellow-400",children:"cos  + i sin "}),i.jsx("br",{}),"rotates z by angle  about the origin."]}),i.jsxs("p",{className:"text-slate-400 mt-2",children:["This is why ",i.jsx("span",{className:"text-cyan-400",children:"i = -1"}),":",i.jsx("br",{}),"Multiplying by i rotates by 90, so i rotates by 180 = multiplication by -1."]})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-blue-400",children:"Blue:"})," Original shape"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Rotated shape"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," e^(i) on unit circle"]})]})]})]})]})}function SX({className:t=""}){const e=q.useRef(null),[n,s]=q.useState({x:3,y:1}),[r,a]=q.useState({x:1,y:2}),[l,o]=q.useState(null),[c,h]=q.useState(!0),u=550,f=400,x=u/2,b=f/2,M=40,y=q.useCallback((v,p)=>({x:x+v*M,y:b-p*M}),[]),T=q.useCallback((v,p)=>({x:(v-x)/M,y:(b-p)/M}),[]),S=n.x*r.y-n.y*r.x,N=Math.abs(S)<.01,j=q.useCallback(v=>{const p=e.current;if(!p)return{x:0,y:0};const A=p.getBoundingClientRect();return{x:v.clientX-A.left,y:v.clientY-A.top}},[]),m=q.useCallback(v=>{const p=j(v),A=y(n.x,n.y),w=y(r.x,r.y),k=Math.sqrt((p.x-A.x)**2+(p.y-A.y)**2),D=Math.sqrt((p.x-w.x)**2+(p.y-w.y)**2);k<15?o("u"):D<15&&o("v")},[j,y,n,r]),g=q.useCallback(v=>{if(!l)return;const p=j(v),A=T(p.x,p.y),w={x:Math.round(A.x*2)/2,y:Math.round(A.y*2)/2};w.x=Math.max(-5,Math.min(5,w.x)),w.y=Math.max(-4,Math.min(4,w.y)),l==="u"?s(w):a(w)},[l,j,T]),E=q.useCallback(()=>{o(null)},[]);return q.useEffect(()=>{const v=e.current;if(!v)return;const p=v.getContext("2d");if(!p)return;p.fillStyle="#0f172a",p.fillRect(0,0,u,f),p.strokeStyle="#1e293b",p.lineWidth=1;for(let w=0;w<=u;w+=M)p.beginPath(),p.moveTo(w,0),p.lineTo(w,f),p.stroke();for(let w=0;w<=f;w+=M)p.beginPath(),p.moveTo(0,w),p.lineTo(u,w),p.stroke();if(p.strokeStyle="#475569",p.lineWidth=2,p.beginPath(),p.moveTo(0,b),p.lineTo(u,b),p.moveTo(x,0),p.lineTo(x,f),p.stroke(),c&&!N){const w=p.createLinearGradient(x,b,x+200,b-200);w.addColorStop(0,"rgba(96, 165, 250, 0.1)"),w.addColorStop(1,"rgba(52, 211, 153, 0.1)");for(let k=-3;k<=3;k++)for(let D=-3;D<=3;D++){const I=y(k*n.x+D*r.x,k*n.y+D*r.y);p.fillStyle="rgba(96, 165, 250, 0.05)",p.beginPath(),p.arc(I.x,I.y,3,0,Math.PI*2),p.fill()}}if(N&&(n.x!==0||n.y!==0)){p.strokeStyle="#f472b6",p.lineWidth=3,p.setLineDash([8,4]);const w=Math.sqrt(n.x**2+n.y**2),k=n.x/w,D=n.y/w,I=y(-10*k,-10*D),$=y(10*k,10*D);p.beginPath(),p.moveTo(I.x,I.y),p.lineTo($.x,$.y),p.stroke(),p.setLineDash([])}const A=(w,k,D,I)=>{const $=y(0,0),B=y(w,k);p.strokeStyle=D,p.lineWidth=3,p.beginPath(),p.moveTo($.x,$.y),p.lineTo(B.x,B.y),p.stroke();const G=Math.atan2($.y-B.y,$.x-B.x),V=12;p.beginPath(),p.moveTo(B.x,B.y),p.lineTo(B.x+V*Math.cos(G-Math.PI/6),B.y+V*Math.sin(G-Math.PI/6)),p.moveTo(B.x,B.y),p.lineTo(B.x+V*Math.cos(G+Math.PI/6),B.y+V*Math.sin(G+Math.PI/6)),p.stroke(),p.fillStyle=D,p.beginPath(),p.arc(B.x,B.y,6,0,Math.PI*2),p.fill(),p.font="bold 14px sans-serif",p.fillText(I,B.x+10,B.y-10),p.font="11px sans-serif",p.fillText(`(${w.toFixed(1)}, ${k.toFixed(1)})`,B.x+10,B.y+5)};A(n.x,n.y,"#60a5fa","u"),A(r.x,r.y,"#34d399","v"),p.fillStyle="#f472b6",p.beginPath(),p.arc(x,b,5,0,Math.PI*2),p.fill(),p.font="bold 12px sans-serif",p.fillStyle="#f472b6",p.fillText("O",x+8,b+15),p.font="bold 16px sans-serif",N?(p.fillStyle="#f472b6",p.fillText("Linearly DEPENDENT",10,30),p.font="12px sans-serif",p.fillStyle="#94a3b8",p.fillText("(vectors are parallel - span only a line)",10,50)):(p.fillStyle="#34d399",p.fillText("Linearly INDEPENDENT",10,30),p.font="12px sans-serif",p.fillStyle="#94a3b8",p.fillText("(vectors span the entire plane)",10,50)),p.fillStyle="#e2e8f0",p.font="13px sans-serif",p.fillText(`det = uv  uv = ${n.x.toFixed(1)}${r.y.toFixed(1)}  ${n.y.toFixed(1)}${r.x.toFixed(1)} = ${S.toFixed(2)}`,10,f-20)},[n,r,c,N,y,S]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Linear Independence and Direction"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:u,height:f,className:"border border-slate-700 rounded cursor-pointer",onMouseDown:m,onMouseMove:g,onMouseUp:E,onMouseLeave:E})}),i.jsxs("div",{className:"flex justify-center gap-3 mb-4",children:[i.jsx("button",{onClick:()=>h(!c),className:`px-4 py-2 rounded transition ${c?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:c?"Showing Span":"Hide Span"}),i.jsx("button",{onClick:()=>{s({x:2,y:1}),a({x:4,y:2})},className:"px-4 py-2 bg-pink-600 text-white rounded hover:bg-pink-500 transition",children:"Make Dependent"}),i.jsx("button",{onClick:()=>{s({x:3,y:1}),a({x:1,y:2})},className:"px-4 py-2 bg-slate-700 text-white rounded hover:bg-slate-600 transition",children:"Reset"})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Linear Independence:"})," Vectors ",i.jsx("span",{className:"text-blue-400",children:"u"})," and"," ",i.jsx("span",{className:"text-green-400",children:"v"})," are linearly independent if neither is a multiple of the other. Equivalently, the only solution to"," ",i.jsx("span",{className:"font-mono",children:"au + bv = 0"})," is a = b = 0."]}),i.jsx("p",{className:"mt-2",children:"Drag the vector tips to explore! When det  0, the vectors span ."})]})]})}function NX({className:t=""}){const e=q.useRef(null),[n,s]=q.useState({x:3,y:1}),[r,a]=q.useState({x:2,y:3}),[l,o]=q.useState(null),c=550,h=400,u=c/2,f=h/2,x=45,b=q.useCallback((A,w)=>({x:u+A*x,y:f-w*x}),[]),M=q.useCallback((A,w)=>({x:(A-u)/x,y:(f-w)/x}),[]),y=Math.sqrt(n.x**2+n.y**2),T=Math.sqrt(r.x**2+r.y**2),S=n.x*r.x+n.y*r.y,N=y>0&&T>0?S/(y*T):0,m=Math.acos(Math.max(-1,Math.min(1,N)))*180/Math.PI,g=q.useCallback(A=>{const w=e.current;if(!w)return{x:0,y:0};const k=w.getBoundingClientRect();return{x:A.clientX-k.left,y:A.clientY-k.top}},[]),E=q.useCallback(A=>{const w=g(A),k=b(n.x,n.y),D=b(r.x,r.y),I=Math.sqrt((w.x-k.x)**2+(w.y-k.y)**2),$=Math.sqrt((w.x-D.x)**2+(w.y-D.y)**2);I<15?o("u"):$<15&&o("v")},[g,b,n,r]),v=q.useCallback(A=>{if(!l)return;const w=g(A),k=M(w.x,w.y),D={x:Math.max(-4,Math.min(4,k.x)),y:Math.max(-3.5,Math.min(3.5,k.y))};l==="u"?s(D):a(D)},[l,g,M]),p=q.useCallback(()=>{o(null)},[]);return q.useEffect(()=>{const A=e.current;if(!A)return;const w=A.getContext("2d");if(!w)return;w.fillStyle="#0f172a",w.fillRect(0,0,c,h),w.strokeStyle="#1e293b",w.lineWidth=1;for(let $=0;$<=c;$+=x)w.beginPath(),w.moveTo($,0),w.lineTo($,h),w.stroke();for(let $=0;$<=h;$+=x)w.beginPath(),w.moveTo(0,$),w.lineTo(c,$),w.stroke();if(w.strokeStyle="#475569",w.lineWidth=2,w.beginPath(),w.moveTo(0,f),w.lineTo(c,f),w.moveTo(u,0),w.lineTo(u,h),w.stroke(),y>.1&&T>.1){const B=Math.atan2(n.y,n.x),G=Math.atan2(r.y,r.x);w.strokeStyle="#fbbf24",w.lineWidth=2,w.beginPath();const V=Math.min(B,G),J=Math.max(B,G);J-V<=Math.PI?w.arc(u,f,30,-J,-V):w.arc(u,f,30,-V,-J),w.stroke();const re=(B+G)/2,se=50;w.fillStyle="#fbbf24",w.font="14px sans-serif",w.fillText(` = ${m.toFixed(1)}`,u+se*Math.cos(re)-25,f-se*Math.sin(re))}const k=($,B,G,V)=>{const J=b(0,0),ee=b($,B);w.strokeStyle=G,w.lineWidth=3,w.beginPath(),w.moveTo(J.x,J.y),w.lineTo(ee.x,ee.y),w.stroke();const re=Math.atan2(J.y-ee.y,J.x-ee.x),se=12;w.beginPath(),w.moveTo(ee.x,ee.y),w.lineTo(ee.x+se*Math.cos(re-Math.PI/6),ee.y+se*Math.sin(re-Math.PI/6)),w.moveTo(ee.x,ee.y),w.lineTo(ee.x+se*Math.cos(re+Math.PI/6),ee.y+se*Math.sin(re+Math.PI/6)),w.stroke(),w.fillStyle=G,w.beginPath(),w.arc(ee.x,ee.y,6,0,Math.PI*2),w.fill(),w.font="bold 14px sans-serif",w.fillText(V,ee.x+10,ee.y-10)};k(n.x,n.y,"#60a5fa","u"),k(r.x,r.y,"#34d399","v"),w.fillStyle="#f472b6",w.beginPath(),w.arc(u,f,5,0,Math.PI*2),w.fill();const D=10,I=10;w.fillStyle="rgba(30, 41, 59, 0.9)",w.fillRect(D,I,220,130),w.strokeStyle="#475569",w.strokeRect(D,I,220,130),w.font="bold 13px sans-serif",w.fillStyle="#e2e8f0",w.fillText("Inner Product Formula:",D+10,I+25),w.font="12px sans-serif",w.fillStyle="#60a5fa",w.fillText(`|u| = ${y.toFixed(2)}`,D+10,I+50),w.fillStyle="#34d399",w.fillText(`|v| = ${T.toFixed(2)}`,D+100,I+50),w.fillStyle="#fbbf24",w.fillText(`cos  = ${N.toFixed(3)}`,D+10,I+70),w.fillStyle="#e2e8f0",w.fillText(`uv = ${S.toFixed(2)}`,D+10,I+95),w.fillStyle="#c084fc",w.fillText(`|u||v|cos  = ${(y*T*N).toFixed(2)}`,D+10,I+115),Math.abs(S)<.1&&(w.fillStyle="#34d399",w.font="bold 14px sans-serif",w.fillText("Perpendicular! (uv = 0)",c-180,h-20))},[n,r,b,y,T,S,N,m]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Inner Product and Cosine"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded cursor-pointer",onMouseDown:E,onMouseMove:v,onMouseUp:p,onMouseLeave:p})}),i.jsxs("div",{className:"flex justify-center gap-3 mb-4",children:[i.jsx("button",{onClick:()=>{s({x:3,y:0}),a({x:0,y:2})},className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-500 transition",children:"Make Perpendicular"}),i.jsx("button",{onClick:()=>{s({x:3,y:1}),a({x:2,y:3})},className:"px-4 py-2 bg-slate-700 text-white rounded hover:bg-slate-600 transition",children:"Reset"})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{className:"text-center font-mono text-lg text-pink-400 mb-2",children:"u  v = |u| |v| cos "}),i.jsxs("p",{children:["The dot product of vectors ",i.jsx("span",{className:"text-blue-400",children:"u"})," and"," ",i.jsx("span",{className:"text-green-400",children:"v"})," equals the product of their magnitudes times the cosine of the angle between them."]}),i.jsx("p",{className:"mt-2",children:"Drag the vector tips to see how the angle and dot product change!"})]})]})}function AX({className:t=""}){const e=q.useRef(null),[n,s]=q.useState({x:2,y:1}),[r,a]=q.useState({x:1,y:2.5}),[l,o]=q.useState(null),[c,h]=q.useState(!0),u=550,f=400,x=150,b=f-100,M=50,y=q.useCallback((A,w)=>({x:x+A*M,y:b-w*M}),[]),T=q.useCallback((A,w)=>({x:(A-x)/M,y:(b-w)/M}),[]),S=Math.sqrt(n.x**2+n.y**2),N=Math.sqrt(r.x**2+r.y**2),j={x:n.x+r.x,y:n.y+r.y},m=Math.sqrt(j.x**2+j.y**2),g=q.useCallback(A=>{const w=e.current;if(!w)return{x:0,y:0};const k=w.getBoundingClientRect();return{x:A.clientX-k.left,y:A.clientY-k.top}},[]),E=q.useCallback(A=>{const w=g(A),k=y(n.x,n.y),D=y(n.x+r.x,n.y+r.y),I=Math.sqrt((w.x-k.x)**2+(w.y-k.y)**2),$=Math.sqrt((w.x-D.x)**2+(w.y-D.y)**2);I<15?o("u"):$<15&&o("v")},[g,y,n,r]),v=q.useCallback(A=>{if(!l)return;const w=g(A);if(l==="u"){const k=T(w.x,w.y);s({x:Math.max(.5,Math.min(4,k.x)),y:Math.max(0,Math.min(4,k.y))})}else if(l==="v"){const k=T(w.x,w.y);a({x:Math.max(-2,Math.min(4,k.x-n.x)),y:Math.max(-2,Math.min(4,k.y-n.y))})}},[l,g,T,n]),p=q.useCallback(()=>{o(null)},[]);return q.useEffect(()=>{const A=e.current;if(!A)return;const w=A.getContext("2d");if(!w)return;w.fillStyle="#0f172a",w.fillRect(0,0,u,f),w.strokeStyle="#1e293b",w.lineWidth=1;for(let se=0;se<=u;se+=M)w.beginPath(),w.moveTo(se,0),w.lineTo(se,f),w.stroke();for(let se=0;se<=f;se+=M)w.beginPath(),w.moveTo(0,se),w.lineTo(u,se),w.stroke();const k=y(0,0),D=y(n.x,n.y),I=y(j.x,j.y),$=(se,he,ae,Ne,Te,tt=3)=>{w.strokeStyle=Te,w.lineWidth=tt,w.beginPath(),w.moveTo(se,he),w.lineTo(ae,Ne),w.stroke();const Ce=Math.atan2(he-Ne,se-ae),Ae=10;w.beginPath(),w.moveTo(ae,Ne),w.lineTo(ae+Ae*Math.cos(Ce-Math.PI/6),Ne+Ae*Math.sin(Ce-Math.PI/6)),w.moveTo(ae,Ne),w.lineTo(ae+Ae*Math.cos(Ce+Math.PI/6),Ne+Ae*Math.sin(Ce+Math.PI/6)),w.stroke()};if($(k.x,k.y,D.x,D.y,"#60a5fa"),$(D.x,D.y,I.x,I.y,"#34d399"),$(k.x,k.y,I.x,I.y,"#f472b6",4),c){w.strokeStyle="#475569",w.lineWidth=1,w.setLineDash([4,4]);const se=y(j.x,0);w.beginPath(),w.moveTo(k.x,k.y),w.lineTo(se.x,se.y),w.lineTo(I.x,I.y),w.stroke(),w.setLineDash([])}w.fillStyle="#f472b6",w.beginPath(),w.arc(k.x,k.y,5,0,Math.PI*2),w.fill(),w.font="bold 12px sans-serif",w.fillText("O",k.x-20,k.y+5),w.fillStyle="#60a5fa",w.beginPath(),w.arc(D.x,D.y,7,0,Math.PI*2),w.fill(),w.fillStyle="#34d399",w.beginPath(),w.arc(I.x,I.y,7,0,Math.PI*2),w.fill(),w.font="bold 14px sans-serif",w.fillStyle="#60a5fa";const B={x:(k.x+D.x)/2,y:(k.y+D.y)/2};w.fillText("u",B.x-20,B.y-5),w.fillStyle="#34d399";const G={x:(D.x+I.x)/2,y:(D.y+I.y)/2};w.fillText("v",G.x+10,G.y-5),w.fillStyle="#f472b6";const V={x:(k.x+I.x)/2,y:(k.y+I.y)/2};w.fillText("u+v",V.x-35,V.y+5);const J=320,ee=20;w.fillStyle="rgba(30, 41, 59, 0.95)",w.fillRect(J,ee,210,160),w.strokeStyle="#475569",w.strokeRect(J,ee,210,160),w.font="bold 14px sans-serif",w.fillStyle="#e2e8f0",w.fillText("Triangle Inequality:",J+10,ee+25),w.font="13px sans-serif",w.fillStyle="#60a5fa",w.fillText(`|u| = ${S.toFixed(2)}`,J+10,ee+55),w.fillStyle="#34d399",w.fillText(`|v| = ${N.toFixed(2)}`,J+10,ee+75),w.fillStyle="#94a3b8",w.fillText(`|u| + |v| = ${(S+N).toFixed(2)}`,J+10,ee+100),w.fillStyle="#f472b6",w.fillText(`|u + v| = ${m.toFixed(2)}`,J+10,ee+125);const re=S+N-m;w.fillStyle=re>=-.01?"#34d399":"#ef4444",w.font="bold 12px sans-serif",w.fillText("|u+v|  |u| + |v|  ",J+10,ee+150),w.fillStyle="#94a3b8",w.font="12px sans-serif",w.fillText("The direct path (pink) is never longer than going via the corner.",20,f-20)},[n,r,c,y,S,N,m,j]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Triangle Inequality: |u + v|  |u| + |v|"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:u,height:f,className:"border border-slate-700 rounded cursor-pointer",onMouseDown:E,onMouseMove:v,onMouseUp:p,onMouseLeave:p})}),i.jsxs("div",{className:"flex justify-center gap-3 mb-4",children:[i.jsx("button",{onClick:()=>h(!c),className:`px-4 py-2 rounded transition ${c?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:c?"Hide Components":"Show Components"}),i.jsx("button",{onClick:()=>{s({x:2,y:1}),a({x:2,y:1})},className:"px-4 py-2 bg-pink-600 text-white rounded hover:bg-pink-500 transition",children:"Equality Case"}),i.jsx("button",{onClick:()=>{s({x:2,y:1}),a({x:1,y:2.5})},className:"px-4 py-2 bg-slate-700 text-white rounded hover:bg-slate-600 transition",children:"Reset"})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Triangle Inequality:"})," The length of the sum |",i.jsx("span",{className:"text-pink-400",children:"u + v"}),"| is at most the sum of the lengths |",i.jsx("span",{className:"text-blue-400",children:"u"}),"| + |",i.jsx("span",{className:"text-green-400",children:"v"}),"|."]}),i.jsxs("p",{className:"mt-2",children:["Equality holds when ",i.jsx("span",{className:"text-blue-400",children:"u"})," and ",i.jsx("span",{className:"text-green-400",children:"v"})," point in the same direction. Drag the endpoints to explore!"]})]})]})}function kX(){return i.jsxs(qe,{sectionId:23,children:[i.jsx("h2",{children:"Vectors"}),i.jsxs("p",{children:["In this chapter, we process coordinates by ",i.jsx("strong",{children:"linear algebra"}),". We view points as ",i.jsx("strong",{children:"vectors"})," that can be added and multiplied by numbers, and we introduce the ",i.jsx("strong",{children:"inner product"})," of vectors, which gives an efficient algebraic method to deal with both lengths and angles."]}),i.jsx("h3",{children:"What is a Vector?"}),i.jsx("p",{children:"Vectors are mathematical objects that can be added and multiplied by numbers, subject to certain rules. The real numbers are the simplest example of vectors, and the rules for sums and multiples of any vectors are just the following properties of sums and multiples of numbers:"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[i.jsx(Y,{children:"\\mathbf{u} + \\mathbf{v} = \\mathbf{v} + \\mathbf{u}"}),i.jsx(Y,{children:"\\mathbf{u} + (\\mathbf{v} + \\mathbf{w}) = (\\mathbf{u} + \\mathbf{v}) + \\mathbf{w}"}),i.jsx(Y,{children:"\\mathbf{u} + \\mathbf{0} = \\mathbf{u}"}),i.jsx(Y,{children:"\\mathbf{u} + (-\\mathbf{u}) = \\mathbf{0}"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[i.jsx(Y,{children:"1\\mathbf{u} = \\mathbf{u}"}),i.jsx(Y,{children:"a(\\mathbf{u} + \\mathbf{v}) = a\\mathbf{u} + a\\mathbf{v}"}),i.jsx(Y,{children:"(a + b)\\mathbf{u} = a\\mathbf{u} + b\\mathbf{u}"}),i.jsx(Y,{children:"a(b\\mathbf{u}) = (ab)\\mathbf{u}"})]})]}),i.jsx("h3",{children:"Vectors in the Plane"}),i.jsxs("p",{children:["These rules hold when ",i.jsx("strong",{children:"u"}),", ",i.jsx("strong",{children:"v"}),", ",i.jsx("strong",{children:"w"})," are points in the plane , if we interpret ",i.jsx("strong",{children:"0"})," as (0, 0), and define:"]}),i.jsxs(xe,{title:"Vector Sum",children:[i.jsxs("p",{children:["For ",i.jsx("strong",{children:"u"})," = (u, u) and ",i.jsx("strong",{children:"v"})," = (v, v):"]}),i.jsx(Y,{children:"(u_1, u_2) + (v_1, v_2) = (u_1 + v_1, u_2 + v_2)"})]}),i.jsxs(xe,{title:"Scalar Multiple",children:[i.jsxs("p",{children:["For a real number ",i.jsx("em",{children:"a"})," and vector ",i.jsx("strong",{children:"u"})," = (u, u):"]}),i.jsx(Y,{children:"a(u_1, u_2) = (au_1, au_2)"})]}),i.jsx("h3",{children:"The Parallelogram Rule"}),i.jsxs("p",{children:["The vector sum is geometrically interesting because ",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"})," is the fourth vertex of a parallelogram formed by the points ",i.jsx("strong",{children:"0"}),",",i.jsx("strong",{children:" u"}),", and ",i.jsx("strong",{children:"v"}),"."]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Parallelogram Rule:"}),' The rule for forming the sum of two vectors is often called the "parallelogram rule" because ',i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"}),"completes the parallelogram with vertices at ",i.jsx("strong",{children:"0"}),", ",i.jsx("strong",{children:"u"}),", and ",i.jsx("strong",{children:"v"}),"."]}),i.jsx("h3",{children:"Scalar Multiplication as Dilation"}),i.jsxs("p",{children:["Scalar multiplication by ",i.jsx("em",{children:"a"})," is also geometrically interesting because it represents ",i.jsx("strong",{children:"magnification"})," (or dilation) by the factor ",i.jsx("em",{children:"a"}),". It magnifies the whole plane by the factor ",i.jsx("em",{children:"a"}),", transforming each figure into a similar copy of itself."]}),i.jsxs(xe,{title:"Real Vector Space",children:[i.jsxs("p",{children:["A ",i.jsx("strong",{children:"real vector space"})," is a set V of objects, called vectors, with operations of vector addition and scalar multiplication satisfying:"]}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[i.jsxs("li",{children:["If ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"})," are in V, then so are",i.jsx("strong",{children:" u"})," + ",i.jsx("strong",{children:"v"})," and a",i.jsx("strong",{children:"u"})," for any real number ",i.jsx("em",{children:"a"})]}),i.jsxs("li",{children:["There is a zero vector ",i.jsx("strong",{children:"0"})," such that ",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"0"})," = ",i.jsx("strong",{children:"u"})]}),i.jsxs("li",{children:["Each ",i.jsx("strong",{children:"u"})," has an additive inverse ",i.jsx("strong",{children:"u"})," such that",i.jsx("strong",{children:" u"})," + (",i.jsx("strong",{children:"u"}),") = ",i.jsx("strong",{children:"0"})]}),i.jsx("li",{children:"The eight properties listed above hold"})]})]}),i.jsx("h3",{children:"Higher Dimensions"}),i.jsx("p",{children:"Real vector spaces are a natural setting for Euclidean geometry. Once we add the inner product (next sections), we can prove all theorems of Euclidean geometry. We can also extend to any number of dimensions using ."}),i.jsxs(ue,{title:"Three-Dimensional Space",children:[i.jsx("p",{children:"We can study three-dimensional Euclidean geometry in the space of ordered triples:"}),i.jsx(Y,{children:"\\mathbb{R}^3 = \\{(x_1, x_2, x_3) : x_1, x_2, x_3 \\in \\mathbb{R}\\}"}),i.jsx("p",{className:"mt-2",children:"with componentwise addition and scalar multiplication."})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.1.1"}),i.jsx("p",{className:"text-slate-300",children:"Check that the other seven properties of a vector space for  are inherited from corresponding properties of ."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.1.2"}),i.jsx("p",{className:"text-slate-300",children:"Similarly check that  has the eight properties of a vector space."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.1.3"}),i.jsx("p",{className:"text-slate-300",children:"What is the geometric meaning of the transformation of  when every vector is multiplied by 1? Is it a rotation?"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.1.4"}),i.jsx("p",{className:"text-slate-300",children:"Is it a rotation of  when every vector is multiplied by 1?"})]}),i.jsx(wX,{className:"my-6"}),i.jsx(Re,{sectionId:23,questions:Xe[23]||[],title:"Vectors Quiz"})]})}function MX(){return i.jsxs(qe,{sectionId:24,children:[i.jsx("h2",{children:"Direction and Linear Independence"}),i.jsxs("p",{children:["Vectors give a concept of ",i.jsx("strong",{children:"direction"})," in  by representing lines through the origin. If ",i.jsx("strong",{children:"u"})," is a nonzero vector, then the real multiples ",i.jsx("em",{children:"a"}),i.jsx("strong",{children:"u"})," of ",i.jsx("strong",{children:"u"})," make up the line through ",i.jsx("strong",{children:"0"})," and ",i.jsx("strong",{children:"u"}),', so we call them the points "in direction ',i.jsx("strong",{children:"u"})," from ",i.jsx("strong",{children:"0"}),'."']}),i.jsxs(fe,{type:"info",children:["It is simpler to associate direction with a whole line, rather than a half line. So we say ",i.jsx("strong",{children:"u"})," is in the same direction as ",i.jsx("strong",{children:"u"}),"."]}),i.jsx("h3",{children:"Linear Independence"}),i.jsxs("p",{children:["Nonzero vectors ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"})," have ",i.jsx("strong",{children:"different directions"})," from ",i.jsx("strong",{children:"0"})," if neither is a multiple of the other. Such vectors are called ",i.jsx("strong",{children:"linearly independent"}),"."]}),i.jsxs(xe,{title:"Linear Independence",children:[i.jsxs("p",{children:["Vectors ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"})," are ",i.jsx("strong",{children:"linearly independent"}),"if there are no real numbers ",i.jsx("em",{children:"a"})," and ",i.jsx("em",{children:"b"}),", not both zero, with:"]}),i.jsx(Y,{children:"a\\mathbf{u} + b\\mathbf{v} = \\mathbf{0}"}),i.jsxs("p",{className:"mt-2",children:["Because if one of ",i.jsx("em",{children:"a"}),", ",i.jsx("em",{children:"b"})," is not zero in this equation, we can divide by it and express one of ",i.jsx("strong",{children:"u"}),", ",i.jsx("strong",{children:"v"})," as a multiple of the other."]})]}),i.jsx("h3",{children:"Direction Relative to a Point"}),i.jsxs("p",{children:["The concept of direction has an obvious generalization: ",i.jsx("strong",{children:"w"})," has direction ",i.jsx("strong",{children:"u"})," from ",i.jsx("strong",{children:"v"})," (or relative to ",i.jsx("strong",{children:"v"}),") if ",i.jsx("strong",{children:"w"}),"  ",i.jsx("strong",{children:"v"})," is a multiple of ",i.jsx("strong",{children:"u"}),"."]}),i.jsxs(xe,{title:"Parallel Line Segments",children:[i.jsxs("p",{children:["Line segments from ",i.jsx("strong",{children:"v"})," to ",i.jsx("strong",{children:"w"})," and from",i.jsx("strong",{children:" s"})," to ",i.jsx("strong",{children:"t"})," are ",i.jsx("strong",{children:"parallel"})," if they have the same direction:"]}),i.jsx(Y,{children:"\\mathbf{w} - \\mathbf{v} = a(\\mathbf{t} - \\mathbf{s}) \\text{ for some } a \\neq 0"})]}),i.jsx("h3",{children:"The Vector Thales Theorem"}),i.jsx("p",{children:"Let us try out the vector concept of parallels on an important theorem from previous chapters: the Thales theorem that parallels cut a pair of lines in proportional segments."}),i.jsx(ue,{title:"Vector Thales Theorem",children:i.jsxs("p",{children:["If ",i.jsx("strong",{children:"s"})," and ",i.jsx("strong",{children:"v"})," are on one line through",i.jsx("strong",{children:" 0"}),", ",i.jsx("strong",{children:"t"})," and ",i.jsx("strong",{children:"w"})," are on another, and ",i.jsx("strong",{children:"w"}),"  ",i.jsx("strong",{children:"v"})," is parallel to ",i.jsx("strong",{children:"t"}),"  ",i.jsx("strong",{children:"s"}),", then ",i.jsx("strong",{children:"v"})," = ",i.jsx("em",{children:"a"}),i.jsx("strong",{children:"s"})," and ",i.jsx("strong",{children:"w"})," = ",i.jsx("em",{children:"a"}),i.jsx("strong",{children:"t"}),"for some number ",i.jsx("em",{children:"a"}),"."]})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof"}),i.jsxs("p",{className:"text-slate-300 mb-2",children:["If ",i.jsx("strong",{children:"w"}),"  ",i.jsx("strong",{children:"v"})," is parallel to ",i.jsx("strong",{children:"t"}),"  ",i.jsx("strong",{children:"s"}),", then:"]}),i.jsx(Y,{children:"\\mathbf{w} - \\mathbf{v} = a(\\mathbf{t} - \\mathbf{s}) = a\\mathbf{t} - a\\mathbf{s}"}),i.jsxs("p",{className:"text-slate-300 mt-2",children:["Because ",i.jsx("strong",{children:"v"})," is on the same line through ",i.jsx("strong",{children:"0"})," as ",i.jsx("strong",{children:"s"}),", we have ",i.jsx("strong",{children:"v"})," = ",i.jsx("em",{children:"b"}),i.jsx("strong",{children:"s"})," for some ",i.jsx("em",{children:"b"}),", and similarly",i.jsx("strong",{children:" w"})," = ",i.jsx("em",{children:"c"}),i.jsx("strong",{children:"t"})," for some ",i.jsx("em",{children:"c"}),". It follows that:"]}),i.jsx(Y,{children:"(c - a)\\mathbf{t} + (a - b)\\mathbf{s} = \\mathbf{0}"}),i.jsxs("p",{className:"text-slate-300 mt-2",children:["But ",i.jsx("strong",{children:"s"})," and ",i.jsx("strong",{children:"t"})," are in different directions from ",i.jsx("strong",{children:"0"}),", hence linearly independent, so ",i.jsx("em",{children:"c"}),"  ",i.jsx("em",{children:"a"})," = ",i.jsx("em",{children:"a"}),"  ",i.jsx("em",{children:"b"})," = 0. Thus, ",i.jsx("strong",{children:"v"})," = ",i.jsx("em",{children:"a"}),i.jsx("strong",{children:"s"})," and ",i.jsx("strong",{children:"w"})," = ",i.jsx("em",{children:"a"}),i.jsx("strong",{children:"t"}),"."]})]}),i.jsx("h3",{children:"The Vector Pappus Theorem"}),i.jsx("p",{children:'As in axiomatic geometry, the Pappus theorem follows from the Thales theorem. However, "proportionality" is easier to handle with vectors.'}),i.jsx(ue,{title:"Vector Pappus Theorem",children:i.jsxs("p",{children:["If ",i.jsx("strong",{children:"r"}),", ",i.jsx("strong",{children:"s"}),", ",i.jsx("strong",{children:"t"}),", ",i.jsx("strong",{children:"u"}),",",i.jsx("strong",{children:" v"}),", ",i.jsx("strong",{children:"w"})," lie alternately on two lines through",i.jsx("strong",{children:" 0"}),", with ",i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"v"})," parallel to",i.jsx("strong",{children:" s"}),"  ",i.jsx("strong",{children:"r"})," and ",i.jsx("strong",{children:"t"}),"  ",i.jsx("strong",{children:"s"}),"parallel to ",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"w"}),", then ",i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"t"}),"is parallel to ",i.jsx("strong",{children:"w"}),"  ",i.jsx("strong",{children:"r"}),"."]})}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Key Insight:"})," The last step in the proof of the Pappus theorem, where we exchange ",i.jsx("em",{children:"ba"})," for ",i.jsx("em",{children:"ab"}),", is trivial because ",i.jsx("em",{children:"ab"})," = ",i.jsx("em",{children:"ba"}),"for real numbers. But in Chapter 6, where we develop geometry without numbers, the Pappus theorem becomes crucial for getting multiplication to behave properly."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.2.1"}),i.jsx("p",{className:"text-slate-300",children:'Following the setup explained in Exercise 1.4.4, formulate a "vector Desargues theorem."'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.2.2"}),i.jsx("p",{className:"text-slate-300",children:"Prove your vector Desargues theorem with the help of the vector Thales theorem."})]}),i.jsx(SX,{className:"my-6"}),i.jsx(Re,{sectionId:24,questions:Xe[24]||[],title:"Direction and Linear Independence Quiz"})]})}function EX(){return i.jsxs(qe,{sectionId:25,children:[i.jsx("h2",{children:"Midpoints and Centroids"}),i.jsxs("p",{children:["The definition of a real vector space does not include a definition of distance, but we can speak of the ",i.jsx("strong",{children:"midpoint"})," of a line segment and, more generally, of the point that divides a segment in a given ratio."]}),i.jsx("h3",{children:"Finding Points on a Line"}),i.jsxs("p",{children:["First observe that ",i.jsx("strong",{children:"v"})," is obtained from ",i.jsx("strong",{children:"u"})," by adding ",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),", the vector that represents the position of ",i.jsx("strong",{children:"v"})," relative to ",i.jsx("strong",{children:"u"}),". More generally, adding any scalar multiple ",i.jsx("em",{children:"a"}),"(",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),") to ",i.jsx("strong",{children:"u"})," produces a point whose direction relative to ",i.jsx("strong",{children:"u"}),"is the same as that of ",i.jsx("strong",{children:"v"}),"."]}),i.jsx(xe,{title:"Points on a Line",children:i.jsxs("p",{children:["The points ",i.jsx("strong",{children:"u"})," + ",i.jsx("em",{children:"a"}),"(",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),") are precisely those on the line through ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"}),"."]})}),i.jsx("h3",{children:"The Midpoint Formula"}),i.jsxs("p",{children:["In particular, the midpoint of the segment between ",i.jsx("strong",{children:"u"})," and",i.jsx("strong",{children:" v"})," is obtained by adding (",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),") to ",i.jsx("strong",{children:"u"}),":"]}),i.jsxs(ue,{title:"Midpoint Formula",children:[i.jsx(Y,{children:"\\text{midpoint of } \\mathbf{u} \\text{ and } \\mathbf{v} = \\mathbf{u} + \\frac{1}{2}(\\mathbf{v} - \\mathbf{u}) = \\frac{1}{2}(\\mathbf{u} + \\mathbf{v})"}),i.jsxs("p",{className:"mt-2",children:["The midpoint of a line segment between ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"}),"is the ",i.jsx("strong",{children:"vector average"})," of ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"}),"."]})]}),i.jsx("h3",{children:"Diagonals of a Parallelogram"}),i.jsx("p",{children:"This description of the midpoint gives a very short proof of the theorem that the diagonals of a parallelogram bisect each other."}),i.jsxs(ue,{title:"Parallelogram Diagonals Bisect",children:[i.jsxs("p",{children:["By choosing one vertex of a parallelogram at ",i.jsx("strong",{children:"0"}),", we can assume the other vertices are at ",i.jsx("strong",{children:"u"}),", ",i.jsx("strong",{children:"v"}),", and ",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"}),"."]}),i.jsxs("p",{className:"mt-2",children:["The midpoint of the diagonal from ",i.jsx("strong",{children:"0"})," to ",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"}),"is (",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"}),"). And this is also the midpoint of the other diagonalthe segment between ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"}),"."]})]}),i.jsx("h3",{children:"The Centroid"}),i.jsxs(xe,{title:"Centroid",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"vector average"})," of two or more points is physically significant because it is the ",i.jsx("strong",{children:"barycenter"})," (center of mass) of the system obtained by placing equal masses at the given points."]}),i.jsxs("p",{className:"mt-2",children:["The geometric name for this vector average point is the ",i.jsx("strong",{children:"centroid"}),"."]})]}),i.jsx("h3",{children:"Medians of a Triangle"}),i.jsxs("p",{children:["In the case of a triangle, the centroid has an alternative geometric description, given by the following classical theorem about ",i.jsx("strong",{children:"medians"}),": the lines from the vertices of a triangle to the midpoints of the respective opposite sides."]}),i.jsx(ue,{title:"Concurrence of Medians",children:i.jsx("p",{children:"The medians of any triangle pass through the same point, the centroid of the triangle."})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof"}),i.jsxs("p",{className:"text-slate-300 mb-2",children:["Suppose the vertices of the triangle are ",i.jsx("strong",{children:"u"}),", ",i.jsx("strong",{children:"v"}),", and ",i.jsx("strong",{children:"w"}),". The median from ",i.jsx("strong",{children:"u"})," goes to the midpoint (",i.jsx("strong",{children:"v"})," + ",i.jsx("strong",{children:"w"}),")."]}),i.jsxs("p",{className:"text-slate-300 mb-2",children:["The medians meet at the point 2/3 of the way from ",i.jsx("strong",{children:"u"})," to (",i.jsx("strong",{children:"v"})," + ",i.jsx("strong",{children:"w"}),"):"]}),i.jsx(Y,{children:"\\mathbf{u} + \\frac{2}{3}\\left(\\frac{1}{2}(\\mathbf{v} + \\mathbf{w}) - \\mathbf{u}\\right) = \\frac{1}{3}(\\mathbf{u} + \\mathbf{v} + \\mathbf{w})"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"This is the centroid! A similar argument shows it lies 2/3 of the way along each of the other two medians."})]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Symmetry Insight:"})," The formula (",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"})," + ",i.jsx("strong",{children:"w"}),") is unchanged when we permute the letters ",i.jsx("strong",{children:"u"}),", ",i.jsx("strong",{children:"v"}),", and ",i.jsx("strong",{children:"w"}),". This symmetry guarantees all three medians pass through the same point."]}),i.jsx("h3",{children:"Extension to Three Dimensions"}),i.jsxs("p",{children:["The theorem about concurrence of medians generalizes beautifully to three dimensions, where the figure corresponding to a triangle is a ",i.jsx("strong",{children:"tetrahedron"}),": a solid with four vertices joined by six lines that bound four triangular faces."]}),i.jsxs(ue,{title:"Tetrahedron Centroid",children:[i.jsxs("p",{children:["If a tetrahedron has vertices ",i.jsx("strong",{children:"t"}),", ",i.jsx("strong",{children:"u"}),",",i.jsx("strong",{children:" v"}),", and ",i.jsx("strong",{children:"w"}),", then the four lines from each vertex to the centroid of the opposite face all meet at the centroid:"]}),i.jsx(Y,{children:"\\frac{1}{4}(\\mathbf{t} + \\mathbf{u} + \\mathbf{v} + \\mathbf{w})"}),i.jsx("p",{className:"mt-2",children:"Each line passes through the centroid at 3/4 of the way from the vertex to the centroid of the opposite face."})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.3.1"}),i.jsxs("p",{className:"text-slate-300",children:["Show that a square with vertices ",i.jsx("strong",{children:"t"}),", ",i.jsx("strong",{children:"u"}),",",i.jsx("strong",{children:" v"}),", ",i.jsx("strong",{children:"w"})," has center (",i.jsx("strong",{children:"t"})," + ",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"})," + ",i.jsx("strong",{children:"w"}),")."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.3.2"}),i.jsxs("p",{className:"text-slate-300",children:["Suppose a tetrahedron has vertices ",i.jsx("strong",{children:"t"}),", ",i.jsx("strong",{children:"u"}),",",i.jsx("strong",{children:" v"}),", and ",i.jsx("strong",{children:"w"}),". Show that the centroid of the face opposite to ",i.jsx("strong",{children:"t"})," is (",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"})," + ",i.jsx("strong",{children:"w"}),")."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.3.3"}),i.jsxs("p",{className:"text-slate-300",children:["Show that the point 3/4 of the way from ",i.jsx("strong",{children:"t"})," to the centroid of the opposite face is (",i.jsx("strong",{children:"t"})," + ",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"})," + ",i.jsx("strong",{children:"w"}),")."]})]}),i.jsx(jX,{className:"my-6"}),i.jsx(Re,{sectionId:25,questions:Xe[25]||[],title:"Midpoints and Centroids Quiz"})]})}function CX(){return i.jsxs(qe,{sectionId:26,children:[i.jsx("h2",{children:"The Inner Product"}),i.jsx("p",{children:"The inner product is a powerful algebraic tool that captures geometric information about length and angle in a vector space."}),i.jsxs(xe,{title:"Inner Product",children:[i.jsxs("p",{children:["If ",i.jsx("strong",{children:"u"})," = (u, u) and ",i.jsx("strong",{children:"v"})," = (v, v) are vectors in , we define their ",i.jsx("strong",{children:"inner product"}),i.jsx("strong",{children:" u"}),"  ",i.jsx("strong",{children:"v"})," to be:"]}),i.jsx(Y,{children:"\\mathbf{u} \\cdot \\mathbf{v} = u_1 v_1 + u_2 v_2"}),i.jsxs("p",{className:"mt-2",children:['The inner product of two vectors is not another vector, but a real number (or "scalar"). For this reason, ',i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"v"})," is also called the ",i.jsx("strong",{children:"scalar product"}),"."]})]}),i.jsx("h3",{children:"Algebraic Properties"}),i.jsx("p",{children:"It is easy to check, from the definition, that the inner product has the following algebraic properties:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx(Y,{children:"\\mathbf{u} \\cdot \\mathbf{v} = \\mathbf{v} \\cdot \\mathbf{u}"}),i.jsx(Y,{children:"\\mathbf{u} \\cdot (\\mathbf{v} + \\mathbf{w}) = \\mathbf{u} \\cdot \\mathbf{v} + \\mathbf{u} \\cdot \\mathbf{w}"}),i.jsx(Y,{children:"(a\\mathbf{u}) \\cdot \\mathbf{v} = \\mathbf{u} \\cdot (a\\mathbf{v}) = a(\\mathbf{u} \\cdot \\mathbf{v})"})]}),i.jsx("h3",{children:"Length from the Inner Product"}),i.jsxs(ue,{title:"Length Formula",children:[i.jsxs("p",{children:["The length |",i.jsx("strong",{children:"u"}),"| is the distance of ",i.jsx("strong",{children:"u"})," = (u, u) from the origin ",i.jsx("strong",{children:"0"}),". By the definition of distance in :"]}),i.jsx(Y,{children:"|\\mathbf{u}|^2 = u_1^2 + u_2^2 = \\mathbf{u} \\cdot \\mathbf{u}"})]}),i.jsxs("p",{children:["It follows that the square of the distance from ",i.jsx("strong",{children:"u"})," to",i.jsx("strong",{children:" v"})," is:"]}),i.jsx(Y,{children:"|\\mathbf{v} - \\mathbf{u}|^2 = (\\mathbf{v} - \\mathbf{u}) \\cdot (\\mathbf{v} - \\mathbf{u}) = |\\mathbf{u}|^2 + |\\mathbf{v}|^2 - 2\\mathbf{u} \\cdot \\mathbf{v}"}),i.jsx("h3",{children:"Perpendicularity Criterion"}),i.jsx(ue,{title:"Perpendicularity Test",children:i.jsxs("p",{children:["Vectors ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"})," are ",i.jsx("strong",{children:"perpendicular"}),"if and only if ",i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"v"})," = 0."]})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof"}),i.jsxs("p",{className:"text-slate-300 mb-2",children:[i.jsx("strong",{children:"u"})," has slope u/u and ",i.jsx("strong",{children:"v"})," has slope v/v. From Section 3.5, we know they are perpendicular if and only if the product of their slopes is 1:"]}),i.jsx(Y,{children:"\\frac{u_2}{u_1} = -\\frac{v_1}{v_2} \\implies u_2 v_2 = -u_1 v_1"}),i.jsxs("p",{className:"text-slate-300 mt-2",children:["This equation holds if and only if 0 = uv + uv = ",i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"v"}),"."]})]}),i.jsx("h3",{children:"Concurrence of Altitudes"}),i.jsx("p",{children:"Even just the criterion for perpendicularity gives a simple proof of a far-from-obvious theorem:"}),i.jsx(ue,{title:"Concurrence of Altitudes",children:i.jsxs("p",{children:["In any triangle, the perpendiculars from the vertices to opposite sides (the ",i.jsx("strong",{children:"altitudes"}),") have a common point."]})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof"}),i.jsxs("p",{className:"text-slate-300 mb-2",children:["Take ",i.jsx("strong",{children:"0"})," at the intersection of two altitudes, say those through the vertices ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"}),". Then it remains to show that the line from ",i.jsx("strong",{children:"0"})," to the third vertex",i.jsx("strong",{children:" w"})," is perpendicular to the side ",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),"."]}),i.jsxs("p",{className:"text-slate-300 mb-2",children:["Because ",i.jsx("strong",{children:"u"})," is perpendicular to the opposite side ",i.jsx("strong",{children:"w"}),"  ",i.jsx("strong",{children:"v"}),":"]}),i.jsx(Y,{children:"\\mathbf{u} \\cdot (\\mathbf{w} - \\mathbf{v}) = 0 \\implies \\mathbf{u} \\cdot \\mathbf{w} - \\mathbf{u} \\cdot \\mathbf{v} = 0"}),i.jsxs("p",{className:"text-slate-300 mt-2 mb-2",children:["Because ",i.jsx("strong",{children:"v"})," is perpendicular to the opposite side ",i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"w"}),":"]}),i.jsx(Y,{children:"\\mathbf{v} \\cdot (\\mathbf{u} - \\mathbf{w}) = 0 \\implies \\mathbf{v} \\cdot \\mathbf{u} - \\mathbf{v} \\cdot \\mathbf{w} = 0"}),i.jsxs("p",{className:"text-slate-300 mt-2",children:["Adding these equations: ",i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"w"}),"  ",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"w"})," = 0, so ",i.jsx("strong",{children:"w"}),"  (",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),") = 0. Thus, ",i.jsx("strong",{children:"w"})," is perpendicular to ",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),"."]})]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"The Orthocenter:"})," The point where all three altitudes of a triangle meet is called the ",i.jsx("strong",{children:"orthocenter"}),"."]}),i.jsx("h3",{children:"Perpendicular Bisector"}),i.jsx("p",{children:"The inner product also gives a concise way to show that the equidistant line of two points is the perpendicular bisector of the line connecting them."}),i.jsxs(ue,{title:"Perpendicular Bisector Characterization",children:[i.jsxs("p",{children:["The condition for ",i.jsx("strong",{children:"w"})," to be equidistant from ",i.jsx("strong",{children:"u"}),"and ",i.jsx("strong",{children:"v"})," is equivalent to:"]}),i.jsx(Y,{children:"\\left(\\mathbf{w} - \\frac{\\mathbf{u} + \\mathbf{v}}{2}\\right) \\cdot (\\mathbf{u} - \\mathbf{v}) = 0"}),i.jsxs("p",{className:"mt-2",children:["This says ",i.jsx("strong",{children:"w"})," is on the perpendicular bisector of the line from ",i.jsx("strong",{children:"u"})," to ",i.jsx("strong",{children:"v"}),"."]})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.4.1"}),i.jsxs("p",{className:"text-slate-300",children:["Suppose a parallelogram has vertices at ",i.jsx("strong",{children:"0"}),", ",i.jsx("strong",{children:"u"}),",",i.jsx("strong",{children:" v"}),", and ",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"}),". Show that its diagonals have directions ",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"})," and",i.jsx("strong",{children:" u"}),"  ",i.jsx("strong",{children:"v"}),"."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.4.2"}),i.jsxs("p",{className:"text-slate-300",children:["Deduce from Exercise 4.4.1 that the inner product of these diagonal directions is |",i.jsx("strong",{children:"u"}),"|  |",i.jsx("strong",{children:"v"}),"|, and explain why this is zero for a rhombus."]})]}),i.jsx(vX,{className:"my-6"}),i.jsx(Re,{sectionId:26,questions:Xe[26]||[],title:"Inner Product Quiz"})]})}function zX(){return i.jsxs(qe,{sectionId:27,children:[i.jsx("h2",{children:"Inner Product and Cosine"}),i.jsxs("p",{children:["The inner product of vectors ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"})," depends not only on their lengths |",i.jsx("strong",{children:"u"}),"| and |",i.jsx("strong",{children:"v"}),"| but also on the angle  between them. The simplest way to express this dependence is with the help of the ",i.jsx("strong",{children:"cosine function"}),"."]}),i.jsx("h3",{children:"Cosine as a Ratio"}),i.jsxs(xe,{title:"Cosine Definition",children:[i.jsxs("p",{children:["For a right-angled triangle with vertices ",i.jsx("strong",{children:"0"}),", ",i.jsx("strong",{children:"u"}),", and ",i.jsx("strong",{children:"v"})," (where the right angle is at ",i.jsx("strong",{children:"u"}),"), the cosine of angle  at the origin is defined as:"]}),i.jsx(Y,{children:"\\cos\\theta = \\frac{|\\mathbf{u}|}{|\\mathbf{v}|}"}),i.jsx("p",{className:"mt-2",children:"The cosine is the ratio of the adjacent side to the hypotenuse."})]}),i.jsx("h3",{children:"The Inner Product Formula"}),i.jsx("p",{children:"We can use the inner product criterion for perpendicularity to derive the fundamental formula relating inner product to angle."}),i.jsxs(ue,{title:"Inner Product Formula",children:[i.jsxs("p",{children:["If  is the angle between vectors ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"}),", then:"]}),i.jsx(Y,{children:"\\mathbf{u} \\cdot \\mathbf{v} = |\\mathbf{u}||\\mathbf{v}|\\cos\\theta"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof"}),i.jsxs("p",{className:"text-slate-300 mb-2",children:["In a right triangle with ",i.jsx("strong",{children:"0"}),", ",i.jsx("strong",{children:"u"}),", ",i.jsx("strong",{children:"v"}),"where ",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"})," is perpendicular to ",i.jsx("strong",{children:"u"}),":"]}),i.jsx(Y,{children:"0 = \\mathbf{u} \\cdot (\\mathbf{v} - \\mathbf{u}) = \\mathbf{u} \\cdot \\mathbf{v} - \\mathbf{u} \\cdot \\mathbf{u}"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Therefore:"}),i.jsx(Y,{children:"\\mathbf{u} \\cdot \\mathbf{v} = \\mathbf{u} \\cdot \\mathbf{u} = |\\mathbf{u}|^2 = |\\mathbf{u}||\\mathbf{v}|\\frac{|\\mathbf{u}|}{|\\mathbf{v}|} = |\\mathbf{u}||\\mathbf{v}|\\cos\\theta"})]}),i.jsxs(fe,{type:"info",children:["This formula gives a convenient way to calculate the angle (or at least its cosine) between any two lines, because we know how to calculate |",i.jsx("strong",{children:"u"}),"| and |",i.jsx("strong",{children:"v"}),"| from their components."]}),i.jsx("h3",{children:"The Cosine Rule"}),i.jsxs("p",{children:['The inner product formula also gives us the "cosine rule" of trigonometry directly from the calculation of (',i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"v"}),")  (",i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"v"}),")."]}),i.jsxs(ue,{title:"Cosine Rule (Law of Cosines)",children:[i.jsxs("p",{children:["In any triangle with sides ",i.jsx("strong",{children:"u"}),", ",i.jsx("strong",{children:"v"}),", and",i.jsx("strong",{children:" u"}),"  ",i.jsx("strong",{children:"v"}),", and angle  opposite to the side",i.jsx("strong",{children:" u"}),"  ",i.jsx("strong",{children:"v"}),":"]}),i.jsx(Y,{children:"|\\mathbf{u} - \\mathbf{v}|^2 = |\\mathbf{u}|^2 + |\\mathbf{v}|^2 - 2|\\mathbf{u}||\\mathbf{v}|\\cos\\theta"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"The proof is purely algebraic:"}),i.jsx(Y,{children:`\\begin{aligned}
|\\mathbf{u} - \\mathbf{v}|^2 &= (\\mathbf{u} - \\mathbf{v}) \\cdot (\\mathbf{u} - \\mathbf{v}) \\\\
&= \\mathbf{u} \\cdot \\mathbf{u} - 2\\mathbf{u} \\cdot \\mathbf{v} + \\mathbf{v} \\cdot \\mathbf{v} \\\\
&= |\\mathbf{u}|^2 + |\\mathbf{v}|^2 - 2\\mathbf{u} \\cdot \\mathbf{v} \\\\
&= |\\mathbf{u}|^2 + |\\mathbf{v}|^2 - 2|\\mathbf{u}||\\mathbf{v}|\\cos\\theta
\\end{aligned}`})]}),i.jsx("h3",{children:"The Pythagorean Theorem as a Special Case"}),i.jsxs("p",{children:["Consider the special case where ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"})," are the sides of a right-angled triangle and ",i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"v"}),"is the hypotenuse. In this case, ",i.jsx("strong",{children:"u"})," is perpendicular to",i.jsx("strong",{children:" v"}),", so ",i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"v"})," = 0, and the cosine rule becomes:"]}),i.jsx(Y,{children:"\\text{hypotenuse}^2 = |\\mathbf{u} - \\mathbf{v}|^2 = |\\mathbf{u}|^2 + |\\mathbf{v}|^2"}),i.jsxs(fe,{type:"info",children:["This is the ",i.jsx("strong",{children:"Pythagorean theorem"}),"! This should not be surprising, because the Pythagorean theorem is built into the definition of distance in  and hence into the inner product."]}),i.jsx("h3",{children:"Angle in a Semicircle"}),i.jsx("p",{children:"A useful formula for studying right-angled triangles is:"}),i.jsx(Y,{children:"(\\mathbf{v} + \\mathbf{u}) \\cdot (\\mathbf{v} - \\mathbf{u}) = |\\mathbf{v}|^2 - |\\mathbf{u}|^2"}),i.jsxs(ue,{title:"Angle in a Semicircle",children:[i.jsxs("p",{children:["Take a circle with center ",i.jsx("strong",{children:"0"})," and a diameter with ends",i.jsx("strong",{children:" u"})," and ",i.jsx("strong",{children:"u"}),". Let ",i.jsx("strong",{children:"v"})," be any other point on the circle. Then the sides of the triangle meeting at",i.jsx("strong",{children:" v"})," have directions ",i.jsx("strong",{children:"v"})," + ",i.jsx("strong",{children:"u"}),"and ",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),"."]}),i.jsxs("p",{className:"mt-2",children:["Since |",i.jsx("strong",{children:"v"}),"| = |",i.jsx("strong",{children:"u"}),"| (both are radii), we have (",i.jsx("strong",{children:"v"})," + ",i.jsx("strong",{children:"u"}),")  (",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),") = |",i.jsx("strong",{children:"v"}),"|  |",i.jsx("strong",{children:"u"}),"| = 0, so these sides are",i.jsx("strong",{children:" perpendicular"}),"."]})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.5.1"}),i.jsxs("p",{className:"text-slate-300",children:["Show that |",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),"| = |",i.jsx("strong",{children:"u"}),"| + |",i.jsx("strong",{children:"v"}),"| when ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"})," are perpendicular, and explain why this is the Pythagorean theorem."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.5.2"}),i.jsxs("p",{className:"text-slate-300",children:["Show that (",i.jsx("strong",{children:"v"})," + ",i.jsx("strong",{children:"u"}),")  (",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),") = |",i.jsx("strong",{children:"v"}),"|  |",i.jsx("strong",{children:"u"}),"|."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.5.3"}),i.jsxs("p",{className:"text-slate-300",children:["For a point ",i.jsx("strong",{children:"v"})," on a semicircle with diameter endpoints",i.jsx("strong",{children:" u"})," and ",i.jsx("strong",{children:"u"}),", show that the sides of the triangle meeting at ",i.jsx("strong",{children:"v"})," have directions ",i.jsx("strong",{children:"v"})," + ",i.jsx("strong",{children:"u"}),"and ",i.jsx("strong",{children:"v"}),"  ",i.jsx("strong",{children:"u"}),", and hence are perpendicular."]})]}),i.jsx(NX,{className:"my-6"}),i.jsx(Re,{sectionId:27,questions:Xe[27]||[],title:"Inner Product and Cosine Quiz"})]})}function DX(){return i.jsxs(qe,{sectionId:28,children:[i.jsx("h2",{children:"The Triangle Inequality"}),i.jsxs("p",{children:["In vector geometry, the triangle inequality |",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"}),"|  |",i.jsx("strong",{children:"u"}),"| + |",i.jsx("strong",{children:"v"}),"| is usually derived from a more fundamental inequality: the ",i.jsx("strong",{children:"Cauchy-Schwarz inequality"}),"."]}),i.jsx("h3",{children:"The Cauchy-Schwarz Inequality"}),i.jsxs(ue,{title:"Cauchy-Schwarz Inequality",children:[i.jsxs("p",{children:["For any vectors ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"}),":"]}),i.jsx(Y,{children:"|\\mathbf{u} \\cdot \\mathbf{v}| \\leq |\\mathbf{u}||\\mathbf{v}|"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof from the Inner Product Formula"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"The inner product formula says:"}),i.jsx(Y,{children:"\\mathbf{u} \\cdot \\mathbf{v} = |\\mathbf{u}||\\mathbf{v}|\\cos\\theta"}),i.jsx("p",{className:"text-slate-300 mt-2 mb-2",children:"Therefore:"}),i.jsx(Y,{children:"|\\mathbf{u} \\cdot \\mathbf{v}| \\leq |\\mathbf{u}||\\mathbf{v}||\\cos\\theta| \\leq |\\mathbf{u}||\\mathbf{v}|"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"because |cos |  1 for any angle ."})]}),i.jsx("h3",{children:"The Triangle Inequality"}),i.jsxs(ue,{title:"Triangle Inequality",children:[i.jsxs("p",{children:["For any vectors ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"}),":"]}),i.jsx(Y,{children:"|\\mathbf{u} + \\mathbf{v}| \\leq |\\mathbf{u}| + |\\mathbf{v}|"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof"}),i.jsxs("p",{className:"text-slate-300 mb-2",children:["To get the triangle inequality, it suffices to show that |",i.jsx("strong",{children:"u"})," + ",i.jsx("strong",{children:"v"}),"|  (|",i.jsx("strong",{children:"u"}),"| + |",i.jsx("strong",{children:"v"}),"|):"]}),i.jsx(Y,{children:`\\begin{aligned}
|\\mathbf{u} + \\mathbf{v}|^2 &= (\\mathbf{u} + \\mathbf{v}) \\cdot (\\mathbf{u} + \\mathbf{v}) \\\\
&= |\\mathbf{u}|^2 + 2\\mathbf{u} \\cdot \\mathbf{v} + |\\mathbf{v}|^2 \\\\
&\\leq |\\mathbf{u}|^2 + 2|\\mathbf{u}||\\mathbf{v}| + |\\mathbf{v}|^2 \\quad \\text{(by Cauchy-Schwarz)} \\\\
&= (|\\mathbf{u}| + |\\mathbf{v}|)^2
\\end{aligned}`})]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Why Cauchy-Schwarz Matters:"})," The Cauchy-Schwarz inequality holds in spaces more complicated than , with more complicated inner products. Because the triangle inequality follows from Cauchy-Schwarz, it too holds in these complicated spaces."]}),i.jsx("h3",{children:"Higher Dimensional Euclidean Spaces"}),i.jsx("p",{children:"Linear algebra works just as well in  as it does in . The space  is the set of ordered n-tuples (x, x, ..., x) of real numbers."}),i.jsxs(xe,{title:"Operations in ",children:[i.jsxs("p",{children:["If ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"})," are in , we define:"]}),i.jsx(Y,{children:"\\mathbf{u} + \\mathbf{v} = (u_1 + v_1, u_2 + v_2, \\ldots, u_n + v_n)"}),i.jsx(Y,{children:"a\\mathbf{u} = (au_1, au_2, \\ldots, au_n)"}),i.jsx(Y,{children:"\\mathbf{u} \\cdot \\mathbf{v} = u_1v_1 + u_2v_2 + \\cdots + u_nv_n"})]}),i.jsx("h3",{children:"Euclidean Distance in Higher Dimensions"}),i.jsxs("p",{children:[" becomes a ",i.jsx("strong",{children:"Euclidean space"})," when we give it the inner product structure. This enables us to define distance by:"]}),i.jsx(Y,{children:"|\\mathbf{u}|^2 = \\mathbf{u} \\cdot \\mathbf{u} = u_1^2 + u_2^2 + \\cdots + u_n^2"}),i.jsxs(ue,{title:"Distance in ",children:[i.jsxs("p",{children:["The distance of (u, u, u) from ",i.jsx("strong",{children:"0"})," in  is:"]}),i.jsx(Y,{children:"|\\mathbf{u}| = \\sqrt{u_1^2 + u_2^2 + u_3^2}"}),i.jsx("p",{className:"mt-2",children:"This can be understood as two applications of the Pythagorean theorem:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2",children:[i.jsxs("li",{children:["(u + u) is the distance from ",i.jsx("strong",{children:"0"})," to (u, u, 0)"]}),i.jsxs("li",{children:["(u + u + u) is the distance from ",i.jsx("strong",{children:"0"})," to (u, u, u)"]})]})]}),i.jsx(fe,{type:"info",children:"All theorems proved in this chapter for vectors in the plane  hold in . Any plane in  behaves the same as the plane , because we can construct an isometry mapping any plane onto a standard coordinate plane."}),i.jsx("h3",{children:"Alternative Proof of Cauchy-Schwarz"}),i.jsx("p",{children:"A proof using only general properties of the inner product can be obtained by an algebraic trick with quadratic equations."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Algebraic Proof"}),i.jsxs("p",{className:"text-slate-300 mb-2",children:["For any real number x and any vectors ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"}),":"]}),i.jsx(Y,{children:"(\\mathbf{u} + x\\mathbf{v}) \\cdot (\\mathbf{u} + x\\mathbf{v}) = |\\mathbf{u}|^2 + 2x(\\mathbf{u} \\cdot \\mathbf{v}) + x^2|\\mathbf{v}|^2 \\geq 0"}),i.jsx("p",{className:"text-slate-300 mt-2 mb-2",children:"This is a quadratic in x that is always  0, so its discriminant must be  0:"}),i.jsx(Y,{children:"(2\\mathbf{u} \\cdot \\mathbf{v})^2 - 4|\\mathbf{u}|^2|\\mathbf{v}|^2 \\leq 0"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"This gives (u  v)  |u||v|, hence |u  v|  |u||v|."})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.6.1"}),i.jsxs("p",{className:"text-slate-300",children:["Explain why the Euclidean inner product for  is positive definite (i.e., why ",i.jsx("strong",{children:"w"}),"  ",i.jsx("strong",{children:"w"}),"  0 for any vector ",i.jsx("strong",{children:"w"}),")."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.6.2"}),i.jsxs("p",{className:"text-slate-300",children:["For any real number x, and any vectors ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"v"}),", show that (",i.jsx("strong",{children:"u"})," + x",i.jsx("strong",{children:"v"}),")  (",i.jsx("strong",{children:"u"})," + x",i.jsx("strong",{children:"v"}),") = |",i.jsx("strong",{children:"u"}),"| + 2x(",i.jsx("strong",{children:"u"}),"  ",i.jsx("strong",{children:"v"}),") + x|",i.jsx("strong",{children:"v"}),"|."]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.6.3"}),i.jsx("p",{className:"text-slate-300",children:"If A, B, and C are real numbers and A + Bx + Cx  0 for any real number x, explain why B  4AC  0."})]}),i.jsx(AX,{className:"my-6"}),i.jsx(Re,{sectionId:28,questions:Xe[28]||[],title:"Triangle Inequality Quiz"})]})}function PX(){return i.jsxs(qe,{sectionId:29,children:[i.jsx("h2",{children:"Rotations, Matrices, and Complex Numbers"}),i.jsx("p",{children:"In this section, we explore three equivalent ways to represent rotations of the plane: functions, matrices, and complex numbers. Each representation has its advantages."}),i.jsx("h3",{children:"Rotation Matrices"}),i.jsxs("p",{children:["In Section 3.6, we defined a rotation of  as a function r",i.jsx("sub",{children:"c,s"}),", where c and s are real numbers such that c + s = 1. We described r",i.jsx("sub",{children:"c,s"}),"as the function that sends (x, y) to (cx  sy, sx + cy)."]}),i.jsxs(xe,{title:"Rotation Matrix",children:[i.jsxs("p",{children:["The rotation through angle  can be described by the ",i.jsx("strong",{children:"matrix"}),"of coefficients of x and y:"]}),i.jsx(Y,{children:"\\begin{pmatrix} c & -s \\\\ s & c \\end{pmatrix}, \\quad \\text{where } c = \\cos\\theta \\text{ and } s = \\sin\\theta"})]}),i.jsx("p",{children:"Matrix notation allows us to rewrite the rotation as matrix multiplication:"}),i.jsx(Y,{children:"\\begin{pmatrix} c & -s \\\\ s & c \\end{pmatrix} \\begin{pmatrix} x \\\\ y \\end{pmatrix} = \\begin{pmatrix} cx - sy \\\\ sx + cy \\end{pmatrix}"}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Advantage of Matrices:"})," Functions are separated from their variables, so they can be composed without the variables becoming involvedsimply by multiplying matrices."]}),i.jsx("h3",{children:"Deriving Angle Addition Formulas"}),i.jsx("p",{children:"Matrix multiplication gives proofs of the formulas for cos( + ) and sin( + ):"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsx("li",{children:"Rotation through angle  is given by the matrix with cos  and sin "}),i.jsx("li",{children:"Rotation through angle  is given by the matrix with cos  and sin "}),i.jsx("li",{children:"Rotation through  +  is given by the product of these matrices"})]})}),i.jsxs(ue,{title:"Angle Addition Formulas",children:[i.jsx("p",{children:"Multiplying the rotation matrices and equating entries:"}),i.jsx(Y,{children:"\\cos(\\theta_1 + \\theta_2) = \\cos\\theta_1 \\cos\\theta_2 - \\sin\\theta_1 \\sin\\theta_2"}),i.jsx(Y,{children:"\\sin(\\theta_1 + \\theta_2) = \\cos\\theta_1 \\sin\\theta_2 + \\sin\\theta_1 \\cos\\theta_2"})]}),i.jsx("h3",{children:"Complex Numbers"}),i.jsxs("p",{children:["For rotations of , there is a notation even more efficient than the rotation matrix. It is the ",i.jsx("strong",{children:"complex number"})," cos  + i sin , where i = (1)."]}),i.jsx(xe,{title:"Complex Number Representation",children:i.jsxs("p",{children:["We represent the point (x, y)   by the complex number z = x + iy, and we rotate it through angle  about O by ",i.jsx("strong",{children:"multiplying"}),"it by cos  + i sin ."]})}),i.jsx("p",{children:"This works because i = 1, and therefore:"}),i.jsx(Y,{children:"(\\cos\\theta + i\\sin\\theta)(x + iy) = x\\cos\\theta - y\\sin\\theta + i(x\\sin\\theta + y\\cos\\theta)"}),i.jsx(fe,{type:"info",children:"Multiplying all points at once by cos  + i sin  rotates the whole plane about O through angle ."}),i.jsx("h3",{children:"Angle Addition via Complex Numbers"}),i.jsx("p",{children:"Multiplication by (cos  + i sin )(cos  + i sin ) rotates the plane through  + , so it equals multiplication by cos( + ) + i sin( + )."}),i.jsxs(ue,{title:"Complex Proof of Angle Addition",children:[i.jsx(Y,{children:`\\begin{aligned}
&\\cos(\\theta_1 + \\theta_2) + i\\sin(\\theta_1 + \\theta_2) \\\\
&= (\\cos\\theta_1 + i\\sin\\theta_1)(\\cos\\theta_2 + i\\sin\\theta_2) \\\\
&= \\cos\\theta_1\\cos\\theta_2 - \\sin\\theta_1\\sin\\theta_2 + i(\\cos\\theta_1\\sin\\theta_2 + \\sin\\theta_1\\cos\\theta_2)
\\end{aligned}`}),i.jsx("p",{className:"mt-2",children:"Equating real and imaginary parts gives the angle addition formulas."})]}),i.jsx("h3",{children:"Why i = 1?"}),i.jsx("p",{children:"The property i = 1 is not accidental. Any algebra of points in  that satisfies the same laws as the algebra of  automatically satisfies i = 1, where i = (0, 1)."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Key Properties"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"The essential algebraic laws are:"}),i.jsx(Y,{children:"|uv| = |u||v| \\quad \\text{(multiplicative absolute value)}"}),i.jsx(Y,{children:"u(v + w) = uv + uw \\quad \\text{(distributive law)}"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"These imply that multiplying the plane  by a number u with |u| = 1 is an isometry leaving O fixedhence a rotation."})]}),i.jsxs(ue,{title:"Unit Complex Numbers and Rotation",children:[i.jsx("p",{children:"Any u with |u| = 1 can be written as cos  + i sin  for some angle . Multiplication by u rotates the point 1 to the point u, hence rotates the whole plane through angle ."}),i.jsx("p",{className:"mt-2",children:"In particular, multiplication by i = (0, 1) sends (1, 0) to (0, 1) and hence rotates the plane through /2. This implies i = 1, because multiplication by i rotates the plane through , which is the same as multiplication by 1."})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.7.1"}),i.jsx("p",{className:"text-slate-300",children:"Given that |x + iy| = (x + y), explain why |v  w| equals the distance between the complex numbers v and w."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.7.2"}),i.jsx("p",{className:"text-slate-300",children:"Assuming the multiplicative absolute value and the distributive law, show that: distance between uv and uw = |u|  distance between v and w."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.7.3"}),i.jsx("p",{className:"text-slate-300",children:"Deduce that multiplication of  by a number u with |u| = 1 is an isometry leaving O fixed."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.7.4"}),i.jsx("p",{className:"text-slate-300",children:"Assuming that u  1, and hence uz  z when z  0, deduce that multiplication by u  1 is a rotation."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 4.7.5"}),i.jsx("p",{className:"text-slate-300",children:"Explain why any u with |u| = 1 can be written in the form cos  + i sin  for some angle , and conclude that multiplication by u rotates the plane through angle ."})]}),i.jsx(TX,{className:"my-6"}),i.jsx(Re,{sectionId:29,questions:Xe[29]||[],title:"Rotations, Matrices, and Complex Numbers Quiz"})]})}function IX(){return i.jsxs(qe,{sectionId:30,children:[i.jsx("h2",{children:"Discussion"}),i.jsx("p",{children:"Because the geometric content of a vector space with an inner product is much the same as Euclidean geometry, it is interesting to see how many axioms it takes to describe a vector space."}),i.jsx("h3",{children:"Axiom Count Comparison"}),i.jsxs("p",{children:["Remember from Section 2.9 that it takes ",i.jsx("strong",{children:"17 Hilbert axioms"}),"to describe the Euclidean plane, or 16 if we are willing to drop completeness of the line."]}),i.jsx("h3",{children:"Vector Space Axioms"}),i.jsx("p",{children:"To define a vector space, we began with eight axioms for vector addition and scalar multiplication:"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[i.jsx(Y,{children:"\\mathbf{u} + \\mathbf{v} = \\mathbf{v} + \\mathbf{u}"}),i.jsx(Y,{children:"\\mathbf{u} + (\\mathbf{v} + \\mathbf{w}) = (\\mathbf{u} + \\mathbf{v}) + \\mathbf{w}"}),i.jsx(Y,{children:"\\mathbf{u} + \\mathbf{0} = \\mathbf{u}"}),i.jsx(Y,{children:"\\mathbf{u} + (-\\mathbf{u}) = \\mathbf{0}"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[i.jsx(Y,{children:"1\\mathbf{u} = \\mathbf{u}"}),i.jsx(Y,{children:"a(\\mathbf{u} + \\mathbf{v}) = a\\mathbf{u} + a\\mathbf{v}"}),i.jsx(Y,{children:"(a + b)\\mathbf{u} = a\\mathbf{u} + b\\mathbf{u}"}),i.jsx(Y,{children:"a(b\\mathbf{u}) = (ab)\\mathbf{u}"})]})]}),i.jsx("h3",{children:"Inner Product Axioms"}),i.jsx("p",{children:"Then we added three (or four) axioms for the inner product:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx(Y,{children:"\\mathbf{u} \\cdot \\mathbf{v} = \\mathbf{v} \\cdot \\mathbf{u}"}),i.jsx(Y,{children:"\\mathbf{u} \\cdot (\\mathbf{v} + \\mathbf{w}) = \\mathbf{u} \\cdot \\mathbf{v} + \\mathbf{u} \\cdot \\mathbf{w}"}),i.jsx(Y,{children:"(a\\mathbf{u}) \\cdot \\mathbf{v} = \\mathbf{u} \\cdot (a\\mathbf{v}) = a(\\mathbf{u} \\cdot \\mathbf{v})"})]}),i.jsx("p",{children:"We also need relations among inner product, length, and angleat a minimum the cosine formula:"}),i.jsx(Y,{children:"\\mathbf{u} \\cdot \\mathbf{v} = |\\mathbf{u}||\\mathbf{v}|\\cos\\theta"}),i.jsx("p",{children:"So this is 12 or 13 axioms so far."}),i.jsx("h3",{children:"The Field Axioms"}),i.jsxs("p",{children:["But we have also assumed that the scalars a, b, ... are real numbers, so there remains the problem of writing down axioms for them. These are the",i.jsx("strong",{children:" field axioms"}),":"]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-400 font-semibold mb-2",children:"Commutative Laws"}),i.jsx(Y,{children:"a + b = b + a, \\quad ab = ba"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-400 font-semibold mb-2",children:"Associative Laws"}),i.jsx(Y,{children:"a + (b + c) = (a + b) + c"}),i.jsx(Y,{children:"a(bc) = (ab)c"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-400 font-semibold mb-2",children:"Identity Laws"}),i.jsx(Y,{children:"a + 0 = a, \\quad a \\cdot 1 = a"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-blue-400 font-semibold mb-2",children:"Inverse Laws"}),i.jsx(Y,{children:"a + (-a) = 0, \\quad aa^{-1} = 1"})]})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("p",{className:"text-blue-400 font-semibold mb-2",children:"Distributive Law"}),i.jsx(Y,{children:"a(b + c) = ab + ac"})]})]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Total Count:"})," The usual definition of a vector space, with an inner product suitable for Euclidean geometry, takes ",i.jsx("strong",{children:"more than 20 axioms"}),"!"]}),i.jsx("h3",{children:"Comparison with Hilbert's Axioms"}),i.jsx(xe,{title:"Trade-offs",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsx("li",{children:"The field axioms and vector space axioms are useful in many other parts of mathematics"}),i.jsx("li",{children:"Most of the Hilbert axioms seem meaningful only in geometry"}),i.jsx("li",{children:"By varying the inner product slightly, one can change the geometry of the vector space in interesting ways"})]})}),i.jsx("h3",{children:"Minkowski Space"}),i.jsxs("p",{children:["By varying the inner product, one can obtain the geometry of",i.jsx("strong",{children:" Minkowski space"})," used in Einstein's special theory of relativity. This shows the flexibility of the vector space approach."]}),i.jsx("h3",{children:"Further Reading"}),i.jsx("p",{children:"To learn more about the vector space approach to geometry, see:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 my-4",children:[i.jsxs("li",{children:[i.jsx("em",{children:"Linear Algebra and Geometry, a Second Course"})," by I. Kaplansky"]}),i.jsxs("li",{children:[i.jsx("em",{children:"Metric Affine Geometry"})," by E. Snapper and R. J. Troyer"]})]}),i.jsx("h3",{children:"Looking Ahead"}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"A Simpler Foundation:"})," Still, one can dream of building geometry on a much simpler set of axioms. In Chapter 6, we will realize this dream with ",i.jsx("strong",{children:"projective geometry"}),", which we begin studying in Chapter 5."]}),i.jsx("h3",{children:"Key Takeaways from Chapter 4"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Vectors"})," can be added and multiplied by scalars, following eight fundamental properties"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Linear independence"})," captures the concept of different directions"]}),i.jsxs("li",{children:["The ",i.jsx("strong",{children:"midpoint formula"})," and ",i.jsx("strong",{children:"centroid"}),"are vector averages"]}),i.jsxs("li",{children:["The ",i.jsx("strong",{children:"inner product"})," encodes both length and angle"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Cauchy-Schwarz"})," implies the triangle inequality"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Rotation matrices"})," and ",i.jsx("strong",{children:"complex numbers"}),"provide elegant representations of rotations"]}),i.jsx("li",{children:"Vector space geometry requires many axioms but is highly flexible"})]})}),i.jsx(ue,{title:"The Power of Linear Algebra",children:i.jsx("p",{children:"Real vector spaces with inner products are a natural setting for Euclidean geometry. Once the inner product is there, we can prove all theorems of Euclidean geometry, often more efficiently than before. We can also uniformly extend geometry to any number of dimensions by considering ."})}),i.jsx(Re,{sectionId:30,questions:Xe[30]||[],title:"Chapter 4 Discussion Quiz"})]})}function RX({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(8),[r,a]=q.useState(.3),[l,o]=q.useState(!0),c=500,h=400,u=c/2,f=h/2+50,x=T=>{const S=Math.cos(r),N=Math.sin(r),j=T.x*S-T.z*N,g=T.x*N+T.z*S+n;if(g<=.1)return null;const E=80,v=n/g,p=u+j*E*v,A=f-T.y*E*v;return[p,A]},b=[];for(let T=-3;T<=3;T++)b.push([{x:T,y:0,z:-1},{x:T,y:0,z:5}]);for(let T=-1;T<=5;T++)b.push([{x:-3,y:0,z:T},{x:3,y:0,z:T}]);const M=[{x:-.8,y:0,z:1.2},{x:.8,y:0,z:1.2},{x:.8,y:0,z:2.8},{x:-.8,y:0,z:2.8},{x:-.8,y:1.6,z:1.2},{x:.8,y:1.6,z:1.2},{x:.8,y:1.6,z:2.8},{x:-.8,y:1.6,z:2.8}],y=[[0,1],[1,2],[2,3],[3,0],[4,5],[5,6],[6,7],[7,4],[0,4],[1,5],[2,6],[3,7]];return q.useEffect(()=>{const T=e.current;if(!T)return;const S=T.getContext("2d");if(!S)return;S.fillStyle="#0f172a",S.fillRect(0,0,c,h),S.strokeStyle="#334155",S.lineWidth=1,S.setLineDash([5,5]),S.beginPath(),S.moveTo(0,f),S.lineTo(c,f),S.stroke(),S.setLineDash([]),S.fillStyle="#64748b",S.font="11px sans-serif",S.fillText("Horizon",10,f-5),S.strokeStyle="#475569",S.lineWidth=1,b.forEach(([m,g])=>{const E=x(m),v=x(g);E&&v&&(S.beginPath(),S.moveTo(E[0],E[1]),S.lineTo(v[0],v[1]),S.stroke())}),S.strokeStyle="#f472b6",S.lineWidth=2,y.forEach(([m,g])=>{const E=x(M[m]),v=x(M[g]);E&&v&&(S.beginPath(),S.moveTo(E[0],E[1]),S.lineTo(v[0],v[1]),S.stroke())});const j=[M[2],M[3],M[7],M[6]].map(m=>x(m)).filter(m=>m!==null);if(j.length===4&&(S.fillStyle="rgba(244, 114, 182, 0.2)",S.beginPath(),S.moveTo(j[0][0],j[0][1]),j.forEach(m=>S.lineTo(m[0],m[1])),S.closePath(),S.fill()),l){const m=x({x:0,y:0,z:100});if(m){S.fillStyle="#fbbf24",S.beginPath(),S.arc(m[0],m[1],6,0,Math.PI*2),S.fill(),S.fillStyle="#fbbf24",S.font="11px sans-serif",S.fillText("Vanishing Point",m[0]+10,m[1]-5),S.strokeStyle="rgba(251, 191, 36, 0.3)",S.lineWidth=1,S.setLineDash([3,3]);for(let g=-3;g<=3;g+=2){const E=x({x:g,y:0,z:-1});E&&(S.beginPath(),S.moveTo(E[0],E[1]),S.lineTo(m[0],m[1]),S.stroke())}S.setLineDash([])}}S.fillStyle="#94a3b8",S.font="11px sans-serif",S.fillText("Perspective Projection Demo",10,20)},[n,r,l]),i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Perspective Projection"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Eye Distance: ",n.toFixed(1)]}),i.jsx("input",{type:"range",min:"3",max:"15",step:"0.5",value:n,onChange:T=>s(parseFloat(T.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Rotation: ",(r*180/Math.PI).toFixed(0),""]}),i.jsx("input",{type:"range",min:"-1",max:"1",step:"0.05",value:r,onChange:T=>a(parseFloat(T.target.value)),className:"w-full"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:l,onChange:T=>o(T.target.checked),className:"rounded"}),"Show vanishing point"]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-yellow-400 mb-2",children:"Key Concepts"}),i.jsxs("ul",{className:"text-xs text-slate-300 space-y-1",children:[i.jsx("li",{children:" Parallel lines converge at vanishing point"}),i.jsx("li",{children:" Objects shrink with distance"}),i.jsx("li",{children:" Horizon is at eye level"})]})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," 3D cube"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," Vanishing point"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-slate-500",children:"Gray:"})," Floor grid"]})]})]})]})]})}function _X({className:t=""}){const e=q.useRef(null),[n,s]=q.useState([1,2,4,6]),[r,a]=q.useState(null),[l,o]=q.useState(0),c=500,h=380,u=120,f=280,x=50,b=450,M=50,y=(G,V)=>({x:x+G*M,y:V}),T=(G,V,J,ee)=>{const re=J-G,se=ee-V,he=J-V,ae=ee-G;return re*se/(he*ae)},S=G=>{const V=1+l*.3,J=l*.5,ee=l*.1;return(V*G+J)/(ee*G+1)},[N,j,m,g]=n,E=T(N,j,m,g),v=n.map(S),[p,A,w,k]=v,D=T(p,A,w,k);q.useEffect(()=>{const G=e.current;if(!G)return;const V=G.getContext("2d");if(!V)return;V.fillStyle="#0f172a",V.fillRect(0,0,c,h),V.strokeStyle="#475569",V.lineWidth=2,V.beginPath(),V.moveTo(x-20,u),V.lineTo(b+20,u),V.stroke(),V.beginPath(),V.moveTo(x-20,f),V.lineTo(b+20,f),V.stroke();const J=250,ee=50;V.fillStyle="#fbbf24",V.beginPath(),V.arc(J,ee,5,0,Math.PI*2),V.fill(),V.fillStyle="#fbbf24",V.font="11px sans-serif",V.fillText("Projection center",J+10,ee);const re=["#f472b6","#22d3ee","#a78bfa","#34d399"],se=["A","B","C","D"];n.forEach((he,ae)=>{const Ne=y(he,u);V.strokeStyle="rgba(251, 191, 36, 0.3)",V.lineWidth=1,V.setLineDash([3,3]),V.beginPath(),V.moveTo(J,ee),V.lineTo(Ne.x,Ne.y);const Te=y(v[ae],f);V.lineTo(Te.x,Te.y),V.stroke(),V.setLineDash([]),V.fillStyle=re[ae],V.beginPath(),V.arc(Ne.x,Ne.y,8,0,Math.PI*2),V.fill(),V.fillStyle="#e2e8f0",V.font="bold 12px sans-serif",V.fillText(se[ae],Ne.x-4,Ne.y-12),V.fillStyle=re[ae],V.beginPath(),V.arc(Te.x,Te.y,8,0,Math.PI*2),V.fill(),V.fillStyle="#e2e8f0",V.fillText(se[ae]+"'",Te.x-6,Te.y+22)}),V.fillStyle="#94a3b8",V.font="12px sans-serif",V.fillText("Original line",x,u-30),V.fillText("Projected line",x,f+35),V.fillStyle="#0f172a",V.fillRect(300,310,190,60),V.strokeStyle="#334155",V.strokeRect(300,310,190,60),V.fillStyle="#e2e8f0",V.font="12px sans-serif",V.fillText(`CR(A,B;C,D) = ${E.toFixed(4)}`,310,335),V.fillText(`CR(A',B';C',D') = ${D.toFixed(4)}`,310,355),Math.abs(E-D)<.001&&(V.fillStyle="#34d399",V.fillText(" Equal!",430,345))},[n,l,v,E,D]);const I=G=>{var re;const V=(re=e.current)==null?void 0:re.getBoundingClientRect();if(!V)return;const J=G.clientX-V.left,ee=G.clientY-V.top;n.forEach((se,he)=>{const ae=y(se,u);Math.hypot(J-ae.x,ee-ae.y)<15&&a(he)})},$=G=>{var se;if(r===null)return;const V=(se=e.current)==null?void 0:se.getBoundingClientRect();if(!V)return;let ee=(G.clientX-V.left-x)/M;ee=Math.round(ee*4)/4,ee=Math.max(.5,Math.min(7,ee));const re=[...n];re[r]=ee,re.sort((he,ae)=>he-ae),s(re)},B=()=>{a(null)};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Cross-Ratio Invariant"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded cursor-grab",onMouseDown:I,onMouseMove:$,onMouseUp:B,onMouseLeave:B})}),i.jsxs("div",{className:"w-full md:w-52 space-y-3",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Projection strength: ",l.toFixed(2)]}),i.jsx("input",{type:"range",min:"-1",max:"1",step:"0.05",value:l,onChange:G=>o(parseFloat(G.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-green-400 mb-2",children:"Cross-Ratio"}),i.jsx("p",{className:"text-xs text-slate-300 mb-2",children:"The cross-ratio of four collinear points is:"}),i.jsx("p",{className:"text-xs font-mono text-cyan-400",children:"CR(A,B;C,D) = (ACBD)/(BCAD)"})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-yellow-400 mb-2",children:"Key Property"}),i.jsxs("p",{className:"text-xs text-slate-300",children:["Cross-ratio is ",i.jsx("strong",{children:"preserved"})," under projective transformations. Move points and change projection to verify!"]})]}),i.jsx("button",{onClick:()=>{s([1,2,4,6]),o(0)},className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Reset"}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsx("p",{children:"Drag points A, B, C, D on the top line"}),i.jsx("p",{children:"Adjust projection to see invariance"})]})]})]})]})}function qX({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(80),[r,a]=q.useState(6),[l,o]=q.useState(!0),[c,h]=q.useState(!1),u=520,f=420,x=u/2,b=f-40,M=60;return q.useEffect(()=>{const y=e.current;if(!y)return;const T=y.getContext("2d");if(!T)return;T.fillStyle="#0f172a",T.fillRect(0,0,u,f),T.strokeStyle="#64748b",T.lineWidth=2,T.beginPath(),T.moveTo(0,n),T.lineTo(u,n),T.stroke(),T.fillStyle="#64748b",T.font="12px sans-serif",T.fillText("Horizon",10,n-10),T.fillStyle="#fbbf24",T.beginPath(),T.arc(x,n,6,0,Math.PI*2),T.fill(),T.fillStyle="#fbbf24",T.fillText("Vanishing Point",x-45,n-15);const S=x-r*M/2,N=[];for(let g=0;g<=r;g++)N.push({x:S+g*M,y:b});T.strokeStyle="#475569",T.lineWidth=1,N.forEach(g=>{T.beginPath(),T.moveTo(g.x,g.y),T.lineTo(x,n),T.stroke()});const j=b-n,m=[b];for(let g=1;g<=10;g++){const E=1-g/(g+3),v=n+j*E;v>n+20&&m.push(v)}T.strokeStyle="#475569",m.forEach(g=>{const E=(b-g)/(b-n),v=r*M/2*(1-E),p=x-v,A=x+v;T.beginPath(),T.moveTo(p,g),T.lineTo(A,g),T.stroke()});for(let g=0;g<m.length-1;g++){const E=m[g],v=m[g+1],p=(b-E)/(b-n),A=(b-v)/(b-n);for(let w=0;w<r;w++){const k=(w-r/2)/(r/2),D=(w+1-r/2)/(r/2),I=x+k*(r*M/2)*(1-p),$=x+D*(r*M/2)*(1-p),B=x+D*(r*M/2)*(1-A),G=x+k*(r*M/2)*(1-A),V=(g+w)%2===0;T.fillStyle=V?"rgba(148, 163, 184, 0.3)":"rgba(30, 41, 59, 0.5)",T.beginPath(),T.moveTo(I,E),T.lineTo($,E),T.lineTo(B,v),T.lineTo(G,v),T.closePath(),T.fill(),T.strokeStyle="#475569",T.lineWidth=1,T.stroke()}}if(l){T.strokeStyle="#f472b6",T.lineWidth=2,T.setLineDash([5,5]);const g=N[0],E=x+M*r/2;T.beginPath(),T.moveTo(g.x,g.y),T.lineTo(E,n),T.stroke(),T.fillStyle="#f472b6",T.beginPath(),T.arc(E,n,5,0,Math.PI*2),T.fill(),T.fillStyle="#f472b6",T.font="11px sans-serif",T.fillText("Diagonal VP",E-30,n+20),T.setLineDash([])}c&&(T.fillStyle="#0f172a",T.fillRect(10,f-100,200,90),T.strokeStyle="#334155",T.strokeRect(10,f-100,200,90),T.fillStyle="#e2e8f0",T.font="bold 11px sans-serif",T.fillText("Costruzione Legittima:",20,f-82),T.font="10px sans-serif",T.fillStyle="#94a3b8",T.fillText("1. Draw horizon with vanishing point",20,f-65),T.fillText("2. Mark equal intervals at bottom",20,f-50),T.fillText("3. Draw lines to vanishing point",20,f-35),T.fillText("4. Use diagonals to find rows",20,f-20)),T.fillStyle="#e2e8f0",T.font="bold 14px sans-serif",T.fillText("Perspective Tiled Floor",10,25)},[n,r,l,c]),i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Perspective Drawing: Tiled Floor"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:u,height:f,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-52 space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm text-slate-300",children:["Horizon Height: ",n,"px"]}),i.jsx("input",{type:"range",min:"40",max:"200",value:n,onChange:y=>s(parseInt(y.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:"text-sm text-slate-300",children:["Tiles: ",r]}),i.jsx("input",{type:"range",min:"3",max:"10",value:r,onChange:y=>a(parseInt(y.target.value)),className:"w-full"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:l,onChange:y=>o(y.target.checked),className:"rounded"}),"Show diagonals"]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:c,onChange:y=>h(y.target.checked),className:"rounded"}),"Show construction steps"]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded text-xs",children:[i.jsx("p",{className:"text-slate-300 mb-2",children:i.jsx("strong",{className:"text-yellow-400",children:"Key Insight:"})}),i.jsxs("p",{className:"text-slate-400",children:["Parallel lines converge to a ",i.jsx("span",{className:"text-yellow-400",children:"vanishing point"})," on the horizon."]}),i.jsxs("p",{className:"text-slate-400 mt-2",children:["The ",i.jsx("span",{className:"text-pink-400",children:"diagonal"})," of the tiles determines where the horizontal lines go."]})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," Vanishing point"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Diagonal VP"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-slate-400",children:"Gray:"})," Horizon line"]})]})]})]})]})}function OX({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("parallel"),[r,a]=q.useState(1.5),[l,o]=q.useState(!0),c=550,h=400;return q.useEffect(()=>{const u=e.current;if(!u)return;const f=u.getContext("2d");if(!f)return;f.fillStyle="#0f172a",f.fillRect(0,0,c,h),f.strokeStyle="#1e293b",f.lineWidth=1;for(let m=0;m<=c;m+=40)f.beginPath(),f.moveTo(m,0),f.lineTo(m,h),f.stroke();for(let m=0;m<=h;m+=40)f.beginPath(),f.moveTo(0,m),f.lineTo(c,m),f.stroke();const x=280,b=120,M=c/2;f.strokeStyle="#60a5fa",f.lineWidth=3,f.beginPath(),f.moveTo(20,x),f.lineTo(c-20,x),f.stroke(),f.strokeStyle="#34d399",f.lineWidth=3,f.beginPath(),f.moveTo(20,b),f.lineTo(c-20,b),f.stroke(),f.font="bold 14px sans-serif",f.fillStyle="#60a5fa",f.fillText("L (source)",30,x+25),f.fillStyle="#34d399",f.fillText("L (image)",30,b-10);const y=[-3,-2,-1,0,1,2,3].map(m=>({x:M+m*50,y:x,value:m}));let T=[],S=null;if(n==="parallel"){const m=(r-1.5)*100;T=y.map(g=>({x:g.x+m,y:b,value:g.value+m/50}))}else if(n==="central"){const m=r;S={x:M,y:(x+b)/2-50},T=y.map(g=>{const E=g.x-S.x,v=g.y-S.y,p=(b-S.y)/v;return{x:S.x+p*E,y:b,value:g.value*m}})}else{S={x:M,y:(x+b)/2};const m=[-3,-2,-1,1,2,3].map(g=>({x:M+g*50,y:x,value:g}));T=m.map(g=>{const E=1/g.value;return{x:M+E*100,y:b,value:E}}),y.length=0,y.push(...m)}S&&n!=="parallel"&&(f.fillStyle="#f472b6",f.beginPath(),f.arc(S.x,S.y,8,0,Math.PI*2),f.fill(),f.font="bold 14px sans-serif",f.fillText("O",S.x+12,S.y+5),f.font="11px sans-serif",f.fillText("(projection center)",S.x-55,S.y-15)),l&&S?(f.strokeStyle="rgba(251, 191, 36, 0.4)",f.lineWidth=1,f.setLineDash([4,4]),y.forEach((m,g)=>{T[g]&&T[g].x>20&&T[g].x<c-20&&(f.beginPath(),n==="parallel"?(f.moveTo(m.x,m.y),f.lineTo(T[g].x,T[g].y)):(f.moveTo(m.x,m.y),f.lineTo(S.x,S.y),f.lineTo(T[g].x,T[g].y)),f.stroke())}),f.setLineDash([])):l&&n==="parallel"&&(f.strokeStyle="rgba(251, 191, 36, 0.4)",f.lineWidth=1,f.setLineDash([4,4]),y.forEach((m,g)=>{T[g]&&T[g].x>20&&T[g].x<c-20&&(f.beginPath(),f.moveTo(m.x,m.y),f.lineTo(T[g].x,T[g].y),f.stroke())}),f.setLineDash([])),y.forEach(m=>{f.fillStyle="#60a5fa",f.beginPath(),f.arc(m.x,m.y,5,0,Math.PI*2),f.fill(),f.font="11px sans-serif",f.fillText(m.value.toString(),m.x-5,m.y+20)}),T.forEach(m=>{m.x>20&&m.x<c-20&&(f.fillStyle="#34d399",f.beginPath(),f.arc(m.x,m.y,5,0,Math.PI*2),f.fill(),f.font="11px sans-serif",f.fillText(m.value.toFixed(1),m.x-10,m.y-10))}),f.fillStyle="#e2e8f0",f.font="bold 16px sans-serif";let N="",j="";n==="parallel"?(N=`x  x + ${((r-1.5)*2).toFixed(1)}`,j="Translation (from point at infinity)"):n==="central"?(N=`x  ${r.toFixed(1)}x`,j="Scaling (from finite point)"):(N="x  1/x",j="Reciprocal (non-parallel lines)"),f.fillText(N,c-150,40),f.font="12px sans-serif",f.fillStyle="#94a3b8",f.fillText(j,c-200,60),f.fillStyle="#c084fc",f.font="12px sans-serif",f.fillText("General form: f(x) = (ax + b)/(cx + d)",20,h-20)},[n,r,l]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Projection and Linear Fractional Transformations"}),i.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[i.jsx("button",{onClick:()=>{s("parallel"),a(1.5)},className:`px-3 py-2 text-sm rounded transition ${n==="parallel"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Translation (x + l)"}),i.jsx("button",{onClick:()=>{s("central"),a(1.5)},className:`px-3 py-2 text-sm rounded transition ${n==="central"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Scaling (kx)"}),i.jsx("button",{onClick:()=>s("reciprocal"),className:`px-3 py-2 text-sm rounded transition ${n==="reciprocal"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Reciprocal (1/x)"})]}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded"})}),n!=="reciprocal"&&i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:n==="parallel"?`Translation: l = ${((r-1.5)*2).toFixed(1)}`:`Scale factor: k = ${r.toFixed(1)}`}),i.jsx("input",{type:"range",min:"0.5",max:"2.5",step:"0.1",value:r,onChange:u=>a(parseFloat(u.target.value)),className:"w-full"})]}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("button",{onClick:()=>o(!l),className:`px-4 py-2 rounded transition ${l?"bg-yellow-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:l?"Hide Projection Lines":"Show Projection Lines"})}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{children:i.jsx("strong",{children:"Projection types:"})}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsxs("li",{children:[i.jsx("span",{className:"text-blue-400",children:"Translation"}),": x  x + l (parallel projection)"]}),i.jsxs("li",{children:[i.jsx("span",{className:"text-green-400",children:"Scaling"}),": x  kx (central projection, parallel lines)"]}),i.jsxs("li",{children:[i.jsx("span",{className:"text-pink-400",children:"Reciprocal"}),": x  1/x (non-parallel lines)"]})]}),i.jsx("p",{className:"mt-2 text-purple-400",children:"All combinations give functions f(x) = (ax + b)/(cx + d) with ad  bc  0."})]})]})}function BX({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(2),[r,a]=q.useState(1),[l,o]=q.useState(1),[c,h]=q.useState(!0),[u,f]=q.useState("z1"),x=550,b=400;return q.useEffect(()=>{const M=e.current;if(!M)return;const y=M.getContext("2d");if(!y)return;y.fillStyle="#0f172a",y.fillRect(0,0,x,b);const T=x/2,S=b/2+30,N=50,j=(E,v,p)=>T+(E-v)*.7*N,m=(E,v,p)=>S-p*N+(E+v)*.4*N;y.strokeStyle="#475569",y.lineWidth=2,y.setLineDash([]),y.beginPath(),y.moveTo(j(-4,0),m(-4,0,0)),y.lineTo(j(4,0),m(4,0,0)),y.stroke(),y.fillStyle="#ef4444",y.font="bold 14px sans-serif",y.fillText("x",j(4.3,0),m(4.3,0,0)),y.beginPath(),y.moveTo(j(0,-4),m(0,-4,0)),y.lineTo(j(0,4),m(0,4,0)),y.stroke(),y.fillStyle="#22c55e",y.fillText("y",j(0,4.3),m(0,4.3,0)),y.beginPath(),y.moveTo(j(0,0),m(0,0,-1)),y.lineTo(j(0,0),m(0,0,4)),y.stroke(),y.fillStyle="#3b82f6",y.fillText("z",j(0,0),m(0,0,4.3));const g=u==="z1"?1:2;if(y.fillStyle="rgba(147, 51, 234, 0.15)",y.strokeStyle="#9333ea",y.lineWidth=1,y.beginPath(),y.moveTo(j(-3,-3),m(-3,-3,g)),y.lineTo(j(3,-3),m(3,-3,g)),y.lineTo(j(3,3),m(3,3,g)),y.lineTo(j(-3,3),m(-3,3,g)),y.closePath(),y.fill(),y.stroke(),y.fillStyle="#9333ea",y.font="12px sans-serif",y.fillText(`z = ${g} plane`,j(3.2,-3),m(3.2,-3,g)),y.fillStyle="#f1f5f9",y.beginPath(),y.arc(j(0,0),m(0,0,0),6,0,Math.PI*2),y.fill(),y.font="bold 12px sans-serif",y.fillText("O",j(0,0)-20,m(0,0,0)+5),n!==0||r!==0||l!==0){const E=Math.sqrt(n*n+r*r+l*l),v=n/E,p=r/E,A=l/E;if(y.strokeStyle="#f59e0b",y.lineWidth=3,y.beginPath(),y.moveTo(j(-v*4,-p*4),m(-v*4,-p*4,-A*4)),y.lineTo(j(v*4,p*4),m(v*4,p*4,A*4)),y.stroke(),c&&[.5,1,1.5,2].forEach((k,D)=>{const I=k*n,$=k*r,B=k*l;Math.abs(I)<=4&&Math.abs($)<=4&&Math.abs(B)<=4&&(y.fillStyle=D===1?"#f59e0b":"rgba(251, 191, 36, 0.6)",y.beginPath(),y.arc(j(I,$),m(I,$,B),D===1?7:5,0,Math.PI*2),y.fill(),D===1&&(y.fillStyle="#fbbf24",y.font="11px sans-serif",y.fillText(`(${n}, ${r}, ${l})`,j(I,$)+10,m(I,$,B)-10)))}),l!==0){const w=g/l,k=w*n,D=w*r;y.strokeStyle="rgba(236, 72, 153, 0.5)",y.lineWidth=1,y.setLineDash([4,4]),y.beginPath(),y.moveTo(j(n,r),m(n,r,l)),y.lineTo(j(k,D),m(k,D,g)),y.stroke(),y.setLineDash([]),y.fillStyle="#ec4899",y.beginPath(),y.arc(j(k,D),m(k,D,g),8,0,Math.PI*2),y.fill(),y.fillStyle="#ec4899",y.font="bold 12px sans-serif",y.fillText(`(${k.toFixed(1)}, ${D.toFixed(1)})`,j(k,D)+12,m(k,D,g)+5)}}if(y.fillStyle="#e2e8f0",y.font="bold 14px sans-serif",y.fillText("Homogeneous Coordinates",20,30),y.font="12px sans-serif",y.fillStyle="#fbbf24",y.fillText(`Point: (${n}, ${r}, ${l})`,20,55),l!==0){const E=(n/l).toFixed(2),v=(r/l).toFixed(2);y.fillStyle="#ec4899",y.fillText(`Cartesian: (${E}, ${v})`,20,75)}else y.fillStyle="#94a3b8",y.fillText("Point at infinity (z = 0)",20,75);y.fillStyle="#94a3b8",y.font="11px sans-serif",y.fillText('All (tx, ty, tz) for t  0 represent the same "point"',20,b-15)},[n,r,l,c,u]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Homogeneous Coordinates in P"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:x,height:b,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-red-400 mb-1",children:["x = ",n]}),i.jsx("input",{type:"range",min:"-3",max:"3",step:"0.5",value:n,onChange:M=>s(parseFloat(M.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-green-400 mb-1",children:["y = ",r]}),i.jsx("input",{type:"range",min:"-3",max:"3",step:"0.5",value:r,onChange:M=>a(parseFloat(M.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-blue-400 mb-1",children:["z = ",l]}),i.jsx("input",{type:"range",min:"-2",max:"3",step:"0.5",value:l,onChange:M=>o(parseFloat(M.target.value)),className:"w-full"})]})]}),i.jsxs("div",{className:"flex justify-center gap-3 mb-4",children:[i.jsx("button",{onClick:()=>h(!c),className:`px-3 py-2 text-sm rounded transition ${c?"bg-amber-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:c?"Hide Scalar Multiples":"Show Scalar Multiples"}),i.jsxs("button",{onClick:()=>f(u==="z1"?"z2":"z1"),className:"px-3 py-2 text-sm rounded bg-purple-600 text-white hover:bg-purple-700 transition",children:["Switch to z = ",u==="z1"?"2":"1"," plane"]})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Key Concepts:"})}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsxs("li",{children:["A ",i.jsx("span",{className:"text-amber-400",children:'"point"'})," in P is a line through O in "]}),i.jsxs("li",{children:["All scalar multiples (tx, ty, tz) represent the ",i.jsx("strong",{children:"same"})," projective point"]}),i.jsxs("li",{children:["The ",i.jsx("span",{className:"text-pink-400",children:"Cartesian point"})," is where the line meets the projection plane"]}),i.jsxs("li",{children:["When z = 0, the line is parallel to the plane  a ",i.jsx("span",{className:"text-slate-400",children:"point at infinity"})]})]})]})]})}function $X({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(2),[r,a]=q.useState(1),[l,o]=q.useState(1),[c,h]=q.useState(1),[u,f]=q.useState(!1),x=600,b=400,M=N=>{const j=l*N+c;return Math.abs(j)<.001?null:(n*N+r)/j},y=n*c-r*l,T=Math.abs(y)>.001;q.useEffect(()=>{const N=e.current;if(!N)return;const j=N.getContext("2d");if(!j)return;j.fillStyle="#0f172a",j.fillRect(0,0,x,b);const m=x/2,g=b/2,E=40,v=40,p=k=>m+k*E,A=k=>g-k*v;j.strokeStyle="#1e293b",j.lineWidth=1;for(let k=-10;k<=10;k++)j.beginPath(),j.moveTo(p(k),0),j.lineTo(p(k),b),j.stroke();for(let k=-5;k<=5;k++)j.beginPath(),j.moveTo(0,A(k)),j.lineTo(x,A(k)),j.stroke();if(j.strokeStyle="#475569",j.lineWidth=2,j.beginPath(),j.moveTo(0,g),j.lineTo(x,g),j.stroke(),j.beginPath(),j.moveTo(m,0),j.lineTo(m,b),j.stroke(),j.fillStyle="#94a3b8",j.font="12px sans-serif",j.fillText("x",x-15,g-10),j.fillText("f(x)",m+10,15),Math.abs(l)>.001){const k=-c/l;Math.abs(k)<10&&(j.strokeStyle="rgba(239, 68, 68, 0.5)",j.lineWidth=2,j.setLineDash([5,5]),j.beginPath(),j.moveTo(p(k),0),j.lineTo(p(k),b),j.stroke(),j.setLineDash([]),j.fillStyle="#ef4444",j.font="11px sans-serif",j.fillText(`x = ${k.toFixed(2)}`,p(k)+5,30),j.fillText("(asymptote)",p(k)+5,45))}if(Math.abs(l)>.001){const k=n/l;Math.abs(k)<5&&(j.strokeStyle="rgba(34, 197, 94, 0.5)",j.lineWidth=2,j.setLineDash([5,5]),j.beginPath(),j.moveTo(0,A(k)),j.lineTo(x,A(k)),j.stroke(),j.setLineDash([]),j.fillStyle="#22c55e",j.font="11px sans-serif",j.fillText(`y = ${k.toFixed(2)}`,10,A(k)-5))}if(T){j.strokeStyle="#60a5fa",j.lineWidth=3,j.beginPath();let k=!1;for(let D=0;D<x;D++){const I=(D-m)/E,$=M(I);if($!==null&&Math.abs($)<10){const B=A($);if(!k)j.moveTo(D,B),k=!0;else{const G=(D-1-m)/E,V=M(G);V!==null&&Math.abs($-V)>5?(j.stroke(),j.beginPath(),j.moveTo(D,B)):j.lineTo(D,B)}}else k&&(j.stroke(),j.beginPath(),k=!1)}j.stroke(),j.strokeStyle="rgba(156, 163, 175, 0.4)",j.lineWidth=1,j.setLineDash([3,3]),j.beginPath(),j.moveTo(p(-10),A(-10)),j.lineTo(p(10),A(10)),j.stroke(),j.setLineDash([])}[-2,-1,0,1,2,3].forEach(k=>{const D=M(k);D!==null&&Math.abs(D)<5&&Math.abs(k)<8&&(j.fillStyle="#fbbf24",j.beginPath(),j.arc(p(k),A(0),4,0,Math.PI*2),j.fill(),j.strokeStyle="rgba(251, 191, 36, 0.6)",j.lineWidth=1,j.setLineDash([2,2]),j.beginPath(),j.moveTo(p(k),A(0)),j.lineTo(p(k),A(D)),j.lineTo(p(0),A(D)),j.stroke(),j.setLineDash([]),j.fillStyle="#ec4899",j.beginPath(),j.arc(p(k),A(D),5,0,Math.PI*2),j.fill())}),j.fillStyle="#e2e8f0",j.font="bold 16px sans-serif",j.fillText(`f(x) = (${n}x + ${r}) / (${l}x + ${c})`,20,30),j.font="12px sans-serif",j.fillStyle="#94a3b8",j.fillText(`det = ad - bc = ${y.toFixed(2)}`,20,50),j.fillStyle=T?"#22c55e":"#ef4444",j.fillText(T?" Valid (det  0)":" Invalid (det = 0)",20,70)},[n,r,l,c,T,y]);const S=()=>Math.abs(l)<.001?[{step:1,desc:`Multiply by ${(n/c).toFixed(2)}`,formula:`x  ${(n/c).toFixed(2)}x`},{step:2,desc:`Add ${(r/c).toFixed(2)}`,formula:`x  x + ${(r/c).toFixed(2)}`}]:[{step:1,desc:`Multiply by c = ${l}`,formula:`x  ${l}x`},{step:2,desc:`Add d = ${c}`,formula:`x  x + ${c}`},{step:3,desc:"Multiply by c again",formula:`x  ${l}x`},{step:4,desc:"Reciprocate",formula:"x  1/x"},{step:5,desc:`Multiply by bc-ad = ${(r*l-n*c).toFixed(2)}`,formula:`x  ${(r*l-n*c).toFixed(2)}x`},{step:6,desc:`Add a/c = ${(n/l).toFixed(2)}`,formula:`x  x + ${(n/l).toFixed(2)}`}];return i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Linear Fractional Functions on P"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:x,height:b,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["a = ",n]}),i.jsx("input",{type:"range",min:"-3",max:"3",step:"0.5",value:n,onChange:N=>s(parseFloat(N.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["b = ",r]}),i.jsx("input",{type:"range",min:"-3",max:"3",step:"0.5",value:r,onChange:N=>a(parseFloat(N.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["c = ",l]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:l,onChange:N=>o(parseFloat(N.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["d = ",c]}),i.jsx("input",{type:"range",min:"-3",max:"3",step:"0.5",value:c,onChange:N=>h(parseFloat(N.target.value)),className:"w-full"})]})]}),i.jsxs("div",{className:"flex justify-center gap-3 mb-4",children:[i.jsx("button",{onClick:()=>{s(1),a(0),o(0),h(1)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Identity"}),i.jsx("button",{onClick:()=>{s(0),a(1),o(1),h(0)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Reciprocal (1/x)"}),i.jsx("button",{onClick:()=>{s(2),a(1),o(1),h(1)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Example"}),i.jsxs("button",{onClick:()=>f(!u),className:`px-3 py-2 text-sm rounded transition ${u?"bg-purple-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[u?"Hide":"Show"," Decomposition"]})]}),u&&T&&i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded mb-4",children:[i.jsx("p",{className:"text-sm text-purple-400 font-semibold mb-2",children:"Decomposition into generators:"}),i.jsx("div",{className:"space-y-1 text-sm text-slate-300",children:S().map((N,j)=>i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("span",{className:"text-purple-400",children:[N.step,"."]}),i.jsxs("span",{children:[N.desc,":"]}),i.jsx("span",{className:"text-amber-400",children:N.formula})]},j))})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Key Properties:"})}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsxs("li",{children:["f(x) = (ax + b)/(cx + d) is valid when ",i.jsx("span",{className:"text-green-400",children:"ad - bc  0"})]}),i.jsxs("li",{children:[i.jsx("span",{className:"text-red-400",children:"Vertical asymptote"})," at x = -d/c (where denominator = 0)"]}),i.jsxs("li",{children:["f maps   a/c and -d/c   (works on   ","{","","}",")"]}),i.jsxs("li",{children:["Every linear fractional function is a composition of ",i.jsx("span",{className:"text-amber-400",children:"translations, scalings, and reciprocation"})]})]})]})]})}function LX({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(0),[r,a]=q.useState(1),[l,o]=q.useState(2),[c,h]=q.useState(3),[u,f]=q.useState("none"),[x,b]=q.useState(1),M=600,y=350,T=(p,A,w,k)=>{const D=(w-p)*(k-A),I=(w-A)*(k-p);return Math.abs(I)<1e-4?1/0:D/I},S=p=>{switch(u){case"translate":return p+x;case"scale":return p*x;case"reciprocal":return p===0?1/0:1/p;default:return p}},N=T(n,r,l,c),j=S(n),m=S(r),g=S(l),E=S(c),v=T(j,m,g,E);return q.useEffect(()=>{const p=e.current;if(!p)return;const A=p.getContext("2d");if(!A)return;A.fillStyle="#0f172a",A.fillRect(0,0,M,y);const w=120,k=250,D=M/2,I=40,$=se=>isFinite(se)?D+se*I:se>0?M+50:-50;A.strokeStyle="#60a5fa",A.lineWidth=3,A.beginPath(),A.moveTo(30,w),A.lineTo(M-30,w),A.stroke(),A.strokeStyle="#34d399",A.lineWidth=3,A.beginPath(),A.moveTo(30,k),A.lineTo(M-30,k),A.stroke(),A.font="bold 14px sans-serif",A.fillStyle="#60a5fa",A.fillText("Original points",30,w-30),A.fillStyle="#34d399",A.fillText("Transformed points",30,k-30),A.strokeStyle="#475569",A.lineWidth=1,A.font="10px sans-serif",A.fillStyle="#64748b";for(let se=-5;se<=5;se++){const he=$(se);he>30&&he<M-30&&(A.beginPath(),A.moveTo(he,w-5),A.lineTo(he,w+5),A.stroke(),A.fillText(se.toString(),he-3,w+18),A.beginPath(),A.moveTo(he,k-5),A.lineTo(he,k+5),A.stroke(),A.fillText(se.toString(),he-3,k+18))}const B=["#ef4444","#f59e0b","#8b5cf6","#ec4899"],G=["p","q","r","s"],V=[n,r,l,c],J=[j,m,g,E];A.setLineDash([4,4]),A.strokeStyle="rgba(148, 163, 184, 0.4)",A.lineWidth=1,V.forEach((se,he)=>{const ae=J[he];if(isFinite(se)&&isFinite(ae)){const Ne=$(se),Te=$(ae);Ne>30&&Ne<M-30&&Te>30&&Te<M-30&&(A.beginPath(),A.moveTo(Ne,w+8),A.lineTo(Te,k-8),A.stroke())}}),A.setLineDash([]),V.forEach((se,he)=>{const ae=$(se);ae>20&&ae<M-20&&(A.fillStyle=B[he],A.beginPath(),A.arc(ae,w,8,0,Math.PI*2),A.fill(),A.font="bold 12px sans-serif",A.fillText(`${G[he]}=${se.toFixed(1)}`,ae-15,w-15))}),J.forEach((se,he)=>{if(isFinite(se)){const ae=$(se);ae>20&&ae<M-20&&(A.fillStyle=B[he],A.beginPath(),A.arc(ae,k,8,0,Math.PI*2),A.fill(),A.font="bold 12px sans-serif",A.fillText(`${G[he]}'=${se.toFixed(1)}`,ae-15,k-15))}else A.fillStyle=B[he],A.font="bold 12px sans-serif",A.fillText(`${G[he]}'=`,M-40,k-15+he*15)}),A.fillStyle="#e2e8f0",A.font="bold 14px sans-serif",A.fillText("Cross-Ratio Formula:",30,35),A.font="12px sans-serif",A.fillStyle="#94a3b8",A.fillText("(r-p)(s-q) / (r-q)(s-p)",30,55),A.fillStyle="#60a5fa",A.font="bold 14px sans-serif",A.fillText(`Original CR = ${isFinite(N)?N.toFixed(4):""}`,M-220,35),A.fillStyle="#34d399",A.fillText(`Transformed CR = ${isFinite(v)?v.toFixed(4):""}`,M-220,55);const ee=Math.abs(N-v)<.001||N===v;A.fillStyle=ee?"#22c55e":"#ef4444",A.fillText(ee?" Cross-ratio preserved!":" Cross-ratio changed",M-220,75),A.fillStyle="#c084fc",A.font="12px sans-serif";let re="";switch(u){case"none":re="No transformation";break;case"translate":re=`Translation: x  x + ${x.toFixed(1)}`;break;case"scale":re=`Scaling: x  ${x.toFixed(1)}x`;break;case"reciprocal":re="Reciprocal: x  1/x";break}A.fillText(re,30,y-20)},[n,r,l,c,u,x,j,m,g,E,N,v]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Cross-Ratio Explorer"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:M,height:y,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-red-400 mb-1",children:["p = ",n]}),i.jsx("input",{type:"range",min:"-3",max:"3",step:"0.5",value:n,onChange:p=>s(parseFloat(p.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-amber-400 mb-1",children:["q = ",r]}),i.jsx("input",{type:"range",min:"-3",max:"4",step:"0.5",value:r,onChange:p=>a(parseFloat(p.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-purple-400 mb-1",children:["r = ",l]}),i.jsx("input",{type:"range",min:"-2",max:"5",step:"0.5",value:l,onChange:p=>o(parseFloat(p.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-pink-400 mb-1",children:["s = ",c]}),i.jsx("input",{type:"range",min:"-1",max:"6",step:"0.5",value:c,onChange:p=>h(parseFloat(p.target.value)),className:"w-full"})]})]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[i.jsx("button",{onClick:()=>f("none"),className:`px-3 py-2 text-sm rounded transition ${u==="none"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"None"}),i.jsx("button",{onClick:()=>f("translate"),className:`px-3 py-2 text-sm rounded transition ${u==="translate"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Translate (x + l)"}),i.jsx("button",{onClick:()=>f("scale"),className:`px-3 py-2 text-sm rounded transition ${u==="scale"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Scale (kx)"}),i.jsx("button",{onClick:()=>f("reciprocal"),className:`px-3 py-2 text-sm rounded transition ${u==="reciprocal"?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Reciprocal (1/x)"})]}),(u==="translate"||u==="scale")&&i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:u==="translate"?`l = ${x.toFixed(1)}`:`k = ${x.toFixed(1)}`}),i.jsx("input",{type:"range",min:u==="scale"?.5:-3,max:3,step:"0.1",value:x,onChange:p=>b(parseFloat(p.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"flex justify-center gap-3 mb-4",children:[i.jsx("button",{onClick:()=>{s(0),a(1),o(2),h(3)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Equal Spacing (CR = 4/3)"}),i.jsx("button",{onClick:()=>{s(0),a(1),o(3),h(4)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Example 2"})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Key Insight:"})}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsxs("li",{children:["The cross-ratio is ",i.jsx("span",{className:"text-green-400",children:"invariant under projection"})]}),i.jsx("li",{children:"Translation: l cancels in differences"}),i.jsx("li",{children:"Scaling: k cancels in ratios"}),i.jsx("li",{children:"Reciprocal: algebra shows invariance"}),i.jsxs("li",{children:["Equally spaced points 0, 1, 2, 3 have cross-ratio ",i.jsx("span",{className:"text-amber-400",children:"4/3"})]})]})]})]})}function FX(){return i.jsxs(qe,{sectionId:31,children:[i.jsx("h2",{children:"Perspective Drawing"}),i.jsx("p",{children:"Sometime in the 15th century, Italian artists discovered how to draw three-dimensional scenes in correct perspective. This discovery represented a great advance in realism, transforming how artists depicted the world."}),i.jsx("h3",{children:"The Discovery of Perspective"}),i.jsxs("p",{children:["The simplest test of perspective drawing is the depiction of a tiled floor. Before perspective was understood, artists drew all tiles as rectangles, which makes the floor look vertical. We know from experience that a horizontal rectangle does not ",i.jsx("em",{children:"look"})," rectangularits angles are not all right angles because its sides converge to a common point on the horizon."]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Key Insight:"})," In perspective drawing, parallel lines that recede from the viewer appear to meet at a single point on the horizon, called the ",i.jsx("strong",{children:"vanishing point"}),"."]}),i.jsx("h3",{children:"The Costruzione Legittima"}),i.jsxs("p",{children:["The Italians drew tiles by a method called the ",i.jsx("em",{children:"costruzione legittima"}),"(legitimate construction), first published by Leon Battista Alberti in 1436."]}),i.jsxs(xe,{title:"Costruzione Legittima",children:[i.jsx("p",{children:"The method works as follows:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-2 mt-2",children:[i.jsx("li",{children:"The bottom edge of the picture coincides with a line of tile edges"}),i.jsx("li",{children:"A horizontal line is chosen as the horizon"}),i.jsx("li",{children:"Lines are drawn from equally spaced points on the bottom edge to a point on the horizon (the vanishing point)"}),i.jsx("li",{children:"These lines depict the parallel columns of tiles perpendicular to the bottom edge"}),i.jsx("li",{children:"A horizontal line near the bottom completes the first row of tiles"})]})]}),i.jsx("h3",{children:"Finding the Tile Rows"}),i.jsx("p",{children:"The real problem comes next: How do we find the correct horizontal lines to depict the 2nd, 3rd, 4th, ... rows of tiles? The answer is surprisingly simple:"}),i.jsx(ue,{title:"The Diagonal Method",children:i.jsx("p",{children:"Draw the diagonal of any tile in the bottom row. The diagonal necessarily crosses successive columns at the corners of tiles in the 2nd, 3rd, 4th, ... rows. Hence, these rows can be constructed by drawing horizontal lines at the successive crossings."})}),i.jsx("h3",{children:"Mathematical Analysis"}),i.jsx("p",{children:"Consider a floor with rows of tiles crossing the x-axis at x = 0, 1, 2, 3, ..., and suppose the artist copies the view onto a vertical transparent screen through the y-axis, keeping a fixed eye position at the point (1, 1)."}),i.jsx("p",{children:"The perspective view of the points x = 0, 1, 2, 3, ... will be a series of points on the y-axis. The line from (1, 1) to (n, 0) crosses the y-axis at:"}),i.jsx(Y,{children:"y = \\frac{n}{n+1}"}),i.jsx("p",{children:"Hence, the perspective images of the points x = 0, 1, 2, 3, ... are the points:"}),i.jsx(Y,{children:"y = 0, \\frac{1}{2}, \\frac{2}{3}, \\frac{3}{4}, \\ldots"}),i.jsx("h3",{children:"The Shift Function"}),i.jsx("p",{children:"If each of the points 0, 1, 2, 3, ... is sent to the next, then each of their perspective images y = 0, 1/2, 2/3, 3/4, ... is sent to the next. This shift is effected by the function:"}),i.jsx(Y,{children:"f(y) = \\frac{1}{2-y}"}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Fixed Point:"})," The point y = 1 is not moved by this function (since f(1) = 1). This point corresponds to the horizonthe limit point where the rows of tiles appear to converge."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.1.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that the line from (1, 1) to (n, 0) crosses the y-axis at y = n/(n+1). Hence verify that the perspective images of the points x = 0, 1, 2, 3, ... are the points y = 0, 1/2, 2/3, 3/4, ...."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.1.2"}),i.jsx("p",{className:"text-slate-300",children:"Show that the function f(y) = 1/(2y) sends each perspective image y = 0, 1/2, 2/3, 3/4, ... to the next."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.1.3"}),i.jsx("p",{className:"text-slate-300",children:"Which point on the y-axis is not moved by the function f(y) = 1/(2y), and what is the geometric significance of this point?"})]}),i.jsx(qX,{className:"my-6"}),i.jsx(Re,{sectionId:31,questions:Xe[31]||[],title:"Perspective Drawing Quiz"})]})}function UX(){return i.jsxs(qe,{sectionId:32,children:[i.jsx("h2",{children:"Drawing with Straightedge Alone"}),i.jsxs("p",{children:["The ",i.jsx("em",{children:"costruzione legittima"})," takes advantage of something that is visually obvious but mathematically mysteriousthe fact that parallel lines generally do not look parallel, but appear to meet on the horizon."]}),i.jsx("h3",{children:"Points at Infinity"}),i.jsx(xe,{title:"Vanishing Point and Line at Infinity",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:["The point where a family of parallels appear to meet is called their",i.jsx("strong",{children:" vanishing point"})," by artists, and their ",i.jsx("strong",{children:"point at infinity"})," by mathematicians."]}),i.jsxs("li",{children:["The horizon itself, which consists of all the points at infinity, is called the ",i.jsx("strong",{children:"line at infinity"}),"."]})]})}),i.jsx("h3",{children:"Limitations of the Costruzione Legittima"}),i.jsx("p",{children:"The costruzione legittima does not take full advantage of points at infinity. It involves some parallels that are really drawn parallel, so we need both straightedge and compass as used in Chapter 1. The construction also needs measurement to lay out the equally spaced points on the bottom line of the picture."}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Key Question:"})," Is it possible to draw a perspective view of a tiled floor with a straightedge alone? Absolutely!"]}),i.jsx("h3",{children:"Construction with Straightedge Alone"}),i.jsx("p",{children:"All one needs to get started is the horizon and a tile placed obliquely. The tile is created by two pairs of parallel lines, which are simply pairs that meet on the horizon."}),i.jsx(ue,{title:"The Straightedge Construction",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[i.jsx("li",{children:"Start with a horizon line and one tile (a quadrilateral whose opposite sides meet on the horizon)"}),i.jsx("li",{children:"Draw the diagonal of this tile and extend it to the horizon, obtaining the point at infinity of all parallel diagonals"}),i.jsx("li",{children:"This step allows us to draw two more diagonals, of tiles adjacent to the first one"}),i.jsx("li",{children:"These diagonals give us the remaining sides of the adjacent tiles"}),i.jsx("li",{children:"Repeat the process to fill in as many tiles as desired"})]})}),i.jsx("h3",{children:"Why It Works"}),i.jsx("p",{children:"This construction works because certain things remain the same in any view of the plane:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsx("li",{children:"Straight lines remain straight"}),i.jsx("li",{children:"Intersections remain intersections"}),i.jsx("li",{children:"Parallel lines remain parallel or meet on the horizon"})]})}),i.jsxs("p",{children:["Since parallel lines always meet on the horizon if you point yourself in the right direction, if we could look in all directions at once we would see that ",i.jsx("strong",{children:"any two lines have a point in common"}),"."]}),i.jsx("h3",{children:"The Power of the Straightedge"}),i.jsx("p",{children:"This construction is easy and fun to do. Unlike the costruzione legittima, which requires both straightedge and compass for its measurements and parallel constructions, this method uses only incidence properties of linestheir meetings and intersections."}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Try It:"})," Get a straightedge and try the construction yourself! Start with a horizon line, draw one quadrilateral tile below it with opposite sides meeting on the horizon, and then extend using diagonals."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.2.1"}),i.jsx("p",{className:"text-slate-300",children:"Consider a triangular tile that could be half of a quadrangular tile. Draw a perspective view of the plane filled with many copies of this tile."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.2.2"}),i.jsx("p",{className:"text-slate-300",children:"By deleting some lines in your solution to Exercise 5.2.1, create a perspective view of the plane filled with congruent hexagons."})]}),i.jsx(RX,{className:"my-6"}),i.jsx(Re,{sectionId:32,questions:Xe[32]||[],title:"Drawing with Straightedge Alone Quiz"})]})}function HX(){return i.jsxs(qe,{sectionId:33,children:[i.jsx("h2",{children:"Projective Plane Axioms and Their Models"}),i.jsxs("p",{children:['Drawing a tiled floor with straightedge alone requires a "horizon"a line at infinity. This idea leads us to believe in a structure called a',i.jsx("strong",{children:" projective plane"}),', containing objects called "points" and "lines" satisfying certain axioms.']}),i.jsx("h3",{children:"Axioms for a Projective Plane"}),i.jsx(xe,{title:"Projective Plane Axioms",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-3",children:[i.jsx("li",{children:'Any two "points" are contained in a unique "line."'}),i.jsx("li",{children:'Any two "lines" contain a unique "point."'}),i.jsx("li",{children:'There exist four "points," no three of which are in a "line."'})]})}),i.jsxs("p",{children:["Notice that these are axioms about ",i.jsx("strong",{children:"incidence"}),': They involve only meetings between "points" and "lines," not things such as length or angle.']}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Understanding the Axioms"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-300",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Axiom 1"})," is essentially Euclid's first axiom for the construction of lines."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Axiom 2"}),' says that there are no exceptional pairs of lines that do not meet. We can define "parallels" to be lines that meet on a "horizon," but this does not single out a special class of lines.']}),i.jsxs("li",{children:[i.jsx("strong",{children:"Axiom 3"}),' says that a projective plane has "enough points to be interesting"we can think of the four points as vertices of a quadrilateral.']})]})]}),i.jsx("h3",{children:"The Real Projective Plane P"}),i.jsx("p",{children:"If there is such a thing as a projective plane, it should certainly satisfy these axioms. But does anything satisfy them? These doubts are dispelled by the following model."}),i.jsx(xe,{title:"The Real Projective Plane P",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:["Take ",i.jsx("strong",{children:'"points"'})," to be lines through O in "]}),i.jsxs("li",{children:["Take ",i.jsx("strong",{children:'"lines"'})," to be planes through O in "]}),i.jsxs("li",{children:["Take the ",i.jsx("strong",{children:'"plane"'})," to be the set of all lines through O in "]})]})}),i.jsx(ue,{title:"P Satisfies the Axioms",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-3",children:[i.jsx("li",{children:'Any two "points" are contained in a unique "line" because two given lines through O lie in a unique plane through O.'}),i.jsx("li",{children:'Any two "lines" contain a unique "point" because any two planes through O meet in a unique line through O.'}),i.jsx("li",{children:'There are four different "points," no three of which are in a "line": for example, the lines from O to (1,0,0), (0,1,0), (0,0,1), and (1,1,1).'})]})}),i.jsx("h3",{children:"Viewing with an All-Seeing Eye"}),i.jsxs("p",{children:["Lines and planes through O in  capture the idea of ",i.jsx("strong",{children:"viewing with an all-seeing eye"}),". The point O is the position of the eye, and the lines through O connect the eye to points in the plane."]}),i.jsx("p",{children:"Consider how the eye sees the plane z = 1. Points P, P, P, ... in this plane are joined to the eye by lines through O. As a point P tends to infinity, its line of sight tends toward horizontal. Therefore:"}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Points at Infinity:"}),' The horizontal lines through O are the "points at infinity" of the plane z = 1, and the plane of all horizontal lines through O is the "horizon" or "line at infinity."']}),i.jsx("h3",{children:"One Point at Infinity per Line"}),i.jsxs("p",{children:["This model makes clear why each line has only ",i.jsx("strong",{children:"one"})," point at infinity, not two: The lines connecting O to points P along a line M tend toward the ",i.jsx("em",{children:"same"})," horizontal line as P tends to infinity in either direction (namely, the parallel to M through O)."]}),i.jsx("h3",{children:"The Real Projective Line"}),i.jsxs("p",{children:['It is hard to find a surface that behaves like P, but it is easy to find a curve that behaves like any "line" in itthe ',i.jsx("strong",{children:"real projective line"}),"."]}),i.jsx(xe,{title:"Modeling a Projective Line",children:i.jsx("p",{children:'The "points" in a "line" of Pnamely, the lines through O in some plane through Ocorrespond to points of a circle through O. Each point P  O on the circle corresponds to the line through O and P, and the point O itself corresponds to the tangent line at O.'})}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.3.1"}),i.jsx("p",{className:"text-slate-300",children:"Find the plane ax + by + cz = 0 through the points (0,0,1) and (1,1,1), and check that it does not contain the points (1,0,0) and (0,1,0)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.3.2"}),i.jsx("p",{className:"text-slate-300",children:'Show that P has four "lines," no three of which have a common "point."'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.3.3"}),i.jsx("p",{className:"text-slate-300",children:'Suppose that A, B, C, D are four "points" in a projective plane, no three of which are in a "line." Consider the "lines" AB, BC, CD, DA. Show that if AB and BC have a common point E, then E = B.'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.3.4"}),i.jsx("p",{className:"text-slate-300",children:"Deduce from Exercise 5.3.3 that the three lines AB, BC, CD have no common point, and that the same is true of any three of the lines AB, BC, CD, DA."})]}),i.jsx(Re,{sectionId:33,questions:Xe[33]||[],title:"Projective Plane Axioms Quiz"})]})}function VX(){return i.jsxs(qe,{sectionId:34,children:[i.jsx("h2",{children:"Homogeneous Coordinates"}),i.jsx("p",{children:'Because "points" and "lines" of P are lines and planes through O in , they are easily handled by methods of linear algebra.'}),i.jsx("h3",{children:"Coordinates for Points"}),i.jsx("p",{children:"A line through O is determined by any point (x, y, z)  O, and it consists of the points (tx, ty, tz), where t runs through all real numbers."}),i.jsx(xe,{title:"Homogeneous Coordinates",children:i.jsxs("p",{children:['A "point" in P is not given by a single triple (x, y, z), but rather by any of its nonzero multiples (tx, ty, tz). These triples are called the ',i.jsx("strong",{children:"homogeneous coordinates"}),' of the "point."']})}),i.jsx("h3",{children:"Equations for Lines"}),i.jsxs("p",{children:["A plane through O has a linear equation of the form ax + by + cz = 0, called a ",i.jsx("strong",{children:"homogeneous equation"}),". The same plane is given by the equation tax + tby + tcz = 0 for any nonzero t."]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Key Insight:"}),' A "line" is likewise not given by a single triple (a, b, c), but by the set of all its nonzero multiples (ta, tb, tc).']}),i.jsx("h3",{children:"Finding the Line Through Two Points"}),i.jsx("p",{children:"If (x, y, z) and (x, y, z) lie on different lines through O, then they lie in a unique plane ax + by + cz = 0. The coordinates (a, b, c) can be found by solving:"}),i.jsx(Y,{children:`\\begin{aligned}
ax_1 + by_1 + cz_1 &= 0 \\\\
ax_2 + by_2 + cz_2 &= 0
\\end{aligned}`}),i.jsx("p",{children:"Because there are more unknowns than equations, there is not a single solution but a whole space of thema set of multiples (ta, tb, tc), all representing the same homogeneous equation."}),i.jsxs(ue,{title:"Algebraic Basis of Projective Geometry",children:[i.jsx("p",{children:'This is the algebraic reason why two "points" lie on a unique "line" in P. Similarly, two "lines" have a unique "point" in common because solving:'}),i.jsx(Y,{children:`\\begin{aligned}
a_1x + b_1y + c_1z &= 0 \\\\
a_2x + b_2y + c_2z &= 0
\\end{aligned}`}),i.jsx("p",{className:"mt-2",children:'for x, y, z gives a set of multiples (tx, ty, tz) representing the homogeneous coordinates of the common "point."'})]}),i.jsx("h3",{children:"Complex Projective Plane"}),i.jsxs("p",{children:["It makes no algebraic difference if the coordinates are complex numbers. We can define a ",i.jsx("strong",{children:"complex projective plane P"}),', each "point" of which is a set of triples (tx, ty, tz), where x, y, z are complex numbers and t runs through all complex numbers.']}),i.jsx("p",{children:'It remains true that any two "points" lie on a unique "line" and any two "lines" have a unique common point, simply because complex linear equations work the same as real ones.'}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Multiple Models:"})," There is more than one model of the projective plane axioms. Later we shall look at other models, which show that certain properties of P do not follow from the axioms alone."]}),i.jsx("h3",{children:"Projective Space P"}),i.jsxs("p",{children:["It is easy to generalize homogeneous coordinates to quadruples (w, x, y, z) and define the three-dimensional ",i.jsx("strong",{children:"real projective space P"}),":"]}),i.jsx(xe,{title:"Real Projective Space P",children:i.jsxs("ul",{className:"list-disc list-inside space-y-3",children:[i.jsxs("li",{children:["A ",i.jsx("strong",{children:'"point"'})," is a line through O in , that is, a set of quadruples t",i.jsx("strong",{children:"u"}),", where ",i.jsx("strong",{children:"u"})," = (w, x, y, z)"]}),i.jsxs("li",{children:["A ",i.jsx("strong",{children:'"line"'})," is a plane through O in , that is, a set t",i.jsx("strong",{children:"u"})," + t",i.jsx("strong",{children:"u"})," where ",i.jsx("strong",{children:"u"})," and ",i.jsx("strong",{children:"u"})," are linearly independent"]}),i.jsxs("li",{children:["A ",i.jsx("strong",{children:'"plane"'})," is a 3-dimensional space through O in "]})]})}),i.jsx("h3",{children:"Properties of P"}),i.jsx("p",{children:"Linear algebra enables us to show various properties:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[i.jsx("li",{children:'Two "points" lie on a unique "line."'}),i.jsx("li",{children:'Three "points" not on a "line" lie on a unique "plane."'}),i.jsx("li",{children:'Two "planes" have a unique "line" in common.'}),i.jsx("li",{children:'Three "planes" with no common "line" have one common "point."'})]})}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.4.1"}),i.jsx("p",{className:"text-slate-300",children:"Find the plane ax + by + cz = 0 that contains the points (1, 2, 3) and (1, 1, 1)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.4.2"}),i.jsx("p",{className:"text-slate-300",children:"Find the line of intersection of the planes x + 2y + 3z = 0 and x + y + z = 0."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.4.3"}),i.jsx("p",{className:"text-slate-300",children:"You can write down the solution of Exercise 5.4.2 as soon as you have solved Exercise 5.4.1. Why?"})]}),i.jsx(BX,{className:"my-6"}),i.jsx(Re,{sectionId:34,questions:Xe[34]||[],title:"Homogeneous Coordinates Quiz"})]})}function GX(){return i.jsxs(qe,{sectionId:35,children:[i.jsx("h2",{children:"Projection"}),i.jsxs("p",{children:['The three-dimensional Euclidean space , in which lines through O are "points" of P and planes through O are "lines" of P, also contains many other planes. Each plane  not passing through O can be regarded as a ',i.jsx("strong",{children:"perspective view"})," of the projective plane P."]}),i.jsx("h3",{children:"Perspective Views"}),i.jsx("p",{children:'Each point P of  corresponds to a line ("of sight") through O, and hence to a "point" of P. The only lines through O that do not meet  are those parallel to these make up the line at infinity or horizon of .'}),i.jsx(xe,{title:"Projection Between Planes",children:i.jsxs("p",{children:["If  and  are any two planes not passing through O, we can",i.jsx("strong",{children:" project"}),"  to  by sending each point P in  to the point P in  lying on the same line through O as P."]})}),i.jsx("p",{children:'The geometry of P is called "projective" because it encapsulates the geometry of a whole family of planes related by projection.'}),i.jsx("h3",{children:"Projections of Projective Lines"}),i.jsx("p",{children:"Projection of one plane  onto another plane  produces an image that is generally distorted. For example, a grid of squares may be mapped to a perspective view that looks very different. Nevertheless, straight lines remain straight under projection."}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Key Property:"})," To understand projective distortion, we analyze the mappings of the projective line obtainable by projection."]}),i.jsx("h3",{children:"Types of Projections"}),i.jsx("h4",{children:"Projection from Infinity (Parallel Lines)"}),i.jsx("p",{children:"When  and  are parallel, projection from a point at infinity means the lines from dots on  to their images on  are parallel. The dots are simply translated a constant distance l:"}),i.jsx(Y,{children:"x \\mapsto x + l"}),i.jsx("h4",{children:"Projection from a Finite Point (Parallel Lines)"}),i.jsx("p",{children:"When  is projected from a finite point P onto parallel line , the distance between dots is magnified by a constant factor k  0:"}),i.jsx(Y,{children:"x \\mapsto kx"}),i.jsx("h4",{children:"Projection onto Non-Parallel Lines"}),i.jsx("p",{children:"When  and  are not parallel, the distortion is more extreme. Consider projection from a point O equidistant from both lines, with  parallel to the x-axis and  parallel to the y-axis. The map from  to  is:"}),i.jsx(Y,{children:"x \\mapsto \\frac{1}{x}"}),i.jsxs(ue,{title:"Generating Transformations",children:[i.jsxs("p",{children:["Any combination of projections is a combination of these three",i.jsx("strong",{children:" generating transformations"}),":"]}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 mt-2",children:[i.jsx("li",{children:"x  x + l (translation)"}),i.jsx("li",{children:"x  kx (scaling)"}),i.jsx("li",{children:"x  1/x (reciprocation)"})]}),i.jsx("p",{className:"mt-2",children:"The combinations of these are precisely the functions of the form:"}),i.jsx(Y,{children:"f(x) = \\frac{ax + b}{cx + d}, \\quad \\text{where } ad - bc \\neq 0"})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.5.1"}),i.jsx("p",{className:"text-slate-300",children:"If f(x) = ax + b with a  0 and f(x) = ax + b with a  0, show that f(f(x)) = Ax + B with A  0, and find the constants A and B."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.5.2"}),i.jsx("p",{className:"text-slate-300",children:"Deduce from Exercise 5.5.1 that composing any number of functions x  x + l or x  kx (for k  0) gives a function of the form f(x) = ax + b with a  0."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.5.3"}),i.jsx("p",{className:"text-slate-300",children:"Show that projection of a line, from any finite point P, onto a parallel line is represented by a function of the form f(x) = ax + b."})]}),i.jsx(OX,{className:"my-6"}),i.jsx(Re,{sectionId:35,questions:Xe[35]||[],title:"Projection Quiz"})]})}function WX(){return i.jsxs(qe,{sectionId:36,children:[i.jsx("h2",{children:"Linear Fractional Functions"}),i.jsxs("p",{children:["The functions sending x to 1/x, kx, and x + l are among the functions called",i.jsx("strong",{children:" linear fractional"}),", each of which has the form:"]}),i.jsx(Y,{children:"f(x) = \\frac{ax + b}{cx + d} \\quad \\text{where } ad - bc \\neq 0"}),i.jsx("h3",{children:"Why ad  bc  0?"}),i.jsx("p",{children:"The condition ad  bc  0 ensures that f(x) is not constant. Constancy occurs only if ax + b = (a/c)(cx + d), in which case ad  bc = 0."}),i.jsxs(ue,{title:"Decomposition of Linear Fractional Functions",children:[i.jsx("p",{children:"By algebraic manipulation, any linear fractional function with c  0 may be written as:"}),i.jsx(Y,{children:"f(x) = \\frac{a}{c} + \\frac{bc - ad}{c(cx + d)}"}),i.jsx("p",{className:"mt-2",children:"Such a function can therefore be composed from the generating transformations:"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-1 mt-2",children:[i.jsx("li",{children:"First multiply x by c"}),i.jsx("li",{children:"Then add d"}),i.jsx("li",{children:"Then multiply again by c"}),i.jsx("li",{children:"Then reciprocate (take 1/x)"}),i.jsx("li",{children:"Then multiply by bc  ad"}),i.jsx("li",{children:"Finally add a/c"})]})]}),i.jsx("p",{children:"When c = 0, the linear fractional function is simply (ax + b)/d = (a/d)x + b/d, composed by multiplying by a/d and adding b/d."}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Key Result:"})," Any linear fractional function is composed from functions that reciprocate, multiply by k, and add l. Hence, any linear fractional function on the number line is realized by a sequence of projections."]}),i.jsx("h3",{children:"The Converse"}),i.jsxs("p",{children:["We now prove the converse: ",i.jsx("strong",{children:"Any sequence of projections of the number line realizes a linear fractional function."})]}),i.jsx("p",{children:"Consider projecting a line onto a perpendicular line from point (a, b). To find where point t on the x-axis goes on the y-axis, we use the slope of the line through t and (a, b):"}),i.jsx(Y,{children:"f(t) = \\frac{bt}{t - a}"}),i.jsx("p",{children:"This is a linear fractional function! For the general case of intersecting lines (not necessarily perpendicular), projecting the x-axis from (a, b) onto the line y = cx gives:"}),i.jsx(Y,{children:"x = \\frac{bt}{ct - ac + b}"}),i.jsx("p",{children:"This is also a linear fractional function of t."}),i.jsx(ue,{title:"Linear Fractional = Projection",children:i.jsx("p",{children:"Any single projection of a line can be represented by a linear fractional function. Since composing linear fractional functions gives a linear fractional function, any finite sequence of projections is represented by a linear fractional function."})}),i.jsx("h3",{children:"Dividing by Zero"}),i.jsx("p",{children:"Division by zero is generally not valid, but in carefully controlled situations, it is permissible. The function f(x) = 1/x cannot send x = 0 anywhere (since 1/0 is undefined), nor can it send any point to y = 0."}),i.jsxs(xe,{title:"The Projective Line   {'{'}{'}'}",children:[i.jsx("p",{children:"This defect is fixed by extending f(x) = 1/x to include x = , declaring:"}),i.jsx(Y,{children:"\\frac{1}{\\infty} = 0 \\quad \\text{and} \\quad \\frac{1}{0} = \\infty"}),i.jsxs("p",{className:"mt-2",children:["The new object  is the point at infinity of the line. The function f(x) = 1/x works properly not on , but on the ",i.jsx("strong",{children:"real projective line"}),"   ","{","","}","."]})]}),i.jsx("h3",{children:"The Real Projective Line P"}),i.jsxs(xe,{title:"P",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"real projective line P"})," is the set   ","{","","}"," together with all the linear fractional functions mapping it onto itself."]}),i.jsxs("p",{className:"mt-2",children:["Any function f(x) = (ax + b)/(cx + d) with ad  bc  0 maps   ","{","","}"," onto itself. The denominator is 0 when x = d/c, and the correct value is f(d/c) = . Conversely, f() = a/c."]})]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Elasticity of P:"}),' Unlike the ordinary line , where every point is determined once we know 0 and 1, the projective line is more "elastic." There exists a projection sending 0 to 0, 1 to 1, but 2 to 3. However, if we know where three points go, the destination of every other point is determined.']}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.6.1"}),i.jsx("p",{className:"text-slate-300",children:"Solve the equation y = (ax + b)/(cx + d) for x, and note where your solution assumes ad  bc  0."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.6.2"}),i.jsx("p",{className:"text-slate-300",children:"If f(x) = (ax + b)/(cx + d) and f(x) = (ax + b)/(cx + d), compute f(f(x)) and verify that it is of the form (Ax + B)/(Cx + D)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.6.3"}),i.jsx("p",{className:"text-slate-300",children:"Verify that the matrix product gives the coefficients of the composition:"}),i.jsx(Y,{children:"\\begin{pmatrix} A & B \\\\ C & D \\end{pmatrix} = \\begin{pmatrix} a_1 & b_1 \\\\ c_1 & d_1 \\end{pmatrix} \\begin{pmatrix} a_2 & b_2 \\\\ c_2 & d_2 \\end{pmatrix}"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.6.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that if ad  bc  0 for f(x) and ad  bc  0 for f(x), then AD  BC  0 for f(f(x)). Why?"})]}),i.jsx($X,{className:"my-6"}),i.jsx(Re,{sectionId:36,questions:Xe[36]||[],title:"Linear Fractional Functions Quiz"})]})}function YX(){return i.jsxs(qe,{sectionId:37,children:[i.jsx("h2",{children:"The Cross-Ratio"}),i.jsxs("blockquote",{className:"border-l-4 border-blue-500 pl-4 italic text-slate-300 my-6",children:['"You might say it was a triumph of algebra to invent this quantity that turns out to be so valuable and could not be imagined geometrically. Or if you are a geometer at heart, you may say it is an invention of the devil and hate it all your life."',i.jsxs("footer",{className:"text-sm mt-2",children:[" Robin Hartshorne, ",i.jsx("em",{children:"Geometry: Euclid and Beyond"})]})]}),i.jsx("p",{children:"It is visually obvious that projection can change lengths and even the ratio of lengths, because equal lengths often appear unequal under projection. And yet we can recognize that a perspective drawing shows equal tiles, even though they are unequal in size and shape."}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"The Key Question:"})," Some clue to the equality must be preserved under projection. It cannot be length; it cannot be a ratio of lengths; but, surprisingly, it can be a ",i.jsx("strong",{children:"ratio of ratios"}),", called the cross-ratio."]}),i.jsx("h3",{children:"Definition of the Cross-Ratio"}),i.jsxs(xe,{title:"Cross-Ratio",children:[i.jsx("p",{children:"The cross-ratio is a quantity associated with four points on a line. If the four points have coordinates p, q, r, and s, then their cross-ratio is:"}),i.jsx(Y,{children:"\\frac{(r - p)/(s - p)}{(r - q)/(s - q)} = \\frac{(r - p)(s - q)}{(r - q)(s - p)}"})]}),i.jsx("h3",{children:"The Cross-Ratio is Preserved by Projection"}),i.jsx("p",{children:"To show that the cross-ratio is preserved by projection, it suffices to show that it is preserved by the three generating transformations."}),i.jsx(ue,{title:"Invariance of the Cross-Ratio",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-blue-400",children:"1. The map x  x + l"}),i.jsx("p",{className:"text-slate-300",children:"The numbers p, q, r, s are replaced by p + l, q + l, r + l, s + l. This does not change the cross-ratio because the l terms cancel by subtraction."})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-blue-400",children:"2. The map x  kx"}),i.jsx("p",{className:"text-slate-300",children:"The numbers p, q, r, s are replaced by kp, kq, kr, ks. This does not change the cross-ratio because the k terms cancel by division."})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-blue-400",children:"3. The map x  1/x"}),i.jsx("p",{className:"text-slate-300",children:"The numbers p, q, r, s are replaced by 1/p, 1/q, 1/r, 1/s. With some algebra (taking common denominators and simplifying), the cross-ratio is unchanged."})]})]})}),i.jsx("h3",{children:"Proof for the Reciprocal Map"}),i.jsx("p",{children:"When x  1/x, the cross-ratio transforms as:"}),i.jsx(Y,{children:"\\frac{(\\frac{1}{r} - \\frac{1}{p})(\\frac{1}{s} - \\frac{1}{q})}{(\\frac{1}{r} - \\frac{1}{q})(\\frac{1}{s} - \\frac{1}{p})}"}),i.jsx("p",{children:"Taking common denominators:"}),i.jsx(Y,{children:"= \\frac{\\frac{p-r}{pr} \\cdot \\frac{q-s}{qs}}{\\frac{q-r}{qr} \\cdot \\frac{p-s}{ps}}"}),i.jsx("p",{children:"Multiplying through by pqrs:"}),i.jsx(Y,{children:"= \\frac{(p-r)(q-s)}{(q-r)(p-s)} = \\frac{(r-p)(s-q)}{(r-q)(s-p)}"}),i.jsx("p",{children:"The cross-ratio is unchanged!"}),i.jsx("h3",{children:"Is the Cross-Ratio Visible?"}),i.jsx("p",{children:"If we take the four equally spaced points p = 0, q = 1, r = 2, and s = 3, then their cross-ratio is:"}),i.jsx(Y,{children:"\\frac{(r - p)(s - q)}{(r - q)(s - p)} = \\frac{2 \\times 2}{1 \\times 3} = \\frac{4}{3}"}),i.jsxs("p",{children:["Any projective image of these points also has cross-ratio 4/3. Do four points on a line ",i.jsx("em",{children:"look"})," equally spaced if their cross-ratio is 4/3?"]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Test Your Eye:"}),' Given any three points, there is exactly one fourth point that gives cross-ratio 4/3 with themthis is the point that "looks" evenly spaced in perspective.']}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.7.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that there is only one point s that has a given cross-ratio with given points p, q, and r."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.7.2"}),i.jsx("p",{className:"text-slate-300",children:"If we have p = 0, q = 2, r = 3, find the value of s that gives cross-ratio 4/3."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.7.3"}),i.jsx("p",{className:"text-slate-300",children:"Before the discovery of perspective, artists sometimes drew a tiled floor by making the width of each row a constant fraction e of the one before. Show that this method is incorrect by computing the cross-ratio of four points separated by distances 1, e, and e."})]}),i.jsx(LX,{className:"my-6"}),i.jsx(Re,{sectionId:37,questions:Xe[37]||[],title:"The Cross-Ratio Quiz"})]})}function XX(){return i.jsxs(qe,{sectionId:38,children:[i.jsx("h2",{children:"What is Special About the Cross-Ratio?"}),i.jsx("p",{children:"We use the abbreviation [p, q; r, s] for the cross-ratio of four points p, q, r, s:"}),i.jsx(Y,{children:"[p, q; r, s] = \\frac{(r - p)(s - q)}{(r - q)(s - p)}"}),i.jsx("p",{children:"We have shown that the cross-ratio is an invariant of linear fractional transformations, but it is obviously not the only one. Examples of other invariants are (cross-ratio) and cross-ratio + 1."}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Key Point:"})," The cross-ratio is special because it is the",i.jsx("strong",{children:" defining invariant"})," of linear fractional transformations. That is, linear fractional transformations are precisely the transformations of P that preserve the cross-ratio. (The cross-ratio defines linear fractional transformations the way that length defines isometries.)"]}),i.jsx("h3",{children:"Fourth Point Determination"}),i.jsxs(ue,{title:"Fourth Point Determination",children:[i.jsx("p",{children:"Given any three points p, q, r  P, any other point x  P is uniquely determined by its cross-ratio [p, q; r, x] = y with p, q, r."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"This holds because we can solve the equation for x uniquely in terms of p, q, r, and y."})]}),i.jsx("h3",{children:"Existence of Three-Point Maps"}),i.jsxs(ue,{title:"Existence of Three-Point Maps",children:[i.jsx("p",{children:"Given three points p, q, r  P and three points p, q, r  P, there is a linear fractional transformation f sending p, q, r to p, q, r respectively."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"This holds because there is a projection sending any three points to any three points. Without loss of generality, place the two copies of P so that p = p. Then project from the point P where lines qq and rr meet."})]}),i.jsx("h3",{children:"Uniqueness of Three-Point Maps"}),i.jsxs(ue,{title:"Uniqueness of Three-Point Maps",children:[i.jsx("p",{children:"Exactly one linear fractional function sends three points p, q, r to three points p, q, r respectively."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"A linear fractional f sending p, q, r to p, q, r must send any x  p, q, r to x satisfying [p, q; r, x] = [p, q; r, x], because f preserves the cross-ratio. But x is unique by fourth point determination, so there is exactly one such function f."})]}),i.jsx("h3",{children:"Characterization of Linear Fractional Maps"}),i.jsxs(ue,{title:"Characterization Theorem",children:[i.jsx("p",{children:"Linear fractional transformations are precisely the maps of P that preserve the cross-ratio."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"By the previous section, any linear fractional map f preserves cross-ratio. Conversely, suppose f preserves cross-ratio. By existence of three-point maps, we can find a linear fractional g that agrees with f on p, q, r. Because f preserves cross-ratio, g agrees with f on s also by unique fourth point determination. Thus g agrees with f everywhere, so f is linear fractional."})]}),i.jsx("h3",{children:"Why No Invariant for Three Points?"}),i.jsx("p",{children:"The existence of three-point maps says that any three points on P can be sent to any three points by a linear fractional transformation. Thus, any invariant of triples of points must have the same value for any tripleso it is trivial!"}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Minimum Points:"})," A nontrivial invariant must involve at least four points, and the cross-ratio is the fundamental example."]}),i.jsx("h3",{children:"The Fundamental Invariant"}),i.jsxs(ue,{title:"The Fundamental Invariant",children:[i.jsx("p",{children:"Any invariant of four points is a function of the cross-ratio."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"Suppose I(p, q, r, s) is invariant under linear fractional transformations. Then I has the same value on all quadruples with the same cross-ratio, because any such quadruple results from (p, q, r, s) by a linear fractional transformation. Therefore I is really a function J of the cross-ratio: J([p, q; r, s]) = I(p, q, r, s)."})]}),i.jsx("h3",{children:"Permutations of the Cross-Ratio"}),i.jsx("p",{children:"Permuting the variables in the cross-ratio y = [p, q; r, s] gives simple functions of y:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsx("li",{children:"[p, q; s, r] = 1/y"}),i.jsx("li",{children:"[q, p; r, s] = 1/y"}),i.jsx("li",{children:"[p, r; q, s] = 1  y"})]})}),i.jsx("p",{children:"The transformations y  1/y and y  1  y generate all transformations of the cross-ratio obtained by permuting its variables. There are six such transformations (even though there are 24 permutations of four variables):"}),i.jsx(Y,{children:"y, \\quad \\frac{1}{y}, \\quad 1-y, \\quad 1-\\frac{1}{y}, \\quad \\frac{1}{1-y}, \\quad \\frac{y}{y-1}"}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"The Cross-Ratio Group:"})," These six linear fractional functions constitute the ",i.jsx("em",{children:"cross-ratio group"}),"an example of a group of transformations, which we will study in Chapter 7. Unlike most groups studied there, this group is finite."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.8.1"}),i.jsx("p",{className:"text-slate-300",children:"If [p, q; r, s] = y, show that [p, q; s, r] = 1/y."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.8.2"}),i.jsx("p",{className:"text-slate-300",children:"If [p, q; r, s] = y, show that [q, p; r, s] = 1/y."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.8.3"}),i.jsx("p",{className:"text-slate-300",children:"Prove that [p, q; r, s] + [p, r; q, s] = 1, so if [p, q; r, s] = y, then [p, r; q, s] = 1  y."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.8.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that the functions of y obtained by combining 1/y and 1  y in all ways are precisely the six listed above."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 5.8.5"}),i.jsx("p",{className:"text-slate-300",children:"Explain why any permutation of four variables may be obtained by exchanges: either of the first two, the middle two, or the last two variables."})]}),i.jsx(_X,{className:"my-6"}),i.jsx(Re,{sectionId:38,questions:Xe[38]||[],title:"What is Special About the Cross-Ratio? Quiz"})]})}function ZX(){return i.jsxs(qe,{sectionId:39,children:[i.jsx("h2",{children:"Discussion"}),i.jsx("p",{children:"The plane P studied in this chapter is the most important projective plane, but it is far from being the only one. Many other projective planes can be constructed by imitating the construction of P."}),i.jsx("h3",{children:"Projective Planes Over Fields"}),i.jsxs("p",{children:["The construction of P is based on ordered triples (x, y, z) and linear equations ax + by + cz = 0. It is not essential for x, y, z to be real numbers. They could be complex numbers, or more generally elements of any ",i.jsx("strong",{children:"field"}),"."]}),i.jsx(xe,{title:"Field",children:i.jsx("p",{children:"A field is any set with + and  operations satisfying the nine field axioms listed in Section 4.8."})}),i.jsx("p",{children:"If F is any field, we can consider the space F of ordered triples (x, y, z) with x, y, z  F. Then the projective plane FP has:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:'"points"'}),": sets of triples (kx, ky, kz), where x, y, z  F are fixed and k runs through the elements of F"]}),i.jsxs("li",{children:[i.jsx("strong",{children:'"lines"'}),': sets of "points" satisfying ax + by + cz = 0 for some fixed a, b, c  F']})]})}),i.jsx(ue,{title:"FP is a Projective Plane",children:i.jsx("p",{children:"The projective plane axioms can be checked for FP just as they were for P. The same calculations apply, because the field axioms ensure that the same algebraic operations work in F."})}),i.jsx("h3",{children:"The Rational Projective Plane"}),i.jsx("p",{children:"Perhaps the most familiar field after  and  is the set  of rational numbers. P is not unlike P, except that all of its points have rational coordinates, and all of its lines are full of gaps (containing only rational points)."}),i.jsx("h3",{children:"Finite Projective Planes"}),i.jsxs("p",{children:["More surprising examples arise from finite fields. There is a finite field with p",i.jsx("sup",{children:"n"})," elements for each prime power p",i.jsx("sup",{children:"n"}),". The simplest example is the field F with elements 0 and 1:"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 my-6",children:[i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-2",children:"Addition in F"}),i.jsxs("table",{className:"w-full text-center",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"border border-slate-600 p-2",children:"+"}),i.jsx("th",{className:"border border-slate-600 p-2",children:"0"}),i.jsx("th",{className:"border border-slate-600 p-2",children:"1"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{children:[i.jsx("td",{className:"border border-slate-600 p-2 font-semibold",children:"0"}),i.jsx("td",{className:"border border-slate-600 p-2",children:"0"}),i.jsx("td",{className:"border border-slate-600 p-2",children:"1"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"border border-slate-600 p-2 font-semibold",children:"1"}),i.jsx("td",{className:"border border-slate-600 p-2",children:"1"}),i.jsx("td",{className:"border border-slate-600 p-2",children:"0"})]})]})]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-2",children:"Multiplication in F"}),i.jsxs("table",{className:"w-full text-center",children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{className:"border border-slate-600 p-2",children:""}),i.jsx("th",{className:"border border-slate-600 p-2",children:"0"}),i.jsx("th",{className:"border border-slate-600 p-2",children:"1"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{children:[i.jsx("td",{className:"border border-slate-600 p-2 font-semibold",children:"0"}),i.jsx("td",{className:"border border-slate-600 p-2",children:"0"}),i.jsx("td",{className:"border border-slate-600 p-2",children:"0"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"border border-slate-600 p-2 font-semibold",children:"1"}),i.jsx("td",{className:"border border-slate-600 p-2",children:"0"}),i.jsx("td",{className:"border border-slate-600 p-2",children:"1"})]})]})]})]})]}),i.jsx("h3",{children:"The Fano Plane"}),i.jsxs(xe,{title:"The Fano Plane FP",children:[i.jsx("p",{children:"The projective plane FP has seven points, corresponding to the seven nonzero points in F:"}),i.jsx(Y,{children:"(1,0,0), (0,1,0), (0,0,1), (0,1,1), (1,0,1), (1,1,0), (1,1,1)"}),i.jsxs("p",{className:"mt-2",children:["These seven points are arranged in threes along seven lines. This structure is called the ",i.jsx("strong",{children:"Fano plane"}),"the smallest projective plane."]})]}),i.jsx("p",{children:"The lines of the Fano plane satisfy the equations:"}),i.jsx(Y,{children:`\\begin{aligned}
&x = 0, \\quad y = 0, \\quad z = 0, \\\\
&x + y = 0, \\quad y + z = 0, \\quad z + x = 0, \\\\
&x + y + z = 0
\\end{aligned}`}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Well-Behaved Finite Geometry:"}),' Despite being small, the Fano plane is well-behaved because its "lines" satisfy linear equations, just as in traditional geometry. Thanks to finite fields, linear algebra works well in many finite structures, leading to the development of finite geometries with applications in information and communication.']}),i.jsx("h3",{children:"Beyond Linear Equations"}),i.jsx("p",{children:'The three axioms for a finite projective plane do not ensure that the plane is of the form FP, with coordinates for points and linear equations for lines. They can be satisfied by bizarre "nonlinear" structures.'}),i.jsxs("p",{children:["A fourth axiom is needed to engender a field F of coordinates, and that axiom is the ",i.jsx("strong",{children:"theorem of Pappus"}),". This will be explained in Chapter 6."]}),i.jsx("h3",{children:"Historical Note: The Invariance of the Cross-Ratio"}),i.jsxs("p",{children:["The invariance of the cross-ratio was discovered by ",i.jsx("strong",{children:"Pappus"}),"around 300 CE and rediscovered by ",i.jsx("strong",{children:"Desargues"})," around 1640. It appears as Proposition 129 in Book VII of Pappus' ",i.jsx("em",{children:"Mathematical Collection"}),"."]}),i.jsx("p",{children:"Desargues is considered the founder of projective geometry because he wrote the first book on the subject. Nevertheless, projective geometry was little known until the 19th century, when geometry expanded in all directions. The cross-ratio continued to be a central concept."}),i.jsx("h3",{children:"Cross-Ratio Over General Fields"}),i.jsxs(ue,{title:"Cross-Ratio in General Fields",children:[i.jsxs("p",{children:["Linear fractional transformations and the cross-ratio make sense when  is replaced by any field F. The transformations x  x + l and x  kx make sense on F, and x  1/x makes sense on F  ","{","","}"," if we set 1/0 =  and 1/ = 0."]}),i.jsx("p",{className:"mt-2",children:"The cross-ratio is invariant by the same calculation as before, thanks to the field axioms, because the usual calculations with fractions are valid in any field."})]}),i.jsx("h3",{children:"Key Takeaways from Chapter 5"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Perspective drawing"})," requires understanding that parallel lines meet at vanishing points on the horizon"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Straightedge alone"})," suffices for perspective construction using points at infinity"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Projective planes"})," satisfy three simple axioms about incidence of points and lines"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Homogeneous coordinates"})," provide algebraic tools for projective geometry"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Linear fractional functions"})," represent projections of lines"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"The cross-ratio"})," is the fundamental invariant preserved by projection"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Three points determine a projection"}),"; the fourth point is fixed by the cross-ratio"]})]})}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Looking Ahead:"})," In Chapter 6, we will study the theorems of Pappus and Desargues in projective planes, and see how they give rise to coordinate systems satisfying the field axioms."]}),i.jsx(Re,{sectionId:39,questions:Xe[39]||[],title:"Chapter 5 Discussion Quiz"})]})}function QX({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(.2),[r,a]=q.useState([.2,.5,.8,.2,.5,.8]),l=500,o=400,c={x:50,y:150},h={x:450,y:150+100*Math.sin(n)},u={x:50,y:300},f={x:450,y:300-80*Math.sin(n)},x=(v,p,A)=>({x:v.x+A*(p.x-v.x),y:v.y+A*(p.y-v.y)}),b=x(c,h,r[0]),M=x(c,h,r[1]),y=x(c,h,r[2]),T=x(u,f,r[3]),S=x(u,f,r[4]),N=x(u,f,r[5]),j=(v,p,A,w)=>{const k=(v.x-p.x)*(A.y-w.y)-(v.y-p.y)*(A.x-w.x);if(Math.abs(k)<1e-4)return null;const D=((v.x-A.x)*(A.y-w.y)-(v.y-A.y)*(A.x-w.x))/k;return{x:v.x+D*(p.x-v.x),y:v.y+D*(p.y-v.y)}},m=j(b,S,T,M),g=j(b,N,T,y),E=j(M,N,S,y);return q.useEffect(()=>{const v=e.current;if(!v)return;const p=v.getContext("2d");if(!p)return;if(p.fillStyle="#0f172a",p.fillRect(0,0,l,o),p.strokeStyle="#475569",p.lineWidth=2,p.beginPath(),p.moveTo(c.x,c.y),p.lineTo(h.x,h.y),p.stroke(),p.beginPath(),p.moveTo(u.x,u.y),p.lineTo(f.x,f.y),p.stroke(),[[b,S,"rgba(244, 114, 182, 0.5)"],[T,M,"rgba(244, 114, 182, 0.5)"],[b,N,"rgba(34, 211, 238, 0.5)"],[T,y,"rgba(34, 211, 238, 0.5)"],[M,N,"rgba(167, 139, 250, 0.5)"],[S,y,"rgba(167, 139, 250, 0.5)"]].forEach(([k,D,I])=>{p.strokeStyle=I,p.lineWidth=1.5,p.beginPath(),p.moveTo(k.x,k.y),p.lineTo(D.x,D.y),p.stroke()}),m&&g&&E){p.strokeStyle="#fbbf24",p.lineWidth=2,p.setLineDash([5,5]);const k=g.x-m.x,D=g.y-m.y,I=Math.sqrt(k*k+D*D);I>.1&&(p.beginPath(),p.moveTo(m.x-k/I*500,m.y-D/I*500),p.lineTo(m.x+k/I*500,m.y+D/I*500),p.stroke()),p.setLineDash([]),[m,g,E].forEach(($,B)=>{p.fillStyle="#fbbf24",p.beginPath(),p.arc($.x,$.y,6,0,Math.PI*2),p.fill(),p.fillStyle="#fbbf24",p.font="bold 12px sans-serif",p.fillText(["X","Y","Z"][B],$.x+8,$.y-8)})}const w=(k,D,I)=>{p.fillStyle=I,p.beginPath(),p.arc(k.x,k.y,8,0,Math.PI*2),p.fill(),p.fillStyle="#e2e8f0",p.font="bold 12px sans-serif",p.fillText(D,k.x-4,k.y-12)};w(b,"A","#f472b6"),w(M,"B","#22d3ee"),w(y,"C","#a78bfa"),w(T,"A'","#f472b6"),w(S,"B'","#22d3ee"),w(N,"C'","#a78bfa"),p.fillStyle="#94a3b8",p.font="11px sans-serif",p.fillText("Line 1",h.x-40,h.y-10),p.fillText("Line 2",f.x-40,f.y+20),m&&g&&E&&(p.fillStyle="#fbbf24",p.fillText("Pappus Line (X, Y, Z are collinear!)",10,30))},[n,r,b,M,y,T,S,N,m,g,E,c,h,u,f]),i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Pappus's Theorem"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:l,height:o,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-52 space-y-3",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Line angle: ",(n*180/Math.PI).toFixed(0),""]}),i.jsx("input",{type:"range",min:"-0.5",max:"0.5",step:"0.02",value:n,onChange:v=>s(parseFloat(v.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-yellow-400 mb-2",children:"Pappus's Theorem"}),i.jsxs("p",{className:"text-xs text-slate-300",children:["If A, B, C lie on one line and A', B', C' lie on another, then the intersections of AB' with A'B, of AC' with A'C, and of BC' with B'C are ",i.jsx("strong",{children:"collinear"}),"."]})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-green-400 mb-2",children:"Significance"}),i.jsx("p",{className:"text-xs text-slate-300",children:"Pappus's theorem is equivalent to the commutativity of multiplication in the coordinate field. It's fundamental to projective geometry."})]}),i.jsx("button",{onClick:()=>{s(.2),a([.2,.5,.8,.2,.5,.8])},className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Reset"}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," A and A'"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," B and B'"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-purple-400",children:"Purple:"})," C and C'"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," Pappus line"]})]})]})]})]})}function KX({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(250),[r,a]=q.useState(80),[l,o]=q.useState(.6),c=500,h=420,u={x:n,y:r},f={x:120,y:280},x={x:380,y:280},b={x:250,y:150},M=(E,v)=>({x:u.x+v*(E.x-u.x),y:u.y+v*(E.y-u.y)}),y=M(f,l),T=M(x,l),S=M(b,l),N=(E,v,p,A)=>{const w=(E.x-v.x)*(p.y-A.y)-(E.y-v.y)*(p.x-A.x);if(Math.abs(w)<1e-4)return null;const k=((E.x-p.x)*(p.y-A.y)-(E.y-p.y)*(p.x-A.x))/w;return{x:E.x+k*(v.x-E.x),y:E.y+k*(v.y-E.y)}},j=N(f,x,y,T),m=N(x,b,T,S),g=N(b,f,S,y);return q.useEffect(()=>{const E=e.current;if(!E)return;const v=E.getContext("2d");if(!v)return;v.fillStyle="#0f172a",v.fillRect(0,0,c,h),v.strokeStyle="rgba(251, 191, 36, 0.3)",v.lineWidth=1,v.setLineDash([3,3]),[f,x,b].forEach(w=>{v.beginPath(),v.moveTo(u.x,u.y);const k=M(w,1.5);v.lineTo(k.x,k.y),v.stroke()}),v.setLineDash([]),v.strokeStyle="#f472b6",v.lineWidth=2,v.beginPath(),v.moveTo(f.x,f.y),v.lineTo(x.x,x.y),v.lineTo(b.x,b.y),v.closePath(),v.stroke(),v.fillStyle="rgba(244, 114, 182, 0.1)",v.fill(),v.strokeStyle="#22d3ee",v.lineWidth=2,v.beginPath(),v.moveTo(y.x,y.y),v.lineTo(T.x,T.y),v.lineTo(S.x,S.y),v.closePath(),v.stroke(),v.fillStyle="rgba(34, 211, 238, 0.1)",v.fill();const p=(w,k,D)=>{const I=k.x-w.x,$=k.y-w.y;return[{x:w.x-I*D,y:w.y-$*D},{x:k.x+I*D,y:k.y+$*D}]};if(j&&m&&g){v.strokeStyle="rgba(167, 139, 250, 0.3)",v.lineWidth=1;const[w,k]=p(f,x,.5);v.beginPath(),v.moveTo(w.x,w.y),v.lineTo(k.x,k.y),v.stroke();const[D,I]=p(y,T,.5);v.beginPath(),v.moveTo(D.x,D.y),v.lineTo(I.x,I.y),v.stroke(),v.strokeStyle="#34d399",v.lineWidth=2,v.setLineDash([5,5]);const $=m.x-j.x,B=m.y-j.y,G=Math.sqrt($*$+B*B);G>.1&&(v.beginPath(),v.moveTo(j.x-$/G*300,j.y-B/G*300),v.lineTo(j.x+$/G*300,j.y+B/G*300),v.stroke()),v.setLineDash([]),[j,m,g].forEach((V,J)=>{V.x>-50&&V.x<c+50&&V.y>-50&&V.y<h+50&&(v.fillStyle="#34d399",v.beginPath(),v.arc(V.x,V.y,6,0,Math.PI*2),v.fill(),v.fillStyle="#34d399",v.font="bold 12px sans-serif",v.fillText(["P","Q","R"][J],V.x+8,V.y-8))})}v.fillStyle="#fbbf24",v.beginPath(),v.arc(u.x,u.y,8,0,Math.PI*2),v.fill(),v.fillStyle="#fbbf24",v.font="bold 14px sans-serif",v.fillText("O",u.x+12,u.y);const A=(w,k,D)=>{v.fillStyle=D,v.beginPath(),v.arc(w.x,w.y,6,0,Math.PI*2),v.fill(),v.fillStyle="#e2e8f0",v.font="bold 12px sans-serif",v.fillText(k,w.x+8,w.y-8)};A(f,"A","#f472b6"),A(x,"B","#f472b6"),A(b,"C","#f472b6"),A(y,"A'","#22d3ee"),A(T,"B'","#22d3ee"),A(S,"C'","#22d3ee"),v.fillStyle="#94a3b8",v.font="11px sans-serif",v.fillText("Triangles perspective from O",10,20),j&&m&&g&&(v.fillStyle="#34d399",v.fillText("P, Q, R are collinear (Desargues line)",10,h-10))},[n,r,l,u,f,x,b,y,T,S,j,m,g]),i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Desargues' Theorem"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-52 space-y-3",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Center X: ",n]}),i.jsx("input",{type:"range",min:"100",max:"400",value:n,onChange:E=>s(parseInt(E.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Center Y: ",r]}),i.jsx("input",{type:"range",min:"30",max:"150",value:r,onChange:E=>a(parseInt(E.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Scale: ",l.toFixed(2)]}),i.jsx("input",{type:"range",min:"0.3",max:"0.9",step:"0.05",value:l,onChange:E=>o(parseFloat(E.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-green-400 mb-2",children:"Desargues' Theorem"}),i.jsxs("p",{className:"text-xs text-slate-300",children:["If two triangles are ",i.jsx("strong",{children:"perspective from a point"})," (lines through corresponding vertices meet at O), then they are",i.jsx("strong",{children:" perspective from a line"})," (corresponding sides meet on a line)."]})]}),i.jsx("button",{onClick:()=>{s(250),a(80),o(.6)},className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Reset"}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Triangle ABC"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," Triangle A'B'C'"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow O:"})," Perspective center"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-green-400",children:"Green:"})," Desargues line"]})]})]})]})]})}function JX(){return i.jsxs(qe,{sectionId:40,children:[i.jsx("h2",{children:"Pappus and Desargues Revisited"}),i.jsxs("p",{children:["In this chapter, geometry fights back against the forces of arithmetization. We show that coordinates need not be brought into geometry from outsidethey can be defined by purely geometric means. Moreover, the geometry required to define coordinates and their arithmetic is ",i.jsx("em",{children:"simpler"})," than Euclid's geometry. It is the projective geometry introduced in the previous chapter, but we have to build it from scratch using properties of straight lines alone."]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Chapter Goal:"})," We take the Pappus and Desargues theorems as axioms, and use them to define coordinates. The coordinates are points on a projective line, and we add and multiply them by constructions like those in Chapter 1. The main problem is to prove that our addition and multiplication operations satisfy the field axiomsthis is where Pappus and Desargues are crucial."]}),i.jsx("h3",{children:"From Euclidean to Projective Form"}),i.jsx("p",{children:"The theorems of Pappus and Desargues stated in Chapters 1 and 4 had a similar form: If two particular pairs of lines are parallel, then a third pair is parallel. Because parallel lines meet on the horizon, these theorems also say that if two particular pairs of lines meet on the horizon, then so does a third pair. And because the horizon is not different from any other line, these theorems are really about three pairs of lines having their intersections on the same line."}),i.jsx("h3",{children:"The Projective Pappus Theorem"}),i.jsxs(ue,{title:"Projective Pappus Theorem",children:[i.jsx("p",{children:"Six points, lying alternately on two straight lines, form a hexagon whose three pairs of opposite sides meet on a line."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"The six vertices of the hexagon lie on two lines, and the opposite sides are shown as three pairs: black, gray, and dotted. The line L on which each of the three pairs meet can be oriented in any directionit is simply a line determined by the configuration."})]}),i.jsxs(xe,{title:"Incidence Theorem",children:[i.jsxs("p",{children:["The Pappus theorem is called ",i.jsx("strong",{children:"projective"})," because it involves only the concepts of points, lines, and meetings between them. Meetings between geometric objects are called ",i.jsx("strong",{children:"incidences"}),", and for this reason, the Pappus theorem is also called an ",i.jsx("strong",{children:"incidence theorem"}),"."]}),i.jsx("p",{className:"mt-2",children:"The three axioms of a projective plane, given in Section 5.3, are the simplest examples of incidence theorems."})]}),i.jsx("h3",{children:"The Projective Desargues Theorem"}),i.jsx("p",{children:"The projective Desargues theorem is another incidence theorem. It concerns the pairs of corresponding sides of two triangles that are in perspective from a point Pmeaning that each pair of corresponding vertices lies on a line through P."}),i.jsxs(ue,{title:"Projective Desargues Theorem",children:[i.jsx("p",{children:"If two triangles are in perspective from a point, then their pairs of corresponding sides meet on a line."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"The three corresponding pairs of sides each meet on a common line L. This is a purely projective statement involving only incidence relations."})]}),i.jsx("h3",{children:"The Little Desargues Theorem"}),i.jsx("p",{children:"An important special case of the Desargues theorem has the center of projection P on the line L where the corresponding sides of the triangles meet."}),i.jsx(ue,{title:"Little Desargues Theorem",children:i.jsx("p",{children:"If two triangles are in perspective from a point P, and if two pairs of corresponding sides meet on a line L through P, then the third pair of corresponding sides also meets on L."})}),i.jsx("h3",{children:"Why These Theorems Cannot Be Proved from Basic Axioms"}),i.jsxs("p",{children:["Because the projective Pappus and Desargues theorems involve only incidence concepts, one would like proofs of them that involve only the three axioms for a projective plane given in Section 5.3. Unfortunately, this is not possible, because there are examples of projective planes ",i.jsx("em",{children:"not"})," satisfying the Pappus and Desargues theorems."]}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"The Moulton Plane:"}),' A projective plane where the Desargues theorem is false. Its "points" are ordinary points of , together with a point at infinity for each family of parallel "lines." However, the "lines" of the Moulton plane are not all ordinary lineseach "line" with positive slope is a broken line consisting of a half line of slope k > 0 below the x-axis, joined to a half line of slope k/2 above the x-axis.']}),i.jsx("h3",{children:"Pappian Planes"}),i.jsxs("p",{children:["What we can do is take the Pappus and Desargues theorems as new axioms. Together with the original three axioms for projective planes, these two new axioms apply to a broad class of projective planes called",i.jsx("strong",{children:" Pappian planes"}),"."]}),i.jsxs(xe,{title:"Pappian Plane",children:[i.jsxs("p",{children:["A projective plane that satisfies the three projective plane axioms together with the Pappus and Desargues theorems is called a ",i.jsx("strong",{children:"Pappian plane"}),"."]}),i.jsx("p",{className:"mt-2",children:"The Pappian planes include P and many other planes, but not all projective planes. They turn out to be the planes with coordinates satisfying the same laws of algebra as the real numbersthe field axioms."})]}),i.jsx("h3",{children:"The Goal of This Chapter"}),i.jsx("p",{children:"The object of this chapter is to show how coordinates arise when the Pappus and Desargues theorems hold, and why they satisfy the field axioms. In doing so, we will see that projective geometry is simpler than algebra in a certain sense, because we use only five geometric axioms to derive the nine field axioms."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Key Relationships"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Pappus"})," implies the commutative law of multiplication: ab = ba"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Desargues"})," implies the associative law of multiplication: a(bc) = (ab)c"]})]})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.1.1"}),i.jsx("p",{className:"text-slate-300",children:'In the Moulton plane, find where the "line" from (0, 1) to (2, 1/2) meets the x-axis.'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.1.2"}),i.jsx("p",{className:"text-slate-300",children:'Explain why any two "points" of the Moulton plane lie on a unique "line."'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.1.3"}),i.jsx("p",{className:"text-slate-300",children:'Explain why any two "lines" of the Moulton plane meet in a unique "point." (Parallel "lines" have a common "point at infinity" by definition, so do not worry about them.)'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.1.4"}),i.jsx("p",{className:"text-slate-300",children:'Give four "points" in the Moulton plane, no three of which lie on the same "line."'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.1.5"}),i.jsx("p",{className:"text-slate-300",children:"The Moulton plane satisfies the three axioms of a projective plane. But it does not satisfy even the little Desargues theorem. Explain why."})]}),i.jsx(QX,{className:"my-6"}),i.jsx(KX,{className:"my-6"}),i.jsx(Re,{sectionId:40,questions:Xe[40]||[],title:"Pappus and Desargues Revisited Quiz"})]})}function eZ(){return i.jsxs(qe,{sectionId:41,children:[i.jsx("h2",{children:"Coincidences"}),i.jsx("p",{children:'Two points A, B always lie on a line. But it is accidental, so to speak, if a third point C lies on the line through A and B. Such an accidental meeting is called a "coincidence" in everyday life, and this is a good name for it in projective geometry too.'}),i.jsxs(xe,{title:"Coincidence",children:[i.jsxs("p",{children:["A ",i.jsx("strong",{children:"coincidence"})," is the occurrence of two incidences togetherin this case, the incidence of A and B with a line, and the incidence of C with the same line."]}),i.jsx("p",{className:"mt-2",children:"Coincidence = co-incidence = two incidences together."})]}),i.jsx("h3",{children:"Coincidences in Theorems"}),i.jsx("p",{children:"The theorems of Pappus and Desargues state that certain coincidences occur. In fact, they are coincidences of the type just described, in which two points lie on a line and a third point lies on the same line."}),i.jsx("h3",{children:"The Tiled Floor Construction"}),i.jsx("p",{children:"The perspective picture of the tiled floor also involves certain coincidences, as becomes clear when we look at the steps in its construction:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[i.jsx("li",{children:"Draw diagonal of first tile, extended to the horizon"}),i.jsx("li",{children:"Extend diagonal of second tile to the horizon"}),i.jsx("li",{children:"Draw side of second tile, through the new intersection"}),i.jsx("li",{children:"Draw second column of tiles, through the new intersection"})]})}),i.jsx("p",{children:"At the final step, a coincidence occurs: three of the points we have constructed lie on a straight line. This is shown as a dashed line in the construction."}),i.jsx("h3",{children:"Tracing the Coincidence"}),i.jsx("p",{children:"This coincidence can be traced to a special case of the little Desargues theorem. The construction involves two shaded triangles that form a little Desargues configuration."}),i.jsxs(ue,{title:"Tiled Floor Coincidence",children:[i.jsx("p",{children:'The case of little Desargues in the tiled floor construction says that the two dotted lines (diagonals of "double tiles") meet on the horizon.'}),i.jsx("p",{className:"mt-2 text-slate-300",children:"These lines give us a second little Desargues configuration, from which we conclude that the dashed diagonals also meet on the horizon, as required to explain the coincidence."})]}),i.jsx("h3",{children:"The Parallel Formulation"}),i.jsx("p",{children:"The occurrence of the little Desargues configuration in the tiled floor may be easier to see if we draw the lines meeting on the horizon as actual parallels. The little Desargues theorem itself is easier to state in terms of actual parallels."}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Parallel Little Desargues:"})," When lines that would meet on the horizon L are drawn as parallels, the little Desargues configuration becomes more visually intuitive. Lines meeting at infinity are simply parallel lines in ordinary Euclidean geometry."]}),i.jsx("h3",{children:"A Special Case"}),i.jsx("p",{children:"The theorem that proves the coincidence in the drawing of the tiled floor is actually a special case of the little Desargues theorem: the case in which a vertex of one triangle lies on a side of the other."}),i.jsx("p",{children:"Thus, it is not clear that the coincidence is false in the Moulton plane, where we know only that the general little Desargues theorem is false from the exercises in Section 6.1. However, one can show that the tiled floor coincidence does fail in the Moulton plane by placing an x-axis in a suitable position."}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.2.1"}),i.jsx("p",{className:"text-slate-300",children:"Formulate an appropriate statement of the little Desargues theorem when one has parallels instead of lines meeting on L."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.2.2"}),i.jsx("p",{className:"text-slate-300",children:"Redraw the tiled floor figures so that the lines meeting on L are shown as actual parallels."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.2.3"}),i.jsx("p",{className:"text-slate-300",children:'What is the nature of the "coincidence" when lines are drawn as parallels?'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.2.4"}),i.jsx("p",{className:"text-slate-300",children:'Find occurrences of the little Desargues configuration in your parallel diagrams. Hence, explain why the "coincidence" follows from your statement of the little Desargues theorem.'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.2.5"}),i.jsx("p",{className:"text-slate-300",children:"By placing an x-axis in a suitable position, show that the tiled floor coincidence fails in the Moulton plane."})]}),i.jsx(Re,{sectionId:41,questions:Xe[41]||[],title:"Coincidences Quiz"})]})}function tZ(){return i.jsxs(qe,{sectionId:42,children:[i.jsx("h2",{children:"Variations on the Desargues Theorem"}),i.jsx("p",{children:"In Section 6.1, we stated the Desargues theorem in the form: If two triangles are in perspective from a point, then their three pairs of corresponding sides meet on a line. The Desargues theorem is a very flexible theorem, which appears in many forms. Two that we need later are the following."}),i.jsx("h3",{children:"The Converse Desargues Theorem"}),i.jsx(ue,{title:"Converse Desargues Theorem",children:i.jsx("p",{children:"If corresponding sides of two triangles meet on a line, then the two triangles are in perspective from a point."})}),i.jsx("p",{children:"To deduce this result from the Desargues theorem, let ABC and ABC be two triangles whose corresponding sides meet on the line L. Let P be the intersection of AA and BB, so we want to prove that P lies on CC as well."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof Outline"}),i.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[i.jsx("li",{children:"Suppose that PC meets the line BC at C (hypothetically unequal to C)"}),i.jsx("li",{children:"Then the triangles ABC and ABC are in perspective from P"}),i.jsx("li",{children:"By the Desargues theorem, their corresponding sides meet on a line"}),i.jsx("li",{children:"We already know AB meets AB on L, and BC meets BC on L"}),i.jsx("li",{children:"Hence, AC meets AC on L, necessarily at the point Q where AC meets L"}),i.jsx("li",{children:"It follows that QA goes through C. But QA meets BC at C"}),i.jsx("li",{children:"Hence, C = C, so C is indeed on the line PC"})]})]}),i.jsx("h3",{children:"The Scissors Theorem"}),i.jsx("p",{children:'The second consequence of the Desargues theorem is called the "scissors theorem." It is an apt name, as you will see from the configuration.'}),i.jsx(ue,{title:"Scissors Theorem",children:i.jsx("p",{children:"If ABCD and ABCD are quadrilaterals with vertices alternately on two lines, and if AB is parallel to AB, BC to BC, and AD to AD, then also CD is parallel to CD."})}),i.jsx("p",{children:"To prove this theorem, let E be the intersection of AD and BC, and let E be the intersection of AD and BC. Then the triangles ABE and ABE have corresponding sides parallel. Hence, they are in perspective from the intersection P of AA and BB, by the converse Desargues theorem."}),i.jsx("p",{children:"But then the triangles CDE and CDE are also in perspective from P. Because their sides CE and CE, DE and DE are parallel by assumption, it follows from the Desargues theorem that CD and CD are also parallel, as required."}),i.jsx("h3",{children:"Second Case of the Scissors Theorem"}),i.jsx("p",{children:"The scissors theorem just proved says that if the black, gray, and dashed lines are parallel, then so are the dotted lines. What if the black, gray, and dotted lines are parallel: Are the dashed lines again parallel?"}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Yes!"})," The proof is similar, but with a slightly different picture. We extend the black and dotted lines until they meet, forming triangles with their corresponding black, gray, and dotted sides parallel. Then it follows from the converse Desargues theorem that these triangles are in perspective from P. But then so are the triangles with dashed, black, and dotted sides. Hence, their dashed sides are parallel by the Desargues theorem."]}),i.jsx("h3",{children:"Applying the Scissors Theorem"}),i.jsx("p",{children:"In practice, the scissors theorem is often used in the following way. We have a pair of scissors ABCD and another figure DABCF with parallel pairs of black, gray, dashed, and dotted lines. We want to prove that D = F (so the ends of the gray and dotted lines coincide, and the second figure is also a pair of scissors)."}),i.jsx(xe,{title:"Scissors Coincidence",children:i.jsx("p",{children:"This coincidence happens because the line CD is parallel to CD by the scissors theorem, so CD is the same line as CF, and hence D = F."})}),i.jsx("h3",{children:"Failure in the Moulton Plane"}),i.jsx("p",{children:"Because the Desargues theorem implies its converse, another way to show that the Desargues theorem fails in the Moulton plane is to show that its converse fails. This plan is easily implemented."}),i.jsx("p",{children:"Moulton himself used this approach when he introduced the Moulton plane in 1902."}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.3.1"}),i.jsx("p",{className:"text-slate-300",children:"Explain why a figure showing triangles in perspective from a point P with their corresponding sides meeting on a line through P demonstrates the failure of the converse Desargues theorem in the Moulton plane."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.3.2"}),i.jsx("p",{className:"text-slate-300",children:"Formulate a converse to the little Desargues theorem, and show that it follows from the little Desargues theorem."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.3.3"}),i.jsx("p",{className:"text-slate-300",children:'Show that the converse little Desargues theorem implies a "little scissors theorem" in which the quadrilaterals have their vertices on parallel lines.'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.3.4"}),i.jsx("p",{className:"text-slate-300",children:"Design a figure that directly shows the failure of the little scissors theorem in the Moulton plane."})]}),i.jsx(Re,{sectionId:42,questions:Xe[42]||[],title:"Variations on the Desargues Theorem Quiz"})]})}function nZ(){return i.jsxs(qe,{sectionId:43,children:[i.jsx("h2",{children:"Projective Arithmetic"}),i.jsx("p",{children:"If we choose any two lines in a projective plane as the x- and y-axes, we can add and multiply any points on the x-axis by certain constructions. The constructions resemble constructions of Euclidean geometry, but they use straightedge only, so they make sense in projective geometry."}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Key Insight:"}),' To keep the constructions simple, we use lines we call "parallel," but this merely means lines meeting on a designated "line at infinity." The real difficulty is that the construction of a + b is different from the construction of b + a, so it is a "coincidence" if a + b = b + a. Similarly, it is a "coincidence" if ab = ba, or if any other law of algebra holds.']}),i.jsx("h3",{children:"Addition"}),i.jsx("p",{children:"To construct the sum a + b of points a and b on the x-axis, we take any line L parallel to the x-axis and construct the following lines:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[i.jsx("li",{children:"A line from a to the point where L meets the y-axis"}),i.jsx("li",{children:"A line from b parallel to the y-axis"}),i.jsx("li",{children:"A parallel to the first line through the intersection of the second line and L"})]})}),i.jsx(xe,{title:"Construction of Sum",children:i.jsx("p",{children:'This construction is similar in spirit to the construction of the sum in Section 1.1. There we "copied a length" by moving it from one place to another by a compass. The spirit of the compass remains in the projective construction: the first and third lines form a "compass" that "copies" the length Oa to the point b.'})}),i.jsx("h3",{children:"Independence of the Choice of L"}),i.jsx("p",{children:"We need the line L to construct a + b, but we get the same point a + b from any other line L parallel to the x-axis."}),i.jsxs(ue,{title:"Sum Independence",children:[i.jsx("p",{children:"The sum a + b is independent of the choice of line L parallel to the x-axis."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"This coincidence follows from the little Desargues theorem. The black sides of the solid triangles are parallel by construction, as are the gray sides. Then it follows from the little Desargues theorem that the dotted sides are also parallel, and one of them ends at the point a + b constructed from L."})]}),i.jsx("h3",{children:"Multiplication"}),i.jsx("p",{children:"To construct the product ab of two points a and b on the x-axis, we first need to choose a point  O on the x-axis to be 1. We also choose a point  O to be the 1 on the y-axis."}),i.jsx(xe,{title:"Construction of Product",children:i.jsx("p",{children:'The point ab is constructed by drawing the black and gray lines from 1 and a on the x-axis to 1 on the y-axis, and then drawing their parallels. This construction is the projective version of "multiplication by a" done in Section 1.4.'})}),i.jsx("p",{children:"Choosing the 1 on the x-axis means choosing a unit of length on the x-axis, so the position of ab definitely depends on it. For example, ab = b if a = 1 but ab  b if a  1."}),i.jsxs(ue,{title:"Product Independence from y-axis 1",children:[i.jsx("p",{children:"The position of ab does not depend on the choice of 1 on the y-axis, as the scissors theorem shows."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"If we choose 1 instead of 1 to construct ab, the path from b to ab follows the dashed and the dotted line instead of the black and the gray line. But it ends in the same place, because the dotted line to ab is parallel to the dotted line to a, by the scissors theorem."})]}),i.jsx("h3",{children:"Interchangeability of the Axes"}),i.jsx("p",{children:"Once we have chosen points called 1 on both the x- and y-axes, it is natural to let each point a on the x-axis correspond to the point on the y-axis obtained by drawing the line through a parallel to the line through the points 1 on both axes."}),i.jsx("p",{children:"It is also natural to define sum and product on the y-axis by constructions like those on the x-axis. But then the question arises: Do the y-axis sum and product correspond to the x-axis sum and product?"}),i.jsxs(ue,{title:"Sums Correspond",children:[i.jsx("p",{children:"If we construct a + b on the x-axis, then the corresponding point on the y-axis is the y-axis sum of the y-axis a and b."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"The proof uses a Pappus configuration of gray, dashed, and dotted lines between the y-axis and a line M through b parallel to the y-axis."})]}),i.jsxs(ue,{title:"Products Correspond",children:[i.jsx("p",{children:"The product of a and b on the y-axis is the point corresponding to ab on the x-axis."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"This follows from the scissors theorem. The gray lines construct ab on the x-axis, and the dotted lines construct ab on the y-axis. By the scissors theorem, they end at corresponding points."})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.4.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that a + O = a for any a, so O functions as the zero on the x-axis."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.4.2"}),i.jsx("p",{className:"text-slate-300",children:"Show that, for any a, there is a point b that serves as a; that is, a + b = O. (Warning: Do not be tempted to use measurement to find b. Work backward from O = a + b, reversing the construction of the sum.)"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.4.3"}),i.jsx("p",{className:"text-slate-300",children:"Show that a  1 = a for any a."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.4.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that, for any a  O, there is a b that serves as a; that is, ab = 1. (Again, do the construction of the product in reverse.)"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.4.5"}),i.jsx("p",{className:"text-slate-300",children:"What happens when we try to construct a + ?"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.4.6"}),i.jsx("p",{className:"text-slate-300",children:"What is ?"})]}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Note:"})," The answers to Exercises 6.4.5 and 6.4.6 are incompatible with ordinary arithmetic. This is why we do not include  among the points we add and multiply."]}),i.jsx(Re,{sectionId:43,questions:Xe[43]||[],title:"Projective Arithmetic Quiz"})]})}function iZ(){return i.jsxs(qe,{sectionId:44,children:[i.jsx("h2",{children:"The Field Axioms"}),i.jsx("p",{children:'In calculating with numbers, and particularly in calculating with symbols ("algebra"), we assume several things: that there are particular numbers 0 and 1; that each number a has an additive inverse, a; that each number a  0 has a reciprocal, a; and that the following field axioms hold.'}),i.jsx(xe,{title:"The Field Axioms",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-blue-400",children:"Commutative Laws:"}),i.jsx(Y,{children:"a + b = b + a, \\quad ab = ba"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-blue-400",children:"Associative Laws:"}),i.jsx(Y,{children:"a + (b + c) = (a + b) + c, \\quad a(bc) = (ab)c"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-blue-400",children:"Identity Laws:"}),i.jsx(Y,{children:"a + 0 = a, \\quad a \\cdot 1 = a"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-blue-400",children:"Inverse Laws:"}),i.jsx(Y,{children:"a + (-a) = 0, \\quad a \\cdot a^{-1} = 1"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-blue-400",children:"Distributive Law:"}),i.jsx(Y,{children:"a(b + c) = ab + ac"})]})]})}),i.jsxs("p",{children:["We generally use these laws unconsciously. They are used so often, and they are so obviously true of numbers, that we do not notice them. But for the projective sum and product of points, they are ",i.jsx("em",{children:"not"})," obviously true."]}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Key Observation:"})," It is not even clear that a + b = b + a, because the construction of a + b is different from the construction of b + a. It is truly a coincidence that a + b = b + a in projective geometry, the result of a geometric coincidence of the type discussed in Section 6.2."]}),i.jsx("h3",{children:"Pappus and Desargues Imply the Field Axioms"}),i.jsx("p",{children:"In this chapter, we show that just two coincidencesthe theorems of Pappus and Desarguesimply all nine field axioms. In fact, it is known that Pappus alone is sufficient, because it implies Desargues."}),i.jsx("p",{children:"We do not prove this latter fact here, partly because it is difficult, and partly because the Desargues theorem itself is interesting: It implies all the field axioms except ab = ba. Thus, the theorems of Pappus and Desargues have algebraic content that can be measured accurately by the field axioms they imply."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Summary of Implications"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Pappus"})," implies all nine field axioms"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Desargues"})," implies eight field axioms (all but ab = ba)"]})]})]}),i.jsx("h3",{children:"Proof of the Commutative Laws"}),i.jsx("p",{children:"We begin with the law ab = ba, which is the most important consequence of the Pappus theorem. The construction of ba from a and b is different from the construction of ab. When we show both constructions on the same diagram, we see that ab = ba because the gray and dotted lines end at the same place, by the Pappus theorem."}),i.jsxs(ue,{title:"Commutative Law of Multiplication",children:[i.jsx("p",{children:"The Pappus theorem implies ab = ba."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"The Pappus configuration consists of all the lines in the construction except the line joining 1 on the x-axis to 1 on the y-axis."})]}),i.jsx("p",{children:"There is a similar proof that a + b = b + a. Remember from Section 6.4 that a + b is the result of attaching the segment Oa at b. Thus, b + a is the result of attaching Ob at a, which is different from the construction of a + b."}),i.jsxs(ue,{title:"Commutative Law of Addition",children:[i.jsx("p",{children:"The Pappus theorem implies a + b = b + a."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"Looking at both constructions together, we see that the gray line leads to a + b and the dotted line leads to b + a. However, both of these lines end at the same point, thanks to the Pappus theorem."})]}),i.jsx("h3",{children:"The Little Pappus Theorem"}),i.jsx("p",{children:"The Pappus configuration that proves a + b = b + a is actually a special one, because the vertices of the hexagon lie on parallel lines. The same special configuration also occurs in the proof in Section 6.4 that sums correspond on the x- and y-axes."}),i.jsxs(xe,{title:"Little Pappus Theorem",children:[i.jsxs("p",{children:["The special Pappus configuration with vertices on parallel lines corresponds to a special Pappus theorem, sometimes called the ",i.jsx("strong",{children:"little Pappus theorem"}),"."]}),i.jsx("p",{className:"mt-2",children:"Given a hexagon with vertices on two lines that meet at a point P, and two pairs of opposite sides meeting on a line L that goes through P, the third pair of opposite sides also meets on L."})]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Connection to Little Desargues:"})," It is known that the little Desargues theorem implies the little Pappus theorem; a proof is in",i.jsx("em",{children:" Fundamentals of Mathematics, II"})," by Behnke et al. Thus, the results deduced from the little Pappus theorem can also be deduced from the little Desargues theorem (although generally not as easily)."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.5.1"}),i.jsx("p",{className:"text-slate-300",children:"Look back to the vector proof of the Pappus theorem in Section 4.2, and point out where it uses the assumption ab = ba."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.5.2"}),i.jsx("p",{className:"text-slate-300",children:"Given that the assumptions of the little Pappus theorem are a hexagon with vertices on two lines that meet at a point P, and two pairs of opposite sides meeting on a line L that goes through P, what is the conclusion?"})]}),i.jsx(Re,{sectionId:44,questions:Xe[44]||[],title:"The Field Axioms Quiz"})]})}function sZ(){return i.jsxs(qe,{sectionId:45,children:[i.jsx("h2",{children:"The Associative Laws"}),i.jsx("p",{children:"In this section, we prove the associative laws for both addition and multiplication using the scissors theorem from Section 6.3. These proofs demonstrate how the Desargues theorem implies algebraic structure."}),i.jsx("h3",{children:"The Associative Law of Addition"}),i.jsx("p",{children:"We begin with the associative law of addition: a + (b + c) = (a + b) + c. To prove this, we must first construct a + (b + c), which means constructing b + c from b and c, and then adding a to the result."}),i.jsxs(ue,{title:"Associative Law of Addition",children:[i.jsx("p",{children:"The Desargues theorem (specifically, the scissors theorem) implies a + (b + c) = (a + b) + c."}),i.jsx(Y,{children:"a + (b + c) = (a + b) + c"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Construction of a + (b + c)"}),i.jsx("p",{className:"text-slate-300",children:"To construct a + (b + c), we first construct b + c from b and c using our standard addition construction. Then we add a to b + c using the same method."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Construction of (a + b) + c"}),i.jsx("p",{className:"text-slate-300",children:"To construct (a + b) + c, we first construct a + b from a and b. Then we add this result to c."})]}),i.jsx("p",{children:"When we show both constructions on the same diagram, we see two pairs of scissors, each consisting of dashed, dotted, black, and gray lines. In the scissors on the right, the gray line ends at a + (b + c) and the dotted line ends at (a + b) + c."}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Key Observation:"})," The ends of these lines coincide by the scissors theorem. Hence a + (b + c) = (a + b) + c."]}),i.jsx("p",{children:"Because the scissors in this proof lie between parallel lines, we need only the little scissors theorem (and hence only the little Desargues theorem)."}),i.jsx("h3",{children:"The Associative Law of Multiplication"}),i.jsx("p",{children:"Next we consider the associative law of multiplication: a(bc) = (ab)c. The diagram is similar to the addition case, except that the pairs of scissors lie between nonparallel lines (the x- and y-axes), so now we need the full Desargues theorem."}),i.jsxs(ue,{title:"Associative Law of Multiplication",children:[i.jsx("p",{children:"The Desargues theorem (specifically, the scissors theorem) implies a(bc) = (ab)c."}),i.jsx(Y,{children:"a(bc) = (ab)c"}),i.jsx("p",{className:"mt-2 text-slate-300",children:"The gray line ends at a(bc) and the dotted line ends at (ab)c. But the ends of these lines coincide by the scissors theorem, so a(bc) = (ab)c."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Why Full Desargues is Required"}),i.jsx("p",{className:"text-slate-300",children:"For addition, the scissors lie between parallel lines (both parallel to the x-axis), so only the little Desargues theorem is needed. For multiplication, the scissors lie between the x- and y-axes, which are not parallel, so the full Desargues theorem is required."})]}),i.jsx("h3",{children:"The Quaternions: A Non-Commutative Example"}),i.jsxs("p",{children:["There is an algebraic system that satisfies all of the field axioms except the commutative law of multiplication. It is called the ",i.jsx("strong",{children:"quaternions"})," and is denoted by H, after Sir William Rowan Hamilton, who discovered them in 1843."]}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Non-Commutative Multiplication:"})," The quaternions provide a natural example of a system where multiplication is associative but not commutative. This shows that the Desargues theorem (which implies associativity) is strictly weaker than the Pappus theorem (which implies commutativity)."]}),i.jsx("p",{children:"In 1845, Arthur Cayley showed that the quaternions could be defined as 2  2 complex matrices of the form:"}),i.jsx(Y,{children:"\\mathbf{q} = \\begin{pmatrix} a + ib & c + id \\\\ -c + id & a - ib \\end{pmatrix}"}),i.jsx("p",{children:"Most properties of quaternions follow from general properties of matrices. All the laws of algebra are immediate except the existence of q and commutative multiplication."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Hamilton's Description"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"Any quaternion can be written as q = a1 + bi + cj + dk, where:"}),i.jsx(Y,{children:"\\mathbf{i}^2 = \\mathbf{j}^2 = \\mathbf{k}^2 = \\mathbf{ijk} = -1"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"This is Hamilton's famous description of the quaternions, which he discovered in 1843 and reportedly carved into Brougham Bridge in Dublin."})]}),i.jsx("h3",{children:"The Quaternion Projective Plane"}),i.jsx("p",{children:"It is possible to define the quaternion projective plane HP using quaternion coordinates. HP satisfies the Desargues theorem because it is possible to do the necessary calculations without using commutative multiplication."}),i.jsxs("p",{children:["However, HP does ",i.jsx("em",{children:"not"})," satisfy the Pappus theorem, because Pappus implies commutative multiplication for H, which the quaternions do not have. HP is therefore a ",i.jsx("strong",{children:"non-Pappian plane"}),"probably the most natural example."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.6.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that q has determinant a + b + c + d and hence that q exists for any nonzero quaternion q."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.6.2"}),i.jsx("p",{className:"text-slate-300",children:"Find specific quaternions s and t such that st  ts."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.6.3"}),i.jsx("p",{className:"text-slate-300",children:"Verify that i = j = k = ijk = 1 (Hamilton's description of the quaternions)."})]}),i.jsx(Re,{sectionId:45,questions:Xe[45]||[],title:"The Associative Laws Quiz"})]})}function rZ(){return i.jsxs(qe,{sectionId:46,children:[i.jsx("h2",{children:"The Distributive Law"}),i.jsx("p",{children:"In this section, we prove the distributive law a(b + c) = ab + ac using the Pappus theorem. This proof takes advantage of the ability to do addition and multiplication on both axes."}),i.jsx("h3",{children:"Strategy for the Proof"}),i.jsx("p",{children:"The proof proceeds in several steps:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ol",{className:"list-decimal list-inside space-y-2",children:[i.jsx("li",{children:"Construct b + c from b and c on the x-axis"}),i.jsx("li",{children:"Map b, c, and b + c to ab, ac, and a(b + c) on the y-axis using parallel lines"}),i.jsx("li",{children:"Use addition on the y-axis to construct ab + ac"}),i.jsx("li",{children:"Use the Pappus theorem to show that ab + ac and a(b + c) are the same point"})]})}),i.jsx("h3",{children:"Multiplication via Parallels"}),i.jsx("p",{children:"First, we observe that we can map any b on the x-axis to ab on the y-axis by sending it along a line parallel to the line from 1 on the x-axis to a on the y-axis."}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Key Observation:"})," This parallel mapping is the same as constructing ab from a and b on the y-axis, because the line from b to its image on the y-axis is parallel to the line from 1 to 1, as required by the definition of multiplication."]}),i.jsx("h3",{children:"Constructing the Sum on Both Axes"}),i.jsx("p",{children:"We add b and c on the x-axis using a special choice of line L: the parallel through ab on the y-axis. We also connect b, c, and b + c, respectively, to ab, ac, and a(b + c) on the y-axis by parallel lines."}),i.jsx("p",{children:"The line through c that constructs b + c, namely the parallel M to the y-axis, is used in turn to add ab and ac on the y-axis."}),i.jsxs(ue,{title:"The Distributive Law",children:[i.jsx("p",{children:"The Pappus theorem implies a(b + c) = ab + ac."}),i.jsx(Y,{children:"a(b + c) = ab + ac"}),i.jsx("p",{className:"mt-2 text-slate-300",children:"The figure has the same structure as the proof that sums correspond on both axesonly the labels have changed. The dashed line ends at a(b + c), and the dotted line ends at ab + ac. But these endpoints coincide by the Pappus theorem."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"The Pappus Configuration"}),i.jsx("p",{className:"text-slate-300",children:"The proof reveals a Pappus configuration of gray, dashed, and dotted lines between the y-axis and the line M. The coincidence of endpoints follows from the Pappus theorem applied to this configuration."})]}),i.jsx("h3",{children:"The Other Distributive Law"}),i.jsx("p",{children:"We need not prove the other distributive law, (b + c)a = ba + bc, separately, because we are assuming Pappus, which implies that multiplication is commutative."}),i.jsx(Y,{children:"(b + c)a = a(b + c) = ab + ac = ba + bc"}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Important:"})," In systems with noncommutative multiplication (like the quaternions), both distributive laws must be verified independently. However, both distributive laws remain valid for quaternions and more generally for matrices."]}),i.jsx("h3",{children:"Distributivity in Non-Commutative Systems"}),i.jsx("p",{children:"In important systems with noncommutative multiplication, such as the quaternions H, both distributive laws remain valid:"}),i.jsx(Y,{children:"a(b + c) = ab + ac \\quad \\text{and} \\quad (b + c)a = ba + ca"}),i.jsx("p",{children:"This is because the quaternions are defined as 2  2 complex matrices, and matrix multiplication distributes over matrix addition from both sides, regardless of whether the multiplication is commutative."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Matrix Distributivity"}),i.jsx("p",{className:"text-slate-300",children:"For any matrices A, B, C of compatible dimensions:"}),i.jsx(Y,{children:"A(B + C) = AB + AC \\quad \\text{and} \\quad (B + C)A = BA + CA"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"This follows directly from the definition of matrix multiplication and addition, without requiring commutativity."})]}),i.jsx("h3",{children:"Summary of Field Axiom Proofs"}),i.jsx("p",{children:"We have now completed the proofs of all nine field axioms from the theorems of Pappus and Desargues:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Identity laws"})," (a + 0 = a, a  1 = a): Direct from construction"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Inverse laws"})," (a + (a) = 0, a  a = 1): Direct from construction"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Commutative laws"})," (a + b = b + a, ab = ba): From Pappus"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Associative laws"})," (a + (b + c) = (a + b) + c, a(bc) = (ab)c): From Desargues (scissors theorem)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Distributive law"})," (a(b + c) = ab + ac): From Pappus"]})]})}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.7.1"}),i.jsx("p",{className:"text-slate-300",children:"Explain in this case why a(b + c) = ab + ac implies (b + c)a = ba + bc."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.7.2"}),i.jsx("p",{className:"text-slate-300",children:"Explain why both distributive laws are valid for the quaternions."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 6.7.3"}),i.jsx("p",{className:"text-slate-300",children:"More generally, show that both distributive laws are valid for matrices."})]}),i.jsx(Re,{sectionId:46,questions:Xe[46]||[],title:"The Distributive Law Quiz"})]})}function aZ(){return i.jsxs(qe,{sectionId:47,children:[i.jsx("h2",{children:"Discussion"}),i.jsxs("p",{children:["The idea of developing projective geometry without the use of numbers comes from the German mathematician ",i.jsx("strong",{children:"Christian von Staudt"})," in 1847. His compatriots Hermann Wiener and David Hilbert took the idea further in the 1890s, and it reached a high point with the publication of Hilbert's book, ",i.jsx("em",{children:"Grundlagen der Geometrie"})," (Foundations of Geometry), in 1899."]}),i.jsx("h3",{children:"Hilbert's Correlation"}),i.jsx("p",{children:"It was Hilbert who first established a clear correlation between geometric and algebraic structure:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Pappus"}),"  commutative multiplication"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Desargues"}),"  associative multiplication"]})]})}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Historical Note:"})," The correlation is significant because some important algebraic systems satisfy all the field axioms except commutative multiplication. The best-known example is the quaternions, known since 1843, but for some reason, Hilbert did not mention it. To construct a non-Pappian plane, he created a rather artificial noncommutative coordinate system."]}),i.jsx("h3",{children:"Hessenberg's Discovery"}),i.jsx("p",{children:"It is perhaps a lucky accident of history that Hilbert discovered the role of the Desargues theorem at all. He was forced to use it because, in 1899, it was still not known that Pappus implies Desargues."}),i.jsxs(ue,{title:"Hessenberg's Theorem (1904)",children:[i.jsx("p",{children:"The Pappus theorem implies the Desargues theorem."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"This implication was first proved by Gerhard Hessenberg in 1904. Even then the proof was faulty, and the mistake was not corrected until years later."})]}),i.jsx("h3",{children:"Ruth Moufang's Contributions"}),i.jsxs("p",{children:["The whole circle of ideas was neatly tied up by yet another German mathematician, ",i.jsx("strong",{children:"Ruth Moufang"}),", in 1930. She found that the little Desargues theorem also has algebraic significance."]}),i.jsxs(xe,{title:"Alternativity",children:[i.jsxs("p",{children:["In a projective plane satisfying the little Desargues theorem, with addition and multiplication defined as in Section 6.4, one can prove all the field axioms except commutativity and associativity. One can even prove a partial associativity law called ",i.jsx("strong",{children:"cancellation"})," or",i.jsx("strong",{children:" alternativity"}),":"]}),i.jsx(Y,{children:"a^{-1}(ab) = b = (ba)a^{-1}"})]}),i.jsx("h3",{children:"Multiplication on Euclidean Spaces"}),i.jsx("p",{children:'The commutative, associative, and alternative laws are beautifully exemplified by the possible multiplication operations that can be defined "reasonably" on the Euclidean spaces . ("Reasonably" means respecting at least the dimension of the space.)'}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Number Systems by Dimension"}),i.jsxs("ul",{className:"list-disc list-inside space-y-3",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Commutative multiplication"})," is possible only on  and , yielding the number systems ",i.jsx("strong",{children:""})," (real numbers) and ",i.jsx("strong",{children:""})," (complex numbers)."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Associative, but noncommutative, multiplication"})," is possible only on , yielding the ",i.jsx("strong",{children:"quaternions H"}),"."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Alternative, but nonassociative, multiplication"})," is possible only on , yielding the ",i.jsx("strong",{children:"octonions O"}),"."]})]})]}),i.jsx("h3",{children:"The Octonions"}),i.jsx("p",{children:"The octonions were discovered by a friend of Hamilton called John Graves in 1843, and they were discovered independently by Cayley in 1845."}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Moufang's Recognition:"})," Ruth Moufang was the first to recognize the importance of quaternions and octonions in projective geometry. She pointed out the quaternion projective plane HP as a natural example of a non-Pappian plane, and was the first to discuss the octonion projective plane OP."]}),i.jsx("p",{children:"OP is the most natural example of a plane that satisfies little Desargues but not Desargues."}),i.jsx("h3",{children:"Higher-Dimensional Projective Spaces"}),i.jsx("p",{children:"In Section 5.4, we sketched the construction of the real projective space P by means of homogeneous coordinates. This idea is easily generalized to obtain the n-dimensional real projective space P, and one can obtain P and HP in precisely the same way."}),i.jsxs("p",{children:["Surprisingly, the idea does ",i.jsx("em",{children:"not"})," work for the octonions. The only octonion projective spaces are:"]}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:["The octonion projective line OP = O  ","{","","}"]}),i.jsx("li",{children:"The octonion projective plane OP discovered by Moufang"})]})}),i.jsx("h3",{children:"Why OP Cannot Exist"}),i.jsx("p",{children:"The reason for the nonexistence of OP is extremely interesting and has to do with the nature of the Desargues theorem in three dimensions."}),i.jsxs(ue,{title:"The Spatial Desargues Theorem",children:[i.jsx("p",{children:"If two triangles lie in three-dimensional space, the Desargues conclusion follows by basic incidence properties of points, lines, and planes."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"The planes containing the two triangles meet in a line L, where the pairs of corresponding sides necessarily meet also."})]}),i.jsx("p",{children:'The argument is a little trickier if the two triangles lie in the same plane. But, provided the plane lies in a projective space, it can be carried out (one shows that the planar configuration is a "shadow" of a spatial configuration).'}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Key Result:"})," The Desargues theorem holds in any projective space of at least three dimensions."]}),i.jsx("p",{children:"This is why OP cannot exist. If it did, the Desargues theorem would hold in it, and we could then show that O is associativewhich it is not. Q.E.D."}),i.jsx("h3",{children:"Summary: The Hierarchy of Projective Planes"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("table",{className:"w-full text-slate-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-600",children:[i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Geometric Axiom"}),i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Algebraic Property"}),i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Example"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Little Desargues"}),i.jsx("td",{className:"py-2",children:"Alternativity"}),i.jsx("td",{className:"py-2",children:"OP (octonions)"})]}),i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Desargues"}),i.jsx("td",{className:"py-2",children:"Associativity"}),i.jsx("td",{className:"py-2",children:"HP (quaternions)"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-2",children:"Pappus"}),i.jsx("td",{className:"py-2",children:"Commutativity"}),i.jsx("td",{className:"py-2",children:"P, P"})]})]})]})}),i.jsx("h3",{children:"Conclusion"}),i.jsx("p",{children:"The connection between geometry and algebra established in this chapter is one of the great achievements of nineteenth-century mathematics. It shows that the theorems of Pappus and Desargues, which seem to be merely curious facts about lines and points, actually contain the seeds of all arithmetic and algebra."}),i.jsx("p",{children:"In a Pappian plane, we can define coordinates satisfying all the field axiomsand this is the foundation for doing calculus and analysis in geometric settings. Geometry and algebra, far from being separate subjects, are two aspects of the same mathematical reality."}),i.jsx(Re,{sectionId:47,questions:Xe[47]||[],title:"Discussion Quiz"})]})}function lZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(0),[r,a]=q.useState(Math.PI/4),[l,o]=q.useState(!0),c=500,h=400,u=c/2,f=h/2,x=[{x:80,y:-20},{x:120,y:-20},{x:100,y:-60}],b=(S,N)=>{const j=Math.cos(2*N),m=Math.sin(2*N);return{x:S.x*j+S.y*m,y:S.x*m-S.y*j}},M=x.map(S=>b(S,n)),y=M.map(S=>b(S,r)),T=2*(r-n);return q.useEffect(()=>{const S=e.current;if(!S)return;const N=S.getContext("2d");if(!N)return;N.fillStyle="#0f172a",N.fillRect(0,0,c,h),N.save(),N.translate(u,f),N.strokeStyle="#1e293b",N.lineWidth=1;for(let v=-250;v<=250;v+=50)N.beginPath(),N.moveTo(v,-200),N.lineTo(v,200),N.stroke();for(let v=-200;v<=200;v+=50)N.beginPath(),N.moveTo(-250,v),N.lineTo(250,v),N.stroke();N.strokeStyle="#475569",N.lineWidth=2,N.beginPath(),N.moveTo(-250,0),N.lineTo(250,0),N.stroke(),N.beginPath(),N.moveTo(0,-200),N.lineTo(0,200),N.stroke();const j=220;N.strokeStyle="#f472b6",N.lineWidth=2,N.beginPath(),N.moveTo(-j*Math.cos(n),j*Math.sin(n)),N.lineTo(j*Math.cos(n),-j*Math.sin(n)),N.stroke(),N.strokeStyle="#22d3ee",N.lineWidth=2,N.beginPath(),N.moveTo(-j*Math.cos(r),j*Math.sin(r)),N.lineTo(j*Math.cos(r),-j*Math.sin(r)),N.stroke(),N.strokeStyle="#fbbf24",N.lineWidth=1.5,N.beginPath(),N.arc(0,0,40,-r,-n),N.stroke();const m=(n+r)/2;N.fillStyle="#fbbf24",N.font="11px sans-serif";const g=((r-n)*180/Math.PI).toFixed(0);N.fillText(` = ${g}`,50*Math.cos(m),-50*Math.sin(m));const E=(v,p,A=1)=>{N.fillStyle=p.replace(")",`, ${A*.3})`).replace("rgb","rgba"),N.beginPath(),N.moveTo(v[0].x,-v[0].y),v.forEach(w=>N.lineTo(w.x,-w.y)),N.closePath(),N.fill(),N.strokeStyle=p,N.lineWidth=2,N.stroke()};E(x,"rgb(167, 139, 250)"),l&&E(M,"rgb(244, 114, 182)",.6),E(y,"rgb(52, 211, 153)"),N.strokeStyle="#34d399",N.lineWidth=1,N.setLineDash([4,4]),N.beginPath(),N.arc(0,0,100,Math.PI/6,Math.PI/6-T,T>0),N.stroke(),N.setLineDash([]),N.restore(),N.fillStyle="#f472b6",N.font="12px sans-serif",N.fillText("Line 1 (L)",10,25),N.fillStyle="#22d3ee",N.fillText("Line 2 (L)",10,45),N.fillStyle="#a78bfa",N.fillText("Original",10,65),l&&(N.fillStyle="#f472b6",N.fillText("After L",10,85)),N.fillStyle="#34d399",N.fillText("Final (rotation 2)",10,l?105:85)},[n,r,l,M,y,T]),i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Composition of Reflections"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Line 1 angle: ",(n*180/Math.PI).toFixed(0),""]}),i.jsx("input",{type:"range",min:-Math.PI/2,max:Math.PI/2,step:"0.05",value:n,onChange:S=>s(parseFloat(S.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Line 2 angle: ",(r*180/Math.PI).toFixed(0),""]}),i.jsx("input",{type:"range",min:-Math.PI/2,max:Math.PI/2,step:"0.05",value:r,onChange:S=>a(parseFloat(S.target.value)),className:"w-full"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:l,onChange:S=>o(S.target.checked),className:"rounded"}),"Show intermediate step"]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsx("h5",{className:"text-sm font-semibold text-yellow-400 mb-2",children:"Key Result"}),i.jsxs("p",{className:"text-xs text-slate-300",children:["Two reflections = rotation by ",i.jsx("strong",{children:"twice"})," the angle between the lines."]}),i.jsxs("p",{className:"text-sm font-mono text-green-400 mt-2",children:["Rotation = 2  ",((r-n)*180/Math.PI).toFixed(0)," = ",(T*180/Math.PI).toFixed(0),""]})]}),i.jsx("button",{onClick:()=>{s(0),a(Math.PI/4)},className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Reset"}),i.jsx("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:i.jsx("p",{children:"The composition of two reflections through lines that meet at a point is a rotation about that point."})})]})]})]})}function oZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("square"),[r,a]=q.useState(0),[l,o]=q.useState(!0),c=480,h=400,u=240,f=200,x=100,b={triangle:{n:3,name:"Equilateral Triangle"},square:{n:4,name:"Square"},pentagon:{n:5,name:"Regular Pentagon"},hexagon:{n:6,name:"Regular Hexagon"}},M=b[n].n,T=(S=>{const N=[];N.push({name:"e (identity)",apply:(j,m)=>[j,m]});for(let j=1;j<S;j++){const m=2*Math.PI*j/S;N.push({name:`r${j} (${(360*j/S).toFixed(0)} rotation)`,apply:(g,E)=>[g*Math.cos(m)-E*Math.sin(m),g*Math.sin(m)+E*Math.cos(m)]})}for(let j=0;j<S;j++){const m=Math.PI*j/S;N.push({name:`s${j} (reflection ${j})`,apply:(g,E)=>{const v=Math.cos(2*m),p=Math.sin(2*m);return[g*v+E*p,g*p-E*v]}})}return N})(M);return q.useEffect(()=>{const S=e.current;if(!S)return;const N=S.getContext("2d");if(!N)return;N.fillStyle="#0f172a",N.fillRect(0,0,c,h),N.strokeStyle="#1e293b",N.lineWidth=1;for(let E=0;E<c;E+=40)N.beginPath(),N.moveTo(E,0),N.lineTo(E,h),N.stroke();for(let E=0;E<h;E+=40)N.beginPath(),N.moveTo(0,E),N.lineTo(c,E),N.stroke();if(l){N.strokeStyle="rgba(251, 191, 36, 0.3)",N.lineWidth=1,N.setLineDash([5,5]),N.beginPath(),N.arc(u,f,5,0,Math.PI*2),N.stroke();for(let E=0;E<M;E++){const v=Math.PI*E/M,p=150;N.beginPath(),N.moveTo(u-p*Math.cos(v),f+p*Math.sin(v)),N.lineTo(u+p*Math.cos(v),f-p*Math.sin(v)),N.stroke()}N.setLineDash([])}const j=[];for(let E=0;E<M;E++){const v=2*Math.PI*E/M-Math.PI/2;j.push([x*Math.cos(v),x*Math.sin(v)])}N.fillStyle="rgba(167, 139, 250, 0.2)",N.strokeStyle="rgba(167, 139, 250, 0.5)",N.lineWidth=1,N.beginPath(),j.forEach(([E,v],p)=>{const A=u+E,w=f-v;p===0?N.moveTo(A,w):N.lineTo(A,w)}),N.closePath(),N.fill(),N.stroke();const m=T[r],g=j.map(([E,v])=>m.apply(E,v));N.fillStyle="rgba(34, 211, 238, 0.3)",N.strokeStyle="#22d3ee",N.lineWidth=2,N.beginPath(),g.forEach(([E,v],p)=>{const A=u+E,w=f-v;p===0?N.moveTo(A,w):N.lineTo(A,w)}),N.closePath(),N.fill(),N.stroke(),j.forEach(([E,v],p)=>{const A=u+E,w=f-v;N.fillStyle="#a78bfa",N.beginPath(),N.arc(A,w,4,0,Math.PI*2),N.fill(),N.fillStyle="#a78bfa",N.font="10px sans-serif";const k=15;N.fillText(String(p+1),A+k*Math.cos(2*Math.PI*p/M-Math.PI/2),w-k*Math.sin(2*Math.PI*p/M-Math.PI/2))}),g.forEach(([E,v],p)=>{const A=u+E,w=f-v;N.fillStyle="#22d3ee",N.beginPath(),N.arc(A,w,4,0,Math.PI*2),N.fill()}),N.fillStyle="#e2e8f0",N.font="13px sans-serif",N.fillText(`D${M} Symmetry Group: ${b[n].name}`,10,25),N.font="11px sans-serif",N.fillText(`Order: ${2*M} (${M} rotations + ${M} reflections)`,10,45)},[n,r,l,M,T]),i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Symmetry Groups (Dihedral Groups)"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Shape"}),i.jsxs("select",{value:n,onChange:S=>{s(S.target.value),a(0)},className:"w-full px-2 py-1.5 bg-slate-800 border border-slate-600 rounded text-slate-200 text-sm",children:[i.jsx("option",{value:"triangle",children:"Triangle (D)"}),i.jsx("option",{value:"square",children:"Square (D)"}),i.jsx("option",{value:"pentagon",children:"Pentagon (D)"}),i.jsx("option",{value:"hexagon",children:"Hexagon (D)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Symmetry"}),i.jsx("select",{value:r,onChange:S=>a(parseInt(S.target.value)),className:"w-full px-2 py-1.5 bg-slate-800 border border-slate-600 rounded text-slate-200 text-sm",children:T.map((S,N)=>i.jsx("option",{value:N,children:S.name},N))})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:l,onChange:S=>o(S.target.checked),className:"rounded"}),"Show symmetry axes"]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded",children:[i.jsxs("h5",{className:"text-sm font-semibold text-yellow-400 mb-2",children:["Dihedral Group D",M]}),i.jsxs("p",{className:"text-xs text-slate-300",children:["The symmetry group of a regular ",M,"-gon has:"]}),i.jsxs("ul",{className:"text-xs text-slate-300 mt-1 space-y-1",children:[i.jsxs("li",{children:[" ",M," rotations (including identity)"]}),i.jsxs("li",{children:[" ",M," reflections"]}),i.jsxs("li",{children:[" Total: ",2*M," symmetries"]})]})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-purple-400",children:"Purple:"})," Original position"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," After transformation"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," Symmetry axes"]})]})]})]})]})}function cZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(20),[r,a]=q.useState(30),[l,o]=q.useState(!0),[c,h]=q.useState(!0),[u,f]=q.useState(!0),[x,b]=q.useState(!1),[M,y]=q.useState({x:0,y:0}),T=480,S=420,N=240,j=210,m=150,g=k=>{const D=n*Math.PI/180,I=r*Math.PI/180;let $=k.x*Math.cos(I)+k.z*Math.sin(I),B=-k.x*Math.sin(I)+k.z*Math.cos(I),G=k.y;const V=G*Math.cos(D)-B*Math.sin(D),J=G*Math.sin(D)+B*Math.cos(D);return{x:$,y:V,z:J}},E=k=>{const D=g(k);return{x:N+D.x*m,y:j-D.y*m,visible:D.z>-.1}},v=(k,D)=>{const I=[];let $;Math.abs(k.z)<.9?$={x:-k.y,y:k.x,z:0}:$={x:0,y:-k.z,z:k.y};const B=Math.sqrt($.x*$.x+$.y*$.y+$.z*$.z);$={x:$.x/B,y:$.y/B,z:$.z/B};const G={x:k.y*$.z-k.z*$.y,y:k.z*$.x-k.x*$.z,z:k.x*$.y-k.y*$.x};for(let V=0;V<=D;V++){const J=V/D*Math.PI*2;I.push({x:Math.cos(J)*$.x+Math.sin(J)*G.x,y:Math.cos(J)*$.y+Math.sin(J)*G.y,z:Math.cos(J)*$.z+Math.sin(J)*G.z})}return I};q.useEffect(()=>{const k=e.current;if(!k)return;const D=k.getContext("2d");if(D){D.fillStyle="#0f172a",D.fillRect(0,0,T,S),D.strokeStyle="#475569",D.lineWidth=2,D.beginPath(),D.arc(N,j,m,0,Math.PI*2),D.stroke(),D.strokeStyle="#334155",D.lineWidth=1;for(let I=-60;I<=60;I+=30){const $=I*Math.PI/180,B=Math.cos($),G=Math.sin($),V=[];for(let ee=0;ee<=60;ee++){const re=ee/60*Math.PI*2;V.push({x:B*Math.cos(re),y:G,z:B*Math.sin(re)})}D.beginPath();let J=!1;V.forEach(ee=>{const re=E(ee);re.visible?J?D.lineTo(re.x,re.y):(D.moveTo(re.x,re.y),J=!0):J=!1}),D.stroke()}if(l){D.strokeStyle="#22d3ee",D.lineWidth=3;const I=v({x:0,y:1,z:0},60);D.beginPath();let $=!1;I.forEach(B=>{const G=E(B);G.visible?$?D.lineTo(G.x,G.y):(D.moveTo(G.x,G.y),$=!0):$=!1}),D.stroke(),D.setLineDash([5,5]),D.strokeStyle="#22d3ee50",D.beginPath(),$=!1,I.forEach(B=>{const G=E(B);G.visible?$=!1:$?D.lineTo(G.x,G.y):(D.moveTo(G.x,G.y),$=!0)}),D.stroke(),D.setLineDash([])}if(c)for(let I=0;I<180;I+=45){const $=I*Math.PI/180,B={x:Math.sin($),y:0,z:Math.cos($)},G=v(B,60);D.strokeStyle="#f472b6",D.lineWidth=2,D.beginPath();let V=!1;G.forEach(J=>{const ee=E(J);ee.visible?V?D.lineTo(ee.x,ee.y):(D.moveTo(ee.x,ee.y),V=!0):V=!1}),D.stroke(),D.setLineDash([4,4]),D.strokeStyle="#f472b650",D.beginPath(),V=!1,G.forEach(J=>{const ee=E(J);ee.visible?V=!1:V?D.lineTo(ee.x,ee.y):(D.moveTo(ee.x,ee.y),V=!0)}),D.stroke(),D.setLineDash([])}if(u){const I={x:0,y:1,z:0},$={x:1,y:0,z:0},B={x:0,y:0,z:1},G=E(I),V=E($),J=E(B);G.visible&&(D.fillStyle="#fbbf24",D.beginPath(),D.arc(G.x,G.y,6,0,Math.PI*2),D.fill(),D.fillStyle="#fbbf24",D.font="bold 14px sans-serif",D.fillText("N",G.x+10,G.y-5)),V.visible&&(D.fillStyle="#34d399",D.beginPath(),D.arc(V.x,V.y,6,0,Math.PI*2),D.fill(),D.fillStyle="#34d399",D.font="bold 14px sans-serif",D.fillText("A",V.x+10,V.y+5)),J.visible&&(D.fillStyle="#60a5fa",D.beginPath(),D.arc(J.x,J.y,6,0,Math.PI*2),D.fill(),D.fillStyle="#60a5fa",D.font="bold 14px sans-serif",D.fillText("B",J.x+10,J.y+5)),D.strokeStyle="#fbbf24",D.lineWidth=3;const ee=(re,se)=>{D.beginPath();let he=!1;for(let ae=0;ae<=1;ae+=.02){const Ne=re.x*se.x+re.y*se.y+re.z*se.z,Te=Math.acos(Math.max(-1,Math.min(1,Ne))),tt=Math.sin(Te);let Ce;if(tt<.001)Ce=re;else{const Fe=Math.sin((1-ae)*Te)/tt,Be=Math.sin(ae*Te)/tt;Ce={x:Fe*re.x+Be*se.x,y:Fe*re.y+Be*se.y,z:Fe*re.z+Be*se.z}}const Ae=E(Ce);Ae.visible&&(he?D.lineTo(Ae.x,Ae.y):(D.moveTo(Ae.x,Ae.y),he=!0))}D.stroke()};ee(I,$),ee(I,B),ee($,B)}D.fillStyle="#0f172a",D.fillRect(10,10,160,85),D.strokeStyle="#334155",D.strokeRect(10,10,160,85),D.fillStyle="#e2e8f0",D.font="bold 12px sans-serif",D.fillText("Spherical Triangle",20,30),D.font="11px sans-serif",D.fillStyle="#fbbf24",D.fillText("Vertices: N, A, B",20,48),D.fillStyle="#94a3b8",D.fillText("Each angle = 90",20,65),D.fillStyle="#34d399",D.fillText("Sum = 270 > 180",20,82),D.fillStyle="#94a3b8",D.font="11px sans-serif",D.fillText("Drag to rotate sphere",10,S-10)}},[n,r,l,c,u]);const p=k=>{b(!0),y({x:k.clientX,y:k.clientY})},A=k=>{if(!x)return;const D=k.clientX-M.x,I=k.clientY-M.y;a($=>$+D*.5),s($=>Math.max(-89,Math.min(89,$+I*.5))),y({x:k.clientX,y:k.clientY})},w=()=>{b(!1)};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Spherical Geometry"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:T,height:S,className:"border border-slate-700 rounded cursor-grab",onMouseDown:p,onMouseMove:A,onMouseUp:w,onMouseLeave:w})}),i.jsxs("div",{className:"w-full md:w-52 space-y-3",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:l,onChange:k=>o(k.target.checked),className:"rounded"}),"Show equator"]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:c,onChange:k=>h(k.target.checked),className:"rounded"}),"Show meridians"]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:u,onChange:k=>f(k.target.checked),className:"rounded"}),"Show spherical triangle"]}),i.jsx("button",{onClick:()=>{s(20),a(30)},className:"w-full px-3 py-1.5 text-sm bg-slate-700 text-slate-200 rounded hover:bg-slate-600",children:"Reset View"}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded text-xs",children:[i.jsx("p",{className:"text-slate-300 mb-2",children:i.jsx("strong",{className:"text-cyan-400",children:"Great Circles:"})}),i.jsx("p",{className:"text-slate-400",children:'The "lines" of spherical geometry. They are the intersections of planes through the center with the sphere.'}),i.jsxs("p",{className:"text-slate-400 mt-2",children:[i.jsx("strong",{className:"text-yellow-400",children:"No parallel lines:"})," Any two great circles intersect!"]})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan:"})," Equator"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-pink-400",children:"Pink:"})," Meridians"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-yellow-400",children:"Yellow:"})," Triangle sides"]})]})]})]})]})}function hZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("rotation"),[r,a]=q.useState(45),[l,o]=q.useState(30),[c,h]=q.useState(2),[u,f]=q.useState(1),[x,b]=q.useState(!1),[M,y]=q.useState(60),T=550,S=400,N=q.useCallback((j,m)=>{const g=r*Math.PI/180,E=l*Math.PI/180;switch(n){case"rotation":return[j*Math.cos(g)-m*Math.sin(g),j*Math.sin(g)+m*Math.cos(g)];case"reflection":{const v=Math.cos(2*E),p=Math.sin(2*E);return[j*v+m*p,j*p-m*v]}case"translation":return[j+c,m+u];case"glide":{const v=[j,-m];return[v[0]+c,v[1]]}default:return[j,m]}},[n,r,l,c,u]);return q.useEffect(()=>{const j=e.current;if(!j)return;const m=j.getContext("2d");if(!m)return;m.fillStyle="#0f172a",m.fillRect(0,0,T,S);const g=T/2,E=S/2,v=40,p=G=>g+G*v,A=G=>E-G*v;m.strokeStyle="#1e293b",m.lineWidth=1;for(let G=-10;G<=10;G++)m.beginPath(),m.moveTo(p(G),0),m.lineTo(p(G),S),m.stroke();for(let G=-5;G<=5;G++)m.beginPath(),m.moveTo(0,A(G)),m.lineTo(T,A(G)),m.stroke();if(m.strokeStyle="#475569",m.lineWidth=2,m.beginPath(),m.moveTo(0,E),m.lineTo(T,E),m.stroke(),m.beginPath(),m.moveTo(g,0),m.lineTo(g,S),m.stroke(),m.fillStyle="#f1f5f9",m.beginPath(),m.arc(g,E,5,0,Math.PI*2),m.fill(),m.font="bold 12px sans-serif",m.fillText("O",g+8,E+15),n==="reflection"){const G=l*Math.PI/180;m.strokeStyle="#f59e0b",m.lineWidth=2,m.setLineDash([5,5]),m.beginPath(),m.moveTo(p(-6*Math.cos(G)),A(-6*Math.sin(G))),m.lineTo(p(6*Math.cos(G)),A(6*Math.sin(G))),m.stroke(),m.setLineDash([]),m.fillStyle="#f59e0b",m.font="12px sans-serif",m.fillText("reflection line",p(4*Math.cos(G)),A(4*Math.sin(G))-10)}else if(n==="rotation"){const G=r*Math.PI/180;m.strokeStyle="#22c55e",m.lineWidth=2,m.beginPath(),m.arc(g,E,30,-G,0,r<0),m.stroke(),m.fillStyle="#22c55e",m.font="12px sans-serif",m.fillText(` = ${r}`,g+35,E-10)}else if(n==="translation"){m.strokeStyle="#8b5cf6",m.lineWidth=2,m.beginPath(),m.moveTo(g,E),m.lineTo(p(c),A(u)),m.stroke();const G=c*v,V=-u*v,J=Math.sqrt(G*G+V*V),ee=G/J,re=V/J;m.beginPath(),m.moveTo(p(c),A(u)),m.lineTo(p(c)-10*ee-5*re,A(u)-10*re+5*ee),m.lineTo(p(c)-10*ee+5*re,A(u)-10*re-5*ee),m.closePath(),m.fillStyle="#8b5cf6",m.fill(),m.fillStyle="#8b5cf6",m.font="12px sans-serif",m.fillText(`v = (${c}, ${u})`,p(c/2)+10,A(u/2)-10)}else n==="glide"&&(m.strokeStyle="#f59e0b",m.lineWidth=2,m.setLineDash([5,5]),m.beginPath(),m.moveTo(0,E),m.lineTo(T,E),m.stroke(),m.setLineDash([]),m.fillStyle="#f59e0b",m.font="12px sans-serif",m.fillText("reflection line (x-axis)",20,E-10),m.strokeStyle="#8b5cf6",m.lineWidth=2,m.beginPath(),m.moveTo(g,E+50),m.lineTo(p(c),E+50),m.stroke(),m.fillStyle="#8b5cf6",m.fillText(`translate by ${c}`,p(c/2),E+45));const w=[[-2,-1],[-2,2],[-1,2],[-1,.5],[0,.5],[0,-.5],[-1,-.5],[-1,-1]];m.fillStyle="rgba(96, 165, 250, 0.5)",m.strokeStyle="#60a5fa",m.lineWidth=2,m.beginPath(),w.forEach((G,V)=>{const[J,ee]=G;V===0?m.moveTo(p(J),A(ee)):m.lineTo(p(J),A(ee))}),m.closePath(),m.fill(),m.stroke(),m.fillStyle="#60a5fa",m.font="bold 14px sans-serif",m.fillText("F",p(-1.5),A(1.5));const k=w.map(([G,V])=>N(G,V));m.fillStyle="rgba(236, 72, 153, 0.5)",m.strokeStyle="#ec4899",m.lineWidth=2,m.beginPath(),k.forEach((G,V)=>{const[J,ee]=G;Math.abs(J)<10&&Math.abs(ee)<10&&(V===0?m.moveTo(p(J),A(ee)):m.lineTo(p(J),A(ee)))}),m.closePath(),m.fill(),m.stroke();const[D,I]=N(-1.5,1.5);if(Math.abs(D)<8&&Math.abs(I)<8&&(m.fillStyle="#ec4899",m.font="bold 14px sans-serif",m.fillText("F'",p(D),A(I))),x&&n==="reflection"){const G=M*Math.PI/180;m.strokeStyle="#22c55e",m.lineWidth=2,m.setLineDash([5,5]),m.beginPath(),m.moveTo(p(-6*Math.cos(G)),A(-6*Math.sin(G))),m.lineTo(p(6*Math.cos(G)),A(6*Math.sin(G))),m.stroke(),m.setLineDash([]),m.fillStyle="#22c55e",m.font="12px sans-serif",m.fillText("2nd reflection",p(4*Math.cos(G)),A(4*Math.sin(G))-10);const V=(re,se)=>{const he=Math.cos(2*G),ae=Math.sin(2*G);return[re*he+se*ae,re*ae-se*he]},J=k.map(([re,se])=>V(re,se));m.fillStyle="rgba(34, 197, 94, 0.5)",m.strokeStyle="#22c55e",m.lineWidth=2,m.beginPath(),J.forEach((re,se)=>{const[he,ae]=re;Math.abs(he)<10&&Math.abs(ae)<10&&(se===0?m.moveTo(p(he),A(ae)):m.lineTo(p(he),A(ae)))}),m.closePath(),m.fill(),m.stroke();const ee=M-l;m.fillStyle="#c084fc",m.font="12px sans-serif",m.fillText(`Two reflections = rotation by 2${ee} = ${2*ee}`,20,S-20)}m.fillStyle="#e2e8f0",m.font="bold 14px sans-serif";let $="";switch(n){case"rotation":$=`Rotation by ${r} about O`;break;case"reflection":$=`Reflection in line at ${l}`;break;case"translation":$=`Translation by (${c}, ${u})`;break;case"glide":$=`Glide reflection (reflect, translate ${c})`;break}m.fillText($,20,30);const B=n==="rotation"||n==="translation";m.fillStyle=B?"#22c55e":"#ef4444",m.font="12px sans-serif",m.fillText(B?" Orientation-preserving":" Orientation-reversing",20,50)},[n,r,l,c,u,x,M,N]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Isometry Group of the Plane"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:T,height:S,className:"border border-slate-700 rounded"})}),i.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:["rotation","reflection","translation","glide"].map(j=>i.jsx("button",{onClick:()=>s(j),className:`px-3 py-2 text-sm rounded transition ${n===j?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:j.charAt(0).toUpperCase()+j.slice(1)},j))}),n==="rotation"&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Angle: ",r,""]}),i.jsx("input",{type:"range",min:"-180",max:"180",value:r,onChange:j=>a(parseInt(j.target.value)),className:"w-full"})]}),n==="reflection"&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Line angle: ",l,""]}),i.jsx("input",{type:"range",min:"0",max:"180",value:l,onChange:j=>o(parseInt(j.target.value)),className:"w-full"}),i.jsxs("button",{onClick:()=>b(!x),className:`mt-2 px-3 py-2 text-sm rounded transition ${x?"bg-green-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[x?"Hide":"Show"," Two Reflections = Rotation"]}),x&&i.jsxs("div",{className:"mt-2",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["2nd line angle: ",M,""]}),i.jsx("input",{type:"range",min:"0",max:"180",value:M,onChange:j=>y(parseInt(j.target.value)),className:"w-full"})]})]}),(n==="translation"||n==="glide")&&i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["x: ",c]}),i.jsx("input",{type:"range",min:"-4",max:"4",step:"0.5",value:c,onChange:j=>h(parseFloat(j.target.value)),className:"w-full"})]}),n==="translation"&&i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["y: ",u]}),i.jsx("input",{type:"range",min:"-4",max:"4",step:"0.5",value:u,onChange:j=>f(parseFloat(j.target.value)),className:"w-full"})]})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Three Reflections Theorem:"})}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsxs("li",{children:["Every isometry is a product of at most ",i.jsx("span",{className:"text-amber-400",children:"three reflections"})]}),i.jsxs("li",{children:[i.jsx("span",{className:"text-green-400",children:"Rotations & translations"})," = products of 2 reflections"]}),i.jsxs("li",{children:[i.jsx("span",{className:"text-red-400",children:"Reflections & glides"})," = products of 1 or 3 reflections"]}),i.jsx("li",{children:'The "F" shape shows orientation: flipped F means orientation reversed'})]})]})]})}function uZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("rotation"),[r,a]=q.useState(45),[l,o]=q.useState(1.5),[c,h]=q.useState(1.5),[u,f]=q.useState(.5),[x,b]=q.useState(1),[M,y]=q.useState(0),[T,S]=q.useState(0),[N,j]=q.useState(1),[m,g]=q.useState(!0),E=550,v=400,p=()=>{const $=r*Math.PI/180;switch(n){case"rotation":return[Math.cos($),-Math.sin($),Math.sin($),Math.cos($)];case"reflection":return[Math.cos($),Math.sin($),Math.sin($),-Math.cos($)];case"scale":return[l,0,0,c];case"shear":return[1,u,0,1];case"custom":return[x,M,T,N];default:return[1,0,0,1]}},[A,w,k,D]=p(),I=A*D-w*k;return q.useEffect(()=>{const $=e.current;if(!$)return;const B=$.getContext("2d");if(!B)return;B.fillStyle="#0f172a",B.fillRect(0,0,E,v);const G=E/2,V=v/2,J=50,ee=Ue=>G+Ue*J,re=Ue=>V-Ue*J,se=(Ue,et)=>[A*Ue+w*et,k*Ue+D*et];if(m){B.strokeStyle="rgba(236, 72, 153, 0.3)",B.lineWidth=1;for(let Ue=-4;Ue<=4;Ue++){B.beginPath();for(let et=-4;et<=4;et+=.1){const[_e,$e]=se(Ue,et);et===-4?B.moveTo(ee(_e),re($e)):B.lineTo(ee(_e),re($e))}B.stroke()}for(let Ue=-4;Ue<=4;Ue++){B.beginPath();for(let et=-4;et<=4;et+=.1){const[_e,$e]=se(et,Ue);et===-4?B.moveTo(ee(_e),re($e)):B.lineTo(ee(_e),re($e))}B.stroke()}}B.strokeStyle="#334155",B.lineWidth=1;for(let Ue=-4;Ue<=4;Ue++)B.beginPath(),B.moveTo(ee(Ue),re(-4)),B.lineTo(ee(Ue),re(4)),B.stroke();for(let Ue=-4;Ue<=4;Ue++)B.beginPath(),B.moveTo(ee(-4),re(Ue)),B.lineTo(ee(4),re(Ue)),B.stroke();B.strokeStyle="#475569",B.lineWidth=2,B.beginPath(),B.moveTo(0,V),B.lineTo(E,V),B.stroke(),B.beginPath(),B.moveTo(G,0),B.lineTo(G,v),B.stroke(),B.lineWidth=3;const[he,ae]=se(3,0);B.strokeStyle="#ef4444",B.beginPath(),B.moveTo(G,V),B.lineTo(ee(he),re(ae)),B.stroke();const[Ne,Te]=se(0,3);B.strokeStyle="#22c55e",B.beginPath(),B.moveTo(G,V),B.lineTo(ee(Ne),re(Te)),B.stroke(),B.strokeStyle="rgba(239, 68, 68, 0.4)",B.lineWidth=2,B.setLineDash([4,4]),B.beginPath(),B.moveTo(G,V),B.lineTo(ee(1),V),B.stroke(),B.setLineDash([]),B.strokeStyle="rgba(34, 197, 94, 0.4)",B.setLineDash([4,4]),B.beginPath(),B.moveTo(G,V),B.lineTo(G,re(1)),B.stroke(),B.setLineDash([]);const[tt,Ce]=se(1,0);B.fillStyle="#ef4444",B.beginPath(),B.arc(ee(tt),re(Ce),6,0,Math.PI*2),B.fill(),B.font="bold 12px sans-serif",B.fillText(`T(e)=(${tt.toFixed(2)}, ${Ce.toFixed(2)})`,ee(tt)+10,re(Ce)-5);const[Ae,Fe]=se(0,1);B.fillStyle="#22c55e",B.beginPath(),B.arc(ee(Ae),re(Fe),6,0,Math.PI*2),B.fill(),B.fillText(`T(e)=(${Ae.toFixed(2)}, ${Fe.toFixed(2)})`,ee(Ae)+10,re(Fe)-5),B.fillStyle="#f1f5f9",B.beginPath(),B.arc(G,V,5,0,Math.PI*2),B.fill(),B.strokeStyle="#60a5fa",B.lineWidth=2,B.beginPath();const Be=[[0,0],[1,0],[1,1],[0,1],[0,0]];Be.forEach((Ue,et)=>{const[_e,$e]=Ue;et===0?B.moveTo(ee(_e),re($e)):B.lineTo(ee(_e),re($e))}),B.stroke(),B.strokeStyle="#ec4899",B.lineWidth=2,B.beginPath(),Be.forEach((Ue,et)=>{const[_e,$e]=se(Ue[0],Ue[1]);et===0?B.moveTo(ee(_e),re($e)):B.lineTo(ee(_e),re($e))}),B.stroke(),B.fillStyle="rgba(236, 72, 153, 0.2)",B.beginPath(),Be.forEach((Ue,et)=>{const[_e,$e]=se(Ue[0],Ue[1]);et===0?B.moveTo(ee(_e),re($e)):B.lineTo(ee(_e),re($e))}),B.closePath(),B.fill(),B.fillStyle="#e2e8f0",B.font="bold 14px sans-serif",B.fillText("Matrix A =",20,30),B.font="14px monospace",B.fillText(` ${A.toFixed(2)}  ${w.toFixed(2)} `,100,25),B.fillText(` ${k.toFixed(2)}  ${D.toFixed(2)} `,100,45),B.font="12px sans-serif",B.fillStyle=Math.abs(I-1)<.01?"#22c55e":Math.abs(I+1)<.01?"#f59e0b":"#94a3b8",B.fillText(`det(A) = ${I.toFixed(3)}`,20,70),Math.abs(A*A+k*k-1)<.01&&Math.abs(w*w+D*D-1)<.01&&Math.abs(A*w+k*D)<.01&&(B.fillStyle="#22c55e",B.fillText(" Orthogonal (isometry)",20,90),B.fillText(I>0?" SO(2) rotation":" O(2)\\SO(2) reflection",20,108))},[A,w,k,D,m,n,r,l,c,u,I]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Matrix Transformations"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:E,height:v,className:"border border-slate-700 rounded"})}),i.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:["rotation","reflection","scale","shear","custom"].map($=>i.jsx("button",{onClick:()=>s($),className:`px-3 py-2 text-sm rounded transition ${n===$?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:$.charAt(0).toUpperCase()+$.slice(1)},$))}),n==="rotation"&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Rotation angle: ",r,""]}),i.jsx("input",{type:"range",min:"0",max:"360",value:r,onChange:$=>a(parseInt($.target.value)),className:"w-full"})]}),n==="reflection"&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Line angle: ",r/2," (reflects at angle ",r,")"]}),i.jsx("input",{type:"range",min:"0",max:"360",value:r,onChange:$=>a(parseInt($.target.value)),className:"w-full"})]}),n==="scale"&&i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Scale X: ",l.toFixed(1)]}),i.jsx("input",{type:"range",min:"0.1",max:"2",step:"0.1",value:l,onChange:$=>o(parseFloat($.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Scale Y: ",c.toFixed(1)]}),i.jsx("input",{type:"range",min:"0.1",max:"2",step:"0.1",value:c,onChange:$=>h(parseFloat($.target.value)),className:"w-full"})]})]}),n==="shear"&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Shear factor k: ",u.toFixed(1)]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:u,onChange:$=>f(parseFloat($.target.value)),className:"w-full"})]}),n==="custom"&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["a = ",x.toFixed(1)]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:x,onChange:$=>b(parseFloat($.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["b = ",M.toFixed(1)]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:M,onChange:$=>y(parseFloat($.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["c = ",T.toFixed(1)]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:T,onChange:$=>S(parseFloat($.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["d = ",N.toFixed(1)]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.1",value:N,onChange:$=>j(parseFloat($.target.value)),className:"w-full"})]})]}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsxs("button",{onClick:()=>g(!m),className:`px-3 py-2 text-sm rounded transition ${m?"bg-pink-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[m?"Hide":"Show"," Transformed Grid"]})}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Key Concepts:"})}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsxs("li",{children:[i.jsx("span",{className:"text-red-400",children:"Red"})," axis shows where e = (1,0) maps to"]}),i.jsxs("li",{children:[i.jsx("span",{className:"text-green-400",children:"Green"})," axis shows where e = (0,1) maps to"]}),i.jsxs("li",{children:[i.jsx("span",{className:"text-blue-400",children:"Blue"})," square  ",i.jsx("span",{className:"text-pink-400",children:"pink"})," parallelogram shows area change"]}),i.jsx("li",{children:"det(A) = area scaling factor (negative = orientation reversed)"}),i.jsxs("li",{children:[i.jsx("strong",{children:"Orthogonal"}),": AA = I  isometry (preserves distances)"]})]})]})]})}function dZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("z"),[r,a]=q.useState(45),[l,o]=q.useState(!1),[c,h]=q.useState("x"),[u,f]=q.useState(90),x=550,b=400,M=m=>{const g=Math.cos(m),E=Math.sin(m);return[[1,0,0],[0,g,-E],[0,E,g]]},y=m=>{const g=Math.cos(m),E=Math.sin(m);return[[g,0,E],[0,1,0],[-E,0,g]]},T=m=>{const g=Math.cos(m),E=Math.sin(m);return[[g,-E,0],[E,g,0],[0,0,1]]},S=(m,g)=>{const E=g*Math.PI/180;switch(m){case"x":return M(E);case"y":return y(E);case"z":return T(E)}},N=(m,g)=>{const E=[[0,0,0],[0,0,0],[0,0,0]];for(let v=0;v<3;v++)for(let p=0;p<3;p++)for(let A=0;A<3;A++)E[v][p]+=m[v][A]*g[A][p];return E},j=(m,g)=>[m[0][0]*g[0]+m[0][1]*g[1]+m[0][2]*g[2],m[1][0]*g[0]+m[1][1]*g[1]+m[1][2]*g[2],m[2][0]*g[0]+m[2][1]*g[1]+m[2][2]*g[2]];return q.useEffect(()=>{const m=e.current;if(!m)return;const g=m.getContext("2d");if(!g)return;g.fillStyle="#0f172a",g.fillRect(0,0,x,b);const E=x/2,v=b/2,p=100,A=N(M(-.4),y(.5)),w=Ce=>{const Ae=j(A,Ce);return[E+Ae[0]*p,v-Ae[1]*p]};g.strokeStyle="#334155",g.lineWidth=1;for(let Ce=0;Ce<360;Ce+=30){g.beginPath();for(let Ae=-90;Ae<=90;Ae+=5){const Fe=Ce*Math.PI/180,Be=Ae*Math.PI/180,at=Math.cos(Be)*Math.cos(Fe),Ue=Math.cos(Be)*Math.sin(Fe),et=Math.sin(Be),[_e,$e]=w([at,Ue,et]);Ae===-90?g.moveTo(_e,$e):g.lineTo(_e,$e)}g.stroke()}for(let Ce=-60;Ce<=60;Ce+=30){g.beginPath();for(let Ae=0;Ae<=360;Ae+=5){const Fe=Ae*Math.PI/180,Be=Ce*Math.PI/180,at=Math.cos(Be)*Math.cos(Fe),Ue=Math.cos(Be)*Math.sin(Fe),et=Math.sin(Be),[_e,$e]=w([at,Ue,et]);Ae===0?g.moveTo(_e,$e):g.lineTo(_e,$e)}g.stroke()}const k=1.3;[[[k,0,0],"#ef4444","x"],[[0,k,0],"#22c55e","y"],[[0,0,k],"#3b82f6","z"]].forEach(([Ce,Ae,Fe])=>{const[Be,at]=w(Ce);g.strokeStyle=Ae,g.lineWidth=2,g.beginPath(),g.moveTo(E,v),g.lineTo(Be,at),g.stroke(),g.fillStyle=Ae,g.font="bold 14px sans-serif",g.fillText(Fe,Be+5,at-5)});const I=S(n,r),$=n==="x"?[1,0,0]:n==="y"?[0,1,0]:[0,0,1],[B,G]=w($.map(Ce=>Ce*1.5)),[V,J]=w($.map(Ce=>Ce*-1.5));g.strokeStyle="#f59e0b",g.lineWidth=3,g.setLineDash([5,5]),g.beginPath(),g.moveTo(V,J),g.lineTo(B,G),g.stroke(),g.setLineDash([]),g.fillStyle="#f59e0b",g.font="12px sans-serif",g.fillText("rotation axis",B+10,G);const ee=[.8,.4,.45],re=Math.sqrt(ee[0]**2+ee[1]**2+ee[2]**2),se=ee.map(Ce=>Ce/re),he=j(I,se),[ae,Ne]=w(se);g.fillStyle="#60a5fa",g.beginPath(),g.arc(ae,Ne,8,0,Math.PI*2),g.fill(),g.font="bold 12px sans-serif",g.fillText("P",ae+10,Ne);const[Te,tt]=w(he);g.fillStyle="#ec4899",g.beginPath(),g.arc(Te,tt,8,0,Math.PI*2),g.fill(),g.fillText("P'",Te+10,tt),g.strokeStyle="rgba(236, 72, 153, 0.5)",g.lineWidth=2,g.beginPath();for(let Ce=0;Ce<=1;Ce+=.05){const Ae=S(n,r*Ce),Fe=j(Ae,se),[Be,at]=w(Fe);Ce===0?g.moveTo(Be,at):g.lineTo(Be,at)}if(g.stroke(),l){const Ce=S(c,u),Ae=N(I,Ce),Fe=N(Ce,I),Be=j(Ae,se),at=j(Fe,se),[Ue,et]=w(Be);g.fillStyle="#22c55e",g.beginPath(),g.arc(Ue,et,6,0,Math.PI*2),g.fill(),g.font="11px sans-serif",g.fillText("RR(P)",Ue+8,et-5);const[_e,$e]=w(at);g.fillStyle="#8b5cf6",g.beginPath(),g.arc(_e,$e,6,0,Math.PI*2),g.fill(),g.fillText("RR(P)",_e+8,$e+15);const Ht=Math.sqrt((Be[0]-at[0])**2+(Be[1]-at[1])**2+(Be[2]-at[2])**2)<.01;g.fillStyle=Ht?"#22c55e":"#ef4444",g.font="12px sans-serif",g.fillText(Ht?" RR = RR":" RR  RR",20,b-20)}g.fillStyle="#e2e8f0",g.font="bold 14px sans-serif",g.fillText(`Rotation R${n.toUpperCase()}(${r})`,20,30),l&&(g.fillStyle="#94a3b8",g.font="12px sans-serif",g.fillText(`R = R${c.toUpperCase()}(${u})`,20,50))},[n,r,l,c,u]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Rotation Group SO(3)"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:x,height:b,className:"border border-slate-700 rounded"})}),i.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:["x","y","z"].map(m=>i.jsxs("button",{onClick:()=>s(m),className:`px-4 py-2 text-sm rounded transition ${n===m?"bg-amber-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:["Rotate about ",m.toUpperCase(),"-axis"]},m))}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Angle: ",r,""]}),i.jsx("input",{type:"range",min:"0",max:"360",value:r,onChange:m=>a(parseInt(m.target.value)),className:"w-full"})]}),i.jsx("div",{className:"mb-4",children:i.jsxs("button",{onClick:()=>o(!l),className:`px-4 py-2 text-sm rounded transition ${l?"bg-purple-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[l?"Hide":"Show"," Non-Commutativity"]})}),l&&i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-400 mb-1",children:"Second axis"}),i.jsxs("select",{value:c,onChange:m=>h(m.target.value),className:"w-full bg-slate-700 text-slate-200 rounded px-3 py-2",children:[i.jsx("option",{value:"x",children:"X-axis"}),i.jsx("option",{value:"y",children:"Y-axis"}),i.jsx("option",{value:"z",children:"Z-axis"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Second angle: ",u,""]}),i.jsx("input",{type:"range",min:"0",max:"360",value:u,onChange:m=>f(parseInt(m.target.value)),className:"w-full"})]})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Key Properties of SO(3):"})}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsx("li",{children:"SO(3) = 33 orthogonal matrices with det = 1"}),i.jsxs("li",{children:[i.jsx("span",{className:"text-amber-400",children:"Non-commutative"}),": RR  RR in general"]}),i.jsx("li",{children:"Every rotation has an axis and angle (axis-angle representation)"}),i.jsxs("li",{children:["Every rotation = product of ",i.jsx("span",{className:"text-green-400",children:"two reflections"})]}),i.jsx("li",{children:"SO(3)  P topologically"})]})]})]})}function fZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(0),[r,a]=q.useState(0),[l,o]=q.useState(1),[c,h]=q.useState(90),[u,f]=q.useState(!1),[x,b]=q.useState(90),[M,y]=q.useState(1),[T,S]=q.useState(0),[N,j]=q.useState(0),m=550,g=400,E=(I,$,B)=>{const G=Math.sqrt(I*I+$*$+B*B);return G<.001?[0,0,1]:[I/G,$/G,B/G]},v=(I,$,B,G)=>{const[V,J,ee]=E(I,$,B),re=G*Math.PI/360,se=Math.sin(re);return[Math.cos(re),V*se,J*se,ee*se]},p=(I,$)=>{const[B,G,V,J]=I,[ee,re,se,he]=$;return[B*ee-G*re-V*se-J*he,B*re+G*ee+V*he-J*se,B*se-G*he+V*ee+J*re,B*he+G*se-V*re+J*ee]},A=I=>[I[0],-I[1],-I[2],-I[3]],w=(I,$)=>{const B=[0,$[0],$[1],$[2]],G=A(I),V=p(p(I,B),G);return[V[1],V[2],V[3]]},k=v(n,r,l,c),D=v(M,T,N,x);return q.useEffect(()=>{const I=e.current;if(!I)return;const $=I.getContext("2d");if(!$)return;$.fillStyle="#0f172a",$.fillRect(0,0,m,g);const B=m/2,G=g/2,V=90,J=-.4,ee=.6,re=_e=>{const $e=Math.cos(ee),qt=Math.sin(ee),Ht=Math.cos(J),kt=Math.sin(J);let dn=_e[0]*$e+_e[2]*qt,di=-_e[0]*qt+_e[2]*$e,fi=_e[1]*Ht-di*kt;return di=_e[1]*kt+di*Ht,[B+dn*V,G-fi*V]},se=1.4;[[[se,0,0],"#ef4444","x (i)"],[[0,se,0],"#22c55e","y (j)"],[[0,0,se],"#3b82f6","z (k)"]].forEach(([_e,$e,qt])=>{const[Ht,kt]=re(_e);$.strokeStyle=$e,$.lineWidth=2,$.beginPath(),$.moveTo(B,G),$.lineTo(Ht,kt),$.stroke(),$.fillStyle=$e,$.font="bold 12px sans-serif",$.fillText(qt,Ht+5,kt-5)});const[ae,Ne,Te]=E(n,r,l),tt=[ae*1.5,Ne*1.5,Te*1.5],[Ce,Ae]=re(tt),[Fe,Be]=re([-ae*1.5,-Ne*1.5,-Te*1.5]);$.strokeStyle="#f59e0b",$.lineWidth=3,$.setLineDash([5,5]),$.beginPath(),$.moveTo(Fe,Be),$.lineTo(Ce,Ae),$.stroke(),$.setLineDash([]),[[1,0,0],[0,1,0],[0,0,1],[.7,.7,0]].forEach((_e,$e)=>{const[qt,Ht]=re(_e);$.fillStyle="rgba(96, 165, 250, 0.6)",$.beginPath(),$.arc(qt,Ht,5,0,Math.PI*2),$.fill();const kt=w(k,_e),[dn,di]=re(kt);$.fillStyle="#ec4899",$.beginPath(),$.arc(dn,di,6,0,Math.PI*2),$.fill(),$.strokeStyle="rgba(236, 72, 153, 0.3)",$.lineWidth=1,$.beginPath();for(let fi=0;fi<=1;fi+=.05){const Jr=v(n,r,l,c*fi),or=w(Jr,_e),[Xi,zi]=re(or);fi===0?$.moveTo(Xi,zi):$.lineTo(Xi,zi)}if($.stroke(),u){const fi=w(D,kt),[Jr,or]=re(fi);$.fillStyle="#22c55e",$.beginPath(),$.arc(Jr,or,5,0,Math.PI*2),$.fill();const Xi=w(D,_e),zi=w(k,Xi),[Ot,St]=re(zi);$.fillStyle="#8b5cf6",$.beginPath(),$.arc(Ot,St,5,0,Math.PI*2),$.fill()}}),$.fillStyle="#e2e8f0",$.font="bold 14px sans-serif",$.fillText("Quaternion Representation",20,30),$.font="12px monospace",$.fillStyle="#f59e0b",$.fillText(`q = ${k[0].toFixed(3)} + ${k[1].toFixed(3)}i + ${k[2].toFixed(3)}j + ${k[3].toFixed(3)}k`,20,50),$.fillStyle="#94a3b8",$.font="11px sans-serif";const Ue=(c/2).toFixed(1);$.fillText(`q = cos(${Ue}) + sin(${Ue})(ni + nj + nk)`,20,70);const et=Math.sqrt(k[0]**2+k[1]**2+k[2]**2+k[3]**2);if($.fillStyle=Math.abs(et-1)<.01?"#22c55e":"#ef4444",$.fillText(`|q| = ${et.toFixed(4)} (unit quaternion)`,20,90),u){$.fillStyle="#8b5cf6",$.font="11px sans-serif",$.fillText(`q = ${D[0].toFixed(2)} + ${D[1].toFixed(2)}i + ${D[2].toFixed(2)}j + ${D[3].toFixed(2)}k`,20,110);const _e=p(k,D),$e=p(D,k);$.fillStyle="#22c55e",$.fillText(`qq = ${_e[0].toFixed(2)} + ${_e[1].toFixed(2)}i + ${_e[2].toFixed(2)}j + ${_e[3].toFixed(2)}k`,20,130),$.fillStyle="#8b5cf6",$.fillText(`qq = ${$e[0].toFixed(2)} + ${$e[1].toFixed(2)}i + ${$e[2].toFixed(2)}j + ${$e[3].toFixed(2)}k`,20,150);const qt=Math.abs(_e[0]-$e[0])<.01&&Math.abs(_e[1]-$e[1])<.01&&Math.abs(_e[2]-$e[2])<.01&&Math.abs(_e[3]-$e[3])<.01;$.fillStyle=qt?"#22c55e":"#ef4444",$.fillText(qt?" qq = qq":" qq  qq",20,170)}$.fillStyle="#60a5fa",$.font="11px sans-serif",$.fillText(" Original",m-100,30),$.fillStyle="#ec4899",$.fillText(" q(P)",m-100,50),u&&($.fillStyle="#22c55e",$.fillText(" qq(P)",m-100,70),$.fillStyle="#8b5cf6",$.fillText(" qq(P)",m-100,90))},[n,r,l,c,u,x,M,T,N,k,D]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Quaternion Rotations"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:m,height:g,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-red-400 mb-1",children:["Axis x: ",n.toFixed(1)]}),i.jsx("input",{type:"range",min:"-1",max:"1",step:"0.1",value:n,onChange:I=>s(parseFloat(I.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-green-400 mb-1",children:["Axis y: ",r.toFixed(1)]}),i.jsx("input",{type:"range",min:"-1",max:"1",step:"0.1",value:r,onChange:I=>a(parseFloat(I.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-blue-400 mb-1",children:["Axis z: ",l.toFixed(1)]}),i.jsx("input",{type:"range",min:"-1",max:"1",step:"0.1",value:l,onChange:I=>o(parseFloat(I.target.value)),className:"w-full"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Rotation angle: ",c,""]}),i.jsx("input",{type:"range",min:"0",max:"360",value:c,onChange:I=>h(parseInt(I.target.value)),className:"w-full"})]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[i.jsx("button",{onClick:()=>{s(0),a(0),o(1)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Z-axis"}),i.jsx("button",{onClick:()=>{s(1),a(0),o(0)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"X-axis"}),i.jsx("button",{onClick:()=>{s(0),a(1),o(0)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Y-axis"}),i.jsxs("button",{onClick:()=>f(!u),className:`px-3 py-2 text-sm rounded transition ${u?"bg-purple-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[u?"Hide":"Show"," Composition"]})]}),u&&i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded mb-4",children:[i.jsx("p",{className:"text-sm text-purple-400 font-semibold mb-2",children:"Second rotation q:"}),i.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-slate-400",children:"n_x"}),i.jsx("input",{type:"range",min:"-1",max:"1",step:"0.5",value:M,onChange:I=>y(parseFloat(I.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-slate-400",children:"n_y"}),i.jsx("input",{type:"range",min:"-1",max:"1",step:"0.5",value:T,onChange:I=>S(parseFloat(I.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs text-slate-400",children:"n_z"}),i.jsx("input",{type:"range",min:"-1",max:"1",step:"0.5",value:N,onChange:I=>j(parseFloat(I.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-xs text-slate-400",children:[x,""]}),i.jsx("input",{type:"range",min:"0",max:"360",value:x,onChange:I=>b(parseInt(I.target.value)),className:"w-full"})]})]})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Key Properties:"})}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsx("li",{children:"q = cos(/2) + sin(/2)(ni + nj + nk) for rotation by  about n"}),i.jsxs("li",{children:["Note the ",i.jsx("span",{className:"text-amber-400",children:"half angle /2"})," in the formula"]}),i.jsxs("li",{children:["q and q represent the ",i.jsx("strong",{children:"same rotation"})]}),i.jsx("li",{children:"Composition: RR  qq (quaternion multiplication)"}),i.jsx("li",{children:"Unit quaternions S map 2-to-1 onto SO(3)"})]})]})]})}function mZ(){return i.jsxs(qe,{sectionId:48,children:[i.jsx("h2",{children:"The Group of Isometries of the Plane"}),i.jsx("p",{children:"In this chapter, we go back to the ideas of Felix Klein and take another look at what we have learned from the viewpoint of transformation groups. We have seen that different kinds of transformation group determine different kinds of geometryEuclidean, affine, or projectivedepending on whether the transformations preserve length, parallelism, or collinearity."}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Klein's Vision:"})," Felix Klein proposed in 1872 that each type of geometry can be characterized by its group of transformations. The properties of each geometry are precisely those preserved by its transformation group."]}),i.jsx("h3",{children:"Definition of Isometries"}),i.jsxs(xe,{title:"Isometry",children:[i.jsxs("p",{children:["An ",i.jsx("strong",{children:"isometry"})," of the Euclidean plane  is a function f :    that preserves distance. That is, for any two points P and Q:"]}),i.jsx(Y,{children:"|f(P) - f(Q)| = |P - Q|"}),i.jsx("p",{className:"mt-2",children:"In other words, isometries are distance-preserving maps."})]}),i.jsxs("p",{children:["The isometries of  form a group under composition of functions, called the ",i.jsx("strong",{children:"isometry group"})," of the plane. We denote this group by Isom()."]}),i.jsx("h3",{children:"The Group Structure"}),i.jsxs("p",{children:["A ",i.jsx("strong",{children:"group of transformations"})," of a space S is a collection G of functions on S with the following properties:"]}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsx("li",{children:"If f, g  G, then fg  G (closure under composition)"}),i.jsx("li",{children:"If f  G, then f  G (closure under inverses)"})]})}),i.jsx("p",{children:'The "product" fg of f and g is the composite function, defined by fg(x) = f(g(x)). Composition is always associative: (fg)h = f(gh).'}),i.jsx("h3",{children:"Types of Isometries"}),i.jsx("p",{children:"The isometries of the plane fall into several important types:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Basic Isometries"}),i.jsxs("ul",{className:"list-disc list-inside space-y-3",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Reflections:"})," Mirror reflections in a line L. A reflection fixes every point on L and maps each point P not on L to a point P' such that L is the perpendicular bisector of PP'."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Rotations:"})," Rotation about a point O through an angle . Every point moves along a circular arc centered at O."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Translations:"})," Shifting every point by a fixed vector v. The map P  P + v."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Glide reflections:"})," A reflection followed by a translation parallel to the line of reflection."]})]})]}),i.jsxs(ue,{title:"Classification of Isometries",children:[i.jsx("p",{children:"Every isometry of the plane is one of the following:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"A rotation (including the identity, which is rotation by 0)"}),i.jsx("li",{children:"A translation"}),i.jsx("li",{children:"A reflection"}),i.jsx("li",{children:"A glide reflection"})]})]}),i.jsx("h3",{children:"Orientation-Preserving Isometries"}),i.jsx(xe,{title:"Orientation",children:i.jsxs("p",{children:["An isometry is ",i.jsx("strong",{children:"orientation-preserving"})," if it maps a counterclockwise triple of points to a counterclockwise triple. Otherwise, it is ",i.jsx("strong",{children:"orientation-reversing"}),"."]})}),i.jsx("p",{children:"The orientation-preserving isometries form a subgroup of Isom(), denoted Isom(). This subgroup consists exactly of the rotations and translations."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Orientation Classification"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Orientation-preserving:"})," Rotations and translations"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Orientation-reversing:"})," Reflections and glide reflections"]})]})]}),i.jsx("h3",{children:"Products of Reflections"}),i.jsx("p",{children:"A fundamental fact about isometries is that they can all be expressed as products of reflections."}),i.jsxs(ue,{title:"Three Reflections Theorem",children:[i.jsx("p",{children:"Every isometry of the plane is a product of at most three reflections."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"Moreover:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 text-slate-300 space-y-1",children:[i.jsx("li",{children:"A product of two reflections is a rotation or translation"}),i.jsx("li",{children:"A product of one or three reflections is a reflection or glide reflection"})]})]}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Key Insight:"})," When two reflection lines intersect at a point O with angle  between them, their product is a rotation about O through angle 2. When two reflection lines are parallel, their product is a translation perpendicular to the lines by twice the distance between them."]}),i.jsx("h3",{children:"The Rotation Subgroup"}),i.jsx("p",{children:"The rotations about a fixed point O form a subgroup of Isom(). This is because the product of two rotations about O is another rotation about O, and the inverse of a rotation about O is also a rotation about O."}),i.jsx(Y,{children:"r_{\\theta_1} \\circ r_{\\theta_2} = r_{\\theta_1 + \\theta_2}"}),i.jsx("p",{children:"The group of all rotations about O is isomorphic to the circle group S, also known as SO(2)."}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.1.1"}),i.jsx("p",{className:"text-slate-300",children:"Prove that the product of reflections in two lines meeting at angle  is a rotation through angle 2."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.1.2"}),i.jsx("p",{className:"text-slate-300",children:"Prove that the product of reflections in two parallel lines at distance d apart is a translation through distance 2d."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.1.3"}),i.jsx("p",{className:"text-slate-300",children:"Show that the product of a rotation about O and a translation is a rotation about some other point O'."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.1.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that a rotation is a product of two reflections, and hence that every orientation-preserving isometry is a product of two reflections."})]}),i.jsx(hZ,{className:"my-6"}),i.jsx(Re,{sectionId:48,questions:Xe[48]||[],title:"The Group of Isometries of the Plane Quiz"})]})}function pZ(){return i.jsxs(qe,{sectionId:49,children:[i.jsx("h2",{children:"Vector Transformations"}),i.jsx("p",{children:"In this section, we study how transformations of the plane can be represented algebraically using matrices. This connection between geometry and algebra is fundamental to modern mathematics and has important applications in computer graphics, physics, and engineering."}),i.jsx("h3",{children:"Linear Transformations"}),i.jsxs(xe,{title:"Linear Transformation",children:[i.jsxs("p",{children:["A ",i.jsx("strong",{children:"linear transformation"})," of  is a function T :    that satisfies:"]}),i.jsx(Y,{children:"T(\\mathbf{u} + \\mathbf{v}) = T(\\mathbf{u}) + T(\\mathbf{v})"}),i.jsx(Y,{children:"T(c\\mathbf{u}) = cT(\\mathbf{u})"}),i.jsx("p",{className:"mt-2",children:"for all vectors u, v   and all scalars c  ."})]}),i.jsx("p",{children:"A key property of linear transformations is that they fix the origin: T(0) = 0. They also preserve lines through the originif L is a line through O, then T(L) is also a line through O (or the point O itself)."}),i.jsx("h3",{children:"Matrix Representation"}),i.jsx("p",{children:"Every linear transformation of  can be represented by a 22 matrix. If T sends the basis vectors e = (1, 0) and e = (0, 1) to vectors (a, c) and (b, d) respectively, then T is represented by the matrix:"}),i.jsx(Y,{children:"A = \\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix}"}),i.jsx("p",{children:"The transformation T acts on a vector v = (x, y) by matrix multiplication:"}),i.jsx(Y,{children:"T\\begin{pmatrix} x \\\\ y \\end{pmatrix} = \\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix} \\begin{pmatrix} x \\\\ y \\end{pmatrix} = \\begin{pmatrix} ax + by \\\\ cx + dy \\end{pmatrix}"}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Composition and Multiplication:"})," The composition of two linear transformations corresponds to matrix multiplication. If T is represented by A and T is represented by A, then T  T is represented by AA."]}),i.jsx("h3",{children:"Examples of Linear Transformations"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Rotation by angle  about O"}),i.jsx(Y,{children:"R_\\theta = \\begin{pmatrix} \\cos\\theta & -\\sin\\theta \\\\ \\sin\\theta & \\cos\\theta \\end{pmatrix}"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Reflection in the x-axis"}),i.jsx(Y,{children:"\\begin{pmatrix} 1 & 0 \\\\ 0 & -1 \\end{pmatrix}"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Scaling by factor k"}),i.jsx(Y,{children:"\\begin{pmatrix} k & 0 \\\\ 0 & k \\end{pmatrix}"})]}),i.jsx("h3",{children:"Affine Transformations"}),i.jsxs("p",{children:["Linear transformations fix the origin, so they cannot represent translations. To handle translations, we use ",i.jsx("strong",{children:"affine transformations"}),"."]}),i.jsxs(xe,{title:"Affine Transformation",children:[i.jsxs("p",{children:["An ",i.jsx("strong",{children:"affine transformation"})," of  is a function of the form:"]}),i.jsx(Y,{children:"\\mathbf{v} \\mapsto A\\mathbf{v} + \\mathbf{b}"}),i.jsx("p",{className:"mt-2",children:"where A is a 22 matrix and b is a translation vector."})]}),i.jsx("p",{children:"Affine transformations preserve collinearity (points on a line map to points on a line) and ratios of distances along a line. They form the transformation group of affine geometry."}),i.jsx("h3",{children:"Homogeneous Coordinates for Affine Maps"}),i.jsxs("p",{children:["A clever technique allows us to represent affine transformations as linear transformations of a higher-dimensional space using",i.jsx("strong",{children:" homogeneous coordinates"}),"."]}),i.jsx("p",{children:"We represent the point (x, y) by the triple (x, y, 1) in . Then an affine transformation can be written as a 33 matrix:"}),i.jsx(Y,{children:"\\begin{pmatrix} x' \\\\ y' \\\\ 1 \\end{pmatrix} = \\begin{pmatrix} a & b & t_x \\\\ c & d & t_y \\\\ 0 & 0 & 1 \\end{pmatrix} \\begin{pmatrix} x \\\\ y \\\\ 1 \\end{pmatrix}"}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Key Advantage:"})," With homogeneous coordinates, composition of affine transformations (including translations) is simply matrix multiplication. This makes computation much more efficient and uniform."]}),i.jsx("h3",{children:"Orthogonal Matrices"}),i.jsxs("p",{children:["The linear isometries (distance-preserving linear maps) are exactly those represented by ",i.jsx("strong",{children:"orthogonal matrices"}),"."]}),i.jsxs(xe,{title:"Orthogonal Matrix",children:[i.jsxs("p",{children:["A matrix A is ",i.jsx("strong",{children:"orthogonal"})," if A^T A = I, where A^T is the transpose of A and I is the identity matrix."]}),i.jsx("p",{className:"mt-2",children:"Equivalently, A is orthogonal if its columns form an orthonormal basis."})]}),i.jsxs(ue,{title:"Orthogonal Matrices and Isometries",children:[i.jsx("p",{children:"A linear transformation T :    is an isometry if and only if its matrix is orthogonal. Moreover:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"If det(A) = 1, then T is a rotation"}),i.jsx("li",{children:"If det(A) = 1, then T is a reflection"})]})]}),i.jsx("h3",{children:"The Groups O(2) and SO(2)"}),i.jsx("p",{children:"The set of all 22 orthogonal matrices forms a group called O(2). The subset with determinant 1 forms a subgroup called SO(2)."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Group Structure"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"O(2)"}),": All orthogonal 22 matrices (rotations and reflections)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"SO(2)"}),": Orthogonal matrices with det = 1 (rotations only)"]})]}),i.jsx("p",{className:"text-slate-300 mt-3",children:"SO(2) is isomorphic to the circle group S, since each rotation corresponds to a unique angle   [0, 2)."})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.2.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that the composition of rotations R_ and R_ equals R_(+) by multiplying their matrices."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.2.2"}),i.jsx("p",{className:"text-slate-300",children:"Find the matrix for reflection in the line y = x."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.2.3"}),i.jsx("p",{className:"text-slate-300",children:"Verify that the product of two reflections in lines through O, meeting at angle , gives the rotation matrix R_(2)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.2.4"}),i.jsx("p",{className:"text-slate-300",children:"Write the 33 homogeneous matrix for the translation (x, y)  (x + 3, y  2) followed by rotation by 90 about the origin."})]}),i.jsx(uZ,{className:"my-6"}),i.jsx(Re,{sectionId:49,questions:Xe[49]||[],title:"Vector Transformations Quiz"})]})}function xZ(){return i.jsxs(qe,{sectionId:50,children:[i.jsx("h2",{children:"Transformations of the Projective Line"}),i.jsxs("p",{children:["In Section 5.6, we found that the transformations of the real projective line P are the ",i.jsx("strong",{children:"linear fractional functions"}),". These are a natural generalization of linear functions, and they can be elegantly represented using matrices."]}),i.jsx("h3",{children:"Linear Fractional Functions"}),i.jsxs(xe,{title:"Linear Fractional Function",children:[i.jsxs("p",{children:["A ",i.jsx("strong",{children:"linear fractional function"})," (also called a Mbius transformation) is a function of the form:"]}),i.jsx(Y,{children:"f(x) = \\frac{ax + b}{cx + d}"}),i.jsx("p",{className:"mt-2",children:"where a, b, c, d are real numbers with ad  bc  0."})]}),i.jsx("p",{children:"The condition ad  bc  0 ensures that f is not a constant function. When c = 0, we get the ordinary linear (affine) functions of the line. When c  0, f maps  to a/c and maps d/c to ."}),i.jsx("h3",{children:"Matrix Representation"}),i.jsx("p",{children:"Linear fractional functions can be represented by 22 matrices in a beautiful way. The function f(x) = (ax + b)/(cx + d) corresponds to the matrix:"}),i.jsx(Y,{children:"A = \\begin{pmatrix} a & b \\\\ c & d \\end{pmatrix}"}),i.jsxs(ue,{title:"Composition and Matrix Multiplication",children:[i.jsx("p",{children:"If f corresponds to matrix A and g corresponds to matrix B, then the composition f  g corresponds to the matrix product AB."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"This correspondence respects the group operation: composing linear fractional functions is the same as multiplying their matrices."})]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Homogeneous Coordinates:"})," The matrix representation arises naturally from viewing P as the space of lines through O in . A point x on the line corresponds to the point (x, 1) in the plane, or more generally to any point (x, ) for   0. The point  corresponds to points (1, 0) or (, 0)."]}),i.jsx("h3",{children:"The Group PGL(2, )"}),i.jsxs("p",{children:["The group of all linear fractional transformations of P is denoted PGL(2, )  the ",i.jsx("strong",{children:"projective general linear group"}),"."]}),i.jsxs(xe,{title:"PGL(2, )",children:[i.jsx("p",{children:"The group PGL(2, ) consists of all invertible 22 matrices over , where two matrices are considered equivalent if one is a nonzero scalar multiple of the other:"}),i.jsx(Y,{children:"A \\sim \\lambda A \\quad \\text{for } \\lambda \\neq 0"}),i.jsx("p",{className:"mt-2",children:"This is because the functions corresponding to A and A are identical."})]}),i.jsx("h3",{children:"Generating Transformations"}),i.jsx("p",{children:"Every linear fractional transformation is a composition of three basic types:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Generating Transformations"}),i.jsxs("ul",{className:"list-disc list-inside space-y-3",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Translation:"})," x  x + l",i.jsx(Y,{children:"\\begin{pmatrix} 1 & l \\\\ 0 & 1 \\end{pmatrix}"})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Scaling:"})," x  kx (for k  0)",i.jsx(Y,{children:"\\begin{pmatrix} k & 0 \\\\ 0 & 1 \\end{pmatrix}"})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Inversion:"})," x  1/x",i.jsx(Y,{children:"\\begin{pmatrix} 0 & 1 \\\\ 1 & 0 \\end{pmatrix}"})]})]})]}),i.jsx("h3",{children:"Cross-Ratio Invariance"}),i.jsxs("p",{children:["The most important invariant of linear fractional transformations is the ",i.jsx("strong",{children:"cross-ratio"}),"."]}),i.jsxs(xe,{title:"Cross-Ratio",children:[i.jsx("p",{children:"The cross-ratio of four points a, b, c, d on P is:"}),i.jsx(Y,{children:"(a, b; c, d) = \\frac{(a - c)(b - d)}{(a - d)(b - c)}"})]}),i.jsxs(ue,{title:"Cross-Ratio Invariance",children:[i.jsx("p",{children:"Linear fractional transformations preserve the cross-ratio:"}),i.jsx(Y,{children:"(f(a), f(b); f(c), f(d)) = (a, b; c, d)"}),i.jsx("p",{className:"mt-2 text-slate-300",children:"This is the fundamental invariant of projective geometry on the line."})]}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Three-Point Determination:"})," A linear fractional transformation is completely determined by its action on any three points. Given three distinct points and their images, there is a unique linear fractional transformation mapping one triple to the other."]}),i.jsx("h3",{children:"Fixed Points"}),i.jsx("p",{children:"The fixed points of a linear fractional transformation f(x) = (ax + b)/(cx + d) are the solutions to f(x) = x, which gives the quadratic equation:"}),i.jsx(Y,{children:"cx^2 + (d - a)x - b = 0"}),i.jsx("p",{children:"A transformation can have 0, 1, or 2 fixed points (counting ):"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Two fixed points:"})," Called ",i.jsx("em",{children:"hyperbolic"})," or ",i.jsx("em",{children:"elliptic"})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"One fixed point:"})," Called ",i.jsx("em",{children:"parabolic"})," (translations)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"All points fixed:"})," The identity transformation"]})]})}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.3.1"}),i.jsx("p",{className:"text-slate-300",children:"Verify that f(x) = (2x + 1)/(x + 1) and g(x) = (x + 3)/(2x  1) satisfy (f  g)(x) corresponding to the matrix product of their matrices."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.3.2"}),i.jsx("p",{className:"text-slate-300",children:"Find the unique linear fractional transformation that maps 0  1, 1  0, and   ."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.3.3"}),i.jsx("p",{className:"text-slate-300",children:"Compute the cross-ratio (0, 1; 2, ) and verify it is preserved by the transformation x  2x."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.3.4"}),i.jsx("p",{className:"text-slate-300",children:"Find the fixed points of f(x) = (2x + 1)/(x + 2) and classify the transformation."})]}),i.jsx(lZ,{className:"my-6"}),i.jsx(oZ,{className:"my-6"}),i.jsx(Re,{sectionId:50,questions:Xe[50]||[],title:"Transformations of the Projective Line Quiz"})]})}function gZ(){return i.jsxs(qe,{sectionId:51,children:[i.jsx("h2",{children:"Spherical Geometry"}),i.jsxs("p",{children:["We now turn from the plane to a surface with quite different properties: the ",i.jsx("strong",{children:"2-sphere"})," S. This is the surface of a ball in , and it provides an important example of non-Euclidean geometry."]}),i.jsxs(xe,{title:"The 2-Sphere",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"2-sphere"})," S is the set of points in  at distance 1 from the origin:"]}),i.jsx(Y,{children:"S^2 = \\{(x, y, z) \\in \\mathbb{R}^3 : x^2 + y^2 + z^2 = 1\\}"}),i.jsx("p",{className:"mt-2",children:"More generally, a sphere of radius r centered at the origin is the set of points at distance r from O."})]}),i.jsx("h3",{children:'Great Circles as "Lines"'}),i.jsxs("p",{children:["On the sphere, the natural analogues of straight lines are",i.jsx("strong",{children:" great circles"}),"."]}),i.jsx(xe,{title:"Great Circle",children:i.jsxs("p",{children:["A ",i.jsx("strong",{children:"great circle"})," on S is the intersection of S with a plane through the center O of the sphere. Great circles are the largest circles on the sphere and have the same radius as the sphere itself."]})}),i.jsx("p",{children:'Great circles serve as "lines" in spherical geometry because:'}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsx("li",{children:"Any two distinct points determine a unique great circle (unless they are antipodal)"}),i.jsx("li",{children:"Great circles are geodesics  the shortest paths between points on the sphere"}),i.jsx("li",{children:"Great circles have constant curvature and no preferred direction"})]})}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Antipodal Points:"})," Two points are ",i.jsx("em",{children:"antipodal"}),' if they are diametrically opposite on the sphere (like the North and South poles). Infinitely many great circles pass through any pair of antipodal points, so the axiom "two points determine a unique line" fails for antipodal points.']}),i.jsx("h3",{children:"Differences from Euclidean Geometry"}),i.jsx("p",{children:"Spherical geometry differs from Euclidean geometry in several fundamental ways:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Key Differences"}),i.jsxs("ul",{className:"list-disc list-inside space-y-3",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"No parallel lines:"})," Any two great circles intersect (at two antipodal points)."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Finite lines:"})," Great circles have finite length (2r), unlike infinite Euclidean lines."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Angle sum of triangles:"})," The angles of a spherical triangle sum to more than 180."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Area determines angle excess:"})," The amount by which the angle sum exceeds 180 is proportional to the triangle's area."]})]})]}),i.jsx("h3",{children:"Isometries of the Sphere"}),i.jsx(xe,{title:"Spherical Isometry",children:i.jsxs("p",{children:["An ",i.jsx("strong",{children:"isometry"})," of S is a distance-preserving map from S to itself, where distance is measured along great circles (geodesic distance)."]})}),i.jsx("p",{children:"The isometries of S form a group Isom(S), and they have a beautiful characterization."}),i.jsxs(ue,{title:"Isometries of S are Orthogonal",children:[i.jsx("p",{children:"Every isometry of S is the restriction to S of an orthogonal transformation of . In other words:"}),i.jsx(Y,{children:"\\text{Isom}(S^2) \\cong O(3)"}),i.jsx("p",{className:"mt-2 text-slate-300",children:"The isometry group of the sphere is isomorphic to the group of 33 orthogonal matrices."})]}),i.jsx("h3",{children:"Reflections in Great Circles"}),i.jsxs("p",{children:["Just as in the plane, reflections play a fundamental role. A",i.jsx("strong",{children:" reflection"})," of S in a great circle C is the restriction to S of reflection of  in the plane containing C."]}),i.jsxs(ue,{title:"Three Reflections Theorem for S",children:[i.jsx("p",{children:"Every isometry of S is a product of at most three reflections in great circles."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"This is the spherical analogue of the three reflections theorem for the plane."})]}),i.jsx("h3",{children:"Rotations of the Sphere"}),i.jsxs("p",{children:["The product of two reflections in great circles is a ",i.jsx("strong",{children:"rotation"}),"of S about an axis through the center O."]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Key Insight:"})," If two great circles intersect at points P and P' (which are antipodal), then the product of reflections in these circles is a rotation about the axis through P and P'. The angle of rotation is twice the angle between the great circles."]}),i.jsxs(xe,{title:"Orientation-Preserving Isometries",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"orientation-preserving isometries"})," of S are exactly the rotations. They form a subgroup:"]}),i.jsx(Y,{children:"\\text{Isom}^+(S^2) \\cong SO(3)"}),i.jsx("p",{className:"mt-2",children:"This is the group of 33 orthogonal matrices with determinant 1."})]}),i.jsx("h3",{children:"The Spherical Metric"}),i.jsxs("p",{children:["The natural distance on the sphere is the ",i.jsx("strong",{children:"great circle distance"}),": the length of the shorter arc of the great circle connecting two points."]}),i.jsx(Y,{children:"d(P, Q) = r \\cdot \\arccos(P \\cdot Q / r^2)"}),i.jsx("p",{children:"For the unit sphere (r = 1), this simplifies to:"}),i.jsx(Y,{children:"d(P, Q) = \\arccos(P \\cdot Q)"}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.4.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that the equator and any line of longitude are great circles, but lines of latitude (except the equator) are not."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.4.2"}),i.jsx("p",{className:"text-slate-300",children:"Find the angle sum of a spherical triangle whose vertices are the North pole, (1, 0, 0), and (0, 1, 0)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.4.3"}),i.jsx("p",{className:"text-slate-300",children:"Explain why any two great circles on S must intersect."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.4.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that the great circle distance between P = (1, 0, 0) and Q = (0, 1, 0) on the unit sphere is /2."})]}),i.jsx(cZ,{className:"my-6"}),i.jsx(Re,{sectionId:51,questions:Xe[51]||[],title:"Spherical Geometry Quiz"})]})}function yZ(){return i.jsxs(qe,{sectionId:52,children:[i.jsx("h2",{children:"The Rotation Group of the Sphere"}),i.jsxs("p",{children:["We now focus on the ",i.jsx("strong",{children:"rotation group"})," of the sphere  the group of orientation-preserving isometries of S. This group, denoted SO(3), is one of the most important groups in mathematics and physics."]}),i.jsx("h3",{children:"The Group SO(3)"}),i.jsxs(xe,{title:"SO(3)",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"special orthogonal group"})," SO(3) consists of all 33 orthogonal matrices with determinant 1:"]}),i.jsx(Y,{children:"SO(3) = \\{A \\in M_{3\\times 3}(\\mathbb{R}) : A^T A = I, \\det(A) = 1\\}"}),i.jsx("p",{className:"mt-2",children:"These are exactly the rotation matrices  they represent rotations of  about axes through the origin."})]}),i.jsx("p",{children:"Every rotation of  restricts to an isometry of S, and conversely, every orientation-preserving isometry of S extends to a rotation of . This gives us:"}),i.jsx(Y,{children:"\\text{Isom}^+(S^2) \\cong SO(3)"}),i.jsx("h3",{children:"Rotation Matrices"}),i.jsx("p",{children:"A rotation about the z-axis through angle  is represented by:"}),i.jsx(Y,{children:"R_z(\\theta) = \\begin{pmatrix} \\cos\\theta & -\\sin\\theta & 0 \\\\ \\sin\\theta & \\cos\\theta & 0 \\\\ 0 & 0 & 1 \\end{pmatrix}"}),i.jsx("p",{children:"Similarly, rotations about the x and y axes are:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx(Y,{children:"R_x(\\theta) = \\begin{pmatrix} 1 & 0 & 0 \\\\ 0 & \\cos\\theta & -\\sin\\theta \\\\ 0 & \\sin\\theta & \\cos\\theta \\end{pmatrix}"}),i.jsx(Y,{children:"R_y(\\theta) = \\begin{pmatrix} \\cos\\theta & 0 & \\sin\\theta \\\\ 0 & 1 & 0 \\\\ -\\sin\\theta & 0 & \\cos\\theta \\end{pmatrix}"})]}),i.jsx("h3",{children:"Products of Rotations"}),i.jsx("p",{children:"Understanding how rotations combine is crucial. Unlike in the plane, rotations in 3D do not commute in general."}),i.jsxs(ue,{title:"Product of Two Rotations",children:[i.jsx("p",{children:"The product of two rotations of S is another rotation. If r is rotation about axis A and r is rotation about axis A, then rr is rotation about some axis A."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"The axis A and the angle of rotation depend on both the axes and angles of r and r in a complex way."})]}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Non-Commutativity:"})," In general, rr  rr. The order of rotations matters in 3D! This is a fundamental difference from the group of rotations of the plane, which is abelian."]}),i.jsx("h3",{children:"Rotations as Products of Reflections"}),i.jsx("p",{children:"Every rotation of S is a product of exactly two reflections."}),i.jsx(ue,{title:"Rotation from Two Reflections",children:i.jsx("p",{children:"Let C and C be two great circles meeting at points P and P' (antipodal). If the angle between C and C is , then the product of reflections in C and C is rotation about the axis PP' through angle 2."})}),i.jsx("p",{children:"Conversely, any rotation can be decomposed into a product of two reflections in many ways."}),i.jsx("h3",{children:"The Axis-Angle Representation"}),i.jsxs(xe,{title:"Axis-Angle Representation",children:[i.jsx("p",{children:"Every rotation of S (other than the identity) can be uniquely described by:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsxs("li",{children:["An ",i.jsx("strong",{children:"axis"}),": a line through O, or equivalently a unit vector n"]}),i.jsxs("li",{children:["An ",i.jsx("strong",{children:"angle"}),":   (0, 2)"]})]}),i.jsx("p",{className:"mt-2",children:"The rotation is about the axis n through angle  (using the right-hand rule)."})]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Rodrigues' Formula:"})," The rotation of a vector v about axis n through angle  is given by:",i.jsx(Y,{children:"v' = v\\cos\\theta + (n \\times v)\\sin\\theta + n(n \\cdot v)(1 - \\cos\\theta)"})]}),i.jsx("h3",{children:"Topology of SO(3)"}),i.jsx("p",{children:"The group SO(3) has interesting topological properties. It can be parameterized by a solid ball of radius , where:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsx("li",{children:"The center represents the identity rotation"}),i.jsx("li",{children:"A point at distance  from the center in direction n represents rotation about n through angle "}),i.jsx("li",{children:"Antipodal points on the boundary (radius ) are identified, since rotation by  about n equals rotation by  about n"})]})}),i.jsxs(ue,{title:"SO(3) as P",children:[i.jsx("p",{children:"The group SO(3) is homeomorphic to the real projective space P."}),i.jsx("p",{className:"mt-2 text-slate-300",children:"This follows from identifying antipodal points on the boundary of the ball, which is exactly how P is constructed from the 3-ball."})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.5.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that R_z()R_z() = R_z( + ) by multiplying the matrices."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.5.2"}),i.jsx("p",{className:"text-slate-300",children:"Compute R_x(/2)R_z(/2) and R_z(/2)R_x(/2) to verify that rotations in 3D do not commute."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.5.3"}),i.jsx("p",{className:"text-slate-300",children:"Show that the product of two reflections in perpendicular great circles is a rotation by  (a half-turn) about their line of intersection."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.5.4"}),i.jsx("p",{className:"text-slate-300",children:"Use Rodrigues' formula to find the image of v = (1, 0, 0) under rotation by /2 about the axis n = (0, 0, 1)."})]}),i.jsx(dZ,{className:"my-6"}),i.jsx(Re,{sectionId:52,questions:Xe[52]||[],title:"The Rotation Group of the Sphere Quiz"})]})}function bZ(){return i.jsxs(qe,{sectionId:53,children:[i.jsx("h2",{children:"Representing Space Rotations by Quaternions"}),i.jsx("p",{children:"Quaternions provide an elegant and computationally efficient way to represent rotations in 3D space. This representation, discovered by William Rowan Hamilton in 1843, is widely used in computer graphics, robotics, and physics."}),i.jsx("h3",{children:"Review of Quaternions"}),i.jsxs(xe,{title:"Quaternions",children:[i.jsxs("p",{children:["A ",i.jsx("strong",{children:"quaternion"})," is a number of the form:"]}),i.jsx(Y,{children:"\\mathbf{q} = a\\mathbf{1} + b\\mathbf{i} + c\\mathbf{j} + d\\mathbf{k}"}),i.jsx("p",{className:"mt-2",children:"where a, b, c, d   and i, j, k satisfy the relations:"}),i.jsx(Y,{children:"\\mathbf{i}^2 = \\mathbf{j}^2 = \\mathbf{k}^2 = \\mathbf{ijk} = -1"})]}),i.jsx("p",{children:"From these relations, we derive the multiplication rules:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx(Y,{children:"\\mathbf{ij} = \\mathbf{k}, \\quad \\mathbf{jk} = \\mathbf{i}, \\quad \\mathbf{ki} = \\mathbf{j}"}),i.jsx(Y,{children:"\\mathbf{ji} = -\\mathbf{k}, \\quad \\mathbf{kj} = -\\mathbf{i}, \\quad \\mathbf{ik} = -\\mathbf{j}"})]}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Non-Commutativity:"})," Quaternion multiplication is not commutative: ij = k but ji = k. However, it is associative."]}),i.jsx("h3",{children:"Quaternion Norm and Conjugate"}),i.jsxs(xe,{title:"Norm and Conjugate",children:[i.jsx("p",{children:"For q = a + bi + cj + dk:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Conjugate:"})," q = a  bi  cj  dk"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Norm:"})," |q| = qq = a + b + c + d"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Inverse:"})," q = q/|q| (for q  0)"]})]})]}),i.jsx("p",{children:"A key property is that the norm is multiplicative: |qq| = |q||q|."}),i.jsx("h3",{children:"Unit Quaternions and Rotations"}),i.jsxs("p",{children:["A ",i.jsx("strong",{children:"unit quaternion"})," is a quaternion with |q| = 1. These form a group under multiplication, and they correspond to rotations."]}),i.jsxs(ue,{title:"Quaternion Rotation Formula",children:[i.jsx("p",{children:"Let q be a unit quaternion. The map:"}),i.jsx(Y,{children:"\\mathbf{p} \\mapsto \\mathbf{qpq}^{-1}"}),i.jsx("p",{className:"mt-2 text-slate-300",children:'is a rotation of the "pure quaternions" (those with a = 0), which can be identified with .'})]}),i.jsx("p",{children:"We identify a point (x, y, z)   with the pure quaternion p = xi + yj + zk. Then qpq is also a pure quaternion, corresponding to the rotated point."}),i.jsx("h3",{children:"Axis-Angle to Quaternion"}),i.jsx("p",{children:"The unit quaternion corresponding to rotation about axis n = (n, n, n) through angle  is:"}),i.jsx(Y,{children:"\\mathbf{q} = \\cos\\frac{\\theta}{2} + \\sin\\frac{\\theta}{2}(n_1\\mathbf{i} + n_2\\mathbf{j} + n_3\\mathbf{k})"}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Half Angles:"})," Notice the factor of /2  the quaternion uses half the rotation angle. This is related to the fact that q and q represent the same rotation."]}),i.jsx("h3",{children:"The Two-to-One Correspondence"}),i.jsx("p",{children:"There is a subtlety in the quaternion representation: both q and q produce the same rotation."}),i.jsxs(ue,{title:"Two-to-One Homomorphism",children:[i.jsx("p",{children:"The map from unit quaternions to rotations:"}),i.jsx(Y,{children:"\\mathbf{q} \\mapsto (\\mathbf{p} \\mapsto \\mathbf{qpq}^{-1})"}),i.jsxs("p",{className:"mt-2 text-slate-300",children:["is a 2-to-1 homomorphism from S (unit quaternions) onto SO(3). The kernel consists of ","{","1, 1","}","."]})]}),i.jsx("p",{children:"This can be written as:"}),i.jsx(Y,{children:"SO(3) \\cong S^3 / \\{\\pm 1\\}"}),i.jsx("h3",{children:"Advantages of Quaternions"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Why Use Quaternions?"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Compact:"})," Only 4 numbers (vs. 9 for a matrix)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Numerically stable:"})," Easy to renormalize to unit length"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"No gimbal lock:"})," Avoids singularities in Euler angles"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Smooth interpolation:"})," SLERP gives natural rotation paths"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Efficient composition:"})," Quaternion multiplication is fast"]})]})]}),i.jsx("h3",{children:"Composing Rotations"}),i.jsx("p",{children:"The composition of rotations corresponds to quaternion multiplication:"}),i.jsx(ue,{title:"Composition of Rotations",children:i.jsx("p",{children:"If rotation R corresponds to quaternion q and rotation R corresponds to quaternion q, then the composition R  R corresponds to qq."})}),i.jsx("p",{children:"This is much simpler than multiplying 33 matrices!"}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.6.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that q = cos(/4) + sin(/4)k represents rotation by /2 about the z-axis, and compute qiq to verify."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.6.2"}),i.jsx("p",{className:"text-slate-300",children:"Verify that q and q give the same rotation by computing qpq and (q)p(q) for p = i."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.6.3"}),i.jsx("p",{className:"text-slate-300",children:"Find the quaternion representing rotation by  about the axis (1, 1, 0)/2."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.6.4"}),i.jsx("p",{className:"text-slate-300",children:"Compute the composition of 90 rotation about the z-axis followed by 90 rotation about the x-axis using quaternions."})]}),i.jsx(fZ,{className:"my-6"}),i.jsx(Re,{sectionId:53,questions:Xe[53]||[],title:"Representing Space Rotations by Quaternions Quiz"})]})}function vZ(){return i.jsxs(qe,{sectionId:54,children:[i.jsx("h2",{children:"A Finite Group of Space Rotations"}),i.jsxs("p",{children:["We have seen that the group SO(3) of all rotations is infinite. However, the symmetry groups of regular polyhedra provide beautiful examples of",i.jsx("strong",{children:" finite"})," rotation groups. In this section, we study the rotations of the tetrahedron and their quaternion representations."]}),i.jsx("h3",{children:"The Regular Tetrahedron"}),i.jsx("p",{children:"A regular tetrahedron has four vertices, four faces (equilateral triangles), and six edges. We place the tetrahedron with its center at the origin so that its rotational symmetries become rotations of ."}),i.jsx(xe,{title:"Rotational Symmetry",children:i.jsxs("p",{children:["A ",i.jsx("strong",{children:"rotational symmetry"})," of a polyhedron is a rotation that maps the polyhedron onto itself. The set of all rotational symmetries forms a group under composition."]})}),i.jsx("h3",{children:"Counting the Rotations"}),i.jsx("p",{children:"The tetrahedron has exactly 12 rotational symmetries:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"The 12 Rotations of the Tetrahedron"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"1 identity:"})," Rotation by 0"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"8 face rotations:"})," For each of 4 faces, rotations by 120 and 240 about the axis through the face center and opposite vertex"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"3 edge rotations:"})," For each of 3 pairs of opposite edges, rotation by 180 about the axis through their midpoints"]})]})]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Group Theory Connection:"})," The rotation group of the tetrahedron is isomorphic to the alternating group A  the group of even permutations of 4 objects. This makes sense because each rotation permutes the 4 vertices, and only even permutations arise from rotations."]}),i.jsx("h3",{children:"Quaternions for the Tetrahedron"}),i.jsx("p",{children:"Each of the 12 rotations corresponds to a pair of quaternions q. Therefore, we get 24 unit quaternions representing the tetrahedron's rotational symmetries."}),i.jsxs(ue,{title:"The 24 Quaternions",children:[i.jsx("p",{children:"The 24 unit quaternions representing rotations of the tetrahedron are:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"1, i, j, k (8 quaternions)"}),i.jsx("li",{children:"(1  i  j  k) with an even number of minus signs (16 quaternions)"})]})]}),i.jsxs("p",{children:["These 24 quaternions form a group under quaternion multiplication, known as the ",i.jsx("strong",{children:"binary tetrahedral group"}),"."]}),i.jsx("h3",{children:"The 24-Cell"}),i.jsxs("p",{children:["The 24 quaternions can be viewed as 24 points in . Remarkably, these points are the vertices of a beautiful 4-dimensional polytope called the ",i.jsx("strong",{children:"24-cell"}),"."]}),i.jsxs(xe,{title:"The 24-Cell",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"24-cell"})," is a regular 4-dimensional polytope with:"]}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"24 vertices (the unit quaternions for the tetrahedron)"}),i.jsx("li",{children:"96 edges"}),i.jsx("li",{children:"96 triangular faces"}),i.jsx("li",{children:'24 octahedral cells (3-dimensional "faces")'})]})]}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Unique to 4D:"})," The 24-cell is one of the exceptional regular polytopes that exist only in 4 dimensions. While the tetrahedron, cube, and octahedron have analogues in all dimensions, the 24-cell has no analogue in other dimensions."]}),i.jsx("h3",{children:"Other Polyhedral Groups"}),i.jsx("p",{children:"The tetrahedron is just one example. Other regular polyhedra have their own rotation groups:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Rotation Groups of Regular Polyhedra"}),i.jsxs("table",{className:"w-full text-slate-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-600",children:[i.jsx("th",{className:"text-left py-2",children:"Polyhedron"}),i.jsx("th",{className:"text-left py-2",children:"Rotations"}),i.jsx("th",{className:"text-left py-2",children:"Group"}),i.jsx("th",{className:"text-left py-2",children:"Quaternions"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Tetrahedron"}),i.jsx("td",{className:"py-2",children:"12"}),i.jsx("td",{className:"py-2",children:"A"}),i.jsx("td",{className:"py-2",children:"24"})]}),i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Cube/Octahedron"}),i.jsx("td",{className:"py-2",children:"24"}),i.jsx("td",{className:"py-2",children:"S"}),i.jsx("td",{className:"py-2",children:"48"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-2",children:"Dodecahedron/Icosahedron"}),i.jsx("td",{className:"py-2",children:"60"}),i.jsx("td",{className:"py-2",children:"A"}),i.jsx("td",{className:"py-2",children:"120"})]})]})]})]}),i.jsxs("p",{children:["The cube and octahedron have the same rotation group because they are",i.jsx("strong",{children:" dual"})," polyhedra  the vertices of one correspond to the face centers of the other. Similarly for the dodecahedron and icosahedron."]}),i.jsx("h3",{children:"The 120-Cell and 600-Cell"}),i.jsxs("p",{children:["Just as the 24 quaternions for the tetrahedron form the 24-cell, the 120 quaternions for the icosahedron form the vertices of the",i.jsx("strong",{children:" 600-cell"}),", another exceptional 4D polytope. The dual of the 600-cell is the ",i.jsx("strong",{children:"120-cell"}),"."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.7.1"}),i.jsx("p",{className:"text-slate-300",children:"Verify that there are exactly 16 quaternions of the form (1  i  j  k) with an even number of minus signs."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.7.2"}),i.jsx("p",{className:"text-slate-300",children:"Show that the 8 quaternions 1, i, j, k form a group under multiplication. What familiar group is it isomorphic to?"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.7.3"}),i.jsx("p",{className:"text-slate-300",children:"Compute the product of q = (1 + i + j + k) and q = i, and verify that the result is one of the 24 unit quaternions for the tetrahedron."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.7.4"}),i.jsx("p",{className:"text-slate-300",children:"Explain why a rotation of the cube permutes its 4 main diagonals, and hence why the rotation group of the cube is isomorphic to S."})]}),i.jsx(Re,{sectionId:54,questions:Xe[54]||[],title:"A Finite Group of Space Rotations Quiz"})]})}function jZ(){return i.jsxs(qe,{sectionId:55,children:[i.jsx("h2",{children:"The Groups S and P"}),i.jsxs("p",{children:["The rotations of the tetrahedron vividly show that a group of rotations is itself a geometric object. This statement is just as true of the group of all rotations of S. In fact, this group is closely related to two important geometric objects: the ",i.jsx("strong",{children:"3-sphere S"}),"and the ",i.jsx("strong",{children:"three-dimensional real projective space P"}),"."]}),i.jsx("h3",{children:"The 3-Sphere"}),i.jsxs(xe,{title:"The 3-Sphere S",children:[i.jsxs("p",{children:["Just as the 1- and 2-spheres are the sets of points at unit distance from O in  and  respectively, the ",i.jsx("strong",{children:"3-sphere"})," is the set of points in  at unit distance from O:"]}),i.jsx(Y,{children:"S^3 = \\{(a, b, c, d) \\in \\mathbb{R}^4 : a^2 + b^2 + c^2 + d^2 = 1\\}"})]}),i.jsxs("p",{children:["The points (a, b, c, d) on S correspond to quaternions q = a1 + bi + cj + dk with |q| = 1, because |q| = a + b + c + d. Hence, ",i.jsx("strong",{children:"rotations of S"}),", which correspond to pairs q of such quaternions, correspond to ",i.jsx("strong",{children:"point pairs"})," (a, b, c, d) on S."]}),i.jsx("h3",{children:"Connection to P"}),i.jsx("p",{children:'Remember from Section 5.4 how we described the real projective space P. Its "points" are lines through O in . But a line through O in  meets S in a pair of antipodal points (a, b, c, d).'}),i.jsx(ue,{title:"Rotations as Points of P",children:i.jsx("p",{children:'It is valid to view the point pairs (a, b, c, d) on S as single "points" of P. Hence, rotations of S correspond to points of P, and the group of all rotations of S is in some sense the "same" as the geometric object P.'})}),i.jsx("h3",{children:"Abstract Groups and Isomorphisms"}),i.jsx("p",{children:'To explain what we mean by "sameness" here, we need to say something about groups in general.'}),i.jsxs(xe,{title:"Abstract Group",children:[i.jsxs("p",{children:["An ",i.jsx("strong",{children:"abstract group"}),' is a set G, which contains a special element 1 and for each g an element g, with a "product" operation satisfying the following axioms:']}),i.jsx(Y,{children:"g_1(g_2g_3) = (g_1g_2)g_3 \\quad \\text{(associativity)}"}),i.jsx(Y,{children:"g \\cdot 1 = g \\quad \\text{(identity)}"}),i.jsx(Y,{children:"g \\cdot g^{-1} = 1 \\quad \\text{(inverse)}"})]}),i.jsxs(xe,{title:"Isomorphism",children:[i.jsxs("p",{children:["An ",i.jsx("strong",{children:"isomorphism"})," of group G onto group G' is a one-to-one correspondence  : G  G' that preserves products:"]}),i.jsx(Y,{children:"\\varphi(g_1g_2) = \\varphi(g_1)\\varphi(g_2)"}),i.jsx("p",{className:"mt-2",children:'The word "isomorphism" comes from the Greek for "same form." Two isomorphic groups are essentially the same as abstract groups.'})]}),i.jsx("h3",{children:"Group Structures on Spheres"}),i.jsx("p",{children:"We can use isomorphisms to transfer group structures to geometric objects."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Examples of Group Structures"}),i.jsxs("ul",{className:"list-disc list-inside space-y-3",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"The circle S:"})," Complex numbers cos  + i sin  form a group under multiplication, and they correspond to points (cos , sin ) of S. The product of points on S corresponds to adding their angles."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"The 3-sphere S:"})," Unit quaternions form a group, and they correspond to points of S. Hence, we can define the product of points on S via quaternion multiplication."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Projective space P:"})," Pairs of opposite quaternions q with |q| = 1 form a group. These correspond to points of P, so we can transfer this group structure to P."]})]})]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Continuous Groups:"})," The group structures on S, S, and P obtained in this way are particularly interesting because they are",i.jsx("em",{children:" continuous"}),". That is, if g' is near to g and g' is near to g, then g'g' is near to gg."]}),i.jsx("h3",{children:"A Remarkable Fact"}),i.jsx(ue,{title:"Spheres with Group Structure",children:i.jsxs("p",{children:["S does ",i.jsx("em",{children:"not"})," have a continuous group structure. In fact, S and S are the ",i.jsx("em",{children:"only"})," spheres with continuous group structures on them."]})}),i.jsx("p",{children:"This is a deep result from topology. The group structure on S comes from complex multiplication, and the group structure on S comes from quaternion multiplication. There is no higher-dimensional analogue because the octonions (which would give S) are not associative."}),i.jsx("h3",{children:"Summary of Correspondences"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("table",{className:"w-full text-slate-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-600",children:[i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Algebraic Object"}),i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Geometric Space"}),i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Transformation Group"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Unit complex numbers"}),i.jsx("td",{className:"py-2",children:"S"}),i.jsx("td",{className:"py-2",children:"SO(2)"})]}),i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Unit quaternions"}),i.jsx("td",{className:"py-2",children:"S"}),i.jsx("td",{className:"py-2",children:"Spin(3)"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-2",children:"Unit quaternion pairs q"}),i.jsx("td",{className:"py-2",children:"P"}),i.jsx("td",{className:"py-2",children:"SO(3)"})]})]})]})}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.8.1"}),i.jsx("p",{className:"text-slate-300",children:"Verify that the map (r_) = cos  + i sin  from rotations of the plane to complex numbers satisfies (r_  r_) = (r_)(r_)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.8.2"}),i.jsx("p",{className:"text-slate-300",children:"Explain why the product of two points (cos , sin ) and (cos , sin ) on S is (cos( + ), sin( + ))."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.8.3"}),i.jsx("p",{className:"text-slate-300",children:"Explain why the map from unit quaternions to SO(3) is 2-to-1 but not 1-to-1."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.8.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that P can be viewed as a solid ball with antipodal boundary points identified."})]}),i.jsx(Re,{sectionId:55,questions:Xe[55]||[],title:"The Groups S and P Quiz"})]})}function wZ(){return i.jsxs(qe,{sectionId:56,children:[i.jsx("h2",{children:"Discussion"}),i.jsx("p",{children:'The word "geometry" comes from the Greek for "earth measurement," and legend has it that the subject grew from the land measurement concerns of farmers whose land was periodically flooded by the river Nile. As recently as the 18th century, one finds carpenters and other artisans listed among the subscribers to geometry books.'}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Practical Origins:"}),' There is no doubt that Euclidean geometry is the geometry of down-to-earth measurement. It continues to be a tactile subject today, when one talks about "translating," "rotating," and "moving objects rigidly."']}),i.jsx("h3",{children:"Projective and Affine Geometry in Art"}),i.jsxs("p",{children:["The most ",i.jsx("em",{children:"visual"})," branch of geometry is projective geometry, because it is more concerned with how objects look than with what they actually are. It is no surprise that projective geometry originated from the concerns of artists, and that many of its practitioners today work in the fields of video games and computer graphics."]}),i.jsx("p",{children:"Affine geometry occupies a position in the middle. It also originates from an artistic tradition, but from one less radical than that of Renaissance Italy  the classical art of China and Japan."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Affine Perspective in Asian Art"}),i.jsx("p",{className:"text-slate-300",children:'Chinese and Japanese drawings often adopt unusual viewpoints, where one might expect perspective, but they generally preserve parallels. Typically, the picture is a "projection from infinity," which is an affine map. All parallel lines are shown as parallel, creating a certain "flatness" because all parts of the picture seem to be the same distance away  mathematically, they are.'})]}),i.jsx("p",{children:'Affine maps are also popular in engineering drawing, where the so-called "axonometric projection" is often used to depict an object in three dimensions while retaining correct proportions in a given direction.'}),i.jsx("h3",{children:"The Fourth Dimension"}),i.jsx("p",{children:"The discovery of quaternions in 1843 was the first of a series of discoveries that drew attention to spaces of more than three dimensions and to the remarkable properties of  in particular."}),i.jsx(xe,{title:"Hamilton's Quest",children:i.jsx("p",{children:'From around 1830, the Irish mathematician William Rowan Hamilton had been searching in vain for "n-dimensional number systems" analogous to the real numbers  and the complex numbers . He thought that  could also be viewed as a number system by some clever choice of multiplication rule.'})}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Impossibility:"})," We now know that such a system is impossible in any  with n  3 that satisfies all field axioms. But, luckily for Hamilton, it is ",i.jsx("em",{children:"almost"})," possible in . The quaternions satisfy all the field axioms except commutative multiplication, and their absolute value is multiplicative."]}),i.jsx("h3",{children:"The Role of Quaternions and Octonions"}),i.jsxs("p",{children:["The only other  that comes close is , where the ",i.jsx("strong",{children:"octonions"}),"satisfy all the field properties except the commutative and associative laws."]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Number Systems by Dimension"}),i.jsxs("table",{className:"w-full text-slate-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-600",children:[i.jsx("th",{className:"text-left py-2",children:"Dimension"}),i.jsx("th",{className:"text-left py-2",children:"System"}),i.jsx("th",{className:"text-left py-2",children:"Properties Lost"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:""}),i.jsx("td",{className:"py-2",children:"Real numbers "}),i.jsx("td",{className:"py-2",children:"None (full field)"})]}),i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:""}),i.jsx("td",{className:"py-2",children:"Complex numbers "}),i.jsx("td",{className:"py-2",children:"Ordering"})]}),i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:""}),i.jsx("td",{className:"py-2",children:"Quaternions "}),i.jsx("td",{className:"py-2",children:"Commutativity"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-2",children:""}),i.jsx("td",{className:"py-2",children:"Octonions "}),i.jsx("td",{className:"py-2",children:"Commutativity, Associativity"})]})]})]})]}),i.jsx("h3",{children:"Regular Polytopes and Symmetry"}),i.jsx("p",{children:"Hamilton knew that quaternions give a nice representation of rotations in , but the first to work out the quaternions for the symmetries of regular polyhedra was Cayley in 1863."}),i.jsx("p",{children:"The five regular polyhedra actually exhibit only three types of symmetry:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsx("li",{children:"Tetrahedron (12 rotations)"}),i.jsx("li",{children:"Cube and Octahedron (24 rotations  they are dual)"}),i.jsx("li",{children:"Dodecahedron and Icosahedron (60 rotations  they are dual)"})]})}),i.jsx(ue,{title:"Schlfli's Discovery",children:i.jsx("p",{children:"The Swiss geometer Ludwig Schlfli discovered in 1852 that there are six regular polytopes in . While analogues of the tetrahedron, cube, and octahedron exist in all dimensions,  and  are the only  containing other regular figures."})}),i.jsx("h3",{children:"The Exceptional Polytopes"}),i.jsx("p",{children:"The 24-cell is the simplest of the exceptional regular figures in . The other two are:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsxs("ul",{className:"list-disc list-inside space-y-3",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"The 120-cell:"})," Bounded by 120 regular dodecahedra, with 600 vertices"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"The 600-cell:"})," Bounded by 600 regular tetrahedra, with 120 vertices"]})]}),i.jsx("p",{className:"text-slate-300 mt-3",children:'The 120-cell and 600-cell are related "dually" like the dodecahedron and icosahedron. Moreover, the 600-cell arises from the icosahedron in the same way that the 24-cell arises from the tetrahedron.'})]}),i.jsx("h3",{children:"Summary: The Four Pillars"}),i.jsx("p",{children:"Throughout this chapter, we have seen how transformation groups provide a unifying framework for understanding geometry. Klein's Erlangen program showed that:"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Klein's Vision"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Euclidean geometry"})," = invariants of the isometry group"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Affine geometry"})," = invariants of the affine group"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Projective geometry"})," = invariants of the projective group"]})]})]}),i.jsx("p",{children:"The four pillars of geometry  Euclidean constructions, coordinates, vectors, and projective methods  are all connected through the study of transformation groups. Each pillar offers a different perspective on the same underlying geometric reality."}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Looking Ahead:"})," The next chapter explores non-Euclidean geometry, where the parallel axiom fails. This geometry arises naturally from the projective line and provides yet another example of how different transformation groups lead to different geometries."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.9.1"}),i.jsx("p",{className:"text-slate-300",children:"Explain why affine maps preserve parallel lines but projective maps generally do not."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.9.2"}),i.jsx("p",{className:"text-slate-300",children:"Why do the cube and octahedron have the same rotation group?"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.9.3"}),i.jsx("p",{className:"text-slate-300",children:'Explain why there is no "number system" on  with a multiplicative absolute value.'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 7.9.4"}),i.jsx("p",{className:"text-slate-300",children:"Describe the relationship between the 600-cell and the rotation group of the icosahedron."})]}),i.jsx(Re,{sectionId:56,questions:Xe[56]||[],title:"Discussion Quiz"})]})}function TZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState([]),[r,a]=q.useState(!0),[l,o]=q.useState(!0),[c,h]=q.useState(null),u=500,f=350,x=50,b=u/2,M=f-30,y=(m,g)=>[b+m*x,M-g*x],T=(m,g)=>({x:(m-b)/x,y:(M-g)/x}),S=(m,g)=>{if(m.y<=0||g.y<=0)return null;if(Math.abs(m.x-g.x)<.001)return{type:"vertical",x:m.x};const E=(g.x*g.x+g.y*g.y-m.x*m.x-m.y*m.y)/(2*(g.x-m.x)),v=Math.sqrt((m.x-E)**2+m.y**2);return{type:"semicircle",center:E,radius:v}};q.useEffect(()=>{const m=e.current;if(!m)return;const g=m.getContext("2d");if(g){if(g.fillStyle="#0f172a",g.fillRect(0,0,u,f),r){g.strokeStyle="#1e293b",g.lineWidth=1;for(let E=-5;E<=5;E++){const[v]=y(E,0);g.beginPath(),g.moveTo(v,0),g.lineTo(v,M),g.stroke()}for(let E=1;E<=6;E++){const[,v]=y(0,E);g.beginPath(),g.moveTo(0,v),g.lineTo(u,v),g.stroke()}}if(g.strokeStyle="#475569",g.lineWidth=2,g.beginPath(),g.moveTo(0,M),g.lineTo(u,M),g.stroke(),g.fillStyle="#64748b",g.font="12px sans-serif",g.fillText("Boundary (at infinity)",10,M+20),l&&n.length===2){const E=S(n[0],n[1]);if(E)if(g.strokeStyle="#22d3ee",g.lineWidth=2,g.setLineDash([]),E.type==="vertical"){const[v]=y(E.x,0);g.beginPath(),g.moveTo(v,M),g.lineTo(v,0),g.stroke()}else{const[v]=y(E.center,0),p=E.radius*x;g.beginPath(),g.arc(v,M,p,Math.PI,0,!1),g.stroke()}}if(n.length===0){g.strokeStyle="#f472b6",g.lineWidth=1.5,g.setLineDash([5,5]);const[E]=y(-2,0);g.beginPath(),g.moveTo(E,M),g.lineTo(E,0),g.stroke(),g.strokeStyle="#a78bfa";for(let v=1;v<=3;v++){const p=-2+v*1.5,A=v*.8,[w]=y(p,0);g.beginPath(),g.arc(w,M,A*x,Math.PI,0,!1),g.stroke()}g.setLineDash([]),g.fillStyle="#e879f9",g.font="11px sans-serif",g.fillText('Multiple "parallels" to a line',10,20)}if(n.forEach((E,v)=>{const[p,A]=y(E.x,E.y);g.fillStyle=v===0?"#f472b6":"#22d3ee",g.beginPath(),g.arc(p,A,6,0,Math.PI*2),g.fill(),g.fillStyle="#e2e8f0",g.font="12px sans-serif",g.fillText(`P${v+1} (${E.x.toFixed(1)}, ${E.y.toFixed(1)})`,p+10,A-5)}),c&&c.y>0&&n.length<2){const[E,v]=y(c.x,c.y);g.strokeStyle="#94a3b8",g.lineWidth=1,g.setLineDash([3,3]),g.beginPath(),g.arc(E,v,6,0,Math.PI*2),g.stroke(),g.setLineDash([])}}},[n,r,l,c]);const N=m=>{var A;const g=(A=e.current)==null?void 0:A.getBoundingClientRect();if(!g)return;const E=m.clientX-g.left,v=m.clientY-g.top,p=T(E,v);p.y<=.1||n.length<2&&s([...n,{x:Math.round(p.x*10)/10,y:Math.round(p.y*10)/10}])},j=m=>{var A;const g=(A=e.current)==null?void 0:A.getBoundingClientRect();if(!g)return;const E=m.clientX-g.left,v=m.clientY-g.top,p=T(E,v);h(p)};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Upper Half Plane Explorer"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:u,height:f,className:"border border-slate-700 rounded cursor-crosshair",onClick:N,onMouseMove:j,onMouseLeave:()=>h(null)})}),i.jsxs("div",{className:"w-full md:w-48 space-y-3",children:[i.jsx("div",{className:"text-sm text-slate-300",children:i.jsx("p",{className:"mb-2",children:"Click to place points in the upper half plane. A geodesic (hyperbolic line) will connect them."})}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:r,onChange:m=>a(m.target.checked),className:"rounded"}),"Show grid"]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:l,onChange:m=>o(m.target.checked),className:"rounded"}),"Show geodesic"]}),i.jsx("button",{onClick:()=>s([]),className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Clear Points"}),n.length===2&&i.jsx("div",{className:"text-xs text-slate-400 p-2 bg-slate-800 rounded",children:(()=>{var g,E,v;const m=S(n[0],n[1]);return m?m.type==="vertical"?i.jsxs("span",{children:["Geodesic: Vertical line x = ",(g=m.x)==null?void 0:g.toFixed(2)]}):i.jsxs("span",{children:["Geodesic: Semicircle",i.jsx("br",{}),"Center: (",(E=m.center)==null?void 0:E.toFixed(2),", 0)",i.jsx("br",{}),"Radius: ",(v=m.radius)==null?void 0:v.toFixed(2)]}):null})()})]})]})]})}function SZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("translation"),[r,a]=q.useState(1),[l,o]=q.useState(!1),[c,h]=q.useState(0),u=500,f=350,x=40,b=u/2,M=f-40,y=(m,g)=>[b+m*x,M-g*x],T=(m,g)=>{if(m.y<=0)return null;const E=r*g;switch(n){case"translation":return{x:m.x+E,y:m.y};case"scaling":const v=Math.exp(E);return{x:m.x*v,y:m.y*v};case"reflection":return{x:-m.x*g+m.x*(1-g),y:m.y};case"inversion":const p=m.x*m.x+m.y*m.y;if(p<.01)return null;const A=m.x/p,w=m.y/p;return{x:m.x*(1-g)+A*g,y:m.y*(1-g)+w*g};default:return m}},S=()=>{const m=[];for(let g=-3;g<=3;g+=1.5)m.push({type:"vertical",x:g});for(let g=-2;g<=2;g+=2)for(let E=1;E<=3;E+=1)m.push({type:"semicircle",center:g,radius:E});return m};q.useEffect(()=>{const m=e.current;if(!m)return;const g=m.getContext("2d");if(!g)return;if(g.fillStyle="#0f172a",g.fillRect(0,0,u,f),g.strokeStyle="#475569",g.lineWidth=2,g.beginPath(),g.moveTo(0,M),g.lineTo(u,M),g.stroke(),n==="inversion"){g.strokeStyle="#fbbf24",g.lineWidth=1,g.setLineDash([4,4]);const[D,I]=y(0,0);g.beginPath(),g.arc(D,I,x,0,Math.PI,!0),g.stroke(),g.setLineDash([]),g.fillStyle="#fbbf24",g.font="10px sans-serif",g.fillText("unit circle",D+x+5,I-5)}const E=c,v=S();g.lineWidth=1.5,v.forEach((D,I)=>{if(g.strokeStyle="rgba(148, 163, 184, 0.3)",D.type==="vertical"){const[$]=y(D.x,0);g.beginPath(),g.moveTo($,M),g.lineTo($,0),g.stroke()}else{const[$]=y(D.center,0);g.beginPath(),g.arc($,M,D.radius*x,Math.PI,0,!1),g.stroke()}if(g.strokeStyle=I%2===0?"#22d3ee":"#a78bfa",g.beginPath(),D.type==="vertical")for(let $=.1;$<=6;$+=.1){const B=T({x:D.x,y:$},E);if(!B||B.y<=0)continue;const[G,V]=y(B.x,B.y);$===.1?g.moveTo(G,V):g.lineTo(G,V)}else for(let $=Math.PI;$>=0;$-=.05){const B=D.center+D.radius*Math.cos($),G=D.radius*Math.sin($),V=T({x:B,y:G},E);if(!V||V.y<=0)continue;const[J,ee]=y(V.x,V.y);$===Math.PI?g.moveTo(J,ee):g.lineTo(J,ee)}g.stroke()});const p={x:1,y:2},[A,w]=y(p.x,p.y);g.fillStyle="rgba(244, 114, 182, 0.5)",g.beginPath(),g.arc(A,w,5,0,Math.PI*2),g.fill();const k=T(p,E);if(k&&k.y>0){const[D,I]=y(k.x,k.y);g.fillStyle="#f472b6",g.beginPath(),g.arc(D,I,6,0,Math.PI*2),g.fill(),g.strokeStyle="#f472b6",g.setLineDash([3,3]),g.beginPath(),g.moveTo(A,w),g.lineTo(D,I),g.stroke(),g.setLineDash([])}},[n,r,c]),q.useEffect(()=>{if(!l)return;let m,g=null;const E=2e3,v=p=>{g||(g=p);const A=p-g,w=Math.min(A/E,1),k=w<.5?2*w*w:1-Math.pow(-2*w+2,2)/2;h(k),w<1?m=requestAnimationFrame(v):o(!1)};return m=requestAnimationFrame(v),()=>cancelAnimationFrame(m)},[l]);const N=()=>{h(0),o(!0)},j=()=>{switch(n){case"translation":return`z  z + ${r.toFixed(1)}`;case"scaling":return`z  ${Math.exp(r).toFixed(2)}z`;case"reflection":return"z  -z";case"inversion":return"z  1/z"}};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Mbius Transformation Demo"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:u,height:f,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Transform Type"}),i.jsxs("select",{value:n,onChange:m=>{s(m.target.value),h(0)},className:"w-full px-2 py-1.5 bg-slate-800 border border-slate-600 rounded text-slate-200 text-sm",children:[i.jsx("option",{value:"translation",children:"Translation (z  z + l)"}),i.jsx("option",{value:"scaling",children:"Scaling (z  kz)"}),i.jsx("option",{value:"reflection",children:"Reflection (z  -z)"}),i.jsx("option",{value:"inversion",children:"Inversion (z  1/z)"})]})]}),(n==="translation"||n==="scaling")&&i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-300 mb-1",children:["Parameter: ",n==="translation"?r.toFixed(1):Math.exp(r).toFixed(2)]}),i.jsx("input",{type:"range",min:n==="translation"?-3:-1,max:n==="translation"?3:1,step:"0.1",value:r,onChange:m=>a(parseFloat(m.target.value)),className:"w-full"})]}),i.jsx("button",{onClick:N,disabled:l,className:"w-full px-3 py-2 bg-blue-600 hover:bg-blue-500 disabled:bg-slate-600 text-white rounded text-sm font-medium",children:l?"Animating...":"Animate Transform"}),i.jsx("div",{className:"p-2 bg-slate-800 rounded text-center",children:i.jsx("span",{className:"text-cyan-400 font-mono text-lg",children:j()})}),i.jsx("div",{className:"text-xs text-slate-400",children:i.jsx("p",{children:"Watch how geodesics (hyperbolic lines) map to geodesics under Mbius transformations."})})]})]})]})}function NZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState({x:0,y:1}),[r,a]=q.useState({x:0,y:3}),[l,o]=q.useState(null),c=450,h=400,u=50,f=c/2,x=h-50,b=(v,p)=>[f+v*u,x-p*u],M=(v,p)=>({x:(v-f)/u,y:(x-p)/u}),y=(v,p)=>Math.sqrt((p.x-v.x)**2+(p.y-v.y)**2),T=(v,p)=>{if(v.y<=0||p.y<=0)return 1/0;if(Math.abs(v.x-p.x)<.001)return Math.abs(Math.log(p.y/v.y));const A=(p.x*p.x+p.y*p.y-v.x*v.x-v.y*v.y)/(2*(p.x-v.x)),w=Math.sqrt((v.x-A)**2+v.y**2),k=A-w,D=A+w,I=Math.sqrt((v.x-k)**2+v.y**2),$=Math.sqrt((p.x-D)**2+p.y**2),B=Math.sqrt((v.x-D)**2+v.y**2),G=Math.sqrt((p.x-k)**2+p.y**2),V=I*$/(B*G);return Math.abs(Math.log(V))},S=(v,p,A,w)=>{if(v.strokeStyle=w,v.lineWidth=1,v.setLineDash([3,3]),Math.abs(p.x)<.001){const k=p.y*Math.cosh(A),D=p.y*Math.sinh(A),[I,$]=b(0,k);v.beginPath(),v.arc(I,$,D*u,0,Math.PI*2),v.stroke()}v.setLineDash([])};q.useEffect(()=>{const v=e.current;if(!v)return;const p=v.getContext("2d");if(!p)return;p.fillStyle="#0f172a",p.fillRect(0,0,c,h),p.strokeStyle="#1e293b",p.lineWidth=1;for(let G=-4;G<=4;G++){const[V]=b(G,0);p.beginPath(),p.moveTo(V,0),p.lineTo(V,x),p.stroke()}for(let G=1;G<=7;G++){const[,V]=b(0,G);p.beginPath(),p.moveTo(0,V),p.lineTo(c,V),p.stroke()}if(p.strokeStyle="#475569",p.lineWidth=2,p.beginPath(),p.moveTo(0,x),p.lineTo(c,x),p.stroke(),p.strokeStyle="#22d3ee",p.lineWidth=2,Math.abs(n.x-r.x)<.001){const[G]=b(n.x,0);p.beginPath(),p.moveTo(G,x),p.lineTo(G,0),p.stroke()}else{const G=(r.x*r.x+r.y*r.y-n.x*n.x-n.y*n.y)/(2*(r.x-n.x)),V=Math.sqrt((n.x-G)**2+n.y**2),[J]=b(G,0);p.beginPath(),p.arc(J,x,V*u,Math.PI,0,!1),p.stroke()}const A=y(n,r);p.strokeStyle="rgba(244, 114, 182, 0.4)",p.lineWidth=1,p.setLineDash([5,5]);const[w,k]=b(n.x,n.y);if(p.beginPath(),p.arc(w,k,A*u,0,Math.PI*2),p.stroke(),p.setLineDash([]),Math.abs(n.x)<.001&&n.y>0){const G=T(n,r);S(p,n,G,"rgba(34, 211, 238, 0.4)")}const[D,I]=b(n.x,n.y),[$,B]=b(r.x,r.y);p.fillStyle="#f472b6",p.beginPath(),p.arc(D,I,8,0,Math.PI*2),p.fill(),p.fillStyle="#fce7f3",p.font="bold 12px sans-serif",p.fillText("P",D-4,I+4),p.fillStyle="#22d3ee",p.beginPath(),p.arc($,B,8,0,Math.PI*2),p.fill(),p.fillStyle="#cffafe",p.font="bold 12px sans-serif",p.fillText("Q",$-4,B+4),p.fillStyle="#94a3b8",p.font="11px sans-serif",p.fillText("Drag points to explore",10,20)},[n,r]);const N=v=>{var B;const p=(B=e.current)==null?void 0:B.getBoundingClientRect();if(!p)return;const A=v.clientX-p.left,w=v.clientY-p.top,[k,D]=b(n.x,n.y),[I,$]=b(r.x,r.y);Math.hypot(A-k,w-D)<15?o(1):Math.hypot(A-I,w-$)<15&&o(2)},j=v=>{var D;if(!l)return;const p=(D=e.current)==null?void 0:D.getBoundingClientRect();if(!p)return;const A=v.clientX-p.left,w=v.clientY-p.top,k=M(A,w);k.y<.2&&(k.y=.2),k.y>6.5&&(k.y=6.5),k.x<-4&&(k.x=-4),k.x>4&&(k.x=4),l===1?s({x:Math.round(k.x*20)/20,y:Math.round(k.y*20)/20}):a({x:Math.round(k.x*20)/20,y:Math.round(k.y*20)/20})},m=()=>{o(null)},g=y(n,r),E=T(n,r);return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Hyperbolic vs Euclidean Distance"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded cursor-grab",onMouseDown:N,onMouseMove:j,onMouseUp:m,onMouseLeave:m})}),i.jsxs("div",{className:"w-full md:w-52 space-y-4",children:[i.jsxs("div",{className:"p-3 bg-slate-800 rounded space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-pink-400",children:"P:"}),i.jsxs("span",{className:"text-slate-300 font-mono",children:["(",n.x.toFixed(2),", ",n.y.toFixed(2),")"]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-cyan-400",children:"Q:"}),i.jsxs("span",{className:"text-slate-300 font-mono",children:["(",r.x.toFixed(2),", ",r.y.toFixed(2),")"]})]})]}),i.jsxs("div",{className:"p-3 bg-slate-800 rounded space-y-3",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Euclidean Distance"}),i.jsx("div",{className:"text-xl font-mono text-pink-400",children:g.toFixed(3)}),i.jsx("div",{className:"w-full h-2 bg-slate-700 rounded mt-1",children:i.jsx("div",{className:"h-full bg-pink-500 rounded",style:{width:`${Math.min(g/6*100,100)}%`}})})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Hyperbolic Distance"}),i.jsx("div",{className:"text-xl font-mono text-cyan-400",children:E===1/0?"":E.toFixed(3)}),i.jsx("div",{className:"w-full h-2 bg-slate-700 rounded mt-1",children:i.jsx("div",{className:"h-full bg-cyan-500 rounded",style:{width:`${Math.min(E/4*100,100)}%`}})})]})]}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded",children:[i.jsxs("p",{className:"mb-2",children:[i.jsx("span",{className:"text-pink-400",children:"Pink circle:"})," Euclidean equidistant"]}),i.jsxs("p",{children:[i.jsx("span",{className:"text-cyan-400",children:"Cyan curve:"})," Hyperbolic equidistant"]})]}),i.jsx("button",{onClick:()=>{s({x:0,y:1}),a({x:0,y:3})},className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Reset Points"})]})]})]})}function AZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("hyperbolic"),[r,a]=q.useState(0),[l,o]=q.useState(!0),c=500,h=380,u=45,f=c/2,x=h-50,b=(S,N)=>[f+S*u,x-N*u],M=(S,N)=>{if(S.y<=0)return null;switch(n){case"hyperbolic":{const j=Math.exp(N);return{x:S.x*j,y:S.y*j}}case"elliptic":{const j=N,m=Math.cos(j),g=Math.sin(j),E={re:S.x,im:S.y},v={re:E.re*m-g,im:E.im*m},p={re:E.re*g+m,im:E.im*g},A=p.re*p.re+p.im*p.im;return A<.001?null:{x:(v.re*p.re+v.im*p.im)/A,y:(v.im*p.re-v.re*p.im)/A}}case"parabolic":return{x:S.x+N,y:S.y};default:return S}},y=(S,N)=>{const j=[],m=n==="elliptic"?Math.PI*2/N:2/N;for(let g=0;g<=N;g++){let E;switch(n){case"hyperbolic":E=(g/N-.5)*3;break;case"elliptic":E=g*m;break;case"parabolic":E=(g/N-.5)*6;break;default:E=0}const v=M(S,E);v&&v.y>0&&j.push(v)}return j};q.useEffect(()=>{const S=e.current;if(!S)return;const N=S.getContext("2d");if(!N)return;N.fillStyle="#0f172a",N.fillRect(0,0,c,h),N.strokeStyle="#1e293b",N.lineWidth=1;for(let E=-5;E<=5;E++){const[v]=b(E,0);N.beginPath(),N.moveTo(v,0),N.lineTo(v,x),N.stroke()}for(let E=1;E<=7;E++){const[,v]=b(0,E);N.beginPath(),N.moveTo(0,v),N.lineTo(c,v),N.stroke()}switch(N.strokeStyle="#475569",N.lineWidth=2,N.beginPath(),N.moveTo(0,x),N.lineTo(c,x),N.stroke(),N.setLineDash([4,4]),N.lineWidth=1.5,n){case"hyperbolic":N.strokeStyle="#fbbf24";const[E]=b(0,0);N.beginPath(),N.moveTo(E,x),N.lineTo(E,0),N.stroke(),N.fillStyle="#fbbf24",N.beginPath(),N.arc(E,x,5,0,Math.PI*2),N.fill(),N.font="11px sans-serif",N.fillText("Fixed: 0",E+10,x-5),N.fillText("Fixed: ",E+10,15);break;case"elliptic":N.strokeStyle="#fbbf24";const[v,p]=b(0,1);N.beginPath(),N.arc(v,p,8,0,Math.PI*2),N.stroke(),N.fillStyle="#fbbf24",N.font="11px sans-serif",N.fillText("Center: i",v+12,p);break;case"parabolic":N.strokeStyle="#fbbf24",N.fillStyle="#fbbf24",N.font="11px sans-serif",N.fillText("Fixed:  only",10,15),N.strokeStyle="rgba(251, 191, 36, 0.3)";for(let A=1;A<=4;A++){const[,w]=b(0,A);N.beginPath(),N.moveTo(0,w),N.lineTo(c,w),N.stroke()}break}N.setLineDash([]);const j=[{x:1,y:1.5},{x:-1.5,y:2},{x:.5,y:3},{x:-.5,y:1}],m=["#f472b6","#22d3ee","#a78bfa","#34d399"];j.forEach((E,v)=>{if(l){const k=y(E,100);k.length>1&&(N.strokeStyle=m[v],N.lineWidth=1.5,N.globalAlpha=.6,N.beginPath(),k.forEach((D,I)=>{const[$,B]=b(D.x,D.y);I===0?N.moveTo($,B):N.lineTo($,B)}),N.stroke(),N.globalAlpha=1)}const[p,A]=b(E.x,E.y);N.fillStyle=m[v],N.globalAlpha=.3,N.beginPath(),N.arc(p,A,5,0,Math.PI*2),N.fill(),N.globalAlpha=1;const w=M(E,r);if(w&&w.y>0){const[k,D]=b(w.x,w.y);N.fillStyle=m[v],N.beginPath(),N.arc(k,D,7,0,Math.PI*2),N.fill()}}),N.fillStyle="#e2e8f0",N.font="12px sans-serif";const g={hyperbolic:"Hyperbolic Translation",elliptic:"Elliptic Rotation",parabolic:"Parabolic (Limit Rotation)"};N.fillText(g[n],10,h-15)},[n,r,l]);const T=()=>{switch(n){case"hyperbolic":return`Scale: e^${r.toFixed(2)} = ${Math.exp(r).toFixed(2)}`;case"elliptic":return`Angle: ${(r*180/Math.PI).toFixed(0)}`;case"parabolic":return`Shift: ${r.toFixed(2)}`}};return i.jsxs("div",{className:`bg-slate-900/50 rounded-lg p-4 ${t}`,children:[i.jsx("h4",{className:"text-blue-400 font-semibold mb-3",children:"Hyperbolic Isometries Demo"}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsx("canvas",{ref:e,width:c,height:h,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"w-full md:w-56 space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Isometry Type"}),i.jsxs("select",{value:n,onChange:S=>{s(S.target.value),a(0)},className:"w-full px-2 py-1.5 bg-slate-800 border border-slate-600 rounded text-slate-200 text-sm",children:[i.jsx("option",{value:"hyperbolic",children:"Hyperbolic (2 fixed pts on boundary)"}),i.jsx("option",{value:"elliptic",children:"Elliptic (1 fixed pt interior)"}),i.jsx("option",{value:"parabolic",children:"Parabolic (1 fixed pt on boundary)"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:T()}),i.jsx("input",{type:"range",min:n==="elliptic"?0:-2,max:n==="elliptic"?Math.PI*2:2,step:"0.05",value:r,onChange:S=>a(parseFloat(S.target.value)),className:"w-full"})]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx("input",{type:"checkbox",checked:l,onChange:S=>o(S.target.checked),className:"rounded"}),"Show orbit paths"]}),i.jsx("button",{onClick:()=>a(0),className:"w-full px-3 py-1.5 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded text-sm",children:"Reset Parameter"}),i.jsxs("div",{className:"text-xs text-slate-400 p-2 bg-slate-800/50 rounded space-y-1",children:[i.jsxs("p",{children:[i.jsx("strong",{className:"text-yellow-400",children:"Yellow:"})," Fixed points/axis"]}),i.jsxs("p",{children:[i.jsx("strong",{className:"text-pink-400",children:"Colored dots:"})," Sample points"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Faded:"})," Original position"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Solid:"})," Current position"]})]})]})]})]})}function kZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState("translate"),[r,a]=q.useState(2),[l,o]=q.useState(2),[c,h]=q.useState(1),[u,f]=q.useState(0),[x,b]=q.useState(0),[M,y]=q.useState(1),T=600,S=350,N=(E,v)=>[E[0]+v[0],E[1]+v[1]],j=(E,v)=>[E[0]*v[0]-E[1]*v[1],E[0]*v[1]+E[1]*v[0]],m=(E,v)=>{const p=v[0]*v[0]+v[1]*v[1];return p<1e-4?null:[(E[0]*v[0]+E[1]*v[1])/p,(E[1]*v[0]-E[0]*v[1])/p]},g=E=>{let v,p,A,w;switch(n){case"translate":v=[1,0],p=[r,0],A=[0,0],w=[1,0];break;case"scale":v=[l,0],p=[0,0],A=[0,0],w=[1,0];break;case"invert":v=[0,0],p=[1,0],A=[1,0],w=[0,0];break;case"custom":v=[c,0],p=[u,0],A=[x,0],w=[M,0];break}const k=N(j(v,E),p),D=N(j(A,E),w);return m(k,D)};return q.useEffect(()=>{const E=e.current;if(!E)return;const v=E.getContext("2d");if(!v)return;v.fillStyle="#0f172a",v.fillRect(0,0,T,S);const p=T/2,A=60,w=S-50,k=B=>p+B*A,D=B=>w-B*A;v.strokeStyle="#475569",v.lineWidth=3,v.beginPath(),v.moveTo(0,w),v.lineTo(T,w),v.stroke(),v.fillStyle="#94a3b8",v.font="12px sans-serif",v.fillText(" (boundary)",10,w+20),v.strokeStyle="#1e293b",v.lineWidth=1;for(let B=-5;B<=5;B++)v.beginPath(),v.moveTo(k(B),0),v.lineTo(k(B),w),v.stroke();for(let B=0;B<=5;B++)v.beginPath(),v.moveTo(0,D(B)),v.lineTo(T,D(B)),v.stroke();const I=[{type:"vertical",x:0,color:"#60a5fa"},{type:"semicircle",center:0,radius:1,color:"#22c55e"},{type:"vertical",x:1.5,color:"#f59e0b"},{type:"semicircle",center:2,radius:1.5,color:"#ec4899"}];I.forEach(B=>{v.strokeStyle=B.color,v.lineWidth=2,v.setLineDash([4,4]),B.type==="vertical"&&B.x!==void 0?(v.beginPath(),v.moveTo(k(B.x),w),v.lineTo(k(B.x),10),v.stroke()):B.type==="semicircle"&&B.center!==void 0&&B.radius!==void 0&&(v.beginPath(),v.arc(k(B.center),w,B.radius*A,Math.PI,0),v.stroke())}),v.setLineDash([]),I.forEach(B=>{if(v.strokeStyle=B.color,v.lineWidth=3,B.type==="vertical"&&B.x!==void 0){v.beginPath();let G=!1;for(let V=.05;V<=5;V+=.1){const J=[B.x,V],ee=g(J);if(ee&&ee[1]>0&&Math.abs(ee[0])<8&&ee[1]<8){const re=k(ee[0]),se=D(ee[1]);G?v.lineTo(re,se):(v.moveTo(re,se),G=!0)}}v.stroke()}else if(B.type==="semicircle"&&B.center!==void 0&&B.radius!==void 0){v.beginPath();let G=!1;for(let V=.05;V<=Math.PI-.05;V+=.05){const J=B.center+B.radius*Math.cos(V),ee=B.radius*Math.sin(V),se=g([J,ee]);if(se&&se[1]>0&&Math.abs(se[0])<8&&se[1]<8){const he=k(se[0]),ae=D(se[1]);G?v.lineTo(he,ae):(v.moveTo(he,ae),G=!0)}}v.stroke()}}),v.fillStyle="#c084fc",v.font="11px sans-serif",v.fillText("All lines meet boundary at 90",10,30),v.fillStyle="#e2e8f0",v.font="bold 14px sans-serif";let $="";switch(n){case"translate":$=`f(z) = z + ${r}`;break;case"scale":$=`f(z) = ${l}z`;break;case"invert":$="f(z) = 1/z";break;case"custom":$=`f(z) = (${c}z + ${u})/(${x}z + ${M})`;break}v.fillText($,T-200,30),v.font="11px sans-serif",v.setLineDash([4,4]),v.strokeStyle="#60a5fa",v.beginPath(),v.moveTo(T-150,55),v.lineTo(T-110,55),v.stroke(),v.setLineDash([]),v.strokeStyle="#60a5fa",v.lineWidth=3,v.beginPath(),v.moveTo(T-150,75),v.lineTo(T-110,75),v.stroke(),v.fillStyle="#94a3b8",v.fillText("Original",T-100,58),v.fillText("Transformed",T-100,78)},[n,r,l,c,u,x,M]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Mbius Transformations Preserve Non-Euclidean Lines"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:T,height:S,className:"border border-slate-700 rounded"})}),i.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:["translate","scale","invert","custom"].map(E=>i.jsx("button",{onClick:()=>s(E),className:`px-3 py-2 text-sm rounded transition ${n===E?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:E==="translate"?"Translate (z+l)":E==="scale"?"Scale (kz)":E==="invert"?"Invert (1/z)":"Custom"},E))}),n==="translate"&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Translation: l = ",r]}),i.jsx("input",{type:"range",min:"-3",max:"3",step:"0.5",value:r,onChange:E=>a(parseFloat(E.target.value)),className:"w-full"})]}),n==="scale"&&i.jsxs("div",{className:"mb-4",children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["Scale factor: k = ",l]}),i.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.25",value:l,onChange:E=>o(parseFloat(E.target.value)),className:"w-full"})]}),n==="custom"&&i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["a = ",c]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:c,onChange:E=>h(parseFloat(E.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["b = ",u]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:u,onChange:E=>f(parseFloat(E.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["c = ",x]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:x,onChange:E=>b(parseFloat(E.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["d = ",M]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:M,onChange:E=>y(parseFloat(E.target.value)),className:"w-full"})]})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Key Points:"})}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsxs("li",{children:["Non-Euclidean lines are ",i.jsx("span",{className:"text-purple-400",children:"vertical rays"})," or ",i.jsx("span",{className:"text-purple-400",children:"semicircles"})," meeting  at 90"]}),i.jsxs("li",{children:["Mbius transformations preserve ",i.jsx("span",{className:"text-green-400",children:"generalized circles"})," (lines and circles)"]}),i.jsxs("li",{children:["Since they preserve ",i.jsx("span",{className:"text-amber-400",children:"angles"}),", the 90 property is maintained"]}),i.jsx("li",{children:"Vertical lines may become semicircles (and vice versa) but stay non-Euclidean lines"})]})]})]})}function MZ({className:t=""}){const e=q.useRef(null),[n,s]=q.useState(1),[r,a]=q.useState(1),[l,o]=q.useState(0),[c,h]=q.useState(1),[u,f]=q.useState(0),[x,b]=q.useState(90),M=600,y=380,T=(p,A)=>[p[0]+A[0],p[1]+A[1]],S=(p,A)=>[p[0]*A[0]-p[1]*A[1],p[0]*A[1]+p[1]*A[0]],N=(p,A)=>{const w=A[0]*A[0]+A[1]*A[1];return w<1e-4?null:[(p[0]*A[0]+p[1]*A[1])/w,(p[1]*A[0]-p[0]*A[1])/w]},j=p=>Math.sqrt(p[0]*p[0]+p[1]*p[1]),m=p=>{const A=[n,0],w=[r,0],k=[l,0],D=[c,0],I=T(S(A,p),w),$=T(S(k,p),D);return N(I,$)},g=p=>{const A=n*c-r*l,w=[l,0],k=[c,0],D=T(S(w,p),k),I=S(D,D);return j(I)<1e-4?null:N([A,0],I)},E=n*c-r*l,v=Math.abs(E)>.01;return q.useEffect(()=>{const p=e.current;if(!p)return;const A=p.getContext("2d");if(!A)return;A.fillStyle="#0f172a",A.fillRect(0,0,M,y);const w=M/4,k=3*M/4,D=y/2,I=50;A.strokeStyle="#334155",A.lineWidth=2,A.setLineDash([5,5]),A.beginPath(),A.moveTo(M/2,0),A.lineTo(M/2,y),A.stroke(),A.setLineDash([]),A.fillStyle="#e2e8f0",A.font="bold 14px sans-serif",A.fillText("Original (z-plane)",w-60,25),A.fillText("Transformed (w-plane)",k-75,25);const $=ae=>{A.strokeStyle="#1e293b",A.lineWidth=1;for(let Ne=-3;Ne<=3;Ne++)A.beginPath(),A.moveTo(ae+Ne*I,D-3*I),A.lineTo(ae+Ne*I,D+3*I),A.stroke();for(let Ne=-3;Ne<=3;Ne++)A.beginPath(),A.moveTo(ae-3*I,D-Ne*I),A.lineTo(ae+3*I,D-Ne*I),A.stroke();A.strokeStyle="#475569",A.lineWidth=2,A.beginPath(),A.moveTo(ae-3*I,D),A.lineTo(ae+3*I,D),A.stroke(),A.beginPath(),A.moveTo(ae,D-3*I),A.lineTo(ae,D+3*I),A.stroke()};$(w),$(k);const B=[1,1.5],G=u*Math.PI/180,V=x*Math.PI/180,J=[],ee=[];for(let ae=-2;ae<=2;ae+=.1){const Ne=[B[0]+ae*Math.cos(G),B[1]+ae*Math.sin(G)],Te=[B[0]+ae*Math.cos(V),B[1]+ae*Math.sin(V)];J.push(Ne),ee.push(Te)}const re=(ae,Ne,Te,tt)=>{A.strokeStyle=Ne,A.lineWidth=2,A.beginPath();let Ce=!1;ae.forEach(Ae=>{let Fe=tt?m(Ae):Ae;if(Fe&&Math.abs(Fe[0])<5&&Math.abs(Fe[1])<5){const Be=Te+Fe[0]*I,at=D-Fe[1]*I;Ce?A.lineTo(Be,at):(A.moveTo(Be,at),Ce=!0)}else Ce&&(A.stroke(),A.beginPath(),Ce=!1)}),A.stroke()};if(re(J,"#60a5fa",w,!1),re(ee,"#22c55e",w,!1),v&&(re(J,"#60a5fa",k,!0),re(ee,"#22c55e",k,!0)),A.fillStyle="#f59e0b",A.beginPath(),A.arc(w+B[0]*I,D-B[1]*I,6,0,Math.PI*2),A.fill(),v){const ae=m(B);ae&&Math.abs(ae[0])<5&&Math.abs(ae[1])<5&&(A.fillStyle="#f59e0b",A.beginPath(),A.arc(k+ae[0]*I,D-ae[1]*I,6,0,Math.PI*2),A.fill())}const se=25,he=Math.abs(x-u);if(A.strokeStyle="#ec4899",A.lineWidth=2,A.beginPath(),A.arc(w+B[0]*I,D-B[1]*I,se,-V,-G,x>u),A.stroke(),A.fillStyle="#ec4899",A.font="12px sans-serif",A.fillText(` = ${he}`,w+B[0]*I+30,D-B[1]*I-10),v){const ae=m(B);if(ae&&Math.abs(ae[0])<5&&Math.abs(ae[1])<5){const Ne=g(B);if(Ne){const Te=Math.atan2(Ne[1],Ne[0]),tt=G+Te,Ce=V+Te;A.strokeStyle="#ec4899",A.lineWidth=2,A.beginPath(),A.arc(k+ae[0]*I,D-ae[1]*I,se,-Ce,-tt,x>u),A.stroke(),A.fillStyle="#ec4899",A.fillText(` = ${he}`,k+ae[0]*I+30,D-ae[1]*I-10)}}}A.fillStyle="#c084fc",A.font="12px sans-serif",A.fillText(`f(z) = (${n}z + ${r})/(${l}z + ${c})`,M/2-100,y-15),A.fillStyle=v?"#22c55e":"#ef4444",A.font="11px sans-serif",A.fillText(v?" Conformal (angle-preserving)":" det = 0 (degenerate)",10,y-15)},[n,r,l,c,u,x,v]),i.jsxs("div",{className:`bg-slate-800/50 p-4 rounded-lg ${t}`,children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-400 mb-4",children:"Conformality: Angle Preservation"}),i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("canvas",{ref:e,width:M,height:y,className:"border border-slate-700 rounded"})}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-blue-400 mb-1",children:["Curve 1 angle: ",u,""]}),i.jsx("input",{type:"range",min:"0",max:"180",value:u,onChange:p=>f(parseInt(p.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-green-400 mb-1",children:["Curve 2 angle: ",x,""]}),i.jsx("input",{type:"range",min:"0",max:"180",value:x,onChange:p=>b(parseInt(p.target.value)),className:"w-full"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["a = ",n]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:n,onChange:p=>s(parseFloat(p.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["b = ",r]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:r,onChange:p=>a(parseFloat(p.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["c = ",l]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:l,onChange:p=>o(parseFloat(p.target.value)),className:"w-full"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm text-slate-400 mb-1",children:["d = ",c]}),i.jsx("input",{type:"range",min:"-2",max:"2",step:"0.5",value:c,onChange:p=>h(parseFloat(p.target.value)),className:"w-full"})]})]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-2 mb-4",children:[i.jsx("button",{onClick:()=>{s(1),a(1),o(0),h(1)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Translation"}),i.jsx("button",{onClick:()=>{s(2),a(0),o(0),h(1)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Scaling"}),i.jsx("button",{onClick:()=>{s(0),a(1),o(1),h(0)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"Inversion"}),i.jsx("button",{onClick:()=>{s(1),a(1),o(1),h(2)},className:"px-3 py-2 text-sm rounded bg-slate-700 text-slate-300 hover:bg-slate-600 transition",children:"General"})]}),i.jsxs("div",{className:"bg-slate-900/50 p-3 rounded text-sm text-slate-300",children:[i.jsx("p",{className:"mb-2",children:i.jsx("strong",{children:"Key Properties:"})}),i.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[i.jsxs("li",{children:[i.jsx("span",{className:"text-purple-400",children:"Conformal"})," = angle-preserving at each point"]}),i.jsx("li",{children:"Mbius transformations preserve angles because f'(z)  0"}),i.jsxs("li",{children:["The angle ",i.jsx("span",{className:"text-pink-400",children:""})," between curves is the same before and after"]}),i.jsxs("li",{children:["Distances and areas change, but ",i.jsx("span",{className:"text-green-400",children:"angles are preserved"})]}),i.jsx("li",{children:"This is why non-Euclidean lines (90 to boundary) map to non-Euclidean lines"})]})]})]})}function EZ(){return i.jsxs(qe,{sectionId:57,children:[i.jsx("h2",{children:"Extending the Projective Line to a Plane"}),i.jsxs("p",{children:['In Section 5.4 we saw how the real projective line P extends the ordinary real number line  by adding a "point at infinity." The points of P can be viewed as slopes, and the extra point  is the "infinite slope" of a vertical line. For reasons that will become clear, we now extend  in a different direction  into the ',i.jsx("strong",{children:"upper half plane"}),"."]}),i.jsx("h3",{children:"The Upper Half Plane"}),i.jsxs(xe,{title:"Upper Half Plane",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"upper half plane"})," consists of all complex numbers z = x + iy with y > 0:"]}),i.jsx(Y,{children:"\\mathcal{H} = \\{z = x + iy \\in \\mathbb{C} : y > 0\\}"}),i.jsxs("p",{className:"mt-2",children:["The boundary of  is the real axis  together with the point . We denote this extended boundary by   ","{","","}"," = P."]})]}),i.jsx("p",{children:"We already know that the transformations of P are the linear fractional functions. These extend naturally to the upper half plane."}),i.jsxs(xe,{title:"Linear Fractional Transformations",children:[i.jsxs("p",{children:["A ",i.jsx("strong",{children:"linear fractional transformation"})," (or Mbius transformation) is a function of the form:"]}),i.jsx(Y,{children:"f(z) = \\frac{az + b}{cz + d}"}),i.jsx("p",{className:"mt-2",children:"where a, b, c, d are real numbers with ad - bc  0. When ad - bc > 0, these transformations map the upper half plane to itself."})]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"From Line to Plane:"})," The remarkable fact is that the transformations of P extend to transformations of the upper half plane, and this extension reveals a beautiful non-Euclidean geometry."]}),i.jsx("h3",{children:"Non-Euclidean Lines"}),i.jsx("p",{children:'The key to non-Euclidean geometry in the upper half plane is the definition of "lines." These are not ordinary straight lines, but rather special curves that play the role of geodesics.'}),i.jsxs(xe,{title:"Non-Euclidean Lines",children:[i.jsxs("p",{children:["A ",i.jsx("strong",{children:"non-Euclidean line"})," (or hyperbolic line) in the upper half plane is one of the following:"]}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"A vertical ray: x = c for some constant c, with y > 0"}),i.jsx("li",{children:"A semicircle with center on the x-axis (and y > 0 only)"})]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Why These Curves?"}),i.jsx("p",{className:"text-slate-300",children:'Both vertical rays and semicircles with centers on the x-axis share an important property: they meet the x-axis at right angles. This orthogonality to the boundary is what makes them behave like "straight lines" in hyperbolic geometry.'})]}),i.jsx(TZ,{className:"my-6"}),i.jsx("h3",{children:"Uniqueness of Non-Euclidean Lines"}),i.jsx(ue,{title:"Unique Line Through Two Points",children:i.jsx("p",{children:"Given any two distinct points P and Q in the upper half plane, there is exactly one non-Euclidean line passing through both of them."})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof Sketch"}),i.jsx("p",{className:"text-slate-300 mb-3",children:"Consider two cases:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-300",children:[i.jsx("li",{children:"If P and Q have the same real part (lie on a vertical line), then the unique non-Euclidean line through them is that vertical ray."}),i.jsx("li",{children:"If P and Q have different real parts, there is a unique circle through them with center on the x-axis. The upper semicircle of this circle is the unique non-Euclidean line through P and Q."})]}),i.jsx("p",{className:"text-slate-300 mt-3",children:"The center of the circle is found by noting that it must be equidistant from P and Q, hence lies on the perpendicular bisector of segment PQ. The intersection of this bisector with the x-axis gives the center."})]}),i.jsx("h3",{children:"Failure of the Parallel Axiom"}),i.jsxs("p",{children:["The most striking feature of non-Euclidean geometry is that the parallel axiom fails. Given a non-Euclidean line L and a point P not on L, there are ",i.jsx("em",{children:"infinitely many"})," non-Euclidean lines through P that do not meet L."]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Example: Multiple Parallels"}),i.jsx("p",{className:"text-slate-300 mb-3",children:"Let L be the vertical line x = 0 (the positive imaginary axis), and let P = 1 + i (the point at real part 1, imaginary part 1)."}),i.jsx("p",{className:"text-slate-300",children:"Any semicircle with center at c > 0 on the positive x-axis, passing through P but with radius less than c, will be a non-Euclidean line through P that never meets L. There are infinitely many such semicircles."})]}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Hyperbolic vs. Euclidean:"}),' In Euclidean geometry, given a line L and point P not on L, there is exactly one line through P parallel to L. In hyperbolic geometry, there are infinitely many such "parallel" lines. This is the defining characteristic of hyperbolic geometry.']}),i.jsx("h3",{children:"The Role of Linear Fractional Transformations"}),i.jsx("p",{children:"Linear fractional transformations with real coefficients and positive determinant (ad - bc > 0) preserve the upper half plane. Moreover, they map non-Euclidean lines to non-Euclidean lines."}),i.jsx(ue,{title:"Lines Preserved",children:i.jsx("p",{children:"If f(z) = (az + b)/(cz + d) with a, b, c, d   and ad - bc > 0, then f maps non-Euclidean lines in  to non-Euclidean lines in ."})}),i.jsx("p",{children:'This property means that linear fractional transformations play the role of "rigid motions" in hyperbolic geometry. They preserve the fundamental structure of the geometry, just as rotations and translations preserve structure in Euclidean geometry.'}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.1.1"}),i.jsx("p",{className:"text-slate-300",children:"Find the non-Euclidean line through the points i and 2i (both on the imaginary axis)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.1.2"}),i.jsx("p",{className:"text-slate-300",children:"Find the non-Euclidean line through the points i and 1 + i."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.1.3"}),i.jsx("p",{className:"text-slate-300",children:"Show that any semicircle with center on the x-axis meets the x-axis at right angles."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.1.4"}),i.jsx("p",{className:"text-slate-300",children:"Given the non-Euclidean line L that is the positive imaginary axis and the point P = 2 + i, find infinitely many non-Euclidean lines through P that do not meet L."})]}),i.jsx(Re,{sectionId:57,questions:Xe[57]||[],title:"Extending the Projective Line Quiz"})]})}function CZ(){return i.jsxs(qe,{sectionId:58,children:[i.jsx("h2",{children:"Complex Conjugation"}),i.jsxs("p",{children:["To understand the full group of transformations of the upper half plane, we need to introduce a fundamental operation on complex numbers:",i.jsx("strong",{children:" complex conjugation"}),". This operation will allow us to define reflections in non-Euclidean geometry."]}),i.jsx("h3",{children:"The Conjugate of a Complex Number"}),i.jsxs(xe,{title:"Complex Conjugate",children:[i.jsxs("p",{children:["If z = x + iy is a complex number (where x and y are real), then the",i.jsx("strong",{children:" complex conjugate"})," of z is:"]}),i.jsx(Y,{children:"\\bar{z} = x - iy"}),i.jsx("p",{className:"mt-2",children:"Geometrically, z is the reflection of z across the real axis."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Examples"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-300",children:[i.jsx("li",{children:"If z = 3 + 4i, then z = 3 - 4i"}),i.jsx("li",{children:"If z = -2 + i, then z = -2 - i"}),i.jsx("li",{children:"If z = 5 (real), then z = 5"}),i.jsx("li",{children:"If z = 2i (pure imaginary), then z = -2i"})]})]}),i.jsx("h3",{children:"Properties of Complex Conjugation"}),i.jsxs(ue,{title:"Algebraic Properties",children:[i.jsx("p",{children:"Complex conjugation satisfies the following properties for any complex numbers z and w:"}),i.jsx(Y,{children:"\\overline{z + w} = \\bar{z} + \\bar{w}"}),i.jsx(Y,{children:"\\overline{z \\cdot w} = \\bar{z} \\cdot \\bar{w}"}),i.jsx(Y,{children:"\\overline{z / w} = \\bar{z} / \\bar{w} \\quad (w \\neq 0)"}),i.jsx(Y,{children:"\\overline{\\bar{z}} = z"})]}),i.jsx("p",{children:'The first three properties say that conjugation "respects" addition, multiplication, and division. The fourth says that conjugating twice returns the original number.'}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Automorphism:"})," These properties make complex conjugation an automorphism of the complex numbers  it preserves the algebraic structure while not being the identity map."]}),i.jsx("h3",{children:"Conjugation and Absolute Value"}),i.jsx("p",{children:"There is an important relationship between conjugation and the absolute value (modulus) of a complex number."}),i.jsxs(ue,{title:"Modulus via Conjugation",children:[i.jsx("p",{children:"For any complex number z = x + iy:"}),i.jsx(Y,{children:"z \\cdot \\bar{z} = |z|^2 = x^2 + y^2"}),i.jsx("p",{className:"mt-2",children:"This gives us a way to find |z| using conjugation, and also provides a formula for division:"}),i.jsx(Y,{children:"\\frac{1}{z} = \\frac{\\bar{z}}{|z|^2}"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Proof"}),i.jsx("p",{className:"text-slate-300",children:"If z = x + iy, then:"}),i.jsx(Y,{children:"z \\cdot \\bar{z} = (x + iy)(x - iy) = x^2 - (iy)^2 = x^2 - i^2y^2 = x^2 + y^2"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Since i = -1, the imaginary terms cancel, leaving a real number."})]}),i.jsx("h3",{children:"Extended Linear Fractional Transformations"}),i.jsx("p",{children:"Using complex conjugation, we can extend our family of transformations to include reflections."}),i.jsxs(xe,{title:"Extended Mbius Transformations",children:[i.jsxs("p",{children:["An ",i.jsx("strong",{children:"extended Mbius transformation"})," is either:"]}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"A linear fractional transformation: f(z) = (az + b)/(cz + d)"}),i.jsx("li",{children:"A conjugate-linear transformation: f(z) = (az + b)/(cz + d)"})]}),i.jsx("p",{className:"mt-2",children:"where a, b, c, d are real and ad - bc  0."})]}),i.jsx("p",{children:"The transformations of the first type preserve orientation, while those of the second type reverse orientation (like reflections)."}),i.jsx("h3",{children:"The Effect of Conjugation on the Upper Half Plane"}),i.jsx(ue,{title:"Conjugation Maps",children:i.jsx("p",{children:"The map z  -z sends the upper half plane to itself (reflection across the imaginary axis), while z  z sends the upper half plane to the lower half plane (reflection across the real axis)."})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Verification"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"Let z = x + iy with y > 0 (so z is in the upper half plane)."}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-300",children:[i.jsx("li",{children:"z = x - iy has imaginary part -y < 0, so it's in the lower half plane."}),i.jsx("li",{children:"-z = -(x - iy) = -x + iy has imaginary part y > 0, so it's in the upper half plane."})]})]}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Orientation:"})," The map z  -z reverses orientation. When we compose an odd number of such orientation-reversing maps, we get a reflection. When we compose an even number, we get an ordinary (orientation-preserving) transformation."]}),i.jsx("h3",{children:"Real and Imaginary Parts"}),i.jsx("p",{children:"Conjugation gives us a way to extract the real and imaginary parts of a complex number."}),i.jsxs(ue,{title:"Extracting Parts",children:[i.jsx("p",{children:"For z = x + iy:"}),i.jsx(Y,{children:"\\text{Re}(z) = x = \\frac{z + \\bar{z}}{2}"}),i.jsx(Y,{children:"\\text{Im}(z) = y = \\frac{z - \\bar{z}}{2i}"})]}),i.jsx("p",{children:"These formulas will be useful when we analyze how transformations affect points in the upper half plane."}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.2.1"}),i.jsx("p",{className:"text-slate-300",children:"Verify that (zz) = zz by direct calculation using z = a + bi and z = c + di."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.2.2"}),i.jsx("p",{className:"text-slate-300",children:"Show that z is real if and only if z = z."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.2.3"}),i.jsx("p",{className:"text-slate-300",children:"Show that z is pure imaginary if and only if z = -z."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.2.4"}),i.jsx("p",{className:"text-slate-300",children:"Prove that |z| = |z| for any complex number z."})]}),i.jsx(Re,{sectionId:58,questions:Xe[58]||[],title:"Complex Conjugation Quiz"})]})}function zZ(){return i.jsxs(qe,{sectionId:59,children:[i.jsx("h2",{children:"Reflections and Mbius Transformations"}),i.jsxs("p",{children:["Now we bring together complex conjugation and linear fractional transformations to define ",i.jsx("strong",{children:"reflections"})," in hyperbolic geometry. These reflections, together with the orientation-preserving transformations, generate all isometries of the hyperbolic plane."]}),i.jsx("h3",{children:"Mbius Transformations"}),i.jsxs(xe,{title:"Mbius Transformation",children:[i.jsxs("p",{children:["A ",i.jsx("strong",{children:"Mbius transformation"})," of the upper half plane is a map of one of the two forms:"]}),i.jsx(Y,{children:"f(z) = \\frac{az + b}{cz + d} \\quad \\text{(orientation-preserving)}"}),i.jsx(Y,{children:"f(z) = \\frac{a\\bar{z} + b}{c\\bar{z} + d} \\quad \\text{(orientation-reversing)}"}),i.jsx("p",{className:"mt-2",children:"where a, b, c, d are real numbers with ad - bc > 0 for the first form and ad - bc < 0 for the second form."})]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Sign Convention:"})," The condition on ad - bc ensures that the transformation maps the upper half plane to itself. For orientation-preserving maps we need ad - bc > 0, and for orientation-reversing maps we need ad - bc < 0."]}),i.jsx("h3",{children:"Generating Transformations"}),i.jsx("p",{children:"All Mbius transformations can be built from a small set of simple generators. This is analogous to how all isometries of the Euclidean plane can be built from translations, rotations, and reflections."}),i.jsxs(ue,{title:"Generators of Mbius Transformations",children:[i.jsx("p",{children:"Every Mbius transformation of the upper half plane is a composition of the following generators:"}),i.jsxs("div",{className:"mt-3 space-y-2",children:[i.jsx(Y,{children:"z \\mapsto z + l \\quad \\text{(horizontal translation by } l \\in \\mathbb{R}\\text{)}"}),i.jsx(Y,{children:"z \\mapsto kz \\quad \\text{(scaling by } k > 0\\text{)}"}),i.jsx(Y,{children:"z \\mapsto -\\bar{z} \\quad \\text{(reflection in imaginary axis)}"}),i.jsx(Y,{children:"z \\mapsto \\frac{1}{\\bar{z}} \\quad \\text{(inversion-reflection)}"})]})]}),i.jsx("h3",{children:"Understanding the Generators"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Horizontal Translation: z  z + l"}),i.jsx("p",{className:"text-slate-300",children:"This shifts every point horizontally by l units. If z = x + iy, then z + l = (x + l) + iy. The imaginary part (height above the x-axis) is unchanged."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Scaling: z  kz"}),i.jsx("p",{className:"text-slate-300",children:"This scales distances from the origin by factor k. If z = x + iy, then kz = kx + iky. Both real and imaginary parts are multiplied by k. This is a dilation centered at the origin."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Reflection in Imaginary Axis: z  -z"}),i.jsx("p",{className:"text-slate-300",children:"If z = x + iy, then -z = -x + iy. This reflects points across the imaginary axis (the y-axis). Points on the imaginary axis are fixed."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Inversion-Reflection: z  1/z"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"This is a composition of inversion in the unit circle and reflection across the real axis. It maps the unit semicircle to itself and exchanges points inside and outside the unit circle."}),i.jsx("p",{className:"text-slate-300",children:"For example: i  1/(-i) = -1/i = i (fixed), and 2i  1/(-2i) = i/2."})]}),i.jsx(SZ,{className:"my-6"}),i.jsx("h3",{children:"Reflections in Non-Euclidean Lines"}),i.jsxs("p",{children:["A ",i.jsx("strong",{children:"reflection"})," in a non-Euclidean line L is a Mbius transformation that fixes every point on L and reverses orientation."]}),i.jsxs(ue,{title:"Reflection Formulas",children:[i.jsx("p",{children:"The reflection in a non-Euclidean line is given by:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Reflection in vertical line x = a:"}),i.jsx(Y,{children:"z \\mapsto -\\bar{z} + 2a = 2a - \\bar{z}"})]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Reflection in semicircle with center c and radius r:"}),i.jsx(Y,{children:"z \\mapsto c + \\frac{r^2}{\\bar{z} - c}"})]})]})]}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Circle Inversion:"}),' The reflection in a semicircular non-Euclidean line is related to "circle inversion" in Euclidean geometry. However, the conjugation ensures that the upper half plane maps to itself.']}),i.jsx("h3",{children:"Verification: Reflection in Imaginary Axis"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Checking the Formula"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"The imaginary axis is the vertical line x = 0. The reflection formula gives z  2(0) - z = -z."}),i.jsx("p",{className:"text-slate-300 mb-2",children:"Let's verify this works:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-300",children:[i.jsx("li",{children:"Points on the imaginary axis: z = iy  -z = -(-iy) = iy  (fixed)"}),i.jsx("li",{children:"The map z  -z reverses orientation "}),i.jsx("li",{children:"Applying twice: z  -z  -(-z) = -(-z) = z  (involution)"})]})]}),i.jsx("h3",{children:"Composition of Reflections"}),i.jsx("p",{children:"An important fact, familiar from Euclidean geometry, is that the composition of two reflections gives an orientation-preserving transformation."}),i.jsx(ue,{title:"Two Reflections",children:i.jsx("p",{children:"The composition of two reflections in non-Euclidean lines is an orientation-preserving Mbius transformation (a hyperbolic motion). Conversely, every orientation-preserving Mbius transformation is a composition of two reflections."})}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.3.1"}),i.jsx("p",{className:"text-slate-300",children:"Verify that z  z + l maps the upper half plane to itself."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.3.2"}),i.jsx("p",{className:"text-slate-300",children:"Show that z  kz (for k > 0) maps non-Euclidean lines to non-Euclidean lines."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.3.3"}),i.jsx("p",{className:"text-slate-300",children:"Find the image of the point 1 + i under the reflection in the non-Euclidean line x = 0 (the imaginary axis)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.3.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that z  1/z fixes every point on the unit semicircle |z| = 1, y > 0."})]}),i.jsx(Re,{sectionId:59,questions:Xe[59]||[],title:"Reflections and Mbius Transformations Quiz"})]})}function DZ(){return i.jsxs(qe,{sectionId:60,children:[i.jsx("h2",{children:"Preserving Non-Euclidean Lines"}),i.jsx("p",{children:'A crucial property of Mbius transformations is that they map non-Euclidean lines to non-Euclidean lines. This makes them the natural "rigid motions" of hyperbolic geometry, just as isometries (rotations, reflections, translations) are the rigid motions of Euclidean geometry.'}),i.jsx("h3",{children:"Lines and Circles in the Complex Plane"}),i.jsx("p",{children:"Before proving that Mbius transformations preserve non-Euclidean lines, we need to understand how lines and circles are related in complex analysis."}),i.jsxs(xe,{title:"Generalized Circles",children:[i.jsxs("p",{children:["In complex analysis, a ",i.jsx("strong",{children:"generalized circle"})," is either:"]}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"An ordinary circle, or"}),i.jsx("li",{children:'A straight line (viewed as a "circle through ")'})]}),i.jsx("p",{className:"mt-2",children:"This unified view is natural in projective geometry, where the point at infinity is treated on equal footing with finite points."})]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Why Unify Lines and Circles?"})," When we add the point  to the complex plane (forming the Riemann sphere), straight lines become circles passing through . A Mbius transformation might map a line to a circle or vice versa, but it always maps generalized circles to generalized circles."]}),i.jsx("h3",{children:"The Main Preservation Theorem"}),i.jsxs(ue,{title:"Mbius Transformations Preserve Generalized Circles",children:[i.jsx("p",{children:"Every Mbius transformation maps generalized circles to generalized circles. In particular:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"Lines through  may map to circles not through , and vice versa"}),i.jsx("li",{children:"Circles not through  map to circles not through "})]})]}),i.jsx("p",{children:"To prove this, we check that each generating transformation preserves generalized circles."}),i.jsx("h3",{children:"Checking the Generators"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Translation: z  z + l"}),i.jsx("p",{className:"text-slate-300",children:"Translation moves every point by the same amount, so circles remain circles (just shifted) and lines remain lines (just shifted). "})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Scaling: z  kz"}),i.jsx("p",{className:"text-slate-300",children:"Scaling by k > 0 preserves circles (just changes radius by factor k) and preserves lines through the origin. Lines not through the origin become lines not through the origin. "})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Conjugation: z  z"}),i.jsx("p",{className:"text-slate-300",children:"Reflection across the real axis preserves circles (just reflects them) and preserves lines (reflects them). "})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Inversion: z  1/z"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"This is the key case. Inversion maps:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-300",children:[i.jsx("li",{children:"Circles through the origin  lines not through the origin"}),i.jsx("li",{children:"Lines through the origin  lines through the origin"}),i.jsx("li",{children:"Circles not through the origin  circles not through the origin"}),i.jsx("li",{children:"Lines not through the origin  circles through the origin"})]}),i.jsx("p",{className:"text-slate-300 mt-2",children:"So generalized circles map to generalized circles. "})]}),i.jsx("h3",{children:"Preserving Non-Euclidean Lines"}),i.jsx("p",{children:"A non-Euclidean line is a special kind of generalized circle: one that meets the real axis at right angles. We need to show that Mbius transformations preserve this property."}),i.jsx(ue,{title:"Orthogonality to the Boundary",children:i.jsxs("p",{children:["If a Mbius transformation f maps the upper half plane to itself, and L is a non-Euclidean line (meeting   ","{","","}"," orthogonally), then f(L) is also a non-Euclidean line."]})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Key Insight"}),i.jsxs("p",{className:"text-slate-300",children:["Mbius transformations are ",i.jsx("em",{children:"conformal"}),"  they preserve angles. Since non-Euclidean lines are characterized by meeting the boundary at right angles, and Mbius transformations preserve both the boundary and angles, they must preserve non-Euclidean lines."]})]}),i.jsx("h3",{children:"Examples"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Example 1: Translation"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"The map z  z + 2 shifts everything right by 2 units."}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-300",children:[i.jsx("li",{children:"The vertical line x = 0 maps to the vertical line x = 2"}),i.jsx("li",{children:"The semicircle centered at 0 with radius 1 maps to the semicircle centered at 2 with radius 1"})]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Example 2: Scaling"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"The map z  3z scales by factor 3."}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-300",children:[i.jsx("li",{children:"The vertical line x = 1 maps to the vertical line x = 3"}),i.jsx("li",{children:"The semicircle centered at 0 with radius 1 maps to the semicircle centered at 0 with radius 3"})]})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Example 3: Inversion"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"The map z  1/z (or z  1/z for the upper half plane version)."}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-300",children:[i.jsx("li",{children:"The imaginary axis maps to itself"}),i.jsx("li",{children:"The unit semicircle maps to itself"}),i.jsx("li",{children:"A vertical line x = a maps to a semicircle through the origin"})]})]}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Non-Euclidean to Non-Euclidean:"}),' While a Mbius transformation might turn a vertical ray into a semicircle (or vice versa), it always maps non-Euclidean lines to non-Euclidean lines. The "straightness" is preserved in the hyperbolic sense, not the Euclidean sense.']}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.4.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that z  2z maps the semicircle centered at 1 with radius 1 to the semicircle centered at 2 with radius 2."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.4.2"}),i.jsx("p",{className:"text-slate-300",children:"Find the image of the vertical line x = 1 under the map z  1/z."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.4.3"}),i.jsx("p",{className:"text-slate-300",children:"Verify that z  -1/z maps the upper half plane to itself and preserves the unit semicircle."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.4.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that if two non-Euclidean lines intersect at a point P, and f is a Mbius transformation, then f(L) and f(L) intersect at f(P)."})]}),i.jsx(kZ,{className:"my-6"}),i.jsx(Re,{sectionId:60,questions:Xe[60]||[],title:"Preserving Non-Euclidean Lines Quiz"})]})}function PZ(){return i.jsxs(qe,{sectionId:61,children:[i.jsx("h2",{children:"Preserving Angle"}),i.jsxs("p",{children:["One of the most important properties of Mbius transformations is that they are ",i.jsx("strong",{children:"conformal"}),'  they preserve angles. This property is crucial for understanding why Mbius transformations are the natural "rigid motions" of hyperbolic geometry.']}),i.jsx("h3",{children:'What Does "Preserve Angles" Mean?'}),i.jsx(xe,{title:"Conformal Map",children:i.jsxs("p",{children:["A map f is ",i.jsx("strong",{children:"conformal"})," (angle-preserving) at a point P if, whenever two smooth curves meet at P with angle , their images under f meet at f(P) with the same angle ."]})}),i.jsx("p",{children:"More precisely, we consider the angles between the tangent vectors to the curves at the point of intersection. A conformal map preserves these angles in both magnitude and sense (unless it's orientation-reversing, in which case it preserves magnitude but reverses sense)."}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Local vs. Global:"})," Conformality is a local property  it says something about how the map behaves near each point. It doesn't require that distances or areas be preserved, only angles."]}),i.jsx("h3",{children:"Why Mbius Transformations Are Conformal"}),i.jsx("p",{children:"We can verify conformality by checking the generating transformations."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Translation: z  z + l"}),i.jsx("p",{className:"text-slate-300",children:"Translation is an isometry of the Euclidean plane  it preserves all distances and angles. "})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Scaling: z  kz"}),i.jsx("p",{className:"text-slate-300",children:"Scaling by k > 0 is a similarity transformation. While it changes distances (multiplying them by k), it preserves angles. "})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Conjugation: z  z"}),i.jsx("p",{className:"text-slate-300",children:"Reflection across the real axis is an isometry. It preserves angle magnitudes but reverses orientation. "})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Inversion: z  1/z"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"This is the key case. Inversion in a circle is known to be conformal. The proof requires calculus (checking that the derivative has constant argument at each point), but the result is classical."}),i.jsx("p",{className:"text-slate-300",children:"Since 1/z = z/|z| is the composition of conjugation z  z and scaling by 1/|z|, and both preserve angles, so does 1/z. "})]}),i.jsx(ue,{title:"Mbius Transformations Are Conformal",children:i.jsx("p",{children:"Every Mbius transformation is conformal. Orientation-preserving Mbius transformations preserve the sense of angles, while orientation-reversing ones (those involving conjugation) reverse the sense."})}),i.jsx("h3",{children:"The Derivative Approach"}),i.jsx("p",{children:"For those familiar with complex analysis, there's an elegant way to see why Mbius transformations are conformal."}),i.jsxs(xe,{title:"Complex Derivative",children:[i.jsxs("p",{children:["A function f(z) is ",i.jsx("strong",{children:"complex differentiable"})," (or holomorphic) at z if the limit"]}),i.jsx(Y,{children:"f'(z_0) = \\lim_{z \\to z_0} \\frac{f(z) - f(z_0)}{z - z_0}"}),i.jsx("p",{className:"mt-2",children:"exists. If f'(z)  0, then f is conformal at z."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Computing the Derivative"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"For f(z) = (az + b)/(cz + d), using the quotient rule:"}),i.jsx(Y,{children:"f'(z) = \\frac{a(cz+d) - c(az+b)}{(cz+d)^2} = \\frac{ad - bc}{(cz+d)^2}"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Since ad - bc  0 by assumption, we have f'(z)  0 wherever f is defined. Hence f is conformal everywhere in its domain."})]}),i.jsx("h3",{children:"Angle Preservation and Hyperbolic Geometry"}),i.jsx("p",{children:"The conformal property has important implications for hyperbolic geometry:"}),i.jsx(ue,{title:"Hyperbolic Angles = Euclidean Angles",children:i.jsx("p",{children:"The angle between two non-Euclidean lines at their point of intersection equals the Euclidean angle between them (as curves in the complex plane)."})}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Same Angles, Different Distances:"})," While hyperbolic geometry has its own notion of distance (which we'll see in the next section), the angles are the same as Euclidean angles. This is because we measure angles using the Euclidean metric on the tangent space."]}),i.jsx("h3",{children:"Application: Right Angles"}),i.jsx("p",{children:"The preservation of angles explains why non-Euclidean lines (which meet the boundary at right angles) map to non-Euclidean lines."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Orthogonal Trajectories"}),i.jsx("p",{className:"text-slate-300",children:'If L and L are perpendicular non-Euclidean lines, and f is a Mbius transformation, then f(L) and f(L) are also perpendicular. This preserves the geometric structure of "perpendicular bisectors" and other orthogonality relationships in hyperbolic geometry.'})]}),i.jsx("h3",{children:"Conformality and the Cross-Ratio"}),i.jsx("p",{children:"The conformal property of Mbius transformations is closely related to their preservation of the cross-ratio, which we studied in projective geometry. Both properties make Mbius transformations the natural symmetries of the hyperbolic plane."}),i.jsx(ue,{title:"Triple Transitivity",children:i.jsxs("p",{children:["Given any three distinct points on   ","{","","}"," and any other three distinct points on   ","{","","}",", there is a unique Mbius transformation mapping the first triple to the second."]})}),i.jsx("p",{children:'This means the group of Mbius transformations acts "triply transitively" on the boundary of the hyperbolic plane, just as the group of isometries acts transitively on oriented triangles in Euclidean geometry.'}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.5.1"}),i.jsx("p",{className:"text-slate-300",children:"Show that the composition of two conformal maps is conformal."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.5.2"}),i.jsx("p",{className:"text-slate-300",children:"Verify that z  z is conformal except at z = 0. What happens to angles at the origin?"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.5.3"}),i.jsx("p",{className:"text-slate-300",children:"Find the angle between the imaginary axis and the semicircle centered at 1 with radius 1, at their point of intersection."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.5.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that z  -z preserves angle magnitudes but reverses orientation (clockwise angles become counterclockwise)."})]}),i.jsx(MZ,{className:"my-6"}),i.jsx(Re,{sectionId:61,questions:Xe[61]||[],title:"Preserving Angle Quiz"})]})}function IZ(){return i.jsxs(qe,{sectionId:62,children:[i.jsx("h2",{children:"Non-Euclidean Distance"}),i.jsxs("p",{children:["So far, we have seen that Mbius transformations preserve angles and non-Euclidean lines. But what about distance? In this section, we define a notion of ",i.jsx("strong",{children:"hyperbolic distance"})," that Mbius transformations preserve."]}),i.jsx("h3",{children:"Distance on the Imaginary Axis"}),i.jsx("p",{children:"We start by defining distance along the imaginary axis, which is the simplest non-Euclidean line."}),i.jsxs(xe,{title:"Non-Euclidean Distance on the Imaginary Axis",children:[i.jsxs("p",{children:["For two points pi and qi on the positive imaginary axis (where 0 < p < q), the ",i.jsx("strong",{children:"non-Euclidean distance"})," is:"]}),i.jsx(Y,{children:"\\text{ndist}(pi, qi) = \\left| \\log \\frac{q}{p} \\right| = \\log \\frac{q}{p}"})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Examples"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-300",children:[i.jsx("li",{children:"ndist(i, 2i) = log(2/1) = log 2  0.693"}),i.jsx("li",{children:"ndist(i, ei) = log(e/1) = 1"}),i.jsx("li",{children:"ndist(2i, 4i) = log(4/2) = log 2"}),i.jsx("li",{children:"ndist(i, 10i) = log 10  2.303"})]})]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Logarithmic Scale:"})," Notice that equal Euclidean distances become unequal hyperbolic distances depending on height. The distance from i to 2i equals the distance from 2i to 4i, even though 4i - 2i = 2i is twice as large as 2i - i = i in Euclidean terms."]}),i.jsx("h3",{children:"Why This Formula?"}),i.jsx("p",{children:"The logarithmic formula is motivated by the requirement that certain Mbius transformations preserve distance."}),i.jsxs(ue,{title:"Scaling Preserves Distance",children:[i.jsx("p",{children:"The transformation z  kz (for k > 0) preserves non-Euclidean distance on the imaginary axis:"}),i.jsx(Y,{children:"\\text{ndist}(kpi, kqi) = \\log \\frac{kq}{kp} = \\log \\frac{q}{p} = \\text{ndist}(pi, qi)"})]}),i.jsx("h3",{children:"Distance via the Cross-Ratio"}),i.jsx("p",{children:"The general formula for non-Euclidean distance uses the cross-ratio, connecting hyperbolic geometry back to projective geometry."}),i.jsxs(xe,{title:"General Non-Euclidean Distance",children:[i.jsxs("p",{children:["For two points P and Q in the upper half plane, let L be the unique non-Euclidean line through them. Let A and B be the endpoints of L on   ","{","","}",". Then:"]}),i.jsx(Y,{children:"\\text{ndist}(P, Q) = \\left| \\log \\text{CR}(A, P, Q, B) \\right|"}),i.jsx("p",{className:"mt-2",children:"where CR(A, P, Q, B) is the cross-ratio of the four points A, P, Q, B."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Recall: Cross-Ratio"}),i.jsx("p",{className:"text-slate-300",children:"The cross-ratio of four points z, z, z, z on a line is:"}),i.jsx(Y,{children:"\\text{CR}(z_1, z_2, z_3, z_4) = \\frac{(z_1 - z_3)(z_2 - z_4)}{(z_1 - z_4)(z_2 - z_3)}"})]}),i.jsx("h3",{children:"Properties of Non-Euclidean Distance"}),i.jsxs(ue,{title:"Metric Properties",children:[i.jsx("p",{children:"Non-Euclidean distance is a genuine metric:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"ndist(P, Q)  0, with equality iff P = Q"}),i.jsx("li",{children:"ndist(P, Q) = ndist(Q, P) (symmetry)"}),i.jsx("li",{children:"ndist(P, R)  ndist(P, Q) + ndist(Q, R) (triangle inequality)"})]})]}),i.jsxs(ue,{title:"Mbius Transformations Preserve Distance",children:[i.jsx("p",{children:"If f is a Mbius transformation of the upper half plane, then:"}),i.jsx(Y,{children:"\\text{ndist}(f(P), f(Q)) = \\text{ndist}(P, Q)"}),i.jsx("p",{className:"mt-2",children:"This follows from the fact that Mbius transformations preserve the cross-ratio."})]}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Isometries:"})," Since Mbius transformations preserve both lines and distances, they are the ",i.jsx("em",{children:"isometries"})," of hyperbolic geometry  the analogues of rigid motions in Euclidean geometry."]}),i.jsx("h3",{children:"Geodesics Minimize Distance"}),i.jsx("p",{children:"Just as straight lines minimize Euclidean distance, non-Euclidean lines minimize hyperbolic distance."}),i.jsx(ue,{title:"Geodesic Property",children:i.jsx("p",{children:"If P and Q are two points in the upper half plane, the shortest path between them (in the hyperbolic metric) is the arc of the non-Euclidean line through P and Q."})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Visualization"}),i.jsx("p",{className:"text-slate-300",children:'Imagine the hyperbolic plane as a surface where distances become larger and larger as you approach the boundary (the x-axis). The "straight" paths curve upward to avoid the high-cost region near the boundary. These curved paths are the non-Euclidean lines.'})]}),i.jsx(NZ,{className:"my-6"}),i.jsx("h3",{children:"Distance to the Boundary"}),i.jsx("p",{children:'An important feature of hyperbolic geometry is that the boundary is "infinitely far away."'}),i.jsxs(ue,{title:"Boundary at Infinity",children:[i.jsxs("p",{children:["For any point P in the upper half plane and any point A on the boundary   ","{","","}",":"]}),i.jsx(Y,{children:"\\text{ndist}(P, A) = \\infty"}),i.jsx("p",{className:"mt-2",children:"The boundary is at infinite hyperbolic distance from every interior point."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Intuition"}),i.jsx("p",{className:"text-slate-300",children:'On the imaginary axis, as we move from pi toward the origin (p  0), the hyperbolic distance grows without bound: ndist(pi, i) = log(p/)   as   0. This makes the x-axis "unreachable" in finite hyperbolic time.'})]}),i.jsx("h3",{children:"The Hyperbolic Length Element"}),i.jsx("p",{children:"The distance formula can be expressed using a Riemannian metric:"}),i.jsxs(xe,{title:"Hyperbolic Metric",children:[i.jsxs("p",{children:["The ",i.jsx("strong",{children:"hyperbolic line element"})," at point z = x + iy is:"]}),i.jsx(Y,{children:"ds = \\frac{|dz|}{y} = \\frac{\\sqrt{dx^2 + dy^2}}{y}"}),i.jsx("p",{className:"mt-2",children:"The hyperbolic distance between two points is the infimum of the hyperbolic lengths of paths connecting them."})]}),i.jsx("p",{children:'This formula shows that distances are measured in units of "height above the x-axis." Near the x-axis (small y), even small Euclidean movements correspond to large hyperbolic distances.'}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.6.1"}),i.jsx("p",{className:"text-slate-300",children:"Calculate the non-Euclidean distance from i to 10i."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.6.2"}),i.jsx("p",{className:"text-slate-300",children:"Show that ndist(pi, qi) + ndist(qi, ri) = ndist(pi, ri) when p < q < r."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.6.3"}),i.jsx("p",{className:"text-slate-300",children:"Find the hyperbolic length of the arc from i to 1 + i along the semicircle centered at 1/2 with radius (5)/2."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.6.4"}),i.jsx("p",{className:"text-slate-300",children:"Verify that z  2z preserves hyperbolic distance using the metric ds = |dz|/y."})]}),i.jsx(Re,{sectionId:62,questions:Xe[62]||[],title:"Non-Euclidean Distance Quiz"})]})}function RZ(){return i.jsxs(qe,{sectionId:63,children:[i.jsx("h2",{children:"Non-Euclidean Translations and Rotations"}),i.jsxs("p",{children:["In Euclidean geometry, the orientation-preserving isometries are translations and rotations. Hyperbolic geometry has analogous transformations, but they behave quite differently. In addition, hyperbolic geometry has a third type called ",i.jsx("strong",{children:"limit rotations"}),"or ",i.jsx("strong",{children:"parabolic transformations"}),"."]}),i.jsx("h3",{children:"Classification of Mbius Transformations"}),i.jsxs("p",{children:["Every orientation-preserving Mbius transformation f(z) = (az + b)/(cz + d) can be classified by its fixed points on   ","{","","}","."]}),i.jsxs(xe,{title:"Types of Mbius Transformations",children:[i.jsx("p",{children:"An orientation-preserving Mbius transformation is:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-2",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Hyperbolic (translation)"})," if it has two fixed points on   ","{","","}"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Elliptic (rotation)"})," if it has one fixed point in the upper half plane (and its conjugate below)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Parabolic (limit rotation)"})," if it has exactly one fixed point, on   ","{","","}"]})]})]}),i.jsx("h3",{children:"Hyperbolic Translations"}),i.jsx("p",{children:"A hyperbolic translation moves points along a non-Euclidean line, just as a Euclidean translation moves points along a straight line."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Example: z  kz"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"The transformation z  kz (for k > 1) is a hyperbolic translation along the imaginary axis."}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-300",children:[i.jsx("li",{children:"Fixed points: 0 and  (both on the boundary)"}),i.jsx("li",{children:'The imaginary axis is the "axis" of the translation'}),i.jsx("li",{children:"Points are moved away from 0 toward "}),i.jsx("li",{children:"The translation distance is log k"})]})]}),i.jsx(ue,{title:"Axes of Translations",children:i.jsxs("p",{children:["Every hyperbolic translation has an ",i.jsx("strong",{children:"axis"}),": the unique non-Euclidean line connecting its two fixed points. Points on the axis are moved along the axis. Points off the axis move along curves called",i.jsx("strong",{children:" hypercycles"})," (equidistant curves from the axis)."]})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"General Hyperbolic Translation"}),i.jsx("p",{className:"text-slate-300",children:"A hyperbolic translation with axis L (connecting points a and b on the boundary) and translation distance d can be written as:"}),i.jsx(Y,{children:"f(z) = \\frac{e^d(z-a) - e^{-d}(z-b)\\cdot k}{(z-a) - (z-b)\\cdot k}"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"for appropriate constants. The key property is that f moves each point on L by hyperbolic distance d along L."})]}),i.jsx("h3",{children:"Elliptic Rotations"}),i.jsx("p",{children:"An elliptic transformation (hyperbolic rotation) has a fixed point in the upper half plane and rotates other points around it."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Example: Rotation about i"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"The transformation"}),i.jsx(Y,{children:"f(z) = \\frac{z\\cos\\theta - \\sin\\theta}{z\\sin\\theta + \\cos\\theta}"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"is a rotation by angle 2 about the point i. This can be verified by checking that f(i) = i."})]}),i.jsx(ue,{title:"Hyperbolic Circles",children:i.jsxs("p",{children:["Under a hyperbolic rotation about center P, points move along",i.jsx("strong",{children:" hyperbolic circles"})," centered at P. A hyperbolic circle looks like a Euclidean circle, but its Euclidean center is generally not at P."]})}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Angle Preservation:"})," Since Mbius transformations are conformal, the angle of rotation is well-defined: it equals the Euclidean angle of rotation at the fixed point."]}),i.jsx("h3",{children:"Parabolic Transformations (Limit Rotations)"}),i.jsx("p",{children:'The third type of isometry is unique to hyperbolic geometry. It has a single fixed point on the boundary and can be thought of as a "rotation about a point at infinity."'}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Example: z  z + 1"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"The horizontal translation z  z + 1 is a parabolic transformation."}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-slate-300",children:[i.jsx("li",{children:"Fixed point: only "}),i.jsx("li",{children:"Points move along horocycles (horizontal lines y = c)"}),i.jsx("li",{children:"No axis connects to a second fixed point"})]})]}),i.jsxs(xe,{title:"Horocycles",children:[i.jsxs("p",{children:["A ",i.jsx("strong",{children:"horocycle"})," is a curve in the hyperbolic plane that is tangent to the boundary at a single point. In the upper half plane model:"]}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"Horocycles tangent to  are horizontal lines y = c"}),i.jsx("li",{children:"Horocycles tangent to a point a   are circles tangent to  at a (lying entirely in the upper half plane)"})]})]}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Neither Circles nor Lines:"})," Horocycles are neither hyperbolic circles (which have a center in the interior) nor hyperbolic lines (which meet the boundary at two points or one point orthogonally). They are a third type of curve unique to hyperbolic geometry."]}),i.jsx("h3",{children:"Comparison with Euclidean Geometry"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("table",{className:"w-full text-slate-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-600",children:[i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Euclidean"}),i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Hyperbolic"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Translation along a line"}),i.jsx("td",{className:"py-2",children:"Hyperbolic translation along a geodesic"})]}),i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Rotation about a point"}),i.jsx("td",{className:"py-2",children:"Elliptic transformation (rotation about interior point)"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-2",children:""}),i.jsx("td",{className:"py-2",children:"Parabolic transformation (no Euclidean analogue)"})]})]})]})}),i.jsx(AZ,{className:"my-6"}),i.jsx("h3",{children:"The Trace Criterion"}),i.jsx("p",{children:"There's an elegant algebraic way to classify Mbius transformations."}),i.jsxs(ue,{title:"Classification by Trace",children:[i.jsx("p",{children:"For f(z) = (az + b)/(cz + d) with ad - bc = 1, let  = a + d (the trace). Then:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"|| > 2: hyperbolic (translation)"}),i.jsx("li",{children:"|| < 2: elliptic (rotation)"}),i.jsx("li",{children:"|| = 2: parabolic (limit rotation)"})]})]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.7.1"}),i.jsx("p",{className:"text-slate-300",children:"Verify that z  2z has fixed points 0 and , making it a hyperbolic translation."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.7.2"}),i.jsx("p",{className:"text-slate-300",children:"Show that z  z + 1 has only one fixed point (), making it parabolic."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.7.3"}),i.jsx("p",{className:"text-slate-300",children:"Find the fixed points of f(z) = (z cos  - sin )/(z sin  + cos ) and verify that i is fixed."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.7.4"}),i.jsx("p",{className:"text-slate-300",children:"Show that horizontal lines y = c are horocycles by verifying they are orthogonal to all vertical non-Euclidean lines."})]}),i.jsx(Re,{sectionId:63,questions:Xe[63]||[],title:"Non-Euclidean Translations and Rotations Quiz"})]})}function _Z(){return i.jsxs(qe,{sectionId:64,children:[i.jsx("h2",{children:"Three Reflections or Two Involutions"}),i.jsxs("p",{children:[`In Euclidean geometry, we proved the "three reflections theorem": every isometry is a composition of at most three reflections. The same theorem holds in hyperbolic geometry, and there's an elegant related result involving `,i.jsx("strong",{children:"involutions"}),"."]}),i.jsx("h3",{children:"The Three Reflections Theorem"}),i.jsx(ue,{title:"Three Reflections Theorem (Hyperbolic)",children:i.jsx("p",{children:"Every Mbius transformation of the upper half plane (orientation-preserving or orientation-reversing) is a composition of at most three reflections in non-Euclidean lines."})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"The Count"}),i.jsxs("ul",{className:"list-disc list-inside space-y-2 text-slate-300",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"One reflection:"})," Orientation-reversing, fixes a line"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Two reflections:"})," Orientation-preserving (translation, rotation, or limit rotation)"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Three reflections:"})," Orientation-reversing, no fixed line (glide reflection)"]})]})]}),i.jsx("h3",{children:"Involutions"}),i.jsx("p",{children:"An involution is a transformation that is its own inverse  applying it twice returns to the original."}),i.jsx(xe,{title:"Involution",children:i.jsxs("p",{children:["A transformation f is an ",i.jsx("strong",{children:"involution"})," if f  f = id, that is, f(f(z)) = z for all z."]})}),i.jsx("p",{children:"Every reflection is an involution. But there are orientation-preserving involutions as well."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Half-Turns"}),i.jsxs("p",{className:"text-slate-300 mb-2",children:["A ",i.jsx("strong",{children:"half-turn"})," (rotation by , or 180) is an orientation-preserving involution. For example:"]}),i.jsx(Y,{children:"f(z) = \\frac{-z + 2i}{1} = -z + 2i"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"is a half-turn about the point i. Applying it twice gives f(f(z)) = -(-z + 2i) + 2i = z."})]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Fixed Points:"})," A reflection fixes every point on a line. A half-turn fixes a single point (its center). These are the two types of orientation-preserving involutions in hyperbolic geometry."]}),i.jsx("h3",{children:"The Two Involutions Theorem"}),i.jsx("p",{children:"There's a beautiful theorem stating that orientation-preserving Mbius transformations can always be decomposed into two involutions (either half-turns or compositions)."}),i.jsx(ue,{title:"Two Involutions Theorem",children:i.jsx("p",{children:"Every orientation-preserving Mbius transformation is a product of two involutions."})}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Case Analysis"}),i.jsxs("ul",{className:"list-disc list-inside space-y-3 text-slate-300",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Hyperbolic translation:"})," Product of two half-turns about points on the axis of translation"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Elliptic rotation:"})," Product of two half-turns, one at the center and one at an appropriate point"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Parabolic transformation:"})," Product of two half-turns about points on the same horocycle"]})]})]}),i.jsx("h3",{children:"Translations as Products of Half-Turns"}),i.jsx("p",{children:"Let's verify this for hyperbolic translations along the imaginary axis."}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Example"}),i.jsx("p",{className:"text-slate-300 mb-2",children:"Consider the translation z  kz for k > 1. Let P = i and P = k  i. The half-turn about i is h(z) = -z + 2i... actually, for the correct formula, the half-turn about Pi on the imaginary axis is:"}),i.jsx(Y,{children:"h_P(z) = \\frac{-P^2}{z}"}),i.jsx("p",{className:"text-slate-300 mt-2",children:"Then h  h(z) = h(-1/z) maps i to ki, giving the translation."})]}),i.jsx("h3",{children:"Connection to Projective Geometry"}),i.jsx("p",{children:"The two involutions theorem is related to the projective line. Recall that Mbius transformations are the transformations of P (the projective line). An involution on P swaps pairs of points, and any Mbius transformation can be written as a composition of two such swaps."}),i.jsxs(ue,{title:"Involutions on the Projective Line",children:[i.jsx("p",{children:"An involution on P either:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"Fixes two points (and swaps the rest in pairs), or"}),i.jsx("li",{children:"Has no fixed points (swaps all points in pairs)"})]}),i.jsx("p",{className:"mt-2",children:'The first type corresponds to half-turns, the second to certain "point-free" involutions.'})]}),i.jsx("h3",{children:"Generating the Isometry Group"}),i.jsx("p",{children:"These decomposition theorems show that the isometry group of the hyperbolic plane is generated by a simple class of transformations."}),i.jsxs(ue,{title:"Generators",children:[i.jsx("p",{children:"The group of all Mbius transformations of the upper half plane is generated by:"}),i.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[i.jsx("li",{children:"Reflections in non-Euclidean lines, or equivalently"}),i.jsx("li",{children:"Half-turns about points"})]})]}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Minimal Generators:"})," In fact, reflections in just two non-Euclidean lines that intersect at any angle generate a dense subgroup. If the angle is a rational multiple of , they generate a discrete (triangle) group."]}),i.jsx("h3",{children:"Comparison of Decomposition Theorems"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("table",{className:"w-full text-slate-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-600",children:[i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Theorem"}),i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Building Blocks"}),i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Maximum Count"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Three Reflections"}),i.jsx("td",{className:"py-2",children:"Reflections (orientation-reversing)"}),i.jsx("td",{className:"py-2",children:"3"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-2",children:"Two Involutions"}),i.jsx("td",{className:"py-2",children:"Involutions (incl. half-turns)"}),i.jsx("td",{className:"py-2",children:"2"})]})]})]})}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.8.1"}),i.jsx("p",{className:"text-slate-300",children:"Verify that the composition of two reflections in parallel non-Euclidean lines (lines with the same endpoint at infinity) is a parabolic transformation."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.8.2"}),i.jsx("p",{className:"text-slate-300",children:"Show that the composition of two reflections in intersecting non-Euclidean lines is an elliptic transformation (rotation) about their intersection point."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.8.3"}),i.jsx("p",{className:"text-slate-300",children:"Show that the half-turn about i is given by h(z) = -1/z, and verify that h(h(z)) = z."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.8.4"}),i.jsx("p",{className:"text-slate-300",children:"Express the translation z  z + 2 as a product of two half-turns."})]}),i.jsx(Re,{sectionId:64,questions:Xe[64]||[],title:"Three Reflections or Two Involutions Quiz"})]})}function qZ(){return i.jsxs(qe,{sectionId:65,children:[i.jsx("h2",{children:"Discussion"}),i.jsx("p",{children:"The discovery of non-Euclidean geometry in the 19th century was one of the most profound developments in the history of mathematics. For over two thousand years, Euclid's geometry was considered the absolute truth about physical space. The realization that alternative geometries exist fundamentally changed our understanding of mathematics, physics, and the nature of truth itself."}),i.jsx("h3",{children:"The Parallel Postulate Problem"}),i.jsx("p",{children:`Euclid's fifth postulate  the parallel postulate  had always seemed different from the other four. It was longer, more complicated, and less "self-evident."`}),i.jsx(xe,{title:"Euclid's Fifth Postulate",children:i.jsx("p",{children:"If a straight line falling on two straight lines makes the interior angles on the same side less than two right angles, the two straight lines, if produced indefinitely, meet on that side on which the angles are less than two right angles."})}),i.jsx("p",{children:"For centuries, mathematicians tried to prove this postulate from the other four, believing it was a theorem rather than an axiom. Their failure led to one of mathematics' greatest discoveries."}),i.jsx("h3",{children:"The Discovery of Non-Euclidean Geometry"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Key Figures"}),i.jsxs("ul",{className:"list-disc list-inside space-y-3 text-slate-300",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Girolamo Saccheri (1733):"})," Attempted to prove the parallel postulate by contradiction. He derived many theorems of hyperbolic geometry but couldn't accept the conclusion."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Carl Friedrich Gauss (c. 1816):"})," Developed non-Euclidean geometry privately but never published, fearing controversy."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Jnos Bolyai (1832):"}),` Published his discoveries in an appendix to his father's book, calling it "a new world created out of nothing."`]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Nikolai Lobachevsky (1829):"}),' Published independently in Russian, earning the name "the Copernicus of geometry."']})]})]}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Simultaneous Discovery:"})," Bolyai and Lobachevsky discovered non-Euclidean geometry independently around the same time. When Bolyai's father sent his son's work to Gauss, Gauss replied that he had already made these discoveries himself  a response that devastated the young Bolyai."]}),i.jsx("h3",{children:"Models of Hyperbolic Geometry"}),i.jsxs("p",{children:["The consistency of hyperbolic geometry was proven by constructing",i.jsx("strong",{children:" models"}),"  concrete mathematical objects where the hyperbolic axioms hold."]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Major Models"}),i.jsxs("table",{className:"w-full text-slate-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-600",children:[i.jsx("th",{className:"text-left py-2",children:"Model"}),i.jsx("th",{className:"text-left py-2",children:"Description"}),i.jsx("th",{className:"text-left py-2",children:"Creator"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Upper Half Plane"}),i.jsxs("td",{className:"py-2",children:[" = ","{","z : Im(z) > 0","}"]}),i.jsx("td",{className:"py-2",children:"Beltrami (1868)"})]}),i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Poincar Disk"}),i.jsx("td",{className:"py-2",children:"Open unit disk |z| < 1"}),i.jsx("td",{className:"py-2",children:"Beltrami/Poincar"})]}),i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Klein Disk"}),i.jsx("td",{className:"py-2",children:"Projective model in disk"}),i.jsx("td",{className:"py-2",children:"Klein (1871)"})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-2",children:"Hyperboloid"}),i.jsx("td",{className:"py-2",children:"Sheet of x + y - z = -1"}),i.jsx("td",{className:"py-2",children:"Minkowski"})]})]})]})]}),i.jsx("p",{children:'Our development used the upper half plane model. The existence of multiple models shows that "hyperbolic geometry" is a single abstract structure that can be realized in various concrete ways.'}),i.jsx("h3",{children:"Connections to Other Mathematics"}),i.jsx("p",{children:"Non-Euclidean geometry connects to many other areas of mathematics:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-3 text-slate-300",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Complex Analysis:"})," Mbius transformations are fundamental objects in complex analysis, and the hyperbolic plane is the natural setting for automorphic functions."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Group Theory:"})," The isometry group PSL(2,) of the hyperbolic plane is a fundamental Lie group with deep connections to representation theory."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Topology:"})," Most surfaces of negative Euler characteristic have hyperbolic structures. Understanding hyperbolic surfaces is key to the classification of surfaces."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Number Theory:"})," The modular group PSL(2,) acts on the hyperbolic plane, connecting hyperbolic geometry to modular forms and elliptic curves."]})]})}),i.jsx("h3",{children:"Physical Significance"}),i.jsx(ue,{title:"Einstein's General Relativity",children:i.jsx("p",{children:"In Einstein's theory of general relativity (1915), spacetime is curved, and its geometry is determined by the distribution of matter and energy. Non-Euclidean geometry is essential for understanding gravity."})}),i.jsx("p",{children:"The discovery that geometry could be non-Euclidean prepared the way for Einstein's revolutionary insight that physical space itself might not be Euclidean."}),i.jsxs(fe,{type:"warning",children:[i.jsx("strong",{children:"Spherical Geometry:"})," Besides hyperbolic geometry, there is another non-Euclidean geometry: spherical (or elliptic) geometry, where there are ",i.jsx("em",{children:"no"})," parallel lines. The surface of the Earth approximates this geometry, which is why meridians of longitude appear parallel at the equator but meet at the poles."]}),i.jsx("h3",{children:"The Three Constant-Curvature Geometries"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("table",{className:"w-full text-slate-300",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-slate-600",children:[i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Geometry"}),i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Curvature"}),i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Parallels"}),i.jsx("th",{className:"text-left py-2 text-blue-400",children:"Angle Sum"})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Spherical"}),i.jsx("td",{className:"py-2",children:"K > 0"}),i.jsx("td",{className:"py-2",children:"None"}),i.jsx("td",{className:"py-2",children:"> "})]}),i.jsxs("tr",{className:"border-b border-slate-700",children:[i.jsx("td",{className:"py-2",children:"Euclidean"}),i.jsx("td",{className:"py-2",children:"K = 0"}),i.jsx("td",{className:"py-2",children:"One"}),i.jsx("td",{className:"py-2",children:"= "})]}),i.jsxs("tr",{children:[i.jsx("td",{className:"py-2",children:"Hyperbolic"}),i.jsx("td",{className:"py-2",children:"K < 0"}),i.jsx("td",{className:"py-2",children:"Many"}),i.jsx("td",{className:"py-2",children:"< "})]})]})]})}),i.jsx("h3",{children:"The Four Pillars Revisited"}),i.jsx("p",{children:"We have now completed our journey through the four pillars of geometry. Let us reflect on how they connect:"}),i.jsx("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:i.jsxs("ul",{className:"list-disc list-inside space-y-3 text-slate-300",children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Euclidean constructions"})," showed what can be built with straightedge and compass, and led to the axiomatization of geometry."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Coordinates"})," connected geometry to algebra, enabling the analytic approach."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Vectors"})," provided the language of linear algebra, essential for higher-dimensional and abstract geometry."]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Projective geometry"})," unified parallel and intersecting lines, and its linear fractional transformations led naturally to non-Euclidean geometry."]})]})}),i.jsxs(fe,{type:"info",children:[i.jsx("strong",{children:"Klein's Erlangen Program:"})," Felix Klein's 1872 program proposed that each geometry is characterized by its group of transformations. Euclidean geometry studies invariants of the isometry group; affine geometry, the affine group; projective geometry, the projective group; and hyperbolic geometry, the group of Mbius transformations."]}),i.jsx("h3",{children:"Exercises"}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.9.1"}),i.jsx("p",{className:"text-slate-300",children:"Explain why Saccheri's attempt to prove the parallel postulate by contradiction failed to achieve its goal."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.9.2"}),i.jsx("p",{className:"text-slate-300",children:'In spherical geometry, every pair of "lines" (great circles) intersects in two points. How does this violate the Euclidean axiom that two points determine a unique line?'})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.9.3"}),i.jsx("p",{className:"text-slate-300",children:"Explain why the existence of a model proves that hyperbolic geometry is consistent (assuming Euclidean geometry is consistent)."})]}),i.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg my-6",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-3",children:"Exercise 8.9.4"}),i.jsx("p",{className:"text-slate-300",children:"Describe how the four pillars of geometry (constructions, coordinates, vectors, projective methods) each contributed to the development of non-Euclidean geometry."})]}),i.jsx(Re,{sectionId:65,questions:Xe[65]||[],title:"Discussion Quiz"})]})}const OZ={0:OY,1:UY,2:HY,3:VY,4:GY,5:WY,6:YY,7:XY,8:ZY,9:eX,10:tX,11:nX,12:iX,13:sX,14:rX,15:aX,16:fX,17:mX,18:pX,19:xX,20:gX,21:yX,22:bX,23:kX,24:MX,25:EX,26:CX,27:zX,28:DX,29:PX,30:IX,31:FX,32:UX,33:HX,34:VX,35:GX,36:WX,37:YX,38:XX,39:ZX,40:JX,41:eZ,42:tZ,43:nZ,44:iZ,45:sZ,46:rZ,47:aZ,48:mZ,49:pZ,50:xZ,51:gZ,52:yZ,53:bZ,54:vZ,55:jZ,56:wZ,57:EZ,58:CZ,59:zZ,60:DZ,61:PZ,62:IZ,63:RZ,64:_Z,65:qZ};function BZ({children:t}){const[e,n]=q.useState(!1);return i.jsxs("div",{className:"min-h-screen bg-dark-950",children:[i.jsx(xm,{sidebarOpen:e,onToggleSidebar:()=>n(!e)}),i.jsx(gm,{isOpen:e,onClose:()=>n(!1)}),i.jsx("main",{className:"pt-16 lg:pl-72",children:t})]})}function $Z(){return i.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-dark-100 mb-4",children:"Section Not Found"}),i.jsx("p",{className:"text-dark-400",children:"This section is not yet implemented."})]})})}function LZ(){return i.jsxs(i.Fragment,{children:[i.jsx(BZ,{children:i.jsxs(kC,{children:[i.jsx(kl,{path:"/",element:i.jsx(A6,{})}),wj.leaderboard,i.jsx(kl,{path:"/theorems",element:i.jsx(OW,{})}),i.jsx(kl,{path:"/interactive",element:i.jsx(BW,{})}),Object.entries(OZ).map(([t,e])=>i.jsx(kl,{path:`/section/${t}`,element:i.jsx(e,{})},t)),i.jsx(kl,{path:"/section/:id",element:i.jsx($Z,{})}),i.jsx(kl,{path:"*",element:i.jsx(A6,{})})]})}),i.jsx(MV,{})]})}function FZ(){return i.jsx(RC,{children:i.jsx(G$,{children:i.jsx(LZ,{})})})}_E.createRoot(document.getElementById("root")).render(i.jsx(q.StrictMode,{children:i.jsx(FZ,{})}));
